# -*- text -*-

#
# this makefile is specific to the Amiga system
# please check the settings for programs
#


# remember programs
MV = c:rename
RM = c:delete quiet
YACC = gnu:bison1.21/bison
%CC = bin:gcc -m68030
CC = bin:gcc
AR = bin:ar
RANLIB = bin:ranlib


# remember files
SOURCES = argmatch.c error.c getopt.c getopt1.c sighandle.c strippath.c stripslash.c yesno.c \
          getdate.y hostname.c fnmatch.c ftruncate.c mkdir.c rename.c regex.c strdup.c getwd.c alloca.c

OBJECTS = argmatch.o error.o getopt.o getopt1.o sighandle.o strippath.o stripslash.o yesno.o getdate.o

LIBS = libcvs.a


libcvs.a:       $(OBJECTS)
		$(AR) cr $@ $(OBJECTS)
		$(RANLIB) $@

getdate.c:      getdate.y
		$(YACC) -d -y -v getdate.y
		$(MV) y.tab.c getdate.c
		$(RM) y.output y.tab.h

argmatch.o:     argmatch.c
		$(CC) -c -o argmatch.o argmatch.c

error.o:        error.c
		$(CC) -c -o error.o error.c

getopt.o:       getopt.c
		$(CC) -c -o getopt.o getopt.c

getopt1.o:      getopt1.c
		$(CC) -c -o getopt1.o getopt1.c

sighandle.o:    sighandle.c
		$(CC) -c -o sighandle.o sighandle.c

strippath.o:    strippath.c
		$(CC) -c -o strippath.o strippath.c

stripslash.o:   stripslash.c
		$(CC) -c -o stripslash.o stripslash.c

yesno.o:        yesno.c
		$(CC) -c -o yesno.o yesno.c

getdate.o:      getdate.c
		$(CC) -c -o getdate.o getdate.c

hostname.o:     hostname.c
		$(CC) -c -o hostname.o hostname.c

fnmatch.o:      fnmatch.c
		$(CC) -c -o fnmatch.o fnmatch.c

ftruncate.o:    ftruncate.c
		$(CC) -c -o ftruncate.o ftruncate.c

mkdir.o:        mkdir.c
		$(CC) -c -o mkdir.o mkdir.c

rename.o:       rename.c
		$(CC) -c -o rename.o rename.c

regex.o:        regex.c
		$(CC) -c -o regex.o regex.c

strdup.o:       strdup.c
		$(CC) -c -o strdup.o strdup.c

getwd.o:        getwd.c
		$(CC) -c -o getwd.o getwd.c

alloca.o:       alloca.c
		$(CC) -c -o alloca.o alloca.c



.PHONY:
clean:
		-$(RM) $(OBJECTS) $(LIBS)

.PHONY:
cleanall:
		-$(RM) $(OBJECTS) $(LIBS)
