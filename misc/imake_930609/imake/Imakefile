/*
 * $XConsortium: Imakefile,v 1.13 91/04/15 17:58:26 rws Exp $
 * 
 * This is used to recreate imake.  Makefile.ini is used to generate imake
 * the first time.
 */

DEPLIBS = 
HEADERS = imakemdep.h 
CFFILES = $(HEADERS) *.rules *.tmpl site.def *.bac *.cf
CPP_PROGRAM = /gcc/compilers/amiga/2.3.3/cpp
INCLUDES = 
/* Amiga specials:
 * a) we don't have fork, but vfork works.
 * b) ksh has Problems with '"'. The default CPP is in imakemdep.h (step 4).
 */
DEFINES = -Dfork=vfork /* -DCPP_PROGRAM="$(CPP_PROGRAM)" */

#undef ImakeDependency
#define ImakeDependency(dummy) @@\
Makefile::  imake

SimpleProgramTarget(imake)

BuildIncludes($(HEADERS),config,..)

InstallMultipleDestFlags(install,$(CFFILES),$(CONFIGDIR),$(INSTDATFLAGS))

depend::

clean::
	$(RM) ccimake
