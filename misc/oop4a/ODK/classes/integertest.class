/*
                                   Testclass

                                  - Integer -

                 This software is part of the ODK distribution.

    (c) 2001-2002 Cyborg

    This software is provided as is. No warrenty of any kind.

    It`s free to use while it`s usage is private only. 

*/    

class integertest
{

    // define all needed objects , they will be constructed automaticly

    Object class system.integer              zahl
    Object class system.system               system
    Object class system.string               globalstring
    Object class com.amiga.system.doswrapper dos

    // the methode Main() is used by oopa to start a class coded program

    public Main()
     {
        // these variables are methode private ,the object too

        long res ret addr
        Object myString

        dos.printf("Start\n")
        zahl.set(103)
        res=zahl.add(99)

        // convert integer to String, you get a NEW String object
        // back and YOU have to destroy it.

        myString=zahl.toString()
        ret=globalstring.addString("Das Ergebnis lautet ")
        dos.printf("globalstringsize=%ld\n",ret)

        // should print 202202

        system.print(myString)
        system.println(myString)

        // add the StringObject to the end of another String
        // this does not destroy the added stringobject        

        ret=globalstring.addStringObject(myString)
        if ret=0
         {
           dos.printf("AddStringObject() klappte nicht\n")
         }

        // read out Stringsize after chaining some strings

        ret=globalstring.getSize()
        dos.printf("globalstringsize=%ld\n",ret)

        ret=globalstring.addString("\n")
        if ret=0
         {
           dos.printf("AddString(2) klappte nicht\n")
         }
        system.println(GlobalString)
        ret=globalstring.getSize()
        dos.printf("globalstringsize=%ld\n",ret)

        // remove LF/CR from end of String

        GlobalString.chomp()
        ret=globalstring.getSize()
        addr=globalstring.getAddr()
        dos.printf("<%s>\n",addr)
        dos.printf("result=%ld globalstringsize=%ld\n",res,ret)

        // remove trailing spaces & tabs from string

        GlobalString.trim()
        ret=globalstring.getSize()
        addr=globalstring.getAddr()
        dos.printf("globalstringsize=%ld\n",ret)

        dos.printf("<%s>\n",addr)
        del(myString)
     }
}
