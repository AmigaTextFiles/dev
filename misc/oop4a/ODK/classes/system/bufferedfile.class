
/*

                               - bufferedfile -

                 This software is part of the ODK distribution.

    (c) 2001-2002 Cyborg

    This software is provided as is. No warrenty of any kind.

    It`s free to use while it`s usage is private only. 

*/    


class bufferedfile extends system.file
{

    public Seekfile(long filehandle,long Offset,long Mode)
    {
    
      long pos
        
      dos.Flush(filehandle)
      pos=dos.Seek(filehandle,Offset,Mode)
      return pos
    
    }

    public Read(long Filehandle,long Buffer,long Bytes)
    {
      long anz
      
      anz=dos.FRead(Filehandle,Buffer,Bytes,1)
      return anz
    }

    public Write(long Filehandle,long Buffer,long Bytes)
    {
      long anz
      
      anz=dos.FWrite(Filehandle,Buffer,Bytes,1)
      return anz
    }

    public GetNextLine(long filehandle)
    {
      Object myString
      Object mem
      long Addr

      myString=new("system/String")
      mem=new("system/mem")
      mem.getMem(1024)
      Addr=mem.getAddr()
      dos.FGets(filehandle,Addr,1024)
      myString.addString(Addr)
      del(mem)
      return myString
    }


}
