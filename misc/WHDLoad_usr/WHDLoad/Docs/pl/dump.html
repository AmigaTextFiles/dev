<HTML>
<HEAD>
<TITLE>Pliki zrzutów</TITLE>
<meta name="DC.Language" content="pl">
<meta http-equiv="content-language" content="pl">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
<!-- $Id: dump.html 1.4 2004/02/22 20:33:41 wepl Exp wepl $ -->
</HEAD>
<BODY>
<h3>Pliki raportów i zrzutów WHDLoad</h3>
W celu u³atwienia ¶ledzenia b³êdów WHDLoad mo¿e tworzyæ ró¿ne pliki zrzutów i raportów.
<h4><a name="memory">Zrzuty pamiêci</a></h4>
Zrzutem pamiêci jest zapisanie do pliku ca³kowitej zawarto¶ci pamiêci
u¿ywanej przez zainstalowany program. Wielko¶æ pliku zrzutu zale¿y od
zainstalowanego programu (odpowiada warto¶ci ws_BaseMemSize w strukturze pliku
.slave). Zrzut pamiêci zostanie utworzony po naci¶niêciu klawisza
<a href="opt.html#DebugKey">DebugKey</a> lub, w przypadku wyst±pienia b³êdu i
naci¶niêciu przycisku CoreDump. Nazwa pliku zrzutu pamiêci to
&quot;.whdl_memory&quot;. Domy¶l± ¶cie¿k± jest &quot;PROGDIR:&quot;, ale mo¿na
to zmieniæ u¿ywaj±c opcji <a href="opt.html#CoreDumpPath">CoreDumpPath</a>.
Istniej±cy plik o takiej nazwie zawsze zostanie zast±piony. Je¶li
zainstalowany program u¿ywa dodatkowej pamiêci fast, zostanie to zapisane pod
nazw± &quot;.whdl_expmem&quot;.
<h4><a name="register">Zrzuty rejestrów</a></h4>
Zrzut rejestru zawiera ca³kowity status procesora (w³±czaj±c w to MMU), CIA
oraz rejestrów uk³adów specjalizowanych. Niektóre rejestry CIA i uk³adów
specjalizowanych nie mog± zostaæ odczytane, dlatego te¿ s± umieszczane w pliku
zrzutu, gdy jest w³±czony tryb <a href="opt.html#Snoop">Snoop</a>. Informacje
s± zapisywane w pliku ASCII z drobnymi wyszczególnieniami utworzonymi poprzez
sekwencje Esc (przy u¿yciu znaku rozpoczynaj±cego sekwencjê kontroln± (<i>ang.
CSI - Control Sequence Introducer</i>), dziesiêtnie 155). Do wy¶wietlania
zaleca siê u¿ywanie programu obs³uguj±cego sekwencje Esc (np. More, MuchMore,
MultiView, itp.). Nazwa pliku zrzutu rejestru to &quot;.whdl_register&quot;.
Domy¶l± ¶cie¿k± jest &quot;PROGDIR:&quot;, ale mo¿na to zmieniæ u¿ywaj±c opcji
<a href="opt.html#CoreDumpPath">CoreDumpPath</a>. Je¶li istnieje plik o takiej
nazwie, zrzut zosytanie do niego do³±czony - w przeciwnym razie zostanie
utworzony nowy plik.
<h4><a name="FileLog">Raporty dostêpu do plików</a></h4>
Je¶li zostanie u¿yta opcja <a href="opt.html#FileLog">FileLog</a>, to
ka¿da próba dostêpu do pliku bêdzie raportowana. Opcja ta mo¿e byæ u¿yteczna
do analizy operacji dyskowych przeprowadzanych przez zainstalowany program w
celu wyszukiwania b³êdów i dokonania optymalizacji. Nastêpuj±ce funkcje tworz±
wpisy w pliku raportu:
<ul>
<li>resload_DeleteFile
<li>resload_DiskLoad
<li>resload_Examine
<li>resload_ExNext
<li>resload_GetFileSize
<li>resload_GetFileSizeDec
<li>resload_ListFiles
<li>resload_LoadFile
<li>resload_LoadFileDecrunch
<li>resload_LoadFileOffset
<li>resload_SaveFile
<li>resload_SaveFileOffset
</ul>
Ka¿de odwo³anie do pliku przy u¿yciu jednej z powy¿szych funkcji tworzy jedn±
liniê wpisu w pliku raportu, linia okre¶la wywo³an± funkcjê, parametry oraz
rezultat jej dzia³ania. WHDLoad przechowuje wszystkie wpisy w wewnêtrznym
buforze. Bufor jest opró¿niany przy wyj¶ciu, lub, gdy nast±pi jego
przepe³nienie, podczas wywo³ania jednej z wymienionych funkcji. Informacje
zostan± zapisane w pliku ASCII, nazwa pliku raportu to
&quot;.whdl_filelog&quot;, domy¶l± ¶cie¿k± jest &quot;PROGDIR:&quot;, ale
mo¿na to zmieniæ u¿ywaj±c opcji <a href="opt.html#CoreDumpPath">CoreDumpPath</a>.
</BODY>
</HTML>
