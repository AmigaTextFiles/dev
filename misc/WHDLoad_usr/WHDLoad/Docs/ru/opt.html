<html>
<head>
  <title>Использование и Опции</title>
  <meta name="DC.Language" content="ru">
  <meta http-equiv="content-language" content="ru">
  <meta http-equiv="content-type"
 content="text/html; charset=windows-1251">
<!-- $Id: opt.html 1.10 2007/08/19 12:24:49 wepl Exp wepl $ -->
</head>
<body>
<h3>Работа с программой</h3>
<p>WHDLoad может быть запущен из командной строки
(CLI/Shell) или из Workbench. Параметры могут задаваться в
файле глобальной конфигурации и через аргументы
или Tooltypes. Как правило, необходимо использование
параметра <a href="#Slave">Slave</a>. Остальные параметры
устанавливаются по мере необходимости, в
зависимости от вашей конфигурации системы и
программы, запускаемой из WHDLoad. Когда WHDLoad запущен
из командной строки, то при выходе возвращаются
следующие коды возврата:
</p>
<ul>
  <li>0 - успешное выполнение;</li>
  <li>10 - ошибка, Slave-модуль не может быть выполнен из-за проблем,
выводится сообщение об ошибке;</li>
  <li>20 - фатальная ошибка, не достаточно свободной памяти;</li>
  <li>&gt; 100 - Slave-модуль был выполнен, возврат с кодом 100 +
TDREASON</li>
</ul>
<h3>Параметры и файл глобальной конфигурации</h3>
<p>Есть локальные и глобальные опции. Локальные
опции определяются как аргументы через CLI или как
ToolTypes, если запуск происходит из Workbench.<br>
Глобальный файл конфигурации находится в "<code>S:WHDLoad.prefs</code>".
Это обычный ASCII файл, содержащий по одному
параметру в каждой строке. Закомментированные и
пустые строки игнорируются. Комментарий - это
часть строки, начиная со знака "<code>;"</code> и до
конца текущей строки.<br>
Пример файла конфигурации содержится в пакете
WHDLoad ("<code><a href="../../S/WHDLoad.prefs">S/WHDLoad.prefs</a></code>").</p>
<h4>Список доступных параметров</h4>
<p>существует три типа параметров:
<table cellpadding="3">
  <tbody>
    <tr>
      <td valign="top">numerical:</td>
      <td>целое число;<br>
из CLI вы обязаны использовать только десятичное значение, а при
использовании в ToolType, допускается также использовать
шестнадцатеричное значение, которое должно начинаться со знака - "<code>$"</code></td>
    </tr>
    <tr>
      <td>string:</td>
      <td>строковое выражение</td>
    </tr>
    <tr>
      <td>switcher:</td>
      <td>опция будет активирована, если будет установлена (boolean)</td>
    </tr>
  </tbody>
</table>
</p>
<p>Колонка "Локальный" указывает на то, что опция может использоваться
в командной строке и как tooltype в иконке.
Колонка "Глобальный" указывает на то, что опция может быть использована
в глобальном файле конфигурации.
</p>
<p>Многие опции недоступны в <a href="cd32.html">WHDLoadCD32</a>.
Колонка CD&#179;&#178;
указывает на то, присутствует ли опция в этой специальной версии
WHDLoad.
<table border="1" cellpadding="3">
  <tbody>
    <tr>
      <th>Name of option</th>
      <th>Type</th>
      <th>Local</th>
      <th>Global</th>
      <th>CD&#179;&#178;</th>
      <th>Default value</th>
    </tr>
    <tr>
      <td><a href="#BranchCache">BranchCache</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#ButtonWait">ButtonWait</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#Cache">Cache</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#Chk">Chk</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#ChkBltHog">ChkBltHog</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#ChkBltSize">ChkBltSize</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#ChkBltWait">ChkBltWait</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#ChkColBst">ChkColBst</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#ChkCopCon">ChkCopCon</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#ChkInts">ChkInts</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#ChipNoCache">ChipNoCache</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#CoreDump">CoreDump</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#CoreDumpPath">CoreDumpPath</a></td>
      <td>string</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td>PROGDIR:</td>
    </tr>
    <tr>
      <td><a href="#Custom">Custom</a></td>
      <td>string</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td>""</td>
    </tr>
    <tr>
      <td><a href="#Custom">Custom1</a></td>
      <td>numerical</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td>0</td>
    </tr>
    <tr>
      <td><a href="#Custom">Custom2</a></td>
      <td>numerical</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td>0</td>
    </tr>
    <tr>
      <td><a href="#Custom">Custom3</a></td>
      <td>numerical</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td>0</td>
    </tr>
    <tr>
      <td><a href="#Custom">Custom4</a></td>
      <td>numerical</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td>0</td>
    </tr>
    <tr>
      <td><a href="#Custom">Custom5</a></td>
      <td>numerical</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td>0</td>
    </tr>
    <tr>
      <td><a href="#D">D</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#Data">Data</a></td>
      <td>string</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td>-</td>
    </tr>
    <tr>
      <td><a href="#DebugKey">DebugKey</a></td>
      <td>numerical</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td>-</td>
    </tr>
    <tr>
      <td><a href="#DCache">DCache</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#ExecuteCleanup">ExecuteCleanup</a></td>
      <td>string</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td>-</td>
    </tr>
    <tr>
      <td><a href="#ExecuteStartup">ExecuteStartup</a></td>
      <td>string</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td>-</td>
    </tr>
    <tr>
      <td><a href="#Expert">Expert</a></td>
      <td>switch</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#Exp">ExpChip</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#Exp">ExpLocal</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#Exp">Exp24Bit</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#FileLog">FileLog</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#FreezeKey">FreezeKey</a></td>
      <td>numerical</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td>-</td>
    </tr>
    <tr>
      <td><a href="#MMU">MMU</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#NoAutoVec">NoAutoVec</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#NoCache">NoCache</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#NoFileCache">NoFileCache</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#NoFilter">NoFilter</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#NoMemReverse">NoMemReverse</a></td>
      <td>switch</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#NoFlushMem">NoFlushMem</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#NoMMU">NoMMU</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#NoResInt">NoResInt</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#NoReq">NoReq</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#NoTrapHandler">NoTrapHandler</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#NoVBRMove">NoVBRMove</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#NoWriteCache">NoWriteCache</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#NTSC">NTSC</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#PAL">PAL</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#Preload">Preload</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
    </tr>
    <tr>
      <td><a href="#QuitKey">QuitKey</a></td>
      <td>numerical</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td>-</td>
    </tr>
    <tr>
      <td><a href="#ReadDelay">ReadDelay</a></td>
      <td>numerical</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td>0</td>
    </tr>
    <tr>
      <td><a href="#RestartKey">RestartKey</a></td>
      <td>numerical</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td>-</td>
    </tr>
    <tr>
      <td><a href="#ShowRegs">ShowRegs</a></td>
      <td>string</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td>SYS:Utilities/MultiView</td>
    </tr>
    <tr>
      <td><a href="#Slave">Slave</a></td>
      <td>string</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td>WHDLoad.Slave</td>
    </tr>
    <tr>
      <td><a href="#Snoop">Snoop</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#Snoop">SnoopAGA</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#Snoop">SnoopECS</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#Snoop">SnoopOCS</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#SplashDelay">SplashDelay</a></td>
      <td>numerical</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td>200</td>
    </tr>
    <tr>
      <td><a href="#StoreBuffer">StoreBuffer</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#SuperScalar">SuperScalar</a></td>
      <td>switch</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">-</td>
    </tr>
    <tr>
      <td><a href="#TimeOut">TimeOut</a></td>
      <td>numerical</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td align="center">x</td>
      <td>0</td>
    </tr>
    <tr>
      <td><a href="#WriteDelay">WriteDelay</a></td>
      <td>numerical</td>
      <td align="center">x</td>
      <td align="center">x</td>
      <td align="center">-</td>
      <td>150</td>
    </tr>
  </tbody>
</table>
</p>
<h4>Пример</h4>
<table cellpadding="3">
  <tbody>
    <tr>
      <td valign="top"><a name="optwb">Workbench:</a></td>
      <td><img src="../pic/wbopt.gif" alt="Workbench Options"
 height="113" width="354"></td>
    </tr>
    <tr>
      <td valign="top"><a name="optcli">CLI или Shell:</a></td>
      <td><tt>1&gt; WHDLoad SuperGame.slave Preload NTSC QuitKey=69
Custom1=1</tt></td>
    </tr>
  </tbody>
</table>
<h3>Описание параметров</h3>
<h4><a name="ButtonWait">ButtonWait</a>/S</h4>
<p>Этот параметр не используется непосредственно
программой WHDLoad, но может быть проверен
slave-модулем.<br>
Назначение этого параметра состоит в том, что
если он определён, то установленная программа
ждет нажатия кнопки, в то время, как
демонстрируется какая-то графика и/или
воспроизводится музыка (обычно делает это в
течение очень ограниченного промежутка времени
из-за долгой загрузки с жесткого диска /
оперативной памяти, сравнимой со скоростью
загрузки с дискеты).</p>
<h4><a name="BranchCache">BranchCache</a>/S</h4>
<p>Включает кэш ветвления (Branch Cache) на процессорах
68060. На других типах процессоров это не имеет
никакого эффекта. <br>
Также этот параметр не имеет никакого эффекта,
если также используется параметр <a href="#NoCache">NoCache/S</a>.
</p>
<h4><a name="Cache">Cache</a>/S</h4>
<p>Позволяет включать и отключать использование
кэша установленной программой. Если WHDLoad
использует диспетчер памяти, то Chip-память
помечается как кэшируемая Writethrough (неточно). <br>
Этот параметр не имеет никакого эффекта, если
также используется параметр <a href="#NoCache">NoCache/S</a>. </p>
<h4><a name="Chk">Chk</a>/S</h4>
<p>Этот параметр является быстрым способом
активации других параметров - <a href="#ChkBltSize">ChkBltSize/S</a>,
<a href="#ChkBltWait">ChkBltWait/S</a> и <a href="#ChkColBst">ChkColBst/S</a>.
</p>
<h4><a name="ChkBltHog">ChkBltHog</a>/S</h4>
<p>Включает постоянную&nbsp; проверку <code>не
выставлен ли бит <strong>blthog</strong></code> (<strong><code>bltpri</code></strong>)
в регистре <strong>custom.dmacon</strong>. Может
использоваться только совместно с одним из
параметров <a href="snoop.html">SnoopOCS / SnoopECS / SnoopAGA</a>. </p>
<h4><a name="ChkBltSize">ChkBltSize</a>/S</h4>
<p>Включает проверку правильно ли установленная
программа использует блиттер, чтобы только
действительные области памяти использовались
для работы блиттера. Может использоваться только
совместно с одним из параметров <a href="snoop.html">SnoopOCS /
SnoopECS / SnoopAGA</a>.</p>
<h4><a name="ChkBltWait">ChkBltWait</a>/S</h4>
<p>Включает проверку правильно ли установленная
программа ожидает конца работы блиттера перед
новым запуском blitter-а. Может использоваться
только совместно с одним из параметров <a href="snoop.html">SnoopOCS /
SnoopECS / SnoopAGA</a>.</p>
<h4><a name="ChkColBst">ChkColBst</a>/S</h4>
<p>Включает постоянную проверку установлен ли бит
цветности (<strong>color</strong>) в регистре<code> <strong>custom.bplcon0</strong></code>.
Может использоваться только совместно с одним из
параметров <a href="snoop.html">SnoopOCS / SnoopECS / SnoopAGA</a>.</p>
<h4><a name="ChkCopCon">ChkCopCon</a>/S</h4>
<p>Включает проверку того, что установленная
программа на включает доступ коппера к регистрам
DMA через изменение установок <strong><code>custom.copcon</code></strong>.
Может использоваться только совместно с одним из
параметров <a href="snoop.html">SnoopOCS / SnoopECS / SnoopAGA</a>.</p>
<h4>ChkInts/S</h4>
<p>Этот параметр проверяет при каждом прерывании
установлены ли для него соответствующая пара бит
в <strong><code>intreq</code></strong> и <strong><code>intena</code></strong>.
Если
нет, то установленная программа закончит работу
с соответствующим сообщением об ошибке. Эта
возможность позволяет легко обнаруживать
возможные проблемы с прерываниями на быстрых
машинах (68040/060) или неисправных аппаратных
средствах, которые создают нежелательные
прерывания. Этот параметр сделан, в связи с тем,
что условие может возникнуть если прерывания
отключены установками <strong><code>intena </code></strong>в то
самое время, когда происходит прерывание.</p>
<h4><a name="ChipNoCache">ChipNoCache</a>/S</h4>
<p>Выключает кэширование Chip-памяти (BaseMem). Эта
опция может использоваться на аппаратных
средствах , которые не позволяют кэширование
Chip-памяти (например, плата Blizzard PPC), во избежание
замедления скорости выполнения установленной
программы. См. также <cite><a href="cache.html#chipmem">Работа с
кэшем центрального процессора</a></cite>. </p>
<h4><a name="CoreDump">CoreDump</a>/S</h4>
<p>Если этот параметр установлен, то при каждом
выходе из установленной программы, WHDLoad создаёт <a href="dump.html">файл
дампа памяти</a>. Это может быть
полезно для отладочных целей или, например, для
того чтобы вытащить музыку в MOD-формате из этого
файла с дампом памяти. </p>
<h4><a name="CoreDumpPath">CoreDumpPath</a></h4>
<p>Определяет место сохранения файлов <a href="dump.html">дампа
памяти</a>, созданных программой WHDLoad. </p>
<h4><a name="Custom">Custom</a>/K, <a name="Custom1">Custom1</a>/K/N, <a
 name="Custom2">Custom2</a>/K/N,
<a name="Custom3">Custom3</a>/K/N, <a name="Custom4">Custom4</a>/K/N, <a
 name="Custom5">Custom5</a>/K/N</h4>
<p>Этот параметр непосредственно программой WHDLoad
не используется, но может быть проверен
slave-модулем для управления специфическими
возможностями установленной программы. <strong>Custom/K</strong>
может содержать строковую переменную, а <strong>Custom1-5/K</strong>
может содержать только целое число. За
конкретной информации относительно возможного
использования данных параметров, обращайтесь к
документации на конкретную установленную
программу.</p>
<h4><a name="D">D</a>/S</h4>
<p>Этот параметр очень полезен для отладки. Если
он установлен и если поддерживаемый программный
системный монитор (Hrt/TK) найден в памяти, то WHDLoad
эмулирует немаскируемое прерывание (NMI) перед
выполнением первой инструкции процессора,
содержавшейся в Slave-модуле. </p>
<h4><a name="Data">Data</a>/K</h4>
<p>Используя этот параметр можно задать путь к
каталогу, в который WHDLoad должен перейти для загрузки
данных установленной программы. Этот параметр
перезаписывает переменную <strong>ws_CurrentDir</strong>,
содержащуюся в Slave-модуле.</p>
<h4><a name="DCache">DCache</a>/S</h4>
<p>Позволяет включать кэш данных и кэш инструкций
для установленной программы. Если WHDLoad
использует MMU, то Chip-память помечается как
кэшируемая Writethrough (неточно). <br>
Этот параметр не имеет никакого эффекта, если
также используется параметр <a href="#NoCache">NoCache/S</a>. </p>
<h4><a name="DebugKey">DebugKey</a>/K/N</h4>
<p>Задает код клавиши <a href="rawkey.html">rawkey</a> чтобы
остановить программу для отладки (создаются <a href="dump.html">файлы
дампа памяти</a>, и происходит
выход). Параметр работает только если активен
режим <a href="#Expert">Expert</a> и VBR (Vector Base Register)
перемещен
программой WHDLoad (параметр <a href="#NoVBRMove">NoVBRMove/S</a> НЕ
установлен, а процессор не ниже 68010) или если slave-модуль
поддерживает это самостоятельно.</p>
<h4><a name="ExecuteCleanup">ExecuteCleanup</a></h4>
<p>С помощью данного параметра можно задать
команду, которая будет выполнена перед
завершением работы WHDLoad. </p>
<h4><a name="ExecuteStartup">ExecuteStartup</a></h4>
<p>С помощью данного параметра может быть
определена команда, которая будет выполнена при
запуске WHDLoad. Может использоваться для отключения
тех аппаратных средств или программ, которые
могут конфликтовать с программой WHDLoad, или для
остановки стека TCP/IP и других программ.</p>
<h4><a name="Expert">Expert</a>/S</h4>
<p>Включает режим эксперта при использования WHDLoad.
В настоящее время этот параметр влияет на
параметр <a href="#DebugKey">DebugKey/S</a> и вывод
предупреждений во время переключения между
установленной программой и OS (color cycle copper screens -
когда экран разделён на 3 горизонтальных
прямоугольника, средний из которых постоянно
меняет цвета, используя всю доступную палитру).
Если режим эксперта НЕ активен, то параметр <a href="#DebugKey">DebugKey/S</a>
тоже будет недоступен. Также в
режиме эксперта в некоторых окнах с сообщениями
об ошибках появляется дополнительная кнопка. Эта
кнопка, называющаяся <a href="#ShowRegs"><i>Show Regs</i></a>,
позволяет просматривать регистры и информацию о
статусе, подобно тому, как пишется в <a href="../en/dump.html#register">дамп
регистров</a>.</p>
<h4><a name="Exp">Exp</a>Chip/S, <a name="ExpLocal">ExpLocal</a>/S, <a
 name="Exp24Bit">Exp24Bit</a>/S</h4>
<p>Если установленная программа использует
дополнительную память (ws_ExpMem), то эти параметры могут
быть использованы для того, чтобы заставить WHDLoad
резервировать эту память соответственно в Chip-памяти,
Local-памяти или 24BitDma-памяти.В результате это может
привести снижению скорости выполнения программы,
поскольку доступ центрального процессора к этой
памяти может быть медленнее по сравнению к
скорости доступа к Fast-памяти, используемой по
умолчанию. Вы можете использовать сторонние
утилиты (например, SysInfo, GvpInfo,...) чтобы узнать
конфигурацию вашей памяти, а также какими
характеристиками обладает каждый тип памяти.<br>
В общем, эти опции предназначены для решения
проблем совместимости установленных программ на
быстрых машинах, замедляя их выполнение за счёт
использования медленной памяти.</p>
<h4><a name="FileLog">FileLog</a>/S</h4>
<p>Этот параметр служит только для отладочных
целей.<br>
За подробностями обращайтесь к разделу&nbsp; <cite><a
 href="dump.html#FileLog">Дампы памяти и файлы журналов
регистрации</a></cite>.</p>
<h4><a name="FreezeKey">FreezeKey</a>/K/N</h4>
<p>Если Вы используете один из поддерживаемых
программных системных мониторов (HrtMon или Thrillkill),
Вы можете использовать этот параметр для
назначения кода клавиши <a href="rawkey.html">rawkey</a>, при
нажатии на которую, WHDLOAD переключится в системный
монитор. Работает, если только VBR перемещен
программой WHDLoad (НЕ должен быть активен параметр <a
 href="#NoVBRMove">NoVBRMove/S</a> и центральный процессор
должен быть не менее 68010), а системный монитор
должен быть запущен.
За детальной информацией обращайтесь к главе <a href="freezer.html">Системные
мониторы</a>.</p>
<h4><a name="MMU">MMU</a>/S</h4>
<p>Этот параметр должен использоваться только на
процессорах 68030, для того, чтобы позволить им
использовать возможности MMU (<a href="mmu.html#mem">защита
памяти</a>, улучшенная опция <a href="mmu.html#cache">управление
кэшем</a>, <a href="snoop.html">Snooping</a>, <a
 href="../../Autodoc/whdload.doc">resload_Protect
*?</a>). На процессорах 68040/060 эта опция не имеет
никакого эффекта, потому что диспетчер памяти и
так будет использоваться по умолчанию. Рекомендуется
устанавливать эту параметр в глобальном файле
конфигурации на всех системах, имеющих CPU 68030 c MMU (т.е.&nbsp;не
68EC030), потому что это значительно увеличивает
стабильность и безопасность системы. Этот
параметр не имеет никакого эффекта, если также
используется параметр <a href="#NoMMU">NoMMU/S</a>.</p>
<h4><a name="NoAutoVec">NoAutoVec</a>/S</h4>
<p>Если установлен этот параметр, то WHDLoad не будет
выходить, если внезапно возникнет автовекторное
прерывание или немаскируемое прерывание (NMI)
(векторы #25-31 / $64-$7c). Этот параметр может
использоваться для предотвращения выхода
программы WHDLoad на системах, которые создают
случайные прерывания (хотя, лучше всего просто
удалить из системы глючное "железо"). </p>
<h4><a name="NoCache">NoCache</a>/S</h4>
<p>Если этот параметр ВКЛЮЧЕН, то все <a href="cache.html">кэши</a>
будут ВЫКЛЮЧЕНЫ. <br>
Этот параметр аннулирует следующие параметры:&nbsp;<a
 href="#BranchCache">BranchCache/S</a>, <a href="#Cache">Cache/S</a>, <a
 href="#DCache">DCache/S</a>,
<a href="#StoreBuffer">StoreBuffer/S</a> и <a href="#SuperScalar">SuperScalar/S</a>.</p>
<h4><a name="NoFileCache">NoFileCache</a>/S</h4>
<p>Отключает кэширование файлов в WHDLoad и вынуждает
его обращаться к OS для каждой дисковой операции,
установленной программы.<br>
Этот параметр отключает параметр <a href="#Preload">Preload/S</a>.
</p>
<h4><a name="NoFilter">NoFilter</a>/S</h4>
<p>Отключает звуковой фильтр. Обратите внимание,
что этот параметр затрагивает инициализацию
фильтра только при запуске, так что эта функция
бессильна, если установленная программа сама
манипулирует состоянием звукового фильтра.</p>
<h4><a name="NoFlushMem">NoFlushMem</a>/S</h4>
<p>Обычно WHDLoad очищает память при запуске, чтобы
получить как можно больше свободной памяти для
опции <a href="#Preload">Preload/S</a>, т.е. из памяти удаляются
все незадействованные ресурсы системы, такие как
библиотеки, шрифты и т.д. При использование же этого
параметра, WHDLoad не будет очищать память. Может
использоваться на системах с большим
количеством свободной памяти, избегая тем самым перезагрузку
резидентных программ
тем самым улучшая работоспособность системы.</p>
<a name="NoMemReverse"></a>
<h4>NoMemReverse/S</h4>
Если эта опция установлена то
WHDLoad не будет резервировать память используя флаг MEM_REVERSE. Это
связано с тем что были проблемы вызванные этим флагом на некоторых
конфигурациях (использование расширителя памяти в PCMCIA слоте на
A600/A1200 как фаст памяти, конфигурации с акселератором M-Tec 1230/8
MB OS3.0). И причина проблемы пока не известна. Эта опция может помочь
если часть верхней памяти испорчена , потому как WHDLoad будет
использовать память в нижних адресах сначала. И если у вас происходят
какието странные ошибки, то эта опция возможно сможет помочь исправить
их.<br>
Эта опция реализована в версии WHDLoad v16.8.
<h4>NoReq/S</h4>
<p>Может использоваться только если WHDLoad был
запущен из командной строки (CLI/Shell). При запуске
из Workbench, эта опция не имеет никакого эффекта.
Данный параметр отключает в WHDLoad вывод сообщений
в новое отдельное окно, а сообщения будут
выводиться в том же командном окне, откуда был
запущен WHDLoad.</p>
<h4><a name="NoMMU">NoMMU</a>/S</h4>
<p>Если этот параметр установлен, WHDLOAD не будет
использовать диспетчер памяти. Это - критическая
и опасная опция, рекомендованная только для
тестирования или отладки, а не для нормального
использования. За дополнительной информацией
обращайтесь к разделу <a href="mmu.html#usercontrol">WHDLoad и
диспетчер памяти (MMU)</a>. Этот параметр подавляет
параметр <a href="#MMU">MMU/S</a>. </p>
<a name="NoReq"></a>
<h4>NoReq/S</h4>
Эта опция может быть использована только в случае,
если используется при запуске WHDLoad из командной строки (CLI/Shell).
При запуске из Workbench, она не имеет смысла. Опция вынуждает WHDLoad
не показывать запросы
в новом окне, а выводить их в то консольное окно, где был запущен
WHDLoad.
<a name="NoResInt"></a>
<h4>NoResInt/S</h4>
Эта опция отключает прерывания
во время выполнения функций resload. Обычно, во время выполнения
функций resload,
прерывания разрешены.
Прерывания могут проигрывать звуки, обновлять экран или делать другую
важную работу.
Их отключение пожет привести к искажению изображения/звука или же
другим неприятным последствиям.
Но некоторые прерывания могут разрушить области внутренних данных
WHDLoad,
что как правило ведет к вылету WHDLoad и скорее всего к полному падению
всей операционной системы.
Эта опция может использоваться для определения проблем такого типа.
Если инсталятор ведет себя странно или вешает WHDLoad без этой опции,
но отлично работает когда эта опция активна,
то скорее всего проблемы как раз с прерываниями и в этом случае,
инсталятор нуждается в правке.
<h4><a name="NoTrapHandler">NoTrapHandler</a>/S</h4>
<p>Если этот параметр определён, то WHDLoad будет
использовать оригинальную таблицу векторов
таблицу из OS, которая является активной при
старте WHDLoad. При запуске, WHDLoad копирует таблицу
векторов системы вместо того, чтобы создать свою
собственную. Это бывает полезно для отладочных
целей, но не для нормальной работы.
Предупреждение: если обработчик исключительных
ситуаций, вызываемый через оригинальную таблицу
векторов, попытается вызвать любую функцию OS или
пробует использовать структуры данных OS, то это
приведет к краху системы (например, exec.Alert). </p>
<h4><a name="NoVBRMove">NoVBRMove</a>/S</h4>
<p>По умолчанию WHDLoad перемещает таблицу векторов в
другую область памяти, начиная с $0, используя VBR (Vector
base Register). Это имеет преимущество, т.к.
установленная программа, не может изменить
таблицу векторов, что намного увеличивает безопасность
и стабильность программы WHDLoad. Некоторые
установленные программы / slave-модули не будут
правильно работать с перемещенным VBR. Причина
этого состоит в том, что установленная программа
может сделать обращение, которое не
поддерживается перемещенным VBR, либо автор патча
был слишком тупым, чтобы поддержать перемещенный
VBR. В таком случае, эта опция обязана быть
активирована для того, чтобы препятствовать WHDLoad
перемещать VBR. <br>
Другая возможность перемещенного VBR это то, что
WHDLoad может проверить клавиатуру каждый раз, когда
происходит автовекторное прерывание. С помощью
такой проверки WHDLoad способен выйти из
&nbsp;установленной программы независимо от работы
установленной программы / slave-модуля, если были
нажаты <a href="#QuitKey">QuitKey/S</a> или <a href="#DebugKey">DebugKey/S</a>
(также установленная программа может быть
прервана, когда нажата <a href="#FreezeKey">FreezeKey/S</a>).<br>
Для возможности перемещения VBR требуется
процессор не ниже 68010. На процессоре 68000 эта опция
не имеет никакого эффекта, потому что VBR - всегда
находится в $0 и не может быть перемещен.</p>
<h4><a name="NoWriteCache">NoWriteCache</a>/S</h4>
<p>Отключает для WHDLoad возможность&nbsp; кэширования
диска для операций записи. Без этого параметра
WHDLoad будет сам пытаться кэшировать в памяти все
операции записи и откладывать запись до выхода
из программы, чтобы избежать ненужных обращений
к операционной системе. </p>
<h4><a name="NTSC">NTSC</a>/S</h4>
<p>Если выбран этот параметр, то WHDLoad для
установленной программы будет использовать
режим NTSC (60Hz). На PAL-версии Амиги, драйвер NTSC-монитора
должен быть установлен в "<code>DEVS:Monitors/</code>".&nbsp;</p>
<h4><a name="PAL">PAL</a>/S</h4>
<p>Если выбран этот параметр, то WHDLoad для
установленной программы будет использовать
режим PAL (50Hz). На NTSC-версии Амиги, драйвер PAL-монитора
должен быть установлен в "<code>DEVS:Monitors/</code>".</p>
<h4><a name="Preload">Preload</a>/S</h4>
<p>Если этот параметр включен, то WHDLoad загрузит в
память столько файлов и образов дискет, сколько
возможно (в зависимости от того, сколько памяти
было свободно при запуске). Это увеличивает
скорость выполнения загрузки/подгрузки файлов
установленной программы, потому что позволяет
избегать обращений к OS, для загрузки данных
непосредственно от жесткого диска. Этот параметр
желательно всегда устанавливать.</p>
<h4><a name="QuitKey">QuitKey</a>/K/N</h4>
<p>Назначает код клавиши <a href="rawkey.html">rawkey</a>, по
нажатию на которую произойдет выход из программы.
Работает, если только VBR перемещен программой
WHDLoad (НЕ должен быть активен параметр <a href="#NoVBRMove">NoVBRMove/S</a>,
а центральный процессор должен быть не менее 68010)
и сам slave-модуль должен это поддерживать.</p>
<h4><a name="ReadDelay">ReadDelay</a>/K/N</h4>
<p>Устанавливает, в значениях равных 1/50-й части
секунды, сколько времени WHDLoad должен ждать после
того, как он загрузил данные с дисков, а также
после того, как была завершена подгрузка. Это
решает проблемы с такими приводами (например,
приводы CD-ROM), которые еще что-то делают после
чтения (например, выключают мотор). </p>
<h4><a name="RestartKey">RestartKey</a>/K/N</h4>
<p>Используя этот параметр, Вы можете назначать <a href="rawkey.html">rawkey</a>
код клавиши, при нажатии на
которую, WHDLoad перезапустит установленную
программу. </p>
<h4>ShowRegs/K/N</h4>
<p>Этот параметр полезен только совместно с
параметром <a href="#Expert">Expert/S</a>.<br>
С помощью этого параметра можно задать в каком
виде WHDLoad будет показывать дамп состояния
регистров если будет нажата кнопка <i>Show Regs</i> в
окне сообщения об ошибке WHDLoad. WHDLoad будет
добавлять, к указанной командной строке, имя
временно сохраненного файла (в настоящее время <tt>T:.whdl_register</tt>).
</p>
<h4><a name="Slave">Slave</a></h4>
<p>Имя slave-модуля, который будет использоваться
программой WHDLoad. Slave-модуль содержит код
интерфейса, требуемый для связи между
установленной программой и WHDLoad. </p>
<h4><a name="Snoop">Snoop</a>/S, <a name="SnoopAGA">SnoopAGA</a>/S, <a
 name="SnoopECS">SnoopECS</a>/S,
<a name="SnoopOCS">SnoopOCS</a>/S</h4>
<p>Эти параметры активируют возможности <a href="snoop.html">Cia/Custom
register snoop</a> в WHDLoad.</p>
<h4><a name="SplashDelay">SplashDelay</a>/K/N</h4>
<p>Устанавливает, в значениях равных 1/50-й части
секунды, сколько времени при запуске WHDLoad будет
показывать информационное окно. Если <strong>SplashDelay/K/N</strong>
меньше чем <a href="#ReadDelay">ReadDelay/K/N</a>, то этот параметр
игнорируется, и окно показывается столько,
сколько указано в <a href="#ReadDelay">ReadDelay/K/N</a>. Окно
показывается, по крайней мере, в течение времени
работы функции <a href="#Preload">Preload/S</a>.<br>
Если параметр не установлен или имеет значение
равное 0, то никаких окон выводиться не будет.</p>
<h4><a name="StoreBuffer">StoreBuffer</a>/S</h4>
<p>Позволяет активировать Store Buffer на процессорах
68060. На других процессорах этот параметр не имеет
никакого эффекта.<br>
Также не имеет никакого эффекта, если установлен
параметр <a href="#NoCache">NoCache/S</a>. </p>
<h4><a name="SuperScalar">SuperScalar</a>/S</h4>
<p>Позволяет на процессорах 68060 выполнять
множество инструкций за один машинный цикл. На
других процессорах этот параметр не имеет
никакого эффекта.<br>
Также не имеет никакого эффекта, если установлен
параметр <a href="#NoCache">NoCache/S</a>.</p>
<h4><a name="TimeOut">TimeOut</a>/K/N</h4>
<p>Если этот параметр установлен, то это позволяет
WHDLoad и установленной программе завершать свою
работу через определенное время. Требуется,
чтобы параметр <a href="#NoVBRMove">NoVBRMove/S</a> НЕ был
установлен и чтобы установленная программа не
изменяла таймер <strong><code>ciaa.ciatod</code></strong>. Время
работы до выхода устанавливается, в значениях
равных 1/50-й части секунды. Для измерения времени
работы демо или игры&nbsp; нужно активировать
параметр <a href="#Expert">Expert/S</a> и задать параметр <a
 href="#DebugKey">DebugKey/K/N</a>, и в момент, когда вы захотите
выйти, нажмите горячую клавишу (DebugKey). После этого
загляните в созданный файл <a href="dump.html">.whdl-registers</a>,
и посмотрите значение <strong>ciaa-event</strong>. Если
частота питающей сети - 50 Гц, то это будет как раз
тем значением, которое Вы должны установить с <strong>TimeOut/K/N</strong>,
если же частота - 60 Гц, то следует умножить это
значение на 5/6.</p>
<h4><a name="WriteDelay">WriteDelay</a>/K/N</h4>
<p>Параметр времени ожидания после записи на диск.
Определяет, в значениях равных 1/50-й части
секунды, время, которое WHDLoad будет ожидать после
записи чего-либо на диск. Этот параметр
затрагивает функцию <a href="../../Autodoc/whdload.doc">resload_Save *?</a>
и возможности <a href="#FileLog">FileLog/S</a>. Эта функция
имеет смысл, потому что файловые системы обычно
не могут моментально записать данные на диск. Это
занимает некоторое время (1.. 3 секунды) пока все
структуры фйловой системы будут успешно
обновлены. Значение по умолчанию для функции
WriteDelay составляет 150, что позволяет WHDLoad ждать 3
секунды после того, как данные запишутся на
жесткий диск. Вы можете изменить значение&nbsp; на 0,
но тогда Вы никогда не должны выходить из
установленной программы по RESET'у сразу после
записи, потому что данные не будут правильно
записаны на диск.</p>
</body>
</html>
