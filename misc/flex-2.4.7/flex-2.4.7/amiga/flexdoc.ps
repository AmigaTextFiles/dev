%!PS-Adobe-3.0
%%Creator: groff version 1.07
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.07 0
%%Pages: 30
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.07 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll 
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72 def/PL
792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron/scaron/zcaron
/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/space
/exclam/quotedbl/numbersign/dollar/percent/ampersand/quoteright/parenleft
/parenright/asterisk/plus/comma/hyphen/period/slash/zero/one/two/three/four
/five/six/seven/eight/nine/colon/semicolon/less/equal/greater/question/at/A/B/C
/D/E/F/G/H/I/J/K/L/M/N/O/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash
/bracketright/circumflex/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q
/r/s/t/u/v/w/x/y/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase
/guillemotleft/guillemotright/bullet/florin/fraction/perthousand/dagger
/daggerdbl/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen/brokenbar
/section/dieresis/copyright/ordfeminine/guilsinglleft/logicalnot/minus
/registered/macron/degree/plusminus/twosuperior/threesuperior/acute/mu
/paragraph/periodcentered/cedilla/onesuperior/ordmasculine/guilsinglright
/onequarter/onehalf/threequarters/questiondown/Agrave/Aacute/Acircumflex/Atilde
/Adieresis/Aring/AE/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute
/Icircumflex/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn/germandbls
/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla/egrave/eacute
/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis/eth/ntilde/ograve
/oacute/ocircumflex/otilde/odieresis/divide/oslash/ugrave/uacute/ucircumflex
/udieresis/yacute/thorn/ydieresis]def/Times-Italic@0 ENC0/Times-Italic RE
/Times-Bold@0 ENC0/Times-Bold RE/Times-Roman@0 ENC0/Times-Roman RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R/F1 9
/Times-Bold@0 SF -.18(NA)72 84 S(ME).18 E F0<8d65>108 96 Q
(xdoc \255 documentation for \215e)-.15 E(x, f)-.15 E(ast le)-.1 E
(xical analyzer generator)-.15 E F1(SYNOPSIS)72 112.8 Q/F2 10/Times-Bold@0 SF
(\215ex [\255bcdfhilnpstvwBFIL)108 124.8 Q(TV78+ \255C[aefFmr] \255Ppr)-.92 E
(e\214x \255Ssk)-.18 E(eleton])-.1 E/F3 10/Times-Italic@0 SF([\214lename ...])
2.5 E F1(DESCRIPTION)72 141.6 Q F3<8d65>108 153.6 Q(x)-.2 E F0 1.258
(is a tool for generating)3.758 F F3(scanner)3.758 E(s:)-.1 E F0 1.257
(programs which recognized le)3.758 F 1.257(xical patterns in te)-.15 F(xt.)
-.15 E F3<8d65>6.257 E(x)-.2 E F0 1.257(reads the)3.757 F(gi)108 165.6 Q -.15
(ve)-.25 G 2.963(ni).15 G .463
(nput \214les, or its standard input if no \214le names are gi)135.563 165.6 R
-.15(ve)-.25 G .463(n, for a description of a scanner to generate.).15 F .151
(The description is in the form of pairs of re)108 177.6 R .151(gular e)-.15 F
.151(xpressions and C code, called)-.15 F F3 .151(rules. \215e)2.651 F(x)-.2 E
F0 .151(generates as out-)2.651 F .448(put a C source \214le,)108 189.6 R F2
(lex.yy)2.948 E(.c,)-.7 E F0 .448(which de\214nes a routine)2.948 F F2
(yylex\(\).)2.948 E F0 .449(This \214le is compiled and link)5.448 F .449
(ed with the)-.1 F F2<ad6c8d>2.949 E F0 .879(library to produce an e)108 201.6
R -.15(xe)-.15 G 3.378(cutable. When).15 F .878(the e)3.378 F -.15(xe)-.15 G
.878(cutable is run, it analyzes its input for occurrences of the).15 F(re)108
213.6 Q(gular e)-.15 E 2.5(xpressions. Whene)-.15 F -.15(ve)-.25 G 2.5(ri).15 G
2.5<748c>238.65 213.6 S(nds one, it e)249.49 213.6 Q -.15(xe)-.15 G
(cutes the corresponding C code.).15 E F1(SOME SIMPLE EXAMPLES)72 230.4 Q F0
.082(First some simple e)108 242.4 R .082(xamples to get the \215a)-.15 F -.2
(vo)-.2 G 2.582(ro).2 G 2.582(fh)292.546 242.4 S .582 -.25(ow o)303.458 242.4 T
.082(ne uses).25 F F3<8d65>2.582 E(x.)-.2 E F0 .082(The follo)5.082 F(wing)-.25
E F3<8d65>2.582 E(x)-.2 E F0 .083(input speci\214es a scan-)2.582 F
(ner which whene)108 254.4 Q -.15(ve)-.25 G 2.5(ri).15 G 2.5(te)193.96 254.4 S
(ncounters the string "username" will replace it with the user')203.68 254.4 Q
2.5(sl)-.55 G(ogin name:)455.14 254.4 Q(%%)118 278.4 Q 7.5(username printf\()
118 290.4 R("%s", getlogin\(\) \);)2.5 E .159(By def)108 314.4 R .159(ault, an)
-.1 F 2.659(yt)-.15 G -.15(ex)174.887 314.4 S 2.659(tn).15 G .158
(ot matched by a)194.616 314.4 R F3<8d65>2.658 E(x)-.2 E F0 .158
(scanner is copied to the output, so the net ef)2.658 F .158
(fect of this scanner is)-.25 F .363(to cop)108 326.4 R 2.863(yi)-.1 G .364
(ts input \214le to its output with each occurrence of "username" e)143.626
326.4 R 2.864(xpanded. In)-.15 F .364(this input, there is just)2.864 F .8
(one rule.)108 338.4 R .8("username" is the)5.8 F F3(pattern)3.3 E F0 .8
(and the "printf" is the)3.3 F F3(action.)3.299 E F0 .799
(The "%%" marks the be)5.799 F .799(ginning of the)-.15 F(rules.)108 350.4 Q
(Here')108 367.2 Q 2.5(sa)-.55 G(nother simple e)141.04 367.2 Q(xample:)-.15 E
(int num_lines = 0, num_chars = 0;)138 391.2 Q(%%)118 415.2 Q 12.5
(\\n ++num_lines;)118 427.2 R(++num_chars;)2.5 E 17.5(.+)118 439.2 S
(+num_chars;)143.64 439.2 Q(%%)118 463.2 Q(main\(\))118 475.2 Q({)138 487.2 Q
(yyle)138 499.2 Q(x\(\);)-.15 E
(printf\( "# of lines = %d, # of chars = %d\\n",)138 511.2 Q
(num_lines, num_chars \);)158 523.2 Q(})138 535.2 Q 1.009(This scanner counts \
the number of characters and the number of lines in its input \(it produces no\
 output)108 559.2 R 3.784(other than the \214nal report on the counts\).)108
571.2 R 3.784(The \214rst line declares tw)8.784 F 6.284(og)-.1 G 3.784
(lobals, "num_lines" and)436.772 571.2 R .596
("num_chars", which are accessible both inside)108 583.2 R F2(yylex\(\))3.096 E
F0 .596(and in the)3.096 F F2(main\(\))3.096 E F0 .596
(routine declared after the second)3.096 F 2.64("%%". There)108 595.2 R .14
(are tw)2.64 F 2.64(or)-.1 G .14(ules, one which matches a ne)202.14 595.2 R
.139(wline \("\\n"\) and increments both the line count and the)-.25 F 1.185
(character count, and one which matches an)108 607.2 R 3.685(yc)-.15 G 1.185
(haracter other than a ne)299.975 607.2 R 1.185
(wline \(indicated by the "." re)-.25 F(gular)-.15 E -.15(ex)108 619.2 S
(pression\).).15 E 2.5(As)108 636 S(ome)121.61 636 Q(what more complicated e)
-.25 E(xample:)-.15 E(/* scanner for a to)118 660 Q 2.5(yP)-.1 G(ascal-lik)
203.01 660 Q 2.5(el)-.1 G(anguage */)246.51 660 Q(%{)118 684 Q
(/* need this for the call to atof\(\) belo)118 696 Q 2.5(w*)-.25 G(/)279.11
696 Q(#include <math.h>)118 708 Q(%})118 720 Q -1.11(Ve)72 768 S(rsion 2.4)1.11
E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(1)535 768 Q EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R 7.5
(DIGIT [0-9])118 84 R 15(ID [a-z][a-z0-9]*)118 96 R(%%)118 120 Q 7.5
({DIGIT}+ {)118 144 R(printf\( "An inte)148 156 Q(ger: %s \(%d\)\\n", yyte)-.15
E(xt,)-.15 E(atoi\( yyte)168 168 Q(xt \) \);)-.15 E(})148 180 Q 17.5
({DIGIT}+"."{DIGIT}* {)118 204 R(printf\( "A \215oat: %s \(%g\)\\n", yyte)148
216 Q(xt,)-.15 E(atof\( yyte)168 228 Q(xt \) \);)-.15 E(})148 240 Q(if|then|be)
118 264 Q 17.5(gin|end|procedure|function {)-.15 F(printf\( "A k)148 276 Q -.15
(ey)-.1 G -.1(wo).15 G(rd: %s\\n", yyte).1 E(xt \);)-.15 E(})148 288 Q 17.5
({ID} printf\()118 312 R("An identi\214er: %s\\n", yyte)2.5 E(xt \);)-.15 E 5
("+"|"-"|"*"|"/" printf\()118 336 R("An operator: %s\\n", yyte)2.5 E(xt \);)
-.15 E 10("{"[^}\\n]*"}" /*)118 360 R(eat up one-line comments */)2.5 E 2.5
([\\)118 384 S 22.5(t\\n]+ /*)126.61 384 R(eat up whitespace */)2.5 E 27.5(.p)
118 408 S(rintf\( "Unrecognized character: %s\\n", yyte)153 408 Q(xt \);)-.15 E
(%%)118 432 Q(main\( ar)118 456 Q(gc, ar)-.18 E(gv \))-.18 E(int ar)118 468 Q
(gc;)-.18 E(char **ar)118 480 Q(gv;)-.18 E({)128 492 Q(++ar)128 504 Q(gv)-.18 E
2.5(,-)-.65 G(-ar)164.55 504 Q 2.5(gc; /*)-.18 F(skip o)2.5 E -.15(ve)-.15 G
2.5(rp).15 G(rogram name */)247.11 504 Q(if \( ar)128 516 Q(gc > 0 \))-.18 E
(yyin = fopen\( ar)148 528 Q(gv[0], "r" \);)-.18 E(else)128 540 Q
(yyin = stdin;)148 552 Q(yyle)128 576 Q(x\(\);)-.15 E(})128 588 Q .404
(This is the be)108 612 R .403(ginnings of a simple scanner for a language lik)
-.15 F 2.903(eP)-.1 G 2.903(ascal. It)365.742 612 R .403(identi\214es dif)2.903
F .403(ferent types of)-.25 F/F1 10/Times-Italic@0 SF(tok)2.903 E(ens)-.1 E F0
(and reports on what it has seen.)108 624 Q(The details of this e)108 640.8 Q
(xample will be e)-.15 E(xplained in the follo)-.15 E(wing sections.)-.25 E/F2
9/Times-Bold@0 SF(FORMA)72 657.6 Q 2.25(TO)-.855 G 2.25(FT)120.393 657.6 S
(HE INPUT FILE)134.145 657.6 Q F0(The)108 669.6 Q F1<8d65>2.5 E(x)-.2 E F0
(input \214le consists of three sections, separated by a line with just)2.5 E
/F3 10/Times-Bold@0 SF(%%)2.5 E F0(in it:)2.5 E(de\214nitions)118 693.6 Q(%%)
118 705.6 Q(rules)118 717.6 Q(%%)118 729.6 Q -1.11(Ve)72 768 S(rsion 2.4)1.11 E
(No)273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(2)535 768 Q EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R(user code)118
84 Q(The)108 108 Q/F1 10/Times-Italic@0 SF(de\214nitions)3.362 E F0 .862
(section contains declarations of simple)3.362 F F1(name)3.362 E F0 .863
(de\214nitions to simplify the scanner speci\214ca-)3.362 F
(tion, and declarations of)108 120 Q F1(start conditions,)2.5 E F0(which are e)
2.5 E(xplained in a later section.)-.15 E(Name de\214nitions ha)108 136.8 Q .3
-.15(ve t)-.2 H(he form:).15 E(name de\214nition)118 160.8 Q .102
(The "name" is a w)108 184.8 R .102(ord be)-.1 F .102
(ginning with a letter or an underscore \('_'\) follo)-.15 F .101
(wed by zero or more letters, digits,)-.25 F .283('_', or '-' \(dash\).)108
196.8 R .283(The de\214nition is tak)5.283 F .283(en to be)-.1 F .283
(gin at the \214rst non-white-space character follo)-.15 F .283(wing the name)
-.25 F .024(and continuing to the end of the line.)108 208.8 R .024
(The de\214nition can subsequently be referred to using "{name}", which)5.024 F
(will e)108 220.8 Q(xpand to "\(de\214nition\)".)-.15 E -.15(Fo)5 G 2.5(re).15
G(xample,)248.76 220.8 Q 7.5(DIGIT [0-9])118 244.8 R 15(ID [a-z][a-z0-9]*)118
256.8 R .678(de\214nes "DIGIT" to be a re)108 280.8 R .678(gular e)-.15 F .678
(xpression which matches a single digit, and "ID" to be a re)-.15 F .679
(gular e)-.15 F(xpres-)-.15 E(sion which matches a letter follo)108 292.8 Q
(wed by zero-or)-.25 E(-more letters-or)-.2 E 2.5(-digits. A)-.2 F
(subsequent reference to)2.5 E({DIGIT}+"."{DIGIT}*)118 316.8 Q(is identical to)
108 340.8 Q(\([0-9]\)+"."\([0-9]\)*)118 364.8 Q(and matches one-or)108 388.8 Q
(-more digits follo)-.2 E(wed by a '.)-.25 E 2.5('f)-.7 G(ollo)308.75 388.8 Q
(wed by zero-or)-.25 E(-more digits.)-.2 E(The)108 405.6 Q F1(rules)2.5 E F0
(section of the)2.5 E F1<8d65>2.5 E(x)-.2 E F0
(input contains a series of rules of the form:)2.5 E 5(pattern action)118 429.6
R(where the pattern must be unindented and the action must be)108 453.6 Q
(gin on the same line.)-.15 E(See belo)108 470.4 Q 2.5(wf)-.25 G
(or a further description of patterns and actions.)154.96 470.4 Q(Finally)108
487.2 Q 4.162(,t)-.65 G 1.662(he user code section is simply copied to)145.132
487.2 R/F2 10/Times-Bold@0 SF(lex.yy)4.162 E(.c)-.7 E F0 -.15(ve)4.162 G 4.162
(rbatim. It).15 F 1.662(is used for companion routines)4.162 F .283
(which call or are called by the scanner)108 499.2 R 5.283(.T)-.55 G .284
(he presence of this section is optional; if it is missing, the second)276.884
499.2 R F2(%%)108 511.2 Q F0(in the input \214le may be skipped, too.)2.5 E
.251(In the de\214nitions and rules sections, an)108 528 R(y)-.15 E F1
(indented)2.751 E F0(te)2.751 E .251(xt or te)-.15 F .25(xt enclosed in)-.15 F
F2(%{)2.75 E F0(and)2.75 E F2(%})2.75 E F0 .25(is copied v)2.75 F .25
(erbatim to)-.15 F(the output \(with the %{}')108 540 Q 2.5(sr)-.55 G(emo)
219.54 540 Q -.15(ve)-.15 G 2.5(d\). The).15 F(%{}')2.5 E 2.5(sm)-.55 G
(ust appear unindented on lines by themselv)314.66 540 Q(es.)-.15 E .803
(In the rules section, an)108 556.8 R 3.303(yi)-.15 G .804(ndented or %{} te)
212.405 556.8 R .804
(xt appearing before the \214rst rule may be used to declare v)-.15 F(ari-)-.25
E 1.563(ables which are local to the scanning routine and \(after the declarat\
ions\) code which is to be e)108 568.8 R -.15(xe)-.15 G(cuted).15 E(whene)108
580.8 Q -.15(ve)-.25 G 3.222(rt).15 G .722(he scanning routine is entered.)
152.472 580.8 R .723(Other indented or %{} te)5.723 F .723
(xt in the rule section is still copied to)-.15 F 1.048(the output, b)108 592.8
R 1.047(ut its meaning is not well-de\214ned and it may well cause compile-tim\
e errors \(this feature is)-.2 F(present for)108 604.8 Q F1(POSIX)2.5 E F0
(compliance; see belo)2.5 E 2.5(wf)-.25 G(or other such features\).)280.48
604.8 Q .581(In the de\214nitions section \(b)108 621.6 R .581
(ut not in the rules section\), an unindented comment \(i.e., a line be)-.2 F
.582(ginning with)-.15 F("/*"\) is also copied v)108 633.6 Q
(erbatim to the output up to the ne)-.15 E(xt "*/".)-.15 E/F3 9/Times-Bold@0 SF
-.666(PA)72 650.4 S(TTERNS)-.189 E F0
(The patterns in the input are written using an e)108 662.4 Q
(xtended set of re)-.15 E(gular e)-.15 E 2.5(xpressions. These)-.15 F(are:)2.5
E 25(xm)118 686.4 S(atch the character 'x')155.78 686.4 Q 25(.a)118 698.4 S .3
-.15(ny c)149.94 698.4 T(haracter e).15 E(xcept ne)-.15 E(wline)-.25 E 12.5
([xyz] a)118 710.4 R("character class"; in this case, the pattern)2.5 E
(matches either an 'x', a 'y', or a 'z')150.5 722.4 Q -1.11(Ve)72 768 S
(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(3)535 768 Q
EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R 5([abj-oZ] a)
118 84 R("character class" with a range in it; matches)2.5 E(an 'a', a 'b', an)
150.5 96 Q 2.5(yl)-.15 G(etter from 'j' through 'o',)221.71 96 Q(or a 'Z')150.5
108 Q 10([^A-Z] a)118 120 R("ne)2.5 E -.05(ga)-.15 G
(ted character class", i.e., an).05 E 2.5(yc)-.15 G(haracter)307.68 120 Q -.2
(bu)150.5 132 S 2.5(tt).2 G(hose in the class.)168.36 132 Q(In this case, an)5
E(y)-.15 E(character EXCEPT an uppercase letter)150.5 144 Q(.)-.55 E 5
([^A-Z\\n] an)118 156 R 2.5(yc)-.15 G(haracter EXCEPT an uppercase letter or)
181.16 156 Q 2.5(an)150.5 168 S -.25(ew)162.44 168 S(line).25 E 20(r* zero)118
180 R(or more r')2.5 E(s, where r is an)-.55 E 2.5(yr)-.15 G -.15(eg)279.47 180
S(ular e).15 E(xpression)-.15 E 20(r+ one)118 192 R(or more r')2.5 E(s)-.55 E
20(r? zero)118 204 R(or one r')2.5 E 2.5(s\()-.55 G(that is, "an optional r"\))
211.58 204 Q 10(r{2,5} an)118 216 R(ywhere from tw)-.15 E 2.5(ot)-.1 G 2.5
<6f8c>239.27 216 S .3 -.15(ve r)252.33 216 T -.55('s).15 G 12.5(r{2,} tw)118
228 R 2.5(oo)-.1 G 2.5(rm)175.83 228 S(ore r')189.44 228 Q(s)-.55 E 15(r{4} e)
118 240 R(xactly 4 r')-.15 E(s)-.55 E 10({name} the)118 252 R -.15(ex)2.5 G
(pansion of the "name" de\214nition).15 E(\(see abo)145.5 264 Q -.15(ve)-.15 G
(\)).15 E("[xyz]\\"foo")118 276 Q(the literal string: [xyz]"foo)145.5 288 Q 20
(\\X if)118 300 R 2.5(Xi)2.5 G 2.5(sa)171.61 300 S 2.5(n')182.44 300 S
(a', 'b', 'f)193.27 300 Q(', 'n', ').55 E(r', ')-.5 E(t', or ')-.18 E(v',)-.5 E
(then the ANSI-C interpretation of \\x.)150.5 312 Q
(Otherwise, a literal 'X' \(used to escape)150.5 324 Q(operators such as '*'\))
150.5 336 Q 15(\\123 the)118 348 R(character with octal v)2.5 E(alue 123)-.25 E
15(\\x2a the)118 360 R(character with he)2.5 E(xadecimal v)-.15 E(alue 2a)-.25
E 17.5(\(r\) match)118 372 R(an r; parentheses are used to o)2.5 E -.15(ve)-.15
G(rride).15 E(precedence \(see belo)150.5 384 Q(w\))-.25 E 20(rs the)118 420 R
(re)2.5 E(gular e)-.15 E(xpression r follo)-.15 E(wed by the)-.25 E(re)150.5
432 Q(gular e)-.15 E(xpression s; called "concatenation")-.15 E 17.5
(r|s either)118 468 R(an r or an s)2.5 E 17.5(r/s an)118 504 R 2.5(rb)2.5 G
(ut only if it is follo)170.57 504 Q(wed by an s.)-.25 E(The)5 E 2.5(si)150.5
516 S 2.5(sn)159.67 516 S(ot part of the matched te)171.06 516 Q 2.5(xt. This)
-.15 F(type)2.5 E(of pattern is called as "trailing conte)150.5 528 Q(xt".)-.15
E 20(^r an)118 540 R .8 -.4(r, b)2.5 H(ut only at the be).2 E
(ginning of a line)-.15 E 20(r$ an)118 552 R .8 -.4(r, b)2.5 H
(ut only at the end of a line.).2 E(Equi)5 E -.25(va)-.25 G(lent).25 E
(to "r/\\n".)150.5 564 Q 15(<s>r an)118 600 R .8 -.4(r, b)2.5 H
(ut only in start condition s \(see).2 E(belo)145.5 612 Q 2.5(wf)-.25 G
(or discussion of start conditions\))175.52 612 Q(<s1,s2,s3>r)118 624 Q
(same, b)145.5 636 Q(ut in an)-.2 E 2.5(yo)-.15 G 2.5(fs)218.2 636 S
(tart conditions s1,)227.92 636 Q(s2, or s3)145.5 648 Q 15(<*>r an)118 660 R
2.5(ri)2.5 G 2.5(na)175.66 660 S .3 -.15(ny s)187.6 660 T(tart condition, e).15
E -.15(ve)-.25 G 2.5(na).15 G 2.5(ne)287.87 660 S(xclusi)299.66 660 Q .3 -.15
(ve o)-.25 H(ne.).15 E 7.5(<<EOF>> an)118 696 R(end-of-\214le)2.5 E
(<s1,s2><<EOF>>)118 708 Q(an end-of-\214le when in start condition s1 or s2)
145.5 720 Q -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G
(mber 1993).15 E(4)535 768 Q EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R 1.615
(Note that inside of a character class, all re)108 84 R 1.615(gular e)-.15 F
1.614(xpression operators lose their special meaning e)-.15 F(xcept)-.15 E
(escape \('\\'\) and the character class operators, '-', ']', and, at the be)
108 96 Q(ginning of the class, '^'.)-.15 E .651(The re)108 112.8 R .651
(gular e)-.15 F .651(xpressions listed abo)-.15 F .951 -.15(ve a)-.15 H .652
(re grouped according to precedence, from highest precedence at the).15 F
(top to lo)108 124.8 Q(west at the bottom.)-.25 E(Those grouped together ha)5 E
.3 -.15(ve e)-.2 H(qual precedence.).15 E -.15(Fo)5 G 2.5(re).15 G(xample,)
437.87 124.8 Q(foo|bar*)118 148.8 Q(is the same as)108 172.8 Q
(\(foo\)|\(ba\(r*\)\))118 196.8 Q .548(since the '*' operator has higher prece\
dence than concatenation, and concatenation higher than alternation)108 220.8 R
2.85(\('|'\). This)108 232.8 R .35(pattern therefore matches)2.85 F/F1 10
/Times-Italic@0 SF(either)2.85 E F0 .351(the string "foo")2.85 F F1(or)2.851 E
F0 .351(the string "ba" follo)2.851 F .351(wed by zero-or)-.25 F .351(-more r')
-.2 F(s.)-.55 E 1.6 -.8(To m)108 244.8 T(atch "foo" or zero-or).8 E
(-more "bar"')-.2 E(s, use:)-.55 E(foo|\(bar\)*)118 268.8 Q
(and to match zero-or)108 292.8 Q(-more "foo"')-.2 E(s-or)-.55 E(-"bar"')-.2 E
(s:)-.55 E(\(foo|bar\)*)118 316.8 Q(Some notes on patterns:)108 345.6 Q 32.67
(-A)108 362.4 S(ne)153.904 362.4 Q -.05(ga)-.15 G .184
(ted character class such as the e).05 F .184(xample "[^A-Z]" abo)-.15 F -.15
(ve)-.15 G F1 .184(will matc)2.834 F 2.684(ha)-.15 G(ne)-.001 E(wline)-.15 E F0
.183(unless "\\n" \(or)2.683 F .537(an equi)144 374.4 R -.25(va)-.25 G .538
(lent escape sequence\) is one of the characters e).25 F .538
(xplicitly present in the ne)-.15 F -.05(ga)-.15 G .538(ted character).05 F
.156(class \(e.g., "[^A-Z\\n]"\).)144 386.4 R .156(This is unlik)5.156 F 2.656
(eh)-.1 G .656 -.25(ow m)304.916 386.4 T(an).25 E 2.656(yo)-.15 G .156(ther re)
349.268 386.4 R .156(gular e)-.15 F .155(xpression tools treat ne)-.15 F -.05
(ga)-.15 G .155(ted char).05 F(-)-.2 E 1.416(acter classes, b)144 398.4 R 1.416
(ut unfortunately the inconsistenc)-.2 F 3.916(yi)-.15 G 3.916(sh)352.946 398.4
S 1.416(istorically entrenched.)365.752 398.4 R 1.416(Matching ne)6.416 F
(wlines)-.25 E(means that a pattern lik)144 410.4 Q 2.5(e[)-.1 G
(^"]* can match the entire input unless there')247.49 410.4 Q 2.5(sa)-.55 G
(nother quote in the input.)433.2 410.4 Q 32.67(-A)108 427.2 S .429
(rule can ha)154.149 427.2 R .729 -.15(ve a)-.2 H 2.929(tm).15 G .428
(ost one instance of trailing conte)228.825 427.2 R .428
(xt \(the '/' operator or the '$' operator\).)-.15 F(The)5.428 E .552
(start condition, '^', and "<<EOF>>" patterns can only occur at the be)144
439.2 R .552(ginning of a pattern, and, as)-.15 F .601
(well as with '/' and '$', cannot be grouped inside parentheses.)144 451.2 R
3.1(A')5.6 G .6(^' which does not occur at the)417.54 451.2 R(be)144 463.2 Q
.811(ginning of a rule or a '$' which does not occur at the end of a rule lose\
s its special properties)-.15 F(and is treated as a normal character)144 475.2
Q(.)-.55 E(The follo)144 492 Q(wing are ille)-.25 E -.05(ga)-.15 G(l:).05 E
(foo/bar$)154 516 Q(<sc1>foo<sc2>bar)154 528 Q
(Note that the \214rst of these, can be written "foo/bar\\n".)144 552 Q
(The follo)144 568.8 Q
(wing will result in '$' or '^' being treated as a normal character:)-.25 E
(foo|\(bar$\))154 592.8 Q(foo|^bar)154 604.8 Q .599(If what')144 628.8 R 3.099
(sw)-.55 G .599(anted is a "foo" or a bar)190.088 628.8 R(-follo)-.2 E
(wed-by-a-ne)-.25 E .599(wline, the follo)-.25 F .598
(wing could be used \(the spe-)-.25 F(cial '|' action is e)144 640.8 Q
(xplained belo)-.15 E(w\):)-.25 E 12.5(foo |)154 664.8 R 10(bar$ /*)154 676.8 R
(action goes here */)2.5 E 2.5(As)144 700.8 S(imilar trick will w)157.61 700.8
Q(ork for matching a foo or a bar)-.1 E(-at-the-be)-.2 E(ginning-of-a-line.)
-.15 E -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G
(mber 1993).15 E(5)535 768 Q EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R/F1 9
/Times-Bold@0 SF(HO)72 84 Q 2.25(WT)-.45 G(HE INPUT IS MA)102.807 84 Q(TCHED)
-.855 E F0 .277(When the generated scanner is run, it analyzes its input looki\
ng for strings which match an)108 96 R 2.778(yo)-.15 G 2.778(fi)487.504 96 S
.278(ts patterns.)496.392 96 R 1.459(If it \214nds more than one match, it tak)
108 108 R 1.458(es the one matching the most te)-.1 F 1.458
(xt \(for trailing conte)-.15 F 1.458(xt rules, this)-.15 F .491
(includes the length of the trailing part, e)108 120 R -.15(ve)-.25 G 2.991(nt)
.15 G .491(hough it will then be returned to the input\).)291.227 120 R .491
(If it \214nds tw)5.491 F 2.991(oo)-.1 G(r)536.67 120 Q
(more matches of the same length, the rule listed \214rst in the)108 132 Q/F2
10/Times-Italic@0 SF<8d65>2.5 E(x)-.2 E F0(input \214le is chosen.)2.5 E .752
(Once the match is determined, the te)108 148.8 R .752
(xt corresponding to the match \(called the)-.15 F F2(tok)3.252 E(en\))-.1 E F0
.751(is made a)3.251 F -.25(va)-.2 G .751(ilable in).25 F .095
(the global character pointer)108 160.8 R/F3 10/Times-Bold@0 SF(yytext,)2.595 E
F0 .096(and its length in the global inte)2.595 F(ger)-.15 E F3(yyleng)2.596 E
(.)-.15 E F0(The)5.096 E F2(action)2.596 E F0 .096(corresponding to)2.596 F .46
(the matched pattern is then e)108 172.8 R -.15(xe)-.15 G .46
(cuted \(a more detailed description of actions follo).15 F .46
(ws\), and then the remain-)-.25 F(ing input is scanned for another match.)108
184.8 Q .132(If no match is found, then the)108 201.6 R F2 .133(default rule)
2.632 F F0 .133(is e)2.633 F -.15(xe)-.15 G .133(cuted: the ne).15 F .133
(xt character in the input is considered matched)-.15 F
(and copied to the standard output.)108 213.6 Q(Thus, the simplest le)5 E -.05
(ga)-.15 G(l).05 E F2<8d65>2.5 E(x)-.2 E F0(input is:)2.5 E(%%)118 237.6 Q(whi\
ch generates a scanner that simply copies its input \(one character at a time\
\) to its output.)108 261.6 Q .436(Note that)108 278.4 R F3(yytext)2.936 E F0
.436(can be de\214ned in tw)2.936 F 2.936(od)-.1 G(if)272.468 278.4 Q .436
(ferent w)-.25 F .436(ays: either as a character)-.1 F F2(pointer)2.936 E F0
.435(or as a character)2.936 F F2(arr)2.935 E(ay)-.15 E(.)-.55 E F0 -1.1(Yo)108
290.4 S 2.978(uc)1.1 G .478(an control which de\214nition)131.538 290.4 R F2
<8d65>2.978 E(x)-.2 E F0 .478(uses by including one of the special directi)
2.978 F -.15(ve)-.25 G(s).15 E F3(%pointer)2.978 E F0(or)2.979 E F3(%array)
2.979 E F0 .41(in the \214rst \(de\214nitions\) section of your \215e)108 302.4
R 2.91(xi)-.15 G 2.91(nput. The)288.35 302.4 R(def)2.91 E .41(ault is)-.1 F F3
(%pointer)2.91 E(,)-.92 E F0 .41(unless you use the)2.91 F F3(-l)2.91 E F0(le)
2.91 E 2.91(xc)-.15 G(om-)523.89 302.4 Q .548(patibility option, in which case)
108 314.4 R F3(yytext)3.049 E F0 .549(will be an array)3.049 F 5.549(.T)-.65 G
.549(he adv)343.636 314.4 R .549(antage of using)-.25 F F3(%pointer)3.049 E F0
.549(is substantially)3.049 F -.1(fa)108 326.4 S 1.025(ster scanning and no b)
.1 F(uf)-.2 E 1.025(fer o)-.25 F -.15(ve)-.15 G(r\215o).15 E 3.525(ww)-.25 G
1.024(hen matching v)277.45 326.4 R 1.024(ery lar)-.15 F 1.024(ge tok)-.18 F
1.024(ens \(unless you run out of dynamic)-.1 F 3.004(memory\). The)108 338.4 R
(disadv)3.004 E .504(antage is that you are restricted in ho)-.25 F 3.004(wy)
-.25 G .504(our actions can modify)363.05 338.4 R F3(yytext)3.004 E F0 .505
(\(see the ne)3.004 F(xt)-.15 E .046(section\), and calls to the)108 350.4 R F3
(input\(\))2.546 E F0(and)2.545 E F3(unput\(\))2.545 E F0 .045
(functions destro)2.545 F 2.545(yt)-.1 G .045(he present contents of)365.845
350.4 R F3(yytext,)2.545 E F0 .045(which can be)2.545 F 2.5(ac)108 362.4 S
(onsiderable porting headache when mo)119.38 362.4 Q(ving between dif)-.15 E
(ferent)-.25 E F2(le)2.5 E(x)-.2 E F0 -.15(ve)2.5 G(rsions.).15 E .637(The adv)
108 379.2 R .637(antage of)-.25 F F3(%array)3.137 E F0 .638
(is that you can then modify)3.137 F F3(yytext)3.138 E F0 .638(to your heart')
3.138 F 3.138(sc)-.55 G .638(ontent, and calls to)429.948 379.2 R F3(input\(\))
3.138 E F0(and)108 391.2 Q F3(unput\(\))4.38 E F0 1.88(do not destro)4.38 F(y)
-.1 E F3(yytext)4.379 E F0 1.879(\(see belo)4.379 F 4.379(w\). Furthermore,)
-.25 F -.15(ex)4.379 G(isting).15 E F2(le)4.379 E(x)-.2 E F0 1.879
(programs sometimes access)4.379 F F3(yytext)108 403.2 Q F0 -.15(ex)2.5 G
(ternally using declarations of the form:).15 E -.15(ex)118 415.2 S
(tern char yyte).15 E(xt[];)-.15 E
(This de\214nition is erroneous when used with)108 427.2 Q F3(%pointer)2.5 E(,)
-.92 E F0 -.2(bu)2.5 G 2.5(tc).2 G(orrect for)350.2 427.2 Q F3(%array)2.5 E(.)
-.7 E(%array)108 444 Q F0(de\214nes)2.824 E F3(yytext)2.824 E F0 .324
(to be an array of)2.824 F F3(YYLMAX)2.825 E F0 .325(characters, which def)
2.825 F .325(aults to a f)-.1 F .325(airly lar)-.1 F .325(ge v)-.18 F 2.825
(alue. Y)-.25 F(ou)-1.1 E .957(can change the size by simply #de\214ne'ing)108
456 R F3(YYLMAX)3.457 E F0 .957(to a dif)3.457 F .957(ferent v)-.25 F .956
(alue in the \214rst section of your)-.25 F F2<8d65>3.456 E(x)-.2 E F0 2.989
(input. As)108 468 R .489(mentioned abo)2.989 F -.15(ve)-.15 G 2.989(,w).15 G
(ith)232.146 468 Q F3(%pointer)2.989 E F0(yyte)2.989 E .489(xt gro)-.15 F .489
(ws dynamically to accomodate lar)-.25 F .49(ge tok)-.18 F 2.99(ens. While)-.1
F 1.002(this means your)108 480 R F3(%pointer)3.502 E F0 1.001
(scanner can accomodate v)3.502 F 1.001(ery lar)-.15 F 1.001(ge tok)-.18 F
1.001(ens \(such as matching entire blocks of)-.1 F .445
(comments\), bear in mind that each time the scanner must resize)108 492 R F3
(yytext)2.945 E F0 .445(it also must rescan the entire tok)2.945 F(en)-.1 E
.473(from the be)108 504 R .473(ginning, so matching such tok)-.15 F .473
(ens can pro)-.1 F .773 -.15(ve s)-.15 H(lo).15 E -.65(w.)-.25 G F3(yytext)
6.123 E F0 .472(presently does)2.972 F F2(not)2.972 E F0 .472(dynamically gro)
2.972 F(w)-.25 E(if a call to)108 516 Q F3(unput\(\))2.5 E F0
(results in too much te)2.5 E
(xt being pushed back; instead, a run-time error results.)-.15 E
(Also note that you cannot use)108 532.8 Q F3(%array)2.5 E F0
(with C++ scanner classes \(the)2.5 E F3<ad2b>2.5 E F0(option; see belo)2.5 E
(w\).)-.25 E F1 -.495(AC)72 549.6 S(TIONS).495 E F0 .079
(Each pattern in a rule has a corresponding action, which can be an)108 561.6 R
2.579(ya)-.15 G .079(rbitrary C statement.)385.465 561.6 R .079
(The pattern ends)5.079 F .415(at the \214rst non-escaped whitespace character\
; the remainder of the line is its action.)108 573.6 R .414
(If the action is empty)5.414 F(,)-.65 E .079
(then when the pattern is matched the input tok)108 585.6 R .079
(en is simply discarded.)-.1 F -.15(Fo)5.079 G 2.579(re).15 G .079
(xample, here is the speci\214cation)411.094 585.6 R
(for a program which deletes all occurrences of "zap me" from its input:)108
597.6 Q(%%)118 621.6 Q("zap me")118 633.6 Q(\(It will cop)108 657.6 Q 2.5(ya)
-.1 G(ll other characters in the input to the output since the)164.28 657.6 Q
2.5(yw)-.15 G(ill be matched by the def)389.38 657.6 Q(ault rule.\))-.1 E 1.146
(Here is a program which compresses multiple blanks and tabs do)108 674.4 R
1.146(wn to a single blank, and thro)-.25 F 1.145(ws a)-.25 F -.1(wa)-.15 G(y)
.1 E(whitespace found at the end of a line:)108 686.4 Q(%%)118 710.4 Q 2.5([\\)
118 722.4 S 17.5(t]+ putchar\()126.61 722.4 R 2.5(''\))2.5 G(;)209.17 722.4 Q
-1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993)
.15 E(6)535 768 Q EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R 2.5([\\)118 84
S 15(t]+$ /*)126.61 84 R(ignore this tok)2.5 E(en */)-.1 E .79(If the action c\
ontains a '{', then the action spans till the balancing '}' is found, and the \
action may cross)108 112.8 R .13(multiple lines.)108 124.8 R/F1 10
/Times-Italic@0 SF<8d65>5.13 E(x)-.2 E F0(kno)2.63 E .13
(ws about C strings and comments and w)-.25 F(on')-.1 E 2.63(tb)-.18 G 2.63(ef)
387.3 124.8 S .13(ooled by braces found within them,)397.7 124.8 R -.2(bu)108
136.8 S 3.259(ta).2 G .759(lso allo)128.279 136.8 R .759(ws actions to be)-.25
F .759(gin with)-.15 F/F2 10/Times-Bold@0 SF(%{)3.259 E F0 .76
(and will consider the action to be all the te)3.259 F .76(xt up to the ne)-.15
F(xt)-.15 E F2(%})3.26 E F0(\(re)108 148.8 Q -.05(ga)-.15 G
(rdless of ordinary braces inside the action\).).05 E .701
(An action consisting solely of a v)108 165.6 R .7
(ertical bar \('|'\) means "same as the action for the ne)-.15 F .7(xt rule.")
-.15 F .7(See belo)5.7 F(w)-.25 E(for an illustration.)108 177.6 Q 1.352
(Actions can include arbitrary C code, including)108 194.4 R F2 -.18(re)3.852 G
(tur).18 E(n)-.15 E F0 1.352(statements to return a v)3.852 F 1.352
(alue to whate)-.25 F -.15(ve)-.25 G 3.852(rr).15 G(outine)515 194.4 Q(called)
108 206.4 Q F2(yylex\(\).)2.912 E F0 .412(Each time)5.412 F F2(yylex\(\))2.912
E F0 .412(is called it continues processing tok)2.912 F .411
(ens from where it last left of)-.1 F 2.911(fu)-.25 G .411(ntil it)518.189
206.4 R(either reaches the end of the \214le or e)108 218.4 Q -.15(xe)-.15 G
(cutes a return.).15 E .866(Actions are free to modify)108 235.2 R F2(yytext)
3.366 E F0 -.15(ex)3.366 G .866
(cept for lengthening it \(adding characters to its end--these will o).15 F
-.15(ve)-.15 G -.2(r-).15 G .384(write later characters in the input stream\).)
108 247.2 R .384(Modifying the \214nal character of yyte)5.384 F .383
(xt may alter whether when)-.15 F .085
(scanning resumes rules anchored with '^' are acti)108 259.2 R -.15(ve)-.25 G
5.085(.S).15 G(peci\214cally)327.11 259.2 Q 2.585(,c)-.65 G .085
(hanging the \214nal character of yyte)377.645 259.2 R .085(xt to a)-.15 F(ne)
108 271.2 Q .417(wline will acti)-.25 F -.25(va)-.25 G .417
(te such rules on the ne).25 F .417(xt scan, and changing it to an)-.15 F .416
(ything else will deacti)-.15 F -.25(va)-.25 G .416(te the rules.).25 F .3
(Users should not rely on this beha)108 283.2 R .301
(vior being present in future releases.)-.2 F(Finally)5.301 E 2.801(,n)-.65 G
.301(ote that none of this para-)436.015 283.2 R(graph applies when using)108
295.2 Q F2(%array)2.5 E F0(\(see abo)2.5 E -.15(ve)-.15 G(\).).15 E .383
(Actions are free to modify)108 312 R F2(yyleng)2.883 E F0 -.15(ex)2.883 G .383
(cept the).15 F 2.883(ys)-.15 G .382
(hould not do so if the action also includes use of)301.284 312 R F2(yymor)
2.882 E(e\(\))-.18 E F0(\(see belo)108 324 Q(w\).)-.25 E
(There are a number of special directi)108 340.8 Q -.15(ve)-.25 G 2.5(sw).15 G
(hich can be included within an action:)277.82 340.8 Q(-)108 357.6 Q F2(ECHO)
144 357.6 Q F0(copies yyte)2.5 E(xt to the scanner')-.15 E 2.5(so)-.55 G
(utput.)301.06 357.6 Q(-)108 374.4 Q F2(BEGIN)144 374.4 Q F0(follo)3.642 E
1.143(wed by the name of a start condition places the scanner in the correspon\
ding start)-.25 F(condition \(see belo)144 386.4 Q(w\).)-.25 E(-)108 403.2 Q F2
(REJECT)144 403.2 Q F0 .024(directs the scanner to proceed on to the "second b\
est" rule which matched the input \(or a)2.525 F 1.053
(pre\214x of the input\).)144 415.2 R 1.053
(The rule is chosen as described abo)6.053 F 1.353 -.15(ve i)-.15 H 3.553(n")
.15 G(Ho)407.035 415.2 Q 3.553(wt)-.25 G 1.053(he Input is Matched", and)
432.558 415.2 R F2(yytext)144 427.2 Q F0(and)3.215 E F2(yyleng)3.215 E F0 .715
(set up appropriately)3.215 F 5.715(.I)-.65 G 3.215(tm)313.72 427.2 S .715
(ay either be one which matched as much te)327.495 427.2 R .714(xt as the)-.15
F 1.214(originally chosen rule b)144 439.2 R 1.214(ut came later in the)-.2 F
F1<8d65>3.714 E(x)-.2 E F0 1.214(input \214le, or one which matched less te)
3.714 F 3.715(xt. F)-.15 F(or)-.15 E -.15(ex)144 451.2 S .462(ample, the follo)
.15 F .461(wing will both count the w)-.25 F .461
(ords in the input and call the routine special\(\) when-)-.1 F -2.15 -.25
(ev e)144 463.2 T 2.5(r").25 G(frob" is seen:)167.39 463.2 Q(int w)174 487.2 Q
(ord_count = 0;)-.1 E(%%)154 499.2 Q 17.5(frob special\(\);)154 523.2 R(REJECT)
2.5 E(;)-.55 E([^ \\t\\n]+)154 535.2 Q(++w)7.5 E(ord_count;)-.1 E -.4(Wi)144
559.2 S .411(thout the).4 F F2(REJECT)2.911 E(,)-.74 E F0(an)2.912 E 2.912(y")
-.15 G(frob"')259.826 559.2 Q 2.912(si)-.55 G 2.912(nt)292.928 559.2 S .412
(he input w)303.62 559.2 R .412(ould not be counted as w)-.1 F .412
(ords, since the scanner)-.1 F .673(normally e)144 571.2 R -.15(xe)-.15 G .673
(cutes only one action per tok).15 F 3.172(en. Multiple)-.1 F F2(REJECT')3.172
E(s)-.37 E F0 .672(are allo)3.172 F .672(wed, each one \214nding)-.25 F .812
(the ne)144 583.2 R .812(xt best choice to the currently acti)-.15 F 1.112 -.15
(ve r)-.25 H 3.312(ule. F).15 F .812(or e)-.15 F .812(xample, when the follo)
-.15 F .812(wing scanner scans)-.25 F(the tok)144 595.2 Q
(en "abcd", it will write "abcdabcaba" to the output:)-.1 E(%%)154 619.2 Q 20
(a|)154 631.2 S 15(ab |)154 643.2 R 12.5(abc |)154 655.2 R 10(abcd ECHO;)154
667.2 R(REJECT)2.5 E(;)-.55 E 10(.|\\n /*)154 679.2 R(eat up an)2.5 E 2.5(yu)
-.15 G(nmatched character */)237.51 679.2 Q .461
(\(The \214rst three rules share the fourth')144 703.2 R 2.961(sa)-.55 G .461
(ction since the)307.467 703.2 R 2.961(yu)-.15 G .46
(se the special '|' action.\))378.97 703.2 R F2(REJECT)5.46 E F0 .46(is a)2.96
F .98(particularly e)144 715.2 R(xpensi)-.15 E 1.28 -.15(ve f)-.25 H .98
(eature in terms scanner performance; if it is used in).15 F F1(any)3.48 E F0
.98(of the scanner')3.48 F(s)-.55 E 1.003(actions it will slo)144 727.2 R 3.502
(wd)-.25 G -.25(ow)231.1 727.2 S(n).25 E F1(all)3.502 E F0 1.002
(of the scanner')3.502 F 3.502(sm)-.55 G 3.502(atching. Furthermore,)341.68
727.2 R F2(REJECT)3.502 E F0 1.002(cannot be used)3.502 F -1.11(Ve)72 768 S
(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(7)535 768 Q
EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R(with the)144
84 Q/F1 10/Times-Italic@0 SF(-Cf)2.5 E F0(or)2.5 E F1(-CF)2.5 E F0
(options \(see belo)2.5 E(w\).)-.25 E .338(Note also that unlik)144 100.8 R
2.838(et)-.1 G .338(he other special actions,)233.582 100.8 R/F2 10
/Times-Bold@0 SF(REJECT)2.839 E F0 .339(is a)2.839 F F1(br)2.839 E(anc)-.15 E
(h;)-.15 E F0 .339(code immediately follo)2.839 F(wing)-.25 E
(it in the action will)144 112.8 Q F1(not)2.5 E F0(be e)2.5 E -.15(xe)-.15 G
(cuted.).15 E(-)108 129.6 Q F2(yymor)144 129.6 Q(e\(\))-.18 E F0 .458
(tells the scanner that the ne)2.959 F .458
(xt time it matches a rule, the corresponding tok)-.15 F .458(en should be)-.1
F F1(appended)144 141.6 Q F0 .838(onto the current v)3.338 F .838(alue of)-.25
F F2(yytext)3.339 E F0 .839(rather than replacing it.)3.339 F -.15(Fo)5.839 G
3.339(re).15 G .839(xample, gi)443.443 141.6 R -.15(ve)-.25 G 3.339(nt).15 G
.839(he input)506.661 141.6 R("me)144 153.6 Q -.05(ga)-.15 G
(-kludge" the follo).05 E(wing will write "me)-.25 E -.05(ga)-.15 G(-me).05 E
-.05(ga)-.15 G(-kludge" to the output:).05 E(%%)154 177.6 Q(me)154 189.6 Q -.05
(ga)-.15 G 10(-E).05 G(CHO; yymore\(\);)194.9 189.6 Q 5(kludge ECHO;)154 201.6
R 1.025(First "me)144 225.6 R -.05(ga)-.15 G 1.025
(-" is matched and echoed to the output.).05 F 1.024
(Then "kludge" is matched, b)6.025 F 1.024(ut the pre)-.2 F(vious)-.25 E("me)
144 237.6 Q -.05(ga)-.15 G .249(-" is still hanging around at the be).05 F .249
(ginning of)-.15 F F2(yytext)2.749 E F0 .249(so the)2.749 F F2(ECHO)2.749 E F0
.249(for the "kludge" rule will)2.749 F .96(actually write "me)144 249.6 R -.05
(ga)-.15 G 3.46(-kludge". The).05 F .96(presence of)3.46 F F2(yymor)3.46 E
(e\(\))-.18 E F0 .96(in the scanner')3.46 F 3.46(sa)-.55 G .96
(ction entails a minor)455.18 249.6 R(performance penalty in the scanner')144
261.6 Q 2.5(sm)-.55 G(atching speed.)301.46 261.6 Q(-)108 278.4 Q F2
(yyless\(n\))144 278.4 Q F0 .505(returns all b)3.005 F .506(ut the \214rst)-.2
F F1(n)3.006 E F0 .506(characters of the current tok)3.006 F .506
(en back to the input stream, where)-.1 F(the)144 290.4 Q 2.726(yw)-.15 G .226
(ill be rescanned when the scanner looks for the ne)171.016 290.4 R .225
(xt match.)-.15 F F2(yytext)5.225 E F0(and)2.725 E F2(yyleng)2.725 E F0 .225
(are adjusted)2.725 F .807(appropriately \(e.g.,)144 302.4 R F2(yyleng)3.307 E
F0 .807(will no)3.307 F 3.307(wb)-.25 G 3.307(ee)299.435 302.4 S .807(qual to)
311.622 302.4 R F1(n)3.307 E F0 3.307(\). F)3.307 F .807(or e)-.15 F .807
(xample, on the input "foobar" the fol-)-.15 F(lo)144 314.4 Q
(wing will write out "foobarbar":)-.25 E(%%)154 338.4 Q 7.5(foobar ECHO;)154
350.4 R(yyless\(3\);)2.5 E 7.5([a-z]+ ECHO;)154 362.4 R .583(An ar)144 386.4 R
.583(gument of 0 to)-.18 F F2(yyless)3.083 E F0 .582
(will cause the entire current input string to be scanned ag)3.083 F 3.082
(ain. Unless)-.05 F(you')144 398.4 Q .653 -.15(ve c)-.5 H .353(hanged ho).15 F
2.854(wt)-.25 G .354(he scanner will subsequently process its input \(using)
232.75 398.4 R F2(BEGIN,)2.854 E F0 .354(for e)2.854 F(xample\),)-.15 E
(this will result in an endless loop.)144 410.4 Q(Note that)108 427.2 Q F2
(yyless)2.5 E F0(is a macro and can only be used in the \215e)2.5 E 2.5(xi)-.15
G(nput \214le, not from other source \214les.)350.04 427.2 Q(-)108 444 Q F2
(unput\(c\))144 444 Q F0 1.032(puts the character)3.532 F F1(c)3.532 E F0 1.032
(back onto the input stream.)3.532 F 1.032(It will be the ne)6.032 F 1.031
(xt character scanned.)-.15 F .165(The follo)144 456 R .165
(wing action will tak)-.25 F 2.665(et)-.1 G .165(he current tok)270.855 456 R
.166(en and cause it to be rescanned enclosed in parenthe-)-.1 F(ses.)144 468 Q
({)154 492 Q(int i;)154 504 Q(unput\( '\)' \);)154 516 Q
(for \( i = yyleng - 1; i >= 0; --i \))154 528 Q(unput\( yyte)164 540 Q
(xt[i] \);)-.15 E(unput\( '\(' \);)154 552 Q(})154 564 Q .933
(Note that since each)144 588 R F2(unput\(\))3.433 E F0 .933(puts the gi)3.433
F -.15(ve)-.25 G 3.433(nc).15 G .932(haracter back at the)332.154 588 R F1(be)
3.432 E(ginning)-.4 E F0 .932(of the input stream,)3.432 F 1.494
(pushing back strings must be done back-to-front.)144 600 R 1.495
(Also note that you cannot put back)6.495 F F2(EOF)3.995 E F0(to)3.995 E
(attempt to mark the input stream with an end-of-\214le.)144 612 Q(-)108 628.8
Q F2(input\(\))144 628.8 Q F0 .585(reads the ne)3.085 F .585
(xt character from the input stream.)-.15 F -.15(Fo)5.585 G 3.085(re).15 G .585
(xample, the follo)393.24 628.8 R .585(wing is one w)-.25 F .585(ay to)-.1 F
(eat up C comments:)144 640.8 Q(%%)154 664.8 Q 17.5("/*" {)154 676.8 R(re)184
688.8 Q(gister int c;)-.15 E(for \( ; ; \))184 712.8 Q({)194 724.8 Q -1.11(Ve)
72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(8)535
768 Q EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R
(while \( \(c = input\(\)\) != '*' &&)194 84 Q 2.5(c!)214 96 S 2.5(=E)224.27 96
S(OF \))238.52 96 Q 10(;/)204 108 S 2.5(*e)219.56 108 S(at up te)231.5 108 Q
(xt of comment */)-.15 E(if \( c == '*' \))194 132 Q({)204 144 Q
(while \( \(c = input\(\)\) == '*' \))204 156 Q(;)214 168 Q(if \( c == '/' \))
204 180 Q 7.5(break; /*)214 192 R(found the end */)2.5 E(})204 204 Q
(if \( c == EOF \))194 228 Q({)204 240 Q(error\( "EOF in comment" \);)204 252 Q
(break;)204 264 Q(})204 276 Q(})194 288 Q(})184 300 Q .06
(\(Note that if the scanner is compiled using)144 324 R/F1 10/Times-Bold@0 SF
(C++,)2.561 E F0(then)2.561 E F1(input\(\))2.561 E F0 .061
(is instead referred to as)2.561 F F1(yyinput\(\),)2.561 E F0(in)2.561 E
(order to a)144 336 Q -.2(vo)-.2 G(id a name clash with the).2 E F1(C++)2.5 E
F0(stream by the name of)2.5 E/F2 10/Times-Italic@0 SF(input.\))2.5 E F0(-)108
352.8 Q F1(yyterminate\(\))144 352.8 Q F0 .244
(can be used in lieu of a return statement in an action.)2.745 F .244
(It terminates the scanner and)5.244 F .69(returns a 0 to the scanner')144
364.8 R 3.191(sc)-.55 G(aller)262.001 364.8 Q 3.191(,i)-.4 G .691
(ndicating "all done".)287.842 364.8 R .691(By def)5.691 F(ault,)-.1 E F1
(yyterminate\(\))3.191 E F0 .691(is also called)3.191 F
(when an end-of-\214le is encountered.)144 376.8 Q
(It is a macro and may be rede\214ned.)5 E/F3 9/Times-Bold@0 SF(THE GENERA)72
393.6 Q(TED SCANNER)-.855 E F0 .474(The output of)108 405.6 R F2<8d65>2.974 E
(x)-.2 E F0 .474(is the \214le)2.974 F F1(lex.yy)2.973 E(.c,)-.7 E F0 .473
(which contains the scanning routine)2.973 F F1(yylex\(\),)2.973 E F0 2.973(an)
2.973 G .473(umber of tables used)455.541 405.6 R .033(by it for matching tok)
108 417.6 R .034(ens, and a number of auxiliary routines and macros.)-.1 F .034
(By def)5.034 F(ault,)-.1 E F1(yylex\(\))2.534 E F0 .034(is declared as)2.534 F
(follo)108 429.6 Q(ws:)-.25 E(int yyle)118 453.6 Q(x\(\))-.15 E({)128 465.6 Q
(... v)128 477.6 Q(arious de\214nitions and the actions in here ...)-.25 E(})
128 489.6 Q .445(\(If your en)108 513.6 R .444
(vironment supports function prototypes, then it will be "int yyle)-.4 F .444
(x\( v)-.15 F .444(oid \)".\))-.2 F .444(This de\214nition may)5.444 F
(be changed by de\214ning the "YY_DECL" macro.)108 525.6 Q -.15(Fo)5 G 2.5(re)
.15 G(xample, you could use:)327.49 525.6 Q(#de\214ne YY_DECL \215oat le)118
549.6 Q(xscan\( a, b \) \215oat a, b;)-.15 E .646(to gi)108 573.6 R .946 -.15
(ve t)-.25 H .646(he scanning routine the name).15 F F2(le)3.146 E(xscan,)-.2 E
F0 .647(returning a \215oat, and taking tw)3.146 F 3.147<6f8d>-.1 G .647
(oats as ar)440.199 573.6 R 3.147(guments. Note)-.18 F .501(that if you gi)108
585.6 R .801 -.15(ve a)-.25 H -.18(rg).15 G .501(uments to the scanning routin\
e using a K&R-style/non-prototyped function declaration,).18 F
(you must terminate the de\214nition with a semi-colon \(;\).)108 597.6 Q
(Whene)108 614.4 Q -.15(ve)-.25 G(r).15 E F1(yylex\(\))2.817 E F0 .317
(is called, it scans tok)2.817 F .318(ens from the global input \214le)-.1 F F2
(yyin)2.818 E F0 .318(\(which def)2.818 F .318(aults to stdin\).)-.1 F .318
(It con-)5.318 F 1.715(tinues until it either reaches an end-of-\214le \(at wh\
ich point it returns the v)108 626.4 R 1.715(alue 0\) or one of its actions)
-.25 F -.15(exe)108 638.4 S(cutes a).15 E F2 -.37(re)2.5 G(turn).37 E F0
(statement.)2.5 E .727(If the scanner reaches an end-of-\214le, subsequent cal\
ls are unde\214ned unless either)108 655.2 R F2(yyin)3.227 E F0 .727
(is pointed at a ne)3.227 F(w)-.25 E .594
(input \214le \(in which case scanning continues from that \214le\), or)108
667.2 R F1(yyr)3.094 E(estart\(\))-.18 E F0 .593(is called.)3.094 F F1(yyr)
5.593 E(estart\(\))-.18 E F0(tak)3.093 E .593(es one)-.1 F(ar)108 679.2 Q .655
(gument, a)-.18 F F1 .655(FILE *)3.155 F F0(pointer)3.155 E 3.155(,a)-.4 G .655
(nd initializes)231.515 679.2 R F2(yyin)3.155 E F0 .655
(for scanning from that \214le.)3.155 F .656(Essentially there is no dif)5.656
F(fer)-.25 E(-)-.2 E .398(ence between just assigning)108 691.2 R F2(yyin)2.898
E F0 .398(to a ne)2.898 F 2.898(wi)-.25 G .398(nput \214le or using)283.124
691.2 R F1(yyr)2.897 E(estart\(\))-.18 E F0 .397(to do so; the latter is a)
2.897 F -.25(va)-.2 G .397(ilable for).25 F .051(compatibility with pre)108
703.2 R .051(vious v)-.25 F .051(ersions of)-.15 F F2<8d65>2.551 E(x,)-.2 E F0
.051(and because it can be used to switch input \214les in the middle of)2.551
F 2.681(scanning. It)108 715.2 R .181(can also be used to thro)2.681 F 2.681
(wa)-.25 G -.1(wa)269.018 715.2 S 2.681(yt).1 G .18(he current input b)291.039
715.2 R(uf)-.2 E(fer)-.25 E 2.68(,b)-.4 G 2.68(yc)391.16 715.2 S .18
(alling it with an ar)403.28 715.2 R .18(gument of)-.18 F F2(yyin.)2.68 E F0
-1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993)
.15 E(9)535 768 Q EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R(If)108 84 Q/F1
10/Times-Bold@0 SF(yylex\(\))2.732 E F0 .232(stops scanning due to e)2.732 F
-.15(xe)-.15 G .232(cuting a).15 F/F2 10/Times-Italic@0 SF -.37(re)2.732 G
(turn).37 E F0 .232(statement in one of the actions, the scanner may then be)
2.732 F(called ag)108 96 Q(ain and it will resume scanning where it left of)
-.05 E(f.)-.25 E .708(By def)108 112.8 R .708(ault \(and for purposes of ef)-.1
F(\214cienc)-.25 E .707(y\), the scanner uses block-reads rather than simple)
-.15 F F2 -.1(ge)3.207 G(tc\(\)).1 E F0 .707(calls to)3.207 F .067
(read characters from)108 124.8 R F2(yyin.)2.567 E F0 .068(The nature of ho)
5.067 F 2.568(wi)-.25 G 2.568(tg)296 124.8 S .068
(ets its input can be controlled by de\214ning the)306.348 124.8 R F1(YY_INPUT)
2.568 E F0 3.445(macro. YY_INPUT')108 136.8 R 3.445(sc)-.55 G .944
(alling sequence is "YY_INPUT\(b)204.87 136.8 R 3.444
(uf,result,max_size\)". Its)-.2 F .944(action is to place up to)3.444 F F2
(max_size)108 148.8 Q F0 .492(characters in the character array)2.992 F F2 -.2
(bu)2.992 G(f).2 E F0 .492(and return in the inte)2.992 F .493(ger v)-.15 F
(ariable)-.25 E F2 -.37(re)2.993 G(sult).37 E F0 .493(either the number of)
2.993 F .588
(characters read or the constant YY_NULL \(0 on Unix systems\) to indicate EOF)
108 160.8 R 5.588(.T)-.8 G .588(he def)447.834 160.8 R .588(ault YY_INPUT)-.1 F
(reads from the global \214le-pointer "yyin".)108 172.8 Q 2.5(As)108 189.6 S(a\
mple de\214nition of YY_INPUT \(in the de\214nitions section of the input \214\
le\):)121.61 189.6 Q(%{)118 213.6 Q(#de\214ne YY_INPUT\(b)118 225.6 Q
(uf,result,max_size\) \\)-.2 E 2.5({\\)128 237.6 S(int c = getchar\(\); \\)128
249.6 Q(result = \(c == EOF\) ? YY_NULL : \(b)128 261.6 Q(uf[0] = c, 1\); \\)
-.2 E(})128 273.6 Q(%})118 285.6 Q(This de\214nition will change the input pro\
cessing to occur one character at a time.)108 309.6 Q -1.1(Yo)108 326.4 S 2.671
(ua)1.1 G .171(lso can add in things lik)131.231 326.4 R 2.671(ek)-.1 G .172
(eeping track of the input line number this w)239.277 326.4 R .172(ay; b)-.1 F
.172(ut don')-.2 F 2.672(te)-.18 G .172(xpect your scan-)473.566 326.4 R
(ner to go v)108 338.4 Q(ery f)-.15 E(ast.)-.1 E 1.006(When the scanner recei)
108 355.2 R -.15(ve)-.25 G 3.506(sa).15 G 3.506(ne)225.464 355.2 S 1.006
(nd-of-\214le indication from YY_INPUT)238.41 355.2 R 3.506(,i)-.74 G 3.506(tt)
403.064 355.2 S 1.005(hen checks the)412.13 355.2 R F1(yywrap\(\))3.505 E F0
(func-)3.505 E 2.623(tion. If)108 367.2 R F1(yywrap\(\))2.623 E F0 .123
(returns f)2.623 F .123
(alse \(zero\), then it is assumed that the function has gone ahead and set up)
-.1 F F2(yyin)2.623 E F0(to)2.623 E .008
(point to another input \214le, and scanning continues.)108 379.2 R .008
(If it returns true \(non-zero\), then the scanner terminates,)5.008 F
(returning 0 to its caller)108 391.2 Q(.)-.55 E(The def)108 408 Q(ault)-.1 E F1
(yywrap\(\))2.5 E F0(al)2.5 E -.1(wa)-.1 G(ys returns 1.).1 E .796
(The scanner writes its)108 424.8 R F1(ECHO)3.296 E F0 .796(output to the)3.296
F F2(yyout)3.296 E F0 .797(global \(def)3.296 F .797
(ault, stdout\), which may be rede\214ned by the)-.1 F
(user simply by assigning it to some other)108 436.8 Q F1(FILE)2.5 E F0
(pointer)2.5 E(.)-.55 E/F3 9/Times-Bold@0 SF(ST)72 453.6 Q(AR)-.81 E 2.25(TC)
-.36 G(ONDITIONS)109.584 453.6 Q F2<8d65>108 465.6 Q(x)-.2 E F0(pro)4.515 E
2.015(vides a mechanism for conditionally acti)-.15 F -.25(va)-.25 G 2.015
(ting rules.).25 F(An)7.015 E 4.515(yr)-.15 G 2.015
(ule whose pattern is pre\214x)394.815 465.6 R 2.015(ed with)-.15 F
("<sc>" will only be acti)108 477.6 Q .3 -.15(ve w)-.25 H
(hen the scanner is in the start condition named "sc".).15 E -.15(Fo)5 G 2.5
(re).15 G(xample,)454.3 477.6 Q 17.5(<STRING>[^"]* {)118 501.6 R
(/* eat up the string body ... */)2.5 E(...)148 513.6 Q(})148 525.6 Q
(will be acti)108 549.6 Q .3 -.15(ve o)-.25 H
(nly when the scanner is in the "STRING" start condition, and).15 E
(<INITIAL,STRING,Q)118 573.6 Q(UO)-.1 E 17.5(TE>\\. {)-.4 F
(/* handle an escape ... */)2.5 E(...)148 585.6 Q(})148 597.6 Q(will be acti)
108 621.6 Q .3 -.15(ve o)-.25 H
(nly when the current start condition is either "INITIAL", "STRING", or "Q).15
E(UO)-.1 E(TE".)-.4 E .608(Start conditions are declared in the de\214nitions \
\(\214rst\) section of the input using unindented lines be)108 638.4 R(ginning)
-.15 E .175(with either)108 650.4 R F1(%s)2.675 E F0(or)2.675 E F1(%x)2.675 E
F0(follo)2.675 E .175(wed by a list of names.)-.25 F .175(The former declares)
5.175 F F2(inclusive)2.675 E F0 .175(start conditions, the latter)2.675 F F2
-.2(ex)108 662.4 S(clusive).2 E F0 .802(start conditions.)3.302 F 3.302(As)
5.802 G .802(tart condition is acti)232.658 662.4 R -.25(va)-.25 G .802
(ted using the).25 F F1(BEGIN)3.302 E F0 3.302(action. Until)3.302 F .802
(the ne)3.302 F(xt)-.15 E F1(BEGIN)3.302 E F0 .872(action is e)108 674.4 R -.15
(xe)-.15 G .871(cuted, rules with the gi).15 F -.15(ve)-.25 G 3.371(ns).15 G
.871(tart condition will be acti)275.6 674.4 R 1.171 -.15(ve a)-.25 H .871
(nd rules with other start conditions).15 F 1.214(will be inacti)108 686.4 R
-.15(ve)-.25 G 6.214(.I).15 G 3.714(ft)183.732 686.4 S 1.215
(he start condition is)193.556 686.4 R F2(inclusive)3.715 E(,)-.1 E F0 1.215
(then rules with no start conditions at all will also be)3.715 F(acti)108 698.4
Q -.15(ve)-.25 G 5.228(.I).15 G 2.728(fi)142.538 698.4 S 2.728(ti)151.376 698.4
S(s)159.664 698.4 Q F2 -.2(ex)2.728 G(clusive).2 E(,)-.1 E F0(then)2.728 E F2
(only)2.728 E F0 .227(rules quali\214ed with the start condition will be acti)
2.728 F -.15(ve)-.25 G 5.227(.A).15 G .227(set of rules con-)475.169 698.4 R
.865(tingent on the same e)108 710.4 R(xclusi)-.15 E 1.166 -.15(ve s)-.25 H
.866(tart condition describe a scanner which is independent of an).15 F 3.366
(yo)-.15 G 3.366(ft)497.168 710.4 S .866(he other)506.644 710.4 R .8
(rules in the)108 722.4 R F2<8d65>3.3 E(x)-.2 E F0 3.3(input. Because)3.3 F .8
(of this, e)3.3 F(xclusi)-.15 E 1.1 -.15(ve s)-.25 H .8(tart conditions mak).15
F 3.3(ei)-.1 G 3.3(te)405.33 722.4 S .8(asy to specify "mini-scanners")415.85
722.4 R -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G
(mber 1993).15 E(10)530 768 Q EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R
(which scan portions of the input that are syntactically dif)108 84 Q
(ferent from the rest \(e.g., comments\).)-.25 E 1.608
(If the distinction between inclusi)108 100.8 R 1.908 -.15(ve a)-.25 H 1.608
(nd e).15 F(xclusi)-.15 E 1.908 -.15(ve s)-.25 H 1.608
(tart conditions is still a little v).15 F 1.608(ague, here')-.25 F 4.109(sas)
-.55 G(imple)517.22 100.8 Q -.15(ex)108 112.8 S
(ample illustrating the connection between the tw).15 E 2.5(o. The)-.1 F
(set of rules:)2.5 E(%s e)118 136.8 Q(xample)-.15 E(%%)118 148.8 Q(<e)118 160.8
Q 25(xample>foo /*)-.15 F(do something */)2.5 E(is equi)108 184.8 Q -.25(va)
-.25 G(lent to).25 E(%x e)118 208.8 Q(xample)-.15 E(%%)118 220.8 Q(<INITIAL,e)
118 232.8 Q 5(xample>foo /*)-.15 F(do something */)2.5 E 1.744
(Also note that the special start-condition speci\214er)108 261.6 R/F1 10
/Times-Bold@0 SF(<*>)4.244 E F0 1.743(matches e)4.244 F -.15(ve)-.25 G 1.743
(ry start condition.).15 F 1.743(Thus, the abo)6.743 F -.15(ve)-.15 G -.15(ex)
108 273.6 S(ample could also ha).15 E .3 -.15(ve b)-.2 H(een written;).15 E
(%x e)118 297.6 Q(xample)-.15 E(%%)118 309.6 Q 5(<*>foo /*)118 321.6 R
(do something */)2.5 E(The def)108 350.4 Q(ault rule \(to)-.1 E F1(ECHO)2.5 E
F0(an)2.5 E 2.5(yu)-.15 G(nmatched character\) remains acti)241.62 350.4 Q .3
-.15(ve i)-.25 H 2.5(ns).15 G(tart conditions.)399.78 350.4 Q F1(BEGIN\(0\))108
367.2 Q F0 .651(returns to the original state where only the rules with no sta\
rt conditions are acti)3.15 F -.15(ve)-.25 G 5.651(.T).15 G .651(his state)
506.849 367.2 R .195
(can also be referred to as the start-condition "INITIAL", so)108 379.2 R F1
(BEGIN\(INITIAL\))2.695 E F0 .195(is equi)2.695 F -.25(va)-.25 G .195(lent to)
.25 F F1(BEGIN\(0\).)2.695 E F0
(\(The parentheses around the start condition name are not required b)108 391.2
Q(ut are considered good style.\))-.2 E F1(BEGIN)108 408 Q F0 .485
(actions can also be gi)2.985 F -.15(ve)-.25 G 2.985(na).15 G 2.985(si)252.16
408 S .486(ndented code at the be)261.815 408 R .486
(ginning of the rules section.)-.15 F -.15(Fo)5.486 G 2.986(re).15 G .486
(xample, the)492.854 408 R(follo)108 420 Q .403
(wing will cause the scanner to enter the "SPECIAL" start condition whene)-.25
F -.15(ve)-.25 G(r).15 E/F2 10/Times-Italic@0 SF(yyle)2.902 E(x\(\))-.2 E F0
.402(is called and the)2.902 F(global v)108 432 Q(ariable)-.25 E F2
(enter_special)2.5 E F0(is true:)2.5 E(int enter_special;)138 456 Q(%x SPECIAL)
118 480 Q(%%)118 492 Q(if \( enter_special \))138 504 Q(BEGIN\(SPECIAL\);)148
516 Q(<SPECIAL>blahblahblah)118 540 Q(...more rules follo)118 552 Q -.65(w.)
-.25 G(..).65 E 2.06 -.8(To i)108 580.8 T .46
(llustrate the uses of start conditions, here is a scanner which pro).8 F .46
(vides tw)-.15 F 2.96(od)-.1 G(if)431.4 580.8 Q .46
(ferent interpretations of a)-.25 F .09(string lik)108 592.8 R 2.59(e")-.1 G
2.59(123.456". By)154.94 592.8 R(def)2.59 E .09
(ault it will treat it as as three tok)-.1 F .089(ens, the inte)-.1 F .089
(ger "123", a dot \('.)-.15 F .089('\), and the inte-)-.7 F .04(ger "456".)108
604.8 R .04(But if the string is preceded earlier in the line by the string "e)
5.04 F .04(xpect-\215oats" it will treat it as a sin-)-.15 F(gle tok)108 616.8
Q(en, the \215oating-point number 123.456:)-.1 E(%{)118 640.8 Q
(#include <math.h>)118 652.8 Q(%})118 664.8 Q(%s e)118 676.8 Q(xpect)-.15 E(%%)
118 700.8 Q -.15(ex)118 712.8 S 17.5(pect-\215oats BEGIN\(e).15 F(xpect\);)-.15
E -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993)
.15 E(11)530 768 Q EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R(<e)118 84 Q
12.5(xpect>[0-9]+"."[0-9]+ {)-.15 F(printf\( "found a \215oat, = %f\\n",)148 96
Q(atof\( yyte)168 108 Q(xt \) \);)-.15 E(})148 120 Q(<e)118 132 Q 25
(xpect>\\n {)-.15 F(/* that')148 144 Q 2.5(st)-.55 G(he end of the line, so)
185.23 144 Q 2.5(*w)150.5 156 S 2.5(en)165.22 156 S(eed another "e)177.16 156 Q
(xpect-number")-.15 E 2.5(*b)150.5 168 S(efore we')163 168 Q(ll recognize an)
-.1 E 2.5(ym)-.15 G(ore)274.93 168 Q 2.5(*n)150.5 180 S(umbers)163 180 Q(*/)
150.5 192 Q(BEGIN\(INITIAL\);)148 204 Q(})148 216 Q 12.5([0-9]+ {)118 240 R
(printf\( "found an inte)148 252 Q(ger)-.15 E 2.5(,=%)-.4 G(d\\n",)266.59 252 Q
(atoi\( yyte)168 264 Q(xt \) \);)-.15 E(})148 276 Q 20("." printf\()118 300 R
("found a dot\\n" \);)2.5 E 1.034(Here is a scanner which recognizes \(and dis\
cards\) C comments while maintaining a count of the current)108 324 R
(input line.)108 336 Q(%x comment)118 360 Q(%%)118 372 Q(int line_num = 1;)138
384 Q 20("/*" BEGIN\(comment\);)118 408 R 17.5(<comment>[^*\\n]* /*)118 432 R
(eat an)2.5 E(ything that')-.15 E 2.5(sn)-.55 G(ot a '*' */)305.23 432 Q 5
(<comment>"*"+[^*/\\n]* /*)118 444 R(eat up '*')2.5 E 2.5(sn)-.55 G(ot follo)
282.79 444 Q(wed by '/')-.25 E 2.5(s*)-.55 G(/)363.65 444 Q 30
(<comment>\\n ++line_num;)118 456 R 17.5(<comment>"*"+"/" BEGIN\(INITIAL\);)118
468 R .93(This scanner goes to a bit of trouble to match as much te)108 492 R
.931(xt as possible with each rule.)-.15 F .931(In general, when)5.931 F(attem\
pting to write a high-speed scanner try to match as much possible in each rule\
, as it')108 504 Q 2.5(sab)-.55 G(ig win.)483.78 504 Q .295
(Note that start-conditions names are really inte)108 520.8 R .295(ger v)-.15 F
.295(alues and can be stored as such.)-.25 F .294(Thus, the abo)5.294 F .594
-.15(ve c)-.15 H(ould).15 E(be e)108 532.8 Q(xtended in the follo)-.15 E
(wing f)-.25 E(ashion:)-.1 E(%x comment foo)118 556.8 Q(%%)118 568.8 Q
(int line_num = 1;)138 580.8 Q(int comment_caller;)138 592.8 Q 20("/*" {)118
616.8 R(comment_caller = INITIAL;)150.5 628.8 Q(BEGIN\(comment\);)150.5 640.8 Q
(})150.5 652.8 Q(...)118 676.8 Q 7.5(<foo>"/*" {)118 700.8 R
(comment_caller = foo;)150.5 712.8 Q(BEGIN\(comment\);)150.5 724.8 Q -1.11(Ve)
72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(12)
530 768 Q EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R(})150.5 84 Q
17.5(<comment>[^*\\n]* /*)118 108 R(eat an)2.5 E(ything that')-.15 E 2.5(sn)
-.55 G(ot a '*' */)305.23 108 Q 5(<comment>"*"+[^*/\\n]* /*)118 120 R
(eat up '*')2.5 E 2.5(sn)-.55 G(ot follo)282.79 120 Q(wed by '/')-.25 E 2.5(s*)
-.55 G(/)363.65 120 Q 30(<comment>\\n ++line_num;)118 132 R 17.5
(<comment>"*"+"/" BEGIN\(comment_caller\);)118 144 R .83
(Furthermore, you can access the current start condition using the inte)108 168
R(ger)-.15 E(-v)-.2 E(alued)-.25 E/F1 10/Times-Bold@0 SF(YY_ST)3.33 E(AR)-.9 E
(T)-.4 E F0 3.33(macro. F)3.33 F(or)-.15 E -.15(ex)108 180 S(ample, the abo).15
E .3 -.15(ve a)-.15 H(ssignments to).15 E/F2 10/Times-Italic@0 SF
(comment_caller)2.5 E F0(could instead be written)2.5 E(comment_caller = YY_ST)
118 204 Q(AR)-.93 E -.55(T;)-.6 G 1.252(Note that start conditions do not ha)
108 220.8 R 1.552 -.15(ve t)-.2 H 1.252(heir o).15 F 1.252(wn name-space; %s')
-.25 F 3.752(sa)-.55 G 1.252(nd %x')392.522 220.8 R 3.752(sd)-.55 G 1.251
(eclare names in the same)435.026 220.8 R -.1(fa)108 232.8 S
(shion as #de\214ne').1 E(s.)-.55 E(Finally)108 249.6 Q 3.056(,h)-.65 G(ere')
146.246 249.6 Q 3.056(sa)-.55 G 3.056(ne)172.622 249.6 S .556(xample of ho)
184.968 249.6 R 3.057(wt)-.25 G 3.057(om)251.657 249.6 S .557
(atch C-style quoted strings using e)267.494 249.6 R(xclusi)-.15 E .857 -.15
(ve s)-.25 H .557(tart conditions, includ-).15 F(ing e)108 261.6 Q
(xpanded escape sequences \(b)-.15 E
(ut not including checking for a string that')-.2 E 2.5(st)-.55 G(oo long\):)
422.04 261.6 Q(%x str)118 285.6 Q(%%)118 309.6 Q(char string_b)138 321.6 Q
(uf[MAX_STR_CONST];)-.2 E(char *string_b)138 333.6 Q(uf_ptr;)-.2 E 12.5
(\\" string_b)118 369.6 R(uf_ptr = string_b)-.2 E(uf; BEGIN\(str\);)-.2 E 17.5
(<str>\\" {)118 393.6 R(/* sa)2.5 E 2.5(wc)-.15 G(losing quote - all done */)
206.06 393.6 Q(BEGIN\(INITIAL\);)138 405.6 Q(*string_b)138 417.6 Q
(uf_ptr = '\\0';)-.2 E(/* return string constant tok)138 429.6 Q(en type and)
-.1 E 2.5(*v)140.5 441.6 S(alue to parser)152.75 441.6 Q(*/)140.5 453.6 Q(})138
465.6 Q 17.5(<str>\\n {)118 489.6 R(/* error - unterminated string constant */)
138 501.6 Q(/* generate error message */)138 513.6 Q(})138 525.6 Q
(<str>\\\\[0-7]{1,3} {)118 549.6 Q(/* octal escape sequence */)138 561.6 Q
(int result;)138 573.6 Q(\(v)138 597.6 Q(oid\) sscanf\( yyte)-.2 E
(xt + 1, "%o", &result \);)-.15 E(if \( result > 0xf)138 621.6 Q 2.5(f\))-.25 G
(/* error)158 633.6 Q 2.5(,c)-.4 G(onstant is out-of-bounds */)196.75 633.6 Q
(*string_b)138 657.6 Q(uf_ptr++ = result;)-.2 E(})138 669.6 Q
(<str>\\\\[0-9]+ {)118 693.6 Q
(/* generate error - bad escape sequence; something)138 705.6 Q 2.5(*l)140.5
717.6 S(ik)150.78 717.6 Q 2.5(e')-.1 G(\\48' or '\\0777777')168.73 717.6 Q(*/)
140.5 729.6 Q -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15
G(mber 1993).15 E(13)530 768 Q EP
%%Page: 14 14
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R(})138 84 Q 2.5
(<str>\\\\n *string_b)118 108 R(uf_ptr++ = '\\n';)-.2 E 2.5
(<str>\\\\t *string_b)118 120 R(uf_ptr++ = '\\t';)-.2 E 2.5
(<str>\\\\r *string_b)118 132 R(uf_ptr++ = '\\r';)-.2 E 2.5
(<str>\\\\b *string_b)118 144 R(uf_ptr++ = '\\b';)-.2 E 2.5
(<str>\\\\f *string_b)118 156 R(uf_ptr++ = '\\f)-.2 E(';).55 E 2.5
(<str>\\\\\(.|\\n\) *string_b)118 180 R(uf_ptr++ = yyte)-.2 E(xt[1];)-.15 E
17.5(<str>[^\\\\\\n\\"]+ {)118 204 R(char *yyte)138 216 Q(xt_ptr = yyte)-.15 E
(xt;)-.15 E(while \( *yyte)138 240 Q(xt_ptr \))-.15 E(*string_b)158 252 Q
(uf_ptr++ = *yyte)-.2 E(xt_ptr++;)-.15 E(})138 264 Q/F1 9/Times-Bold@0 SF(MUL)
72 292.8 Q(TIPLE INPUT B)-.828 E(UFFERS)-.09 E F0 .084(Some scanners \(such as\
 those which support "include" \214les\) require reading from se)108 304.8 R
-.15(ve)-.25 G .084(ral input streams.).15 F(As)5.084 E/F2 10/Times-Italic@0 SF
<8d65>108 316.8 Q(x)-.2 E F0 .483(scanners do a lar)2.983 F .483
(ge amount of b)-.18 F(uf)-.2 E .484(fering, one cannot control where the ne)
-.25 F .484(xt input will be read from by)-.15 F .487(simply writing a)108
328.8 R/F3 10/Times-Bold@0 SF(YY_INPUT)2.987 E F0 .487(which is sensiti)2.987 F
.787 -.15(ve t)-.25 H 2.987(ot).15 G .487(he scanning conte)319.276 328.8 R
(xt.)-.15 E F3(YY_INPUT)5.486 E F0 .486(is only called when)2.986 F .745
(the scanner reaches the end of its b)108 340.8 R(uf)-.2 E(fer)-.25 E 3.245(,w)
-.4 G .745(hich may be a long time after scanning a statement such as an)284.44
340.8 R("include" which requires switching the input source.)108 352.8 Q 2.084
-.8(To n)108 369.6 T -.15(eg).8 G .484(otiate these sorts of problems,).15 F F2
<8d65>2.984 E(x)-.2 E F0(pro)2.984 E .484
(vides a mechanism for creating and switching between multi-)-.15 F
(ple input b)108 381.6 Q(uf)-.2 E 2.5(fers. An)-.25 F(input b)2.5 E(uf)-.2 E
(fer is created by using:)-.25 E(YY_B)118 405.6 Q(UFFER_ST)-.1 E -1.11(AT)-.93
G 2.5(Ey)1.11 G(y_create_b)216.7 405.6 Q(uf)-.2 E
(fer\( FILE *\214le, int size \))-.25 E .05(which tak)108 429.6 R .05(es a)-.1
F F2(FILE)2.55 E F0 .05(pointer and a size and creates a b)2.55 F(uf)-.2 E .051
(fer associated with the gi)-.25 F -.15(ve)-.25 G 2.551<6e8c>.15 G .051
(le and lar)451.106 429.6 R .051(ge enough to)-.18 F(hold)108 441.6 Q F2(size)
2.773 E F0 .273(characters \(when in doubt, use)2.773 F F3(YY_B)2.773 E
(UF_SIZE)-.1 E F0 .273(for the size\).)2.773 F .273(It returns a)5.273 F F3
(YY_B)2.772 E(UFFER_ST)-.1 E -.95(AT)-.9 G(E).95 E F0
(handle, which may then be passed to other routines:)108 453.6 Q -.2(vo)118
477.6 S(id yy_switch_to_b).2 E(uf)-.2 E(fer\( YY_B)-.25 E(UFFER_ST)-.1 E -1.11
(AT)-.93 G 2.5(En)1.11 G -.25(ew)325.48 477.6 S(_b).25 E(uf)-.2 E(fer \))-.25 E
4.022(switches the scanner')108 501.6 R 6.522(si)-.55 G 4.022(nput b)214.216
501.6 R(uf)-.2 E 4.022(fer so subsequent tok)-.25 F 4.022(ens will come from)
-.1 F F2(ne)6.523 E(w_b)-.15 E(uf)-.2 E(fer)-.18 E(.)-1.11 E F0 4.023
(Note that)9.023 F F3(yy_switch_to_b)108 513.6 Q(uffer\(\))-.2 E F0 .485(may b\
e used by yywrap\(\) to set things up for continued scanning, instead of open-)
2.985 F(ing a ne)108 525.6 Q 2.5<778c>-.25 G(le and pointing)154.69 525.6 Q F2
(yyin)2.5 E F0(at it.)2.5 E -.2(vo)118 549.6 S(id yy_delete_b).2 E(uf)-.2 E
(fer\( YY_B)-.25 E(UFFER_ST)-.1 E -1.11(AT)-.93 G 2.5(Eb)1.11 G(uf)310.27 549.6
Q(fer \))-.25 E(is used to reclaim the storage associated with a b)108 573.6 Q
(uf)-.2 E(fer)-.25 E(.)-.55 E F3(yy_new_b)108 590.4 Q(uffer\(\))-.2 E F0 .933
(is an alias for)3.432 F F3(yy_cr)3.433 E(eate_b)-.18 E(uffer\(\),)-.2 E F0
(pro)3.433 E .933(vided for compatibility with the C++ use of)-.15 F F2(ne)
3.433 E(w)-.15 E F0(and)108 602.4 Q F2(delete)2.5 E F0(for creating and destro)
2.5 E(ying dynamic objects.)-.1 E(Finally)108 619.2 Q 4.835(,t)-.65 G(he)
145.805 619.2 Q F3(YY_CURRENT_B)4.835 E(UFFER)-.1 E F0 2.335(macro returns a)
4.835 F F3(YY_B)4.835 E(UFFER_ST)-.1 E -.95(AT)-.9 G(E).95 E F0 2.335
(handle to the current)4.835 F -.2(bu)108 631.2 S -.25(ff).2 G(er).25 E(.)-.55
E .024(Here is an e)108 648 R .025
(xample of using these features for writing a scanner which e)-.15 F .025
(xpands include \214les \(the)-.15 F F3(<<EOF>>)2.525 E F0
(feature is discussed belo)108 660 Q(w\):)-.25 E
(/* the "incl" state is used for picking up the name)118 684 Q 2.5(*o)120.5 696
S 2.5(fa)133 696 S 2.5(ni)143.27 696 S(nclude \214le)153.55 696 Q(*/)120.5 708
Q(%x incl)118 720 Q -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15
(ve)-.15 G(mber 1993).15 E(14)530 768 Q EP
%%Page: 15 15
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R(%{)118 84 Q
(#de\214ne MAX_INCLUDE_DEPTH 10)118 96 Q(YY_B)118 108 Q(UFFER_ST)-.1 E -1.11
(AT)-.93 G 2.5(Ei)1.11 G(nclude_stack[MAX_INCLUDE_DEPTH];)214.48 108 Q
(int include_stack_ptr = 0;)118 120 Q(%})118 132 Q(%%)118 156 Q 30
(include BEGIN\(incl\);)118 168 R 32.5([a-z]+ ECHO;)118 192 R 17.5
([^a-z\\n]*\\n? ECHO;)118 204 R(<incl>[ \\t]*)118 228 Q
(/* eat the whitespace */)179 228 Q(<incl>[^ \\t\\n]+)118 240 Q 2.5({/)7.5 G
2.5(*g)193.33 240 S(ot the include \214le name */)205.83 240 Q
(if \( include_stack_ptr >= MAX_INCLUDE_DEPTH \))138 252 Q({)148 264 Q
(fprintf\( stderr)148 276 Q 2.5(,")-.4 G(Includes nested too deeply" \);)210.83
276 Q -.15(ex)148 288 S(it\( 1 \);).15 E(})148 300 Q
(include_stack[include_stack_ptr++] =)138 324 Q(YY_CURRENT_B)148 336 Q(UFFER;)
-.1 E(yyin = fopen\( yyte)138 360 Q(xt, "r" \);)-.15 E(if \( ! yyin \))138 384
Q(error\( ... \);)148 396 Q(yy_switch_to_b)138 420 Q(uf)-.2 E(fer\()-.25 E
(yy_create_b)148 432 Q(uf)-.2 E(fer\( yyin, YY_B)-.25 E(UF_SIZE \) \);)-.1 E
(BEGIN\(INITIAL\);)138 456 Q(})138 468 Q(<<EOF>> {)118 492 Q
(if \( --include_stack_ptr < 0 \))138 504 Q({)148 516 Q(yyterminate\(\);)148
528 Q(})148 540 Q(else)138 564 Q({)148 576 Q(yy_delete_b)148 588 Q(uf)-.2 E
(fer\( YY_CURRENT_B)-.25 E(UFFER \);)-.1 E(yy_switch_to_b)148 600 Q(uf)-.2 E
(fer\()-.25 E(include_stack[include_stack_ptr] \);)160.5 612 Q(})148 624 Q(})
138 636 Q/F1 9/Times-Bold@0 SF(END-OF-FILE R)72 664.8 Q(ULES)-.27 E F0 .058
(The special rule "<<EOF>>" indicates actions which are to be tak)108 676.8 R
.057(en when an end-of-\214le is encountered and)-.1 F .598(yywrap\(\) returns\
 non-zero \(i.e., indicates no further \214les to process\).)108 688.8 R .598
(The action must \214nish by doing one)5.598 F(of four things:)108 700.8 Q
32.67(-a)108 717.6 S(ssigning)148.44 717.6 Q/F2 10/Times-Italic@0 SF(yyin)2.805
E F0 .304(to a ne)2.805 F 2.804(wi)-.25 G .304(nput \214le \(in pre)243.872
717.6 R .304(vious v)-.25 F .304(ersions of \215e)-.15 F .304
(x, after doing the assignment you had)-.15 F(to call the special action)144
729.6 Q/F3 10/Times-Bold@0 SF(YY_NEW_FILE;)2.5 E F0
(this is no longer necessary\);)2.5 E -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)
273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(15)530 768 Q EP
%%Page: 16 16
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R 32.67(-e)108
84 S -.15(xe)148.29 84 S(cuting a).15 E/F1 10/Times-Italic@0 SF -.37(re)2.5 G
(turn).37 E F0(statement;)2.5 E 32.67(-e)108 100.8 S -.15(xe)148.29 100.8 S
(cuting the special).15 E/F2 10/Times-Bold@0 SF(yyterminate\(\))2.5 E F0
(action;)2.5 E 32.67(-o)108 117.6 S .8 -.4(r, s)149 117.6 T(witching to a ne).4
E 2.5(wb)-.25 G(uf)239.25 117.6 Q(fer using)-.25 E F2(yy_switch_to_b)2.5 E
(uffer\(\))-.2 E F0(as sho)2.5 E(wn in the e)-.25 E(xample abo)-.15 E -.15(ve)
-.15 G(.).15 E .579(<<EOF>> rules may not be used with other patterns; the)108
134.4 R 3.079(ym)-.15 G .58(ay only be quali\214ed with a list of start condi-)
355.07 134.4 R 2.898(tions. If)108 146.4 R .398
(an unquali\214ed <<EOF>> rule is gi)2.898 F -.15(ve)-.25 G .398
(n, it applies to).15 F F1(all)2.898 E F0 .397
(start conditions which do not already ha)2.898 F -.15(ve)-.2 G
(<<EOF>> actions.)108 158.4 Q 1.6 -.8(To s)5 H
(pecify an <<EOF>> rule for only the initial start condition, use).8 E
(<INITIAL><<EOF>>)118 182.4 Q(These rules are useful for catching things lik)
108 211.2 Q 2.5(eu)-.1 G(nclosed comments.)297.86 211.2 Q(An e)5 E(xample:)-.15
E(%x quote)118 235.2 Q(%%)118 247.2 Q
(...other rules for dealing with quotes...)118 271.2 Q 5(<quote><<EOF>> {)118
295.2 R(error\( "unterminated quote" \);)140.5 307.2 Q(yyterminate\(\);)140.5
319.2 Q(})140.5 331.2 Q 2.5(<<EOF>> {)118 343.2 R(if \( *++\214lelist \))140.5
355.2 Q(yyin = fopen\( *\214lelist, "r" \);)150.5 367.2 Q(else)140.5 379.2 Q
(yyterminate\(\);)148 391.2 Q(})140.5 403.2 Q/F3 9/Times-Bold@0 SF
(MISCELLANEOUS MA)72 432 Q(CR)-.495 E(OS)-.27 E F0 .369(The macro YY_USER_A)108
444 R .369(CTION can be de\214ned to pro)-.4 F .369(vide an action which is al)
-.15 F -.1(wa)-.1 G .37(ys e).1 F -.15(xe)-.15 G .37(cuted prior to the).15 F
(matched rule')108 456 Q 2.5(sa)-.55 G 2.5(ction. F)173.54 456 R(or e)-.15 E
(xample, it could be #de\214ne')-.15 E 2.5(dt)-.5 G 2.5(oc)343.28 456 S
(all a routine to con)355.22 456 Q -.15(ve)-.4 G(rt yyte).15 E(xt to lo)-.15 E
(wer)-.25 E(-case.)-.2 E .205(The macro)108 472.8 R F2(YY_USER_INIT)2.705 E F0
.205(may be de\214ned to pro)2.705 F .205(vide an action which is al)-.15 F -.1
(wa)-.1 G .205(ys e).1 F -.15(xe)-.15 G .205(cuted before the \214rst).15 F
.148(scan \(and before the scanner')108 484.8 R 2.648(si)-.55 G .148
(nternal initializations are done\).)234.53 484.8 R -.15(Fo)5.148 G 2.648(re)
.15 G .149(xample, it could be used to call a rou-)388 484.8 R
(tine to read in a data table or open a logging \214le.)108 496.8 Q 1.404
(In the generated scanner)108 513.6 R 3.904(,t)-.4 G 1.404
(he actions are all g)218.456 513.6 R 1.404(athered in one lar)-.05 F 1.403
(ge switch statement and separated using)-.18 F F2(YY_BREAK,)108 525.6 Q F0
1.066(which may be rede\214ned.)3.566 F 1.066(By def)6.066 F 1.066
(ault, it is simply a "break", to separate each rule')-.1 F 3.567(sa)-.55 G
(ction)520 525.6 Q 4.469(from the follo)108 537.6 R 4.469(wing rule')-.25 F
6.969(s. Rede\214ning)-.55 F F2(YY_BREAK)6.968 E F0(allo)6.968 E 4.468
(ws, for e)-.25 F 4.468(xample, C++ users to #de\214ne)-.15 F .536
(YY_BREAK to do nothing \(while being v)108 549.6 R .536(ery careful that e)
-.15 F -.15(ve)-.25 G .536(ry rule ends with a "break" or a "return"!\) to).15
F -.2(avo)108 561.6 S .475(id suf).2 F .475
(fering from unreachable statement w)-.25 F .474(arnings where because a rule')
-.1 F 2.974(sa)-.55 G .474(ction ends with "return", the)425.234 561.6 R F2
(YY_BREAK)108 573.6 Q F0(is inaccessible.)2.5 E F3(INTERF)72 590.4 Q -.495(AC)
-.81 G(ING WITH Y).495 E -.495(AC)-.99 G(C).495 E F0 .717
(One of the main uses of)108 602.4 R F1<8d65>3.217 E(x)-.2 E F0 .717
(is as a companion to the)3.217 F F1(yacc)3.217 E F0(parser)3.217 E(-generator)
-.2 E(.)-.55 E F1(yacc)5.717 E F0 .717(parsers e)3.217 F .717(xpect to call a)
-.15 F .728(routine named)108 614.4 R F2(yylex\(\))3.228 E F0 .728
(to \214nd the ne)3.228 F .728(xt input tok)-.15 F 3.228(en. The)-.1 F .728
(routine is supposed to return the type of the ne)3.228 F(xt)-.15 E(tok)108
626.4 Q .572(en as well as putting an)-.1 F 3.072(ya)-.15 G .572(ssociated v)
229.502 626.4 R .573(alue in the global)-.25 F F2(yylv)3.073 E(al.)-.1 E F0
2.173 -.8(To u)5.573 H(se).8 E F1<8d65>3.073 E(x)-.2 E F0(with)3.073 E F1
(yacc,)3.073 E F0 .573(one speci\214es the)3.073 F F2<ad64>108 638.4 Q F0 .183
(option to)2.683 F F1(yacc)2.683 E F0 .182
(to instruct it to generate the \214le)2.683 F F2 -.7(y.)2.682 G(tab).7 E(.h)
-.4 E F0 .182(containing de\214nitions of all the)2.682 F F2(%tok)2.682 E(ens)
-.1 E F0(appear)2.682 E(-)-.2 E 1.025(ing in the)108 650.4 R F1(yacc)3.525 E F0
3.525(input. This)3.525 F 1.025(\214le is then included in the)3.525 F F1<8d65>
3.525 E(x)-.2 E F0(scanner)3.525 E 6.025(.F)-.55 G 1.025(or e)396.98 650.4 R
1.026(xample, if one of the tok)-.15 F 1.026(ens is)-.1 F("T)108 662.4 Q
(OK_NUMBER", part of the scanner might look lik)-.18 E(e:)-.1 E(%{)118 686.4 Q
(#include "y)118 698.4 Q(.tab)-.65 E(.h")-.4 E(%})118 710.4 Q -1.11(Ve)72 768 S
(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(16)530 768 Q
EP
%%Page: 17 17
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R(%%)118 84 Q
17.5([0-9]+ yylv)118 108 R(al = atoi\( yyte)-.25 E(xt \); return T)-.15 E
(OK_NUMBER;)-.18 E/F1 9/Times-Bold@0 SF(OPTIONS)72 136.8 Q/F2 10/Times-Italic@0
SF<8d65>108 148.8 Q(x)-.2 E F0(has the follo)2.5 E(wing options:)-.25 E/F3 10
/Times-Bold@0 SF<ad62>108 165.6 Q F0 .008(Generate backing-up information to)
144 165.6 R F2(le)2.507 E(x.bac)-.2 E(kup.)-.2 E F0 .007
(This is a list of scanner states which require back-)5.007 F .367
(ing up and the input characters on which the)144 177.6 R 2.867(yd)-.15 G 2.867
(os)336.843 177.6 S 2.867(o. By)348.6 177.6 R .367(adding rules one can remo)
2.867 F .668 -.15(ve b)-.15 H(acking-up).15 E 2.984(states. If)144 189.6 R .484
(all backing-up states are eliminated and)2.984 F F3(\255Cf)2.984 E F0(or)2.984
E F3(\255CF)2.984 E F0 .483(is used, the generated scanner will)2.984 F .335
(run f)144 201.6 R .335(aster \(see the)-.1 F F3<ad70>2.835 E F0 2.835
(\215ag\). Only)2.835 F .336(users who wish to squeeze e)2.835 F -.15(ve)-.25 G
.336(ry last c).15 F .336(ycle out of their scanners)-.15 F(need w)144 213.6 Q
(orry about this option.)-.1 E
(\(See the section on Performance Considerations belo)5 E -.65(w.)-.25 G(\)).65
E F3<ad63>108 230.4 Q F0
(is a do-nothing, deprecated option included for POSIX compliance.)144 230.4 Q
F3(NO)144 247.2 Q(TE:)-.4 E F0 .84(in pre)3.34 F .84(vious releases of)-.25 F
F2<8d65>3.34 E(x)-.2 E F3<ad63>3.34 E F0 .84
(speci\214ed table-compression options.)3.34 F .84(This functionality is)5.84 F
(no)144 259.2 Q 2.975(wg)-.25 G -2.15 -.25(iv e)168.945 259.2 T 2.975(nb).25 G
2.975(yt)193.74 259.2 S(he)204.495 259.2 Q F3<ad43>2.975 E F0 2.975(\215ag. T)
2.975 F 2.975(oe)-.8 G .475(ase the the impact of this change, when)273.505
259.2 R F2<8d65>2.976 E(x)-.2 E F0(encounters)2.976 E F3(\255c,)2.976 E F0 .476
(it cur)2.976 F(-)-.2 E .302(rently issues a w)144 271.2 R .301
(arning message and assumes that)-.1 F F3<ad43>2.801 E F0 -.1(wa)2.801 G 2.801
(sd).1 G .301(esired instead.)386.364 271.2 R .301(In the future this "pro-)
5.301 F 1.599(motion" of)144 283.2 R F3<ad63>4.099 E F0(to)4.099 E F3<ad43>
4.099 E F0 1.599(will go a)4.099 F -.1(wa)-.15 G 4.099(yi).1 G 4.099(nt)297.572
283.2 S 1.6(he name of full POSIX compliance \(unless the POSIX)309.451 283.2 R
(meaning is remo)144 295.2 Q -.15(ve)-.15 G 2.5<648c>.15 G(rst\).)232.86 295.2
Q F3<ad64>108 312 Q F0(mak)144 312 Q .25(es the generated scanner run in)-.1 F
F2(deb)2.75 E(ug)-.2 E F0 2.75(mode. Whene)2.75 F -.15(ve)-.25 G 2.75(rap).15 G
.25(attern is recognized and the global)401.28 312 R F3(yy_\215ex_deb)144 324 Q
(ug)-.2 E F0 1.386(is non-zero \(which is the def)3.886 F 1.386
(ault\), the scanner will write to)-.1 F F2(stderr)3.886 E F0 3.887(al)3.887 G
1.387(ine of the)499.456 324 R(form:)144 336 Q
(--accepting rule at line 53 \("the matched te)154 360 Q(xt"\))-.15 E .524(The\
 line number refers to the location of the rule in the \214le de\214ning the s\
canner \(i.e., the \214le that)144 384 R -.1(wa)144 396 S 2.73(sf).1 G .23
(ed to \215e)165.51 396 R 2.73(x\). Messages)-.15 F .231
(are also generated when the scanner backs up, accepts the def)2.73 F .231
(ault rule,)-.1 F .128(reaches the end of its input b)144 408 R(uf)-.2 E .128
(fer \(or encounters a NUL; at this point, the tw)-.25 F 2.628(ol)-.1 G .128
(ook the same as f)462.388 408 R(ar)-.1 E(as the scanner')144 420 Q 2.5(sc)-.55
G(oncerned\), or reaches an end-of-\214le.)213.7 420 Q F3<ad66>108 436.8 Q F0
(speci\214es)144 436.8 Q F2 .261(fast scanner)2.761 F(.)-1.11 E F0 .262
(No table compression is done and stdio is bypassed.)5.262 F .262
(The result is lar)5.262 F .262(ge b)-.18 F(ut)-.2 E -.1(fa)144 448.8 S 2.5
(st. This).1 F(option is equi)2.5 E -.25(va)-.25 G(lent to).25 E F3(\255Cfr)2.5
E F0(\(see belo)2.5 E(w\).)-.25 E F3<ad68>108 465.6 Q F0
(generates a "help" summary of)144 465.6 Q F2<8d65>2.5 E(x')-.2 E(s)-.4 E F0
(options to)2.5 E F2(stderr)2.5 E F0(and then e)2.5 E(xits.)-.15 E F3<ad69>108
482.4 Q F0(instructs)144 482.4 Q F2<8d65>2.931 E(x)-.2 E F0 .431(to generate a)
2.931 F F2(case-insensitive)2.931 E F0(scanner)2.931 E 5.431(.T)-.55 G .431
(he case of letters gi)362.597 482.4 R -.15(ve)-.25 G 2.93(ni).15 G 2.93(nt)
461.27 482.4 S(he)471.98 482.4 Q F2<8d65>2.93 E(x)-.2 E F0 .43(input pat-)2.93
F .056(terns will be ignored, and tok)144 494.4 R .056
(ens in the input will be matched re)-.1 F -.05(ga)-.15 G .057(rdless of case.)
.05 F .057(The matched te)5.057 F(xt)-.15 E(gi)144 506.4 Q -.15(ve)-.25 G 2.5
(ni).15 G(n)171.1 506.4 Q F2(yyte)2.5 E(xt)-.2 E F0(will ha)2.5 E .3 -.15(ve t)
-.2 H(he preserv).15 E(ed case \(i.e., it will not be folded\).)-.15 E F3<ad6c>
108 523.2 Q F0 .456(turns on maximum compatibility with the original A)144
523.2 R(T&T)-1.11 E F2(le)2.955 E(x)-.2 E F0 2.955(implementation. Note)2.955 F
.455(that this does)2.955 F .186(not mean)144 535.2 R F2(full)2.686 E F0
(compatibility)2.686 E 5.186(.U)-.65 G .187
(se of this option costs a considerable amount of performance, and it)267.434
535.2 R .735(cannot be used with the)144 547.2 R F3 .735(\255+, -f)3.235 F
3.235(,-)-.15 G 2.575 -.92(F, -)277.315 547.2 T(Cf).92 E(,)-.15 E F0(or)3.235 E
F3(-CF)3.235 E F0 3.235(options. F)3.235 F .735
(or details on the compatibilities it pro-)-.15 F
(vides, see the section "Incompatibilities W)144 559.2 Q(ith Le)-.4 E 2.5(xA)
-.15 G(nd POSIX" belo)352.51 559.2 Q -.65(w.)-.25 G F3<ad6e>108 576 Q F0
(is another do-nothing, deprecated option included only for POSIX compliance.)
144 576 Q F3<ad70>108 592.8 Q F0 1.019
(generates a performance report to stderr)144 592.8 R 6.019(.T)-.55 G 1.019
(he report consists of comments re)322.834 592.8 R -.05(ga)-.15 G 1.02
(rding features of).05 F(the)144 604.8 Q F2<8d65>3.278 E(x)-.2 E F0 .777(input\
 \214le which will cause a serious loss of performance in the resulting scanne\
r)3.277 F 5.777(.I)-.55 G 3.277(fy)518.393 604.8 S(ou)530 604.8 Q(gi)144 616.8
Q .744 -.15(ve t)-.25 H .444(he \215ag twice, you will also get comments re).15
F -.05(ga)-.15 G .445(rding features that lead to minor performance).05 F
(losses.)144 628.8 Q .17(Note that the use of)144 645.6 R F3(REJECT)2.67 E F0
.169(and v)2.67 F .169(ariable trailing conte)-.25 F .169
(xt \(see the Bugs section in \215e)-.15 F .169(x\(1\)\) entails)-.15 F 2.62
(as)144 657.6 S .12(ubstantial performance penalty; use of)154.95 657.6 R F2
(yymor)2.62 E(e\(\),)-.37 E F0(the)2.62 E F3(^)2.62 E F0(operator)2.62 E 2.62
(,a)-.4 G .12(nd the)415.46 657.6 R F3<ad49>2.62 E F0 .12
(\215ag entail minor per)2.62 F(-)-.2 E(formance penalties.)144 669.6 Q F3
<ad73>108 686.4 Q F0 .31(causes the)144 686.4 R F2 .31(default rule)2.81 F F0
.309(\(that unmatched scanner input is echoed to)2.81 F F2(stdout\))2.809 E F0
.309(to be suppressed.)2.809 F .309(If the)5.309 F .05
(scanner encounters input that does not match an)144 698.4 R 2.55(yo)-.15 G
2.551(fi)348.66 698.4 S .051(ts rules, it aborts with an error)357.321 698.4 R
5.051(.T)-.55 G .051(his option is)490.998 698.4 R
(useful for \214nding holes in a scanner')144 710.4 Q 2.5(sr)-.55 G(ule set.)
299.81 710.4 Q -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15
G(mber 1993).15 E(17)530 768 Q EP
%%Page: 18 18
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R/F1 10
/Times-Bold@0 SF<ad74>108 84 Q F0(instructs)144 84 Q/F2 10/Times-Italic@0 SF
<8d65>2.5 E(x)-.2 E F0
(to write the scanner it generates to standard output instead of)2.5 E F1
(lex.yy)2.5 E(.c.)-.7 E<ad76>108 100.8 Q F0 .357(speci\214es that)144 100.8 R
F2<8d65>2.857 E(x)-.2 E F0 .357(should write to)2.857 F F2(stderr)2.857 E F0
2.857(as)2.857 G .357(ummary of statistics re)317.196 100.8 R -.05(ga)-.15 G
.356(rding the scanner it generates.).05 F .313
(Most of the statistics are meaningless to the casual)144 112.8 R F2<8d65>2.813
E(x)-.2 E F0(user)2.813 E 2.813(,b)-.4 G .313
(ut the \214rst line identi\214es the v)394.382 112.8 R(ersion)-.15 E(of)144
124.8 Q F2<8d65>3.695 E(x)-.2 E F0 1.195(\(same as reported by)3.695 F F1
(\255V\),)3.695 E F0 1.195(and the ne)3.695 F 1.194
(xt line the \215ags used when generating the scanner)-.15 F(,)-.4 E
(including those that are on by def)144 136.8 Q(ault.)-.1 E F1<ad77>108 153.6 Q
F0(suppresses w)144 153.6 Q(arning messages.)-.1 E F1<ad42>108 170.4 Q F0
(instructs)144 170.4 Q F2<8d65>2.772 E(x)-.2 E F0 .272(to generate a)2.772 F F2
(batc)2.772 E(h)-.15 E F0(scanner)2.772 E 2.772(,t)-.4 G .272(he opposite of)
314.554 170.4 R F2(inter)2.772 E(active)-.15 E F0 .272(scanners generated by)
2.772 F F1<ad49>2.772 E F0(\(see)2.772 E(belo)144 182.4 Q 2.693(w\). In)-.25 F
.193(general, you use)2.693 F F1<ad42>2.693 E F0 .192(when you are)2.693 F F2
(certain)2.692 E F0 .192(that your scanner will ne)2.692 F -.15(ve)-.25 G 2.692
(rb).15 G 2.692(eu)481.306 182.4 S .192(sed interac-)493.438 182.4 R(ti)144
194.4 Q -.15(ve)-.25 G(ly).15 E 4.057(,a)-.65 G 1.557(nd you w)176.727 194.4 R
1.558(ant to squeeze a)-.1 F F2(little)4.058 E F0 1.558
(more performance out of it.)4.058 F 1.558(If your goal is instead to)6.558 F
1.552(squeeze out a)144 206.4 R F2(lot)4.052 E F0 1.551
(more performance, you should)4.052 F 1.551(be using the)6.551 F F1(\255Cf)
4.051 E F0(or)4.051 E F1(\255CF)4.051 E F0 1.551(options \(discussed)4.051 F
(belo)144 218.4 Q(w\), which turn on)-.25 E F1<ad42>2.5 E F0(automatically an)
2.5 E(yw)-.15 E(ay)-.1 E(.)-.65 E F1<ad46>108 235.2 Q F0 .552
(speci\214es that the)144 235.2 R F2(fast)3.052 E F0 .552
(scanner table representation should be used \(and stdio bypassed\).)3.052 F
.553(This rep-)5.553 F .112(resentation is about as f)144 247.2 R .112
(ast as the full table representation)-.1 F F1(\(-f\),)2.612 E F0 .111
(and for some sets of patterns will be)2.612 F 3.58
(considerably smaller \(and for others, lar)144 259.2 R 6.08(ger\). In)-.18 F
3.58(general, if the pattern set contains both)6.08 F("k)144 271.2 Q -.15(ey)
-.1 G -.1(wo).15 G
(rds" and a catch-all, "identi\214er" rule, such as in the set:).1 E 7.5
("case" return)154 295.2 R -.18(TO)2.5 G(K_CASE;).18 E 2.5("switch" return)154
307.2 R -.18(TO)2.5 G(K_SWITCH;).18 E(...)154 319.2 Q("def)154 331.2 Q
(ault" return T)-.1 E(OK_DEF)-.18 E -.55(AU)-.74 G -1.21 -.92(LT ;).55 H 7.5
([a-z]+ return)154 343.2 R -.18(TO)2.5 G(K_ID;).18 E .229(then you')144 367.2 R
.229(re better of)-.5 F 2.729(fu)-.25 G .229
(sing the full table representation.)236.916 367.2 R .228
(If only the "identi\214er" rule is present and)5.229 F
(you then use a hash table or some such to detect the k)144 379.2 Q -.15(ey)-.1
G -.1(wo).15 G(rds, you').1 E(re better of)-.5 E 2.5(fu)-.25 G(sing)469.22
379.2 Q F1(-F)2.5 E(.)-1.1 E F0(This option is equi)144 396 Q -.25(va)-.25 G
(lent to).25 E F1(\255CFr)2.5 E F0(\(see belo)2.5 E 2.5(w\). It)-.25 F
(cannot be used with)2.5 E F1(\255+.)2.5 E<ad49>108 412.8 Q F0(instructs)144
412.8 Q F2<8d65>4.257 E(x)-.2 E F0 1.757(to generate an)4.257 F F2(inter)4.257
E(active)-.15 E F0(scanner)4.257 E 6.757(.A)-.55 G 4.257(ni)357.289 412.8 S
(nteracti)369.326 412.8 Q 2.057 -.15(ve s)-.25 H 1.757
(canner is one that only looks).15 F .521(ahead to decide what tok)144 424.8 R
.521(en has been matched if it absolutely must.)-.1 F .52(It turns out that al)
5.52 F -.1(wa)-.1 G .52(ys look-).1 F .061(ing one e)144 436.8 R .061
(xtra character ahead, e)-.15 F -.15(ve)-.25 G 2.561(ni).15 G 2.561(ft)290.146
436.8 S .061(he scanner has already seen enough te)298.817 436.8 R .062
(xt to disambiguate the)-.15 F 1.105(current tok)144 448.8 R 1.105
(en, is a bit f)-.1 F 1.105(aster than only looking ahead when necessary)-.1 F
6.104(.B)-.65 G 1.104(ut scanners that al)444.408 448.8 R -.1(wa)-.1 G(ys).1 E
.653(look ahead gi)144 460.8 R .953 -.15(ve d)-.25 H .653(readful interacti).15
F .953 -.15(ve p)-.25 H .653(erformance; for e).15 F .653
(xample, when a user types a ne)-.15 F .654(wline, it is)-.25 F 1.37
(not recognized as a ne)144 472.8 R 1.37(wline tok)-.25 F 1.369(en until the)
-.1 F 3.869(ye)-.15 G(nter)337.757 472.8 Q F2(another)3.869 E F0(tok)3.869 E
1.369(en, which often means typing in)-.1 F(another whole line.)144 484.8 Q F2
(Fle)144 501.6 Q(x)-.2 E F0 .207(scanners def)2.707 F .207(ault to)-.1 F F2
(inter)2.707 E(active)-.15 E F0 .207(unless you use the)2.707 F F1(\255Cf)2.707
E F0(or)2.707 E F1(\255CF)2.707 E F0 .208(table-compression options \(see)2.707
F(belo)144 513.6 Q 3.226(w\). That')-.25 F 3.226(sb)-.55 G .726(ecause if you')
212.972 513.6 R .726
(re looking for high-performance you should be using one of these)-.5 F .113
(options, so if you didn')144 525.6 R(t,)-.18 E F2<8d65>2.613 E(x)-.2 E F0 .113
(assumes you')2.613 F 2.613(dr)-.5 G .114(ather trade of)326.234 525.6 R 2.614
(fab)-.25 G .114(it of run-time performance for intu-)397.52 525.6 R(iti)144
537.6 Q 2.073 -.15(ve i)-.25 H(nteracti).15 E 2.073 -.15(ve b)-.25 H(eha).15 E
(vior)-.2 E 6.773(.N)-.55 G 1.773(ote also that you)262.469 537.6 R F2(cannot)
4.273 E F0(use)4.273 E F1<ad49>4.273 E F0 1.772(in conjunction with)4.273 F F1
(\255Cf)4.272 E F0(or)4.272 E F1(\255CF)4.272 E(.)-1.1 E F0
(Thus, this option is not really needed; it is on by def)144 549.6 Q
(ault for all those cases in which it is allo)-.1 E(wed.)-.25 E -1.1(Yo)144
566.4 S 2.5(uc)1.1 G(an force a scanner to)167.06 566.4 Q F2(not)2.5 E F0
(be interacti)2.5 E .3 -.15(ve b)-.25 H 2.5(yu).15 G(sing)341.33 566.4 Q F1
<ad42>2.5 E F0(\(see abo)2.5 E -.15(ve)-.15 G(\).).15 E F1<ad4c>108 583.2 Q F0
(instructs)144 583.2 Q F2<8d65>2.721 E(x)-.2 E F0 .221(not to generate)2.721 F
F1(#line)2.721 E F0(directi)2.721 E -.15(ve)-.25 G 2.721(s. W).15 F .221
(ithout this option,)-.4 F F2<8d65>2.722 E(x)-.2 E F0 .222
(peppers the generated scan-)2.722 F .579(ner with #line directi)144 595.2 R
-.15(ve)-.25 G 3.078(ss).15 G 3.078(oe)249.234 595.2 S .578
(rror messages in the actions will be correctly located with respect to)261.752
595.2 R 1.025(the original)144 607.2 R F2<8d65>3.525 E(x)-.2 E F0 1.025
(input \214le, and not to the f)3.525 F 1.026
(airly meaningless line numbers of)-.1 F F1(lex.yy)3.526 E(.c.)-.7 E F0
(\(Unfortu-)6.026 E(nately)144 619.2 Q F2<8d65>3.361 E(x)-.2 E F0 .861
(does not presently generate the necessary directi)3.361 F -.15(ve)-.25 G 3.361
(st).15 G 3.361(o")406.359 619.2 S(retar)418.8 619.2 Q .86
(get" the line numbers for)-.18 F .146(those parts of)144 631.2 R F1(lex.yy)
2.646 E(.c)-.7 E F0 .146(which it generated.)2.646 F .146
(So if there is an error in the generated code, a meaning-)5.146 F
(less line number is reported.\))144 643.2 Q F1<ad54>108 660 Q F0(mak)144 660 Q
(es)-.1 E F2<8d65>3.079 E(x)-.2 E F0 .579(run in)3.079 F F2(tr)3.079 E(ace)-.15
E F0 3.079(mode. It)3.079 F .578(will generate a lot of messages to)3.078 F F2
(stderr)3.078 E F0 .578(concerning the form of)3.078 F 1.89(the input and the \
resultant non-deterministic and deterministic \214nite automata.)144 672 R 1.89
(This option is)6.89 F(mostly for use in maintaining)144 684 Q F2<8d65>2.5 E
(x.)-.2 E F1<ad56>108 700.8 Q F0(prints the v)144 700.8 Q(ersion number to)-.15
E F2(stderr)2.5 E F0(and e)2.5 E(xits.)-.15 E F1<ad37>108 717.6 Q F0(instructs)
144 717.6 Q F2<8d65>2.815 E(x)-.2 E F0 .315(to generate a 7-bit scanner)2.815 F
2.814(,i)-.4 G .314(.e., one which can only recognized 7-bit characters in its)
311.674 717.6 R 3.453(input. The)144 729.6 R(adv)3.453 E .953(antage of using)
-.25 F F1<ad37>3.453 E F0 .953(is that the scanner')3.453 F 3.453(st)-.55 G
.953(ables can be up to half the size of those)374.51 729.6 R -1.11(Ve)72 768 S
(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(18)530 768 Q
EP
%%Page: 19 19
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R .707
(generated using the)144 84 R/F1 10/Times-Bold@0 SF<ad38>3.207 E F0 .707
(option \(see belo)3.207 F 3.207(w\). The)-.25 F(disadv)3.207 E .706
(antage is that such scanners often hang or)-.25 F
(crash if their input contains an 8-bit character)144 96 Q(.)-.55 E 1.282
(Note, ho)144 112.8 R(we)-.25 E -.15(ve)-.25 G 2.082 -.4(r, t).15 H 1.282
(hat unless you generate your scanner using the).4 F F1(\255Cf)3.782 E F0(or)
3.782 E F1(\255CF)3.782 E F0 1.283(table compression)3.783 F .469
(options, use of)144 124.8 R F1<ad37>2.969 E F0 .468(will sa)2.969 F .768 -.15
(ve o)-.2 H .468(nly a small amount of table space, and mak).15 F 2.968(ey)-.1
G .468(our scanner consider)453.184 124.8 R(-)-.2 E .635(ably less portable.)
144 136.8 R/F2 10/Times-Italic@0 SF(Fle)5.635 E(x')-.2 E(s)-.4 E F0(def)3.135 E
.635(ault beha)-.1 F .636
(vior is to generate an 8-bit scanner unless you use the)-.2 F F1(\255Cf)3.136
E F0(or)144 148.8 Q F1(\255CF)2.532 E(,)-.92 E F0 .032(in which case)2.532 F F2
<8d65>2.532 E(x)-.2 E F0(def)2.532 E .032
(aults to generating 7-bit scanners unless your site w)-.1 F .031(as al)-.1 F
-.1(wa)-.1 G .031(ys con\214g-).1 F 1.976(ured to generate 8-bit scanners \(as\
 will often be the case with non-USA sites\).)144 160.8 R -1.1(Yo)6.977 G 4.477
(uc)1.1 G 1.977(an tell)513.303 160.8 R .308(whether \215e)144 172.8 R 2.808
(xg)-.15 G .308
(enerated a 7-bit or an 8-bit scanner by inspecting the \215ag summary in the)
201.676 172.8 R F1<ad76>2.807 E F0(output)2.807 E(as described abo)144 184.8 Q
-.15(ve)-.15 G(.).15 E .892(Note that if you use)144 201.6 R F1(\255Cfe)3.392 E
F0(or)3.392 E F1(\255CF)3.392 E(e)-.25 E F0 .892
(\(those table compression options, b)3.392 F .892(ut also using equi)-.2 F
-.25(va)-.25 G(lence).25 E .112(classes as discussed see belo)144 213.6 R .112
(w\), \215e)-.25 F 2.612(xs)-.15 G .112(till def)295.632 213.6 R .112
(aults to generating an 8-bit scanner)-.1 F 2.612(,s)-.4 G .112
(ince usually with)471.446 213.6 R
(these compression options full 8-bit tables are not much more e)144 225.6 Q
(xpensi)-.15 E .3 -.15(ve t)-.25 H(han 7-bit tables.).15 E F1<ad38>108 242.4 Q
F0(instructs)144 242.4 Q F2<8d65>2.817 E(x)-.2 E F0 .317
(to generate an 8-bit scanner)2.817 F 2.817(,i)-.4 G .317
(.e., one which can recognize 8-bit characters.)316.689 242.4 R .318
(This \215ag)5.318 F .687(is only needed for scanners generated using)144 254.4
R F1(\255Cf)3.187 E F0(or)3.187 E F1(\255CF)3.187 E(,)-.92 E F0 .686
(as otherwise \215e)3.187 F 3.186(xd)-.15 G(ef)457.078 254.4 Q .686
(aults to generating)-.1 F(an 8-bit scanner an)144 266.4 Q(yw)-.15 E(ay)-.1 E
(.)-.65 E .12(See the discussion of)144 283.2 R F1<ad37>2.62 E F0(abo)2.62 E
.42 -.15(ve f)-.15 H .121(or \215e).15 F(x')-.15 E 2.621(sd)-.55 G(ef)314.082
283.2 Q .121(ault beha)-.1 F .121(vior and the tradeof)-.2 F .121
(fs between 7-bit and 8-bit)-.25 F(scanners.)144 295.2 Q F1<ad2b>108 312 Q F0
.687(speci\214es that you w)144 312 R .687(ant \215e)-.1 F 3.186(xt)-.15 G
3.186(og)261.344 312 S .686(enerate a C++ scanner class.)274.53 312 R .686
(See the section on Generating C++)5.686 F(Scanners belo)144 324 Q 2.5(wf)-.25
G(or details.)212.62 324 Q F1(\255C[aefFmr])108 340.8 Q F0 1.012
(controls the de)144 352.8 R 1.012
(gree of table compression and, more generally)-.15 F 3.513(,t)-.65 G(rade-of)
404.201 352.8 Q 1.013(fs between small scanners)-.25 F(and f)144 364.8 Q
(ast scanners.)-.1 E F1(\255Ca)144 381.6 Q F0 1.376
(\("align"\) instructs \215e)3.876 F 3.876(xt)-.15 G 3.876(ot)263.764 381.6 S
1.375(rade of)275.42 381.6 R 3.875(fl)-.25 G(ar)314.57 381.6 Q 1.375
(ger tables in the generated scanner for f)-.18 F 1.375(aster perfor)-.1 F(-)
-.2 E .694(mance because the elements of the tables are better aligned for mem\
ory access and computation.)144 393.6 R 1.667
(On some RISC architectures, fetching and manipulating longw)144 405.6 R 1.666
(ords is more ef)-.1 F 1.666(\214cient than with)-.25 F(smaller)144 417.6 Q
1.071(-sized datums such as shortw)-.2 F 3.571(ords. This)-.1 F 1.072
(option can double the size of the tables used by)3.571 F(your scanner)144
429.6 Q(.)-.55 E F1(\255Ce)144 446.4 Q F0(directs)2.936 E F2<8d65>2.936 E(x)-.2
E F0 .436(to construct)2.936 F F2 .436(equivalence classes,)2.936 F F0 .436
(i.e., sets of characters which ha)2.936 F .735 -.15(ve i)-.2 H .435
(dentical le).15 F(xi-)-.15 E 1.261(cal properties \(for e)144 458.4 R 1.261
(xample, if the only appearance of digits in the)-.15 F F2<8d65>3.761 E(x)-.2 E
F0 1.262(input is in the character)3.761 F .635(class "[0-9]" then the digits \
'0', '1', ..., '9' will all be put in the same equi)144 470.4 R -.25(va)-.25 G
.635(lence class\).).25 F(Equi)5.635 E(v-)-.25 E .191
(alence classes usually gi)144 482.4 R .491 -.15(ve d)-.25 H .192
(ramatic reductions in the \214nal table/object \214le sizes \(typically a f)
.15 F(actor)-.1 E(of 2-5\) and are pretty cheap performance-wise \(one array l\
ook-up per character scanned\).)144 494.4 Q F1(\255Cf)144 511.2 Q F0 .383
(speci\214es that the)2.883 F F2(full)2.883 E F0 .383
(scanner tables should be generated -)2.883 F F2<8d65>2.882 E(x)-.2 E F0 .382
(should not compress the tables)2.882 F(by taking adv)144 523.2 Q
(antages of similar transition functions for dif)-.25 E(ferent states.)-.25 E
F1(\255CF)144 540 Q F0 1.268(speci\214es that the alternate f)3.768 F 1.268
(ast scanner representation \(described abo)-.1 F 1.569 -.15(ve u)-.15 H 1.269
(nder the).15 F F1<ad46>3.769 E F0(\215ag\))3.769 E(should be used.)144 552 Q
(This option cannot be used with)5 E F1(\255+.)2.5 E(\255Cm)144 568.8 Q F0
(directs)3.227 E F2<8d65>3.227 E(x)-.2 E F0 .726(to construct)3.226 F F2 .726
(meta-equivalence classes,)3.226 F F0 .726(which are sets of equi)3.226 F -.25
(va)-.25 G .726(lence classes \(or).25 F 1.618(characters, if equi)144 580.8 R
-.25(va)-.25 G 1.618
(lence classes are not being used\) that are commonly used together).25 F 6.619
(.M)-.55 G(eta-)525.01 580.8 Q(equi)144 592.8 Q -.25(va)-.25 G .819
(lence classes are often a big win when using compressed tables, b).25 F .819
(ut the)-.2 F 3.319(yh)-.15 G -2.25 -.2(av e)478.182 592.8 T 3.319(am)3.519 G
(oderate)510.57 592.8 Q(performance impact \(one or tw)144 604.8 Q 2.5(o")-.1 G
(if" tests and one array look-up per character scanned\).)279.33 604.8 Q F1
(\255Cr)144 621.6 Q F0 1.988(causes the generated scanner to)4.488 F F2(bypass)
4.489 E F0 1.989(use of the standard I/O library \(stdio\) for input.)4.489 F
.441(Instead of calling)144 633.6 R F1(fr)2.941 E(ead\(\))-.18 E F0(or)2.941 E
F1(getc\(\),)2.941 E F0 .441(the scanner will use the)2.941 F F1 -.18(re)2.94 G
(ad\(\)).18 E F0 .44(system call, resulting in a per)2.94 F(-)-.2 E 1.132
(formance g)144 645.6 R 1.132(ain which v)-.05 F 1.133
(aries from system to system, b)-.25 F 1.133(ut in general is probably ne)-.2 F
1.133(gligible unless)-.15 F .664(you are also using)144 657.6 R F1(\255Cf)
3.164 E F0(or)3.164 E F1(\255CF)3.164 E(.)-1.1 E F0(Using)5.664 E F1(\255Cr)
3.164 E F0 .663(can cause strange beha)3.164 F .663(vior if, for e)-.2 F .663
(xample, you read)-.15 F(from)144 669.6 Q F2(yyin)2.531 E F0 .032(using stdio \
prior to calling the scanner \(because the scanner will miss whate)2.531 F -.15
(ve)-.25 G 2.532(rt).15 G -.15(ex)507.068 669.6 S 2.532(ty).15 G(our)526.67
669.6 Q(pre)144 681.6 Q(vious reads left in the stdio input b)-.25 E(uf)-.2 E
(fer\).)-.25 E F1(\255Cr)144 698.4 Q F0(has no ef)2.5 E(fect if you de\214ne)
-.25 E F1(YY_INPUT)2.5 E F0(\(see The Generated Scanner abo)2.5 E -.15(ve)-.15
G(\).).15 E 3.173(Al)144 715.2 S(one)157.173 715.2 Q F1<ad43>3.173 E F0 .672
(speci\214es that the scanner tables should be compressed b)3.172 F .672
(ut neither equi)-.2 F -.25(va)-.25 G .672(lence classes).25 F(nor meta-equi)
144 727.2 Q -.25(va)-.25 G(lence classes should be used.).25 E -1.11(Ve)72 768
S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(19)530 768 Q
EP
%%Page: 20 20
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R .38
(The options)144 84 R/F1 10/Times-Bold@0 SF(\255Cf)2.88 E F0(or)2.88 E F1
(\255CF)2.88 E F0(and)2.88 E F1(\255Cm)2.88 E F0 .38(do not mak)2.88 F 2.88(es)
-.1 G .38(ense together - there is no opportunity for meta-)345.33 84 R(equi)
144 96 Q -.25(va)-.25 G 1.541
(lence classes if the table is not being compressed.).25 F 1.54
(Otherwise the options may be freely)6.541 F(mix)144 108 Q
(ed, and are cumulati)-.15 E -.15(ve)-.25 G(.).15 E 1.629(The def)144 124.8 R
1.629(ault setting is)-.1 F F1(\255Cem,)4.129 E F0 1.629
(which speci\214es that)4.129 F/F2 10/Times-Italic@0 SF<8d65>4.129 E(x)-.2 E F0
1.629(should generate equi)4.129 F -.25(va)-.25 G 1.63(lence classes and).25 F
(meta-equi)144 136.8 Q -.25(va)-.25 G .295(lence classes.).25 F .294
(This setting pro)5.295 F .294(vides the highest de)-.15 F .294
(gree of table compression.)-.15 F -1.1(Yo)5.294 G 2.794(uc)1.1 G(an)530.56
136.8 Q .923(trade of)144 148.8 R 3.423(ff)-.25 G(aster)185.476 148.8 Q(-e)-.2
E -.15(xe)-.15 G .923(cuting scanners at the cost of lar).15 F .924
(ger tables with the follo)-.18 F .924(wing generally being)-.25 F(true:)144
160.8 Q(slo)154 184.8 Q(west & smallest)-.25 E(-Cem)169 196.8 Q(-Cm)169 208.8 Q
(-Ce)169 220.8 Q(-C)169 232.8 Q(-C{f,F}e)169 244.8 Q(-C{f,F})169 256.8 Q
(-C{f,F}a)169 268.8 Q -.1(fa)154 280.8 S(stest & lar).1 E(gest)-.18 E 1.254(No\
te that scanners with the smallest tables are usually generated and compiled t\
he quick)144 304.8 R 1.253(est, so)-.1 F(during de)144 316.8 Q -.15(ve)-.25 G
(lopment you will usually w).15 E(ant to use the def)-.1 E
(ault, maximal compression.)-.1 E F1(\255Cfe)144 333.6 Q F0
(is often a good compromise between speed and size for production scanners.)2.5
E F1(\255Ppr)108 350.4 Q(e\214x)-.18 E F0 .978(changes the def)144 362.4 R
(ault)-.1 E F2(yy)3.478 E F0 .978(pre\214x used by)3.478 F F2<8d65>3.479 E(x)
-.2 E F0 .979(for all globally-visible v)3.479 F .979
(ariable and function names to)-.25 F .428(instead be)144 374.4 R F2(pr)2.928 E
(e\214x.)-.37 E F0 -.15(Fo)5.428 G 2.928(re).15 G(xample,)238.912 374.4 Q F1
(\255Pf)2.928 E(oo)-.25 E F0 .428(changes the name of)2.928 F F1(yytext)2.927 E
F0(to)2.927 E F1 -.25(fo)2.927 G(otext.).25 E F0 .427(It also changes the)5.427
F(name of the def)144 386.4 Q(ault output \214le from)-.1 E F1(lex.yy)2.5 E(.c)
-.7 E F0(to)2.5 E F1(lex.f)2.5 E(oo.c.)-.25 E F0(Here are all of the names af)5
E(fected:)-.25 E(yyFle)154 410.4 Q(xLe)-.15 E -.15(xe)-.15 G(r).15 E
(yy_create_b)154 422.4 Q(uf)-.2 E(fer)-.25 E(yy_delete_b)154 434.4 Q(uf)-.2 E
(fer)-.25 E(yy_\215e)154 446.4 Q(x_deb)-.15 E(ug)-.2 E(yy_init_b)154 458.4 Q
(uf)-.2 E(fer)-.25 E(yy_load_b)154 470.4 Q(uf)-.2 E(fer_state)-.25 E
(yy_switch_to_b)154 482.4 Q(uf)-.2 E(fer)-.25 E(yyin)154 494.4 Q(yyleng)154
506.4 Q(yyle)154 518.4 Q(x)-.15 E(yyout)154 530.4 Q(yyrestart)154 542.4 Q(yyte)
154 554.4 Q(xt)-.15 E(yywrap)154 566.4 Q -.4(Wi)144 590.4 S .112
(thin your scanner itself, you can still refer to the global v).4 F .112
(ariables and functions using either v)-.25 F(er)-.15 E(-)-.2 E
(sion of their name; b)144 602.4 Q(ut eternally)-.2 E 2.5(,t)-.65 G(he)278.97
602.4 Q 2.5(yh)-.15 G -2.25 -.2(av e)300.76 602.4 T(the modi\214ed name.)2.7 E
1.042(This option lets you easily link together multiple)144 619.2 R F2<8d65>
3.542 E(x)-.2 E F0 1.042(programs into the same e)3.542 F -.15(xe)-.15 G 3.542
(cutable. Note,).15 F .39(though, that using this option also renames)144 631.2
R F1(yywrap\(\),)2.89 E F0 .39(so you no)2.89 F(w)-.25 E F2(must)2.89 E F0(pro)
2.89 E .39(vide your o)-.15 F .39(wn \(appro-)-.25 F .071(priately-named\) v)
144 643.2 R .071(ersion of the routine for your scanner)-.15 F 2.571(,a)-.4 G
2.571(sl)373.678 643.2 S .071(inking with)382.919 643.2 R F1<ad6c8d>2.57 E F0
.07(no longer pro)2.57 F .07(vides one)-.15 F(for you by def)144 655.2 Q(ault.)
-.1 E F1(\255Ssk)108 672 Q(eleton_\214le)-.1 E F0 -.15(ove)144 684 S .796
(rrides the def).15 F .796(ault sk)-.1 F .796(eleton \214le from which)-.1 F F2
<8d65>3.296 E(x)-.2 E F0 .797(constructs its scanners.)3.296 F -1.1(Yo)5.797 G
(u')1.1 E .797(ll ne)-.1 F -.15(ve)-.25 G 3.297(rn).15 G .797(eed this)508.373
684 R(option unless you are doing)144 696 Q F2<8d65>2.5 E(x)-.2 E F0
(maintenance or de)2.5 E -.15(ve)-.25 G(lopment.).15 E -1.11(Ve)72 768 S
(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(20)530 768 Q
EP
%%Page: 21 21
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R/F1 9
/Times-Bold@0 SF(PERFORMANCE CONSIDERA)72 84 Q(TIONS)-.855 E F0 .381
(The main design goal of)108 96 R/F2 10/Times-Italic@0 SF<8d65>2.881 E(x)-.2 E
F0 .381(is that it generate high-performance scanners.)2.881 F .38
(It has been optimized for deal-)5.38 F 1.304(ing well with lar)108 108 R 1.304
(ge sets of rules.)-.18 F 1.304(Aside from the ef)6.304 F 1.305
(fects on scanner speed of the table compression)-.25 F/F3 10/Times-Bold@0 SF
<ad43>3.805 E F0 .223(options outlined abo)108 120 R -.15(ve)-.15 G 2.722(,t)
.15 G .222(here are a number of options/actions which de)207.258 120 R .222
(grade performance.)-.15 F .222(These are, from)5.222 F(most e)108 132 Q
(xpensi)-.15 E .3 -.15(ve t)-.25 H 2.5(ol).15 G(east:)184.95 132 Q(REJECT)118
156 Q(pattern sets that require backing up)118 180 Q(arbitrary trailing conte)
118 192 Q(xt)-.15 E(yymore\(\))118 216 Q('^' be)118 228 Q
(ginning-of-line operator)-.15 E .623(with the \214rst three all being quite e)
108 252 R(xpensi)-.15 E .924 -.15(ve a)-.25 H .624(nd the last tw).15 F 3.124
(ob)-.1 G .624(eing quite cheap.)363.142 252 R .624(Note also that)5.624 F F3
(unput\(\))3.124 E F0(is)3.124 E 1.63
(implemented as a routine call that potentially does quite a bit of w)108 264 R
1.63(ork, while)-.1 F F3(yyless\(\))4.13 E F0 1.63(is a quite-cheap)4.13 F
(macro; so if just putting back some e)108 276 Q(xcess te)-.15 E
(xt you scanned, use)-.15 E F3(yyless\(\).)2.5 E(REJECT)108 292.8 Q F0 1.663
(should be a)4.163 F -.2(vo)-.2 G 1.663
(ided at all costs when performance is important.).2 F 1.664
(It is a particularly e)6.664 F(xpensi)-.15 E -.15(ve)-.25 G(option.)108 304.8
Q .334
(Getting rid of backing up is messy and often may be an enormous amount of w)
108 321.6 R .333(ork for a complicated scan-)-.1 F(ner)108 333.6 Q 5(.I)-.55 G
2.5(np)131.05 333.6 S(rincipal, one be)143.55 333.6 Q(gins by using the)-.15 E
F3<ad62>2.5 E F0(\215ag to generate a)2.5 E F2(le)2.5 E(x.bac)-.2 E(kup)-.2 E
F0 2.5(\214le. F)2.5 F(or e)-.15 E(xample, on the input)-.15 E(%%)118 357.6 Q
17.5(foo return)118 369.6 R -.18(TO)2.5 G(K_KEYW).18 E(ORD;)-.1 E 10
(foobar return)118 381.6 R -.18(TO)2.5 G(K_KEYW).18 E(ORD;)-.1 E
(the \214le looks lik)108 405.6 Q(e:)-.1 E(State #6 is non-accepting -)118
429.6 Q(associated rule line numbers:)120.5 441.6 Q 17.5(23)135.5 453.6 S
(out-transitions: [ o ])120.5 465.6 Q(jam-transitions: EOF [ \\001-n)120.5
477.6 Q(p-\\177 ])5 E(State #8 is non-accepting -)118 501.6 Q
(associated rule line numbers:)120.5 513.6 Q(3)135.5 525.6 Q
(out-transitions: [ a ])120.5 537.6 Q(jam-transitions: EOF [ \\001-`)120.5
549.6 Q(b-\\177 ])5 E(State #9 is non-accepting -)118 573.6 Q
(associated rule line numbers:)120.5 585.6 Q(3)135.5 597.6 Q
(out-transitions: [ r ])120.5 609.6 Q(jam-transitions: EOF [ \\001-q)120.5
621.6 Q(s-\\177 ])5 E(Compressed tables al)118 645.6 Q -.1(wa)-.1 G
(ys back up.).1 E .487(The \214rst fe)108 669.6 R 2.987(wl)-.25 G .488
(ines tell us that there')165.591 669.6 R 2.988(sas)-.55 G .488
(canner state in which it can mak)271.288 669.6 R 2.988(eat)-.1 G .488
(ransition on an 'o' b)420.612 669.6 R .488(ut not on)-.2 F(an)108 681.6 Q 3.79
(yo)-.15 G 1.29(ther character)131.08 681.6 R 3.79(,a)-.4 G 1.29
(nd that in that state the currently scanned te)197.39 681.6 R 1.29
(xt does not match an)-.15 F 3.79(yr)-.15 G 3.79(ule. The)481.32 681.6 R(state)
3.79 E .415(occurs when trying to match the rules found at lines 2 and 3 in th\
e input \214le.)108 693.6 R .416(If the scanner is in that state)5.415 F .343
(and then reads something other than an 'o', it will ha)108 705.6 R .642 -.15
(ve t)-.2 H 2.842(ob).15 G .342(ack up to \214nd a rule which is matched.)
350.34 705.6 R -.4(Wi)5.342 G .342(th a).4 F .913
(bit of headscratching one can see that this must be the state it')108 717.6 R
3.413(si)-.55 G 3.413(nw)376.226 717.6 S .913(hen it has seen "fo".)391.859
717.6 R .913(When this has)5.913 F .589(happened, if an)108 729.6 R .589
(ything other than another 'o' is seen, the scanner will ha)-.15 F .888 -.15
(ve t)-.2 H 3.088(ob).15 G .588(ack up to simply match the)429.01 729.6 R -1.11
(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E
(21)530 768 Q EP
%%Page: 22 22
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R -1.95('f ')108
84 R(\(by the def)2.5 E(ault rule\).)-.1 E 1.09(The comment re)108 100.8 R -.05
(ga)-.15 G 1.09(rding State #8 indicates there').05 F 3.59(sap)-.55 G 1.09
(roblem when "foob" has been scanned.)329.26 100.8 R 1.09(Indeed, on)6.09 F(an)
108 112.8 Q 3.246(yc)-.15 G .746
(haracter other than an 'a', the scanner will ha)129.976 112.8 R 1.046 -.15
(ve t)-.2 H 3.245(ob).15 G .745(ack up to accept "foo".)345.075 112.8 R
(Similarly)5.745 E 3.245(,t)-.65 G .745(he comment)490.095 112.8 R
(for State #9 concerns when "fooba" has been scanned and an ')108 124.8 Q
(r' does not follo)-.5 E -.65(w.)-.25 G .8
(The \214nal comment reminds us that there')108 141.6 R 3.3(sn)-.55 G 3.3(op)
289.42 141.6 S .8(oint going to all the trouble of remo)302.72 141.6 R .8
(ving backing up from)-.15 F .062(the rules unless we')108 153.6 R .062
(re using)-.5 F/F1 10/Times-Bold@0 SF(\255Cf)2.562 E F0(or)2.562 E F1(\255CF)
2.562 E(,)-.92 E F0 .062(since there')2.562 F 2.562(sn)-.55 G 2.562(op)331.61
153.6 S .062(erformance g)344.172 153.6 R .061
(ain doing so with compressed scan-)-.05 F(ners.)108 165.6 Q(The w)108 182.4 Q
(ay to remo)-.1 E .3 -.15(ve t)-.15 H(he backing up is to add "error" rules:)
.15 E(%%)118 206.4 Q 20(foo return)118 218.4 R -.18(TO)2.5 G(K_KEYW).18 E(ORD;)
-.1 E 12.5(foobar return)118 230.4 R -.18(TO)2.5 G(K_KEYW).18 E(ORD;)-.1 E 15
(fooba |)118 254.4 R 17.5(foob |)118 266.4 R 22.5(fo {)118 278.4 R(/* f)148
290.4 Q(alse alarm, not really a k)-.1 E -.15(ey)-.1 G -.1(wo).15 G(rd */).1 E
(return T)148 302.4 Q(OK_ID;)-.18 E(})148 314.4 Q
(Eliminating backing up among a list of k)108 343.2 Q -.15(ey)-.1 G -.1(wo).15
G(rds can also be done using a "catch-all" rule:).1 E(%%)118 367.2 Q 20
(foo return)118 379.2 R -.18(TO)2.5 G(K_KEYW).18 E(ORD;)-.1 E 12.5
(foobar return)118 391.2 R -.18(TO)2.5 G(K_KEYW).18 E(ORD;)-.1 E 12.5
([a-z]+ return)118 415.2 R -.18(TO)2.5 G(K_ID;).18 E
(This is usually the best solution when appropriate.)108 439.2 Q .52
(Backing up messages tend to cascade.)108 456 R -.4(Wi)5.52 G .52
(th a complicated set of rules it').4 F 3.02(sn)-.55 G .52
(ot uncommon to get hundreds)418.48 456 R 1.299(of messages.)108 468 R 1.299
(If one can decipher them, though, it often only tak)6.299 F 1.298
(es a dozen or so rules to eliminate the)-.1 F .434(backing up \(though it')108
480 R 2.934(se)-.55 G .434(asy to mak)209.176 480 R 2.935(eam)-.1 G(istak)
275.805 480 Q 2.935(ea)-.1 G .435(nd ha)306.41 480 R .735 -.15(ve a)-.2 H 2.935
(ne).15 G .435(rror rule accidentally match a v)357.625 480 R .435(alid tok)
-.25 F 2.935(en. A)-.1 F(possible future)108 492 Q/F2 10/Times-Italic@0 SF
<8d65>2.5 E(x)-.2 E F0
(feature will be to automatically add rules to eliminate backing up\).)2.5 E F2
-1.11(Va)108 508.8 S(riable)1.11 E F0 .045(trailing conte)2.545 F .044
(xt \(where both the leading and trailing parts do not ha)-.15 F .344 -.15
(ve a \214)-.2 H -.15(xe).15 G 2.544(dl).15 G .044(ength\) entails almost)
456.582 508.8 R(the same performance loss as)108 520.8 Q F1(REJECT)2.5 E F0
(\(i.e., substantial\).)2.5 E(So when possible a rule lik)5 E(e:)-.1 E(%%)118
544.8 Q 5(mouse|rat/\(cat|dog\) run\(\);)118 556.8 R(is better written:)108
580.8 Q(%%)118 604.8 Q 20(mouse/cat|dog run\(\);)118 616.8 R 25
(rat/cat|dog run\(\);)118 628.8 R(or as)108 652.8 Q(%%)118 676.8 Q 20
(mouse|rat/cat run\(\);)118 688.8 R 20(mouse|rat/dog run\(\);)118 700.8 R
(Note that here the special '|' action does)108 724.8 Q F2(not)2.5 E F0(pro)2.5
E(vide an)-.15 E 2.5(ys)-.15 G -.2(av)339.93 724.8 S(ings, and can e).2 E -.15
(ve)-.25 G 2.5(nm).15 G(ak)432.92 724.8 Q 2.5(et)-.1 G(hings w)451.98 724.8 Q
(orse \(see)-.1 E -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)
-.15 G(mber 1993).15 E(22)530 768 Q EP
%%Page: 23 23
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R 2.867<418c>108
84 S .367(nal note re)123.647 84 R -.05(ga)-.15 G .367
(rding performance: as mentioned abo).05 F .667 -.15(ve i)-.15 H 2.868(nt).15 G
.368(he section Ho)352.144 84 R 2.868(wt)-.25 G .368
(he Input is Matched, dynami-)420.488 84 R 1.299(cally resizing)108 96 R/F1 10
/Times-Bold@0 SF(yytext)3.799 E F0 1.298(to accomodate huge tok)3.798 F 1.298
(ens is a slo)-.1 F 3.798(wp)-.25 G 1.298
(rocess because it presently requires that the)358.922 96 R .648(\(huge\) tok)
108 108 R .648(en be rescanned from the be)-.1 F 3.148(ginning. Thus)-.15 F
.648(if performance is vital, you should attempt to match)3.148 F("lar)108 120
Q .23(ge" quantities of te)-.18 F .23(xt b)-.15 F .23
(ut not "huge" quantities, where the cutof)-.2 F 2.73(fb)-.25 G .23
(etween the tw)387.7 120 R 2.73(oi)-.1 G 2.73(sa)454.11 120 S 2.73(ta)465.17
120 S .23(bout 8K charac-)475.12 120 R(ters/tok)108 132 Q(en.)-.1 E 1.457
(Another area where the user can increase a scanner')108 148.8 R 3.957(sp)-.55
G 1.458(erformance \(and one that')339.633 148.8 R 3.958(se)-.55 G 1.458
(asier to implement\))459.314 148.8 R .155(arises from the f)108 160.8 R .155
(act that the longer the tok)-.1 F .155(ens matched, the f)-.1 F .155
(aster the scanner will run.)-.1 F .154(This is because with)5.154 F .264
(long tok)108 172.8 R .264(ens the processing of most input characters tak)-.1
F .264(es place in the \(short\) inner scanning loop, and does)-.1 F .695
(not often ha)108 184.8 R .994 -.15(ve t)-.2 H 3.194(og).15 G 3.194(ot)185.418
184.8 S .694(hrough the additional w)196.392 184.8 R .694
(ork of setting up the scanning en)-.1 F .694(vironment \(e.g.,)-.4 F F1
(yytext\))3.194 E F0(for)3.194 E(the action.)108 196.8 Q
(Recall the scanner for C comments:)5 E(%x comment)118 220.8 Q(%%)118 232.8 Q
(int line_num = 1;)138 244.8 Q 20("/*" BEGIN\(comment\);)118 268.8 R
(<comment>[^*\\n]*)118 292.8 Q(<comment>"*"+[^*/\\n]*)118 304.8 Q 30
(<comment>\\n ++line_num;)118 316.8 R 17.5(<comment>"*"+"/" BEGIN\(INITIAL\);)
118 328.8 R(This could be sped up by writing it as:)108 352.8 Q(%x comment)118
376.8 Q(%%)118 388.8 Q(int line_num = 1;)138 400.8 Q 20("/*" BEGIN\(comment\);)
118 424.8 R(<comment>[^*\\n]*)118 448.8 Q 12.5
(<comment>[^*\\n]*\\n ++line_num;)118 460.8 R(<comment>"*"+[^*/\\n]*)118 472.8
Q(<comment>"*"+[^*/\\n]*\\n ++line_num;)118 484.8 Q 17.5
(<comment>"*"+"/" BEGIN\(INITIAL\);)118 496.8 R(No)108 520.8 Q 3.268(wi)-.25 G
.768(nstead of each ne)133.238 520.8 R .769
(wline requiring the processing of another action, recognizing the ne)-.25 F
.769(wlines is "dis-)-.25 F(trib)108 532.8 Q .386(uted" o)-.2 F -.15(ve)-.15 G
2.886(rt).15 G .386(he other rules to k)169.012 532.8 R .386
(eep the matched te)-.1 F .386(xt as long as possible.)-.15 F .386(Note that)
5.386 F/F2 10/Times-Italic@0 SF(adding)2.885 E F0 .385(rules does)2.885 F F2
(not)2.885 E F0(slo)108 544.8 Q 3.585(wd)-.25 G -.25(ow)135.225 544.8 S 3.585
(nt).25 G 1.085(he scanner!)158.56 544.8 R 1.085(The speed of the scanner is i\
ndependent of the number of rules or \(modulo the)6.085 F .054
(considerations gi)108 556.8 R -.15(ve)-.25 G 2.554(na).15 G 2.553(tt)197.138
556.8 S .053(he be)205.251 556.8 R .053(ginning of this section\) ho)-.15 F
2.553(wc)-.25 G .053(omplicated the rules are with re)345.709 556.8 R -.05(ga)
-.15 G .053(rd to operators).05 F(such as '*' and '|'.)108 568.8 Q 2.504<418c>
108 585.6 S .004(nal e)123.284 585.6 R .004
(xample in speeding up a scanner: suppose you w)-.15 F .005
(ant to scan through a \214le containing identi\214ers and)-.1 F -.1(ke)108
597.6 S(yw)-.05 E .359(ords, one per line and with no other e)-.1 F .359
(xtraneous characters, and recognize all the k)-.15 F -.15(ey)-.1 G -.1(wo).15
G 2.858(rds. A).1 F(natural)2.858 E(\214rst approach is:)108 609.6 Q(%%)118
633.6 Q 12.5(asm |)118 645.6 R 10(auto |)118 657.6 R 7.5(break |)118 669.6 R
(... etc ...)118 681.6 Q -.2(vo)118 693.6 S(latile |).2 E 7.5(while /*)118
705.6 R(it')2.5 E 2.5(sak)-.55 G -.15(ey)187.07 705.6 S -.1(wo).15 G(rd */).1 E
10(.|\\n /*)118 729.6 R(it')2.5 E 2.5(sn)-.55 G(ot a k)172.79 729.6 Q -.15(ey)
-.1 G -.1(wo).15 G(rd */).1 E -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768
Q -.15(ve)-.15 G(mber 1993).15 E(23)530 768 Q EP
%%Page: 24 24
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R 1.6 -.8(To e)
108 84 T(liminate the back-tracking, introduce a catch-all rule:).8 E(%%)118
108 Q 12.5(asm |)118 120 R 10(auto |)118 132 R 7.5(break |)118 144 R
(... etc ...)118 156 Q -.2(vo)118 168 S(latile |).2 E 7.5(while /*)118 180 R
(it')2.5 E 2.5(sak)-.55 G -.15(ey)187.07 180 S -.1(wo).15 G(rd */).1 E 5
([a-z]+ |)118 204 R 10(.|\\n /*)118 216 R(it')2.5 E 2.5(sn)-.55 G(ot a k)172.79
216 Q -.15(ey)-.1 G -.1(wo).15 G(rd */).1 E(No)108 240 Q 2.961 -.65(w, i)-.25 H
4.161(fi).65 G(t')146.252 240 Q 4.161(sg)-.55 G 1.661(uaranteed that there')
164.863 240 R 4.161(se)-.55 G 1.662(xactly one w)262.166 240 R 1.662
(ord per line, then we can reduce the total number of)-.1 F
(matches by a half by mer)108 252 Q(ging in the recognition of ne)-.18 E
(wlines with that of the other tok)-.25 E(ens:)-.1 E(%%)118 276 Q 7.5(asm\\n |)
118 288 R 5(auto\\n |)118 300 R 2.5(break\\n |)118 312 R(... etc ...)118 324 Q
-.2(vo)118 336 S(latile\\n |).2 E 2.5(while\\n /*)118 348 R(it')2.5 E 2.5(sak)
-.55 G -.15(ey)189.85 348 S -.1(wo).15 G(rd */).1 E([a-z]+\\n |)118 372 Q 10
(.|\\n /*)118 384 R(it')2.5 E 2.5(sn)-.55 G(ot a k)172.79 384 Q -.15(ey)-.1 G
-.1(wo).15 G(rd */).1 E .605(One has to be careful here, as we ha)108 408 R
.905 -.15(ve n)-.2 H 1.105 -.25(ow r).15 H .605
(eintroduced backing up into the scanner).25 F 5.605(.I)-.55 G 3.105(np)466.15
408 S(articular)479.255 408 Q 3.105(,w)-.4 G(hile)525 408 Q/F1 10
/Times-Italic@0 SF(we)108 420 Q F0(kno)2.802 E 2.802(wt)-.25 G .302
(hat there will ne)149.464 420 R -.15(ve)-.25 G 2.802(rb).15 G 2.802(ea)235.252
420 S .603 -.15(ny c)246.934 420 T .303
(haracters in the input stream other than letters or ne).15 F(wlines,)-.25 E F1
<8d65>2.803 E(x)-.2 E F0(can')2.803 E(t)-.18 E .3(\214gure this out, and it wi\
ll plan for possibly needing to back up when it has scanned a tok)108 432 R .3
(en lik)-.1 F 2.8(e")-.1 G .3(auto" and)501.46 432 R .015(then the ne)108 444 R
.016(xt character is something other than a ne)-.15 F .016(wline or a letter)
-.25 F 5.016(.P)-.55 G(re)389.144 444 Q .016(viously it w)-.25 F .016
(ould then just match the)-.1 F .385("auto" rule and be done, b)108 456 R .385
(ut no)-.2 F 2.885(wi)-.25 G 2.885(th)247.275 456 S .384
(as no "auto" rule, only a "auto\\n" rule.)257.94 456 R 1.984 -.8(To e)5.384 H
.384(liminate the possibility of).8 F 1.511
(backing up, we could either duplicate all rules b)108 468 R 1.511
(ut without \214nal ne)-.2 F 1.511(wlines, or)-.25 F 4.011(,s)-.4 G 1.511
(ince we ne)440.093 468 R -.15(ve)-.25 G 4.012(re).15 G 1.512(xpect to)506.548
468 R .818(encounter such an input and therefore don')108 480 R 3.318(th)-.18 G
1.318 -.25(ow i)295.446 480 T(t').25 E 3.317(sc)-.55 G .817
(lassi\214ed, we can introduce one more catch-all rule,)330.721 480 R
(this one which doesn')108 492 Q 2.5(ti)-.18 G(nclude a ne)203.37 492 Q(wline:)
-.25 E(%%)118 516 Q 7.5(asm\\n |)118 528 R 5(auto\\n |)118 540 R 2.5
(break\\n |)118 552 R(... etc ...)118 564 Q -.2(vo)118 576 S(latile\\n |).2 E
2.5(while\\n /*)118 588 R(it')2.5 E 2.5(sak)-.55 G -.15(ey)189.85 588 S -.1(wo)
.15 G(rd */).1 E([a-z]+\\n |)118 612 Q 5([a-z]+ |)118 624 R 10(.|\\n /*)118 636
R(it')2.5 E 2.5(sn)-.55 G(ot a k)172.79 636 Q -.15(ey)-.1 G -.1(wo).15 G(rd */)
.1 E(Compiled with)108 660 Q/F2 10/Times-Bold@0 SF(\255Cf)2.5 E(,)-.15 E F0
(this is about as f)2.5 E(ast as one can get a)-.1 E F1<8d65>2.5 E(x)-.2 E F0
(scanner to go for this particular problem.)2.5 E 3.453<418c>108 676.8 S .953
(nal note:)124.233 676.8 R F1<8d65>3.453 E(x)-.2 E F0 .954(is slo)3.453 F 3.454
(ww)-.25 G .954(hen matching NUL)219.93 676.8 R -.55('s)-.92 G 3.454(,p).55 G
.954(articularly when a tok)315.752 676.8 R .954(en contains multiple NUL)-.1 F
-.55('s)-.92 G 5.954(.I).55 G(t')530.55 676.8 Q(s)-.55 E 1.488
(best to write rules which match)108 688.8 R F1(short)3.987 E F0 1.487
(amounts of te)3.987 F 1.487(xt if it')-.15 F 3.987(sa)-.55 G 1.487
(nticipated that the te)369.018 688.8 R 1.487(xt will often include)-.15 F(NUL)
108 700.8 Q -.55('s)-.92 G(.).55 E -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)
273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(24)530 768 Q EP
%%Page: 25 25
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R/F1 9
/Times-Bold@0 SF(GENERA)72 84 Q(TING C++ SCANNERS)-.855 E/F2 10/Times-Italic@0
SF<8d65>108 96 Q(x)-.2 E F0(pro)2.84 E .34(vides tw)-.15 F 2.84(od)-.1 G(if)
184.39 96 Q .34(ferent w)-.25 F .34(ays to generate scanners for use with C++.)
-.1 F .341(The \214rst w)5.341 F .341(ay is to simply compile)-.1 F 3.212(as)
108 108 S .712(canner generated by)119.542 108 R F2<8d65>3.211 E(x)-.2 E F0
.711(using a C++ compiler instead of a C compiler)3.211 F 5.711(.Y)-.55 G .711
(ou should not encounter an)423.986 108 R(y)-.15 E 1.203
(compilations errors \(please report an)108 120 R 3.703(yy)-.15 G 1.203
(ou \214nd to the email address gi)272.995 120 R -.15(ve)-.25 G 3.703(ni).15 G
3.703(nt)421.286 120 S 1.204(he Author section belo)432.769 120 R(w\).)-.25 E
-1.1(Yo)108 132 S 3.239(uc)1.1 G .739
(an then use C++ code in your rule actions instead of C code.)131.799 132 R
.738(Note that the def)5.738 F .738(ault input source for)-.1 F .952
(your scanner remains)108 144 R F2(yyin,)3.452 E F0 .952(and def)3.452 F .952
(ault echoing is still done to)-.1 F F2(yyout.)3.452 E F0 .952
(Both of these remain)5.952 F F2 .953(FILE *)3.453 F F0 -.25(va)3.453 G(ri-).25
E(ables and not C++)108 156 Q F2(str)2.5 E(eams.)-.37 E F0 -1.1(Yo)108 172.8 S
2.662(uc)1.1 G .162(an also use)131.222 172.8 R F2<8d65>2.662 E(x)-.2 E F0 .162
(to generate a C++ scanner class, using the)2.662 F/F3 10/Times-Bold@0 SF<ad2b>
2.661 E F0 .161(option, which is automatically speci\214ed)2.661 F .885
(if the name of the \215e)108 184.8 R 3.385(xe)-.15 G -.15(xe)207.99 184.8 S
.885(cutable ends in a '+', such as).15 F F2<8d65>3.386 E(x++.)-.2 E F0 .886
(When using this option, \215e)5.886 F 3.386(xd)-.15 G(ef)502.274 184.8 Q .886
(aults to)-.1 F .772(generating the scanner to the \214le)108 196.8 R F3
(lex.yy)3.271 E(.cc)-.7 E F0 .771(instead of)3.271 F F3(lex.yy)3.271 E(.c.)-.7
E F0 .771(The generated scanner includes the header)5.771 F(\214le)108 208.8 Q
F2(Fle)2.5 E(xLe)-.2 E(xer)-.2 E(.h,)-1.11 E F0(which de\214nes the interf)2.5
E(ace to tw)-.1 E 2.5(oC)-.1 G(++ classes.)319.03 208.8 Q .94
(The \214rst class,)108 225.6 R F3(FlexLexer)3.44 E(,)-.92 E F0(pro)3.44 E .941
(vides an abstract base class de\214ning the general scanner class interf)-.15
F 3.441(ace. It)-.1 F(pro)108 237.6 Q(vides the follo)-.15 E
(wing member functions:)-.25 E F3(const char* YYT)108 254.4 Q(ext\(\))-.92 E F0
(returns the te)144 266.4 Q(xt of the most recently matched tok)-.15 E
(en, the equi)-.1 E -.25(va)-.25 G(lent of).25 E F3(yytext.)2.5 E
(int YYLeng\(\))108 283.2 Q F0
(returns the length of the most recently matched tok)144 295.2 Q(en, the equi)
-.1 E -.25(va)-.25 G(lent of).25 E F3(yyleng)2.5 E(.)-.15 E F0 .304(Also pro)
108 312 R .304(vided are member functions equi)-.15 F -.25(va)-.25 G .304
(lent to).25 F F3(yy_switch_to_b)2.804 E .304(uffer\(\), yy_cr)-.2 F(eate_b)
-.18 E(uffer\(\))-.2 E F0 .304(\(though the)2.804 F .305(\214rst ar)108 324 R
.305(gument is an)-.18 F F3(istr)2.805 E(eam*)-.18 E F0 .305
(object pointer and not a)2.805 F F3 .305(FILE*\), yy_delete_b)2.805 F
(uffer\(\),)-.2 E F0(and)2.805 E F3(yyr)2.805 E(estart\(\))-.18 E F0(\(ag)2.805
E(ain,)-.05 E(the \214rst ar)108 336 Q(gument is a)-.18 E F3(istr)2.5 E(eam*)
-.18 E F0(object pointer\).)2.5 E .82(The second class de\214ned in)108 352.8 R
F2(Fle)3.32 E(xLe)-.2 E(xer)-.2 E(.h)-1.11 E F0(is)3.32 E F3(yyFlexLexer)3.32 E
(,)-.92 E F0 .82(which is deri)3.32 F -.15(ve)-.25 G 3.32(df).15 G(rom)416.63
352.8 Q F3(FlexLexer)3.32 E(.)-1 E F0 .82(It de\214nes the)5.82 F(follo)108
364.8 Q(wing additional member functions:)-.25 E F3(yyFlexLexer\( istr)108
381.6 Q(eam* ar)-.18 E(g_yyin = 0, ostr)-.1 E(eam* ar)-.18 E(g_yy)-.1 E
(out = 0 \))-.25 E F0 .17(constructs a)144 393.6 R F3(yyFlexLexer)2.67 E F0 .17
(object using the gi)2.67 F -.15(ve)-.25 G 2.671(ns).15 G .171
(treams for input and output.)345.042 393.6 R .171(If not speci\214ed, the)
5.171 F(streams def)144 405.6 Q(ault to)-.1 E F3(cin)2.5 E F0(and)2.5 E F3
(cout,)2.5 E F0(respecti)2.5 E -.15(ve)-.25 G(ly).15 E(.)-.65 E F3
(virtual int yylex\(\))108 422.4 Q F0 .824(performs the same role is)144 434.4
R F3(yylex\(\))3.323 E F0 .823(does for ordinary \215e)3.323 F 3.323(xs)-.15 G
.823(canners: it scans the input stream, con-)379.812 434.4 R(suming tok)144
446.4 Q(ens, until a rule')-.1 E 2.5(sa)-.55 G(ction returns a v)263.9 446.4 Q
(alue.)-.25 E 2.271(In addition,)108 463.2 R F3(yyFlexLexer)4.771 E F0 2.271
(de\214nes the follo)4.771 F 2.272
(wing protected virtual functions which you can rede\214ne in)-.25 F(deri)108
475.2 Q -.15(ve)-.25 G 2.5(dc).15 G(lasses to tailor the scanner:)144.53 475.2
Q F3(virtual int LexerInput\( char* b)108 492 Q(uf)-.2 E 2.5(,i)-.15 G
(nt max_size \))257.1 492 Q F0 .826(reads up to)144 504 R F3(max_size)3.326 E
F0 .826(characters into)3.326 F F3 -.2(bu)3.325 G(f).2 E F0 .825
(and returns the number of characters read.)3.325 F 2.425 -.8(To i)5.825 H
(ndicate).8 E .277(end-of-input, return 0 characters.)144 516 R .277
(Note that "interacti)5.277 F -.15(ve)-.25 G 2.777("s).15 G .277
(canners \(see the)378.639 516 R F3<ad42>2.777 E F0(and)2.777 E F3<ad49>2.777 E
F0 .278(\215ags\) de\214ne)2.778 F .396(the macro)144 528 R F3(YY_INTERA)2.896
E(CTIVE.)-.55 E F0 .396(If you rede\214ne)5.396 F F3(LexerInput\(\))2.896 E F0
.396(and need to tak)2.896 F 2.895(ed)-.1 G(if)479.595 528 Q .395
(ferent actions)-.25 F .876
(depending on whether or not the scanner might be scanning an interacti)144 540
R 1.176 -.15(ve i)-.25 H .876(nput source, you can).15 F
(test for the presence of this name via)144 552 Q F3(#ifdef)2.5 E(.)-.15 E
(virtual v)108 568.8 Q(oid LexerOutput\( const char* b)-.1 E(uf)-.2 E 2.5(,i)
-.15 G(nt size \))295.61 568.8 Q F0 1.299(writes out)144 580.8 R F3(size)3.799
E F0 1.299(characters from the b)3.799 F(uf)-.2 E(fer)-.25 E F3 -.2(bu)3.798 G
-.15(f,).2 G F0 1.298(which, while NUL-terminated, may also contain)3.948 F
("internal" NUL)144 592.8 Q 1.1 -.55('s i)-.92 H 2.5(ft).55 G(he scanner')225.4
592.8 Q 2.5(sr)-.55 G(ules can match te)280.38 592.8 Q(xt with NUL)-.15 E 1.1
-.55('s i)-.92 H 2.5(nt).55 G(hem.)421.8 592.8 Q F3(virtual v)108 609.6 Q
(oid LexerErr)-.1 E(or\( const char* msg \))-.18 E F0 .124(reports a f)144
621.6 R .124(atal error message.)-.1 F .124(The def)5.124 F .124(ault v)-.1 F
.125(ersion of this function writes the message to the stream)-.15 F F3(cerr)
144 633.6 Q F0(and e)2.5 E(xits.)-.15 E .455(Note that a)108 650.4 R F3
(yyFlexLexer)2.954 E F0 .454(object contains its)2.954 F F2(entir)2.954 E(e)
-.37 E F0 .454(scanning state.)2.954 F .454
(Thus you can use such objects to create)5.454 F .175(reentrant scanners.)108
662.4 R -1.1(Yo)5.175 G 2.675(uc)1.1 G .175
(an instantiate multiple instances of the same)211.555 662.4 R F3(yyFlexLexer)
2.675 E F0 .176(class, and you can also)2.676 F
(combine multiple C++ scanner classes together in the same program using the)
108 674.4 Q F3<ad50>2.5 E F0(option discussed abo)2.5 E -.15(ve)-.15 G(.).15 E
(Finally)108 691.2 Q 2.905(,n)-.65 G .405(ote that the)146.095 691.2 R F3
(%array)2.904 E F0 .404(feature is not a)2.904 F -.25(va)-.2 G .404
(ilable to C++ scanner classes; you must use).25 F F3(%pointer)2.904 E F0
(\(the)2.904 E(def)108 703.2 Q(ault\).)-.1 E(Here is an e)108 720 Q
(xample of a simple C++ scanner:)-.15 E -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)
273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(25)530 768 Q EP
%%Page: 26 26
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R(// An e)128 84
Q(xample of using the \215e)-.15 E 2.5(xC)-.15 G(++ scanner class.)260.75 84 Q
(%{)118 108 Q(int mylineno = 0;)118 120 Q(%})118 132 Q 2.5
(string \\"[^\\n"]+\\")118 156 R 12.5(ws [)118 180 R(\\t]+)2.5 E 5
(alpha [A-Za-z])118 204 R 10(dig [0-9])118 216 R 7.5
(name \({alpha}|{dig}|\\$\)\({alpha}|{dig}|[_.\\-/$]\)*)118 228 R 7.5
(num1 [-+]?{dig}+\\.?\([eE][-+]?{dig}+\)?)118 240 R 7.5
(num2 [-+]?{dig}*\\.{dig}+\([eE][-+]?{dig}+\)?)118 252 R 2.5
(number {num1}|{num2})118 264 R(%%)118 288 Q 7.5({ws} /*)118 312 R
(skip blanks and tabs */)2.5 E 7.5("/*" {)118 336 R(int c;)138 348 Q
(while\(\(c = yyinput\(\)\) != 0\))138 372 Q({)148 384 Q(if\(c == '\\n'\))148
396 Q(++mylineno;)158 408 Q(else if\(c == '*'\))148 432 Q({)158 444 Q
(if\(\(c = yyinput\(\)\) == '/'\))158 456 Q(break;)168 468 Q(else)158 480 Q
(unput\(c\);)168 492 Q(})158 504 Q(})148 516 Q(})138 528 Q 2.5({number} cout)
118 552 R(<< "number " << YYT)2.5 E -.15(ex)-.7 G(t\(\) << '\\n';).15 E 17.5
(\\n mylineno++;)118 576 R 7.5({name} cout)118 600 R(<< "name " << YYT)2.5 E
-.15(ex)-.7 G(t\(\) << '\\n';).15 E 2.5({string} cout)118 624 R
(<< "string " << YYT)2.5 E -.15(ex)-.7 G(t\(\) << '\\n';).15 E(%%)118 648 Q
(int main\( int /* ar)118 672 Q(gc */, char** /* ar)-.18 E(gv */ \))-.18 E({)
128 684 Q(Fle)128 696 Q(xLe)-.15 E -.15(xe)-.15 G(r* le).15 E -.15(xe)-.15 G
2.5(r=n).15 G .5 -.25(ew y)211.48 696 T(yFle).25 E(xLe)-.15 E -.15(xe)-.15 G
(r;).15 E(while\(le)128 708 Q -.15(xe)-.15 G -.2(r-).15 G(>yyle).2 E
(x\(\) != 0\))-.15 E(;)138 720 Q -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795
768 Q -.15(ve)-.15 G(mber 1993).15 E(26)530 768 Q EP
%%Page: 27 27
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R(return 0;)128
84 Q(})128 96 Q(IMPOR)108 108 Q -.93(TA)-.6 G(NT).93 E 5.16(:t)-.5 G 2.66
(he present form of the scanning class is)175.02 108 R/F1 10/Times-Italic@0 SF
-.2(ex)5.16 G(perimental).2 E F0 2.66(and may change considerably)5.16 F
(between major releases.)108 120 Q/F2 9/Times-Bold@0 SF(INCOMP)72 136.8 Q -.855
(AT)-.666 G(IBILITIES WITH LEX AND POSIX).855 E F1<8d65>108 148.8 Q(x)-.2 E F0
.521(is a re)3.022 F .521(write of the A)-.25 F .521(T&T Unix)-1.11 F F1(le)
3.021 E(x)-.2 E F0 .521(tool \(the tw)3.021 F 3.021(oi)-.1 G .521
(mplementations do not share an)324.023 148.8 R 3.021(yc)-.15 G .521
(ode, though\), with)465.628 148.8 R .884(some e)108 160.8 R .884(xtensions an\
d incompatibilities, both of which are of concern to those who wish to write s\
canners)-.15 F .89(acceptable to either implementation.)108 172.8 R .89
(The POSIX)5.89 F F1(le)3.39 E(x)-.2 E F0 .89(speci\214cation is closer to)3.39
F F1<8d65>3.39 E(x')-.2 E(s)-.4 E F0(beha)3.39 E .89(vior than that of)-.2 F
.09(the original)108 184.8 R F1(le)2.59 E(x)-.2 E F0 .09(implementation, b)2.59
F .09(ut there also remain some incompatibilities between)-.2 F F1<8d65>2.59 E
(x)-.2 E F0 .09(and POSIX.)2.59 F(The)5.09 E .849(intent is that ultimately)108
196.8 R F1<8d65>3.349 E(x)-.2 E F0 .848(will be fully POSIX-conformant.)3.348 F
.848(In this section we discuss all of the kno)5.848 F(wn)-.25 E
(areas of incompatibility)108 208.8 Q(.)-.65 E F1<8d65>108 225.6 Q(x')-.2 E(s)
-.4 E/F3 10/Times-Bold@0 SF<ad6c>2.857 E F0 .357
(option turns on maximum compatibility with the original A)2.857 F(T&T)-1.11 E
F1(le)2.858 E(x)-.2 E F0 .358(implementation, at the cost of)2.858 F 3.132(am)
108 237.6 S .632(ajor loss in the generated scanner')123.352 237.6 R 3.132(sp)
-.55 G 3.132(erformance. W)274.334 237.6 R 3.132(en)-.8 G .632(ote belo)349.208
237.6 R 3.132(ww)-.25 G .632(hich incompatibilities can be o)399.102 237.6 R
-.15(ve)-.15 G -.2(r-).15 G(come using the)108 249.6 Q F3<ad6c>2.5 E F0
(option.)2.5 E F1<8d65>108 266.4 Q(x)-.2 E F0(is fully compatible with)2.5 E F1
(le)2.5 E(x)-.2 E F0(with the follo)2.5 E(wing e)-.25 E(xceptions:)-.15 E 32.67
(-T)108 283.2 S(he undocumented)150.11 283.2 Q F1(le)2.5 E(x)-.2 E F0
(scanner internal v)2.5 E(ariable)-.25 E F3(yylineno)2.5 E F0
(is not supported unless)2.5 E F3<ad6c>2.5 E F0(is used.)2.5 E
(yylineno is not part of the POSIX speci\214cation.)144 300 Q 32.67(-T)108
316.8 S(he)150.11 316.8 Q F3(input\(\))3.032 E F0 .532(routine is not rede\214\
nable, though it may be called to read characters follo)3.032 F .532
(wing what-)-.25 F -2.15 -.25(ev e)144 328.8 T 3.396(rh).25 G .896
(as been matched by a rule.)169.206 328.8 R(If)5.896 E F3(input\(\))3.396 E F0
.896(encounters an end-of-\214le the normal)3.396 F F3(yywrap\(\))3.396 E F0
(pro-)3.396 E(cessing is done.)144 340.8 Q 2.5(A`)5 G(`real')224.36 340.8 Q 2.5
('e)-.74 G(nd-of-\214le is returned by)255.54 340.8 Q F3(input\(\))2.5 E F0(as)
2.5 E F1(EOF)2.5 E(.)-1.35 E F0(Input is instead controlled by de\214ning the)
144 357.6 Q F3(YY_INPUT)2.5 E F0(macro.)2.5 E(The)144 374.4 Q F1<8d65>2.65 E(x)
-.2 E F0 .15(restriction that)2.65 F F3(input\(\))2.65 E F0 .15
(cannot be rede\214ned is in accordance with the POSIX speci\214cation,)2.65 F
.255(which simply does not specify an)144 386.4 R 2.755(yw)-.15 G .254
(ay of controlling the scanner')293.6 386.4 R 2.754(si)-.55 G .254
(nput other than by making an)421.24 386.4 R(initial assignment to)144 398.4 Q
F1(yyin.)2.5 E F0(-)108 415.2 Q F1<8d65>144 415.2 Q(x)-.2 E F0 .602
(scanners are not as reentrant as)3.101 F F1(le)3.102 E(x)-.2 E F0 3.102
(scanners. In)3.102 F(particular)3.102 E 3.102(,i)-.4 G 3.102(fy)405.84 415.2 S
.602(ou ha)417.272 415.2 R .902 -.15(ve a)-.2 H 3.102(ni).15 G(nteracti)467.328
415.2 Q .902 -.15(ve s)-.25 H(canner).15 E 1.474
(and an interrupt handler which long-jumps out of the scanner)144 427.2 R 3.973
(,a)-.4 G 1.473(nd the scanner is subsequently)412.458 427.2 R(called ag)144
439.2 Q(ain, you may get the follo)-.05 E(wing message:)-.25 E -.1(fa)154 463.2
S(tal \215e).1 E 2.5(xs)-.15 G(canner internal error)195.41 463.2 Q(--end of b)
-.2 E(uf)-.2 E(fer missed)-.25 E 1.6 -.8(To r)144 487.2 T(eenter the scanner).8
E 2.5<2c8c>-.4 G(rst use)242.49 487.2 Q(yyrestart\( yyin \);)154 511.2 Q .186
(Note that this call will thro)144 535.2 R 2.686(wa)-.25 G -.1(wa)266.374 535.2
S 2.686(ya).1 G .486 -.15(ny b)290.06 535.2 T(uf)-.05 E .186
(fered input; usually this isn')-.25 F 2.686(tap)-.18 G .186
(roblem with an interac-)445.852 535.2 R(ti)144 547.2 Q .3 -.15(ve s)-.25 H
(canner).15 E(.)-.55 E .963(Also note that \215e)144 564 R 3.463(xC)-.15 G .963
(++ scanner classes)230.482 564 R F1(ar)3.463 E(e)-.37 E F0 .963
(reentrant, so if using C++ is an option for you, you)3.463 F
(should use them instead.)144 576 Q(See "Generating C++ Scanners" abo)5 E .3
-.15(ve f)-.15 H(or details.).15 E(-)108 592.8 Q F3(output\(\))144 592.8 Q F0
.168(is not supported.)2.668 F .168(Output from the)5.168 F F3(ECHO)2.668 E F0
.168(macro is done to the \214le-pointer)2.668 F F1(yyout)2.668 E F0(\(def)
2.668 E(ault)-.1 E F1(stdout\).)144 604.8 Q F3(output\(\))144 621.6 Q F0
(is not part of the POSIX speci\214cation.)2.5 E(-)108 638.4 Q F1(le)144 638.4
Q(x)-.2 E F0(does not support e)2.5 E(xclusi)-.15 E .3 -.15(ve s)-.25 H
(tart conditions \(%x\), though the).15 E 2.5(ya)-.15 G
(re in the POSIX speci\214cation.)409.46 638.4 Q 32.67(-W)108 655.2 S
(hen de\214nitions are e)153.44 655.2 Q(xpanded,)-.15 E F1<8d65>2.5 E(x)-.2 E
F0(encloses them in parentheses.)2.5 E -.4(Wi)5 G(th le).4 E(x, the follo)-.15
E(wing:)-.25 E -.35(NA)154 679.2 S 7.5(ME [A-Z][A-Z0-9]*).35 F(%%)154 691.2 Q
(foo{N)154 703.2 Q 12.5(AME}? printf\()-.35 F("F)2.5 E(ound it\\n" \);)-.15 E
(%%)154 715.2 Q -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)
-.15 G(mber 1993).15 E(27)530 768 Q EP
%%Page: 28 28
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R 1.75
(will not match the string "foo" because when the macro is e)144 84 R 1.749
(xpanded the rule is equi)-.15 F -.25(va)-.25 G 1.749(lent to).25 F 4.149
("foo[A-Z][A-Z0-9]*?" and)144 96 R 1.649
(the precedence is such that the '?' is associated with "[A-Z0-9]*".)4.149 F
-.4(Wi)144 108 S(th).4 E/F1 10/Times-Italic@0 SF<8d65>2.775 E(x,)-.2 E F0 .275
(the rule will be e)2.775 F .274
(xpanded to "foo\([A-Z][A-Z0-9]*\)?" and so the string "foo" will match.)-.15 F
.303(Note that if the de\214nition be)144 124.8 R .303(gins with)-.15 F/F2 10
/Times-Bold@0 SF(^)2.804 E F0 .304(or ends with)2.804 F F2($)2.804 E F0 .304
(then it is)2.804 F F1(not)2.804 E F0 -.15(ex)2.804 G .304
(panded with parentheses, to).15 F(allo)144 136.8 Q 2.51(wt)-.25 G .01(hese op\
erators to appear in de\214nitions without losing their special meanings.)
171.26 136.8 R .01(But the)5.01 F F2 .01(<s>, /,)2.51 F F0(and)144 148.8 Q F2
(<<EOF>>)2.5 E F0(operators cannot be used in a)2.5 E F1<8d65>2.5 E(x)-.2 E F0
(de\214nition.)2.5 E(Using)144 165.6 Q F2<ad6c>2.5 E F0(results in the)2.5 E F1
(le)2.5 E(x)-.2 E F0(beha)2.5 E
(vior of no parentheses around the de\214nition.)-.2 E(The POSIX speci\214cati\
on is that the de\214nition be enclosed in parentheses.)144 182.4 Q 32.67(-T)
108 199.2 S(he)150.11 199.2 Q F1(le)2.756 E(x)-.2 E F2(%r)2.756 E F0 .256
(\(generate a Ratfor scanner\) option is not supported.)2.756 F .256
(It is not part of the POSIX speci-)5.256 F(\214cation.)144 211.2 Q 32.67(-A)
108 228 S .335(fter a call to)151.22 228 R F2(unput\(\),)2.834 E F1(yyte)2.834
E(xt)-.2 E F0(and)2.834 E F1(yyleng)2.834 E F0 .334
(are unde\214ned until the ne)2.834 F .334(xt tok)-.15 F .334
(en is matched, unless the)-.1 F .27(scanner w)144 240 R .27(as b)-.1 F .27
(uilt using)-.2 F F2(%array)2.77 E(.)-.7 E F0 .271(This is not the case with)
5.27 F F1(le)2.771 E(x)-.2 E F0 .271(or the POSIX speci\214cation.)2.771 F(The)
5.271 E F2<ad6c>2.771 E F0(option does a)144 252 Q -.1(wa)-.15 G 2.5(yw).1 G
(ith this incompatibility)223.46 252 Q(.)-.65 E 32.67(-T)108 268.8 S .073
(he precedence of the)150.11 268.8 R F2({})2.573 E F0 .073
(\(numeric range\) operator is dif)2.573 F(ferent.)-.25 E F1(le)5.073 E(x)-.2 E
F0 .072(interprets "abc{1,3}" as "match)2.573 F .323(one, tw)144 280.8 R .323
(o, or three occurrences of 'abc'", whereas)-.1 F F1<8d65>2.824 E(x)-.2 E F0
.324(interprets it as "match 'ab' follo)2.824 F .324(wed by one,)-.25 F(tw)144
292.8 Q(o, or three occurrences of 'c'".)-.1 E
(The latter is in agreement with the POSIX speci\214cation.)5 E 32.67(-T)108
309.6 S .285(he precedence of the)150.11 309.6 R F2(^)2.785 E F0 .285
(operator is dif)2.785 F(ferent.)-.25 E F1(le)5.285 E(x)-.2 E F0 .285
(interprets "^foo|bar" as "match either 'foo' at the)2.785 F(be)144 321.6 Q
.416(ginning of a line, or 'bar' an)-.15 F .416(ywhere", whereas)-.15 F F1
<8d65>2.916 E(x)-.2 E F0 .416(interprets it as "match either 'foo' or 'bar' if)
2.916 F(the)144 333.6 Q 2.5(yc)-.15 G(ome at the be)168.01 333.6 Q
(ginning of a line".)-.15 E
(The latter is in agreement with the POSIX speci\214cation.)5 E(-)108 350.4 Q
F1(yyin)144 350.4 Q F0(is)3.815 E F1(initialized)3.815 E F0(by)3.815 E F1(le)
3.815 E(x)-.2 E F0 1.315(to be)3.815 F F1 1.315(stdin; \215e)3.815 F(x,)-.2 E
F0 1.314(on the other hand, initializes)3.814 F F1(yyin)3.814 E F0 1.314
(to NULL and then)3.814 F F1(assigns)144 362.4 Q F0 .331(it to)2.831 F F1
(stdin)2.831 E F0 .331(the \214rst time the scanner is called, pro)2.831 F
(viding)-.15 E F1(yyin)2.831 E F0 .332(has not already been assigned)2.831 F
.867(to a non-NULL v)144 374.4 R 3.367(alue. The)-.25 F(dif)3.367 E .867
(ference is subtle, b)-.25 F .867(ut the net ef)-.2 F .867(fect is that with)
-.25 F F1<8d65>3.367 E(x)-.2 E F0(scanners,)3.367 E F1(yyin)3.367 E F0
(does not ha)144 386.4 Q .3 -.15(ve a v)-.2 H(alid v)-.1 E
(alue until the scanner has been called.)-.25 E(The)144 403.2 Q F2<ad6c>2.5 E
F0(option does a)2.5 E -.1(wa)-.15 G 2.5(yw).1 G(ith this incompatibility)
252.49 403.2 Q(.)-.65 E 32.67(-T)108 420 S .452
(he special table-size declarations such as)150.11 420 R F2(%a)2.952 E F0 .452
(supported by)2.952 F F1(le)2.952 E(x)-.2 E F0 .452(are not required by)2.952 F
F1<8d65>2.952 E(x)-.2 E F0(scanners;)2.952 E F1<8d65>144 432 Q(x)-.2 E F0
(ignores them.)2.5 E 32.67(-T)108 448.8 S .988
(he name FLEX_SCANNER is #de\214ne')150.11 448.8 R 3.488(ds)-.5 G 3.488(os)
323.15 448.8 S .988(canners may be written for use with either)335.528 448.8 R
F1<8d65>3.488 E(x)-.2 E F0(or)3.488 E F1(le)144 460.8 Q(x.)-.2 E F0(The follo)
108 477.6 Q(wing)-.25 E F1<8d65>2.5 E(x)-.2 E F0(features are not included in)
2.5 E F1(le)2.5 E(x)-.2 E F0(or the POSIX speci\214cation:)2.5 E
(yyterminate\(\))118 501.6 Q(<<EOF>>)118 513.6 Q(<*>)118 525.6 Q(YY_DECL)118
537.6 Q(YY_ST)118 549.6 Q(AR)-.93 E(T)-.6 E(YY_USER_A)118 561.6 Q(CTION)-.4 E
(#line directi)118 573.6 Q -.15(ve)-.25 G(s).15 E(%{}')118 585.6 Q 2.5(sa)-.55
G(round actions)149.54 585.6 Q(multiple actions on a line)118 597.6 Q .096
(plus almost all of the \215e)108 621.6 R 2.596<788d>-.15 G 2.596(ags. The)
217.876 621.6 R .097(last feature in the list refers to the f)2.596 F .097
(act that with)-.1 F F1<8d65>2.597 E(x)-.2 E F0 .097(you can put multi-)2.597 F
(ple actions on the same line, separated with semi-colons, while with)108 633.6
Q F1(le)2.5 E(x,)-.2 E F0(the follo)2.5 E(wing)-.25 E 7.5(foo handle_foo\(\);)
118 657.6 R(++num_foos_seen;)2.5 E(is \(rather surprisingly\) truncated to)108
681.6 Q 7.5(foo handle_foo\(\);)118 705.6 R F1<8d65>108 729.6 Q(x)-.2 E F0 .106
(does not truncate the action.)2.606 F .106
(Actions that are not enclosed in braces are simply terminated at the end of)
5.106 F -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)273.795 768 Q -.15(ve)-.15 G
(mber 1993).15 E(28)530 768 Q EP
%%Page: 29 29
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R(the line.)108
84 Q/F1 9/Times-Bold@0 SF(DIA)72 100.8 Q(GNOSTICS)-.495 E/F2 10/Times-Italic@0
SF(warning)108 112.8 Q 3.258(,r)-.1 G .758(ule cannot be matc)150.888 112.8 R
(hed)-.15 E F0 .758(indicates that the gi)3.258 F -.15(ve)-.25 G 3.258(nr).15 G
.758(ule cannot be matched because it follo)347.482 112.8 R .759(ws other)-.25
F 1.023(rules that will al)108 124.8 R -.1(wa)-.1 G 1.022(ys match the same te)
.1 F 1.022(xt as it.)-.15 F -.15(Fo)6.022 G 3.522(re).15 G 1.022
(xample, in the follo)333.296 124.8 R 1.022(wing "foo" cannot be matched)-.25 F
(because it comes after an identi\214er "catch-all" rule:)108 136.8 Q 7.5
([a-z]+ got_identi\214er\(\);)118 160.8 R 15(foo got_foo\(\);)118 172.8 R
(Using)108 196.8 Q/F3 10/Times-Bold@0 SF(REJECT)2.5 E F0
(in a scanner suppresses this w)2.5 E(arning.)-.1 E F2(warning)108 213.6 Q(,)
-.1 E F3<ad73>2.593 E F2 .093(option given b)2.593 F .094
(ut default rule can be matc)-.2 F(hed)-.15 E F0 .094
(means that it is possible \(perhaps only in a partic-)2.594 F .411
(ular start condition\) that the def)108 225.6 R .411(ault rule \(match an)-.1
F 2.911(ys)-.15 G .411(ingle character\) is the only one that will match a par)
324.47 225.6 R(-)-.2 E(ticular input.)108 237.6 Q(Since)5 E F3<ad73>2.5 E F0
-.1(wa)2.5 G 2.5(sg).1 G -2.15 -.25(iv e)223.87 237.6 T
(n, presumably this is not intended.).25 E F2 -.37(re)108 254.4 S(ject_used_b)
.37 E 2.002(ut_not_detected unde\214ned)-.2 F F0(or)4.502 E F2(yymor)4.502 E
(e_used_b)-.37 E 2.002(ut_not_detected unde\214ned -)-.2 F F0 2.003
(These errors can)4.503 F 1.168(occur at compile time.)108 266.4 R(The)6.168 E
3.668(yi)-.15 G 1.168(ndicate that the scanner uses)233.95 266.4 R F3(REJECT)
3.668 E F0(or)3.668 E F3(yymor)3.667 E(e\(\))-.18 E F0 -.2(bu)3.667 G 3.667(tt)
.2 G(hat)472.649 266.4 Q F2<8d65>3.667 E(x)-.2 E F0 -.1(fa)3.667 G 1.167
(iled to).1 F .211(notice the f)108 278.4 R .211(act, meaning that)-.1 F F2
<8d65>2.712 E(x)-.2 E F0 .212(scanned the \214rst tw)2.712 F 2.712(os)-.1 G
.212(ections looking for occurrences of these actions and)331.066 278.4 R -.1
(fa)108 290.4 S .245(iled to \214nd an).1 F 1.545 -.65(y, b)-.15 H .245
(ut someho).45 F 2.745(wy)-.25 G .245
(ou snuck some in \(via a #include \214le, for e)242.28 290.4 R 2.744
(xample\). Mak)-.15 F 2.744(ea)-.1 G 2.744(ne)485.232 290.4 S .244
(xplicit ref-)497.266 290.4 R .238(erence to the action in your)108 302.4 R F2
<8d65>2.738 E(x)-.2 E F0 .238(input \214le.)2.738 F .238(\(Note that pre)5.238
F(viously)-.25 E F2<8d65>2.738 E(x)-.2 E F0 .238(supported a)2.738 F F3
(%used/%unused)2.739 E F0(mecha-)2.739 E 1.24
(nism for dealing with this problem; this feature is still supported b)108
314.4 R 1.239(ut no)-.2 F 3.739(wd)-.25 G 1.239(eprecated, and will go a)
423.384 314.4 R -.1(wa)-.15 G(y).1 E
(soon unless the author hears from people who can ar)108 326.4 Q
(gue compellingly that the)-.18 E 2.5(yn)-.15 G(eed it.\))432.34 326.4 Q F2
<8d65>108 343.2 Q 3.276(xs)-.2 G .776(canner jammed -)128.846 343.2 R F0 3.276
(as)3.276 G .776(canner compiled with)213.04 343.2 R F3<ad73>3.276 E F0 .776
(has encountered an input string which w)3.276 F(asn')-.1 E 3.277(tm)-.18 G
(atched)513.9 343.2 Q(by an)108 355.2 Q 2.5(yo)-.15 G 2.5(fi)142.29 355.2 S
(ts rules.)150.9 355.2 Q(This error can also occur due to internal problems.)5
E F2(tok)108 372 Q .303(en too lar)-.1 F .503 -.1(ge, e)-.37 H .303
(xceeds YYLMAX -)-.1 F F0 .303(your scanner uses)2.803 F F3(%array)2.803 E F0
.303(and one of its rules matched a string longer)2.803 F .476(than the)108 384
R F3(YYLMAX)2.976 E F0 .476(constant \(8K bytes by def)2.976 F 2.977(ault\). Y)
-.1 F .477(ou can increase the v)-1.1 F .477(alue by #de\214ne'ing)-.25 F F3
(YYLMAX)2.977 E F0(in the de\214nitions section of your)108 396 Q F2<8d65>2.5 E
(x)-.2 E F0(input.)2.5 E F2 .161(scanner r)108 412.8 R(equir)-.37 E .161
(es \2558 \215a)-.37 F 2.661(gt)-.1 G 2.661(ou)212.324 412.8 S .161(se the c)
224.985 412.8 R(har)-.15 E .161(acter 'x' -)-.15 F F0 -1.1(Yo)2.661 G .16
(ur scanner speci\214cation includes recognizing the 8-bit)1.1 F(character)108
424.8 Q F2('x')2.933 E F0 .433
(and you did not specify the \2558 \215ag, and your scanner def)2.933 F .433
(aulted to 7-bit because you used the)-.1 F F3(\255Cf)108 436.8 Q F0(or)2.5 E
F3(\255CF)2.5 E F0(table compression options.)2.5 E(See the discussion of the)5
E F3<ad37>2.5 E F0(\215ag for details.)2.5 E F2<8d65>108 453.6 Q 3.683(xs)-.2 G
1.183(canner push-bac)129.253 453.6 R 3.683(ko)-.2 G 1.183(ver\215ow -)210.189
453.6 R F0 1.183(you used)3.683 F F3(unput\(\))3.683 E F0 1.183
(to push back so much te)3.683 F 1.183(xt that the scanner')-.15 F 3.682(sb)
-.55 G(uf)520.82 453.6 Q(fer)-.25 E 1.915
(could not hold both the pushed-back te)108 465.6 R 1.916
(xt and the current tok)-.15 F 1.916(en in)-.1 F F3(yytext.)4.416 E F0 1.916
(Ideally the scanner should)6.916 F(dynamically resize the b)108 477.6 Q(uf)-.2
E(fer in this case, b)-.25 E(ut at present it does not.)-.2 E F2 1.309(input b)
108 494.4 R(uf)-.2 E 1.309(fer o)-.18 F(ver\215ow)-.1 E 3.809(,c)-.74 G(an')
204.037 494.4 Q 3.809(te)-.3 G(nlar)228.096 494.4 Q 1.509 -.1(ge b)-.37 H(uf)
-.1 E 1.309(fer because scanner uses REJECT -)-.18 F F0 1.308(the scanner w)
3.808 F 1.308(as w)-.1 F 1.308(orking on)-.1 F .211(matching an e)108 506.4 R
.212(xtremely lar)-.15 F .212(ge tok)-.18 F .212(en and needed to e)-.1 F .212
(xpand the input b)-.15 F(uf)-.2 E(fer)-.25 E 5.212(.T)-.55 G .212(his doesn')
415.562 506.4 R 2.712(tw)-.18 G .212(ork with scanners)469.036 506.4 R
(that use)108 518.4 Q F3(REJECT)2.5 E(.)-.9 E F2 1.225(fatal \215e)108 535.2 R
3.725(xs)-.2 G 1.224(canner internal err)151.36 535.2 R(or)-.45 E 1.224
(--end of b)-.2 F(uf)-.2 E 1.224(fer missed -)-.18 F F0 1.224
(This can occur in an scanner which is reentered)3.724 F .813
(after a long-jump has jumped out \(or o)108 547.2 R -.15(ve)-.15 G .813
(r\) the scanner').15 F 3.313(sa)-.55 G(cti)348 547.2 Q -.25(va)-.25 G .814
(tion frame.).25 F .814(Before reentering the scanner)5.814 F(,)-.4 E(use:)108
559.2 Q(yyrestart\( yyin \);)118 583.2 Q(or)108 607.2 Q 2.5(,a)-.4 G 2.5(sn)
125.37 607.2 S(oted abo)136.76 607.2 Q -.15(ve)-.15 G 2.5(,s).15 G
(witch to using the C++ scanner class.)188.95 607.2 Q F2 .023
(too many start conditions in <> construct! -)108 624 R F0 .023
(you listed more start conditions in a <> construct than e)2.523 F .023
(xist \(so)-.15 F(you must ha)108 636 Q .3 -.15(ve l)-.2 H
(isted at least one of them twice\).).15 E F1(FILES)72 652.8 Q F0(See \215e)108
664.8 Q(x\(1\).)-.15 E F1(DEFICIENCIES / B)72 681.6 Q(UGS)-.09 E F0(Ag)108
693.6 Q(ain, see \215e)-.05 E(x\(1\).)-.15 E -1.11(Ve)72 768 S(rsion 2.4)1.11 E
(No)273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(29)530 768 Q EP
%%Page: 30 30
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 349.96(FLEXDOC\(1\) FLEXDOC\(1\))72 48 R/F1 9
/Times-Bold@0 SF(SEE ALSO)72 84 Q F0<8d65>108 96 Q(x\(1\), le)-.15 E
(x\(1\), yacc\(1\), sed\(1\), a)-.15 E(wk\(1\).)-.15 E
(M. E. Lesk and E. Schmidt,)108 112.8 Q/F2 10/Times-Italic@0 SF(LEX \255 Le)2.5
E(xical Analyzer Gener)-.2 E(ator)-.15 E F1 -.45(AU)72 129.6 S(THOR).45 E F0
-1.11(Ve)108 141.6 S .049(rn P)1.11 F .049(axson, with the help of man)-.15 F
2.549(yi)-.15 G .049(deas and much inspiration from V)256.363 141.6 R .05
(an Jacobson.)-1.11 F .05(Original v)5.05 F .05(ersion by Jef)-.15 F(Poskanzer)
108 153.6 Q 6.367(.T)-.55 G 1.367(he f)163.527 153.6 R 1.367
(ast table representation is a partial implementation of a design done by V)-.1
F 1.366(an Jacobson.)-1.11 F(The implementation w)108 165.6 Q(as done by K)-.1
E -.25(ev)-.25 G(in Gong and V).25 E(ern P)-1.11 E(axson.)-.15 E .415
(Thanks to the man)108 182.4 R(y)-.15 E F2<8d65>2.915 E(x)-.2 E F0 .415
(beta-testers, feedback)2.915 F .415(ers, and contrib)-.1 F .416
(utors, especially Francois Pinard, Case)-.2 F 2.916(yL)-.15 G(ee-)527.79 182.4
Q 1.046(dom, Nelson H.F)108 194.4 R 3.546(.B)-.8 G 1.045
(eebe, benson@odi.com, Peter A. Bigot, K)190.898 194.4 R 1.045
(eith Bostic, Frederic Brehm, Nick Christo-)-.25 F(pher)108 206.4 Q 3.87(,J)-.4
G 1.37(ason Coughlin, Bill Cox, Da)135.63 206.4 R 1.67 -.15(ve C)-.2 H 1.37
(urtis, Scott Da).15 F 1.37(vid Daniels, Chris G. Demetriou, Mik)-.2 F 3.87(eD)
-.1 G(onahue,)508.62 206.4 Q 1.992(Chuck Doucette, T)108 218.4 R 1.992
(om Epperly)-.8 F 4.492(,L)-.65 G 1.992(eo Eskin, Chris F)248.388 218.4 R
(aylor)-.15 E 4.491(,J)-.4 G 1.991(on F)354.694 218.4 R 1.991(orrest, Ka)-.15 F
-.15(ve)-.2 G 4.491(hR).15 G 4.491(.G)441.267 218.4 S 1.991
(hazi, Eric Goldman,)455.478 218.4 R .423(Ulrich Grepel, Jan Hajic, Jarkk)108
230.4 R 2.923(oH)-.1 G .424
(ietaniemi, Eric Hughes, John Interrante, Ceriel Jacobs, Jef)249.145 230.4 R
(fre)-.25 E 2.924(yR)-.15 G 2.924(.J)509.856 230.4 S(ones,)519.17 230.4 Q .031
(Henry Juengst, Amir Katz, k)108 242.4 R(en@k)-.1 E .031(en.hilco.com, K)-.1 F
-.25(ev)-.25 G .031(in B. K).25 F(enn)-.25 E 1.331 -.65(y, M)-.15 H .031(arq K)
.65 F .03(ole, Ronald Lamprecht, Gre)-.35 F 2.53(gL)-.15 G(ee,)528.62 242.4 Q
.537(Craig Leres, John Le)108 254.4 R .538(vine, Ste)-.25 F .838 -.15(ve L)-.25
H .538(iddle, Mohamed el Lozy).15 F 3.038(,B)-.65 G .538
(rian Madsen, Chris Metcalf, Luk)358.45 254.4 R 3.038(eM)-.1 G -.25(ew)507.96
254.4 S -.2(bu).25 G(rn,).2 E .349(Jim Me)108 266.4 R .349(yering, G.T)-.15 F
2.849(.N)-.74 G .349(icol, Landon Noll, Marc Nozell, Richard Ohnemus, Sv)
197.037 266.4 R .348(en P)-.15 F .348(anne, Roland Pesch, W)-.15 F(al-)-.8 E
3.12(ter Pelissero, Gaumond Pierre, Esmond Pitt, Jef Poskanzer)108 278.4 R 5.62
(,J)-.4 G 3.12(oe Rahmeh, Frederic Raimbault, Rick)375.87 278.4 R 1.339
(Richardson, K)108 290.4 R -.25(ev)-.25 G 1.338
(in Rodgers, Jim Roskind, Doug Schmidt, Philippe Schnoebelen, Andreas Schw).25
F 1.338(ab, Ale)-.1 F(x)-.15 E(Sie)108 302.4 Q .482(gel, Mik)-.15 F 2.982(eS)
-.1 G .482(tump, P)167.884 302.4 R .482(aul Stuart, Da)-.15 F .782 -.15(ve T)
-.2 H .482(allman, Chris The)-.65 F -.1(wa)-.25 G .482(lt, P).1 F .482(aul T)
-.15 F(uineng)-.45 E .482(a, Gary W)-.05 F .483(eik, Frank Whale)-.8 F -.65(y,)
-.15 G 1.84(Gerhard W)108 314.4 R 1.84(ilhelms, K)-.4 F 1.84(ent W)-.25 F 1.84
(illiams, K)-.4 F 1.84(en Y)-.25 F 1.84(ap, Nathan Zelle, Da)-1 F 1.84
(vid Zuhn, and those whose names ha)-.2 F -.15(ve)-.2 G(slipped my mar)108
326.4 Q(ginal mail-archi)-.18 E(ving skills b)-.25 E(ut whose contrib)-.2 E
(utions are appreciated all the same.)-.2 E .568(Thanks to K)108 343.2 R .568
(eith Bostic, Jon F)-.25 F .568
(orrest, Noah Friedman, John Gilmore, Craig Leres, John Le)-.15 F .568
(vine, Bob Mulc-)-.25 F(ah)108 355.2 Q 3.505 -.65(y, G)-.05 H(.T).65 E 7.205
(.N)-.74 G 2.204
(icol, Francois Pinard, Rich Salz, and Richard Stallman for help with v)160.96
355.2 R 2.204(arious distrib)-.25 F(ution)-.2 E(headaches.)108 367.2 Q .562(Th\
anks to Esmond Pitt and Earle Horton for 8-bit character support; to Benson Ma\
r)108 384 R .563(gulies and Fred Burk)-.18 F(e)-.1 E .523
(for C++ support; to K)108 396 R .523(ent W)-.25 F .523(illiams and T)-.4 F
.523(om Epperly for C++ class support; to Ov)-.8 F 3.022(eE)-.15 G .522
(werlid for support of)455.394 396 R(NUL)108 408 Q -.55('s)-.92 G 2.5(;a).55 G
(nd to Eric Hughes for support of multiple b)144.02 408 Q(uf)-.2 E(fers.)-.25 E
.951(This w)108 424.8 R .951(ork w)-.1 F .952(as primarily done when I w)-.1 F
.952(as with the Real T)-.1 F .952(ime Systems Group at the La)-.35 F .952
(wrence Berk)-.15 F(ele)-.1 E(y)-.15 E(Laboratory in Berk)108 436.8 Q(ele)-.1 E
1.3 -.65(y, C)-.15 H 2.5(A. Man).65 F 2.5(yt)-.15 G
(hanks to all there for the support I recei)255.26 436.8 Q -.15(ve)-.25 G(d.)
.15 E(Send comments to:)108 453.6 Q -1.11(Ve)120.5 477.6 S(rn P)1.11 E(axson)
-.15 E(Systems Engineering)120.5 489.6 Q(Bldg. 46A, Room 1123)120.5 501.6 Q(La)
120.5 513.6 Q(wrence Berk)-.15 E(ele)-.1 E 2.5(yL)-.15 G(aboratory)206.73 513.6
Q(Uni)120.5 525.6 Q -.15(ve)-.25 G(rsity of California).15 E(Berk)120.5 537.6 Q
(ele)-.1 E 1.3 -.65(y, C)-.15 H 2.5(A9).65 G(4720)182.09 537.6 Q -.15(ve)120.5
561.6 S(rn@ee.lbl.go).15 E(v)-.15 E -1.11(Ve)72 768 S(rsion 2.4)1.11 E(No)
273.795 768 Q -.15(ve)-.15 G(mber 1993).15 E(30)530 768 Q EP
%%Trailer
end
%%EOF
