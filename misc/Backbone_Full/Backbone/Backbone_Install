(set #wrongversion
(cat "You have an old version of the program 'Installer' "
     "on your Amiga!\n\n"
     "The installation procedure was written for Installer 42.9.\n\n"
     "Note that installation may fail!"
))

(if (< @installer-version 2752521)
  (
    (message #wrongversion)
  )
)

(set #intro
(cat
   "Welcome to the Backbone Installation Utility\n"
   "This program will install all the files needed\n"
   "into the desired directory and ensure you have\n"
   "all the required librarys installed also.\n\n"
   "NOTE:\n"
   "Ensure all archives are unpacked into the same\n"
   "place before beginning the installation.\n\n"
   "Thanks for using Backbone!\n"
   "Please consider Registering"
))

(message #intro)

(set #installdir (pathonly @icon))

(set #path
   (expandpath
      (askdir 
         (default "Work:")
         (prompt "Select Directory to Install Backbone into\nA Directory will Automatically be Created named Backbone")
         (help "Just do what it says!")
         (disk)
      )
   )
)

(set #bbpath (tackon #path "Backbone"))

(makedir #bbpath
   (prompt "I will now create the directory Backbone")
   (help @makedir-help)
   (infos)
)

(set #temp (tackon #installdir "Libs/Bone.Library"))
(copylib
   (prompt "Copying Bone Library")
   (help @copylib-help)
   (source #temp)
   (dest "LIBS:")
)

(set #temp (tackon #installdir "Libs/Easylife.Library"))
(copylib
   (prompt "Copying Easylife Library")
   (help @copylib-help)
   (source #temp)
   (dest "LIBS:")
)

(set #temp (tackon #installdir "Libs/Explode.Library"))
(copylib
   (prompt "Copying Explode Library")
   (help @copylib-help)
   (source #temp)
   (dest "LIBS:")
)

(set #temp (tackon #installdir "Fonts/"))
(copyfiles
   (prompt "Copying Fonts")
   (help @copylib-help)
   (all)
   (optional "force")
   (source #temp)
   (dest "LIBS:")
)

(set #temp (tackon #bbpath "Modules"))
(makedir #temp)
(set #temp (tackon #bbpath "Modules/Blocks"))
(makedir #temp)
(set #temp (tackon #bbpath "Modules/Controls"))
(makedir #temp)
(set #temp (tackon #bbpath "Modules/Details"))
(makedir #temp)
(set #temp (tackon #bbpath "Modules/Levels"))
(makedir #temp)
(set #temp (tackon #bbpath "Modules/Menus"))
(makedir #temp)
(set #temp (tackon #bbpath "Modules/Objects"))
(makedir #temp)
(set #temp (tackon #bbpath "Modules/Panels"))
(makedir #temp)
(set #temp (tackon #bbpath "Modules/Player"))
(makedir #temp)
(set #temp (tackon #bbpath "Modules/Scenes"))
(makedir #temp)
(set #temp (tackon #bbpath "Modules/Screen"))
(makedir #temp)

(set #temp (tackon #bbpath "Projects"))
(makedir #temp)
(set #temp (tackon #bbpath "Blocks"))
(makedir #temp)
(set #temp (tackon #bbpath "Music"))
(makedir #temp)
(set #temp (tackon #bbpath "Objects"))
(makedir #temp)
(set #temp (tackon #bbpath "Pictures"))
(makedir #temp)
(set #temp (tackon #bbpath "Rexx"))
(makedir #temp)
(set #temp (tackon #bbpath "Samples"))
(makedir #temp)
(set #temp (tackon #bbpath "Sounds"))
(makedir #temp)

(copyfiles
   (prompt "Copying all files to directory.")
   (help @copyfiles-help)
   (source #installdir)
   (all)
   (optional "force")
   (dest #bbpath)
)

(set #temp (tackon #bbpath "Libs"))
(delete #temp
   (prompt "Deleting unneeded Files")
   (help "Just cleaning up!")
   (all)
)

(set #temp (tackon #bbpath "#?Install#?"))
(delete #temp
   (prompt "Deleting unneeded Files")
   (help "Just cleaning up!")
   (all)
)

(set #end
(cat
   "Backbone Installation is now Complete!\n"
   "Pressing HELP at any time will bring up the user manual.\n\n"
   "For more information, join the Backbone mailing list:\n"
   "Go to: http://welcome.to/backbone\n"
   "   or: http://freespace.virgin.net/malcolm.murray/backboneml.html\n\n"
   "The author, Alastair Murray can be e-mailled at:\n"
   "malcolm.murray@virgin.net\n"
   "See the user manual for more details on how to contact me!\n\n"
   "The latest versions of Backbone can be found on\n"
   "AMINET under dev/misc/\n\n"
))
(message #end)

(set #end
(cat
   "I hope you enjoy using Backbone!\n"
   "Please consider registering."
))
(message #end)
