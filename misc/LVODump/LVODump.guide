@database LVODump.guide
@$VER: 1.0
@author "Marco Favaretto"
@(c) "© 1995"

@node "Main" "LVODump 1.0"
@next "Introduction"

------------------------------------------------------------------------------

                        @{b}@{fg shine}LVODump@{ub}@{fg text} - LVO table generator

                         Version 1.0  31 August 1995

                      Copyright © 1995  Marco Favaretto

------------------------------------------------------------------------------

   Do not worry about this impressive array of gadgets, because there are
   few informations behind them, for the program is quite simple; I just
   seized my opportunity to learn how to write an AmigaGuide database.


      @{" Introduction " link "Introduction" 0}    What is LVODump?
      @{" Requirements " link "Requirements" 0}    What system do I need?

      @{" Installation " link "Installation" 0}    Before you can use LVODump.
      @{" Usage        " link "Usage" 0}    How to use LVODump.
      @{" Error Codes  " link "ErrorCodes" 0}    How to understand what went wrong.
      @{" Tips         " link "Tips" 0}    Some less obvious possibilities.
   
      @{" Bugs         " link "Bugs" 0}    What does not work?
      @{" History      " link "History" 0}    What is new in this version?
      @{" To do        " link "ToDo" 0}    Future enhancements.

      @{" Disclaimer   " link "Disclaimer" 0}    Short: use it at your own risk!
      @{" Copyright    " link "Copyright" 0}    About legal issues.
      @{" Mailware     " link "Mailware" 0}    What is it?

      @{" Support      " link "Support" 0}    About updates and support.
      @{" Author       " link "Author" 0}    Who I am and where you can reach me.
@endnode

@node "Introduction" "LVODump 1.0 - Introduction"
@next "Requirements"
@prev "Main"
One day, I wanted to print a reference list of Library Vectors Offsets (LVO)
for the 3.1 system release, similar to appendix D of RKM - Libraries and
Devices.

I tried the @{"lvo" alink "lvo_banner" 0} program in the 3.1 developers update disks, but its output
doesn't satisfied me; so I wrote this little program that does a very simple
task: it reads a .fd file and prints out a complete reference list.

The program understands and correctly uses the .fd directives ##base, ##bias,
##private, ##public and ##end.
@endnode

@node "lvo_banner" "lvo banner"
@next "Introduction"
@prev "Introduction"
lvo v37.3 Copyright (c) 1990-1993 Commodore-Amiga, Inc.  All Rights Reserved
Usage: lvo library [funcname | LVO=0xhhhh,-0xhhhh,-n | ROMADDRESS=0xhhhhhhhh]
Options: [CONTAINS] [WEDGELINE [wedgeopts]] OR: lvo library EQUATES
>library_lib.i to output _lib.i equates Needs FD: assign to where FD's are
@endnode

@node "Requirements" "LVODump 1.0 - Requirements"
@next "Installation"
@prev "Introduction"
None at all. This program is self-sufficient, and it should work with every
system release, from 1.0 (there's anybody still using it?!?!) to 3.1, although
I tested it only on my machine, an A4000/030 with 2Mb Chip and 2Mb Fast,
running Workbench 3.0.
@endnode

@node "Installation" "LVODump 1.0 - Installation"
@next "Usage"
@prev "Requirements"
The only essential file is the executable @{u}LVODump@{uu}. Copy it wherever you want,
better into a path directory.
@endnode

@node "Usage" "LVODump 1.0 - Usage"
@next "ErrorCodes"
@prev "Installation"
@{b}LVODump 1.0@{ub} © Marco Favaretto 1995
Usage: LVODump <.fd file> [NOTAB] [NOHEADER] [NOBASE] [NOPRIVATE]


LVODump can be launched only from Shell. You can obtain the command template
the usual way (LVODump ?). Of course, output redirection is possible.


Parameters:

 .fd file    The program searches both the current directory and the fd:
             logical assign for it. <.fd file> can be either

                 <filename>           or   <filename>_lib.fd

             so, for example, you can type either

                 LVODump AmigaGuide   or   LVODump AmigaGuide_lib.fd

 NOTAB       As default, LVODump puts a TAB char (ascii 9) between each
             output columns in the output; if you prefer a space char
             (ascii 32), specify NOTAB in the command line;

 NOHEADER    As default, LVODump prints an header line like the following
             before the list of LVOs:

                 Dos Library Vectors Offsets   (Base name: _DOSBase)

             If you do not want the header, specify NOHEADER in the command
             line;

 NOBASE      If you want the header, but do not want the Base name, specify
             NOBASE in the command line;

 NOPRIVATE   As default, LVODump prints private LVOs as well as public LVOs;
             if you prefer a list without private LVOs, specify NOPRIVATE in
             the command line.
@endnode

@node "ErrorCodes" "LVODump 1.0 - Error Codes"
@next "Tips"
@prev "Usage"
LVODump uses the following error codes that can be useful for scripts.

  0:  No errors

 21:  Syntax error              (command line error)

 22:  Missing Filename          (command line error)

 23:  File not found

 24:  Missing Bias directive    (.fd file problem)

 25:  Invalid Bias value        (.fd file problem)

 26:  Unknown directive         (.fd file problem)
@endnode

@node "Tips" "LVODump 1.0 - Tips"
@next "Bugs"
@prev "ErrorCodes"
Here are two AmigaDos scripts useful for creating full sorted list of LVOs. They
are quite smart scripts, and you can study them to learn how to use the LIST
LFORMAT option, the ECHO escape sequences and something useful about EDIT. 

These scripts requires at least AmigaDOS 1.3 (for the LIST LFORMAT option and
the ECHO NOLINE option). While you can do without NOLINE, there's no (simple)
way to substitute LFORMAT.

@{fg shine}Please note@{fg text} that the LIST command MUST be written entirely on the same line,
joining each line exactly after the *n on the preceding line. For example,
where you read in this file

 LIST >ram:LVOCmds fd: LFORMAT="LVODump >ram:%m      %s*n
                                ECHO   >>ram:%m   *"**n*" NOLINE*n
                                TYPE     ram:%m  >>ram:LVOListNum*n
                                DELETE   ram:%m >NIL:"

it must read in the script file (... means omitted parts)

 LIST ... LFORMAT="LVODump ... %s*nECHO ... NOLINE*nTYPE ... *nDELETE ...

@{fg shine}Please note also@{fg text} that the spaces MUST be exactly preserved, otherwise SORT will
not produce correct order.


The following AmigaDOS script creates the file LVOListNum that contains a full
list of all LVOs, sorted by offset number.

----------------------------------------------------------------------------

 ECHO >ram:LVOListNum
 LIST >ram:LVOCmds fd: LFORMAT="LVODump >ram:%m      %s*n
                                ECHO   >>ram:%m   *"**n*" NOLINE*n
                                TYPE     ram:%m  >>ram:LVOListNum*n
                                DELETE   ram:%m >NIL:"
 SORT FROM ram:LVOCmds TO ram:LVOCmds COLSTART=14
 EXECUTE ram:LVOCmds
 DELETE >NIL: ram:LVOCmds

----------------------------------------------------------------------------


The following AmigaDOS script creates the file LVOListAlpha that contains a
full list of all LVOs, sorted by function name. The script requires the EDIT
command.

----------------------------------------------------------------------------

 ECHO >ram:LVOListAlpha NOLINE
 ECHO >ram:EditCmd1 "B //Replacement         *nW*n"
 ECHO >ram:EditCmd2 "GE /Replacement         /*nW*n"
 LIST >ram:LVOCmds fd: LFORMAT="LVODump >ram:%m      %s*n
                       EDIT     ram:%m     WITH ram:EditCmd1 OPT W255*n
                       SORT     ram:%m    ram:%m COLSTART=19*n
                       ECHO   >>ram:%m   *"**n*" NOLINE*n
                       TYPE     ram:%m  >>ram:LVOListAlpha*n
                       DELETE   ram:%m >NIL:"
 SORT FROM ram:LVOCmds TO ram:LVOCmds COLSTART=14
 EXECUTE ram:LVOCmds
 EDIT ram:LVOListAlpha WITH ram:EditCmd2 VER NIL: OPT W255
 DELETE >NIL: ram:EditCmd? ram:LVOCmds

----------------------------------------------------------------------------
@endnode

@node "Bugs" "LVODump 1.0 - Bugs"
@next "History"
@prev "Usage"
None known. The program is quite simple, so it isn't likely there are many.
Anyway, if you find one (or more :( ), please report to @{"me" link "Author" 0}.
@endnode

@node "History" "LVODump 1.0 - History"
@next "ToDo"
@prev "Bugs"
Program history in reverse chronological order.

 Date    Version Notes
 ------- ------- ------------------------------------------------------------
 950828    1.0   First release
@endnode

@node "ToDo" "LVODump 1.0 - To Do"
@next "Disclaimer"
@prev "History"
Planned future enhancements are:

 - GUI
 - Font selection
 - Print preview
 - Localisation
 - ARexx interface

Yeah, yeah, just kidding. The program does exactly what I want it to. If you
have some reasonable request, or better a very good idea, tell @{"me" link "Author" 0} about it and
maybe I will implement it. Otherwise, following the @{"mailware" link "Mailware" 0} directives, you
can implement it by yourself, as the source is included.
@endnode

@node "Disclaimer" "LVODump 1.0 - Disclaimer"
@next "Copyright"
@prev "ToDo"
Standard disclaimer:

THERE IS NO WARRANTY FOR THE SOFTWARE TO THE EXTENT PERMITTED BY APPLICABLE
LAW.  EXCEPT WHERE OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
OTHER PARTIES PROVIDE THE SOFTWARE "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER
EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS TO
THE QUALITY AND PERFORMANCE OF THE SOFTWARE IS WITH YOU. SHOULD THE SOFTWARE
PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR
CORRECTION.

IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY
COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY REDISTRIBUTE THE SOFTWARE AS
PERMITTED BELOW, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL,
INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE
THE SOFTWARE (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED
INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
SOFTWARE TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER
PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.

Pfeew!
@endnode

@node "Copyright" "LVODump 1.0 - Copyright"
@next "Mailware"
@prev "Disclaimer"
LVODump is copyright © 1995 @{"Marco Favaretto" link "Author" 0}.

The program, its source and all related files are released as @{"mailware" link "Mailware" 0}.
@endnode

@node "Mailware" "LVODump 1.0 - Mailware"
@next "Support"
@prev "Copyright"
You can do whatever you want with this program, its source and all related
files, as long as:

 - You send @{"me" link "Author" 0} some mail; I prefer postcards, but I'll gladly accept other
   snail-mail and e-mail;

 - You not charge for them, other than the cost of the media and duplication
   fees, as long as they don't exceed the fees taken by Fred Fish;

 - You send @{"me" link "Author" 0} a copy of the source, if you modify and release it;

 - You ask for my written permission to use them in commercial or shareware
   products;

 - You keep @{"my name" link "Author" 0} with the program.

Distribution is allowed in all forms, such as BB systems, floppy or compact
disks, and ftp sites.

By the way, I will not refuse gifts, money, 4Mb SIMMS, software, ... :)
@endnode

@node "Support" "LVODump 1.0 - Support"
@next "Author"
@prev "Mailware"
No software is perfect. If there are any new versions available, perhaps
because there is a bug fixed or a feature was added, I will upload it to the
Aminet ftp sites.

I am open to suggestions and comments.  Also, if you have problems with the
program, you can contact @{"me" link "Author" 0} to ask for help.
@endnode

@node "Author" "LVODump 1.0 - Author"
@prev "Support"
To send suggestions, bug reports, comments, gifts, flames and especially @{"mail" link "Mailware" 0},
you can contact me at the following address:

Snail-mail: Marco Favaretto
            Via Feletto, 78
            33100 UDINE
            ITALY

    e-mail: favarett@dimi.uniud.it
@endnode

