f1gp.library 36.10 (9.11.99)
Copyright © 1995-1999 Oliver Roberts, All Rights Reserved.
This library and the developer files are freely distributable.

  If you use f1gp.library in your program, please give me credit by
  mentioning in the documentation that I wrote the library and retain
  the copyright.  Thank you.


DESCRIPTION

This library is currently used by add-on programs for MicroProse's F1GP
game including F1GP-Ed, SplitTime, AGPPerf and AGPLapTime.

f1gp.library is a small library which provides a small number of functions
for programmers which allow detection of F1GP and notification of a number
of different events (e.g. when F1GP exits).  There is also a function which
can calulate the correct file checksum.

The functions can be used after a Exec OpenLibrary(), and before your
program quits you MUST close the library.  F1GPBase must also be declared,
and the library base also has a few fields that can be read by your
program (see include/libraries/f1gp.h).

EXAMPLE (see test.c for longer example)

   struct F1GPBase *F1GPBase;
   if (F1GPBase = (struct F1GPBase *)OpenLibrary("f1gp.library",36))
      CloseLibrary((struct Library *)F1GPBase);


In addition to detecting F1GP the f1gpDetect() function will patch the
following in F1GP (offsets refer to standard version):

  Offset     Bytes replaced        Description
  ------     --------------        ------------
  $8dc        4                    JSR before quit
  $9cc        4                    JSR before quit
  $a7e        4                    JSR before quit
  $26dd1      11 (permanent)       Lap time calulation fix (Grant's)
  $49a10      10 (no expunge)      Altered by "Use VBR" patch
  $762da      8  (no expunge)      Altered by "Use VBR" patch
  $76818      8  (no expunge)      Altered by "Use VBR" patch
  $7e57c      8  (no expunge)      Altered by "Use VBR" patch
  $7687e      8                    Exit cockpit hook
  $76d1e      4  (permanent)       JSR _LVOScreenToFront(A6) => NOPs
  $76d82      4  (permanent)       JSR _LVOScreenToFront(A6) => NOPs

Replacements marked with "permanent" are not restored when the library
is expunged.  Those marked with "no expunge" mean that once those patches
are installed the library will never be freed from memory until F1GP
quits.

See f1gp.doc for descriptions of each function.  Include files for C and
Assembler are supplied, and need to be used.  The proto/f1gp.h file was
created for use with DICE C, and the pragmas/f1gp_pragmas.h file was
generated with DICE's fdtopragma, but should be compatible with other
C compilers.


AUTHOR

f1gp.library was programmed by F1GP-Ed author, Oliver Roberts.

E-mail: oliver.roberts@iname.com
   WWW: http://www.nanunanu.org/~oliver/
