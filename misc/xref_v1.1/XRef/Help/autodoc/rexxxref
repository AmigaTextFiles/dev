@database rexxxref.doc
@master //doc/english/rexxxref.doc
@node main "rexxxref.doc"
@toc xref.library_xreffile@main
@{settabs 40}@{" --rexxhost-- " link "--rexxhost--"}	@{" ExpungeXRef() " link "ExpungeXRef()"}	
@{" FindXRef() " link "FindXRef()"}	@{" LoadXRef() " link "LoadXRef()"}	


@endnode
@node "--rexxhost--" "rexxxref.library/--rexxhost--"

    @{b}HOST INTERFACE@{ub}
        rexxxref.library provides an ARexx function host interface that
        enables ARexx programs to take advantage of the features of the
        XRef-System.

        The function host library vector is located at offset -30 from the
        library. This is the value you provide to ARexx in the AddLib()
        function call.

    @{b}FUNCTIONS@{ub}
        FindXRef(STRING/A,CATEGORY,LIMIT/N,NOPATTERN/S,NOCASE/S,STEM)
        LoadXRef(FILE/A,XREFPRI/N,LOCK/S,INDEX/S)
        @{"ExpungeXRef" link "ExpungeXRef()"}(CATEGORY,FILE,FORCE/S)

    @{b}EXAMPLES@{ub}
        /* xref.library ARexx example */
        OPTIONS RESULTS

        IF ~SHOW('L','xref.library') THEN
            CALL ADDLIB('xref.library',0,-30)

        /* load explicitly the sys_autodoc.xref */
        IF LoadXRef('sys_autodoc.xref',10,,'INDEX') THEN
           Say "sys_autodoc.xref loaded with priority 10 !"
        ELSE
           Say "Can't load sys_autodoc.xref"

        IF FindXRef('#?Window#?',,10,,,,) THEN
            DO i = 1 TO xref.count
                Say "@{"XRef" link "AG:SysInc/libraries/amigaguide.h/main" 146}     : " xref.i.Name
                Say "Type     : " xref.i.Type
                Say "NodeName : " xref.i.NodeName
                Say "File     : " xref.i.File
                Say "Path     : " xref.i.Path
                Say "@{"Line" link "AG:SysInc/datatypes/textclass.h/main" 43}     : " xref.i.@{"Line" link "AG:SysInc/datatypes/textclass.h/main" 43}
            END
        ELSE
            Say "@{"FindXRef()" link "FindXRef()"} error : " ERRORTEXT(RC)
        EXIT

    @{b}SEE ALSO@{ub}
        @{"ParseXRef()" link "xref/ParseXRef()"} ,@{"XR_LoadXRef()" link "xref/XR_LoadXRef()"} ,@{"XR_ExpungeXRef()" link "xref/XR_ExpungeXRef()"}


@endnode
@node "ExpungeXRef()" "rexxxref.library/ExpungeXRef()"

    @{b}NAME@{ub}
        ExpungeXRef - expunge a/some xreffiles from memory

    @{b}SYNOPSIS@{ub}
        ExpungeXRef(CATEGORY,FILE,FORCE/S)

    @{b}FUNCTION@{ub}
        This is the Rexx-Function-Interface to the @{"XR_ExpungeXRef()" link "xref/XR_ExpungeXRef()"} function
        of the xref.library.

    @{b}INPUTS@{ub}
        CATEGORY - category of xreffiles to expunge
        FILE     - expunge only the given file
        FORCE    - expunge also xreffiles, which are locked

    @{b}RESULTS@{ub}
        Set RC to @{"RC_WARN" link "AG:SysInc/rexx/errors.h/main" 72}, if no xreffiles was expunged. Otherwise
        set to @{"RC_OK" link "AG:SysInc/rexx/errors.h/main" 71}.

    @{b}SEE ALSO@{ub}
        LoadXRef() ,@{"FindXRef()" link "FindXRef()"} ,@{"XR_ExpungeXRef()" link "xref/XR_ExpungeXRef()"}


@endnode
@node "FindXRef()" "rexxxref.library/FindXRef()"

    @{b}NAME@{ub}
        FindXRef - searchs for a given pattern and returns the xref entries

    @{b}SYNOPSIS@{ub}
        FindXRef(STRING/A,CATEGORY,LIMIT/N,NOPATTERN/S,NOCASE/S,STEM)

    @{b}FUNCTION@{ub}
        Searchs for a given pattern or string. If one or more xref entries
        are found, this function returns the full information about the xref
        entry in the specified stem variable.

    @{b}INPUTS@{ub}
        STRING   - string/pattern to search for
        CATEGORY - category to search in
        LIMIT    - maximal number of entries to return
        NOPATTERN- string isn't a pattern
        NOCASE   - ignore case ('A'=='a')
        STEM     - stem variable to use, if not specified it uses the
                   "@{"XRef" link "AG:SysInc/libraries/amigaguide.h/main" 146}" as stem base name !
                   The following stem field are supported :
                   XRef.Count
                   XRef.n.Type
                   XRef.n.Name
                   XRef.n.NodeName
                   XRef.n.File
                   XRef.n.Path
                   XRef.n.@{"Line" link "AG:SysInc/datatypes/textclass.h/main" 43}

    @{b}RESULTS@{ub}
        Set RC to WARN,if no entry was found. Otherwise set to @{"RC_OK" link "AG:SysInc/rexx/errors.h/main" 71}

    @{b}SEE ALSO@{ub}
        LoadXRef() ,@{"ExpungeXRef()" link "ExpungeXRef()"} ,@{"ParseXRef()" link "xref/ParseXRef()"}


@endnode
@node "LoadXRef()" "rexxxref.library/LoadXRef()"

    @{b}NAME@{ub}
        LoadXRef - loads a xreffile into memory

    @{b}SYNOPSIS@{ub}
        LoadXRef(FILE/A,XREFPRI/N,LOCK/S,INDEX/S)

    @{b}FUNCTION@{ub}
        This is the Rexx-Interface function to the xref.library @{"XR_LoadXRef()" link "xref/XR_LoadXRef()"}
        function.

    @{b}INPUTS@{ub}
        FILE    - xreffile to load
        XREFPRI - priority to use for this xreffile (@{"Enqueue()" link "exec/Enqueue()"})
        LOCK    - lock this xreffile
        INDEX   - create an index for this xreffile

    @{b}RESULTS@{ub}
        Set RC to @{"RC_WARN" link "AG:SysInc/rexx/errors.h/main" 72}, if the xreffile could not loaded. Otherwise
        set to @{"RC_OK" link "AG:SysInc/rexx/errors.h/main" 71}.

    @{b}SEE ALSO@{ub}
        @{"FindXRef()" link "FindXRef()"} ,@{"ExpungeXRef()" link "ExpungeXRef()"} ,@{"XR_LoadXRef()" link "xref/XR_LoadXRef()"}


@endnode
