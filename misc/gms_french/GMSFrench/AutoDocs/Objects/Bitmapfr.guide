@DATABASE "Bitmap"
@AUTHOR   "Paul Manias"
@NODE     "Main" "Objet: Bitmap"

@{b}@{u}DOCUMENTATION SUR L'OBJET@{uu}@{ub}
Nom:        @{"BITMAP" LINK "Description"}
Version:    0.9 Beta.
Date:       Décembre 1997
Auteur:     Paul Manias
Traducteur: Julien Boibessot
Copyright:  DreamWorld Productions, 1996-1997. Tous droits réservés.

@{b}@{u}CHANGEMENTS DANS LA VERSION 0.9B@{uu}@{ub}
Ajouté:   Bitmap->AmtColours

Renommés: Bitmap->ScrType     en Bitmap->Type
          Bitmap->Owner       en Bitmap->Parent
          Bitmap->PlaneModulo en Bitmap->PlaneMod
          Bitmap->LineModulo  en Bitmap->LineMod

Edité:   Bitmap->Data
         Bitmap->ByteWidth
         Bitmap->Planes
         Bitmap->Type
         Bitmap->AmtColours

@EndNode
---------------------------------------------------------------------------
@NODE "Description" "Objet: Bitmap"

@{b}@{u}OBJET@{uu}@{ub}
Nom:     Bitmap
Module:  @{"Blitter" LINK "GMSDev:AutoDocs/Blitterfr.guide/Functions"}
Version: 1
Type:    Descripteur

@{b}@{u}DESCRIPTION@{uu}@{ub}
Le Bitmap est un moyen de décrire un espace mémoire dans lequel on peut
dessiner et/ou que l'on peut afficher si les données sont contenues en
mémoire vidéo. Les Bitmaps sont utilisés pour gérer les Screen et les 
Bobs, mais aussi dans des fonctions de dessin comme DrawPixel().

@{b}@{u}ACTIONS@{uu}@{ub}
Les Actions supportées par l'objet Bitmap sont:

    @{"Free()" LINK "GMSDev:AutoDocs/Kernelfr.guide/Free()"}
    @{"Get() "  LINK "GMSDev:AutoDocs/Kernelfr.guide/Get()"}
  * @{"Init()" LINK "Bitmap_Init()"}

@{b}@{u}FONCTIONS@{uu}@{ub}
Quelques fonctions supportant l'objet Bitmap sont:

    @{"ClearBitmap()" LINK "GMSDev:AutoDocs/Blitterfr.guide/ClearBitmap()"}
    @{"DrawPixel()  "   LINK "GMSDev:AutoDocs/Blitterfr.guide/DrawPixel()"}
    @{"DrawLine()   "    LINK "GMSDev:AutoDocs/Blitterfr.guide/DrawLine()"}

@{b}@{u}STRUCTURE@{uu}@{ub}
La structure Bitmap est composée des champs suivant:

    @{"AmtColours" LINK "BMP_AmtColours"  } Nombre de couleurs disponibles.
    @{"ByteWidth  " LINK "BMP_ByteWidth"  } Largeur en octets.
    @{"Data       " LINK "BMP_Data"       } Pointeur vers la zone de données du Bitmap.
    @{"Height     " LINK "BMP_Height"     } Hauteur en pixels.
    @{"LineMod    " LINK "BMP_LineMod"    } Différentiel de ligne..
    @{"MemType    " LINK "BMP_MemType"    } Type de memoire à utiliser dans les allocations.
    @{"Parent     " LINK "BMP_Parent"     } Possesseur du Bitmap.
    @{"PlaneMod   " LINK "BMP_PlaneMod"   } Différentiel de plan.
    @{"Planes     " LINK "BMP_Planes"     } Nombre de bitplanes.
    @{"Restore    " LINK "BMP_Restore"    } Restore list de ce bitmap, si elle existe.
    @{"Size       " LINK "BMP_Size"       } Taille totale du bitmap en octets.
    @{"Type       " LINK "BMP_Type"        } Type d'affichage.
    @{"Width      " LINK "BMP_Width"      } Largeur en pixels.

@EndNode
---------------------------------------------------------------------------
@NODE "BMP_AmtColours" "Bitmap: AmtColours"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:      AmtColours
Type:     LONG
Héritage: ScrType, Planes, User default.
Status:   Lecture/Ecriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
Ce champ spécifie le nombre total de couleurs disponibles dans le Bitmap.
Si vous mettez cette valeur à NULL alors Init() la remplira pour vous, via
un test des champs Planes et Type.

@EndNode
---------------------------------------------------------------------------
@NODE "BMP_ByteWidth" "Bitmap: ByteWidth"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:         ByteWidth
Type:        WORD
Héritage:    Bitmap->Width
Status:      Lecture seulement.

@{b}@{u}DESCRIPTION@{uu}@{ub}
La largeur en octet (ByteWidth) du Bitmap est calculée directement grâce
à la largeur (Width) et au type (Type) du Bitmap. En aucunes circonstances
vous ne devez essayer de calculer cette valeur vous-même car elle dépend
fortement de Type.

Voici quelques calculs utilisés, rangés par type de Bitmap:

Planar      = Width/8
ILBM        = Width/8
Chunky8     = Width
Chunky16    = Width * 2
True Colour = Width * 4

@{b}@{u}VOIR AUSSI@{uu}@{ub}
Champ: @{"Width" LINK "BMP_Width"}

@EndNode
---------------------------------------------------------------------------
@NODE "BMP_Data" "Bitmap: Data"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:            Data
Type:           APTR
Héritage:       Alloué à l'initialisation
Modification:   Dynamique -- Les objets Parent n'aiment habituellement pas
                les changements, et vous ne pouvez pas changer ce champ
                si il a été défini par Init(). 
Status:         Lecture/Ecriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
Ce champ pointe directement vers le début de la zone mémoire de données
du Bitmap. L'allocation de vos propres zones Bitmap est acceptée si vous
utilisez les types MEM_DATA, MEM_VIDEO ou MEM_BLIT. Cependant il est
souvent mieux de laisser Init() allouer la taille correcte de mémoire
à votre place en laissant ce champ à NULL.

La quantité de mémoire alloué dépend du champ Size. 

@{b}@{u}VOIR AUSSI@{uu}@{ub}
@{"MemType" LINK "BMP_MemType"}

@EndNode
---------------------------------------------------------------------------
@NODE "BMP_Height" "Bitmap: Height"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:            Height
Type:           WORD
Héritage:       Par défaut.
Modification:   Ne peut être changé après initialisation.
Status:         Lecture/IEcriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
La hauteur en pixels du Bitmap est spécifiée ici. Elle a une valeur
minimum de 1 et une valeur maximum de 32.767.

@{b}@{u}VOIR AUSSI@{uu}@{ub}
Champ: @{"Width" LINK BMP_Width}

@EndNode
---------------------------------------------------------------------------
@NODE "BMP_LineMod" "Bitmap: LineMod"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:            LineModulo
Héritage:       Valeurs de Width, Height et Planes.
Modification:   Ne peut être changé après initialisation.
Status:         Lecture seulement.

@{b}@{u}DESCRIPTION@{uu}@{ub}



@{b}@{u}VOIR AUSSI@{uu}@{ub}
Champ: @{"PlaneMod" LINK "BMP_PlaneMod"}

@EndNode
---------------------------------------------------------------------------
@NODE "BMP_MemType" "Bitmap: MemType"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:           MemType
Par défaut:    MEM_VIDEO
Modification:  Ne peut être changé après initialisation.
Status:        Lecture/IEcriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
Ce champ décide quel type de mémoire sera alloué si Init() trouve un
pointeur de données NULL. Ce champ utilise les flags mémoires standards
MEM_DATA, MEM_VIDEO et MEM_BLIT. Vous pouvez aussi spécifier MEM_PRIVATE
si nécessaire.

@EndNode
-----------------------------------------------------------------------------
@NODE "BMP_Parent" "Bitmap: Parent"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:            Parent
Héritage:       Init()
Modification:   Ne peut être changé après initialisation.
Status:         Lecture/IEcriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
Ce champ abstrait pointe vers le possesseur du Bitmap. Le pointeur peut
l'être vers n'importe quel objet mais doit être en rapport avec la 
situation. Par exemple si le Bitmap est propriété d'un écran alors un
pointeur vers cet écran sera placé ici. Sinon un pointeur vers la tâche
qui a initialisée le Bitmap sera probablement placé ici.

@EndNode
---------------------------------------------------------------------------
@NODE "BMP_PlaneMod" "Bitmap: PlaneMod"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:            PlaneMod
Héritage:       Valeurs de Width, Height et Planes.
Modification:   Ne peut être changé après initialisation.
Status:         Lecture seulement.

@{b}@{u}DESCRIPTION@{uu}@{ub}



@{b}@{u}VOIR AUSSI@{uu}@{ub}
Champ: @{"LineMod" LINK "BMP_LineMod"}

@EndNode
---------------------------------------------------------------------------
@NODE "BMP_Planes" "Bitmap: Planes"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:            Planes, Depth, BitsPerPixel.
Héritage:       Par défaut.
Modification:   Ne peut être changé après initialisation.
Status:         Lecture/IEcriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
Ce champ spécifie le nombre de plans de bits (bitplanes) (ou bien de bits
par pixel cela dépend du type d'écran) du Bitmap. La quantité de couleurs 
que vous pouvez utiliser dépend entièrement de cette valeur. Pour des
bitmaps interleaved ou planar vous pouvez calculer le nombre de couleurs
avec la formule 2^n où n est le nombre de plans.

Pour des bitmaps chunky, ce champ sera égal au nombre de bits par pixels
8, 16, 32 cela dépend du Type.

@{b}@{u}VOIR AUSSI@{uu}@{ub}
Champ: @{"Type" LINK "BMP_Type"}

@EndNode
---------------------------------------------------------------------------
@NODE "BMP_Size" "Bitmap: Size"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:            Size
Héritage:       Calcul de Width, Height, et Depth.
Modification:   Ne peut pas être changé après initialisation.
Status:         Lecture seulement.

@{b}@{u}DESCRIPTION@{uu}@{ub}
Vous pouvez lire ce champ pour voir la taille du Bitmap en octets. Il ne
faut jamais écrire dans ce champ, Init() le calculera pour vous.

La formule utilisée est:

     Size = Width * Height * Depth

@EndNode
---------------------------------------------------------------------------
@NODE "BMP_Type" "Bitmap: Type"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:            Type
Type:           WORD
Héritage:       Utilisateur par défaut.
Modification:   Ne peut être changé après initialisation.
Status:         Lecture/IEcriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
Spécifie le type de données de l'image, eg PLANAR, INTERLEAVED, CHUNKY8,
CHUNKY16 ou TRUECOLOUR. La description de ces documents n'est pas traitée
dans ce document, référez vous aux RKM. Notez que pour les bitmaps planar,
les bitplanes sont stoqués séquentiellement, les uns après les autres.
Il n'y a pas d'éparpillement des bitplanes planar dans la mémoire.

Si vous spécifiez NULL dans ce paramètre, Init() l'initialisera au type
d'écran préféré de l'utilisateur. C'est très utile car certains types sont
plus rapides que d'autres pour certains effets. Souvenez vous que si vous
spécifiez un type qui n'est pas supporté par le hardware, alors il devra
être émulé (ce qui ralentit les choses considérablement). L'indépendance
du Type est encouragée pour ces raisons.

@EndNode
---------------------------------------------------------------------------
@NODE "BMP_Width" "Bitmap: Width"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:            Width
Type:           WORD
Héritage:       Par défaut.
Modification:   Ne peut être changé après initialisation.
Status:         Lecture/IEcriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
La largeur en pixels du bitmap est spécifiée ici. La largeur doit être
divisible par 16 et supérieure à 15.

@{b}@{u}VOIR AUSSI@{uu}@{ub}
@{"ByteWidth" LINK "BMP_ByteWidth"}
@{"Height   " LINK "BMP_Height"}

@EndNode
---------------------------------------------------------------------------
@NODE "Bitmap_Init()" "Objet: Bitmap"

@{b}@{u}ACTION@{uu}@{ub}
Nom:     @{"Init()" LINK "GMSDev:AutoDocs/Kernelfr.guide/Init()"}
Objet:   Bitmap
Résumé:  Initialise un objet Bitmap.

@{b}@{u}DESCRIPTION@{uu}@{ub}
Cette action va initialiser une structure Bitmap de telle manière à ce que
celle-ci soit prête à l'emploi. Si le champ Bitmap->Data n'a pas été
spécifié, un bloc mémoire sera alloué et placé dans ce champ. Le type de
mémoire allouée dépend directement du champ Bitmap->MemType. Si vous
n'avez pas spécifié de type mémoire vous recevrez par défaut MEM_DATA.

Pour que cette fonction travaille proprement vous devez avoir défini
les champs Width et Height du Bitmap avant l'initialisation.

@{b}@{u}VOIR AUSSI@{uu}@{ub}
Kernel: @{"Free()" LINK "GMSDev:AutoDocs/Kernelfr.guide/Free()"}

@EndNode
