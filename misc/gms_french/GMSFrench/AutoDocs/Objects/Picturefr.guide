@DATABASE "Pictures"
@AUTHOR   "Paul Manias"
@NODE     "Main" "Objet: Picture"

@{b}@{u}DOCUMENTATION SUR L'OBJET@{uu}@{ub}
Nom:        @{"PICTURE" LINK "Description"}
Version:    0.9 Beta.
Date:       Décembre 1997
Auteur:     Paul Manias
Traducteur: Julien Boibessot
Copyright:  DreamWorld Productions, 1996-1997. Tous droits réservés.

@{b}@{u}CHANGEMENTS DANS LA VERSION 0.9B@{uu}@{ub}
Ajouté:    Picture->Bitmap

Retirés:  Picture->AmtColours
          Picture->ByteWidth
          Picture->Data
          Picture->Height
          Picture->Planes
          Picture->Width
          Picture->ScrType
          Picture->Options: IMG_BLITMEM, IMG_VIDEOMEM

Edités: Description
        Picture->Palette
        Picture->Options

@EndNode
---------------------------------------------------------------------
------
@NODE "Description" "Objet: Picture"

@{b}@{u}OBJET@{uu}@{ub}
Nom:     Picture
Module:  Picture
Version: 1
Type:    Complexe
Fils:    Bitmap

@{b}@{u}DESCRIPTION@{uu}@{ub}
Le but de l'objet Picture est de fournir une interface standard qui 
puisse être utilisée par n'importe quel programme pour charger une 
image. 
L'avantage est que l'image source peut être dans n'importe quel 
format reconnu par le système, ainsi le programme en question sera 
capable de supporter des formats de fichiers qu'il ne comprend pas.

L'objet Picture clip toute image chargée de telle manière à ce quelle 
tienne dans l'espace défini par Bitmap->Width et Bitmap->Height. Si 
vous spécifiez le flag RESIZE, l'image sera réduite ou élargie de 
manière à tenir dans les dimensions données.
Si vous laissez Widht et Height à NULL alors l'image sera chargée 
avec ses dimensions par défaut.

@{b}@{u}ACTIONS@{uu}@{ub}
L'objet Picture supporte les actions suivantes:

     @{"CopyStructure()" LINK 
"GMSDev:AutoDocs/Kernelfr.guide/CopyStructure()"}
     @{"Free()         " LINK 
"GMSDev:AutoDocs/Kernelfr.guide/Free()"}
     @{"Get()          " LINK "GMSDev:AutoDocs/Kernelfr.guide/Get()"}
   * @{"Init()         " LINK "Picture_Init()"}
   * @{"Load()         " LINK "Picture_Load()"}
     @{"OpenFile()     " LINK 
"GMSDev:AutoDocs/Filesfr.guide/OpenFile()"}
   * @{"Query()        " LINK "Picture_Query()"}

@{b}@{u}STRUCTURE@{uu}@{ub}
L'objet Picture est constitué des champs publics suivant plus tous 
les champs hérités de l'objet Bitmap:

    + @{"Bitmap    " LINK 
"GMSDev:AutoDocs/Objects/Bitmapfr.guide/Description"} Objet Fils 
Bitmap.
     
     @{"Options   " LINK "PIC_Options"   } Flags spéciaux.
     @{"Palette   " LINK "PIC_Palette"   } Pointeur vers la Palette.
     @{"ScrHeight " LINK "PIC_ScrHeight" } Hauteur de l'écran 
(pixels)
     @{"ScrMode   " LINK "PIC_ScrMode"   } Mode d'écran attendu pour 
l'image.
     @{"ScrWidth  " LINK "PIC_ScrWidth"  } Largeur de l'écran 
(pixels)
     @{"Source    " LINK "PIC_Source"    } Source de l'image.

@EndNode
---------------------------------------------------------------------
------
@NODE "PIC_Options" "Objet: Picture"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:          Options
Type:         LONG
Modification: Ne peut être modifié après initialisation.
Status:       Lecture/IEcriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
Vous pouvez spécifier ici certains flags qui vont affecter la manière 
dont
l'image est initialisée. Les flags valides sont:

  @{u}IMG_REMAP@{uu}
  Redessine les données de l'image (remapping) pour pouvoir utiliser  
  la palette pointée par le champ Picture->Palette. Si l'image est     
 stockée en type True colour, ce flag sera ignoré.

    @{u}IMG_RESIZEX@{uu}
  Redimensionne l'image (resizing) pour qu'elle puisse tenir dans le  
  champ Bitmap->Width. Si ce flag n'est pas défini alors l'image sera  
  clippée.

  @{u}IMG_RESIZEY@{uu}
  Redimensionne l'image (resizing) pour qu'elle puisse tenir dans le  
  champ Bitmap->Height. Si ce flag n'est pas défini alors l'image     
  sera clippée.

  @{u}IMG_RESIZE@{uu}
  Moyen pratique de définir à la fois RESIZEX et RESIZEY ci-dessus.

@EndNode
---------------------------------------------------------------------
------
@NODE "PIC_Palette" "Objet: Picture"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:          Palette
Type:         LONG *
Héritage:     Image source.
Modification: Dynamique.
Status:       Lecture/IEcriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
Pointe vers une palette si celle si est nécessaire (ça dépend du type 
de l'écran). Les palettes ne sont généralement allouées que lorsque 
le nombre de couleurs de l'image va de 2 à 256.

@EndNode
---------------------------------------------------------------------
------
@NODE "PIC_ScrHeight" "Objet: Picture"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:          ScrHeight
Type:         WORD
Héritage:     Image source (si possible) ou estimation basée sur la
              résolution.
Modification: Dynamique
Status:       Lecture/Ecriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
Spécifie la hauteur de l'écran/viewport pour afficher l'image. 
Certains formats de fichiers d'images peuvent ne pas contenir de 
valeur à placer dans ce champ. Dans ce cas le champ sera initialisé à 
une valeur basée sur la résolution de l'image.

@{b}@{u}VOIR AUSSI@{uu}@{ub}
Champ: @{"ScrWidth" LINK "PIC_ScrWidth"}

@EndNode
---------------------------------------------------------------------
------
@NODE "PIC_ScrMode" "Objet: Picture"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:          ScrMode
Type:         WORD
Héritage:     Image source.
Modification: Dynamique
Status:       Lecture/Ecriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
Le mode d'écran dans lequel l'image doit être chargé. Les flags sont 
décrits dans Screen->ScrMode (LORES, HIRES, SHIRES, LACED etc).

@{b}@{u}VOIR AUSSI@{uu}@{ub}
Screen: ScrMode

@EndNode
---------------------------------------------------------------------
------
@NODE "PIC_ScrWidth" "Objet: Picture"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:          ScrWidth
Type:         WORD
Héritage:     Image source (si possible) ou estimation basée sur la
              résolution.
Modification: Dynamique
Status:       Lecture/Ecriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
Spécifie la largeur de l'écran/viewport pour afficher l'image. 
Certains formats de fichiers d'images peuvent ne pas contenir de 
valeur à placer dans ce champ. Dans ce cas le champ sera initialisé à 
une valeur basée sur la résolution de l'image.

@{b}@{u}VOIR AUSSI@{uu}@{ub}
Champ: @{"ScrHeight" LINK "PIC_ScrHeight"}

@EndNode
---------------------------------------------------------------------
------
@NODE "PIC_Source" "Objet: Picture"

@{b}@{u}CHAMP@{uu}@{ub}
Nom:          Source
Type:         APTR
Modification: Dynamique
Status:       Lecture/IEcriture

@{b}@{u}DESCRIPTION@{uu}@{ub}
Pointeur vers un objet source - soit un FileName, un MemPtr ou un 
objet standard reconnu par le système.

@EndNode
---------------------------------------------------------------------
------
@NODE "Picture_Init()" "Picture: Init()"

@{b}@{u}ACTION@{uu}@{ub}
Nom:    @{"Init()" LINK "GMSDev:AutoDocs/Kernelfr.guide/Init()"}
Objet:  Picture
Résumé: Initialise un objet Picture et le rend près à être utilisé.

@{b}@{u}DESCRIPTION@{uu}@{ub}
Si Picture->Source est spécifié, alors cette action tentera en 
premier d'initialiser l'image en chargeant les données de la Source. 
Si les données sont reconnus, elles seront décompactées dans le 
buffer spécifié par Picture->Data. Si vous ne précisez pas     
Picture->Data, alors un buffer sera alloué pour vous et placé dans 
Picture->Data à l'initialisation.

L'objet Picture a toutes les propriétés standards des objets système, 
ce qui inclue l'auto-initialisation des champs NULL. Notez qu'en 
définissant certains champs vous placez des restrictions sur l'image 
qui doit être chargée. Par exemple, si l'image est plus large que la 
largeur spécifiée, l'image sera amputée de sa partie droite. Pour 
éviter cela, laissez juste le champ Width sans spécification et 
Init() l'initialisera, en chargeant l'image sans clipping. Autrement 
vous pouvez spécifier le flag RESIZE, cela dépend des circonstances.

@{b}@{u}NOTE@{uu}@{ub}
Si cette action ne peut identifier les données de la source, alors 
l'appel échouera. Le format de donnée natif de la classe Picture est 
l'IFF, mais d'autres format tels que le JPEG et le PNG peuvent être 
ajoutés en utilisant les classes filles.

@{b}@{u}VOIR AUSSI@{uu}@{ub}
Picture: @{"Load()" LINK "Picture_Load()"}
Include: @{"graphics/pictures.i" LINK 
"GMSDev:Includes/graphics/pictures.i/Main"}

@EndNode
---------------------------------------------------------------------
--------
@NODE "Picture_Load()" "Picture: Load()"

@{b}@{u}ACTION@{uu}@{ub}
Nom:    @{"Load()" LINK "GMSDev:AutoDocs/Kernelfr.guide/Load()"}
Objet:  Picture
Résumé: Charge une image qui a été identifiée avec succès comme 
appartenant à la classe Picture.

@{b}@{u}DESCRIPTION@{uu}@{ub}
Cette action fournit un moyen simple et rapide de charger un objet 
Picture. Notez que toutes les images chargées en utilisant cette 
méthode auront un espace alloué en mémoire vidéo comme préférence.

Si vous avez besoin d'un chargement moins versatile, utilisez la 
fonction Init() plutôt que la fonction Load().

@{b}@{u}VOIR AUSSI@{uu}@{ub}
Picture: @{"Init()" LINK "Picture_Init()"}

@EndNode
---------------------------------------------------------------------
------
@NODE "Picture_Query()" "Picture: Query()"

@{b}@{u}ACTION@{uu}@{ub}
Nom:    @{"Query()" LINK "GMSDev:AutoDocs/Kernelfr.guide/Query()"}
Objet:  Picture
Résume: Obtient l'information sur un type d'image reconnu.

@{b}@{u}DESCRIPTION@{uu}@{ub}
Appeler cette action va remplir toutes les informations d'une image 
(Picture), en tenant compte de ce qui se trouve dans Picture->Source 
ou Picture->Header.

Les champs qui ne sont pas mis à NULL seront ignorés par cette 
action. Pour cette raison, appeler Query() après un appel à Init() 
peut être un exercice assez inutile.

Si le champ Palette est vide et que le nombre de couleurs est de 256 
ou moins, cette fonction allouera automatiquement un espace mémoire 
pour la palette et y écrira une liste de couleurs.

En utilisant cette fonction vous pouvez trouver des informations sur 
n'importe quel format d'image actuellement supporté par GMS. Si le 
format d'image ne peut être évalué, alors le code d'erreur ERR_DATA 
sera retourné.

@{b}@{u}VOIR AUSSI@{uu}@{ub}
Kernel: @{"Init()"  LINK "GMSDev:AutoDocs/Kernelfr.guide/Init()"}

@EndNode
---------------------------------------------------------------------
--------
