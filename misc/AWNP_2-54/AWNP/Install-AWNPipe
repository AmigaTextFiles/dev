; $VER: Install_AWeb-II 1.0 11.07.99
; 11 Jul 1999 WHMP
; Description: Installer script for AWNPipe

(set v39 (>= (/ (getversion "exec.library" (resident)) 65536) 39))
(set awv 3)
(set awr 1)
(set #needInst43 "You must use Installer version 43 or greater.  Use the Installer program from your AWeb-II disk.")
(if (< (/ @installer-version 65536) 43)
  (abort #needInst43)
)
(set #welcome
(cat "\n"
     "AWNPipe: is more than a pipe.\n\n"
     "Along with the standard pipe features AWNPipe"
     " has other uses like duplication of a data stream,"
     " translating data, clipboard and tooltypes access,"
     " building-operating of ClassAct GUIs and more.\n\n"
     " Please take a moment and browse the documentation"
     " once the instalation is complete."
  )
)

(complete 1)
(message #welcome)

(set #destdir-prompt
  (cat "Please select the directory where you want the AWNPipe"
" documentation and Examples installed.\n"
    "A directory 'AWNP-Docs' will be created here."
      )
)
(complete 5)
(set #installing "Installing ")
(copylib
  (source "device/awnpipe-handler")
  (dest "l:")
  (prompt #installing "AWNPipe-handler")
)
(complete 20)
  (copyfiles
    (dest "Devs:dosdrivers")
    (source "device/awnpipe")
    (prompt #installing "AWNPipe:")
    (infos)
  )
(complete 40)
    (set defdir
      (askdir
        (prompt #destdir-prompt)
        (help @askdir-help)
        (default @default-dest)
      )
    )

(complete 50)


    (makedir (tackon defdir "AWNP-Docs") (infos))
    (set @default-dest (tackon defdir "AWNP-Docs"))

(complete 55)

  (copyfiles
    (dest @default-dest)
    (source "AWNP-Docs")
    (prompt #installing "AWNPipe: Documentation and Examples")
    (all)
  )
(protect (tackon @default-dest "Demos/fonttoy") "+s")
(protect (tackon @default-dest "Demos/form") "+s")
(protect (tackon @default-dest "Demos/calist") "+s")
(complete 90)
    (working ("Activating AWNPipe:"))

            (run "C:assign AWNPipe: dismount")
            (run "C:mount AWNPipe:")


(complete 100)


(exit  "\n\n AWNPipe:"
  " is now installed.\n\n"
  "Please send any bug reports or comments to\n"
" William H. M. Parker <bill@amitrix.com> .")

