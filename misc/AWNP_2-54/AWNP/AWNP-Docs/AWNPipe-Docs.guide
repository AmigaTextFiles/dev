@database "awnp-docs"
@index AWNP_INDEX
@wordwrap
@smartwrap

@node MAIN "AWNPipe-Docs"
@{line}
AWNPipe - Docs@{line}
==============@{line}
@{line}
 @{" 1 " LINK 1} About@{line}
 @{" 2 " LINK 2} Read First@{line}
 @{" 3 " LINK 3} Pipe Functions@{line}
 @{" 4 " LINK 4} GUI Creation@{line}
 @{" 5 " LINK 5} Demos@{line}
@endnode
@node 1 "1 About"
@{line}
1 About@{line}
-------@{line}
@{line}
     AWNPipe:   Multifunction Device@{line}
     Author:    William H. M. Parker@{line}
     Version:   2.54  31 Jan 2001@{line}
@{line}
 AWNPipe is a new kind of ADOS device. It's functions can be accessed from almost any program including C, E, Assembler, Arexx, and simple ADOS scripts. AWNP has many uses but the most popular is the creation of Graphical User Interfaces. Other functions include clipboard support, tooltype access, pattern matching, Html conversion, data stream twinning, ...@{line}
 Programmers will find that GUI development is VERY fast using AWNP and testing various layouts is as easy as editing a text file.@{line}
@{line}
 Programs written using AWNP present the user with a GUI that is easy to use and consistent in form. The ease of adding menus, Arexx hosts, help information and images encourages authors to add more of the 'Nice' features to their programs.@{line}
@{line}
Distribution@{line}
@{line}
 AWNPipe can be freely distributed in the form of this archive, complete and unmodified.@{line}
@{line}
 The operational parts (AWNPipe-handler and AWNPipe) may be included in the distribution of programs using AWNPipe if the following three conditions are met.@{line}
@{line}
1. The distribution contains an install script and the AWNPipe files are handled as follows (NOTE the use of 'copylib' for awnpipe-handler).@{line}
@{line}
(copylib@{line}
  (source "device/awnpipe-handler")@{line}
  (dest "l:")@{line}
  (prompt "Installing AWNPipe-handler")@{line}
)@{line}
(copyfiles@{line}
  (dest "Devs:dosdrivers")@{line}
  (source "device/awnpipe")@{line}
  (prompt "Installing AWNPipe")@{line}
  (infos)@{line}
)@{line}
(working ("Activating AWNPipe:"))@{line}
(run "C:assign AWNPipe: dismount")@{line}
(run "C:mount AWNPipe:")@{line}
@{line}
2. The docs mention the use of AWNP and the version number of AWNPipe in the distribution.@{line}
@{line}
3. The AWNPipe author is notified, bill@amitrix.com .@{line}
@{line}
This software is CHILDWARE. I require whoever uses this program to make a donation to a beneficial organization working to help children. If you don't know of any, ask at your local post office and learn how to make a payment to UNICEF. The amount is up to you, but please do it!@{line}
@{line}
Requirements@{line}
@{line}
 AWNPipe requires ADOS 3.x@{line}
 You must have Class Act installed or be using ADOS 3.5+ to use the pipes GUI building functions. Class Act can be found on Aminet, or use http://www.amitrix.com/AWeb30ca.lha (the latter has been tested for compatability with AWNPipe).@{line}
@{line}
Support@{line}
@{line}
 Support is currently available from :@{line}
@{line}
 http://www.yahoogroups.com/community/awnpipe@{line}
 http://web.ukonline.co.uk/awnpipe/@{line}
 or directly from the AWNP Author, bill@amitrix.com.@{line}
@{line}
History@{line}
@{line}
o AWNPipe-handler Vers 2.53@{line}
  -added hook type to string gadget.@{line}
@{line}
o AWNPipe-handler Vers 2.53@{line}
  -added 'target' option to 'drawme' modify command@{line}
  -added 'idme' keyword to allow tracking of labels,images and space gadgets.@{line}
  -added 'bounds' modify query to get object size and location.@{line}
  -added 'knob' and 'maxn' to scroller modify@{line}
@{line}
o AWNPipe-handler Vers 2.52@{line}
  -fixed handling of &#???; in unhtml function@{line}
  -added &quote; and &copy; to unhtml function@{line}
  -added '/xz' option to remove html tags <...>@{line}
  -added '/xp' option to get information on public screens@{line}
  -worked around listbrowser hit when presetting selected nodes@{line}
  -added 'xw' fast simple text wrapping@{line}
  -taps now wait for both ends of the pipe to close before closing.@{line}
  -added patterned backfill support to layout groups@{line}
  -added screen to front/back window modify command (GID 0)@{line}
  -added BD keyword to arexx host return line@{line}
@{line}
o AWNPipe-handler Vers 2.51@{line}
  -added fast release of images used in a button object.@{line}
@{line}
o AWNPipe-handler Vers 2.50@{line}
  -added sound object@{line}
  -fixed '/v' to handle clips with multiple char chunks.@{line}
  -fixed slider modify@{line}
@{line}
o AWNPipe-handler Vers 2.49@{line}
  - added label softstyle 'softstyle=' (ss=)@{line}
  - added hidechild modify to listbrowser@{line}
  - added hidechild modify to browser node@{line}
  - removed some duplicate events from attached getfile gadgets@{line}
  - fixed bitmap error response@{line}
  - removed some extranious 'ok's@{line}
  - maximum predefined images increased to 50@{line}
  - maximum defined master bitmaps increased to 10@{line}
  - maximum layout group nesting increased to 50@{line}
  - replacing a listbrowser no longer gives enforcer hits@{line}
  - PIPE NAMES ARE NO LONGER CASE SENSITIVE ('/' options should be lowercase)@{line}
@{line}
o AWNPipe-handler Vers 2.48@{line}
  - added work around for disable of clicktabs@{line}
  - added the ability to disable a single tab of a clicktab@{line}
  - fixed docs, disable keyword description was backwards in some places@{line}
  - '/m' multiple opens now work when reading data.@{line}
  - added '/m' explanation to pipe functions/tutorials/tricks@{line}
  - cleaned up docs in various places.@{line}
  - added plain text version of these docs@{line}
  - added Amiga Guide version of these docs@{line}
  - fixed bug in XO.rx demo@{line}
@{line}
o AWNPipe-handler Vers 2.47@{line}
  - added '/xs' (seticon)  ability to write icon tooltypes, position, type, and defaultool@{line}
  - expanded tutorial5 to cover writing tooltypes@{line}
  - GUI advanced doc has been expanded@{line}
@{line}
o AWNPipe-handler Vers 2.46@{line}
  - trailing '/' in no longer required in drawers only getfiles.@{line}
  - fixed asl getfile loss of initial title@{line}
  - fixed asl getfile missing space in event@{line}
  - fixed asl getfile retention of pos and neg text@{line}
  - worked around for missing refresh in multiselect listbrowser@{line}
@{line}
o AWNPipe-handler Vers 2.45@{line}
  - expanded drawlist commands (changed some directive values as well)@{line}
  - corrected Browsernode and listbrowser docs@{line}
  - added refresh ability to browsernodes@{line}
  - fixed multiselect listbrowser bug@{line}
@{line}
o AWNPipe-handler Vers 2.44@{line}
  - fixed bug ScreenTitle could be trashed when setting WindowTitle.@{line}
  - binary data for GUI is no longer limited to 10000 bytes@{line}
  - added '/xt' option to query icon tooltypes@{line}
  - fixed bug An extra 'ok' was returned when an addnode modify line included sc=@{line}
  - expanded readme file@{line}
  - tutorial 5 now checks tool types of its icon@{line}
  - Advanced GUI tutorial text updated@{line}
  - Added sanity check, you can't force gadget refresh while window is iconified@{line}
  - The dictionary demo is now a thesaurus as well (docs/demos/dict-thesar.rx)@{line}
@{line}
o AWNPipe-handler Vers 2.43@{line}
  - fixed return from commodity modify.@{line}
  - Added underscore keyword to label image@{line}
@{line}
o AWNPipe-handler Vers 2.42@{line}
  - Added Commodity Object, see GUI Creation/Objects/More.@{line}
  - Tutorial 5 is now a commodity.@{line}
  - Tutorial 5 is now an arexx host.@{line}
  - updated advanced gui tutorial docs.@{line}
@{line}
o AWNPipe-handler Vers 2.41@{line}
  - added order modify keyword to retrieve the order of nodes in a list browser@{line}
  - the CAList demo is now called GUIList and a short doc file added@{line}
  - the FontToy demo has been updated and a short doc file added@{line}
@{line}
o AWNPipe-handler Vers 2.40@{line}
  - fixed bug in ASL getfile title modify@{line}
  - added some important text to the getfile docs.@{line}
  - fixed bug, GUI Host could hang on selection of invalid browsernode@{line}
  - fixed bugs ASL getfile, height parameter, filename@{line}
  - added function, removenode now works with list detached@{line}
  - Listbrowsers can now be sorted by two fields at once.@{line}
  - added option to set positive text is ASL getfile@{line}
  - added option to set negative text is ASL getfile@{line}
  - No more deadlocks when a read is pending on both ends of a pipe !!!@{line}
  - refined help window size and placement@{line}
@{line}
o AWNPipe-handler Vers 2.39@{line}
 - added '/Xea' option to generate keystrokes from a simple ANSI source.@{line}
 - fixed arexx host creation (could cause enforcer hits)@{line}
 - changed fonttoy demo@{line}
@{line}
o AWNPipe-handler Vers 2.38@{line}
 - oops 2.37 has new 'beep' modify command to flash screen(s).@{line}
 - added keystroke event generator.  '/Xe'@{line}
 - added keystroke filter and notification '/Xk'@{line}
 - optimized A4 initialization for faster handler.@{line}
@{line}
o AWNPipe-handler Vers 2.37@{line}
 - added 'bufferpos' to read cursor position in string gadgets.@{line}
 - fixed bug, unmatched commands to an arexx host could cause software failure.@{line}
 - fixed cut and paste tutorial text in the docs.@{line}
 - expanded tutorial 5 teaching about ARexx hosts.@{line}
 - added sliders to gadgets 3 demo.@{line}
@{line}
o AWNPipe-handler Vers 2.36@{line}
 - started real history record@{line}
 - added 'askclose' to window definition to stop window close button from actually closing the window.@{line}
 - added 'bubble' modify command to open a help bubble.@{line}
 - added cursor position to help events.@{line}
 - added 'ASL' option to getfile to use an ASL rather than ClassAct/Reaction based requester.@{line}
 - added work around for the fact CA/Reaction GetFile and GetFont can trash the GUI when help events are enabled.@{line}
 - added tutorial 5 teaching bubble help.@{line}
 - added 'weightbar' gadget..@{line}
 - 'label' and 'bitmap' now return the created image size.@{line}
@{line}
o AWNPipe-handler Vers 2.33 and earlier@{line}
 - added 'draw' modify command to draw images manually into GUI.@{line}
 - added 'refresh' events to window to allow refreshing of manually drawn images.@{line}
 - added 'mouse' modify command to read mouse position.@{line}
 - added 'slider' gadget type.@{line}
 - added REAL menu bars.@{line}
 - made menu mutilselect.@{line}
 - extended appwindow support to allow dropping of a group of icons.@{line}
 - added some 'C' based tutorials, anyone using awnp from 'C' please contact the AWNP author.@{line}
 - added unit number option to '/v' and '/c' reading and writing the clipboard.@{line}
 - fixed bug in modification of scroller gadgets.@{line}
 - added a bunch of new modify commands for list browsers.@{line}
 - added command to read the  contents aof a list node.@{line}
 - added 'TextEditor' gadget type.@{line}
@{line}
Origin@{line}
@{line}
 AWNPipe was originally developed as a way to speed up the execution of my ARexx script AWebNews.awebrx. As I continued writing scripts I added more and more functions to the pipe. Some of the functions have proven useful to others writing Amiga prpgrams. I built these docs in the hope that AWNPipe: will be of use to Amiga programmers in general.@{line}
@{line}
Acknowledgements@{line}
@{line}
 I would like to thank Gabriele Favrin (author of HTTX) for his input, testing and constant encouragement while writing AWNPipe.@{line}
@{line}
 I also thank...@{line}
@{line}
 Bruce Steers for maintaining the AWNP support page and finding many subtle bugs.@{line}
@{line}
 Nils Goers for his testing under ADOS 3.5 and developing his wonderful program T.H.E. using AWNP, as well as his bug reports.@{line}
@{line}
 Bernd Gollesch for writing the script that creates the Amiga Guide and plain@{line}
text versions of the docs automagicaly.@{line}
@{line}
 Everyone else who provided bug reports or feed back helping me make AWNP better.@{line}
@{line}
Bill@{line}
@endnode
@node 2 "2 Read First"
@{line}
2 Read First@{line}
------------@{line}
@{line}
 AWNPipe itself is stable and quite well tested. These docs are still a work in progress so please excuse typos and omissions.@{line}
@{line}
 At first glance AWNPipe may appear complex. Actually each of the functions in the pipe are simple to use when taken individually. Don't try to learn everything at once, pick a single function and try it out. Each function can be used without knowing anything about the other functions.@{line}
@{line}
 Most of you will be primarily interested in building and operating GUI's. You can go directly to the GUI Creation section and start there. The important part to read about is the conversation, then try the tutorials in that section.@{line}
@{line}
 To learn about pipe functions go straight to Pipe Functions/Tutorials/Simple and work through the examples.@{line}
@{line}
 Right Amiga C can be used to cut and paste example text from the docs. This helps to avoid typos.@{line}
@{line}
Feel free to contact me, <bill@amitrix.com>, with your questions and comments.@{line}
@{line}
 Have Fun !@{line}
@endnode
@node 3 "3 Pipe Functions"
@{line}
3 Pipe Functions@{line}
----------------@{line}
@{line}
 @{" 3.1 " LINK 3.1} Overview@{line}
 @{" 3.2 " LINK 3.2} Conversion@{line}
 @{" 3.3 " LINK 3.3} Paths@{line}
 @{" 3.4 " LINK 3.4} Internal@{line}
 @{" 3.5 " LINK 3.5} Extensions@{line}
 @{" 3.6 " LINK 3.6} Tutorials@{line}
@endnode
@node 3.1 "3.1 Overview"
@toc 3
@{line}
3.1 Overview@{line}
------------@{line}
@{line}
 The pipe function sections are NOT required reading to learn how to build GUI's.@{line}
@{line}
 Using AWNPipe@{line}
 -------------@{line}
@{line}
All of AWNPipes functions are accessed through a pipe like interface as the name implies. Pipes are accessed like any other type of file using open, close, read, and write. From Amiga DOS a pipe can be used almost any place you would normally use a file name.@{line}
@{line}
The name of each pipe starts with the device name 'awnpipe:'. This is followed by a unique name that is used to identify the pipe. The name MAY also be followed by a '/' and some option information to give the pipe special abilities. 'awnpipe:myfile' and 'awnpipe:test' are examples of pipe names.@{line}
@{line}
The options after the '/' usually cause the data to be altered as it passes into the pipe. Then data you read out from the pipe will be different than the data you wrote into it. The '/h' function works this way, any '&' written into the pipe will be read back as '&amp;'.@{line}
@{line}
Some other options connect the pipe to special hosts like the clipboard. Data written to a pipe ending in '/c0' goes into the clipboard unit 0. The data read from a pipe ending in '/v0' will be the contents of clipboard unit 0.@{line}
@{line}
Here is a simple example showing data going in and out of a pipe.@{line}
@{line}
echo "hello World" > AWNPipe:test@{line}
type AWNPipe:test@{line}
@{line}
@{line}
This following information is intended as a reference for people already familiar with AWNP. To learn how to use pipe functions work through the tutorials.@{line}
@{line}
 Pipe Types@{line}
 ----------@{line}
@{line}
/i immediate   /u unHTML        /e execute    /l link@{line}
/r read        /p Postaweb      /o <option>   /v[unit#] readclip@{line}
/w write       /! do not wait   /b backwards  /c[unit#] writeclip@{line}
/h HTML        /t tap           /f force      /s status@{line}
/g HTML2       /a abort         /-vers# minimum version@{line}
/@ seek enable /m Multiple Opens   /1 open first end@{line}
@{line}
/x[option] extra function@{line}
      /xc open interactive Class Act pipe@{line}
      /xcr[filename] open interactive Class Act pipe, reading the window and gadget definitions from a separate file.@{line}
      /xcw[filename] open interactive Class Act window, writing the events to a separate file.(also sets immediate and force)@{line}
      /xm[c]    string pattern match c=case sensitive@{line}
      /xm[c]w    string pattern match c=case sensitive results to separate file@{line}
      /xm[c]r    string pattern match c=case sensitive reading data from separate file. (also sets immediate and force)@{line}
      /x0 programmable replace loopback@{line}
      /x0r[filename] programmable replace from file@{line}
      /x0w[filename] programmable replace to file@{line}
      /xk remove keystrokes from input event stream and notify@{line}
      /xe write keystrokes to the input event stream from code & qual@{line}
      /xea write keystrokes to the input event stream from ANSI source@{line}
      /xt[filename] query icon tooltypes@{line}
      /xi[filename] read tooltype information for a file.@{line}
      /xs[filename] set tooltype information for a file.@{line}
      /xz remove html tags <...>  loopback@{line}
      /xzr[filename] remove html tags <...> from file@{line}
      /xzw[filename] remove html tags <...> to file@{line}
      /xp get public screen names  loopback@{line}
      /xpw[filename] get public screen names to file@{line}
      /xw[length] text wrap loopback@{line}
      /xw[length]r[filename] text wrap from file@{line}
      /xw[length]w[filename] text wrap to file@{line}
@{line}
Details about AWNPipe@{line}
---------------------@{line}
@{line}
AWNPipe:test/h AWNPipe:TEST AWNPipe:test/h/f/rhelpme are all the same file. The unique name is NOT case sensitive, and terminates on the first '/' or the end of the name if no '/' is found. '%' may be substituted for  '/' . Options after the '/' should be given in lower case.@{line}
@{line}
A pipe name is usually only opened twice. After that calls to open will fail. After both ends of the pipe are closed the pipe name can  be used again. A pipe can immediately be written after it is opened, even if the other end has not yet been opened. Some special options can override this behavior.@{line}
@{line}
Some types of pipes are only opened ONCE. The second end of these pipes are automatically connected to something by the AWNPipe internal code. Clipboard access is an example of this type of pipe.@{line}
@{line}
All file handles can both read or write data. A check is made to see if pipes dead lock from pending reads on both ends. If this happens both of the pending reads are aborted to break the deadlock.@{line}
@{line}
Data flow is never stopped by buffering.@{line}
@{line}
If data is written into a pipe and the second end never opened, the pipe stores all written data.... forever  (until you reboot).@{line}
@{line}
@{line}
@endnode
@node 3.2 "3.2 Conversion"
@toc 3
@{line}
3.2 Conversion@{line}
--------------@{line}
@{line}
Data Conversion@{line}
----------------@{line}
@{line}
The data passing through the pipe may be modified by the pipe with the following options.@{line}
@{line}
H option@{line}
========@{line}
@{line}
html conversion - some special characters are translated into html tokens.@{line}
& > <  become &amp; &lt; &gt;@{line}
This option must be specified on the file handle that is written.@{line}
@{line}
copy ram:test AWNPipe:test/h@{line}
copy AWNPipe:test ram:test2@{line}
@{line}
@{line}
G option@{line}
========@{line}
@{line}
The same as the H option above, except that any special html character preceded by an '@' is not converted. The preceding '@' is removed during the translation process.@{line}
@{line}
U option@{line}
========@{line}
@{line}
UNhtml conversion - some html tokens are translated into special character.@{line}
&amp; &lt; &gt; become & > <@{line}
Tokens of the form &#NUM; are also translated.@{line}
This option must be specified on the file handle that is written to..@{line}
@{line}
copy ram:test AWNPipe:test/u@{line}
copy AWNPipe:test ram:test2@{line}
@{line}
P option@{line}
========@{line}
@{line}
AWebPost conversion - some special characters are translated into standard ascii. This must be specified on the file handle that does the writing.@{line}
@{line}
copy ram:test AWNPipe:test/p@{line}
copy AWNPipe:test ram:test2@{line}
@{line}
B option@{line}
========@{line}
@{line}
backwards blocks - characters read from a pipe are returned in reverse order@{line}
of the character blocks written. This must be specified on the@{line}
file handle that does the reading.@{line}
@{line}
if you write 5 blocks of characters .....@{line}
@{line}
'hello'@{line}
'world'@{line}
'1'@{line}
'2'@{line}
'3'@{line}
@{line}
they are read back as@{line}
@{line}
321worldhello@{line}
@{line}
Funny things can happen if you read before all writes are completed.@{line}
@{line}
O option@{line}
========@{line}
@{line}
 Adds the text '<option>' after every '0a'x . I use it in AWebNews.@{line}
@{line}
copy ram:test AWNPipe:test/o@{line}
copy AWNPipe:test ram:test2@{line}
@{line}
@endnode
@node 3.3 "3.3 Paths"
@toc 3
@{line}
3.3 Paths@{line}
---------@{line}
@{line}
Controlling data paths.@{line}
-----------------------@{line}
@{line}
T option@{line}
========@{line}
@{line}
TEE's or data taps. A tap is a extra read handle on a pipe connection. If the pipe is not yet created the tap will wait for it to be created. A tap does not see any data written to the pipe before the tap was created. Taps are useful to listen in on interactive (2way) pipes as they read the data written to both ends of the pipe.@{line}
@{line}
Try this is 3 separate shells.@{line}
@{line}
type AWNPipe:test/t@{line}
type AWNPipe:test@{line}
echo > AWNPipe:test "test data"@{line}
@{line}
@{line}
R option@{line}
========@{line}
@{line}
Read a file. The second end of a pipe can be connected to file automatically. The file name is given after the 'R'.@{line}
@{line}
Create a file 'ram:test' containing some text including the characters '<>&'.@{line}
Now try this in a shell.@{line}
@{line}
type AWNPipe:test/h/rram:test@{line}
@{line}
The data from ram:test is read through a modifying pipe.@{line}
@{line}
W option@{line}
========@{line}
@{line}
Write a file. The second end of a pipe can be connected to file automatically. The file name is given after the 'W'.@{line}
@{line}
Create a file 'ram:test' containing some text including the characters '<>&'.@{line}
Now try this in a shell.@{line}
@{line}
copy ram:test AWNPipe:test/h/wram:test2@{line}
@{line}
The data from ram:test is copied into a modifying pipe, the pipe automatically@{line}
outputs the data into a second file ram:test2 .@{line}
@{line}
L option@{line}
========@{line}
@{line}
Read AND write to an interactive file such as con: . The interactive file name is given after the 'L'.@{line}
@{line}
This is useful to be able to 'tap' into a two way conversation at a con: or other interactive file handle. Instead of opening con: directly, open@{line}
AWNPipe:test/Lcon:////mycon/@{line}
Now you can open AWNPipe:test/t to tap the data exchanged with the con:.@{line}
@{line}
V option@{line}
========@{line}
@{line}
This option opens a pipe directly to the clipboard.@{line}
@{line}
type AWNPipe:test/v@{line}
@{line}
You may also specify a clipboard unit, defaults to 0 (the primary clip).@{line}
@{line}
To access clipboard unit 5@{line}
@{line}
type AWNPipe:test/v5@{line}
@{line}
@{line}
C option@{line}
 ========@{line}
@{line}
This option allows you to set the clipboard@{line}
@{line}
echo "set this as the clip" >AWNPipe:test/c@{line}
@{line}
You may also specify a clipboard unit, defaults to 0 (the primary clip)@{line}
@{line}
To set clipboard unit 5@{line}
@{line}
echo "set this as the clip" >AWNPipe:test/c5@{line}
@{line}
E option@{line}
========@{line}
@{line}
execute a command . The file name is given after the 'E'. A command is executed  with the pipe name as an argument. The pipe name replaces a '%' or is placed at the end. You CAN NOT use a '/' instead of a '%' !.@{line}
@{line}
copy ram:test.doc AWNPipe:test/h/eaweb3:aweb-II@{line}
@{line}
copy ram:test.doc "AWNPipe:test/h/eaweb3:aweb-II % config@{line}
local"@{line}
@{line}
Both of these load a file ram:test into AWeb through a modifying pipe and call AWeb to view it .@{line}
@{line}
Into a file requester such as AWebs save requester...@{line}
'awnpipe:jpeg/eUtil:fjpeg_ecs'@{line}
will send the data directly to the viewer.@{line}
@{line}
@{line}
@endnode
@node 3.4 "3.4 Internal"
@toc 3
@{line}
3.4 Internal@{line}
------------@{line}
@{line}
Internal controls.@{line}
-----------------@{line}
@{line}
These options control some of the behaviours of AWNP regarding opening pipes and reading data.@{line}
@{line}
- option@{line}
========@{line}
@{line}
 Specify a minimum version of AWNPipe you need. The format is /-VVRRR where V is the version and R is the revision.@{line}
 Opening AWNPipe:name/-02009 will fail to open unless AWNPipe is version 2.9 or newer.@{line}
@{line}
A option@{line}
========@{line}
@{line}
 Abort pending reads.  If you try to open a pipe using the '/a' option any pending reads are aborted.  This USUALLY causes the pipe to shut so you can reuse the pipename. It is seldom if ever needed now since AWNP catches most problems and shuts down 'hung' pipes automatically. The open itself ALWAYS fails, this is intended.@{line}
@{line}
M option@{line}
========@{line}
@{line}
 Multiple opens. When a pipe is opened with this option it behaves normally. However when this file handle is closed that end of the pipe becomes available to be opened again. If you open the pipe name again with the  '/1' (open first end)  flag is set the open call only tries to open the first side of the pipe (the end that was opened when the pipe was created). If the donotwait flag is set the open call only tries to open the second side of the pipe (the end that was NOT opened first). When neither flag is set you get the first end of the pipe if available, else you get the second end.@{line}
@{line}
I option@{line}
========@{line}
@{line}
 Immediate reads. Reads to the file handle will return if there is any data waiting to be read. If you try to read 10 characters from the pipe and only 5 are available, the read returns with the five characters immediately (rather than waiting for 5 more characters to be available). Therefore only a read of 0 length means end of file. This is useful with data originating  interactively from con: or ser: .@{line}
@{line}
F option@{line}
========@{line}
@{line}
 Force a pipe to be created. A new pipe is created even if the pipe name is already is use. The open will not fail, and it will not connect to any currently existing pipe end. After both ends of the forced pipe are opened any previous partial ( only opened once) pipe of that name becomes available again. (ONLY FORCE THE FIRST END OF THE PIPE)@{line}
@{line}
! or ~ option.@{line}
==============@{line}
@{line}
 Do not wait. The open will fail unless the other end of the pipe is already open. A new pipe will not ever be created. Used on a tap it stops the tap from waiting for a matching pipe to be created.@{line}
@{line}
@ option@{line}
==============@{line}
@{line}
 Respond to seek packets. Normally seek is not supported by AWNPipe. If see is turned on, the current position is reported as '0' if no data is available on the pipe, '1' if data is waiting to be read.@{line}
@{line}
 NOTE Do not use this function from ARexx as ARexx has a read ahead buffer@{line}
that is flushed when you call seek. This can cause you to loose data. It may@{line}
also happen in other languages if read data is buffered.@{line}
@{line}
S or s option@{line}
==============@{line}
@{line}
Status of a pipe. This MUST always be a tap as well. Read only returns a single byte. This is the status of the real pipe the tap refers to. The bits/nibbles or byte meanings are as follows.@{line}
@{line}
'FF' indicates  file handle does not exist. (you can check just the high bit)@{line}
@{line}
low nibble = First end that is opened.@{line}
high nibble =second end opened.@{line}
@{line}
in each nibble@{line}
@{line}
bit 4 always zero when FH exists@{line}
bit 3 FH opened.  (nibble&4)@{line}
bit 2 FH closed.  (nibble&2)@{line}
bit 1 FH data available.  (nibble&1)  sub for WaitForChar in AREXX.@{line}
@{line}
Note 'FF' indicates no file handle active.@{line}
@{line}
@{line}
@endnode
@node 3.5 "3.5 Extensions"
@toc 3
@{line}
3.5 Extensions@{line}
--------------@{line}
@{line}
X or x option@{line}
==============@{line}
@{line}
These options let you open a pipe whose second end is connected to various@{line}
special hosts. (you only open these pipes once)@{line}
@{line}
The X option is always followed by additional character(s). The second character determines what type of pipe is opened.@{line}
@{line}
Xw[length][(r|w)filename]  (simple text wrap)@{line}
---------------------------------------------@{line}
@{line}
 This pipe wraps text at 'length' characters. It DOES NOT rewrap (lines@{line}
shorter than length chars are not joined into longer lines. Length defaults@{line}
to 80 if it is not specified.@{line}
@{line}
 When using this function in loopback mode each 'chunk' of text to be wrapped MUST end in a linefeed. This allows the same pipe to be used to wrap several seperate 'chunks' of text. (loopback mode is when you do not use [(r|w)filename])@{line}
@{line}
X0[(r|w)filename]  (Programmable replacement)@{line}
---------------------------------------------@{line}
@{line}
 Programmable replacement of a character. A single character is looked for in data written to the pipe and replaced by a multy character string.@{line}
@{line}
 First write two bytes to the pipe. the first byte is always '1' the second byte is the target character to be replaced. Then write a byte giving the length of the replacement string (<=255) followed by the replacement string. Do NOT include a terminating null .@{line}
@{line}
 Data written to the pipe after this point is echoed back to the pipe with any occurrences of the target character replaced by the specified string.@{line}
@{line}
 X0wfilename causes the data to be echoed to a file rather than back to the pipe.@{line}
@{line}
 X0rfilename causes the data to be read from a file rather than from the pipe. Note that the target character and replacement string is still read from the pipe not the external file. Only data to be parsed and replaced is read from the file.@{line}
@{line}
Xz[mode][(r|w)filename] (process html)@{line}
-----------------------------------------------------@{line}
@{line}
 The function used depends on 'mode'. Mode is a bitmaped decimal.@{line}
@{line}
bit 1 (1)- Remove all characters between '<' '>' including the '<' and '>'. Condence@{line}
bit 2 (2)- condence multiple spaces to a single space@{line}
bit 3 (4)- do not condence at the start of a line.@{line}
bit 4 (8)- replace '0a' characters with spaces@{line}
bit 5 (16)- replace '0d' characters with spaces@{line}
bit 6 (32)- replace tab characters with spaces@{line}
bit 7 (64)- replace <br> and <p> with newline characters@{line}
bit 8 (128)- format tables with newlines <td> <th> <table> <tr>@{line}
bit 9 (256)- format lists with newlines <li> <ul> <ol>@{line}
@{line}
 The rest of the characters pass unaltered. Sum the numbers in brakets to select 'mode'. Mode defaults to 511 (all on).@{line}
@{line}
 EXAMPLE: Writing '1<2>3' to the pipe returns '13'.@{line}
@{line}
 Xzwfilename causes the data to be echoed to a file rather than back to the pipe.@{line}
@{line}
 Xzrfilename causes the data to be read from a file rather than from the pipe. Note that the target character and replacement string is still read from the pipe not the external file. Only data to be parsed and replaced is read from the file.@{line}
@{line}
Xp[(w)filename]  (get public screen information)@{line}
------------------------------------------------@{line}
@{line}
 This pipe is only read, never written to.@{line}
@{line}
 This pipe returns the name of the front public screen on the first line.@{line}
 The default public screen name on the second line.@{line}
 Then information on ALL public screens follows, two lines each screen. The first line has the screen name, the second the following information 'Top Left Height Width Flags ScreenMode'@{line}
 All values are given in hexidecimal.@{line}
@{line}
 Example: 'type awnpipe:/xp'@{line}
@{line}
DM.1                          (front screen)@{line}
Workbench                     (default screen)@{line}
Workbench                     (1st screens name)@{line}
0 0 320 4B0 4651 4002         (1st screens info)@{line}
AWeb                          (2nd screens name)@{line}
0 0 320 258 4652 6002         (2nd screens info)@{line}
DM.1                          (3rd screens name)@{line}
0 0 320 258 4652 6002         (3rd screens info)@{line}
DM.2                          (4th screens name)@{line}
0 0 320 258 4652 6002         (4th screens info)@{line}
TURBOTEXT                     (5th screens name)@{line}
0 FFFFFF14 2CA 1D8 6212 F004  (5th screens info)@{line}
@{line}
 Xpwfilename causes the data to be echoed to a file rather than back to the pipe.@{line}
@{line}
ICON HANLDING@{line}
========================@{line}
@{line}
Xt[filename]   (find Tooltypes)@{line}
-------------------------------@{line}
@{line}
 This host is the best suited to quickly check for tooltypes and get there values.@{line}
@{line}
 The icon file for the specified file (you do NOT add '.icon') is queried.@{line}
@{line}
 Open the file awnpipe:myname/Xt[filename]. Write a line containing the tooltype you wish to query to the pipe. Read back a response line.@{line}
@{line}
 If no icon file is found an eof is returned.@{line}
@{line}
 If the tooltype is NOT found you will read back a null line (only a <cr>).@{line}
@{line}
 If the tool type IS found you will read back 'ok ' followed by the tooltypes value (if it has one).@{line}
@{line}
Xi[filename]   (Icon information)@{line}
---------------------------------@{line}
@{line}
 This host will retrieve fuller details about tooltypes and some other icon information. It is often used in combination with the following host.@{line}
@{line}
 The icon file for the specified file (you do NOT add '.icon') is read. The pipe returns the following lines...@{line}
@{line}
icon_type x y stack@{line}
default tool@{line}
tool window@{line}
first tooltype@{line}
second tooltype@{line}
...@{line}
@{line}
If no icon file is found  no data is returned. Note that for blank lines will be returned when the information does not apply to that icon type.@{line}
@{line}
example: awnpipe:/xidevs:dosdrivers/awnpipe  returns@{line}
@{line}
4 3 139 4096@{line}
C:Mount@{line}
@{line}
ACTIVATE=0@{line}
@{line}
To get information on a volume (say dh1:) use 'awnpipe:/xidh1:disk'.@{line}
@{line}
Xs[filename]  (Set icon information)@{line}
------------------------------------@{line}
@{line}
 This host will alter or create the icon and tooltypes for the specified file.@{line}
Data is written to the host in the same format as returned by the preceding@{line}
host.@{line}
@{line}
icon_type x y stack@{line}
default tool@{line}
tool window@{line}
first tooltype@{line}
second tooltype@{line}
third ...@{line}
@{line}
Icon_type, x, y, and stack are all integer values written on a single line.@{line}
@{line}
Default tool and the tooltypes are ascii strings.@{line}
@{line}
Tool window is ignored but MUST still be included, either use a blank line ('0A'x) or used the data returned by the Xi host.@{line}
@{line}
The first three lines are always required. You may set as many tooltypes as you like including none.@{line}
@{line}
some useful information:@{line}
@{line}
setting x and y to -2147483648 unsnapshots the icon.@{line}
icon_type 1=disk 2=drawer 3=tool 4=project 5=trashcan@{line}
@{line}
Xm[c][(r|w)filename]  (pattern Matching)@{line}
----------------------------------------@{line}
@{line}
 Pattern match Conversation. This conversation supports full ADOS pattern matching. The trailing 'c' will make the match case sensitive.@{line}
@{line}
 Xmwfilename causes the match result to be sent to a file rather than back to the pipe.@{line}
@{line}
 Xmrfilename causes the data to be read from a file rather than from the pipe. The match results are read back from the pipe.@{line}
@{line}
NOTE: the replies are ascii terminated with a newline.@{line}
@{line}
Write the pattern to the pipe terminated with a newline. (<500 chars) The pipe returns 'ok 1' when you sent a valid pattern to match to. It returns 'ok 0' if you did not send a pattern ( the pipe will look only@{line}
for exact matches).@{line}
@{line}
write a string to the pipe terminated with a newline.(<500 chars) read the reply  '0' (no match) '1' (is a match)@{line}
@{line}
write as many stings as you like . Close pipe to end. The terminating newlines are ignored while matching.@{line}
@{line}
KEYSTROKE HANDLING@{line}
==================@{line}
@{line}
Xk      (Keystroke filter)@{line}
--------------------------@{line}
@{line}
 Filter keystrokes from the input device event stream and receive notifications of the keystroke.@{line}
@{line}
 First write a byte to the pipe setting the priority of the key parse handler. It is a signed byte -128 to 127. If you are not sure what you want use 51 (0x33).@{line}
@{line}
 Next  write a byte to the pipe indicating how many keystrokes to filter. The maximum is 255 (0x'ff'). 0 is NOT valid.@{line}
@{line}
0x'0a' is 10 keys.@{line}
@{line}
 Then write two bytes to the pipe indicating how often a null match should be sent (to stop your task waiting forever for a match that never happens).@{line}
@{line}
 0x'0032' is 50/100s of a second.@{line}
@{line}
 Now write 4 bytes defining each key you wish to be notified of.  The first two bytes are the key the second two bytes are the qualifier.@{line}
@{line}
 Writing 0x'00200001' to the pipe sets the 'a' key 'leftshifted' to be filtered from the event stream.@{line}
@{line}
 You MUST set exactly the same amount of keys as specified above.@{line}
@{line}
 Once the setup is complete you read notification from the pipe. Each notification is 1 byte giving a match number, the first keystroke you specified is 1, the second 2 ...@{line}
@{line}
 A byte of 0 is a null event, no match occurred.@{line}
@{line}
 Close the pipe to end key filtering. NOTE the keyparse handler actually does not get removed until the NEXT match or null event.@{line}
@{line}
Xe   (key Event generator)@{line}
--------------------------@{line}
@{line}
 Write keystrokes to the input device event stream.@{line}
@{line}
 Each keystroke is sent by writing 4 bytes to this pipe. The first two bytes are the key the second two bytes are the qualifier.@{line}
@{line}
 Writing 0x'00200001' to the pipe sends the 'a' key 'leftshifted'.@{line}
@{line}
 You may close the pipe at any time.@{line}
@{line}
Xea   (key events form Ascii)@{line}
-----------------------------@{line}
@{line}
 Write keystrokes to the input device event stream from a string source.@{line}
@{line}
 Each keystroke is sent by writing a byte to this pipe. You do NOT need to write one character at a time. Simply write ascii text to the pipe and it will generate keystrokes as if the string had been typed at the keyboard.@{line}
@{line}
 This is easier than writing keycodes and qualifiers to the pipe but you can not generate 'special keystrokes' like Alt-F10 .@{line}
@{line}
 You may close the pipe at any time.@{line}
@{line}
Xc[(r|w)filename]    (ClassAct/Reaction host)@{line}
---------------------------------------------@{line}
@{line}
 ClassAct Window Conversation. The Window and gadgets are defined by writing to the pipe:. Gadget hits and error/confirmation information is read from the pipe. A filename may also be given. If the file is specified as write 'w' the output of the pipe is directed to that file. If the file is specified as read 'r' the window and gadget definitions are read from the file.@{line}
@{line}
 See the GUI Creation section of the docs for details.@{line}
@endnode
@node 3.6 "3.6 Tutorials"
@toc 3
@{line}
3.6 Tutorials@{line}
-------------@{line}
@{line}
 @{" 3.6.1 " LINK 3.6.1} Simple@{line}
 @{" 3.6.2 " LINK 3.6.2} Advanced@{line}
 @{" 3.6.3 " LINK 3.6.3} Tricks@{line}
@endnode
@node 3.6.1 "3.6.1 Simple"
@toc 3.6
@{line}
3.6.1 Simple@{line}
------------@{line}
@{line}
HINT: Drag select the text then use right Amiga C to copy the examples out of these docs. This helps avoid typos.@{line}
---@{line}
@{line}
The simplest use of awnpipe is as an ordinary pipe. That means put data into one end of a pipe and read it out the other.@{line}
@{line}
In a shell type 'echo >awnpipe:mypipe hello'@{line}
Now type 'type awnpipe:mypipe'@{line}
@{line}
The word hello went into the pipe from the echo command, and came out with the type command.@{line}
@{line}
'mypipe' was the name of the pipe. More than one pipe can exist at the same time.@{line}
@{line}
In a shell type 'echo >awnpipe:mypipe1 hello'@{line}
In a shell type 'echo >awnpipe:mypipe2 goodbye'@{line}
In a shell type 'type awnpipe:mypipe1'@{line}
In a shell type 'type awnpipe:mypipe2'@{line}
@{line}
Two pipes each with a different name.@{line}
@{line}
---@{line}
@{line}
Make sure you have two different shells available.@{line}
@{line}
In the first shell type 'type awnpipe:mypipe'@{line}
In the second shell type 'echo >awnpipe:mypipe hello'@{line}
@{line}
You opened the read end of the pipe first. The type command waited until data was available from the pipe THEN returned.@{line}
@{line}
A word of caution. Don't try to read from both ends of the pipe at the same time. If you 'type awnpipe:mypipe1' in two separate shells both will hang waiting for data to come from the pipe. AWNPipe notices this and cancels both reads to break the deadlock, this causes both type commands to end without typing any data.@{line}
@{line}
---@{line}
@{line}
To use AWNPipe for other functions you add '/' followed by some parameters to the pipe name.'/h' will cause the pipe to translate a few special characters to there HTML equivalents. Note that the '/h' is only used when writing to the pipe.@{line}
@{line}
In a shell type 'echo >awnpipe:mypipe/h "& > <"'@{line}
In a shell type 'type awnpipe:mypipe'@{line}
@{line}
The data is modified as it pass through the pipe.@{line}
@{line}
See the advanced examples for more types of data conversion.@{line}
@{line}
---@{line}
It is possible to have a pipe automatically connect it self to a file. In these cases you only open the pipe on one end, the other end is automatically connected to a file.@{line}
@{line}
'/rFILENAME' reads the contents of FILENAME and places it in the pipe.@{line}
@{line}
Create a file 'ram:test' containing some text including the characters '<>&'.@{line}
@{line}
Now try this in a shell.@{line}
@{line}
type AWNPipe:test/h/rram:test@{line}
@{line}
(YES there are two colons ':' in the pipename. Strange but don't let it bug you.)@{line}
@{line}
The data from ram:test is read through a modifying pipe.@{line}
@{line}
---@{line}
@{line}
'/wFILENAME' writes the output of the pipe to FILENAME.@{line}
@{line}
In a shell type 'echo >awnpipe:mypipe/h/wram:AWNPtest "& > <"'@{line}
@{line}
Take a look at the file ram:AWNPtest (with your favorite text editor).@{line}
@{line}
---@{line}
@{line}
'/u' reverses the translation done by '/h' and '/rFILENAME' reads data into a@{line}
pipe.@{line}
@{line}
In a shell type 'type awnpipe:mypipe/u/rram:AWNPtest'@{line}
@{line}
The contents of the file are read and translated.@{line}
@{line}
---@{line}
@{line}
It is possible to have a pipe automatically connect it self to the clipboard.@{line}
@{line}
In a shell type 'echo >awnpipe:mypipe/c hello'@{line}
@{line}
The word hello was placed into the clipboard. Use your text editor to check it out. Then put different text into the clipboard using your text editor.@{line}
@{line}
In a shell type 'type awnpipe:mypipe/v'@{line}
@{line}
 The contents of the clipboard are typed out.@{line}
@{line}
@endnode
@node 3.6.2 "3.6.2 Advanced"
@toc 3.6
@{line}
3.6.2 Advanced@{line}
--------------@{line}
@{line}
You should read the simple examples before trying these more advanced ones.@{line}
@{line}
HINT: use right Amiga C the drag then clip the examples out of these docs to avoid typos.@{line}
@{line}
@{line}
---@{line}
@{line}
It is possible to tap into or duplicate the data passed in a pipe. '/t' will add a readonly third end to a pipe.@{line}
@{line}
Make sure you have two different shells available.@{line}
@{line}
In the first shell type 'type awnpipe:mypipe/t'@{line}
@{line}
In the second shell type 'echo >awnpipe:mypipe hello'@{line}
In the second shell type 'type awnpipe:mypipe '@{line}
@{line}
 The word hello came back from both the second end of the pipe and the 'Tap' third end.@{line}
@{line}
---@{line}
@{line}
In the first shell type 'copy con:////pipe-test/close awnpipe:mypipe'@{line}
In the second shell type 'type awnpipe:mypipe '@{line}
@{line}
Type a few lines of text into the test con:, nothing comes out in the second shell. Close the test con:, now the data comes out. This is because the type command wants to read large blocks of data.@{line}
@{line}
'/i' will cause data to pass out of the pipe immediately (as soon as its available).@{line}
@{line}
In the first shell type 'copy con:////pipe-test/close awnpipe:mypipe'@{line}
In the second shell type 'type awnpipe:mypipe/i '@{line}
@{line}
Now the text comes out of the pipe each time you hit return in the test con:.@{line}
Close the test con: to end the example.@{line}
@{line}
---@{line}
@{line}
You can use AWNPipe to read the tooltypes of an icon. The second end of the pipe automatically reads the tooltypes of FILENAME when '/xiFILENAME' is used. NOTE that parameters that start with '/x' can not be mixed with other parameters!@{line}
@{line}
In a shell type 'type awnpipe:mypipe/xiDevs:dosdrivers/awnpipe'@{line}
@{line}
YES the pipe name contains two colons ':', don't let it bug you.@{line}
@{line}
The tooltype information from Devs:dosdrivers/awnpipe prints out. Note you do not include '.info' in the file name.@{line}
@{line}
The data is typed out in the following format..@{line}
@{line}
icon_type x y stack@{line}
default tool@{line}
tool window@{line}
first tooltype@{line}
second tooltype@{line}
...@{line}
@{line}
If you get some weird number (-2147483648) for the X and Y values it means you did not snapshot the icon yet.@{line}
@{line}
---@{line}
@{line}
You can also use AWNPipe to write the tooltypes of an icon.@{line}
@{line}
Copy a file with its icon into ram:., preferably an icon that has some tooltypes set in it.@{line}
@{line}
In a shell 'copy awnpipe:/xiRam:filename ram:icondump' , do not include '.info' in the filename.@{line}
@{line}
Now examine and edit the file ram:icondump change the default tool and tooltypes.@{line}
@{line}
In a shell 'copy ram:icondump awnpipe:/xsRam:filename '.@{line}
@{line}
Use the WB menu info function to verify the new setting in the icon.@{line}
@{line}
---@{line}
@{line}
 AWNPipe can be used to pattern match. '/xm' is used for pattern matching. Data is usually written into the pipe, and the results of the pattern matching read back from THE SAME END OF THE PIPE. The second end of the pipe is automatically connected to a task that is doing the pattern matching. '/xmrFILENAME' causes the data to be read from a file rather than the pipe, the match results are read from the pipe.@{line}
@{line}
In a shell type 'type awnpipe:mypipe/xmrcon:////pipetest/close'@{line}
@{line}
In the pipetest con: type '#?a' . This sets a pattern to match any text ending in 'a'. 'ok 1' should come back from the pipe. ('ok 0' would means you did not enter a pattern so an exact match will be tested for.)@{line}
@{line}
In the pipetest con: enter some text. If the text ends with 'a' then the pipe responds with '1' meaning a match. If not the pipe responds with '0' meaning no match. Close the pipe test con: to end the example.@{line}
@{line}
---@{line}
@{line}
 Several functions can be used when processing html documents.@{line}
@{line}
 '/xz' will remove html tags. This means a '<' and all following characters@{line}
until a matching '>'.@{line}
@{line}
 Make a simple text file called 'file.html' as follows (or uses any html you already have).@{line}
@{line}
'hello <tag>world <another tag>@{line}
this is <tag>a test <another tag>@{line}
1234567890123456789012345678901234567890'@{line}
@{line}
In a shell 'type awnpipe:/xzrpath:file.html'@{line}
@{line}
 '/xw[length]' allows you to wrap text. (Text parsed from html files is usualy unwrapped.)@{line}
@{line}
Use the same file as above.@{line}
@{line}
In a shell 'type awnpipe:/xw5rpath:file.html'@{line}
In a shell 'type awnpipe:/xw20rpath:file.html'@{line}
In a shell 'type awnpipe:/xwrpath:file.html'@{line}
@endnode
@node 3.6.3 "3.6.3 Tricks"
@toc 3.6
@{line}
3.6.3 Tricks@{line}
------------@{line}
@{line}
@{line}
Now for some strange looking but powerful ideas. You don't have to understand them all just give them a try. Some interesting things can be done by setting a few simple aliases. Some of these aliases take advantage of AWNPipes GUI building feature covered in a different section of these docs.@{line}
@{line}
alias see  echo >awnpipe:/xc "defg*nbitmap fn []*nimage*nopen"@{line}
@{line}
Now 'see FILENAME' will display pictures using your datatypes.@{line}
@{line}
alias readtext  echo >awnpipe:/xc "defg a cs *ntextfield a minw 200 minh 200 gt 0 bd ro datain []*nopen"@{line}
@{line}
Now 'readtext FILENAME' will display a textfile.@{line}
@{line}
alias toolt  type awnpipe:/xi[]@{line}
@{line}
Now 'toolt FILENAME' will display the tooltypes of FILENAME. (do not include .info in FILENAME).@{line}
@{line}
alias text2html copy awnpipe:t2h/f/h/r[]@{line}
@{line}
Now 'text2html infile outfile' will create special html sequences for certain characters in a text file and save it in a new file.@{line}
@{line}
alias html2text copy awnpipe:t2h/f/u/r[]@{line}
@{line}
Now 'html2text infile outfile' will convert special HTML sequences in a html file and save it in a new file.@{line}
@{line}
---@{line}
@{line}
This next example is rather complex and is best studied after you have a working knowledge of AWNP.@{line}
@{line}
It might be useful to be able to check an icons tooltype from an ADOS script, as earlier examples@{line}
have shown the '/Xt' option can do this. There is a problem however. You need to write data to the@{line}
pipe (the tooltype you wish to check), and read data from the pipe (the response to your query).@{line}
@{line}
 It is simple to write data to the pipe with echo.@{line}
@{line}
'echo "filetype" >awnpipe:test/Xtpath:file'@{line}
@{line}
 A pipe connected to path:file.icon is opened and the data 'filetype' is written to it. When the echo@{line}
command completes it closes the pipe. This breaks the connection to the tooltype host and the host@{line}
exits. You do not get a chance to read the response from the host.@{line}
@{line}
 The '/m' option (multiple opens) solves this by allowing you to open the pipe connection to the@{line}
tooltype host more than once.@{line}
@{line}
 'echo "filetype" >awnpipe:test/m/Xtpath:file'@{line}
@{line}
 Again a pipe is connected to the tooltype host is created and sent data. This time however when echo@{line}
closes its pipe the connection to the host is not lost. AWNPipe knows you want to connect to the same@{line}
pipe again later.@{line}
@{line}
 'type awnpipe:test'@{line}
@{line}
 This reads the response back from the tooltype host. Note you only specified the pipe name, you do@{line}
NOT include '/Xtpath:file' again. When the type command completes the connection to the host is broken@{line}
and the host exits.@{line}
@{line}
 This idea can be taken a step further.@{line}
@{line}
 'echo "filetype" >awnpipe:test/m/Xtpath:file'@{line}
 'type awnpipe:test/m'@{line}
 'echo "filesize" >awnpipe:test/m'@{line}
 'type awnpipe:test/m'@{line}
 'echo "filedate" >awnpipe:test/m'@{line}
 'type awnpipe:test'@{line}
@{line}
The connection to the host is not broken until you finally open the pipe a last time without the '/m'@{line}
option.@{line}
@{line}
@endnode
@node 4 "4 GUI Creation"
@{line}
4 GUI Creation@{line}
--------------@{line}
@{line}
 @{" 4.1 " LINK 4.1} Conversation@{line}
 @{" 4.2 " LINK 4.2} Objects@{line}
 @{" 4.3 " LINK 4.3} Events@{line}
 @{" 4.4 " LINK 4.4} Modify@{line}
 @{" 4.5 " LINK 4.5} GUI Tutorial@{line}
@endnode
@node 4.1 "4.1 Conversation"
@toc 4
@{line}
4.1 Conversation@{line}
----------------@{line}
@{line}
 @{" 4.1.1 " LINK 4.1.1} Basic@{line}
 @{" 4.1.2 " LINK 4.1.2} Step by Step@{line}
 @{" 4.1.3 " LINK 4.1.3} Details@{line}
@endnode
@node 4.1.1 "4.1.1 Basic"
@toc 4.1
@{line}
4.1.1 Basic@{line}
-----------@{line}
@{line}
 The sections on the conversation are important but do not try to memorize it all. It is enough to understand the general process.@{line}
@{line}
 GUIs are defined and operated by means of a conversation with a special host built into the AWNP device. The host is accessed by opening a file . You  write lines of text to the file and read the file to see the response.@{line}
@{line}
 The GUI is defined by writing text lines to the file. You first write a line that defines the window title and other attributes of the window you want to create. Now you read back a response line from the pipe to make sure the window definition was ok. Next you write a line of text defining a gadget to have in the window and read another response line. This line will contain the Gadget ID assigned to the gadget you created. You can create as many gadgets as you like.@{line}
 Once you finish defining gadgets you open the window by writing a line containing the single word 'open'. You read back a response line confirm the window opened ok.@{line}
@{line}
 Now that the GUI is created and open you simply continue to read lines from the file. When the user selects a gadget in the GUI you receive an event line containing the GID of the gadget selected and other data such the text entered in a string gadget. When the GUI window is closed you receive an EndOfFile.@{line}
@{line}
 In some cases you will want to modify a gui after it has already been opened. This can be done by writing a lines of text to the file after it has been opened or after you read an event. You read a response to the modify line.@{line}
@{line}
 For many GUIs you can tell the host to not send any response lines making the conversation even simpler. You can just write the GUI definition lines then read the event lines.@{line}
@{line}
@endnode
@node 4.1.2 "4.1.2 Step by Step"
@toc 4.1
@{line}
4.1.2 Step by Step@{line}
------------------@{line}
@{line}
Understanding the conversation is the key to building GUIs with AWNP. Here is a walk through the creation and use of a simple example.@{line}
@{line}
  Open the file AWNPipe:myGUI/xc. myGUI can be any name you want.The /xc must be used as it tells AWNPipe this file is for GUi creation. From now on I will refer to this file as the 'pipe'@{line}
@{line}
Write a Window definition line to the pipe.@{line}
'title "My First gui" defaultgadgets'@{line}
The line read from the pipe should be@{line}
'ok window'@{line}
Anything else is an error response.@{line}
@{line}
Write a Gadget definition line to the pipe. @{line}
'button gadgettext "testbutton"@{line}
The line read from the pipe should be@{line}
'ok 1'@{line}
The Gadget ID of the button is 1. If the response line does not start with 'ok' then an error has occurred.@{line}
@{line}
Write a Gadget definition line to the pipe. @{line}
'checkbox gadgettext "tryme"@{line}
The line read from the pipe should be@{line}
'ok 2'@{line}
The Gadget ID of the checkbox is 2. If the response line does not start with 'ok' then an error has occurred.@{line}
@{line}
@{line}
Write open command line to the pipe.@{line}
'open'@{line}
The line read from the pipe should be@{line}
'ok window'@{line}
Anything else is an error response.@{line}
@{line}
Now you read an event from the pipe. It will come when the user selects a gadget. @{line}
@{line}
If the checkbox is selected you get the line@{line}
'gadget 2 1'@{line}
the first word 'gadget tells you the event was from a gadget being hit. 2 is the gadgets GID, the 1 at the end tells you the checkbox is now selected.@{line}
@{line}
If the checkbox is selected a second time you get the line@{line}
'gadget 2 1'@{line}
the first word 'gadget tells you the event was from a gadget being hit. 2 is the gadgets GID, the 0 at the end tells you the checkbox is now unselected.@{line}
@{line}
If the button is selected you get the line@{line}
'gadget 1 0'@{line}
the first word 'gadget tells you the event was from a gadget being nit. 1 is the gadgets GID, the 0 at the end tells you the button is not highlighted. In this example you can ignore the 0 (button state).@{line}
@{line}
when the GUI window is closed you get the line@{line}
'close 0'@{line}
the first word 'close' tells you the event was from the window being closed. 0 (close source) tells you it closed when the close gadget was hit. If the user entered <CTRL\>' the close source would be -1. After the close event any further attempts to read the pipe will return EndOfFile.@{line}
@{line}
You keep reading events until the end of file is received. You could also close the pipe after the close event is read. @{line}
@{line}
@{line}
This is a second conversation in which the GUI is modified after it is opened. @{line}
@{line}
  Open the file AWNPipe:myGUI/xc. @{line}
Write a Window definition line to the pipe.@{line}
'title "My First gui" defaultgadgets modify'@{line}
The modify keyword tells the pipe you want to be able to modify this GUI later.@{line}
The line read from the pipe should be@{line}
'ok window'@{line}
@{line}
Write a Gadget definition line to the pipe. @{line}
'button gadgettext "testbutton"@{line}
The line read from the pipe should be@{line}
'ok 1'@{line}
@{line}
Write a Gadget definition line to the pipe. @{line}
'checkbox gadgettext "tryme"@{line}
The line read from the pipe should be@{line}
'ok 2'@{line}
@{line}
Write open command line to the pipe.@{line}
'open'@{line}
The line read from the pipe should be@{line}
'ok window'@{line}
@{line}
After the window is opened you get your first chance to modify it. We want to disable the button so we send the following line.@{line}
'ID 1 disable 1 refresh'@{line}
The button is specified with 'ID 1' and 'disable 1' disables it. The refresh at the end tells the pipe to refresh the button so the changes show.@{line}
The line read from the pipe should be@{line}
'ok'@{line}
If the response does not start with 'ok' an error occurred.@{line}
@{line}
We also want the check mark to show as selected so we write the line@{line}
'ID 2 selected 1'@{line}
The button is specified with 'ID 1' and 'selected 1' turns causes it to be checked (the checkmark showing in the box). The refresh at the end tells the pipe to refresh the button so the changes show.@{line}
The line read from the pipe should be@{line}
'ok'@{line}
@{line}
WE have finished modifying the GUI for now so we send a line to tell the pipe we are finished sending modify instruction and want to read an event from the pipe.@{line}
'continue'@{line}
The line read from the pipe should be@{line}
'ok'@{line}
@{line}
Now you read an events from the pipe.  @{line}
@{line}
If the checkbox is selected you get the line@{line}
'gadget 2 0'@{line}
The user selected the checkbox gadget, it is now unchecked. We want enable the button gadget. AFTER SENDING AN EVENT THE PIPE STARTS READING MODIFY INSTRUCTIONS AGAIN. We send the following modify line to the pipe.@{line}
'ID 1 disable 0 refresh'@{line}
The button is specified with 'ID 1' and 'disable 0' enables it. The refresh at the end tells the pipe to refresh the button so the changes show.@{line}
The line read from the pipe should be@{line}
'ok'@{line}
WE have finished modifying the GUI for now so we send a line to tell the pipe we are finished sending modify instruction and want to read another event.@{line}
'continue'@{line}
The line read from the pipe should be@{line}
'ok'@{line}
@{line}
If the checkbox is selected a second time you get the line@{line}
'gadget 2 1'@{line}
The 1 at the end tells you the checkbox is now selected. We want to disable the button gadget so we send the line@{line}
'ID 1 disable 1 refresh'@{line}
The line read from the pipe should be@{line}
'ok'@{line}
WE have finished modifying the GUI for now so we send a line to tell the pipe we are finished sending modify instruction and want to read another event.@{line}
'continue'@{line}
The line read from the pipe should be@{line}
'ok'@{line}
@{line}
If the button is selected you get the line@{line}
'gadget 1 0'@{line}
WE do not want to modify anything at this time but we still need to send the continue line so the pipe will stop looking for modify lines and send us another event.@{line}
'continue'@{line}
The line read from the pipe should be@{line}
'ok'@{line}
@{line}
when the GUI window is closed you get the line@{line}
'close 0'@{line}
The window is closed but we can still send modify commands. For example we could read the final state of the gadgets. In this case we will do nothing but send the continue line.@{line}
'continue'@{line}
The line read from the pipe should be@{line}
'ok'@{line}
Any further reads from the pipe return EOF.@{line}
@{line}
You keep reading an event then sending modify commands until the end of file is received. You could also close the pipe after the close event is read. @{line}
@{line}
@endnode
@node 4.1.3 "4.1.3 Details"
@toc 4.1
@{line}
4.1.3 Details@{line}
-------------@{line}
@{line}
 When building a complex GUI you will use objects other than simple gadgets. These objects are created the same way as gadgets, by writing a line to the pipe and then reading a response. Some of these objects return a GID and some simply return an ok.@{line}
@{line}
 You will also handle more types of events than just gadget and close events. You can receive menu events, keystrokes, window activation and other types of events. These events are handled the same way gadget events are handled.@{line}
@{line}
 A wide range of modify commands can be used. As well as modifying gadgets you can iconify the window, read gadget contents, set the windows busy pointer and other things. The range of modify commands you use will be determined by the type program you are writing.@{line}
@{line}
 Some types of gadget events (textfields, texteditors), and ARexx events require special handling since they can be more than one line. The tutorials will show you how to handle these events.@{line}
@{line}
 You should now work through the examples. They will not only help you learn to use AWNP, they will provide example code you can use for the basis of your own GUIs.@{line}
@endnode
@node 4.2 "4.2 Objects"
@toc 4
@{line}
4.2 Objects@{line}
-----------@{line}
@{line}
 @{" 4.2.1 " LINK 4.2.1} Window@{line}
 @{" 4.2.2 " LINK 4.2.2} Simple Gadgets@{line}
 @{" 4.2.3 " LINK 4.2.3} Images@{line}
 @{" 4.2.4 " LINK 4.2.4} Special@{line}
 @{" 4.2.5 " LINK 4.2.5} Fancy@{line}
 @{" 4.2.6 " LINK 4.2.6} More@{line}
@endnode
@node 4.2.1 "4.2.1 Window"
@toc 4.2
@{line}
4.2.1 Window@{line}
------------@{line}
@{line}
The parameters defining the CA window must all be on one line terminated by a newline. The pipe will reply with 'window ok'.@{line}
@{line}
@{line}
screentitle="screen title text"  (st=)@{line}
@{line}
 Set the text for the screen title when CA window is active.@{line}
@{line}
title="window title text"@{line}
@{line}
 Set the title for the CA window.@{line}
@{line}
pubscreen="Screen name"  (ps=)@{line}
@{line}
 Open the CA window on a public screen@{line}
@{line}
IconifyIcon (ii=)@{line}
@{line}
Set the name of the icon to use when you iconify the window.@{line}
@{line}
IconTitle="icon title text"  (it=)@{line}
@{line}
 Set the title for the CA window when iconified.@{line}
@{line}
backfill="filename"  (bf=)@{line}
@{line}
 Image file to use as backfill for window. If backfill is not specified you get the default window backfill. Setting backfill="" can be used to have no backfill at all. Use this carefully as it overrides the user CA prefs.@{line}
@{line}
NoBorder (NB)@{line}
@{line}
 Make the window borderless.@{line}
@{line}
Quiet  (q)@{line}
@{line}
 Tell the pipe not to reply to the window, gadget definitions, or modify commands. This is actually a toggle switch turning replies off and on. SOME modify commands are ALWAYS replied to. (addnode and getfile selected 0|1)@{line}
@{line}
NoWindow@{line}
@{line}
 switch to causes no window to be opened. This will not work unless modify is set and an arexx object is defined.@{line}
@{line}
NOTE: At times you may want to modify a GUI after is is created, but BEFORE the window is opened. Use the 'NoWindow' keyword in the window definition, create the GUI as usual. When you send 'open' the window does NOT open but you do go into modify mode. Modify the GUI then send 'id 0 s 64' to open the window after it has been modified.@{line}
@{line}
app@{line}
@{line}
 Make  this  window a application window.@{line}
@{line}
activate  (a)@{line}
@{line}
 Switch to activate theCA window when it opens.@{line}
@{line}
depthgadget (dg)@{line}
@{line}
 Switch to include a depth gadget on the CA window.@{line}
@{line}
dragbar  (db)@{line}
@{line}
 Switch to include a drag bar on the CA window.@{line}
@{line}
closegadget (cg)@{line}
@{line}
 Switch to include a close gadget on the CA window.@{line}
@{line}
askclose@{line}
@{line}
 Switch to stop the close gadget from actually closing the window. The close gadget will generate an 'askclose' event instead. This switch is ignored unless modify is also set.@{line}
@{line}
sizegadget (sg)@{line}
@{line}
 Switch to include a window size gadget on the CA window.@{line}
@{line}
iconifygadget  (ig)@{line}
@{line}
 Switch to include an iconify gadget on the CA window.@{line}
@{line}
fullscreen    (fs)@{line}
centerscreen   (cs)@{line}
topleft         (tl)@{line}
@{line}
 Relative position to open the CA window at. Defaults to centermouse.@{line}
@{line}
top=number@{line}
left=number@{line}
width=umber@{line}
height=number@{line}
@{line}
 Position and size to open  the CA window. Using the left parameter over rides the relative positioning above.@{line}
@{line}
vertical     (v)@{line}
@{line}
 Switch to display gadgets vertically, defaults to horizontal.@{line}
@{line}
even    (e)@{line}
@{line}
 Switch to make gadgets/groups all the same size.@{line}
@{line}
defaultgadgets  (defg)@{line}
@{line}
 Switch to include close, depth, size, and drag gadgets on the CA window.@{line}
@{line}
sendkeys  (sk)@{line}
@{line}
 Switch to have the CA window return keystrokes.@{line}
@{line}
sendqual  (sq)@{line}
@{line}
 Switch to have the CA window send qualifier events. (see events.doc)@{line}
@{line}
modify   (m)@{line}
@{line}
 Switch to allow the CA window to be modified AFTER it has been opened.@{line}
(See modify parameters below)@{line}
@{line}
help (h)@{line}
@{line}
  Switch to have the CA window return help events.@{line}
@{line}
state@{line}
@{line}
Switch to have the CA window return active/inactive events.@{line}
@{line}
refresh@{line}
@{line}
Switch to have the CA window return refresh events. This is only useful if you are doing your rendering directly into the window.@{line}
@{line}
defer@{line}
@{line}
 Switch to defer window layout from the input device to the pipe task. This will make input.device more responsive, and drop the (possibly quite heavy)process of recalculating the display to normal application priority instead of the priority 20 of input.device.@{line}
@{line}
 It also means window refresh is blocked if you are sending modify commands to the pipe. The window refreshes AFTER you send 'continue'.@{line}
@{line}
SpaceOuter (so)@{line}
@{line}
 Leave a blank space outside the  root layout of the CA window.@{line}
@{line}
SpaceInner  (si)@{line}
@{line}
 Leave a blank space around elements in the root layout of the CA window.@{line}
@{line}
fixwidth (fw)@{line}
@{line}
 Do not allow the width of the window to be adjusted.@{line}
@{line}
fixheight (fh)@{line}
@{line}
 Do not allow the width of the window to be adjusted.@{line}
@{line}
shrinkwrap (sw)@{line}
@{line}
 Keep all gadgets in the window as close together as possible.@{line}
@{line}
specialchar="character" (sc=)@{line}
@{line}
 'Character' is a single character that replaces '|', in use as a separator inside parameters like chooserlabels, tags, penmapdata, ...@{line}
@{line}
tags="tags|data[|tag|data...]|0@{line}
@{line}
 A list of tag and value pairs in HEX. Do not forget the trailing null !@{line}
@{line}
info@{line}
@{line}
 Include the drawinfo pen array for the screen in the reply to the window definition line.@{line}
@{line}
 If successful the reply is@{line}
@{line}
'ok window NUMBERofPENS PEN0 PEN1 ...'@{line}
@{line}
see include:intuition/screen.h for more about drawinfo pens.@{line}
@{line}
@{line}
Modify GID 0@{line}
------------@{line}
@{line}
GID 0 is used to specify the GUI window itself. It can be used in modify lines to control certain aspects of the window.@{line}
@{line}
selected=function_bitmap (s=)@{line}
This should really have been in HEX but its not for backward compatability.@{line}
@{line}
bit# decimal function@{line}
@{line}
0       1      activate window@{line}
1       2      window to front@{line}
2       4      window to back@{line}
3       8      set window title@{line}
4      16      set screen title@{line}
5      32      iconify window@{line}
6      64      uniconify (or open) window@{line}
7     128      Close window (but do not dispose)@{line}
8     256      Set busy pointer and disable window@{line}
9     512      Clear busy pointer and enable window@{line}
10   1024      window to front@{line}
11   2048      window to back@{line}
@{line}
You can use more than one function at the same time. 66=uniconify and windowtofront.@{line}
@{line}
gadgettext=  (gt=)@{line}
@{line}
 Text for setting screen or window title.@{line}
@{line}
disable=BOOL  (dis=)@{line}
@{line}
 0 enables all gadgets in window.@{line}
 !1 disables all gadgets@{line}
@{line}
wide=num@{line}
high=num@{line}
@{line}
 Attempt to resize the window to the given width and/or height.Set wide=1 high=1 to get the minimum size possible.@{line}
@{line}
top=num@{line}
left=num@{line}
@{line}
 Move the window to the given position(s).@{line}
@{line}
'ID 0 read'@{line}
returns the windows 'left top width height' settings. (width and height report as 0 until you get at least 1 event back from the@{line}
pipe)@{line}
@{line}
refresh (ref)@{line}
@{line}
 Refresh all gadgets in the window.@{line}
@{line}
@endnode
@node 4.2.2 "4.2.2 Simple Gadgets"
@toc 4.2
@{line}
4.2.2 Simple Gadgets@{line}
--------------------@{line}
@{line}
 @{" 4.2.2.1 " LINK 4.2.2.1} Button@{line}
 @{" 4.2.2.2 " LINK 4.2.2.2} Integer@{line}
 @{" 4.2.2.3 " LINK 4.2.2.3} String@{line}
 @{" 4.2.2.4 " LINK 4.2.2.4} CheckBox@{line}
 @{" 4.2.2.5 " LINK 4.2.2.5} Chooser@{line}
 @{" 4.2.2.6 " LINK 4.2.2.6} RadioButton@{line}
@endnode
@node 4.2.2.1 "4.2.2.1 Button"
@toc 4.2.2
@{line}
4.2.2.1 Button@{line}
--------------@{line}
@{line}
Button gadget event@{line}
-------------------------@{line}
@{line}
'gadget GID selected_state'@{line}
@{line}
selected_state =0 not selected,!=0 selected@{line}
@{line}
Button gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID must point to an ALREADY defined text attribute.@{line}
@{line}
close (c)@{line}
@{line}
 This gadget will close the window when selected by the user.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number !=0. Defaults to enabled.@{line}
@{line}
selected=number (s=)@{line}
@{line}
  The gadget is selected if number != 0 , unselected if number = 0. Defaults to unselected.@{line}
@{line}
autobutton=number (ab)@{line}
@{line}
 This button uses a scaled glyph image. The number selects the glyph.@{line}
@{line}
0 POPFILE@{line}
1 POPDRAWER@{line}
2 POPFONT@{line}
3 CHECKBOX@{line}
4 CANCELBOX@{line}
5 UPARROW@{line}
6 DNARROW@{line}
7 RTARROW@{line}
8 LFARROW@{line}
9 POPTIME@{line}
10 POPSCREEN@{line}
11 POPUP@{line}
@{line}
pushbutton  (pb)@{line}
@{line}
 This button is a pushbutton.@{line}
@{line}
gadgettext="text"  (gt=)@{line}
@{line}
 Set the text of the gadget.@{line}
@{line}
bevel=TYPE  (b=)@{line}
@{line}
 Set the bevel type for this gadget.@{line}
0=NONE@{line}
1=THIN@{line}
2=BUTTON@{line}
3=GROUP@{line}
4=FIELD@{line}
5=DROPBOX@{line}
6=SBAR_HORIZ@{line}
7=SBAR_VERT@{line}
8=BOX@{line}
9=STANDARD@{line}
@{line}
leftjustify  (lj)@{line}
rightjustify (rj)@{line}
@{line}
 Set the justification of the text for the gadget. Defaults to centerjustify.@{line}
@{line}
minwidth=number  (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number   (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number  (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize   (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
useimage   (ui)@{line}
@{line}
 Use the last defined image (bitmap/drawlist/penmap) as the gadgets image.@{line}
@{line}
Anim="x|y|wide|high|offsetx|offsety|count"@{line}
@{line}
 Use portions of a bitmap for this gadgets image(s).@{line}
x,y              the left and top pixel of the first image.@{line}
wide,high        the size of the images.@{line}
offsetx,offsety  the offset to the next image.@{line}
count            must be 0 for a standard two image button@{line}
                 (normal and selected image)@{line}
@{line}
The first image is the gadget graphic, the offset is to the selected image. offsets can be 0 to use a single image.@{line}
@{line}
If count!=0 an array of images is produced to allow animation of the button.@{line}
If count >0 an array of count images is built. The button image is set to@{line}
the first image in the array.@{line}
If count <0 an array of absolute value(count)*2 images is built. The button image is set to the first image in the array. The selected image is set to image absolute value(count)+1.@{line}
@{line}
See the 'animimage' modify parameter for details about animating the button.@{line}
@{line}
@{line}
FileName='path:file'@{line}
@{line}
 A image file to use as the source bitmap for the anim data. If no file name is given an anim is given the bitmap from the previous anim will be reused. This bitmap in held in a buffer shared by bitmap images. See the image docs-bitmap for more info.@{line}
@{line}
trans@{line}
@{line}
 The animation background should be transparent if the image type allows it.@{line}
@{line}
tags="tags|data[|tag|data...]|0@{line}
@{line}
 A list of tag and value pairs in HEX. Do not forget the trailing null !@{line}
@{line}
childlabel    (chl)@{line}
childlabelr   (chlr)@{line}
@{line}
 Use the previously defined image as a childlabel for this gadget. Display the childlabel to the right or left of the gadget.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
Button gadget modify parameters.@{line}
-------------------------@{line}
@{line}
readonly=number (ro=)@{line}
@{line}
 The gadget is readonly if number = 1 , functional if number= 0. Note that this is different handling then in gadget definitions.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
selected=number (s=)@{line}
@{line}
  The gadget is selected if number != 0 , unselected if number = 0.@{line}
@{line}
gadgettext="text"  (gt=)@{line}
@{line}
 Set the text of the gadget.@{line}
@{line}
newimage=number (ni=)@{line}
@{line}
 Replace the gadget image with a previously defined image. If number =0 replace normal image, else replace selected image.@{line}
@{line}
animimage=number  (ai=)@{line}
@{line}
 When used with the 'newimage' keyword the button image is replaced with an image from the buttons image array. The image to be used is specified by number.@{line}
@{line}
get=TAG@{line}
@{line}
 Read the value of a specific gadget attribute. Returns a blank line if attribute is not readable. This should not be combined with any other modify command on the same line.@{line}
@{line}
read@{line}
@{line}
 returns the state of the button@{line}
@{line}
refresh (ref)@{line}
@{line}
 Redraw the gadget.@{line}
@endnode
@node 4.2.2.2 "4.2.2.2 Integer"
@toc 4.2.2
@{line}
4.2.2.2 Integer@{line}
---------------@{line}
@{line}
Integer gadget event@{line}
-------------------------@{line}
@{line}
'gadget GID integer_value'@{line}
@{line}
Integer gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
TabCycle (tc)@{line}
@{line}
 This gadget can be activated using the tab key.@{line}
@{line}
close (c)@{line}
@{line}
 This gadget will close the window when selected by the user.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
arrows (a)@{line}
@{line}
 Switch to display up/down arrows for this gadget.@{line}
@{line}
minchars=number (minc=)@{line}
@{line}
 Minimum number of character/digits in this gadget.@{line}
Defaults to 5.@{line}
@{line}
maxchars=number (maxc=)@{line}
@{line}
 Maximum number of character/digits in this gadget.@{line}
Defaults to 10.@{line}
@{line}
minnumber=number (minn=)@{line}
@{line}
 Minimum value for this gadget. Defaults to 0.@{line}
@{line}
maxnumber=number (maxn=)@{line}
@{line}
 Maximum value for this gadget. Defaults to 32768.@{line}
@{line}
defnumber=number (defn=)@{line}
@{line}
 Value for this gadget when window is opened. Defaults to 1.@{line}
@{line}
leftjustify (lj)@{line}
centerjustify (cj)@{line}
@{line}
 Set the justification of the text for the gadget. Defaults to rightjustify.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
tags="tags|data[|tag|data...]|0@{line}
@{line}
 A list of tag and value pairs in HEX. Do not forget the trailing null !@{line}
@{line}
childlabel    (chl) childlabelr   (chlr)@{line}
@{line}
 Use the previously defined image as a childlabel for this gadget. Display the childlabel to the right or left of the gadget.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies@{line}
with@{line}
@{line}
'ok GID'@{line}
@{line}
Integer gadget modify parameters.@{line}
-------------------------@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
defnumber=number (defn=)@{line}
@{line}
 Set the value for this gadget.@{line}
@{line}
@{line}
@endnode
@node 4.2.2.3 "4.2.2.3 String"
@toc 4.2.2
@{line}
4.2.2.3 String@{line}
--------------@{line}
@{line}
String gadget event@{line}
-------------------------@{line}
@{line}
'gadget GID string'@{line}
@{line}
String gadget parameters.@{line}
-------------------------@{line}
@{line}
Hook=number@{line}
@{line}
 Select a special string gadget type where number =@{line}
@{line}
PASSWORD        1@{line}
IPADDRES        2@{line}
FLOAT           3@{line}
HEXIDECIMAL     4@{line}
TELEPHONE       5@{line}
POSTALCODE      6@{line}
AMOUNT          7@{line}
UPPERCASE       8@{line}
@{line}
NOTE: some types do not seem to implimented in string gadget yet. 1,4,5,8@{line}
seem to work under OS 3.9.@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
TabCycle (tc)@{line}
@{line}
 This gadget can be activated using the tab key.@{line}
@{line}
close (c)@{line}
@{line}
 This gadget will close the window when selected by the user.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
gadgettext="text" (gt=)@{line}
@{line}
 Set the text in the gadget.@{line}
@{line}
minchars=number (minc=)@{line}
@{line}
 Minimum number of character/digits in this gadget. Defaults to 10.@{line}
@{line}
maxchars=number (maxc=)@{line}
@{line}
 Maximum number of character/digits in this gadget. Defaults to 100.@{line}
@{line}
leftjustify (lj)@{line}
centerjustify (cj)@{line}
@{line}
 Set the justification of the text for the gadget. Defaults to rightjustify.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
String gadget modify parameters.@{line}
-------------------------@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
gadgettext="text" (gt=)@{line}
@{line}
 Set the text in the gadget.@{line}
@{line}
selected=num  (s=)@{line}
@{line}
 Set the cursor position in a string gadget, and activate the gadget.@{line}
@{line}
bufferpos@{line}
@{line}
 Read the current cursor position in the string gadget. This keyword should be used by itself. ( 'id GID getposition')@{line}
@{line}
 It is replied to with 'POSITION ok'.@{line}
@{line}
@endnode
@node 4.2.2.4 "4.2.2.4 CheckBox"
@toc 4.2.2
@{line}
4.2.2.4 CheckBox@{line}
----------------@{line}
@{line}
CheckBox gadget event@{line}
-------------------------@{line}
@{line}
'gadget GID selected_state'@{line}
@{line}
@{line}
CheckBox gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
close (c)@{line}
@{line}
 This gadget will close the window when selected by the user.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
selected=number (s=)@{line}
@{line}
  The gadget is selected if number != 0 , unselected if number = 0. Defaults to unselected.@{line}
@{line}
gadgettext="text" (gt=)@{line}
@{line}
 Set the text of the gadget.@{line}
@{line}
leftjustify (lj)@{line}
@{line}
 Set the placement of the text for the gadget. Defaults to Rightjustify.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
tags="tags|data[|tag|data...]|0@{line}
@{line}
 A list of tag and value pairs in HEX. Do not forget the trailing null !@{line}
@{line}
childlabel    (chl)@{line}
childlabelr   (chlr)@{line}
@{line}
 Use the previously defined image as a childlabel for this gadget. Display the childlabel to the right or left of the gadget.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
CheckBox gadget modify parameters.@{line}
-------------------------@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
selected=number (s=)@{line}
@{line}
  The gadget is selected if number != 0 , unselected if number = 0.@{line}
@{line}
gadgettext="text" (gt=)@{line}
@{line}
 Set the text of the gadget.@{line}
@{line}
@endnode
@node 4.2.2.5 "4.2.2.5 Chooser"
@toc 4.2.2
@{line}
4.2.2.5 Chooser@{line}
---------------@{line}
@{line}
Chooser gadget event@{line}
-------------------------@{line}
@{line}
'gadget GID selected'@{line}
@{line}
selected = the selected choice in the chooser.@{line}
@{line}
Chooser gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
close (c)@{line}
@{line}
 This gadget will close the window when selected by the user.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number !=0. Defaults to enabled.@{line}
@{line}
gadgettext="text" (gt=)@{line}
@{line}
 Set the text for the gadget.@{line}
@{line}
selected=number (s=)@{line}
@{line}
  Set which choice is selected when the window opens. Selections start at 0 . This defaults to choice 0.@{line}
@{line}
ChooserLabels="choice0|choice1|choice..." (cl)@{line}
@{line}
 Set the choices for the gadget. Maximum 50 choices, do not exceed this !@{line}
@{line}
Maxnumber=count (maxn=)@{line}
@{line}
 The maximum number of selection to display. Defaults to 12.@{line}
@{line}
Popup   (pu)@{line}
@{line}
 This is a popup chooser. Defaults to dropdown.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
tags="tags|data[|tag|data...]|0@{line}
@{line}
 A list of tag and value pairs in HEX. Do not forget the@{line}
trailing null !@{line}
@{line}
childlabel    (chl)@{line}
childlabelr   (chlr)@{line}
@{line}
 Use the previously defined image as a childlabel for this gadget. Display the childlabel to the right or left of the gadget.@{line}
@{line}
TabCycle (tc)@{line}
@{line}
 This gadget can be selected by cycling with the tab key.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
Chooser gadget modify parameters.@{line}
-------------------------@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number !=0.@{line}
@{line}
selected=number (s=)@{line}
@{line}
  Set which choice is selected . Selections start at 0 .@{line}
@{line}
chooserlabels="choice0|choice1|choice..." (cl=)@{line}
@{line}
 Change the choices available in the chooser.@{line}
@{line}
defnumber=count (defn=)@{line}
@{line}
 The maximum number of selection to display.@{line}
@{line}
@endnode
@node 4.2.2.6 "4.2.2.6 RadioButton"
@toc 4.2.2
@{line}
4.2.2.6 RadioButton@{line}
-------------------@{line}
@{line}
Radio Button gadget event@{line}
-------------------------@{line}
@{line}
'gadget GID selected_state'@{line}
@{line}
Radio Button gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
close (c)@{line}
@{line}
 This gadget will close the window when selected by the user.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
selected=number (s=)@{line}
@{line}
  Set which choice is selected when the window opens. Selections start at 0 . This defaults to choice 0.@{line}
to unselected.@{line}
@{line}
RadioLabels="choice0|choice1|choice..."  (rl=)@{line}
@{line}
 Set the choices for the gadget. This parameter MUST be given.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
Radio Button gadget modify parameters.@{line}
-------------------------@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
selected=number (s=)@{line}
@{line}
 Set the current selection of the radio button.@{line}
@{line}
@{line}
@endnode
@node 4.2.3 "4.2.3 Images"
@toc 4.2
@{line}
4.2.3 Images@{line}
------------@{line}
@{line}
 @{" 4.2.3.1 " LINK 4.2.3.1} Label@{line}
 @{" 4.2.3.2 " LINK 4.2.3.2} Glyph@{line}
 @{" 4.2.3.3 " LINK 4.2.3.3} DrawList@{line}
 @{" 4.2.3.4 " LINK 4.2.3.4} PenMap@{line}
 @{" 4.2.3.5 " LINK 4.2.3.5} Bitmap@{line}
 @{" 4.2.3.6 " LINK 4.2.3.6} Image@{line}
 @{" 4.2.3.7 " LINK 4.2.3.7} Space@{line}
@endnode
@node 4.2.3.1 "4.2.3.1 Label"
@toc 4.2.3
@{line}
4.2.3.1 Label@{line}
-------------@{line}
@{line}
Label gadget parameters.@{line}
-------------------------@{line}
@{line}
IDME@{line}
@{line}
Force this object to be assigned a GID. Normaly no GID is assigned to labels. The definition reply becomes 'ok GID WIDTH HEIGHT'@{line}
@{line}
The label produces an image and usually puts it into your GUI right away. To use the label as a child label of a gadget You MUST use the unattached keyword.@{line}
@{line}
unattached (ua)@{line}
@{line}
The unattached keyword does not produce a gadget. It creates an image to be used. Up to 50 images can be predefined, the last one defined is the first one used. Last In First Out. No GID is assigned EVEN WITH 'IDME'.@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the label. The GID points to an ALREADY defined text attribute.@{line}
@{line}
Selected=num (s=)@{line}
@{line}
 Set the pen number used to render the text.@{line}
@{line}
SoftStyle=num (ss=)@{line}
@{line}
 Set the soft style for the label. This is a bitmaped decimal number.@{line}
example 3=bold + underline@{line}
            decimal    bit@{line}
NORMAL       0          -@{line}
UNDERLINED   1          0@{line}
BOLD         2          1@{line}
ITALIC       4          2@{line}
EXTENDED     8          3@{line}
@{line}
gadgettext="Label text"  (gt=)@{line}
@{line}
 Set the text of the Label.@{line}
@{line}
underscore="CHAR"@{line}
@{line}
 Use an alternate character to flag the hotkey for the label. CHAR is a single character. This defaults to underscore '_', changing it will allow an underscore to be used as a plain character in a label.@{line}
@{line}
leftjustify  (lj)@{line}
rightjustify (rj)@{line}
@{line}
 Set the justification of the text for the gadget. Defaults to centerjustify.@{line}
@{line}
minwidth=number  (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number  (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize  (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
useimage   (ui)@{line}
@{line}
 Use the last defined image (bitmap/drawlist/penmap) as the gadgets image.@{line}
@{line}
Even@{line}
@{line}
 Correct a possible layout problem in the image position. You will probably never use this parameter. Technically it moves th image up one pixel, which is useful when mixing different fonts in the same line.@{line}
@{line}
Definition Reply@{line}
----------------@{line}
@{line}
 When the image creation is successful the pipe replies with@{line}
@{line}
'ok WIDTH HEIGHT'@{line}
@{line}
@endnode
@node 4.2.3.2 "4.2.3.2 Glyph"
@toc 4.2.3
@{line}
4.2.3.2 Glyph@{line}
-------------@{line}
@{line}
Glyph parameters@{line}
-------------------@{line}
@{line}
The glyph keyword does not produce a gadget. It creates an image to be used later. Up to 50 images can be predefined, the last one defined is the first one used. Last In First Out.@{line}
@{line}
defnumber=number (defnum)@{line}
@{line}
 Choose the image this glyph displays. the possible values number are@{line}
@{line}
0 NONE@{line}
1 DOWNARROW@{line}
2 UPARROW@{line}
3 LEFTARROW@{line}
4 RIGHTARROW@{line}
5 DROPDOWN@{line}
6 POPUP@{line}
7 CHECKMARK@{line}
8 POPFONT@{line}
9 POPFILE@{line}
10 POPDRAWER@{line}
11 POPSCREENMODE@{line}
12 POPTIME@{line}
13 RADIOBUTTON@{line}
14 RETURNARROW@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the image creation is successful the pipe replies with@{line}
@{line}
'ok '@{line}
@{line}
@endnode
@node 4.2.3.3 "4.2.3.3 DrawList"
@toc 4.2.3
@{line}
4.2.3.3 DrawList@{line}
----------------@{line}
@{line}
DrawList parameters@{line}
-------------------@{line}
@{line}
The drawlist keyword does not produce a gadget. It creates an image to be used later. Up to 50 images can be predefined, the last one defined is the first one used. Last In First Out.@{line}
@{line}
bindata (bd)@{line}
@{line}
The drawlistdata will be passed to this pipe in binary after the command line. The drawlistdata parameter now gives the length of the data. Setting datain means the data is read from an external file rather than the pipe.@{line}
@{line}
dataout="filename" (do=)@{line}
@{line}
 Send the data for this gadget to a file. This is a development tool to allow you to create binary data to pass to the pipe. It is ignored if the Bindata keyword is also present.@{line}
@{line}
datain="filename" (di=)@{line}
@{line}
 Read the data for this gadget from a file. It is ignored if the Bindata keyword is not present.@{line}
@{line}
minheight=number (minh)@{line}
@{line}
 Set the height of the virtual raster the drawlist data@{line}
relates to.@{line}
@{line}
minwidth=number (minw)@{line}
@{line}
 Set the width of the virtual raster the drawlist data relates@{line}
to.@{line}
@{line}
drawlistdata="value1|value2|..."   (dld=)@{line}
@{line}
 The draw list data defines a set of drawing instruction to create an image. Each drawing instruction has 6 values.@{line}
directive|X1|Y1|X2|Y2|pen@{line}
@{line}
The possible directives are@{line}
@{line}
0 END@{line}
1 LINE@{line}
2 RECT@{line}
3 FILL@{line}
4 ELLIPSE@{line}
5 CIRCLE@{line}
6 LINEPAT@{line}
7 FILLPAT@{line}
8 AMOVE@{line}
9 ADRAW@{line}
10 AFILL@{line}
11 BEVELBOX@{line}
12 ARC@{line}
13 START = BOUNDS@{line}
14 LINESIZE@{line}
@{line}
Register as a Class Act developer and read the docs for more info on drawlists.@{line}
@{line}
When sending binary data you send an array of structure DrawLists.@{line}
@{line}
struct DrawList@{line}
            {@{line}
                WORD dl_Directive;@{line}
                WORD dl_X1, dl_Y1;@{line}
                WORD dl_X2, dl_Y2;@{line}
                WORD dl_Pen;@{line}
            };@{line}
The last structure MUST be END (dl_Directive=0).@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the image creation is successful the pipe replies with@{line}
@{line}
'ok'@{line}
@{line}
@{line}
@endnode
@node 4.2.3.4 "4.2.3.4 PenMap"
@toc 4.2.3
@{line}
4.2.3.4 PenMap@{line}
--------------@{line}
@{line}
PenMap parameters@{line}
-------------------@{line}
@{line}
The penmap keyword does not produce a gadget.  It creates an image to be used later. Up to 50 images can be predefined, the last one defined is the first one used. Last In First Out.@{line}
@{line}
bindata (bd)@{line}
@{line}
The PenMapPalette,penmapdata, and selectedimage  will be passed to this pipe in binary after the command line, AND IN THAT ORDER. The penmapdata,selectedimage, and PenMapPalette parameters now give the length of each data segment. Do NOT specify a data length of 0 for selected image, omit the keyword instead.@{line}
@{line}
dataout="filename" (do)@{line}
@{line}
 Send the data for this gadget to a file. This is a development tool to allow you to create binary data to pass to the pipe. It is ignored if the Bindata keyword is also present.@{line}
@{line}
penmapdata="data" (pmd)@{line}
@{line}
The image data. NOTE all values are ascii HEX. The data is in the following format.@{line}
@{line}
"width_h_byte|width_l_byte|height_h_byte|height_l_byte|data1|data2..."@{line}
@{line}
If the bindata keyword is used the image data is the following format@{line}
@{line}
word width, height;@{line}
char data[];@{line}
@{line}
Note the size specified in penmapdata INCLUDES the 4 bytes for width and height.@{line}
@{line}
selectedimage="data" (si)@{line}
@{line}
The image data for a selected image. NOTE all values are ascii HEX. The data is in the following format.@{line}
@{line}
"width_h_byte|width_l_byte|height_h_byte|height_l_byte|data1|data2..."@{line}
@{line}
If the bindata keyword is used the image data is the same format as@{line}
for penmapdata.@{line}
@{line}
PenMapPalette="data" (pmp)@{line}
@{line}
The palate data. NOTE all values are ascii HEX. The data is in the following format.@{line}
@{line}
"triplet_count|red1|green1|blue1|red2|..."@{line}
@{line}
If the bindata keyword is used the palate data is the format@{line}
@{line}
           ULONG palette[] =@{line}
           {@{line}
               number_triplets,@{line}
               red1, green1, blue1,@{line}
               red2, green2, blue2,@{line}
               ...@{line}
           };@{line}
@{line}
@{line}
@{line}
Trans@{line}
@{line}
 Make pen 0 transparent.@{line}
@{line}
@endnode
@node 4.2.3.5 "4.2.3.5 Bitmap"
@toc 4.2.3
@{line}
4.2.3.5 Bitmap@{line}
--------------@{line}
@{line}
BitMap parameters@{line}
-------------------@{line}
@{line}
The bitmap keyword does not produce a gadget. It creates an image to be used later. Up to 50 images can be predefined, the last one defined is the first one used. Last In First Out.@{line}
@{line}
FileName='path:file' (fn)@{line}
@{line}
 The file to read and produce an image from using datatypes.@{line}
@{line}
selectedimage='path:file' (si)@{line}
@{line}
 The file to read and produce the selected image from using datatypes.@{line}
@{line}
trans@{line}
@{line}
Make the image background transparent@{line}
(if the associated image and datatype allows this).@{line}
@{line}
Part="x|y|wide|high|offsetx|offsety|buffer"@{line}
@{line}
x,y              the left and top pixel of the first image.@{line}
wide,high        the size of the images.@{line}
offsetx,offsety  the offset to the selected state image.@{line}
buffer           the buffer used to store the root bitmap. (0-9)@{line}
                 ( buffer 0 is also used for button animations )@{line}
@{line}
 Use portions of a bitmap for this image.@{line}
@{line}
The image is only part of the root bitmap specified by x|y|wide|high, the offsets can be set to 0 to make the normal and selected state the same.@{line}
@{line}
filename="" will cause this image to use the next available predefined bitmap@{line}
for the root bitmap. (only with 'part')@{line}
@{line}
Not including a file name at all will reuse an existing root bitmap. This allows you to only load one bitmap with a images needed. You can then reuse parts mutiple times. Also you only need to have a single image file for most applications rather than several small ones.(only with part)@{line}
@{line}
 It is possible to redefine an image buffer. When this is done the previous contents of the image buffer are saved before the new bitmap is created. See the freeimage modify command for more information on handling image buffers.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the image creation is successful the pipe replies with@{line}
@{line}
'ok BITMAP_width BITMAP_height'@{line}
@{line}
@endnode
@node 4.2.3.6 "4.2.3.6 Image"
@toc 4.2.3
@{line}
4.2.3.6 Image@{line}
-------------@{line}
@{line}
Image gadget parameters.@{line}
-------------------------@{line}
@{line}
You must first define an image before you can produce an image gadget. The last defined image is placed into the GUI.@{line}
@{line}
IDME@{line}
@{line}
Force this object to be assigned a GID. Normaly no GID is assigned to Images. The definition reply becomes 'ok GID'@{line}
@{line}
minwidth=number  (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number  (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize  (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok'@{line}
@endnode
@node 4.2.3.7 "4.2.3.7 Space"
@toc 4.2.3
@{line}
4.2.3.7 Space@{line}
-------------@{line}
@{line}
@{line}
Space gadget parameters.@{line}
-------------------------@{line}
@{line}
IDME@{line}
@{line}
Force this object to be assigned a GID. Normaly no GID is assigned to spaces. The definition reply becomes 'ok GID'@{line}
@{line}
trans@{line}
@{line}
 Turn transparency on for this space.@{line}
@{line}
minwidth=number  (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
bevel=TYPE  (b=)@{line}
@{line}
 Set the bevel type for this gadget. Defaults to none.@{line}
0=NONE@{line}
1=THIN@{line}
2=BUTTON@{line}
3=GROUP@{line}
4=FIELD@{line}
5=DROPBOX@{line}
6=SBAR_HORIZ@{line}
7=SBAR_VERT@{line}
8=BOX@{line}
9=STANDARD@{line}
@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok'@{line}
@endnode
@node 4.2.4 "4.2.4 Special"
@toc 4.2
@{line}
4.2.4 Special@{line}
-------------@{line}
@{line}
 @{" 4.2.4.1 " LINK 4.2.4.1} Layout(End)@{line}
 @{" 4.2.4.2 " LINK 4.2.4.2} ClickTab@{line}
 @{" 4.2.4.3 " LINK 4.2.4.3} TextAttr@{line}
 @{" 4.2.4.4 " LINK 4.2.4.4} BrowserNode@{line}
 @{" 4.2.4.5 " LINK 4.2.4.5} Menu@{line}
 @{" 4.2.4.6 " LINK 4.2.4.6} Arexx@{line}
@endnode
@node 4.2.4.1 "4.2.4.1 Layout(End)"
@toc 4.2.4
@{line}
4.2.4.1 Layout(End)@{line}
-------------------@{line}
@{line}
LayOutEnd parameters@{line}
----------------------@{line}
@{line}
LayOutEnd=le=pg@{line}
@{line}
(pg is for historical reasons)@{line}
@{line}
This ends the current layout group. It takes no parameters.@{line}
@{line}
layout parameters.@{line}
-------------------------@{line}
@{line}
Layouts can be nested up to 50 deep.@{line}
@{line}
page=GID@{line}
@{line}
 Use this layout group as a page in the Clicktab gadget specified by GID.@{line}
@{line}
selected=number (s=)@{line}
@{line}
 The clicktab page to be displayed on startup, defaults to 0. Ignored unless page is also specified. It is only useful when adding the final page to a clicktab.@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the whole group. The GID points to an ALREADY defined text attribute.@{line}
@{line}
@{line}
bevel=TYPE  (b=)@{line}
@{line}
 Set the bevel type for this gadget.@{line}
0=NONE@{line}
1=THIN@{line}
2=BUTTON@{line}
3=GROUP@{line}
4=FIELD@{line}
5=DROPBOX@{line}
6=SBAR_HORIZ@{line}
7=SBAR_VERT@{line}
8=BOX@{line}
9=STANDARD@{line}
@{line}
@{line}
gadgettext="group label" (gt=)@{line}
@{line}
 set the group label for this group. Ignored if nobevel is@{line}
set.@{line}
@{line}
labr@{line}
labl@{line}
labc@{line}
@{line}
 Set the position of the layout label (topleft/topright/topcenter). Defaults to the users prefs setting, so don't set/force this unless you really need to..@{line}
@{line}
defn=PEN@{line}
@{line}
The pen number to use when backfilling this layout.@{line}
@{line}
fpat="HEX"@{line}
@{line}
 The fill pattern to backfill this layout. A 24 bit hexidecimal number, interpeted as a 16 x 2 pattern. fpat is ignored unless defn is also specified.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
SpaceOuter (so)@{line}
@{line}
 Leave a blank space outside the layout group.@{line}
@{line}
SpaceInner  (si)@{line}
@{line}
 Leave a blank space around elements in the layout group.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadgets in this layout are enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
centerjustify  (cj)@{line}
rightjustify   (rj)@{line}
bottomjustify  (bj)@{line}
@{line}
 Set the justification of the gadgets in this layout. Defaults to leftjustify or topjustify.@{line}
@{line}
vertical      (v)@{line}
@{line}
 Switch to display gadgets vertically, defaults to horizontal.@{line}
@{line}
even      (e)@{line}
@{line}
 Switch to make gadgets/groups all the same size.@{line}
@{line}
shrinkwrap  (sw)@{line}
@{line}
 Switch to cause gadgets in this group to have no space between them.@{line}
@{line}
tags="tags|data[|tag|data...]|0@{line}
@{line}
 A list of tag and value pairs in HEX. Do not forget the trailing null !@{line}
@{line}
childlabel    (chl)@{line}
childlabelr   (chlr)@{line}
@{line}
 Use the previously defined image as a childlabel for this gadget. Display the childlabel to the right or left of the gadget.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
 LayoutEnd replies with@{line}
@{line}
'ok'@{line}
@{line}
layout modify parameters.@{line}
-------------------------@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadgets in this layout are enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
refresh (ref)@{line}
@{line}
@endnode
@node 4.2.4.2 "4.2.4.2 ClickTab"
@toc 4.2.4
@{line}
4.2.4.2 ClickTab@{line}
----------------@{line}
@{line}
ClickTab gadget event@{line}
-------------------------@{line}
@{line}
'gadget GID selected_page'@{line}
@{line}
ClickTab gadget parameters.@{line}
-------------------------@{line}
@{line}
This actually creates a pair of connected gadgets, a clicktab->pagegadget. Each tab labels will display a different page in the page gadget. See parent group for how@{line}
to attach a page to a clicktab gadget.@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
ClickTabLabels="choice0|choice1|choice..." (ctl)@{line}
@{line}
 Set the choices for the gadget. This parameter MUST be given.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
ClickTab gadget modify parameters.@{line}
-------------------------@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
NOTE: when you disable a layout, Clicktab gadgets in the layout do not@{line}
properly disable themselves (CA/Reaction bug?). You must manualy disable the@{line}
clicktabs your self.@{line}
@{line}
target=number  (tar=)@{line}
@{line}
 When used with disable only the targeted tab is enabled or disabled. If@{line}
target is not specified all tabs will be disabled or enabled.@{line}
@{line}
selected=number  (s=)@{line}
@{line}
 Set the page displayed by the clicktab gadget.@{line}
@{line}
refresh (ref)@{line}
@{line}
 Redraw the gadget.@{line}
@endnode
@node 4.2.4.3 "4.2.4.3 TextAttr"
@toc 4.2.4
@{line}
4.2.4.3 TextAttr@{line}
----------------@{line}
@{line}
TextAttr parameters.@{line}
-------------------------@{line}
@{line}
gadgettext="fontname"  (gt=)@{line}
@{line}
This text defines the font.  Remember the '.font' like 'gt=topaz.font'@{line}
@{line}
defnumber=number  (defn=)@{line}
@{line}
The font size attribute.@{line}
@{line}
selected="number"  s=@{line}
@{line}
The fonts style attributes. Sorry it a decimal number...@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID HEXADDRESS'@{line}
@{line}
The address allows you to use the text attribute with the 'set' modify command.@{line}
@{line}
 The same text attribute can be used to specify a font for many gadgets.@{line}
@endnode
@node 4.2.4.4 "4.2.4.4 BrowserNode"
@toc 4.2.4
@{line}
4.2.4.4 BrowserNode@{line}
-------------------@{line}
@{line}
BrowserNode gadget parameters.@{line}
-------------------------@{line}
@{line}
 Browsernodes always belong to last defined listbrowser. NEVER use the BrowserNode keyword after you GUI window has opened. Use the AddNode modify command instead.@{line}
@{line}
selected=number (s=)@{line}
@{line}
  The node is selected if number != 0 , unselected if number = 0. Defaults to unselected.@{line}
@{line}
@{line}
  Set which choice is selected when the window opens. This is only for multiple select list browsers. Set selected in the Listbrowser definition for single select lists.@{line}
@{line}
GadgetText="[^|]text0|[^|]text1|[^|]text..." (gt=)@{line}
@{line}
 Set the text(s). This parameter MUST be given. YOU MUST NOT GIVE MORE TEXTS THAN THE AMOUNT OF COLUMNS IN THE LISTBROWSER. A leading '^' makes the text editable. A leading '' (ALT p) uses the last defined image for the column rather than text. Note that images used in browsernodes can not be more than 255 pixels high. (hint: split larger images and use more than one node)@{line}
@{line}
NOTE: the following parameters may only be used if the ListBrowser containing the node allows parenting.@{line}
@{line}
defnumber=number  (defn=)@{line}
@{line}
 Set the Generation of this browser node.@{line}
@{line}
browsernodeparent  (bnp)@{line}
@{line}
 This browser node has children.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the node creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
BrowserNode gadget modify parameters.@{line}
-------------------------------------@{line}
@{line}
GadgetText="[^|]text0|[^|]text1|[^|]text..." (gt=)@{line}
@{line}
 Set the text(s). YOU MUST NOT GIVE MORE TEXTS THAN THE AMOUNT OF COLUMNS IN THE LISTBROWSER. A leading '^' makes the text editable. A leading '' (ALT p) uses the last defined image for the column rather than text. Note that images used in browsernodes can not be more than 255 pixels high. (hint: split larger images and use more than one node)@{line}
@{line}
removenode (remn)@{line}
@{line}
 remove this browsernode from its ListBrowser@{line}
@{line}
selected=number (s=)@{line}
@{line}
  The node is selected if number != 0 , unselected if number = 0. This is only for nodes in multi select listbrowsers, for single select browsers see the listbrowser modify docs.@{line}
@{line}
read@{line}
sort=COLUMN#@{line}
@{line}
 To read a browser node you must also specify a column. The text contents of@{line}
that column are returned.@{line}
@{line}
refresh (ref)@{line}
@{line}
 Refresh this listnodes listbrowser (not just the node itself). When setting multiple nodes in a multiselect listbrowser only refresh when you set the last node. This avoids multiple refreshes.@{line}
@{line}
hidechild=num (hc=)@{line}
@{line}
 If num =0 show all this nodes children . If num >0 then hide all this nodes children.@{line}
@endnode
@node 4.2.4.5 "4.2.4.5 Menu"
@toc 4.2.4
@{line}
4.2.4.5 Menu@{line}
------------@{line}
@{line}
Menu gadget event@{line}
-------------------------@{line}
@{line}
'menu menu_number item_number sub_item_number checked'@{line}
@{line}
checked=0 Item is not checked@{line}
checked=1 Item is checked@{line}
@{line}
Menu gadget parameters.@{line}
-------------------------@{line}
@{line}
gadgettext="menudata"  (gt=)@{line}
@{line}
This text defines a menu for the CA window. The data is the following format.@{line}
@{line}
menu_title|menu_item0|menu_item1 ...@{line}
@{line}
Each menu_item is the following format@{line}
@{line}
[@hotkey][$][-][^][%][&][!][`][#HEX_number#]menu_item_title@{line}
@{line}
@ = hotkey for menu, following character is hotkey.@{line}
$ =  sub Item (of previous menu_item)@{line}
- =  Display a separator bar (ignore text and other options for this item )@{line}
^ =  menu toggle@{line}
% =  menu checkable (unchecked at startup)@{line}
& =  menu checkable (checked at startup)@{line}
! =  highlight none@{line}
` =  disabled@{line}
# =  mutual exclude. Note the trailing '#' MUST be used.@{line}
If multiple flags are set they MUST be in the order shown.@{line}
@{line}
Note: '`' is the only flag that may be set for the menu title.@{line}
Note: Separator bars are considered a menu item. Example@{line}
@{line}
gt="dothis|-|dothat"@{line}
dothis is item 0, the bar is item 1, dothat is item 2.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this menu to replace an existing menu specified by GID.@{line}
@{line}
Menu gadget modify parameters.@{line}
-------------------------@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The menu or menu item is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
selected=number (s=)@{line}
@{line}
  The menu item is checked if number != 0 , unchecked if number = 0. Ignored if a target is not specified.@{line}
@{line}
target=number  (tar=)@{line}
@{line}
 If a target is specified you are modifying a menu item. If a target is not specified you are modifying the menu itself.@{line}
@endnode
@node 4.2.4.6 "4.2.4.6 Arexx"
@toc 4.2.4
@{line}
4.2.4.6 Arexx@{line}
-------------@{line}
@{line}
Arexx event  stream@{line}
-------------------@{line}
@{line}
Arexx events are handled differently than other types of events, be careful.@{line}
@{line}
The events are as follows.@{line}
@{line}
@{line}
'arexx FID textlength <newline> text'@{line}
@{line}
    FID is the function ID number@{line}
@{line}
    textlength is the length of the text after the newline character.@{line}
@{line}
@{line}
If modify is turned on, after each event you MUST write a single line to the pipe in the following format.@{line}
@{line}
'rc=number result="(result text|length)" [bd]'@{line}
@{line}
If rc > 0 result is ignored, if RC is omitted it defaults to 0.@{line}
@{line}
If the bd (binary data) keyword is given result MUST be the length of the data to be returned, and you then MUST write length chars of data to the pipe.@{line}
@{line}
The pipe replies with 'ok' to your result line (unless quiet is set).@{line}
@{line}
If modify is not turned on all arexx events are given a rc of 0 (success) and a null result.@{line}
@{line}
Arexx object parameters.@{line}
-------------------------@{line}
@{line}
gadgettext="HOSTNAME|Function0|Function1|..."  (gt=)@{line}
@{line}
The gadget text defines the arexx host name and the functions available. Hostname should be all capitals, function names should not contain spaces. The first function is FID 0, the second FID 1, ...@{line}
@{line}
slot@{line}
@{line}
This switch causes a slot number to appended to the host name. TESTHOST would become TESTHOST.1 or TESTHOST.2 etc.@{line}
@{line}
Arexx definition Reply@{line}
----------------------@{line}
@{line}
 When the ARexx object creation is successful the pipe replies with@{line}
@{line}
'ok HOSTNAME'@{line}
@{line}
NOTE only one arexx host can be defined for each GUI window.@{line}
@{line}
Additional info@{line}
---------------------@{line}
@{line}
To have a arexx host with no GUI window, set the NoWindow switch in the window definition.  See the window docs for more information.@{line}
@endnode
@node 4.2.5 "4.2.5 Fancy"
@toc 4.2
@{line}
4.2.5 Fancy@{line}
-----------@{line}
@{line}
 @{" 4.2.5.1 " LINK 4.2.5.1} GetFile@{line}
 @{" 4.2.5.2 " LINK 4.2.5.2} GetFont@{line}
 @{" 4.2.5.3 " LINK 4.2.5.3} TextEditor@{line}
 @{" 4.2.5.4 " LINK 4.2.5.4} TextFeild@{line}
 @{" 4.2.5.5 " LINK 4.2.5.5} ListBrowser@{line}
 @{" 4.2.5.6 " LINK 4.2.5.6} Palette@{line}
@endnode
@node 4.2.5.1 "4.2.5.1 GetFile"
@toc 4.2.5
@{line}
4.2.5.1 GetFile@{line}
---------------@{line}
@{line}
There are actually two file requesters available in AWNPipe. The ClassAct/Reaction getfile.gadget, and the ASL file requester. Only the getfile.gadget can be displayed in a gui. Both can be opened under your control to present the user with a file requester. The details for the ASL requester are at the end of this file.@{line}
@{line}
  *** GETFILE GADGET CLASS ***@{line}
@{line}
GetFile gadget event.@{line}
-------------------------@{line}
@{line}
'gadget GID  success ["filename" ["filename" ...]]'@{line}
@{line}
 Success=0 user selected no file or canceled.@{line}
 Success!=0 user selected a file.@{line}
Filenames are fully qualified with path.@{line}
@{line}
GetFile gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
gadgettext="file requester title" (gt=)@{line}
@{line}
 Set the title of the file requester.@{line}
@{line}
pattern="pattern" (pat=)@{line}
@{line}
 Set and Enable pattern matching in the file.@{line}
@{line}
multi  (m)@{line}
@{line}
 Allow multi selection in the file requester. (does not seem to work)@{line}
@{line}
save@{line}
@{line}
 This is a save requester.@{line}
@{line}
drawers (dr)@{line}
@{line}
 Only show and allow selections of drawers.@{line}
@{line}
icons (i)@{line}
@{line}
 Do NOT show .info files.@{line}
@{line}
filename="path:filename" (fn=)@{line}
@{line}
 Set the filename and directory for the file requester. It must end in a '/' for drawer only file requesters@{line}
@{line}
Wide=num@{line}
High=num@{line}
@{line}
 Set the size of the requester when opened.@{line}
@{line}
unattached    (ua)@{line}
@{line}
 This file requester is not attached to the CA window. It may still be activated in the modify conversation.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
tags="tags|data[|tag|data...]|0@{line}
@{line}
 A list of tag and value pairs in HEX. Do not forget the trailing null !@{line}
@{line}
childlabel    (chl)@{line}
childlabelr   (chlr)@{line}
@{line}
 Use the previously defined image as a childlabel for this gadget. Display the childlabel to the right or left of the gadget.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies@{line}
with@{line}
@{line}
'ok GID'@{line}
@{line}
GetFile gadget modify parameters.@{line}
-------------------------@{line}
@{line}
selected=number (sel=)@{line}
@{line}
This modify command is only valid for UNATTACHED getfile gadgets. Number is ignored but must be given. This opens the file requester and the selected files are returned rather than a simple ok.@{line}
You should not use other modify instructions on the same line as 'selected'.@{line}
@{line}
NOTE: You can not force an attached getfile to open.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
save=number@{line}
@{line}
 If number=0 this is NOT a save requester. If number~=0 this is a save requester.@{line}
@{line}
filename="path:filename" (fn=)@{line}
@{line}
 Set the filename and directory for the file requester.@{line}
@{line}
gadgettext="title" (gt=)@{line}
@{line}
 Set the file requesters title.@{line}
@{line}
@{line}
  *** GETFILE ASL ***@{line}
@{line}
The ASL requester does not send events.@{line}
@{line}
GetFile ASL parameters.@{line}
-------------------------@{line}
@{line}
ASL@{line}
@{line}
  This tells AWNP you want to define an ASL file requester.@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
@{line}
gadgettext="file requester title" (gt=)@{line}
@{line}
 Set the title of the file requester.@{line}
@{line}
pattern="pattern" (pat=)@{line}
@{line}
 Set and Enable pattern matching in the file.@{line}
@{line}
multi  (m)@{line}
@{line}
 Allow multi selection in the file requester. (does not seem to work)@{line}
@{line}
save@{line}
@{line}
 This is a save requester.@{line}
@{line}
drawers (dr)@{line}
@{line}
 Only show and allow selections of drawers.@{line}
@{line}
icons (i)@{line}
@{line}
 Do NOT show .info files.@{line}
@{line}
filename="path:filename" (fn=)@{line}
@{line}
 Set the filename and directory for the file requester. It must end in a '/' for drawer only file requesters@{line}
@{line}
Wide=num@{line}
High=num@{line}
@{line}
 Set the size of the requester when opened.@{line}
@{line}
top=num@{line}
left=num@{line}
@{line}
 Set the position of the requester when it opens.@{line}
@{line}
postx="positive text"@{line}
@{line}
 Set the text for the positive choice in the file requester. Defaults to OK.@{line}
@{line}
negtx="negative text"@{line}
@{line}
 Set the text for the positive choice in the file requester. Defaults to Cancel@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies@{line}
with@{line}
@{line}
'ok GID'@{line}
@{line}
GetFile ASL modify parameters.@{line}
-------------------------@{line}
@{line}
 You can only modify the ASL getfile requester when opening it. Unless the selected keyword is present the modify line is ignored.@{line}
@{line}
@{line}
selected=number (sel=)@{line}
@{line}
Number is ignored but must be given. This opens the file requester and you get returned the following line rather than a simple ok.@{line}
@{line}
SUCCESS "path:drawer/filename" "path2:drawer2/filename2"  ...@{line}
@{line}
SUCCESS=0 if the user aborted the file requester without making a selection. SUCCESS !=0 if the user selected a file, each file name is quoted and all are on a single line.@{line}
@{line}
save=number@{line}
@{line}
 If number=0 this is NOT a save requester. If number~=0 this is a save requester.@{line}
@{line}
filename="path:filename" (fn=)@{line}
@{line}
 Set the filename and directory for the file requester.@{line}
@{line}
gadgettext="title" (gt=)@{line}
@{line}
 Set the file requesters title.@{line}
@{line}
Wide=num@{line}
High=num@{line}
@{line}
 Set the size of the requester when opened.@{line}
@{line}
top=num@{line}
left=num@{line}
@{line}
 Set the position of the requester when it opens.@{line}
@{line}
postx="positive text"@{line}
@{line}
 Set the text for the positive choice in the file requester. Defaults to OK.@{line}
@{line}
negtx="negative text"@{line}
@{line}
 Set the text for the positive choice in the file requester. Defaults to Cancel@{line}
@{line}
@endnode
@node 4.2.5.2 "4.2.5.2 GetFont"
@toc 4.2.5
@{line}
4.2.5.2 GetFont@{line}
---------------@{line}
@{line}
GetFont gadget event.@{line}
-------------------------@{line}
@{line}
'gadget GID  success fontname fontsize fontstyle fontflags'@{line}
@{line}
 Success=0 user selected no font or canceled. Success!=0 user selected a font.@{line}
@{line}
GetFont gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadgets text. The GID points to an ALREADY defined text attribute.@{line}
@{line}
close (c)@{line}
@{line}
 This gadget will close the window when selected by the user.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
gadgettext="font requester title" (gt=)@{line}
@{line}
 Set the title of the file requester.@{line}
@{line}
style@{line}
@{line}
 This requester includes style settings.@{line}
@{line}
fixed@{line}
@{line}
 This requester includes fixed width fonts only.@{line}
@{line}
Minn=num@{line}
Maxn=num@{line}
@{line}
The minimum and maximum font size allowed. Defaults to 6-20@{line}
@{line}
Wide=num@{line}
High=num@{line}
@{line}
 Set the size of the requester when opened.@{line}
@{line}
unattached    (ua)@{line}
@{line}
 This file requester is not attached to the CA window. It may still be activated in the modify conversation.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
tags="tags|data[|tag|data...]|0@{line}
@{line}
 A list of tag and value pairs in HEX. Do not forget the trailing null !@{line}
@{line}
childlabel    (chl) childlabelr   (chlr)@{line}
@{line}
 Use the previously defined image as a childlabel for this gadget. Display the childlabel to the right or left of the gadget.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies@{line}
with@{line}
@{line}
'ok GID'@{line}
@{line}
GetFont gadget modify parameters.@{line}
-------------------------@{line}
@{line}
selected=number (sel=)@{line}
@{line}
Number is ignored but must be given. This opens the font requester and the selected font is returned rather than a simple ok.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@endnode
@node 4.2.5.3 "4.2.5.3 TextEditor"
@toc 4.2.5
@{line}
4.2.5.3 TextEditor@{line}
------------------@{line}
@{line}
The TextEditor.gadget is only available under ADOS 3.5 . At this time only@{line}
beta versions were available but the TextEditor gadget is so great it had to@{line}
be included in AWNPipe. These functions should all work once it is released.@{line}
@{line}
@{line}
 TextEditor gadget event.@{line}
-------------------------@{line}
An event is only generated when the user double clicks the gadget.@{line}
@{line}
'gadget GID DoubleClickPositionX DoubleClickPositionY'@{line}
@{line}
DoubleClickPositionX/Y is the position in the current line the user double clicked.@{line}
@{line}
NOTE: You must the TextEditor directly at appropriate times in your program. This means you should have modify turned on if the TextEditor gadget is not read only.@{line}
@{line}
@{line}
TextEditor gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
arrows (a)@{line}
@{line}
 Give the TextEditor a scroll gadget on the right.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
export="num"@{line}
@{line}
 Set the export hook for the TextEditor.@{line}
@{line}
num=0  Plain text hook@{line}
num=1  EMail hook@{line}
@{line}
import="num"@{line}
@{line}
 Set the import hook for the TextEditor.@{line}
@{line}
num=0  Plain text hook@{line}
num=1  EMail hook@{line}
num=2  Mime hook@{line}
num=3  Mime quoted hook@{line}
@{line}
block@{line}
@{line}
 The texteditor should mark a block of text as well as generate an event when it is double clicked.@{line}
@{line}
gadgettext="text" (gt=)@{line}
@{line}
 Set the text in the gadget.@{line}
given.@{line}
@{line}
bindata (bd)@{line}
@{line}
The text will be passed to this pipe in binary after the command line. The gadgettext parameter now gives the length of the data. Setting datain means the data is read from an external file rather than the pipe.@{line}
@{line}
datain="filename" (di=)@{line}
@{line}
 Read the data for this gadget from a file.@{line}
It is ignored if the Bindata keyword is not present. A length of 0 means to use the complete file.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Fixed@{line}
@{line}
 Use a fixed font for this TextEditor.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
TextEditor gadget modify parameters.@{line}
-------------------------@{line}
read@{line}
@{line}
 This should not be used with any other parameters. It is ALWAYS responded to with 'SIZE<newline>CHARACTERS'.@{line}
@{line}
SIZE is the number or characters after the newline. The characters are the current contents of the TextEditor gadget.@{line}
@{line}
info@{line}
@{line}
 This should not be used with any other parameters. It is ALWAYS responded to with@{line}
'CURSORX CURSORY BLOCKMARKED [BSTARTX BSTARTY BENDX BENDY]'.@{line}
@{line}
CURSORX and CURSORY are the current cursor location, BLOCKMARKED=0 if no block is marked, BLOCKMARKED~=0 means a block is currently marked. BSTARTX/Y and BENDX/Y (the start and end of the marked block) are only given if BLOCKMARKED!=0.@{line}
@{line}
update=number@{line}
@{line}
If number=0 then turn off updating of the Texteditor gadget. If number!=0 then turn updating of the gadget back on.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
readonly=num (ro=)@{line}
@{line}
 if num != 0 then this gadget is read only. If num =0 then the gadget is NOT@{line}
readonly.@{line}
@{line}
clear@{line}
@{line}
 Remove all text from the TextEditor gadget.@{line}
@{line}
CursorY="num" (cy=)@{line}
@{line}
 Set the cursor to Y position to num.@{line}
@{line}
Cursorx="num" (cx=)@{line}
@{line}
 Set the cursor to Y position to num.@{line}
@{line}
command="string" (cmd=)@{line}
@{line}
 Have the TextEditor gadget execute the Arexx command given in string.Command should not be used with other modify parameters.@{line}
@{line}
 Command always replies with 'ok SUCCESS [SIZE] <newline>[CHARACTERS]'@{line}
 if SUCCESS!=0 then the command was handled by the TextEditor, if SUCCESS=0 then the command was not recognised.@{line}
 If the command succeeds you MUST check to see if SIZE is given. If size is specified you then read SIZE  the number or characters after the newline. This is data returned by the command to the TextEditor.@{line}
@{line}
replace@{line}
@{line}
 Replace the text highlighted with the text given in gadgettext.@{line}
@{line}
Replace ALWAYS responds with 'RESULT' where result=0 if a marked string is not found, and RESULT !=0 if the replace is successful.@{line}
@{line}
search@{line}
@{line}
 Search for the text given in gadgettext.@{line}
@{line}
Search ALWAYS responds with 'RESULT' where result=0 if the search string is not found, and RESULT !=0 if the search string is found.@{line}
@{line}
gadgettext="text" (gt=)@{line}
@{line}
 Insert the text in the gadget. OR text to search for if search parameter is specified, OR text to replace highlighted text with if replace is specified.@{line}
@{line}
target="num" (tar=)@{line}
@{line}
 If num=0 insert text at start of current contents. If num!=0 then insert text at the cursor position. If target is not specified the text is inserted at the end of the current contents.@{line}
If target is not given insert text at cursor position (default).@{line}
@{line}
  OR@{line}
@{line}
With search, num is a bit field for search modifiers.@{line}
@{line}
bit 0 (1)  search from top@{line}
bit 1 (2)  search next (default)@{line}
bit 2 (4)  search case sensitive@{line}
bit 3 (8)  search dospattern@{line}
bit 4 (16)  search backwards@{line}
@{line}
Unfortunately this is implemented as a decimal number. See the 'Hints' section for easy ways to handle this.@{line}
@{line}
bindata (bd)@{line}
@{line}
The text will be passed to this pipe in binary after the command line. The gadgettext parameter now gives the length of the data. Note that you can NOT use datain during modify.@{line}
@{line}
Search responds with 'ok RESULT' where result=0 if the search string is not found, and RESULT !=0 if the search string is found.@{line}
@endnode
@node 4.2.5.4 "4.2.5.4 TextFeild"
@toc 4.2.5
@{line}
4.2.5.4 TextFeild@{line}
-----------------@{line}
@{line}
TextField gadget event.@{line}
-------------------------@{line}
NOTE: The textfield gadget has two event forms. For more information see the shortevent parameter below@{line}
@{line}
Short Event@{line}
'gadget GID'@{line}
@{line}
or Default event.@{line}
'gadget GID size <newline> characters[size]'@{line}
@{line}
The next 'size' number of characters after the newline are the contents of the TextField gadget.@{line}
@{line}
Textfield gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
arrows (a)@{line}
@{line}
 Give the textfield a scroll gadget on the right.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
TabCycle (tc)@{line}
@{line}
 This gadget can be activated using the tab key.@{line}
@{line}
gadgettext="text" (gt=)@{line}
@{line}
 Set the text in the gadget.@{line}
@{line}
bindata (bd)@{line}
@{line}
The text will be passed to this pipe in binary after the command line. The gadgettext parameter now gives the length of the data. Setting datain means the data is read from an external file rather than the pipe.@{line}
@{line}
datain="filename" (di=)@{line}
@{line}
 Read the data for this gadget from a file.@{line}
It is ignored if the Bindata keyword is not present. A length of 0 means to use the complete file.@{line}
@{line}
shortevent  (se)@{line}
@{line}
 The events sent by the textfield gadget do not include the contents of the textfield. This parameter only works if modify is turned on.Also see events above.@{line}
@{line}
@{line}
centerjustify  (cj)@{line}
rightjustify   (rj)@{line}
@{line}
 Set the justification of the text for the gadget. Defaults to leftjustify.@{line}
@{line}
bevel=TYPE  (b=)@{line}
@{line}
 Set the bevel type for this gadget.@{line}
@{line}
0=NONE@{line}
1=THIN@{line}
2=BUTTON@{line}
3=GROUP@{line}
4=FIELD@{line}
5=DROPBOX@{line}
6=SBAR_HORIZ@{line}
7=SBAR_VERT@{line}
8=BOX@{line}
9=STANDARD@{line}
@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
Textfield gadget modify parameters.@{line}
-------------------------@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
gadgettext="text" (gt=)@{line}
@{line}
 Set the text in the gadget to text if scroll keyword is not used. Else insert the text at the position set by scroll.@{line}
@{line}
scroll="num"@{line}
@{line}
 Set the cursor to position num.@{line}
@{line}
delete=num@{line}
@{line}
 Delete num of characters from the cursor forward.@{line}
@{line}
bindata (bd)@{line}
@{line}
The text will be passed to this pipe in binary after the command line. The gadgettext parameter now gives the length of the data. Note that you can NOT use datain during modify.@{line}
@{line}
All modifications of a textfield (except a lone disable) are responded to by 'ok POSITION' where POSITION is the final curser position.@{line}
@endnode
@node 4.2.5.5 "4.2.5.5 ListBrowser"
@toc 4.2.5
@{line}
4.2.5.5 ListBrowser@{line}
-------------------@{line}
@{line}
ListBrowser gadget event@{line}
-------------------------@{line}
@{line}
'gadget GID event_source event_column NodeGID [NodeGID [NodeGID ...]]'@{line}
@{line}
event_source&1 means normal selection of node.@{line}
@{line}
event_source&2 means this nodes children have been hidden.@{line}
@{line}
event_source&4 means this nodes children are now shown.@{line}
@{line}
event_source&8 means node has been edited.@{line}
@{line}
event_source&16 means double click on node.@{line}
@{line}
event_column is the column the mouse was over when the node was clicked.@{line}
@{line}
ListBrowser gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This list browser entries can not be edited.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
selected=number (s=)@{line}
@{line}
  Set which choice is selected when the window opens. Selections start at 0 . This defaults to none. CAREFUL modify uses the listnode GID, this parameter uses the ordinal position of the node.@{line}
@{line}
ListbrowserLabels="text0|text1|text..."  (lbl=)@{line}
@{line}
 Set the column labels for the list. Defaults to 1 unlabeled column.  NO MORE THAN 20 COLUMNS can be defined !@{line}
@{line}
bnparent (bnp)@{line}
@{line}
 Allow parenting in this listbrowser.@{line}
@{line}
showtitles (st)@{line}
@{line}
 Show the column tiles of this listbrowser.@{line}
@{line}
vertical (v)@{line}
@{line}
 Use vertical separators in the listbrowser.@{line}
@{line}
hori (h)@{line}
@{line}
 Use horizontal separators in the listbrowser.@{line}
@{line}
arrows   (a)@{line}
@{line}
 Show arrows for horizontal scrolling and make this a virtual width list.@{line}
@{line}
multi  (m)@{line}
@{line}
 Switch to allow multi selection in the list. Multi select by holding the shift key.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
SPECIAL FUNCTION@{line}
-----------------@{line}
/* do not use this function it may be removed !*/@{line}
/* instead see the note at the end of this doc */@{line}
 Using sort on a line BY ITSELF during gadget definitions will cause the last defined listbrowser to be sorted. This is to allow a list browser to be sorted before the gui window is opened. (the modify sort command sorts the listbrowser after the window is opened.)@{line}
@{line}
sort=COLUMN#@{line}
@{line}
(optional) sort=COLUMN# defn=COLUMN#@{line}
@{line}
 Sort list browser based on the column number, if the sort entries are the save a secondary sort based on the defaultnumber column is done. Specifying a secondary column to sort by is optional. Remember columns start at 0. You MUST NOT specify an invalid column number.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
ListBrowser gadget modify parameters.@{line}
-------------------------@{line}
down@{line}
@{line}
Select the next node in the list.@{line}
@{line}
up@{line}
@{line}
Select the previous node in the list.@{line}
@{line}
addnode (addn)@{line}
@{line}
 Add a new node to this ListBrowser.@{line}
@{line}
 You should keep this modify command a s simple as possible, only use keywords that specifically deal with the creation of the node. (tar gt bnp defn sc )@{line}
@{line}
 Put additional changes like select= or disable = in a separate modify line. Some keywords like refresh, tick, disable, sort, and others could cause extra 'oks' to be in the response line.@{line}
@{line}
 Keep it simple and this modify command is responded to with 'ok GID' where GID is the ID of the browser node.@{line}
@{line}
GadgetText="[^|]text0|[^|]text1|[^|]text..." (gt=)@{line}
@{line}
 Set the text(s) for the added node. This parameter MUST be given if you are using 'addnode' . YOU MUST NOT GIVE MORE TEXTS THAN THE AMOUNT OF COLUMNS IN THE LISTBROWSER. A leading '^' makes the text editable. A leading '' (ALT p) uses the last defined image for the column rather than text. Note that images used in browsernodes can not be more than 255 pixels high. (hint: split larger images and use more than one node)@{line}
@{line}
defnumber=number  (defn=)@{line}
@{line}
 Set the Generation of this browser node.@{line}
@{line}
target=GID  (tar=)@{line}
@{line}
 If GID=0 add the new node at head of list. If GID=-1 add the new node at tail of list. Else add the new node immediately after the node specified by GID.@{line}
@{line}
browsernodeparent  (bnp)@{line}
@{line}
 The new browser node has children.@{line}
@{line}
List=number@{line}
@{line}
 If number=0 detach the node list from the listbrowser. If number!=0 then reattaches the node list to the listbrowser.@{line}
@{line}
removenode (remn)@{line}
@{line}
 Remove ALL browsernodes from this ListBrowser.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This list browser entries can not be edited.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
scroll=GID (scr=)@{line}
@{line}
 Scroll the listbrowser so the node specified by GID is at the top.@{line}
@{line}
selected=num (s=)@{line}
@{line}
  For multi select lists@{line}
@{line}
 Setting selected=0 sets all nodes as unselected. Setting selected=-1 sets all nodes as selected.  You may set the nodes individually instead of using this command. See browsernode modify commands.@{line}
@{line}
selected=node_GID (s=)@{line}
@{line}
  For single select lists@{line}
@{line}
 Set the selected node. Selected=0 sets all nodes as unselected, else the specified node is selected. CAREFUL modify uses the listnode GID not the ordinal position. This is different then in the listbrowser definition.@{line}
@{line}
order@{line}
@{line}
 Read the order of nodes in the listbrowser. This does not return the normal 'ok' instead it returns a sequence of GID's in the same order as the nodes in the listbrowser. THIS COMMAND SHOULD NOT BE USED WITH ANY OTHER MODIFY COMMANDS ON THE SAME LINE.@{line}
@{line}
sort=COLUMN#@{line}
@{line}
(optional) sort=COLUMN# defn=COLUMN#@{line}
@{line}
 Sort list browser based on the column number, if the sort entries are the save a secondary sort based on the defaultnumber column is done. Specifying a secondary column to sort by is optional. Remember columns start at 0. You MUST NOT specify an invalid column number.@{line}
@{line}
autofit@{line}
@{line}
 This keyword forces the listbrowser to evaluate its size. It is only needed when a listbrowser uses a font other than the screen default font AND no new browser nodes are added after the GUI window is opened.@{line}
@{line}
hidechild=num (hc=)@{line}
@{line}
 If num =0 show all the children in this listbrowser. If num !=0 then hide all the children in this listbrowser.@{line}
@{line}
NOTE: At times you may want to modify a listbrowser after is is created, but BEFORE the window is opened. Use the 'NoWindow' keyword in the window definition, create the GUI as usual. When you send 'open' the window does NOT open but you do go into modify mode. Modify the GUI then send 'id 0 s 64' to open the window after it has been modified.@{line}
@endnode
@node 4.2.5.6 "4.2.5.6 Palette"
@toc 4.2.5
@{line}
4.2.5.6 Palette@{line}
---------------@{line}
@{line}
palette gadget event@{line}
-------------------------@{line}
@{line}
'gadget GID selected_color'@{line}
@{line}
Palette gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
close (c)@{line}
@{line}
 This gadget will close the window when selected by the user.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
minnumber=number (minn=)@{line}
@{line}
 The first color to display in this gadget. Defaults to 0.@{line}
@{line}
maxnumber=number (maxn=)@{line}
@{line}
 How many colors to display in this gadget. Defaults to 8.@{line}
@{line}
selected=number (s=)@{line}
@{line}
 Color selected when window is opened. Defaults to 0.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
Palette gadget modify parameters.@{line}
-------------------------@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
selected=number (s=)@{line}
@{line}
 Set the color selected in the gadget@{line}
@{line}
@endnode
@node 4.2.6 "4.2.6 More"
@toc 4.2
@{line}
4.2.6 More@{line}
----------@{line}
@{line}
 @{" 4.2.6.1 " LINK 4.2.6.1} Fuelgauge@{line}
 @{" 4.2.6.2 " LINK 4.2.6.2} Scroller@{line}
 @{" 4.2.6.3 " LINK 4.2.6.3} Slider@{line}
 @{" 4.2.6.4 " LINK 4.2.6.4} WeightBar@{line}
 @{" 4.2.6.5 " LINK 4.2.6.5} Commodity@{line}
 @{" 4.2.6.6 " LINK 4.2.6.6} Sound@{line}
@endnode
@node 4.2.6.1 "4.2.6.1 Fuelgauge"
@toc 4.2.6
@{line}
4.2.6.1 Fuelgauge@{line}
-----------------@{line}
@{line}
@{line}
The Fuel gauge do not produce events.@{line}
@{line}
@{line}
FuelGauge gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
close (c)@{line}
@{line}
 This gadget will close the window when selected by the user.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number !=0. Defaults to enabled.@{line}
@{line}
gadgettext="text" (gt=)@{line}
@{line}
 Set the text of the gadget.@{line}
@{line}
centerjustify (cj)@{line}
@{line}
 Set the justification of the text for the gadget. Defaults to leftjustify.@{line}
@{line}
vertical   (v)@{line}
@{line}
 This fuelgauge is vertical. Defaults to horizontal.@{line}
@{line}
ticks=number (t=)@{line}
@{line}
 Set the  'number' of ticks in the fuel gauge. Defaults to 11.@{line}
@{line}
percent (per)@{line}
@{line}
 Show the percentage full as the fuel gauge text.@{line}
@{line}
minnumber=number (minn=)@{line}
@{line}
 Empty value for this gadget. Defaults to 0.@{line}
@{line}
maxnumber=number (maxn=)@{line}
@{line}
 Full value for this gadget. Defaults to 100.@{line}
@{line}
defnumber=number  (defn=)@{line}
@{line}
 Value for this gadget when window is opened. Defaults to 50.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
tags="tags|data[|tag|data...]|0@{line}
@{line}
 A list of tag and value pairs in HEX. Do not forget the trailing null !@{line}
@{line}
childlabel    (chl)@{line}
childlabelr   (chlr)@{line}
@{line}
 Use the previously defined image as a childlabel for this gadget. Display the childlabel to the right or left of the gadget.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
FuelGauge gadget modify parameters.@{line}
----------------------------------@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
gadgettext="text" (gt=)@{line}
@{line}
 Set the text of the gadget.@{line}
@{line}
defnumber=number  (defn=)@{line}
@{line}
 Value for this gadget .@{line}
@{line}
get=TAG@{line}
@{line}
 Read the value of a specific gadget attribute. Returns a blank line if attribute is not readable. This should not be combined with any other modify command on the same line.@{line}
@{line}
refresh (ref)@{line}
@{line}
 Redraw the gadget.@{line}
@endnode
@node 4.2.6.2 "4.2.6.2 Scroller"
@toc 4.2.6
@{line}
4.2.6.2 Scroller@{line}
----------------@{line}
@{line}
Scroller gadget event.@{line}
-------------------------@{line}
@{line}
'gadget GID scroller_value'@{line}
@{line}
Scroller gadget parameters.@{line}
-------------------------@{line}
@{line}
font=GID@{line}
@{line}
This sets the font for the gadget. The GID points to an ALREADY defined text attribute.@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
vertical   (v)@{line}
@{line}
 This gadget is free vertically, defaults to free horizontally.@{line}
@{line}
arrows (a)@{line}
@{line}
 Switch to display arrows for this gadget.@{line}
@{line}
delta=number@{line}
@{line}
 The change in the gadget when an arrow is clicked. Defaults to 1.@{line}
@{line}
knob=number@{line}
@{line}
 The size of the knob in the scroller.@{line}
@{line}
maxnumber=number (maxn=)@{line}
@{line}
 Maximum value for this gadget. Defaults to 100.@{line}
@{line}
defnumber=number  (defn=)@{line}
@{line}
 Value for this gadget when window is opened. Defaults to 0.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
Scroller gadget modify parameters.@{line}
-------------------------@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
defnumber=number  (defn=)@{line}
@{line}
 Value for this gadget.@{line}
@{line}
knob=number@{line}
@{line}
 The size of the knob in the scroller.@{line}
@{line}
maxnumber=number (maxn=)@{line}
@{line}
 Maximum value for this gadget. Defaults to 100.@{line}
@{line}
@endnode
@node 4.2.6.3 "4.2.6.3 Slider"
@toc 4.2.6
@{line}
4.2.6.3 Slider@{line}
--------------@{line}
@{line}
Slider gadget event.@{line}
-------------------------@{line}
@{line}
'gadget GID slider_value'@{line}
@{line}
slider gadget parameters.@{line}
-------------------------@{line}
@{line}
readonly (ro)@{line}
@{line}
 This gadget is read only.@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0. Defaults to enabled.@{line}
@{line}
ticks=number@{line}
@{line}
 Set how many ticks to display along the slider.@{line}
@{line}
Sticks@{line}
@{line}
 Show every second tick as a short tick.@{line}
@{line}
Flip@{line}
@{line}
 Reverse the min and max positions on the slider.@{line}
@{line}
vertical   (v)@{line}
@{line}
 This gadget is free vertically, defaults to free horizontally.@{line}
@{line}
maxnumber=number (maxn=)@{line}
@{line}
 Maximum value for this gadget. Defaults to 100.@{line}
@{line}
minnumber=number (minn=)@{line}
@{line}
 Maximum value for this gadget. Defaults to 100.@{line}
@{line}
selected=number  (s=)@{line}
@{line}
 Value for this gadget when window is opened. Defaults to 0.@{line}
@{line}
useimage (ui)@{line}
@{line}
 Use the last defined image as the knob for this slider.@{line}
@{line}
bodyimage (bi)@{line}
@{line}
 Use the last defined image as the body of this slider.@{line}
@{line}
 NOTE: if both useimage and bodyimage are given, the knob gets the last defined image , the body gets the send last defined image.@{line}
@{line}
minwidth=number (minw=)@{line}
@{line}
 Set the minimum width for this gadget@{line}
@{line}
minheight=number (minh=)@{line}
@{line}
 Set the minimum height for this gadget@{line}
@{line}
weightedwidth=number (weiw=)@{line}
@{line}
 Set the weighted width for this gadget@{line}
@{line}
weightedheight=number (weih=)@{line}
@{line}
 Set the weighted height for this gadget@{line}
@{line}
nominalsize (noms)@{line}
@{line}
 Set this gadget to its nominal size.@{line}
@{line}
replace=GID@{line}
@{line}
 Use this gadget to replace an existing gadget specified by GID.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
slider gadget modify parameters.@{line}
-------------------------@{line}
@{line}
disable=number (dis=)@{line}
@{line}
 The gadget is enabled if number = 0 , disabled if number != 0.@{line}
@{line}
selected=number  (s=)@{line}
@{line}
 Value for this gadget.@{line}
@{line}
@endnode
@node 4.2.6.4 "4.2.6.4 WeightBar"
@toc 4.2.6
@{line}
4.2.6.4 WeightBar@{line}
-----------------@{line}
@{line}
WeightBar parameters@{line}
----------------------@{line}
@{line}
WeightBar@{line}
@{line}
Place a user controllable weightbar in the GUI. WeightBar has no parameters.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the gadget creation is successful the pipe replies with@{line}
@{line}
'ok'@{line}
@endnode
@node 4.2.6.5 "4.2.6.5 Commodity"
@toc 4.2.6
@{line}
4.2.6.5 Commodity@{line}
-----------------@{line}
@{line}
Commodity event@{line}
----------------@{line}
@{line}
Commodity    "cx TYPE [SUBTYPE]"@{line}
@{line}
 TYPE=hotkey            The commodities hotkey has been detected.@{line}
 TYPE=kill              The commodity has been requested to quit.@{line}
 TYPE=unique            Another commodity with the same name tried to start (but always fails)@{line}
 TYPE=show              The commodity has been requested to show its GUI.@{line}
 TYPE=hide              The commodity has been requested to hide its GUI.@{line}
 TYPE=disable           The commodity has been disabled.@{line}
 TYPE=enable            The commodity has been enabled.@{line}
@{line}
@{line}
 With dis/enable your commodity is automatically enabled or disabled. You MUST respect this in your program. With other commodity events you SHOULD TRY to react in some proper way.@{line}
@{line}
 The next three types are included to alow for future enhancements of the Amiga Commodity ability.@{line}
@{line}
 TYPE=command SUBTYPE   The commodity has received an unrecognized command. The subtype is the messageID.@{line}
 TYPE=event SUBTYPE     The commodity has received an unrecognized event. The subtype is the messageID.@{line}
 TYPE= NUMBER SUBTYPE   The commodity has received an unrecognized message type. Number is the message type, subtype is the messageID.@{line}
@{line}
Commodity parameters@{line}
--------------------@{line}
@{line}
You may only create one commodity object, per GUI.@{line}
@{line}
CxName="name"@{line}
@{line}
Name Commodities uses to identify this commodity.(REQUIRED)@{line}
@{line}
CxPri=number@{line}
@{line}
The priority of your commodity, defaults to 0.@{line}
@{line}
CxTitle="title"@{line}
@{line}
Title of commodity that appears in CXExchange.@{line}
@{line}
CxDesc="description"@{line}
@{line}
Description of the commodity.@{line}
@{line}
CxHotkey=" hotkey description"@{line}
@{line}
example  CxHotKey="ctrl alt f1"@{line}
@{line}
CxNoGui@{line}
@{line}
Do not allow CXExchange to request GUI open and closing.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the commodity creation is successful the pipe replies with@{line}
@{line}
'ok'@{line}
@{line}
Modify parameters@{line}
-----------------@{line}
@{line}
Normally you should not need to disable or enable your commodity as it is handled automatically. This gives you the ability to override the automatic control, use it carefully.@{line}
@{line}
Commodity=number@{line}
@{line}
If number =0 then disable the commodity, else enable the commodity. Replied to with ok.@{line}
@endnode
@node 4.2.6.6 "4.2.6.6 Sound"
@toc 4.2.6
@{line}
4.2.6.6 Sound@{line}
-------------@{line}
@{line}
Sound objects do not generate events@{line}
-------------------------@{line}
@{line}
Sound object parameters.@{line}
-------------------------@{line}
@{line}
FileName="path:file"@{line}
@{line}
Specify the file file containing the audio data. This parameter MUST be given. Datatypes are used to generate the sound object.@{line}
@{line}
Volume=NUM@{line}
@{line}
The volume to play the sound at 0-64. Defaults to 64.@{line}
@{line}
Period=NUM@{line}
@{line}
The period for playback of the sound. Defaults to natural period for the sample.@{line}
@{line}
Cycles=NUM@{line}
@{line}
The amount of cycles of the sound to play. Defaults to 1.@{line}
@{line}
Definition Reply@{line}
-----------------@{line}
@{line}
 When the object creation is successful the pipe replies with@{line}
@{line}
'ok GID'@{line}
@{line}
Sound object modify parameters.@{line}
-------------------------@{line}
@{line}
Period=NUM@{line}
@{line}
The period for playback of the sound.@{line}
@{line}
Volume=NUM@{line}
@{line}
The volume to play the sound at 0-64. Defaults to 64.@{line}
@{line}
NOTE: To work around a pre-ADOS 3.5 sound.dataype bug you can change the volume or frequency at the same time playback is triggered.@{line}
@{line}
topipe('ID soundGID Volume new_volume Period new_period S 2')@{line}
@{line}
Under OS3.5 volume and frequency can  be changed any time, but period may not work as expected.@{line}
@{line}
Selected=TriggerMethod   (s=)@{line}
@{line}
Cause the sound object to react. Most sound objects only support the trigger method Play (2) and method Stop (14).@{line}
@{line}
Some other trigger methods for future compatability.@{line}
@{line}
PAUSE		1@{line}
PLAY		2@{line}
REWIND		12@{line}
FASTFORWARD	13@{line}
STOP		14@{line}
RESUME		15@{line}
@{line}
Select is replied to with 'ok RESULT' where result =1 when the trigger method was supported and result=0 when it is not supported.@{line}
@{line}
NOTE: Trigger method 14 (stop) appears to be broken under ADOS 3.x and can hang the system. It should not use it at present.@{line}
@{line}
FreeSound@{line}
@{line}
FreeSound will dispose of the sound object. Under ADOS 3.1 the command may wait until the sound finishes playing. Under ADOS 3.5 the sound is stopped immedaitly and the object freed.@{line}
@{line}
Sound objects are disposed of automaticaly when the GUI host is closed. Uses this function when it is better to free the sound object sooner.@{line}
@{line}
@{line}
@{line}
@endnode
@node 4.3 "4.3 Events"
@toc 4
@{line}
4.3 Events@{line}
----------@{line}
@{line}
EVENT TYPES@{line}
-------------@{line}
Gadget hit     "gadget GID [gadget specific data]"@{line}
 Read gadget information for specifics.@{line}
@{line}
Help           "help GID MOUSEX MOUSEY<cr>"@{line}
 The mouse is over the gadget specified. The mouse location is useful in determining where to open a help window.@{line}
@{line}
Keystroke      "key KEYCODE QUALIFIER<cr>"@{line}
 The user hit a key. Raw keycodes are returned along with the current qualifier.@{line}
@{line}
Qualifier      "qual QUALIFIER<cr>"@{line}
@{line}
 A change in the current qualifier is detected. Not all qualifier changes will cause events. HOWEVER the last qualifier event will ALWAYS be correct for the event(s) that follow it.@{line}
@{line}
Close          "close CLOSESOURCE<cr>"@{line}
 The window has been closed.@{line}
 CLOSESOURCE=0        WindowClose Gadget@{line}
 CLOSESOURCE=-1       Closed by CTRL-BackSlash@{line}
else CLOSESOURCE=GID  Closed by GID@{line}
@{line}
Commodity    "cx TYPE [SUBTYPE]"@{line}
@{line}
 The Commodity object received a message.@{line}
@{line}
AskClose   "askclose"@{line}
@{line}
 User tried to close the GUI window. (not always used see window docs)@{line}
@{line}
Refresh        "refresh"@{line}
@{line}
 The window has been sized or altered and you should refresh any components you manually draw into the window. (You only ask for and watch these events if you use the 'Draw' modify command.)@{line}
@{line}
Menu           "menu  MENU# ITEM# SUBITEM# CHECKED<cr>"@{line}
@{line}
 Menu selected.@{line}
checked=0 Item is not checked@{line}
checked=1 Item is checked@{line}
@{line}
 Be careful of false (undefined) menu hits.@{line}
@{line}
Window Active  "active 0|1<cr>"@{line}
 0= window inactive@{line}
 1= window active@{line}
@{line}
Application  "app FILENAME <cr>"@{line}
@{line}
 An icon has been dropped on the window.@{line}
@{line}
Iconify  "iconify MODE<cr>"@{line}
@{line}
mode 0 = uniconify@{line}
mode 1 = iconify@{line}
@{line}
Iconify events are only sent if modify is turned on. You must manually iconify or uniconify the window in this case. See window.doc.@{line}
@{line}
If modify is not turned on the iconification is automatic and no iconify events are sent.@{line}
@{line}
ARexx command  "arexx FID len <cr> command"@{line}
@{line}
 You must first read the arexx event, the read len additional characters.@{line}
@{line}
See the  docs for each gadget type for more information.@{line}
@{line}
@endnode
@node 4.4 "4.4 Modify"
@toc 4
@{line}
4.4 Modify@{line}
----------@{line}
@{line}
Modifying the GUI Window and its gadgets@{line}
=========================================@{line}
@{line}
See the documentation for each gadget type for information on modifying that type of gadget type. This document exlains many 'special commands' that can be used to modify the GUI in general. It also has some commands that can be used on any gadget type.@{line}
@{line}
Most modify commands are replied to with either 'ok' or 'error'. If more than one gadget parameter is changed by the modify command the reply can be 'ok ok ...' .  A reply of a blank line means the modify command was not understood and was ignored.@{line}
@{line}
Modify commands that change gadget parameters begin with 'id GID' Gadgets are modified with the following  line format@{line}
@{line}
'id GID parameter1[=value] parameter2[=value] parameter3[=value] ...@{line}
@{line}
example 'id 2 gadgettext="new text" disable=1'@{line}
@{line}
The parameters allowed depend on the type of gadget that GID refers to.@{line}
@{line}
NOTE: When modifying gadgets on a clicktab page, you should add the page parameter to the modify line.@{line}
@{line}
NOTE: At times you may want to modify a GUI after is is created, but BEFORE the window is opened. Use the 'NoWindow' keyword in the window definition, create the GUI as usual. When you send 'open' the window does NOT open but you do go into modify mode. Modify the GUI then send 'id 0 s 64' to open the window after it has been modified.@{line}
@{line}
Modify Parameters that can be used with all gadgets@{line}
(except menu, arexxhost, textattr, commodity...)@{line}
------------------------------@{line}
@{line}
page="GID"@{line}
@{line}
 Specify the clicktab gadget that controls the page containing the gadget to be modified. Most gadgets seem to modify fine without this being set, but it must be used for string gadgets. It should probably be used when modifying all gadgets on clicktab pages to ensure future compatability.@{line}
 NOTE: you supply the Gadget ID of the clicktab, NOT the number of the page inside the clicktab.@{line}
@{line}
set@{line}
@{line}
 'Set' sets gadget parameters from the supplied tag list. Both 'set' and 'tags' must be used to do this.@{line}
@{line}
tags="tags|data[|tag|data...]|0@{line}
@{line}
 A list of tag and value pairs in HEX. Do not forget the trailing null !@{line}
@{line}
Refresh (ref)@{line}
@{line}
 Refresh the entire GUI when used alone, or refresh a specific object when used with a GID.@{line}
@{line}
Informational Gadget modify instructions@{line}
----------------------------------------@{line}
@{line}
read@{line}
@{line}
  Read must not be used with other parameters besides GID.@{line}
 'id GID read' Reads the gadget specified by GID. The pipe returns the same information as when a user hits a gadget but without the leading 'gadget gid'. In the case of GID=0 read returns the windows 'left top width height' settings.@{line}
@{line}
bounds@{line}
@{line}
 Read the size and location of object associated with the GID. This modify command MUST be ' id GID bounds' and returns 'LEFT TOP WIDTH HEIGHT'@{line}
@{line}
address@{line}
@{line}
 Read the address of object associated with the GID and information about the gadget type. This modify command MUST be ' id GID address' and returns 'ADDRESS GADGETTYPE'@{line}
@{line}
 An address of 0 means no object is associated with the GID.@{line}
@{line}
mouse@{line}
@{line}
 Get the position of the pointer. This returns the both the position relative to the window and relative to the screen.@{line}
@{line}
'windowX windowY screenX screenY'@{line}
@{line}
Get="hexvalue"@{line}
@{line}
 This special modify command lets you read a value associated with a gadget The pipe replies with 'ok value' when successful, a blank line if it fails.@{line}
@{line}
 example 'id 3 get xxxxxxxx'@{line}
@{line}
 This reads the selected color in a palette gadget (whose GID is 3).@{line}
@{line}
Gadget interconnection modify@{line}
-----------------------------@{line}
@{line}
 This function may only be useful to programmers already familiar with interconnection who have registered CA documentation.@{line}
@{line}
Target="gadget_ID"  (tar=)@{line}
@{line}
 The gadget to be interconnected with.@{line}
@{line}
tags="tagsource|tagdest[|tagsource|tagdest..]|0@{line}
@{line}
 The list of tags for interconnection in HEX. Tags must be in pairs, and do not forget the trailing null!@{line}
@{line}
 example. 'id 3 target 2  tags="5001005|5001005|0" '@{line}
@{line}
 Selections made on chooser gadget 3 are connected to chooser gadget 2.@{line}
@{line}
@{line}
Modify Control instructions@{line}
----------------------------@{line}
@{line}
 Some modify commands do not actually modify any gadgets.@{line}
@{line}
pointer@{line}
@{line}
 Set the pointer for the window, if pointerdata is not specified set the pointer to default pointer. I pointer data is given see below.@{line}
@{line}
pointerdata="height|width|hotx|hoty|data1|data2|..."  (pd=)@{line}
@{line}
 Pointer data is the definition for a pointer. For more information see the intuition call SetPointer(). Pointerdata="" is a special case setting the pointer to a null (invisible) pointer.@{line}
@{line}
specialchar="character" (sc=)@{line}
@{line}
 'Character' is a single character that replaces '|', in use as a separator inside parameters like chooserlabels, tags, penmapdata, ...@{line}
@{line}
 You should usually use this alone on a modify line, used inside modify commands like add node it will cause an extra 'ok' in the response line.@{line}
@{line}
Quiet  (q)@{line}
@{line}
 Tell the pipe not to reply to the modify commands. This is actually a toggle switch turning replies off and on. SOME modify commands are ALWAYS replied to. (addnode and getfile selected 0|1)@{line}
@{line}
refresh (ref)@{line}
@{line}
 Refresh the gadget referenced by GID. The refresh command can be combined with any other modify command and is always executed last. GID=0 will refresh the windows root layout, this is the best way to refresh all gadgets.@{line}
@{line}
 Refresh without a GID specified will refresh the entire window, usually it is better to refresh the root class as described above.@{line}
@{line}
close@{line}
@{line}
 Close the CA window. Dispose of window and end the pipe connection to the GUI host.@{line}
@{line}
tick=number@{line}
@{line}
 End the modify conversation, Reply with a tick event after number/100 seconds.@{line}
@{line}
Continue (con)@{line}
@{line}
 End the modify conversation.@{line}
@{line}
Modifyoff (m)@{line}
@{line}
 End the modify conversation AND turn modify off. (do not start any new modify conversations). Note there will be no way to turn modify back on.@{line}
@{line}
Beep=num@{line}
@{line}
 Beep the display. If num =0 beep all screens , else beep the GUI's screen.@{line}
@{line}
@{line}
Bubble Help@{line}
------------@{line}
@{line}
Help="num"@{line}
@{line}
 If num =0 turn help events off, if num!=0 then turn help events on.@{line}
@{line}
 Each GUI can only show one bubble help window at a time.@{line}
@{line}
bubble top=numx left=numy gt="Help Text"@{line}
@{line}
 This opens a bubble showing the help text. Top and left are mouse location for the help (as sent to you in the help event you are responding to). Any previous help window will be closed.@{line}
@{line}
 'bubble' sent with no parameters will close the bubble with out opening a new one.@{line}
@{line}
Image Functions@{line}
----------------@{line}
@{line}
FreeImage="num"  fi=@{line}
@{line}
 if num=-1 Dispose of a previously defined image without using it. Else free the root bitmap image in buffer num. Be careful not to do this while images still exist that reference this root bitmap.@{line}
@{line}
Draw="num" top="num" left="num" [target=GID][nozz][noclip]@{line}
@{line}
 Draw an image into the gui. Num is the number of the predefined image to be drawn. You MUST set 'top' and 'left' and can also set@{line}
@{line}
target=GID@{line}
@{line}
 Reference (clip & offset) drawing to inside the object specified by GID. If target is not given drawing is refrenced to inside the borders of the GUI.@{line}
@{line}
 nozz@{line}
@{line}
 Make top and left relative to the whole window rather than the inner panel or specified target.@{line}
@{line}
noclip@{line}
@{line}
 Allow images to overwrite the entire window, borders and all.@{line}
@{line}
 The image number relates to images you have created but not used in your GUI.@{line}
 For example...@{line}
@{line}
 You create an image 'bitmap fn="cat.gif"'  it is image 0.@{line}
 You create another image 'bitmap fn="dog.gif"' it is image 1.@{line}
 You create another image 'bitmap fn="bird.gif"' it is image 2.@{line}
@{line}
 You create a BUTTON using the last image created 'button useimage', the@{line}
 button used the bird image so it is no longer in the image list.@{line}
@{line}
 You create another image 'bitmap fn="frog.gif"' it is image 2.@{line}
@{line}
 You now have 3 images available to draw@{line}
@{line}
 0 cat@{line}
 1 dog@{line}
 2 frog@{line}
@{line}
 Drawing images DOES NOT remove images from the image list. Incorporating images directly in your GUI DOES remove images from the image list. The image number is NOT related to the buffer number in the bitmap image parameters.@{line}
@{line}
@{line}
GID 0@{line}
-------@{line}
@{line}
GID 0 is used to specify the GUI window itself. It can be used to control certain aspects of the window. (see window docs)@{line}
@{line}
Defining new gadgets during modify@{line}
------------------------------------@{line}
@{line}
define@{line}
@{line}
 This causes the current line to be used as a Gadget definition statement rather than modify. You can add or replace gadgets in the already opened window. You may need to send a refresh modify command to make the changes visible.@{line}
@{line}
replace="GID"@{line}
@{line}
 The newly defined gadget replaces the existing gadget specified by GID. The pipe tries to free the resources used by the previous gadget right away, but some memory is not freed until the pipe is closed.@{line}
@{line}
 WHEN USING REPLACE DO NOT ASSUME WHAT THE RESULTING GID OF THE NEW GADGET WILL BE. The usual sequence of allocated gadget ID's is not followed. Replacing a layout group frees all gadgets in the group as well as the layout itself. Replacing a listbrowser frees its nodes.@{line}
@{line}
 You MUST keep track and not try to access gadgets that no longer exist.@{line}
@{line}
 It may be better to close the window and open a new one rather than using replace or define. On the other hand some pretty neat thing can be done using define and replace. ;-D@{line}
@{line}
@{line}
@endnode
@node 4.5 "4.5 GUI Tutorial"
@toc 4
@{line}
4.5 GUI Tutorial@{line}
----------------@{line}
@{line}
 @{" 4.5.1 " LINK 4.5.1} Design@{line}
 @{" 4.5.2 " LINK 4.5.2} Operation@{line}
 @{" 4.5.3 " LINK 4.5.3} Modification@{line}
 @{" 4.5.4 " LINK 4.5.4} Extras@{line}
 @{" 4.5.5 " LINK 4.5.5} Advanced@{line}
 @{" 4.5.6 " LINK 4.5.6} Tips@{line}
@endnode
@node 4.5.1 "4.5.1 Design"
@toc 4.5
@{line}
4.5.1 Design@{line}
------------@{line}
@{line}
 Working through these tutorials in order is the best way to learn to build GUI's with AWNPipe. A few minutes here will save you hours of development time later.@{line}
@{line}
 TUTORIAL 1@{line}
-----------@{line}
@{line}
Building GUIs can be VERY easy, This first tutorial will develop a simple GUI.@{line}
@{line}
Create a simple 4 line text file called first.gui. (You can use drag selection and Right-Amiga-C to copy text from these docs.)@{line}
@{line}
 title "My first GUI" defaultgadgets@{line}
 button gadgettext "YES"@{line}
 button gt "NO"@{line}
 open@{line}
@{line}
Now, in a shell, type 'copy first.gui awnpipe:/xc'.@{line}
@{line}
That was easy. You already guessed that gt was a short form for gadgettext.@{line}
@{line}
Now we want to see what events the GUI sends. We can direct the events to a con by adding 'wcon:' to the end of the pipe name. Try@{line}
@{line}
'copy first.gui awnpipe:/xcwcon:'@{line}
@{line}
Look at the output in the con:. Notice that the pipe replies to each line of the definition file, as well as sending events.@{line}
@{line}
Now add a little text to the gui. We will also provide keyboard shortcuts for the gadgets.@{line}
@{line}
 title "My first GUI" defaultgadgets@{line}
 label  gt " Select YES or NO "@{line}
 button gadgettext "_YES"@{line}
 button gadgettext "_NO"@{line}
 open@{line}
@{line}
That worked, but it looks a little UGLY. Let's try a vertical layout instead of the default horizontal layout.@{line}
@{line}
 title "My first GUI" defaultgadgets  vertical@{line}
 label  gt " Select YES or NO "@{line}
 button gadgettext "_YES"@{line}
 button gadgettext "_NO"@{line}
 open@{line}
@{line}
The GUI is starting to look better, but we really want the two gadgets side-by-side. To do that, we will use a layout group. ("le" is short for "layout end".)@{line}
@{line}
 title "My first GUI" defaultgadgets  vertical@{line}
 label  gt " Select YES or NO "@{line}
 layout@{line}
 button gadgettext "_YES"@{line}
 button gadgettext "_NO"@{line}
 le@{line}
 open@{line}
@{line}
That is much better! The GUI looks good, but it would be nicer if the window closed after the user selected yes or no. (You should also notice that the layout received a GID number, so yes and no are now gadget 2 and 3.)@{line}
@{line}
 title "My first GUI" defaultgadgets  vertical@{line}
 label  gt " Select YES or NO "@{line}
 layout@{line}
 button gadgettext "_YES" close@{line}
 button gadgettext "_NO" c@{line}
 le@{line}
 open@{line}
@{line}
It's done and it might even be useful.@{line}
@{line}
Since we have a working GUI, let's use it to see a few other types of events the GUI can generate.@{line}
@{line}
 title "My first GUI" defaultgadgets  vertical  sendkeys sendqual help state@{line}
 label  gt " Select YES or NO "@{line}
 layout@{line}
 button gadgettext "_YES" close@{line}
 button gadgettext "_NO" c@{line}
 le@{line}
 open@{line}
@{line}
Activate and deactivate the window. Hold the mouse over each gadget. Type a few keys. Try the shift, alt etc.@{line}
@{line}
@{line}
@endnode
@node 4.5.2 "4.5.2 Operation"
@toc 4.5
@{line}
4.5.2 Operation@{line}
---------------@{line}
@{line}
This tutorial has two versions, Arexx and 'C'. The 'C' tutorial is after the Arexx one.@{line}
@{line}
Before reading further, take a moment to run the tutorial so you understand what the program does.@{line}
@{line}
TUTORIAL 2 ARexx@{line}
----------------@{line}
@{line}
 Now that we know how to designed a GUI we want to be able to operate one. To follow this example you need a basic knowledge of ARexx. Have a look at the file Tutorial2.rx in the demos drawer.@{line}
@{line}
 The program flow is straight forward. 3 simple steps.@{line}
@{line}
1. Default values are set. These are the values of the gadgets when the GUI opens.@{line}
@{line}
2. A routine (buildgui) is called to write the GUI definition to the pipe. (More on this routine later)@{line}
@{line}
3. Events are read from the pipe and processed until the stream of events ends.@{line}
@{line}
BUILDGUI@{line}
@{line}
 The 'buildgui' routine contains the information defining the GUI window and its gadgets. The data is sent line by line to the 'topipe' routine which sends the data to the pipe, checks for errors, and returns the GID returned by the pipe. (more on 'topipe' later.)@{line}
@{line}
 For most lines sent with 'topipe' the response is ignored. For gadget definitions however the return value is stored so we can identify gadget events later on.@{line}
@{line}
TOPIPE@{line}
@{line}
 This routine takes a line of text and writes it to the pipe. The pipes response is read. If everything is ok the second parameter of the response is returned. This is the GID if a gadget is defined and a null string in most other cases. If an error occurs the problem line is output and the script exits.@{line}
@{line}
 You should use this routine or one like it when writing your own script for AWNPipe. It will help avoid common errors and make debugging much easier.@{line}
@{line}
EVENT HANDLING@{line}
@{line}
 The main loop reads an event from the pipe and parses it into its parts. The first word of an event always tells the event type. This information is used to call a routine for that type of event.@{line}
@{line}
CLOSE EVENT@{line}
@{line}
If a close event is received write a little text and then exit the script.@{line}
@{line}
GADGET EVENT@{line}
@{line}
 We check the second word of the event to see which gadget sent the event. For most gadgets we store event information and return. If the cancel gadget is the cause of the event we output some text and exit. If it was the done gadget we output the information for each gadget and exit. If it was the reset gadget we close the pipe, then create the gui again to restore the default values.@{line}
@{line}
MENU EVENT@{line}
@{line}
 The second word of a menu event is the menu number, the third word id the item number, and the forth the subitem number. This information is used to determine what action should be taken in response to an event.@{line}
@{line}
 Almost any GUI can be operated using this approach demonstrated in this tutorial. Use these functions as building blocks in your own scripts.@{line}
@{line}
TUTORIAL 2 in C@{line}
----------------@{line}
@{line}
The files tutorial2.c and tutorial2 can be found in in the demos drawer.@{line}
@{line}
 Now that we know how to designed a GUI we want to be able to operate one. To follow this example you need a basic knowledge of 'C'. Have a look at the file Tutorial2.c in the demos drawer. We will examine each of the functions in detail since they will be useful building blocks for making other GUIs. There is only 1 interesting structure.@{line}
@{line}
struct GUIpipe myGP@{line}
@{line}
This structure is used to manage the GUI. It contains the GUIs file handle, error status,and read buffer. It as has storage for some useful data parsed from replies or events.@{line}
@{line}
 int main( int argc, char *argv[]);@{line}
@{line}
 The program flow is straight forward. Default values are set. We call a routine to build the GUI and operate the gui if we built it successfully. To operate the GUI we simply read events and react to them. Before we exit we make sure the GUIs filehandle is closed.@{line}
@{line}
 int getline(struct GUIpipe * GP);@{line}
@{line}
 We need to handle text one line at a time when operating the GUI. This routine reads the pipe making a sure a full line is available before returning. It will remove the previous line from the buffer first if there was one. We delimit the line with a null byte so we can use it as a string in other functions.@{line}
@{line}
 __stdargs int topipe(struct GUIpipe * GP, UBYTE * data,...)@{line}
@{line}
 Again and Again you will need to write a line to the pipe and read the response. This routine does that for you. It writes data to the pipe and then reads a reply from the pipe. The reply line is parsed, and an error is flagged if the first part of the reply is not 'ok'. We return the value of the second reply part if all is ok, return 0 if an error occurred.@{line}
@{line}
 topipe allows Printf like formatting of data written to the pipe (VFPrintf is used). The regular Printf formats are supported. This is not needed in this example but it will be very useful as we expand the program in the other tutorials.@{line}
@{line}
 int buildgui(struct GUIpipe * GP);@{line}
@{line}
 All the information that defines the GUI is contained in this function. It opens a filehandle on the AWNPipe device and returns an error if this fails. The window and gadget definitions are written to the pipe and the returned gadget ID's are stored. If all gadgets are created ok the window is opened. The final error status of the GUI is returned.@{line}
@{line}
int getevent(struct GUIpipe * GP);@{line}
@{line}
 This routine reads a line from the pipe and parses it storing information about the event. It returns the error status of the pipe.@{line}
@{line}
 int gadgets(struct GUIpipe * GP);@{line}
 int menu(struct GUIpipe * GP);@{line}
@{line}
 These routines look at the information parsed from the last event and take appropriate action depending which gadget or menu item was selected. Some times the gadget state information from the event is stored. Other times information is output to the user.@{line}
@{line}
 int gperror(struct GUIpipe * GP,int error);@{line}
@{line}
 When an error is detected while reading or writing to the pipe this routine is called. It sets the error status and alerts the user an error has occurred.@{line}
@{line}
 UBYTE * eventstr(struct GUIpipe * GP, int num);@{line}
@{line}
Some fields in events , like string gadget contents, can contain spaces. This functions returns a pointer to the 'num' word of the event. Since the line is delimited by a null you can treat this as a string pointer. If the 'num' word is not found NULL is returned. The pointer is only valid until the next call to getline(), getevent(), or topipe().@{line}
@{line}
 Almost any GUI can be operated using this approach demonstrated in this tutorial.@{line}
@endnode
@node 4.5.3 "4.5.3 Modification"
@toc 4.5
@{line}
4.5.3 Modification@{line}
------------------@{line}
@{line}
 Before reading this section take a moment and run tutorial 3, knowing what the GUI does will help in understanding the code behind it.@{line}
@{line}
This tutorial has two versions, Arexx and 'C'. The 'C' tutorial is after the Arexx one.@{line}
@{line}
TUTORIAL 3 AREXX@{line}
---------------@{line}
@{line}
 This tutorial deals with modifying a GUI after it has been opened. You should make sure you understand tutorial 2 before reading further.@{line}
@{line}
 Three new gadgets have added to the gui. The load and save gadgets on the lower left, and a get file gadget that you do not see. The getfile gadget is unattached (ua) so it is not displayed in the gui. More on the getfile gadget later.@{line}
@{line}
 The window definition line (in buildGUI:) has the modify option added to it. This means the pipe will look for modify commands after you fist open the window, and after each event is sent. Any number of modify commands can be written to the pipe, including 0 (none). After writing the modify commands 'continue' must be sent to the pipe to tell it to start sending events. After you get an event the pipe starts waiting for modify commands again.@{line}
@{line}
 Only two changes are made in the program flow.@{line}
@{line}
1.  After BUILDGUI is called to build and open the window we send a modify command to the pipe.@{line}
@{line}
topipe('id 'savegad' dis 1 ref')@{line}
@{line}
 The id specifies the save gadget, 'dis 1' disables it, and 'ref' refreshes it so the changes will show. (we want the save gadget disabled because the name gadget is empty at start up, and we need a name before we can save).@{line}
@{line}
2. In the mail loop a 'continue' is written to the pipe BEFORE we wait for an event. This tells to pipe to stop looking for modify commands and send an event.@{line}
@{line}
 After an event is read from the pipe it automatically starts looking for more modify events. This means that modify commands can be used immediately after receiving an event from the pipe.@{line}
@{line}
 RESETFORM@{line}
@{line}
 In tutorial 2 we had to close then open the GUI to reset its contents. With modify commands we can do this with the gui remaining open. The function resetform is near the end of tutorial3.rx.@{line}
@{line}
 This function sends a modify command for each of the gadgets resetting them to the default values. It also disables the save gadget.@{line}
@{line}
 SAVEFORM@{line}
@{line}
 This function is called when the user hits the save gadget. It writes the forms contents to a file in 't:'. The files name is the text from the name gadget with '.formdemo' appended to it. The save gadget is disabled unless the name gadget contains text. See the handling of namegad in the GADGET: routine.@{line}
@{line}
 LOADFORM@{line}
@{line}
 This function makes use of the unattached GETFILE gadget. A modify command is used to set the file name in the file requester, and to open the requester itself. The pattern used in the file requester was set when the gadget was created in the BUILDGUI routine.@{line}
@{line}
call writeln(ca,'id 'getfilegad' fn "t:" s 1')@{line}
@{line}
'fn "t:"' sets the file requester to the drawer T:. 's 1' opens the requester.@{line}
@{line}
 The return from the pipe to this modify command is read and parsed to get the file selected and to test if the user selected a file or aborted the requester. The reply from the pipe is ...@{line}
@{line}
SUCCESS ["filename"]@{line}
@{line}
 Success is 0 if the user aborts the file requester, non zero if a file is selected. The file name is always returned in quotes since multiple files can be selected in some situations. (but not this situation).@{line}
@{line}
 If the user selected a file, it is opened and the contents placed in the GUI. No error checking is done on the file in order to keep the tutorial clear and easy to understand.@{line}
@{line}
TUTORIAL 3 in C@{line}
---------------@{line}
@{line}
 This tutorial deals with modifying a GUI after it has been opened. You should make sure you understand tutorial 2 before reading further.@{line}
@{line}
  int buildgui(struct GUIpipe * GP);@{line}
@{line}
The window definition line (in buildgui()) has the modify option added to it. This means the pipe will look for modify commands after you fist open the window, and after each event is sent. Any number of modify commands can be written to the pipe, including 0 (none). After writing the modify commands 'continue' must be sent to the pipe to tell it to send an event. After you get an event the pipe starts waiting for modify commands again.@{line}
@{line}
 Three new gadgets have added to the gui. The load and save gadgets on the lower left, and a get file gadget that you do not see. The getfile gadget is unattached (ua) so it is not displayed in the gui. More on the getfile gadget later.@{line}
@{line}
 int main( int argc, char *argv[]);@{line}
@{line}
 Only two changes are made in the program flow.@{line}
@{line}
1.  After buildgui() is called to build and open the window we send a modify command to the pipe.@{line}
@{line}
     topipe(GP,"id %ld dis 1 ref\n",savegad);@{line}
@{line}
 The id specifies the save gadget, 'dis 1' disables it, and 'ref' refreshes it so the changes will show. (we want the save gadget disabled because the name gadget is empty at start up, and we need a name before we can save).@{line}
@{line}
2. In the main loop a 'continue' is written to the pipe BEFORE we wait for an event. This tells to pipe to stop looking for modify commands and send an event.@{line}
@{line}
 After an event is read from the pipe it automatically starts looking for more modify events. This means that modify commands can be used immediately after receiving an event from the pipe.@{line}
@{line}
 int gadgets(struct GUIpipe * GP);@{line}
@{line}
 The 'loadgad' and 'savegad' gadgets are recognised, and the handling of 'namegad' and 'resetgad' have changed.@{line}
@{line}
 In tutorial 2 we had to close then open the GUI to reset its contents. With modify commands we can do this with the gui remaining open. We set our default form information and call updategui().@{line}
@{line}
 Namegad enables or disables the savegad. If no name is set we can not generate a filename to save the information to.@{line}
@{line}
int updategui(struct GUIpipe * GP);@{line}
@{line}
 This routine updates the GUI to show the values we have stored internaly. A modify line is sent for each gadget. The function updateform is near the end of tutorial3.rx.@{line}
@{line}
 int saveform(VOID);@{line}
@{line}
 This function is called when the user hits the save gadget. It writes the forms contents to a file in 't:'. The files name is the text from the name gadget with '.formdemo' appended to it. The save gadget is disabled unless the name gadget contains text. See the handling of namegad in the gadget() routine.@{line}
@{line}
 int loadform(struct GUIpipe * GP);@{line}
@{line}
 This function makes use of the unattached GETFILE gadget. A modify command is used to set the file name in the file requester, and to open the requester itself. The pattern used in the file requester was set when the gadget was created in the BUILDGUI routine.@{line}
@{line}
   FPrintf(GP->file,"id %ld fn \"t:\" s 1\n",getfilegad);@{line}
   if (getevent(GP)) return(1);@{line}
@{line}
@{line}
'fn "t:"' sets the file requester to the drawer T:. 's 1' opens the requester.@{line}
@{line}
 The return from the pipe to this modify command is read and parsed as an event since it does not return the usual 'ok'. The reply from the pipe is ...@{line}
@{line}
SUCCESS ["filename"]@{line}
@{line}
 Success is 0 if the user aborts the file requester, non zero if a file is selected. The file name is always returned in quotes since multiple files can be selected in some situations. (but not this situation).@{line}
@{line}
 If the user selected a file, it is opened and the contents parsed into out internal form information. Then updategui() is called.. No error checking is done on the file in order to keep the tutorial clear and easy to follow.@{line}
@{line}
@{line}
 __stdargs int topipe(struct GUIpipe * GP, UBYTE * data,...);@{line}
 int getline(struct GUIpipe * GP);@{line}
 int gperror(struct GUIpipe * GP,int error);@{line}
 int getevent(struct GUIpipe * GP);@{line}
 int menu(struct GUIpipe * GP);@{line}
 UBYTE * eventstr(struct GUIpipe * GP, int num);@{line}
 VOID setdefaults(VOID);@{line}
@{line}
 These routines have not been changed from Tutorial 2.@{line}
@{line}
@endnode
@node 4.5.4 "4.5.4 Extras"
@toc 4.5
@{line}
4.5.4 Extras@{line}
------------@{line}
@{line}
 If you have read the first three tutorials, but not tried building a GUI of your own, you should try writing a simple gui of your own before reading further. Tutorial 4 will be simpler to understand once you have gained a little experience with AWNP.@{line}
@{line}
 Before reading this section take a moment and run tutorial 4, knowing what the GUI does will help in understanding the code behind it.@{line}
@{line}
 Although Tutorial 4 is available in 'C' or Arexx the discussion is kept general and it applies to both.@{line}
@{line}
TUTORIAL 4@{line}
-----------@{line}
@{line}
 This tutorial deals with adding some of the finishing touches to AWNP GUI's. You should make sure you understand tutorial 3 before reading further.@{line}
@{line}
 A few simple changes are made in the GUI. It has an iconify gadget and can be resized. This is done by adding 'ig' iconfygadget, 'sg' sizegadget and 'ii' iconimage. 'ii' specifys the file (without the .info) whose icon is used when iconfying the GUI, it can be omitted and default icon will be displayed. The 'fh' fixheight limits the sizing gadget to changing the GUI's width.@{line}
@{line}
 Another change has been made in the GUI, it is set as an app window 'app'.Now when an icon is dropped on the gui (or its iconified image) an event is generated passing the file name of the icon that was dropped. The event is 'app path:filename'.@{line}
@{line}
 We respond to the app event by uniconifying the GUI (if necessary) and loading the file that was dropped. Try saving some info then dropping the icon of the saved info on the GUI.@{line}
@{line}
 The iconify gadget also produces a special event. 'iconify MODE' where MODE=1 means the user wants to iconify the GUI, and 0 means it should be uniconified. A simple modify line does this.@{line}
@{line}
'id 0 s 32' to iconify@{line}
'id 0 s 64' to uniconify@{line}
@{line}
 The menu now has options to snapshot the window. The windows size and location are read with@{line}
@{line}
'id 0 read' the pipe responds with@{line}
'TOP LEFT WIDTH HEIGHT'   not with 'ok'@{line}
@{line}
 The information is stored in ENV(ARC): . Before the GUI is opened we check for the information and use it in the window definition line if its available.@{line}
@{line}
 The about item in the menu now opens a separate GUI. It is a simple window with no gadgets just a label used to display some text. Although the routine used to build the about GUI is trivial it has an interesting ability. It can be made to close automatically after a specific delay.@{line}
@{line}
 A gui window will close automatically if it tries to read a modify command and you have already closed your end of the pipe. We open the GUI then send a 'tick' modify command to the pipe. This works like 'continue' except the pipe will send back our tick as an event weather the user hits a gadget or not. After sending us the tick event back AWNP tries to read a modify command and THEN discovers we have closed the pipe. If the delay is set as 0 we simply turn modify off and the GUI waits until the close gadget is hit.@{line}
@{line}
 The data menu items now display information the same way the about requester does.@{line}
@{line}
@{line}
@endnode
@node 4.5.5 "4.5.5 Advanced"
@toc 4.5
@{line}
4.5.5 Advanced@{line}
--------------@{line}
@{line}
 Tutorial 5 adds new functions, Bubble Help, an arexx host, tooltypes and commodity. Although they are advanced features by now it should be easy for you to follow the logic. They work in very similar ways to the other objects you have learned to deal with. Adding these sort of features to your own GUI's will help make them Quality programs.@{line}
@{line}
 Before reading this section take a moment and run tutorial 5, knowing what the GUI does will help in understanding the code behind it.@{line}
@{line}
 Tutorial 5 is only available in Arexx for now, the discussion is kept general and it applies to both 'C' and ARexx.@{line}
@{line}
TUTORIAL 5@{line}
-----------@{line}
@{line}
 Most users only scan documentation at best. To allow users to quickly understand your programs Bubble help is very useful.@{line}
@{line}
 A few simple changes are made in the window definition. It now tells the GUI to send help and window activation events.This is done by adding 'help' and 'state' keywords.@{line}
@{line}
 A menu option has been added to turn the help bubbles on or off.@{line}
@{line}
 A change has been made in the main loop, we send 'tick 50' rather than continue when we want to get an event from the pipe. Like continue this ends the modify command part of the conversation and tells the GUI to send us an event. It also forces the GUI to send us a 'tick' event after 50/100 of a second. We use these tick events to delay the displaying of help bubbles.@{line}
@{line}
 Tick events have other uses, like returning control back to your code after a set delay so it does not wait forever for an event. For now we will just look at the help delay.@{line}
@{line}
 Each time an event is read in the main loop we check a delay counter. If the counter counts down to 0 we open a help bubble (using some previously stored information). The HELPX and HELPY are used to determine a position for the bubble and MUST be given.@{line}
@{line}
'bubble top HELPX left HELPY gt "HELP TEXT"'@{line}
@{line}
 We also must handle new events, help, arexx, cx and active.@{line}
@{line}
 We respond to the help event by calling the bubble routine. This routine checks to see if the help event is the same as the last one. If yes we do nothing. If it changed we close the old help window, if we had one, by sending a bubble modify command with no parameters.@{line}
@{line}
'bubble'@{line}
@{line}
 If the event was gadget 0 or -1 we have nothing more to do since they represent the mouse not being over a valid gadget. If the gadget number is valid we store the mouse position that is returned in the help event and the gadget number. We start the delay counter and return.@{line}
@{line}
 If we receive any activation event, or iconify the gui, we call bubble(0) to close any open bubble help. This needed in case our window becomes inactive due to another window being opened.@{line}
@{line}
 An arexx host has been added to the GUI. The ARexx host name is 'TUTORIAL5'. This allows a few things.@{line}
@{line}
 topipe(' arexx gt "TUTORIAL5|age|sex|knowledge|front|quit"')@{line}
@{line}
 If upon startup the host already exists we know tutorial 5 is already running so the already running gui and brought to front rather than a second occurrence of tutorial 5 being opened.@{line}
@{line}
 The following arexx commands are supported.@{line}
@{line}
 front -bring the window to front.@{line}
 quit  -quit tutorial5@{line}
 age [#]  -read or set the age@{line}
 sex [#]  -read or set the sex@{line}
 knowledge [#] -read or set knowledge@{line}
 (See the rxhst: routine)@{line}
@{line}
 Tutorial 5 is also a commodity.@{line}
@{line}
topipe('commodity cxname Demo5 cxtitle="AWNPipe demo 5" cxdesc="Disable Enable ignored..." cxhotkey="ctrl alt 5"')@{line}
@{line}
It supports a hotkey (ctrl alt 5), show or hide the gui, and remove. Enable/disable are ignored as they make no sense in the context of Tutorial 5 ...@{line}
(See the commodity: routine)@{line}
@{line}
TOOLTYPES@{line}
@{line}
 Tooltype reading is actually not part of the AWNPipe GUI host, its a completely different host inside AWNPipe. Since tooltypes are desirable for almost all programs it has been added to this tutorial. You find the function simple to use.@{line}
@{line}
Reading tooltypes@{line}
@{line}
 The tooltypes are read by a function called tooltypes:. First the path to our program is found using 'parse source'. Then a special pipe is opened 'awnpipe:name/xtPATH:PROGRAM'. A line containing the tooltype we wish to check is written to this pipe. If the tool type is found we will read back from the pipe 'ok VALUE' where VALUE is the value associated with the tool type we asked for. If the tooltype is not found we read back a <cr> (empty line).@{line}
@{line}
 When all the tooltypes have been checked we simply close the pipe connection to the tooltype host.@{line}
@{line}
 In tutorial5 the windows size/position and bubble help setting are now kept as a tooltype.@{line}
@{line}
There are also tooltypes to preset the age, knowledge, sex and name. You can force the window to iconify after opening with the iconify tooltype.@{line}
@{line}
Writing tooltypes@{line}
@{line}
@endnode
@node 4.5.6 "4.5.6 Tips"
@toc 4.5
@{line}
4.5.6 Tips@{line}
----------@{line}
@{line}
 A few quick hints about building and debugging AWNP applications.@{line}
@{line}
Before writing an AWNP GUI application prototype the GUI with a simple text file (mygui). Use@{line}
'copy mygui awnpipe:pipename/xcwcon:'@{line}
@{line}
This speeds up testing of layout changes! Also note you can comment out lines in your file by starting them with ';'. Any line with a semicolon in the first position is ignored.@{line}
@{line}
--@{line}
@{line}
 NAME YOUR PIPES !@{line}
@{line}
 Rather than opening 'awnpipe:/xc' provide a unique name. Use 'awnpipe:PipeName/xc'.@{line}
@{line}
 A common problem when developing an AWNP application is to find the pipe conversation hangs. Usually this means your program is trying to read data from the pipe, and the pipe is trying to read data from your application. (a read is pending on both ends of the pipe).@{line}
@{line}
 This can be cleared by issuing a simple shell command.@{line}
@{line}
'echo >awnpipe:PipeName/a'@{line}
@{line}
 Both reads are aborted and AWNP usually notices a problem and exits cleanly.@{line}
@{line}
--@{line}
@{line}
 Some times it will be useful to trace the conversation your program has with AWNP. Again this can be done with a simple shell command.@{line}
@{line}
'type awnpipe:PipeName/t/i'@{line}
@{line}
 All data passing either way through the pipe will be output. When your program exits the type command will return. ( this is not limited to to GUI applications. It works for ALL awnp connections!)@{line}
@{line}
 You can also use@{line}
@{line}
'copy awnpipe:PipeName/t/i mylogfile'@{line}
@{line}
 This saves the conversation to the logfile of course.@{line}
@{line}
 You can use both at the same time, in fact you can 'twin' the data stream as many times as you like.@{line}
@{line}
 Some times during testing you might create a GUI with no close gadget, you can usually close ANY GUI with 'control backslash' like you can with a con:.@{line}
@{line}
--@{line}
@{line}
 In general you can not assume that you can modify all the parameters you can define for objects. Also in some cases the parameter names or usage may be different in the modify command when compared to the definition line.@{line}
@endnode
@node 5 "5 Demos"
@{line}
5 Demos@{line}
-------@{line}
@{line}
 Several GUIs of example gadgets can be viewed by running the Gadgets# in the demos drawer inside AWNP-Docs. To generate these GUIs a simple text file is being copied to a GUI generating pipe. The 'wcon:300//200/200/PipeEvents' at the end of the pipe name simply sends the output of the pipe to a con so you can see what is going on.@{line}
@{line}
 Some example scripts using pipe generated GUIs are also in the demo drawer. These demos are mostly ARexx or ADOS scripts. Load them in your text editor and take a look at them. I think you will find they are very simple script considering the powerful GUIs they create. Reading the comments in the scripts should help you when learning to build and operate your own AWNPipe GUIs.@{line}
@{line}
---@{line}
@{line}
 CAList is an ADOS script. It is graphical wrapper for the standard list command. It is a VERY simple script. Put it in 'C:' with its script bit set if you like it enough to make regular use of it. Use 'calist ?' to get a usage display.@{line}
@{line}
 This script gives a good example of how to build a simple gui. It shows how much can be accomplished  in a short script.@{line}
@{line}
---@{line}
@{line}
 Form is an ADOS script that displays a form. Use 'execute Form' or set the script bit for the file and simply type 'form'.@{line}
@{line}
 This gui is truly interactive and requires the name to be set before the form is accepted. It allows resting of the form and knows when the user aborts.Its rather extreme for an ADOS script but is included to show you just how much can be accomplished with ADOS and AWNPipe working together. ADOS wizards may find the handling of the event file and environment variables interesting.@{line}
@{line}
---@{line}
@{line}
 Fonttoy is an ADOS script to play with fonts. Use 'execute FontToy' or set the script bit for the file and simply type 'fonttoy'.@{line}
@{line}
 This script creates a very simple gui. However it uses gadget interconnection to do some magic that only experienced GUI developers are likely to understand. It also uses numerical tag values, you will likely never do this. Note that numerical tags CAN be used with defining AWNPipe GUIs and this means you will be able to access new CA/Reaction features as they come out without changes to AWNPipe.@{line}
@{line}
---@{line}
@{line}
 Dict-thesar.rx is an arexx script. It is run from its icon or shell. words are search in the Merriam Webster site so you must be online. The menu will start and control miami if you have it installed. Bubble help is provided and it is simple to use so no real docs are needed.@{line}
@{line}
You should find this tool useful enough to keep installed on your system.@{line}
@{line}
---@{line}
@{line}
 xo.rx is an arexx script. Use 'rx xo.rx' to run it. You must 'cd' into the demo drawer first so it can find its image file (xo.gif). It does not play against you so you must  play both sides of the game. (click in the squares).@{line}
@{line}
 It changes the button images in a operating GUI. It shows how to create multiple images from a single source image. It also lets you see how to modify a gui after it has been opened. An additional gadget is even added to the GUI after it has been opened. Take a look at xo.gif in an image viewer, you may be surprised to see how small the image is.@{line}
@{line}
@{line}
---@{line}
@{line}
 DropBox.rx can be run from its icon or by typing 'rx dropbox.rx' in a shell. Looking at the tooltypes of Drop box should help you understand what is going on. You set tooltypes to tell the program what to do with files or drawers that are dropped on it. I hope it is something you will keep around and be able to make use of. With a little modification it could be very powerful indeed.@{line}
@{line}
 The gui is so simple it almost unbelievable, however it is an app window. That makes it very special. The script also makes heavy use of AWNPipes ability to do pattern matching. Finally the script will also teach you how to read tooltypes using AWNPipe.@{line}
@{line}
Possible tool types.@{line}
@{line}
pat (pattern)=YourCommandText@{line}
@{line}
This tells dropbox  to execute your command for any files that match the pattern you have set. '%f' in the command is replaced by the name of the file that was dropped on dropbox.@{line}
@{line}
pat (pattern)=drawer@{line}
@{line}
Tells DropBox to use its default drawer handling for that pattern.@{line}
@{line}
pat (pattern)=image@{line}
@{line}
Tells DropBox to use its default image handling for that pattern.@{line}
@{line}
pat (pattern)=text@{line}
@{line}
Tells DropBox to use its default text handling for that pattern.@{line}
@{line}
bin BinaryPattern=YourCommandText@{line}
@{line}
This tells dropbox  to execute your command for any files whose first 12 bytes match the binarypattern you have set. '?' is the only wildcard allowed in the BinaryPattern. '%f' in the command is replaced by the name of the file that was dropped on dropbox. iconify@{line}
@{line}
A tooltype of 'iconify' tells DropBox to iconify itself as soon as it is run. You can still drop files on the iconified window to have dropbox process them.@{line}
@{line}
multi@{line}
@{line}
A tooltype of 'multi' tells DropBox to allow files dropped on it to have more than one command run for them. The default is for dropbox only to only respond once to each file dropped.@{line}
@{line}
---@{line}
@{line}
 The first real projects to use AWNPipe GUIs were some aweb utilities.@{line}
@{line}
CacheControl.awebrx allows you to micro manage AWebs caching of websites.@{line}
@{line}
Put the script and CacheControl_doc.html in AWeb3:plugins, it may be called directly from the ARexx menu or from an AWeb button.@{line}
@{line}
GUI Button@{line}
name            CCtrl@{line}
command         run awebpath:plugins/cachecontrol.awebrx@{line}
@{line}
ARexx Menu@{line}
title           CacheControl@{line}
macro           awebpath:plugins/cachecontrol.awebrx@{line}
@{line}
---@{line}
@{line}
AWebModes.awebrx allows you to easily control many of AWebs settings. Gabriele Favrin has kindly allowed a version of it to be included here. Put the script and AWebModes_Doc.html in AWeb3:plugins, it may be called directly from the ARexx menu or from an AWeb button.@{line}
@{line}
GUI Button@{line}
name            Modes@{line}
command         run awebpath:plugins/AwebModes.awebrx@{line}
@{line}
ARexx Menu@{line}
title           AWebModes@{line}
macro           awebpath:plugins/AWebModes.awebrx@{line}
@{line}
---@{line}
@{line}
DropZone.awebrx opens an appwindow on WB so you can drag and drop files to be displayed in AWeb, even while aweb is on its own screen. Put the script and DropZone_Doc.html in AWeb3:plugins. It may be called directly from the ARexx menu or from an AWeb button.@{line}
@{line}
GUI Button@{line}
name            DZone@{line}
command         run awebpath:plugins/DropZone.awebrx@{line}
@{line}
ARexx Menu@{line}
title           ChangeModes@{line}
macro           awebpath:plugins/DropZone.awebrx@{line}
@{line}
@endnode
@node AWNP_INDEX "AWNPipe Index"
@{line}
AWNPipe - Index@{line}
===============@{line}
@{line}
 @{" 1 " LINK 1} About@{line}
 @{" 2 " LINK 2} Read First@{line}
 @{" 3 " LINK 3} Pipe Functions@{line}
     @{" 3.1 " LINK 3.1} Overview@{line}
     @{" 3.2 " LINK 3.2} Conversion@{line}
     @{" 3.3 " LINK 3.3} Paths@{line}
     @{" 3.4 " LINK 3.4} Internal@{line}
     @{" 3.5 " LINK 3.5} Extensions@{line}
     @{" 3.6 " LINK 3.6} Tutorials@{line}
           @{" 3.6.1 " LINK 3.6.1} Simple@{line}
           @{" 3.6.2 " LINK 3.6.2} Advanced@{line}
           @{" 3.6.3 " LINK 3.6.3} Tricks@{line}
 @{" 4 " LINK 4} GUI Creation@{line}
     @{" 4.1 " LINK 4.1} Conversation@{line}
           @{" 4.1.1 " LINK 4.1.1} Basic@{line}
           @{" 4.1.2 " LINK 4.1.2} Step by Step@{line}
           @{" 4.1.3 " LINK 4.1.3} Details@{line}
     @{" 4.2 " LINK 4.2} Objects@{line}
           @{" 4.2.1 " LINK 4.2.1} Window@{line}
           @{" 4.2.2 " LINK 4.2.2} Simple Gadgets@{line}
                   @{" 4.2.2.1 " LINK 4.2.2.1} Button@{line}
                   @{" 4.2.2.2 " LINK 4.2.2.2} Integer@{line}
                   @{" 4.2.2.3 " LINK 4.2.2.3} String@{line}
                   @{" 4.2.2.4 " LINK 4.2.2.4} CheckBox@{line}
                   @{" 4.2.2.5 " LINK 4.2.2.5} Chooser@{line}
                   @{" 4.2.2.6 " LINK 4.2.2.6} RadioButton@{line}
           @{" 4.2.3 " LINK 4.2.3} Images@{line}
                   @{" 4.2.3.1 " LINK 4.2.3.1} Label@{line}
                   @{" 4.2.3.2 " LINK 4.2.3.2} Glyph@{line}
                   @{" 4.2.3.3 " LINK 4.2.3.3} DrawList@{line}
                   @{" 4.2.3.4 " LINK 4.2.3.4} PenMap@{line}
                   @{" 4.2.3.5 " LINK 4.2.3.5} Bitmap@{line}
                   @{" 4.2.3.6 " LINK 4.2.3.6} Image@{line}
                   @{" 4.2.3.7 " LINK 4.2.3.7} Space@{line}
           @{" 4.2.4 " LINK 4.2.4} Special@{line}
                   @{" 4.2.4.1 " LINK 4.2.4.1} Layout(End)@{line}
                   @{" 4.2.4.2 " LINK 4.2.4.2} ClickTab@{line}
                   @{" 4.2.4.3 " LINK 4.2.4.3} TextAttr@{line}
                   @{" 4.2.4.4 " LINK 4.2.4.4} BrowserNode@{line}
                   @{" 4.2.4.5 " LINK 4.2.4.5} Menu@{line}
                   @{" 4.2.4.6 " LINK 4.2.4.6} Arexx@{line}
           @{" 4.2.5 " LINK 4.2.5} Fancy@{line}
                   @{" 4.2.5.1 " LINK 4.2.5.1} GetFile@{line}
                   @{" 4.2.5.2 " LINK 4.2.5.2} GetFont@{line}
                   @{" 4.2.5.3 " LINK 4.2.5.3} TextEditor@{line}
                   @{" 4.2.5.4 " LINK 4.2.5.4} TextFeild@{line}
                   @{" 4.2.5.5 " LINK 4.2.5.5} ListBrowser@{line}
                   @{" 4.2.5.6 " LINK 4.2.5.6} Palette@{line}
           @{" 4.2.6 " LINK 4.2.6} More@{line}
                   @{" 4.2.6.1 " LINK 4.2.6.1} Fuelgauge@{line}
                   @{" 4.2.6.2 " LINK 4.2.6.2} Scroller@{line}
                   @{" 4.2.6.3 " LINK 4.2.6.3} Slider@{line}
                   @{" 4.2.6.4 " LINK 4.2.6.4} WeightBar@{line}
                   @{" 4.2.6.5 " LINK 4.2.6.5} Commodity@{line}
                   @{" 4.2.6.6 " LINK 4.2.6.6} Sound@{line}
     @{" 4.3 " LINK 4.3} Events@{line}
     @{" 4.4 " LINK 4.4} Modify@{line}
     @{" 4.5 " LINK 4.5} GUI Tutorial@{line}
           @{" 4.5.1 " LINK 4.5.1} Design@{line}
           @{" 4.5.2 " LINK 4.5.2} Operation@{line}
           @{" 4.5.3 " LINK 4.5.3} Modification@{line}
           @{" 4.5.4 " LINK 4.5.4} Extras@{line}
           @{" 4.5.5 " LINK 4.5.5} Advanced@{line}
           @{" 4.5.6 " LINK 4.5.6} Tips@{line}
 @{" 5 " LINK 5} Demos@{line}
@endnode
