TABLE OF CONTENTS

nathread.a/---background---
nathread.a/nathread_init
nathread.a/nathread_exit
nathread.a/nathread_thread_init
nathread.a/nathread_thread_inittaglist
nathread.a/nathread_thread_exit
nathread.a/nathread_thread_join
nathread.a/nathread_thread_setpriority
nathread.a/nathread_mutex_init
nathread.a/nathread_mutex_exit
nathread.a/nathread_mutex_lock
nathread.a/nathread_mutex_trylock
nathread.a/nathread_mutex_unlock
nathread.a/nathread_cond_init
nathread.a/nathread_cond_exit
nathread.a/nathread_cond_wait
nathread.a/nathread_cond_signal
nathread.a/nathread_cond_broadcast

nathread.a/---background---                      nathread.a/---background---

   Background
   ----------
   If you don't know what threads, mutexes and conditions are, please read
   the GNU Pth manual first.

nathread.a/nathread_init                            nathread.a/nathread_init

   NAME
   nathread_init - Initialize the library

   SYNOPSIS
   int nathread_init(void);

   FUNCTION
   Initializes the library. It has to be the first API function call in an
   application, and is mandatory. It's usually done at the begin of the
   main() function of the application.

   INPUTS
   none

   RESULT
   0 for success, not 0 for an error.

nathread.a/nathread_exit                            nathread.a/nathread_exit

   NAME
   nathread_init - Kill the library

   SYNOPSIS
   int nathread_exit(void);

   FUNCTION
   Kill the library. It should be the last API function call in an
   application. It's usually done at the end of the main function of the
   application. At least, it has to be called from within the main thread.

   INPUTS
   none

   RESULT
   0 for success, not 0 for an error.

nathread.a/nathread_thread_init              nathread.a/nathread_thread_init

   NAME
   nathread_thread_init - Spawn a new thread

   SYNOPSIS
   int nathread_thread_init(nathread_thread_t *thread, struct TagItem *tags);

   FUNCTION
   Spawns a new thread with the attributes given in the taglist.

   INPUTS
   thread  - Pointer to a empty nathread_thread_t variable.
   tags    - Pointer to an array of TagItem structurres, terminated by the
             value TAG_END. Valid tags are:

             NATHREAD_ENTRY     - Function to execute, Mandatory
             NATHREAD_NAME      - Name of the thread,
                                  defaults to "naThread [$<thread_addr>]",
                                  two or more same names are valid.
             NATHREAD_BASENAME  - Basename of the thread,
                                  defaults to "naThread [<NATHREAD_NAME>]".
             NATHREAD_PRIORITY  - Priority, defaults to 0.
             NATHREAD_STACKSIZE - Stacksize, defaults to 131072.
             NATHREAD_DATA      - First argument, defaults to NULL.
             NATHREAD_OPENBSD   - Open bsdsocket.library, defaults to FALSE.
                                  (needed by the VLC-port)

   RESULT
   0 for success, not 0 for an error.

nathread.a/nathread_thread_inittaglist nathread.a/nathread_thread_inittaglist

   NAME
   nathread_thread_inittaglist - Spawn a new thread

   SYNOPSIS
   int nathread_thread_inittaglist(nathread_thread_t *thread, ULONG ...);

   SEE ALSO
   nathread_thread_init

nathread.a/nathread_thread_exit              nathread.a/nathread_thread_exit

   NAME
   nathread_thread_exit - Exit a running thread

   SYNOPSIS
   int nathread_thread_exit(APTR value);

   FUNCTION
   Exits a running thread. Works like the Exit()-function.

   INPUTS
   value - The abort value or NULL.

   RESULT
   0 for success, not 0 for an error.

nathread.a/nathread_thread_join              nathread.a/nathread_thread_join

   NAME
   nathread_thread_join - Join a thread

   SYNOPSIS
   int nathread_thread_join(nathread_thread_t thread, APTR *value_ptr);

   FUNCTION
   Join a running thread and wait for it's completion.

   INPUTS
   thread    - Thread to join.
   value_ptr - Pointer to variable where the return value is placed or NULL.

   RESULT
   0 for success, not 0 for an error.

nathread.a/nathread_thread_setpriority nathread.a/nathread_thread_setpriority

   NAME
   nathread_thread_setpriority - Set a thread priority

   SYNOPSIS
   int nathread_thread_setpriority(nathread_thread_t thread, int pri);

   FUNCTION
   Set the thread priority.

   INPUTS
   thread - Thread to set the priority.
   pri    - Priority to set, from -128 to 127.

   RESULT
   0 for success, not 0 for an error.

nathread.a/nathread_mutex_init                nathread.a/nathread_mutex_init

   NAME
   nathread_mutex_init - Initialize a mutex

   SYNOPSIS
   int nathread_mutex_init(nathread_mutex_t *mutexmutex);

   FUNCTION
   Allocates and initializes a new mutex. It must be called before any other
   use.

   INPUTS
   mutex - Pointer to a empty nathread_mutex_t variable.

   RESULT
   0 for success, not 0 for an error.

nathread.a/nathread_mutex_exit                nathread.a/nathread_mutex_exit

   NAME
   nathread_mutex_exit - Exit a mutex

   SYNOPSIS
   int nathread_mutex_exit(nathread_mutex_t *mutexmutex);

   FUNCTION
   Exit and deallocate a mutex.

   INPUTS
   mutex - Pointer to a mutex.

   RESULT
   0 for success, not 0 for an error.

nathread.a/nathread_mutex_lock                nathread.a/nathread_mutex_lock

   NAME
   nathread_mutex_lock - Lock a mutex

   SYNOPSIS
   int nathread_mutex_lock(nathread_mutex_t *mutex);

   FUNCTION
   Lock a mutex. The calling thread will wait unit the mutex is avail.

   INPUTS
   mutex - Pointer to a mutex.

   RESULT
   0 for success, not 0 for an error.

nathread.a/nathread_mutex_trylock          nathread.a/nathread_mutex_trylock

   NAME
   nathread_mutex_trylock - Try to lock a mutex

   SYNOPSIS
   int nathread_mutex_trylock(nathread_mutex_t *mutex);

   FUNCTION
   Try to lock a mutex. The calling thread will try to lock the mutex.
   If the mutex is currently locked by another thread, the funcion will
   return immediately.

   INPUTS
   mutex - Pointer to a mutex.

   RESULT
   0 for success, not 0 if currently locked.

nathread.a/nathread_mutex_unlock            nathread.a/nathread_mutex_unlock

   NAME
   nathread_mutex_unlock - Unlock a mutex

   SYNOPSIS
   int nathread_mutex_unlock(nathread_mutex_t *mutex);

   FUNCTION
   Unlock a mutex.

   INPUTS
   mutex - Pointer to a mutex.

   RESULT
   0 for success, not 0 for an error.

nathread.a/nathread_cond_init                  nathread.a/nathread_cond_init

   NAME
   nathread_cond_init - Initialize a condition

   SYNOPSIS
   int nathread_cond_init(nathread_cond_t *condcond);

   FUNCTION
   Allocates and initializes a new condition. It must be called before any
   other use.

   INPUTS
   cond - Pointer to a nathread_cond_t variable.

   RESULT
   0 for success, not 0 for an error.

nathread.a/nathread_cond_exit                  nathread.a/nathread_cond_exit

   NAME
   nathread_cond_exit - Exit a condition

   SYNOPSIS
   int nathread_cond_exit(nathread_cond_t *condcond);

   FUNCTION
   Exit and deallocate a condition.

   INPUTS
   cond - Pointer to a condition.

   RESULT
   0 for success, not 0 for an error.


nathread.a/nathread_cond_wait                  nathread.a/nathread_cond_wait

   NAME
   nathread_cond_wait - Wait for a condition

   SYNOPSIS
   int nathread_cond_wait(nathread_cond_t *cond, nathread_mutex_t *mutex);

   FUNCTION
   Wait for a condition.

   INPUTS
   cond  - Pointer to a condition.
   mutex - Pointer to a (locked) mutex.

   RESULT
   0 for success, not 0 for an error.


nathread.a/nathread_cond_signal              nathread.a/nathread_cond_signal

   NAME
   nathread_cond_signal - Signal a condition

   SYNOPSIS
   int nathread_cond_signal(nathread_cond_t *cond);

   FUNCTION
   Signal the first waiting thread of this condition.

   INPUTS
   cond - Pointer to a condition.

   RESULT
   0 for success, not 0 for an error.


nathread.a/nathread_cond_broadcast        nathread.a/nathread_cond_broadcast

   NAME
   nathread_cond_broadcast - Broadcast a condition

   SYNOPSIS
   int nathread_cond_broadcast(nathread_cond_t *cond);

   FUNCTION
   Signal all waiting threads of this condition.

   INPUTS
   cond - Pointer to a condition.

   RESULT
   0 for success, not 0 for an error.

