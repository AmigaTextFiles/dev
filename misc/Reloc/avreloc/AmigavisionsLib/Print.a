********************************************************************************
*
*	Program:	Print text
*	Filename:	Print.a
*
*	Contents:	Der durch a0.l addressierte Text (Nullterminiert)
*			wird an _stdout ausgegeben
*
*	Language:	68000 Assembler
*
*	Author:		Johannes R. Geiss
*
*	Copyright:	Amigavisions
*
*	History:	$HISTORY:
*			1.2 (26-Oct-91) changed JRG
*			1.1 (10-Oct-91) changed JRG
*			1.0 (08-Oct-91) written JRG
*
*	Version:	$VER: Print.a 1.2 (26-Oct-91)
*
********************************************************************************


*------ Includes
	include 'xref.i'
	include 'call.i'
	include 'exec/types.i'
	include 'libraries/dos.i'


*------ Imports
	XLIB	Write
	xref	_DOSBase
	xref	_stdout


*------ Exports
	xdef	Print


********************************************************************************

	SECTION Print

*------ Print procedure
*
* Input: a0.l Zeiger auf Text (Nullterminiert)

Print	movea.l a0,a1
Loop	tst.b	(a0)+
	bne.s	Loop
	suba.l	a1,a0
	movem.l d2-d3/a6,-(a7)
	move.l	a0,d3
	move.l	_stdout,d1
	move.l	a1,d2
	CALLDOS Write
	movem.l (a7)+,d2-d3/a6
	rts
	END
