; $Id: AutodocViewer_Installer v1.41 (7 July 1999)
; $VER: AutodocViewer_Installer v1.41 Copyright © 1994-1999 Ronny Tennebekk (7 July 1999)

(set @default-dest "SYS:")
(set programme "AutodocViewer")
(set progver "1.41")
;(set docs-dir 0)

;------------------------------------------------------------
; English strings
;------------------------------------------------------------

(set #install-msg
    (cat "\n\n"programme " v" progver " (7.07.99)\n"
         "Copyright © 1994-1999 Ronny Tennebekk\n\n\n"
         "\nThis install script will install\n"
         "AutodocViewer on your harddisk...\n"
    )
)

(set #install-prefs
    (cat "\n\nDo you want to copy the example prefs file?\n"
         "Note that  exsisting prefs files will be\n"
         "overwritten!\n"
    )
)

(set #bad-kick
    (cat "\n\nYou must have Kickstart 3.0 or higher installed to use " programme "!"
    )
)

(set #app-where
    (cat "Where do you what "programme" to be installed?\n"
         "No directory will be created!\n"
    )
)

(set #copying
    (cat "Copying " programme
    )
)

(set #install-quest
    (cat "\n\nDo you want to install the documentation???\n"
    )
)

(set #install-appicon
    (cat "\n\nDo you want to install AutodocViewer Appicon?\n\n"
         "If you select no, AutodocViewer will use the\n"
         "built-in appicon, which can be `ugly` depending\n"
         "on your workbench screen."
    )
)


;============================================================
; make sure we are running under a 3.0 ROM


(if (< (/ (getversion) 65536) 39)
    (
        (abort #bad-kick)
    )
)


;============================================================
;

(complete 0)

(message #install-msg)

(welcome)

(set app-dir
    (askdir
        (prompt #app-where)
        (help @askdir-help)
        (default @default-dest)
    )
)

(complete 10)

(

    (copyfiles
        (prompt "\n" #copying)
        (source "tools/AutodocViewer")
        (dest app-dir)
    )

    (complete 20)

     (copyfiles
        (source "tools/AutodocViewer.info")
        (dest app-dir)
    )
)

(complete 30)

;============================================================
; install docs

(if
   (askbool
      (prompt (#install-quest))
      (help @askdir-help)
   )

   (
      (copyfiles
         (source ("docs/AutodocViewer.guide"))
         (dest app-dir)
      )
   )

   (complete 40)

   (
      (copyfiles
         (source ("docs/AutodocViewer.guide.info"))
         (dest app-dir)
      )
   )

   (complete 50)

   (
      (copyfiles
         (source ("docs/ScreenShot.iff"))
         (dest app-dir)
      )
   )

)


;============================================================
; ask if user want's install appicon

(complete 60)

(if
   (askbool
      (prompt (#install-appicon))
      (help @askbool-help)
   )

   (
      (copyfiles
         (source ("icons/AppIcon_AutodocViewer.info"))
         (dest app-dir)
      )

   )

   (complete 70)

)


;============================================================
; ask if user want's copy existing prefs installed

(complete 80)

(if
   (askbool
      (prompt (#install-prefs))
      (help @askbool-help)
   )

   (
      (copyfiles
         (source ("tools/AutodocViewer.prefs"))
         (dest app-dir)
      )

   )

   (complete 90)

)


;============================================================
; Installisation complete

(set @default-dest app-dir)
(complete 100)
(exit)
