# Makefile for VRMLEditor
# V 1.0
# 30 july 98

CC = g++
OPT = -I../VRMLSupport -I../MUICustomClass/CyberGL
LOPT = -noixemul
COPT = -O3
CPU = -m68030 -m68881
LIB = -lm -lcybergl -lstack -lstubs

VSDIR = ../VRMLSupport/
MCDIR = ../MUICustomClass/CyberGL/

# Cancel automatic compliation
%.o: %.c
        
#Cancel automatic linking
%: %.o
        
# All
all: VRMLViewer_GCC

#link
link:
	$(CC) $(CPU) $(LOPT) $(OPT) -o VRMLViewer_GCC Main.o $(VSDIR)VRMLNode.o $(VSDIR)VRMLNode_GL.o $(VSDIR)VRMLNode_GLBox.o $(VSDIR)VRMLSaver.o $(VSDIR)OpenGLSaver.o $(VSDIR)GLConvert.o $(VSDIR)GLNode.o $(VSDIR)VRMLSupport.o $(VSDIR)VRMLParser.o $(VSDIR)GEOParser.o $(VSDIR)NProducer.o $(VSDIR)VRMLExtractor.o $(VSDIR)Conversion.o MUI_VRMLViewer.o GLFunctions.o $(MCDIR)MCC_GLArea.o $(LIB)

# VRMLViewer
VRMLViewer_GCC: Main.o MUI_VRMLViewer.o GLFunctions.o
	$(CC) $(CPU) $(LOPT) $(OPT) -o VRMLViewer_GCC Main.o $(VSDIR)VRMLNode.o $(VSDIR)VRMLNode_GL.o $(VSDIR)VRMLNode_GLBox.o $(VSDIR)VRMLSaver.o $(VSDIR)OpenGLSaver.o $(VSDIR)GLConvert.o $(VSDIR)GLNode.o $(VSDIR)VRMLSupport.o $(VSDIR)VRMLParser.o $(VSDIR)GEOParser.o $(VSDIR)NProducer.o $(VSDIR)VRMLExtractor.o $(VSDIR)Conversion.o MUI_VRMLViewer.o GLFunctions.o $(MCDIR)MCC_GLArea.o $(LIB)

# Main
Main.o: Main.h Main.cc
	$(CC) $(CPU) $(COPT) $(OPT) -c Main.cc

# MUI_VRMLViewer
MUI_VRMLViewer.o: MUI_VRMLViewer.cpp MUI_VRMLViewer.h MUI_VRMLViewerExtern.h
	$(CC) $(CPU) $(COPT) $(OPT) -c MUI_VRMLViewer.cpp

# GLFunctions
GLFunctions.o: MUI_VRMLViewer.h Main.h GLFunctions.h GLFunctions.cc
	$(CC) $(CPU) $(COPT) $(OPT) -c GLFunctions.cc

# Other
clean:
	rm *.o
	rm *.rpo
