<html>
<head>
<title>Ada 95 RM - C.1 Access to Machine Operations</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><img src="noleft.gif" alt="____"> | <a href="C.htm"><img src="up.gif" alt="Up"></a> | <a href="C-02.htm"><img src="right.gif" alt="Next"></a> | <a href="C.htm"><img src="back.gif" alt="Back"></a> | <a href="C-02.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">C.1 Access to Machine Operations</a></h2>
<dl><dt><a name="1">(1)</a><dd>This clause specifies rules regarding access to machine instructions from
within an Ada program.
</dl><h5 align="center">Implementation Requirements</h5>
<dl><dt><a name="2">(2)</a><dd>The implementation shall support machine code insertions <a href="13-08.htm">(see 13.8)</a> or
intrinsic subprograms <a href="06-03-01.htm">(see 6.3.1)</a> (or both).  Implementation-defined
attributes shall be provided to allow the use of Ada entities as operands.
</dl><h5 align="center">Implementation Advice</h5>
<dl><dt><a name="3">(3)</a><dd>The machine code or intrinsics support should allow access to all
operations normally available to assembly language programmers for the target
environment, including privileged instructions, if any.
<dt><a name="4">(4)</a><dd>The interfacing pragmas (see <a href="B.htm">Annex B)</a> should support interface to
assembler; the default assembler should be associated with the convention
identifier Assembler.
<dt><a name="5">(5)</a><dd>If an entity is exported to assembly language, then the implementation
should allocate it at an addressable location, and should ensure that it is
retained by the linking process, even if not otherwise referenced from the
Ada code.  The implementation should assume that any call to a machine code
or assembler subprogram is allowed to read or update every object that is
specified as exported.
</dl><h5 align="center">Documentation Requirements</h5>
<dl><dt><a name="6">(6)</a><dd>The implementation shall document the overhead associated with calling
machine-code or intrinsic subprograms, as compared to a fully-inlined call,
and to a regular out-of-line call.
<dt><a name="7">(7)</a><dd>The implementation shall document the types of the package
System.Machine_Code usable for machine code insertions, and the attributes to
be used in machine code insertions for references to Ada entities.
<dt><a name="8">(8)</a><dd>The implementation shall document the subprogram calling conventions
associated with the convention identifiers available for use with the
interfacing pragmas (Ada and Assembler, at a minimum), including register
saving, exception propagation, parameter passing, and function value
returning.
<dt><a name="9">(9)</a><dd>For exported and imported subprograms, the implementation shall document
the mapping between the Link_Name string, if specified, or the Ada
designator, if not, and the external link name used for such a subprogram.
</dl><h5 align="center">Implementation Advice</h5>
<dl><dt><a name="10">(10)</a><dd>The implementation should ensure that little or no overhead is
associated with calling intrinsic and machine-code subprograms.
<dt><a name="11">(11)</a><dd>It is recommended that intrinsic subprograms be provided for convenient
access to any machine operations that provide special capabilities or
efficiency and that are not otherwise available through the language
constructs.  Examples of such instructions include:
<dt><a name="12">(12)</a><dd><ul><li>Atomic read-modify-write operations -- e.g., test and set,
compare and swap, decrement and test, enqueue/dequeue.
</ul><dt><a name="13">(13)</a><dd><ul><li>Standard numeric functions -- e.g., sin, log.
</ul><dt><a name="14">(14)</a><dd><ul><li>String manipulation operations -- e.g., translate and test.
</ul><dt><a name="15">(15)</a><dd><ul><li>Vector operations -- e.g., compare vector against thresholds.
</ul><dt><a name="16">(16)</a><dd><ul><li>Direct operations on I/O ports.
</ul></dl><p>
<hr>
<h4><img src="noleft.gif" alt="____"> | <a href="C.htm"><img src="up.gif" alt="Up"></a> | <a href="C-02.htm"><img src="right.gif" alt="Next"></a> | <a href="C.htm"><img src="back.gif" alt="Back"></a> | <a href="C-02.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
