<html>
<head>
<title>Ada 95 RM - D.9 Delay Accuracy</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="D-08.htm"><img src="left.gif" alt="Prev"></a> | <a href="D.htm"><img src="up.gif" alt="Up"></a> | <a href="D-10.htm"><img src="right.gif" alt="Next"></a> | <a href="D-08.htm"><img src="back.gif" alt="Back"></a> | <a href="D-10.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">D.9 Delay Accuracy</a></h2>
<dl><dt><a name="1">(1)</a><dd>This clause specifies performance requirements for the delay_statement.
The rules apply both to delay_relative_statement and to delay_until_statement.  Similarly, they apply equally to a simple delay_statement and to
one which appears in a delay_alternative.
</dl><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="2">(2)</a><dd>The effect of the delay_statement for Real_Time.Time is defined in terms
of Real_Time.Clock:
<dt><a name="3">(3)</a><dd><ul><li>If C[1] is a value of Clock read before a task executes a delay_relative_statement with duration D, and C[2] is a value of Clock
read after the task resumes execution following that delay_statement, then C[2] - C[1] &gt;= D.
</ul><dt><a name="4">(4)</a><dd><ul><li>If C is a value of Clock read after a task resumes execution
following a delay_until_statement with Real_Time.Time value T,
then C &gt;= T.
</ul><dt><a name="5">(5)</a><dd>A simple delay_statement with a negative or zero value for the expiration
time does not cause the calling task to be blocked; it is nevertheless a
potentially blocking operation <a href="09-05-01.htm">(see 9.5.1)</a>.
<dt><a name="6">(6)</a><dd>When a delay_statement appears in a delay_alternative of a timed_entry_call the selection of the entry call is attempted, regardless of the
specified expiration time.  When a delay_statement appears in a selective_accept_alternative, and a call is queued on one of the open entries, the
selection of that entry call proceeds, regardless of the value of the delay
expression.
</dl><h5 align="center">Documentation Requirements</h5>
<dl><dt><a name="7">(7)</a><dd>The implementation shall document the minimum value of the delay
expression of a delay_relative_statement that causes the task to actually be
blocked.
<dt><a name="8">(8)</a><dd>The implementation shall document the minimum difference between the
value of the delay expression of a delay_until_statement and the value of
Real_Time.Clock, that causes the task to actually be blocked.
</dl><h5 align="center">Metrics</h5>
<dl><dt><a name="9">(9)</a><dd>The implementation shall document the following metrics:
<dt><a name="10">(10)</a><dd><ul><li>An upper bound on the execution time, in processor clock cycles,
of a delay_relative_statement whose requested value of the delay
expression is less than or equal to zero.
</ul><dt><a name="11">(11)</a><dd><ul><li>An upper bound on the execution time, in processor clock cycles,
of a delay_until_statement whose requested value of the delay
expression is less than or equal to the value of Real_Time.Clock
at the time of executing the statement.  Similarly, for
Calendar.Clock.
</ul><dt><a name="12">(12)</a><dd><ul><li>An upper bound on the lateness of a delay_relative_statement, for
a positive value of the delay expression, in a situation where
the task has sufficient priority to preempt the processor as soon
as it becomes ready, and does not need to wait for any other
execution resources.  The upper bound is expressed as a function
of the value of the delay expression.  The lateness is obtained
by subtracting the value of the delay expression from the actual
duration.  The actual duration is measured from a point
immediately before a task executes the delay_statement to a point
immediately after the task resumes execution following this
statement.
</ul><dt><a name="13">(13)</a><dd><ul><li>An upper bound on the lateness of a delay_until_statement, in a
situation where the value of the requested expiration time is
after the time the task begins executing the statement, the task
has sufficient priority to preempt the processor as soon as it
becomes ready, and it does not need to wait for any other
execution resources.  The upper bound is expressed as a function
of the difference between the requested expiration time and the
clock value at the time the statement begins execution.  The
lateness of a delay_until_statement is obtained by subtracting
the requested expiration time from the real time that the task
resumes execution following this statement.
</ul><p><dt><dd><ul>NOTES</ul>
<dt><a name="14">(14)</a><dd><ul>(32) The execution time of a delay_statement that does not cause the
task to be blocked (e.g. ``delay 0.0;'' ) is of interest in situations
where delays are used to achieve voluntary round-robin task dispatching
among equal-priority tasks.
</ul></dl><p>
<hr>
<h4><a href="D-08.htm"><img src="left.gif" alt="Prev"></a> | <a href="D.htm"><img src="up.gif" alt="Up"></a> | <a href="D-10.htm"><img src="right.gif" alt="Next"></a> | <a href="D-08.htm"><img src="back.gif" alt="Back"></a> | <a href="D-10.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
