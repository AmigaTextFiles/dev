<html>
<head>
<title>Ada 95 RM - 11.4.1 The Package Exceptions</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><img src="noleft.gif" alt="____"> | <a href="11-04.htm"><img src="up.gif" alt="Up"></a> | <a href="11-04-02.htm"><img src="right.gif" alt="Next"></a> | <a href="11-04.htm"><img src="back.gif" alt="Back"></a> | <a href="11-04-02.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>
<h3><a name="0">11.4.1 The Package Exceptions</a></h3>
<h5 align="center">Static Semantics</h5>
<dl><dt><a name="1">(1)</a><dd>The following language-defined library package exists:
</dl><pre><a name="2">(2)</a>
       package Ada.Exceptions is
           type Exception_Id is private;
           Null_Id : constant Exception_Id;
           function Exception_Name(Id : Exception_Id) return String;
<a name="3">(3)</a>
           type Exception_Occurrence is limited private;
           type Exception_Occurrence_Access is access all Exception_Occurrence;
           Null_Occurrence : constant Exception_Occurrence;
<a name="4">(4)</a>
           procedure Raise_Exception(E : in Exception_Id; Message : in String := "");
           function Exception_Message(X : Exception_Occurrence) return String;
           procedure Reraise_Occurrence(X : in Exception_Occurrence);
<a name="5">(5)</a>
           function Exception_Identity(X : Exception_Occurrence) return Exception_Id;
           function Exception_Name(X : Exception_Occurrence) return String;
               <em>-- Same as Exception_Name(Exception_Identity(X)).</em>
           function Exception_Information(X : Exception_Occurrence) return String;
<a name="6">(6)</a>
           procedure Save_Occurrence(Target : out Exception_Occurrence;
                                     Source : in Exception_Occurrence);
           function Save_Occurrence(Source : Exception_Occurrence)
                                    return Exception_Occurrence_Access;
       private
          ... <em>-- not specified by the language</em>
       end Ada.Exceptions;
</pre><dl><dt><a name="7">(7)</a><dd>Each distinct exception is represented by a distinct value of type
Exception_Id.  Null_Id does not represent any exception, and is the default
initial value of type Exception_Id.  Each occurrence of an exception is
represented by a value of type Exception_Occurrence.  Null_Occurrence does
not represent any exception occurrence, and is the default initial value of
type Exception_Occurrence.
<dt><a name="8">(8)</a><dd>For a prefix E that denotes an exception, the following attribute is
defined:
<dt><a name="9">(9)</a><dd>E'Identity
<ul>E'Identity returns the unique identity of the exception.  The
type of this attribute is Exception_Id.
</ul><dt><a name="10">(10)</a><dd>Raise_Exception raises a new occurrence of the identified exception.  In
this case, Exception_Message returns the Message parameter of Raise_Exception.  For a raise_statement with an exception_name, Exception_Message
returns implementation-defined information about the exception occurrence.
Reraise_Occurrence reraises the specified exception occurrence.
<dt><a name="11">(11)</a><dd>Exception_Identity returns the identity of the exception of the
occurrence.
<dt><a name="12">(12)</a><dd>The Exception_Name functions return the full expanded name of the
exception, in upper case, starting with a root library unit.  For an
exception declared immediately within package Standard, the defining_identifier is returned.  The result is implementation defined if the
exception is declared within an unnamed block_statement.
<dt><a name="13">(13)</a><dd>Exception_Information returns implementation-defined information about
the exception occurrence.
<dt><a name="14">(14)</a><dd>Raise_Exception and Reraise_Occurrence have no effect in the case of
Null_Id or Null_Occurrence.  Exception_Message, Exception_Identity,
Exception_Name, and Exception_Information raise Constraint_Error for a
Null_Id or Null_Occurrence.
<dt><a name="15">(15)</a><dd>The Save_Occurrence procedure copies the Source to the Target.  The
Save_Occurrence function uses an allocator of type Exception_Occurrence_Access to create a new object, copies the Source to this new object, and
returns an access value designating this new object; the result may be
deallocated using an instance of Unchecked_Deallocation.
</dl><h5 align="center">Implementation Requirements</h5>
<dl><dt><a name="16">(16)</a><dd>The implementation of the Write attribute <a href="13-13-02.htm">(see 13.13.2)</a> of Exception_Occurrence shall support writing a representation of an exception occurrence
to a stream; the implementation of the Read attribute of Exception_Occurrence
shall support reconstructing an exception occurrence from a stream (including
one written in a different partition).
</dl><h5 align="center">Implementation Permissions</h5>
<dl><dt><a name="17">(17)</a><dd>An implementation of Exception_Name in a space-constrained environment
may return the defining_identifier instead of the full expanded name.
<dt><a name="18">(18)</a><dd>The string returned by Exception_Message may be truncated (to no less
than 200 characters) by the Save_Occurrence procedure (not the function), the
Reraise_Occurrence procedure, and the re-raise statement.
</dl><h5 align="center">Implementation Advice</h5>
<dl><dt><a name="19">(19)</a><dd>Exception_Message (by default) and Exception_Information should produce
information useful for debugging.  Exception_Message should be short (about
one line), whereas Exception_Information can be long.  Exception_Message
should not include the Exception_Name.  Exception_Information should include
both the Exception_Name and the Exception_Message.
</dl><hr>
<h4><img src="noleft.gif" alt="____"> | <a href="11-04.htm"><img src="up.gif" alt="Up"></a> | <a href="11-04-02.htm"><img src="right.gif" alt="Next"></a> | <a href="11-04.htm"><img src="back.gif" alt="Back"></a> | <a href="11-04-02.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
