<html>
<head>
<title>Ada 95 RM - 12.1 Generic Declarations</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><img src="noleft.gif" alt="____"> | <a href="12.htm"><img src="up.gif" alt="Up"></a> | <a href="12-02.htm"><img src="right.gif" alt="Next"></a> | <a href="12.htm"><img src="back.gif" alt="Back"></a> | <a href="12-02.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">12.1 Generic Declarations</a></h2>
<dl><dt><a name="1">(1)</a><dd>A generic_declaration declares a generic unit, which is either a generic
subprogram or a generic package.  A generic_declaration includes a generic_formal_part declaring any generic formal parameters.  A generic formal
parameter can be an object; alternatively (unlike a parameter of a
subprogram), it can be a type, a subprogram, or a package.
</dl><h5 align="center"><a name="syntax">Syntax</a></h5>
<pre><a name="2">(2)</a>
       generic_declaration ::= generic_subprogram_declaration | generic_package_declaration
<a name="3">(3)</a>
       generic_subprogram_declaration ::=
            generic_formal_part  subprogram_specification;
<a name="4">(4)</a>
       generic_package_declaration ::=
            generic_formal_part  package_specification;
<a name="5">(5)</a>
       generic_formal_part ::= generic {generic_formal_parameter_declaration | use_clause}
<a name="6">(6)</a>
       generic_formal_parameter_declaration ::=
             formal_object_declaration
           | formal_type_declaration
           | formal_subprogram_declaration
           | formal_package_declaration
</pre><dl><dt><a name="7">(7)</a><dd><ul><li>The only form of subtype_indication allowed within a generic_formal_part is a subtype_mark (that is, the subtype_indication shall not include
an explicit constraint).  The defining name of a generic subprogram shall
be an identifier (not an operator_symbol).
</ul></dl><h5 align="center">Static Semantics</h5>
<dl><dt><a name="8">(8)</a><dd>A generic_declaration declares a generic unit -- a generic package,
generic procedure or generic function, as appropriate.
<dt><a name="9">(9)</a><dd>An entity is a generic formal entity if it is declared by a generic_formal_parameter_declaration.  ``Generic formal,'' or simply ``formal,'' is
used as a prefix in referring to objects, subtypes (and types), functions,
procedures and packages, that are generic formal entities, as well as to
their respective declarations.  Examples: ``generic formal procedure'' or a
``formal integer type declaration.''
</dl><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="10">(10)</a><dd>The elaboration of a generic_declaration has no effect.
<p><dt><dd><ul>NOTES</ul>
<dt><a name="11">(11)</a><dd><ul>(1) Outside a generic unit a name that denotes the generic_declaration
denotes the generic unit.  In contrast, within the declarative region of
the generic unit, a name that denotes the generic_declaration denotes
the current instance.
</ul><dt><a name="12">(12)</a><dd><ul>(2) Within a generic subprogram_body, the name of this program unit acts
as the name of a subprogram.  Hence this name can be overloaded, and it
can appear in a recursive call of the current instance.  For the same
reason, this name cannot appear after the reserved word new in a
(recursive) generic_instantiation.
</ul><dt><a name="13">(13)</a><dd><ul>(3) A default_expression or default_name appearing in a generic_formal_part is not evaluated during elaboration of the generic_formal_part;
instead, it is evaluated when used.  (The usual visibility rules apply
to any name used in a default:  the denoted declaration therefore has to
be visible at the place of the expression.)
</ul></dl><h5 align="center">Examples</h5>
<dl><dt><a name="14">(14)</a><dd><em>Examples of generic formal parts:
</em>
</dl><pre><a name="15">(15)</a>
       generic     <em>--  parameterless</em>
<a name="16">(16)</a>
       generic
          Size : Natural;  <em>--  formal object</em>
<a name="17">(17)</a>
       generic
          Length : Integer := 200;          <em>-- formal object with a default expression</em>
<a name="18">(18)</a>
          Area   : Integer := Length*Length; <em>-- formal object with a default expression</em>
<a name="19">(19)</a>
       generic
          type Item  is private;                       <em>-- formal type</em>
          type Index is (&lt;&gt;);                          <em>-- formal type</em>
          type Row   is array(Index range &lt;&gt;) of Item; <em>-- formal type</em>
          with function "&lt;"(X, Y : Item) return Boolean;    <em>-- formal subprogram</em>
</pre><dl><dt><a name="20">(20)</a><dd><em>Examples of generic declarations declaring generic subprograms Exchange
and Squaring:
</em>
</dl><pre><a name="21">(21)</a>
       generic
          type Elem is private;
       procedure Exchange(U, V : in out Elem);
<a name="22">(22)</a>
       generic
          type Item is private;
          with function "*"(U, V : Item) return Item is &lt;&gt;;
       function Squaring(X : Item) return Item;
</pre><dl><dt><a name="23">(23)</a><dd><em>Example of a generic declaration declaring a generic package:
</em>
</dl><pre><a name="24">(24)</a>
       generic
          type Item   is private;
          type Vector is array (Positive range &lt;&gt;) of Item;
          with function Sum(X, Y : Item) return Item;
       package On_Vectors is
          function Sum  (A, B : Vector) return Vector;
          function Sigma(A    : Vector) return Item;
          Length_Error : exception;
       end On_Vectors;
</pre><p>
<hr>
<h4><img src="noleft.gif" alt="____"> | <a href="12.htm"><img src="up.gif" alt="Up"></a> | <a href="12-02.htm"><img src="right.gif" alt="Next"></a> | <a href="12.htm"><img src="back.gif" alt="Back"></a> | <a href="12-02.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
