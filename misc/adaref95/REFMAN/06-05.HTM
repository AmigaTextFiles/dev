<html>
<head>
<title>Ada 95 RM - 6.5 Return Statements</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="06-04.htm"><img src="left.gif" alt="Prev"></a> | <a href="06.htm"><img src="up.gif" alt="Up"></a> | <a href="06-06.htm"><img src="right.gif" alt="Next"></a> | <a href="06-04-01.htm"><img src="back.gif" alt="Back"></a> | <a href="06-06.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">6.5 Return Statements</a></h2>
<dl><dt><a name="1">(1)</a><dd>A return_statement is used to complete the execution of the innermost
enclosing subprogram_body, entry_body, or accept_statement.
</dl><h5 align="center"><a name="syntax">Syntax</a></h5>
<pre><a name="2">(2)</a>
       return_statement ::= return [expression];
</pre><h5 align="center">Name Resolution Rules</h5>
<dl><dt><a name="3">(3)</a><dd>The expression, if any, of a return_statement is called the return
expression.  The result subtype of a function is the subtype denoted by the
subtype_mark after the reserved word return in the profile of the function.
The expected type for a return expression is the result type of the
corresponding function.
</dl><h5 align="center">Legality Rules</h5>
<dl><dt><a name="4">(4)</a><dd>A return_statement shall be within a callable construct, and it applies
to the innermost one.  A return_statement shall not be within a body that is
within the construct to which the return_statement applies.
<dt><a name="5">(5)</a><dd>A function body shall contain at least one return_statement that applies
to the function body, unless the function contains code_statements.  A
return_statement shall include a return expression if and only if it applies
to a function body.
</dl><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="6">(6)</a><dd>For the execution of a return_statement, the expression (if any) is first
evaluated and converted to the result subtype.
<dt><a name="7">(7)</a><dd>If the result type is class-wide, then the tag of the result is the tag
of the value of the expression.
<dt><a name="8">(8)</a><dd>If the result type is a specific tagged type:
<dt><a name="9">(9)</a><dd><ul><li>If it is limited, then a check is made that the tag of the value
of the return expression identifies the result type.
Constraint_Error is raised if this check fails.
</ul><dt><a name="10">(10)</a><dd><ul><li>If it is nonlimited, then the tag of the result is that of the
result type.
</ul><dt><a name="11">(11)</a><dd>A type is a return-by-reference type if it is a descendant of one of the
following:
<dt><a name="12">(12)</a><dd><ul><li>a tagged limited type;
</ul><dt><a name="13">(13)</a><dd><ul><li>a task or protected type;
</ul><dt><a name="14">(14)</a><dd><ul><li>a nonprivate type with the reserved word limited in its
declaration;
</ul><dt><a name="15">(15)</a><dd><ul><li>a composite type with a subcomponent of a return-by-reference
type;
</ul><dt><a name="16">(16)</a><dd><ul><li>a private type whose full type is a return-by-reference type.
</ul><dt><a name="17">(17)</a><dd>If the result type is a return-by-reference type, then a check is made
that the return expression is one of the following:
<dt><a name="18">(18)</a><dd><ul><li>a name that denotes an object view whose accessibility level is
not deeper than that of the master that elaborated the function
body; or
</ul><dt><a name="19">(19)</a><dd><ul><li>a parenthesized expression or qualified_expression whose operand
is one of these kinds of expressions.
</ul><dt><a name="20">(20)</a><dd>The exception Program_Error is raised if this check fails.
<dt><a name="21">(21)</a><dd>For a function with a return-by-reference result type the result is
returned by reference; that is, the function call denotes a constant view of
the object associated with the value of the return expression.  For any other
function, the result is returned by copy; that is, the converted value is
assigned into an anonymous constant created at the point of the return_statement, and the function call denotes that object.
<dt><a name="22">(22)</a><dd>Finally, a transfer of control is performed which completes the
execution of the callable construct to which the return_statement applies,
and returns to the caller.
</dl><h5 align="center">Examples</h5>
<dl><dt><a name="23">(23)</a><dd><em>Examples of return statements:
</em>
</dl><pre><a name="24">(24)</a>
       return;                         <em>-- in a procedure body, entry_body, or accept_statement</em>
       return Key_Value(Last_Index);   <em>-- in a function body</em>
</pre><p>
<hr>
<h4><a href="06-04.htm"><img src="left.gif" alt="Prev"></a> | <a href="06.htm"><img src="up.gif" alt="Up"></a> | <a href="06-06.htm"><img src="right.gif" alt="Next"></a> | <a href="06-04-01.htm"><img src="back.gif" alt="Back"></a> | <a href="06-06.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
