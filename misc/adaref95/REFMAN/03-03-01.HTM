<html>
<head>
<title>Ada 95 RM - 3.3.1 Object Declarations</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><img src="noleft.gif" alt="____"> | <a href="03-03.htm"><img src="up.gif" alt="Up"></a> | <a href="03-03-02.htm"><img src="right.gif" alt="Next"></a> | <a href="03-03.htm"><img src="back.gif" alt="Back"></a> | <a href="03-03-02.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>
<h3><a name="0">3.3.1 Object Declarations</a></h3>
<dl><dt><a name="1">(1)</a><dd>An object_declaration declares a stand-alone object with a given nominal
subtype and, optionally, an explicit initial value given by an initialization
expression.  For an array, task, or protected object, the object_declaration
may include the definition of the (anonymous) type of the object.
</dl><h5 align="center"><a name="syntax">Syntax</a></h5>
<pre><a name="2">(2)</a>
       object_declaration ::=
           defining_identifier_list : [aliased] [constant] subtype_indication [:= expression];
         | defining_identifier_list : [aliased] [constant] array_type_definition [:= expression];
         | single_task_declaration
         | single_protected_declaration
<a name="3">(3)</a>
       defining_identifier_list ::=
         defining_identifier {, defining_identifier}
</pre><h5 align="center">Name Resolution Rules</h5>
<dl><dt><a name="4">(4)</a><dd>For an object_declaration with an expression following the compound
delimiter :=, the type expected for the expression is that of the object.
This expression is called the initialization expression.
</dl><h5 align="center">Legality Rules</h5>
<dl><dt><a name="5">(5)</a><dd>An object_declaration without the reserved word constant declares a
variable object.  If it has a subtype_indication or an array_type_definition
that defines an indefinite subtype, then there shall be an initialization
expression.  An initialization expression shall not be given if the object is
of a limited type.
</dl><h5 align="center">Static Semantics</h5>
<dl><dt><a name="6">(6)</a><dd>An object_declaration with the reserved word constant declares a constant
object.  If it has an initialization expression, then it is called a full
constant declaration.  Otherwise it is called a deferred constant
declaration.  The rules for deferred constant declarations are given in
clause <a href="07-04.htm">7.4</a>.  The rules for full constant declarations are given in this
subclause.
<dt><a name="7">(7)</a><dd>Any declaration that includes a defining_identifier_list with more than
one defining_identifier is equivalent to a series of declarations each
containing one defining_identifier from the list, with the rest of the text
of the declaration copied for each declaration in the series, in the same
order as the list.  The remainder of this International Standard relies on
this equivalence; explanations are given for declarations with a single
defining_identifier.
<dt><a name="8">(8)</a><dd>The subtype_indication or full type definition of an object_declaration
defines the nominal subtype of the object.  The object_declaration declares
an object of the type of the nominal subtype.
</dl><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="9">(9)</a><dd>If a composite object declared by an object_declaration has an
unconstrained nominal subtype, then if this subtype is indefinite or the
object is constant or aliased <a href="03-10.htm">(see 3.10)</a> the actual subtype of this object is
constrained.  The constraint is determined by the bounds or discriminants (if
any) of its initial value; the object is said to be constrained by its
initial value.  In the case of an aliased object, this initial value may be
either explicit or implicit; in the other cases, an explicit initial value is
required.  When not constrained by its initial value, the actual and nominal
subtypes of the object are the same.  If its actual subtype is constrained,
the object is called a constrained object.
<dt><a name="10">(10)</a><dd>For an object_declaration without an initialization expression, any
initial values for the object or its subcomponents are determined by the
implicit initial values defined for its nominal subtype, as follows:
<dt><a name="11">(11)</a><dd><ul><li>The implicit initial value for an access subtype is the null
value of the access type.
</ul><dt><a name="12">(12)</a><dd><ul><li>The implicit initial (and only) value for each discriminant of a
constrained discriminated subtype is defined by the subtype.
</ul><dt><a name="13">(13)</a><dd><ul><li>For a (definite) composite subtype, the implicit initial value of
each component with a default_expression is obtained by
evaluation of this expression and conversion to the component's
nominal subtype (which might raise Constraint_Error -- <a href="04-06.htm">see 4.6</a>,
``Type Conversions''), unless the component is a discriminant of
a constrained subtype (the previous case), or is in an excluded
variant <a href="03-08-01.htm">(see 3.8.1)</a>.    For each component that does not have a
default_expression, any implicit initial values are those
determined by the component's nominal subtype.
</ul><dt><a name="14">(14)</a><dd><ul><li>For a protected or task subtype, there is an implicit component
(an entry queue) corresponding to each entry, with its implicit
initial value being an empty queue.
</ul><dt><a name="15">(15)</a><dd>The elaboration of an object_declaration proceeds in the following
sequence of steps:
<dt><a name="16">(16)</a><dd><ul><li>The subtype_indication, array_type_definition, single_task_declaration, or single_protected_declaration is first elaborated.
This creates the nominal subtype (and the anonymous type in the
latter three cases).
</ul><dt><a name="17">(17)</a><dd><ul><li>If the object_declaration includes an initialization expression,
the (explicit) initial value is obtained by evaluating the
expression and converting it to the nominal subtype (which might
raise Constraint_Error -- <a href="04-06.htm">see 4.6)</a>.
</ul><dt><a name="18">(18)</a><dd><ul><li>The object is created, and, if there is not an initialization
expression, any per-object expressions <a href="03-08.htm">(see 3.8)</a> are evaluated
and any implicit initial values for the object or for its
subcomponents are obtained as determined by the nominal subtype.
</ul><dt><a name="19">(19)</a><dd><ul><li>Any initial values (whether explicit or implicit) are assigned to
the object or to the corresponding subcomponents.  As described
<a href="05-02.htm">in 5.2</a> and <a href="07-06.htm">7.6</a>, Initialize and Adjust procedures can be called.
</ul><dt><a name="20">(20)</a><dd>For the third step above, the object creation and any elaborations and
evaluations are performed in an arbitrary order, except that if the default_expression for a discriminant is evaluated to obtain its initial value, then
this evaluation is performed before that of the default_expression for any
component that depends on the discriminant, and also before that of any
default_expression that includes the name of the discriminant.  The
evaluations of the third step and the assignments of the fourth step are
performed in an arbitrary order, except that each evaluation is performed
before the resulting value is assigned.
<dt><a name="21">(21)</a><dd>There is no implicit initial value defined for a scalar subtype.  In the
absence of an explicit initialization, a newly created scalar object might
have a value that does not belong to its subtype <a href="13-09-01.htm">(see 13.9.1</a> and <a href="H-01.htm">H.1)</a>.
<p><dt><dd><ul>NOTES</ul>
<dt><a name="22">(22)</a><dd><ul>(7) Implicit initial values are not defined for an indefinite subtype,
because if an object's nominal subtype is indefinite, an explicit
initial value is required.
</ul><dt><a name="23">(23)</a><dd><ul>(8) As indicated above, a stand-alone object is an object declared by an
object_declaration.  Similar definitions apply to ``stand-alone
constant'' and ``stand-alone variable.''  A subcomponent of an object is
not a stand-alone object, nor is an object that is created by an
allocator.  An object declared by a loop_parameter_specification,
parameter_specification, entry_index_specification, choice_parameter_specification, or a formal_object_declaration is not called a
stand-alone object.
</ul><dt><a name="24">(24)</a><dd><ul>(9) The type of a stand-alone object cannot be abstract <a href="03-09-03.htm">(see 3.9.3)</a>.
</ul></dl><h5 align="center">Examples</h5>
<dl><dt><a name="25">(25)</a><dd><em>Example of a multiple object declaration:
</em>
</dl><pre><a name="26">(26)</a>
       <em>--  the multiple object declaration</em>
<a name="27">(27)</a>
       John, Paul : Person_Name := new Person(Sex =&gt; M);  <em>--  <a href="03-10-01.htm">see 3.10.1</a></em>
<a name="28">(28)</a>
       <em>--  is equivalent to the two single object declarations in the order given</em>
<a name="29">(29)</a>
       John : Person_Name := new Person(Sex =&gt; M);
       Paul : Person_Name := new Person(Sex =&gt; M);
</pre><dl><dt><a name="30">(30)</a><dd><em>Examples of variable declarations:
</em>
</dl><pre><a name="31">(31)</a>
       Count, Sum  : Integer;
       Size        : Integer range 0 .. 10_000 := 0;
       Sorted      : Boolean := False;
       Color_Table : array(1 .. Max) of Color;
       Option      : Bit_Vector(1 .. 10) := (others =&gt; True);
       Hello       : constant String := "Hi, world.";
</pre><dl><dt><a name="32">(32)</a><dd><em>Examples of constant declarations:
</em>
</dl><pre><a name="33">(33)</a>
       Limit     : constant Integer := 10_000;
       Low_Limit : constant Integer := Limit/10;
       Tolerance : constant Real := Dispersion(1.15);
</pre><hr>
<h4><img src="noleft.gif" alt="____"> | <a href="03-03.htm"><img src="up.gif" alt="Up"></a> | <a href="03-03-02.htm"><img src="right.gif" alt="Next"></a> | <a href="03-03.htm"><img src="back.gif" alt="Back"></a> | <a href="03-03-02.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
