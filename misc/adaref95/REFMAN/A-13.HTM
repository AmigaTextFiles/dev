<html>
<head>
<title>Ada 95 RM - A.13 Exceptions in Input-Output</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="A-12.htm"><img src="left.gif" alt="Prev"></a> | <a href="A.htm"><img src="up.gif" alt="Up"></a> | <a href="A-14.htm"><img src="right.gif" alt="Next"></a> | <a href="A-12-03.htm"><img src="back.gif" alt="Back"></a> | <a href="A-14.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">A.13 Exceptions in Input-Output</a></h2>
<dl><dt><a name="1">(1)</a><dd>The package IO_Exceptions defines the exceptions needed by the predefined
input-output packages.
</dl><h5 align="center">Static Semantics</h5>
<dl><dt><a name="2">(2)</a><dd>The library package IO_Exceptions has the following declaration:
</dl><pre><a name="3">(3)</a>
       package Ada.IO_Exceptions is
          pragma Pure(IO_Exceptions);
<a name="4">(4)</a>
          Status_Error : exception;
          Mode_Error   : exception;
          Name_Error   : exception;
          Use_Error    : exception;
          Device_Error : exception;
          End_Error    : exception;
          Data_Error   : exception;
          Layout_Error : exception;
<a name="5">(5)</a>
       end Ada.IO_Exceptions;
</pre><dl><dt><a name="6">(6)</a><dd>If more than one error condition exists, the corresponding exception that
appears earliest in the following list is the one that is propagated.
<dt><a name="7">(7)</a><dd>The exception Status_Error is propagated by an attempt to operate upon a
file that is not open, and by an attempt to open a file that is already open.
<dt><a name="8">(8)</a><dd>The exception Mode_Error is propagated by an attempt to read from, or
test for the end of, a file whose current mode is Out_File or Append_File,
and also by an attempt to write to a file whose current mode is In_File.  In
the case of Text_IO, the exception Mode_Error is also propagated by
specifying a file whose current mode is Out_File or Append_File in a call of
Set_Input, Skip_Line, End_Of_Line, Skip_Page, or End_Of_Page; and by
specifying a file whose current mode is In_File in a call of Set_Output, Set_Line_Length, Set_Page_Length, Line_Length, Page_Length, New_Line, or New_Page.
<dt><a name="9">(9)</a><dd>The exception Name_Error is propagated by a call of Create or Open if the
string given for the parameter Name does not allow the identification of an
external file.  For example, this exception is propagated if the string is
improper, or, alternatively, if either none or more than one external file
corresponds to the string.
<dt><a name="10">(10)</a><dd>The exception Use_Error is propagated if an operation is attempted that
is not possible for reasons that depend on characteristics of the external
file.  For example, this exception is propagated by the procedure Create,
among other circumstances, if the given mode is Out_File but the form
specifies an input only device, if the parameter Form specifies invalid
access rights, or if an external file with the given name already exists and
overwriting is not allowed.
<dt><a name="11">(11)</a><dd>The exception Device_Error is propagated if an input-output operation
cannot be completed because of a malfunction of the underlying system.
<dt><a name="12">(12)</a><dd>The exception End_Error is propagated by an attempt to skip (read past)
the end of a file.
<dt><a name="13">(13)</a><dd>The exception Data_Error can be propagated by the procedure Read (or by
the Read attribute) if the element read cannot be interpreted as a value of
the required subtype.  This exception is also propagated by a procedure Get
(defined in the package Text_IO) if the input character sequence fails to
satisfy the required syntax, or if the value input does not belong to the
range of the required subtype.
<dt><a name="14">(14)</a><dd>The exception Layout_Error is propagated (in text input-output) by Col,
Line, or Page if the value returned exceeds Count'Last.  The exception
Layout_Error is also propagated on output by an attempt to set column or line
numbers in excess of specified maximum line or page lengths, respectively
(excluding the unbounded cases).  It is also propagated by an attempt to Put
too many characters to a string.
</dl><h5 align="center">Documentation Requirements</h5>
<dl><dt><a name="15">(15)</a><dd>The implementation shall document the conditions under which Name_Error,
Use_Error and Device_Error are propagated.
</dl><h5 align="center">Implementation Permissions</h5>
<dl><dt><a name="16">(16)</a><dd>If the associated check is too complex, an implementation need not
propagate Data_Error as part of a procedure Read (or the Read attribute) if
the value read cannot be interpreted as a value of the required subtype.
</dl><h5 align="center">Erroneous Execution</h5>
<dl><dt><a name="17">(17)</a><dd>If the element read by the procedure Read (or by the Read attribute)
cannot be interpreted as a value of the required subtype, but this is not
detected and Data_Error is not propagated, then the resulting value can be
abnormal, and subsequent references to the value can lead to erroneous
execution, as explained <a href="13-09-01.htm">in 13.9.1</a>.
</dl><p>
<hr>
<h4><a href="A-12.htm"><img src="left.gif" alt="Prev"></a> | <a href="A.htm"><img src="up.gif" alt="Up"></a> | <a href="A-14.htm"><img src="right.gif" alt="Next"></a> | <a href="A-12-03.htm"><img src="back.gif" alt="Back"></a> | <a href="A-14.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
