<html>
<head>
<title>Ada 95 RM - G.2.4 Accuracy Requirements for the Elementary Functions</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="G-02-03.htm"><img src="left.gif" alt="Prev"></a> | <a href="G-02.htm"><img src="up.gif" alt="Up"></a> | <a href="G-02-05.htm"><img src="right.gif" alt="Next"></a> | <a href="G-02-03.htm"><img src="back.gif" alt="Back"></a> | <a href="G-02-05.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>
<h3><a name="0">G.2.4 Accuracy Requirements for the Elementary Functions</a></h3>
<dl><dt><a name="1">(1)</a><dd>In the strict mode, the performance of Numerics.Generic_Elementary_Functions shall be as specified here.
</dl><h5 align="center">Implementation Requirements</h5>
<dl><dt><a name="2">(2)</a><dd>When an exception is not raised, the result of evaluating a function in
an instance EF of Numerics.Generic_Elementary_Functions belongs to a result
interval, defined as the smallest model interval of EF.Float_Type that
contains all the values of the form f*(1.0+d), where f is the exact value of
the corresponding mathematical function at the given parameter values, d is a
real number, and |d| is less than or equal to the function's maximum relative
error.  The function delivers a value that belongs to the result interval
when both of its bounds belong to the safe range of EF.Float_Type; otherwise,
<dt><a name="3">(3)</a><dd><ul><li>if EF.Float_Type'Machine_Overflows is True, the function either
delivers a value that belongs to the result interval or raises
Constraint_Error, signaling overflow;
</ul><dt><a name="4">(4)</a><dd><ul><li>if EF.Float_Type'Machine_Overflows is False, the result is
implementation defined.
</ul><dt><a name="5">(5)</a><dd>The maximum relative error exhibited by each function is as follows:
<dt><a name="6">(6)</a><dd><ul><li>2.0*EF.Float_Type'Model_Epsilon, in the case of the Sqrt, Sin,
and Cos functions;
</ul><dt><a name="7">(7)</a><dd><ul><li>4.0*EF.Float_Type'Model_Epsilon, in the case of the Log, Exp,
Tan, Cot, and inverse trigonometric functions; and
</ul><dt><a name="8">(8)</a><dd><ul><li>8.0*EF.Float_Type'Model_Epsilon, in the case of the forward and
inverse hyperbolic functions.
</ul><dt><a name="9">(9)</a><dd>The maximum relative error exhibited by the exponentiation operator,
which depends on the values of the operands, is
(4.0+|Right*log (Left)|/32.0)*EF.Float_Type'Model_Epsilon.
<dt><a name="10">(10)</a><dd>The maximum relative error given above applies throughout the domain of
the forward trigonometric functions when the Cycle parameter is specified.
When the Cycle parameter is omitted, the maximum relative error given above
applies only when the absolute value of the angle parameter X is less than or
equal to some implementation-defined angle threshold, which shall be at least
Floor(EF.Float_Type'Machine_Mantissa/2)
EF.Float_Type'Machine_Radix                                       .  Beyond
the angle threshold, the accuracy of the forward trigonometric functions is
implementation defined.
<dt><a name="11">(11)</a><dd>The prescribed results specified <a href="A-05-01.htm">in A.5.1</a> for certain functions at
particular parameter values take precedence over the maximum relative error
bounds; effectively, they narrow to a single value the result interval
allowed by the maximum relative error bounds.  Additional rules with a
similar effect are given by the table below for the inverse trigonometric
functions, at particular parameter values for which the mathematical result
is possibly not a model number of EF.Float_Type (or is, indeed, even
transcendental).  In each table entry, the values of the parameters are such
that the result lies on the axis between two quadrants; the corresponding
accuracy rule, which takes precedence over the maximum relative error bounds,
is that the result interval is the model interval of EF.Float_Type associated
with the exact mathematical result given in the table.
</dl><pre><a name="12">(12)</a>
   -----------------------------------------------------------------------------
   |                                                                           |
   |             Tightly Approximated Elementary Function Results              |
   |                                                                           |
   |<em>-------------------------------------------------------------------------- |</em>
   |                   |            |            |              |              |
   |                   |            |            | Exact Result | Exact Result |
   |                   |            |            |  when Cycle  |  when Cycle  |
   |     Function      | Value of X | Value of Y |  Specified   |   Omitted    |
   |                   |            |            |              |              |
   |<em>---------------------------------------------------------------------------|</em>
   |                   |            |            |              |              |
   |      Arcsin       |    1.0     |    n.a.    |  Cycle/4.0   |    Pi/2.0    |
   |                   |            |            |              |              |
   |      Arcsin       |    -1.0    |    n.a.    |  -Cycle/4.0  |   -Pi/2.0    |
   |                   |            |            |              |              |
   |      Arccos       |    0.0     |    n.a.    |  Cycle/4.0   |    Pi/2.0    |
   |                   |            |            |              |              |
   |      Arccos       |    -1.0    |    n.a.    |  Cycle/2.0   |      Pi      |
   |                   |            |            |              |              |
   | Arctan and Arccot |    0.0     |  positive  |  Cycle/4.0   |    Pi/2.0    |
   |                   |            |            |              |              |
   | Arctan and Arccot |    0.0     |  negative  |  -Cycle/4.0  |   -Pi/2.0    |
   |                   |            |            |              |              |
   | Arctan and Arccot |  negative  |    +0.0    |  Cycle/2.0   |      Pi      |
   |                   |            |            |              |              |
   | Arctan and Arccot |  negative  |    -0.0    |  -Cycle/2.0  |     -Pi      |
   |                   |            |            |              |              |
   | Arctan and Arccot |  negative  |    0.0     |  Cycle/2.0   |      Pi      |
   |                   |            |            |              |              |
   -----------------------------------------------------------------------------
</pre><dl><dt><a name="13">(13)</a><dd>The last line of the table is meant to apply when EF.Float_Type'Signed_Zeros is False; the two lines just above it, when EF.Float_Type'Signed_Zeros
is True and the parameter Y has a zero value with the indicated sign.
<dt><a name="14">(14)</a><dd>The amount by which the result of an inverse trigonometric function is
allowed to spill over into a quadrant adjacent to the one corresponding to
the principal branch, as given <a href="A-05-01.htm">in A.5.1</a>, is limited.  The rule is that the
result belongs to the smallest model interval of EF.Float_Type that contains
both boundaries of the quadrant corresponding to the principal branch.  This
rule also takes precedence over the maximum relative error bounds,
effectively narrowing the result interval allowed by them.
<dt><a name="15">(15)</a><dd>Finally, the following specifications also take precedence over the
maximum relative error bounds:
<dt><a name="16">(16)</a><dd><ul><li>The absolute value of the result of the Sin, Cos, and Tanh
functions never exceeds one.
</ul><dt><a name="17">(17)</a><dd><ul><li>The absolute value of the result of the Coth function is never
less than one.
</ul><dt><a name="18">(18)</a><dd><ul><li>The result of the Cosh function is never less than one.
</ul></dl><h5 align="center">Implementation Advice</h5>
<dl><dt><a name="19">(19)</a><dd>The versions of the forward trigonometric functions without a Cycle
parameter should not be implemented by calling the corresponding version with
a Cycle parameter of 2.0*Numerics.Pi, since this will not provide the
required accuracy in some portions of the domain.  For the same reason, the
version of Log without a Base parameter should not be implemented by calling
the corresponding version with a Base parameter of Numerics.e.
</dl><hr>
<h4><a href="G-02-03.htm"><img src="left.gif" alt="Prev"></a> | <a href="G-02.htm"><img src="up.gif" alt="Up"></a> | <a href="G-02-05.htm"><img src="right.gif" alt="Next"></a> | <a href="G-02-03.htm"><img src="back.gif" alt="Back"></a> | <a href="G-02-05.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
