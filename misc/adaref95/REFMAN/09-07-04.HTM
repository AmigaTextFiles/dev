<html>
<head>
<title>Ada 95 RM - 9.7.4 Asynchronous Transfer of Control</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="09-07-03.htm"><img src="left.gif" alt="Prev"></a> | <a href="09-07.htm"><img src="up.gif" alt="Up"></a> | <img src="noright.gif" alt="____"> | <a href="09-07-03.htm"><img src="back.gif" alt="Back"></a> | <a href="09-08.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>
<h3><a name="0">9.7.4 Asynchronous Transfer of Control</a></h3>
<dl><dt><a name="1">(1)</a><dd>An asynchronous select_statement provides asynchronous transfer of
control upon completion of an entry call or the expiration of a delay.
</dl><h5 align="center"><a name="syntax">Syntax</a></h5>
<pre><a name="2">(2)</a>
       asynchronous_select ::=
         select
          triggering_alternative
         then abort
          abortable_part
         end select;
<a name="3">(3)</a>
       triggering_alternative ::= triggering_statement [sequence_of_statements]
<a name="4">(4)</a>
       triggering_statement ::= entry_call_statement | delay_statement
<a name="5">(5)</a>
       abortable_part ::= sequence_of_statements
</pre><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="6">(6)</a><dd>For the execution of an asynchronous_select whose triggering_statement is
an entry_call_statement, the entry_name and actual parameters are evaluated
as for a simple entry call <a href="09-05-03.htm">(see 9.5.3)</a>, and the entry call is issued.  If the
entry call is queued (or requeued-with-abort), then the abortable_part is
executed.  If the entry call is selected immediately, and never
requeued-with-abort, then the abortable_part is never started.
<dt><a name="7">(7)</a><dd>For the execution of an asynchronous_select whose triggering_statement is
a delay_statement, the delay_expression is evaluated and the expiration time
is determined, as for a normal delay_statement.  If the expiration time has
not already passed, the abortable_part is executed.
<dt><a name="8">(8)</a><dd>If the abortable_part completes and is left prior to completion of the
triggering_statement, an attempt to cancel the triggering_statement is made.
If the attempt to cancel succeeds <a href="09-05-03.htm">(see 9.5.3</a> and <a href="09-06.htm">9.6)</a>, the asynchronous_select is complete.
<dt><a name="9">(9)</a><dd>If the triggering_statement completes other than due to cancellation, the
abortable_part is aborted (if started but not yet completed -- <a href="09-08.htm">see 9.8)</a>.  If
the triggering_statement completes normally, the optional sequence_of_statements of the triggering_alternative is executed after the abortable_part
is left.
</dl><h5 align="center">Examples</h5>
<dl><dt><a name="10">(10)</a><dd><em>Example of a main command loop for a command interpreter:
</em>
</dl><pre><a name="11">(11)</a>
       loop
           select
               Terminal.Wait_For_Interrupt;
               Put_Line("Interrupted");
           then abort
               <em>-- This will be abandoned upon terminal interrupt</em>
               Put_Line("-&gt; ");
               Get_Line(Command, Last);
               Process_Command(Command(1..Last));
           end select;
       end loop;
</pre><dl><dt><a name="12">(12)</a><dd><em>Example of a time-limited calculation:
</em>
</dl><pre><a name="13">(13)</a>
       select
          delay 5.0;
          Put_Line("Calculation does not converge");
       then abort
          <em>-- This calculation should finish in 5.0 seconds;</em>
          <em>--  if not, it is assumed to diverge.</em>
          Horribly_Complicated_Recursive_Function(X, Y);
       end select;
</pre><hr>
<h4><a href="09-07-03.htm"><img src="left.gif" alt="Prev"></a> | <a href="09-07.htm"><img src="up.gif" alt="Up"></a> | <img src="noright.gif" alt="____"> | <a href="09-07-03.htm"><img src="back.gif" alt="Back"></a> | <a href="09-08.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
