<html>
<head>
<title>Ada 95 RM - A.10.7 Input-Output of Characters and Strings</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="A-10-06.htm"><img src="left.gif" alt="Prev"></a> | <a href="A-10.htm"><img src="up.gif" alt="Up"></a> | <a href="A-10-08.htm"><img src="right.gif" alt="Next"></a> | <a href="A-10-06.htm"><img src="back.gif" alt="Back"></a> | <a href="A-10-08.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>
<h3><a name="0">A.10.7 Input-Output of Characters and Strings</a></h3>
<h5 align="center">Static Semantics</h5>
<dl><dt><a name="1">(1)</a><dd>For an item of type Character the following procedures are provided:
</dl><pre><a name="2">(2)</a>
       procedure Get(File : in File_Type; Item : out Character);
       procedure Get(Item : out Character);
</pre><dl><dt><a name="3">(3)</a><dd><ul>After skipping any line terminators and any page terminators,
reads the next character from the specified input file and returns
the value of this character in the out parameter Item.
</ul><dt><a name="4">(4)</a><dd><ul>The exception End_Error is propagated if an attempt is made to
skip a file terminator.
</ul></dl><pre><a name="5">(5)</a>
       procedure Put(File : in File_Type; Item : in Character);
       procedure Put(Item : in Character);
</pre><dl><dt><a name="6">(6)</a><dd><ul>If the line length of the specified output file is bounded (that
is, does not have the conventional value zero), and the current
column number exceeds it, has the effect of calling New_Line with a
spacing of one.  Then, or otherwise, outputs the given character to
the file.
</ul></dl><pre><a name="7">(7)</a>
       procedure Look_Ahead (File        : in  File_Type;
                             Item        : out Character;
                             End_Of_Line : out Boolean);
       procedure Look_Ahead (Item        : out Character;
                             End_Of_Line : out Boolean);
</pre><dl><dt><a name="8">(8)</a><dd><ul>Mode_Error is propagated if the mode of the file is not In_File.
Sets End_Of_Line to True if at end of line, including if at end of
page or at end of file; in each of these cases the value of Item is
not specified.  Otherwise End_Of_Line is set to False and Item is set
to the the next character (without consuming it) from the file.
</ul></dl><pre><a name="9">(9)</a>
       procedure Get_Immediate(File : in  File_Type;
                               Item : out Character);
       procedure Get_Immediate(Item : out Character);
</pre><dl><dt><a name="10">(10)</a><dd><ul>Reads the next character, either control or graphic, from the
specified File or the default input file.  Mode_Error is propagated
if the mode of the file is not In_File.  End_Error is propagated if
at the end of the file.  The current column, line and page numbers
for the file are not affected.
</ul></dl><pre><a name="11">(11)</a>
       procedure Get_Immediate(File      : in  File_Type;
                               Item      : out Character;
                               Available : out Boolean);
       procedure Get_Immediate(Item      : out Character;
                               Available : out Boolean);
</pre><dl><dt><a name="12">(12)</a><dd><ul>If a character, either control or graphic, is available from the
specified File or the default input file, then the character is read;
Available is True and Item contains the value of this character.  If
a character is not available, then Available is False and the value
of Item is not specified.  Mode_Error is propagated if the mode of
the file is not In_File.  End_Error is propagated if at the end of
the file.  The current column, line and page numbers for the file are
not affected.
</ul><dt><a name="13">(13)</a><dd><ul>For an item of type String the following procedures are
provided:
</ul></dl><pre><a name="14">(14)</a>
       procedure Get(File : in File_Type; Item : out String);
       procedure Get(Item : out String);
</pre><dl><dt><a name="15">(15)</a><dd><ul>Determines the length of the given string and attempts that
number of Get operations for successive characters of the string (in
particular, no operation is performed if the string is null).
</ul></dl><pre><a name="16">(16)</a>
       procedure Put(File : in File_Type; Item : in String);
       procedure Put(Item : in String);
</pre><dl><dt><a name="17">(17)</a><dd><ul>Determines the length of the given string and attempts that
number of Put operations for successive characters of the string (in
particular, no operation is performed if the string is null).
</ul></dl><pre><a name="18">(18)</a>
       procedure Get_Line(File : in File_Type; Item : out String; Last : out Natural);
       procedure Get_Line(Item : out String;   Last : out Natural);
</pre><dl><dt><a name="19">(19)</a><dd><ul>Reads successive characters from the specified input file and
assigns them to successive characters of the specified string.
Reading stops if the end of the string is met.  Reading also stops if
the end of the line is met before meeting the end of the string; in
this case Skip_Line is (in effect) called with a spacing of 1.  The
values of characters not assigned are not specified.
</ul><dt><a name="20">(20)</a><dd><ul>If characters are read, returns in Last the index value such
that Item(Last) is the last character assigned (the index of the
first character assigned is Item'First).  If no characters are read,
returns in Last an index value that is one less than Item'First.  The
exception End_Error is propagated if an attempt is made to skip a
file terminator.
</ul></dl><pre><a name="21">(21)</a>
       procedure Put_Line(File : in File_Type; Item : in String);
       procedure Put_Line(Item : in String);
</pre><dl><dt><a name="22">(22)</a><dd><ul>Calls the procedure Put for the given string, and then the
procedure New_Line with a spacing of one.
</ul></dl><h5 align="center">Implementation Advice</h5>
<dl><dt><a name="23">(23)</a><dd>The Get_Immediate procedures should be implemented with unbuffered
input.  For a device such as a keyboard, input should be ``available'' if a
key has already been typed, whereas for a disk file, input should always be
available except at end of file.  For a file associated with a keyboard-like
device, any line-editing features of the underlying operating system should
be disabled during the execution of Get_Immediate.
<p><dt><dd><ul>NOTES</ul>
<dt><a name="24">(24)</a><dd><ul>(26) Get_Immediate can be used to read a single key from the keyboard
``immediately''; that is, without waiting for an end of line.  In a call
of Get_Immediate without the parameter Available, the caller will wait
until a character is available.
</ul><dt><a name="25">(25)</a><dd><ul>(27) In a literal string parameter of Put, the enclosing string bracket
characters are not output.  Each doubled string bracket character in the
enclosed string is output as a single string bracket character, as a
consequence of the rule for string literals <a href="02-06.htm">(see 2.6)</a>.
</ul><dt><a name="26">(26)</a><dd><ul>(28) A string read by Get or written by Put can extend over several
lines.  An implementation is allowed to assume that certain external
files do not contain page terminators, in which case Get_Line and Skip_Line can return as soon as a line terminator is read.
</ul></dl><hr>
<h4><a href="A-10-06.htm"><img src="left.gif" alt="Prev"></a> | <a href="A-10.htm"><img src="up.gif" alt="Up"></a> | <a href="A-10-08.htm"><img src="right.gif" alt="Next"></a> | <a href="A-10-06.htm"><img src="back.gif" alt="Back"></a> | <a href="A-10-08.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
