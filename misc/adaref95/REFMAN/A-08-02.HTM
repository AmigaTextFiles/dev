<html>
<head>
<title>Ada 95 RM - A.8.2 File Management</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="A-08-01.htm"><img src="left.gif" alt="Prev"></a> | <a href="A-08.htm"><img src="up.gif" alt="Up"></a> | <a href="A-08-03.htm"><img src="right.gif" alt="Next"></a> | <a href="A-08-01.htm"><img src="back.gif" alt="Back"></a> | <a href="A-08-03.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>
<h3><a name="0">A.8.2 File Management</a></h3>
<h5 align="center">Static Semantics</h5>
<dl><dt><a name="1">(1)</a><dd>The procedures and functions described in this subclause provide for the
control of external files; their declarations are repeated in each of the
packages for sequential, direct, text, and stream input-output.  For text
input-output, the procedures Create, Open, and Reset have additional effects
described in subclause <a href="A-10-02.htm">A.10.2</a>.
</dl><pre><a name="2">(2)</a>
       procedure Create(File : in out File_Type;
                        Mode : in File_Mode := default_mode;
                        Name : in String := "";
                        Form : in String := "");
</pre><dl><dt><a name="3">(3)</a><dd><ul>Establishes a new external file, with the given name and form,
and associates this external file with the given file.  The given
file is left open.  The current mode of the given file is set to the
given access mode.  The default access mode is the mode Out_File for
sequential and text input-output; it is the mode Inout_File for
direct input-output.  For direct access, the size of the created file
is implementation defined.
</ul><dt><a name="4">(4)</a><dd><ul>A null string for Name specifies an external file that is not
accessible after the completion of the main program (a temporary
file).  A null string for Form specifies the use of the default
options of the implementation for the external file.
</ul><dt><a name="5">(5)</a><dd><ul>The exception Status_Error is propagated if the given file is
already open.  The exception Name_Error is propagated if the string
given as Name does not allow the identification of an external file.
The exception Use_Error is propagated if, for the specified mode, the
external environment does not support creation of an external file
with the given name (in the absence of Name_Error) and form.
</ul></dl><pre><a name="6">(6)</a>
       procedure Open(File : in out File_Type;
                      Mode : in File_Mode;
                      Name : in String;
                      Form : in String := "");
</pre><dl><dt><a name="7">(7)</a><dd><ul>Associates the given file with an existing external file having
the given name and form, and sets the current mode of the given file
to the given mode.  The given file is left open.
</ul><dt><a name="8">(8)</a><dd><ul>The exception Status_Error is propagated if the given file is
already open.  The exception Name_Error is propagated if the string
given as Name does not allow the identification of an external file;
in particular, this exception is propagated if no external file with
the given name exists.  The exception Use_Error is propagated if, for
the specified mode, the external environment does not support opening
for an external file with the given name (in the absence of Name_Error) and form.
</ul></dl><pre><a name="9">(9)</a>
       procedure Close(File : in out File_Type);
</pre><dl><dt><a name="10">(10)</a><dd><ul>Severs the association between the given file and its associated
external file.  The given file is left closed.  In addition, for
sequential files, if the file being closed has mode Out_File or
Append_File, then the last element written since the most recent open
or reset is the last element that can be read from the file.  If no
elements have been written and the file mode is Out_File, then the
closed file is empty.  If no elements have been written and the file
mode is Append_File, then the closed file is unchanged.
</ul><dt><a name="11">(11)</a><dd><ul>The exception Status_Error is propagated if the given file is
not open.
</ul></dl><pre><a name="12">(12)</a>
       procedure Delete(File : in out File_Type);
</pre><dl><dt><a name="13">(13)</a><dd><ul>Deletes the external file associated with the given file.  The
given file is closed, and the external file ceases to exist.
</ul><dt><a name="14">(14)</a><dd><ul>The exception Status_Error is propagated if the given file is
not open.  The exception Use_Error is propagated if deletion of the
external file is not supported by the external environment.
</ul></dl><pre><a name="15">(15)</a>
       procedure Reset(File : in out File_Type; Mode : in File_Mode);
       procedure Reset(File : in out File_Type);
</pre><dl><dt><a name="16">(16)</a><dd><ul>Resets the given file so that reading from its elements can be
restarted from the beginning of the file (for modes In_File and
Inout_File), and so that writing to its elements can be restarted at
the beginning of the file (for modes Out_File and Inout_File) or
after the last element of the file (for mode Append_File).  In
particular, for direct access this means that the current index is
set to one.  If a Mode parameter is supplied, the current mode of the
given file is set to the given mode.  In addition, for sequential
files, if the given file has mode Out_File or Append_File when Reset
is called, the last element written since the most recent open or
reset is the last element that can be read from the file.  If no
elements have been written and the file mode is Out_File, the reset
file is empty.  If no elements have been written and the file mode is
Append_File, then the reset file is unchanged.
</ul><dt><a name="17">(17)</a><dd><ul>The exception Status_Error is propagated if the file is not
open.  The exception Use_Error is propagated if the external
environment does not support resetting for the external file and,
also, if the external environment does not support resetting to the
specified mode for the external file.
</ul></dl><pre><a name="18">(18)</a>
       function Mode(File : in File_Type) return File_Mode;
</pre><dl><dt><a name="19">(19)</a><dd><ul>Returns the current mode of the given file.
</ul><dt><a name="20">(20)</a><dd><ul>The exception Status_Error is propagated if the file is not
open.
</ul></dl><pre><a name="21">(21)</a>
       function Name(File : in File_Type) return String;
</pre><dl><dt><a name="22">(22)</a><dd><ul>Returns a string which uniquely identifies the external file
currently associated with the given file (and may thus be used in an
Open operation).  If an external environment allows alternative
specifications of the name (for example, abbreviations), the string
returned by the function should correspond to a full specification of
the name.
</ul><dt><a name="23">(23)</a><dd><ul>The exception Status_Error is propagated if the given file is
not open.  The exception Use_Error is propagated if the associated
external file is a temporary file that cannot be opened by any name.
</ul></dl><pre><a name="24">(24)</a>
       function Form(File : in File_Type) return String;
</pre><dl><dt><a name="25">(25)</a><dd><ul>Returns the form string for the external file currently
associated with the given file.  If an external environment allows
alternative specifications of the form (for example, abbreviations
using default options), the string returned by the function should
correspond to a full specification (that is, it should indicate
explicitly all options selected, including default options).
</ul><dt><a name="26">(26)</a><dd><ul>The exception Status_Error is propagated if the given file is
not open.
</ul></dl><pre><a name="27">(27)</a>
       function Is_Open(File : in File_Type) return Boolean;
</pre><dl><dt><a name="28">(28)</a><dd><ul>Returns True if the file is open (that is, if it is associated
with an external file), otherwise returns False.
</ul></dl><h5 align="center">Implementation Permissions</h5>
<dl><dt><a name="29">(29)</a><dd>An implementation may propagate Name_Error or Use_Error if an attempt is
made to use an I/O feature that cannot be supported by the implementation due
to limitations in the external environment.  Any such restriction should be
documented.
</dl><hr>
<h4><a href="A-08-01.htm"><img src="left.gif" alt="Prev"></a> | <a href="A-08.htm"><img src="up.gif" alt="Up"></a> | <a href="A-08-03.htm"><img src="right.gif" alt="Next"></a> | <a href="A-08-01.htm"><img src="back.gif" alt="Back"></a> | <a href="A-08-03.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
