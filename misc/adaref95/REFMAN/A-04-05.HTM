<html>
<head>
<title>Ada 95 RM - A.4.5 Unbounded-Length String Handling</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="A-04-04.htm"><img src="left.gif" alt="Prev"></a> | <a href="A-04.htm"><img src="up.gif" alt="Up"></a> | <a href="A-04-06.htm"><img src="right.gif" alt="Next"></a> | <a href="A-04-04.htm"><img src="back.gif" alt="Back"></a> | <a href="A-04-06.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>
<h3><a name="0">A.4.5 Unbounded-Length String Handling</a></h3>
<dl><dt><a name="1">(1)</a><dd>The language-defined package Strings.Unbounded provides a private type
Unbounded_String and a set of operations.  An object of type Unbounded_String
represents a String whose low bound is 1 and whose length can vary
conceptually between 0 and Natural'Last.  The subprograms for fixed-length
string handling are either overloaded directly for Unbounded_String, or are
modified as needed to reflect the flexibility in length.  Since the
Unbounded_String type is private, relevant constructor and selector
operations are provided.
</dl><h5 align="center">Static Semantics</h5>
<dl><dt><a name="2">(2)</a><dd>The library package Strings.Unbounded has the following declaration:
</dl><pre><a name="3">(3)</a>
       with Ada.Strings.Maps;
       package Ada.Strings.Unbounded is
          pragma Preelaborate(Unbounded);
<a name="4">(4)</a>
          type Unbounded_String is private;
<a name="5">(5)</a>
          Null_Unbounded_String : constant Unbounded_String;
<a name="6">(6)</a>
          function Length (Source : in Unbounded_String) return Natural;
<a name="7">(7)</a>
          type String_Access is access all String;
          procedure Free (X : in out String_Access);
<a name="8">(8)</a>
       <em>-- Conversion, Concatenation, and Selection functions</em>
<a name="9">(9)</a>
          function To_Unbounded_String (Source : in String)
             return Unbounded_String;
<a name="10">(10)</a>
          function To_Unbounded_String (Length : in Natural)
             return Unbounded_String;
<a name="11">(11)</a>
          function To_String (Source : in Unbounded_String) return String;
<a name="12">(12)</a>
          procedure Append (Source   : in out Unbounded_String;
                            New_Item : in Unbounded_String);
<a name="13">(13)</a>
          procedure Append (Source   : in out Unbounded_String;
                            New_Item : in String);
<a name="14">(14)</a>
          procedure Append (Source   : in out Unbounded_String;
                            New_Item : in Character);
<a name="15">(15)</a>
          function "&amp;" (Left, Right : in Unbounded_String)
             return Unbounded_String;
<a name="16">(16)</a>
          function "&amp;" (Left : in Unbounded_String; Right : in String)
             return Unbounded_String;
<a name="17">(17)</a>
          function "&amp;" (Left : in String; Right : in Unbounded_String)
             return Unbounded_String;
<a name="18">(18)</a>
          function "&amp;" (Left : in Unbounded_String; Right : in Character)
             return Unbounded_String;
<a name="19">(19)</a>
          function "&amp;" (Left : in Character; Right : in Unbounded_String)
             return Unbounded_String;
<a name="20">(20)</a>
          function Element (Source : in Unbounded_String;
                            Index  : in Positive)
             return Character;
<a name="21">(21)</a>
          procedure Replace_Element (Source : in out Unbounded_String;
                                     Index  : in Positive;
                                     By     : in Character);
<a name="22">(22)</a>
          function Slice (Source : in Unbounded_String;
                          Low    : in Positive;
                          High   : in Natural)
             return String;
<a name="23">(23)</a>
          function "="  (Left, Right : in Unbounded_String) return Boolean;
<a name="24">(24)</a>
          function "="  (Left : in Unbounded_String; Right : in String)
            return Boolean;
<a name="25">(25)</a>
          function "="  (Left : in String; Right : in Unbounded_String)
            return Boolean;
<a name="26">(26)</a>
          function "&lt;"  (Left, Right : in Unbounded_String) return Boolean;
<a name="27">(27)</a>
          function "&lt;"  (Left : in Unbounded_String; Right : in String)
            return Boolean;
<a name="28">(28)</a>
          function "&lt;"  (Left : in String; Right : in Unbounded_String)
            return Boolean;
<a name="29">(29)</a>
          function "&lt;=" (Left, Right : in Unbounded_String) return Boolean;
<a name="30">(30)</a>
          function "&lt;="  (Left : in Unbounded_String; Right : in String)
            return Boolean;
<a name="31">(31)</a>
          function "&lt;="  (Left : in String; Right : in Unbounded_String)
            return Boolean;
<a name="32">(32)</a>
          function "&gt;"  (Left, Right : in Unbounded_String) return Boolean;
<a name="33">(33)</a>
          function "&gt;"  (Left : in Unbounded_String; Right : in String)
            return Boolean;
<a name="34">(34)</a>
          function "&gt;"  (Left : in String; Right : in Unbounded_String)
            return Boolean;
<a name="35">(35)</a>
          function "&gt;=" (Left, Right : in Unbounded_String) return Boolean;
<a name="36">(36)</a>
          function "&gt;="  (Left : in Unbounded_String; Right : in String)
            return Boolean;
<a name="37">(37)</a>
          function "&gt;="  (Left : in String; Right : in Unbounded_String)
            return Boolean;
<a name="38">(38)</a>
       <em>-- Search subprograms</em>
<a name="39">(39)</a>
          function Index (Source   : in Unbounded_String;
                          Pattern  : in String;
                          Going    : in Direction := Forward;
                          Mapping  : in Maps.Character_Mapping
                                       := Maps.Identity)
             return Natural;
<a name="40">(40)</a>
          function Index (Source   : in Unbounded_String;
                          Pattern  : in String;
                          Going    : in Direction := Forward;
                          Mapping  : in Maps.Character_Mapping_Function)
             return Natural;
<a name="41">(41)</a>
          function Index (Source : in Unbounded_String;
                          Set    : in Maps.Character_Set;
                          Test   : in Membership := Inside;
                          Going  : in Direction  := Forward) return Natural;
<a name="42">(42)</a>
          function Index_Non_Blank (Source : in Unbounded_String;
                                    Going  : in Direction := Forward)
             return Natural;
<a name="43">(43)</a>
          function Count (Source   : in Unbounded_String;
                          Pattern  : in String;
                          Mapping  : in Maps.Character_Mapping
                                       := Maps.Identity)
             return Natural;
<a name="44">(44)</a>
          function Count (Source   : in Unbounded_String;
                          Pattern  : in String;
                          Mapping  : in Maps.Character_Mapping_Function)
             return Natural;
<a name="45">(45)</a>
          function Count (Source   : in Unbounded_String;
                          Set      : in Maps.Character_Set)
             return Natural;
<a name="46">(46)</a>
          procedure Find_Token (Source : in Unbounded_String;
                                Set    : in Maps.Character_Set;
                                Test   : in Membership;
                                First  : out Positive;
                                Last   : out Natural);
<a name="47">(47)</a>
       <em>-- String translation subprograms</em>
<a name="48">(48)</a>
          function Translate (Source  : in Unbounded_String;
                              Mapping : in Maps.Character_Mapping)
             return Unbounded_String;
<a name="49">(49)</a>
          procedure Translate (Source  : in out Unbounded_String;
                               Mapping : in Maps.Character_Mapping);
<a name="50">(50)</a>
          function Translate (Source  : in Unbounded_String;
                              Mapping : in Maps.Character_Mapping_Function)
             return Unbounded_String;
<a name="51">(51)</a>
          procedure Translate (Source  : in out Unbounded_String;
                               Mapping : in Maps.Character_Mapping_Function);
<a name="52">(52)</a>
       <em>-- String transformation subprograms</em>
<a name="53">(53)</a>
          function Replace_Slice (Source   : in Unbounded_String;
                                  Low      : in Positive;
                                  High     : in Natural;
                                  By       : in String)
             return Unbounded_String;
<a name="54">(54)</a>
          procedure Replace_Slice (Source   : in out Unbounded_String;
                                   Low      : in Positive;
                                   High     : in Natural;
                                   By       : in String);
<a name="55">(55)</a>
          function Insert (Source   : in Unbounded_String;
                           Before   : in Positive;
                           New_Item : in String)
             return Unbounded_String;
<a name="56">(56)</a>
          procedure Insert (Source   : in out Unbounded_String;
                            Before   : in Positive;
                            New_Item : in String);
<a name="57">(57)</a>
          function Overwrite (Source    : in Unbounded_String;
                              Position  : in Positive;
                              New_Item  : in String)
             return Unbounded_String;
<a name="58">(58)</a>
          procedure Overwrite (Source    : in out Unbounded_String;
                               Position  : in Positive;
                               New_Item  : in String);
<a name="59">(59)</a>
          function Delete (Source  : in Unbounded_String;
                           From    : in Positive;
                           Through : in Natural)
             return Unbounded_String;
<a name="60">(60)</a>
          procedure Delete (Source  : in out Unbounded_String;
                            From    : in Positive;
                            Through : in Natural);
<a name="61">(61)</a>
          function Trim (Source : in Unbounded_String;
                         Side   : in Trim_End)
             return Unbounded_String;
<a name="62">(62)</a>
          procedure Trim (Source : in out Unbounded_String;
                          Side   : in Trim_End);
<a name="63">(63)</a>
          function Trim (Source : in Unbounded_String;
                         Left   : in Maps.Character_Set;
                         Right  : in Maps.Character_Set)
             return Unbounded_String;
<a name="64">(64)</a>
          procedure Trim (Source : in out Unbounded_String;
                          Left   : in Maps.Character_Set;
                          Right  : in Maps.Character_Set);
<a name="65">(65)</a>
          function Head (Source : in Unbounded_String;
                         Count  : in Natural;
                         Pad    : in Character := Space)
             return Unbounded_String;
<a name="66">(66)</a>
          procedure Head (Source : in out Unbounded_String;
                          Count  : in Natural;
                          Pad    : in Character := Space);
<a name="67">(67)</a>
          function Tail (Source : in Unbounded_String;
                         Count  : in Natural;
                         Pad    : in Character := Space)
             return Unbounded_String;
<a name="68">(68)</a>
          procedure Tail (Source : in out Unbounded_String;
                          Count  : in Natural;
                          Pad    : in Character := Space);
<a name="69">(69)</a>
          function "*" (Left  : in Natural;
                        Right : in Character)
             return Unbounded_String;
<a name="70">(70)</a>
          function "*" (Left  : in Natural;
                        Right : in String)
             return Unbounded_String;
<a name="71">(71)</a>
          function "*" (Left  : in Natural;
                        Right : in Unbounded_String)
             return Unbounded_String;
<a name="72">(72)</a>
       private
          ... <em>-- not specified by the language</em>
       end Ada.Strings.Unbounded;
</pre><dl><dt><a name="73">(73)</a><dd>Null_Unbounded_String represents the null String.  If an object of type
Unbounded_String is not otherwise initialized, it will be initialized to the
same value as Null_Unbounded_String.
<dt><a name="74">(74)</a><dd>The function Length returns the length of the String represented by
Source.
<dt><a name="75">(75)</a><dd>The type String_Access provides a (non-private) access type for explicit
processing of unbounded-length strings.  The procedure Free performs an
unchecked deallocation of an object of type String_Access.
<dt><a name="76">(76)</a><dd>The function To_Unbounded_String(Source : in String) returns an
Unbounded_String that represents Source.  The function To_Unbounded_String(Length : in Natural) returns an Unbounded_String that represents an
uninitialized String whose length is Length.
<dt><a name="77">(77)</a><dd>The function To_String returns the String with lower bound 1 represented
by Source.  To_String and To_Unbounded_String are related as follows:
<dt><a name="78">(78)</a><dd><ul><li>If S is a String, then To_String(To_Unbounded_String(S)) = S.
</ul><dt><a name="79">(79)</a><dd><ul><li>If U is an Unbounded_String, then To_Unbounded_String(To_String(U)) = U.
</ul><dt><a name="80">(80)</a><dd>For each of the Append procedures, the resulting string represented by
the Source parameter is given by the concatenation of the original value of
Source and the value of New_Item.
<dt><a name="81">(81)</a><dd>Each of the "&amp;" functions returns an Unbounded_String obtained by
concatenating the string or character given or represented by one of the
parameters, with the string or character given or represented by the other
parameter, and applying To_Unbounded_String to the concatenation result
string.
<dt><a name="82">(82)</a><dd>The Element, Replace_Element, and Slice subprograms have the same effect
as the corresponding bounded-length string subprograms.
<dt><a name="83">(83)</a><dd>Each of the functions "=", "&lt;", "&gt;","&lt;=", and "&gt;=" returns the same
result as the corresponding String operation applied to the String values
given or represented by Left and Right.
<dt><a name="84">(84)</a><dd>Each of the search subprograms (Index, Index_Non_Blank, Count, Find_Token) has the same effect as the corresponding subprogram in Strings.Fixed
applied to the string represented by the Unbounded_String parameter.
<dt><a name="85">(85)</a><dd>The Translate function has an analogous effect to the corresponding
subprogram in Strings.Fixed.  The translation is applied to the string
represented by the Unbounded_String parameter, and the result is converted
(via To_Unbounded_String) to an Unbounded_String.
<dt><a name="86">(86)</a><dd>Each of the transformation functions (Replace_Slice, Insert, Overwrite,
Delete), selector functions (Trim, Head, Tail), and constructor functions
("*") is likewise analogous to its corresponding subprogram in Strings.Fixed.
For each of the subprograms, the corresponding fixed-length string subprogram
is applied to the string represented by the Unbounded_String parameter, and
To_Unbounded_String is applied the result string.
<dt><a name="87">(87)</a><dd>For each of the procedures Translate, Replace_Slice, Insert, Overwrite,
Delete, Trim, Head, and Tail, the resulting string represented by the Source
parameter is given by the corresponding function for fixed-length strings
applied to the string represented by Source's original value.
</dl><h5 align="center">Implementation Requirements</h5>
<dl><dt><a name="88">(88)</a><dd>No storage associated with an Unbounded_String object shall be lost upon
assignment or scope exit.
</dl><hr>
<h4><a href="A-04-04.htm"><img src="left.gif" alt="Prev"></a> | <a href="A-04.htm"><img src="up.gif" alt="Up"></a> | <a href="A-04-06.htm"><img src="right.gif" alt="Next"></a> | <a href="A-04-04.htm"><img src="back.gif" alt="Back"></a> | <a href="A-04-06.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
