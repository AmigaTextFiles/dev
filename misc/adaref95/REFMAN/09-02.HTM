<html>
<head>
<title>Ada 95 RM - 9.2 Task Execution - Task Activation</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="09-01.htm"><img src="left.gif" alt="Prev"></a> | <a href="09.htm"><img src="up.gif" alt="Up"></a> | <a href="09-03.htm"><img src="right.gif" alt="Next"></a> | <a href="09-01.htm"><img src="back.gif" alt="Back"></a> | <a href="09-03.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">9.2 Task Execution - Task Activation</a></h2>
<h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="1">(1)</a><dd>The execution of a task of a given task type consists of the execution of
the corresponding task_body.  The initial part of this execution is called
the activation of the task; it consists of the elaboration of the
declarative_part of the task_body.  Should an exception be propagated by the
elaboration of its declarative_part, the activation of the task is defined to
have failed, and it becomes a completed task.
<dt><a name="2">(2)</a><dd>A task object (which represents one task) can be created either as part
of the elaboration of an object_declaration occurring immediately within some
declarative region, or as part of the evaluation of an allocator.  All tasks
created by the elaboration of object_declarations of a single declarative
region (including subcomponents of the declared objects) are activated
together.  Similarly, all tasks created by the evaluation of a single
allocator are activated together.  The activation of a task is associated
with the innermost allocator or object_declaration that is responsible for
its creation.
<dt><a name="3">(3)</a><dd>For tasks created by the elaboration of object_declarations of a given
declarative region, the activations are initiated within the context of the
handled_sequence_of_statements (and its associated exception_handlers if any
-- <a href="11-02.htm">see 11.2)</a>, just prior to executing the statements of the _sequence.  For a
package without an explicit body or an explicit handled_sequence_of_statements, an implicit body or an implicit null_statement is assumed, as
defined <a href="07-02.htm">in 7.2</a>.
<dt><a name="4">(4)</a><dd>For tasks created by the evaluation of an allocator, the activations are
initiated as the last step of evaluating the allocator, after completing any
initialization for the object created by the allocator, and prior to
returning the new access value.
<dt><a name="5">(5)</a><dd>The task that created the new tasks and initiated their activations (the
activator) is blocked until all of these activations complete (successfully
or not).  Once all of these activations are complete, if the activation of
any of the tasks has failed (due to the propagation of an exception),
Tasking_Error is raised in the activator, at the place at which it initiated
the activations.  Otherwise, the activator proceeds with its execution
normally.  Any tasks that are aborted prior to completing their activation
are ignored when determining whether to raise Tasking_Error.
<dt><a name="6">(6)</a><dd>Should the task that created the new tasks never reach the point where it
would initiate the activations (due to an abort or the raising of an
exception), the newly created tasks become terminated and are never
activated.
<p><dt><dd><ul>NOTES</ul>
<dt><a name="7">(7)</a><dd><ul>(5) An entry of a task can be called before the task has been activated.
</ul><dt><a name="8">(8)</a><dd><ul>(6) If several tasks are activated together, the execution of any of
these tasks need not await the end of the activation of the other tasks.
</ul><dt><a name="9">(9)</a><dd><ul>(7) A task can become completed during its activation either because of
an exception or because it is aborted <a href="09-08.htm">(see 9.8)</a>.
</ul></dl><h5 align="center">Examples</h5>
<dl><dt><a name="10">(10)</a><dd><em>Example of task activation:
</em>
</dl><pre><a name="11">(11)</a>
       procedure P is
          A, B : Server;    <em>--  elaborate the task objects A, B</em>
          C    : Server;    <em>--  elaborate the task object C</em>
       begin
          <em>--  the tasks A, B, C are activated together before the first statement</em>
          ...
       end;
</pre><p>
<hr>
<h4><a href="09-01.htm"><img src="left.gif" alt="Prev"></a> | <a href="09.htm"><img src="up.gif" alt="Up"></a> | <a href="09-03.htm"><img src="right.gif" alt="Next"></a> | <a href="09-01.htm"><img src="back.gif" alt="Back"></a> | <a href="09-03.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
