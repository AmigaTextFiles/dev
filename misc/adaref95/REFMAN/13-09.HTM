<html>
<head>
<title>Ada 95 RM - 13.9 Unchecked Type Conversions</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="13-08.htm"><img src="left.gif" alt="Prev"></a> | <a href="13.htm"><img src="up.gif" alt="Up"></a> | <a href="13-10.htm"><img src="right.gif" alt="Next"></a> | <a href="13-08.htm"><img src="back.gif" alt="Back"></a> | <a href="13-09-01.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">13.9 Unchecked Type Conversions</a>
 -- <a href="toc13-09.htm">TOC</a>
</h2>
<dl><dt><a name="1">(1)</a><dd>An unchecked type conversion can be achieved by a call to an instance of
the generic function Unchecked_Conversion.
</dl><h5 align="center">Static Semantics</h5>
<dl><dt><a name="2">(2)</a><dd>The following language-defined generic library function exists:
</dl><pre><a name="3">(3)</a>
       generic
          type Source(&lt;&gt;) is limited private;
          type Target(&lt;&gt;) is limited private;
       function Ada.Unchecked_Conversion(S : Source) return Target;
       pragma Convention(Intrinsic, Ada.Unchecked_Conversion);
       pragma Pure(Ada.Unchecked_Conversion);
</pre><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="4">(4)</a><dd>The size of the formal parameter S in an instance of Unchecked_Conversion
is that of its subtype.  This is the actual subtype passed to Source, except
when the actual is an unconstrained composite subtype, in which case the
subtype is constrained by the bounds or discriminants of the value of the
actual expression passed to S.
<dt><a name="5">(5)</a><dd>If all of the following are true, the effect of an unchecked conversion
is to return the value of an object of the target subtype whose
representation is the same as that of the source object S:
<dt><a name="6">(6)</a><dd><ul><li>S'Size = Target'Size.
</ul><dt><a name="7">(7)</a><dd><ul><li>S'Alignment = Target'Alignment.
</ul><dt><a name="8">(8)</a><dd><ul><li>The target subtype is not an unconstrained composite subtype.
</ul><dt><a name="9">(9)</a><dd><ul><li>S and the target subtype both have a contiguous representation.
</ul><dt><a name="10">(10)</a><dd><ul><li>The representation of S is a representation of an object of the
target subtype.
</ul><dt><a name="11">(11)</a><dd>Otherwise, the effect is implementation defined; in particular, the
result can be abnormal <a href="13-09-01.htm">(see 13.9.1)</a>.
</dl><h5 align="center">Implementation Permissions</h5>
<dl><dt><a name="12">(12)</a><dd>An implementation may return the result of an unchecked conversion by
reference, if the Source type is not a by-copy type.  In this case, the
result of the unchecked conversion represents simply a different (read-only)
view of the operand of the conversion.
<dt><a name="13">(13)</a><dd>An implementation may place restrictions on Unchecked_Conversion.
</dl><h5 align="center">Implementation Advice</h5>
<dl><dt><a name="14">(14)</a><dd>The Size of an array object should not include its bounds; hence, the
bounds should not be part of the converted data.
<dt><a name="15">(15)</a><dd>The implementation should not generate unnecessary run-time checks to
ensure that the representation of S is a representation of the target type.
It should take advantage of the permission to return by reference when
possible.  Restrictions on unchecked conversions should be avoided unless
required by the target environment.
<dt><a name="16">(16)</a><dd>The recommended level of support for unchecked conversions is:
<dt><a name="17">(17)</a><dd><ul><li>Unchecked conversions should be supported and should be
reversible in the cases where this clause defines the result.  To
enable meaningful use of unchecked conversion, a contiguous
representation should be used for elementary subtypes, for
statically constrained array subtypes whose component subtype is
one of the subtypes described in this paragraph, and for record
subtypes without discriminants whose component subtypes are
described in this paragraph.
</ul></dl><hr><h3>Subclauses</h3>
<ol>
<li><a href="13-09-01.htm">Data Validity</a>
<li><a href="13-09-02.htm">The Valid Attribute</a>
</ol>
<p>
<hr>
<h4><a href="13-08.htm"><img src="left.gif" alt="Prev"></a> | <a href="13.htm"><img src="up.gif" alt="Up"></a> | <a href="13-10.htm"><img src="right.gif" alt="Next"></a> | <a href="13-08.htm"><img src="back.gif" alt="Back"></a> | <a href="13-09-01.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
