<html>
<head>
<title>Ada 95 RM - D.12 Other Optimizations and Determinism Rules</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="D-11.htm"><img src="left.gif" alt="Prev"></a> | <a href="D.htm"><img src="up.gif" alt="Up"></a> | <img src="noright.gif" alt="____"> | <a href="D-11.htm"><img src="back.gif" alt="Back"></a> | <a href="E.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">D.12 Other Optimizations and Determinism Rules</a></h2>
<dl><dt><a name="1">(1)</a><dd>This clause describes various requirements for improving the response and
determinism in a real-time system.
</dl><h5 align="center">Implementation Requirements</h5>
<dl><dt><a name="2">(2)</a><dd>If the implementation blocks interrupts <a href="C-03.htm">(see C.3)</a> not as a result of
direct user action (e.g. an execution of a protected action) there shall be
an upper bound on the duration of this blocking.
<dt><a name="3">(3)</a><dd>The implementation shall recognize entry-less protected types.  The
overhead of acquiring the execution resource of an object of such a type <a href="09-05-01.htm">(see 9.5.1)</a> shall be minimized.  In particular, there should not be any overhead
due to evaluating entry_barrier conditions.
<dt><a name="4">(4)</a><dd>Unchecked_Deallocation shall be supported for terminated tasks that are
designated by access types, and shall have the effect of releasing all the
storage associated with the task.  This includes any run-time system or heap
storage that has been implicitly allocated for the task by the
implementation.
</dl><h5 align="center">Documentation Requirements</h5>
<dl><dt><a name="5">(5)</a><dd>The implementation shall document the upper bound on the duration of
interrupt blocking caused by the implementation.  If this is different for
different interrupts or interrupt priority levels, it should be documented
for each case.
</dl><h5 align="center">Metrics</h5>
<dl><dt><a name="6">(6)</a><dd>The implementation shall document the following metric:
<dt><a name="7">(7)</a><dd><ul><li>The overhead associated with obtaining a mutual-exclusive access
to an entry-less protected object.  This shall be measured in the
following way:
</ul><dt><a name="8">(8)</a><dd><ul>For a protected object of the form:
</ul></dl><pre><a name="9">(9)</a>
            protected Lock is
               procedure Set;
               function Read return Boolean;
            private
               Flag : Boolean := False;
            end Lock;
<a name="10">(10)</a>
            protected body Lock is
               procedure Set is
               begin
                  Flag := True;
               end Set;
               function Read return Boolean
               Begin
                  return Flag;
               end Read;
            end Lock;
</pre><dl><dt><a name="11">(11)</a><dd><ul>The execution time, in processor clock cycles, of a call to
Set.  This shall be measured between the point just before
issuing the call, and the point just after the call completes.
The function Read shall be called later to verify that Set was
indeed called (and not optimized away).  The calling task shall
have sufficiently high priority as to not be preempted during the
measurement period.  The protected object shall have sufficiently
high ceiling priority to allow the task to call Set.
</ul><dt><a name="12">(12)</a><dd><ul>For a multiprocessor, if supported, the metric shall be
reported for the case where no contention (on the execution
resource) exists from tasks executing on other processors.
</ul></dl><p>
<hr>
<h4><a href="D-11.htm"><img src="left.gif" alt="Prev"></a> | <a href="D.htm"><img src="up.gif" alt="Up"></a> | <img src="noright.gif" alt="____"> | <a href="D-11.htm"><img src="back.gif" alt="Back"></a> | <a href="E.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
