<html>
<head>
<title>Ada 95 RM - G.1.2 Complex Elementary Functions</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="G-01-01.htm"><img src="left.gif" alt="Prev"></a> | <a href="G-01.htm"><img src="up.gif" alt="Up"></a> | <a href="G-01-03.htm"><img src="right.gif" alt="Next"></a> | <a href="G-01-01.htm"><img src="back.gif" alt="Back"></a> | <a href="G-01-03.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>
<h3><a name="0">G.1.2 Complex Elementary Functions</a></h3>
<h5 align="center">Static Semantics</h5>
<dl><dt><a name="1">(1)</a><dd>The generic library package Numerics.Generic_Complex_Elementary_Functions
has the following declaration:
</dl><pre><a name="2">(2)</a>
       with Ada.Numerics.Generic_Complex_Types;
       generic
          with package Complex_Types is new Ada.Numerics.Generic_Complex_Types (&lt;&gt;);
          use Complex_Types;
       package Ada.Numerics.Generic_Complex_Elementary_Functions is
          pragma Pure(Generic_Complex_Elementary_Functions);
<a name="3">(3)</a>
          function Sqrt (X : Complex)   return Complex;
          function Log  (X : Complex)   return Complex;
          function Exp  (X : Complex)   return Complex;
          function Exp  (X : Imaginary) return Complex;
          function "**" (Left : Complex;   Right : Complex)   return Complex;
          function "**" (Left : Complex;   Right : Real'Base) return Complex;
          function "**" (Left : Real'Base; Right : Complex)   return Complex;
<a name="4">(4)</a>
          function Sin (X : Complex) return Complex;
          function Cos (X : Complex) return Complex;
          function Tan (X : Complex) return Complex;
          function Cot (X : Complex) return Complex;
<a name="5">(5)</a>
          function Arcsin (X : Complex) return Complex;
          function Arccos (X : Complex) return Complex;
          function Arctan (X : Complex) return Complex;
          function Arccot (X : Complex) return Complex;
<a name="6">(6)</a>
          function Sinh (X : Complex) return Complex;
          function Cosh (X : Complex) return Complex;
          function Tanh (X : Complex) return Complex;
          function Coth (X : Complex) return Complex;
<a name="7">(7)</a>
          function Arcsinh (X : Complex) return Complex;
          function Arccosh (X : Complex) return Complex;
          function Arctanh (X : Complex) return Complex;
          function Arccoth (X : Complex) return Complex;
<a name="8">(8)</a>
       end Ada.Numerics.Generic_Complex_Elementary_Functions;
</pre><dl><dt><a name="9">(9)</a><dd>The library package Numerics.Complex_Elementary_Functions defines the
same subprograms as Numerics.Generic_Complex_Elementary_Functions, except
that the predefined type Float is systematically substituted for Real'Base,
and the Complex and Imaginary types exported by Numerics.Complex_Types are
systematically substituted for Complex and Imaginary, throughout.  Nongeneric
equivalents of Numerics.Generic_Complex_Elementary_Functions corresponding to
each of the other predefined floating point types are defined similarly, with
the names Numerics.Short_Complex_Elementary_Functions, Numerics.Long_Complex_Elementary_Functions, etc.
<dt><a name="10">(10)</a><dd>The overloading of the Exp function for the pure-imaginary type is
provided to give the user an alternate way to compose a complex value from a
given modulus and argument.  In addition to Compose_From_Polar(Rho, Theta)
<a href="G-01-01.htm">(see G.1.1)</a>, the programmer may write Rho * Exp(i * Theta).
<dt><a name="11">(11)</a><dd>The imaginary (resp., real) component of the parameter X of the forward
hyperbolic (resp., trigonometric) functions and of the Exp function (and the
parameter X, itself, in the case of the overloading of the Exp function for
the pure-imaginary type) represents an angle measured in radians, as does the
imaginary (resp., real) component of the result of the Log and inverse
hyperbolic (resp., trigonometric) functions.
<dt><a name="12">(12)</a><dd>The functions have their usual mathematical meanings.  However, the
arbitrariness inherent in the placement of branch cuts, across which some of
the complex elementary functions exhibit discontinuities, is eliminated by
the following conventions:
<dt><a name="13">(13)</a><dd><ul><li>The imaginary component of the result of the Sqrt and Log
functions is discontinuous as the parameter X crosses the
negative real axis.
</ul><dt><a name="14">(14)</a><dd><ul><li>The result of the exponentiation operator when the left operand
is of complex type is discontinuous as that operand crosses the
negative real axis.
</ul><dt><a name="15">(15)</a><dd><ul><li>The real (resp., imaginary) component of the result of the Arcsin
and Arccos (resp., Arctanh) functions is discontinuous as the
parameter X crosses the real axis to the left of -1.0 or the
right of 1.0.
</ul><dt><a name="16">(16)</a><dd><ul><li>The real (resp., imaginary) component of the result of the Arctan
(resp., Arcsinh) function is discontinuous as the parameter X
crosses the imaginary axis below -i or above i.
</ul><dt><a name="17">(17)</a><dd><ul><li>The real component of the result of the Arccot function is
discontinuous as the parameter X crosses the imaginary axis
between -i and i.
</ul><dt><a name="18">(18)</a><dd><ul><li>The imaginary component of the Arccosh function is discontinuous
as the parameter X crosses the real axis to the left of 1.0.
</ul><dt><a name="19">(19)</a><dd><ul><li>The imaginary component of the result of the Arccoth function is
discontinuous as the parameter X crosses the real axis between
-1.0 and 1.0.
</ul><dt><a name="20">(20)</a><dd>The computed results of the mathematically multivalued functions are
rendered single-valued by the following conventions, which are meant to imply
the principal branch:
<dt><a name="21">(21)</a><dd><ul><li>The real component of the result of the Sqrt and Arccosh
functions is nonnegative.
</ul><dt><a name="22">(22)</a><dd><ul><li>The same convention applies to the imaginary component of the
result of the Log function as applies to the result of the
natural-cycle version of the Argument function of Numerics.Generic_Complex_Types <a href="G-01-01.htm">(see G.1.1)</a>.
</ul><dt><a name="23">(23)</a><dd><ul><li>The range of the real (resp., imaginary) component of the result
of the Arcsin and Arctan (resp., Arcsinh and Arctanh) functions
is approximately -Pi/2.0 to Pi/2.0.
</ul><dt><a name="24">(24)</a><dd><ul><li>The real (resp., imaginary) component of the result of the Arccos
and Arccot (resp., Arccoth) functions ranges from 0.0 to
approximately Pi.
</ul><dt><a name="25">(25)</a><dd><ul><li>The range of the imaginary component of the result of the Arccosh
function is approximately -Pi to Pi.
</ul><dt><a name="26">(26)</a><dd>In addition, the exponentiation operator inherits the single-valuedness
of the Log function.
</dl><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="27">(27)</a><dd>The exception Numerics.Argument_Error is raised by the exponentiation
operator, signaling a parameter value outside the domain of the corresponding
mathematical function, when the value of the left operand is zero and the
real component of the exponent (or the exponent itself, when it is of real
type) is zero.
<dt><a name="28">(28)</a><dd>The exception Constraint_Error is raised, signaling a pole of the
mathematical function (analogous to dividing by zero), in the following
cases, provided that Complex_Types.Real'Machine_Overflows is True:
<dt><a name="29">(29)</a><dd><ul><li>by the Log, Cot, and Coth functions, when the value of the
parameter X is zero;
</ul><dt><a name="30">(30)</a><dd><ul><li>by the exponentiation operator, when the value of the left
operand is zero and the real component of the exponent (or the
exponent itself, when it is of real type) is negative;
</ul><dt><a name="31">(31)</a><dd><ul><li>by the Arctan and Arccot functions, when the value of the
parameter X is +/-i;
</ul><dt><a name="32">(32)</a><dd><ul><li>by the Arctanh and Arccoth functions, when the value of the
parameter X is +/-1.0.
</ul><dt><a name="33">(33)</a><dd>Constraint_Error can also be raised when a finite result overflows <a href="G-02-06.htm">(see G.2.6)</a>; this may occur for parameter values sufficiently near poles, and, in
the case of some of the functions, for parameter values having components of
sufficiently large magnitude.  When Complex_Types.Real'Machine_Overflows is
False, the result at poles is unspecified.
</dl><h5 align="center">Implementation Requirements</h5>
<dl><dt><a name="34">(34)</a><dd>In the implementation of Numerics.Generic_Complex_Elementary_Functions,
the range of intermediate values allowed during the calculation of a final
result shall not be affected by any range constraint of the subtype Complex_Types.Real.
<dt><a name="35">(35)</a><dd>In the following cases, evaluation of a complex elementary function
shall yield the prescribed result (or a result having the prescribed
component), provided that the preceding rules do not call for an exception to
be raised:
<dt><a name="36">(36)</a><dd><ul><li>When the parameter X has the value zero, the Sqrt, Sin, Arcsin,
Tan, Arctan, Sinh, Arcsinh, Tanh, and Arctanh functions yield a
result of zero; the Exp, Cos, and Cosh functions yield a result
of one; the Arccos and Arccot functions yield a real result; and
the Arccoth function yields an imaginary result.
</ul><dt><a name="37">(37)</a><dd><ul><li>When the parameter X has the value one, the Sqrt function yields
a result of one; the Log, Arccos, and Arccosh functions yield a
result of zero; and the Arcsin function yields a real result.
</ul><dt><a name="38">(38)</a><dd><ul><li>When the parameter X has the value -1.0, the Sqrt function yields
the result
</ul><dt><a name="39">(39)</a><dd><ul><ul><li>i (resp., -i), when the sign of the imaginary component of
X is positive (resp., negative), if Complex_Types.Real'Signed_Zeros is True;
</ul></ul><dt><a name="40">(40)</a><dd><ul><ul><li>i, if Complex_Types.Real'Signed_Zeros is False;
</ul></ul><dt><a name="41">(41)</a><dd><ul><li>the Log function yields an imaginary result; and the Arcsin and
Arccos functions yield a real result.
</ul><dt><a name="42">(42)</a><dd><ul><li>When the parameter X has the value +/-i, the Log function yields
an imaginary result.
</ul><dt><a name="43">(43)</a><dd><ul><li>Exponentiation by a zero exponent yields the value one.
Exponentiation by a unit exponent yields the value of the left
operand (as a complex value).  Exponentiation of the value one
yields the value one.  Exponentiation of the value zero yields
the value zero.
</ul><dt><a name="44">(44)</a><dd>Other accuracy requirements for the complex elementary functions, which
apply only in the strict mode, are given <a href="G-02-06.htm">in G.2.6</a>.
<dt><a name="45">(45)</a><dd>The sign of a zero result or zero result component yielded by a complex
elementary function is implementation defined when Complex_Types.Real'Signed_Zeros is True.
</dl><h5 align="center">Implementation Permissions</h5>
<dl><dt><a name="46">(46)</a><dd>The nongeneric equivalent packages may, but need not, be actual
instantiations of the generic package with the appropriate predefined
nongeneric equivalent of Numerics.Generic_Complex_Types; if they are, then
the latter shall have been obtained by actual instantiation of
Numerics.Generic_Complex_Types.
<dt><a name="47">(47)</a><dd>The exponentiation operator may be implemented in terms of the Exp and
Log functions.  Because this implementation yields poor accuracy in some
parts of the domain, no accuracy requirement is imposed on complex
exponentiation.
<dt><a name="48">(48)</a><dd>The implementation of the Exp function of a complex parameter X is
allowed to raise the exception Constraint_Error, signaling overflow, when the
real component of X exceeds an unspecified threshold that is approximately
log (Complex_Types.Real'Safe_Last).  This permission recognizes the
impracticality of avoiding overflow in the marginal case that the exponential
of the real component of X exceeds the safe range of Complex_Types.Real but
both components of the final result do not.  Similarly, the Sin and Cos
(resp., Sinh and Cosh) functions are allowed to raise the exception
Constraint_Error, signaling overflow, when the absolute value of the
imaginary (resp., real) component of the parameter X exceeds an unspecified
threshold that is approximately log (Complex_Types.Real'Safe_Last)+log (2.0).
This permission recognizes the impracticality of avoiding overflow in the
marginal case that the hyperbolic sine or cosine of the imaginary (resp.,
real) component of X exceeds the safe range of Complex_Types.Real but both
components of the final result do not.
</dl><h5 align="center">Implementation Advice</h5>
<dl><dt><a name="49">(49)</a><dd>Implementations in which Complex_Types.Real'Signed_Zeros is True should
attempt to provide a rational treatment of the signs of zero results and
result components.  For example, many of the complex elementary functions
have components that are odd functions of one of the parameter components; in
these cases, the result component should have the sign of the parameter
component at the origin.  Other complex elementary functions have zero
components whose sign is opposite that of a parameter component at the
origin, or is always positive or always negative.
</dl><hr>
<h4><a href="G-01-01.htm"><img src="left.gif" alt="Prev"></a> | <a href="G-01.htm"><img src="up.gif" alt="Up"></a> | <a href="G-01-03.htm"><img src="right.gif" alt="Next"></a> | <a href="G-01-01.htm"><img src="back.gif" alt="Back"></a> | <a href="G-01-03.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
