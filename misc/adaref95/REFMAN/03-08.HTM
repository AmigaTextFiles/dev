<html>
<head>
<title>Ada 95 RM - 3.8 Record Types</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="03-07.htm"><img src="left.gif" alt="Prev"></a> | <a href="03.htm"><img src="up.gif" alt="Up"></a> | <a href="03-09.htm"><img src="right.gif" alt="Next"></a> | <a href="03-07-02.htm"><img src="back.gif" alt="Back"></a> | <a href="03-08-01.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">3.8 Record Types</a>
 -- <a href="toc03-08.htm">TOC</a>
</h2>
<dl><dt><a name="1">(1)</a><dd>A record object is a composite object consisting of named components.
The value of a record object is a composite value consisting of the values of
the components.
</dl><h5 align="center"><a name="syntax">Syntax</a></h5>
<pre><a name="2">(2)</a>
       record_type_definition ::= [[abstract] tagged] [limited] record_definition
<a name="3">(3)</a>
       record_definition ::=
           record
              component_list
           end record
         | null record
<a name="4">(4)</a>
       component_list ::=
             component_item {component_item}
          | {component_item} variant_part
          |  null;
<a name="5">(5)</a>
       component_item ::= component_declaration | representation_clause
<a name="6">(6)</a>
       component_declaration ::=
          defining_identifier_list : component_definition [:= default_expression];
</pre><h5 align="center">Name Resolution Rules</h5>
<dl><dt><a name="7">(7)</a><dd>The expected type for the default_expression, if any, in a component_declaration is the type of the component.
</dl><h5 align="center">Legality Rules</h5>
<dl><dt><a name="8">(8)</a><dd>A default_expression is not permitted if the component is of a limited
type.
<dt><a name="9">(9)</a><dd>Each component_declaration declares a component of the record type.
Besides components declared by component_declarations, the components of a
record type include any components declared by discriminant_specifications of
the record type declaration.  The identifiers of all components of a record
type shall be distinct.
<dt><a name="10">(10)</a><dd>Within a type_declaration, a name that denotes a component, protected
subprogram, or entry of the type is allowed only in the following cases:
<dt><a name="11">(11)</a><dd><ul><li>A name that denotes any component, protected subprogram, or entry
is allowed within a representation item that occurs within the
declaration of the composite type.
</ul><dt><a name="12">(12)</a><dd><ul><li>A name that denotes a noninherited discriminant is allowed within
the declaration of the type, but not within the discriminant_part.  If the discriminant is used to define the constraint of a
component, the bounds of an entry family, or the constraint of
the parent subtype in a derived_type_definition then its name
shall appear alone as a direct_name (not as part of a larger
expression or expanded name).  A discriminant shall not be used
to define the constraint of a scalar component.
</ul><dt><a name="13">(13)</a><dd>If the name of the current instance of a type <a href="08-06.htm">(see 8.6)</a> is used to
define the constraint of a component, then it shall appear as a direct_name
that is the prefix of an attribute_reference whose result is of an access
type, and the attribute_reference shall appear alone.
</dl><h5 align="center">Static Semantics</h5>
<dl><dt><a name="14">(14)</a><dd>The component_definition of a component_declaration defines the
(nominal) subtype of the component.  If the reserved word aliased appears in
the component_definition, then the component is aliased <a href="03-10.htm">(see 3.10)</a>.
<dt><a name="15">(15)</a><dd>If the component_list of a record type is defined by the reserved word
null and there are no discriminants, then the record type has no components
and all records of the type are null records.  A record_definition of null
record is equivalent to record null; end record.
</dl><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="16">(16)</a><dd>The elaboration of a record_type_definition creates the record type and
its first subtype, and consists of the elaboration of the record_definition.
The elaboration of a record_definition consists of the elaboration of its
component_list, if any.
<dt><a name="17">(17)</a><dd>The elaboration of a component_list consists of the elaboration of the
component_items and variant_part, if any, in the order in which they appear.
The elaboration of a component_declaration consists of the elaboration of the
component_definition.
<dt><a name="18">(18)</a><dd>Within the definition of a composite type, if a component_definition or
discrete_subtype_definition <a href="09-05-02.htm">(see 9.5.2)</a> includes a name that denotes a
discriminant of the type, or that is an attribute_reference whose prefix
denotes the current instance of the type, the expression containing the name
is called a per-object expression, and the constraint being defined is called
a per-object constraint.  For the elaboration of a component_definition of a
component_declaration, if the constraint of the subtype_indication is not a
per-object constraint, then the subtype_indication is elaborated.  On the
other hand, if the constraint is a per-object constraint, then the
elaboration consists of the evaluation of any included expression that is not
part of a per-object expression.
<p><dt><dd><ul>NOTES</ul>
<dt><a name="19">(19)</a><dd><ul>(55) A component_declaration with several identifiers is equivalent to a
sequence of single component_declarations, as explained <a href="03-03-01.htm">in 3.3.1</a>.
</ul><dt><a name="20">(20)</a><dd><ul>(56) The default_expression of a record component is only evaluated upon
the creation of a default-initialized object of the record type
(presuming the object has the component, if it is in a variant_part --
<a href="03-03-01.htm">see 3.3.1)</a>.
</ul><dt><a name="21">(21)</a><dd><ul>(57) The subtype defined by a component_definition <a href="03-06.htm">(see 3.6)</a> has to be a
definite subtype.
</ul><dt><a name="22">(22)</a><dd><ul>(58) If a record type does not have a variant_part, then the same
components are present in all values of the type.
</ul><dt><a name="23">(23)</a><dd><ul>(59) A record type is limited if it has the reserved word limited in its
definition, or if any of its components are limited <a href="07-05.htm">(see 7.5)</a>.
</ul><dt><a name="24">(24)</a><dd><ul>(60) The predefined operations of a record type include membership
tests, qualification, and explicit conversion.  If the record type is
nonlimited, they also include assignment and the predefined equality
operators.
</ul><dt><a name="25">(25)</a><dd><ul>(61) A component of a record can be named with a selected_component.  A
value of a record can be specified with a record_aggregate, unless the
record type is limited.
</ul></dl><h5 align="center">Examples</h5>
<dl><dt><a name="26">(26)</a><dd><em>Examples of record type declarations:
</em>
</dl><pre><a name="27">(27)</a>
       type Date is
          record
             Day   : Integer range 1 .. 31;
             Month : Month_Name;
             Year  : Integer range 0 .. 4000;
          end record;
<a name="28">(28)</a>
       type Complex is
          record
             Re : Real := 0.0;
             Im : Real := 0.0;
          end record;
</pre><dl><dt><a name="29">(29)</a><dd><em>Examples of record variables:
</em>
</dl><pre><a name="30">(30)</a>
       Tomorrow, Yesterday : Date;
       A, B, C : Complex;
<a name="31">(31)</a>
       <em>-- both components of A, B, and C are implicitly initialized to zero</em>
</pre><hr><h3>Subclauses</h3>
<ol>
<li><a href="03-08-01.htm">Variant Parts and Discrete Choices</a>
</ol>
<p>
<hr>
<h4><a href="03-07.htm"><img src="left.gif" alt="Prev"></a> | <a href="03.htm"><img src="up.gif" alt="Up"></a> | <a href="03-09.htm"><img src="right.gif" alt="Next"></a> | <a href="03-07-02.htm"><img src="back.gif" alt="Back"></a> | <a href="03-08-01.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
