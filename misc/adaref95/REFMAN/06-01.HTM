<html>
<head>
<title>Ada 95 RM - 6.1 Subprogram Declarations</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><img src="noleft.gif" alt="____"> | <a href="06.htm"><img src="up.gif" alt="Up"></a> | <a href="06-02.htm"><img src="right.gif" alt="Next"></a> | <a href="06.htm"><img src="back.gif" alt="Back"></a> | <a href="06-02.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">6.1 Subprogram Declarations</a></h2>
<dl><dt><a name="1">(1)</a><dd>A subprogram_declaration declares a procedure or function.
</dl><h5 align="center"><a name="syntax">Syntax</a></h5>
<pre><a name="2">(2)</a>
       subprogram_declaration ::= subprogram_specification;
<a name="3">(3)</a>
       abstract_subprogram_declaration ::= subprogram_specification is abstract;
<a name="4">(4)</a>
       subprogram_specification ::=
            procedure defining_program_unit_name  parameter_profile
          | function defining_designator  parameter_and_result_profile
<a name="5">(5)</a>
       designator ::= [parent_unit_name . ]identifier | operator_symbol
<a name="6">(6)</a>
       defining_designator ::= defining_program_unit_name | defining_operator_symbol
<a name="7">(7)</a>
       defining_program_unit_name ::= [parent_unit_name . ]defining_identifier
</pre><dl><dt><a name="8">(8)</a><dd><ul><li>The optional parent_unit_name is only allowed for library units <a href="10-01-01.htm">(see 10.1.1)</a>.
</ul></dl><pre><a name="9">(9)</a>
       operator_symbol ::= string_literal
</pre><dl><dt><a name="10">(10)</a><dd><ul>The sequence of characters in an operator_symbol shall correspond to
an operator belonging to one of the six classes of operators defined in
<a href="04-05.htm">clause 4.5</a> (spaces are not allowed and the case of letters is not
significant).
</ul></dl><pre><a name="11">(11)</a>
       defining_operator_symbol ::= operator_symbol
<a name="12">(12)</a>
       parameter_profile ::= [formal_part]
<a name="13">(13)</a>
       parameter_and_result_profile ::= [formal_part] return subtype_mark
<a name="14">(14)</a>
       formal_part ::=
          (parameter_specification {; parameter_specification})
<a name="15">(15)</a>
       parameter_specification ::=
           defining_identifier_list : mode  subtype_mark [:= default_expression]
         | defining_identifier_list : access_definition [:= default_expression]
<a name="16">(16)</a>
       mode ::= [in] | in out | out
</pre><h5 align="center">Name Resolution Rules</h5>
<dl><dt><a name="17">(17)</a><dd>A formal parameter is an object directly visible within a subprogram_body that represents the actual parameter passed to the subprogram in a call;
it is declared by a parameter_specification.  For a formal parameter, the
expected type for its default_expression, if any, is that of the formal
parameter.
</dl><h5 align="center">Legality Rules</h5>
<dl><dt><a name="18">(18)</a><dd>The parameter mode of a formal parameter conveys the direction of
information transfer with the actual parameter:  in, in out, or out.  Mode in
is the default, and is the mode of a parameter defined by an access_definition.  The formal parameters of a function, if any, shall have the mode
in.
<dt><a name="19">(19)</a><dd>A default_expression is only allowed in a parameter_specification for a
formal parameter of mode in.
<dt><a name="20">(20)</a><dd>A subprogram_declaration or a generic_subprogram_declaration requires a
completion:  a body, a renaming_declaration <a href="08-05.htm">(see 8.5)</a>, or a pragma Import
<a href="B-01.htm">(see B.1)</a>.  A completion is not allowed for an abstract_subprogram_declaration.
<dt><a name="21">(21)</a><dd>A name that denotes a formal parameter is not allowed within the formal_part in which it is declared, nor within the formal_part of a corresponding
body or accept_statement.
</dl><h5 align="center">Static Semantics</h5>
<dl><dt><a name="22">(22)</a><dd>The profile of (a view of) a callable entity is either a parameter_profile or parameter_and_result_profile; it embodies information about the
interface to that entity -- for example, the profile includes information
about parameters passed to the callable entity.  All callable entities have a
profile -- enumeration literals, other subprograms, and entries.  An
access-to-subprogram type has a designated profile.  Associated with a
profile is a calling convention.  A subprogram_declaration declares a
procedure or a function, as indicated by the initial reserved word, with name
and profile as given by its specification.
<dt><a name="23">(23)</a><dd>The nominal subtype of a formal parameter is the subtype denoted by the
subtype_mark, or defined by the access_definition, in the parameter_specification.
<dt><a name="24">(24)</a><dd>An access parameter is a formal in parameter specified by an access_definition.  An access parameter is of an anonymous general
access-to-variable type <a href="03-10.htm">(see 3.10)</a>.  Access parameters allow dispatching
calls to be controlled by access values.
<dt><a name="25">(25)</a><dd>The subtypes of a profile are:
<dt><a name="26">(26)</a><dd><ul><li>For any non-access parameters, the nominal subtype of the
parameter.
</ul><dt><a name="27">(27)</a><dd><ul><li>For any access parameters, the designated subtype of the
parameter type.
</ul><dt><a name="28">(28)</a><dd><ul><li>For any result, the result subtype.
</ul><dt><a name="29">(29)</a><dd>The types of a profile are the types of those subtypes.
<dt><a name="30">(30)</a><dd>A subprogram declared by an abstract_subprogram_declaration is abstract;
a subprogram declared by a subprogram_declaration is not.  <a href="03-09-03.htm">See 3.9.3</a>,
``Abstract Types and Subprograms''.
</dl><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="31">(31)</a><dd>The elaboration of a subprogram_declaration or an abstract_subprogram_declaration has no effect.
<p><dt><dd><ul>NOTES</ul>
<dt><a name="32">(32)</a><dd><ul>(1) A parameter_specification with several identifiers is equivalent to
a sequence of single parameter_specifications, as explained <a href="03-03.htm">in 3.3</a>.
</ul><dt><a name="33">(33)</a><dd><ul>(2) Abstract subprograms do not have bodies, and cannot be used in a
nondispatching call <a href="03-09-03.htm">(see 3.9.3</a>, ``Abstract Types and Subprograms'').
</ul><dt><a name="34">(34)</a><dd><ul>(3) The evaluation of default_expressions is caused by certain calls, as
described <a href="06-04-01.htm">in 6.4.1</a>.  They are not evaluated during the elaboration of
the subprogram declaration.
</ul><dt><a name="35">(35)</a><dd><ul>(4) Subprograms can be called recursively and can be called concurrently
from multiple tasks.
</ul></dl><h5 align="center">Examples</h5>
<dl><dt><a name="36">(36)</a><dd><em>Examples of subprogram declarations:
</em>
</dl><pre><a name="37">(37)</a>
       procedure Traverse_Tree;
       procedure Increment(X : in out Integer);
       procedure Right_Indent(Margin : out Line_Size);          <em>--  <a href="03-05-04.htm">see 3.5.4</a></em>
       procedure Switch(From, To : in out Link);                <em>--  <a href="03-10-01.htm">see 3.10.1</a></em>
<a name="38">(38)</a>
       function Random return Probability;                      <em>--  <a href="03-05-07.htm">see 3.5.7</a></em>
<a name="39">(39)</a>
       function Min_Cell(X : Link) return Cell;                 <em>--  <a href="03-10-01.htm">see 3.10.1</a></em>
       function Next_Frame(K : Positive) return Frame;          <em>--  <a href="03-10.htm">see 3.10</a></em>
       function Dot_Product(Left, Right : Vector) return Real;  <em>--  <a href="03-06.htm">see 3.6</a></em>
<a name="40">(40)</a>
       function "*"(Left, Right : Matrix) return Matrix;        <em>--  <a href="03-06.htm">see 3.6</a></em>
</pre><dl><dt><a name="41">(41)</a><dd><em>Examples of in parameters with default expressions:
</em>
</dl><pre><a name="42">(42)</a>
       procedure Print_Header(Pages  : in Natural;
                   Header : in Line    :=  (1 .. Line'Last =&gt; ' ');  <em>--  <a href="03-06.htm">see 3.6</a></em>
                   Center : in Boolean := True);
</pre><p>
<hr>
<h4><img src="noleft.gif" alt="____"> | <a href="06.htm"><img src="up.gif" alt="Up"></a> | <a href="06-02.htm"><img src="right.gif" alt="Next"></a> | <a href="06.htm"><img src="back.gif" alt="Back"></a> | <a href="06-02.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
