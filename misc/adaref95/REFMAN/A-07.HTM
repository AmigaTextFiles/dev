<html>
<head>
<title>Ada 95 RM - A.7 External Files and File Objects</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="A-06.htm"><img src="left.gif" alt="Prev"></a> | <a href="A.htm"><img src="up.gif" alt="Up"></a> | <a href="A-08.htm"><img src="right.gif" alt="Next"></a> | <a href="A-06.htm"><img src="back.gif" alt="Back"></a> | <a href="A-08.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">A.7 External Files and File Objects</a></h2>
<h5 align="center">Static Semantics</h5>
<dl><dt><a name="1">(1)</a><dd>Values input from the external environment of the program, or output to
the external environment, are considered to occupy external files.  An
external file can be anything external to the program that can produce a
value to be read or receive a value to be written.  An external file is
identified by a string (the name).  A second string (the form) gives further
system-dependent characteristics that may be associated with the file, such
as the physical organization or access rights.  The conventions governing the
interpretation of such strings shall be documented.
<dt><a name="2">(2)</a><dd>Input and output operations are expressed as operations on objects of
some file type, rather than directly in terms of the external files.  In the
remainder of this section, the term file is always used to refer to a file
object; the term external file is used otherwise.
<dt><a name="3">(3)</a><dd>Input-output for sequential files of values of a single element type is
defined by means of the generic package Sequential_IO.  In order to define
sequential input-output for a given element type, an instantiation of this
generic unit, with the given type as actual parameter, has to be declared.
The resulting package contains the declaration of a file type (called File_Type) for files of such elements, as well as the operations applicable to
these files, such as the Open, Read, and Write procedures.
<dt><a name="4">(4)</a><dd>Input-output for direct access files is likewise defined by a generic
package called Direct_IO.  Input-output in human-readable form is defined by
the (nongeneric) packages Text_IO for Character and String data, and Wide_Text_IO for Wide_Character and Wide_String data.  Input-output for files
containing streams of elements representing values of possibly different
types is defined by means of the (nongeneric) package Streams.Stream_IO.
<dt><a name="5">(5)</a><dd>Before input or output operations can be performed on a file, the file
first has to be associated with an external file.  While such an association
is in effect, the file is said to be open, and otherwise the file is said to
be closed.
<dt><a name="6">(6)</a><dd>The language does not define what happens to external files after the
completion of the main program and all the library tasks (in particular, if
corresponding files have not been closed).  The effect of input-output for
access types is unspecified.
<dt><a name="7">(7)</a><dd>An open file has a current mode, which is a value of one of the following
enumeration types:
</dl><pre><a name="8">(8)</a>
       type File_Mode is (In_File, Inout_File, Out_File);  <em>--  for Direct_IO</em>
</pre><dl><dt><a name="9">(9)</a><dd><ul>These values correspond respectively to the cases where only
reading, both reading and writing, or only writing are to be
performed.
</ul></dl><pre><a name="10">(10)</a>
       type File_Mode is (In_File, Out_File, Append_File);
       <em>--  for Sequential_IO, Text_IO, Wide_Text_IO, and Stream_IO</em>
</pre><dl><dt><a name="11">(11)</a><dd><ul>These values correspond respectively to the cases where only
reading, only writing, or only appending are to be performed.
</ul><dt><a name="12">(12)</a><dd><ul>The mode of a file can be changed.
</ul><dt><a name="13">(13)</a><dd>Several file management operations are common to Sequential_IO,
Direct_IO, Text_IO, and Wide_Text_IO.  These operations are described in
subclause <a href="A-08-02.htm">A.8.2</a> for sequential and direct files.  Any additional effects
concerning text input-output are described in subclause <a href="A-10-02.htm">A.10.2</a>.
<dt><a name="14">(14)</a><dd>The exceptions that can be propagated by the execution of an
input-output subprogram are defined in the package IO_Exceptions; the
situations in which they can be propagated are described following the
description of the subprogram (and in <a href="A-13.htm">clause A.13)</a>.  The exceptions Storage_Error and Program_Error may be propagated.  (Program_Error can only be
propagated due to errors made by the caller of the subprogram.)  Finally,
exceptions can be propagated in certain implementation-defined situations.
<p><dt><dd><ul>NOTES</ul>
<dt><a name="15">(15)</a><dd><ul>(18) Each instantiation of the generic packages Sequential_IO and
Direct_IO declares a different type File_Type.  In the case of Text_IO,
Wide_Text_IO, and Streams.Stream_IO, the corresponding type File_Type is
unique.
</ul><dt><a name="16">(16)</a><dd><ul>(19) A bidirectional device can often be modeled as two sequential files
associated with the device, one of mode In_File, and one of mode Out_File.  An implementation may restrict the number of files that may be
associated with a given external file.
</ul></dl><p>
<hr>
<h4><a href="A-06.htm"><img src="left.gif" alt="Prev"></a> | <a href="A.htm"><img src="up.gif" alt="Up"></a> | <a href="A-08.htm"><img src="right.gif" alt="Next"></a> | <a href="A-06.htm"><img src="back.gif" alt="Back"></a> | <a href="A-08.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
