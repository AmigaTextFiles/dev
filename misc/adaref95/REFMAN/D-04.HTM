<html>
<head>
<title>Ada 95 RM - D.4 Entry Queuing Policies</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="D-03.htm"><img src="left.gif" alt="Prev"></a> | <a href="D.htm"><img src="up.gif" alt="Up"></a> | <a href="D-05.htm"><img src="right.gif" alt="Next"></a> | <a href="D-03.htm"><img src="back.gif" alt="Back"></a> | <a href="D-05.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">D.4 Entry Queuing Policies</a></h2>
<dl><dt><a name="1">(1)</a><dd>This clause specifies a mechanism for a user to choose an entry queuing
policy.  It also defines one such policy.  Other policies are implementation
defined.
</dl><h5 align="center"><a name="syntax">Syntax</a></h5>
<dl><dt><a name="2">(2)</a><dd><ul><li>The form of a pragma Queuing_Policy is as follows:
</ul></dl><pre><a name="3">(3)</a>
         pragma Queuing_Policy(policy_identifier);
</pre><h5 align="center">Legality Rules</h5>
<dl><dt><a name="4">(4)</a><dd>The policy_identifier shall be either FIFO_Queuing, Priority_Queuing or
an implementation-defined identifier.
</dl><h5 align="center">Post-Compilation Rules</h5>
<dl><dt><a name="5">(5)</a><dd>A Queuing_Policy pragma is a configuration pragma.
</dl><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="6">(6)</a><dd>A queuing policy governs the order in which tasks are queued for entry
service, and the order in which different entry queues are considered for
service.  The queuing policy is specified by a Queuing_Policy pragma.
<dt><a name="7">(7)</a><dd>Two queuing policies, FIFO_Queuing and Priority_Queuing, are language
defined.  If no Queuing_Policy pragma appears in any of the program units
comprising the partition, the queuing policy for that partition is FIFO_Queuing.  The rules for this policy are specified <a href="09-05-03.htm">in 9.5.3</a> and <a href="09-07-01.htm">9.7.1</a>.
<dt><a name="8">(8)</a><dd>The Priority_Queuing policy is defined as follows:
<dt><a name="9">(9)</a><dd><ul><li>The calls to an entry (including a member of an entry family) are
queued in an order consistent with the priorities of the calls.
The priority of an entry call is initialized from the active
priority of the calling task at the time the call is made, but
can change later.  Within the same priority, the order is
consistent with the calling (or requeuing, or priority setting)
time (that is, a FIFO order).
</ul><dt><a name="10">(10)</a><dd><ul><li>After a call is first queued, changes to the active priority of a
task do not affect the priority of the call, unless the base
priority of the task is set.
</ul><dt><a name="11">(11)</a><dd><ul><li>When the base priority of a task is set <a href="D-05.htm">(see D.5)</a>, if the task is
blocked on an entry call, and the call is queued, the priority of
the call is updated to the new active priority of the calling
task.  This causes the call to be removed from and then
reinserted in the queue at the new active priority.
</ul><dt><a name="12">(12)</a><dd><ul><li>When more than one condition of an entry_barrier of a protected
object becomes True, and more than one of the respective queues
is nonempty, the call with the highest priority is selected.  If
more than one such call has the same priority, the call that is
queued on the entry whose declaration is first in textual order
in the protected_definition is selected.  For members of the same
entry family, the one with the lower family index is selected.
</ul><dt><a name="13">(13)</a><dd><ul><li>If the expiration time of two or more open delay_alternatives is
the same and no other accept_alternatives are open, the
sequence_of_statements of the delay_alternative that is first in
textual order in the selective_accept is executed.
</ul><dt><a name="14">(14)</a><dd><ul><li>When more than one alternative of a selective_accept is open and
has queued calls, an alternative whose queue has the
highest-priority call at its head is selected.  If two or more
open alternatives have equal-priority queued calls, then a call
on the entry in the accept_alternative that is first in textual
order in the selective_accept is selected.
</ul></dl><h5 align="center">Implementation Permissions</h5>
<dl><dt><a name="15">(15)</a><dd>Implementations are allowed to define other queuing policies, but need
not support more than one such policy per partition.
</dl><h5 align="center">Implementation Advice</h5>
<dl><dt><a name="16">(16)</a><dd>The implementation should use names that end with ``_Queuing'' for
implementation-defined queuing policies.
</dl><p>
<hr>
<h4><a href="D-03.htm"><img src="left.gif" alt="Prev"></a> | <a href="D.htm"><img src="up.gif" alt="Up"></a> | <a href="D-05.htm"><img src="right.gif" alt="Next"></a> | <a href="D-03.htm"><img src="back.gif" alt="Back"></a> | <a href="D-05.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
