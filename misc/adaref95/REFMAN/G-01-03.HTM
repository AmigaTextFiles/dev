<html>
<head>
<title>Ada 95 RM - G.1.3 Complex Input-Output</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="G-01-02.htm"><img src="left.gif" alt="Prev"></a> | <a href="G-01.htm"><img src="up.gif" alt="Up"></a> | <a href="G-01-04.htm"><img src="right.gif" alt="Next"></a> | <a href="G-01-02.htm"><img src="back.gif" alt="Back"></a> | <a href="G-01-04.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>
<h3><a name="0">G.1.3 Complex Input-Output</a></h3>
<dl><dt><a name="1">(1)</a><dd>The generic package Text_IO.Complex_IO defines procedures for the
formatted input and output of complex values.  The generic actual parameter
in an instantiation of Text_IO.Complex_IO is an instance of Numerics.Generic_Complex_Types for some floating point subtype.  Exceptional conditions are
reported by raising the appropriate exception defined in Text_IO.
</dl><h5 align="center">Static Semantics</h5>
<dl><dt><a name="2">(2)</a><dd>The generic library package Text_IO.Complex_IO has the following
declaration:
</dl><pre><a name="3">(3)</a>
       with Ada.Numerics.Generic_Complex_Types;
       generic
          with package Complex_Types is new Ada.Numerics.Generic_Complex_Types (&lt;&gt;);
       package Ada.Text_IO.Complex_IO is
<a name="4">(4)</a>
          use Complex_Types;
<a name="5">(5)</a>
          Default_Fore : Field := 2;
          Default_Aft  : Field := Real'Digits - 1;
          Default_Exp  : Field := 3;
<a name="6">(6)</a>
          procedure Get (File  : in  File_Type;
                         Item  : out Complex;
                         Width : in  Field := 0);
          procedure Get (Item  : out Complex;
                         Width : in  Field := 0);
<a name="7">(7)</a>
          procedure Put (File : in File_Type;
                         Item : in Complex;
                         Fore : in Field := Default_Fore;
                         Aft  : in Field := Default_Aft;
                         Exp  : in Field := Default_Exp);
          procedure Put (Item : in Complex;
                         Fore : in Field := Default_Fore;
                         Aft  : in Field := Default_Aft;
                         Exp  : in Field := Default_Exp);
<a name="8">(8)</a>
          procedure Get (From : in  String;
                         Item : out Complex;
                         Last : out Positive);
          procedure Put (To   : out String;
                         Item : in  Complex;
                         Aft  : in  Field := Default_Aft;
                         Exp  : in  Field := Default_Exp);
<a name="9">(9)</a>
       end Ada.Text_IO.Complex_IO;
</pre><dl><dt><a name="10">(10)</a><dd>The semantics of the Get and Put procedures are as follows:
</dl><pre><a name="11">(11)</a>
       procedure Get (File  : in  File_Type;
                      Item  : out Complex;
                      Width : in  Field := 0);
       procedure Get (Item  : out Complex;
                      Width : in  Field := 0);
</pre><dl><dt><a name="12">(12)</a><dd><ul>The input sequence is a pair of optionally signed real literals
representing the real and imaginary components of a complex value;
optionally, the pair of components may be separated by a comma and/or
surrounded by a pair of parentheses.  Blanks are freely allowed
before each of the components and before the parentheses and comma,
if either is used.  If the value of the parameter Width is zero, then
</ul><dt><a name="13">(13)</a><dd><ul><ul><li>line and page terminators are also allowed in these
places;
</ul></ul><dt><a name="14">(14)</a><dd><ul><ul><li>the components shall be separated by at least one blank
or line terminator if the comma is omitted; and
</ul></ul><dt><a name="15">(15)</a><dd><ul><ul><li>reading stops when the right parenthesis has been read,
if the input sequence includes a left parenthesis, or
when the imaginary component has been read, otherwise.
</ul></ul><p><dd><ul>If a nonzero value of Width is supplied, then</ul><dt><a name="16">(16)</a><dd><ul><ul><li>the components shall be separated by at least one blank
if the comma is omitted; and
</ul></ul><dt><a name="17">(17)</a><dd><ul><ul><li>exactly Width characters are read, or the characters
(possibly none) up to a line terminator, whichever comes
first (blanks are included in the count).
</ul></ul><dt><a name="18">(18)</a><dd><ul>Returns, in the parameter Item, the value of type Complex that
corresponds to the input sequence.
</ul><dt><a name="19">(19)</a><dd><ul>The exception Text_IO.Data_Error is raised if the input sequence
does not have the required syntax or if the components of the complex
value obtained are not of the base subtype of Complex_Types.Real.
</ul></dl><pre><a name="20">(20)</a>
       procedure Put (File : in File_Type;
                      Item : in Complex;
                      Fore : in Field := Default_Fore;
                      Aft  : in Field := Default_Aft;
                      Exp  : in Field := Default_Exp);
       procedure Put (Item : in Complex;
                      Fore : in Field := Default_Fore;
                      Aft  : in Field := Default_Aft;
                      Exp  : in Field := Default_Exp);
</pre><dl><dt><a name="21">(21)</a><dd><ul>Outputs the value of the parameter Item as a pair of decimal
literals representing the real and imaginary components of the
complex value, using the syntax of an aggregate.  More specifically,
</ul><dt><a name="22">(22)</a><dd><ul><ul><li>outputs a left parenthesis;
</ul></ul><dt><a name="23">(23)</a><dd><ul><ul><li>outputs the value of the real component of the parameter
Item with the format defined by the corresponding Put
procedure of an instance of Text_IO.Float_IO for the base
subtype of Complex_Types.Real, using the given values of
Fore, Aft, and Exp;
</ul></ul><dt><a name="24">(24)</a><dd><ul><ul><li>outputs a comma;
</ul></ul><dt><a name="25">(25)</a><dd><ul><ul><li>outputs the value of the imaginary component of the
parameter Item with the format defined by the
corresponding Put procedure of an instance of
Text_IO.Float_IO for the base subtype of Complex_Types.Real, using the given values of Fore, Aft, and Exp;
</ul></ul><dt><a name="26">(26)</a><dd><ul><ul><li>outputs a right parenthesis.
</ul></ul></dl><pre><a name="27">(27)</a>
       procedure Get (From : in  String;
                      Item : out Complex;
                      Last : out Positive);
</pre><dl><dt><a name="28">(28)</a><dd><ul>Reads a complex value from the beginning of the given string,
following the same rule as the Get procedure that reads a complex
value from a file, but treating the end of the string as a line
terminator.  Returns, in the parameter Item, the value of type
Complex that corresponds to the input sequence.  Returns in Last the
index value such that From(Last) is the last character read.
</ul><dt><a name="29">(29)</a><dd><ul>The exception Text_IO.Data_Error is raised if the input sequence
does not have the required syntax or if the components of the complex
value obtained are not of the base subtype of Complex_Types.Real.
</ul></dl><pre><a name="30">(30)</a>
       procedure Put (To   : out String;
                      Item : in  Complex;
                      Aft  : in  Field := Default_Aft;
                      Exp  : in  Field := Default_Exp);
</pre><dl><dt><a name="31">(31)</a><dd><ul>Outputs the value of the parameter Item to the given string as a
pair of decimal literals representing the real and imaginary
components of the complex value, using the syntax of an aggregate.
More specifically,
</ul><dt><a name="32">(32)</a><dd><ul><ul><li>a left parenthesis, the real component, and a comma are
left justified in the given string, with the real
component having the format defined by the Put procedure
(for output to a file) of an instance of Text_IO.Float_IO
for the base subtype of Complex_Types.Real, using a value
of zero for Fore and the given values of Aft and Exp;
</ul></ul><dt><a name="33">(33)</a><dd><ul><ul><li>the imaginary component and a right parenthesis are right
justified in the given string, with the imaginary
component having the format defined by the Put procedure
(for output to a file) of an instance of Text_IO.Float_IO
for the base subtype of Complex_Types.Real, using a value
for Fore that completely fills the remainder of the
string, together with the given values of Aft and Exp.
</ul></ul><dt><a name="34">(34)</a><dd><ul>The exception Text_IO.Layout_Error is raised if the given string
is too short to hold the formatted output.
</ul></dl><h5 align="center">Implementation Permissions</h5>
<dl><dt><a name="35">(35)</a><dd>Other exceptions declared (by renaming) in Text_IO may be raised by the
preceding procedures in the appropriate circumstances, as for the
corresponding procedures of Text_IO.Float_IO.
</dl><hr>
<h4><a href="G-01-02.htm"><img src="left.gif" alt="Prev"></a> | <a href="G-01.htm"><img src="up.gif" alt="Up"></a> | <a href="G-01-04.htm"><img src="right.gif" alt="Next"></a> | <a href="G-01-02.htm"><img src="back.gif" alt="Back"></a> | <a href="G-01-04.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
