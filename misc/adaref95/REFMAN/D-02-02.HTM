<html>
<head>
<title>Ada 95 RM - D.2.2 The Standard Task Dispatching Policy</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="D-02-01.htm"><img src="left.gif" alt="Prev"></a> | <a href="D-02.htm"><img src="up.gif" alt="Up"></a> | <img src="noright.gif" alt="____"> | <a href="D-02-01.htm"><img src="back.gif" alt="Back"></a> | <a href="D-03.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>
<h3><a name="0">D.2.2 The Standard Task Dispatching Policy</a></h3>
<h5 align="center"><a name="syntax">Syntax</a></h5>
<dl><dt><a name="1">(1)</a><dd><ul><li>The form of a pragma Task_Dispatching_Policy is as follows:
</ul></dl><pre><a name="2">(2)</a>
         pragma Task_Dispatching_Policy(policy_identifier );
</pre><h5 align="center">Legality Rules</h5>
<dl><dt><a name="3">(3)</a><dd>The policy_identifier shall either be FIFO_Within_Priorities or an
implementation-defined identifier.
</dl><h5 align="center">Post-Compilation Rules</h5>
<dl><dt><a name="4">(4)</a><dd>A Task_Dispatching_Policy pragma is a configuration pragma.
<dt><a name="5">(5)</a><dd>If the FIFO_Within_Priorities policy is specified for a partition, then
the Ceiling_Locking policy <a href="D-03.htm">(see D.3)</a> shall also be specified for the
partition.
</dl><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="6">(6)</a><dd>A task dispatching policy specifies the details of task dispatching that
are not covered by the basic task dispatching model.  These rules govern when
tasks are inserted into and deleted from the ready queues, and whether a task
is inserted at the head or the tail of the queue for its active priority.
The task dispatching policy is specified by a Task_Dispatching_Policy
configuration pragma.  If no such pragma appears in any of the program units
comprising a partition, the task dispatching policy for that partition is
unspecified.
<dt><a name="7">(7)</a><dd>The language defines only one task dispatching policy, FIFO_Within_Priorities; when this policy is in effect, modifications to the ready queues
occur only as follows:
<dt><a name="8">(8)</a><dd><ul><li>When a blocked task becomes ready, it is added at the tail of the
ready queue for its active priority.
</ul><dt><a name="9">(9)</a><dd><ul><li>When the active priority of a ready task that is not running
changes, or the setting of its base priority takes effect, the
task is removed from the ready queue for its old active priority
and is added at the tail of the ready queue for its new active
priority, except in the case where the active priority is lowered
due to the loss of inherited priority, in which case the task is
added at the head of the ready queue for its new active priority.
</ul><dt><a name="10">(10)</a><dd><ul><li>When the setting of the base priority of a running task takes
effect, the task is added to the tail of the ready queue for its
active priority.
</ul><dt><a name="11">(11)</a><dd><ul><li>When a task executes a delay_statement that does not result in
blocking, it is added to the tail of the ready queue for its
active priority.
</ul><dt><a name="12">(12)</a><dd>Each of the events specified above is a task dispatching point <a href="D-02-01.htm">(see D.2.1)</a>.
<dt><a name="13">(13)</a><dd>In addition, when a task is preempted, it is added at the head of the
ready queue for its active priority.
</dl><h5 align="center">Documentation Requirements</h5>
<dl><dt><a name="14">(14)</a><dd>Priority inversion is the duration for which a task remains at the head
of the highest priority ready queue while the processor executes a lower
priority task.  The implementation shall document:
<dt><a name="15">(15)</a><dd><ul><li>The maximum priority inversion a user task can experience due to
activity of the implementation (on behalf of lower priority
tasks), and
</ul><dt><a name="16">(16)</a><dd><ul><li>whether execution of a task can be preempted by the
implementation processing of delay expirations for lower priority
tasks, and if so, for how long.
</ul></dl><h5 align="center">Implementation Permissions</h5>
<dl><dt><a name="17">(17)</a><dd>Implementations are allowed to define other task dispatching policies,
but need not support more than one such policy per partition.
<dt><a name="18">(18)</a><dd>For optimization purposes, an implementation may alter the points at
which task dispatching occurs, in an implementation defined manner.  However,
a delay_statement always corresponds to at least one task dispatching point.
<p><dt><dd><ul>NOTES</ul>
<dt><a name="19">(19)</a><dd><ul>(13) If the active priority of a running task is lowered due to loss of
inherited priority (as it is on completion of a protected operation) and
there is a ready task of the same active priority that is not running,
the running task continues to run (provided that there is no higher
priority task).
</ul><dt><a name="20">(20)</a><dd><ul>(14) The setting of a task's base priority as a result of a call to Set_Priority does not always take effect immediately when Set_Priority is
called.  The effect of setting the task's base priority is deferred
while the affected task performs a protected action.
</ul><dt><a name="21">(21)</a><dd><ul>(15) Setting the base priority of a ready task causes the task to move
to the end of the queue for its active priority, regardless of whether
the active priority of the task actually changes.
</ul></dl><hr>
<h4><a href="D-02-01.htm"><img src="left.gif" alt="Prev"></a> | <a href="D-02.htm"><img src="up.gif" alt="Up"></a> | <img src="noright.gif" alt="____"> | <a href="D-02-01.htm"><img src="back.gif" alt="Back"></a> | <a href="D-03.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
