<html>
<head>
<title>Ada 95 RM - A.10.8 Input-Output for Integer Types</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="A-10-07.htm"><img src="left.gif" alt="Prev"></a> | <a href="A-10.htm"><img src="up.gif" alt="Up"></a> | <a href="A-10-09.htm"><img src="right.gif" alt="Next"></a> | <a href="A-10-07.htm"><img src="back.gif" alt="Back"></a> | <a href="A-10-09.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>
<h3><a name="0">A.10.8 Input-Output for Integer Types</a></h3>
<h5 align="center">Static Semantics</h5>
<dl><dt><a name="1">(1)</a><dd>The following procedures are defined in the generic packages Integer_IO
and Modular_IO, which have to be instantiated for the appropriate signed
integer or modular type respectively (indicated by Num in the
specifications).
<dt><a name="2">(2)</a><dd>Values are output as decimal or based literals, without low line
characters or exponent, and, for Integer_IO, preceded by a minus sign if
negative.  The format (which includes any leading spaces and minus sign) can
be specified by an optional field width parameter.  Values of widths of
fields in output formats are of the nonnegative integer subtype Field.
Values of bases are of the integer subtype Number_Base.
</dl><pre><a name="3">(3)</a>
       subtype Number_Base is Integer range 2 .. 16;
</pre><dl><dt><a name="4">(4)</a><dd>The default field width and base to be used by output procedures are
defined by the following variables that are declared in the generic packages
Integer_IO and Modular_IO:
</dl><pre><a name="5">(5)</a>
       Default_Width : Field := Num'Width;
       Default_Base  : Number_Base := 10;
</pre><dl><dt><a name="6">(6)</a><dd>The following procedures are provided:
</dl><pre><a name="7">(7)</a>
       procedure Get(File : in File_Type; Item : out Num; Width : in Field := 0);
       procedure Get(Item : out Num; Width : in Field := 0);
</pre><dl><dt><a name="8">(8)</a><dd><ul>If the value of the parameter Width is zero, skips any leading
blanks, line terminators, or page terminators, then reads a plus sign
if present or (for a signed type only) a minus sign if present, then
reads the longest possible sequence of characters matching the syntax
of a numeric literal without a point.  If a nonzero value of Width is
supplied, then exactly Width characters are input, or the characters
(possibly none) up to a line terminator, whichever comes first; any
skipped leading blanks are included in the count.
</ul><dt><a name="9">(9)</a><dd><ul>Returns, in the parameter Item, the value of type Num that
corresponds to the sequence input.
</ul><dt><a name="10">(10)</a><dd><ul>The exception Data_Error is propagated if the sequence of
characters read does not form a legal integer literal or if the value
obtained is not of the subtype Num (for Integer_IO) or is not in the
base range of Num (for Modular_IO).
</ul></dl><pre><a name="11">(11)</a>
       procedure Put(File  : in File_Type;
                     Item  : in Num;
                     Width : in Field := Default_Width;
                     Base  : in Number_Base := Default_Base);

       procedure Put(Item  : in Num;
                     Width : in Field := Default_Width;
                     Base  : in Number_Base := Default_Base);
</pre><dl><dt><a name="12">(12)</a><dd><ul>Outputs the value of the parameter Item as an integer literal,
with no low lines, no exponent, and no leading zeros (but a single
zero for the value zero), and a preceding minus sign for a negative
value.
</ul><dt><a name="13">(13)</a><dd><ul>If the resulting sequence of characters to be output has fewer
than Width characters, then leading spaces are first output to make
up the difference.
</ul><dt><a name="14">(14)</a><dd><ul>Uses the syntax for decimal literal if the parameter Base has
the value ten (either explicitly or through Default_Base); otherwise,
uses the syntax for based literal, with any letters in upper case.
</ul></dl><pre><a name="15">(15)</a>
       procedure Get(From : in String; Item : out Num; Last : out Positive);
</pre><dl><dt><a name="16">(16)</a><dd><ul>Reads an integer value from the beginning of the given string,
following the same rules as the Get procedure that reads an integer
value from a file, but treating the end of the string as a file
terminator.  Returns, in the parameter Item, the value of type Num
that corresponds to the sequence input.  Returns in Last the index
value such that From(Last) is the last character read.
</ul><dt><a name="17">(17)</a><dd><ul>The exception Data_Error is propagated if the sequence input
does not have the required syntax or if the value obtained is not of
the subtype Num.
</ul></dl><pre><a name="18">(18)</a>
       procedure Put(To   : out String;
                     Item : in Num;
                     Base : in Number_Base := Default_Base);
</pre><dl><dt><a name="19">(19)</a><dd><ul>Outputs the value of the parameter Item to the given string,
following the same rule as for output to a file, using the length of
the given string as the value for Width.
</ul><dt><a name="20">(20)</a><dd>Integer_Text_IO is a library package that is a nongeneric equivalent to
Text_IO.Integer_IO for the predefined type Integer:
</dl><pre><a name="21">(21)</a>
       with Ada.Text_IO;
       package Ada.Integer_Text_IO is new Ada.Text_IO.Integer_IO(Integer);
</pre><dl><dt><a name="22">(22)</a><dd>For each predefined signed integer type, a nongeneric equivalent to
Text_IO.Integer_IO is provided, with names such as Ada.Long_Integer_Text_IO.
</dl><h5 align="center">Implementation Permissions</h5>
<dl><dt><a name="23">(23)</a><dd>The nongeneric equivalent packages may, but need not, be actual
instantiations of the generic package for the appropriate predefined type.
<p><dt><dd><ul>NOTES</ul>
<dt><a name="24">(24)</a><dd><ul>(29) For Modular_IO, execution of Get propagates Data_Error if the
sequence of characters read forms an integer literal outside the range
0..Num'Last.
</ul></dl><h5 align="center">Examples</h5>
<pre><a name="25">(25)</a>
       <em>-- (blank)</em>
<a name="26">(26)</a>
       package Int_IO is new Integer_IO(Small_Int); use Int_IO;
       <em>-- default format used at instantiation,</em>
       <em>-- Default_Width = 4, Default_Base = 10</em>
<a name="27">(27)</a>
       Put(126);                            <em>-- "b126"</em>
       Put(-126, 7);                        <em>-- "bbb-126"</em>
       Put(126, Width =&gt; 13, Base =&gt; 2);    <em>-- "bbb2#1111110#"</em>
</pre><hr>
<h4><a href="A-10-07.htm"><img src="left.gif" alt="Prev"></a> | <a href="A-10.htm"><img src="up.gif" alt="Up"></a> | <a href="A-10-09.htm"><img src="right.gif" alt="Next"></a> | <a href="A-10-07.htm"><img src="back.gif" alt="Back"></a> | <a href="A-10-09.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
