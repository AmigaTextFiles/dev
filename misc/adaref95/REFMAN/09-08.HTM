<html>
<head>
<title>Ada 95 RM - 9.8 Abort of a Task - Abort of a Sequence of Statements</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="09-07.htm"><img src="left.gif" alt="Prev"></a> | <a href="09.htm"><img src="up.gif" alt="Up"></a> | <a href="09-09.htm"><img src="right.gif" alt="Next"></a> | <a href="09-07-04.htm"><img src="back.gif" alt="Back"></a> | <a href="09-09.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">9.8 Abort of a Task - Abort of a Sequence of Statements</a></h2>
<dl><dt><a name="1">(1)</a><dd>An abort_statement causes one or more tasks to become abnormal, thus
preventing any further interaction with such tasks.  The completion of the
triggering_statement of an asynchronous_select causes a sequence_of_statements to be aborted.
</dl><h5 align="center"><a name="syntax">Syntax</a></h5>
<pre><a name="2">(2)</a>
       abort_statement ::= abort task_name {, task_name};
</pre><h5 align="center">Name Resolution Rules</h5>
<dl><dt><a name="3">(3)</a><dd>Each task_name is expected to be of any task type; they need not all be
of the same task type.
</dl><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="4">(4)</a><dd>For the execution of an abort_statement, the given task_names are
evaluated in an arbitrary order.  Each named task is then aborted, which
consists of making the task abnormal and aborting the execution of the
corresponding task_body, unless it is already completed.
<dt><a name="5">(5)</a><dd>When the execution of a construct is aborted (including that of a task_body or of a sequence_of_statements), the execution of every construct
included within the aborted execution is also aborted, except for executions
included within the execution of an abort-deferred operation; the execution
of an abort-deferred operation continues to completion without being affected
by the abort; the following are the abort-deferred operations:
<dt><a name="6">(6)</a><dd><ul><li>a protected action;
</ul><dt><a name="7">(7)</a><dd><ul><li>waiting for an entry call to complete (after having initiated the
attempt to cancel it -- see below);
</ul><dt><a name="8">(8)</a><dd><ul><li>waiting for the termination of dependent tasks;
</ul><dt><a name="9">(9)</a><dd><ul><li>the execution of an Initialize procedure as the last step of the
default initialization of a controlled object;
</ul><dt><a name="10">(10)</a><dd><ul><li>the execution of a Finalize procedure as part of the finalization
of a controlled object;
</ul><dt><a name="11">(11)</a><dd><ul><li>an assignment operation to an object with a controlled part.
</ul><dt><a name="12">(12)</a><dd>The last three of these are discussed further <a href="07-06.htm">in 7.6</a>.
<dt><a name="13">(13)</a><dd>When a master is aborted, all tasks that depend on that master are
aborted.
<dt><a name="14">(14)</a><dd>The order in which tasks become abnormal as the result of an abort_statement or the abort of a sequence_of_statements is not specified by the
language.
<dt><a name="15">(15)</a><dd>If the execution of an entry call is aborted, an immediate attempt is
made to cancel the entry call <a href="09-05-03.htm">(see 9.5.3)</a>.  If the execution of a construct
is aborted at a time when the execution is blocked, other than for an entry
call, at a point that is outside the execution of an abort-deferred
operation, then the execution of the construct completes immediately.  For an
abort due to an abort_statement, these immediate effects occur before the
execution of the abort_statement completes.  Other than for these immediate
cases, the execution of a construct that is aborted does not necessarily
complete before the abort_statement completes.  However, the execution of the
aborted construct completes no later than its next abort completion point (if
any) that occurs outside of an abort-deferred operation; the following are
abort completion points for an execution:
<dt><a name="16">(16)</a><dd><ul><li>the point where the execution initiates the activation of another
task;
</ul><dt><a name="17">(17)</a><dd><ul><li>the end of the activation of a task;
</ul><dt><a name="18">(18)</a><dd><ul><li>the start or end of the execution of an entry call, accept_statement, delay_statement, or abort_statement;
</ul><dt><a name="19">(19)</a><dd><ul><li>the start of the execution of a select_statement, or of the
sequence_of_statements of an exception_handler.
</ul></dl><h5 align="center">Bounded (Run-Time) Errors</h5>
<dl><dt><a name="20">(20)</a><dd>An attempt to execute an asynchronous_select as part of the execution of
an abort-deferred operation is a bounded error.  Similarly, an attempt to
create a task that depends on a master that is included entirely within the
execution of an abort-deferred operation is a bounded error.  In both cases,
Program_Error is raised if the error is detected by the implementation;
otherwise the operations proceed as they would outside an abort-deferred
operation, except that an abort of the abortable_part or the created task
might or might not have an effect.
</dl><h5 align="center">Erroneous Execution</h5>
<dl><dt><a name="21">(21)</a><dd>If an assignment operation completes prematurely due to an abort, the
assignment is said to be disrupted; the target of the assignment or its parts
can become abnormal, and certain subsequent uses of the object can be
erroneous, as explained <a href="13-09-01.htm">in 13.9.1</a>.
<p><dt><dd><ul>NOTES</ul>
<dt><a name="22">(22)</a><dd><ul>(38) An abort_statement should be used only in situations requiring
unconditional termination.
</ul><dt><a name="23">(23)</a><dd><ul>(39) A task is allowed to abort any task it can name, including itself.
</ul><dt><a name="24">(24)</a><dd><ul>(40) Additional requirements associated with abort are given <a href="D-06.htm">in D.6</a>,
``Preemptive Abort''.
</ul></dl><p>
<hr>
<h4><a href="09-07.htm"><img src="left.gif" alt="Prev"></a> | <a href="09.htm"><img src="up.gif" alt="Up"></a> | <a href="09-09.htm"><img src="right.gif" alt="Next"></a> | <a href="09-07-04.htm"><img src="back.gif" alt="Back"></a> | <a href="09-09.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
