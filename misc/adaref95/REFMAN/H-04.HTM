<html>
<head>
<title>Ada 95 RM - H.4 Safety and Security Restrictions</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="H-03.htm"><img src="left.gif" alt="Prev"></a> | <a href="H.htm"><img src="up.gif" alt="Up"></a> | <img src="noright.gif" alt="____"> | <a href="H-03-02.htm"><img src="back.gif" alt="Back"></a> | <a href="J.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">H.4 Safety and Security Restrictions</a></h2>
<dl><dt><a name="1">(1)</a><dd>This clause defines restrictions that can be used with pragma
Restrictions <a href="13-12.htm">(see 13.12)</a>; these facilitate the demonstration of program
correctness by allowing tailored versions of the run-time system.
</dl><h5 align="center">Static Semantics</h5>
<dl><dt><a name="2">(2)</a><dd>The following restrictions, the same as <a href="D-07.htm">in D.7</a>, apply in this Annex:  No_Task_Hierarchy, No_Abort_Statement, No_Implicit_Heap_Allocation, Max_Task_Entries is 0, Max_Asynchronous_Select_Nesting is 0, and Max_Tasks is 0.  The
last three restrictions are checked prior to program execution.
<dt><a name="3">(3)</a><dd>The following additional restrictions apply in this Annex.
<dt><a name="4">(4)</a><dd>Tasking-related restriction:
<dt><a name="5">(5)</a><dd>No_Protected_Types
<ul>There are no declarations of protected types or protected
objects.
</ul><dt><a name="6">(6)</a><dd>Memory-management related restrictions:
<dt><a name="7">(7)</a><dd>No_Allocators
<ul>There are no occurrences of an allocator.
</ul><dt><a name="8">(8)</a><dd>No_Local_Allocators
<ul>Allocators are prohibited in subprograms, generic subprograms, tasks, and entry bodies; instantiations of generic
packages are also prohibited in these contexts.
</ul><dt><a name="9">(9)</a><dd>No_Unchecked_Deallocation
<ul>Semantic dependence on Unchecked_Deallocation is not allowed.
</ul><dt><a name="10">(10)</a><dd>Immediate_Reclamation
<ul>Except for storage occupied by objects created by allocators
and not deallocated via unchecked deallocation, any storage
reserved at run time for an object is immediately reclaimed
when the object no longer exists.
</ul></dl><pre><a name="11">(11)</a>
       Exception-related restriction:
<a name="12">(12)</a>
       No_Exceptions
                   Raise_statements and exception_handlers are not allowed.  No
                   language-defined run-time checks are generated; however, a
                   run-time check performed automatically by the hardware is
                   permitted.
<a name="13">(13)</a>
       Other restrictions:
<a name="14">(14)</a>
       No_Floating_Point
                   Uses of predefined floating point types and operations, and
                   declarations of new floating point types, are not allowed.
<a name="15">(15)</a>
       No_Fixed_Point
                   Uses of predefined fixed point types and operations, and
                   declarations of new fixed point types, are not allowed.
<a name="16">(16)</a>
       No_Unchecked_Conversion
                   Semantic dependence on the predefined generic Unchecked_Conversion is not allowed.
<a name="17">(17)</a>
       No_Access_Subprograms
                   The declaration of access-to-subprogram types is not allowed.

<a name="18">(18)</a>
       No_Unchecked_Access
                   The Unchecked_Access attribute is not allowed.
<a name="19">(19)</a>
       No_Dispatch
                   Occurrences of T'Class are not allowed, for any (tagged)
                   subtype T.
<a name="20">(20)</a>
       No_IO
                   Semantic dependence on any of the library units
                   Sequential_IO, Direct_IO, Text_IO, Wide_Text_IO, or Stream_IO
                   is not allowed.
<a name="21">(21)</a>
       No_Delay
                   Delay_Statements and semantic dependence on package Calendar
                   are not allowed.
<a name="22">(22)</a>
       No_Recursion
                   As part of the execution of a subprogram, the same subprogram
                   is not invoked.
<a name="23">(23)</a>
       No_Reentrancy
                   During the execution of a subprogram by a task, no other task
                   invokes the same subprogram.
</pre><h5 align="center">Implementation Requirements</h5>
<dl><dt><a name="24">(24)</a><dd>If an implementation supports pragma Restrictions for a particular
argument, then except for the restrictions No_Unchecked_Deallocation, No_Unchecked_Conversion, No_Access_Subprograms, and No_Unchecked_Access, the
associated restriction applies to the run-time system.
</dl><h5 align="center">Documentation Requirements</h5>
<dl><dt><a name="25">(25)</a><dd>If a pragma Restrictions(No_Exceptions) is specified, the implementation
shall document the effects of all constructs where language-defined checks
are still performed automatically (for example, an overflow check performed
by the processor).
</dl><h5 align="center">Erroneous Execution</h5>
<dl><dt><a name="26">(26)</a><dd>Program execution is erroneous if pragma Restrictions(No_Exceptions) has
been specified and the conditions arise under which a generated
language-defined run-time check would fail.
<dt><a name="27">(27)</a><dd>Program execution is erroneous if pragma Restrictions(No_Recursion) has
been specified and a subprogram is invoked as part of its own execution, or
if pragma Restrictions(No_Reentrancy) has been specified and during the
execution of a subprogram by a task, another task invokes the same
subprogram.
</dl><p>
<hr>
<h4><a href="H-03.htm"><img src="left.gif" alt="Prev"></a> | <a href="H.htm"><img src="up.gif" alt="Up"></a> | <img src="noright.gif" alt="____"> | <a href="H-03-02.htm"><img src="back.gif" alt="Back"></a> | <a href="J.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
