<html>
<head>
<title>Ada 95 RM - 3.9.3 Abstract Types and Subprograms</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="03-09-02.htm"><img src="left.gif" alt="Prev"></a> | <a href="03-09.htm"><img src="up.gif" alt="Up"></a> | <img src="noright.gif" alt="____"> | <a href="03-09-02.htm"><img src="back.gif" alt="Back"></a> | <a href="03-10.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>
<h3><a name="0">3.9.3 Abstract Types and Subprograms</a></h3>
<dl><dt><a name="1">(1)</a><dd>An abstract type is a tagged type intended for use as a parent type for
type extensions, but which is not allowed to have objects of its own.  An
abstract subprogram is a subprogram that has no body, but is intended to be
overridden at some point when inherited.  Because objects of an abstract type
cannot be created, a dispatching call to an abstract subprogram always
dispatches to some overriding body.
</dl><h5 align="center">Legality Rules</h5>
<dl><dt><a name="2">(2)</a><dd>An abstract type is a specific type that has the reserved word abstract
in its declaration.  Only a tagged type is allowed to be declared abstract.
<dt><a name="3">(3)</a><dd>A subprogram declared by an abstract_subprogram_declaration <a href="06-01.htm">(see 6.1)</a> is
an abstract subprogram.  If it is a primitive subprogram of a tagged type,
then the tagged type shall be abstract.
<dt><a name="4">(4)</a><dd>For a derived type, if the parent or ancestor type has an abstract
primitive subprogram, or a primitive function with a controlling result,
then:
<dt><a name="5">(5)</a><dd><ul><li>If the derived type is abstract or untagged, the inherited
subprogram is abstract.
</ul><dt><a name="6">(6)</a><dd><ul><li>Otherwise, the subprogram shall be overridden with a nonabstract
subprogram; for a type declared in the visible part of a package,
the overriding may be either in the visible or the private part.
However, if the type is a generic formal type, the subprogram
need not be overridden for the formal type itself; a nonabstract
version will necessarily be provided by the actual type.
</ul><dt><a name="7">(7)</a><dd>A call on an abstract subprogram shall be a dispatching call;
nondispatching calls to an abstract subprogram are not allowed.
<dt><a name="8">(8)</a><dd>The type of an aggregate, or of an object created by an object_declaration or an allocator, or a generic formal object of mode in, shall not
be abstract.  The type of the target of an assignment operation <a href="05-02.htm">(see 5.2)</a>
shall not be abstract.  The type of a component shall not be abstract.  If
the result type of a function is abstract, then the function shall be
abstract.
<dt><a name="9">(9)</a><dd>If a partial view is not abstract, the corresponding full view shall not
be abstract.  If a generic formal type is abstract, then for each primitive
subprogram of the formal that is not abstract, the corresponding primitive
subprogram of the actual shall not be abstract.
<dt><a name="10">(10)</a><dd>For an abstract type declared in a visible part, an abstract primitive
subprogram shall not be declared in the private part, unless it is overriding
an abstract subprogram implicitly declared in the visible part.  For a tagged
type declared in a visible part, a primitive function with a controlling
result shall not be declared in the private part, unless it is overriding a
function implicitly declared in the visible part.
<dt><a name="11">(11)</a><dd>A generic actual subprogram shall not be an abstract subprogram.  The
prefix of an attribute_reference for the Access, Unchecked_Access, or Address
attributes shall not denote an abstract subprogram.
<p><dt><dd><ul>NOTES</ul>
<dt><a name="12">(12)</a><dd><ul>(74) Abstractness is not inherited; to declare an abstract type, the
reserved word abstract has to be used in the declaration of the type
extension.
</ul><dt><a name="13">(13)</a><dd><ul>(75) A class-wide type is never abstract.  Even if a class is rooted at
an abstract type, the class-wide type for the class is not abstract, and
an object of the class-wide type can be created; the tag of such an
object will identify some nonabstract type in the class.
</ul></dl><h5 align="center">Examples</h5>
<dl><dt><a name="14">(14)</a><dd><em>Example of an abstract type representing a set of natural numbers:
</em>
</dl><pre><a name="15">(15)</a>
       package Sets is
           subtype Element_Type is Natural;
           type Set is abstract tagged null record;
           function Empty return Set is abstract;
           function Union(Left, Right : Set) return Set is abstract;
           function Intersection(Left, Right : Set) return Set is abstract;
           function Unit_Set(Element : Element_Type) return Set is abstract;
           procedure Take(Element : out Element_Type; From : in out Set) is abstract;
       end Sets;
</pre><dl><p><dt><dd><ul>NOTES</ul>
<dt><a name="16">(16)</a><dd><ul>(76) Notes on the example:  Given the above abstract type, one could
then derive various (nonabstract) extensions of the type, representing
alternative implementations of a set.  One might use a bit vector, but
impose an upper bound on the largest element representable, while
another might use a hash table, trading off space for flexibility.
</ul></dl><hr>
<h4><a href="03-09-02.htm"><img src="left.gif" alt="Prev"></a> | <a href="03-09.htm"><img src="up.gif" alt="Up"></a> | <img src="noright.gif" alt="____"> | <a href="03-09-02.htm"><img src="back.gif" alt="Back"></a> | <a href="03-10.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
