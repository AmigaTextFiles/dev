<html>
<head>
<title>Ada 95 RM - 5.2 Assignment Statements</title>
<link rev="made" href="mailto:Magnus.Kempe@di.epfl.ch">
</head>

<body>
<h4><a href="05-01.htm"><img src="left.gif" alt="Prev"></a> | <a href="05.htm"><img src="up.gif" alt="Up"></a> | <a href="05-03.htm"><img src="right.gif" alt="Next"></a> | <a href="05-01.htm"><img src="back.gif" alt="Back"></a> | <a href="05-03.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<hr>

<h2><a name="0">5.2 Assignment Statements</a></h2>
<dl><dt><a name="1">(1)</a><dd>An assignment_statement replaces the current value of a variable with the
result of evaluating an expression.
</dl><h5 align="center"><a name="syntax">Syntax</a></h5>
<pre><a name="2">(2)</a>
       assignment_statement ::=
          variable_name := expression;
</pre><dl><dt><a name="3">(3)</a><dd>The execution of an assignment_statement includes the evaluation of the
expression and the assignment of the value of the expression into the target.
An assignment operation (as opposed to an assignment_statement) is performed
in other contexts as well, including object initialization and by-copy
parameter passing.  The target of an assignment operation is the view of the
object to which a value is being assigned; the target of an assignment_statement is the variable denoted by the variable_name.
</dl><h5 align="center">Name Resolution Rules</h5>
<dl><dt><a name="4">(4)</a><dd>The variable_name of an assignment_statement is expected to be of any
nonlimited type.  The expected type for the expression is the type of the
target.
</dl><h5 align="center">Legality Rules</h5>
<dl><dt><a name="5">(5)</a><dd>The target denoted by the variable_name shall be a variable.
<dt><a name="6">(6)</a><dd>If the target is of a tagged class-wide type T'Class, then the expression
shall either be dynamically tagged, or of type T and tag-indeterminate <a href="03-09-02.htm">(see 3.9.2)</a>.
</dl><h5 align="center">Dynamic Semantics</h5>
<dl><dt><a name="7">(7)</a><dd>For the execution of an assignment_statement, the variable_name and the
expression are first evaluated in an arbitrary order.
<dt><a name="8">(8)</a><dd>When the type of the target is class-wide:
<dt><a name="9">(9)</a><dd><ul><li>If the expression is tag-indeterminate <a href="03-09-02.htm">(see 3.9.2)</a>, then the
controlling tag value for the expression is the tag of the
target;
</ul><dt><a name="10">(10)</a><dd><ul><li>Otherwise (the expression is dynamically tagged), a check is made
that the tag of the value of the expression is the same as that
of the target; if this check fails, Constraint_Error is raised.
</ul><dt><a name="11">(11)</a><dd>The value of the expression is converted to the subtype of the target.
The conversion might raise an exception <a href="04-06.htm">(see 4.6)</a>.
<dt><a name="12">(12)</a><dd>In cases involving controlled types, the target is finalized, and an
anonymous object might be used as an intermediate in the assignment, as
described <a href="07-06-01.htm">in 7.6.1</a>, ``Completion and Finalization''.  In any case, the
converted value of the expression is then assigned to the target, which
consists of the following two steps:
<dt><a name="13">(13)</a><dd><ul><li>The value of the target becomes the converted value.
</ul><dt><a name="14">(14)</a><dd><ul><li>If any part of the target is controlled, its value is adjusted as
explained in clause <a href="07-06.htm">7.6</a>.
</ul><p><dt><dd><ul>NOTES</ul>
<dt><a name="15">(15)</a><dd><ul>(2) The tag of an object never changes; in particular, an assignment_statement does not change the tag of the target.
</ul><dt><a name="16">(16)</a><dd><ul>(3) The values of the discriminants of an object designated by an access
value cannot be changed (not even by assigning a complete value to the
object itself) since such objects are always constrained; however,
subcomponents of such objects may be unconstrained.
</ul></dl><h5 align="center">Examples</h5>
<dl><dt><a name="17">(17)</a><dd><em>Examples of assignment statements:
</em>
</dl><pre><a name="18">(18)</a>
       Value := Max_Value - 1;
       Shade := Blue;
<a name="19">(19)</a>
       Next_Frame(F)(M, N) := 2.5;        <em>--  <a href="04-01-01.htm">see 4.1.1</a></em>
       U := Dot_Product(V, W);            <em>--  <a href="06-03.htm">see 6.3</a></em>
<a name="20">(20)</a>
       Writer := (Status =&gt; Open, Unit =&gt; Printer, Line_Count =&gt; 60);  <em>-- <a href="03-08-01.htm">see 3.8.1</a></em>
       Next_Car.all := (72074, null);    <em>--  <a href="03-10-01.htm">see 3.10.1</a></em>
</pre><dl><dt><a name="21">(21)</a><dd><em>Examples involving scalar subtype conversions:
</em>
</dl><pre><a name="22">(22)</a>
       I, J : Integer range 1 .. 10 := 5;
       K    : Integer range 1 .. 20 := 15;
        ...
<a name="23">(23)</a>
       I := J;  <em>--  identical ranges</em>
       K := J;  <em>--  compatible ranges</em>
       J := K;  <em>--  will raise Constraint_Error if K &gt; 10</em>
</pre><dl><dt><a name="24">(24)</a><dd><em>Examples involving array subtype conversions:
</em>
</dl><pre><a name="25">(25)</a>
       A : String(1 .. 31);
       B : String(3 .. 33);
        ...
<a name="26">(26)</a>
       A := B;  <em>--  same number of components</em>
<a name="27">(27)</a>
       A(1 .. 9)  := "tar sauce";
       A(4 .. 12) := A(1 .. 9);  <em>--  A(1 .. 12) = "tartar sauce"</em>
</pre><dl><p><dt><dd><ul>NOTES</ul>
<dt><a name="28">(28)</a><dd><ul>(4) Notes on the examples:  Assignment_statements are allowed even in
the case of overlapping slices of the same array, because the
variable_name and expression are both evaluated before copying the value
into the variable.  In the above example, an implementation yielding A(1
.. 12) = "tartartartar" would be incorrect.
</ul></dl><p>
<hr>
<h4><a href="05-01.htm"><img src="left.gif" alt="Prev"></a> | <a href="05.htm"><img src="up.gif" alt="Up"></a> | <a href="05-03.htm"><img src="right.gif" alt="Next"></a> | <a href="05-01.htm"><img src="back.gif" alt="Back"></a> | <a href="05-03.htm"><img src="forward.gif" alt="Forward"></a><br>   <a href="toc.htm">TOC --</a> / <a href="toc-l1.htm">--.--</a> / <a href="toc-l2.htm">--.--.--</a> | <a href="index.htm">Index</a> | <a href="search.htm">Search</a> | <a href="syntax.htm">Syntax</a> | <a href="help.htm">Help</a></h4>

<p>
<a href="http://lglwww.epfl.ch/Ada/"><img src="la-icon.gif" alt="Ada WWW Home"></a>
 -- Email comments, additions, corrections, gripes, kudos, etc. to:
<address>
<a href="author.htm">Magnus Kempe</a>
 -- <a href="mailto:Magnus.Kempe@di.epfl.ch">Magnus.Kempe@di.epfl.ch</a><br>
<a href="cright.htm">Copyright statement</a><br>
Page last generated: 95-03-12
</address>
</body>
</html>
