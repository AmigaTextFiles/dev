@database README.guide

@Master readme.texi

@Width 72


This is the AmigaGuide® file README.guide, produced by Makeinfo-1.64 from 
the input file readme.texi.

$VER: README.GUIDE 2.27 (17.5.97) ©1994-97 by HWG, For Joan Thuesen

Copyright © 1994-97 Heinz Wrobel. No changes allowed unless you do all
of this:

  1. change the name of the full distribution to something other than
     HWGRCS. I don't want `bogus' HWGRCS versions floating around.

  2. Mark _clearly_ what and where your changes are and that I have
     nothing to do with them.

  3. Leave my copyright notices and log comments in there if there are
     any.

   This file contains an introduction to HWGRCS. It also contains
information about updates, bug fixes, enhancements, etc.

In short: This is the README.FIRST and RELEASE.NOTES

     Heinz Wrobel
     Karlstr. 16
     82131 Gauting
     Germany
     FAX +49 89 850 5125
     <heinz@hwg.muc.de>


@Node Main "README.guide"
@Next "Copyrights"

@{B}HWGRCS
******@{UB}

   This document contains all the information about HWGRCS that is not
contained in the original RCS man pages. It currently describes
`HWGRCS Patch Level 20', an Amiga port of the original RCS 5.7. Release
notes for this and earlier releases can be found in @{"Release Notes" Link "Release Notes"}.


HWGRCS specific documentation:

 @{" Copyrights " Link "Copyrights"}               Please take a look at this.
 @{" HWGRCS Introduction " Link "Introduction"}      Starting out with HWGRCS.
 @{" Requirements " Link "Requirements"}             The setup you need.
 @{" Installation " Link "Installation"}             How to set up a working HWGRCS.
 @{" Updates " Link "Updates"}                  You sure want updates, don't you?
 @{" Support " Link "Support"}                  You wouldn't mind support either, would you?
 @{" Bug Reports " Link "Support"}              Nobody is perfect.
 @{" Amiga Specific Features " Link "Amiga Specifics"}  The Amiga is some nice computer system.
 @{" Floating Labels " Link "Floating Labels"}          Something that is not obvious.
 @{" Recompiling " Link "Recompiling"}              For the hackers ...
 @{" Archive Names " Link "Archive Names"}            What belongs to HWGRCS?
 @{" Release Notes " Link "Release Notes"}            Don't forget to read these!

RCS documentation:

 @{" RCS introduction " Link "RCS:/hwgrcs/man/rcs.guide/RCSINTRO"}         What is RCS anyway?
 @{" RCS man pages " Link "RCS:/hwgrcs/man/rcs.guide/Main"}            Docs for all the RCS commands.

DIFFUTILS and PATCH documentation:

 @{" DIFF docs " Link "RCS:/hwgrcs/man/diff.guide/Main"} 

Please don't think that I wrote RCS. RCS is quite some piece of SW. But
the work that I invested into HWGRCS is not exactly small either. This
work is dedicated to Joan Thuesen.

Heinz Wrobel

@{B}NOTE:@{UB} On pre V39 (< Workbench 3.0) AmigaGuide you will see some funny
marks on the screen. They are V39 formatting commands which make the
text look nicer under >=V39. They do not reduce the amount of
information shown in this document.


@EndNode

@Node "Copyrights" "README.guide/Copyrights"
@Next "Introduction"
@Prev "Main"
@Toc "Main"

@{B}Copyrights
**********@{UB}

   HWGRCS is distributed under the GPL, with some additional things I
want that do not restrict the GPL contents:

No changes to the HWGRCS distribution allowed unless you do all of this:

  1. Change the name of the full distribution to something other than
     HWGRCS. I don't want `bogus' HWGRCS versions floating around. It
     is mainly the prefix HWG that I am talking about here.

  2. Mark @{B}clearly@{UB} what and where your changes are and that I have
     nothing to do with them.

  3. Leave my copyright notices and log comments in there, if there are
     any.


Again: If you decide to play with the sources, that's fine. But I @{B}don't@{UB}
want you to keep the name HWGRCS. Please rename it to whatever other
name you like. (This name HWGRCS is mine, all mine)

Please note especially the `No Warranty' sections of the GPL.

@{B}DISCLAIMER: I HOPE THIS STUFF HELPS YOU AS IT DOES ME. IF IT TRASHES
YOUR SOURCES OR DOES ANY OTHER DAMAGE TO YOU OR YOUR COMPUTER I WON'T
BE HELD RESPONSIBLE FOR IT IN ANY CASE!@{UB}

For information about support of HWGRCS, read @{"Support" Link "Support"}.

Thank you for reading this.


@EndNode

@Node "Introduction" "README.guide/Introduction"
@Next "Requirements"
@Prev "Copyrights"
@Toc "Main"

@{B}Introduction
************@{UB}

Welcome to the wonderful world of HWGRCS!

@{B}What is HWGRCS?
===============@{UB}

   HWGRCS is a port of GNU RCS 5.7 to the Amiga with several Amiga
specific extensions. See @{"Amiga Specifics" Link "Amiga Specifics"}, for more info.

Here is a quote that describes it quite well, I think:

@{I}     The Revision Control System (RCS) manages multiple revisions of
     files.  RCS  automates the storing, retrieval, logging,
     identification, and merging of revisions.  RCS is useful for text
     that is revised frequently, for example programs, documentation,
     graphics, papers, and form letters.  @{UI}

This and the RCS Introduction in the main menu should help you decide if
you can need it.

@{B}What is in the archive?
=======================@{UB}

   HWGRCS contains a complete port of RCS 5.7, the GNU diffutils 2.6
and GNU patch 2.1 executables and my `LP' utility to support paged diff
outputs. To get the docs and sources for `diff' and `patch', you will
need to get the `HWGdiffXX' and `HWGpatchXX' archives (`XX' denotes a
revision number). I will update these archives as long as their
contents are used in HWGRCS. Both archives can be found (as HWGRCS) on
any Aminet FTP site. See @{"Support" Link "Support"}, and @{"Archive Names" Link "Archive Names"}, for more info.

@{B}Why is it called HWGRCS?
========================@{UB}

   Though the names of all the executables are unchanged, I called this
distribution HWGRCS instead of just RCS. I hope to avoid confusion
about what people refer to this way. So if you or anybody refers to
@{B}this@{UB} stuff, please call it HWGRCS. This way I get the blame and
glory for what I did and maybe a chance to hear about bugs. Talking
about glory, please read @{"Support" Link "Support"}.

@{B}Man, this guy writes some strange text!
=======================================@{UB}

   Please remember that english is not my native language. So if my
choice of words in this document may occasionally puzzle you a bit,
send me mail with a suggestion on how to improve the wording of the
text. See @{"Support" Link "Support"}, for my address.


@EndNode

@Node "Requirements" "README.guide/Requirements"
@Next "Installation"
@Prev "Introduction"
@Toc "Main"

@{B}Requirements for using HWGRCS
*****************************@{UB}

   You need an Amiga with a harddrive. An OS version >= V37 (i.e.
Kickstart 2.04) is required. You won't get far if you don't have 1MB
free RAM space.


@EndNode

@Node "Installation" "README.guide/Installation"
@Next "Updates"
@Prev "Requirements"
@Toc "Main"

@{B}Installation of HWGRCS
**********************@{UB}

@{B}Picking a location
==================@{UB}

   First you need to find a place to put HWGRCS. Basically you can put
it anywhere on your HD you like.

   Don't forget to use the `-a' option if you unpack the archive with
`lha'. The file attributes should be preserved when unpacking the
archive.

   Please @{B}don't@{UB} change the directory structure and @{B}don't@{UB} put other
tools into the HWGRCS directory tree. If you do it anyway you will
probably have a problem updating HWGRCS easily. Putting a `path'
command into your `S:User-Startup' is much less of a problem.

@{B}Adding HWGRCS to your command set
=================================@{UB}

To make HWGRCS commands work, you need to do a few things:

  1. Add an `Assign RCS: <hwgrcsplace>/bin' and a `Path RCS: add' to
     your `S:User-Startup'. `<hwgrcsplace>' denotes the place where you
     put HWGRCS and there the directory where this very document is
     located. In other words: `RCS:' must point to the `bin' directory
     in the distribution.

     You might want to add the `Path' statement before e.g. your
     compiler path if you use e.g. SAS/C. The GNU `diff' used in HWGRCS
     is very powerful and you might prefer it to the SAS/C version.

  2. Set the timezone correctly. See @{"Timezone Support" Link "Timezone Support"}, for more info.

  3. Set `ENV:USER' to your user name. This name will appear in the
     log. An alias for this is `ENV:LOGNAME'. Note that the user name
     should be like a login name or email name, e.g. `heinz' instead of
     `Heinz Wrobel' on my computer.

  4. Read at least some of the RCS docs. As you are reading the docs now
     it should be no problem for you to go up to the main menu and
     browse through the RCS documentation.

  5. Reboot


@{B}Notes on using HWGRCS
=====================@{UB}

   When you decide to use HWGRCS, please send me some email. I'll put
you into a mailing list for info on bugs, workarounds, and misc.  news
concerning HWGRCS. See @{"Support" Link "Support"}, for more info.


@EndNode

@Node "Updates" "README.guide/Updates"
@Next "Support"
@Prev "Installation"
@Toc "Main"

@{B}Updates
*******@{UB}

   You can pick up updates for HWGRCS from any Aminet FTP site. Updates
are announced to all users on my mailing list and on
comp.sys.amiga.announce. I might do extra announcements in other
places, but that depends on the circumstances.

   If you don't have FTP access, I am willing to send you the archives
per smail for $10 or DM 20,- up front. Why this price for two disks? I
am not really set up for this: I need to buy stamps and envelopes, and
go to the post office. Very annoying. ;^)

See @{"Support" Link "Support"}, for information about the mailing list and my address.


@EndNode

@Node "Support" "README.guide/Support"
@Next "Amiga Specifics"
@Prev "Updates"
@Toc "Main"

@{B}Support and Bug Reports
***********************@{UB}

   Bugs most likely have to do with me porting RCS to the Amiga, so the
bug report address mentioned in the original docs won't be of much use
to you.  Please report all HWGRCS bugs only to me. I will forward
`true' RCS bug reports.

@{B}There is no free lunch
======================@{UB}

   You are free to use HWGRCS and it is free for you. I don't charge
you for my work that has gone into HWGRCS.

   But I'd like you to think of my support of HWGRCS more like
`Giftware'. If you want my support, please send me some `Motivation'
for supporting HWGRCS. My time ain't free. Neither is my email
connection and supporting HWGRCS should continue to be fun for me.
Books, HD installable games, A9000's, HD's, networking boards, word
processors, money, anything nice accepted. This is directed especially
but not at all exclusively at the commercial users of HWGRCS.

I @{B}don't@{UB} want to say:

@{I}     I will answer to your questions if you register. To register send
     $x to my address.  @{UI}

I'd rather have your imagination do some work. If you think that HWGRCS
is a rather nice piece of supported work, please don't forget me.

@{B}No Piracy!
==========@{UB}

   I will not help anyone who uses pirated software including pirated
kickstart or workbench files. Some people seem to see OS pirating as an
exception. I can't understand that.

@{B}Mailing List for HWGRCS
=======================@{UB}

   I have set up a huge mail alias for HWGRCS users to notify them on
updates, bugs, etc. Anyone who sends me email on HWGRCS for some reason
will be put on the list. Don't forget that this mailing list is mainly
on my phone bill. I pay for all the mails going out, you pay for one
coming in.  Please don't be offended when I ask you to reread the
`Giftware' paragraphs above. Thank you!

   Note that if mail bounces for some obscure reason, I will simply
remove that address from the list.

@{B}Information you absolutely have to provide
==========================================@{UB}

   For any question or bug report you send me, I need some information
about your setup. Please include @{B}always@{UB} the output of the `VERSION'
command for the HWGRCS commands, your computer configuration, and the OS
version. The OS tool `ShowConfig' is a good thing to use here.  Really
helpful would be bug reports created with the Amiga `Report' tool. This
tool can be found on Fish Disk 920. New versions might be available
when you read this. Don't forget to tell me if you are using the
original Shell or some replacement and if the problem occurs with the
original Shell. I do not have WShell.

   The easiest way for you is probably to put that information together
right now and save it into a file. You can insert this file then into
any email request. Don't forget to update it when your setup changes.

   You help me lot in helping @{B}you@{UB} by providing me with this information.

@{B}Don't forget to read the docs!
==============================@{UB}

   This may sound really stupid, but did you check the docs when you
encountered a problem? No? Hmm. Please read them now. Maybe you don't
even have to send a bug report. See @{"Top" Link "Main"}, for a pointer to the RCS man
pages.

@{B}What's the address?
===================@{UB}

Please send all gifts, questions, and bug reports to:

     Heinz Wrobel
     Karlstr. 16
     82131 Gauting
     Germany
     FAX +49 89 850 5125
     <heinz@hwg.muc.de>

Thank you!

Heinz Wrobel


@EndNode

@Node "Amiga Specifics" "README.guide/Amiga Specifics"
@Next "Floating Labels"
@Prev "Support"
@Toc "Main"

@{B}Amiga specific Features of HWGRCS
*********************************@{UB}

   HWGRCS contains half a ton of Amiga specific features. Here is a
list of the more involved stuff:


 @{" RCS_link " Link "RCS_link"} 
 @{" Filename Expansion " Link "Filename Expansion"} 
 @{" Response Files " Link "Response Files"} 
 @{" Easy Project Setup " Link "Easy Project Setup"} 
 @{" Amiga rcsfreeze " Link "Amiga rcsfreeze"} 
 @{" Amiga Comment Leaders " Link "Amiga Comment Leaders"} 
 @{" Timezone Support " Link "Timezone Support"} 
 @{" RCSINIT " Link "RCSINIT"} 
 @{" Reference Directory " Link "Reference Directory"} 
 @{" New RCS Keywords " Link "New RCS Keywords"} 
 @{" LP Line Print Utility " Link "LP Line Print Utility"} 

In addition to that you get some nice, small features:

   · All the executables should be residentable.

   · Starting with @{"Patch Level 8" Link "Patch Level 8"}, local environment variables are
     checked in addition to `ENV:'. Note that I use the `ENV:' prefix
     in this manual to denote an environment variable. This can be
     local or global whichever is available. So e.g. a variable
     described as `ENV:foo' does not actually have to be in `ENV:'. It
     could be a process local environment variable.


@EndNode

@Node "RCS_link" "README.guide/RCS_link"
@Next "Filename Expansion"
@Prev "Amiga Specifics"
@Toc "Amiga Specifics"

@{B}The `RCS_link' feature
**********************@{UB}

@{B}`RCS_link' as repository link
=============================@{UB}

   I decided to reimplement the `RCS_link' feature found in the RCS 4.x
port on the old Fish disks 281/282, and 451.

   Usually, HWGRCS puts all the repository files into an `rcs'
subdirectory if available. You might want to have a separate HD
partition or network volume for the repositories, though. Unfortunately
AmigaOS has still problems with softlinks which are needed to do this
through the OS.  With `RCS_link', you can still have the repository
files in a completely different location even though no softlinks are
available.

   Basically HWGRCS looks for the correct place in this order:

  1. Use the first line of the file `RCS_link' in the working directory
     if it exists and is non empty. A slash is added if necessary.

  2. Check `ENV:RCS/DIRECTORY' for the name. A slash is added if
     necessary.

  3. Use `rcs/' as name.

The first one found will be used.

   Check the relase notes for HWGRCS Patch level 3 and upwards.  See
@{"Patch Level 3" Link "Patch Level 3"}, for more info.

@{B}   NOTE:@{UB} I might remove the check for `ENV:RCS/DIRECTORY' in a future
release or rename the environment variable. I don't think of this as a
`good' feature anymore.

@{B}`RCS_link' as configuration file
================================@{UB}

   Starting with @{"Patch Level 8" Link "Patch Level 8"}, `RCS_link' has become much more than a
simple repository directory link. It is now more a special
configuration file where many options pertaining to the current
directory can be set.

   Note that this makes `RCS_link' sort of a two-headed janus file. As
configuration file, it is read from the @{B}current@{UB} directory and @{B}only@{UB} on
startup of any HWGRCS command. As repository link, only the first line
of `RCS_link' will be used as described above, which might very well be
an `RCS_link' file in a completely different directory.

   Currently, `RCS_link' lets you specify the place where repository
files go in its first line, a place where the latest checked in version
(the reference version) of the working files go in the second line, and
miscellanous options in the lines after that. What does this mean
exactly?  Well, the first line and its use has been explained above. In
the second line you set the name of the @{"Reference Directory" Link "Reference Directory"}. You may
leave it empty as the first line of you don't want to specify a
reference directory.

   The lines after that are in the the format `<option>: <stuff>'. The
possibly options are:

`ignore'
     You specify one filename or AmigaDOS filename pattern (no `*'!).
     All arguments specified on the command line that are not starting
     with a `-' and where the filename (ignoring its path) matches the
     specified pattern will be removed from the command line before
     processing. This lets you do a `ci -u #?' while having specific
     files automatically ignored.  You do not need to specify
     `RCS_link' here. `RCS_link' will always be overlooked by all
     commands capable of handling `RCS_link'.  Multiple `ignore' lines
     may be used.

`<cmd>'
     `<cmd>' can be one of `ci', `co', `ident', `merge',
     `rcs',`rcsclean', `rcsdiff', `rcsfreeze', `rcsmerge', and `rlog'.
     The remainder of the line will be used as described in @{"RCSINIT" Link "RCSINIT"}.
     Note that only one line per command may be used. Also note that
     any specification will fully override any options described in
     @{"RCSINIT" Link "RCSINIT"}. If you specify any options here, @{"RCSINIT" Link "RCSINIT"}, won't be
     even looked at.

@{B}Exceptions
==========@{UB}

@{B}   NOTE:@{UB} `rcsfreeze' does not currently respect any configuration
options and flags used in `RCS_link' except for the repository link
line.


@EndNode

@Node "Filename Expansion" "README.guide/Filename Expansion"
@Next "Response Files"
@Prev "RCS_link"
@Toc "Amiga Specifics"

@{B}Automatic filename expansion
****************************@{UB}

   HWGRCS has been linked with `hwgunix.lib'. See @{"Recompiling" Link "Recompiling"}, for more
info. It has a modified startup in it. This new startup code does
filename expansion via the V37 pattern matching functions for any
argument that meets these criteria:

   · doesn't start with `-'

   · and contains at least one of `?', `*', `#', `~', `(', `|', or `)'

As you see, it won't expand unix style options. I needed this as the
shell doesn't support command lines of arbitrary length and the
standard SAS/C startup up to and including SAS/C 6.50 doesn't support
more than 32 arguments. My `_main.c' should be able to handle any
number of arguments up to the available memory limit.

You can do a `ci (#?.c|#?.h)' just by typing it.

I say this is a hack for several reasons:

  1. Anything that meets the criteria mentioned above is considered a
     filename. No matter what it really is.

  2. This filename expansion is done on startup. Things like `RCS_link'
     won't be checked.

Unix path specifications `..' and `./' are converted to AmigaDOS paths
by my modified startup. See @{"Patch Level 6" Link "Patch Level 6"}, for more info.

   Starting with @{"Patch Level 8" Link "Patch Level 8"}, a `*' is converted to `#?' before
processing.

   Starting with @{"Patch Level 20" Link "Patch Level 20"}, file names that start with a dot are
skipped automatically unless overridden by a special option.  This
should help you with freeze logs in the repository directory.

   Another nice feature is `response file expansion'.  See
@{"Response Files" Link "Response Files"}, for more info.


@EndNode

@Node "Response Files" "README.guide/Response Files"
@Next "Easy Project Setup"
@Prev "Filename Expansion"
@Toc "Amiga Specifics"

@{B}Response File Expansion
***********************@{UB}

   HWGRCS has been linked with `hwgunix.lib'. See @{"Recompiling" Link "Recompiling"}, for more
info. It has a modified startup in it. This new startup code does
response file expansion.

   If you specify a filename `@file', this file will be opened and the
contents read in as arguments for the command. You can use this e.g. to
read in a file list if standard pattern matching doesn't do the job for
you.  See @{"Filename Expansion" Link "Filename Expansion"}, for more info. Any number of response
files can be specified and recursion is possible to a depth of at least
three levels.

Pattern matching is not done on purpose for response file names.


@EndNode

@Node "Easy Project Setup" "README.guide/Easy Project Setup"
@Next "Amiga rcsfreeze"
@Prev "Response Files"
@Toc "Amiga Specifics"

@{B}Easy Project Setup
******************@{UB}

   For each new project you need to set up the repository directory if
you don't want to have your working directory cluttered with stuff that
does not belong there. Just run the tiny script `setuprcs' and the
directory will be set up for you. If you run it by accident on an
existing setup, nothing should be disturbed.

   I suggest to use `setuprcs'. I might enhance it in the future and if
you are used to it, life will be even easier for you then.


@EndNode

@Node "Amiga rcsfreeze" "README.guide/Amiga rcsfreeze"
@Next "Amiga Comment Leaders"
@Prev "Easy Project Setup"
@Toc "Amiga Specifics"

@{B}The Amiga `rcsfreeze'
*********************@{UB}

   While there was the original rcsfreeze script, you'll find an AmigaOS
implementation of rcsfreeze, too. There is one change though which I
find useful. If you have a default branch set for a file, this branch
number is used to freeze the revision instead of the head value.

   Check the release notes for Patch 4 and Patch 7. See @{"Patch Level 4" Link "Patch Level 4"},
and @{"Patch Level 7" Link "Patch Level 7"}, for more info.


@EndNode

@Node "Amiga Comment Leaders" "README.guide/Amiga Comment Leaders"
@Next "Timezone Support"
@Prev "Amiga rcsfreeze"
@Toc "Amiga Specifics"

@{B}Comment Leaders for the Amiga
*****************************@{UB}

   I changed the standard setup for the comment leaders a little to
support Amiga specific file types a little better. HWGRCS supports
correct comment leaders for `.a', `.i', and `.fd' files. The comment
leader for these files is `* '. The comment leader for `.guide' and
`.ag' files is `@REMARK ', for `.ps' files `% ', and for `.mod' files `
* '.


@EndNode

@Node "Timezone Support" "README.guide/Timezone Support"
@Next "RCSINIT"
@Prev "Amiga Comment Leaders"
@Toc "Amiga Specifics"

@{B}Timezone support on the Amiga
*****************************@{UB}

   HWGRCS won't work if your timezone is not set. So you definitely
@{B}NEED TO SET THE TZ ENVIRONMENT VARIABLE CORRECTLY@{UB}! If you use at
least Workbench 2.1 (>= V38), the choice you made in the `Locale'
Editor will give HWGRCS a nice approximation.

   For more detailed timezone support you need to set the environment
variable `TZ' in the SAS/C timezone format.

The SAS/C `TZ' format is `aaabbbccc':

`aaa'
     the name of your timezone like CST or MET.  HWGRCS supports a huge
     amount of names. You shouldn't have a problem finding one that
     fits your needs. Just set `TZ', check in some dummy file and look
     at the date with the rlog command to see if it works.

`bbb'
     the offset in hours to UTC.

`ccc'
     If this is present the internal SAS/C variable `__daylight' will
     be set. As HWGRCS accepts timezone names referring to daylight
     savings time, I suggest you don't use this field. It's not tested.

On my machine I currently use `UTC-1' for `ENV:TZ'.

   `TZ' is not stored in `ENV:RCS' as it should be of `global' use to
you. It is not just used by HWGRCS.

@{B}NOTE:@{UB} Don't forget to copy the timezone to `ENVARC:'!


@EndNode

@Node "RCSINIT" "README.guide/RCSINIT"
@Next "Reference Directory"
@Prev "Timezone Support"
@Toc "Amiga Specifics"

@{B}The `RCSINIT' environment variable
**********************************@{UB}

   There is an environment variable RCSINIT mentioned in the RCS man
pages.  With HWGRCS this is actually `RCS/INIT' in `ENV:' to keep
everything pertaining to HWGRCS in one place.

@{B}   NOTE:@{UB} I am not so sure anymore that it was a good idea to rename
this environment variable. I might return to the original `RCSINIT' in
a future release.

   With @{"Patch Level 8" Link "Patch Level 8"}, an additional feature has been added which allows
command specific initialisation values. Before `RCS/INIT' is checked,
the commands look for `RCS/INIT_<cmd>'. This variable is used instead
if it exists. In other words, it overrides `RCS/INIT'.  `<cmd>' stands
for the name the program has been called with (i.e.  `argv[0]' for C).
For e.g. `co', you would set an environment variable named
`RCS/INIT_co'. Note that all these setting can be overridden by a
setting in @{"RCS_link" Link "RCS_link"}.


@EndNode

@Node "Reference Directory" "README.guide/Reference Directory"
@Next "New RCS Keywords"
@Prev "RCSINIT"
@Toc "Amiga Specifics"

@{B}The Reference Directory.
************************@{UB}

   Say you want to have a directory where you always keep read only
copies of the latest working files as reference for you and maybe other
developers in a network situation. How would do this with standard RCS?
You would use e.g. `ci -u file' and copy the working file afterwards to
your reference directory. Pretty annoying after a while, don't you
think?

   Starting with @{"Patch Level 8" Link "Patch Level 8"}, HWGRCS supports the notion of a
`Reference Directory'. You can specify a reference directory name in
the second line of the file @{"RCS_link" Link "RCS_link"}. On each check in operation, a
read only copy of the working file will be automatically put into your
reference directory. It is just like you used `ci -u file' and copied
the working file to your reference directory yourself.


@EndNode

@Node "New RCS Keywords" "README.guide/New RCS Keywords"
@Next "LP Line Print Utility"
@Prev "Reference Directory"
@Toc "Amiga Specifics"

@{B}Amiga specific RCS Keywords
***************************@{UB}

@{B}NOTE:@{UB} The keywords described here are non standard. They are only
handled by HWGRCS and by no other RCS implementation. They also have
some very special behaviour compared to the usual RCS keywords. The
implementation (if you want to call it that) is rather hairy and much
of a hack. So please read this very carefully.

   A table below describes the keywords in detail. As this very document
must be RCS compatible, too, I can't use a `$' character in the keyword
examples, as you would have to do in real life. I use `§' instead in
this text.

   Starting with @{"Patch Level 8" Link "Patch Level 8"}, HWGRCS supports four new and very
special keywords for the Amiga. The keywords are `§VER§', `§AmigaREV§',
`§AmigaDATE§', and `§AmigaProtection§'.

   There are some extremely special and somewhat unusual things about
keyword expansion for these new keywords. I put them up front here,
even though the keywords are not described yet, because it is very
important that you note these points well. When I talk about version
and revision numbers below, I don't mean the RCS numbers (unless
explicitly stated), but the special ones for the Amiga keywords `§VER§'
and `§AmigaREV§'.

  1. E.g. the command `ci' does not take keyword values into account
     when comparing revisions. So if you e.g. just change the date in a
     `§VER§' string and do a `ci -u', this will @{B}fail@{UB}! `ci' will report
     an unchanged file, your change will not be checked in, even though
     it stays in your working file. If you do only changes to any of the
     keyword values and nothing else that would make `ci' check in the
     code, you need to use the `-f' option to force a checkin.

  2. An increment of the version/revision or a date update in
     `§AmigaDATE§' will only be done on check in and only if you use a
     statement like `ci -l -f'. That is you need to keep a locked
     working copy of the file you want to check in, and you should
     force the current working file into the repository.

  3. The file is checked in @{B}as is@{UB}, and @{B}after that@{UB} the working copy is
     updated with the new keyword values. Read below on what this means
     for version bumping.

  4. Again: If you don't use `-l', you won't get any Amiga keyword
     updates in your working copy.

  5. If you don't specify `-f', you won't get any updates either.

  6. If you specify `-k', you won't get any updates either.


When I talk about `check in' below, the above criteria must be
fulfilled to make anything happen and I will assume that they are,
unless stated otherwise.

   For you as user this might mean a change to your work habits. Say
you have some file that you want to change where the `§AmigaREV§'
revision number is currently 11. You want to create revision 12. These
are the steps you have to perform:

  1. Check out a copy of the file to work on: `co -l file'.

  2. Do the needed changes in the working copy for revision 12.

  3. Increase the working copy's `§AmigaREV§' revision number with `ci
     -l -f file'. This checks in the changes into the repository and
     bumps the revision to 12 in the working file.

  4. Your working file has now the number 12. Note, that the revision
     number 12 is not yet in the repository, only the changes to the
     source.

  5. Do the check in of the finished revision 12: `ci -u -f file'.  Now
     revision 12 is in the repository. You can specify a log message of
     e.g.  `Amiga Revision bumped'. A simple Shell alias with the `-m'
     option might be helpful.


As you see there is one `dummy' check in operation to increase the
revision number. The cost of it is about 300 bytes in the repository
and one lost RCS revision. For a simple bump of the number without
source changes, you loose two RCS revisions because a final `ci -u -f'
is needed to get the new revision into the repository. Not much to get
the Amiga keywords, is it? I strongly suggest to use an alias with the
`-m' option as mentioned above. This gives you a clear indication in
the log where the different Amiga revisions start.

In the smakefile for HWGRCS, I have a special target `bumprev':

     bumprev:
         @co -q -l conf.h.amiga
         @ci -q -f -l -mAmiga_BUMPREV_Start conf.h.amiga
         @ci -q -f -u -mAmiga_BUMPREV_End conf.h.amiga
         @echo "Bumped patch revision"

But let me show you the detailed description of the keywords now. Here
it finally comes:

`§VER§'
     This keyword helps you to have an Amiga style version strings in
     your files. You have to put a line like this into your files:

     `§VER: progname 39.0 (28.1.94) §'

     On each check in the revision number (0 in this example) will be
     incremented and the date will be set to the current date. Do not
     try any tricky formatting stunts that violate the Amiga version
     string format. The behaviour is undefined in this case.

     You can find more information on the format and use of Amiga style
     version strings in the `Amiga User Interface Style Guide',
     published by Addison Wesley (You should have read it already,
     anyway). There is further interesting information in the AmigaMail
     issue March/April 1991.

     If you still want to handle your own `§VER§' without having HWGRCS
     reformat everything in way that you don't want, use the C string
     concatenation feature like `"§" "VER: foo"'. This way, HWGRCS will
     not recognize the keyword. Note that HWGRCS is rather careful
     though in preserving your layout. There shouldn't be much need for
     the above mentioned trick unless you want to do extra fiddling
     with e.g. date macros.

`§AmigaREV§'
     If you need a single revision number or counter that is
     incremented with each check in, you can use this keyword. You can
     use it multiple times for multiple counters in one file like this:

     `#define MYREV /* §AmigaREV: */ 1 /* § */'

     Tricky, isn't it? But it works pretty well. The non digit
     characters are overlooked and preserved. This makes enclosing the
     special RCS characters with comment tokens possible.

`§AmigaDATE§'
     This expands to a date specification of the current date as used in
     the Amiga style version strings excluding parentheses. As with
     `§AmigaREV§', HWGRCS tries to preserve surrounding characters.  So
     you could add parentheses yourself. You can use it like this:

     `#define MYDATE /* §AmigaDATE: */ "13.02.94" /* § */'

`§AmigaProtection§'
     There are two protection bits on the Amiga that can be quite
     useful: `S' for scripts, and `P' for pure, residentable data.  As
     long as you are using HWGRCS only on Amiga computers, these bits
     will be preserved. But if you have your repository files via a
     network on a computer that doesn't understand them, those bits are
     lost on the way. Just think of a Unix box. It only has read,
     write, and execute bits.  `§AmigaProtection§' helps here. If you
     know that a file needs to have e.g. both `S' and `P' set, add a
     line like this to your file:

     `§AmigaProtection: SP §'

     When a file is checked out that contains a keyword line like this,
     HWGRCS will attempt to set the protection bits accordingly. Note,
     that case or order is not important when specifying the letters
     for the bits. Currently only `S' and `P' are supported.

Implementing these keywords, even as rudimentary as they are, was non
trivial for me. If you look into the source you might get a wrong
impression of the work behind it. Please read @{"Support" Link "Support"}.

   I don't feel that this is the last word on these keywords yet. Pun
intended. The implementation and their behaviour especially with
respect to expansion might change. I am e.g. thinking of changing
`§AmigaDATE§' to always expand to the current date on any RCS operation.

If you have any ideas for improvement on all of this, tell me about it!
It is still a very open field and unfortunately somewhat limited by the
inner workings of RCS. If you hate these keyword because they e.g.
break your handling of `§VER§' strings, tell me about it, too. If you
don't tell me, nothing will get better! For my address, check @{"Support" Link "Support"}.


@EndNode

@Node "LP Line Print Utility" "README.guide/LP Line Print Utility"
@Prev "New RCS Keywords"
@Toc "Amiga Specifics"

@{B}The `LP' Line Print Utility
***************************@{UB}

   The `LP' utility has always been awfully underdocumented. This has
changed a little. Try `LP ?', and when you see the argument template,
type another `?'. You'll get some more help then.


@EndNode

@Node "Floating Labels" "README.guide/Floating Labels"
@Next "Recompiling"
@Prev "Amiga Specifics"
@Toc "Main"

@{B}Floating Labels
***************@{UB}

A feature that officially works with HWGRCS but isn't really documented
in the man pages is `Floating Labels'. The following description relies
on terms described in the original RCS man pages, so if you don't
understand something right away, refer to the RCS 5.7 documentation.

   Now what are Floating Labels? You can assign symbolic names to
certain revision numbers to mark them and make them easier to remember.
The `rcsfreeze' command does this for example via the `rcs' command.
This works quite well to mark a full release with e.g. `RELEASE2'
instead of having lots of different numeric revision numbers like
1.8.3.5 that no one can remember.

   Once a project gets bigger though, one might branch of sub projects.
It is fine to know that a sub branch 1.8.3.x might be the demo version
of some project version while the trunk of the revision tree contains
sources of the current commercial version. but let's face it,
1.8.3.something isn't easy to remember either. So we want a symbolic
label that denotes not just a single revision but a whole branch. This
is what floating labels are all about.

   Using a floating label is just as easy as using a symbolic label for
a certain revision. Let me continue with the revision numbers that I
took as example above. Instead of marking the specific revision
1.8.3.5, you can mark the whole branch 1.8.3.x by using only the branch
number 1.8.3 as symbolic revision number. So marking this as `demo'
would look like `rcs -ndemo:1.8.3 file'. You will automatically get the
latest revision if you ask for a checkout with a symbolic branch
specifier. The same works of course for trunk labels, too. To mark e.g.
the trunk 2.x, you would just use `rcs -ntrunk:2 file'.


@EndNode

@Node "Recompiling" "README.guide/Recompiling"
@Next "Archive Names"
@Prev "Floating Labels"
@Toc "Main"

@{B}Recompiling HWGRCS
******************@{UB}

   To recompile HWGRCS yourself, you need SAS/C 6.57. Earlier releases
won't do the job because of dependencies hidden inside my `hwgunix.lib'.

   Some SAS/C compiler headers are missing `const' keywords in
prototypes. You'll see that when you compile HWGRCS and you should
correct your headers according to the SAS/C documentation if this
problem occurs.

Other than that a simple run of `SMAKE' should do the job.

   All the modifications to the original RCS code are enclosed in
`#ifdef _AMIGA' statements. A short note on why the change is in the
code follows each statement.

   The source to `hwgunix.lib' is not included with HWGRCS as
`hwgunix.lib' is not really part of HWGRCS. It is a helper lib that I
created for various projects, and contains some private code. It also
contains bug fixes to SAS/C and is therefore dependent on the compiler
revision. There is nothing HWGRCS specific in there, but if you don't
want to use SAS/C, you might have to write your own compiler/environment
dependent helper functions.

   If you think you have found bugs in `hwgunix.lib' or have the
absolute need to get more information about it, contact me under the
address mentioned in @{"Support" Link "Support"}.

   Please don't just fix a bug and recompile. Report any bugs to me as
described in @{"Support" Link "Support"}. Thanks!


@EndNode

@Node "Archive Names" "README.guide/Archive Names"
@Next "Release Notes"
@Prev "Recompiling"
@Toc "Main"

@{B}HWGRCS Archive Files
********************@{UB}

   Starting with @{"Patch Level 7" Link "Patch Level 7"}, the full HWGRCS distribution comes in
three archives. This is the list of the archive names where `?' will be
the current patch level number.

`HWGRCSp?f.lha'
     The main archive contains everything needed to run HWGRCS
     including AmigaGuide® docs. You have unpacked this archive
     successfully, because you are reading the docs now.

`HWGRCSsrcp?f.lha'
     In this archive you will find everything needed to recompile
     HWGRCS.  See @{"Recompiling" Link "Recompiling"}, for more info.

`HWGRCSmanp?f.lha'
     This archive contains all the Unix style man pages for RCS. I took
     them out of the main archive because the AmigaGuide® docs are much
     nicer.

The archive `HWGRCSmanp7f.lha', done first for @{"Patch Level 7" Link "Patch Level 7"}, will not
be updated if no changes to the man pages occur in the original RCS
distribution. So even if I do a bug fix for HWGRCS, I will not
rerelease this archive if it is not changed. Be prepared for the `7' in
the archive name to stay there for a while.


@EndNode

@Node "Release Notes" "README.guide/Release Notes"
@Next "Patch Level 20"
@Prev "Archive Names"
@Toc "Main"

@{B}Release Notes
*************@{UB}

   For first time users of HWGRCS, I suggest working your way through
all the release notes.

   The current release is `HWGRCS Patch Level 20'.


 @{" Patch Level 20 " Link "Patch Level 20"} 
 @{" Patch Level 12 " Link "Patch Level 12"} 
 @{" Patch Level 11 " Link "Patch Level 11"} 
 @{" Patch Level 10 " Link "Patch Level 10"} 
 @{" Patch Level 9 " Link "Patch Level 9"} 
 @{" Patch Level 8 " Link "Patch Level 8"} 
 @{" Patch Level 7 " Link "Patch Level 7"} 
 @{" Patch Level 6 " Link "Patch Level 6"} 
 @{" Patch Level 5 " Link "Patch Level 5"} 
 @{" Patch Level 4 " Link "Patch Level 4"} 
 @{" Patch Level 3 " Link "Patch Level 3"} 
 @{" Patch Level 2 " Link "Patch Level 2"} 


@EndNode

@Node "Patch Level 2" "README.guide/Patch Level 2"
@Prev "Patch Level 3"
@Toc "Release Notes"

@{B}Release Notes for HWGRCS Patch Level 2
**************************************@{UB}

   · `diff' had problems with the AmigaOS filepath format

   · `-M' did not work with the appropriate HWGRCS commands because of
     a library bug in SAS/C.


@EndNode

@Node "Patch Level 3" "README.guide/Patch Level 3"
@Next "Patch Level 2"
@Prev "Patch Level 4"
@Toc "Release Notes"

@{B}Release Notes for HWGRCS Patch Level 3
**************************************@{UB}

   · The `-j' option of `co' didn't work because of a file that was
     open to long.

   · There were still problems with the networking group/user
     protection bits. I hope to really finally have this fixed now. I
     rewrote `stat()', `fstat()' and `chmod()' for this.

   · A positive side effect is, that HWGRCS never leaves the archive
     bit set now. Previously it restored it after any modification that
     cleared it. Now incremental backups should be safe.

   · `rcs.guide' should be V37 AmigaGuide® compatible now. Thanks to
     Joerg Plate for the patches.

   · The old and dreadful `RCS_link' feature I took over from Fish RCS
     4.x should work more like you would expect it to, now. E.g. if you
     do a `co dir/file' this will (hopefully) happen:

       1. Check for `dir/RCS_link', if ok, get the first line out of it
          as link path.

          If it is an absolute path (path with colon) replace `dir' with
          it. Otherwise tack it onto `dir'.

          Goto 4.

       2. Check for `RCS_link', if ok, get the first line out of it as
          link path.

          If it is an absolute path (path with colon) replace `dir' with
          it. Otherwise tack it onto `dir'.

          Goto 4.

       3. Add `RCS/' to `dir'

       4. Check if `dir/file' is there, if ok, fine, the end.

       5. Use the original `dir' and try `dir/file'.

   · With help of a patient beta tester (Thanks Bernd!), I got around a
     problem with network filesystems not supporting
     `ACTION_EXAMINE_FH'.  Another rewrite of the `fstat()' internals
     ...

   · The `.guide' extension should be recognized now with a comment
     leader of `@REMARK '.

   · Still no Amiga style version string. I'm open for suggestions to
     fit that into the RCS keyword grammar. I won't consider
     suggestions though that don't include a solution to the problem of
     keeping the arbitrary text after the date (displayed with `VERSION
     FULL') without an unwanted `$' sign in between.


@EndNode

@Node "Patch Level 4" "README.guide/Patch Level 4"
@Next "Patch Level 3"
@Prev "Patch Level 5"
@Toc "Release Notes"

@{B}Release Notes for HWGRCS Patch Level 4
**************************************@{UB}

   · The `.a' Ada file extension and its comment leader are now finally
     replaced by an Amiga assembler compatible `.a' with a leader of `*
     '.

     Therefore the complete list of Amiga specific extensions and
     comment leaders is now:

    `.a'      `* '
    `.fd'     `* '
    `.guide'  `@REMARK '
    `.i'      `* '
    `.ps'     `% '
     No other changes to the extensions have been made.

   · `rcsfreeze' is now a SAS/C 6.3 source. This was done because the
     script froze the branch number instead of the highest revision on
     that branch. This shouldn't happen anymore, but be careful!


@EndNode

@Node "Patch Level 5" "README.guide/Patch Level 5"
@Next "Patch Level 4"
@Prev "Patch Level 6"
@Toc "Release Notes"

@{B}Release Notes for HWGRCS Patch Level 5
**************************************@{UB}

   · I set `__stack' to 32768 to make SAS/C automatically swap stacks
     if there is not enough. This should fix stack problems for those
     who forgot to use the stack command.

@{I}@{B}          NOTE:@{UB} I had to compile everything with `NOSTKCHK' now because
          of a really nasty bug in the SAS startup which I won't fix
          myself for certain reasons. So there is currently NO
          AUTOMATIC STACK CHECKING ANYMORE!  @{UI}

   · There was a bug in `ci' with `-u' on an unchanged working file.
     It used to append the last log entry again and trashed the working
     file this way.

   · `rcsdiff' now supports `-L' and ked hopefully won't be needed
     anymore.  Forgot that ... :-((

   · There is a bug in the internal SAS/C 6.3 `__datecvt' function. It
     uses the timezone to convert dates which messed up all dates with
     HWGRCS. I rewrote it and put it into `amiga.c'.

@{I}@{B}          NOTE:@{UB} You might want to wait for 24 hours after applying this
          patch before using HWGRCS if you use options like `-d' or
          `-M'. This should get you out of any `time warp'.  @{UI}


@EndNode

@Node "Patch Level 6" "README.guide/Patch Level 6"
@Next "Patch Level 5"
@Prev "Patch Level 7"
@Toc "Release Notes"

@{B}Release Notes for HWGRCS Patch Level 6
**************************************@{UB}

   · The structure of the source tree has changed. So if you are
     updating from a previous HWGRCS you might want to consider doing a
     separate installation first. If it works, you have basically only
     the `RCS:' assign to change. If it doesn't, you can mail me bug
     reports and keep on using e.g. HWGRCS Patch 5 until I can fix your
     problems! :-)

   · Unfortunately the `fix' for `-d' and `-M' that I did for patch 5
     only obscured the problem further. It should be fixed now.  Inside
     the RCS files you should see only UTC dates now.

@{I}@{B}          NOTE:@{UB} You might want to wait for 24 hours after applying this
          patch before using HWGRCS if you use options like `-d' or
          `-M'. This should get you out of any `time warp'.  @{UI}

   · HWGRCS now uses the POSIX compliant default value for the `-x'
     option which is `-x/,v'. This means that newly created RCS files
     will have no `,v' extension, and files with `,v' extension will be
     used after files with no extension. This also means for certain
     reasons that you should use a sub directory `rcs' to put RCS files
     into. See below.  Working setups should not be affected as
     `RCS_link' is obeyed as usual and `,v' files are found and used,
     too.

   · To support the POSIX compliant behaviour and some standard code
     management tools, setuprcs has changed. It now sets up a standard
     `rcs' subdirectory instead of `RCS.RCSFiles'. It should not disturb
     existing `RCS_link' setups.

   · I killed `_main.c' and most of `amiga.c' in HWGRCS. All of the
     unix quirks and workarounds are now contained in `hwgunix.lib' in
     the addlib directory. It is a SAS/C 6.3 specific library which
     contains patches and addenda for unix source compatibility. If you
     need to know more about the contents or think you have found bugs,
     contact me.

   · Note that with SAS/C 6.3 `getcwd()' seems to be incorrectly
     prototyped with a `const char *' as first argument. This was in
     `conf.h.amiga', too.  As this clashed with some other source here,
     I fixed the prototype to `char *' in `stdio.h' and `dos.h'. This
     might affect your recompile.  I sure hope you added the missing
     `const' already in the SAS/C headers for some other functions. ;^)

   · Rework of `rcsfnms.c'. Relative paths should work a little better
     now.

   · Still no `$VER$' keyword for Amiga style version strings. Any
     input on a suitable grammar?

     Issues:

        - What version.revision should be used if it's a branch file
          like 2.3.4.1?

        - Where does the filename come from if it hasn't been set
          already?

        - How to avoid the final `$'? '\0' works only for C strings,
          not for e.g. AmigaGuide® or AREXX.

        - What about special text after the version info (for VERSION
          FULL)?

     Any input welcome.

   · `LP' has changed, too. It checks CTRL-C a lot better and should
     finally handle/filter ANSI codes well, if asked to. It got
     smaller, too.  ;^)

   · Cleaned up the patches to the GNU source. They should all have a
     small description now telling about the `Why?'.

   · Timezone handling has changed. If `ENV:TZ' is not set,
     locale.libray is tried. If `locale.library' is available, an
     `ENV:TZ' is set up automatically if it doesn't exists. It won't be
     saved to `ENVARC:', though. Once the timezone is set in a running
     command it won't be reevaluated. This saves quite a few
     unnecessary `ENV:TZ' checks.

   · NEW UNIX FILENAME SUPPORT ON STARTUP.

     All the HWGRCS commands (not `LP') are compiled with a new startup
     that understands how to rework `.' and `..' path specs into
     AmigaOS paths automatically. Examples:

          `.'             [An empty argv value]

          `./bla'         `bla'

          `../test'       `/test'

     In essence: Leading single dot specs `.<nothing else>' or `./' and
     any `..' that qualify as a complete path part are removed.

     This conversion is @{B}not@{UB} done for args quoted with `"'. If there is
     really some conflict with existing SW, please tell me about it as
     soon as possible.

     Unix makefiles should be easier to use now with HWGRCS.

     No root slash conversion is done for two reasons:

       1. A leading slash is ok with AmigaOS.

       2. Even if it wasn't which root should be used?

   · In a separate package `HWGdiff2_6', you'll find the sources to the
     now included GNU `diff' 2.6. I removed the old 1.15 `diff'
     distribution from HWGRCS. If you need (AmigaGuide®) docs for the
     `diff', you'll need to get the `HWGdiff2_6' package.

   · Same thing goes for `patch'. I included the executable from the
     `HWGpatch2_1' package.


@EndNode

@Node "Patch Level 7" "README.guide/Patch Level 7"
@Next "Patch Level 6"
@Prev "Patch Level 8"
@Toc "Release Notes"

@{B}Release Notes for HWGRCS Patch Level 7
**************************************@{UB}

   · HWGRCS `as is' will only compile under >= SAS/C 6.51 now. There
     are certain dependencies on SAS/C 6.51 inside the `hwgunix.lib'.

   · rcsclean without a file spec should work as documented now. It has
     never worked in HWGRCS, I think. :-(

   · RCS bug fixed that caused workfile names to be messed up on e.g.
     a `co rcs/#?' with a suffix default of `/,v'.

   · diff3 uses correct arguments for diff now.

   · rcsfreeze works through all the files in the rcs directory, not
     just the ones ending in `,v'. Files that are not a repository
     should be ignored with a message that `rlog' failed.

   · The `$Source$' keyword no longer gives an absolute filename with
     the colon after the drive volume name replaced by a slash.

   · Brand new startup for SAS/C 6.51. Now response files are
     supported.  When you specify `@file' as argument, the contents of
     the file will be read in as arguments at the position of the file
     specifier. You could set up a file list this way if e.g. `#?' or
     `#?.c' doesn't do what you need. See @{"Response Files" Link "Response Files"}, for more info.

   · HWGRCS should be compatible to AS225 now. Don't know about the
     Oxxi Novell client yet. I worked my way around missing support for
     V37 packets.

   · I deleted the translated man pages from the distribution. The same
     text is available as AmigaGuide® document. The ?roff sources are
     still there for those who want to generate ASCII man pages.

   · I converted the readme.first and release.notes contents to
     AmigaGuide® format for easier reading. Actually, you are reading
     them now.

   · I split HWGRCS into three parts. The binary archive
     `HWGRCSp7f.lha' (with AmigaGuide® docs), the source archive
     `HWGRCSsrcp7f.lha', and the man page archive `HWGRCSmanp7f.lha'.
     The man page archive contains all the unix man pages. I took them
     out of the binary archive because most people will use the
     hypertext docs, I think.

   · @{B}NOTE:@{UB} I am not so sure anymore that it was a good idea to rename
     the `RCSINIT' environment variable to `RCS/INIT'. I might return
     to the original `RCSINIT' in a future release.

   · @{B}NOTE:@{UB} I might remove the check for `ENV:RCS/DIRECTORY' in a
     future release or rename the environment variable. I don't think of
     this as a `good' feature anymore.


@EndNode

@Node "Patch Level 8" "README.guide/Patch Level 8"
@Next "Patch Level 7"
@Prev "Patch Level 9"
@Toc "Release Notes"

@{B}Release Notes for HWGRCS Patch Level 8
**************************************@{UB}

   Patch 8 can be considered a `major change release'. So please be
careful! Make a backup of your sources, and keep a copy of HWGRCS Patch
Level 7!

   · `ag' is now recognized as an additional AmigaGuide extension.
     See @{"Amiga Comment Leaders" Link "Amiga Comment Leaders"}, for a complete list of file extensions
     and their comment leaders.

   · HWGRCS supports @{"RCS_link" Link "RCS_link"}. This filename is now ignored as
     filename in these HGWRCS commands: `rcs', `rcsclean', `rcsdiff',
     `rcsmerge', `ci', `co', and `rlog'. The filename is simply removed
     from the argument list before the command gets around to use it.
     This should make e.g. a `co #?' much less of a problem.

   · A `*' as wildcard is now reworked into `#?' before processing.
     This should take care of unix filenames. Take a look at
     @{"Filename Expansion" Link "Filename Expansion"}, for more information.

   · Before `ENV:RCS/INIT' is checked, the commands look for
     `ENV:RCS/INIT_<cmd>'. This variable is used instead if it exists.
     `<cmd>' stands for the name the program has been called with (i.e.
     `argv[0]' for C). See @{"RCSINIT" Link "RCSINIT"}, for more info.

   · Four new RCS keywords are now available for the Amiga with HWGRCS.
     `VER' for Amiga style version strings compatible to the `VERSION'
     command, `AmigaREV' to implement a smart revision counter,
     `AmigaDATE' to get a date suitable for a version string, and
     `AmigaProtection' to preserve the protection bits `S' and `P' even
     when the repository is e.g. on a Unix server. Note, that these
     keywords behave in a very special way due to how RCS works. I feel
     that they are still somewhat experimental. See @{"New RCS Keywords" Link "New RCS Keywords"},
     for more info.  @{B}NOTE: YOU SHOULD READ ABOUT THIS FIRST if you have
     sources using the Commodore `VER' keyword in HWGRCS already. I HAVE
     WARNED YOU!@{UB}

   · The decision on what arguments to expand in the startup has been
     changed a little. Now everything that does not start with a `-' and
     has at least one of `?', `*', `#', `~', `(', `|', and `)' will be
     expanded. See @{"Filename Expansion" Link "Filename Expansion"}, for more info.

   · @{"RCS_link" Link "RCS_link"}, previously just a hack, is now a full fledged
     configuration file. It supports the notion of a @{"Reference Directory" Link "Reference
     Directory"}, and an extension to @{"RCSINIT" Link "RCSINIT"}, which allows directory
     specific options for all commands. There is also directory
     specific exclusion of filenames on the command line possible now.
     Please note that the `Reference Directory' feature is rather
     experimental.

   · Local environment variables are checked now and as usual they have
     higher priority than variables in `ENV:'.

   · Due to popular demand, I added the `diff' docs to the main
     archive. Information about `patch' is included, too. The archive
     size has gone up again. Ouch, my phone bill!


@EndNode

@Node "Patch Level 9" "README.guide/Patch Level 9"
@Next "Patch Level 8"
@Prev "Patch Level 10"
@Toc "Release Notes"

@{B}Release Notes for HWGRCS Patch Level 9
**************************************@{UB}

   · Added `.mod' extension check for Modula files. See
     @{"Amiga Comment Leaders" Link "Amiga Comment Leaders"}, for a complete list of HWGRCS specific
     file extensions and their comment leaders.

   · HWGRCS should no longer leave invalid dummy task entries named
     `SPECIALSTDIO' waiting for nothing behind. This was actually a bug
     in my hwgunix.lib. Sorry about the memory loss and fragmentation
     in the previous patch.

   · `rcsfreeze' had problems handling an `RCS_link' file with an
     empty link directory specification. It now uses `RCS' as default as
     intended.

   · `LP' filled out lines with spaces up to the line length.
     Trailing (unnecessary) spaces are now removed before the line is
     printed.  There are now some sort of docs available. See
     @{"LP Line Print Utility" Link "LP Line Print Utility"}, for more information.

   · HWGRCS handles the Amiga delete protection bit differently now. It
     will always be set when a revision is checked out, and it will no
     longer be taken as equal to the write protection bit. This makes
     checking out a file over an existing unlocked revision
     straightforward and does not confuse editors. When a new
     repository is created, the delete protection bit is now set due to
     the new behaviour. Existing repository files with the delete bit
     being cleared should not be affected. In short: HWGRCS should only
     touch the delete bit on check out and leave it pretty much as is
     or as the Amiga handles it otherwise.

   · After a `ci', any change in `AmigaProtection' bits in the working
     file should now be respected immediately instead of after only the
     next check out.


@EndNode

@Node "Patch Level 10" "README.guide/Patch Level 10"
@Next "Patch Level 9"
@Prev "Patch Level 11"
@Toc "Release Notes"

@{B}Release Notes for HWGRCS Patch Level 10
***************************************@{UB}

   · An ugly error I made for patch 9 when setting up the final link
     caused a buggy hwgunix.lib to be used. This in effect caused the
     SAS/C `chmod()' to be linked in instead of the UNIX like
     implementation needed, and therefore the protection bits for all
     files created or handled by Patch 9 are somewhat messed up .
     Results were that the 'A' bit was no longer cleared and that
     group/user bits were messed up too by Patch 9. This bug is the
     main reason for the release of Patch 10.

   · `setuprcs' will set up an `RCS_link' file that causes HWGRCS to
     automatically ignore the files created by `rcsfreeze' now when
     e.g. a `co rcs/#?' is done.


@EndNode

@Node "Patch Level 11" "README.guide/Patch Level 11"
@Next "Patch Level 10"
@Prev "Patch Level 12"
@Toc "Release Notes"

@{B}Release Notes for HWGRCS Patch Level 11
***************************************@{UB}

   · The use of an unterminated `§VER§' string confused the revision
     generation. This should be accepted correctly now in @{B}all@{UB} cases.

   · I put some documentation into this file about @{"Floating Labels" Link "Floating Labels"}, as
     described by Paul Eggert.

   · `rcsfreeze' used a pipe that would block if there was too much
     log information. It now uses a non blocking pipe which means that
     problems should only occur if a file has more log information than
     can fit into memory.


@EndNode

@Node "Patch Level 12" "README.guide/Patch Level 12"
@Next "Patch Level 11"
@Prev "Patch Level 20"
@Toc "Release Notes"

@{B}Release Notes for HWGRCS Patch Level 12
***************************************@{UB}

   · A small note on this patch. You will only find a few changes
     listed below. HWGRCS is rather stable now. This means that I
     haven't received any complaint or bug report in ages. As HWGRCS is
     a development tool, I don't see any reason to jeopardize its
     stability right now by fiddling around with its sources too much.
     Unless you find any new problems, don't expect any major changes
     for any future release.

   · If either the §Source§ or §Header§ keyword were used at least
     twice on one invocation of `ci' or `co', an Enforcer hit could
     occur.

   · I broke the pipe name generation in `rcsfreeze' when doing the
     last patch. It should work correctly again. Still, `rcsfreeze' is
     pretty much a hack.

   · I use a new hwgunix.lib now. It has a few bugs less. Hopefully it
     doesn't have any new bugs!

   · The rcs.guide file was messed up in a few lines.

   · The Amiga `L:queue-handler' is dangerously buggy. This affects
     the diffutils included in this package and therefore HWGRCS. In
     addition to this patch, I uploaded a replacement `queue-handler'
     to Aminet that fixes these problems. Look on Aminet for an archive
     named `HWGQueue.lha'. I strongly recommend replacing the original
     Amiga handler if you do major work with HWGRCS!


@EndNode

@Node "Patch Level 20" "README.guide/Patch Level 20"
@Next "Patch Level 12"
@Prev "Release Notes"
@Toc "Release Notes"

@{B}Release Notes for HWGRCS Patch Level 20
***************************************@{UB}

   · This is the first release of HWGRCS using the RCS 5.7 sources. So
     I decided to bump the patch level to 20, to signify some kind of
     major change of HWGRCS. @{B}Beware!@{UB} This is a whole new set of sources
     with my HWGRCS adaptions!

   · I've been using it for at least a year now I think. I just didn't
     get around to polish it up for a release earlier.

   · If you are updating from a previous version of HWGRCS, you might
     want to keep the old one. As this is a whole new thing, you might
     want to be a little extra careful.

   · There is a new feature in the special startup code from my
     hwgunix.lib. If you are using the filename pattern expansion
     feature of the startup code, filenames starting with a dot will
     automatically be ignored unless you specify a new special option
     `+HWGxxx1', which turns this skipping feature off.

   · Be sure to read the original RCS documentation to find out about
     the changes from RCS 5.6.0.1 to 5.7.

   · My `rcsfreeze' can handle a second argument now. If you specify
     an RCS compatible date specifier, it will be passed to `rcs' via
     the `-d' option when freezing files. This means that you can do a
     time based freeze of a certain revision. Whenever you have to take
     over old RCS repositories that are not well maintained, you will
     love this simple enhancement.

   · I recompiled the supporting `diff' tools using my current
     hwgunix.lib. This fixes a few nonobvious quirks that kept the
     previous versions of diff from working with RCS 5.7.

   · Incidentally, the RCS code used for HWGRCS has less bugs than the
     original RCS code as distributed worldwide. Hopefully, the port to
     the Amiga didn't introduce other bugs.

   · HWGRCS should now handle shells with "set echo on" well. Any
     subcommands will not produce any output to keep output parsing in
     order.

@EndNode

