

CC = dcc -proto -mRR
SCC = dcc -proto


AmiSlate:  AmiSlate.o display.o drawtcp.o palette.o StringRequest.o tools.o flood.o remote.o toolbox_h.o toolbox_hs.o asl.o drawrexx.o drawrexx_rxif.o drawrexx_rxcl.o drawrexx_aux.o ilbm.o byterun.o
		$(SCC) AmiSlate.o display.o drawtcp.o palette.o StringRequest.o tools.o flood.o remote.o toolbox_h.o toolbox_hs.o asl.o drawrexx.o drawrexx_rxif.o drawrexx_rxcl.o drawrexx_aux.o ilbm.o byterun.o -o AmiSlate
		copy amislate amitcp:bin
		copy amislate.info amitcp:bin

byterun.o:	byterun.c byterun.h
		$(SCC) -c byterun.c
		
ilbm.o: ilbm.c
	$(SCC) -c -gs ilbm.c
	
drawrexx_rxif.o: drawrexx_rxif.c
		 $(SCC) -c drawrexx_rxif.c
				 
drawrexx_rxcl.o: drawrexx_rxcl.c
		 $(SCC) -c drawrexx_rxcl.c

drawrexx_aux.o: drawrexx_aux.c
		$(SCC) -c drawrexx_aux.c
				
drawrexx.o:  drawrexx.c
	     $(SCC) -c drawrexx.c

asl.o:	 asl.c asl.h
	 $(SCC) -c asl.c
			 		   
toolbox_h.o: toolbox_h.c toolbox_h.h
	     $(SCC) -c toolbox_h.c
			 
toolbox_hs.o: toolbox_hs.c toolbox_hs.h
	      $(SCC) -c toolbox_hs.c
			  
AmiSlate.o:  AmiSlate.c AmiSlate.h drawlang.h
	     $(SCC) -c AmiSlate.c
			 
display.o:   display.c display.h
	     $(SCC) -c display.c
	
drawtcp.o:   drawtcp.c drawtcp.h drawlang.h
	     $(SCC) -c drawtcp.c
			 
palette.o:   palette.c palette.h drawlang.h
	     $(SCC) -c palette.c
			 
StringRequest.o: StringRequest.c StringRequest.h 
	 	 $(SCC) -c StringRequest.c
			 		
tools.o:	 tools.c tools.h drawlang.h
		 $(SCC) -c tools.c
			 
flood.o:	 flood.c flood.h drawlang.h
		 $(SCC) -c -gs flood.c

remote.o:	 remote.c remote.h drawlang.h
		 $(SCC) -c remote.c

clean:       
	 delete *.o
	 delete AmiSlate
	 
backup:
	 copy src:amislate/#?.(c|h|guide|brush) work:sourcebackup/amislate
	 copy slaterexx:#? all work:sourcebackup/amislate
	 copy src:amislate/dmakefile work:sourcebackup/amislate

backup2:
	 copy src:amislate/#?.(c|h|guide|brush) zaphod:sourcebackup/amislate
	 copy slaterexx:#? all zaphod:sourcebackup/amislate
	 copy src:amislate/dmakefile zaphod:sourcebackup/amislate

archive:
	 rm ram:AmiSlateSource.lha
	 lz -r a ram:AmiSlateSource.lha #?.(c|h|guide|brush) SlateRexx/#?.rexx SlateScripts Install_AmiSlate dmakefile
	 copy ram:AmiSlateSource.lha df0:

dist:	distribution

distribution:
	 delete ram:AmiSlate all
	 delete ram:AmiSlate.lha
	 makedir ram:AmiSlate
	 copy AmiSlate ram:AmiSlate
	 copy AmiSlate.info ram:AmiSlate
	 copy README ram:AmiSlate
	 copy README.info ram:AmiSlate
	 makedir ram:AmiSlate/Doc
	 copy Doc.info ram:AmiSlate
	 copy AmiSlate.guide ram:AmiSlate/Doc
	 copy AmiSlate.guide.info ram:AmiSlate/Doc
	 copy AmiSlateRexx.guide ram:AmiSlate/Doc
	 copy AmiSlateRexx.guide.info ram:AmiSlate/Doc
	 copy Install_AmiSlate ram:AmiSlate
	 copy Install_AmiSlate.info ram:AmiSlate
	 makedir ram:AmiSlate/SlateRexx
	 copy SlateRexx/#?.(rexx|slatefont) all ram:AmiSlate/SlateRexx
	 copy SlateRexx.info ram:AmiSlate
	 makedir ram:AmiSlate/SlateScripts
	 copy SlateScripts/#? all ram:AmiSlate/SlateScripts
	 copy SlateScripts.info ram:AmiSlate
	 makedir ram:AmiSlate/ExampleRexx
	 copy ExampleRexx.info ram:AmiSlate
	 copy ExampleRexx/#?.rexx all ram:AmiSlate/ExampleRexx
	 copy AmiSlateDrawer.info ram:AmiSlate.info
	 lz -r a ram:AmiSlate.lha ram:AmiSlate ram:AmiSlate.info