@database SimpleCat.guide
@master SimpleCat.guide
@$VER: SimpleCat.guide 3.25 (09.10.2015)
@author "Guido Mersmann"
@(c) "Guido Mersmann"
@smartwrap

@macro MS "@{par}@{jcenter}@{FG SHINE}$1@{par}@{JLeft}@{FG TEXT}"
@macro MH "@{par}@{jcenter}@{FG HIGHLIGHT}$1@{par}@{JLeft}@{FG TEXT}"
@macro MC "@{par}@{jcenter}@{FG SHINE}$1@{par}@{JLeft}@{FG TEXT}"
@macro MT "@{par}@{FG SHINE}$1@{par}@{JLeft}@{FG TEXT}"

@node "Main" "Contents"
@{jcenter}
@{code}
@{FG HIGHLIGHT}Simplecat V3.25

(C)1993-2015 by Guido Mersmann@{FG TEXT}

SIMPLECAT IS A DONATION WARE PRODUCT

READ THE DISTRIBUTION SECTION FOR INFORMATION ON DISTRIBUTION

@{FG SHINE}Contents
----------@{FG TEXT}

@{"     Distribution     " link "Distribution" }
@{"     Introduction     " link "Introduction" }
@{"     Feature list     " link "FeatureList" }
@{"    How to install    " link "HowToInstall" }
@{" The Script Commands  " link "##Commands" }
@{" How to Use SimpleCat " link "CLI" }
@{"         FAQ          " link "FAQS"}
@{"       History        " link "History" }
@{"   What is missing    " link "ToDo" }
@{"      The Author      " link "Author" }

@endnode
@node "Distribution" "Distribution"

@{MS "Distribution"}

This program is allowed to be published on every public medium, as long as all
files in the archive are unchanged. If this medium is a CD/DVD I expect a free
copy.@{par}

@{b}Distribution on AminetCDs and on Amithlon distribution is allowed.@{ub}@{par}

@{b}This program is donation ware.@{ub}@{par}

I expect from everybody, who uses this program, to spend a free amount of money (e.g. via
@{"PayPal" system "c:openurl http://www.geit.de/eng_donate.html >con://///AUTO/WAIT/CLOSE"}).
I think this does not hurt anybody, and I will have more fun to
integrate new features.@{par}

Actual versions can be found at @{b}@{"http://www.geit.de" system "c:OpenURL http://www.geit.de >con://///AUTO/WAIT/CLOSE"}@{ub} or
@{b}@{"http://www.aminet.net" system "c:OpenURL http://www.aminet.net >con://///AUTO/WAIT/CLOSE"}@{ub}@{par}

@{b}I am not liable for injures or data loss caused by this program or included
files! The use of this program is on your own responsibility !!!@{ub}

@endnode
@node "Introduction" "Introduction"

@{MS "Introduction"}

All programmers try to implement catalog support. Commodore invented a standard
based on .cd .ct files. These file are not very handy. One new string and all
files (One description and one file for each language!) need to be edited.@{par}

There are tools to create catalogs on Aminet, but no one is quite useful for
programmer and users, because of the lack of features.@{par}

SimpleCat solves all these problems! It's using the commodore based format with
some little extensions to allow to one single file to keep all language specific
information. SimpleCat is able to create all locale files at once. It's also
possible to export the normal commodore compatible files for backward
compatibly. To upgrade you current development files just let SimpleCat to auto
create a new CS File (Catalog Script).@{par}

There is no GUI needed. Just use your preferred text editor to edit SimpleCats
catalog scripts like you did before with the CD files, but this time only one file
needs to be edited. You should take a look into the included examples!@{par}

@endnode
@node "HowToInstall" "How To Install?"

@{MS "How To Install?"}

For a proper installation just copy the desired binary somewhere on your
hard disk. Typically this is the "C:" drawer.@{par}

The included catalogs are optional. Feel free to copy the "catalogs" drawer over
to your "Locale:" drawer or put it into the directory where you put SimpleCat
in.@{par}

That's all!@{par}

@endnode
@node "FeatureList" "Feature List"

  ° Just one file needed to create all locale related files.@{par}

  ° Catalogs and source-files will be created in one pass. This saves time in
parsing the same data over and over.@{par}

  ° It's possible to import and export any number of different source files at once.@{par}

  ° Optional auto numbering for all ids.@{par}

  ° Highly specified storage system provides maximum processing speed.@{par}

  ° Possible import formats: @{"#?.cs" link "FAQSCSFILE"}, #?.catalog, @{"#?.cd" link "FAQSCDFILE"}
 @{"#?.ct" link "FAQSCTFILE"} and #?.mtl files.@{par}

  ° Possible export formats: @{"#?.cs" link "FAQSCSFILE"}, #?.catalog, @{"#?.cd" link "FAQSCDFILE"},
@{"#?.ct" link "FAQSCTFILE"}, #?.c, #?.asm and #?.mtl files.@{par}

  ° Automatically creates full featured #?.cs files from catalogs, #?.cd or #?.ct files.@{par}

  ° Fully localized.@{par}

  ° 68000, MorphOS PPC and AmigaOS4 PPC Version

@endnode
@node "History" "History"

@{MS "History"}

@{MC "0.90"}

NOTE: First Version

@{MC "V0.91"}

FEATURE: ASM File support implemented.

@{MC "V0.92"}

BUGFIX: Fixed a small char converting problem that appeared when compiling the BoulderDäsh catalog script.

@{MC "V0.93"}

BUGFIX: Fixed some other minor bugs.

@{MC "V0.94"}

FEATURE: C File support implemented.

@{MC "V0.95"}

FEATURE: Added the missing string length check.

@{MC "V0.96"}

BUGFIX: Fixed some small bugs within the string length calculation.

@{MC "V0.97"}

FEATURE: Added some useful options to the Shell arguments.

@{MC "V1.00"}

BUGFIX: First official version.

@{MC "V1.01"}

BUGFIX: Small changes and fixes all over the code.

@{MC "V1.02"}

BUGFIX: Fixed problem during C-File export.

@{MC "V1.03"}

FEATURE: Added auto directory creation during automatic catalog export.

@{MC "V1.04 - V2.10"}

CHANGED: Reworked the entire tool to allow the massive feature upgrades.@{par}
FEATURE: SimpleCat itself is now full localised.@{par}
FEATURE: It's possible to import CD, CT and catalogs.@{par}
FEATURE: It's possible to export CD, CT and catalogs.@{par}
CHANGED: Reworked the entire manual.@{par}
FEATURE: Finally there is an English documentation.

@{MC "V2.11"}

CHANGED: Added include lines into the generated C-code section.

@{MC "V2.12"}

FEATURE: New options for the source code generator.@{par}
BUGFIX: The ASM-file generator by accident used c compliant #define and
#ifdef commands.

@{MC "V2.13"}

BUGFIX: Used new PPC smallstart.o to avoid wbstart enforcer hits. (Reported by
@{b}Pawel Stefanski@{ub})@{par}
BUGFIX: Fixed several error messages.

@{MC "V2.14"}

BUGFIX: A missing or invalid "CatalogsDir" drawer caused SimpleCat to abort without
error report.@{par}
BUGFIX: The language head lines are parsed more tolerant.

@{MC "V2.15"}

CHANGED: Fixed many mistakes in the german documentation. (Thanks to @{b}Stefan
Haubenthal@{ub})@{par}
BUGFIX: Fix a bug within the string management. Strings containing a \\0x00 or
\\000 where handled wrong during import and exports. During standard catalog
creation those byte defines caused the strings to be truncated, too. (Reported
by @{b}Stefan Haubenthal@{ub})

@{MC "V2.16"}

FEATURE: SimpleCat is now automatically performing an "avail flush"! This avoids
old catalogs reside in memory inter fear with the latest creation.

@{MC "V2.17"}

BUGFIX: The codeset command caused an illegal memory access. Reported by
@{b}Frank Weber@{ub}

@{MC "V2.18"}

BUGFIX: The id field wasn't set during exporting #?.cd files. Reported by
@{b}Frank Weber@{ub}@{par}
CHANGED: Reworked the header files to make them more readable.

@{MC "V2.19"}

BUGFIX: When writing verylong files the write puffer leaked by one byte.

@{MC "V2.20"}

BUGFIX: Version strings containing a comment at the end of the version string are now
supported and not reported as an error.
BUGFIX: Importing .CT files containing strings with a ";" at beginning caused the
strings to be ignored.@{par}
BUGFIX: Empty strings will be filled with the default string language.

@{MC "V2.21"}

CHANGED: Writing .CS, .CD and .CT files, SimpleCat no longer stores header and
empty comment lines. The old stuff caused files growing during import/export.
The new actions is exporting files that look exactly like they did before
importing.@{par}
CHANGED: Writing .CS files no longer stores obsolete (//).@{par}
BUGFIX: In version v2.18 a problem with exporting .cd files was fixed, but the
cause was a different and a logic error in thinking cause be to fix it in the
wrong place. The AUTONUM feature caused it and so it's fixed there. Now
exporting and AUTONUM should work under any condition.@{par}
FEATURE: SimpleCat now supports "$id: .....$" version ids. When importing .CD or
.CT files these id lines are stored and keeped as ##VersionID within the .CS
file. This prevents them from being removed or replaced and after exporting the
files the ids are present like they were before.@{par}
BUGFIX: Some error messages weren't displayed by the .ct import code.@{par}
CHANGED: changed the internal file management for import and exporting files.
This allows to process the files by priority, which will be required by the new
diff feature.@{par}
BUGFIX: Importing .CD files containing strings with a ";" at beginning caused
the strings to be ignored.@{par}
FEATURE: New @{"import sub mode" link "CLIImport"} named "DIFF"@{par}
BUGFIX: Due the latest changes the line count during import was a little
glitchy. This is fixed. I also forced the linecount to 0 when exporting, so
unlogic messages like "Line: 12 File: 'fuhbah.catalog' ..." look more
logic.@{par}
CHANGED: Octal \\012 argument are no longer restricted to 3 chars, so "\\1" and
"\\12" is allowed yet.@{par}
FEATURE: SimpleCat is now using AmigaOS memory pools. So SimpleCat is no longer
fragmentating the system memory with 2 byte allocations. As a little side
effect, SimpleCat seems to be a little faster.@{par}
FEATURE: Added .mtl file import and export.@{par}
BUGFIX: Exporting .CS caused config lost of previous imported .CS file.@{par}
BUGFIX: Fixed comment handling.@{par}
CHANGED: Added missing chapters and fixed parts of the manual. (reported by Timo
Hegemann)@{par}
FEATURE: OS4 PPC Version. (Thanks to Peter Hantke for his support)@{par}
CHANGED: Made the command detection more tolerant.@{par}
FEATURE: Added #array, #arrayopts, #block, #function, #prototype, #version and
#versionmin command. Some options in SimpleCatConfig line are now obsolete and
cause a warning. For compatibly, these options are still working.@{par}
CHANGED: The commands #language and #basename within .cd files will be ignored
and cause warnings.@{par}
FEATURE: Added new error messages.@{par}
FEATURE: SimpleCat and SimpleCatConfig now support to specify the maximum number
of chars per line. This prevents problems some editors are causing.@{par}
FEATURE: Added warn type information to error output, so the user can easily see
where the main problems are.@{par}
FEATURE: The CatalogsDir-Dos argument is now imported into the .cs file, if no
other command is overriding. Useful when dealing with CD2CS and CS2CD
scripts.@{par}
FEATURE: Catalog strings get removed, if they are identically to the main
language (first in .cs file).

@{MC "V2.22"}

BUGFIX: The error output caused a mixup with the string conversion buffer. In
the result catalogs where filled with strange things, when warnings were dumped.
CHANGED: Added missing \\ to get proper \\\\ all over the manual. Now the manual
should display the exact syntax. (reported by Stefan A. Haubenthal)@{par}

@{MC "V2.23"}

FEATURE: New warnings when spaces or tabs were used at the end of a string. Some
editors (like GoldED) remove these chars due optimization and may cause the line
getting invalid. Use \\x20 or \\x09 if you need a spacing at the end. This also
prevents translators from missing or killing them in translation.@{par}
CHANGED: Adjusted the warnings on trailing ellipsis to the new routines and made
a few chances. Only one dot is now checked instead of three. This gives more
information on normal strings and sometimes less warnings, because some
languages only use ".." and not "..." as I learned in the near past.

@{MC "V2.24"}

BUGFIX: Reworked error handling in .cd and.ct import. Memory error will now
abort instead of trying to get as much into memory as possible.@{par}
FEATURE: New NOFILLUP option allows to import an empty/incomplete .ct file
without filling empty line by using the default translation. (requested by H.-
Jo. Ottinger)

@{MC "V2.25"}

BUGFIX: Fixed issue that catalogs created with empty lines caused "#" strings.
No the original strings are used and get removed during optimization procces.
(reported by H.Jo. Ottinger)

@{MC "V2.26"}

CHANGED: New error message when the user tries to use TO argument together with EXPORT
argument. (reported by H.Jo. Ottinger)

@{MC "V3.00"}

CHANGED: Catalog importing is now less strict and allows to import really broken catalogs.@{par}
FEATURE: Illegal characters in label will now reported.@{par}
FEATURE: Massive internal update provides SimpleCat with a giant and powerful
MUI based gadget user interface. A special developer mode allows to upgrade the
GUI to obtain full control. A normal translator gets a simple GUI with all the
functions he needs.

@{MC "V3.10"}

FEATURE: Added a new #Target command which will replace the old CFILE and ASMFILE commands.@{par}
BUGFIX: Importing files containing IDs could cause multiple IDs for the same file on export.@{par}
BUGFIX: Trailing ellipsis check aborted after detecting the first error inside a group.@{par}
FEATURE: Added a new #chunk command which was invented my the flexcat makers.

@{MC "V3.11"}

BUGFIX: Fixed ##ifdef, ##ifndef, ##define, ##else and ##endif commands which didn't handle spaces correct.

@{MC "V3.12"}

BUGFIX: The commands ##ifndef, ##define and ##else weren't exported by any export module.@{par}
BUGFIX: Importing a #?.ct file no longer overloads existing version strings.

@{MC "V3.13"}

CHANGED: Using MorphOS like about request for all systems.@{par}
CHANGED: Changed the internal class error handling.@{par}
BUGFIX: Simplecat now supports MSG_LABEL(//) constructs (without spaces) which somehow seems to be used
by some people and tollerated by some software.@{par}

@{MC "V3.14"}

BUGFIX: The commands ##ifndef, ##define and ##else must not be exported by .ct export.@{par}

@{MC "V3.15"}

BUGFIX: Two language items were deleted when comments were hidden.@{par}
FEATURE: Finished search window implementation.@{par}
FEATURE: Finished search next implementation.@{par}
BUGFIX: fixed classic about request

@{MC "V3.16"}

BUGFIX: Fixed crash when dragging a file into the SimpleCat appwindow.@{par}
BUGFIX: Localization Wizard: Invalid texts only got ignored when removed.@{par}
BUGFIX: Localization Wizard: Backup mode wasn't working under any condition.@{par}
FEATURE: Localization Wizard: Now a line filter allows to ignore entire source lines, which is handy when dealing with #define and debug output.

@{MC "V3.17"}

BUGFIX: TARGET command was exported wrong for CATALOG and CATALOGS targets.

@{MC "V3.18"}

BUGFIX: The underscores in localization wizard window were set wrong.@{par}
FEATURE: The localization wizard now supports E-strings.

@{MC "V3.19"}

BUGFIX: Fixed error messages when exporting CATALOG and CATALOGS targets.

@{MC "V3.20"}

BUGFIX: Fixed log list position.@{par}
FEATURE: Removed NList from code. SimpleCat is now 100% NList free!

@{MC "V3.21"}

BUGFIX: Fixed overloaded C & V menu key, which prevented clipboard usage with
other gadgets in window.@{par}
CHANGED: Build system is completly reworked to fit into MorphOS build.@{par}
CHANGED: Removed NList support from code. No compatibly switching possible anymore.

@{MC "V3.22"}

CHANGED: The old @{"codeset" link "##CODESET"} command is now obsolete and gets silently
replaced by a new one.@{par}
CHANGED: Many changes to the import and export code.@{par}
FEATURE: 0x0d characters added during mail transfer or by using a PC to
edit translator files, are now warned and automatically stripped on import.@{par}
BUGFIX: @{"chunk" link "##CHUNK"} catalog export no longer exports
chunks for other languages than the catalog one.@{par}
BUGFIX: Highlighting did not reset the pen correctly.@{par}
BUGFIX: Fixed hit when saving locale source.@{par}
BUGFIX: Fixed potential endless loop on search next.@{par}
BUGFIX: Added missing pattern to open/save .cs script ASL.@{par}
BUGFIX: Target GUI for "catalogs" delivered file gadget instead of path type.@{par}
BUGFIX: Export catalogs now creates the destination drawer if needed.@{par}
FEATURE: previous used language is now remembered in translation list.@{par}
FEATURE: Added log list highlighting.@{par}
BUGFIX: Export targets in GUI did not perform auto numbering.@{par}
BUGFIX: Export targets in GUI is using the document path as currentdir, if SimpleCat was
launched from Workbench/Ambient.

@{MC "V3.23"}

BUGFIX: Fixed version settings to allow 0 as version.@{par}
BUGFIX: Fixed problem with id export in ".c", ".cd", ".catalog" and ".asm",
because CS_Autonum() was not called. (reported by Achim Pankalla)@{par}
BUGFIX: Fixed potential illegal memory access in "Export Locale (.c/.h)".@{par}
BUGFIX: Fixed potential illegal memory access in localization wizard.

@{MC "V3.24"}

BUGFIX: Fixed problem with entry creation and id sorting, because CS_Autonum()
was not called. (reported by Achim Pankalla)@{par}

@endnode
@node "ToDo" "Future"

@{MS "Future"}

° Currently the export for Modula and other programming languages is missing due
the lack of interest. If you need support for a specific programming language,
then contact be and deliver a proper file to give me a sense in how it should
look.@{par}

@endnode
@node "Author" "The Author"

@{MS "The Author"}

If you find bugs within this application or in the files included, then please report
them, to allow quick fixing in upcoming versions.@{par}

Any ideas and suggestions are welcome, too.
@{code}

   Guido    Mersmann
   Glatzer Straße 12
   48477     Hörstel
             Germany

   EMAIL   : geit\@gmx.de
   WWW     : http://www.geit.de

   TEL     : (+49) 0160 / 628 68 90
   FAX     : 05978-705

@endnode

@node "FAQS" "Questions, Solutions and Tips!"

@{MS "Questions, Solutions and Tips!"}

@{jcenter}@{"What is CatComp" link "FAQSCATCOMP"}@{par}
@{jcenter}@{"What is a CS file?" link "FAQSCSFILE"}@{par}
@{jcenter}@{"What is a CD file?" link "FAQSCDFILE"}@{par}
@{jcenter}@{"What is a CT file?" link "FAQSCTFILE"}@{par}

@endnode
@node "FAQSCATCOMP" "What is CatComp?"
@toc "FAQS"

@{MS "What is CatComp?"}

CatComp is the name of the official "catalog compiler made by commodore.@{par}

It allows to compile @{".cd" link "FAQSCDFILE"} and @{".ct" link "FAQSCTFILE"}
files into catalogs.@{par}

SimpleCat is a 100% replacement for CatComp.@{par}

@endnode
@node "FAQSCSFILE" "What's a CS file?"
@toc "FAQS"

@{MS "What's a CS file?"}

the CS file is a logical extension of the @{".CD" link "FAQSCDFILE"} and
@{".CT" link "FAQSCTFILE"} files. Normally you need a .CD file and one .CT file for each
supported language.@{par}

The new .cs file format which is used by SimpleCat is able to keep all languages
and their configuration within one file. This makes programmers life much
easier. It also allows to create all catalogs and source files by one SimpleCat
call which avoids useless compares and files parses.@{par}

@endnode
@node "FAQSCDFILE" "What's a CD file?"
@toc "FAQS"

@{MS "What's a CD file?"}

The CD file is the "catalog descriptor". It describes the global catalog rules
like string size limits and id numbering.@{par}

In addition to that it contains the basic language use for that program.
Normally this is English.@{par}

@endnode
@node "FAQSCTFILE" "What's a CT file?"
@toc "FAQS"

@{MS "What's a CT file?"}

The CT file is the "catalog translator" file. As the name indicates this file is
given to the translator to fill the language specific strings in.@{par}

Beside the language specific strings, this file also contains information for
the compiler like the name of the language the file is mend for.@{par}

@endnode

@node "##Commands" "The script commands"

@{MS "The script commands"}
@{code}
@{JCENTER}
@{"General Information" link "##GENERAL"}@{par}
@{"##Version" link "##VERSION"}
@{"##Languages" link "##LANGUAGES"}
@{"##CodeSet" link "##CODESET"}
@{"##AutoNum" link "##AUTONUM"}
@{"##SimpleCatConfig" link "##SIMPLECATCONFIG"}@{par}
@{"##Target" link "##TARGET"}
@{"##Chunk" link "##CHUNK"}
@{"##VersionID" link "##VERSIONID"}
@{"##VersionMin" link "##VersionMin"}@{par}
@{"##Header" link "##HEADER"}
@{"##Array" link "##ARRAY"}
@{"##ArrayOpts" link "##ARRAYOPTS"}
@{"##Block" link "##BLOCK"}
@{"##Function" link "##FUNCTION"}
@{"##Prototype" link "##PROTOTYPE"}@{par}
@{"##ifdef" link "##IFDEF"}
@{"##endif" link "##ENDIF"}
@{"##else" link "##ELSE"}
@{"##ifndef" link "##IFNDEF"}
@{"##define" link "##DEFINE"}

@endnode
@node "##GENERAL" "General Information"
@toc "##Commands"

@{MS "General Information"}

All lines starting with a ";" will be ignored.@{par}

Lines starting with a "#" are special command lines which will be parsed. There
may be any number of spaces, tabulators and "#" before the real command
name.@{par}

First a little example to provide a little overview:@{par}

;--- Skriptbegin@{par}
## Languages english deutsch@{par}
## Version $VER: simplecat.catalog 2.10 (29.01.2005)@{par}
## CodeSet 0@{par}
## SimpleCatConfig AutoNum 1@{par}
## CFile english Sourcecodes:SimpleCat/Sources_c/locale_strings.h@{par}
## CatalogsDir Sourcecodes:SimpleCat/SimpleCat/Catalogs/@{par}
;@{par}
## Define CATCOMP_BLOCK@{par}
## Define CATCOMP_NUMBERS@{par}
;----------------------------------------------------------------------------@{par}
;----------------------------------------------------------------------------@{par}
; You need "SimpleCat" V2.xx to add your own Language or make any@{par}
; modifications@{par}
;@{par}
;----------------------------------------------------------------------------@{par}
;----------------------------------------------------------------------------@{par}
MSG_Requester_Title (4/3/128)@{par}
SimpleCat Request@{par}
SimpleCat Meldung@{par}
;@{par}
MSG_Requester_Ok (//128)@{par}
Ok@{par}
Ok@{par}
;@{par}
;----- Skriptende@{par}

The first line containing a text is treated as a symbol. This example specifies
the two labels MSG_Requester_Title and MSG_Requester_Ok. These symbols are used
by an Assembler, C-Compiler or other languages and must not be defined
twice.@{par}

The brackets contain the following numbers (StringID/Minimum size/ Maximum Size)@{par}

The stringID must not be declared twice, too. This ID-number is required to
retrieve the string from the locale.library.@{par}

"Minimum Size" defines the smallest string size. A smaller string causes an
error. No minimum size switches the checking mode of.@{par}

"Maximum Size" works exact like "Minium Size". The only exception is that this
declares the maximum length of an string. If it's not specified, the maximum
size won't be checked.@{par}

It's possible to not specify the entire bracket part. In such case the min and
max size checking is disabled.@{par}

In such case the ID handling depends on the current configuration. Normally the
prior used ID will be increased by one and used as ID. the first ID
automatically get 0 as ID. If the @{"AutoNum" link "##SIMPLECATCONFIG"} mode is
enabled all IDs are auto numbered starting by the start value. Any bracket
definition is obsolete in such case.@{par}


   Examples:@{par}
  -----------@{par}

   MSG_Demo1_Text  (1/2/10)@{par}
   ;ID=1 MinSize=2 MaxSize=10@{par}

   MSG_Demo2_Text (//)@{par}
   ;ID=0 MinSize=0 MaxSize=infinity@{par}

   MSG_Demo3_Text@{par}
   ;ID=0 MinSize=0 MaxSize=infinity@{par}

   MSG_Demo4_Text (4//)@{par}
   ;ID=4 MinSize=0 MaxSize=infinity@{par}

Now the easy part. The example script above is using a ##languages command with
"English" and "Deutsch" specified as languages. In the result each symbol line
must be followed by one line with English text and one line with German text.@{par}

Any typable caracter is allowed to be used for the language specific strings.
The backslash is special and allows to insert non printable or formatting
characters:@{par}

   \\a    insert ASCII 7   (Beep)@{par}
   \\b    insert ASCII 8   (Backspace)@{par}
   \\c    insert ASCII 155@{par}
   \\e    insert ASCII 27  (Escape)@{par}
   \\f    insert ASCII 12  (form feed)@{par}
   \\n    insert ASCII 10  (Line feed)@{par}
   \\r    insert ASCII 13  (CR)@{par}
   \\t    insert ASCII 9   (Tabulator)@{par}
   \\v    insert ASCII 11  (Vertical Tabulator)@{par}
   \\xNN  insert  NN       NN = hex code@{par}
   \\NNN  insert NNN       NNN = octal@{par}
   \\\\    insert Backslash.@{par}

It is also possible to split a language specific line into two or more different
lines by ending the line with a backslash.@{par}


Example:@{par}

MSG_NormalLine_Text  (//)@{par}
English text@{par}
Deutscher Text@{par}
;@{par}
MSG_MultiLine_Text  (//)@{par}
English Text splittet into \\@{par}
two lines!@{par}
Deutscher Text wurde in \\@{par}
zwei Zeilen geteilt!@{par}
;@{par}


Most of the stuff above shouldn't be a problem when you used CatComp before.@{par}

@endnode
@node "##VERSION" "The Version-Command"
@toc "##Commands"

@{MS "The Version-Command"}

Template: VERSION/A

The specified version string must be in the commodore style. All catalogs
created by this script will be named line the version string name, so specify
the name wise.@{par}

Example:@{par}

$VER: name.catalog 1.0 (01.01.95)@{par}

Will created all language catalogs named "name.catalog".@{par}

@endnode
@node "##LANGUAGES" "The Languages-Command"
@toc "##Commands"

@{MS "The Languages-Command"}

Template: LANGUAGE/A/M@{par}

This command specifies any language stored within the file.@{par}

It also specifies how many language specific text lines are following each
symbol line.@{par}

Examples:@{par}

## languages deutsch@{par}

Each Symbol line is followed by one German language specific line.@{par}

## LANGUAGES english deutsch português suomi@{par}

This command defines 4 different languages and the symbol line is followed by 4
lines of text ordered english, deutsch, português and finally suomi.@{par}

@endnode
@node "##CODESET" "The CodeSet-Command"
@toc "##Commands"

@{MS "The CodeSet-Command"}

Template: LANGUAGE/A,NUMBER/A/N@{par}

The codeset was invented by commodore and most systems are not using it. However, AmigaOS4 seems to
use this extension.@{par}
should define "0" or don't specify the command which has the same effect.

Examples:@{par}

## CodeSet deutsch 0@{par}

## CodeSet english 34@{par}

On export the language matching codeset will be used in catalog and translator files.@{par}

@endnode
@node "##AUTONUM" "The AutoNum-Command"
@toc "##Commands"

@{MS "The AutoNum-Command"}

Template: NUMBER/A/N@{par}

@{b}This command shouldn't be used anymore! It's currently supported, but to
ensure future compatibly you should use use the
@{"SimpleCatconfig" link "##SIMPLECATCONFIG"} command!@{ub}@{par}

@endnode
@node "##SIMPLECATCONFIG" "The SimpleCatConfig-Command"
@toc "##Commands"

@{MS "The SimpleCatConfig-Command"}

Template: AUTONUM/K/N,CHARSPERLINE=CPL/K/N@{par}

This command can be used multiple times and allows to set up SimpleCat.@{par}

By using the AUTONUM argument the auto numbering feature gets enabled. All
symbols get a new and unique id number starting with the value specified. Id
numbers defined by the symbol lines will be ignored.@{par}

CHARSPERLINE allows to limit the number of characters per line to a specific
amount of chars. When exporting .cs, .cd and .ct files, the output will be
reformatted automatically.@{par}

Examples:@{par}

## SIMPELCATCONFIG AutoNum 1@{par}

## SIMPELCATCONFIG AUTONUM 1 CharsPerLine 80@{par}

## SIMPELCATCONFIG CharsPerline 160 AUTONUM 10@{par}

@endnode
@node "##TARGET" "The Target-Command"
@toc "##Commands"

@{MS "The Target-Command"}

Template: TYPE/A,ARGUMENTS/M@{par}

This command allows to create target files from the given catalog data. Therefor
it can be used multiple times and has different templates depending on the type
specified. Currently these types are available "c", "asm", "catalog" and
"catalogs".@{par}

@{MS "c"}

Template: TYPE/A,LANGUAGE/A,NOCODE/S,NOARRAY/S,NOSTRINGS/S,NOBLOCK/S,NOBLOCKSTATIC/S,FILENAME/A@{par}

The C type enables the output of c source targets.@{par}

LANGUAGE defines the language to be used within the source file. The language
must be one of the languages defined with the @{"LANGUAGES" link "##LANGUAGES"}
command. FILENAME specifies the file name for the new source file.@{par}

By using the switches NOCODE, NOARRAY, NOSTRINGS and NOBLOCK it's possible to
disable the source code generation for that specific part.@{par}

NOBLOCKSTATIC is required when making the CATCOMPBLOCK section visible outside
an object file. This is for example required when using you own GetString()
function from within a compiler lib. By using this switch the CATCOMPBLOCK gets
defined "const char" instead of "static const char".@{par}

Examples:@{par}

## TARGET C deutsch sys:Project/locale_string.c@{par}

## TARGET C português sys:Project/locale_string.c@{par}

@{MS "asm"}

Template: TYPE/A,LANGUAGE/A,NOCODE/S,NOARRAY/S,NOSTRINGS/S,NOBLOCK/S,FILENAME/A@{par}

The ASM type enables the output of asm source targets.@{par}

LANGUAGE defines the language to be used within the source file. The language
must be one of the languages defined with the @{"LANGUAGES" link "##LANGUAGES"}
command. FILENAME specifies the file name for the new source file.@{par}

By using the switches NOCODE, NOARRAY, NOSTRINGS and NOBLOCK it's possible to
disable the source code generation for that specific part.@{par}

Examples:@{par}

## TARGET ASM deutsch sys:Project/SimpleCat_Locale.asm@{par}

## TARGET ASM português sys:Project/SimpleCat_Locale.asm@{par}

@{MS "catalog"}

Template: TYPE/A,LANGUAGE/A,OPTIMIZE/S,PATH/A@{par}

The CATALOG type enables the output of a single catalog file. The language
must be one of the languages defined with the @{"LANGUAGES" link "##LANGUAGES"}
command. PATH specifies the drawer to store the catalog. The OPTIMIZE switch allows to
activate catalog optimisation.@{par}

Examples:@{par}

#TARGET CATALOG deutsch sys:Project/Catalogs/deutsch/ Optimize@{par}

@{MS "catalogs"}

Template: TYPE/A,OPTIMIZE/S,PATH/A@{par}

The CATALOGS type enables the output of all catalog files of a project. PATH
specifies the drawer to store the catalogs. Drawers with language will be
created and the catalogs will be stored inside. The OPTIMIZE switch allows to
activate catalog optimisation.@{par}

Examples:@{par}

#TARGET CATALOGS sys:Project/Catalogs/ Optimize@{par}

@endnode

@node "##CHUNK" "The Chunk-Command"
@toc "##Commands"

@{MS "The Chunk-Command"}

Template: CHUNK/A,ID/A,DATA/A@{par}

This command allows to create chunks inside of catalog files. This allows to
store meta information inside catalog files.

Example:@{par}

#chunk AUTH (c)2008 Guido Mersmann

@endnode

@node "##VERSIONID" "The VersionID-Command"
@toc "##Commands"

@{MS "The VersionID-Command"}

Template: LANGUAGE/A,ID/A/F@{par}

If you are working with CVS or some internal version tracker, then you may need a proper handling
of version information. In such case loosing during an import or export operation is no option.@{par}

Under normal circumstances you don't need to understand them, because SimpleCat
is creating and using them automatically.@{par}

Each VersionID also provides a language information. This is required, because
each language may have it's own id. SimpleCat must need to know which id must be
exported for which language.@{par}

Example:@{par}

; $Id: ambient.ct,v 1.30 2006/02/20 22:39:17 geit Exp $@{par}

Will be converted during import from a German .ct file into this line within a .CD file.@{par}

## VersionID deutsch $Id: ambient.ct,v 1.30 2006/02/20 22:39:17 geit Exp $@{par}

@endnode
@node "##VERSIONMIN" "The VersionMin-Command"
@toc "##Commands"

@{MS "The VersionMin-Command"}

Template: NUMBER/N/A@{par}

The VersionMin-Command allows to specify the minimal version for import .ct
files. This command is identically to the #version command used by catcomp for
.cd files. Since there is an identical named command for .ct files this command
would collide with such version command, when imported in .cs files, so the
#versionmin command is used instead.

This command is currently only used to support proper import and export of .cd
and .cs files. Performing a check like CatComp is doing, isn't usefull, because
SimpleCat can handle different versions on it's on.@{PAR}

Example:@{par}

##versionmin 4@{par}

Changes the minimum supported catalog version to 4.@{par}

@endnode

@node "##HEADER" "The Header-Command"
@toc "##Commands"

@{MS "The Header-Command"}

Template: CONSTANT/A@{par}

Normaly source files will start with a "#ifndef filename_H" phrase. By using this
command it's possible to specify another constant for this purpose.@{par}

##header Hello@{par}

creates within c compiler code:@{par}

#ifndef Hello@{par}
#define Hello 1@{par}

In assembly language the same looks like this:@{par}

IFND Hello@{par}
Hello SET 1@{par}

@endnode
@node "##ARRAY" "The ARRAY-Command"
@toc "##Commands"

@{MS "The Array-Command"}

Template: NAME/A@{par}

Array allows to change the source code array name.@{par}

Predefined is the original CatComp name: "CatCompArray".@{par}

Beside the cosmetic effect this option becomes useful, when using more than one
catalog source file within one program. Normally you would need to adapt the
files by hand or you would get an "double defined" error.@{par}

@endnode
@node "##ARRAYOPTS" "The ArrayOpts-Command"
@toc "##Commands"

@{MS "The ArrayOpts-Command"}

Template: OPTS/A/F@{par}

The ArrayOpts-command allows to change the source code array compiler options.@{par}

Predefined is "static const".@{par}

@endnode
@node "##BLOCK" "The Block-Command"
@toc "##Commands"

@{MS "The Block-Command"}

Template: NAME/A@{par}

The Block-command allows to change the source code block array name.@{par}

Predefined is the original CatComp name: "CatCompBlock".@{par}

Beside the cosmetic effect this option becomes useful, when using more than one
catalog source file within one program. Normally you would need to adapt the
files by hand or you would get an "double defined" error.@{par}

@endnode
@node "##FUNCTION" "The Function-Command"
@toc "##Commands"

@{MS "The Function-Command"}

Template: NAME/A@{par}

The Function-command allows to modify the function name created along with the source codes.@{par}

Predefined is the original CatComp name "GetString".@{par}

Example:@{par}

##function GimmeText@{par}

Changes the function name to "GimmeText" and the function needs to be called like this:@{par}

GimmeText(...);@{par}

@endnode
@node "##PROTOTYPE" "The Prototype-Command"
@toc "##Commands"

@{MS "The Prototype-Command"}

Template: PROTOTYPE/A/F@{par}

The prototype-command allows to specify a prototype for the function name. By default no prototype is created.@{par}

Example:@{par}

##prototype STRPTR GimmeText( struct LocaleInfo *li, long id);@{par}

@endnode

@node "##IFDEF" "The ifdef-Command"
@toc "##Commands"

@{MS "The ifdef-Command"}

Template: CONSTANT/A@{par}

If you're using program strings that are only required during development or
you're using the same source file in combination with multiple projects, then
this is what you need.@{par}

By using this command you can suppress specific parts of the source.@{par}

##IFDEF CHEATMODE@{par}
MSG_FORAuthorsEyesOnly@{par}
Cheat mode: %s@{par}
Schummelmodus: %s@{par}
;@{par}
##ENDIF@{par}

The part between ##IFDEF and ##ENDIF is only existing when the constant
CHEATMODE is defined.@{par}

@{b}Each ##IFDEF must be terminated by the ##ENDIF command or your programming
language will create error messages.@{ub}@{par}

@endnode
@node "##ENDIF" "The ENDIF-Command"
@toc "##Commands"

@{MS "The ENDIF-Command"}

Template: CONSTANT/A@{par}

This command terminates a ##IFDEF or ##IFNDEF command. It's required to specify
the same constant used by the corresponding IF-Command.@{par}

@endnode
@node "##IFNDEF" "The IFNDEF-Command"
@toc "##Commands"

@{MS "The IFNDEF-Command"}

Template: CONSTANT/A@{par}

If you're using program strings that are only required during development or
you're using the same source file in combination with multiple projects, then
this is what you need.@{par}

By using this command you can suppress specific parts of the source.@{par}

##IFNDEF CHEATMODE@{par}
MSG_FORAuthorsEyesOnly@{par}
Cheat mode: %s@{par}
Schummelmodus: %s@{par}
;@{par}
##ENDIF@{par}

The part between ##IFDEF and ##ENDIF is only existing when the constant
CHEATMODE is @{b}not defined@{ub}.@{par}

@{b}Each ##IFNDEF must be terminated by the ##ENDIF command or your programming
language will create error messages.@{ub}@{par}

@{b}This command is an extension supported by SimpleCat only. It's not possible
to export such commands into CatComp compatible #?.cd files.@{ub}@{par}

@endnode
@node "##ELSE" "The ELSE-Command"
@toc "##Commands"

@{MS "The ELSE-Command"}

Template: CONSTANT/A@{par}

If you're using program strings that are only required during development or
you're using the same source file in combination with multiple projects, then
this is what you need.@{par}

By using this command you can suppress specific parts of the source.@{par}

##IFDEF CHEATMODE@{par}
MSG_ForAuthorsEyesOnly@{par}
Cheat mode: %s@{par}
Schummelmodus: %s@{par}
;@{par}
##ELSE CHEATMODE@{par}
MSG_FORUsersEyesOnly@{par}
Stupid mode: %s@{par}
Dummer Modus: %s@{par}
;@{par}
##ENDIF CHEATMODE@{par}

@{b}This command is an extension supported by SimpleCat only. It's not possible
to export such commands into CatComp compatible #?.cd files.@{ub}@{par}

@endnode
@node "##DEFINE" "The DEFINE-Command"
@toc "##Commands"

@{MS "The DEFINE-Command"}

Template: CONSTANT/A@{par}

By using this command its possible to define constants within the source files.
It doesn't matter where you specify the define command, because the definition
will be set within the file header.@{par}

It's useful, because it's possible to enable specific source parts right with the file itself.@{par}

Example:@{par}

## Define CATCOMP_BLOCK@{par}
## Define CATCOMP_NUMBERS@{par}

@{b}This command is an extension supported by SimpleCat only. It's not possible
to export such commands into CatComp compatible #?.cd files.@{ub}@{par}

@endnode

@node "CLI" "How to Use SimpleCat"

@{MS "How to Use SimpleCat"}

Template: CS,CATALOGSONLY/S,CATALOGSDIR/K,IMPORT/S,EXPORT/S,FILES/K/M,TO/K,DIFF/S,OVERWRITE/S,NOFLUSH/S,NOOPT/S,CHARSPERLINE=CPL/K/N:@{par}

SimpleCat currently knows three modes. The compiler, the import and the export
mode. Depending on the mode only a few arguments are required.@{par}

	@{"Compiler Mode" link "CLICompile"}@{par}
	@{"Export Mode" link "CLIExport"}@{par}
	@{"Import Mode"  link "CLIImport"}@{par}

@endnode
@node "CLICompile" "How to Use SimpleCat - The Compiler Mode"

@{MS "The Compiler Mode"}

The compiler mode takes a @{".CS file" link "FAQSCSFILE"} and creates catalogs for any included
language and all specified source files. As you can imagine the call is very
easy:@{par}

SimpleCat xxx.cs@{par}

If a catalog script should be executed on a foreign system, the problem is that
the path definitions within the file aren't correct. To prevent that trouble
there are two additional options which avoid to adapt the file. CATALOGSONLY
disabled the source file creation and the option CATALOGSDIR allows to specify a
new catalog drawer.@{par}

Simplecat xxx.cs CATALOGSONLY CATALOGSDIR t:@{par}

Under normal circumstances SimpleCat is flushing the memory, so outdated
catalogs will be removed from the system to avoid trouble. If this isn't wanted
you can add the option "NOFLUSH" to disable it.@{par}

That's it!

@endnode
@node "CLIExport" "How to Use SimpleCat - The Export Mode"

@{MS "The Export Mode"}

This mode requires the CHARSPERLINE, CS, EXPORT and FILES arguments. EXPORT must
always be set to activate the export mode. By using the CHARSPERLINE option you
can specify the maximum number of chars per line in .cs, .cd and .ct export
files. For other files this option is ignored.@{par}

When exporting catalogs it's possible to disable the internal optimization by
setting the NOOPT-option. This is only required, when your application has no
internal catalog.@{par}

Here is an example on how to use it:@{par}

Simplecat xxx.cs EXPORT FILES t:xxx.catalog deutsch@{par}

This will create the german catalog by using the contents of the xxx.cs files. The file type is always
retrieved by the file name suffix:@{par}

Simplecat xxx.cs EXPORT FILES t:xxx.cd english t:xxx.ct deutsch@{par}

You'll get the an English @{"xxx.cd" link "FAQSCDFILE"} an German @{"xxx.ct" link "FAQSCTFILE"} file within the t: drawer.
Currently the following file types can be used: ".catalog", ".ct", ".cd", ".cs",
".c", and ".asm".

@endnode
@node "CLIImport" "How to Use SimpleCat - The Import Mode"

@{MS "The Import Mode"}

The import mode requires the usage of the arguments CS, IMPORT, FILES, TO, OVERWRITE, DIFF and NOFILLUP.
 The usage of the CS argument is not required. "TO" specifies the
target name for the new @{"CS file" link "FAQSCSFILE"}. By using the OVERWRITE argument the new cs-file
will be written over the old one. NOFILLUP prevents empty lines - missing translations - from beeing filled
with the default language.@{par}

@{b}Warning! The command line parsing function (ReadArgs() ) of AmigaDos has a
bug. When the CS-Argument is missing, it will be filled by the *last* argument
specified under FILES. Use the overwrite function with caution!@{ub}@{par}

Without using TO and OVERWRITE all files are read and checked. No change is made
to any of the specified files, so feel free to experiment.@{par}

Again, some examples to show how it's working:@{par}

SimpleCat IMPORT FILES t:xxx.cd t:xxx.ct@{par}

Just checks the files xxx.cd and xxx.ct.@{par}

SimpleCat IMPORT FILES t:english/xxx.catalog t:deutsch/xxx.catalog TO t:xxx.cs@{par}

This one creates a .cs file by importing two catalogs. This is very useful,
when making a new translation without having any source files.@{par}

SimpleCat xx.cs IMPORT FILES t:xx.catalog to t:xx.cs@{par}

Just in case you got a translated catalog file and you want it to be parsed into
your cs file this example show how to do it.@{par}

When importing a language that already exists within the .cs file it
translations will be replaced by the new one.@{par}

It's not possible to import @{".CD" link "FAQSCDFILE"} files into CS files, because they are equal file
types. If you want to import the english language of an existing .cd file into
an existing @{".cs" link "FAQSCSFILE"} file you need to convert the .cd file into a .cd file and export
the english @{".ct" link "FAQSCTFILE"} file which you can import into a .cs files. Let's guess the
file xx.cs should be updated with the english data contained in xx1.cd.@{par}

SimpleCat IMPORT FILES xx1.cd to t:temp.cs@{par}

Now we converted the xx1.cd file into a new temporary cs file.@{par}

SimpleCat Temp.cs EXPORT FILES temp.ct english@{par}

This line is extracting the english @{".ct data" link "FAQSCTFILE"} from the temp@{".cs file" link "FAQSCSFILE"}.@{par}

SimpleCat xx.cs IMPORT FILES temp.ct to xx.cs@{par}

Finally we imported the the temporary ct-file into you cs file. Well this isn't
very comfortable, but I guess this isn't required at all. I just wanted to show
that it's possible.@{par}

The function DIFF is special. Just take a GUI kit, that is saving a new .CD file
when adding or removing a string. This would make using SimpleCat difficult.
The idea behind DIFF is that the .CD file is only taken as a diff file. New
strings in here will be added to the .CS file and removed ones will be removed.
If the GUI kit is adding a gadget, then the string of this new gadget will be
inserted into the existing .CS file by using the DIFF option. This allows to
keep all languages together in one .CS file, while the .CD is used as non
important change file.@{par}

Please note that the DIFF function only works for .CD and .CS files. Other
import functions ignore this option.@{par}

This may sound complicated and internally it is, but usage is just simple:@{par}

SimpleCat xx.cs IMPORT FILES guikit.cd to xx.cs DIFF@{par}

The file guikit.cd was created by the development tool. The line above will
insert and remove strings changed in that file from the .CS file. After
operation the .CS file contains again the same strings than the .CD file without
loosing any language information and you can use it to create headers and
catalogs for your project. It's also possible to add the line above to the
makefile, so any change of the .cd would automatically inject the differences
into the .CS file.@{par}

@{b}I tested all import functions, but I strongly suggest to make a test run and
backup the original @{".cs" link "FAQSCSFILE"} file just in case something goes wrong. If you get any
trouble, then please sent in the files, so that I can reproduce and fix the
problems.@{ub}@{par}

@endnode

