      <html>  <head><title>
ISTAR KNOWLEDGE SERVER
      </title></head>   <body>

      <h1>
ISTAR KNOWLEDGE SERVER
      </h1><!-- -->

Istar now has the capacity to act as a knowledge server.  That is, a 
distant client can link to it via the internet and run a knowledge base.

This chapter explains the structure and workings of the server module of 
Istar.  If you want to find out how to get an Istar knowledge server up and 
running, or how to prepare a KB for use on a knowledge server, then go to 
the page on <a href= "server.mgmt.html">Knowledge Server Management</a>. 
For more general information about Istar, go to the main <a href= 
"index.html">Istar Docs Home Page</a>.
      <p>
If you want to try it, in the role of a user of an existing KB, then go to 
the <a href= "../server.html">Server User Page</a> where you will find a 
link to connect to the knowledge server.

      <p>
      <h2><a name="workings">
How it Works
      </a></h2><!-- -->
Istar, when server mode is switched on, activates its server module.  This 
is a special interface module that listens on a TCP/IP port for messages 
from browsers across the Internet.  First the browser will connect to the 
Istar knowledge server and, in normal working, will receive a Welcome Page, 
which lists the knowledge bases (KBs) you may select to run.
      <p>
<code><pre>
      YOU AND YOUR BROWSER                     ISTAR
           (CLIENT)                      (KNOWLEDGE SERVER)

      Connecting Hyperlink ------------> (start message)
      Welcome Page         <------------ List the KBs available
</pre></code>
      <p>
When you click one of these, a starting message is sent, which indicates 
which KB you wish to run.  Istar loads this KB and then presents in 
introduction page.
      <p>
<code><pre>
      Select KB            ------------> (start KB message)
      KB Intro Page        <------------ Load KB and register client
</pre></code>
      <p>
When you click the 'start inference' link, Istar starts an <a href= 
"rfman.html#infce">inference</a> session for you, in which it repeatedly 
searches its KB (inference net) for an input node (question) that is not 
yet answered.  (It does this by graph searching known as <a href= 
"rfman.html#bwd.chain">backward chaining</a>, from one of the <a href= 
"rfman.html#goals">goal</a> nodes on its <a href= "rfman.html#lists">goal 
list</a>.)  It will find the first of these and present it to you as the 
first question:
      <p>
<code><pre>
      'Begin'              ------------> (start inference message)
      1st Question Page    <------------ Seek first Question
</pre></code>
      <p>
Together, you and the Istar inference engine operate in cycles in which:
      <ul>
<li> You select the answer you want.
<li> Istar propagates this answer throughout the KB.
<li> Istar seeks the next question, and so on until all relevant questions 
have been asked and answered.
<li> Istar sends you (your browser) an HTML page with the text of the 
question it has found, with a means of answering it.
      </ul>
      <p>
<code><pre>
      Answer Qn            ------------> (Qn Answer message)
                                         Receive and parse answer
                                         Propagate it through infce net
      Next Question Page   <------------ Seek next question
      Answer Qn            ------------> (Qn Answer message)
                                         Receive and parse answer
                                         Propagate it through infce net
      Next Question Page   <------------ Seek next question
      Answer Qn            ------------> (Qn Answer message)
                                         Receive and parse answer
                                         Propagate it through infce net
      Next Question Page   <------------ Seek next question
      .. and so on
</pre></code>
      <p>
When all questions have been answered, Istar presents you with a 'What Now' 
page, at which you can look at results of two kinds, resume, restart or 
stop.
      <p>
<code><pre>
      Answer Qn            ------------> (Qn Answer message)
                                         Receive and parse answer
                                         Propagate it through infce net
                                         Seek next question
      What-Now Page        <------------ Finds none: End of Session
      Ask for Results }
      Restart         }    ------------> (request)
      Stop            }                  Act on request
      etc.            }
</pre></code>
      <p>
The seeking of questions to ask is via a Goal List, which is a list of one 
or more nodes of the KB whose value must be calculated.  The whole session 
finished when all goals in the list are found to have been answered.
      <p>
The results offered in the present version is either a list of final values 
for goals, or a document made up from these.  At present most KBs offered 
do not produce a document; only the contract one does.  Either result may, 
of course, be saved, and then loaded into your word processor for further 
modification.


      <h2><a name="install">
Installation of the Knowledge Server
      </a></h2><!-- -->

For details of installation, please go to the <a href= 
"server.mgmt.html">Server Management Page</a>.



      <h2><a name="internal">
Internal Workings
      </a></h2><!-- -->

(Section to be written.)

      <h3><a name="ds">
Data Structures
      </a></h3><!-- -->


Two structures work together in an inference server:

      <ul>
<li> <code>struct svClient</code> which holds information about the 
internet client,
<li> <code>struct esSessionInfo</code> which holds information about the 
inference session.
      </ul>
Each structure points to the other (by <code>svClient.aSI</code> and 
<code>esSessionInfo.aQnChannel</code>) so that each has exactly one of the 
other to link to, and each can be found unambiguously from the other.


<hr>
Copyright (c) <a href="http://www.basden.u-net.com/andrew.html">Andrew 
Basden</a> 1999.
      <p>
Last updated:  11 September 1999 integrated with other docs and pages.
</body></html>
