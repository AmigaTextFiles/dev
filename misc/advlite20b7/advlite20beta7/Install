; $VER: AutodocViewerLite v2.0 Install Script (21.6.2000)

(effect "upper_right" "radial" $FFFFFF $0000FF)

(set #default-dest "SYS:" )

(set #language (getenv "Language" ))

(set #applicationname (cat "AutodocViewerLite v2.0" ))
(set #applicationdate (cat "21 June 2000" ))

(set #wbversion 0)
(set #wbversion (getversion "libs:version.library" ))
(set #wbversion (/ #wbversion 65536) )

(complete 0)

;============================================================
; English strings

(set default_lang 4)
(set default_country 1)
(set #languages 1)

(set #msg-welcome
(cat "\n\n" #applicationname"\n"
     #applicationdate"\n"
     "Copyright © 1994-2000 Ronny Tennebekk\n\n\n"
     "\nThis script will install " #applicationname "\n"
     "on your harddisk...\n"
    ))

(set #msg-selectpath
(cat "Please, select were to install " #applicationname ".\n"
     "An directory called AutodocViewer will be created!"
     ))

(set #msg-docpath
(cat "Please, select were to install the HTML documentation.\n"
     "An directory called HTML will be created!"
     ))

(set #msg-badkick
(cat "You must have Kickstart v3.1 and AmigaOS 3.5"
     "installed to run " #applicationname "!"
     ))

(set #confirm-language
(cat "Please, select language to install!!!\n\n"
     "english are built-in..."
     ))

(set #confirm-icon
(cat "Please, select icon type to install\n\n"
     ))

;(set #choice-magicwb "MagicWB" )
;(set #choice-glowicons "GlowIcons" )

(set #choice-english "English" )
;(set #choice-norwegian "Norwegian" )

(set #installing-library "Installing autodoc.library..." )
(set #installing-autodocviewer "Installing " #applicationname "..." )
(set #installing-images "Installing images..." )
(set #installing-language "Installing language catalog..." )
(set #installing-documentation "Installing documentation..." )


;============================================================
; make sure we are running under a KS3.1

(if (< #wbversion 40)
(   (exit #msg-badkick (quiet))
    ))


;============================================================
; the fun begins

(message #msg-welcome)

(welcome)

(showmedia "logo" "images/autodocviewerlogo.iff" "upper_left" "none" 1)

(set ask-progdir
    (askdir (prompt #msg-selectpath)
            (help @askdir-help)
            (default #default-dest)
            (disk)
    ))

;============================================================
; Create AutodocViewer directories

(makedir (tackon ask-progdir "AutodocViewer" ))
(makedir (tackon ask-progdir "AutodocViewer/Images" ))

;============================================================

;(set ask-icontype
;    (askchoice (prompt #confirm-icon)
;               (help @askchoice-help)
;               (choices #choice-magicwb #choice-glowicons)
;    ))

(set ask-docdir
    (askdir (prompt #msg-docpath)
            (help @askchoice-help)
            (default ask-progdir)
            (disk)
    ))

(set ask-language
    (askchoice (prompt #confirm-language)
               (help @askchoice-help)
               (choices #choice-english)  ; #choice-norwegian)
    ))

(set #language (select ask-language "english"
                            ;        "norsk"
                            ;   "dansk"
                            ;   "deutsch"
                            ;   "español"
                            ;   "français"
                            ;   "italiano"
                            ;   "nederlands"
                            ;   "português"
                            ;   "svenska"
                               ))


;============================================================
; Copy autodoc.library

(copylib   (prompt #installing-library)
           (source "libs/autodoc.library")
           (help @copylib-help)
           (dest "Libs:")
           (confirm)
           )

;============================================================
; Create HTML doc directory

(makedir (tackon ask-docdir "HTML" ))


;============================================================
; Copy files

(copyfiles (prompt #installing-autodocviewer)
           (source ( "AutodocViewer" ))
           (dest (tackon ask-progdir (cat "AutodocViewer" )))
           (help @copyfiles-help)
           (infos)
           )

(copyfiles (prompt #installing-images)
           (source ( "Images" ))
           (dest (tackon ask-progdir (cat "AutodocViewer/Images" )))
           (help @copyfiles-help)
           (all)
           )

(copyfiles (prompt #installing-documentation)
           (source ( "Docs" ))
           (dest (tackon ask-docdir (cat "HTML" )))
           (help @copyfiles-help)
           (all)
           )

(copyfiles (prompt #installing-language)
           (source (tackon "Catalogs/" #language ))
           (dest (tackon "Locale:Catalogs/" #language ))
           (help @copyfiles-help)
           (all)
           )

;============================================================
; Installization complete

(set #default-dest ask-progdir)
(complete 100)
(exit)
