;
; Script d'intallation pour Flexy 1.4+  ©2000 Seahorse Production 21
;
; $VER : 1.41 (25-05-2004) - © 1999-2004 seahorse@free.fr
;
; From last: Adding deutsch catalog
;
;===========================================================================
; Please ask before use part(s) of this script. :)
;===========================================================================

; Variables par défaut :
(SET @user-level 2)
(SET @default-dest "sys:Tools")

(SET #L_English    0 )
(SET #L_Français   1 )
(SET #L_Italiano   2 )
(SET #L_Deutsch    3 )
(SET #L_Svenska    4 )
(SET #L_Slovensko  5 )
(SET #L_Català     6 )
(SET #L_Russian    7 )
(SET #L_Polski     8 )
(SET #L_Português  9 )
(SET #L_Español    10 )
(SET #L_Magyar     11 )

(SET #NomProg Flexy)

;//+ **** -> Anglais   (0 - Défaut)

(SET #Def_lang #L_English #Def_doc #L_English)

(set #Msg_dir "\nChoose your Flexy directory\n(A drawer called \"Flexy\" will be created!)")
(set #Msg_cat "\nWhich catalog file do you want to install?\n(English language is built-in)")
(set #Msg_doc "\nSelect language for documentation in AmigaGuide format")

(SET #Cre_dir "\nCreating \"%s\" directory...")
(SET #Help_dir (CAT "\nChoose where you wish to install Flexy.\n"
                    "Again a \"Flexy\" drawer will be created."))
(SET #Pour "For ")
(SET #Help_Nil "")
(SET #Prt_awn "Installing AWNPipe handler...")
(SET #Prt_awn_hlp (CAT "Installation of AWNPipe handler."
                       "\nmust be copied to L: and to Devs:DosDrivers." ))
(SET #Msg_End "Do not forget to mount Awnpipe: or reboot if any previous version was installed.")
;+//
; -------------------------------------------------------------------
; //+ **** -> Français  (1)

(IF (= @language "français")
(
(SET #Def_lang #L_Français  #Def_doc #L_Français)

(SET #wrongCPU "Il vous faut au moins un 68020 !\n")
(SET #wrongOS  "Il vous faut au moins le système 3.0 !\n")
(SET #wrongMUI "Il vous faut au moins MUI 3.3 !\n")

(SET #Msg_dir "\nOù voulez-vous installer Flexy ?\n(Un répertoire « Flexy » sera crée.)\n")
(SET #Msg_cat "\nQuel langage voulez-vous installer ?\nL'Anglais est en interne.\n")
(SET #Msg_doc "\nQuelle documentation voulez-vous installer ?\n")

(SET #Cre_dir "Création du répertoire \"%s\"...")

(SET #Help_dir (CAT "\nChoisissez l'endroit où vous souhaitez installer Flexy.\n"
                    "Je vous rappel qu'un répertoire « Flexy » sera crée."))
(SET #Pour "Pour ")
(SET #Prt_awn "Installation du gestionnaire AWNPipe.")
(SET #Prt_awn_hlp (CAT "Installation du gestionnaire AWNPipe."
                       "\nSe place dans L: et Devs:DosDrivers." ))
(SET #Msg_End (CAT "N'oubliez pas de monter Awnpipe: (mount), ou bien de redémarrez"
     " l'Amiga pour que flexy utilise la dernière version installée de AwnPipe."))

)) ; +// Fin IF
; -------------------------------------------------------------------
; //+ **** -> Italien   (2)

(if (= @language "italiano")
(
(SET #Def_lang #L_Italiano  #Def_doc #L_Italiano) ; Normal way

(set #wrongCPU "\nFlexy necessita almeno di una CPU 68020 per poter girare !\n")
(set #wrongOS  "\nFlexy necessita almeno di OS 3.0 per poter girare !\n")

(set #Msg_dir "\nScegli la directory per Flexy\n(Sarà creato un cassetto chiamato \"Flexy\"!)")
(set #Msg_cat "\nQuale file catalogo desideri installare?\n(Il programma è in inglese)")
(set #Msg_doc "\nScegli la lingua della documentazione in formato AmigaGuide")

(SET #Cre_dir "\nSto creando la directory \"%s\" ...")
(SET #Help_dir (CAT "\nScegli dove desideri installare Flexy.\n"
            "Sarà creato un cassetto \"Flexy\" ."))
(SET #Pour "per ")
(SET #Help_Nil "")
(SET #Prt_awn "Sto installando l'handler AWNPipe ...")
(SET #Prt_awn_hlp (CAT "Installazione dell'handler AWNPipe."
               "\ndeve esser copiato in L: e in Devs:DosDrivers." ))

(SET #Msg_End (CAT "Non dimenticare di montare Awnpipe:"
                   " o riavviare il sistema, se erano installate versioni precedenti."))

))   ; +//
; -------------------------------------------------------------------
; //+ **** -> Allemand  (3)
                                   
(if (= @language "deutsch")
(
; (SET #Def_lang #L_Deutsch  #Def_doc #L_Deutsch) ; Normal way
(SET #Def_lang #L_English  #Def_doc #L_English) ; Current way

(set #Msg_dir "\nIn welchem Verzeichnis soll Flexy installiert werden?\n(Ein Verzeichnis namens \"Flexy\" wird automatisch erstellt!)")
(set #Msg_cat "\nWelche Katalogdateien sollen installiert werden?\n(Für Englisch wird keine Datei benötigt.)")
(set #Msg_doc "\nIn welcher Sprache soll die AmigaGuide Dokumentation installiert werden?")

(SET #Cre_dir "\nErzeuge Verzeichnis \"%s\"...")
(SET #Help_dir (CAT "\nWähle wo Flexy installiert werden soll.\n"
                    "Das Verzeichnis \"Flexy\" wird automatisch erzeugt."))
(SET #Pour "Für ")
(SET #Prt_awn "Installing AWNPipe handler...")
(SET #Prt_awn_hlp (CAT "Installation of AWNPipe handler."
                       "\nmust be copied to L: and to Devs:DosDrivers." ))
(SET #Msg_End "Do not forget to mount Awnpipe: or reboot if any previous version was installed.")

))  ; +//
; -------------------------------------------------------------------
; //+ **** -> Svenska (swedish)   (4)     (not implemented)

(IF (= @language "svenska")
(
;(SET #Def_lang #L_Svenska  #Def_doc #L_Svenska)
 (SET #Def_lang #L_English  #Def_doc #L_English) ; Current way

(SET #Msg_dir "\nOù voulez-vous installer Flexy ?\n(Un répertoire « Flexy » sera crée.)\n")
(SET #Msg_cat "\nQuel langage voulez-vous installer ?\nL'Anglais est en interne.\n")
(SET #Msg_doc "\nQuelle documentation voulez-vous installer ?\n")

(SET #Cre_dir "Création du répertoire \"%s\"...")

(SET #Help_dir (CAT "\nChoisissez l'endroit où vous souhaitez installer Flexy.\n"
                    "Je vous rappel qu'un répertoire « Flexy » sera crée."))
(SET #Pour "Pour ")
(SET #Prt_awn "Installation du gestionnaire AWNPipe.")
(SET #Prt_awn_hlp (CAT "Installation du gestionnaire AWNPipe."
                       "\nSe place dans L: et Devs:DosDrivers." ))
(SET #Msg_End "Do not forget to mount Awnpipe: or reboot if any previous version was installed.")

)) ; +// Fin IF
; -------------------------------------------------------------------
; //+ **** -> Slovensko (5)

(IF (= @language "Slovensko")
(
(SET #Def_lang #L_Slovensko  #Def_doc #L_Slovensko)

(set #Msg_dir "\nIzberite ciljni predal!\n(Tam bo ustvarjen predal z imenom \"Flexy\"!)")
(set #Msg_cat "\nKateri katalog ¾elite namestiti?\n(Angle¹ki jezik je vgrajen.)")
(set #Msg_doc "\nIzberite jezik dokumentacije v formatu AmigaGuide!")

(SET #Cre_dir "\nUstvarjam predal \"%s\"...")
(SET #Help_dir (CAT "\nIzberite, kam ¾elite namestiti Flexy.\n"
                    "Tam bo ustvarjen predal z imenom \"Flexy\"."))
(SET #Pour "Za ")
(SET #Help_Nil "")
(SET #Prt_awn "Name¹èam rokovalnik AWNPipe...")
(SET #Prt_awn_hlp (CAT "Namestitev rokovalnika AWNPipe."
                       "\nDatoteke bodo prekopirane v L: in Devs:DosDrivers." ))
(SET #Msg_End (CAT "Ne pozabite uveljaviti dodelitve Awnpipe: ali ponovno zagnati raèunalnika,"
                   " èe ste imeli name¹èeno katero izmed prej¹njih razlièic."))
)) ; +// Fin IF
; -------------------------------------------------------------------
; //+ **** -> Portuguais  (9)

(IF (= @language "português")
(
(SET #Def_lang #L_Português #Def_doc #L_Português)

(set #wrongCPU "\nO Flexy requer no mínimo um CPU 68020!\n")
(set #wrongOS  "\nO Flexy requer no mínimo o OS 3.0!\n")

(set #Msg_dir "\nEscolha o local onde deseja instalar o Flexy\n(Será criada uma gaveta chamada \"Flexy\")")
(set #Msg_cat "\nQual é o catálogo que deseja instalar?\n(O idioma inglês já está incluído no programa)")
(set #Msg_doc "\nEscolha o idioma da documentação AmigaGuide:")

(SET #Cre_dir "\nA criar o directório \"%s\"...")
(SET #Help_dir (CAT "\nEscolha o local onde deseja instalar o Flexy.\n"
                    "Tal como antes, será criada uma gaveta chamada \"Flexy\"."))
(SET #Pour "para ")
(SET #Help_Nil "")
(SET #Prt_awn "A instalar o 'handler' AWNPipe...")
(SET #Prt_awn_hlp (CAT "Instalação do 'Handler' AWNPipe"
                       "\ntem de ser copiado para L: e para Devs:DosDrivers." ))
(SET #Msg_End (CAT "Não se esqueça de montar o Awnpipe. Reinicie o computador se já"
                   " tinha instalado alguma versão anterior deste 'handler'."))

)) ; +// Fin IF

; -------------------------------------------------------------------
; //+ **** -> Espagnol  (10)

(IF (= @language "español")
(
(SET #Def_lang #L_Español #Def_doc #L_Español)

(set #wrongCPU "\n¡Flexy necesita al menos una CPU 68020 para ejecutarse!\n")
(set #wrongOS  "\n¡Flexy necesita al menos OS3.0 para ejecutarse!\n")

(set #Msg_dir "\nElija un el directorio para Flexy...\n(Se creará un directorio llamado \"Flexy\").")
(set #Msg_cat "\n¿En qué idioma desea instalar Flexy?\n(el idioma por defecto es el inglés).")
(set #Msg_doc "\nElija el idioma de la guía a instalar...")

(SET #Cre_dir "\nCreando directorio \"%s\"...")
(SET #Help_dir (CAT "\nElija donde desea instalar Flexy.\n"
                    "Se creará un directorio llamado \"Flexy\"."))
(SET #Pour "For ")
(SET #Help_Nil "")
(SET #Prt_awn "Instalando \"AWNpipe-handler\"...")
(SET #Prt_awn_hlp (CAT "\"AWNpipe-handler\" ha de copiarse en \"L:\" y su"
                       "\nfichero de montaje en \"DEVS:DosDrivers\"." ))
)) ; +// Fin IF

; -------------------------------------------------------------------
; //+ **** -> Hongrois  (11)

(IF (= @language "magyar")
(
(SET #Def_lang #L_Magyar #Def_doc #L_Magyar)

(set #wrongCPU "\nA Flexy futtatásához legalább 68020-as CPU kell!\n")
(set #wrongOS  "\nA Flexy futtatásához legalább 3.0-ás OS kell!\n")

(set #Msg_dir "\nVálaszd ki a Flexy könyvtárát\n(Egy \"Flexy\" nevû könyvtár lesz létrehozva!)")
(set #Msg_cat "\nMelyik catalog fájlt akarod installálni?\n(Az angol nyelv beépített.)")
(set #Msg_doc "\nVálaszd ki az AmigaGuide dokumentáció nyelvét")

(SET #Cre_dir "\n\"%s\" könyvtár létrehozása...")
(SET #Help_dir (CAT "\nVálaszd ki, hogy hová szeretnéd installálni a Flexy-t.\n"
                    "Egy \"Flexy\" könyvtár létre lesz hozva."))
(SET #Pour "->")
(SET #Help_Nil "")
(SET #Prt_awn "AWNPipe handler installálása...")
(SET #Prt_awn_hlp (CAT "AWNPipe handler installálása."
                       "\nBe kell másolni az L: és Devs:DosDrivers könyvtárakba." ))
)) ; +// Fin IF

; -------------------------------------------------------------------
;=======================  <*  SCRIPT  *> ============================
; -------------------------------------------------------------------

;****  Vérifier l'environnement

; ****  Questionnaires  /  Choix...

(SET #Path_dir
        (askdir
              (default @default-dest)
              (prompt  #Msg_dir)
              (help    #Help_dir) )
)
(SET #Path_dir (TACKON #Path_dir "Flexy"))
(SET @default-dest #Path_dir)

(COMPLETE 10)

; ****  Choix du catalogue (langue)

(SET #H_Langage (askchoice
    (PROMPT  #Msg_cat)
    (HELP    @askchoice-help)
    (CHOICES
             "English"      ;0
             "Français"     ;1
             "Italiano"     ;2
             "Deutsch"      ;3
             "Svenska"      ;4
             "Slovensko"    ;5
             "Català"       ;6
             "Russian"      ;7
             "Polski"       ;8
             "Português"    ;9
             "Español"      ;10
             "Magyar"       ;11
    )
    (DEFAULT #Def_lang)
               )
)
(COMPLETE 20)

; ****  Choix du guide

(SET #H_Guide (askchoice
    (PROMPT #Msg_doc)
    (HELP   @askchoice-help)
    (CHOICES
             "AmigaGuide (English)   1.4"
             "AmigaGuide (Français)  1.4"
             "AmigaGuide (Italiano)  1.2"
             "AmigaGuide (Deutsch)   1.4"
             "AmigaGuide (Svenska)   1.2"
             "AmigaGuide (Slovensko) 1.3"
"";            "AmigaGuide (Català)"
             "AmigaGuide (Russian)   1.1"
             "AmigaGuide (Polski)    1.3"
             "AmigaGuide (Português) 1.1"
             "AmigaGuide (Español)   1.4"
             "AmigaGuide (Magyar)    1.4"
    )
    (DEFAULT 0)
;    (DEFAULT #Def_doc) car 2 pages de choix
             )
)
(COMPLETE 30)

; **** Installation (dir)

(MAKEDIR #Path_dir (PROMPT (#Cre_dir #NomProg)) (INFOS))

(SET #Cat_dir (tackon #Path_dir "Catalogs"))
(IF (NOT (EXISTS #Cat_dir)) (MAKEDIR #Cat_dir (PROMPT (#Cre_dir "Catalogs"))) )

(COMPLETE 40)
(IF (> #H_Langage 0)
(
   (if (= #H_langage #L_Français)
     ( (copyfiles (source (tackon "Catalogs" "français")) (ALL) (dest (tackon #Cat_dir "français")))
     ))
   (if (= #H_langage #L_Italiano)
     ( (copyfiles (source (tackon "Catalogs" "italiano")) (ALL) (dest (tackon #Cat_dir "italiano")))
     ))
   (if (= #H_langage #L_Deutsch )
     ( (copyfiles (source (tackon "Catalogs" "deutsch"))  (ALL) (dest (tackon #Cat_dir "deutsch")))
     ))
    (if (= #H_langage #L_Svenska )
     ( (copyfiles (source (tackon "Catalogs" "Svenska"))  (ALL) (dest (tackon #Cat_dir "svenska")))
     ))
    (if (= #H_langage #L_Slovensko )
     ( (copyfiles (source (tackon "Catalogs" "Slovensko"))  (ALL) (dest (tackon #Cat_dir "slovensko")))
     ))
     (if (= #H_langage #L_Català )
     ( (copyfiles (source (tackon "Catalogs" "Català"))  (ALL) (dest (tackon #Cat_dir "català")))
     ))
     (if (= #H_langage #L_Russian )
     ( (copyfiles (source (tackon "Catalogs" "Russian"))  (ALL) (dest (tackon #Cat_dir "russian")))
     ))
     (if (= #H_langage #L_Polski )
     ( (copyfiles (source (tackon "Catalogs" "polski"))  (ALL) (dest (tackon #Cat_dir "polski")))
     ))
     (if (= #H_langage #L_Português )
     ( (copyfiles (source (tackon "Catalogs" "português"))  (ALL) (dest (tackon #Cat_dir "português")))
     ))
     (if (= #H_langage #L_Español )
     ( (copyfiles (source (tackon "Catalogs" "español"))  (ALL) (dest (tackon #Cat_dir "español")))
     ))
     (if (= #H_langage #L_Magyar )
     ( (copyfiles (source (tackon "Catalogs" "magyar"))  (ALL) (dest (tackon #Cat_dir "magyar")))
     ))
))
(COMPLETE 50)
(IF (= #H_Guide #L_English)   (copyfiles (source "Docs/Flexy_En.guide") (dest #Path_dir) (infos)))
(IF (= #H_Guide #L_Français)  (copyfiles (source "Docs/Flexy_Fr.guide") (dest #Path_dir) (infos)))
(IF (= #H_Guide #L_Italiano)  (copyfiles (source "Docs/Flexy_It.guide") (dest #Path_dir) (infos)))
(IF (= #H_Guide #L_Deutsch)   (copyfiles (source "Docs/Flexy_De.guide") (dest #Path_dir) (infos)))
(IF (= #H_Guide #L_Svenska)   (copyfiles (source "Docs/Flexy_Se.guide") (dest #Path_dir) (infos)))
(IF (= #H_Guide #L_Slovensko) (copyfiles (source "Docs/Flexy_Si.guide") (dest #Path_dir) (infos)))
  (IF (= #H_Guide #L_Català)    (copyfiles (source "Docs/Flexy_En.guide") (dest #Path_dir) (infos)))
(IF (= #H_Guide #L_Russian)   (copyfiles (source "Docs/Flexy_Ru.guide") (dest #Path_dir) (infos)))
(IF (= #H_Guide #L_Polski)    (copyfiles (source "Docs/Flexy_Pl.guide") (dest #Path_dir) (infos)))
(IF (= #H_Guide #L_Português) (copyfiles (source "Docs/Flexy_Pt.guide") (dest #Path_dir) (infos)))
(IF (= #H_Guide #L_Español)   (copyfiles (source "Docs/Flexy_Sp.guide") (dest #Path_dir) (infos)))
(IF (= #H_Guide #L_Magyar)    (copyfiles (source "Docs/Flexy_Hu.guide") (dest #Path_dir) (infos)))
(COMPLETE 60)

(copyfiles (source "Flexy") (dest #Path_Dir) (infos))
(copyfiles (source "Flexy.sig") (dest #Path_Dir))
(copyfiles (source "Flexy_App.icone") (dest #Path_Dir) (newname "Flexy_App.info"))
(copyfiles (source "ATO.readme") (dest #Path_Dir) (optional "nofail"))
(COMPLETE 80)

(copylib (source "awnpipe/AWNPIPE") (dest "DEVS:DosDrivers")
         (confirm) (prompt #prt_awn) (HELP #prt_awn_hlp)
         (optional "askuser") (infos))
(copylib (source "awnpipe/awnpipe-handler") (dest "L:")
         (confirm) (prompt #prt_awn) (HELP #prt_awn_hlp)
         (optional "askuser"))

(message #Msg_end)

(COMPLETE 100)              

; -------------------------------------------------------------------
; -------------------------- FIN DE SCRIPT --------------------------
; -------------------------------------------------------------------
