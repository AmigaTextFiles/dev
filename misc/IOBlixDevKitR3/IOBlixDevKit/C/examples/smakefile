##
##

OPTIMIZE=           opt optsched opttime
DEBUG=
CFLAGS=             cpu=68020 streq strmerge nostkchk incdir=/include
LFLAGS=             smallcode noicons nodebug

PROGS=              QueryChipList \
                    QueryParPorts \
                    QueryUARTs \
                    TestResource

LIBS=               lib:sc.lib lib:amiga.lib

all:                $(PROGS)

.c.o:
                    sc $(CFLAGS) $(OPTIMIZE) $(DEBUG) $*.c

QueryChipList:      QueryChipList.o
                    slink lib:c.o $@.o lib $(LIBS) to $@ $(LFLAGS)

QueryParPorts:      QueryParPorts.o
                    slink lib:c.o $@.o lib $(LIBS) to $@ $(LFLAGS)

QueryUARTs:         QueryUARTs.o
                    slink lib:c.o $@.o lib $(LIBS) to $@ $(LFLAGS)

TestResource:       TestResource.o
                    slink lib:c.o $@.o lib $(LIBS) to $@ $(LFLAGS)

QueryChipList.o:    QueryChipList.c \
                    /include/resources/ioblix.h

QueryParPorts.o:    QueryParPorts.c \
                    /include/resources/ioblix.h

QueryUARTs.o:       QueryUARTs.c \
                    /include/resources/ioblix.h

TestResource.o:     TestResource.c \
                    /include/resources/ioblix.h

clean:
                    delete $(PROGS) \#?.o

