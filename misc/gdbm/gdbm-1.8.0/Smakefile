#
# Makefile automatically generated by MKMK V6.55
# Wed Dec 26 19:36:56 2001
#

L= gdbm.lib
CFLAGS= DEF GNU DEF link=0*rand DEF sync=rand DEF flock=0*rand \
        DEF __GNU_LIBRARY__ PARM r NOVER OPT
OBJS= dbminit.o delete.o fetch.o store.o seq.o close.o dbmopen.o dbmdelete.o \
      dbmfetch.o dbmstore.o dbmseq.o dbmclose.o dbmdirfno.o dbmpagfno.o \
      dbmrdonly.o gdbmopen.o gdbmdelete.o gdbmfetch.o gdbmstore.o gdbmclose.o \
      gdbmreorg.o gdbmseq.o gdbmsync.o gdbmerrno.o gdbmfdesc.o gdbmexists.o \
      gdbmsetopt.o bucket.o falloc.o findkey.o global.o hash.o update.o \
      version.o getopt.o

all: conv2gdbm testgdbm testndbm testdbm #samp1

conv2gdbm: conv2gdbm.o $L
	sc link $< $L noicon

testgdbm: testgdbm.o $L
	sc link $< $L noicon

testndbm: testndbm.o $L
	sc link $< $L noicon

testdbm: testdbm.o $L
	sc link $< $L noicon

samp1: samp1.o $L
	sc link $< $L noicon

$L: $(OBJS)
	oml $@ $(OBJS)

dbminit.o: dbminit.c autoconf.h gdbmdefs.h gdbmerrno.h extern.h systems.h \
           gdbmconst.h proto.h

delete.o: delete.c autoconf.h gdbmdefs.h extern.h systems.h gdbmconst.h \
          proto.h

fetch.o: fetch.c autoconf.h gdbmdefs.h extern.h systems.h gdbmconst.h proto.h

store.o: store.c autoconf.h gdbmdefs.h extern.h systems.h gdbmconst.h proto.h

seq.o: seq.c autoconf.h gdbmdefs.h extern.h systems.h gdbmconst.h proto.h

close.o: close.c autoconf.h gdbmdefs.h extern.h systems.h gdbmconst.h proto.h

dbmopen.o: dbmopen.c autoconf.h gdbmdefs.h gdbmerrno.h extern.h systems.h \
           gdbmconst.h proto.h

dbmdelete.o: dbmdelete.c autoconf.h gdbmdefs.h extern.h systems.h gdbmconst.h \
             proto.h

dbmfetch.o: dbmfetch.c autoconf.h gdbmdefs.h extern.h systems.h gdbmconst.h \
            proto.h

dbmstore.o: dbmstore.c autoconf.h gdbmdefs.h extern.h systems.h gdbmconst.h \
            proto.h

dbmseq.o: dbmseq.c autoconf.h gdbmdefs.h extern.h systems.h gdbmconst.h \
          proto.h

dbmclose.o: dbmclose.c autoconf.h gdbmdefs.h systems.h gdbmconst.h proto.h

dbmdirfno.o: dbmdirfno.c autoconf.h gdbmdefs.h systems.h gdbmconst.h proto.h

dbmpagfno.o: dbmpagfno.c autoconf.h gdbmdefs.h systems.h gdbmconst.h proto.h

dbmrdonly.o: dbmrdonly.c autoconf.h gdbmdefs.h systems.h gdbmconst.h proto.h

gdbmopen.o: gdbmopen.c autoconf.h gdbmdefs.h gdbmerrno.h systems.h \
            gdbmconst.h proto.h

gdbmdelete.o: gdbmdelete.c autoconf.h gdbmdefs.h gdbmerrno.h systems.h \
              gdbmconst.h proto.h

gdbmfetch.o: gdbmfetch.c autoconf.h gdbmdefs.h gdbmerrno.h systems.h \
             gdbmconst.h proto.h

gdbmstore.o: gdbmstore.c autoconf.h gdbmdefs.h gdbmerrno.h systems.h \
             gdbmconst.h proto.h

gdbmclose.o: gdbmclose.c autoconf.h gdbmdefs.h systems.h gdbmconst.h proto.h

gdbmreorg.o: gdbmreorg.c autoconf.h gdbmdefs.h gdbmerrno.h extern.h systems.h \
             gdbmconst.h proto.h

gdbmseq.o: gdbmseq.c autoconf.h gdbmdefs.h gdbmerrno.h systems.h gdbmconst.h \
           proto.h

gdbmsync.o: gdbmsync.c autoconf.h gdbmdefs.h gdbmerrno.h systems.h \
            gdbmconst.h proto.h

gdbmerrno.o: gdbmerrno.c autoconf.h gdbmerrno.h

gdbmfdesc.o: gdbmfdesc.c autoconf.h gdbmdefs.h systems.h gdbmconst.h proto.h

gdbmexists.o: gdbmexists.c autoconf.h gdbmdefs.h gdbmerrno.h systems.h \
              gdbmconst.h proto.h

gdbmsetopt.o: gdbmsetopt.c autoconf.h gdbmdefs.h gdbmerrno.h systems.h \
              gdbmconst.h proto.h

bucket.o: bucket.c autoconf.h gdbmdefs.h systems.h gdbmconst.h proto.h

falloc.o: falloc.c autoconf.h gdbmdefs.h systems.h gdbmconst.h proto.h

findkey.o: findkey.c autoconf.h gdbmdefs.h systems.h gdbmconst.h proto.h

global.o: global.c autoconf.h gdbmdefs.h gdbmerrno.h systems.h gdbmconst.h \
          proto.h

hash.o: hash.c autoconf.h gdbmdefs.h systems.h gdbmconst.h proto.h

update.o: update.c autoconf.h gdbmdefs.h systems.h gdbmconst.h proto.h

version.o: version.c autoconf.h

testdbm.o: testdbm.c autoconf.h

testndbm.o: testndbm.c autoconf.h ndbm.h

testgdbm.o: testgdbm.c autoconf.h gdbmdefs.h gdbmerrno.h extern.h getopt.h \
            systems.h gdbmconst.h proto.h

conv2gdbm.o: conv2gdbm.c autoconf.h gdbm.h getopt.h

getopt.o: getopt.c autoconf.h getopt.h

samp1.o: samp1.cc gdbm.h #iostream.h

gdbm.h:	gdbm.proto gdbmerrno.h gdbm.proto2
	type gdbm.proto >$@
	grep -q _ gdbmerrno.h >>$@
	type gdbm.proto2 >>$@
	protect $@ -e


clean:
	-delete $(OBJS) testdbm.o testndbm.o testgdbm.o conv2gdbm.o \#?.lnk gdbm.h

archive: clean
	lha -r u RAM:gdbm // gdbm-1.8.0
