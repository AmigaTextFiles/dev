      <html>  <head><title>
Unary Operators in Istar
      </title></head>   <body>
      <h1>
Unary Operators in Istar
      </h1><!-- -->
Page under construction.
      <p>

Unary operators are applied to <a href="rfman.html#infce">inference 
relationships</a> to modify the effect of the <a 
href="rfman.html#ante">antecedent</a> attribute before using it in the 
inference.  At present they only apply to inference relationships.
      <p>
Normally a relationship starts off with no unary operator, except as 
required by the <a href="rfman.html#im">inference method</a>.  For 
instance, the Bayesian inference method requires that its links hold 
bayesian weights, so in this case the indicated unary operator is 
overridden.
      <p>

      <h2><a name="uops">
List of Unary Operations
      </a></h2><!-- -->

The effect of most unary operators is given below, but there are two 
exceptions that override those.
      <p>
The highest priority is given to the CONTROL unary operator.  If one of 
these is found, and the antecedent is such that it can be converted into a 
truth value (i.e. of types Boolean, Probability, Proportion, Bayesian, 
Odds) then it might set the value of the consequent regardless of the other 
antecedents; see <a href="#control">below</a>.  If it is not one of these 
types then the CONTROL is ignored.
      <p>
The next highest priority is when the inference method of the consequent is 
Bayesian Accumulation of evidence.  Then the operation is different.  See 
<a href="#bayesian">below</a>.
      <p>
Otherwise, the operations are as follows:

      <h3><a name="direct">
Direct Unary Op: esUO_NONE
      </a></h3><!-- -->

No change (except when <a href="#bayesian">bayesian inference method</a>.
      <p>

      <h3><a name="negate">
Negate: esUO_NEG
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Integer, OZMO, Float:  Takes negative of antecedent.
<li>Boolean:  Takes boolean opposite.
<li>Probability:  Takes probabilistic opposite (1 - p).
<li>Direction:  Changes direction by 180 degrees.
<li>Otherwise:  No change.
      </ul>


      <h3><a name="invert">
Invert: esUO_INVERT
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Odds, Ratio:  Exchanges numerator with denominator.
<li>Boolean:  Takes boolean opposite.
<li>Probability:  Takes probabilistic opposite (1 - p).
<li>Otherwise:  No change.
      </ul>

      <h3><a name="abs">
Absolute Value: esUO_ABS
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Integer, OZMO, Float:  Takes absolute value of antecedent.
<li>Otherwise:  No change.
      </ul>

      <h3><a name="scale">
Multiply (Scale) by Weight: esUO_SCALE
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Integer, Float:  Multiplies value by weight.
<li>Otherwise:  No change.  But in future e.g. Ratio might be affected.
      </ul>

      <h3><a name="div">
Divide (Shrink) by Weight: esUO_DIV
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Integer, Float:  Divides value by weight.
<li>Otherwise:  No change.
      </ul>

      <h3><a name="add">
Add Weight: esUO_ADD
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Integer, Float:  Adds numeric value of weight.
<li>Otherwise:  No change.  But in future e.g. Ratio might be affected.
      </ul>

      <h3><a name="subtract">
Subtract Weight: esUO_SUB
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Integer, Float:  Subtracts numeric value of weight.
<li>Otherwise:  No change.  But in future e.g. Ratio might be affected.
      </ul>

      <h3><a name="proband">
Take Proportion, Probabilistic And: esUO_PROPN, esUO_PROBAND
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Probability, Proportion, Bayesian:  Multiply the probability of the 
antecedent by the weight taken as a probability.
<li>Boolean:  Convert to Probability type and treat as above, giving the 
value 0 if False and giving the weight value (taken as a Probability) if 
True.
<li>Otherwise:  No change.
      </ul>

      <h3><a name="probor">
Probabilistic Or: esUO_PROBOR
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Probability, Proportion, Bayesian:  Combine antecedent probability 
value with that of weight as a probabilistic OR (p + q - pq).
<li>Boolean:  Convert to Probability type and treat as above, giving the 
value Unity if True and giving the weight value (taken as a Probability) if 
False.
<li>Otherwise:  No change.
      </ul>

      <h3><a name="mask">
Mask by Weight; Bitwise And: esUO_AND
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Integer only:  Bitwise AND with weight bits.
<li>Otherwise:  No change.
      </ul>

      <h3><a name="union">
Union with Weight; Bitwise Or: esUO_OR
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Integer only:  Bitwise OR with weight bits.
<li>Otherwise:  No change.
      </ul>

      <h3><a name="xor">
Bitwise Exclusive Or: esUO_XOR
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Integer only:  Bitwise XOR with weight bits.
<li>Otherwise:  No change.
      </ul>

      <h3><a name="random">
Randomize: esUO_RANDOM
      </a></h3><!-- -->

Except when <a href="#bayesian">bayesian inference method</a>:
      <p>
      <ul>
<li>Integer:  Randomly give a value that is between the antecedent value 
and zero.
<li>Enumerated type, Ordinal:  If the antecedent has an Ordinal Limit (as 
most will, but a few from old KBs will not) then select a value from 1 to 
the limit at random.
<li>Otherwise:  No change.
      </ul>

      <h3><a name="control">
Control: esUO_CONTROL
      </a></h3><!-- -->

If the antecedent is of the appropriate type, one that can be converted to 
a truth value, then this unary operator takes precedence over all others. 
It is normally when one attribute is made irrelevant by another (such as 
"Are you ill?" would make "What illness do you have?" irrelevant if 
answered with 'No').  It acts to control whether the consequent is relevant 
or not, by taking the truth value of the antecedent and:
      <p>
      <ul>
<li>If True, then the consequent attribute is deemed relevant, and its 
inference proceeds as dictated by the inference method and the other 
antecedents.
<li>If False, then the consequent attribute is deemed irrelevant, and it is 
given an answered value found in the weight of this Control relationship.
      </ul>

      <h3><a name="bayesian">
When Inference Method is Bayesian Accumulation: esUO_WEIGHT, esUO_INVWEIGHT
      </a></h3><!-- -->

When the inference method is Bayesian Accumulation of Evidence, then 
special action is taken which overrides the above.  The unary operator on 
the relationship is replaced by one of these: INVWEIGHT being used if the 
unary operator is NEGATE or INVERT, and the WEIGHT being used otherwise. 
With these two unary operators:
      <p>
      <ul>
<li>If the antecedent is of type Bayesian, Probability, Boolean, then it is 
converted to Odds, using the weights found in the link, and the result is 
used as an Odds multiplier for the consequent.  If the unary operator is 
(ie. has become) INVWEIGHT, then the weights are reversed before being 
applied to generate the Odds.
      <p>
<li>If the antecedent is Odds, then it is used directly as an Odds 
multiplier for the consequent (and so INVWEIGHT and WEIGHT have the same 
effect).
      </ul>
      <p>


<hr>
Copyright (c) <a href="http://www.basden.u-net.com/andrew.html">Andrew 
Basden</a> 1998.
</body></html>
