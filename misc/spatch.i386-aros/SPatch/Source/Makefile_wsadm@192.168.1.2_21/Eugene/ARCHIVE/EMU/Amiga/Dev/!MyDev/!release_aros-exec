#Makefile for SPatch 6.51 rel. 4 by Eugene aGGreSSor Sobolev

#   Default compile arguments

project = SPatch
file_out = spatch
postfix =
CC=i386-aros-gcc
STRIP=i386-aros-strip --strip-unneeded --remove-section .comment
version = 0.1
libs  = -lm -lamiga
flags = -Wall -O2 -std=c99 -w

header = 
c_files = spatch.c
obj = spatch.o

all : ${file_out} ${header}

${file_out}: ${obj} 
	@echo "Linking!"
	${CC} ${flags} -g ${obj} ${libs} -o ../C/${file_out}${postfix}
	${STRIP} ../C/${file_out}${postfix}
	@rm -f *.o

${obj}: ${c_files}
	@echo "Compiling!"
	${CC} ${flags} -c ${c_files}

clean: 
	@rm -f *.o ../C/${file_out}${postfix}
	@echo "Deleting objects and output files"
	@echo "Objects: ${obj} | output file: ${file_out}${postfix}"

clear: clean