@database rawaudio.filter.guide
@rem Source: class.c
@rem Generated with RoboDoc v3.1a (Jul  3 2005)
@rem RoboDoc is copyright 1994-1997 by Maverick Software Development
@node Main rawaudio.filter.guide
@{jcenter}
@{fg highlight}@{b}TABLE OF CONTENTS@{ub}@{fg text}

@{"rawaudio.filter/background             " Link "background"}
@{"rawaudio.filter/MMA_Sound_BitsPerSample" Link "MMA_Sound_BitsPerSample"}
@{"rawaudio.filter/MMA_Sound_Channels     " Link "MMA_Sound_Channels"}
@{"rawaudio.filter/MMA_Sound_SampleRate   " Link "MMA_Sound_SampleRate"}
@{"rawaudio.filter/MMM_Pull               " Link "MMM_Pull"}
@{"rawaudio.filter/MMM_Seek               " Link "MMM_Seek"}
@{jleft}
@endnode
@Node "background" "rawaudio.filter/background"
@{fg shine}rawaudio.filter/background@{fg text}

@{b}DESCRIPTION@{ub}
       This is a Reggae filter used for importing raw audio data in several
       formats into Reggae. The filter does not process data, it is only
       used to attach format tag to raw data stream pulled from a stream
       object. It is also used to specify basic audio parameters like number
       of channels and sampling rate. The filter accepts MMF_STREAM format
       on its input, it means that a stream object should be the source of
       data. It can be for example memory stream to fetch data from a memory
       buffer, or file.stream to load raw data from disk. The real format of
       data is specified by setting @{"MMA_Port_Format" Link "multimedia.class.guide/MMA_Port_Format"} attribute for the output
       port. When no format is set, the default one is MMFC_AUDIO_INT16.
       Then number of channels and sampling rate is set with object's
       attributes (see below). The output format may be one of the three
       common audio formats of Reggae, or one of many encoded formats. If it
       is an encoded format, a decoder is usually connected to the object's
       output. An rawaudio.filter object will allow for following output
       formats:

       Common formats:
       - MMFC_AUDIO_INT16,
       - MMFC_AUDIO_INT32,
       - MMFC_AUDIO_FLOAT32,

       Encoded formats:
       - MMF_AUDIO_PCM8,
       - MMF_AUDIO_PCM8U,
       - MMF_AUDIO_PCM16BE,
       - MMF_AUDIO_PCM16LE,
       - MMF_AUDIO_PCM24BE,
       - MMF_AUDIO_PCM24LE,
       - MMF_AUDIO_PCM32BE,
       - MMF_AUDIO_PCM32LE,
       - MMF_AUDIO_PCMF32LE,
       - MMF_AUDIO_MULAW,
       - MMF_AUDIO_ALAW.


@{b}NEW ATTRIBUTES@{ub}
       Attributes applicability:
         I - may be set at creation time.
         S - may be set on an existing object.
         G - may be get from an object.
         P - may be set for an object's port.
         Q - may be queried from an object's port.

       @{"MMA_Sound_Channels" Link "MMA_Sound_Channels"}       (V51) [I.G.Q], ULONG
       @{"MMA_Sound_SampleRate" Link "MMA_Sound_SampleRate"}     (V51) [I.G.Q], ULONG
       @{"MMA_Sound_BitsPerSample" Link "MMA_Sound_BitsPerSample"}  (V51) [..G.Q], ULONG


@{b}NEW METHODS@{ub}
       @{"MMM_Pull" Link "MMM_Pull"}(port, buffer, length)  (V51)
       @{"MMM_Seek" Link "MMM_Seek"}(port, type, position)  (V51)


@endnode
@Node "MMA_Sound_BitsPerSample" "rawaudio.filter/MMA_Sound_BitsPerSample"
@{fg shine}rawaudio.filter/MMA_Sound_BitsPerSample@{fg text}

@{b}NAME@{ub}
       @{b}MMA_Sound_BitsPerSample@{ub} (V51) [..G.Q], ULONG


@{b}FUNCTION@{ub}
       Specifies the number of bits per single sound sample (not frame). It
       depends strictly on the format specified for output port.


@endnode
@Node "MMA_Sound_Channels" "rawaudio.filter/MMA_Sound_Channels"
@{fg shine}rawaudio.filter/MMA_Sound_Channels@{fg text}

@{b}NAME@{ub}
       @{b}MMA_Sound_Channels@{ub} (V51) [I.G.Q], ULONG


@{b}FUNCTION@{ub}
       Specifies the number of interleaved sound channels in the raw data.
       The default value for this tag is 1. Reggae supports up to 256
       channels.


@endnode
@Node "MMA_Sound_SampleRate" "rawaudio.filter/MMA_Sound_SampleRate"
@{fg shine}rawaudio.filter/MMA_Sound_SampleRate@{fg text}

@{b}NAME@{ub}
       @{b}MMA_Sound_SampleRate@{ub} (V51) [I.G.Q], ULONG


@{b}FUNCTION@{ub}
       Specifies the sample rate of the raw data in samples per second. The
       default value for this tag is 8000. Reggae itself will accept any
       value, but some filters, and especially encoders and audio.output
       class will limit the choice of sampling rate.


@endnode
@Node "MMM_Pull" "rawaudio.filter/MMM_Pull"
@{fg shine}rawaudio.filter/MMM_Pull@{fg text}

@{b}NAME@{ub}
       @{b}MMM_Pull@{ub} -- Writes audio data to specified buffer. (V51)


@{b}SYNOPSIS@{ub}
       ULONG DoMethod(Object *obj, @{b}MMM_Pull@{ub}, ULONG port, APTR buffer, ULONG
        length);


@{b}FUNCTION@{ub}
       Pulls needed amount of raw audio data from input. As the object does
       not process the data in any way, the request is simply forwarded to
       the previous object.


@{b}INPUTS@{ub}
       obj - object to perform method on.
       port - number of port, data must be pulled from port 1 (output).
       buffer - destination buffer for data.
       length - amount of data to be pulled in *bytes*.


@{b}RESULT@{ub}
       Number of bytes pulled, secondary error information via
       @{"MMA_ErrorCode" Link "multimedia.class.guide/MMA_ErrorCode"}.


@{b}SEE ALSO@{ub}
       multimedia.class/@{"MMA_ErrorCode" Link "multimedia.class.guide/MMA_ErrorCode"}


@endnode
@Node "MMM_Seek" "rawaudio.filter/MMM_Seek"
@{fg shine}rawaudio.filter/MMM_Seek@{fg text}

@{b}NAME@{ub}
       @{b}MMM_Seek@{ub} -- Moves stream pointer to a new position. (V51)


@{b}SYNOPSIS@{ub}
       ULONG DoMethod(Object *obj, @{"MMM_Pull" Link "MMM_Pull"}, ULONG port, ULONG type, UQUAD*
        position);


@{b}FUNCTION@{ub}
       A rawaudio.filter objects does not process data and does not have any
       internal buffers. It also knows frame size and sample rate, so it
       only supports frame seek and time seek (byte seek cannot be used).
       Time seek is converted to frames (with rounding down if neccesary)
       using @{"MMA_Sound_SampleRate" Link "MMA_Sound_SampleRate"} specified. Frame seek is converted to byte
       seek, based on @{"MMA_Sound_Channels" Link "MMA_Sound_Channels"} and specified output format.
       Resulting byte seek is passed to the connected stream.


@{b}INPUTS@{ub}
       obj - object to perform method on.
       port - number of port, seek must be done on port 1 (output).
       buffer - type of seek, MMM_SEEK_TIME or MMM_SEEK_FRAMES.
       position - a pointer to an UQUAD variable holding the new position.
         It is in frames for frame seek and in microseconds for time seek.


@{b}RESULT@{ub}
       Number of bytes pulled, secondary error information via
       @{"MMA_ErrorCode" Link "multimedia.class.guide/MMA_ErrorCode"}. Seek operation may fail if the connected stream is not
       seekable.


@{b}SEE ALSO@{ub}
       multimedia.class/@{"MMA_ErrorCode" Link "multimedia.class.guide/MMA_ErrorCode"}


@endnode

