@database bitplane.decoder.guide
@rem Source: class.cpp
@rem Generated with RoboDoc v3.1a (Jul  3 2005)
@rem RoboDoc is copyright 1994-1997 by Maverick Software Development
@node Main bitplane.decoder.guide
@{jcenter}
@{fg highlight}@{b}TABLE OF CONTENTS@{ub}@{fg text}

@{"bitplane.decoder/background            " Link "background"}
@{"bitplane.decoder/MMA_Video_BitsPerPixel" Link "MMA_Video_BitsPerPixel"}
@{"bitplane.decoder/MMA_Video_Height      " Link "MMA_Video_Height"}
@{"bitplane.decoder/MMA_Video_Palette     " Link "MMA_Video_Palette"}
@{"bitplane.decoder/MMA_Video_UseAlpha    " Link "MMA_Video_UseAlpha"}
@{"bitplane.decoder/MMA_Video_Width       " Link "MMA_Video_Width"}
@{"bitplane.decoder/MMM_Pull              " Link "MMM_Pull"}
@{jleft}
@endnode
@Node "background" "bitplane.decoder/background"
@{fg shine}bitplane.decoder/background@{fg text}

@{b}DESCRIPTION@{ub}
   The class is designed to convert bitplane (planar) formatted graphics
   into the common ARGB32 format. The current version handles only one
   bitplane (two colours) data. The class has two main purposes. The first
   one is to decode bitplane data found in some formats like PBM or IFF
   ILBM. In this case image width, height, number of bitplanes and palette
   are read from a demuxer object. The second purpose is to directly process
   raw bitplane data (delivered via stream object), in the case image width,
   height, number of bitplanes and palette are set by application.


@{b}NEW ATTRIBUTES@{ub}
   Attributes applicability:
     I - may be set at creation time.
     S - may be set on an existing object.
     G - may be get from an object.
     P - may be set for an object's port.
     Q - may be queried from an object's port.

   @{"MMA_Video_BitsPerPixel" Link "MMA_Video_BitsPerPixel"}   (V51) [ISGPQ], ULONG
   @{"MMA_Video_Height" Link "MMA_Video_Height"}         (V51) [ISGPQ], ULONG
   @{"MMA_Video_Palette" Link "MMA_Video_Palette"}        (V51) [IS.P.], ULONG*
   @{"MMA_Video_Width" Link "MMA_Video_Width"}          (V51) [ISGPQ], ULONG
   @{"MMA_Video_UseAlpha" Link "MMA_Video_UseAlpha"}       (V51) [ISGPQ], BOOL
       

@{b}NEW METHODS@{ub}
   @{"MMM_Pull" Link "MMM_Pull"}(port, buffer, length)  (V50)


@endnode
@Node "MMA_Video_BitsPerPixel" "bitplane.decoder/MMA_Video_BitsPerPixel"
@{fg shine}bitplane.decoder/MMA_Video_BitsPerPixel@{fg text}

@{b}NAME@{ub}
   @{b}MMA_Video_BitsPerPixel@{ub} (V51) [ISGPQ], ULONG


@{b}FUNCTION@{ub}
   Number of bitplanes. The default value is 0. It is then overridden in
   MMM_Setup method by value returned in the previous object (only if
   MMM_Setup is called when connecting the object input to something). Then
   it can be overridden by application.


@endnode
@Node "MMA_Video_Height" "bitplane.decoder/MMA_Video_Height"
@{fg shine}bitplane.decoder/MMA_Video_Height@{fg text}

@{b}NAME@{ub}
   @{b}MMA_Video_Height@{ub} (V51) [ISGPQ], ULONG


@{b}FUNCTION@{ub}
   Number of pixel rows in every bitplane. The default value is 0, it is
   overridden in MMM_Setup method by value returned in the previous object
   (only if MMM_Setup is called when connecting the object input to
   something). Then it can be overridden by application.


@endnode
@Node "MMA_Video_Palette" "bitplane.decoder/MMA_Video_Palette"
@{fg shine}bitplane.decoder/MMA_Video_Palette@{fg text}

@{b}NAME@{ub}
   @{b}MMA_Video_Palette@{ub} (V51) [IS.P.], ULONG*


@{b}FUNCTION@{ub}
   This is the palette used to "resolve" color numbers after gathering plane
   bits into color numbers of pixels. It is assumed the palette has at least
   as many entries as number two raised to the power of
   @{"MMA_Video_BitsPerPixel" Link "MMA_Video_BitsPerPixel"}. Every entry is ARGB 32-bit color. Note that alpha
   value is used, so it is possible to apply palette based alpha channel to
   image data. The default palette is a linear grayscale one from white
   (@{"background" Link "background"}) to black (with no alpha). It may be overridden in MMM_Setup,
   where the previous object (a demuxer usually) is asked for a palette
   stored in the image data. Then it can be overridden by an application.
   Setting this attribute to NULL restores the default grayscale palette.


@{b}NOTES@{ub}
   The palette passed is not copied, the palette must stay in memory until
   the object is disposed, or the attribute is set to another value.



@endnode
@Node "MMA_Video_UseAlpha" "bitplane.decoder/MMA_Video_UseAlpha"
@{fg shine}bitplane.decoder/MMA_Video_UseAlpha@{fg text}

@{b}NAME@{ub}
   @{b}MMA_Video_UseAlpha@{ub} (V51) [ISGPQ], BOOL


@{b}FUNCTION@{ub}
   Controls usage of alpha channel data provided by demuxer. The default
   value for this attribute is FALSE. Then, when the object input is
   connected to a previous object, this previous object (a demuxer usually)
   is asked for alpha channel data presence. An application can override the
   attribute value later.


@endnode
@Node "MMA_Video_Width" "bitplane.decoder/MMA_Video_Width"
@{fg shine}bitplane.decoder/MMA_Video_Width@{fg text}

@{b}NAME@{ub}
   @{b}MMA_Video_Width@{ub} (V51) [ISGPQ], ULONG


@{b}FUNCTION@{ub}
   Number of pixels in one row of a bitplane. Note that bitplane row is
   always padded to the nearest byte boundary. The default value is 0. It is
   then overridden in MMM_Setup method by value returned in the previous
   object (only if MMM_Setup is called when connecting the object input to
   something). Then it can be overridden by application.


@endnode
@Node "MMM_Pull" "bitplane.decoder/MMM_Pull"
@{fg shine}bitplane.decoder/MMM_Pull@{fg text}

@{b}NAME@{ub}
   @{b}MMM_Pull@{ub} -- Converts bitplane data to a common format. (V50)


@{b}SYNOPSIS@{ub}
   ULONG DoMethod(Object *obj, @{b}MMM_Pull@{ub}, ULONG port, APTR buffer, ULONG
   length);


@{b}FUNCTION@{ub}
   The method pulls bitplane data from input and converts them to ARGB32
   pixels. ARGB32 values are placed in the passed buffer. Note that for more
   than one bitplane, all bitplanes, except the last one, must be buffered,
   so for large images this call may need huge amounts of memory. Buffering
   bitplanes consumes less memory than buffering ARGB32 output however.
   One-bitplane images are not buffered and very large images can be
   processed with small amount of memory.


@{b}INPUTS@{ub}
   obj - object to perform method on.
   port - number of port, data must be pulled from output, so 1.
   buffer - destination buffer for common format image data. This buffer
     must be allocated with MediaAllocMem().
   length - amount of data to be pulled in bytes. It should be evenly
     divisible by number of bytes per pixel for the common format (4 for
     MMFC_VIDEO_ARGB32), if not, it is rounded down, and the rest of 
     bytes are undefined.


@{b}RESULT@{ub}
   Number of bytes pulled, secondary error information via @{"MMA_ErrorCode" Link "multimedia.class.guide/MMA_ErrorCode"}.


@{b}SEE ALSO@{ub}
   multimedia.class/@{"MMA_ErrorCode" Link "multimedia.class.guide/MMA_ErrorCode"}


@endnode

