TABLE OF CONTENTS
0001 laws.decoder/background
0002 laws.decoder/MMA_StreamPosFrames
0003 laws.decoder/MMA_StreamPosTime
0004 laws.decoder/MMM_Pull
laws.decoder/background

DESCRIPTION
     This class is a Reggae decoder for decoding non-linearly quantized
     8-bit PCM data according to two CCITT standards: mu-law and A-law.
     These nonlinear quantizations are used for example in WAVE format as
     subtypes 6 and 7. Nonlinear quantization improves subjective signal to
     noise ratio compared to linear 8-bit PCM coding. A laws.decoder object
     has one input (port 0) and one output (port 1). The input accepts
     following formats (all formats are with interleaved channels):

     - MMF_AUDIO_MULAW, 8-bit unsigned integers, mu-law quantization curve.
     - MMF_AUDIO_ALAW, 8-bit unsigned integers, A-law quantization curve.

     On the output an object can produce following formats:

     - MMFC_AUDIO_INT16, 16-bit signed interegs,
     - MMFC_AUDIO_INT32, 32-bit signed integers,
     - MMFC_AUDIO_FLOAT32, 32-bit single precision floats, normalized to
       (-1.0, +1.0) range.

     In contrast to classing decoding method, which is using a lookup table 
     of 128 words, laws.decoder calculates output samples from input bytes
     directly, which is faster especially in AltiVec version.


NEW ATTRIBUTES
       Attributes applicability:
         I - may be set at creation time.
         S - may be set on an existing object.
         G - may be get from an object.
         P - may be set for an object's port.
         Q - may be queried from an object's port.

       MMA_StreamPosFrames      (V51) [..G.Q], UQUAD*
       MMA_StreamPosTime        (V51) [..G.Q], UQUAD*


NEW METHODS
       MMM_Pull(port, buffer, length)  (V50)


laws.decoder/MMA_StreamPosFrames

NAME
       MMA_StreamPosFrames (V51) [..G.Q], UQUAD*


FUNCTION
       Returns current absolute stream position in sample frames. It is
       exactly the number of the whole sample frames pulled from object's
       output. As laws.decoder object has no information about sound
       channels, it queries the object connected to the input of
       MMA_Sound_Channels with MMM_GetPortFwd() method.


NOTES
       This is a 64-bit attribute passed by pointer to UQUAD variable, not
       by value.


laws.decoder/MMA_StreamPosTime

NAME
       MMA_StreamPosTime (V51) [..G.Q], UQUAD*


FUNCTION
       Returns absolute stream time position in microseconds. This time
       position is strictly based on MMA_Sound_SampleRate, and reflects
       only the whole sample frames already pulled from the object output.
       The exact formula is:

       time_pos = whole_frames_pulled / MMA_Sound_SampleRate

       The class queries the object connected to the object's input about
       MMA_Sound_SampleRate and MMA_Sound_Channels with MMM_GetPortFwd()
       method.


NOTES
       This is a 64-bit attribute passed by pointer to UQUAD variable, not
       by value.

       Returned time is not in any way related to playback time for two
       reasons: firstly, there can be an unknown number of buffers between
       the decoder and the output, secondly, playback samplerate may
       be different than those specified in the stream header.


laws.decoder/MMM_Pull

NAME
       MMM_Pull (V50)


SYNOPSIS
       bytes = DoMethod(obj, MMM_Pull, ULONG port, APTR buffer, ULONG
         length);


FUNCTION
       Places required amount of sound common format data (in bytes) in the
       specified buffer. The method calculates how many bytes it must pull
       from the previous object, to get required amount of output. Then data
       are pulled, converted and placed in the buffer. Note that requested 
       number of bytes should be a multiply of sample frame size (for
       example 8 bytes for stereo sound if MMFC_INT32 is set as output
       format). If it is not, it will be rounded down to the nearest sample
       frame boundary, left bytes are undefined.


INPUTS
       - obj, object to perform the method on.
       - port, number of port is always 1 (the output port).
       - buffer, a memory buffer for pulled data, must be aligned to 16-byte
         boundary (preferrably allocated with MediaAllocMem()).
       - length, amount of pulled data in bytes. Will be rounded down to the
         nearest sample frame boundary.


RESULT
       - bytes, number of bytes pulled actually.


