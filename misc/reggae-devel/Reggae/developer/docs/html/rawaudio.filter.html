<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<TITLE>rawaudio.filter.html</TITLE>
<!-- Source: class.c -->
<!-- Generated with RoboDoc v3.1a (Jul  3 2005) -->
<!-- RoboDoc is copyright 1994-1997 by Maverick Software Development -->
</HEAD><BODY>
<H1 ALIGN="center">TABLE OF CONTENTS</H1>
<OL>
<LI><A HREF="#background">rawaudio.filter/background</A>
<LI><A HREF="#MMA_Sound_BitsPerSample">rawaudio.filter/MMA_Sound_BitsPerSample</A>
<LI><A HREF="#MMA_Sound_Channels">rawaudio.filter/MMA_Sound_Channels</A>
<LI><A HREF="#MMA_Sound_SampleRate">rawaudio.filter/MMA_Sound_SampleRate</A>
<LI><A HREF="#MMM_Pull">rawaudio.filter/MMM_Pull</A>
<LI><A HREF="#MMM_Seek">rawaudio.filter/MMM_Seek</A>
</OL>
<HR>

<H2><A NAME="background">rawaudio.filter/background</A></H2>

<FONT SIZE="+1">DESCRIPTION</FONT>
<PRE>       This is a Reggae filter used for importing raw audio data in several
       formats into Reggae. The filter does not process data, it is only
       used to attach format tag to raw data stream pulled from a stream
       object. It is also used to specify basic audio parameters like number
       of channels and sampling rate. The filter accepts MMF_STREAM format
       on its input, it means that a stream object should be the source of
       data. It can be for example memory stream to fetch data from a memory
       buffer, or file.stream to load raw data from disk. The real format of
       data is specified by setting <A HREF="multimedia.class.html#MMA_Port_Format">MMA_Port_Format</A> attribute for the output
       port. When no format is set, the default one is MMFC_AUDIO_INT16.
       Then number of channels and sampling rate is set with object's
       attributes (see below). The output format may be one of the three
       common audio formats of Reggae, or one of many encoded formats. If it
       is an encoded format, a decoder is usually connected to the object's
       output. An rawaudio.filter object will allow for following output
       formats:

       Common formats:
       - MMFC_AUDIO_INT16,
       - MMFC_AUDIO_INT32,
       - MMFC_AUDIO_FLOAT32,

       Encoded formats:
       - MMF_AUDIO_PCM8,
       - MMF_AUDIO_PCM8U,
       - MMF_AUDIO_PCM16BE,
       - MMF_AUDIO_PCM16LE,
       - MMF_AUDIO_PCM24BE,
       - MMF_AUDIO_PCM24LE,
       - MMF_AUDIO_PCM32BE,
       - MMF_AUDIO_PCM32LE,
       - MMF_AUDIO_PCMF32LE,
       - MMF_AUDIO_MULAW,
       - MMF_AUDIO_ALAW.

</PRE><FONT SIZE="+1">NEW ATTRIBUTES</FONT>
<PRE>       Attributes applicability:
         I - may be set at creation time.
         S - may be set on an existing object.
         G - may be get from an object.
         P - may be set for an object's port.
         Q - may be queried from an object's port.

       <A HREF="#MMA_Sound_Channels">MMA_Sound_Channels</A>       (V51) [I.G.Q], ULONG
       <A HREF="#MMA_Sound_SampleRate">MMA_Sound_SampleRate</A>     (V51) [I.G.Q], ULONG
       <A HREF="#MMA_Sound_BitsPerSample">MMA_Sound_BitsPerSample</A>  (V51) [..G.Q], ULONG

</PRE><FONT SIZE="+1">NEW METHODS</FONT>
<PRE>       <A HREF="#MMM_Pull">MMM_Pull</A>(port, buffer, length)  (V51)
       <A HREF="#MMM_Seek">MMM_Seek</A>(port, type, position)  (V51)

</PRE>
<HR>

<H2><A NAME="MMA_Sound_BitsPerSample">rawaudio.filter/MMA_Sound_BitsPerSample</A></H2>

<FONT SIZE="+1">NAME</FONT>
<PRE>       <B>MMA_Sound_BitsPerSample</B> (V51) [..G.Q], ULONG

</PRE><FONT SIZE="+1">FUNCTION</FONT>
<PRE>       Specifies the number of bits per single sound sample (not frame). It
       depends strictly on the format specified for output port.

</PRE>
<HR>

<H2><A NAME="MMA_Sound_Channels">rawaudio.filter/MMA_Sound_Channels</A></H2>

<FONT SIZE="+1">NAME</FONT>
<PRE>       <B>MMA_Sound_Channels</B> (V51) [I.G.Q], ULONG

</PRE><FONT SIZE="+1">FUNCTION</FONT>
<PRE>       Specifies the number of interleaved sound channels in the raw data.
       The default value for this tag is 1. Reggae supports up to 256
       channels.

</PRE>
<HR>

<H2><A NAME="MMA_Sound_SampleRate">rawaudio.filter/MMA_Sound_SampleRate</A></H2>

<FONT SIZE="+1">NAME</FONT>
<PRE>       <B>MMA_Sound_SampleRate</B> (V51) [I.G.Q], ULONG

</PRE><FONT SIZE="+1">FUNCTION</FONT>
<PRE>       Specifies the sample rate of the raw data in samples per second. The
       default value for this tag is 8000. Reggae itself will accept any
       value, but some filters, and especially encoders and audio.output
       class will limit the choice of sampling rate.

</PRE>
<HR>

<H2><A NAME="MMM_Pull">rawaudio.filter/MMM_Pull</A></H2>

<FONT SIZE="+1">NAME</FONT>
<PRE>       <B>MMM_Pull</B> -- Writes audio data to specified buffer. (V51)

</PRE><FONT SIZE="+1">SYNOPSIS</FONT>
<PRE>       ULONG DoMethod(Object *obj, <B>MMM_Pull</B>, ULONG port, APTR buffer, ULONG
        length);

</PRE><FONT SIZE="+1">FUNCTION</FONT>
<PRE>       Pulls needed amount of raw audio data from input. As the object does
       not process the data in any way, the request is simply forwarded to
       the previous object.

</PRE><FONT SIZE="+1">INPUTS</FONT>
<PRE>       obj - object to perform method on.
       port - number of port, data must be pulled from port 1 (output).
       buffer - destination buffer for data.
       length - amount of data to be pulled in *bytes*.

</PRE><FONT SIZE="+1">RESULT</FONT>
<PRE>       Number of bytes pulled, secondary error information via
       <A HREF="multimedia.class.html#MMA_ErrorCode">MMA_ErrorCode</A>.

</PRE><FONT SIZE="+1">SEE ALSO</FONT>
<PRE>       multimedia.class/<A HREF="multimedia.class.html#MMA_ErrorCode">MMA_ErrorCode</A>

</PRE>
<HR>

<H2><A NAME="MMM_Seek">rawaudio.filter/MMM_Seek</A></H2>

<FONT SIZE="+1">NAME</FONT>
<PRE>       <B>MMM_Seek</B> -- Moves stream pointer to a new position. (V51)

</PRE><FONT SIZE="+1">SYNOPSIS</FONT>
<PRE>       ULONG DoMethod(Object *obj, <A HREF="#MMM_Pull">MMM_Pull</A>, ULONG port, ULONG type, UQUAD*
        position);

</PRE><FONT SIZE="+1">FUNCTION</FONT>
<PRE>       A rawaudio.filter objects does not process data and does not have any
       internal buffers. It also knows frame size and sample rate, so it
       only supports frame seek and time seek (byte seek cannot be used).
       Time seek is converted to frames (with rounding down if neccesary)
       using <A HREF="#MMA_Sound_SampleRate">MMA_Sound_SampleRate</A> specified. Frame seek is converted to byte
       seek, based on <A HREF="#MMA_Sound_Channels">MMA_Sound_Channels</A> and specified output format.
       Resulting byte seek is passed to the connected stream.

</PRE><FONT SIZE="+1">INPUTS</FONT>
<PRE>       obj - object to perform method on.
       port - number of port, seek must be done on port 1 (output).
       buffer - type of seek, MMM_SEEK_TIME or MMM_SEEK_FRAMES.
       position - a pointer to an UQUAD variable holding the new position.
         It is in frames for frame seek and in microseconds for time seek.

</PRE><FONT SIZE="+1">RESULT</FONT>
<PRE>       Number of bytes pulled, secondary error information via
       <A HREF="multimedia.class.html#MMA_ErrorCode">MMA_ErrorCode</A>. Seek operation may fail if the connected stream is not
       seekable.

</PRE><FONT SIZE="+1">SEE ALSO</FONT>
<PRE>       multimedia.class/<A HREF="multimedia.class.html#MMA_ErrorCode">MMA_ErrorCode</A>

</PRE>
</BODY></HTML>
