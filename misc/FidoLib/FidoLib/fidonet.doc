TABLE OF CONTENTS

fidonet.lib/atos
fidonet.lib/ClosePkt
fidonet.lib/MakeMsg
fidonet.lib/MakePkt
fidonet.lib/stoa

fidonet.lib/atos                                        fidonet.lib/atos

   NAME
        atos -- convert a fidonet address from structure to string

   SYNOPSIS
        addr = atos(address)

        u_char *atos(struct NetAddr *)

   FUNCTION
        This is a utility function used by the main functions of the
        library and also accessible directly by the application. It
        reads a fidonet address from an address structure and writes
        an address string into a buffer. The buffer is static, and the
        string will be valid until the next call to this function.

   INPUTS
        address - pointer to the address structure to read from

   RESULT
        addr- pointer to the created address string

   BUGS

   SEE ALSO
        stoa(),include/fidonet.h

fidonet.lib/ClosePkt                                    fidonet.lib/ClosePkt

   NAME
        ClosePkt -- Close the given fidonet packet

   SYNOPSIS
        ClosePkt(pkt)

        void ClosePkt(BPTR)

   FUNCTION
        To close a fidonet packet made by a call to MakePkt(). The
        necessary information indicating the ending of the packet is
        written to the packet file, and then the file is closed.

   INPUTS
        pkt - file handle to the packet

   RESULT

   BUGS

   SEE ALSO
        MakePkt()


fidonet.lib/MakeMsg                                     fidonet.lib/MakeMsg

   NAME
        MakeMsg -- Start a new message

   SYNOPSIS
        MakeMsg(pkt, datetime, flags)

        void MakeMsg(BPTR, u_char *, UWORD)

   FUNCTION
        Write a message header to the packet file. Pass the function
        the current time as a valid date string. After calling this
        function it is up to you to write the actual message to the
        file. Finally, call MakeMsg() again to create a new message,
        or call ClosePkt() to finish the packet.

        If you do not have a ready-made date string and you do not want
        to produce one, you may pass NULL as datetime, and the library
        will call DateStamp() to get the current time and then create
        a date string accordingly.

   INPUTS
        pkt      - file handle to the packet
        datetime - valid Fidonet date string or NULL
        flags    - the attribute word of the message

   RESULT

   BUGS

   SEE ALSO
        ClosePkt(),include/fidonet.h


fidonet.lib/MakePkt                                     fidonet.lib/MakePkt

   NAME
        MakePkt -- Initialize a fidonet packet

   SYNOPSIS
        pkt = MakePkt(pktname, From, To, password)

        BPTR MakePkt(u_char *, u_char *, u_char *, u_char *);

   FUNCTION
        Open a packet file, and write a packet header in it. If you
        do not want to put in a password, pass NULL as the final argument.
        For example, MakePkt("T:00000000.PKT","65:10/5","65:10/1","pw")
        would create a packet in the temporary directory that would be
        going from 65:10/5 to 65:10/1. Password would be "pw". The packet
        header will be fully initialized with the addresses given and the
        current time as the packet's time of creation.

   INPUTS
        pktname  - name of the packet file (eg. 123AE01F.PKT)
        From     - Fidonet address of the Origin system
        To       - Fidonet address of the Destination system
        password - optional packet password

   RESULT
        pkt - file handle to the newly created fidonet packet

   BUGS
        If you want to see this as one, the function leaves the product
        code fields to zero. Currently, there is no way of specifying a
        product code.

   SEE ALSO
        ClosePkt(),MakeMsg(),include/fidonet.h


fidonet.lib/stoa                                        fidonet.lib/stoa

   NAME
        stoa -- convert a fidonet address from string to structure

   SYNOPSIS
        success = stoa(addr, address)

        BOOL stoa(u_char *, struct NetAddr *)

   FUNCTION
        This is a utility function used by the main functions of the
        library and also accessible directly by the application. It
        parses a fidonet address from a string and write it into the
        address structure.

   INPUTS
        addr    - address string
        address - pointer to the address structure to be filled

   RESULT
        success - zero if OK, and the structure is valid

   BUGS

   SEE ALSO
        atos(),include/fidonet.h

