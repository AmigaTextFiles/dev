  <HTML>
  <HEAD>
  <!-- This HTML file has been created by texi2html 1.52 (hacked by david@detron.se)
     from manual.texi on 11 October 2001 -->

  <TITLE>MySQL Reference Manual for version 4.0.0-alpha.</TITLE>
   <style> code {color:purple} tt {color:green} samp {color:navy} pre {color:maroon} </style>
  </HEAD>
  <BODY BGCOLOR=silver TEXT=#000000 LINK=#101090 VLINK=#7030B0>
<H1>MySQL Reference Manual for version 4.0.0-alpha.</H1>
<P>
<P><HR><P>


<H1><A NAME="Introduction" HREF="manual_toc.html#Introduction">1  General Information About MySQL</A></H1>

<P>
<A NAME="IDX1"></A>
<A NAME="IDX2"></A>
<A NAME="IDX3"></A>
<A NAME="IDX4"></A>

</P>
<P>
This is the MySQL reference manual; it documents MySQL Version
4.0.0-alpha.  As MySQL is work in progress, the manual gets
updated frequently.  There is a very good chance that this version is
out of date, unless you are looking at it online.  The most recent
version of this manual is available at
<a HREF="http://www.mysql.com/documentation/index.html">http://www.mysql.com/documentation/index.html</a> in many different
formats.  If you have a hard time finding information in the manual, you
can try the searchable PHP version at <a HREF="http://www.mysql.com/doc">http://www.mysql.com/doc</a>.

</P>
<P>
MySQL is a very fast, multi-threaded, multi-user, and robust SQL
(Structured Query Language) database server.

</P>
<P>
MySQL is free software.  It is licensed with the <STRONG>GNU
GENERAL PUBLIC LICENSE</STRONG> <a HREF="http://www.gnu.org/">http://www.gnu.org/</a>.
See section <A HREF="manual.html#Licensing_and_Support">1.3  MySQL Support and Licensing</A>.

</P>
<P>
<a HREF="http://www.mysql.com/"> The MySQL home page</a>
provides the latest information about MySQL.

</P>
<P>
The following list describes some useful sections of the manual:

</P>

<UL>
<LI>

For information about the company behind MySQL, see 
section <A HREF="manual.html#What_is_MySQL_AB">1.1.2  What Is MySQL AB</A>.

<LI>

For a discussion of MySQL's capabilities, see section <A HREF="manual.html#Features">1.1.6  The Main Features of MySQL</A>.

<LI>

For installation instructions, see section <A HREF="manual.html#Installing">2  MySQL Installation</A>.

<LI>

For tips on porting MySQL to new architectures or operating
systems, see section <A HREF="manual.html#Porting">G  Comments on porting to other systems</A>.

<LI>

For information about upgrading from a Version 3.23 release, see
section <A HREF="manual.html#Upgrading-from-3.23">2.5.1  Upgrading From Version 3.23 to Version 4.0</A>.

<LI>

For information about upgrading from a Version 3.22 release, see
section <A HREF="manual.html#Upgrading-from-3.22">2.5.2  Upgrading From Version 3.22 to Version 3.23</A>.

<LI>

For a tutorial introduction to MySQL, see section <A HREF="manual.html#Tutorial">3  Introduction to MySQL: A MySQL Tutorial</A>.

<LI>

For examples of SQL and benchmarking information, see the benchmarking
directory (<TT>`sql-bench'</TT> in the distribution).

<LI>

For a history of new features and bug fixes, see section <A HREF="manual.html#News">F  MySQL change history</A>.

<LI>

For a list of currently known bugs and misfeatures, see section <A HREF="manual.html#Bugs">1.4.7  Known errors and design deficiencies in MySQL</A>.

<LI>

For future plans, see section <A HREF="manual.html#TODO">1.6  MySQL and the future (The TODO)</A>.

<LI>

For a list of all the contributors to this project, see section <A HREF="manual.html#Credits">E  Credits</A>.
</UL>

<P>
<STRONG>IMPORTANT:</STRONG>

</P>
<P>
Reports of errors (often called bugs), as well as questions and comments,
should be sent to the mailing list at <a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>.
See section <A HREF="manual.html#Bug_reports">1.2.22.3  How to Report Bugs or Problems</A>.
The <CODE>mysqlbug</CODE> script should be used to generate bug reports.
For source distributions, the <CODE>mysqlbug</CODE> script can be found in the
<TT>`scripts'</TT> directory.  For binary distributions, <CODE>mysqlbug</CODE> can
be found in the <TT>`bin'</TT> directory. If you have found a sensitive
security bug in MySQL, you should send an e-mail to
<a HREF="mailto:security@mysql.com">security@mysql.com</a>.

</P>
<P>
<A NAME="IDX5"></A>
<A NAME="IDX6"></A>
<A NAME="IDX7"></A>
<A NAME="IDX8"></A>

</P>
<P>
If you have any suggestions concerning additions or corrections to this
manual, please send them to the manual team at <a HREF="mailto:docs@mysql.com">docs@mysql.com</a>.

</P>
<P>
This is a reference manual; it does not provide general instruction on SQL
or relational database concepts.  If you want general information about SQL,
see section <A HREF="manual.html#General-SQL">1.2.2  General SQL Information and Tutorials</A>.  For books that focus more specifically on
MySQL, see section <A HREF="manual.html#MySQL-Books">1.2.1  Books About MySQL</A>.

</P>



<H2><A NAME="MySQL_and_MySQL_AB" HREF="manual_toc.html#MySQL_and_MySQL_AB">1.1  MySQL, MySQL AB, and Open Source</A></H2>



<H3><A NAME="What-is" HREF="manual_toc.html#What-is">1.1.1  What Is MySQL</A></H3>

<P>
<A NAME="IDX9"></A>
<A NAME="IDX10"></A>

</P>
<P>
MySQL, the most popular Open Source SQL database, is provided
by MySQL AB.  MySQL AB is a commercial company that
builds its business providing services around the MySQL database.
See section <A HREF="manual.html#What_is_MySQL_AB">1.1.2  What Is MySQL AB</A>.

</P>
<DL COMPACT>

<DT>MySQL is a database management system.
<DD>
A database is a structured collection of data.  It may be anything from a
simple shopping list to a picture gallery or the vast amounts of
information in a corporate network.  To add, access, and process data
stored in a computer database, you need a database management system
such as MySQL.  Since computers are very good at handling large
amounts of data, database management plays a central role in computing,
as stand-alone utilities, or as parts of other applications.

<A NAME="IDX11"></A>

<DT>MySQL is a relational database management system.
<DD>
A relational database stores data in separate tables rather than putting
all the data in one big storeroom.  This adds speed and flexibility.  The
tables are linked by defined relations making it possible to combine
data from several tables on request.  The SQL part of MySQL
stands for "Structured Query Language" - the most common standardized
language used to access databases.

<A NAME="IDX12"></A>
<A NAME="IDX13"></A>
<DT>MySQL is Open Source Software.
<DD>
Open Source means that it is possible for anyone to use and modify.
Anybody can download MySQL from the Internet and use it
without paying anything.  Anybody so inclined can study the source code
and change it to fit their needs.  MySQL uses the GPL (GNU
General Public License) <a HREF="http://www.gnu.org">http://www.gnu.org</a>, to define what you
may and may not do with the software in different situations.  If you
feel uncomfortable with the GPL or need to embed MySQL into a
commercial application you can buy a commercially licensed version from
us.

<A NAME="IDX14"></A>
<A NAME="IDX15"></A>

<DT>Why use MySQL?
<DD>
MySQL is very fast, reliable, and easy to use.  If that is what
you are looking for, you should give it a try.  MySQL also has a
practical set of features developed in close cooperation with
our users.  You can find a performance comparison of MySQL
to some other database managers on our benchmark page.
See section <A HREF="manual.html#MySQL_Benchmarks">5.1.4  The MySQL Benchmark Suite</A>.

MySQL was originally developed to handle large databases
much faster than existing solutions and has been successfully used in
highly demanding production environments for several years.  Though
under constant development, MySQL today offers a rich and
useful set of functions.  The connectivity, speed, and security make
MySQL highly suited for accessing databases on the Internet.

<DT>The technical features of MySQL
<DD>
For advanced technical information, see section <A HREF="manual.html#Reference">6  MySQL Language Reference</A>.  MySQL is
a client/server system that consists of a multi-threaded SQL server
that supports different backends, several different client programs and
libraries, administrative tools, and several programming interfaces.

We also provide MySQL as a multi-threaded library which you can
link into your application to get a smaller, faster, easier to manage
product.

<DT>MySQL has a lot of contributed software available.
<DD>
It is very likely that you will find that your favorite application or
language already supports MySQL.

</DL>

<P>
<A NAME="IDX16"></A>
<A NAME="IDX17"></A>
<A NAME="IDX18"></A>
The official way to pronounce MySQL is ``My Ess Que Ell'' (not
MY-SEQUEL). But we try to avoid correcting people who say MY-SEQUEL.

</P>



<H3><A NAME="What_is_MySQL_AB" HREF="manual_toc.html#What_is_MySQL_AB">1.1.2  What Is MySQL AB</A></H3>

<P>
<A NAME="IDX19"></A>

</P>
<P>
MySQL AB is the Swedish company owned and run by the MySQL
founders and main developers.  We are dedicated to developing MySQL 
and spreading our database to new users.  MySQL AB owns the copyright
to the MySQL server source code and the MySQL trademark.
A significant amount of revenues from our services goes to developing 
MySQL.  See section <A HREF="manual.html#What-is">1.1.1  What Is MySQL</A>.

</P>

<P>
MySQL AB has been profitable providing MySQL from the start.
We don't get any outside funding, but have earned all our money ourselves.

</P>
<P>
We are searching for partners that would like to support our development 
of MySQL so that we can accelerate the pace of development.  If you
are interested in doing this, please e-mail <a HREF="mailto:partner@mysql.com">partner@mysql.com</a>!

</P>
<P>
MySQL AB currently has over twenty people
(<a HREF="http://www.mysql.com/development/team.html">http://www.mysql.com/development/team.html</a>)
on its payroll and is growing rapidly.

</P>

<P>
Our main sources of income are:

</P>

<UL>
<LI>

Commercial high quality support for MySQL provided by the 
MySQL developers themselves.  If you are interested in purchasing
a support contract, please visit <a HREF="https://order.mysql.com/">https://order.mysql.com/</a> to view our
support options and order support.

<LI>

Consulting services.  We have developers and consultants in 12 countries
and partners in many other countries that can help you with almost any
MySQL related issues.  If you need consulting services, please
e-mail a good description of your needs to <a HREF="mailto:info@mysql.com">info@mysql.com</a>!  If we
can't handle this ourselves we can usually find a partner or a developer
that can help you with your problems.

<LI>

Licensing MySQL for use as an embedded database.  See section <A HREF="manual.html#Licensing_policy">1.3.3  MySQL Licensing Policy</A>.
If you have a commercial product for which you need a fast,
high quality database, but you can't afford to make your product Open Source,
you can buy the right to use the MySQL server under a
commercial copyright.  If you are interested in this you can buy
MySQL licenses at <a HREF="https://order.mysql.com/">https://order.mysql.com/</a> or contact us
at <a HREF="mailto:licensing@mysql.com">licensing@mysql.com</a>.

<LI>

Advertising. <a HREF="http://www.mysql.com/">http://www.mysql.com/</a> is a very popular web site with
more than 10,000,000 page views per months (January 2001).  By putting a
banner on this site you are guaranteed to reach a lot of potential customers
in the open source, Linux and database communities. If you are interested
in this e-mail <a HREF="mailto:advertising@mysql.com">advertising@mysql.com</a>.

<LI>

We are building a partner program to be able to provide MySQL
services in every country.  If you are interested in becoming a partner
of MySQL AB please visit
<a HREF="http://www.mysql.com/information/partners.html">http://www.mysql.com/information/partners.html</a> or e-mail
<a HREF="mailto:partner@mysql.com">partner@mysql.com</a>.

<LI>

We provide MySQL training through our partner programs.  For more
information, please e-mail <a HREF="mailto:info@mysql.com">info@mysql.com</a>.

<LI>

The MySQL brand has, since 1995, been associated with speed and
reliability, and is known to be something you can depend upon.  If you are
interested in using the MySQL trademark in your marketing, you
can e-mail <a HREF="mailto:info@mysql.com">info@mysql.com</a> about this.
</UL>

<P>
The MySQL core values show our dedication to MySQL and
Open Source.

</P>
<P>
We want MySQL to be:

</P>

<UL>
<LI>

The best and the most widely used database in the world.
<LI>

Available and affordable for all.
<LI>

Easy to use.
<LI>

Continuously improving while remaining fast and safe.
<LI>

Fun to use and improve.
<LI>

Free from bugs.
</UL>

<P>
MySQL AB and the people of MySQL AB:

</P>

<UL>
<LI>

Promote Open Source Philosophy and support the Open Source Community.
<LI>

Aim to be good citizens.
<LI>

Prefer partners that share our values and mind-set.
<LI>

Answer e-mail and provide support.
<LI>

Are a virtual company, networking with others.
<LI>

Work against software patents.
</UL>



<H4><A NAME="Contact_information" HREF="manual_toc.html#Contact_information">1.1.2.1  Contact Information</A></H4>

<P>
<A NAME="IDX20"></A>
<A NAME="IDX21"></A>
<A NAME="IDX22"></A>
<A NAME="IDX23"></A>
<A NAME="IDX24"></A>
<A NAME="IDX25"></A>
<A NAME="IDX26"></A>

</P>
<P>
For commercial licensing, please contact the MySQL licensing
team.  The much preferred method is by e-mail to
<a HREF="mailto:licensing@mysql.com">licensing@mysql.com</a>.  Fax is also possible but handling of
these may take much longer (Fax +46-8-729 69 05).

</P>
<P>
If you represent a business that is interested in partnering with
MySQL, please send e-mail to <a HREF="mailto:partner@mysql.com">partner@mysql.com</a>.

</P>
<P>
For timely, precise answers to technical questions about MySQL
you should order one of our
<a HREF="https://order.mysql.com/"> support contracts</a>.
MySQL support is provided by the MySQL developers so the
standard is extremely high.

</P>
<P>
If you are interested in placing a banner advertisement on our Web site,
please send e-mail to <a HREF="mailto:advertising@mysql.com">advertising@mysql.com</a>.

</P>
<P>
If you are interested in any of the jobs listed in our
<a HREF="http://www.mysql.com/development/jobs/"> jobs</a> section, please send e-mail
to <a HREF="mailto:jobs@mysql.com">jobs@mysql.com</a>.

</P>
<P>
For general discussion amongst our many users, please direct your attention to
the appropriate <a HREF="http://www.mysql.com/documentation/lists.html"> mailing
list</a>.

</P>
<P>
For general information inquires, please send e-mail to
<a HREF="mailto:info@mysql.com">info@mysql.com</a>.

</P>
<P>
For questions or comments about the workings or content of the Web site,
please send e-mail to <a HREF="mailto:webmaster@mysql.com">webmaster@mysql.com</a>.

</P>



<H3><A NAME="Manual-info" HREF="manual_toc.html#Manual-info">1.1.3  About This Manual</A></H3>

<P>
This manual is currently available in Texinfo, plain text, Info, HTML,
PostScript, and PDF versions.  The primary document is the Texinfo file.
The HTML version is produced automatically using a modified version of
<CODE>texi2html</CODE>.  The plain text and Info versions are produced with
<CODE>makeinfo</CODE>.  The Postscript version is produced using <CODE>texi2dvi</CODE>
and <CODE>dvips</CODE>.  The PDF version is produced with <CODE>pdftex</CODE>.

</P>
<P>
<A NAME="IDX27"></A>
<A NAME="IDX28"></A>

</P>
<P>
This manual is written and maintained by David Axmark, Michael (Monty)
Widenius, Jeremy Cole, Arjen Lentz, and Paul DuBois. For other
contributors, see section <A HREF="manual.html#Credits">E  Credits</A>.

</P>



<H3><A NAME="Manual_conventions" HREF="manual_toc.html#Manual_conventions">1.1.4  Conventions Used in This Manual</A></H3>

<P>
This manual uses certain typographical conventions:

</P>
<P>
<A NAME="IDX29"></A>
<A NAME="IDX30"></A>
<A NAME="IDX31"></A>

</P>
<DL COMPACT>

<DT><CODE>constant</CODE>
<DD>
Constant-width font is used for command names and options; SQL statements;
database, table and column names; C and Perl code; and environment variables.
Example: ``To see how <CODE>mysqladmin</CODE> works, invoke it with the
<CODE>--help</CODE> option.''

<DT><TT>`filename'</TT>
<DD>
Constant-width font with surrounding quotes is used for filenames and
pathnames.  Example: ``The distribution is installed under the
<TT>`/usr/local/'</TT> directory.''

<DT><SAMP>`c'</SAMP>
<DD>
Constant-width font with surrounding quotes is also used to indicate
character sequences.  Example: ``To specify a wild card, use the <SAMP>`%'</SAMP>
character.''

<DT><EM>italic</EM>
<DD>
Italic font is used for emphasis, <EM>like this</EM>.

<DT><STRONG>boldface</STRONG>
<DD>
Boldface font is used for access privilege names (for example, ``do not grant
the <STRONG>process</STRONG> privilege lightly'') and occasionally to convey
<STRONG>especially strong emphasis</STRONG>.
</DL>

<P>
When commands are shown that are meant to be executed by a particular
program, the program is indicated by a prompt shown before the command.  For
example, <CODE>shell&#62;</CODE> indicates a command that you execute from your login
shell, and <CODE>mysql&#62;</CODE> indicates a command that you execute from the
<CODE>mysql</CODE> client program:

</P>

<PRE>
shell&#62; type a shell command here
mysql&#62; type a mysql command here
</PRE>

<P>
Shell commands are shown using Bourne shell syntax.  If you are using a
<CODE>csh</CODE>-style shell, you may need to issue commands slightly differently.
For example, the sequence to set an environment variable and run a command
looks like this in Bourne shell syntax:

</P>

<PRE>
shell&#62; VARNAME=value some_command
</PRE>

<P>
<A NAME="IDX32"></A>
<A NAME="IDX33"></A>

</P>
<P>
For <CODE>csh</CODE>, you would execute the sequence like this:

</P>

<PRE>
shell&#62; setenv VARNAME value
shell&#62; some_command
</PRE>

<P>
Often database, table, and column names must be substituted into commands.  To
indicate that such substitution is necessary, this manual uses
<CODE>db_name</CODE>, <CODE>tbl_name</CODE> and <CODE>col_name</CODE>.  For example, you might
see a statement like this:

</P>

<PRE>
mysql&#62; SELECT col_name FROM db_name.tbl_name;
</PRE>

<P>
This means that if you were to enter a similar statement, you would supply
your own database, table, and column names, perhaps like this:

</P>

<PRE>
mysql&#62; SELECT author_name FROM biblio_db.author_list;
</PRE>

<P>
SQL statements may be written in uppercase or lowercase.  When this manual
shows a SQL statement, uppercase is used for particular keywords if those
keywords are under discussion (to emphasize them) and lowercase is used for
the rest of the statement.  For example, you might see the following in a
discussion of the <CODE>SELECT</CODE> statement:

</P>

<PRE>
mysql&#62; SELECT count(*) FROM tbl_name;
</PRE>

<P>
On the other hand, in a discussion of the <CODE>COUNT()</CODE> function, the
same statement would be written like this:

</P>

<PRE>
mysql&#62; select COUNT(*) from tbl_name;
</PRE>

<P>
If no particular emphasis is intended, all keywords are written uniformly
in uppercase.

</P>
<P>
In syntax descriptions, square brackets (<SAMP>`['</SAMP> and <SAMP>`]'</SAMP>) are used
to indicate optional words or clauses:

</P>

<PRE>
DROP TABLE [IF EXISTS] tbl_name
</PRE>

<P>
When a syntax element consists of a number of alternatives, the alternatives
are separated by vertical bars (<SAMP>`|'</SAMP>).  When one member from a set of
choices <STRONG>may</STRONG> be chosen, the alternatives are listed within square
brackets (<SAMP>`['</SAMP> and <SAMP>`]'</SAMP>):

</P>

<PRE>
TRIM([[BOTH | LEADING | TRAILING] [remstr] FROM] str)
</PRE>

<P>
When one member from a set of choices <STRONG>must</STRONG> be chosen, the
alternatives are listed within braces (<SAMP>`{'</SAMP> and <SAMP>`}'</SAMP>):

</P>

<PRE>
{DESCRIBE | DESC} tbl_name {col_name | wild}
</PRE>



<H3><A NAME="History" HREF="manual_toc.html#History">1.1.5  History of MySQL</A></H3>

<P>
<A NAME="IDX34"></A>
<A NAME="IDX35"></A>
<A NAME="IDX36"></A>
<A NAME="IDX37"></A>

</P>
<P>
We once started out with the intention of using <CODE>mSQL</CODE> to connect to our
tables using our own fast low-level (ISAM) routines. However, after some
testing we came to the conclusion that <CODE>mSQL</CODE> was not fast enough nor
flexible enough for our needs.  This resulted in a new SQL interface to our
database but with almost the same API interface as <CODE>mSQL</CODE>.  This API was
chosen to ease porting of third-party code.

</P>
<P>
The derivation of the name MySQL is not perfectly clear.  Our base
directory and a large number of our libraries and tools have had the prefix
``my'' for well over 10 years.  However, Monty's daughter (some years younger)
is also named My.  Which of the two gave its name to MySQL is
still a mystery, even for us.

</P>



<H3><A NAME="Features" HREF="manual_toc.html#Features">1.1.6  The Main Features of MySQL</A></H3>

<P>
<A NAME="IDX38"></A>
<A NAME="IDX39"></A>

</P>
<P>
The following list describes some of the important characteristics
of MySQL:

</P>

<UL>
<LI>

Fully multi-threaded using kernel threads.  This means it can easily
use multiple CPUs if available.

<LI>

C, C++, Eiffel, Java, Perl, PHP, Python and Tcl APIs.  See section <A HREF="manual.html#Clients">8  MySQL APIs</A>.

<LI>

Works on many different platforms.  See section <A HREF="manual.html#Which_OS">2.2.2  Operating Systems Supported by MySQL</A>.

<LI>

Many column types: signed/unsigned integers 1, 2, 3, 4, and 8 bytes
long, <CODE>FLOAT</CODE>, <CODE>DOUBLE</CODE>, <CODE>CHAR</CODE>, <CODE>VARCHAR</CODE>,
<CODE>TEXT</CODE>, <CODE>BLOB</CODE>, <CODE>DATE</CODE>, <CODE>TIME</CODE>, <CODE>DATETIME</CODE>,
<CODE>TIMESTAMP</CODE>, <CODE>YEAR</CODE>, <CODE>SET</CODE>, and <CODE>ENUM</CODE> types. 
See section <A HREF="manual.html#Column_types">6.2  Column Types</A>.

<LI>

Very fast joins using an optimized one-sweep multi-join.

<LI>

Full operator and function support in the <CODE>SELECT</CODE> and <CODE>WHERE</CODE>
parts of queries.  For example:


<PRE>
mysql&#62; SELECT CONCAT(first_name, " ", last_name) FROM tbl_name
           WHERE income/dependents &#62; 10000 AND age &#62; 30;
</PRE>

<LI>

SQL functions are implemented through a highly optimized class library and
should be as fast as possible!  Usually there isn't any memory allocation 
at all after query initialization.

<LI>

Full support for SQL <CODE>GROUP BY</CODE> and <CODE>ORDER BY</CODE> clauses.  Support 
for group functions (<CODE>COUNT()</CODE>, <CODE>COUNT(DISTINCT ...)</CODE>, 
<CODE>AVG()</CODE>, <CODE>STD()</CODE>, <CODE>SUM()</CODE>, <CODE>MAX()</CODE> and <CODE>MIN()</CODE>).

<LI>

Support for <CODE>LEFT OUTER JOIN</CODE> and <CODE>RIGHT OUTER JOIN</CODE> with ANSI
SQL and ODBC syntax.

<LI>

You can mix tables from different databases in the same query (as of
Version 3.22).

<LI>

A privilege and password system that is very flexible and secure, and
allows host-based verification.  Passwords are secure because all
password traffic is encrypted when you connect to a server.

<LI>

ODBC (Open-DataBase-Connectivity) support for Win32 (with source).  All
ODBC 2.5 functions and many others.  For example, you can use MS Access to
connect to your MySQL server.  See section <A HREF="manual.html#ODBC">8.3  MySQL ODBC Support</A>.

<LI>

Very fast B-tree disk tables with index compression.

<LI>

Up to 32 indexes per table are allowed.  Each index may consist of 1 to 16
columns or parts of columns.  The maximum index length is 500 bytes (this
may be changed when compiling MySQL).  An index may use a prefix
of a <CODE>CHAR</CODE> or <CODE>VARCHAR</CODE> field.

<LI>

Fixed-length and variable-length records.

<LI>

In-memory hash tables which are used as temporary tables.

<LI>

Handles large databases.  We are using MySQL with some
databases that contain 50,000,000 records and we know of users that
uses MySQL with 60,000 tables and about 5,000,000,000 rows

<LI>

<A NAME="IDX40"></A>
All columns have default values.
You can use <CODE>INSERT</CODE> to insert a subset of a table's columns; those
columns that are not explicitly given values are set to their default
values.

<LI>

Uses GNU Automake, Autoconf, and Libtool for portability.

<LI>

Written in C and C++.  Tested with a broad range of different compilers.

<LI>

A very fast thread-based memory allocation system.

<LI>

No memory leaks.  MySQL has been tested with Purify, a commercial
memory leakage detector.

<LI>

Includes <CODE>myisamchk</CODE>, a very fast utility for table checking,
optimization, and repair.  All of the functionality of <CODE>myisamchk</CODE>
is also available through the SQL interface as well.  
See section <A HREF="manual.html#MySQL_Database_Administration">4  MySQL Database Administration</A>.

<LI>

Full support for several different character sets, including
ISO-8859-1 (Latin1), german, big5, ujis, and more.  For example, the
Scandinavian characters `@ringaccent{a}', `@"a' and `@"o' are allowed
in table and column names.

<LI>

All data are saved in the chosen character set.  All comparisons for normal
string columns are case insensitive.

<LI>

Sorting is done according to the chosen character set (the Swedish
way by default).  It is possible to change this when the MySQL server
is started up.  To see an example of very advanced sorting, look at the
Czech sorting code.  MySQL supports many different character sets
that can be specified at compile and run time.

<LI>

Aliases on tables and columns are allowed as in the SQL92 standard.

<LI>

<CODE>DELETE</CODE>, <CODE>INSERT</CODE>, <CODE>REPLACE</CODE>, and <CODE>UPDATE</CODE> return
the number of rows that were changed (affected).  It is possible to return
the number of rows matched instead by setting a flag when connecting to the
server.

<LI>

Function names do not clash with table or column names.  For example, 
<CODE>ABS</CODE> is a valid column name.  The only restriction is that for a 
function call, no spaces are allowed between the function name and the 
<SAMP>`('</SAMP> that follows it.  See section <A HREF="manual.html#Reserved_words">6.1.6  Is MySQL Picky About Reserved Words?</A>.

<LI>

All MySQL programs can be invoked with the <CODE>--help</CODE> or <CODE>-?</CODE>
options to obtain online assistance.

<LI>

The server can provide error messages to clients in many languages. 
See section <A HREF="manual.html#Languages">4.6.2  Non-English Error Messages</A>.

<LI>

Clients may connect to the MySQL server using TCP/IP Sockets,
Unix Sockets (Unix), or Named Pipes (NT).

<LI>

The MySQL-specific <CODE>SHOW</CODE> command can be used to retrieve
information about databases, tables, and indexes.  The <CODE>EXPLAIN</CODE> command
can be used to determine how the optimizer resolves a query.
</UL>



<H3><A NAME="Stability" HREF="manual_toc.html#Stability">1.1.7  How Stable Is MySQL?</A></H3>

<P>
<A NAME="IDX41"></A>

</P>
<P>
This section addresses the questions ``How stable is MySQL?'' and 
``Can I depend on MySQL in this project?''  We will try to clarify
some issues and to answer some of the more important questions that seem to 
concern many people.  This section has been put together from information 
gathered from the mailing list (which is very active in reporting bugs).

</P>
<P>
At TcX, MySQL has worked without any problems in our projects since
mid-1996.  When MySQL was released to a wider public, we noticed that
there were some pieces of ``untested code'' that were quickly found by the
new users who made queries in a manner different than our own.  Each new
release has had fewer portability problems than the previous one (even though
each has had many new features).

</P>
<P>
Each release of MySQL has been usable, and there have been problems
only when users start to use code from the ``gray zones.''  Naturally, outside
users don't know what the gray zones are; this section attempts to indicate
those that are currently known.  The descriptions deal with Version 3.23
of MySQL.  All known and reported bugs are fixed in the latest 
version, with the exception of the bugs listed in the bugs section, which 
are things that are design-related.  See section <A HREF="manual.html#Bugs">1.4.7  Known errors and design deficiencies in MySQL</A>.

</P>
<P>
MySQL is written in multiple layers and different independent
modules.  These modules are listed below with an indication of how
well-tested each of them is:

</P>
<P>
<A NAME="IDX42"></A>

</P>
<DL COMPACT>

<DT><STRONG>The ISAM table handler -- Stable</STRONG>
<DD>
This manages storage and retrieval of all data in MySQL Version 3.22
and earlier.  In all MySQL releases there hasn't been a single 
(reported) bug in this code. The only known way to get a corrupted table 
is to kill the server in the middle of an update.  Even that is unlikely 
to destroy any data beyond rescue, because all data are flushed to disk 
between each query.  There hasn't been a single bug report about lost data 
because of bugs in MySQL.

<A NAME="IDX43"></A>
<A NAME="IDX44"></A>
<A NAME="IDX45"></A>
<A NAME="IDX46"></A>

<DT><STRONG>The MyISAM table handler -- Stable</STRONG>
<DD>
This is new in MySQL Version 3.23.  It's largely based on the ISAM
table code but has a lot of new and very useful features.

<DT><STRONG>The parser and lexical analyser -- Stable</STRONG>
<DD>
There hasn't been a single reported bug in this system for a long time.

<DT><STRONG>The C client code -- Stable</STRONG>
<DD>
No known problems.  In early Version 3.20 releases, there were some limitations
in the send/receive buffer size.  As of Version 3.21, the buffer size is now
dynamic up to a default of 16M.

<DT><STRONG>Standard client programs -- Stable</STRONG>
<DD>
These include <CODE>mysql</CODE>, <CODE>mysqladmin</CODE>, <CODE>mysqlshow</CODE>,
<CODE>mysqldump</CODE>, and <CODE>mysqlimport</CODE>.

<DT><STRONG>Basic SQL -- Stable</STRONG>
<DD>
The basic SQL function system and string classes and dynamic memory
handling.  Not a single reported bug in this system.

<DT><STRONG>Query optimizer -- Stable</STRONG>
<DD>
<DT><STRONG>Range optimizer -- Stable</STRONG>
<DD>
<DT><STRONG>Join optimizer -- Stable</STRONG>
<DD>
<DT><STRONG>Locking -- Gamma</STRONG>
<DD>
This is very system-dependent.  On some systems there are big problems
using standard OS locking (<CODE>fcntl()</CODE>).  In these cases, you should run the
MySQL daemon with the <CODE>--skip-locking</CODE> flag.  Problems are known
to occur on some Linux systems, and on SunOS when using NFS-mounted file
systems.

<DT><STRONG>Linux threads -- Stable</STRONG>
<DD>
The major problem found has been with the <CODE>fcntl()</CODE> call, which is
fixed by using the <CODE>--skip-locking</CODE> option to
<CODE>mysqld</CODE>.  Some people have reported lockup problems with Version 0.5.
LinuxThreads will need to be recompiled if you plan to use
1000+ concurrent connections.  Although it is possible to run that many
connections with the default LinuxThreads (however, you will never go
above 1021), the default stack spacing of 2 MB makes the application
unstable, and we have been able to reproduce a coredump after creating
1021 idle connections.  See section <A HREF="manual.html#Linux">2.6.1  Linux Notes (All Linux Versions)</A>.

<DT><STRONG>Solaris 2.5+ pthreads -- Stable</STRONG>
<DD>
We use this for all our production work.

<DT><STRONG>MIT-pthreads (Other systems) -- Stable</STRONG>
<DD>
There have been no reported bugs since Version 3.20.15 and no known bugs since
Version 3.20.16.  On some systems, there is a ``misfeature'' where some
operations are quite slow (a 1/20 second sleep is done between each query).
Of course, MIT-pthreads may slow down everything a bit, but index-based
<CODE>SELECT</CODE> statements are usually done in one time frame so there shouldn't
be a mutex locking/thread juggling.

<DT><STRONG>Other thread implementions -- Beta - Gamma</STRONG>
<DD>
The ports to other systems are still very new and may have bugs, possibly
in MySQL, but most often in the thread implementation itself.

<DT><STRONG><CODE>LOAD DATA ...</CODE>, <CODE>INSERT ... SELECT</CODE> -- Stable</STRONG>
<DD>
Some people thought they had found bugs here, but these usually have
turned out to be misunderstandings.  Please check the manual before reporting
problems!

<DT><STRONG><CODE>ALTER TABLE</CODE> -- Stable</STRONG>
<DD>
Small changes in Version 3.22.12.

<DT><STRONG>DBD -- Stable</STRONG>
<DD>
Now maintained by Jochen Wiedmann 
(<a HREF="mailto:wiedmann@neckar-alb.de">wiedmann@neckar-alb.de</a>).  Thanks!

<DT><STRONG><CODE>mysqlaccess</CODE> -- Stable</STRONG>
<DD>
Written and maintained by Yves Carlier 
(<a HREF="mailto:Yves.Carlier@rug.ac.be">Yves.Carlier@rug.ac.be</a>). Thanks!

<DT><STRONG><CODE>GRANT</CODE> -- Stable</STRONG>
<DD>
Big changes made in MySQL Version 3.22.12.

<DT><STRONG><STRONG>MyODBC</STRONG> (uses ODBC SDK 2.5) -- Gamma</STRONG>
<DD>
It seems to work well with some programs.

<DT><STRONG>Replication -- Beta / Gamma</STRONG>
<DD>
We are still working on replication, so don't expect this to be rock
solid yet.  On the other hand, some MySQL users are already
using this with good results.

<DT><STRONG>BDB Tables -- Beta</STRONG>
<DD>
The Berkeley DB code is very stable, but we are still improving the interface
between MySQL and BDB tables, so it will take some time before this
is tested as well as the other table types.

<DT><STRONG>InnoDB Tables -- Beta</STRONG>
<DD>
This is a recent addition to <CODE>MySQL</CODE>. They appear to work well and
can be used after some initial testing.

<DT><STRONG>Automatic recovery of MyISAM tables - Beta</STRONG>
<DD>
This only affects the new code that checks if the table was closed properly
on open and executes an automatic check/repair of the table if it wasn't.

<DT><STRONG>MERGE tables -- Beta / Gamma</STRONG>
<DD>
The usage of keys on <CODE>MERGE</CODE> tables is still not well tested.  The
other parts of the <CODE>MERGE</CODE> code are quite well tested.

<DT><STRONG>FULLTEXT -- Beta</STRONG>
<DD>
Text search seems to work, but is still not widely used.

</DL>

<P>
MySQL AB provides high-quality support for paying customers, but the 
MySQL mailing list usually provides answers to common questions.
Bugs are usually fixed right away with a patch; for serious bugs, there is
almost always a new release.

</P>



<H3><A NAME="Table_size" HREF="manual_toc.html#Table_size">1.1.8  How Big Can MySQL Tables Be?</A></H3>

<P>
<A NAME="IDX47"></A>
<A NAME="IDX48"></A>
<A NAME="IDX49"></A>
<A NAME="IDX50"></A>
<A NAME="IDX51"></A>

</P>
<P>
MySQL Version 3.22 has a 4G limit on table size. With the new
<CODE>MyISAM</CODE> in MySQL Version 3.23 the maximum table size is
pushed up to 8 million terabytes (2 ^ 63 bytes).

</P>
<P>
Note, however, that operating systems have their own file size
limits. Here are some examples:

</P>
<TABLE BORDER WIDTH="100%">
<TR><TD><STRONG>Operating System</STRONG> </TD><TD> <STRONG>File Size Limit</STRONG>
</TD></TR>
<TR><TD>Linux-Intel 32 bit </TD><TD> 2G, 4G or more, depends on Linux version
</TD></TR>
<TR><TD>Linux-Alpha </TD><TD> 8T (?)
</TD></TR>
<TR><TD>Solaris 2.5.1 </TD><TD> 2G (possible 4G with patch)
</TD></TR>
<TR><TD>Solaris 2.6 </TD><TD> 4G
</TD></TR>
<TR><TD>Solaris 2.7 Intel </TD><TD> 4G
</TD></TR>
<TR><TD>Solaris 2.7 ULTRA-SPARC </TD><TD> 8T (?)
</TD></TR>
</TABLE>

<P>
On Linux 2.2 you can get bigger tables than 2G by using the LFS patch for
the ext2 file system.  On Linux 2.4 there exists also patches for ReiserFS
to get support for big files.

</P>
<P>
This means that the table size for MySQL is normally limited by
the operating system.

</P>
<P>
By default, MySQL tables have a maximum size of about 4G.  You can
check the maximum table size for a table with the <CODE>SHOW TABLE STATUS</CODE>
command or with the <CODE>myisamchk -dv table_name</CODE>.
See section <A HREF="manual.html#SHOW">4.5.5  <CODE>SHOW</CODE> Syntax</A>.

</P>
<P>
If you need bigger tables than 4G (and your operating system supports
this), you should set the <CODE>AVG_ROW_LENGTH</CODE> and <CODE>MAX_ROWS</CODE>
parameter when you create your table.  See section <A HREF="manual.html#CREATE_TABLE">6.5.3  <CODE>CREATE TABLE</CODE> Syntax</A>.  You can
also set these later with <CODE>ALTER TABLE</CODE>. See section <A HREF="manual.html#ALTER_TABLE">6.5.4  <CODE>ALTER TABLE</CODE> Syntax</A>.

</P>
<P>
If your big table is going to be read-only, you could use
<CODE>myisampack</CODE> to merge and compress many tables to one.
<CODE>myisampack</CODE> usually compresses a table by at least 50%, so you can
have, in effect, much bigger tables.  See section <A HREF="manual.html#myisampack">4.7.4  myisampack, The MySQL Compressed Read-only Table Generator</A>.

</P>
<P>
You can go around the operating system file limit for <CODE>MyISAM</CODE> data
files by using the <CODE>RAID</CODE> option. See section <A HREF="manual.html#CREATE_TABLE">6.5.3  <CODE>CREATE TABLE</CODE> Syntax</A>.

</P>
<P>
Another solution can be the included MERGE library, which allows you to
handle a collection of identical tables as one. See section <A HREF="manual.html#MERGE">7.2  MERGE Tables</A>.

</P>



<H3><A NAME="Year_2000_compliance" HREF="manual_toc.html#Year_2000_compliance">1.1.9  Year 2000 Compliance</A></H3>

<P>
<A NAME="IDX52"></A>
<A NAME="IDX53"></A>
<A NAME="IDX54"></A>

</P>
<P>
MySQL itself has no problems with Year 2000 (Y2K) compliance:

</P>

<UL>
<LI>

MySQL uses Unix time functions and has no problems with dates
until <CODE>2069</CODE>; all 2-digit years are regarded to be in the range
<CODE>1970</CODE> to <CODE>2069</CODE>, which means that if you store <CODE>01</CODE> in a
<CODE>year</CODE> column, MySQL treats it as <CODE>2001</CODE>.

<LI>

All MySQL date functions are stored in one file <TT>`sql/time.cc'</TT>
and coded very carefully to be year 2000-safe.

<LI>

In MySQL Version 3.22 and later, the new <CODE>YEAR</CODE> column type
can store years <CODE>0</CODE> and <CODE>1901</CODE> to <CODE>2155</CODE> in 1 byte and display
them using 2 or 4 digits.
</UL>

<P>
You may run into problems with applications that use MySQL in a
way that is not Y2K-safe.  For example, many old applications store
or manipulate years using 2-digit values (which are ambiguous) rather than
4-digit values.  This problem may be compounded by applications that use
values such as <CODE>00</CODE> or <CODE>99</CODE> as ``missing'' value indicators.

</P>
<P>
Unfortunately, these problems may be difficult to fix, because different
applications may be written by different programmers, each of whom may
use a different set of conventions and date-handling functions.

</P>
<P>
Here is a simple demonstration illustrating that MySQL doesn't have
any problems with dates until the year 2030:

</P>

<PRE>
mysql&#62; DROP TABLE IF EXISTS y2k;
Query OK, 0 rows affected (0.01 sec)

mysql&#62; CREATE TABLE y2k (date date, date_time datetime, time_stamp timestamp);
Query OK, 0 rows affected (0.00 sec)

mysql&#62; INSERT INTO y2k VALUES 
    -&#62; ("1998-12-31","1998-12-31 23:59:59",19981231235959),
    -&#62; ("1999-01-01","1999-01-01 00:00:00",19990101000000),
    -&#62; ("1999-09-09","1999-09-09 23:59:59",19990909235959),
    -&#62; ("2000-01-01","2000-01-01 00:00:00",20000101000000),
    -&#62; ("2000-02-28","2000-02-28 00:00:00",20000228000000),
    -&#62; ("2000-02-29","2000-02-29 00:00:00",20000229000000),
    -&#62; ("2000-03-01","2000-03-01 00:00:00",20000301000000),
    -&#62; ("2000-12-31","2000-12-31 23:59:59",20001231235959),
    -&#62; ("2001-01-01","2001-01-01 00:00:00",20010101000000),
    -&#62; ("2004-12-31","2004-12-31 23:59:59",20041231235959),
    -&#62; ("2005-01-01","2005-01-01 00:00:00",20050101000000),
    -&#62; ("2030-01-01","2030-01-01 00:00:00",20300101000000),
    -&#62; ("2050-01-01","2050-01-01 00:00:00",20500101000000);
Query OK, 13 rows affected (0.01 sec)
Records: 13  Duplicates: 0  Warnings: 0

mysql&#62; SELECT * FROM y2k;
+------------+---------------------+----------------+
| date       | date_time           | time_stamp     |
+------------+---------------------+----------------+
| 1998-12-31 | 1998-12-31 23:59:59 | 19981231235959 |
| 1999-01-01 | 1999-01-01 00:00:00 | 19990101000000 |
| 1999-09-09 | 1999-09-09 23:59:59 | 19990909235959 |
| 2000-01-01 | 2000-01-01 00:00:00 | 20000101000000 |
| 2000-02-28 | 2000-02-28 00:00:00 | 20000228000000 |
| 2000-02-29 | 2000-02-29 00:00:00 | 20000229000000 |
| 2000-03-01 | 2000-03-01 00:00:00 | 20000301000000 |
| 2000-12-31 | 2000-12-31 23:59:59 | 20001231235959 |
| 2001-01-01 | 2001-01-01 00:00:00 | 20010101000000 |
| 2004-12-31 | 2004-12-31 23:59:59 | 20041231235959 |
| 2005-01-01 | 2005-01-01 00:00:00 | 20050101000000 |
| 2030-01-01 | 2030-01-01 00:00:00 | 20300101000000 |
| 2050-01-01 | 2050-01-01 00:00:00 | 00000000000000 |
+------------+---------------------+----------------+
13 rows in set (0.00 sec)

</PRE>

<P>
This shows that the <CODE>DATE</CODE> and <CODE>DATETIME</CODE> types will not
give any problems with future dates (they handle dates until the year
9999).

</P>
<P>
The <CODE>TIMESTAMP</CODE> type, which is used to store the current time, has a
range up to only <CODE>2030-01-01</CODE>.  <CODE>TIMESTAMP</CODE> has a range of
<CODE>1970</CODE> to <CODE>2030</CODE> on 32-bit machines (signed value).  On 64-bit
machines it handles times up to <CODE>2106</CODE> (unsigned value).

</P>
<P>
Even though MySQL is Y2K-compliant, it is your responsibility to
provide unambiguous input.  See section <A HREF="manual.html#Y2K_issues">6.2.2.1  Y2K Issues and Date Types</A> for MySQL's rules
for dealing with ambiguous date input data (data containing 2-digit year
values).

</P>



<H2><A NAME="MySQL_Information_Sources" HREF="manual_toc.html#MySQL_Information_Sources">1.2  MySQL Information Sources</A></H2>

<P>
<A NAME="IDX55"></A>
<A NAME="IDX56"></A>

</P>



<H3><A NAME="MySQL-Books" HREF="manual_toc.html#MySQL-Books">1.2.1  Books About MySQL</A></H3>

<P>
For the latest book information, with user comments, please visit
<a HREF="http://www.mysql.com/portal/books/html/index.html">http://www.mysql.com/portal/books/html/index.html</a>.

</P>
<P>
While this manual is still the right place for up to date technical
information, its primary goal is to contain everything there is to know
about MySQL.  It is sometimes nice to have a bound book to read
in bed or while you travel.  Here is a list of books about MySQL and
related subjects (in English).

</P>
<P>
By purchasing a book through these hyperlinks provided herein, you are
contributing to the development of MySQL.

</P>
<P>
<EM>MySQL</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=0735709211&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> New Riders
</TD></TR>
<TR><TD>Author </TD><TD> Paul DuBois
</TD></TR>
<TR><TD>Pub Date </TD><TD> 1st Edition December 1999
</TD></TR>
<TR><TD>ISBN </TD><TD> 0735709211
</TD></TR>
<TR><TD>Pages </TD><TD> 800
</TD></TR>
<TR><TD>Price </TD><TD> $49.99 US
</TD></TR>
<TR><TD>Downloadable examples </TD><TD>
 <a HREF="http://www.kitebird.com/mysql-book/"> <CODE>samp_db</CODE> distribution</a>
</TD></TR>
<TR><TD>Errata </TD><TD>
<a HREF="http://www.kitebird.com/mysql-book/errata.html"> are available here</a>
</TD></TR>
</TABLE>

</P>
<P>
Foreword by Michael ``Monty'' Widenius, MySQL Moderator.
<BR>

</P>
<P>
In <EM>MySQL</EM>, Paul DuBois provides you with a comprehensive guide to
one of the most popular relational database systems.  Paul has
contributed to the online documentation for MySQL and is an
active member of the MySQL community.  The principal MySQL
developer, Monty Widenius, and a network of his fellow developers
reviewed the manuscript, and provided Paul with the kind of insight
no one else could supply.
<BR>

</P>
<P>
Instead of merely giving you a general overview of MySQL, Paul
teaches you how to make the most of its capabilities.  Through two
sample database applications that run throughout the book, he
gives you solutions to problems you're sure to face.  He helps you
integrate MySQL efficiently with third-party tools, such as PHP
and Perl, enabling you to generate dynamic Web pages through
database queries.  He teaches you to write programs that access
MySQL databases, and also provides a comprehensive set of
references to column types, operators, functions, SQL syntax,
MySQL programming, C API, Perl <CODE>DBI</CODE>, and PHP API.
<EM>MySQL</EM> simply gives you the kind of information you won't find
anywhere else.
<BR>

</P>
<P>
If you use MySQL, this book provides you with:

<UL>
<LI>

An introduction to MySQL and SQL.
<LI>

Coverage of MySQL's data types and how to use them.
<LI>

Thorough treatment of how to write client programs in C.
<LI>

A guide to using the Perl <CODE>DBI</CODE> and PHP APIs for developing
command-line and Web-based applications.
<LI>

Tips on administrative issues such as user accounts, backup,
crash recovery, and security.
<LI>

Help in choosing an ISP for MySQL access.
<LI>

A comprehensive reference for MySQL's data types, operators,
functions, and SQL statements and utilities.
<LI>

Complete reference guides for MySQL's C API, the Perl <CODE>DBI</CODE> API,
and PHP's MySQL-related functions.
</UL>

<P>
<BR>

</P>
<P>
<EM>MySQL &#38; mSQL</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=1565924347&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> O'Reilly
</TD></TR>
<TR><TD>Authors </TD><TD> Randy Jay Yarger, George Reese &#38; Tim King
</TD></TR>
<TR><TD>Pub Date </TD><TD> 1st Edition July 1999
</TD></TR>
<TR><TD>ISBN </TD><TD> 1-56592-434-7, Order Number: 4347
</TD></TR>
<TR><TD>Pages </TD><TD> 506
</TD></TR>
<TR><TD>Price </TD><TD> $34.95
</TD></TR>
</TABLE>

</P>
<P>
This book teaches you how to use MySQL and <CODE>mSQL</CODE>, two popular
and robust database products that support key subsets of SQL on both Linux
and Unix systems.  Anyone who knows basic C, Java, Perl, or Python can
write a program to interact with a database, either as a stand-alone
application or through a Web page.  This book takes you through the
whole process, from installation and configuration to programming
interfaces and basic administration.  Includes plenty of tutorial
material.
<BR>

</P>
<P>
<EM>Sams' Teach Yourself MySQL in 21 Days</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=0672319144&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> Sams
</TD></TR>
<TR><TD>Authors </TD><TD> Mark Maslakowski and Tony Butcher
</TD></TR>
<TR><TD>Pub Date </TD><TD> June 2000
</TD></TR>
<TR><TD>ISBN </TD><TD> 0672319144
</TD></TR>
<TR><TD>Pages </TD><TD> 650
</TD></TR>
<TR><TD>Price </TD><TD> $39.99
</TD></TR>
</TABLE>

</P>
<P>
Sams' <EM>Teach Yourself MySQL in 21 Days</EM> is for intermediate Linux users
who want to move into databases.  A large share of the audience is Web 
developers who need a database to store large amounts of information that 
can be retrieved via the Web.

</P>
<P>
Sams' <EM>Teach Yourself MySQL in 21 Days</EM> is a practical, step-by-step
tutorial.  The reader will learn to design and employ this open source
database technology into his or her Web site using practical, hands-on 
examples to follow.
<BR>

</P>
<P>
<EM>E-Commerce Solutions with MySQL</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=0761524452&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> Prima Communications, Inc.
</TD></TR>
<TR><TD>Authors </TD><TD> N/A
</TD></TR>
<TR><TD>Pub Date </TD><TD> January 2000
</TD></TR>
<TR><TD>ISBN </TD><TD> 0761524452
</TD></TR>
<TR><TD>Pages </TD><TD> 500
</TD></TR>
<TR><TD>Price </TD><TD> $39.99
</TD></TR>
</TABLE>

</P>
<P>
No description available.
<BR>

</P>
<P>
<EM>MySQL and PHP from Scratch</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=0789724405&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> Que
</TD></TR>
<TR><TD>Authors </TD><TD> N/A
</TD></TR>
<TR><TD>Pub Date </TD><TD> September 2000
</TD></TR>
<TR><TD>ISBN </TD><TD> 0789724405
</TD></TR>
<TR><TD>Pages </TD><TD> 550
</TD></TR>
<TR><TD>Price </TD><TD> $34.99
</TD></TR>
</TABLE>

</P>
<P>
This book puts together information on installing, setting up, and
troubleshooting Apache, MySQL, PHP3, and IMP into one complete
volume.  You also learn how each piece is part of a whole by learning,
step-by-step, how to create a web-based e-mail system.  Learn to run
the equivalent of Active Server Pages (ASP) using PHP3, set up an
e-commerce site using a database and the Apache web server, and create
a data entry system (such as sales, product quality tracking, customer
preferences, etc) that no installation in the PC.
<BR>

</P>
<P>
<EM>Professional MySQL Programming</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://shop.barnesandnoble.com/bookSearch/isbnInquiry.asp?isbn=1861005164"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> Wrox Press, Inc.
</TD></TR>
<TR><TD>Authors </TD><TD> N/A
</TD></TR>
<TR><TD>Pub Date </TD><TD> Late 2001
</TD></TR>
<TR><TD>ISBN </TD><TD> 1861005164
</TD></TR>
<TR><TD>Pages </TD><TD> 1000
</TD></TR>
<TR><TD>Price </TD><TD> $49.99
</TD></TR>
</TABLE>

</P>
<P>
No description available.
<BR>

</P>
<P>
<EM>Professional Linux Programming</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=1861003013&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> Wrox Press, Inc.
</TD></TR>
<TR><TD>Authors </TD><TD> N/A
</TD></TR>
<TR><TD>Pub Date </TD><TD> September 2000
</TD></TR>
<TR><TD>ISBN </TD><TD> 1861003013
</TD></TR>
<TR><TD>Pages </TD><TD> 1155
</TD></TR>
<TR><TD>Price </TD><TD> $47.99
</TD></TR>
</TABLE>

</P>
<P>
In this follow-up to the best-selling <EM>Beginning Linux Programming</EM>,
you will learn from the authors' real-world knowledge and experience of
developing software for Linux; you'll be taken through the development
of a sample 'DVD Store' application, with 'theme' chapters addressing
different aspects of its implementation.  Meanwhile, individual
``take-a-break'' chapters cover important topics that go beyond the
bounds of the central theme.  All focus on the practical aspects of
programming, showing how crucial it is to choose the right tools for
the job, use them as they should be used, and get things right first
time.
<BR>

</P>
<P>
<EM>PHP and MySQL Web Development</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=0672317842&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> Sams
</TD></TR>
<TR><TD>Authors </TD><TD> Luke Welling, Laura Thomson
</TD></TR>
<TR><TD>Pub Date </TD><TD> March 2001
</TD></TR>
<TR><TD>ISBN </TD><TD> 0672317842
</TD></TR>
<TR><TD>Pages </TD><TD> 700
</TD></TR>
<TR><TD>Price </TD><TD> $49.99
</TD></TR>
</TABLE>

</P>
<P>
<EM>PHP and MySQL Web Development</EM> introduces you to the advantages
of implementing both MySQL and PHP.  These advantages are detailed
through the provision of both statistics and several case studies.  A
practical web application is developed throughout the book, providing
you with the tools necessary to implement a functional online
database.  Each function is developed separately, allowing you the
choice to incorporate only those parts that you would like to
implement.  Programming concepts of the PHP language are highlighted,
including functions which tie MySQL support into a PHP script and
advanced topics regarding table manipulation.
<BR>

</P>
<P>
<STRONG>Books recommended by the MySQL Developers</STRONG>

</P>
<P>
<EM>SQL-99 Complete, Really</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=0879305681&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> CMP Books
</TD></TR>
<TR><TD>Authors </TD><TD> Peter Gulutzan, Trudy Pelzer
</TD></TR>
<TR><TD>Pub Date </TD><TD> April 1999
</TD></TR>
<TR><TD>ISBN </TD><TD> 0879305681
</TD></TR>
<TR><TD>Pages </TD><TD> 1104
</TD></TR>
<TR><TD>Price </TD><TD> $55.96
</TD></TR>
</TABLE>

</P>
<P>
This book contains complete descriptions of the new standards for
syntax, data structures, and retrieval processes of SQL databases.  As
an example-based reference manual, it includes all of the CLI
functions, information, schema tables, and status codes, as well as a
working SQL database provided on the companion disk.
<BR>

</P>
<P>
<EM>C, A reference manual</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=0133262243&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> Prentice Hall
</TD></TR>
<TR><TD>Authors </TD><TD> Samuel P. Harbison, Guy L. Steele
</TD></TR>
<TR><TD>Pub Date </TD><TD> September 1994
</TD></TR>
<TR><TD>ISBN </TD><TD> 0133262243
</TD></TR>
<TR><TD>Pages </TD><TD> 480
</TD></TR>
<TR><TD>Price </TD><TD> $35.99
</TD></TR>
</TABLE>

</P>
<P>
A new and improved revision of the bestselling C language
reference.  This manual introduces the notion of "Clean C", writing C
code that can be compiled as a C++ program, C programming style that
emphasizes correctness, portability, maintainability, and
incorporates the ISO C Amendment 1 (1994) which specifies new
facilities for writing portable, international programs in C.
<BR>

</P>
<P>
<EM>C++ for Real Programmers</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=0120499428&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> Academic Press, Incorporated
</TD></TR>
<TR><TD>Authors </TD><TD> Jeff Alger, Jim Keogh
</TD></TR>
<TR><TD>Pub Date </TD><TD> February 1998
</TD></TR>
<TR><TD>ISBN </TD><TD> 0120499428
</TD></TR>
<TR><TD>Pages </TD><TD> 388
</TD></TR>
<TR><TD>Price </TD><TD> $39.95
</TD></TR>
</TABLE>

</P>
<P>
<EM>C++ For Real Programmers</EM> bridges the gap between C++ as described
in beginner and intermediate-level books and C++ as it is practiced by
experts.  Numerous valuable techniques are described, organized into
three simple themes: indirection, class hierarchies, and memory
management.  It also provides in-depth coverage of template creation,
exception handling, pointers and optimization techniques.  The focus of
the book is on ANSI C++ and, as such, is compiler independent. 

</P>
<P>
<EM>C++ For Real Programmers</EM> is a revision of 
<EM>Secrets of the C++ Masters</EM> and includes a new appendix comparing C++ 
with Java.  The book comes with a 3.5" disk for Windows with source code.
<BR>

</P>
<P>
<EM>Algorithms in C</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=0201514257&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> Addison Wesley Longman, Inc.
</TD></TR>
<TR><TD>Authors </TD><TD> Robert Sedgewick
</TD></TR>
<TR><TD>Pub Date </TD><TD> April 1990
</TD></TR>
<TR><TD>ISBN </TD><TD> 0201514257
</TD></TR>
<TR><TD>Pages </TD><TD> 648
</TD></TR>
<TR><TD>Price </TD><TD> $45.75
</TD></TR>
</TABLE>

</P>
<P>
<EM>Algorithms in C</EM> describes a variety of algorithms in a number of
areas of interest, including: sorting, searching, string-processing, and
geometric, graph and mathematical algorithms.  The book emphasizes
fundamental techniques, providing readers with the tools to confidently 
implement, run, and debug useful algorithms.
<BR>

</P>
<P>
<EM>Multithreaded Programming with Pthreads</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=0136807291&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> Prentice Hall
</TD></TR>
<TR><TD>Authors </TD><TD> Bil Lewis, Daniel J. Berg
</TD></TR>
<TR><TD>Pub Date </TD><TD> October 1997
</TD></TR>
<TR><TD>ISBN </TD><TD> 0136807291
</TD></TR>
<TR><TD>Pages </TD><TD> 432
</TD></TR>
<TR><TD>Price </TD><TD> $34.95
</TD></TR>
</TABLE>

</P>
<P>
Based on the best-selling <EM>Threads Primer</EM>, 
<EM>Multithreaded Programming with Pthreads</EM> gives you a solid 
understanding of Posix threads: what they are, how they work, when to use 
them, and how to optimize them. It retains the clarity and humor of 
<EM>Threads Primer</EM>, but includes expanded comparisons to Win32 and OS/2
implementations.  Code examples tested on all of the major UNIX platforms 
are featured along with detailed explanations of how and why they use threads.
<BR>

</P>
<P>
<EM>Programming the PERL DBI: Database Programming with PERL</EM>
<TABLE BORDER WIDTH="100%">
<TR><TD>Available </TD><TD> <a HREF="http://service.bfast.com/bfast/click?bfmid=2181&#38;sourceid=34233559&#38;bfpid=1565926994&#38;bfmtype=book"> Barnes and Noble</a>
</TD></TR>
<TR><TD>Publisher </TD><TD> O'Reilly &#38; Associates, Incorporated
</TD></TR>
<TR><TD>Authors </TD><TD> Alligator Descartes, Tim Bunce
</TD></TR>
<TR><TD>Pub Date </TD><TD> February 2000
</TD></TR>
<TR><TD>ISBN </TD><TD> 1565926994
</TD></TR>
<TR><TD>Pages </TD><TD> 400
</TD></TR>
<TR><TD>Price </TD><TD> $27.96
</TD></TR>
</TABLE>

</P>
<P>
<EM>Programming the Perl DBI</EM> is coauthored by Alligator Descartes, one
of the most active members of the DBI community, and by Tim Bunce, the
inventor of DBI.  For the uninitiated, the book explains the architecture
of DBI and shows you how to write DBI-based programs.  For the experienced
DBI dabbler, this book explains DBI's nuances and the peculiarities of each
individual DBD.

</P>
<P>
The book includes:

<UL>
<LI>

An introduction to DBI and its design.
<LI>

How to construct queries and bind parameters.
<LI>

Working with database, driver, and statement handles.
<LI>

Debugging techniques.
<LI>

Coverage of each existing DBD.
<LI>

A complete reference to DBI.
</UL>

<P>
<BR>

</P>



<H3><A NAME="General-SQL" HREF="manual_toc.html#General-SQL">1.2.2  General SQL Information and Tutorials</A></H3>

<P>
The MySQL book portal is split into different sections to make it easy
to locate books for various purposes.
<a HREF="http://www.mysql.com/portal/books/html/index.html">http://www.mysql.com/portal/books/html/index.html</a>

</P>
<P>
Tutorials can be found at:
<a HREF="http://www.mysql.com/portal/development/html/development-61-1.html">http://www.mysql.com/portal/development/html/development-61-1.html</a>

</P>


<H3><A NAME="Useful_Links" HREF="manual_toc.html#Useful_Links">1.2.3  Useful MySQL-related Links</A></H3>

<P>
The MySQL development portal is the ultimate source of MySQL related
links. <a HREF="http://www.mysql.com/portal/development/html/index.html">http://www.mysql.com/portal/development/html/index.html</a>

</P>
<P>
Apart from the following links, you can find and download a lot of
MySQL programs, tools and APIs from the
<a HREF="http://www.mysql.com/Downloads/Contrib/"> Contrib directory</a>.
<A NAME="IDX57"></A>

</P>
<P>
<A NAME="IDX58"></A>
<A NAME="IDX59"></A>
MySQL


<P><STRONG>1.2.4  Tutorials and Manuals</STRONG></P>

</P>
<DL COMPACT>

<DT><a HREF="http://michael.bacarella.com/research/mysqlmyths.html"> MySQL Myths Debunked</a>
<DD>
MySQL used in the real world.

<DT><a HREF="http://www.4t2.com/mysql">http://www.4t2.com/mysql</a>
<DD>
Information about the German MySQL mailing list.

<DT><a HREF="http://www2.rent-a-database.de/mysql/">http://www2.rent-a-database.de/mysql/</a>
<DD>
MySQL handbook in German.

<DT><a HREF="http://www.bitmover.com:8888//home/bk/mysql">http://www.bitmover.com:8888//home/bk/mysql</a>
<DD>
Web access to the MySQL BitKeeper repository.

<DT><a HREF="http://www.analysisandsolutions.com/code/mybasic.htm">http://www.analysisandsolutions.com/code/mybasic.htm</a>
<DD>
Beginners MySQL Tutorial on how to install and set up
MySQL on a Windows machine.

<DT><a HREF="http://www.devshed.com/Server_Side/MySQL/">http://www.devshed.com/Server_Side/MySQL/</a>
<DD>
A lot of MySQL tutorials.

<DT><a HREF="http://mysql.hitstar.com/">http://mysql.hitstar.com/</a>
<DD>
MySQL manual in Chinese.

<DT><a HREF="http://www.linuxplanet.com/linuxplanet/tutorials/1046/1/">http://www.linuxplanet.com/linuxplanet/tutorials/1046/1/</a>
<DD>
Setting Up a MySQL-based Web site.

<DT><a HREF="http://www.hotwired.com/webmonkey/backend/tutorials/tutorial1.html">http://www.hotwired.com/webmonkey/backend/tutorials/tutorial1.html</a>
<DD>
MySQL-Perl tutorial.

<DT><a HREF="http://www.iserver.com/support/contrib/perl5/modules.html">http://www.iserver.com/support/contrib/perl5/modules.html</a>
<DD>
Installing new Perl modules that require locally installed modules.

<DT><a HREF="http://www.hotwired.com/webmonkey/databases/tutorials/tutorial4.html">http://www.hotwired.com/webmonkey/databases/tutorials/tutorial4.html</a>
<DD>
PHP/MySQL Tutorial.

<DT><a HREF="http://www.useractive.com/">http://www.useractive.com/</a>
<DD>
Hands on tutorial for MySQL.
</DL>


<H3>1.2.5  Porting MySQL/Using MySQL on Different Systems</H3>

<DL COMPACT>

<DT><a HREF="http://www.entropy.ch/software/macosx/mysql/">http://www.entropy.ch/software/macosx/mysql/</a>
<DD>
Binary of MySQL for Mac OS X Client.  Includes information of how to
build and use MySQL on Mac OS X.

<DT><a HREF="http://xclave.macnn.com/MySQL/">http://xclave.macnn.com/MySQL/</a>
<DD>
The Mac OS Xclave.  Running MySQL on Mac OS X.

<DT><a HREF="http://www.prnet.de/RegEx/mysql.html">http://www.prnet.de/RegEx/mysql.html</a>
<DD>
MySQL for Mac OS X Server.

<DT><a HREF="http://www.latencyzero.com/macosx/mysql.html">http://www.latencyzero.com/macosx/mysql.html</a>
<DD>
Building MySQL for Mac OS X.

<DT><a HREF="http://www.essencesw.com/Software/mysqllib.html">http://www.essencesw.com/Software/mysqllib.html</a>
<DD>
New Client libraries for the Mac OS Classic (Macintosh).

<DT><a HREF="http://www.lilback.com/macsql/">http://www.lilback.com/macsql/</a>
<DD>
Client libraries for Mac OS Classic (Macintosh).

<DT><a HREF="http://sixk.maniasys.com/index_en.html">http://sixk.maniasys.com/index_en.html</a>
<DD>
MySQL for Amiga
</DL>


<H3>1.2.6  Perl-related Links</H3>

<DL COMPACT>

<DT><a HREF="http://dbimysql.photoflux.com/">http://dbimysql.photoflux.com/</a>
<DD>
Perl DBI with MySQL FAQ.
</DL>


<H3>1.2.7  MySQL Discussion Forums</H3>

<DL COMPACT>

<DT><a HREF="http://www.weberdev.com/">http://www.weberdev.com/</a>
<DD>
Examples using MySQL; (check Top 20)

<DT><a HREF="http://futurerealm.com/forum/futureforum.htm">http://futurerealm.com/forum/futureforum.htm</a>
<DD>
FutureForum Web Discussion Software.
</DL>


<H3>1.2.8  Commercial Applications that Support MySQL</H3>

<DL COMPACT>

<DT><a HREF="http://www.supportwizard.com/">http://www.supportwizard.com/</a>
<DD>
SupportWizard; Interactive helpdesk on the Web. This product includes a
licensed copy of MySQL.

<DT><a HREF="http://www.sonork.com/">http://www.sonork.com/</a>
<DD>
Sonork,  Instant Messenger that is not only Internet oriented.  It's 
focused on private networks and on small to medium companies.  Client
is free, server is free for up to 5 seats.

<DT><a HREF="http://www.stweb.org/">http://www.stweb.org/</a>
<DD>
StWeb - Stratos Web and Application server - An easy-to-use, cross
platform, Internet/Intranet development and deployment system for
development of web-enabled applications.  The standard version of StWeb
has a native interface to MySQL database.

<DT><a HREF="http://www.rightnowtech.com/">http://www.rightnowtech.com/</a>
<DD>
Right Now Web; Web automation for customer service.

<DT><a HREF="http://www.icaap.org/Bazaar/">http://www.icaap.org/Bazaar/</a>
<DD>
Bazaar; Interactive Discussion Forums with Web interface.

<A NAME="IDX60"></A>
<DT><a HREF="http://www.phonesweep.com/">http://www.phonesweep.com/</a>
<DD>
PhoneSweepT is the world's first commercial Telephone Scanner.  Many break-ins
in recent years have come not through the Internet, but through unauthorized
dial-up modems.  PhoneSweep lets you find these modems by repeatedly placing
phone calls to every phone number that your organization
controls.  PhoneSweep has a built-in expert system that can recognize
more than 250 different kinds of remote-access programs, including
Carbon Copy(TM), pcANYWHERE(TM), and Windows NT RAS.  All information is stored
in the SQL database.  It then generates a comprehensive report detailing
which services were discovered on which dial-up numbers in your organization.
</DL>


<H3>1.2.9  SQL Clients and Report Writers</H3>

<DL COMPACT>

<DT><a HREF="http://www.urbanresearch.com/software/utils/urbsql/index.html"> urSQL</a>
<DD>
SQL Editor and Query Utility. Custom syntax highlighting, editable
results grid, exportable result-sets, basic MySQL admin functions,
Etc.. For Windows.

<DT><a HREF="http://www.edatanew.com/"> MySQL Data Manager</a>
<DD>
MySQL Data Manager * is platform independent web client
(written in perl) for MySQL server over TCP/IP.

<DT><a HREF="http://ksql.sourceforge.net/">http://ksql.sourceforge.net/</a>
<DD>
KDE MySQL client.

<DT><a HREF="http://www.ecker-software.de">http://www.ecker-software.de</a>
<DD>
A Windows GUI client by David Ecker.

<DT><a HREF="http://www.icaap.org/software/kiosk/">http://www.icaap.org/software/kiosk/</a>
<DD>
Kiosk; a MySQL client for database management.  Written in Perl.
Will be a part of Bazaar.

<DT><a HREF="http://www.casestudio.com/">http://www.casestudio.com/</a>
<DD>
Db design tool that supports MySQL 3.23.

<DT><a HREF="http://home.skif.net/~voland/zeos/eng/index.html">http://home.skif.net/~voland/zeos/eng/index.html</a>
<DD>
Zeos - A client that supports MySQL, Interbase and PostgreSQL.

<DT><a HREF="http://www.geocities.com/SiliconValley/Ridge/4280/GenericReportWriter/grwhome.html">http://www.geocities.com/SiliconValley/Ridge/4280/GenericReportWriter/grwhome.html</a>
<DD>
A free report writer in Java

<DT><a HREF="http://www.javaframework.de">http://www.javaframework.de</a>
<DD>
MySQLExport - Export of MySQL create statements and data in a lot of
different formats (SQL, HTML, CVS, text, ZIP, GZIP...).

<DT><a HREF="http://dlabs.4t2.com">http://dlabs.4t2.com</a>
<DD>
M2D, a MySQL Administration client for Windows.  M2D supports 
administration of MySQL databases, creation of new databases and 
tables, editing, and more.

<DT><a HREF="http://dlabs.4t2.com">http://dlabs.4t2.com</a>
<DD>
Dexter, a small server written in Perl which can be used as a proxy server for
MySQL or as a database extender.

<DT><a HREF="http://www.scibit.com/Products/Software/Utils/Mascon.asp">http://www.scibit.com/Products/Software/Utils/Mascon.asp</a>
<DD>
Mascon is a powerful Win32 GUI for administering MySQL databases.

<DT><a HREF="http://www.rtlabs.com/">http://www.rtlabs.com/</a>
<DD>
MacSQL Monitor.  GUI for MySQL, ODBC, and JDBC databases for the Mac OS.
</DL>


<H3>1.2.10  Distributions that Include MySQL</H3>

<DL COMPACT>

<DT><a HREF="http://www.suse.com/">http://www.suse.com/</a>
<DD>
SuSE Linux (6.1 and above)

<DT><a HREF="http://www.redhat.com/">http://www.redhat.com/</a>
<DD>
RedHat Linux (7.0 and above)

<DT><a HREF="http://distro.conectiva.com.br">http://distro.conectiva.com.br</a>
<DD>
Conectiva Linux (4.0 and above)
</DL>


<H3>1.2.11  Web Development Tools that Support MySQL</H3>

<DL COMPACT>

<DT><a HREF="http://www.php.net/">http://www.php.net/</a>
<DD>
PHP: A server-side HTML-embedded scripting language.

<DT><a HREF="http://www.midgard-project.org">http://www.midgard-project.org</a>
<DD>
The Midgard Application Server; a powerful Web development environment
based on MySQL and PHP.

<A NAME="IDX61"></A>
<DT><a HREF="http://www.dbServ.de/">http://www.dbServ.de/</a>
<DD>
dbServ is an extension to a web server to integrate database output into
your HTML code.  You may use any HTML function in your output.  Only the
client will stop you.  It works as standalone server or as Java servlet.

<DT><a HREF="http://www.chilisoft.com/">http://www.chilisoft.com/</a>
<DD>
Platform independent ASP from Chili!Soft

<DT><a HREF="http://www.voicenet.com/~zellert/tjFM">http://www.voicenet.com/~zellert/tjFM</a>
<DD>
A JDBC driver for MySQL.

<DT><a HREF="http://www.wernhart.priv.at/php/">http://www.wernhart.priv.at/php/</a>
<DD>
MySQL + PHP demos.

<DT><a HREF="http://www.dbwww.com/">http://www.dbwww.com/</a>
<DD>
ForwardSQL: HTML interface to manipulate MySQL databases.

<DT><a HREF="http://www.daa.com.au/~james/www-sql/">http://www.daa.com.au/~james/www-sql/</a>
<DD>
WWW-SQL: Display database information.

<DT><a HREF="http://www.heitml.com/">http://www.heitml.com/</a>
<DD>
HeiTML: A server-side extension of HTML and a 4GL language at the same time.

<DT><a HREF="http://hawkeye.net/">http://hawkeye.net/</a>
<DD>
Hawkeye Internet Server Suite.

<DT><a HREF="http://www.webgroove.com/">http://www.webgroove.com/</a>
<DD>
WebGroove Script: HTML compiler and server-side scripting language.

<DT><a HREF="http://www.ihtml.com/">http://www.ihtml.com/</a>
<DD>
A server-side Web site scripting language.

<DT><a HREF="ftp://ftp.igc.apc.org/pub/myodbc/README">ftp://ftp.igc.apc.org/pub/myodbc/README</a>
<DD>
How to use MySQL with ColdFusion on Solaris.

<DT><a HREF="http://calistra.com/MySQL/">http://calistra.com/MySQL/</a>
<DD>
Calistra's ODBC MySQL Administrator.

<DT><a HREF="http://phpclub.net/">http://phpclub.net/</a>
<DD>
PHPclub - Tips and tricks for PHP.

<DT><a HREF="http://www.widgetchuck.com">http://www.widgetchuck.com</a>
<DD>
The Widgetchuck; Web Site Tools and Gadgets

<DT><a HREF="http://www.adcycle.com/">http://www.adcycle.com/</a>
<DD>
AdCycle - advertising management software.

<A NAME="IDX62"></A>
<DT><a HREF="http://sourceforge.net/projects/pwpage/">http://sourceforge.net/projects/pwpage/</a>
<DD>
pwPage - provides an extremely fast and simple approach to the creation 
of database forms.  That is, if a database table exists and an HTML page 
has been constructed using a few simple guidelines, pwPage can be 
immediately used for table data selections, insertions, updates, deletions 
and selectable table content reviewing.

<DT><a HREF="http://www.omnis-software.com/products/studio/studio.html">http://www.omnis-software.com/products/studio/studio.html</a>
<DD>
OMNIS Studio is a rapid application development (RAD) tool.
</DL>


<H3>1.2.12  Database Design Tools with MySQL Support</H3>

<DL COMPACT>

<DT><a HREF="http://www.mysql.com/documentation/dezign/">http://www.mysql.com/documentation/dezign/</a>
<DD>
"DeZign for databases" is a database development tool that uses an
entity relationship diagram (ERD).
</DL>


<H3>1.2.13  Web Servers with MySQL Tools</H3>

<DL COMPACT>

<DT><a HREF="ftp://ftp.kcilink.com/pub/">ftp://ftp.kcilink.com/pub/</a>
<DD>
mod_auth_mysql, An Apache authentication module.

<DT><a HREF="http://www.roxen.com/">http://www.roxen.com/</a>
<DD>
The Roxen Challenger Web server.
</DL>


<H3>1.2.14  Extensions for Other Programs</H3>

<DL COMPACT>

<DT><a HREF="http://www.seawood.org/msql_bind/">http://www.seawood.org/msql_bind/</a>
<DD>
MySQL support for BIND (The Internet Domain Name Server).

<DT><a HREF="http://www.inet-interactive.com/sendmail/">http://www.inet-interactive.com/sendmail/</a>
<DD>
MySQL support for Sendmail and Procmail.
</DL>


<H3>1.2.15  Using MySQL with Other Programs</H3>

<DL COMPACT>

<DT><a HREF="http://www.iserver.com/support/addonhelp/database/mysql/msaccess.html">http://www.iserver.com/support/addonhelp/database/mysql/msaccess.html</a>
<DD>
Using MySQL with Access.

<DT><a HREF="http://www.iserver.com/support/contrib/perl5/modules.html">http://www.iserver.com/support/contrib/perl5/modules.html</a>
<DD>
Installing new Perl modules that require locally installed modules.
</DL>


<H3>1.2.16  ODBC-related Links</H3>

<DL COMPACT>

<DT><a HREF="http://www.iodbc.org/">http://www.iodbc.org/</a>
<DD>
Popular iODBC Driver Manager (libiodbc) now available as Open Source.

<DT><a HREF="http://users.ids.net/~bjepson/freeODBC/">http://users.ids.net/~bjepson/freeODBC/</a>
<DD>
The FreeODBC Pages.

<DT><a HREF="http://genix.net/unixODBC/">http://genix.net/unixODBC/</a>
<DD>
The unixODBC Project goals are to develop and promote unixODBC to be the
definitive standard for ODBC on the Linux platform.  This is to include GUI
support for KDE.

<DT><a HREF="http://www.sw-soft.com/products/BtrieveODBC/">http://www.sw-soft.com/products/BtrieveODBC/</a>
<DD>
A MySQL-based ODBC driver for Btrieve.
</DL>


<H3>1.2.17  <STRONG>API</STRONG>-related Links</H3>

<DL COMPACT>

<DT><a HREF="http://www.jppp.com/">http://www.jppp.com/</a>
<DD>
Partially implemented TDataset-compatible components for MySQL.

<DT><a HREF="http://www.riverstyx.net/qpopmysql/">http://www.riverstyx.net/qpopmysql/</a>
<DD>
qpopmysql - A patch to allow POP3 authentication from a MySQL
database.  There's also a link to Paul Khavkine's patch for Procmail to
allow any MTA to deliver to users in a MySQL database.

<DT><a HREF="http://www.essencesw.com/Software/mysqllib.html">http://www.essencesw.com/Software/mysqllib.html</a>
<DD>
New Client libraries for the Mac OS Classic (Macintosh).

<DT><a HREF="http://www.lilback.com/macsql/">http://www.lilback.com/macsql/</a>
<DD>
Client libraries for the Macintosh.

<DT><a HREF="http://www.essencesw.com/Plugins/mysqlplug.html">http://www.essencesw.com/Plugins/mysqlplug.html</a>
<DD>
Plugin for REALbasic (for Macintosh)

<DT><a HREF="http://www.iis.ee.ethz.ch/~neeri/macintosh/gusi-qa.html">http://www.iis.ee.ethz.ch/~neeri/macintosh/gusi-qa.html</a>
<DD>
A library that emulates BSD sockets and pthreads on Macintosh.  This can
be used if you want to compile the MySQL client library on Mac.
It could probably even be sued to port MySQL to Macintosh, but we
don't know of anyone that has tried that.

<A NAME="IDX63"></A>
<DT><a HREF="http://www.dedecker.net/jessie/scmdb/">http://www.dedecker.net/jessie/scmdb/</a>
<DD>
SCMDB - an add-on for SCM that ports the MySQL C library to scheme
(SCM).  With this library scheme developers can make connections to a
MySQL database and use embedded SQL in their programs.
</DL>


<H3>1.2.18  Other MySQL-related Links</H3>

<DL COMPACT>

<DT><a HREF="http://www.satisoft.com/"> SAT</a>
<DD>
The Small Application Toolkit (SAT) is a collection of utilities
intended to simplify the development of small, multi-user, GUI based
applications in a (Microsoft -or- X) Windows Client / Unix Server
environment.

<DT><a HREF="http://www.wix.com/mysql-hosting/">http://www.wix.com/mysql-hosting/</a>
<DD>
Registry of Web providers who support MySQL.

<DT><a HREF="http://www.softagency.co.jp/mysql/index.en.html">http://www.softagency.co.jp/mysql/index.en.html</a>
<DD>
Links about using MySQL in Japan/Asia.

<DT><a HREF="http://abattoir.cc.ndsu.nodak.edu/~nem/mysql/udf/">http://abattoir.cc.ndsu.nodak.edu/~nem/mysql/udf/</a>
<DD>
MySQL UDF Registry.

<DT><a HREF="http://www.open.com.au/products.html">http://www.open.com.au/products.html</a>
<DD>
Commercial Web defect tracking system.

<DT><a HREF="http://www.stonekeep.com/pts/">http://www.stonekeep.com/pts/</a>
<DD>
PTS: Project Tracking System.

<DT><a HREF="http://tomato.nvgc.vt.edu/~hroberts/mot">http://tomato.nvgc.vt.edu/~hroberts/mot</a>
<DD>
Job and software tracking system.

<DT><a HREF="http://www.cynergi.net/exportsql/">http://www.cynergi.net/exportsql/</a>
<DD>
ExportSQL: A script to export data from Access95+.

<DT><a HREF="http://SAL.KachinaTech.COM/H/1/MYSQL.html">http://SAL.KachinaTech.COM/H/1/MYSQL.html</a>
<DD>
SAL (Scientific Applications on Linux) MySQL entry.

<DT><a HREF="http://www.infotech-nj.com/itech/index.shtml">http://www.infotech-nj.com/itech/index.shtml</a>
<DD>
A consulting company which mentions MySQL in the right company.

<DT><a HREF="http://www.pmpcs.com/">http://www.pmpcs.com/</a>
<DD>
PMP Computer Solutions.  Database developers using MySQL and
<CODE>mSQL</CODE>.

<DT><a HREF="http://www.dedserius.com/y2kmatrix/">http://www.dedserius.com/y2kmatrix/</a>
<DD>
Y2K tester.
</DL>


<H3>1.2.19  SQL and Database Interfaces</H3>

<DL COMPACT>

<DT><a HREF="http://java.sun.com/products/jdbc/">http://java.sun.com/products/jdbc/</a>
<DD>
The JDBC database access API.

<DT><a HREF="http://www.gagme.com/mysql">http://www.gagme.com/mysql</a>
<DD>
Patch for <CODE>mSQL</CODE> Tcl.

<DT><a HREF="http://www.amsoft.ru/easysql/">http://www.amsoft.ru/easysql/</a>
<DD>
EasySQL: An ODBC-like driver manager.

<DT><a HREF="http://www.lightlink.com/hessling/rexxsql.html">http://www.lightlink.com/hessling/rexxsql.html</a>
<DD>
A REXX interface to SQL databases.

<DT><a HREF="http://www.binevolve.com/~tdarugar/tcl-sql/">http://www.binevolve.com/~tdarugar/tcl-sql/</a>
<DD>
Tcl interface for MySQL.

<DT><a HREF="http://www.contrib.andrew.cmu.edu/~shadow/sql.html">http://www.contrib.andrew.cmu.edu/~shadow/sql.html</a>
<DD>
SQL Reference Page with a lot of interesting links.

</DL>


<H3>1.2.20  Examples of MySQL Use</H3>

<DL COMPACT>

<DT><a HREF="http://www.little6.com/about/linux/">http://www.little6.com/about/linux/</a>
<DD>
Little6 Inc., An online contract and job finding site that is powered by
MySQL, PHP3, and Linux.

<DT><a HREF="http://www.worldrecords.com">http://www.worldrecords.com</a>
<DD>
World Records - A search engine for information about music that uses
MySQL and PHP.

<DT><a HREF="http://www.webtechniques.com/archives/1998/01/note/">http://www.webtechniques.com/archives/1998/01/note/</a>
<DD>
A Contact Database using MySQL and PHP.

<DT><a HREF="http://modems.rosenet.net/mysql/">http://modems.rosenet.net/mysql/</a>
<DD>
Web based interface and Community Calendar with PHP.

<DT><a HREF="http://www.odbsoft.com/cook/sources.htm">http://www.odbsoft.com/cook/sources.htm</a>
<DD>
Perl package to generate html from a SQL table structure and for generating
SQL statements from an html form.

<DT><a HREF="http://www.gusnet.cx/proj/telsql/">http://www.gusnet.cx/proj/telsql/</a>
<DD>
Basic telephone database using <CODE>DBI</CODE>/<CODE>DBD</CODE>.

<DT><a HREF="http://tecfa.unige.ch/guides/java/staf2x/ex/jdbc/coffee-break">http://tecfa.unige.ch/guides/java/staf2x/ex/jdbc/coffee-break</a>
<DD>
JDBC examples by Daniel K. Schneider.

<DT><a HREF="http://www.ooc.com/">http://www.ooc.com/</a>
<DD>
Object Oriented Concepts Inc; CORBA applications with examples in source.

<DT><a HREF="http://www.stopbit.com/">http://www.stopbit.com/</a>
<DD>
Stopbit - A technology news site using MySQL and PHP.

<DT><a HREF="http://www.penguinservices.com/scripts">http://www.penguinservices.com/scripts</a>
<DD>
Online shopping cart system.

<A NAME="IDX64"></A>
<DT><a HREF="http://www.city-gallery.com/album/">http://www.city-gallery.com/album/</a>
<DD>
Old Photo Album - The album is a collaborative popular history of photography
project that generates all pages from data stored in a MySQL
database.  Pages are dynamically generated through a php3 interface to the
database content.  Users contribute images and descriptions.  Contributed 
images are stored on the web server to avoid storing them in the database 
as BLOBs.  All other information is stored on the shared MySQL server.
</DL>


<H3>1.2.21  General Database Links</H3>

<DL COMPACT>

<DT><a HREF="http://black.hole-in-the.net/guy/webdb/">http://black.hole-in-the.net/guy/webdb/</a>
<DD>
Homepage of the webdb-l (Web Databases) mailing list.

<DT><a HREF="http://www.symbolstone.org/technology/perl/DBI/index.html">http://www.symbolstone.org/technology/perl/DBI/index.html</a>
<DD>
Perl <CODE>DBI</CODE>/<CODE>DBD</CODE> modules homepage.

<DT><a HREF="http://www.student.uni-koeln.de/cygwin/">http://www.student.uni-koeln.de/cygwin/</a>
<DD>
Cygwin tools.  Unix on top of Windows.

<A NAME="IDX65"></A>
<A NAME="IDX66"></A>
<DT><a HREF="http://www.tek-tips.com/">http://www.tek-tips.com/</a>
<DD>
Tek-Tips Forums are 800+ independent peer-to-peer non-commercial support
forums for Computer Professionals.  Features include automatic e-mail
notification of responses, a links library, and member confidentiality
guaranteed.

<DT><a HREF="http://www.public.asu.edu/~peterjn/btree/">http://www.public.asu.edu/~peterjn/btree/</a>
<DD>
B-Trees: Balanced Tree Data Structures.

<DT><a HREF="http://www.fit.qut.edu.au/~maire/baobab/lecture/sld001.htm">http://www.fit.qut.edu.au/~maire/baobab/lecture/sld001.htm</a>
<DD>
A lecture about B-Trees.
</DL>

<P>
There are also many Web pages that use MySQL.  See section <A HREF="manual.html#Users">B  Some MySQL Users</A>. 
Send any additions to this list to <a HREF="mailto:webmaster@mysql.com">webmaster@mysql.com</a>. We now
require that you show a MySQL logo somewhere if you wish your 
site to be added.  It is okay to have it on a ``used tools'' page or 
something similar.

</P>



<H3><A NAME="Questions" HREF="manual_toc.html#Questions">1.2.22  MySQL Mailing Lists</A></H3>

<P>
<A NAME="IDX67"></A>
<A NAME="IDX68"></A>

</P>

<P>
This section introduces you to the MySQL mailing lists, and gives
some guidelines as to how to use them.

</P>



<H4><A NAME="Mailing-list" HREF="manual_toc.html#Mailing-list">1.2.22.1  The MySQL Mailing Lists</A></H4>

<P>
<A NAME="IDX69"></A>
<A NAME="IDX70"></A>

</P>
<P>
To subscribe to the main MySQL mailing list, send a message to the
electronic mail address <a HREF="mailto:mysql-subscribe@lists.mysql.com">mysql-subscribe@lists.mysql.com</a>.

</P>
<P>
To unsubscribe from the main MySQL mailing list, send a message to
the electronic mail address <a HREF="mailto:mysql-unsubscribe@lists.mysql.com">mysql-unsubscribe@lists.mysql.com</a>.

</P>
<P>
Only the address to which you send your messages is significant.  The
subject line and the body of the message are ignored.

</P>
<P>
If your reply address is not valid, you can specify your address
explicitly.  Adding a hyphen to the subscribe or unsubscribe command
word, followed by your address with the <SAMP>`@'</SAMP> character in your
address replaced by a <SAMP>`='</SAMP>.  For example, to subscribe
<CODE>your_name@host.domain</CODE>, send a message to
<CODE>mysql-subscribe-your_name=host.domain@lists.mysql.com</CODE>.

</P>
<P>
Mail to <a HREF="mailto:mysql-subscribe@lists.mysql.com">mysql-subscribe@lists.mysql.com</a> or
<a HREF="mailto:mysql-unsubscribe@lists.mysql.com">mysql-unsubscribe@lists.mysql.com</a> is handled automatically by the
ezmlm mailing list processor.  Information about ezmlm is available at
<a HREF="http://www.ezmlm.org"> The ezmlm Website</a>.

</P>
<P>
To post a message to the list itself, send your message to
<CODE>mysql@lists.mysql.com</CODE>.  However, please <EM>do not</EM> send mail about
subscribing or unsubscribing to <a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>, because any
mail sent to that address is distributed automatically to thousands of other
users.

</P>
<P>
Your local site may have many subscribers to <a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>.
If so, it may have a local mailing list, so that messages sent from
<CODE>lists.mysql.com</CODE> to your site are propagated to the local list.  In such
cases, please contact your system administrator to be added to or dropped
from the local MySQL list.

</P>
<P>
If you wish to have traffic for a mailing list go to a separate mailbox in
your mail program, set up a filter based on the message headers.  You can
use either the <CODE>List-ID:</CODE> or <CODE>Delivered-To:</CODE> headers to identify
list messages.

</P>
<P>
The following MySQL mailing lists exist:

</P>
<DL COMPACT>

<DT><CODE><a HREF="mailto:announce-subscribe@lists.mysql.com">announce-subscribe@lists.mysql.com</a> announce</CODE>
<DD>
This is for announcement of new versions of MySQL and related
programs.  This is a low volume list all MySQL users should
subscribe to.

<DT><CODE><a HREF="mailto:mysql-subscribe@lists.mysql.com">mysql-subscribe@lists.mysql.com</a> mysql</CODE>
<DD>
The main list for general MySQL discussion.  Please note that some
topics are better discussed on the more-specialized lists.  If you post to the
wrong list, you may not get an answer!

<DT><CODE><a HREF="mailto:mysql-digest-subscribe@lists.mysql.com">mysql-digest-subscribe@lists.mysql.com</a> mysql-digest</CODE>
<DD>
The <CODE>mysql</CODE> list in digest form.  That means you get all individual
messages, sent as one large mail message once a day.

<DT><CODE><a HREF="mailto:bugs-subscribe@lists.mysql.com">bugs-subscribe@lists.mysql.com</a> bugs</CODE>
<DD>
On this list you should only post a full, repeatable bug report using
the <CODE>mysqlbug</CODE> script (if you are running on Windows, you should
include a description of the operating system and the MySQL version).
Preferably, you should test the problem using the latest stable or development
version of MySQL before posting!  Anyone should be able to repeat the
bug by just using <CODE>mysql test &#60; script</CODE> on the included test case.  All 
bugs posted on this list will be corrected or documented in the next 
MySQL release!  If there are only small code changes involved, we
will also post a patch that fixes the problem.

<DT><CODE><a HREF="mailto:bugs-digest-subscribe@lists.mysql.com">bugs-digest-subscribe@lists.mysql.com</a> bugs-digest</CODE>
<DD>
The <CODE>bugs</CODE> list in digest form.

<DT><CODE><a HREF="mailto:internals-subscribe@lists.mysql.com">internals-subscribe@lists.mysql.com</a> internals</CODE>
<DD>
A list for people who work on the MySQL code.  On this list one
can also discuss MySQL development and post patches.

<DT><CODE><a HREF="mailto:internals-digest-subscribe@lists.mysql.com">internals-digest-subscribe@lists.mysql.com</a> internals-digest</CODE>
<DD>
A digest version of the <CODE>internals</CODE> list.

<DT><CODE><a HREF="mailto:java-subscribe@lists.mysql.com">java-subscribe@lists.mysql.com</a> java</CODE>
<DD>
Discussion about MySQL and Java.  Mostly about the JDBC drivers.

<DT><CODE><a HREF="mailto:java-digest-subscribe@lists.mysql.com">java-digest-subscribe@lists.mysql.com</a> java-digest</CODE>
<DD>
A digest version of the <CODE>java</CODE> list.

<DT><CODE><a HREF="mailto:win32-subscribe@lists.mysql.com">win32-subscribe@lists.mysql.com</a> win32</CODE>
<DD>
All things concerning MySQL on Microsoft operating systems such as
Win95, Win98, NT, and Win2000.

<DT><CODE><a HREF="mailto:win32-digest-subscribe@lists.mysql.com">win32-digest-subscribe@lists.mysql.com</a> win32-digest</CODE>
<DD>
A digest version of the <CODE>win32</CODE> list.

<DT><CODE><a HREF="mailto:myodbc-subscribe@lists.mysql.com">myodbc-subscribe@lists.mysql.com</a> myodbc</CODE>
<DD>
All things about connecting to MySQL with ODBC.

<DT><CODE><a HREF="mailto:myodbc-digest-subscribe@lists.mysql.com">myodbc-digest-subscribe@lists.mysql.com</a> myodbc-digest</CODE>
<DD>
A digest version of the <CODE>myodbc</CODE> list.

<DT><CODE><a HREF="mailto:plusplus-subscribe@lists.mysql.com">plusplus-subscribe@lists.mysql.com</a> plusplus</CODE>
<DD>
All things concerning programming with the C++ API to MySQL.

<DT><CODE><a HREF="mailto:plusplus-digest-subscribe@lists.mysql.com">plusplus-digest-subscribe@lists.mysql.com</a> plusplus-digest</CODE>
<DD>
A digest version of the <CODE>plusplus</CODE> list.

<DT><CODE><a HREF="mailto:msql-mysql-modules-subscribe@lists.mysql.com">msql-mysql-modules-subscribe@lists.mysql.com</a> msql-mysql-modules</CODE>
<DD>
A list about the Perl support in MySQL. msql-mysql-modules

<DT><CODE><a HREF="mailto:msql-mysql-modules-digest-subscribe@lists.mysql.com">msql-mysql-modules-digest-subscribe@lists.mysql.com</a> msql-mysql-modules-digest</CODE>
<DD>
A digest version of the <CODE>msql-mysql-modules</CODE> list.
</DL>

<P>
You subscribe or unsubscribe to all lists in the same way as described
above.  In your subscribe or unsubscribe message, just put the appropriate
mailing list name rather than <CODE>mysql</CODE>.  For example, to subscribe to or
unsubscribe from the <CODE>myodbc</CODE> list, send a message to
<a HREF="mailto:myodbc-subscribe@lists.mysql.com">myodbc-subscribe@lists.mysql.com</a> or
<a HREF="mailto:myodbc-unsubscribe@lists.mysql.com">myodbc-unsubscribe@lists.mysql.com</a>.

</P>
<P>
If you can't get an answer for your questions from the mailing list, one
option is to pay for support from MySQL AB, which will put you
in direct contact with MySQL developers. See section <A HREF="manual.html#Support">1.3.1  Support offered by MySQL AB</A>.

</P>
<P>
The following table shows some MySQL mailing in other languages than
English.  Note that these are not operated by MySQL AB, so we can't
guarantee the quality on these.

</P>
<DL COMPACT>

<DT><CODE><a HREF="mailto:mysql-france-subscribe@yahoogroups.com">mysql-france-subscribe@yahoogroups.com</a> A French mailing list</CODE>
<DD>
<DT><CODE><a HREF="mailto:list@tinc.net">list@tinc.net</a> A Korean mailing list</CODE>
<DD>
Email <CODE>subscribe mysql your@e-mail.address</CODE> to this list.
<DT><CODE><a HREF="mailto:mysql-de-request@lists.4t2.com">mysql-de-request@lists.4t2.com</a> A German mailing list</CODE>
<DD>
Email <CODE>subscribe mysql-de your@e-mail.address</CODE> to this list.
You can find information about this mailing list at
<a HREF="http://www.4t2.com/mysql">http://www.4t2.com/mysql</a>.
<DT><CODE><a HREF="mailto:mysql-br-request@listas.linkway.com.br">mysql-br-request@listas.linkway.com.br</a> A Portugese mailing list</CODE>
<DD>
Email <CODE>subscribe mysql-br your@e-mail.address</CODE> to this list.
<DT><CODE><a HREF="mailto:mysql-alta@elistas.net">mysql-alta@elistas.net</a> A Spanish mailing list</CODE>
<DD>
Email <CODE>subscribe mysql your@e-mail.address</CODE> to this list.
</DL>



<H4><A NAME="Asking_questions" HREF="manual_toc.html#Asking_questions">1.2.22.2  Asking Questions or Reporting Bugs</A></H4>

<P>
<A NAME="IDX71"></A>
<A NAME="IDX72"></A>
<A NAME="IDX73"></A>

</P>
<P>
Before posting a bug report or question, please do the following:

</P>

<UL>
<LI>

Start by searching the MySQL online manual at:
<BR>
<a HREF="http://www.mysql.com/documentation/manual.php">http://www.mysql.com/documentation/manual.php</a>
<BR>
We try to keep the manual up to date by updating it frequently with 
solutions to newly found problems!

<LI>

Search the MySQL mailing list archives:
<BR>
<a HREF="http://www.mysql.com/documentation/">http://www.mysql.com/documentation/</a>
<BR>
<LI>

You can also use <a HREF="http://www.mysql.com/search.html">http://www.mysql.com/search.html</a> to search all the
Web pages (including the manual) that are located at 
<a HREF="http://www.mysql.com/">http://www.mysql.com/</a>.
</UL>

<P>
If you can't find an answer in the manual or the archives, check with your
local MySQL expert.  If you still can't find an answer to your
question, go ahead and read the next section about how to send mail to
<a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>.

</P>



<H4><A NAME="Bug_reports" HREF="manual_toc.html#Bug_reports">1.2.22.3  How to Report Bugs or Problems</A></H4>

<P>
<A NAME="IDX74"></A>
<A NAME="IDX75"></A>
<A NAME="IDX76"></A>
<A NAME="IDX77"></A>
<A NAME="IDX78"></A>
<A NAME="IDX79"></A>
<A NAME="IDX80"></A>

</P>
<P>
Writing a good bug report takes patience, but doing it right the first
time saves time for us and for you.  A good bug report containing a full
test case for the bug will make it very likely that we will fix it in
the next release.  This section will help you write your report correctly
so that you don't waste your time doing things that may not help us much
or at all.

</P>
<P>
We encourage everyone to use the <CODE>mysqlbug</CODE> script to generate a bug
report (or a report about any problem), if possible.  <CODE>mysqlbug</CODE> can be
found in the <TT>`scripts'</TT> directory in the source distribution, or, for a
binary distribution, in the <TT>`bin'</TT> directory under your MySQL
installation directory.  If you are unable to use <CODE>mysqlbug</CODE>, you should
still include all the necessary information listed in this section.

</P>
<P>
The <CODE>mysqlbug</CODE> script helps you generate a report by determining much
of the following information automatically, but if something important is
missing, please include it with your message!  Please read this section
carefully and make sure that all the information described here is included
in your report.

</P>
<P>
<A NAME="IDX81"></A>
The normal place to report bugs and problems is
<a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>.  If you can make a test case that clearly
demonstrates the bug, you should post it to the <a HREF="mailto:bugs@lists.mysql.com">bugs@lists.mysql.com</a>
list.  Note that on this list you should only post a full, repeatable bug
report using the <CODE>mysqlbug</CODE> script.  If you are running on Windows,
you should include a description of the operating system and the
MySQL version.  Preferably, you should test the problem using
the latest stable or development version of MySQL before
posting!  Anyone should be able to repeat the bug by just using
``<CODE>mysql test &#60; script</CODE>'' on the included test case or run the
shell or perl script that is included in the bug report.  All bugs
posted on the <CODE>bugs</CODE> list will be corrected or documented in the next
MySQL release!  If there are only small code changes involved
to correct this problem, we will also post a patch that fixes the
problem.

</P>
<P>
Remember that it is possible to respond to a message containing too much
information, but not to one containing too little.  Often people omit facts
because they think they know the cause of a problem and assume that some
details don't matter.  A good principle is: if you are in doubt about stating
something, state it!  It is a thousand times faster and less troublesome to
write a couple of lines more in your report than to be forced to ask again
and wait for the answer because you didn't include enough information the
first time.

</P>
<P>
The most common errors are that people don't indicate the version number of
the MySQL distribution they are using, or don't indicate what
platform they have MySQL installed on (including the platform
version number).  This is highly relevant information, and in 99 cases out of
100 the bug report is useless without it!  Very often we get questions like,
``Why doesn't this work for me?'' then we find that the feature
requested wasn't implemented in that MySQL version, or that a bug
described in a report has been fixed already in newer MySQL
versions.  Sometimes the error is platform dependent; in such cases, it is
next to impossible to fix anything without knowing the operating system and
the version number of the platform.

</P>
<P>
Remember also to provide information about your compiler, if it is related to
the problem.  Often people find bugs in compilers and think the problem is
MySQL-related.  Most compilers are under development all the time and
become better version by version.  To determine whether or not your
problem depends on your compiler, we need to know what compiler is used.
Note that every compiling problem should be regarded as a bug report and
reported accordingly.

</P>
<P>
It is most helpful when a good description of the problem is included in the
bug report.  That is, a good example of all the things you did that led to
the problem and the problem itself exactly described.  The best reports are
those that include a full example showing how to reproduce the bug or
problem.  See section <A HREF="manual.html#Reproduceable_test_case">G.1.6  Making a test case when you experience table corruption</A>.

</P>
<P>
If a program produces an error message, it is very important to include the
message in your report!  If we try to search for something from the archives
using programs, it is better that the error message reported exactly matches
the one that the program produces.  (Even the case should be observed!) 
You should never try to remember what the error message was; instead, copy 
and paste the entire message into your report!

</P>
<P>
If you have a problem with MyODBC, you should try to generate a MyODBC
trace file.  See section <A HREF="manual.html#MyODBC_bug_report">8.3.7  Reporting Problems with MyODBC</A>.

</P>
<P>
Please remember that many of the people who will read your report will
do so using an 80-column display.  When generating reports or examples
using the <CODE>mysql</CODE> command line tool, you should therefore use
the <CODE>--vertical</CODE> option (or the <CODE>\G</CODE> statement terminator)
for output that would exceed the available width for such a display
(for example, with the <CODE>EXPLAIN SELECT</CODE> statement; see the
example below).

</P>
<P>
<A NAME="IDX82"></A>
Please include the following information in your report:

</P>

<UL>
<LI>

The version number of the MySQL distribution you are using (for
example, MySQL Version 3.22.22). You can find out which version you
are running by executing <CODE>mysqladmin version</CODE>.  <CODE>mysqladmin</CODE> can be
found in the <TT>`bin'</TT> directory under your MySQL installation
directory.

<LI>

The manufacturer and model of the machine you are working on.

<LI>

The operating system name and version.  For most operating systems, you can
get this information by executing the Unix command <CODE>uname -a</CODE>.

<LI>

Sometimes the amount of memory (real and virtual) is relevant. If in doubt, 
include these values.

<LI>

If you are using a source distribution of MySQL, the name and
version number of the compiler used is needed.  If you have a binary 
distribution, the distribution name is needed.

<LI>

If the problem occurs during compilation, include the exact error
message(s) and also a few lines of context around the offending code in the
file where the error occurred.

<LI>

If <CODE>mysqld</CODE> died, you should also report the query that crashed
<CODE>mysqld</CODE>.  You can usually find this out by running <CODE>mysqld</CODE> with
logging enabled.  See section <A HREF="manual.html#Using_log_files">G.1.5  Using log files to find cause of errors in mysqld</A>.

<LI>

If any database table is related to the problem, include the output from
<CODE>mysqldump --no-data db_name tbl_name1 tbl_name2 ...</CODE>.  This is very easy
to do and is a powerful way to get information about any table in a database
that will help us create a situation matching the one you have.

<LI>

For speed-related bugs or problems with <CODE>SELECT</CODE> statements, you should
always include the output of <CODE>EXPLAIN SELECT ...</CODE>, and at least the
number of rows that the <CODE>SELECT</CODE> statement produces.  The more
information you give about your situation, the more likely it is that someone
can help you!  For example, the following is an example of a very good bug
report (it should of course be posted with the <CODE>mysqlbug</CODE> script):

Example run using the <CODE>mysql</CODE> command line tool (note the use of the
<CODE>\G</CODE> statement terminator for statements whose output width would
otherwise exceed that of an 80-column display device):


<PRE>
mysql&#62; SHOW VARIABLES;
mysql&#62; SHOW COLUMNS FROM ...\G
       &#60;output from SHOW COLUMNS&#62;
mysql&#62; EXPLAIN SELECT ...\G
       &#60;output from EXPLAIN&#62;
mysql&#62; FLUSH STATUS;
mysql&#62; SELECT ...;
       &#60;A short version of the output from SELECT,
       including the time taken to run the query&#62;
mysql&#62; SHOW STATUS;
       &#60;output from SHOW STATUS&#62;
</PRE>

<LI>

If a bug or problem occurs while running <STRONG>mysqld</STRONG>, try to provide an
input script that will reproduce the anomaly.  This script should include any
necessary source files.  The more closely the script can reproduce your
situation, the better.  If you can make a reproduceable test case, you should
post this to <a HREF="mailto:bugs@lists.mysql.com">bugs@lists.mysql.com</a> for a high priority treatment!

If you can't provide a script, you should at least include the output
from <CODE>mysqladmin variables extended-status processlist</CODE> in your mail to
provide some information of how your system is performing!

<LI>

If you can't produce a test case in a few rows, or if the test table
is too big to be mailed to the mailing list (more than 10 rows), you should
dump your tables using <CODE>mysqldump</CODE> and create a <TT>`README'</TT> file
that describes your problem.

Create a compressed archive of your files using
<CODE>tar</CODE> and <CODE>gzip</CODE> or <CODE>zip</CODE>, and use <CODE>ftp</CODE> to transfer the 
archive to <a HREF="ftp://support.mysql.com/pub/mysql/secret/">ftp://support.mysql.com/pub/mysql/secret/</a>.  Then send a 
short description of the problem to <a HREF="mailto:bugs@lists.mysql.com">bugs@lists.mysql.com</a>.

<LI>

If you think that MySQL produces a strange result from a query,
include not only the result, but also your opinion of what the result
should be, and an account describing the basis for your opinion.

<LI>

When giving an example of the problem, it's better to use the variable names,
table names, etc., that exist in your actual situation than to come up with
new names.  The problem could be related to the name of a variable or table!
These cases are rare, perhaps, but it is better to be safe than sorry.
After all, it should be easier for you to provide an example that uses your 
actual situation, and it is by all means better for us.  In case you have data
you don't want to show to others, you can use <CODE>ftp</CODE> to transfer it to 
<a HREF="ftp://support.mysql.com/pub/mysql/secret/">ftp://support.mysql.com/pub/mysql/secret/</a>.  If the data are really top
secret and you don't want to show them even to us, then go ahead and provide 
an example using other names, but please regard this as the last choice.

<LI>

Include all the options given to the relevant programs, if possible.  For
example, indicate the options that you use when you start the <CODE>mysqld</CODE>
daemon and that you use to run any MySQL client programs.  The
options to programs like <CODE>mysqld</CODE> and <CODE>mysql</CODE>, and to the
<CODE>configure</CODE> script, are often keys to answers and are very relevant!
It is never a bad idea to include them anyway!  If you use any modules, such
as Perl or PHP, please include the version number(s) of those as well.

<LI>

If your question is related to the privilege system, please include the
output of <CODE>mysqlaccess</CODE>, the output of <CODE>mysqladmin reload</CODE>, and all
the error messages you get when trying to connect!  When you test your
privileges, you should first run <CODE>mysqlaccess</CODE>.  After this, execute
<CODE>mysqladmin reload version</CODE> and try to connect with the program that
gives you trouble.  <CODE>mysqlaccess</CODE> can be found in the <TT>`bin'</TT>
directory under your MySQL installation directory.

<LI>

If you have a patch for a bug, that is good, but don't assume the patch is
all we need, or that we will use it, if you don't provide some necessary
information, such as test cases showing the bug that your patch fixes.  We
might find problems with your patch or we might not understand it at all; if
so, we can't use it.

If we can't verify exactly what the patch is meant for, we won't use it.
Test cases will help us here.  Show that the patch will handle all the
situations that may occur.  If we find a borderline case (even a rare one)
where the patch won't work, it may be useless.

<LI>

Guesses about what the bug is, why it occurs, or what it depends on,
are usually wrong.  Even the MySQL team can't guess such things
without first using a debugger to determine the real cause of a bug.

<LI>

Indicate in your mail message that you have checked the reference manual
and mail archive so others know that you have tried to solve the
problem yourself.

<LI>

If you get a <CODE>parse error</CODE>, please check your syntax closely!  If
you can't find something wrong with it, it's extremely likely that your
current version of MySQL doesn't support the query you are
using.  If you are using the current version and the manual at
<a HREF="http://www.mysql.com/documentation/manual.php">http://www.mysql.com/documentation/manual.php</a> doesn't cover the
syntax you are using, MySQL doesn't support your query.  In this
case, your only options are to implement the syntax yourself or e-mail
<a HREF="mailto:mysql-licensing@mysql.com">mysql-licensing@mysql.com</a> and ask for an offer to implement it!

If the manual covers the syntax you are using, but you have an older version
of MySQL, you should check the MySQL change history to see
when the syntax was implemented.  In this case, you have the option of 
upgrading to a newer version of MySQL.  See section <A HREF="manual.html#News">F  MySQL change history</A>.

<LI>

If you have a problem such that your data appears corrupt or you get
errors when you access some particular table, you should first check and then
try repairing your tables with <CODE>myisamchk</CODE> or <CODE>CHECK TABLE</CODE> and
<CODE>REPAIR TABLE</CODE>.  See section <A HREF="manual.html#MySQL_Database_Administration">4  MySQL Database Administration</A>.

<LI>

If you often get corrupted tables you should try to find out when and why this
happens!  In this case, the <TT>`mysql-data-directory/'hostname'.err'</TT> file 
may contain some information about what happened.  See section <A HREF="manual.html#Error_log">4.9.1  The Error Log</A>.  Please
include any relevant information from this file in your bug report!  Normally 
<CODE>mysqld</CODE> should <STRONG>NEVER</STRONG> crash a table if nothing killed it in the
middle of an update!  If you can find the cause of <CODE>mysqld</CODE> dying,
it's much easier for us to provide you with a fix for the problem!
See section <A HREF="manual.html#What_is_crashing">A.1  How to Determine What Is Causing Problems</A>.

<LI>

If possible, download and install the most recent version of MySQL
and check whether or not it solves your problem.  All versions of 
MySQL are thoroughly tested and should work without problems!  We 
believe in making everything as backward compatible as possible, and you 
should be able to switch MySQL versions in minutes!  
See section <A HREF="manual.html#Which_version">2.2.3  Which MySQL Version to Use</A>.
</UL>

<P>
<A NAME="IDX83"></A>
<A NAME="IDX84"></A>
<A NAME="IDX85"></A>
<A NAME="IDX86"></A>
If you are a support customer, please cross-post the bug report to
<a HREF="mailto:mysql-support@mysql.com">mysql-support@mysql.com</a> for higher priority treatment, as well as to
the appropriate mailing list to see if someone else has experienced (and
perhaps solved) the problem.

</P>
<P>
For information on reporting bugs in <STRONG>MyODBC</STRONG>, see section <A HREF="manual.html#ODBC_Problems">8.3.4  How to Report Problems with MyODBC</A>.

</P>
<P>
For solutions to some common problems, see See section <A HREF="manual.html#Problems">A  Problems and Common Errors</A>.

</P>
<P>
When answers are sent to you individually and not to the mailing list,
it is considered good etiquette to summarize the answers and send the
summary to the mailing list so that others may have the benefit of
responses you received that helped you solve your problem!

</P>



<H4><A NAME="Answering_questions" HREF="manual_toc.html#Answering_questions">1.2.22.4  Guidelines for Answering Question on the Mailing List</A></H4>

<P>
<A NAME="IDX87"></A>
<A NAME="IDX88"></A>
<A NAME="IDX89"></A>
<A NAME="IDX90"></A>

</P>
<P>
If you consider your answer to have broad interest, you may want to post it
to the mailing list instead of replying directly to the individual who
asked.  Try to make your answer general enough that people other than the
original poster may benefit from it.  When you post to the list, please make
sure that your answer is not a duplication of a previous answer.

</P>
<P>
Try to summarize the essential part of the question in your reply; don't feel
obliged to quote the entire original message.

</P>
<P>
Please don't post mail messages from your browser with HTML mode turned on!
Many users don't read mail with a browser!

</P>



<H2><A NAME="Licensing_and_Support" HREF="manual_toc.html#Licensing_and_Support">1.3  MySQL Support and Licensing</A></H2>

<P>
<A NAME="IDX91"></A>
<A NAME="IDX92"></A>

</P>

<P>
This section describes MySQL support and licensing arrangements:

</P>

<UL>

<LI>Support costs and benefits

(see section <A HREF="manual.html#Support">1.3.1  Support offered by MySQL AB</A>)

<LI>The copyrights under which MySQL is distributed

(see section <A HREF="manual.html#Copyright">1.3.2  Copyrights Used by MySQL</A>)

<LI>When and why you should license MySQL

(see section <A HREF="manual.html#Licensing_policy">1.3.3  MySQL Licensing Policy</A>)

<LI>Sample situations illustrating when a license is required

(see section <A HREF="manual.html#Licensing_examples">1.3.4  Example Licensing Situations</A>)

</UL>



<H3><A NAME="Support" HREF="manual_toc.html#Support">1.3.1  Support offered by MySQL AB</A></H3>

<P>
<A NAME="IDX93"></A>
<A NAME="IDX94"></A>
<A NAME="IDX95"></A>
<A NAME="IDX96"></A>
<A NAME="IDX97"></A>
<A NAME="IDX98"></A>
<A NAME="IDX99"></A>

</P>
<P>
MySQL AB offers several commercial support options.  A description
of what each level of support includes is given at
<a HREF="https://order.mysql.com">https://order.mysql.com</a>.  If you have restricted access to the
Internet, contact our sales staff at <a HREF="mailto:sales@mysql.com">sales@mysql.com</a>.

</P>
<P>
Technical support from MySQL AB means personal answers to your
personal problems direct from the software engineers who code the
MySQL database engine.  It is often very helpful to receive
quick, personally prepared answers tailored to your exact needs.
This is what MySQL AB paid technical support offers. Our pricing
model ensures that basic support is affordable even for those on
limited budgets.

</P>
<P>
We try to take a broad and inclusive view of technical support.
Almost any problem involving MySQL is important to us if it's
important to you.  Typically customers seek help on how to get
different commands and utilities to work, remove performance
bottlenecks, restore crashed systems, understand operating system
or networking impacts on MySQL, establish best practices for backup
and recovery, utilize APIs, etc.

</P>



<H3><A NAME="Copyright" HREF="manual_toc.html#Copyright">1.3.2  Copyrights Used by MySQL</A></H3>

<P>
<A NAME="IDX100"></A>

</P>

<P>
There are several different copyrights on the MySQL distribution:

</P>

<OL>
<LI>

The MySQL-specific source needed to build the <CODE>mysqlclient</CODE>
library is licensed under the <CODE>LGPL</CODE> and the programs in the
<TT>`client'</TT> directory are under the <CODE>GPL</CODE>. Each file states at
the beginning which license it is under.

<LI>The client library, and the GNU <CODE>getopt</CODE> library, are covered

by the ``GNU LIBRARY GENERAL PUBLIC LICENSE.''  See section <A HREF="manual.html#LGPL_license">L  GNU LESSER GENERAL PUBLIC LICENSE</A>.

<LI>Some parts of the source (the <CODE>regexp</CODE> library) are covered

by a Berkeley-style copyright.

<LI>

All the source in the server, and the GNU <CODE>readline</CODE> library,
are covered by the ``GNU GENERAL PUBLIC LICENSE.''  See section <A HREF="manual.html#GPL_license">K  GNU GENERAL PUBLIC LICENSE</A>. 
This is also available as the file <TT>`COPYING'</TT> in the distributions.

</OL>

<P>
The SQL client library should be free enough that it is
possible to add MySQL support into commercial products
without a license.  For this reason, we chose the LGPL license for the
client code.
<A NAME="IDX101"></A>
<A NAME="IDX102"></A>

</P>
<P>
This means that you can use MySQL for free with any program that uses
any of the free software licenses.  MySQL is also free for any end
user for personal or company usage.

</P>
<P>
However, if you use MySQL for something important to you, you may
want to help secure its development by purchasing licenses or a support
contract.  See section <A HREF="manual.html#Support">1.3.1  Support offered by MySQL AB</A>.

</P>



<H4><A NAME="Copyright_changes" HREF="manual_toc.html#Copyright_changes">1.3.2.1  Copyright Changes</A></H4>

<P>
Version 3.22 of MySQL is still using a more strict license.  
See the documentation for that version for more information.

</P>



<H3><A NAME="Licensing_policy" HREF="manual_toc.html#Licensing_policy">1.3.3  MySQL Licensing Policy</A></H3>

<P>
<A NAME="IDX103"></A>
<A NAME="IDX104"></A>
<A NAME="IDX105"></A>
<A NAME="IDX106"></A>

</P>
<P>
The formal terms of the GPL license can be found at section <A HREF="manual.html#GPL_license">K  GNU GENERAL PUBLIC LICENSE</A>.
For pricing and ordering information, see
<a HREF="https://order.mysql.com/">https://order.mysql.com/</a>.

</P>
<P>
Basically, our licensing policy and interpretation of the GPL is as follows:

</P>
<P>
For normal internal use, MySQL costs nothing.  You do not have
to pay us if you do not want to.

</P>
<P>
A license is required if:

</P>

<UL>
<LI>

You link a program, that is not free software, with code from the
MySQL server or clients that has the GPL copyright. This
happens for example when you use MySQL as an embedded server
in your applications or when you add not free extensions to the
MySQL server.  In this case your application/code would also
become GPL through the GPL license that acts as a virus.  By licensing
MySQL server from MySQL AB under a commercial
license you will avoid this problem.
See <a HREF="http://www.gnu.org/copyleft/gpl-faq.html">http://www.gnu.org/copyleft/gpl-faq.html</a>.
<LI>

You have a commercial application that ONLY works with MySQL
and ships the application with the MySQL server.  This is
because we view this as linking even if it is done over the network.

<LI>

You have a distribution of MySQL and you don't provide the
source code for your copy of the MySQL server, as defined in
the GPL license.
</UL>

<P>
A license is <STRONG>not</STRONG> required if:

</P>

<UL>

<LI>

You include the MySQL client code in a commercial
program.  The client part of MySQL is licensed under the
LGPL <CODE>GNU Library General Public License</CODE>.  The <CODE>mysql</CODE> command-line
client does include code from the <CODE>readline</CODE> library that is under
the <CODE>GPL</CODE>, however.

</UL>

<P>
If your use of MySQL does not require a license, but you
like MySQL and want to encourage further development, you are
certainly welcome to purchase a license or MySQL support anyway.
See section <A HREF="manual.html#Support">1.3.1  Support offered by MySQL AB</A>.

</P>
<P>
If you use MySQL in a commercial context such that you profit by 
its use, we ask that you further the development of MySQL by 
purchasing some level of support.  We feel that if MySQL helps 
your business, it is reasonable to ask that you help MySQL.  
(Otherwise, if you ask us support questions, you are not only using for 
free something into which we've put a lot a work, you're asking us to 
provide free support, too.)

</P>
<P>
Note that older versions of MySQL are still using a more
<a HREF="http://www.mysql.com/support/arrangements/mypl.html"> strict license</a>.
See the documentation for the specific version for more
information.

</P>
<P>
For circumstances under which a MySQL license is required, you
need a license per machine that runs the <CODE>mysqld</CODE> server.  However,
a multiple-CPU machine counts as a single machine, and there is no
restriction on the number of MySQL servers that run on one
machine, or on the number of clients concurrently connected to a server
running on that machine.

</P>
<P>
If you have any questions as to whether or not a license is required for
your particular use of MySQL, please read this again and then
contact us.  See section <A HREF="manual.html#Contact_information">1.1.2.1  Contact Information</A>.

</P>
<P>
If you require a MySQL license, the easiest way to pay for it
is to use the license form on MySQL's secure server at
<a HREF="https://order.mysql.com/">https://order.mysql.com/</a>.
You can also get the latest pricing and ordering information by sending
an e-mail to <a HREF="mailto:sales@mysql.com">sales@mysql.com</a>.

</P>



<H3><A NAME="Licensing_examples" HREF="manual_toc.html#Licensing_examples">1.3.4  Example Licensing Situations</A></H3>

<P>
<A NAME="IDX107"></A>
<A NAME="IDX108"></A>
<A NAME="IDX109"></A>

</P>
<P>
This section describes some situations illustrating whether or not you
must license the MySQL server.  Generally these examples
involve providing MySQL as an integral part of a product.

</P>
<P>
Note that a single MySQL license covers any number of CPUs and
<CODE>mysqld</CODE> servers on a machine!  There is no artificial limit on the
number of clients that connect to the server in any way.

</P>



<H4><A NAME="Products_that_use_MySQL" HREF="manual_toc.html#Products_that_use_MySQL">1.3.4.1  Selling Products that use MySQL</A></H4>

<P>
To determine whether or not you need a MySQL license when
selling your application, you should ask whether the proper functioning
of your application is dependent on the use of MySQL and
whether you include the MySQL server with your product.  There
are several cases to consider:

</P>

<UL>
<LI>

Does your application require MySQL to function properly?

<LI>

If your product requires MySQL, you need a license for any
machine that runs the <CODE>mysqld</CODE> server.  For example, if you've
designed your application around MySQL, then you've really made
a commercial product that requires the engine, so you need a license.

<LI>

If your application does not require MySQL, you do not need to obtain
a license.  For example, if using MySQL just adds some new optional
features to your product (such as adding logging to a database if
MySQL is used rather than logging to a text file), it should
fall within normal use, and a license would not be required.

<LI>

In other words, you need a license if you sell a product designed
specifically for use with MySQL or that requires the
MySQL server to function at all.  This is true whether or not
you provide MySQL for your client as part of your product
distribution.

<LI>

It also depends on what you're doing for the client.  Do you plan to
provide your client with detailed instructions on installing
MySQL with your software?  Then your product may be contingent
on the use of MySQL; if so, you need to buy a license.  If you
are simply tying into a database that you expect already to have been
installed by the time your software is purchased, then you probably
don't need a license.

</UL>



<H4><A NAME="ISP" HREF="manual_toc.html#ISP">1.3.4.2  ISP MySQL Services</A></H4>

<P>
<A NAME="IDX110"></A>
<A NAME="IDX111"></A>
<A NAME="IDX112"></A>
<A NAME="IDX113"></A>

</P>
<P>
Internet Service Providers (ISPs) often host MySQL servers for
their customers.  With the GPL license this does not require a license.

</P>
<P>
On the other hand, we do encourage people to use ISPs that have
MySQL support, as this will give them the confidence that if
they have some problem with their MySQL installation, their ISP
will be able to solve the problem for them (in some cases with the help
from the MySQL development team).

</P>
<P>
All ISPs that want to keep themselves up-to-date should subscribe
to our <CODE>announce</CODE> mailing list so that they can be aware of critical issues
that may be relevant for their MySQL installations.

</P>
<P>
Note that if the ISP doesn't have a license for MySQL,
it should give its customers at least read access to the source of
the MySQL installation so that its customers can verify that
it is patched correctly.

</P>



<H4><A NAME="Web_server" HREF="manual_toc.html#Web_server">1.3.4.3  Running a Web Server Using MySQL</A></H4>

<P>
<A NAME="IDX114"></A>
<A NAME="IDX115"></A>

</P>
<P>
If you use MySQL in conjunction with a Web server, you
do not have to pay for a license.

</P>
<P>
This is true even if you run a commercial Web server that uses
MySQL, because you are not selling an embedded MySQL
version yourself.  However, in this case we would like you to purchase
MySQL support, because MySQL is helping your enterprise.

</P>



<H2><A NAME="Compatibility" HREF="manual_toc.html#Compatibility">1.4  How Standards-compatible Is MySQL?</A></H2>

<P>
<A NAME="IDX116"></A>
<A NAME="IDX117"></A>
<A NAME="IDX118"></A>
<A NAME="IDX119"></A>

</P>

<P>
This section describes how MySQL relates to the ANSI SQL standards.
MySQL has many extensions to the ANSI SQL standards, and here you
will find out what they are, and how to use them.  You will also find 
information about functionality missing from MySQL, and how to work 
around some differences.  

</P>



<H3><A NAME="Extensions_to_ANSI" HREF="manual_toc.html#Extensions_to_ANSI">1.4.1  MySQL Extensions to ANSI SQL92</A></H3>

<P>
<A NAME="IDX120"></A>
MySQL includes some extensions that you probably will not find in
other SQL databases.  Be warned that if you use them, your code will not be
portable to other SQL servers.  In some cases, you can write code that
includes MySQL extensions, but is still portable, by using comments
of the form <CODE>/*! ... */</CODE>.  In this case, MySQL will parse and
execute the code within the comment as it would any other MySQL
statement, but other SQL servers will ignore the extensions.  For example:

</P>

<PRE>
SELECT /*! STRAIGHT_JOIN */ col_name FROM table1,table2 WHERE ...
</PRE>

<P>
If you add a version number after the <CODE>'!'</CODE>, the syntax will only be
executed if the MySQL version is equal to or newer than the used
version number:

</P>

<PRE>
CREATE /*!32302 TEMPORARY */ TABLE (a int);
</PRE>

<P>
The above means that if you have Version 3.23.02 or newer, then MySQL
will use the <CODE>TEMPORARY</CODE> keyword.

</P>
<P>
MySQL extensions are listed below:

</P>

<UL>
<LI>

The field types <CODE>MEDIUMINT</CODE>, <CODE>SET</CODE>, <CODE>ENUM</CODE>, and the
different <CODE>BLOB</CODE> and <CODE>TEXT</CODE> types.

<LI>

The field attributes <CODE>AUTO_INCREMENT</CODE>, <CODE>BINARY</CODE>, <CODE>NULL</CODE>,
<CODE>UNSIGNED</CODE>, and <CODE>ZEROFILL</CODE>.

<LI>

All string comparisons are case insensitive by default, with sort
ordering determined by the current character set (ISO-8859-1 Latin1 by
default).  If you don't like this, you should declare your columns with
the <CODE>BINARY</CODE> attribute or use the <CODE>BINARY</CODE> cast, which causes
comparisons to be done according to the ASCII order used on the
MySQL server host.

<LI>

MySQL maps each database to a directory under the MySQL
data directory, and tables within a database to filenames in the database
directory.

This has a few implications:

<A NAME="IDX121"></A>
<A NAME="IDX122"></A>
<A NAME="IDX123"></A>
<A NAME="IDX124"></A>


<UL>

<LI>

Database names and table names are case sensitive in MySQL on
operating systems that have case-sensitive filenames (like most Unix
systems). See section <A HREF="manual.html#Name_case_sensitivity">6.1.3  Case Sensitivity in Names</A>.

<LI>

Database, table, index, column, or alias names may begin with a digit
(but may not consist solely of digits).

<LI>

You can use standard system commands to backup, rename, move, delete, and copy
tables.  For example, to rename a table, rename the <TT>`.MYD'</TT>, <TT>`.MYI'</TT>,
and <TT>`.frm'</TT> files to which the table corresponds.
</UL>

<LI>

In SQL statements, you can access tables from different databases
with the <CODE>db_name.tbl_name</CODE> syntax.  Some SQL servers provide
the same functionality but call this <CODE>User space</CODE>.
MySQL doesn't support tablespaces as in:
<CODE>create table ralph.my_table...IN my_tablespace</CODE>.

<LI>

<CODE>LIKE</CODE> is allowed on numeric columns.

<LI>

Use of <CODE>INTO OUTFILE</CODE> and <CODE>STRAIGHT_JOIN</CODE> in a <CODE>SELECT</CODE>
statement. See section <A HREF="manual.html#SELECT">6.4.1  <CODE>SELECT</CODE> Syntax</A>.

<LI>

The <CODE>SQL_SMALL_RESULT</CODE> option in a <CODE>SELECT</CODE> statement.

<LI>

<CODE>EXPLAIN SELECT</CODE> to get a description on how tables are joined.

<LI>

Use of index names, indexes on a prefix of a field, and use of
<CODE>INDEX</CODE> or <CODE>KEY</CODE> in a <CODE>CREATE TABLE</CODE>
statement. See section <A HREF="manual.html#CREATE_TABLE">6.5.3  <CODE>CREATE TABLE</CODE> Syntax</A>.

<LI>

Use of <CODE>TEMPORARY</CODE> or <CODE>IF NOT EXISTS</CODE> with <CODE>CREATE TABLE</CODE>.

<LI>

Use of <CODE>COUNT(DISTINCT list)</CODE> where 'list' is more than one element.

<LI>

Use of <CODE>CHANGE col_name</CODE>, <CODE>DROP col_name</CODE>, or <CODE>DROP
INDEX</CODE>, <CODE>IGNORE</CODE> or <CODE>RENAME</CODE> in an <CODE>ALTER TABLE</CODE>
statement. See section <A HREF="manual.html#ALTER_TABLE">6.5.4  <CODE>ALTER TABLE</CODE> Syntax</A>.

<LI>

Use of <CODE>RENAME TABLE</CODE>. See section <A HREF="manual.html#RENAME_TABLE">6.5.5  <CODE>RENAME TABLE</CODE> Syntax</A>.

<LI>

Use of multiple <CODE>ADD</CODE>, <CODE>ALTER</CODE>, <CODE>DROP</CODE>, or <CODE>CHANGE</CODE>
clauses in an <CODE>ALTER TABLE</CODE> statement.

<LI>

Use of <CODE>DROP TABLE</CODE> with the keywords <CODE>IF EXISTS</CODE>.

<LI>

You can drop multiple tables with a single <CODE>DROP TABLE</CODE> statement.

<LI>

The <CODE>LIMIT</CODE> clause of the <CODE>DELETE</CODE> statement.

<LI>

The <CODE>DELAYED</CODE> clause of the <CODE>INSERT</CODE> and <CODE>REPLACE</CODE>
statements.

<LI>

The <CODE>LOW_PRIORITY</CODE> clause of the <CODE>INSERT</CODE>, <CODE>REPLACE</CODE>,
<CODE>DELETE</CODE>, and <CODE>UPDATE</CODE> statements.

<A NAME="IDX125"></A>
<A NAME="IDX126"></A>
<LI>

Use of <CODE>LOAD DATA INFILE</CODE>. In many cases, this syntax is compatible with
Oracle's <CODE>LOAD DATA INFILE</CODE>. See section <A HREF="manual.html#LOAD_DATA">6.4.9  <CODE>LOAD DATA INFILE</CODE> Syntax</A>.

<LI>

The <CODE>ANALYZE TABLE</CODE>, <CODE>CHECK TABLE</CODE>, <CODE>OPTIMIZE TABLE</CODE>, and
<CODE>REPAIR TABLE</CODE> statements.

<LI>

The <CODE>SHOW</CODE> statement.
See section <A HREF="manual.html#SHOW">4.5.5  <CODE>SHOW</CODE> Syntax</A>.

<LI>

Strings may be enclosed by either <SAMP>`"'</SAMP> or <SAMP>`''</SAMP>, not just by <SAMP>`''</SAMP>.

<LI>

Use of the escape <SAMP>`\'</SAMP> character.

<LI>

The <CODE>SET OPTION</CODE> statement. See section <A HREF="manual.html#SET_OPTION">5.5.6  <CODE>SET</CODE> Syntax</A>.

<LI>

You don't need to name all selected columns in the <CODE>GROUP BY</CODE> part.
This gives better performance for some very specific, but quite normal
queries.
See section <A HREF="manual.html#Group_by_functions">M.3  Functions for Use with <CODE>GROUP BY</CODE> Clauses</A>.

<LI>

One can specify <CODE>ASC</CODE> and <CODE>DESC</CODE> with <CODE>GROUP BY</CODE>.

<LI>

To make it easier for users who come from other SQL environments,
MySQL supports aliases for many functions. For example, all
string functions support both ANSI SQL syntax and ODBC syntax.

<LI>

MySQL understands the <CODE>||</CODE> and <CODE>&#38;&</CODE> operators to mean
logical OR and AND, as in the C programming language.  In MySQL,
<CODE>||</CODE> and <CODE>OR</CODE> are synonyms, as are <CODE>&#38;&</CODE> and <CODE>AND</CODE>.
Because of this nice syntax, MySQL doesn't support
the ANSI SQL <CODE>||</CODE> operator for string concatenation; use
<CODE>CONCAT()</CODE> instead. Because <CODE>CONCAT()</CODE> takes any number
of arguments, it's easy to convert use of the <CODE>||</CODE> operator to
MySQL.

<LI>

<CODE>CREATE DATABASE</CODE> or <CODE>DROP DATABASE</CODE>.
See section <A HREF="manual.html#CREATE_DATABASE">6.5.1  <CODE>CREATE DATABASE</CODE> Syntax</A>.

<A NAME="IDX127"></A>
<A NAME="IDX128"></A>
<LI>

The <CODE>%</CODE> operator is a synonym for <CODE>MOD()</CODE>.  That is,
<CODE>N % M</CODE> is equivalent to <CODE>MOD(N,M)</CODE>.  <CODE>%</CODE> is supported
for C programmers and for compatibility with PostgreSQL.

<LI>

The <CODE>=</CODE>, <CODE>&#60;&#62;</CODE>, <CODE>&#60;=</CODE> ,<CODE>&#60;</CODE>, <CODE>&#62;=</CODE>,<CODE>&#62;</CODE>,
<CODE>&#60;&#60;</CODE>, <CODE>&#62;&#62;</CODE>, <CODE>&#60;=&#62;</CODE>, <CODE>AND</CODE>, <CODE>OR</CODE>, or <CODE>LIKE</CODE>
operators may be used in column comparisons to the left of the
<CODE>FROM</CODE> in <CODE>SELECT</CODE> statements.  For example:


<PRE>
mysql&#62; SELECT col1=1 AND col2=2 FROM tbl_name;
</PRE>

<LI>

The <CODE>LAST_INSERT_ID()</CODE> function.
See section <A HREF="manual.html#mysql_insert_id">8.4.3.126  <CODE>mysql_insert_id()</CODE></A>.

<LI>

The <CODE>REGEXP</CODE> and <CODE>NOT REGEXP</CODE> extended regular expression
operators.

<LI>

<CODE>CONCAT()</CODE> or <CODE>CHAR()</CODE> with one argument or more than two
arguments.  (In MySQL, these functions can take any number of
arguments.)

<LI>The <CODE>BIT_COUNT()</CODE>, <CODE>CASE</CODE>, <CODE>ELT()</CODE>,

<CODE>FROM_DAYS()</CODE>, <CODE>FORMAT()</CODE>, <CODE>IF()</CODE>, <CODE>PASSWORD()</CODE>,
<CODE>ENCRYPT()</CODE>, <CODE>md5()</CODE>, <CODE>ENCODE()</CODE>, <CODE>DECODE()</CODE>,
<CODE>PERIOD_ADD()</CODE>, <CODE>PERIOD_DIFF()</CODE>, <CODE>TO_DAYS()</CODE>, or
<CODE>WEEKDAY()</CODE> functions.

<LI>

Use of <CODE>TRIM()</CODE> to trim substrings. ANSI SQL only supports removal
of single characters.

<LI>

The <CODE>GROUP BY</CODE> functions <CODE>STD()</CODE>, <CODE>BIT_OR()</CODE>, and
<CODE>BIT_AND()</CODE>.

<LI>

Use of <CODE>REPLACE</CODE> instead of <CODE>DELETE</CODE> + <CODE>INSERT</CODE>.
See section <A HREF="manual.html#REPLACE">6.4.8  <CODE>REPLACE</CODE> Syntax</A>.

<LI>

The <CODE>FLUSH flush_option</CODE> statement.

<LI>

The possibility to set variables in a statement with <CODE>:=</CODE>:

<PRE>
SELECT @a:=SUM(total),@b=COUNT(*),@a/@b AS avg FROM test_table;
SELECT @t1:=(@t2:=1)+@t3:=4,@t1,@t2,@t3;
</PRE>

</UL>



<H3><A NAME="Differences_from_ANSI" HREF="manual_toc.html#Differences_from_ANSI">1.4.2  MySQL Differences Compared to ANSI SQL92</A></H3>

<P>
We try to make MySQL follow the ANSI SQL standard and the
ODBC SQL standard, but in some cases MySQL does some things
differently:

</P>

<UL>
<LI>

<CODE>--</CODE> is only a comment if followed by a white space. See section <A HREF="manual.html#Missing_comments">1.4.4.8  <SAMP>`--'</SAMP> as the Start of a Comment</A>.

<LI>

For <CODE>VARCHAR</CODE> columns, trailing spaces are removed when the value is
stored. See section <A HREF="manual.html#Bugs">1.4.7  Known errors and design deficiencies in MySQL</A>.

<LI>

In some cases, <CODE>CHAR</CODE> columns are silently changed to <CODE>VARCHAR</CODE>
columns. See section <A HREF="manual.html#Silent_column_changes">6.5.3.1  Silent Column Specification Changes</A>.

<LI>

Privileges for a table are not automatically revoked when you delete a
table. You must explicitly issue a <CODE>REVOKE</CODE> to revoke privileges for
a table. See section <A HREF="manual.html#GRANT">4.3.1  <CODE>GRANT</CODE> and <CODE>REVOKE</CODE> Syntax</A>.

<LI>

<CODE>NULL AND FALSE</CODE> will evaluate to <CODE>NULL</CODE> and not to <CODE>FALSE</CODE>.
This is because we don't think it's good to have to evaluate a lot of
extra conditions in this case.
</UL>



<H3><A NAME="ANSI_mode" HREF="manual_toc.html#ANSI_mode">1.4.3  Running MySQL in ANSI Mode</A></H3>

<P>
<A NAME="IDX129"></A>
<A NAME="IDX130"></A>

</P>
<P>
If you start <CODE>mysqld</CODE> with the <CODE>--ansi</CODE> option, the following
behavior of MySQL changes:

</P>

<UL>
<LI>

<CODE>||</CODE> is string concatenation instead of <CODE>OR</CODE>.

<LI>

You can have any number of spaces between a function name and the <SAMP>`('</SAMP>.
This forces all function names to be treated as reserved words.

<LI>

<SAMP>`"'</SAMP> will be an identifier quote character (like the MySQL
<SAMP>``'</SAMP> quote character) and not a string quote character.

<LI>

<CODE>REAL</CODE> will be a synonym for <CODE>FLOAT</CODE> instead of a synonym of
<CODE>DOUBLE</CODE>.

<LI>

The default transaction isolation level is <CODE>SERIALIZABLE</CODE>.
See section <A HREF="manual.html#SET_TRANSACTION">6.7.3  <CODE>SET TRANSACTION</CODE> Syntax</A>.
</UL>

<P>
This is the same as using <CODE>--sql-mode=REAL_AS_FLOAT,PIPES_AS_CONCAT,ANSI_QUOTES,IGNORE_SPACE,SERIALIZE,ONLY_FULL_GROUP_BY</CODE>.

</P>


<H3><A NAME="Missing_functions" HREF="manual_toc.html#Missing_functions">1.4.4  Functionality Missing from MySQL</A></H3>

<P>
<A NAME="IDX131"></A>
<A NAME="IDX132"></A>

</P>
<P>
The following functionality is missing in the current version of
MySQL.  For a prioritized list indicating when new extensions
may be added to MySQL, you should consult
<a HREF="http://www.mysql.com/documentation/manual.php?section=TODO"> the
online MySQL TODO list</a>. That is the latest version of the TODO
list in this manual. See section <A HREF="manual.html#TODO">1.6  MySQL and the future (The TODO)</A>.

</P>



<H4><A NAME="Missing_Sub-selects" HREF="manual_toc.html#Missing_Sub-selects">1.4.4.1  Sub-selects</A></H4>

<P>
<A NAME="IDX133"></A>

</P>
<P>
MySQL currently only supports sub selects of the form <CODE>INSERT
... SELECT ...</CODE> and <CODE>REPLACE ... SELECT ...</CODE>. You can however use
the function <CODE>IN()</CODE> in other contexts.

</P>
<P>
In many cases you can rewrite the query without a sub-select:

</P>

<PRE>
SELECT * FROM table1 WHERE id IN (SELECT id FROM table2);
</PRE>

<P>
This can be re-written as:

</P>

<PRE>
SELECT table1.* FROM table1,table2 WHERE table1.id=table2.id;
</PRE>

<P>
The queries:

<PRE>
SELECT * FROM table1 WHERE id NOT IN (SELECT id FROM table2);
SELECT * FROM table1 WHERE NOT EXISTS (SELECT id FROM table2 where table1.id=table2.id);
</PRE>

<P>
Can be rewritten as:

</P>

<PRE>
SELECT table1.* FROM table1 LEFT JOIN table2 ON table1.id=table2.id where table2.id IS NULL
</PRE>

<P>
For more complicated subqueries you can often create temporary tables
to hold the subquery.  In some cases, however this option will not
work. The most frequently encountered of these cases arises with
<CODE>DELETE</CODE> statements, for which standard SQL does not support joins
(except in sub-selects).  For this situation there are two options
available until subqueries are supported by MySQL.

</P>
<P>
The first option is to use a procedural programming language (such as
Perl or PHP) to submit a <CODE>SELECT</CODE> query to obtain the primary keys
for the records to be deleted, and then use these values to construct
the <CODE>DELETE</CODE> statement (<CODE>DELETE FROM ... WHERE ... IN (key1,
key2, ...)</CODE>).

</P>
<P>
The second option is to use interactive SQL to contruct a set of
<CODE>DELETE</CODE> statements automatically, using the MySQL
extension <CODE>CONCAT()</CODE> (in lieu of the standard <CODE>||</CODE> operator).
For example:

</P>

<PRE>
SELECT CONCAT('DELETE FROM tab1 WHERE pkid = ', tab1.pkid, ';')
  FROM tab1, tab2
 WHERE tab1.col1 = tab2.col2;
</PRE>

<P>
You can place this query in a script file and redirect input from it to
the <CODE>mysql</CODE> command-line interpreter, piping its output back to a
second instance of the interpreter:

</P>

<PRE>
prompt&#62; mysql --skip-column-names mydb &#60; myscript.sql | mysql mydb
</PRE>

<P>
MySQL 4.0 supports multi-table deletes that can be used to efficiently
delete rows based on information from one table or even from many tables
at the same time.

</P>


<H4><A NAME="Missing_SELECT_INTO_TABLE" HREF="manual_toc.html#Missing_SELECT_INTO_TABLE">1.4.4.2  <CODE>SELECT INTO TABLE</CODE></A></H4>

<P>
<A NAME="IDX134"></A>

</P>
<P>
MySQL doesn't yet support the Oracle SQL extension:
<CODE>SELECT ... INTO TABLE ...</CODE>.  MySQL supports instead the
ANSI SQL syntax <CODE>INSERT INTO ... SELECT ...</CODE>, which is basically
the same thing. See section <A HREF="manual.html#INSERT_SELECT">6.4.3.1  <CODE>INSERT ... SELECT</CODE> Syntax</A>.

</P>

<PRE>
INSERT INTO tblTemp2 (fldID) SELECT tblTemp1.fldOrder_ID FROM tblTemp1 WHERE
tblTemp1.fldOrder_ID &#62; 100;
</PRE>

<P>
Alternatively, you can use <CODE>SELECT INTO OUTFILE...</CODE> or <CODE>CREATE
TABLE ... SELECT</CODE> to solve your problem.

</P>



<H4><A NAME="Missing_Transactions" HREF="manual_toc.html#Missing_Transactions">1.4.4.3  Transactions</A></H4>

<P>
<A NAME="IDX135"></A>

</P>
<P>
As MySQL does nowadays support transactions, the following
discussion is only valid if you are only using the non-transaction-safe
table types. See section <A HREF="manual.html#COMMIT">6.7.1  <CODE>BEGIN/COMMIT/ROLLBACK</CODE> Syntax</A>.

</P>
<P>
The question is often asked, by the curious and the critical, ``Why is
MySQL not a transactional database?'' or ``Why does MySQL
not support transactions?''

</P>
<P>
MySQL has made a conscious decision to support another paradigm
for data integrity, ``atomic operations.'' It is our thinking and
experience that atomic operations offer equal or even better integrity
with much better performance. We, nonetheless, appreciate and understand
the transactional database paradigm and plan, within the next few releases,
to introduce transaction-safe tables on a per table basis. We will be
giving our users the possibility to decide if they need the speed of
atomic operations or if they need to use transactional features in their
applications.

</P>
<P>
How does one use the features of MySQL to maintain rigorous integrity
and how do these features compare with the transactional paradigm?

</P>
<P>
First, in the transactional paradigm, if your applications are written
in a way that is dependent on the calling of ``rollback'' instead of
``commit'' in critical situations, then transactions are more
convenient. Moreover, transactions ensure that unfinished updates or
corrupting activities are not committed to the database; the server is
given the opportunity to do an automatic rollback and your database is
saved.

</P>
<P>
MySQL, in almost all cases, allows you to solve for potential
problems by including simple checks before updates and by running simple
scripts that check the databases for inconsistencies and automatically
repair or warn if such occurs. Note that just by using the
MySQL log or even adding one extra log, one can normally fix
tables perfectly with no data integrity loss.

</P>
<P>
Moreover, fatal transactional updates can be rewritten to be
atomic. In fact,we will go so far as to say that all integrity problems
that transactions solve can be done with <CODE>LOCK TABLES</CODE> or atomic updates,
ensuring that you never will get an automatic abort from the database,
which is a common problem with transactional databases.

</P>
<P>
Not even transactions can prevent all loss if the server goes down.  In
such cases even a transactional system can lose data.  The difference
between different systems lies in just how small the time-lap is where
they could lose data. No system is 100% secure, only ``secure
enough.'' Even Oracle, reputed to be the safest of transactional
databases, is reported to sometimes lose data in such situations.

</P>
<P>
To be safe with MySQL, you only need to have backups and have
the update logging turned on.  With this you can recover from any
situation that you could with any transactional database.  It is, of
course, always good to have backups, independent of which database you
use.

</P>
<P>
The transactional paradigm has its benefits and its drawbacks. Many
users and application developers depend on the ease with which they can
code around problems where an abort appears to be, or is necessary, and they
may have to do a little more work with MySQL to either think
differently or write more. If you are new to the atomic operations
paradigm, or more familiar or more comfortable with transactions, do not
jump to the conclusion that MySQL has not addressed these
issues. Reliability and integrity are foremost in our minds.  Recent
estimates indicate that there are more than 1,000,000 <CODE>mysqld</CODE> servers
currently running, many of which are in production environments.  We
hear very, very seldom from our users that they have lost any data, and
in almost all of those cases user error is involved. This is, in our
opinion, the best proof of MySQL's stability and reliability.

</P>
<P>
Lastly, in situations where integrity is of highest importance,
MySQL's current features allow for transaction-level or better
reliability and integrity. If you lock tables with <CODE>LOCK TABLES</CODE>, all
updates will stall until any integrity checks are made.  If you only obtain
a read lock (as opposed to a write lock), then reads and inserts are
still allowed to happen.  The new inserted records will not be seen by
any of the clients that have a <CODE>READ</CODE> lock until they release their read
locks.  With <CODE>INSERT DELAYED</CODE> you can queue inserts into a local queue,
until the locks are released, without having the client wait for the insert
to complete. See section <A HREF="manual.html#INSERT_DELAYED">6.4.4  <CODE>INSERT DELAYED</CODE> syntax</A>.

</P>
<P>
``Atomic,'' in the sense that we mean it, is nothing magical. It only means
that you can be sure that while each specific update is running, no other
user can interfere with it, and there will never be an automatic
rollback (which can happen on transaction based systems if you are not
very careful).  MySQL also guarantees that there will not be
any dirty reads.  You can find some example of how to write atomic updates
in the commit-rollback section. See section <A HREF="manual.html#Commit-rollback">1.4.6  How to Cope Without <CODE>COMMIT</CODE>/<CODE>ROLLBACK</CODE></A>.

</P>
<P>
We have thought quite a bit about integrity and performance, and we
believe that our atomic operations paradigm allows for both high
reliability and extremely high performance, on the order of three to
five times the speed of the fastest and most optimally tuned of
transactional databases. We didn't leave out transactions because they
are hard to do. The main reason we went with atomic operations as
opposed to transactions is that by doing this we could apply many speed
optimizations that would not otherwise have been possible.

</P>
<P>
Many of our users who have speed foremost in their minds are not at all
concerned about transactions. For them transactions are not an
issue. For those of our users who are concerned with or have wondered
about transactions vis-a-vis MySQL, there is a ``MySQL
way'' as we have outlined above.  For those where safety is more
important than speed, we recommend them to use the <CODE>BDB</CODE>,
or <CODE>InnoDB</CODE> tables for all their critical data. See section <A HREF="manual.html#Table_types">7  MySQL Table Types</A>.

</P>
<P>
One final note: We are currently working on a safe replication schema
that we believe to be better than any commercial replication system we
know of. This system will work most reliably under the atomic
operations, non-transactional, paradigm. Stay tuned.

</P>



<H4><A NAME="Missing_Triggers" HREF="manual_toc.html#Missing_Triggers">1.4.4.4  Stored Procedures and Triggers</A></H4>

<P>
<A NAME="IDX136"></A>
<A NAME="IDX137"></A>
<A NAME="IDX138"></A>

</P>
<P>
A stored procedure is a set of SQL commands that can be compiled and stored
in the server. Once this has been done, clients don't need to keep reissuing
the entire query but can refer to the stored procedure. This provides better
performance because the query has to be parsed only once, and less information
needs to be sent between the server and the client. You can also raise the
conceptual level by having libraries of functions in the server.

</P>
<P>
A trigger is a stored procedure that is invoked when a particular event
occurs.  For example, you can install a stored procedure that is triggered
each time a record is deleted from a transaction table and that automatically
deletes the corresponding customer from a customer table when all his
transactions are deleted.

</P>
<P>
The planned update language will be able to
handle stored procedures, but without triggers. Triggers usually slow
down everything, even queries for which they are not needed.

</P>
<P>
To see when MySQL might get stored procedures, see section <A HREF="manual.html#TODO">1.6  MySQL and the future (The TODO)</A>.

</P>



<H4><A NAME="Missing_Foreign_Keys" HREF="manual_toc.html#Missing_Foreign_Keys">1.4.4.5  Foreign Keys</A></H4>

<P>
<A NAME="IDX139"></A>
<A NAME="IDX140"></A>

</P>
<P>
Note that foreign keys in SQL are not used to join tables, but are used
mostly for checking referential integrity (foreign key constraints).  If
you want to get results from multiple tables from a <CODE>SELECT</CODE>
statement, you do this by joining tables:

</P>

<PRE>
SELECT * from table1,table2 where table1.id = table2.id;
</PRE>

<P>
See section <A HREF="manual.html#JOIN">6.4.1.1  <CODE>JOIN</CODE> Syntax</A>. See section <A HREF="manual.html#example-Foreign_keys">3.5.6  Using Foreign Keys</A>.

</P>
<P>
The <CODE>FOREIGN KEY</CODE> syntax in MySQL exists only for compatibility
with other SQL vendors' <CODE>CREATE TABLE</CODE> commands; it doesn't do
anything.  The <CODE>FOREIGN KEY</CODE> syntax without <CODE>ON DELETE ...</CODE> is
mostly used for documentation purposes. Some ODBC applications may use this
to produce automatic <CODE>WHERE</CODE> clauses, but this is usually easy to
override. <CODE>FOREIGN KEY</CODE> is sometimes used as a constraint check, but
this check is unnecessary in practice if rows are inserted into the tables in
the right order. MySQL only supports these clauses because some
applications require them to exist (regardless of whether or not they
work).

</P>
<P>
In MySQL, you can work around the problem of <CODE>ON DELETE
...</CODE> not being implemented by adding the appropriate <CODE>DELETE</CODE> statement to
an application when you delete records from a table that has a foreign key.
In practice this is as quick (in some cases quicker) and much more portable
than using foreign keys.

</P>
<P>
In MySQL 4.0 you can use multi-table delete to delete rows from many
tables with one command. See section <A HREF="manual.html#DELETE">6.4.6  <CODE>DELETE</CODE> Syntax</A>.

</P>
<P>
In the near future we will extend the <CODE>FOREIGN KEY</CODE> implementation so
that at least the information will be saved in the table specification file
and may be retrieved by <CODE>mysqldump</CODE> and ODBC. At a later stage we will
implement the foreign key constraints for application that can't easily be
coded to avoid them.

</P>
<P>
MySQL 3.23.44 and forwards, InnoDB tables supports checking of foreign
key constraints. See section <A HREF="manual.html#InnoDB">7.6  InnoDB Tables</A>.

</P>



<H4><A NAME="Broken_Foreign_KEY" HREF="manual_toc.html#Broken_Foreign_KEY">1.4.4.6  Why We Did Not Implement Foreign Keys</A></H4>

<P>
<A NAME="IDX141"></A>

</P>
<P>
Many database scholars and programmers feel very strongly that
referential integrity should be enforced inside the database server. Indeed,
in many cases, this approach is very helpful. However, in talking with many
database users we have observed that foreign keys are often misused, which
can cause severe problems. Even when used properly, it is not a
magic solution for the referential integrity problem, although it does make
things easier in some cases.

</P>
<P>
Because of the above observations, we did not assign implementing foreign
keys a high priority. Our user base consisted of mostly of developers who
did not mind enforcing referential integerity inside the application code,
and in fact, preferred to do it that way because it gave them more control.

</P>
<P>
However, in the last couple of years, our user base has expanded a great deal
and we now have many users who would like to have the enforced referential
integrity support inside MySQL. So we will implement the foreign keys in
the near future, although at this point we cannot provide a definite
delivery date.

</P>
<P>
Some advantages of foreign key enforcement:

</P>

<UL>
<LI>

Assuming proper design of the relations, foreign key constraints will make it
more difficult for a programmer to introduce an inconsistency into the
database

<LI>

Using cascading updates and deletes can simplify the client code

<LI>

Properly designed foreign key rules aid in documenting relations between
tables
</UL>

<P>
Disadvantages:

</P>

<UL>
<LI>

MySQL does not yet support enforced referential integrity, so if your
application depends on it, you will not be able to use it with MySQL until
we implement this feature.

<LI>

Mistakes, that are easy to make in designing key relations, can cause severe
problems, for example, circular rules, or the wrong combination of cascading
deletes.

<LI>

A properly written application will make sure internally that it is not
violating referential integrity constraints before proceding with a query.
Thus, additionaly checks on the database level will only slow down performance
for such application.

<LI>

It is not uncommon for a DBA to make such a complex topology of relations that
it becomes very difficult, and in some cases impossible to backup or restore
individual tables.
</UL>



<H4><A NAME="Missing_Views" HREF="manual_toc.html#Missing_Views">1.4.4.7  Views</A></H4>

<P>
<A NAME="IDX142"></A>

</P>
<P>
MySQL doesn't yet support views, but we plan to implement these
to about 4.1.

</P>
<P>
Views are mostly useful for letting users access a set of relations as one
table (in read-only mode).  Many SQL databases don't allow one to update
any rows in a view, but you have to do the updates in the separate tables.

</P>
<P>
As MySQL is mostly used in applications and on web system where
the application writer has full control on the database usage, most of
our users haven't regarded views to be very important. (At least no one
has been interested enough in this to be prepared to finance the
implementation of views).

</P>
<P>
One doesn't need views in MySQL to restrict access to columns
as MySQL has a very sophisticated privilege
system. See section <A HREF="manual.html#Privilege_system">4.2  General Security Issues and the MySQL Access Privilege System</A>.

</P>



<H4><A NAME="Missing_comments" HREF="manual_toc.html#Missing_comments">1.4.4.8  <SAMP>`--'</SAMP> as the Start of a Comment</A></H4>

<P>
<A NAME="IDX143"></A>
<A NAME="IDX144"></A>

</P>
<P>
Some other SQL databases use <SAMP>`--'</SAMP> to start comments. MySQL
has <SAMP>`#'</SAMP> as the start comment character, even if the <CODE>mysql</CODE>
command-line tool removes all lines that start with <SAMP>`--'</SAMP>.
You can also use the C comment style <CODE>/* this is a comment */</CODE> with
MySQL.
See section <A HREF="manual.html#Comments">6.1.5  Comment Syntax</A>.

</P>
<P>
MySQL Version 3.23.3 and above supports the <SAMP>`--'</SAMP> comment style
only if the comment is followed by a space.  This is because this
degenerate comment style has caused many problems with automatically
generated SQL queries that have used something like the following code,
where we automatically insert the value of the payment for
<CODE>!payment!</CODE>:

</P>

<PRE>
UPDATE tbl_name SET credit=credit-!payment!
</PRE>

<P>
What do you think will happen when the value of <CODE>payment</CODE> is negative?

</P>
<P>
Because <CODE>1--1</CODE> is legal in SQL, we think it is terrible that
<SAMP>`--'</SAMP> means start comment.

</P>
<P>
In MySQL Version 3.23 you can, however, use:
<CODE>1-- This is a comment</CODE>

</P>
<P>
The following discussion only concerns you if you are running a MySQL
version earlier than Version 3.23:

</P>
<P>
If you have a SQL program in a text file that contains <SAMP>`--'</SAMP> comments
you should use:

</P>

<PRE>
shell&#62; replace " --" " #" &#60; text-file-with-funny-comments.sql \
         | mysql database
</PRE>

<P>
instead of the usual:

</P>

<PRE>
shell&#62; mysql database &#60; text-file-with-funny-comments.sql
</PRE>

<P>
You can also edit the command file ``in place'' to change the <SAMP>`--'</SAMP>
comments to <SAMP>`#'</SAMP> comments:

</P>

<PRE>
shell&#62; replace " --" " #" -- text-file-with-funny-comments.sql
</PRE>

<P>
Change them back with this command:

</P>

<PRE>
shell&#62; replace " #" " --" -- text-file-with-funny-comments.sql
</PRE>



<H3><A NAME="Standards" HREF="manual_toc.html#Standards">1.4.5  What Standards Does MySQL Follow?</A></H3>

<P>
Entry level SQL92. ODBC levels 0-2.

</P>



<H3><A NAME="Commit-rollback" HREF="manual_toc.html#Commit-rollback">1.4.6  How to Cope Without <CODE>COMMIT</CODE>/<CODE>ROLLBACK</CODE></A></H3>

<P>
<A NAME="IDX145"></A>
<A NAME="IDX146"></A>
<A NAME="IDX147"></A>
<A NAME="IDX148"></A>
<A NAME="IDX149"></A>
<A NAME="IDX150"></A>
<A NAME="IDX151"></A>

</P>
<P>
The following mostly applies only for <CODE>ISAM</CODE>, <CODE>MyISAM</CODE>, and
<CODE>HEAP</CODE> tables. If you only use transaction-safe tables (<CODE>BDB</CODE>,
or <CODE>InnoDB</CODE> tables) in an an update, you can do
<CODE>COMMIT</CODE> and <CODE>ROLLBACK</CODE> also with MySQL.
See section <A HREF="manual.html#COMMIT">6.7.1  <CODE>BEGIN/COMMIT/ROLLBACK</CODE> Syntax</A>.

</P>
<P>
The problem with handling <CODE>COMMIT</CODE>-<CODE>ROLLBACK</CODE> efficiently with
the above table types would require a completely different table layout
than MySQL uses today.  The table type would also need extra
threads that do automatic cleanups on the tables, and the disk usage
would be much higher. This would make these table types about 2-4 times
slower than they are today.

</P>
<P>
For the moment, we prefer implementing the SQL server language (something
like stored procedures). With this you would very seldom really need
<CODE>COMMIT</CODE>-<CODE>ROLLBACK.</CODE> This would also give much better performance.

</P>
<P>
Loops that need transactions normally can be coded with the help of
<CODE>LOCK TABLES</CODE>, and you don't need cursors when you can update records
on the fly.

</P>
<P>
We at TcX had a greater need for a real fast database than a 100%
general database. Whenever we find a way to implement these features without
any speed loss, we will probably do it. For the moment, there are many more
important things to do. Check the TODO for how we prioritize things at
the moment. (Customers with higher levels of support can alter this, so
things may be reprioritized.)

</P>
<P>
The current problem is actually <CODE>ROLLBACK</CODE>. Without
<CODE>ROLLBACK</CODE>, you can do any kind of <CODE>COMMIT</CODE> action with
<CODE>LOCK TABLES</CODE>. To support <CODE>ROLLBACK</CODE> with the above table
types, MySQL would have to be changed to store all old records
that were updated and revert everything back to the starting point if
<CODE>ROLLBACK</CODE> was issued. For simple cases, this isn't that hard to do
(the current <CODE>isamlog</CODE> could be used for this purpose), but it
would be much more difficult to implement <CODE>ROLLBACK</CODE> for
<CODE>ALTER/DROP/CREATE TABLE</CODE>.

</P>
<P>
To avoid using <CODE>ROLLBACK</CODE>, you can use the following strategy:

</P>

<OL>
<LI>

Use <CODE>LOCK TABLES ...</CODE> to lock all the tables you want to access.
<LI>

Test conditions.
<LI>

Update if everything is okay.
<LI>

Use <CODE>UNLOCK TABLES</CODE> to release your locks.
</OL>

<P>
This is usually a much faster method than using transactions with possible
<CODE>ROLLBACK</CODE>s, although not always. The only situation this solution
doesn't handle is when someone kills the threads in the middle of an
update. In this case, all locks will be released but some of the updates may
not have been executed.

</P>
<P>
You can also use functions to update records in a single operation.
You can get a very efficient application by using the following techniques:

</P>

<UL>
<LI>Modify fields relative to their current value.

<LI>Update only those fields that actually have changed.

</UL>

<P>
For example, when we are doing updates to some customer information, we
update only the customer data that has changed and test only that none of
the changed data, or data that depend on the changed data, has changed
compared to the original row. The test for changed data is done with the
<CODE>WHERE</CODE> clause in the <CODE>UPDATE</CODE> statement. If the record wasn't
updated, we give the client a message: "Some of the data you have changed
have been changed by another user". Then we show the old row versus the new
row in a window, so the user can decide which version of the customer record
he should use.

</P>
<P>
This gives us something that is similar to column locking but is actually
even better, because we only update some of the columns, using values that
are relative to their current values.  This means that typical <CODE>UPDATE</CODE>
statements look something like these:

</P>

<PRE>
UPDATE tablename SET pay_back=pay_back+'relative change';

UPDATE customer
  SET
    customer_date='current_date',
    address='new address',
    phone='new phone',
    money_he_owes_us=money_he_owes_us+'new_money'
  WHERE
    customer_id=id AND address='old address' AND phone='old phone';
</PRE>

<P>
As you can see, this is very efficient and works even if another client has
changed the values in the <CODE>pay_back</CODE> or <CODE>money_he_owes_us</CODE> columns.

</P>
<P>
<A NAME="IDX152"></A>
<A NAME="IDX153"></A>
In many cases, users have wanted <CODE>ROLLBACK</CODE> and/or <CODE>LOCK
TABLES</CODE> for the purpose of managing unique identifiers for some tables. This
can be handled much more efficiently by using an <CODE>AUTO_INCREMENT</CODE> column
and either the SQL function <CODE>LAST_INSERT_ID()</CODE> or the C API function
<CODE>mysql_insert_id()</CODE>. See section <A HREF="manual.html#mysql_insert_id">8.4.3.126  <CODE>mysql_insert_id()</CODE></A>.

</P>
<P>
<A NAME="IDX154"></A>
At MySQL AB, we have never had any need for row-level locking
because we have always been able to code around it. Some cases really need
row locking, but they are very few. If you want row-level locking, you
can use a flag column in the table and do something like this:

</P>

<PRE>
UPDATE tbl_name SET row_flag=1 WHERE id=ID;
</PRE>

<P>
MySQL returns 1 for the number of affected rows if the row was
found and <CODE>row_flag</CODE> wasn't already 1 in the original row.

</P>
<P>
You can think of it as MySQL changed the above query to:

</P>

<PRE>
UPDATE tbl_name SET row_flag=1 WHERE id=ID and row_flag &#60;&#62; 1;
</PRE>



<H3><A NAME="Bugs" HREF="manual_toc.html#Bugs">1.4.7  Known errors and design deficiencies in MySQL</A></H3>

<P>
<A NAME="IDX155"></A>
<A NAME="IDX156"></A>
<A NAME="IDX157"></A>
<A NAME="IDX158"></A>

</P>
<P>
The following problems are known and have a very high priority to get
fixed:

</P>

<UL>
<LI>

<CODE>ANALYZE TABLE</CODE> on a BDB table may in some case make the table
unusable until one has restarted <CODE>mysqld</CODE>.  When this happens you will
see errors like the following in the MySQL error file:


<PRE>
001207 22:07:56  bdb:  log_flush: LSN past current end-of-log
</PRE>

<LI>

Don't execute <CODE>ALTER TABLE</CODE> on a <CODE>BDB</CODE> table on which you are
running not completed multi-statement transactions. (The transaction
will probably be ignored).

<LI>

<CODE>ANALYZE TABLE</CODE>, <CODE>OPTIMIZE TABLE</CODE> and <CODE>REPAIR TABLE</CODE> may
cause problems on tables for which you are using <CODE>INSERT DELAYED</CODE>.

<LI>

Doing a <CODE>LOCK TABLE ..</CODE> and <CODE>FLUSH TABLES ..</CODE> doesn't
guarantee that there isn't a half-finished transaction in progress on the
table.

<LI>

BDB tables are a bit slow to open. If you have many BDB tables in a
database, it will take a long time to use the <CODE>mysql</CODE> client on the
database if you are not using the <CODE>-A</CODE> option or if you are using
<CODE>rehash</CODE>. This is especially notable when you have a big table
cache.

<LI>

Th current replication protocol cannot deal with <CODE>LOAD DATA INFILE</CODE>
and line terminator characters of more than 1 character.
</UL>

<P>
The following problems are known and will be fixed in due time:

</P>

<UL>
<LI>

For the moment <CODE>MATCH</CODE> only works with <CODE>SELECT</CODE> statements.

<LI>

When using <CODE>SET CHARACTER SET</CODE>, one can't use translated
characters in database, table and column names.

<LI>

<CODE>DELETE FROM merge_table</CODE> used without a <CODE>WHERE</CODE>
will only clear the mapping for the table, not delete everything in the
mapped tables.

<LI>

You cannot build in another directory when using
MIT-pthreads. Because this requires changes to MIT-pthreads, we are not
likely to fix this.

<LI>

<CODE>BLOB</CODE> values can't ``reliably'' be used in <CODE>GROUP BY</CODE> or
<CODE>ORDER BY</CODE> or <CODE>DISTINCT</CODE>. Only the first <CODE>max_sort_length</CODE>
bytes (default 1024) are used when comparing <CODE>BLOB</CODE>bs in these cases.
This can be changed with the <CODE>-O max_sort_length</CODE> option to
<CODE>mysqld</CODE>. A workaround for most cases is to use a substring:
<CODE>SELECT DISTINCT LEFT(blob,2048) FROM tbl_name</CODE>.

<LI>

Calculation is done with <CODE>BIGINT</CODE> or <CODE>DOUBLE</CODE> (both are
normally 64 bits long). It depends on the function which precision one
gets. The general rule is that bit functions are done with <CODE>BIGINT</CODE>
precision, <CODE>IF</CODE>, and <CODE>ELT()</CODE> with <CODE>BIGINT</CODE> or <CODE>DOUBLE</CODE>
precision and the rest with <CODE>DOUBLE</CODE> precision.  One should try to
avoid using bigger unsigned long long values than 63 bits
(9223372036854775807) for anything else than bit fields!
MySQL 4.0 has better <CODE>BIGINT</CODE> handling than 3.23.

<LI>

All string columns, except <CODE>BLOB</CODE> and <CODE>TEXT</CODE> columns, automatically
have all trailing spaces removed when retrieved. For <CODE>CHAR</CODE> types this
is okay, and may be regarded as a feature according to ANSI SQL92. The bug is
that in MySQL, <CODE>VARCHAR</CODE> columns are treated the same way.

<LI>

You can only have up to 255 <CODE>ENUM</CODE> and <CODE>SET</CODE> columns in one table.

<LI>

<CODE>safe_mysqld</CODE> re-directs all messages from <CODE>mysqld</CODE> to the
<CODE>mysqld</CODE> log.  One problem with this is that if you execute
<CODE>mysqladmin refresh</CODE> to close and reopen the log,
<CODE>stdout</CODE> and <CODE>stderr</CODE> are still redirected to the old log.
If you use <CODE>--log</CODE> extensively, you should edit <CODE>safe_mysqld</CODE> to
log to <TT>`'hostname'.err'</TT> instead of <TT>`'hostname'.log'</TT> so you can
easily reclaim the space for the old log by deleting the old one and
executing <CODE>mysqladmin refresh</CODE>.

<LI>

In the <CODE>UPDATE</CODE> statement, columns are updated from left to right.  If 
you refer to an updated column, you will get the updated value instead of the
original value. For example:


<PRE>
mysql&#62; UPDATE tbl_name SET KEY=KEY+1,KEY=KEY+1;
</PRE>

This will update <CODE>KEY</CODE> with <CODE>2</CODE> instead of with <CODE>1</CODE>.

<LI>

You can't use temporary tables more than once in the same query.
For example, the following doesn't work.


<PRE>
select * from temporary_table, temporary_table as t2;
</PRE>

<LI>

<CODE>RENAME</CODE> doesn't work with <CODE>TEMPORARY</CODE> tables.

<LI>

The optimizer may handle <CODE>DISTINCT</CODE> differently if you are using
'hidden' columns in a join or not.  In a join, hidden columns are
counted as part of the result (even if they are not shown) while in
normal queries hidden columns doesn't participate in the <CODE>DISTINCT</CODE>
comparison.  We will probably change this in the future to never compare
the hidden columns when executing <CODE>DISTINCT</CODE>

An example of this is:


<PRE>
SELECT DISTINCT mp3id FROM band_downloads WHERE userid = 9 ORDER BY id
DESC;
</PRE>

and


<PRE>
SELECT DISTINCT band_downloads.mp3id, FROM band_downloads,band_mp3
WHERE band_downloads.userid = 9 AND band_mp3.id = band_downloads.mp3id
ORDER BY band_downloads.id DESC;
</PRE>

In the second case you may in MySQL 3.23.x get two identical rows
in the result set (because the hidden 'id' column may differ).

Note that the this only happens for queries where you don't have the
ORDER BY columns in the result, something that is you are not allowed
to do in ANSI SQL.

<LI>

Because MySQL allows you to work with table types that doesn't
support transactions (and thus can't <CODE>rollback</CODE> data) some things
behaves a little different in MySQL than in other SQL servers:
(This is just to ensure that MySQL never need to do a rollback
for a SQL command).  This may be a little awkward at times as column
Because MySQL allows you to work with table types that don't
support transactions, and thus can't <CODE>rollback</CODE> data, some things
behave a little differently in MySQL than in other SQL servers.
This is just to ensure that MySQL never need to do a rollback
for a SQL command.  This may be a little awkward at times as column
values must be checked in the application, but this will actually give
you a nice speed increase as it allows MySQL to do some
optimizations that otherwise would be very hard to do.

If you set a column to an incorrect value, MySQL will, instead of
doing a rollback, store the <CODE>best possible value</CODE> in the column:


<UL>
<LI>

If you try to store a value outside the range in a numerical column,
MySQL will instead store the smallest or biggest possible value in
the column.

<LI>

If you try to store a string that doesn't start with a number into a
numerical column, MySQL will store 0 into it.

<LI>

If you try to store <CODE>NULL</CODE> into a column that doesn't take
<CODE>NULL</CODE> values, MySQL will store 0 or <CODE>''</CODE> (empty
string) in it instead. (This behavior can, however, be changed with the
-DDONT_USE_DEFAULT_FIELDS compile option).

<LI>

MySQL allows you to store some wrong date values into
<CODE>DATE</CODE> and <CODE>DATETIME</CODE> columns. (Like 2000-02-31 or 2000-02-00).
If the date is totally wrong, MySQL will store the special
0000-00-00 date value in the column.

<LI>

If you set an <CODE>ENUM</CODE> column to an unsupported value, it will be set to
the error value 'empty string', with numeric value 0.

<LI>

If you set an <CODE>SET</CODE> column to an unsupported value, the value will
be ignored. See section <A HREF="manual.html#Bugs">1.4.7  Known errors and design deficiencies in MySQL</A>.

</UL>

<LI>

If you execute a <CODE>PROCEDURE</CODE> on a query that returns an empty set,
in some cases the <CODE>PROCEDURE</CODE> will not transform the columns.

<LI>

Creation of a table of type <CODE>MERGE</CODE> doesn't check if the underlying
tables are of compatible types.

<LI>

MySQL can't yet handle <CODE>NaN</CODE>, <CODE>-Inf</CODE> and <CODE>Inf</CODE>
values in double. Using these will cause problems when trying to export
and import data. We should as an intermediate solution change <CODE>NaN</CODE> to
<CODE>NULL</CODE> (if possible) and <CODE>-Inf</CODE> and <CODE>Inf</CODE> to the
Minimum respective maximum possible <CODE>double</CODE> value.

<LI>

<CODE>LIMIT</CODE> on negative numbers are treated as big positive numbers.
<LI>

If you use <CODE>ALTER TABLE</CODE> to first add an <CODE>UNIQUE</CODE> index to a
table used in a <CODE>MERGE</CODE> table and then use <CODE>ALTER TABLE</CODE> to
add a normal index on the <CODE>MERGE</CODE> table, the key order will be
different for the tables if there was an old not-unique key in the
table. This is because <CODE>ALTER TABLE</CODE> puts <CODE>UNIQUE</CODE> keys before
normal keys to be able to detect duplicate keys as early as possible.
</UL>

<P>
The following are known bugs in earlier versions of MySQL:

</P>

<UL>
<LI>

You can get a hung thread if you do a <CODE>DROP TABLE</CODE> on a table that is
one among many tables that is locked with <CODE>LOCK TABLES</CODE>.

<LI>

In the following case you can get a core dump:


<UL>
<LI>

Delayed insert handler has pending inserts to a table.

<LI>

<CODE>LOCK table</CODE> with <CODE>WRITE</CODE>

<LI>

<CODE>FLUSH TABLES</CODE>
</UL>

<LI>

Before MySQL Version 3.23.2 an <CODE>UPDATE</CODE> that updated a key with
a <CODE>WHERE</CODE> on the same key may have failed because the key was used to
search for records and the same row may have been found multiple times:


<PRE>
UPDATE tbl_name SET KEY=KEY+1 WHERE KEY &#62; 100;
</PRE>

A workaround is to use:


<PRE>
mysql&#62; UPDATE tbl_name SET KEY=KEY+1 WHERE KEY+0 &#62; 100;
</PRE>

This will work because MySQL will not use index on expressions in
the <CODE>WHERE</CODE> clause.

<LI>

Before MySQL Version 3.23, all numeric types where treated as fixed-point
fields. That means you had to specify how many decimals a floating-point
field shall have. All results were returned with the correct number of
decimals.
</UL>

<P>
For platform-specific bugs, see the sections about compiling and porting.

</P>



<H2><A NAME="Comparisons" HREF="manual_toc.html#Comparisons">1.5  How MySQL Compares to Other Databases</A></H2>

<P>
<A NAME="IDX159"></A>
<A NAME="IDX160"></A>

</P>

<P>
This section compares MySQL to other popular databases.  

</P>
<P>
This section has been written by the MySQL developers, so it
should be read with that in mind.  There are no factual errors contained
in this section that we know of.  If you find something which you believe
to be an error, please contact us about it at <a HREF="mailto:docs@mysql.com">docs@mysql.com</a>.

</P>
<P>
For a list of all supported limits, functions, and types, see the
<CODE>crash-me</CODE> Web page at 
<a HREF="http://www.mysql.com/information/crash-me.php">http://www.mysql.com/information/crash-me.php</a>.

</P>



<H3><A NAME="Compare_mSQL" HREF="manual_toc.html#Compare_mSQL">1.5.1  How MySQL Compares to <CODE>mSQL</CODE></A></H3>

<DL COMPACT>

<DT><STRONG>Performance</STRONG>
<DD>
For a true comparison of speed, consult the growing MySQL benchmark
suite. See section <A HREF="manual.html#MySQL_Benchmarks">5.1.4  The MySQL Benchmark Suite</A>.

Because there is no thread creation overhead, a small parser, few features, and
simple security, <CODE>mSQL</CODE> should be quicker at:


<UL>
<LI>

Tests that perform repeated connects and disconnects, running a very simple
query during each connection.

<LI>

<CODE>INSERT</CODE> operations into very simple tables with few columns and keys.

<LI>

<CODE>CREATE TABLE</CODE> and <CODE>DROP TABLE</CODE>.

<LI>

<CODE>SELECT</CODE> on something that isn't an index. (A table scan is very
easy.)
</UL>

Because these operations are so simple, it is hard to be better at them when
you have a higher startup overhead. After the connection is established,
MySQL should perform much better.

On the other hand, MySQL is much faster than <CODE>mSQL</CODE> (and
most other SQL implementations) on the following:


<UL>
<LI>

Complex <CODE>SELECT</CODE> operations.

<LI>

Retrieving large results (MySQL has a better, faster, and safer
protocol).

<LI>

Tables with variable-length strings, because MySQL has more efficient
handling and can have indexes on <CODE>VARCHAR</CODE> columns.

<LI>

Handling tables with many columns.

<LI>

Handling tables with large record lengths.

<LI>

<CODE>SELECT</CODE> with many expressions.

<LI>

<CODE>SELECT</CODE> on large tables.

<LI>

Handling many connections at the same time. MySQL is fully
multi-threaded. Each connection has its own thread, which means that
no thread has to wait for another (unless a thread is modifying
a table another thread wants to access). In <CODE>mSQL</CODE>, once one connection
is established, all others must wait until the first has finished, regardless
of whether the connection is running a query that is short or long. When the
first connection terminates, the next can be served, while all the others wait
again, etc.

<LI>

Joins.
<CODE>mSQL</CODE> can become pathologically slow if you change the order of tables
in a <CODE>SELECT</CODE>. In the benchmark suite, a time more than 15000 times
slower than MySQL was seen.  This is due to <CODE>mSQL</CODE>'s lack of a
join optimizer to order tables in the optimal order. However, if you put the
tables in exactly the right order in <CODE>mSQL</CODE>2 and the <CODE>WHERE</CODE> is
simple and uses index columns, the join will be relatively fast!
See section <A HREF="manual.html#MySQL_Benchmarks">5.1.4  The MySQL Benchmark Suite</A>.

<LI>

<CODE>ORDER BY</CODE> and <CODE>GROUP BY</CODE>.

<LI>

<CODE>DISTINCT</CODE>.

<LI>

Using <CODE>TEXT</CODE> or <CODE>BLOB</CODE> columns.
</UL>

<DT><STRONG>SQL Features</STRONG>
<DD>

<UL>
<LI><CODE>GROUP BY</CODE> and <CODE>HAVING</CODE>.

<CODE>mSQL</CODE> does not support <CODE>GROUP BY</CODE> at all.
MySQL supports a full <CODE>GROUP BY</CODE> with both <CODE>HAVING</CODE> and
the following functions: <CODE>COUNT()</CODE>, <CODE>AVG()</CODE>, <CODE>MIN()</CODE>,
<CODE>MAX()</CODE>, <CODE>SUM()</CODE>, and <CODE>STD()</CODE>.  <CODE>COUNT(*)</CODE> is optimized to
return very quickly if the <CODE>SELECT</CODE> retrieves from one table, no other
columns are retrieved, and there is no <CODE>WHERE</CODE> clause.  <CODE>MIN()</CODE> and
<CODE>MAX()</CODE> may take string arguments.

<LI><CODE>INSERT</CODE> and <CODE>UPDATE</CODE> with calculations.

MySQL can do calculations in an <CODE>INSERT</CODE> or <CODE>UPDATE</CODE>.
For example:


<PRE>
mysql&#62; UPDATE SET x=x*10+y WHERE x&#60;20;
</PRE>

<LI>Aliasing.

MySQL has column aliasing.

<LI>Qualifying column names.

In MySQL, if a column name is unique among the tables used in a
query, you do not have to use the full qualifier.

<LI><CODE>SELECT</CODE> with functions.

MySQL has many functions (too many to list here; see section <A HREF="manual.html#Functions">6.3  Functions for Use in <CODE>SELECT</CODE> and <CODE>WHERE</CODE> Clauses</A>).

</UL>

<DT><STRONG>Disk Space Efficiency</STRONG>
<DD>
That is, how small can you make your tables?

MySQL has very precise types, so you can create tables that take
very little space. An example of a useful MySQL datatype is the
<CODE>MEDIUMINT</CODE> that is 3 bytes long. If you have 100,000,000 records,
saving even one byte per record is very important.

<CODE>mSQL2</CODE> has a more limited set of column types, so it is
more difficult to get small tables.

<DT><STRONG>Stability</STRONG>
<DD>
This is harder to judge objectively. For a discussion of MySQL
stability, see section <A HREF="manual.html#Stability">1.1.7  How Stable Is MySQL?</A>.

We have no experience with <CODE>mSQL</CODE> stability, so we cannot say
anything about that.

<DT><STRONG>Price</STRONG>
<DD>
Another important issue is the license. MySQL has a
more flexible license than <CODE>mSQL</CODE>, and is also less expensive than
<CODE>mSQL</CODE>.  Whichever product you choose to use, remember to at least
consider paying for a license or e-mail support.  (You are required to get
a license if you include MySQL with a product that you sell,
of course.)

<DT><STRONG>Perl Interfaces</STRONG>
<DD>
MySQL has basically the same interfaces to Perl as <CODE>mSQL</CODE> with
some added features.

<DT><STRONG>JDBC (Java)</STRONG>
<DD>
MySQL currently has a lot of different JDBC drivers:


<UL>
<LI>

The mm driver: A type 4 JDBC driver by Mark Matthews
<a HREF="mailto:mmatthew@ecn.purdue.edu">mmatthew@ecn.purdue.edu</a>.  This is released under the LGPL.

<LI>

The Resin driver. This is a commercial JDBC driver released under open
source.  <a HREF="http://www.caucho.com/projects/jdbc-mysql/index.xtp">http://www.caucho.com/projects/jdbc-mysql/index.xtp</a>

<LI>

The gwe driver: A Java interface by GWE technologies (not supported anymore).

<LI>

The jms driver: An improved gwe driver by Xiaokun Kelvin ZHU
<a HREF="mailto:X.Zhu@brad.ac.uk">X.Zhu@brad.ac.uk</a> (not supported anymore).

<LI>

The twz driver: A type 4 JDBC driver by Terrence W. Zellers
<a HREF="mailto:zellert@voicenet.com">zellert@voicenet.com</a>.  This is commercial but is free for private
and educational use (not supported anymore).
</UL>

The recommended driver is the mm driver. The Resin driver may also be
good (at least the benchmarks looks good), but we haven't received that much
information about this yet.

We know that <CODE>mSQL</CODE> has a JDBC driver, but we have too little experience
with it to compare.

<DT><STRONG>Rate of Development</STRONG>
<DD>
MySQL has a very small team of developers, but we are quite
used to coding C and C++ very rapidly. Because threads, functions,
<CODE>GROUP BY</CODE>, and so on are still not implemented in <CODE>mSQL</CODE>, it
has a lot of catching up to do. To get some perspective on this, you
can view the <CODE>mSQL</CODE> <TT>`HISTORY'</TT> file for the last year and
compare it with the News section of the MySQL Reference Manual
(see section <A HREF="manual.html#News">F  MySQL change history</A>). It should be pretty obvious which one has developed
most rapidly.

<DT><STRONG>Utility Programs</STRONG>
<DD>
Both <CODE>mSQL</CODE> and MySQL have many interesting third-party
tools. Because it is very easy to port upward (from <CODE>mSQL</CODE> to
MySQL), almost all the interesting applications that are available for
<CODE>mSQL</CODE> are also available for MySQL.

MySQL comes with a simple <CODE>msql2mysql</CODE> program that fixes
differences in spelling between <CODE>mSQL</CODE> and MySQL for the
most-used C API functions.
For example, it changes instances of <CODE>msqlConnect()</CODE> to
<CODE>mysql_connect()</CODE>. Converting a client program from <CODE>mSQL</CODE> to
MySQL usually takes a couple of minutes.
</DL>



<H4><A NAME="Using_mSQL_tools" HREF="manual_toc.html#Using_mSQL_tools">1.5.1.1  How to Convert <CODE>mSQL</CODE> Tools for MySQL</A></H4>

<P>
<A NAME="IDX161"></A>
<A NAME="IDX162"></A>
<A NAME="IDX163"></A>

</P>
<P>
According to our experience, it would just take a few hours to convert tools
such as <CODE>msql-tcl</CODE> and <CODE>msqljava</CODE> that use the
<CODE>mSQL</CODE> C API so that they work with the MySQL C API.

</P>
<P>
The conversion procedure is:

</P>

<OL>
<LI>

Run the shell script <CODE>msql2mysql</CODE> on the source. This requires the
<CODE>replace</CODE> program, which is distributed with MySQL.

<LI>

Compile.

<LI>

Fix all compiler errors.
</OL>

<P>
Differences between the <CODE>mSQL</CODE> C API and the MySQL C API are:

</P>

<UL>
<LI>

MySQL uses a <CODE>MYSQL</CODE> structure as a connection type (<CODE>mSQL</CODE>
uses an <CODE>int</CODE>).

<LI>

<CODE>mysql_connect()</CODE> takes a pointer to a <CODE>MYSQL</CODE> structure as a
parameter.  It is easy to define one globally or to use <CODE>malloc()</CODE> to get
one.  <CODE>mysql_connect()</CODE> also takes two parameters for specifying the 
user and password.  You may set these to <CODE>NULL, NULL</CODE> for default use.

<LI>

<CODE>mysql_error()</CODE> takes the <CODE>MYSQL</CODE> structure as a parameter. Just add
the parameter to your old <CODE>msql_error()</CODE> code if you are porting old code.

<LI>

MySQL returns an error number and a text error message for all
errors. <CODE>mSQL</CODE> returns only a text error message.

<LI>

Some incompatibilities exist as a result of MySQL supporting
multiple connections to the server from the same process.
</UL>



<H4><A NAME="Protocol_differences" HREF="manual_toc.html#Protocol_differences">1.5.1.2  How <CODE>mSQL</CODE> and MySQL Client/Server Communications Protocols Differ</A></H4>

<P>
<A NAME="IDX164"></A>
<A NAME="IDX165"></A>

</P>
<P>
There are enough differences that it is impossible (or at least not easy)
to support both.

</P>
<P>
The most significant ways in which the MySQL protocol differs
from the <CODE>mSQL</CODE> protocol are listed below:

</P>

<UL>
<LI>

A message buffer may contain many result rows.

<LI>

The message buffers are dynamically enlarged if the query or the
result is bigger than the current buffer, up to a configurable server and
client limit.

<LI>

All packets are numbered to catch duplicated or missing packets.

<LI>

All column values are sent in ASCII. The lengths of columns and rows are sent
in packed binary coding (1, 2, or 3 bytes).

<LI>

MySQL can read in the result unbuffered (without having to store the
full set in the client).

<LI>

If a single read/write takes more than 30 seconds, the server closes
the connection.

<LI>

If a connection is idle for 8 hours, the server closes the connection.
</UL>



<H4><A NAME="Syntax_differences" HREF="manual_toc.html#Syntax_differences">1.5.1.3  How <CODE>mSQL</CODE> 2.0 SQL Syntax Differs from MySQL</A></H4>

<P>
<STRONG>Column types</STRONG>

</P>
<DL COMPACT>

<DT><CODE>MySQL</CODE>
<DD>
Has the following additional types (among others;
see section <A HREF="manual.html#CREATE_TABLE">6.5.3  <CODE>CREATE TABLE</CODE> Syntax</A>):

<UL>
<LI>

<CODE>ENUM</CODE> type for one of a set of strings.
<LI>

<CODE>SET</CODE> type for many of a set of strings.
<LI>

<CODE>BIGINT</CODE> type for 64-bit integers.
</UL>

<DT><CODE></CODE>
<DD>
MySQL also supports
the following additional type attributes:

<UL>
<LI>

<CODE>UNSIGNED</CODE> option for integer columns.
<LI>

<CODE>ZEROFILL</CODE> option for integer columns.
<LI>

<CODE>AUTO_INCREMENT</CODE> option for integer columns that are a
<CODE>PRIMARY KEY</CODE>.
See section <A HREF="manual.html#mysql_insert_id">8.4.3.126  <CODE>mysql_insert_id()</CODE></A>.
<LI>

<CODE>DEFAULT</CODE> value for all columns.
</UL>

<DT><CODE>mSQL2</CODE>
<DD>
<CODE>mSQL</CODE> column types correspond to the MySQL types shown below:
<TABLE BORDER WIDTH="100%">
<TR><TD><CODE>mSQL</CODE> <STRONG>type</STRONG> </TD><TD> <STRONG>Corresponding MySQL type</STRONG>
</TD></TR>
<TR><TD><CODE>CHAR(len)</CODE> </TD><TD> <CODE>CHAR(len)</CODE>
</TD></TR>
<TR><TD><CODE>TEXT(len)</CODE> </TD><TD> <CODE>TEXT(len)</CODE>. <CODE>len</CODE> is the maximal length.
And <CODE>LIKE</CODE> works.
</TD></TR>
<TR><TD><CODE>INT</CODE> </TD><TD> <CODE>INT</CODE>. With many more options!
</TD></TR>
<TR><TD><CODE>REAL</CODE> </TD><TD> <CODE>REAL</CODE>. Or <CODE>FLOAT</CODE>. Both 4- and 8-byte versions are available.
</TD></TR>
<TR><TD><CODE>UINT</CODE> </TD><TD> <CODE>INT UNSIGNED</CODE>
</TD></TR>
<TR><TD><CODE>DATE</CODE> </TD><TD> <CODE>DATE</CODE>. Uses ANSI SQL format rather than <CODE>mSQL</CODE>'s own format.
</TD></TR>
<TR><TD><CODE>TIME</CODE> </TD><TD> <CODE>TIME</CODE>
</TD></TR>
<TR><TD><CODE>MONEY</CODE> </TD><TD> <CODE>DECIMAL(12,2)</CODE>. A fixed-point value with two decimals.
</TD></TR>
</TABLE>
</DL>

<P>
<STRONG>Index Creation</STRONG>

</P>
<DL COMPACT>

<DT><CODE>MySQL</CODE>
<DD>
Indexes may be specified at table creation time with the <CODE>CREATE TABLE</CODE>
statement.
<DT><CODE>mSQL</CODE>
<DD>
Indexes must be created after the table has been created, with separate
<CODE>CREATE INDEX</CODE> statements.
</DL>

<P>
<STRONG>To Insert a Unique Identifier into a Table</STRONG>

</P>
<DL COMPACT>

<DT><CODE>MySQL</CODE>
<DD>
Use <CODE>AUTO_INCREMENT</CODE> as a column type
specifier.
See section <A HREF="manual.html#mysql_insert_id">8.4.3.126  <CODE>mysql_insert_id()</CODE></A>.
<DT><CODE>mSQL</CODE>
<DD>
Create a <CODE>SEQUENCE</CODE> on a table and select the <CODE>_seq</CODE> column.
</DL>

<P>
<STRONG>To Obtain a Unique Identifier for a Row</STRONG>

</P>
<DL COMPACT>

<DT><CODE>MySQL</CODE>
<DD>
Add a <CODE>PRIMARY KEY</CODE> or <CODE>UNIQUE</CODE> key to the table and use this.
New in Version 3.23.11: If the <CODE>PRIMARY</CODE> or <CODE>UNIQUE</CODE> key consists of only one
column and this is of type integer, one can also refer to it as
<CODE>_rowid</CODE>.
<DT><CODE>mSQL</CODE>
<DD>
Use the <CODE>_rowid</CODE> column. Observe that <CODE>_rowid</CODE> may change over time
depending on many factors.
</DL>

<P>
<STRONG>To Get the Time a Column Was Last Modified</STRONG>

</P>
<DL COMPACT>

<DT><CODE>MySQL</CODE>
<DD>
Add a <CODE>TIMESTAMP</CODE> column to the table. This column is automatically set
to the current date and time for <CODE>INSERT</CODE> or <CODE>UPDATE</CODE> statements if
you don't give the column a value or if you give it a <CODE>NULL</CODE> value.

<DT><CODE>mSQL</CODE>
<DD>
Use the <CODE>_timestamp</CODE> column.
</DL>

<P>
<STRONG><CODE>NULL</CODE> Value Comparisons</STRONG>

</P>
<DL COMPACT>

<DT><CODE>MySQL</CODE>
<DD>
MySQL follows
ANSI SQL, and a comparison with <CODE>NULL</CODE> is always <CODE>NULL</CODE>.
<DT><CODE>mSQL</CODE>
<DD>
In <CODE>mSQL</CODE>, <CODE>NULL = NULL</CODE> is TRUE.  You
must change <CODE>=NULL</CODE> to <CODE>IS NULL</CODE> and <CODE>&#60;&#62;NULL</CODE> to
<CODE>IS NOT NULL</CODE> when porting old code from <CODE>mSQL</CODE> to MySQL.
</DL>

<P>
<STRONG>String Comparisons</STRONG>

</P>
<DL COMPACT>

<DT><CODE>MySQL</CODE>
<DD>
Normally, string comparisons are performed in case-independent fashion with
the sort order determined by the current character set (ISO-8859-1 Latin1 by
default).  If you don't like this, declare your columns with the
<CODE>BINARY</CODE> attribute, which causes comparisons to be done according to the
ASCII order used on the MySQL server host.
<DT><CODE>mSQL</CODE>
<DD>
All string comparisons are performed in case-sensitive fashion with
sorting in ASCII order.
</DL>

<P>
<STRONG>Case-insensitive Searching</STRONG>

</P>
<DL COMPACT>

<DT><CODE>MySQL</CODE>
<DD>
<CODE>LIKE</CODE> is a case-insensitive or case-sensitive operator, depending on
the columns involved. If possible, MySQL uses indexes if the
<CODE>LIKE</CODE> argument doesn't start with a wild-card character.
<DT><CODE>mSQL</CODE>
<DD>
Use <CODE>CLIKE</CODE>.
</DL>

<P>
<STRONG>Handling of Trailing Spaces</STRONG>

</P>
<DL COMPACT>

<DT><CODE>MySQL</CODE>
<DD>
Strips all spaces at the end of <CODE>CHAR</CODE> and <CODE>VARCHAR</CODE>
columns. Use a <CODE>TEXT</CODE> column if this behavior is not desired.
<DT><CODE>mSQL</CODE>
<DD>
Retains trailing space.
</DL>

<P>
<STRONG><CODE>WHERE</CODE> Clauses</STRONG>

</P>
<DL COMPACT>

<DT><CODE>MySQL</CODE>
<DD>
MySQL correctly prioritizes everything (<CODE>AND</CODE> is evaluated
before <CODE>OR</CODE>). To get <CODE>mSQL</CODE> behavior in MySQL, use
parentheses (as shown in an example below).
<DT><CODE>mSQL</CODE>
<DD>
Evaluates everything from left to right. This means that some logical
calculations with more than three arguments cannot be expressed in any
way. It also means you must change some queries when you upgrade to
MySQL. You do this easily by adding parentheses.  Suppose you
have the following <CODE>mSQL</CODE> query:

<PRE>
mysql&#62; SELECT * FROM table WHERE a=1 AND b=2 OR a=3 AND b=4;
</PRE>

To make MySQL evaluate this the way that <CODE>mSQL</CODE> would,
you must add parentheses:

<PRE>
mysql&#62; SELECT * FROM table WHERE (a=1 AND (b=2 OR (a=3 AND (b=4))));
</PRE>

</DL>

<P>
<STRONG>Access Control</STRONG>

</P>
<DL COMPACT>

<DT><CODE>MySQL</CODE>
<DD>
Has tables to store grant (permission) options per user, host, and
database. See section <A HREF="manual.html#Privileges">4.2.5  How the Privilege System Works</A>.
<DT><CODE>mSQL</CODE>
<DD>
Has a file <TT>`mSQL.acl'</TT> in which you can grant read/write privileges for
users.
</DL>



<H3><A NAME="Compare_PostgreSQL" HREF="manual_toc.html#Compare_PostgreSQL">1.5.2  How MySQL Compares to PostgreSQL</A></H3>

<P>
<A NAME="IDX166"></A>

</P>
<P>
When reading the following, please note that both products are continually
evolving.  We at MySQL AB and the PostgreSQL developers are both working
on making our respective database as good as possible, so we are both a 
serious choice to any commercial database.

</P>
<P>
The following comparison is made by us at MySQL AB.  We have tried to be
as accurate and fair as possible, but because we don't have a full
knowledge of all PostgreSQL features while we know MySQL througly, we
may have got some things wrong.  We will however correct these when they
come to our attention.

</P>
<P>
We would first like to note that PostgreSQL and MySQL are both widely used
products, but with different design goals, even if we are both striving to
be ANSI SQL compatible.  This means that for some applications MySQL is 
more suited, while for others PostgreSQL is more suited.  When choosing 
which database to use, you should first check if the database's feature set
satisfies your application.  If you need raw speed, MySQL is probably your
best choice.  If you need some of the extra features that only PostgreSQL
can offer, you should use <CODE>PostgreSQL</CODE>.

</P>
<P>
<A NAME="IDX167"></A>

</P>



<H4><A NAME="MySQL-PostgreSQL_goals" HREF="manual_toc.html#MySQL-PostgreSQL_goals">1.5.2.1  MySQL and PostgreSQL development strategies</A></H4>

<P>
When adding things to MySQL we take pride to do an optimal, definite
solution.  The code should be so good that we shouldn't have any need to
change it in the foreseeable future.  We also do not like to sacrifice
speed for features but instead will do our utmost to find a solution
that will give maximal throughput.  This means that development will take
a little longer, but the end result will be well worth this.  This kind
of development is only possible because all server code are checked by
one of a few (currently two) persons before it's included in the
MySQL server.

</P>
<P>
We at MySQL AB believe in frequent releases to be able to push out new
features quickly to our users.  Because of this we do a new small release
about every three weeks, and a major branch every year.  All releases are
throughly tested with our testing tools on a lot of different platforms.

</P>
<P>
PostgreSQL is based on a kernel with lots of contributors. In this setup
it makes sense to prioritize adding a lot of new features, instead of
implementing them optimally, because one can always optimize things
later if there arises a need for this.

</P>
<P>
Another big difference between MySQL and PostgreSQL is that
nearly all of the code in the MySQL server are coded by developers that
are employed by MySQL AB and are still working on the server code. The
exceptions are the transaction engines, and the regexp library.

</P>
<P>
This is in sharp contrast to the PostgreSQL code where the majority of
the code is coded by a big group of people with different backgrounds.
It was only recently that the PostgreSQL developers announced that their
current developer group had finally had time to take a look at all
the code in the current PostgreSQL release.

</P>
<P>
Both of the above development methods has it's own merits and drawbacks.
We here at MySQL AB think of course that our model is better because our
model gives better code consistency, more optimal and reusable code, and
in our opinion, fewer bugs.  Because we are the authors of the MySQL server
code, we are better able to coordinate new features and releases.

</P>



<H4><A NAME="MySQL-PostgreSQL_features" HREF="manual_toc.html#MySQL-PostgreSQL_features">1.5.2.2  Featurewise Comparison of MySQL and PostgreSQL</A></H4>

<P>
<A NAME="IDX168"></A>

</P>
<P>
On the <a HREF="http://www.mysql.com/information/crash-me.php"> crash-me</a>
page you can find a list of those database constructs and limits that
one can detect automatically with a program.  Note however that a lot of
the numerical limits may be changed with startup options for respective
database.  The above web page is however extremely useful when you want to
ensure that your applications works with many different databases or
when you want to convert your application from one datbase to another.

</P>
<P>
MySQL offers the following advantages over PostgreSQL:

</P>

<UL>
<LI>

<CODE>MySQL</CODE> is generally much faster than PostgreSQL.
See section <A HREF="manual.html#MySQL-PostgreSQL_benchmarks">1.5.2.3  Benchmarking MySQL and PostgreSQL</A>.

<LI>

MySQL has a much larger user base than PostgreSQL, therefor the
code is more tested and has historically been more stable than
PostgreSQL.  MySQL is the much more used in production
environments than PostgreSQL, mostly thanks to that MySQL AB,
formerly TCX DataKonsult AB, has provided top quality commercial support
for MySQL from the day it was released, whereas until recently
PostgreSQL was unsupported.

<LI>

MySQL works better on Windows than PostgreSQL does.  MySQL runs as a
native Windows application (a service on NT/Win2000/WinXP), while
PostgreSQL is run under the cygwin emulation.  We have heard that
PostgreSQL is not yet that stable on Windows but we haven't been able to
verify this ourselves.

<LI>

MySQL has more APIs to other languages and is supported by more
existing programs than PostgreSQL.  See section <A HREF="manual.html#Contrib">D  Contributed Programs</A>.

<LI>

MySQL works on 24/7 heavy duty systems.  In most circumstances
you never have to run any cleanups on MySQL.  PostgreSQL doesn't
yet support 24/7 systems because you have to run <CODE>VACUUM()</CODE>
once in a while to reclaim space from <CODE>UPDATE</CODE> and <CODE>DELETE</CODE>
commands and to perform statistics analyzes that are critical to get
good performance with PostgreSQL.  <CODE>VACUUM()</CODE> is also needed after
adding a lot of new rows to a table.  On a busy system with lots of changes,
<CODE>VACUUM()</CODE> must be run very frequently, in the worst cases even 
many times a day.  During the <CODE>VACUUM()</CODE> run, which may take hours 
if the database is big, the database is from a production standpoint,
practically dead.  The PostgreSQL team has fixing this on their TODO,
but we assume that this is not an easy thing to fix permanently.

<LI>

A working, tested replication feature used by sites like:

<UL>
<LI>Yahoo Finance (<a HREF="http://finance.yahoo.com">http://finance.yahoo.com</a>)

<LI>Mobile.de (<a HREF="http://www.mobile.de/">http://www.mobile.de/</a>)

<LI>Slashdot (<a HREF="http://www.slashdot.org">http://www.slashdot.org</a>)

</UL>

<LI>

Included in the MySQL distribution are two different testing suites, 
<TT>`mysql-test-run'</TT> and 
<a HREF="http://www.mysql.com/information/crash-me.php">crash-me</a>, as well
as a benchmark suite.  The test system is actively updated with code to
test each new feature and almost all reproduceable bugs that have come to
our attention.  We test MySQL with these on a lot of platforms before
every release.  These tests are more sophisticated than anything we have 
seen from PostgreSQL, and they ensures that the MySQL is kept to a high
standard.

<LI>

There are far more books in print about MySQL than about PostgreSQL.
O'Reilly, Sams, Que, and New Riders are all major publishers with books
about MySQL.  All MySQL features are also documented in the MySQL on-line
manual, because when a new feature is implemented, the MySQL developers 
are required to document it before it's included in the source.

<LI>

MySQL supports more of the standard ODBC functions than <CODE>PostgreSQL</CODE>.

<LI>

MySQL has a much more sophisticated <CODE>ALTER TABLE</CODE>.

<LI>

MySQL has support for tables without transactions for applications that 
need all speed they can get. The tables may be memory based, <CODE>HEAP</CODE>
tables or disk based <CODE>MyISAM</CODE>.  See section <A HREF="manual.html#Table_types">7  MySQL Table Types</A>.

<LI>

MySQL has support for two different table handlers that support
transactions, <CODE>BerkeleyDB</CODE> and <CODE>InnoDB</CODE>.  Because every 
transaction engine performs differently under different conditions, this 
gives the application writer more options to find an optimal solution for
his or her setup.  See section <A HREF="manual.html#Table_types">7  MySQL Table Types</A>.

<LI>

<CODE>MERGE</CODE> tables gives you a unique way to instantly make a view over
a set of identical tables and use these as one.  This is perfect for
systems where you have log files that you order for example by month.
See section <A HREF="manual.html#MERGE">7.2  MERGE Tables</A>.

<LI>

The option to compress read-only tables, but still have direct access to
the rows in the table, gives you better performance by minimizing disk
reads.  This is very useful when you are archiving things.
See section <A HREF="manual.html#myisampack">4.7.4  myisampack, The MySQL Compressed Read-only Table Generator</A>.

<LI>

MySQL has internal support for fulltext search. See section <A HREF="manual.html#Fulltext_Search">6.9  MySQL Full-text Search</A>.

<LI>

You can access many databases from the same connection (depending of course
on your privileges).

<LI>

MySQL is coded from the start to be multi-threaded while PostgreSQL uses
processes.  Context switching and access to common storage areas is much 
faster between threads than between separate processes, this gives MySQL
a big speed advantage in multi-user applications and also makes it easier
for MySQL to take full advantage of symmetric multiprocessor (SMP) systems.

<LI>

MySQL has a much more sophisticated privilege system than PostgreSQL.  
While PostgreSQL only supports <CODE>INSERT</CODE>, <CODE>SELECT</CODE>, and
<CODE>UPDATE/DELETE</CODE> grants per user on a database or a table, MySQL allows
you to define a full set of different privileges on database, table and 
column level.  MySQL also allows you to specify the privilege on host and 
user combinations.  See section <A HREF="manual.html#GRANT">4.3.1  <CODE>GRANT</CODE> and <CODE>REVOKE</CODE> Syntax</A>.

<LI>

MySQL supports a compressed client/server protocol which improves 
performance over slow links.

<LI>

MySQL employs a ``table handler'' concept, and is the only relational 
database we know of built around this concept.  This allows different 
low-level table types to be swapped into the SQL engine, and each table 
type can be optimized for different performance characteristics.

<LI>

All MySQL table types (except <STRONG>InnoDB</STRONG>) are implemented as files
(one table per file), which makes it really easy to backup, move, delete
and even symlink databases and tables, even when the server is down.

<LI>

Tools to repair and optimize <STRONG>MyISAM</STRONG> tables (the most common
MySQL table type).  A repair tool is only needed when a physical corruption
of a data file happens, usually from a hardware failure.  It allows a 
majority of the data to be recovered.

<LI>

Upgrading MySQL is painless.  When you are upgrading MySQL, you don't need
to dump/restore your data, as you have to do with most PostgreSQL upgrades.
</UL>

<P>
Drawbacks with MySQL compared to PostgreSQL:

</P>

<UL>
<LI>

The transaction support in MySQL is not yet as well tested as PostgreSQL's
system.

<LI>

Because MySQL uses threads, which are not yet flawless on many OSes, one
must either use binaries from <a HREF="http://www.mysql.com/downloads">http://www.mysql.com/downloads</a>, or
carefully follow our instructions on
<a HREF="http://www.mysql.com/doc/I/n/Installing_source.html">http://www.mysql.com/doc/I/n/Installing_source.html</a> to get an
optimal binary that works in all cases.

<LI>

Table locking, as used by the non-transactional <CODE>MyISAM</CODE> tables, is
in many cases faster than page locks, row locks or versioning.  The
drawback however is that if one doesn't take into account how table
locks work, a single long-running query can block a table for updates
for a long time. This can usable be avoided when designing the
application.  If not, one can always switch the trouble table to use one
of the transactional table types. See section <A HREF="manual.html#Table_locking">5.3.2  Table Locking Issues</A>.

<LI>

With UDF (user defined functions) one can extend MySQL with both normal 
SQL functions and aggregates, but this is not yet as easy or as flexible
as in PostgreSQL.  See section <A HREF="manual.html#Adding_functions">9.1  Adding New Functions to MySQL</A>.

<LI>

Updates that run over multiple tables is harder to do in MySQL.
This will, however, be fixed in MySQL 4.0 with multi-table <CODE>UPDATE</CODE>
and in MySQL 4.1 with subselects.
In MySQL 4.0 one can use multi-table deletes to delete from many tables
at the same time. See section <A HREF="manual.html#DELETE">6.4.6  <CODE>DELETE</CODE> Syntax</A>.
</UL>

<P>
PostgreSQL currently offers the following advantages over MySQL:

</P>
<P>
Note that because we know the MySQL road map, we have included in the
following table the version when MySQL should support this feature.
Unfortunately we couldn't do this for previous comparison, because we 
don't know the PostgreSQL roadmap.

</P>
<TABLE BORDER WIDTH="100%">
<TR><TD><STRONG>Feature</STRONG> </TD><TD> <STRONG>MySQL version</STRONG>
</TD></TR>
<TR><TD>Subselects </TD><TD> 4.1
</TD></TR>
<TR><TD>Foreign keys </TD><TD> 4.0 and 4.1
</TD></TR>
<TR><TD>Views </TD><TD> 4.2
</TD></TR>
<TR><TD>Stored procedures </TD><TD> 4.1
</TD></TR>
<TR><TD>Extensible type system </TD><TD> Not planned
</TD></TR>
<TR><TD>Unions </TD><TD> 4.0
</TD></TR>
<TR><TD>Full join </TD><TD> 4.0 or 4.1
</TD></TR>
<TR><TD>Triggers </TD><TD> 4.1
</TD></TR>
<TR><TD>Constrainst </TD><TD> 4.1
</TD></TR>
<TR><TD>Cursors </TD><TD> 4.1 or 4.2
</TD></TR>
<TR><TD>Extensible index types like R-trees </TD><TD> R-trees are planned for 4.2
</TD></TR>
<TR><TD>Inherited tables </TD><TD> Not planned
</TD></TR>
</TABLE>

<P>
Other reasons to use PostgreSQL:

</P>

<UL>
<LI>

Standard usage in PostgreSQL is closer to ANSI SQL in some cases.

<LI>

One can speed up PostgreSQL by coding things as stored procedures.

<LI>

For geographical data, R-TREES makes PostgreSQL better than MySQL.

<LI>

The PostgreSQL optimizer can do some optimization that the current MySQL
optimizer can't do.  Most notable is doing joins when you don't have the
proper keys in place and doing a join where you are using different keys
combined with OR.  The MySQL benchmark suite at
<a HREF="http://www.mysql.com/information/benchmarks.html">http://www.mysql.com/information/benchmarks.html</a> shows you what
kind of constructs you should watch out for when using different
databases.

<LI>

PostgreSQL has a bigger team of developers that contribute to the server.
</UL>

<P>
Drawbacks with PostgreSQL compared to MySQL:

</P>

<UL>
<LI>

<CODE>VACUUM()</CODE> makes PostgreSQL hard to use in a 24/7 environment.

<LI>

Only transactional tables.

<LI>

Much slower <CODE>INSERT</CODE>, <CODE>DELETE</CODE>, and <CODE>UPDATE</CODE>.
</UL>

<P>
For a complete list of drawbacks, you should also examine the first table
in this section.

</P>



<H4><A NAME="MySQL-PostgreSQL_benchmarks" HREF="manual_toc.html#MySQL-PostgreSQL_benchmarks">1.5.2.3  Benchmarking MySQL and PostgreSQL</A></H4>

<P>
<A NAME="IDX169"></A>

</P>
<P>
The only open source benchmark that we know of that can be used to
benchmark MySQL and PostgreSQL (and other databases) is our own. It can
be found at <a HREF="http://www.mysql.com/information/benchmarks.html">http://www.mysql.com/information/benchmarks.html</a>.

</P>
<P>
We have many times asked the PostgreSQL developers and some PostgreSQL
users to help us extend this benchmark to make it the definitive benchmark
for databases, but unfortunately we haven't gotten any feedback for this.

</P>
<P>
We the MySQL developers have, because of this, spent a lot of hours to get
maximum performance from PostgreSQL for the benchmarks, but because we 
don't know PostgreSQL intimately, we are sure that there are things that 
we have missed.  We have on the benchmark page documented exactly how we 
did run the benchmark so that it should be easy for anyone to repeat and
verify our results.

</P>
<P>
The benchmarks are usually run with and without the <CODE>--fast</CODE> option.
When run with <CODE>--fast</CODE> we are trying to use every trick the server can
do to get the code to execute as fast as possible.  The idea is that the
normal run should show how the server would work in a default setup and 
the <CODE>--fast</CODE> run shows how the server would do if the application 
developer would use extensions in the server to make his application run
faster.

</P>
<P>
When running with PostgreSQL and <CODE>--fast</CODE> we do a <CODE>VACUUM()</CODE>
after every major table <CODE>UPDATE</CODE> and <CODE>DROP TABLE</CODE> to make the
database in perfect shape for the following <CODE>SELECT</CODE>s.  The time for
<CODE>VACUUM()</CODE> is measured separately.

</P>
<P>
When running with PostgreSQL 7.1.1 we could, however, not run with
<CODE>--fast</CODE> because during the <CODE>INSERT</CODE> test, the postmaster (the
PostgreSQL deamon) died and the database was so corrupted that it was
impossible to restart postmaster.   After this happened twice, we decided
to postpone the <CODE>--fast</CODE> test until next PostgreSQL release.  The 
details about the machine we run the benchmark can be found on the 
benchmark page.

</P>
<P>
Before going to the other benchmarks we know of, we would like to give
some background on benchmarks:

</P>
<P>
It's very easy to write a test that shows ANY database to be best
database in the world, by just restricting the test to something the
database is very good at and not test anything that the database is not
good at.  If one after this publishes the result with a single figure,
things are even easier.

</P>
<P>
This would be like us measuring the speed of MySQL compared to PostgreSQL
by looking at the summary time of the MySQL benchmarks on our web page.
Based on this MySQL would be more than 40 times faster than PostgreSQL, 
something that is of course not true.  We could make things even worse 
by just taking the test where PostgreSQL performs worst and claim that 
MySQL is more than 2000 times faster than PostgreSQL.

</P>
<P>
The case is that MySQL does a lot of optimizations that PostgreSQL
doesn't do. This is of course also true the other way around.  An SQL
optimizer is a very complex thing, and a company could spend years on
just making the optimizer faster and faster.

</P>
<P>
When looking at the benchmark results you should look for things that
you do in your application and just use these results to decide which
database would be best suited for your application.  The benchmark
results also shows things a particular database is not good at and should
give you a notion about things to avoid and what you may have to do in
other ways.

</P>
<P>
We know of two benchmark tests that claims that PostgreSQL performs better 
than MySQL.  These both where multi-user tests, a test that we here at 
MySQL AB haven't had time to write and include in the benchmark suite, 
mainly because it's a big task to do this in a manner that is fair against
all databases.

</P>
<P>
One is the benchmark paid for by Great Bridge, which you can read about at:
<a HREF="http://www.greatbridge.com/about/press.php?content_id=4">http://www.greatbridge.com/about/press.php?content_id=4</a>.

</P>
<P>
This is the probably worst benchmark we have ever seen anyone conduct.  This
was not only tuned to only test what PostgreSQL is absolutely best at, it 
was also totally unfair against every other database involved in the test.

</P>
<P>
<STRONG>NOTE</STRONG>:  We know that not even some of the main PostgreSQL
developers did like the way Great Bridge conducted the benchmark, so we
don't blame them for the way the benchmark was made.

</P>
<P>
This benchmark has been condemned in a lot of postings and newsgroups so
we will here just shortly repeat some things that where wrong with it.

</P>

<UL>
<LI>

The tests were run with an expensive commercial tool, that makes it
impossible for an open source company like us to verify the benchmarks,
or even check how the benchmarks were really done.  The tool is not even
a true benchmark tool, but an application/setup testing tool.  To refer
this as a ``standard'' benchmark tool is to stretch the truth a long way.

<LI>

Great Bridge admitted that they had optimized the PostgreSQL database
(with <CODE>VACUUM()</CODE> before the test) and tuned the startup for the tests,
something they hadn't done for any of the other databases involved.  To
say ``This process optimizes indexes and frees up disk space a bit.  The
optimized indexes boost performance by some margin.''  Our benchmarks
clearly indicate that the difference in running a lot of selects on a
database with and without <CODE>VACUUM()</CODE> can easily differ by a factor
of ten.

<LI>

The test results were also strange.  The AS3AP test documentation
mentions that the test does ``selections, simple joins, projections, 
aggregates, one-tuple updates, and bulk updates''.

PostgreSQL is good at doing <CODE>SELECT</CODE>s and <CODE>JOIN</CODE>s (especially 
after a <CODE>VACUUM()</CODE>), but doesn't perform as well on <CODE>INSERT</CODE>s or
<CODE>UPDATE</CODE>s.  The benchmarks seem to indicate that only <CODE>SELECT</CODE>s 
were done (or very few updates).  This could easily explain they good results
for PostgreSQL in this test.  The bad results for MySQL will be obvious a 
bit down in this document.

<LI>

They did run the so-called benchmark from a Windows machine against a
Linux machine over ODBC, a setup that no normal database user would ever
do when running a heavy multi-user application.  This tested more the
ODBC driver and the Windows protocol used between the clients than the
database itself.

<LI>

When running the database against Oracle and MS-SQL (Great Bridge has
indirectly indicated that the databases they used in the test), they 
didn't use the native protocol but instead ODBC.  Anyone that has ever 
used Oracle knows that all real application uses the native interface 
instead of ODBC.  Doing a test through ODBC and claiming that the results
had anything to do with using the database in a real-world situation can't
be regarded as fair.  They should have done two tests with and without ODBC
to provide the right facts (after having got experts to tune all involved
databases of course).

<LI>

They refer to the TPC-C tests, but they don't mention anywhere that the
test they did was not a true TPC-C test and they were not even allowed to
call it a TPC-C test.  A TPC-C test can only be conducted by the rules
approved by the TPC Council (<a HREF="http://www.tpc.org">http://www.tpc.org</a>). Great Bridge 
didn't do that.  By doing this they have both violated the TPC trademark
and miscredited their own benchmarks.  The rules set by the TPC Council 
are very strict to ensure that no one can produce false results or make
unprovable statements.  Apparently Great Bridge wasn't interested in 
doing this.

<LI>

After the first test, we contacted Great Bridge and mentioned to them
some of the obvious mistakes they had done with MySQL: 


<UL>
<LI>

Running with a debug version of our ODBC driver

<LI>

Running on a Linux system that wasn't optimized for threads

<LI>

Using an old MySQL version when there was a recommended newer one available

<LI>

Not starting MySQL with the right options for heavy multi-user use (the 
default installation of MySQL is tuned for minimal resource use). 
</UL>

Great Bridge did run a new test, with our optimized ODBC driver and with 
better startup options for MySQL, but refused to either use our updated 
glibc library or our standard binary (used by 80% of our users), which was
statically linked with a fixed glibc library.

According to what we know, Great Bridge did nothing to ensure that the
other databases were set up correctly to run well in their test
environment.  We are sure however that they didn't contact Oracle or
Microsoft to ask for their advice in this matter ;)

<LI>

The benchmark was paid for by Great Bridge, and they decided to publish
only partial, chosen results (instead of publishing it all).
</UL>

<P>
Tim Perdue, a long time PostgreSQL fan and a reluctant MySQL user
published a comparison on
<a HREF="http://www.phpbuilder.com/columns/tim20001112.php3">phpbuider</a>.

</P>
<P>
When we became aware of the comparison, we phoned Tim Perdue about this
because there were a lot of strange things in his results.  For example,
he claimed that MySQL had a problem with five users in his tests, when we
know that there are users with similar machines as his that are using
MySQL with 2000 simultaneous connections doing 400 queries per second.
(In this case the limit was the web bandwidth, not the database.)

</P>
<P>
It sounded like he was using a Linux kernel that either had some
problems with many threads, such as kernels before 2.4, which had a problem 
with many threads on multi-CPU machines. We have documented in this manual
how to fix this and Tim should be aware of this problem.

</P>
<P>
The other possible problem could have been an old glibc library and
that Tim didn't use a MySQL binary from our site, which is linked with
a corrected glibc library, but had compiled a version of his own with.
In any of the above cases, the symptom would have been exactly what Tim
had measured.

</P>
<P>
We asked Tim if we could get access to his data so that we could repeat
the benchmark and if he could check the MySQL version on the machine to
find out what was wrong and he promised to come back to us about this.
He has not done that yet.

</P>
<P>
Because of this we can't put any trust in this benchmark either :(

</P>
<P>
Over time things also changes and the above benchmarks are not that
relevant anymore.  MySQL now have a couple of different table handlers
with different speed/concurrency tradeoffs.  See section <A HREF="manual.html#Table_types">7  MySQL Table Types</A>. It
would be interesting to see how the above tests would run with the
different transactional table types in MySQL.  PostgreSQL has of course
also got new features since the test was made.  As the above test are
not publicly available there is no way for us to know how the
database would preform in the same tests today.

</P>

<P>
Conclusion:

</P>
<P>
The only benchmarks that exist today that anyone can download and run
against MySQL and PostgreSQL is the MySQL benchmarks.  We here at MySQL 
believe that open source databases should be tested with open source tools!
This is the only way to ensure that no one does tests that nobody can 
reproduce and use this to claim that a database is better than another.
Without knowing all the facts it's impossible to answer the claims of the
tester.

</P>
<P>
The thing we find strange is that every test we have seen about
PostgreSQL, that is impossible to reproduce, claims that PostgreSQL is
better in most cases while our tests, which anyone can reproduce,
clearly shows otherwise.  With this we don't want to say that PostgreSQL
isn't good at many things (it is!) or that it isn't faster than MySQL
under certain conditions.  We would just like to see a fair test where
they are very good so that we could get some friendly competition going!

</P>
<P>
For more information about our benchmarks suite See section <A HREF="manual.html#MySQL_Benchmarks">5.1.4  The MySQL Benchmark Suite</A>. 

</P>
<P>
We are working on an even better benchmark suite, including multi user
tests, and a better documentation of what the individual tests really
do and how to add more tests to the suite.

</P>



<H2><A NAME="TODO" HREF="manual_toc.html#TODO">1.6  MySQL and the future (The TODO)</A></H2>

<P>
<A NAME="IDX170"></A>

</P>

<P>
This appendix lists the features that we plan to implement in MySQL.

</P>
<P>
Everything in this list is approximately in the order it will be done.  If you
want to affect the priority order, please register a license or support us and
tell us what you want to have done more quickly. See section <A HREF="manual.html#Licensing_and_Support">1.3  MySQL Support and Licensing</A>.

</P>
<P>
The plan is that we in the future will support the full ANSI SQL99
standard, but with a lot of useful extensions. The challenge is to do
this without sacrifying the speed or compromise the code.

</P>



<H3><A NAME="TODO_MySQL_4.0" HREF="manual_toc.html#TODO_MySQL_4.0">1.6.1  Things that should be in 4.0</A></H3>

<P>
We have now shifted development to MySQL Version 4.0.  Most of the basic
things we want to have in 4.0 is already done.  The target is to quickly
implement the rest of the following features and then shift development
to MySQL 4.1.

</P>
<P>
The news section for 4.0 includes a list of the features we have already
implemented in the 4.0 tree. See section <A HREF="manual.html#News-4.0.x">F.1  Changes in release 4.0.x (Development; Alpha)</A>.

</P>

<UL>
<LI>

Allow users to change startup options without taking down the server.
<LI>

Fail safe replication.
<LI>

More functions for full-text search.
See section <A HREF="manual.html#Fulltext_Features_to_Appear_in_MySQL_4.0">6.9.3  New Features of Full-text Search to Appear in MySQL 4.0</A>.
<LI>

New key cache
<LI>

New table definition file format (<CODE>.frm</CODE> files) This will enable us
to not run out of bits when adding more table options.  One will still
be able to use the old <CODE>.frm</CODE> file format with 4.0.  All newly created
tables will, however, use the new format.

The new file format will enable us to add new column types, more options
for keys and <CODE>FOREIGN KEY</CODE> support.
<LI>

Replication should work with <CODE>RAND()</CODE> and user variables <CODE>@var</CODE>.
<LI>

Online backup with very low performance penalty.  The online backup will
make it easy to add a new replication slave without taking down the
master.
Allow <CODE>DELETE</CODE> on <CODE>MyISAM</CODE> tables to use the record cache.
To do this, we need to update the threads record cache when we update
the <CODE>.MYD</CODE> file.
<LI>

Character set casts and syntax for handling multiple character sets.
<LI>

Help for all commands from the client.
<LI>

<CODE>SHOW COLUMNS FROM table_name</CODE> (used by <CODE>mysql</CODE> client to allow
expansions of column names) should not open the table, but only the
definition file. This will require less memory and be much faster.
<LI>

When using <CODE>SET CHARACTER SET</CODE> we should translate the whole query
at once and not only strings. This will enable users to use the translated
characters in database, table and column names.
<LI>

Add a portable interface over <CODE>gethostbyaddr_r()</CODE> so that we can change
<CODE>ip_to_hostname()</CODE> to not block other threads while doing DNS lookups.
<LI>

Add <CODE>record_in_range()</CODE> method to <CODE>MERGE</CODE> tables to be
able to choose the right index when there is many to choose from. We should
also extend the info interface to get the key distribution for each index,
of <CODE>analyze</CODE> is run on all sub tables.
<LI>

<CODE>SET SQL_DEFAULT_TABLE_TYPE=[MyISAM | INNODB | BDB | HEAP]</CODE>.
</UL>



<H3><A NAME="TODO_future" HREF="manual_toc.html#TODO_future">1.6.2  Things that must be done in the real near future</A></H3>


<UL>
<LI>

Subqueries.
<CODE>select id from t where grp in (select grp from g where u &#62; 100)</CODE>
<LI>

Atomic multi-table updates, eg <CODE>update items,month set
items.price=month.price where items.id=month.id;</CODE>;
<LI>

Derived tables.

<PRE>
select a.col1, b.col2 from (select max(col1) as col1 from root_table ) a,
other_table b where a.col1=b.col1
</PRE>

This could be done by automatically creating temporary tables for the
derived tables for the duration of the query.
<LI>

Add <CODE>PREPARE</CODE> of statements and sending of parameters to <CODE>mysqld</CODE>.
<LI>

Extend the server/client protocol to support warnings.
<LI>

Add options to the server/protocol protocol to get progress notes
for long running commands.
<LI>

Add database and real table name (in case of alias) to the MYSQL_FIELD
structure.
<LI>

Don't allow more than a defined number of threads to run MyISAM recover
at the same time.
<LI>

Change <CODE>INSERT ... SELECT</CODE> to optionally use concurrent inserts.
<LI>

Implement <CODE>RENAME DATABASE</CODE>. To make this safe for all table handlers,
it should work as follows:

<UL>
<LI>

Create the new database.
<LI>

For every table do a rename of the table to another database, as
we do with the <CODE>RENAME</CODE> command.
<LI>

Drop the old database.
</UL>

<LI>

Return the original field types() when doing <CODE>SELECT MIN(column)
... GROUP BY</CODE>.
<LI>

Multiple result sets.
<LI>

Change the protocol to allow binary transfer of values. To do this
efficiently, we need to add an API to allow binding of variables.
<LI>

Add <CODE>PREPARE</CODE> of statements and sending of parameters to <CODE>mysqld</CODE>.
<LI>

Make it possible to specify <CODE>long_query_time</CODE> with a granularity
in microseconds.
<LI>

Add a configurable prompt to the <CODE>mysql</CODE> command line client, with
options like database in use, time and date...
<LI>

Add range checking to <CODE>MERGE</CODE> tables.
<LI>

Link the <CODE>myisampack</CODE> code into the server.
<LI>

Port of MySQL to BeOS.
<LI>

Port of the MySQL clients to LynxOS.
<LI>

Add a temporary key buffer cache during <CODE>INSERT/DELETE/UPDATE</CODE> so that we
can gracefully recover if the index file gets full.
<LI>

If you perform an <CODE>ALTER TABLE</CODE> on a table that is symlinked to another
disk, create temporary tables on this disk.
<LI>

Implement a <CODE>DATE/DATETIME</CODE> type that handles time zone information
properly, so that dealing with dates in different time zones is easier.
<LI>

FreeBSD and MIT-pthreads;  Do sleeping threads take CPU?
<LI>

Check if locked threads take any CPU.
<LI>

Fix configure so that one can compile all libraries (like <CODE>MyISAM</CODE>)
without threads.
<LI>

Add an option to periodically flush key pages for tables with delayed keys
if they haven't been used in a while.
<LI>

Allow join on key parts (optimization issue).
<LI>

<CODE>INSERT SQL_CONCURRENT</CODE> and <CODE>mysqld --concurrent-insert</CODE> to do
a concurrent insert at the end of the file if the file is read-locked.
<LI>

Remember <CODE>FOREIGN</CODE> key definitions in the <TT>`.frm'</TT> file.
<LI>

Cascading <CODE>DELETE</CODE>
<LI>

Server side cursors.
<LI>

Check if <CODE>lockd</CODE> works with modern Linux kernels; If not, we have
to fix <CODE>lockd</CODE>!  To test this, start <CODE>mysqld</CODE> with
<CODE>--enable-locking</CODE> and run the different fork* test suits. They shouldn't
give any errors if <CODE>lockd</CODE> works.
<LI>

Allow SQL variables in <CODE>LIMIT</CODE>, like in <CODE>LIMIT @a,@b</CODE>.
<LI>

Allow update of variables in <CODE>UPDATE</CODE> statements. For example:
<CODE>UPDATE TABLE foo SET @a=a+b,a=@a, b=@a+c</CODE>
<LI>

Change when user variables are updated so that one can use them with
<CODE>GROUP BY</CODE>, as in the following example:
<CODE>SELECT id, @a:=count(*), sum(sum_col)/@a FROM table_name GROUP BY id</CODE>.
<LI>

Don't add automatic <CODE>DEFAULT</CODE> values to columns.  Give an error when using
an <CODE>INSERT</CODE> that doesn't contain a column that doesn't have a
<CODE>DEFAULT</CODE>.
<LI>

Caching of queries and results. This should be done as a separated
module that examines each query and if this is query is in the cache
the cached result should be returned.  When one updates a table one
should remove as few queries as possible from the cache.
This should give a big speed bost on machines with much RAM where
queries are often repeated (like WWW applications).
One idea would be to only cache queries of type:
<CODE>SELECT CACHED ...</CODE>
<LI>

Fix <TT>`libmysql.c'</TT> to allow two <CODE>mysql_query()</CODE> commands in a row
without reading results or give a nice error message when one does this.
<LI>

Optimize <CODE>BIT</CODE> type to take 1 bit (now <CODE>BIT</CODE> takes 1 char).
<LI>

Check why MIT-pthreads <CODE>ctime()</CODE> doesn't work on some FreeBSD systems.
<LI>

Add an <CODE>IMAGE</CODE> option to <CODE>LOAD DATA INFILE</CODE> to not update
<CODE>TIMESTAMP</CODE> and <CODE>AUTO_INCREMENT</CODE> fields.
<LI>

Added <CODE>LOAD DATE INFILE.. UPDATE</CODE> syntax.

<UL>
<LI>

For tables with primary keys, if the data contains the primary key,
entries matching that primary key are updated from the remainder of the
columns. However, columns MISSING from the incoming data feed are not
touched.
<LI>

For tables tables with primary keys that are missing some part of the key
in the incoming data stream, or that have no primary key, the feed is
treated as a <CODE>LOAD DATA INFILE ... REPLACE INTO</CODE> is now.
</UL>

<LI>

Make <CODE>LOAD DATA INFILE</CODE> understand syntax like:

<PRE>
LOAD DATA INFILE 'file_name.txt' INTO TABLE tbl_name
TEXT_FIELDS (text_field1, text_field2, text_field3)
SET table_field1=concatenate(text_field1, text_field2), table_field3=23
IGNORE text_field3

This can be used to skip over extra columns in the text file, or update columns
based on expressions of the read data...
</PRE>

<LI>

<CODE>LOAD DATA INFILE 'file_name' INTO TABLE 'table_name' ERRORS TO err_table_name</CODE>
This would cause any errors and warnings to be logged into the err_table_name
table. That table would have a structure like:


<PRE>
line_number    - line number in data file
error_message  - the error/warning message
and maybe
data_line      - the line from the data file
</PRE>

<LI>

Add true <CODE>VARCHAR</CODE> support (There is already support for this in MyISAM).
<LI>

Automatic output from <CODE>mysql</CODE> to netscape.
<LI>

<CODE>LOCK DATABASES</CODE>. (with various options)
<LI>

Change sort to allocate memory in ``hunks'' to get better memory utilization.
<LI>

<CODE>DECIMAL</CODE> and <CODE>NUMERIC</CODE> types can't read exponential numbers;
<CODE>Field_decimal::store(const char *from,uint len)</CODE> must be recoded
to fix this.
<LI>

Fix <CODE>mysql.cc</CODE> to do fewer <CODE>malloc()</CODE> calls when hashing field
names.
<LI>

Functions:
ADD_TO_SET(value,set) and REMOVE_FROM_SET(value,set)
<LI>

Add use of <CODE>t1 JOIN t2 ON ...</CODE> and <CODE>t1 JOIN t2 USING ...</CODE>
Currently, you can only use this syntax with <CODE>LEFT JOIN</CODE>.
<LI>

Add full support for <CODE>unsigned long long</CODE> type.
<LI>

Many more variables for <CODE>show status</CODE>.  Counts for:
<CODE>INSERT</CODE>/<CODE>DELETE</CODE>/<CODE>UPDATE</CODE> statements. Records reads and
updated.  Selects on 1 table and selects with joins.  Mean number of
tables in select. Number of <CODE>ORDER BY</CODE> and <CODE>GROUP BY</CODE> queries.
<LI>

If you abort <CODE>mysql</CODE> in the middle of a query, you should open
another connection and kill the old running query.
Alternatively, an attempt should be made to detect this in the server.
<LI>

Add a handler interface for table information so you can use it as a system
table. This would be a bit slow if you requested information about all tables,
but very flexible.  <CODE>SHOW INFO FROM tbl_name</CODE> for basic table information
should be implemented.
<LI>

Add support for UNICODE.
<LI>

<CODE>NATURAL JOIN</CODE> and <CODE>UNION JOIN</CODE>
<LI>

Allow <CODE>select a from crash_me left join crash_me2 using (a)</CODE>; In this
case a is assumed to come from the crash_me table.
<LI>

Fix that <CODE>ON</CODE> and <CODE>USING</CODE> works with the <CODE>JOIN</CODE>
join type.
<LI>

Oracle like <CODE>CONNECT BY PRIOR ...</CODE> to search hierarchy structures.
<LI>

<CODE>RENAME DATABASE</CODE>
<LI>

<CODE>mysqladmin copy database new-database</CODE>. -- Requires COPY command to be
added to <CODE>mysqld</CODE>
<LI>

Processlist should show number of queries/thread.
<LI>

<CODE>SHOW HOSTS</CODE> for printing information about the hostname cache.
<LI>

<CODE>DELETE</CODE> and <CODE>REPLACE</CODE> options to the <CODE>UPDATE</CODE> statement
(this will delete rows when one gets a duplicate key error while updating).
<LI>

Change the format of <CODE>DATETIME</CODE> to store fractions of seconds.
<LI>

Add all missing ANSI92 and ODBC 3.0 types.
<LI>

Change table names from empty strings to <CODE>NULL</CODE> for calculated columns.
<LI>

Don't use 'Item_copy_string' on numerical values to avoid
number-&#62;string-&#62;number conversion in case of:
<CODE>SELECT COUNT(*)*(id+0) FROM table_name GROUP BY id</CODE>
<LI>

Make it possible to use the new GNU regexp library instead of the current
one (The GNU library should be much faster than the old one).
<LI>

Change that <CODE>ALTER TABLE</CODE> doesn't abort clients that executes
<CODE>INSERT DELAYED</CODE>.
<LI>

Fix that when columns referenced in an <CODE>UPDATE</CODE> clause contains the old
values before the update started.
<LI>

<CODE>myisamchk</CODE>, <CODE>REPAIR</CODE> and <CODE>OPTIMIZE TABLE</CODE> should be able
to handle cases where the data and/or index files are symbolic links.
<LI>

Add simulation of <CODE>pread()</CODE>/<CODE>pwrite()</CODE> on Windows to enable
concurrent inserts.
<LI>

A logfile analyzer that could parsed out information about which tables
are hit most often, how often multi-table joins are executed, etc.  It
should help users identify areas or table design that could be optimized
to execute much more efficient queries.
<LI>

Add <CODE>SUM(DISTINCT)</CODE>
<LI>

Add <CODE>ANY()</CODE>,<CODE>EVERY()</CODE> and <CODE>SOME()</CODE> group functions. In
ANSI SQL these only works on boolean columns, but we can extend these to
work on any columns/expressions by applying: value == 0 -&#62; FALSE and
value &#60;&#62; 0 -&#62; TRUE.
<LI>

Fix that the type for <CODE>MAX(column)</CODE> is the same as the column type.

<PRE>
create table t1 (a DATE);
insert into t1 values (now());
create table t2 select max(a) from t1;
show columns from t2;
</PRE>

<LI>

Come up with a nice syntax for a statement that will <CODE>UPDATE</CODE> the row
if it exists and <CODE>INSERT</CODE> a new row if the row didn't exist.
(Like <CODE>REPLACE</CODE> works with <CODE>INSERT</CODE> / <CODE>DELETE</CODE>)
</UL>



<H3><A NAME="TODO_sometime" HREF="manual_toc.html#TODO_sometime">1.6.3  Things that have to be done sometime</A></H3>


<UL>
<LI>

Implement function: <CODE>get_changed_tables(timeout,table1,table2,...)</CODE>
<LI>

Change reading through tables to use memmap when possible. Now only
compressed tables use memmap.
<LI>

Add a new privilege <STRONG>'Show_priv'</STRONG> for <CODE>SHOW</CODE> commands.
<LI>

Make the automatic timestamp code nicer.  Add timestamps to the update
log with <CODE>SET TIMESTAMP=#;</CODE>
<LI>

Use read/write mutex in some places to get more speed.
<LI>

Full foreign key support. One probably wants to implement a procedural
language first.
<LI>

Simple views (first on one table, later on any expression).
<LI>

Automatically close some tables if a table, temporary table or temporary files
gets error 23 (not enough open files).
<LI>

When one finds a field=#, change all occurrences of field to #.  Now this
is only done for some simple cases.
<LI>

Change all const expressions with calculated expressions if possible.
<LI>

Optimize key = expression. At the moment only key = field or key =
constant are optimized.
<LI>

Join some of the copy functions for nicer code.
<LI>

Change <TT>`sql_yacc.yy'</TT> to an inline parser to reduce its size and get
better error messages (5 days).
<LI>

Change the parser to use only one rule per different number of arguments
in function.
<LI>

Use of full calculation names in the order part. (For ACCESS97)
<LI>

<CODE>UNION</CODE>, <CODE>MINUS</CODE>, <CODE>INTERSECT</CODE> and <CODE>FULL OUTER JOIN</CODE>.
(Currently only <CODE>LEFT OUTER JOIN</CODE> is supported)
<LI>

Allow <CODE>UNIQUE</CODE> on fields that can be <CODE>NULL</CODE>.
<LI>

<CODE>SQL_OPTION MAX_SELECT_TIME=#</CODE> to put a time limit on a query.
<LI>

Make the update log to a database.
<LI>

Negative <CODE>LIMIT</CODE> to retrieve data from the end.
<LI>

Alarm around client connect/read/write functions.
<LI>

Please note the changes to <CODE>safe_mysqld</CODE>: according to FSSTND (which
Debian tries to follow) PID files should go into <TT>`/var/run/&#60;progname&#62;.pid'</TT>
and log files into <TT>`/var/log'</TT>. It would be nice if you could put the
"DATADIR" in the first declaration of "pidfile" and "log", so the
placement of these files can be changed with a single statement.
<LI>

Allow a client to request logging.
<LI>

Add use of <CODE>zlib()</CODE> for <CODE>gzip</CODE>-ed files to <CODE>LOAD DATA INFILE</CODE>.
<LI>

Fix sorting and grouping of <CODE>BLOB</CODE> columns (partly solved now).
<LI>

Stored procedures.  This is currently not regarded to be very
important as stored procedures are not very standardized yet.
Another problem is that true stored procedures make it much harder for
the optimizer and in many cases the result is slower than before
We will, on the other hand, add a simple (atomic) update language that
can be used to write loops and such in the MySQL server.
<LI>

Change to use semaphores when counting threads.  One should first implement
a semaphore library to MIT-pthreads.
<LI>

Don't assign a new <CODE>AUTO_INCREMENT</CODE> value when one sets a column to 0.
Use <CODE>NULL</CODE> instead.
<LI>

Add full support for <CODE>JOIN</CODE> with parentheses.
<LI>

As an alternative for one thread / connection manage a pool of threads
to handle the queries.
<LI>

Allow one to get more than one lock with <CODE>GET_LOCK</CODE>.  When doing this,
one must also handle the possible deadlocks this change will introduce.
</UL>

<P>
Time is given according to amount of work, not real time.

</P>



<H3><A NAME="TODO_unplanned" HREF="manual_toc.html#TODO_unplanned">1.6.4  Some things we don't have any plans to do</A></H3>


<UL>
<LI>

Nothing;  In the long run we plan to be fully ANSI 92 / ANSI 99 compliant.
</UL>



<H1><A NAME="Installing" HREF="manual_toc.html#Installing">2  MySQL Installation</A></H1>

<P>
<A NAME="IDX171"></A>

</P>

<P>
This chapter describes how to obtain and install MySQL:

</P>

<UL>
<LI>

For a list of sites from which you can obtain MySQL, see
section <A HREF="manual.html#Getting_MySQL">2.2.1  How to Get MySQL</A>.

<LI>

To see which platforms are supported, see section <A HREF="manual.html#Which_OS">2.2.2  Operating Systems Supported by MySQL</A>. Please note that
not all supported system are equally good for running MySQL on them.
On some it is much more robust and efficient than others - see  section <A HREF="manual.html#Which_OS">2.2.2  Operating Systems Supported by MySQL</A>
for details.

<LI>

Several versions of MySQL are available in both binary and
source distributions.  We also provide public access to our current
source tree for those who want to see our most recent developments and
help us test new code.  To determine which version and type of
distribution you should use, see section <A HREF="manual.html#Which_version">2.2.3  Which MySQL Version to Use</A>. When in doubt,
use the binary distribution.

<LI>

Installation instructions for binary and source distributions are described
in section <A HREF="manual.html#Installing_binary">M.1  Installing a MySQL Binary Distribution</A> and section <A HREF="manual.html#Installing_source">2.3  Installing a MySQL Source Distribution</A>.  Each set of
instructions includes a section on system-specific problems you may run
into.

<LI>

For post-installation procedures, see section <A HREF="manual.html#Post-installation">2.4  Post-installation Setup and Testing</A>.  These
procedures apply whether you install MySQL using a binary or
source distribution.
</UL>



<H2><A NAME="Quick_Standard_Installation" HREF="manual_toc.html#Quick_Standard_Installation">2.1  Quick Standard Installation of MySQL</A></H2>



<H3><A NAME="Linux-RPM" HREF="manual_toc.html#Linux-RPM">2.1.1  Installing MySQL on Linux</A></H3>

<P>
<A NAME="IDX172"></A>
<A NAME="IDX173"></A>

</P>
<P>
The recommended way to install MySQL on Linux is by using an RPM
file. The MySQL RPMs are currently being built on a RedHat Version
6.2 system but should work on other versions of Linux that support <CODE>rpm</CODE>
and use <CODE>glibc</CODE>.

</P>
<P>
If you have problems with an RPM file, for example, if you receive the error
``<CODE>Sorry, the host 'xxxx' could not be looked up</CODE>'', see
section <A HREF="manual.html#Binary_notes-Linux">2.6.1.1  Linux Notes for Binary Distributions</A>.

</P>
<P>
The RPM files you may want to use are:

</P>

<UL>
<LI><CODE>MySQL-VERSION.i386.rpm</CODE>

The MySQL server.  You will need this unless you only want to
connect to a MySQL server running on another machine.

<LI><CODE>MySQL-client-VERSION.i386.rpm</CODE>

The standard MySQL client programs. You probably always want to
install this package.

<LI><CODE>MySQL-bench-VERSION.i386.rpm</CODE>

Tests and benchmarks. Requires Perl and msql-mysql-modules RPMs.

<LI><CODE>MySQL-devel-VERSION.i386.rpm</CODE>

Libraries and include files needed if you want to compile other
MySQL clients, such as the Perl modules.

<LI><CODE>MySQL-VERSION.src.rpm</CODE>

This contains the source code for all of the above packages. It can also
be used to try to build RPMs for other architectures (for example, Alpha
or SPARC).
</UL>

<P>
To see all files in an RPM package, run:

<PRE>
shell&#62; rpm -qpl MySQL-VERSION.i386.rpm
</PRE>

<P>
To perform a standard minimal installation, run:

</P>

<PRE>
shell&#62; rpm -i MySQL-VERSION.i386.rpm MySQL-client-VERSION.i386.rpm
</PRE>

<P>
To install just the client package, run:

</P>

<PRE>
shell&#62; rpm -i MySQL-client-VERSION.i386.rpm
</PRE>

<P>
The RPM places data in <TT>`/var/lib/mysql'</TT>. The RPM also creates the
appropriate entries in <TT>`/etc/rc.d/'</TT> to start the server automatically
at boot time.  (This means that if you have performed a previous
installation, you may want to make a copy of your previously installed
MySQL startup file if you made any changes to it, so you don't lose
your changes.)

</P>
<P>
After installing the RPM file(s), the <CODE>mysqld</CODE> daemon should be running
and you should now be able to start using MySQL.
See section <A HREF="manual.html#Post-installation">2.4  Post-installation Setup and Testing</A>.

</P>
<P>
If something goes wrong, you can find more information in the binary
installation chapter. See section <A HREF="manual.html#Installing_binary">M.1  Installing a MySQL Binary Distribution</A>.

</P>



<H3><A NAME="Windows_installation" HREF="manual_toc.html#Windows_installation">2.1.2  Installing MySQL on Windows</A></H3>

<P>
The following instructions apply to precompiled binary distributions.
If you download a source distribution, you will have to compile and install
it yourself.

</P>
<P>
If you don't have a copy of the MySQL distribution, you should 
first download one from <a HREF="http://www.mysql.com/downloads/mysql-3.23.html">http://www.mysql.com/downloads/mysql-3.23.html</a>.

</P>
<P>
If you plan to connect to MySQL from some other program, you will
probably also need the <STRONG>MyODBC</STRONG> driver. You can find this at the
<STRONG>MyODBC</STRONG> download page
(<a HREF="http://www.mysql.com/downloads/api-myodbc.html">http://www.mysql.com/downloads/api-myodbc.html</a>).

</P>
<P>
To install either distribution, unzip it in some empty directory and run the
<CODE>Setup.exe</CODE> program.

</P>
<P>
By default, MySQL-Windows is configured to be installed in
<TT>`C:\mysql'</TT>.  If you want to install MySQL elsewhere,
install it in <TT>`C:\mysql'</TT> first, then move the installation to
where you want it.  If you do move MySQL, you must indicate
where everything is located by supplying a <CODE>--basedir</CODE> option when
you start the server.  For example, if you have moved the MySQL
distribution to <TT>`D:\programs\mysql'</TT>, you must start <CODE>mysqld</CODE>
like this:

</P>

<PRE>
C:\&#62; D:\programs\mysql\bin\mysqld --basedir D:\programs\mysql
</PRE>

<P>
Use <CODE>mysqld --help</CODE> to display all the options that <CODE>mysqld</CODE>
understands!

</P>
<P>
With all newer MySQL versions, you can also create a
<TT>`C:\my.cnf'</TT> file that holds any default options for the
MySQL server.  Copy the file <TT>`\mysql\my-xxxxx.cnf'</TT> to
<TT>`C:\my.cnf'</TT> and edit it to suit your setup.  Note that you should
specify all paths with <SAMP>`/'</SAMP> instead of <SAMP>`\'</SAMP>. If you use
<SAMP>`\'</SAMP>, you need to specify it twice, because <SAMP>`\'</SAMP> is the escape
character in MySQL.  See section <A HREF="manual.html#Option_files">4.1.2  my.cnf Option Files</A>.

</P>
<P>
Starting with MySQL 3.23.38, the Windows distribution includes
both the normal and the <STRONG>MySQL-Max</STRONG> binaries.  The main benefit
of using the normal <CODE>mysqld.exe</CODE> binary is that it's a little
faster and uses less resources.

</P>
<P>
Here is a list of the different MySQL servers you can use:

</P>
<TABLE BORDER WIDTH="100%">
<TR><TD><CODE>mysqld</CODE> </TD><TD>
Compiled with full debugging and automatic memory allocation checking,
symbolic links, BDB and InnoDB tables.
</TD></TR>
<TR><TD><CODE>mysqld-opt</CODE> </TD><TD>
Optimized binary with no support for transactional tables.
</TD></TR>
<TR><TD><CODE>mysqld-nt</CODE> </TD><TD>
Optimized binary for NT with support for named pipes. You can run this
version on Win98, but in this case no named pipes are created and you must
have TCP/IP installed.
</TD></TR>
<TR><TD><CODE>mysqld-max</CODE> </TD><TD>
Optimized binary with support for symbolic links, BDB and InnoDB tables.
</TD></TR>
<TR><TD><CODE>mysqld-max-nt</CODE> </TD><TD>
Like <CODE>mysqld-max</CODE>, but compiled with support for named pipes.
</TD></TR>
</TABLE>

<P>
All of the above binaries are optimized for the Pentium Pro processor but
should work on any Intel processor &#62;= i386.

</P>
<P>
NOTE: If you want to use InnoDB tables, there are certain startup
options that must be specified in your <TT>`my.ini'</TT> file! See section <A HREF="manual.html#InnoDB_start">7.6.2  InnoDB startup options</A>.

</P>



<H2><A NAME="General_Installation_Issues" HREF="manual_toc.html#General_Installation_Issues">2.2  General Installation Issues</A></H2>



<H3><A NAME="Getting_MySQL" HREF="manual_toc.html#Getting_MySQL">2.2.1  How to Get MySQL</A></H3>

<P>
<A NAME="IDX174"></A>
<A NAME="IDX175"></A>
<A NAME="IDX176"></A>
<A NAME="IDX177"></A>
<A NAME="IDX178"></A>
<A NAME="IDX179"></A>

</P>
<P>
Check the <a HREF="http://www.mysql.com/"> MySQL home page</a> for
information about the current version and for downloading instructions.

</P>
<P>
Our main download mirror is located at:

</P>
<P>
<a HREF="http://mirrors.sunsite.dk/mysql/">http://mirrors.sunsite.dk/mysql/</a>

</P>
<P>
If you are interested in becoming a MySQL mirror site, you may
anonymously rsync with: <CODE>rsync://sunsite.dk/ftp/mirrors/mysql/</CODE>.  Please
send e-mail to <a HREF="mailto:webmaster@mysql.com">webmaster@mysql.com</a> notifying us of your mirror to be
added to the list below.

</P>
<P>
If you have problems downloading from our main site, try using one of the
mirrors listed below.

</P>
<P>
Please report bad or out-of-date mirrors to <a HREF="mailto:webmaster@mysql.com">webmaster@mysql.com</a>.

</P>

<P>
<STRONG>Europe:</STRONG>

</P>

<UL>

<LI>

<IMG SRC="Flags/austria.gif"> Austria [Univ. of Technology/Vienna] 
<a HREF="http://gd.tuwien.ac.at/db/mysql/"> WWW</a>
<a HREF="ftp://gd.tuwien.ac.at/db/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/belgium.gif"> Belgium [BELNET] 
<a HREF="http://mysql.belnet.be/"> WWW</a>
<a HREF="ftp://ftp.belnet.be/mirror/ftp.mysql.com/pub/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/bulgaria.gif"> Bulgaria [online.bg/Sofia] 
<a HREF="http://mysql.online.bg/"> WWW</a>
<a HREF="ftp://mysql.online.bg/"> FTP</a>

<LI>

<IMG SRC="Flags/czech-republic.gif"> Czech Republic [Masaryk University in Brno] 
<a HREF="http://mysql.linux.cz/index.html"> WWW</a>
<a HREF="ftp://ftp.fi.muni.cz/pub/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/czech-republic.gif"> Czech Republic [www.sopik.cz] 
<a HREF="http://www.mysql.cz/"> WWW</a>

<LI>

<IMG SRC="Flags/czech-republic.gif"> Czech Republic [www.gin.cz] 
<a HREF="http://mysql.gin.cz/"> WWW</a>
<a HREF="ftp://ftp.gin.cz/pub/MIRRORS/www.mysql.com/"> FTP</a>

<LI>

<IMG SRC="Flags/denmark.gif"> Denmark [Borsen] 
<a HREF=" http://mysql.borsen.dk/"> WWW</a>

<LI>

<IMG SRC="Flags/denmark.gif"> Denmark [SunSITE] 
<a HREF="http://mirrors.sunsite.dk/mysql/"> WWW</a>
<a HREF="ftp://sunsite.dk/mirrors/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/estonia.gif"> Estonia [OKinteractive] 
<a HREF="http://mysql.mirror.ok.ee"> WWW</a>

<LI>

<IMG SRC="Flags/france.gif"> France [mtesa.net] 
<a HREF="http://mysql.mtesa.net/"> WWW</a>

<LI>

<IMG SRC="Flags/france.gif"> France [fastorama.com, Chatenois] 
<a HREF="http://mysql.fastorama.com/"> WWW</a>
<a HREF="ftp://ftp.fastorama.com/unix/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/finland.gif"> Finland [tonnikala.net] 
<a HREF="http://mysql.tonnikala.org/"> WWW</a>

<LI>

<IMG SRC="Flags/finland.gif"> Finland [KPNQwest] 
<a HREF="http://mysql.kpnqwest.fi/"> WWW</a>

<LI>

<IMG SRC="Flags/france.gif"> France [Omegatomic] 
<a HREF="http://mysql.omegatomic.com/"> WWW</a>

<LI>

<IMG SRC="Flags/germany.gif"> Germany [Kernelnotes.de, Bonn] 
<a HREF="http://www.kernelnotes.de/mysql/"> WWW</a>
<a HREF="ftp://ftp.kernelnotes.de/pub/mirror/mysql.org/"> FTP</a>

<LI>

<IMG SRC="Flags/germany.gif"> Germany [Wolfenbuettel] 
<a HREF="http://www.fh-wolfenbuettel.de/ftp/pub/database/mysql/"> WWW</a>
<a HREF="ftp://ftp.fh-wolfenbuettel.de/pub/database/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/greece.gif"> Greece [NTUA, Athens] 
<a HREF="http://www.ntua.gr/mysql/"> WWW</a>
<a HREF="ftp://ftp.ntua.gr/pub/databases/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/hungary.gif"> Hungary [Xenia] 
<a HREF="http://mysql.sote.hu/"> WWW</a>
<a HREF="ftp://xenia.sote.hu/pub/mirrors/www.mysql.com/"> FTP</a>

<LI>

<IMG SRC="Flags/hungary.gif"> Hungary [TiszaneT] 
<a HREF="http://mysql.tiszanet.hu/"> WWW</a>
<a HREF="ftp://mysql.tiszanet.hu/pub/mirrors/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/hungary.gif"> Hungary [stop.hu] 
<a HREF="http://mysql.mirror.stop.hu/"> WWW</a>

<LI>

<IMG SRC="Flags/iceland.gif"> Iceland [GM] 
<a HREF="http://mysql.gm.is/"> WWW</a>
<a HREF="ftp://ftp.gm.is/pub/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/italy.gif"> Italy [feelinglinux.com] 
<a HREF="http://mysql.feelinglinux.com/"> WWW</a>

<LI>

<IMG SRC="Flags/italy.gif"> Italy [Teta Srl] 
<a HREF="http://www.teta.it/mysql/"> WWW</a>

<LI>

<IMG SRC="Flags/italy.gif"> Italy [tzone.it] 
<a HREF="http://mysql.tzone.it/"> WWW</a>

<LI>

<IMG SRC="Flags/ireland.gif"> Ireland [Esat Net] 
<a HREF="http://ftp.esat.net/mirrors/download.sourceforge.net/pub/mirrors/mysql/"> WWW</a>
<a HREF="ftp://ftp.esat.net/mirrors/download.sourceforge.net/pub/mirrors/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/latvia.gif"> Latvia [linux.lv] 
<a HREF="ftp://ftp.linux.lv/pub/software/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/netherlands.gif"> Netherlands [Silverpoint] 
<a HREF="http://mysql.silverpoint.nl/"> WWW</a>

<LI>

<IMG SRC="Flags/netherlands.gif"> Netherlands [Widexs BV] 
<a HREF="http://mysql.widexs.nl/"> WWW</a>
<a HREF="ftp://mysql.widexs.nl/pub/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/netherlands.gif"> Netherlands [ProServe] 
<a HREF="http://mysql.proserve.nl/"> WWW</a>

<LI>

<IMG SRC="Flags/poland.gif"> Poland [Sunsite] 
<a HREF="http://sunsite.icm.edu.pl/mysql/"> WWW</a>
<a HREF="ftp://sunsite.icm.edu.pl/pub/unix/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/poland.gif"> Poland [ncservice.com/Gdansk] 
<a HREF="http://mysql.service.net.pl/"> WWW</a>

<LI>

<IMG SRC="Flags/portugal.gif"> Portugal [Netc] 
<a HREF="http://ftp.netc.pt/pub/mysql/"> WWW</a>
<a HREF="ftp://ftp.netc.pt/pub/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/romania.gif"> Romania [roedu.net/Bucharest] 
<a HREF="ftp://ftp.roedu.net/pub/mirrors/ftp.mysql.com/"> FTP</a>

<LI>

<IMG SRC="Flags/russia.gif"> Russia [DirectNet] 
<a HREF="http://mysql.directnet.ru/"> WWW</a>
<a HREF="ftp://ftp.dn.ru/pub/MySQL/"> FTP</a>

<LI>

<IMG SRC="Flags/russia.gif"> Russia [Scientific Center/Chernogolovka] 
<a HREF="ftp://ftp.chg.ru/pub/databases/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/sweden.gif"> Sweden [Sunet] 
<a HREF="http://ftp.sunet.se/pub/unix/databases/relational/mysql/"> WWW</a>
<a HREF="ftp://ftp.sunet.se/pub/unix/databases/relational/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/switzerland.gif"> Switzerland [Sunsite] 
<a HREF="http://sunsite.cnlab-switch.ch/ftp/mirror/mysql/"> WWW</a>
<a HREF="ftp://sunsite.cnlab-switch.ch/mirror/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/turkey.gif"> Turkey [proGEN] 
<a HREF="http://mysql.progen.com.tr/"> WWW</a>

<LI>

<IMG SRC="Flags/great-britain.gif"> UK [PLiG/UK] 
<a HREF="http://ftp.plig.org/pub/mysql/"> WWW</a>
<a HREF="ftp://ftp.plig.org/pub/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/ukraine.gif"> Ukraine [PACO] 
<a HREF="http://mysql.paco.net.ua"> WWW</a>
<a HREF="ftp://mysql.paco.net.ua/"> FTP</a>

<LI>

<IMG SRC="Flags/ukraine.gif"> Ukraine [ISP Alkar Teleport/Dnepropetrovsk] 
<a HREF="http://mysql.dp.ua/"> WWW</a>

<LI>

<IMG SRC="Flags/yugoslavia.gif"> Yugoslavia [bolex.co.yu] 
<a HREF="http://mysql.boa.org.yu/"> WWW</a>
<a HREF="ftp://ftp.linux.org.yu/pub/MySQL/"> FTP</a>

</UL>

<P>
<STRONG>North America:</STRONG>

</P>

<UL>

<LI>

<IMG SRC="Flags/canada.gif"> Canada [Tryc] 
<a HREF="http://web.tryc.on.ca/mysql/"> WWW</a>

<LI>

<IMG SRC="Flags/mexico.gif"> Mexico [UNAM] 
<a HREF="http://mysql.unam.mx/"> WWW</a>
<a HREF="ftp://mysql.unam.mx/pub/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/usa.gif"> USA [Hurricane Electric/San Jose] 
<a HREF="http://mysql.he.net/"> WWW</a>

<LI>

<IMG SRC="Flags/usa.gif"> USA [ValueClick, Los Angeles CA] 
<a HREF="http://mysql.valueclick.com/"> WWW</a>
<a HREF="ftp://mysql.valueclick.com/pub/mysql/Downloads/"> FTP</a>

<LI>

<IMG SRC="Flags/usa.gif"> USA [Wisconsin University/Wisconsin] 
<a HREF="http://mirror.sit.wisc.edu/mysql/"> WWW</a>
<a HREF="ftp://mirror.sit.wisc.edu/mirrors/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/usa.gif"> USA [LinuxWired/Scottsdale, AZ] 
<a HREF="http://mysql.linuxwired.net/"> WWW</a>
<a HREF="ftp://ftp.linuxwired.net/pub/mirrors/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/usa.gif"> USA [adgrafix.com/Boston, MA] 
<a HREF="http://mysql.adgrafix.com/"> WWW</a>

<LI>

<IMG SRC="Flags/usa.gif"> USA [netNumina/Cambridge, MA] 
<a HREF="http://mysql.mirrors.netnumina.com/"> WWW</a>

<LI>

<IMG SRC="Flags/usa.gif"> USA [Ahaza Systems/Seattle, WA] 
<a HREF="http://mysql.mirrortree.com/"> WWW</a>
<a HREF="ftp://mysql.mirrortree.com/pub/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/usa.gif"> USA [NIXC/Vienna, VA] 
<a HREF="http://www.nixc.net/mysql/"> WWW</a>
<a HREF="ftp://www.nixc.net/pub/mysql/"> FTP</a>

</UL>

<P>
<STRONG>South America:</STRONG>

</P>

<UL>

<LI>

<IMG SRC="Flags/argentina.gif"> Argentina [bannerlandia.com] 
<a HREF="http://mysql.bannerlandia.com.ar/"> WWW</a>
<a HREF="ftp://mysql.bannerlandia.com.ar/mirrors/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/chile.gif"> Chile [Vision] 
<a HREF="http://mysql.vision.cl/"> WWW</a>

<LI>

<IMG SRC="Flags/chile.gif"> Chile [PSINet] 
<a HREF="http://mysql.psinet.cl/"> WWW</a>
<a HREF="ftp://ftp.psinet.cl/pub/database/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/chile.gif"> Chile [Tecnoera] 
<a HREF="http://mysql.tecnoera.com/"> WWW</a>

</UL>

<P>
<STRONG>Asia:</STRONG>

</P>

<UL>

<LI>

<IMG SRC="Flags/china.gif"> China [linuxforum.net] 
<a HREF="http://www2.linuxforum.net/mirror/mysql/"> WWW</a>

<LI>

<IMG SRC="Flags/china.gif"> China [HKLPG/Hong Kong] 
<a HREF="http://mysql.hklpg.org"> WWW</a>

<LI>

<IMG SRC="Flags/china.gif"> China [Gremlins/Hong Kong] 
<a HREF="http://mysql.gremlins.com.hk/"> WWW</a>
<a HREF="ftp://ftp.mirrors.gremlins.com.hk/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/china.gif"> China [shellhung.org/Hong Kong] 
<a HREF="http://mysql.shellhung.org/"> WWW</a>
<a HREF="ftp://ftp.shellhung.org/pub/Mirror/mysql/"> FTP</a>

<LI>

<IMG SRC="Flags/indonesia.gif"> Indonesia [incaf.net] 
<a HREF="http://mysql.incaf.net/"> WWW</a>

<LI>

<IMG SRC="Flags/indonesia.gif"> Indonesia [web.id] 
<a HREF="http://mysql.itb.web.id/"> WWW</a>
<a HREF="ftp://mysql.itb.web.id/pub/MySQL/"> FTP</a>

<LI>

<IMG SRC="Flags/japan.gif"> Japan [Soft Agency] 
<a HREF="http://www.softagency.co.jp/MySQL"> WWW</a>

<LI>

<IMG SRC="Flags/japan.gif"> Japan [u-aizu.ac.jp/Aizu] 
<a HREF="ftp://ftp.u-aizu.ac.jp/ftp/pub/dbms/mysql/mysql.com"> FTP</a>

<LI>

<IMG SRC="Flags/philippines.gif"> Philippines [Ateneo de Zamboanga University] 
<a HREF="http://mysql.adzu.edu.ph/"> WWW</a>

<LI>

<IMG SRC="Flags/south-korea.gif"> South Korea [Webiiz] 
<a HREF="http://mysql.webiiz.com/"> WWW</a>

<LI>

<IMG SRC="Flags/south-korea.gif"> South Korea [PanworldNet] 
<a HREF="http://mysql.holywar.net/"> WWW</a>

<LI>

<IMG SRC="Flags/singapore.gif"> Singapore [HJC] 
<a HREF="http://mysql.hjc.edu.sg"> WWW</a>
<a HREF="ftp://ftp.hjc.edu.sg/mysql"> FTP</a>

<LI>

<IMG SRC="Flags/taiwan.gif"> Taiwan [TTN] 
<a HREF="http://mysql.ttn.net"> WWW</a>

<LI>

<IMG SRC="Flags/taiwan.gif"> Taiwan [nctu.edu/HsinChu] 
<a HREF="http://mysql.nctu.edu.tw/"> WWW</a>

</UL>

<P>
<STRONG>Africa:</STRONG>

</P>

<UL>

<LI>

<IMG SRC="Flags/south-africa1.gif"> South-Africa [Mweb] 
<a HREF="http://www.mysql.mweb.co.za/"> WWW</a>

<LI>

<IMG SRC="Flags/south-africa1.gif"> South Africa [The Internet Solution/Johannesburg] 
<a HREF="ftp://ftp.is.co.za/linux/mysql/"> FTP</a>

</UL>



<H3><A NAME="Which_OS" HREF="manual_toc.html#Which_OS">2.2.2  Operating Systems Supported by MySQL</A></H3>

<P>
<A NAME="IDX180"></A>
<A NAME="IDX181"></A>
<A NAME="IDX182"></A>
<A NAME="IDX183"></A>
<A NAME="IDX184"></A>

</P>
<P>
We use GNU Autoconf, so it is possible to port MySQL to all modern
systems with working Posix threads and a C++ compiler.  (To compile only the
client code, a C++ compiler is required but not threads.)  We use and develop
the software ourselves primarily on Sun Solaris (Versions 2.5 - 2.7) and
SuSE Linux Version 7.x.

</P>
<P>
Note that for many operating systems, the native thread support works only
in the latest versions. MySQL has been reported to compile
successfully on the following operating system/thread package combinations:

</P>

<UL>
<LI>

AIX 4.x with native threads.  See section <A HREF="manual.html#IBM-AIX">2.6.6.4  IBM-AIX notes</A>.
<LI>

Amiga.
<LI>

BSDI 2.x with the included MIT-pthreads package.  See section <A HREF="manual.html#BSDI">2.6.4.6  BSD/OS Notes</A>.
<LI>

BSDI 3.0, 3.1 and 4.x with native threads.  See section <A HREF="manual.html#BSDI">2.6.4.6  BSD/OS Notes</A>.
<LI>

DEC Unix 4.x with native threads.  See section <A HREF="manual.html#Alpha-DEC-UNIX">2.6.6.6  Alpha-DEC-UNIX Notes (Tru64)</A>.
<LI>

FreeBSD 2.x with the included MIT-pthreads package.  See section <A HREF="manual.html#FreeBSD">2.6.4.1  FreeBSD Notes</A>.
<LI>

FreeBSD 3.x and 4.x with native threads.  See section <A HREF="manual.html#FreeBSD">2.6.4.1  FreeBSD Notes</A>.
<LI>

HP-UX 10.20 with the included MIT-pthreads package.  See section <A HREF="manual.html#HP-UX_10.20">2.6.6.2  HP-UX Version 10.20 Notes</A>.
<LI>

HP-UX 11.x with the native threads.  See section <A HREF="manual.html#HP-UX_11.x">2.6.6.3  HP-UX Version 11.x Notes</A>.
<LI>

Linux 2.0+ with LinuxThreads 0.7.1+ or <CODE>glibc</CODE> 2.0.7+.  See section <A HREF="manual.html#Linux">2.6.1  Linux Notes (All Linux Versions)</A>.
<LI>

Mac OS X Server.  See section <A HREF="manual.html#Mac_OS_X">2.6.5  Mac OS X Notes</A>.
<LI>

NetBSD 1.3/1.4 Intel and NetBSD 1.3 Alpha (Requires GNU make).  See section <A HREF="manual.html#NetBSD">2.6.4.2  NetBSD notes</A>.
<LI>

OpenBSD &#62; 2.5 with native therads. OpenBSD &#60; 2.5 with the included
MIT-pthreads package.  See section <A HREF="manual.html#OpenBSD">2.6.4.3  OpenBSD Notes</A>.
<LI>

OS/2 Warp 3, FixPack 29 and OS/2 Warp 4, FixPack 4.  See section <A HREF="manual.html#OS_2">2.6.7  OS/2 Notes</A>.
<LI>

SGI Irix 6.x with native threads.  See section <A HREF="manual.html#SGI-Irix">2.6.6.8  SGI Irix Notes</A>.
<LI>

Solaris 2.5 and above with native threads on SPARC and x86.  See section <A HREF="manual.html#Solaris">2.6.3  Solaris Notes</A>.
<LI>

SunOS 4.x with the included MIT-pthreads package.  See section <A HREF="manual.html#Solaris">2.6.3  Solaris Notes</A>.
<LI>

SCO OpenServer with a recent port of the FSU Pthreads package.  See section <A HREF="manual.html#SCO">2.6.6.9  SCO Notes</A>.
<LI>

SCO UnixWare 7.0.1.  See section <A HREF="manual.html#SCO_Unixware">2.6.6.10  SCO Unixware Version 7.0 Notes</A>.
<LI>

Tru64 Unix
<LI>

Win95, Win98, NT, and Win2000.  See section <A HREF="manual.html#Windows">2.6.2  Windows Notes</A>.
</UL>

<P>
Note that not all platforms are suited equally well for running
MySQL. How well a certain platform is suited for a high-load
mission critical MySQL server is determined by the following
factors:

</P>

<UL>
<LI>

General stability of the thread library. A platform may have excellent
reputation otherwise, but if the thread library is unstable in the code
that is called by MySQL, even if everything else is perfect, MySQL will
be only as stable as the thread library.

<LI>

The ability of the kernel and/or thread library to take advantage of
<STRONG>SMP</STRONG> on multi-processor systems. In other words, when a process
creates a thread, it should be possible for that thread to run on a different
CPU than the original process.

<LI>

The ability of the kernel and/or the thread library to run many threads which
acquire/release a mutex over a short critical region frequently without
excessive context switches. In other words, if the implementation of
<CODE>pthread_mutex_lock()</CODE> is too anxious to yield CPU, this will hurt
MySQL tremendously. If this issue is not taken care of, adding extra CPUs
will actually make MySQL slower.

<LI>

General file system stability/performance.

<LI>

Ability of the file system to deal with large files at all and deal with them
efficiently, if your tables are big.

<LI>

Our level of expertise here at MySQL AB with the platform. If we know
a platform well, we introduce platform-specific optimizations/fixes enabled at
compile time. We can also provide advice on configuring your system optimally
for MySQL.

<LI>

The amount of testing of similar configurations we have done internally.

<LI>

The number of users that have successfully run MySQL on that
platform in similar configurations. If this number is high, the chances of
hitting some platform-specific surprise are much smaller.
</UL>

<P>
Based on the above criteria, the best platforms for running
MySQL at this point are x86 with SuSE Linux 7.1, 2.4 kernel and
ReiserFS (or any similar Linux distribution) and Sparc with Solaris 2.7
or 2.8. FreeBSD comes third, but we really hope it will join the top
club once the thread library is improved. We also hope that at some
point we will be able to include all other platforms on which
MySQL compiles, runs ok, but not quite with the same level of
stability and performance, into the top category. This will require some
effort on our part in cooperation with the developers of the OS/library
components MySQL depends upon. If you are interested in making
one of those components better, are in a position to influence their
development, and need more detailed instructions on what MySQL
needs to run better, send an e-mail to
<a HREF="mailto:internals@lists.mysql.com">internals@lists.mysql.com</a>.

</P>
<P>
Please note that the comparison above is not to say that one OS is better or
worse than the other in general. We are talking about choosing a particular OS
for a dedicated purpose - running MySQL, and compare platforms in that
regard only. With this in mind, the result of this comparison
would be different if we included more issues into it. And in some cases,
the reason one OS is better than the other could simply be that we have put
forth more effort into testing on and optimizing for that particular platform.
We are just stating our observations to help you make a
decision on which platform to use MySQL on in your setup.

</P>



<H3><A NAME="Which_version" HREF="manual_toc.html#Which_version">2.2.3  Which MySQL Version to Use</A></H3>

<P>
<A NAME="IDX185"></A>
<A NAME="IDX186"></A>
<A NAME="IDX187"></A>
<A NAME="IDX188"></A>
<A NAME="IDX189"></A>

</P>
<P>
The first decision to make is whether you want to use the latest development
release or the last stable release:

</P>

<UL>
<LI>

Normally, if you are beginning to use MySQL for the first time
or trying to port it to some system for which there is no binary
distribution, we recommend going with the stable release (currently
Version 4.0.0-alpha.  Note that all MySQL releases are
checked with the MySQL benchmarks and an extensive test suite
before each release.

<LI>

Otherwise, if you are running an old system and want to upgrade, but
don't want to take chances with a non-seamless upgrade, you should
upgrade to the latest in the same branch you are using (where only the
last version number is newer than yours).  We have tried to fix only
fatal bugs and make small, relatively safe changes to that version.
</UL>

<P>
The second decision to make is whether you want to use a source
distribution or a binary distribution.  In most cases you should probably
use a binary distribution, if one exists for your platform, as this
generally will be easier to install than a source distribution.

</P>
<P>
In the following cases you probably will be better off with a source
installation:

</P>

<UL>
<LI>

If you want to install MySQL at some explicit location.  (The standard
binary distributions are ``ready to run'' at any place, but you may want
to get even more flexibility).

<LI>

To be able to satisfy different user requirements, we are providing two
different binary versions; One compiled with the non-transactional table
handlers, (a small, fast binary), and one configured with the most
important extended options like transaction-safe tables.  Both versions
are compiled from the same source distribution.  All native <CODE>MySQL</CODE>
clients can connect to both MySQL versions.

The extended MySQL binary distribution is marked with the
<CODE>-max</CODE> suffix and is configured with the same options as
<CODE>mysqld-max</CODE>. See section <A HREF="manual.html#mysqld-max">4.7.5  mysqld-max, An extended mysqld server</A>.

If you want to use the <CODE>MySQL-Max</CODE> RPM, you must first
install the standard <CODE>MySQL</CODE> RPM.

<LI>

If you want to configure <CODE>mysqld</CODE> with some extra features that are 
NOT in the standard binary distributions.  Here is a list of the most 
common extra options that you may want to use:


<UL>
<LI><CODE>--with-berkeley-db</CODE>

<LI><CODE>--with-innodb</CODE>

<LI><CODE>--with-raid</CODE>

<LI><CODE>--with-libwrap</CODE>

<LI><CODE>--with-named-z-lib  (This is done for some of the binaries)</CODE>

<LI><CODE>--with-debug[=full]</CODE>

</UL>

<LI>

The default binary distribution is normally compiled with support
for all characters sets and should work on a variety of processors from
the same processor family.

If you want a faster MySQL server you may want to recompile it
with support for only the character sets you need, use a better compiler
(like <CODE>pgcc</CODE>) or use compiler options that are better optimized for your
processor.

<LI>

If you have found a bug and reported it to the MySQL
development team you will probably receive a patch that you need to apply to
the source distribution to get the bug fixed.

<LI>

If you want to read (and/or modify) the C and C++ code that makes up
MySQL, you should get a source distribution.  The source code is
always the ultimate manual.  Source distributions also contain more
tests and examples than binary distributions.
</UL>

<P>
<A NAME="IDX190"></A>
<A NAME="IDX191"></A>

</P>
<P>
The MySQL naming scheme uses release numbers that consist of three
numbers and a suffix.  For example, a release name like
<CODE>mysql-3.21.17-beta</CODE> is interpreted like this:

</P>

<UL>
<LI>

The first number (<CODE>3</CODE>) describes the file format.  All Version 3 
releases have the same file format.

<LI>

The second number (<CODE>21</CODE>) is the release level.  Normally there are two to
choose from. One is the release/stable branch (currently <CODE>23</CODE>) and the
other is the development branch (currently <CODE>4.0</CODE>).  Normally both are
stable, but the development version may have quirks, missing documentation on
new features, or may fail to compile on some systems.

<LI>

The third number (<CODE>17</CODE>) is the version number within the
release level.  This is incremented for each new distribution.  Usually you
want the latest version for the release level you have chosen.

<LI>

The suffix (<CODE>beta</CODE>) indicates the stability level of the release.
The possible suffixes are:


<UL>
<LI>

<CODE>alpha</CODE> indicates that the release contains some large section of
new code that hasn't been 100% tested.  Known bugs (usually there are none)
should be documented in the News section.  See section <A HREF="manual.html#News">F  MySQL change history</A>.  There are also new
commands and extensions in most alpha releases.  Active development that
may involve major code changes can occur on an alpha release, but everything
will be tested before doing a release.  There should be no known bugs in any
MySQL release.

<LI>

<CODE>beta</CODE> means that all new code has been tested.  No major new
features that could cause corruption on old code are added.  There should
be no known bugs.  A version changes from alpha to beta when there
haven't been any reported fatal bugs within an alpha version for at least
a month and we don't plan to add any features that could make any old command
more unreliable.

<LI>

<CODE>gamma</CODE> is a beta that has been around a while and seems to work fine.
Only minor fixes are added.  This is what many other companies call a release.

<LI>

If there is no suffix, it means that the version has been run for a
while at many different sites with no reports of bugs other than
platform-specific bugs.  Only critical bug fixes are applied to the
release. This is what we call a stable release.
</UL>

</UL>

<P>
All versions of MySQL are run through our standard tests and
benchmarks to ensure that they are relatively safe to use.  Because the
standard tests are extended over time to check for all previously found bugs,
the test suite keeps getting better.

</P>
<P>
<A NAME="IDX192"></A>
<A NAME="IDX193"></A>

</P>
<P>
Note that all releases have been tested at least with:

</P>
<DL COMPACT>

<DT>An internal test suite
<DD>
This is part of a production system for a customer.  It has many tables with
hundreds of megabytes of data.

<DT>The MySQL benchmark suite
<DD>
This runs a range of common queries.  It is also a test to see whether the
latest batch of optimizations actually made the code faster.
See section <A HREF="manual.html#MySQL_Benchmarks">5.1.4  The MySQL Benchmark Suite</A>.

<DT>The <CODE>crash-me</CODE> test
<DD>
This tries to determine what features the database supports and what its
capabilities and limitations are.  See section <A HREF="manual.html#MySQL_Benchmarks">5.1.4  The MySQL Benchmark Suite</A>.
</DL>

<P>
Another test is that we use the newest MySQL version in our internal
production environment, on at least one machine.  We have more than 100
gigabytes of data to work with.

</P>



<H3><A NAME="Installation_layouts" HREF="manual_toc.html#Installation_layouts">2.2.4  Installation Layouts</A></H3>

<P>
<A NAME="IDX194"></A>
<A NAME="IDX195"></A>
<A NAME="IDX196"></A>
<A NAME="IDX197"></A>

</P>
<P>
This section describes the default layout of the directories created by
installing binary and source distributions.

</P>
<P>
A binary distribution is installed by unpacking it at the installation
location you choose (typically <TT>`/usr/local/mysql'</TT>) and creates the
following directories in that location:

</P>
<TABLE BORDER WIDTH="100%">
<TR><TD><STRONG>Directory</STRONG> </TD><TD> <STRONG>Contents of directory</STRONG>
</TD></TR>
<TR><TD><TT>`bin'</TT> </TD><TD> Client programs and the <CODE>mysqld</CODE> server
</TD></TR>
<TR><TD><TT>`data'</TT> </TD><TD> Log files, databases
</TD></TR>
<TR><TD><TT>`include'</TT> </TD><TD> Include (header) files
</TD></TR>
<TR><TD><TT>`lib'</TT> </TD><TD> Libraries
</TD></TR>
<TR><TD><TT>`scripts'</TT> </TD><TD> <CODE>mysql_install_db</CODE>
</TD></TR>
<TR><TD><TT>`share/mysql'</TT> </TD><TD> Error message files
</TD></TR>
<TR><TD><TT>`sql-bench'</TT> </TD><TD> Benchmarks
</TD></TR>
</TABLE>

<P>
A source distribution is installed after you configure and compile it.  By
default, the installation step installs files under <TT>`/usr/local'</TT>, in the
following subdirectories:

</P>
<TABLE BORDER WIDTH="100%">
<TR><TD><STRONG>Directory</STRONG> </TD><TD> <STRONG>Contents of directory</STRONG>
</TD></TR>
<TR><TD><TT>`bin'</TT> </TD><TD> Client programs and scripts
</TD></TR>
<TR><TD><TT>`include/mysql'</TT> </TD><TD> Include (header) files
</TD></TR>
<TR><TD><TT>`info'</TT> </TD><TD> Documentation in Info format
</TD></TR>
<TR><TD><TT>`lib/mysql'</TT> </TD><TD> Libraries
</TD></TR>
<TR><TD><TT>`libexec'</TT> </TD><TD> The <CODE>mysqld</CODE> server
</TD></TR>
<TR><TD><TT>`share/mysql'</TT> </TD><TD> Error message files
</TD></TR>
<TR><TD><TT>`sql-bench'</TT> </TD><TD> Benchmarks and <CODE>crash-me</CODE> test
</TD></TR>
<TR><TD><TT>`var'</TT> </TD><TD> Databases and log files
</TD></TR>
</TABLE>

<P>
Within an installation directory, the layout of a source installation differs
from that of a binary installation in the following ways:

</P>

<UL>
<LI>

The <CODE>mysqld</CODE> server is installed in the <TT>`libexec'</TT>
directory rather than in the <TT>`bin'</TT> directory.

<LI>

The data directory is <TT>`var'</TT> rather than <TT>`data'</TT>.

<LI>

<CODE>mysql_install_db</CODE> is installed in the <TT>`/usr/local/bin'</TT> directory
rather than in <TT>`/usr/local/mysql/scripts'</TT>.

<LI>

The header file and library directories are <TT>`include/mysql'</TT> and
<TT>`lib/mysql'</TT> rather than <TT>`include'</TT> and <TT>`lib'</TT>.
</UL>

<P>
You can create your own binary installation from a compiled source
distribution by executing the script <TT>`scripts/make_binary_distribution'</TT>.

</P>



<H3><A NAME="Many_versions" HREF="manual_toc.html#Many_versions">2.2.5  How and When Updates Are Released</A></H3>

<P>
<A NAME="IDX198"></A>
<A NAME="IDX199"></A>

</P>
<P>
MySQL is evolving quite rapidly here at MySQL AB and we
want to share this with other MySQL users.  We try to make a release
when we have very useful features that others seem to have a need for.

</P>
<P>
We also try to help out users who request features that are easy to
implement.  We take note of what our licensed users want to have, and
we especially take note of what our extended e-mail supported customers
want and try to help them out.

</P>
<P>
No one has to download a new release.  The News section will tell you if
the new release has something you really want.  See section <A HREF="manual.html#News">F  MySQL change history</A>.

</P>
<P>
We use the following policy when updating MySQL:

</P>

<UL>
<LI>

For each minor update, the last number in the version string is incremented.
When there are major new features or minor incompatibilities with previous
versions, the second number in the version string is incremented.  When the
file format changes, the first number is increased.

<LI>

Stable tested releases are meant to appear about 1-2 times a year, but
if small bugs are found, a release with only bug fixes will be released.

<LI>

Working releases are meant to appear about every 1-8 weeks.

<LI>

Binary distributions for some platforms will be made by us for major releases.
Other people may make binary distributions for other systems but probably
less frequently.

<LI>

We usually make patches available as soon as we have located and fixed
small bugs.

<LI>

For non-critical but annoying bugs, we will make patches available if they
are sent to us.  Otherwise we will combine many of them into a larger
patch.

<LI>

If there is, by any chance, a fatal bug in a release we will make a new
release as soon as possible.  We would like other companies to do this,
too.
</UL>

<P>
The current stable release is Version 3.23; We have already moved active
development to Version 4.0.  Bugs will still be fixed in the stable version.
We don't believe in a complete freeze, as this also leaves out bug fixes
and things that ``must be done.''  ``Somewhat frozen'' means that we may
add small things that ``almost surely will not affect anything that's
already working.''

</P>



<H3><A NAME="MySQL_binaries" HREF="manual_toc.html#MySQL_binaries">2.2.6  MySQL Binaries Compiled by MySQL AB</A></H3>

<P>
<A NAME="IDX200"></A>

</P>
<P>
As a service, we at MySQL AB provide a set of binary distributions
of MySQL that are compiled at our site or at sites where customers
kindly have given us access to their machines.

</P>
<P>
These distributions are generated with <CODE>scripts/make_binary_distribution</CODE>
and are configured with the following compilers and options:

</P>
<DL COMPACT>

<DT>SunOS 4.1.4 2 sun4c with <CODE>gcc</CODE> 2.7.2.1
<DD>
<CODE>CC=gcc CXX=gcc CXXFLAGS="-O3 -felide-constructors" ./configure --prefix=/usr/local/mysql --disable-shared --with-extra-charsets=complex --enable-assembler</CODE>

<DT>SunOS 5.5.1 (and above) sun4u with <CODE>egcs</CODE> 1.0.3a or 2.90.27 or gcc 2.95.2 and newer
<DD>
<CODE>CC=gcc CFLAGS="-O3" CXX=gcc CXXFLAGS="-O3 -felide-constructors -fno-exceptions -fno-rtti" ./configure --prefix=/usr/local/mysql --with-low-memory --with-extra-charsets=complex --enable-assembler</CODE>

<DT>SunOS 5.6 i86pc with <CODE>gcc</CODE> 2.8.1
<DD>
<CODE>CC=gcc CXX=gcc CXXFLAGS=-O3 ./configure --prefix=/usr/local/mysql --with-low-memory --with-extra-charsets=complex</CODE>

<DT>Linux 2.0.33 i386 with <CODE>pgcc</CODE> 2.90.29 (<CODE>egcs</CODE> 1.0.3a)
<DD>
<CODE>CFLAGS="-O3 -mpentium -mstack-align-double" CXX=gcc CXXFLAGS="-O3 -mpentium -mstack-align-double -felide-constructors -fno-exceptions -fno-rtti" ./configure --prefix=/usr/local/mysql --enable-assembler --with-mysqld-ldflags=-all-static --with-extra-charsets=complex</CODE>

<DT>Linux 2.2.x with x686 with <CODE>gcc</CODE> 2.95.2
<DD>
<CODE>CFLAGS="-O3 -mpentiumpro" CXX=gcc CXXFLAGS="-O3 -mpentiumpro -felide-constructors -fno-exceptions -fno-rtti" ./configure --prefix=/usr/local/mysql --enable-assembler --with-mysqld-ldflags=-all-static --disable-shared --with-extra-charset=complex</CODE>

<DT>SCO 3.2v5.0.4 i386 with <CODE>gcc</CODE> 2.7-95q4
<DD>
<CODE>CC=gcc CXX=gcc CXXFLAGS=-O3 ./configure --prefix=/usr/local/mysql --with-extra-charsets=complex</CODE>

<DT>AIX 2 4 with <CODE>gcc</CODE> 2.7.2.2
<DD>
<CODE>CC=gcc CXX=gcc CXXFLAGS=-O3 ./configure --prefix=/usr/local/mysql --with-extra-charsets=complex</CODE>

<DT>OSF1 V4.0 564 alpha with <CODE>gcc</CODE> 2.8.1
<DD>
<CODE>CC=gcc CFLAGS=-O CXX=gcc CXXFLAGS=-O3 ./configure --prefix=/usr/local/mysql --with-low-memory --with-extra-charsets=complex</CODE>

<DT>Irix 6.3 IP32 with <CODE>gcc</CODE> 2.8.0
<DD>
<CODE>CC=gcc CXX=gcc CXXFLAGS=-O3 ./configure --prefix=/usr/local/mysql --with-extra-charsets=complex</CODE>

<DT>BSDI BSD/OS 3.1 i386 with <CODE>gcc</CODE> 2.7.2.1
<DD>
<CODE>CC=gcc CXX=gcc CXXFLAGS=-O ./configure --prefix=/usr/local/mysql --with-extra-charsets=complex</CODE>

<DT>BSDI BSD/OS 2.1 i386 with <CODE>gcc</CODE> 2.7.2
<DD>
<CODE>CC=gcc CXX=gcc CXXFLAGS=-O3 ./configure --prefix=/usr/local/mysql --with-extra-charsets=complex</CODE>
</DL>

<P>
Anyone who has more optimal options for any of the configurations listed
above can always mail them to the developer's mailing list at
<a HREF="mailto:internals@lists.mysql.com">internals@lists.mysql.com</a>.

</P>
<P>
RPM distributions prior to MySQL Version 3.22 are user-contributed.
Beginning with Version 3.22, the RPMs are generated by us at 
MySQL AB.

</P>
<P>
If you want to compile a debug version of MySQL, you should add
<CODE>--with-debug</CODE> or <CODE>--with-debug=full</CODE> to the above configure lines
and remove any <CODE>-fomit-frame-pointer</CODE> options.

</P>



<H2><A NAME="Installing_source" HREF="manual_toc.html#Installing_source">2.3  Installing a MySQL Source Distribution</A></H2>

<P>
<A NAME="IDX201"></A>
<A NAME="IDX202"></A>
<A NAME="IDX203"></A>

</P>
<P>
Before you proceed with the source installation, check first to see if our
binary is available for your platform and if it will work for you. We 
put in a lot of effort into making sure that our binaries are built with the
best possible options.

</P>
<P>
You need the following tools to build and install MySQL from source:

</P>

<UL>
<LI>

GNU <CODE>gunzip</CODE> to uncompress the distribution.

<LI>

A reasonable <CODE>tar</CODE> to unpack the distribution.  GNU <CODE>tar</CODE> is
known to work.  Sun <CODE>tar</CODE> is known to have problems.

<LI>

A working ANSI C++ compiler.  <CODE>gcc</CODE> &#62;= 2.95.2, <CODE>egcs</CODE> &#62;= 1.0.2
or <CODE>egcs 2.91.66</CODE>, SGI C++, and SunPro C++ are some of the
compilers that are known to work.  <CODE>libg++</CODE> is not needed when
using <CODE>gcc</CODE>.  <CODE>gcc</CODE> 2.7.x has a bug that makes it impossible
to compile some perfectly legal C++ files, such as
<TT>`sql/sql_base.cc'</TT>.  If you only have <CODE>gcc</CODE> 2.7.x, you must
upgrade your <CODE>gcc</CODE> to be able to compile MySQL. <CODE>gcc</CODE>
2.8.1 is also known to have problems on some platforms so it should be
avoided if there exists a new compiler for the platform..

<CODE>gcc</CODE> &#62;= 2.95.2 is recommended when compiling MySQL
Version 3.23.x.

<LI>

A good <CODE>make</CODE> program.  GNU <CODE>make</CODE> is always recommended and is
sometimes required.  If you have problems, we recommend trying GNU
<CODE>make</CODE> 3.75 or newer.
</UL>

<P>
If you are using a recent version of <STRONG>gcc</STRONG>, recent enough to understand
<CODE>-fno-exceptions</CODE> option, it is <STRONG>VERY IMPORTANT</STRONG> that you use
it. Otherwise, you may compile a binary that crashes randomly. We also
recommend that you use <CODE>-felide-contructors</CODE> and <CODE>-fno-rtti</CODE> along
with <CODE>-fno-exceptions</CODE>. When in doubt, do the following:

</P>

<PRE>

CFLAGS="-O3" CXX=gcc CXXFLAGS="-O3 -felide-constructors -fno-exceptions -fno-rtti" ./configure --prefix=/usr/local/mysql --enable-assembler --with-mysqld-ldflags=-all-static

</PRE>

<P>
On most systems this will give you a fast and stable binary.

</P>
<P>
If you run into problems, <STRONG>PLEASE ALWAYS USE <CODE>mysqlbug</CODE></STRONG> when
posting questions to <a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>.  Even if the problem
isn't a bug, <CODE>mysqlbug</CODE> gathers system information that will help others
solve your problem.  By not using <CODE>mysqlbug</CODE>, you lessen the likelihood
of getting a solution to your problem!  You will find <CODE>mysqlbug</CODE> in the
<TT>`scripts'</TT> directory after you unpack the distribution.  
See section <A HREF="manual.html#Bug_reports">1.2.22.3  How to Report Bugs or Problems</A>.

</P>



<H3><A NAME="Quick_install" HREF="manual_toc.html#Quick_install">2.3.1  Quick Installation Overview</A></H3>

<P>
The basic commands you must execute to install a MySQL source
distribution are:

</P>

<PRE>
shell&#62; groupadd mysql
shell&#62; useradd -g mysql mysql
shell&#62; gunzip &#60; mysql-VERSION.tar.gz | tar -xvf -
shell&#62; cd mysql-VERSION
shell&#62; ./configure --prefix=/usr/local/mysql
shell&#62; make
shell&#62; make install
shell&#62; scripts/mysql_install_db
shell&#62; chown -R root  /usr/local/mysql
shell&#62; chown -R mysql /usr/local/mysql/var
shell&#62; chgrp -R mysql /usr/local/mysql
shell&#62; cp support-files/my-medium.cnf /etc/my.cnf
shell&#62; /usr/local/mysql/bin/safe_mysqld --user=mysql &#38;
</PRE>

<P>
If you want have support for InnoDB tables, you should edit the
<CODE>/etc/my.cnf</CODE> file and remove the <CODE>#</CODE> character before the
parameters that starts with <CODE>innodb_...</CODE>. See section <A HREF="manual.html#Option_files">4.1.2  my.cnf Option Files</A>. See section <A HREF="manual.html#InnoDB_start">7.6.2  InnoDB startup options</A>.

</P>
<P>
If you start from a source RPM, then do the following:

</P>

<PRE>
shell&#62; rpm --rebuild MySQL-VERSION.src.rpm
</PRE>

<P>
This will make a binary RPM that you can install.

</P>
<P>
You can add new users using the <CODE>bin/mysql_setpermission</CODE> script if
you install the <CODE>DBI</CODE> and <CODE>Msql-Mysql-modules</CODE> Perl modules.

</P>
<P>
A more detailed description follows.

</P>
<P>
To install a source distribution, follow the steps below, then proceed
to section <A HREF="manual.html#Post-installation">2.4  Post-installation Setup and Testing</A>, for post-installation initialization and testing:

</P>

<OL>
<LI>

Pick the directory under which you want to unpack the distribution, and move
into it.

<LI>

Obtain a distribution file from one of the sites listed in
section <A HREF="manual.html#Getting_MySQL">2.2.1  How to Get MySQL</A>.

<LI>

If you are interested in using Berkeley DB tables with MySQL, you
will need to obtain a patched version of the Berkeley DB source
code.  Please read the chapter on Berkeley DB tables before
proceeding.  See section <A HREF="manual.html#BDB">7.5  BDB or Berkeley_DB Tables</A>.

MySQL source distributions are provided as compressed <CODE>tar</CODE>
archives and have names like <TT>`mysql-VERSION.tar.gz'</TT>, where
<CODE>VERSION</CODE> is a number like 4.0.0-alpha.

<LI>

Add a user and group for <CODE>mysqld</CODE> to run as:


<PRE>
shell&#62; groupadd mysql
shell&#62; useradd -g mysql mysql
</PRE>

These commands add the <CODE>mysql</CODE> group, and the <CODE>mysql</CODE> user.  The
syntax for <CODE>useradd</CODE> and <CODE>groupadd</CODE> may differ slightly on different
versions of Unix.  They may also be called <CODE>adduser</CODE> and <CODE>addgroup</CODE>.
You may wish to call the user and group something else instead of <CODE>mysql</CODE>.

<LI>

Unpack the distribution into the current directory:

<PRE>
shell&#62; gunzip &#60; /path/to/mysql-VERSION.tar.gz | tar xvf -
</PRE>

This command creates a directory named <TT>`mysql-VERSION'</TT>.

<LI>

Change into the top-level directory of the unpacked distribution:


<PRE>
shell&#62; cd mysql-VERSION
</PRE>

Note that currently you must configure and build MySQL from
this top-level directory.  You can not build it in a different
directory.

<LI>

Configure the release and compile everything:


<PRE>
shell&#62; ./configure --prefix=/usr/local/mysql
shell&#62; make
</PRE>

When you run <CODE>configure</CODE>, you might want to specify some options.
Run <CODE>./configure --help</CODE> for a list of options.
section <A HREF="manual.html#configure_options">2.3.3  Typical <CODE>configure</CODE> Options</A>, discusses some of the
more useful options.

If <CODE>configure</CODE> fails, and you are going to send mail to
<a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a> to ask for assistance, please include any
lines from <TT>`config.log'</TT> that you think can help solve the problem.  Also
include the last couple of lines of output from <CODE>configure</CODE> if
<CODE>configure</CODE> aborts.  Post the bug report using the <CODE>mysqlbug</CODE>
script.  See section <A HREF="manual.html#Bug_reports">1.2.22.3  How to Report Bugs or Problems</A>.

If the compile fails, see section <A HREF="manual.html#Compilation_problems">2.3.5  Problems Compiling?</A>, for help with
a number of common problems.

<LI>

Install everything:


<PRE>
shell&#62; make install
</PRE>

You might need to run this command as <CODE>root</CODE>.

<LI>

Create the MySQL grant tables (necessary only if you haven't
installed MySQL before):


<PRE>
shell&#62; scripts/mysql_install_db
</PRE>

Note that MySQL versions older than Version 3.22.10 started the
MySQL server when you run <CODE>mysql_install_db</CODE>.  This is no
longer true!

<LI>

Change ownership of binaries to <CODE>root</CODE> and ownership of the data 
directory to the user that you will run <CODE>mysqld</CODE> as:


<PRE>
shell&#62; chown -R root  /usr/local/mysql
shell&#62; chown -R mysql /usr/local/mysql/var
shell&#62; chgrp -R mysql /usr/local/mysql
</PRE>

The first command changes the <CODE>owner</CODE> attribute of the files to the
<CODE>root</CODE> user, the second one changes the <CODE>owner</CODE> attribute of the 
data directory to the <CODE>mysql</CODE> user, and the third one changes the
<CODE>group</CODE> attribute to the <CODE>mysql</CODE> group.

<LI>

If you want to install support for the Perl <CODE>DBI</CODE>/<CODE>DBD</CODE> interface,
see section <A HREF="manual.html#Perl_support">M.2  Perl Installation Comments</A>.

<LI>

If you would like MySQL to start automatically when you boot your
machine, you can copy <CODE>support-files/mysql.server</CODE> to the location where
your system has its startup files.  More information can be found in the
<CODE>support-files/mysql.server</CODE> script itself and in 
section <A HREF="manual.html#Automatic_start">2.4.3  Starting and Stopping MySQL Automatically</A>.
</OL>

<P>
After everything has been installed, you should initialize and test your
distribution:

</P>

<PRE>
shell&#62; /usr/local/mysql/bin/safe_mysqld --user=mysql &#38;
</PRE>

<P>
If that command fails immediately with <CODE>mysqld daemon ended</CODE> then you can
find some information in the file <TT>`mysql-data-directory/'hostname'.err'</TT>.
The likely reason is that you already have another <CODE>mysqld</CODE> server 
running.  See section <A HREF="manual.html#Multiple_servers">4.1.4  Running Multiple MySQL Servers on the Same Machine</A>.

</P>
<P>
See section <A HREF="manual.html#Post-installation">2.4  Post-installation Setup and Testing</A>.

</P>



<H3><A NAME="Applying_patches" HREF="manual_toc.html#Applying_patches">2.3.2  Applying Patches</A></H3>

<P>
<A NAME="IDX204"></A>
<A NAME="IDX205"></A>

</P>
<P>
Sometimes patches appear on the mailing list or are placed in the
<a HREF="http://www.mysql.com/Downloads/Patches"> patches area</a> of the
MySQL Web site.

</P>
<P>
To apply a patch from the mailing list, save the message in which the patch
appears in a file, change into the top-level directory of your MySQL
source tree, and run these commands:

</P>

<PRE>
shell&#62; patch -p1 &#60; patch-file-name
shell&#62; rm config.cache
shell&#62; make clean
</PRE>

<P>
Patches from the FTP site are distributed as plain text files or as files
compressed with <CODE>gzip</CODE>.  Apply a plain patch as shown above for
mailing list patches.  To apply a compressed patch, change into the
top-level directory of your MySQL source tree and run these
commands:

</P>

<PRE>
shell&#62; gunzip &#60; patch-file-name.gz | patch -p1
shell&#62; rm config.cache
shell&#62; make clean
</PRE>

<P>
After applying a patch, follow the instructions for a normal source install,
beginning with the <CODE>./configure</CODE> step.  After running the <CODE>make
install</CODE> step, restart your MySQL server.

</P>
<P>
You may need to bring down any currently running server before you run
<CODE>make install</CODE>.  (Use <CODE>mysqladmin shutdown</CODE> to do this.)  Some
systems do not allow you to install a new version of a program if it replaces
the version that is currently executing.

</P>



<H3><A NAME="configure_options" HREF="manual_toc.html#configure_options">2.3.3  Typical <CODE>configure</CODE> Options</A></H3>

<P>
<A NAME="IDX206"></A>
<A NAME="IDX207"></A>
<A NAME="IDX208"></A>
<A NAME="IDX209"></A>
<A NAME="IDX210"></A>
<A NAME="IDX211"></A>

</P>
<P>
The <CODE>configure</CODE> script gives you a great deal of control over how
you configure your MySQL distribution.  Typically you do this
using options on the <CODE>configure</CODE> command line.  You can also affect
<CODE>configure</CODE> using certain environment variables.  See section <A HREF="manual.html#Environment_variables">H  Environment Variables</A>.  For a list of options supported by <CODE>configure</CODE>, run
this command:

</P>

<PRE>
shell&#62; ./configure --help
</PRE>

<P>
Some of the more commonly-used <CODE>configure</CODE> options are described below:

</P>

<UL>
<LI>

To compile just the MySQL client libraries and client programs and
not the server, use the <CODE>--without-server</CODE> option:


<PRE>
shell&#62; ./configure --without-server
</PRE>

If you don't have a C++ compiler, <CODE>mysql</CODE> will not compile (it is the
one client program that requires C++).  In this case,
you can remove the code in <CODE>configure</CODE> that tests for the C++ compiler
and then run <CODE>./configure</CODE> with the <CODE>--without-server</CODE> option. The
compile step will still try to build <CODE>mysql</CODE>, but you can ignore any
warnings about <TT>`mysql.cc'</TT>.  (If <CODE>make</CODE> stops, try <CODE>make -k</CODE>
to tell it to continue with the rest of the build even if errors occur.)

<LI>

If you want to get a embedded MySQL library (<CODE>libmysqld.a</CODE>) you should
use the <CODE>--with-embedded-server</CODE> option.

<LI>

If you don't want your log files and database directories located under
<TT>`/usr/local/var'</TT>, use a <CODE>configure</CODE> command, something like one
of these:


<PRE>
shell&#62; ./configure --prefix=/usr/local/mysql
shell&#62; ./configure --prefix=/usr/local \
           --localstatedir=/usr/local/mysql/data
</PRE>

The first command changes the installation prefix so that everything is
installed under <TT>`/usr/local/mysql'</TT> rather than the default of
<TT>`/usr/local'</TT>.  The second command preserves the default installation
prefix, but overrides the default location for database directories
(normally <TT>`/usr/local/var'</TT>) and changes it to
<CODE>/usr/local/mysql/data</CODE>.  After you have compiled MySQL, you can
change these options with option files. See section <A HREF="manual.html#Option_files">4.1.2  my.cnf Option Files</A>.

<A NAME="IDX212"></A>
<A NAME="IDX213"></A>
<A NAME="IDX214"></A>
<LI>

If you are using Unix and you want the MySQL socket located somewhere
other than the default location (normally in the directory <TT>`/tmp'</TT> or
<TT>`/var/run'</TT>) use a <CODE>configure</CODE> command like this:


<PRE>
shell&#62; ./configure --with-unix-socket-path=/usr/local/mysql/tmp/mysql.sock
</PRE>

Note that the given file must be an absolute pathname!
You can also later change the location <TT>`mysql.sock'</TT> by using the MySQL 
option files. See section <A HREF="manual.html#Problems_with_mysql.sock">A.4.5  How to Protect or change the MySQL socket file <TT>`/tmp/mysql.sock'</TT></A>.

<A NAME="IDX215"></A>
<A NAME="IDX216"></A>
<LI>

If you want to compile statically linked programs (for example, to make a
binary distribution, to get more speed, or to work around problems with some
RedHat Linux distributions), run <CODE>configure</CODE> like this:


<PRE>
shell&#62; ./configure --with-client-ldflags=-all-static \
           --with-mysqld-ldflags=-all-static
</PRE>

<A NAME="IDX217"></A>
<A NAME="IDX218"></A>
<A NAME="IDX219"></A>
<A NAME="IDX220"></A>
<A NAME="IDX221"></A>
<A NAME="IDX222"></A>
<A NAME="IDX223"></A>
<LI>

If you are using <CODE>gcc</CODE> and don't have <CODE>libg++</CODE> or <CODE>libstdc++</CODE>
installed, you can tell <CODE>configure</CODE> to use <CODE>gcc</CODE> as your C++
compiler:


<PRE>
shell&#62; CC=gcc CXX=gcc ./configure
</PRE>

When you use <CODE>gcc</CODE> as your C++ compiler, it will not attempt to link in
<CODE>libg++</CODE> or <CODE>libstdc++</CODE>.

Here is some common environment variables to set depending on
the compiler you are using:

<A NAME="IDX224"></A>
<A NAME="IDX225"></A>
<TABLE BORDER WIDTH="100%">
<TR><TD>gcc 2.7.2.1 </TD><TD>
CC=gcc CXX=gcc CXXFLAGS="-O3 -felide-constructors"
</TD></TR>
<TR><TD>egcs 1.0.3a </TD><TD>
CC=gcc CXX=gcc CXXFLAGS="-O3 -felide-constructors -fno-exceptions -fno-rtti"
</TD></TR>
<TR><TD>gcc 2.95.2 </TD><TD>
CFLAGS="-O3 -mpentiumpro" CXX=gcc CXXFLAGS="-O3 -mpentiumpro -felide-constructors -fno-exceptions -fno-rtti"
</TD></TR>
<TR><TD>pgcc 2.90.29 or newer </TD><TD>
CFLAGS="-O3 -mpentiumpro -mstack-align-double" CXX=gcc CXXFLAGS="-O3 -mpentiumpro -mstack-align-double -felide-constructors -fno-exceptions -fno-rtti"
</TD></TR>
</TABLE>

In most cases you can get a reasonably optimal MySQL binary by
using the options from the above and adding the following options to the
configure line: 


<PRE>
--prefix=/usr/local/mysql --enable-assembler --with-mysqld-ldflags=-all-static
</PRE>

The full configure line would in other words be something like the
following for all recent gcc versions:


<PRE>
CFLAGS="-O3 -mpentiumpro" CXX=gcc CXXFLAGS="-O3 -mpentiumpro -felide-constructors -fno-exceptions -fno-rtti" ./configure --prefix=/usr/local/mysql --enable-assembler --with-mysqld-ldflags=-all-static
</PRE>

The binaries we provide on the MySQL Web site at
<a HREF="http://www.mysql.com">http://www.mysql.com</a> are all compiled with full optimization and
should be perfect for most users.  See section <A HREF="manual.html#MySQL_binaries">2.2.6  MySQL Binaries Compiled by MySQL AB</A>.  There are some
things you can tweak to make an even faster binary, but this is only for
advanced users.  See section <A HREF="manual.html#Compile_and_link_options">5.5.3  How Compiling and Linking Affects the Speed of MySQL</A>.

If the build fails and produces errors about your compiler or linker not
being able to create the shared library <TT>`libmysqlclient.so.#'</TT> (<SAMP>`#'</SAMP>
is a version number), you can work around this problem by giving the
<CODE>--disable-shared</CODE> option to <CODE>configure</CODE>.  In this case,
<CODE>configure</CODE> will not build a shared <CODE>libmysqlclient.so.#</CODE> library.

<A NAME="IDX226"></A>
<A NAME="IDX227"></A>
<LI>

You can configure MySQL not to use <CODE>DEFAULT</CODE> column values for
non-<CODE>NULL</CODE> columns (that is, columns that are not allowed to be
<CODE>NULL</CODE>).  This causes <CODE>INSERT</CODE> statements to generate an error
unless you explicitly specify values for all columns that require a
non-<CODE>NULL</CODE> value.  To suppress use of default values, run
<CODE>configure</CODE> like this:

<A NAME="IDX228"></A>
<A NAME="IDX229"></A>

<PRE>
shell&#62; CXXFLAGS=-DDONT_USE_DEFAULT_FIELDS ./configure
</PRE>

<A NAME="IDX230"></A>
<A NAME="IDX231"></A>
<A NAME="IDX232"></A>
<LI>

By default, MySQL uses the ISO-8859-1 (Latin1) character set. To
change the default set, use the <CODE>--with-charset</CODE> option:

<PRE>
shell&#62; ./configure --with-charset=CHARSET
</PRE>

<CODE>CHARSET</CODE> may be one of <CODE>big5</CODE>, <CODE>cp1251</CODE>, <CODE>cp1257</CODE>,
<CODE>czech</CODE>, <CODE>danish</CODE>, <CODE>dec8</CODE>, <CODE>dos</CODE>, <CODE>euc_kr</CODE>,
<CODE>gb2312</CODE>, <CODE>gbk</CODE>, <CODE>german1</CODE>, <CODE>hebrew</CODE>, <CODE>hp8</CODE>,
<CODE>hungarian</CODE>, <CODE>koi8_ru</CODE>, <CODE>koi8_ukr</CODE>, <CODE>latin1</CODE>,
<CODE>latin2</CODE>, <CODE>sjis</CODE>, <CODE>swe7</CODE>, <CODE>tis620</CODE>, <CODE>ujis</CODE>,
<CODE>usa7</CODE>, or <CODE>win1251ukr</CODE>.
See section <A HREF="manual.html#Character_sets">4.6.1  The Character Set Used for Data and Sorting</A>.

If you want to convert characters between the server and the client,
you should take a look at the <CODE>SET OPTION CHARACTER SET</CODE> command.
See section <A HREF="manual.html#SET_OPTION">5.5.6  <CODE>SET</CODE> Syntax</A>.

<A NAME="IDX233"></A>
<STRONG>Warning:</STRONG> If you change character sets after having created any
tables, you will have to run <CODE>myisamchk -r -q</CODE> on every table. Your
indexes may be sorted incorrectly otherwise.  (This can happen if you
install MySQL, create some tables, then reconfigure
MySQL to use a different character set and reinstall it.)

With the option <CODE>--with-extra-charset=LIST</CODE> you can define
which additional character sets should be incompiled in the server.

Here <CODE>LIST</CODE> is either a list of character set separated with space,
<CODE>complex</CODE> to include all characters that can't be dynamically loaded
or <CODE>all</CODE> to include all character sets into the binaries.

<LI>

To configure MySQL with debugging code, use the <CODE>--with-debug</CODE>
option:

<PRE>
shell&#62; ./configure --with-debug
</PRE>

This causes a safe memory allocator to be included that can find some errors
and that provides output about what is happening.
See section <A HREF="manual.html#Debugging_server">G.1  Debugging a MySQL server</A>.

<LI>

If your client programs are using threads, you need to also compile a
thread-safe version of the MySQL client library with the
<CODE>--enable-thread-safe-client</CODE> configure options. This will create a
<CODE>libmysqlclient_r</CODE> library with which you should link your threaded
applications.  See section <A HREF="manual.html#Threaded_clients">8.4.8  How to Make a Threaded Client</A>.

<LI>

Options that pertain to particular systems can be found in the
system-specific section of this manual.  
See section <A HREF="manual.html#Operating_System_Specific_Notes">2.6  Operating System Specific Notes</A>.
</UL>



<H3><A NAME="Installing_source_tree" HREF="manual_toc.html#Installing_source_tree">2.3.4  Installing from the Development Source Tree</A></H3>

<P>
<A NAME="IDX234"></A>
<A NAME="IDX235"></A>
<A NAME="IDX236"></A>

</P>
<P>
<STRONG>CAUTION:</STRONG> You should read this section only if you are interested
in helping us test our new code. If you just want to get MySQL up
and running on your system, you should use a standard release distribution
(either a source or binary distribution will do).

</P>
<P>
To obtain our most recent development source tree, use these instructions:

</P>

<OL>
<LI>

Download <STRONG>BitKeeper</STRONG> from
<a HREF="http://www.bitmover.com/cgi-bin/download.cgi">http://www.bitmover.com/cgi-bin/download.cgi</a>.  You will need
<STRONG>Bitkeeper</STRONG> 2.0 or newer to access our repository.

<LI>

Follow the instructions to install it.

<LI>

After <STRONG>BitKeeper</STRONG> is installed, use this command if you want to clone
the MySQL 3.23 branch:


<PRE>
shell&#62; bk clone bk://work.mysql.com:7000 mysql
</PRE>

To clone the 4.0 branch, use this command instead:


<PRE>
shell&#62; bk clone bk://work.mysql.com:7001 mysql-4.0
</PRE>

The initial download of the source tree may take a while, depending on the
speed of your connection; be patient.

<LI>

You will need GNU <CODE>autoconf 2.13</CODE>, <CODE>automake 1.4</CODE>,
<CODE>libtool</CODE>, and <CODE>m4</CODE> to run the next set of commands.
Note that the new versions of <CODE>autoconf</CODE> (2.52) and <CODE>automake</CODE>
(1.5) do not work.

If you get some strange error during this stage, check that you really
have <CODE>libtool</CODE> installed!


<PRE>
shell&#62; cd mysql
shell&#62; bk -r edit
shell&#62; aclocal; autoheader; autoconf;  automake;
shell&#62; ./configure  # Add your favorite options here
shell&#62; make
</PRE>

A collection of our standard configure scripts is located in the
<TT>`BUILD/'</TT> subdirectory.  If you are lazy, you can use
<TT>`BUILD/compile-pentium-debug'</TT>. To compile on a different architecture,
modify the script removing flags that are Pentium-specific.

<LI>

When the build is done, run <CODE>make install</CODE>.  Be careful with this
on a production machine; the command may overwrite your live release
installation.  If you have another installation of MySQL, we
recommand that you run <CODE>./configure</CODE> with different values for the
<CODE>prefix</CODE>, <CODE>tcp-port</CODE>, and <CODE>unix-socket-path</CODE> options than
those used for your production server.

<LI>

Play hard with your new installation and try to make the new features
crash.  Start by running <CODE>make test</CODE>.  See section <A HREF="manual.html#MySQL_test_suite">9.3.2  MySQL Test Suite</A>.

<LI>

If you have gotten to the <CODE>make</CODE> stage and the distribution does
not compile, please report it to <a HREF="mailto:bugs@lists.mysql.com">bugs@lists.mysql.com</a>.  If you
have installed the latest versions of the required GNU tools, and they
crash trying to process our configuration files, please report that also.
However, if you execute <CODE>aclocal</CODE> and get a <CODE>command not found</CODE>
error or a similar problem, do not report it.  Instead, make sure all
the necessary tools are installed and that your <CODE>PATH</CODE> variable is
set correctly so your shell can find them.

<LI>

After the initial <CODE>bk clone</CODE> operation to get the source tree, you
should run <CODE>bk pull</CODE> periodically to get the updates.

<LI>

You can examine the change history for the tree with all the diffs by using
<CODE>bk sccstool</CODE>.  If you see some funny diffs or code that you have a
question about, do not hesitate to send e-mail to
<a HREF="mailto:internals@lists.mysql.com">internals@lists.mysql.com</a>.  Also, if you think you have a better idea
on how to do something, send an e-mail to the same address with a patch.
<CODE>bk diffs</CODE> will produce a patch for you after you have made changes
to the source. If you do not have the time to code your idea, just send
a description.

<LI>

<STRONG>BitKeeper</STRONG> has a nice help utility that you can access via
<CODE>bk helptool</CODE>.

</OL>



<H3><A NAME="Compilation_problems" HREF="manual_toc.html#Compilation_problems">2.3.5  Problems Compiling?</A></H3>

<P>
<A NAME="IDX237"></A>
<A NAME="IDX238"></A>
<A NAME="IDX239"></A>
<A NAME="IDX240"></A>
<A NAME="IDX241"></A>

</P>
<P>
All MySQL programs compile cleanly for us with no warnings on
Solaris using <CODE>gcc</CODE>.  On other systems, warnings may occur due to
differences in system include files.  See section <A HREF="manual.html#MIT-pthreads">2.3.6  MIT-pthreads Notes</A> for warnings
that may occur when using MIT-pthreads.  For other problems, check the list
below.

</P>
<P>
The solution to many problems involves reconfiguring.  If you do need to
reconfigure, take note of the following:

</P>
<P>
<A NAME="IDX242"></A>
<A NAME="IDX243"></A>
<A NAME="IDX244"></A>
<A NAME="IDX245"></A>

<UL>
<LI>

If <CODE>configure</CODE> is run after it already has been run, it may use
information that was gathered during its previous invocation.  This
information is stored in <TT>`config.cache'</TT>.  When <CODE>configure</CODE> starts
up, it looks for that file and reads its contents if it exists, on the
assumption that the information is still correct.  That assumption is invalid
when you reconfigure.

<LI>

Each time you run <CODE>configure</CODE>, you must run <CODE>make</CODE> again
to recompile.  However, you may want to remove old object files from previous
builds first, because they were compiled using different configuration options.
</UL>

<P>
To prevent old configuration information or object files from being used,
run these commands before rerunning <CODE>configure</CODE>:

</P>

<PRE>
shell&#62; rm config.cache
shell&#62; make clean
</PRE>

<P>
Alternatively, you can run <CODE>make distclean</CODE>.

</P>
<P>
The list below describes some of the problems compiling MySQL
that have been found to occur most often:

</P>

<UL>
<LI>

<A NAME="IDX246"></A>
<A NAME="IDX247"></A>
<A NAME="IDX248"></A>
<A NAME="IDX249"></A>
<A NAME="IDX250"></A>
<A NAME="IDX251"></A>
If you get errors when compiling <TT>`sql_yacc.cc'</TT>, such as the ones shown
below, you have probably run out of memory or swap space:


<PRE>
Internal compiler error: program cc1plus got fatal signal 11
  or
Out of virtual memory
  or
Virtual memory exhausted
</PRE>

The problem is that <CODE>gcc</CODE> requires huge amounts of memory to compile
<TT>`sql_yacc.cc'</TT> with inline functions.  Try running <CODE>configure</CODE> with
the <CODE>--with-low-memory</CODE> option:


<PRE>
shell&#62; ./configure --with-low-memory
</PRE>

This option causes <CODE>-fno-inline</CODE> to be added to the compile line if you
are using <CODE>gcc</CODE> and <CODE>-O0</CODE> if you are using something else.  You
should try the <CODE>--with-low-memory</CODE> option even if you have so much
memory and swap space that you think you can't possibly have run out.  This
problem has been observed to occur even on systems with generous hardware
configurations, and the <CODE>--with-low-memory</CODE> option usually fixes it.

<LI>

By default, <CODE>configure</CODE> picks <CODE>c++</CODE> as the compiler name and
GNU <CODE>c++</CODE> links with <CODE>-lg++</CODE>.  If you are using <CODE>gcc</CODE>,
that behavior can cause problems during configuration such as this:

<A NAME="IDX252"></A>

<PRE>
configure: error: installation or configuration problem:
C++ compiler cannot create executables.
</PRE>

<A NAME="IDX253"></A>
<A NAME="IDX254"></A>
You might also observe problems during compilation related to
<CODE>g++</CODE>, <CODE>libg++</CODE>, or <CODE>libstdc++</CODE>.

One cause of these problems is that you may not have <CODE>g++</CODE>, or you may
have <CODE>g++</CODE> but not <CODE>libg++</CODE>, or <CODE>libstdc++</CODE>.  Take a look at
the <TT>`config.log'</TT> file.  It should contain the exact reason why your c++
compiler didn't work!  To work around these problems, you can use <CODE>gcc</CODE>
as your C++ compiler.  Try setting the environment variable <CODE>CXX</CODE> to
<CODE>"gcc -O3"</CODE>.  For example:

<A NAME="IDX255"></A>
<A NAME="IDX256"></A>

<PRE>
shell&#62; CXX="gcc -O3" ./configure
</PRE>

This works because <CODE>gcc</CODE> compiles C++ sources as well as <CODE>g++</CODE>
does, but does not link in <CODE>libg++</CODE> or <CODE>libstdc++</CODE> by default.

Another way to fix these problems, of course, is to install <CODE>g++</CODE>,
<CODE>libg++</CODE> and <CODE>libstdc++</CODE>.

<LI>

If your compile fails with errors, such as any of the following,
you must upgrade your version of <CODE>make</CODE> to GNU <CODE>make</CODE>:


<PRE>
making all in mit-pthreads
make: Fatal error in reader: Makefile, line 18:
Badly formed macro assignment
  or
make: file `Makefile' line 18: Must be a separator (:
  or
pthread.h: No such file or directory
</PRE>

<A NAME="IDX257"></A>
<A NAME="IDX258"></A>
<A NAME="IDX259"></A>
<A NAME="IDX260"></A>
Solaris and FreeBSD are known to have troublesome <CODE>make</CODE> programs.

GNU <CODE>make</CODE> Version 3.75 is known to work.

<A NAME="IDX261"></A>
<A NAME="IDX262"></A>
<A NAME="IDX263"></A>
<A NAME="IDX264"></A>
<A NAME="IDX265"></A>
<A NAME="IDX266"></A>
<A NAME="IDX267"></A>
<A NAME="IDX268"></A>
<LI>

If you want to define flags to be used by your C or C++ compilers, do so by
adding the flags to the <CODE>CFLAGS</CODE> and <CODE>CXXFLAGS</CODE> environment
variables.  You can also specify the compiler names this way using <CODE>CC</CODE>
and <CODE>CXX</CODE>.  For example:


<PRE>
shell&#62; CC=gcc
shell&#62; CFLAGS=-O3
shell&#62; CXX=gcc
shell&#62; CXXFLAGS=-O3
shell&#62; export CC CFLAGS CXX CXXFLAGS
</PRE>

See section <A HREF="manual.html#MySQL_binaries">2.2.6  MySQL Binaries Compiled by MySQL AB</A>, for a list of flag definitions that have been found
to be useful on various systems.

<LI>

If you get an error message like this,
you need to upgrade your <CODE>gcc</CODE> compiler:


<PRE>
client/libmysql.c:273: parse error before `__attribute__'
</PRE>

<CODE>gcc</CODE> 2.8.1 is known to work, but we recommend using <CODE>gcc</CODE> 2.95.2 or
<CODE>egcs</CODE> 1.0.3a instead.

<LI>

If you get errors such as those shown below when compiling <CODE>mysqld</CODE>,
<CODE>configure</CODE> didn't correctly detect the type of the last argument to
<CODE>accept()</CODE>, <CODE>getsockname()</CODE>, or <CODE>getpeername()</CODE>:


<PRE>
cxx: Error: mysqld.cc, line 645: In this statement, the referenced
     type of the pointer value "&#38;length" is "unsigned long", which
     is not compatible with "int".
new_sock = accept(sock, (struct sockaddr *)&#38;cAddr, &#38;length);
</PRE>

To fix this, edit the <TT>`config.h'</TT> file (which is generated by
<CODE>configure</CODE>).  Look for these lines:


<PRE>
/* Define as the base type of the last arg to accept */
#define SOCKET_SIZE_TYPE XXX
</PRE>

Change <CODE>XXX</CODE> to <CODE>size_t</CODE> or <CODE>int</CODE>, depending on your
operating system.  (Note that you will have to do this each time you run
<CODE>configure</CODE>, because <CODE>configure</CODE> regenerates <TT>`config.h'</TT>.)

<LI>

The <TT>`sql_yacc.cc'</TT> file is generated from <TT>`sql_yacc.yy'</TT>.  Normally
the build process doesn't need to create <TT>`sql_yacc.cc'</TT>, because
MySQL comes with an already-generated copy.  However, if you do need
to re-create it, you might encounter this error:


<PRE>
"sql_yacc.yy", line xxx fatal: default action causes potential...
</PRE>

This is a sign that your version of <CODE>yacc</CODE> is deficient.
You probably need to install <CODE>bison</CODE> (the GNU version of <CODE>yacc</CODE>)
and use that instead.

<LI>

If you need to debug <CODE>mysqld</CODE> or a MySQL client, run
<CODE>configure</CODE> with the <CODE>--with-debug</CODE> option, then recompile and
link your clients with the new client library.  See section <A HREF="manual.html#Debugging_client">G.2  Debugging a MySQL client</A>.
</UL>



<H3><A NAME="MIT-pthreads" HREF="manual_toc.html#MIT-pthreads">2.3.6  MIT-pthreads Notes</A></H3>

<P>
<A NAME="IDX269"></A>
<A NAME="IDX270"></A>

</P>
<P>
This section describes some of the issues involved in using MIT-pthreads.

</P>
<P>
Note that on Linux you should NOT use MIT-pthreads but install LinuxThreads!
See section <A HREF="manual.html#Linux">2.6.1  Linux Notes (All Linux Versions)</A>.

</P>
<P>
If your system does not provide native thread support, you will need to
build MySQL using the MIT-pthreads package.  This includes
older FreeBSD systems, SunOS 4.x, Solaris 2.4 and earlier, and some others.
See section <A HREF="manual.html#Which_OS">2.2.2  Operating Systems Supported by MySQL</A>.

</P>

<UL>
<LI>

On most systems, you can force MIT-pthreads to be used by running
<CODE>configure</CODE> with the <CODE>--with-mit-threads</CODE> option:


<PRE>
shell&#62; ./configure --with-mit-threads
</PRE>

Building in a non-source directory is not supported when using
MIT-pthreads, because we want to minimize our changes to this code.

<LI>

The checks that determine whether or not to use MIT-pthreads occur only
during the part of the configuration process that deals with the server
code.  If you have configured the distribution using <CODE>--without-server</CODE>
to build only the client code, clients will not know whether or not
MIT-pthreads is being used and will use Unix socket connections by default.
Because Unix sockets do not work under MIT-pthreads, this means you will need
to use <CODE>-h</CODE> or <CODE>--host</CODE> when you run client programs.

<LI>

When MySQL is compiled using MIT-pthreads, system locking is
disabled by default for performance reasons.  You can tell the server to use
system locking with the <CODE>--use-locking</CODE> option.

<LI>

Sometimes the pthread <CODE>bind()</CODE> command fails to bind to a socket without
any error message (at least on Solaris).  The result is that all connections
to the server fail.  For example:


<PRE>
shell&#62; mysqladmin version
mysqladmin: connect to server at '' failed;
error: 'Can't connect to mysql server on localhost (146)'
</PRE>

The solution to this is to kill the <CODE>mysqld</CODE> server and restart it.
This has only happened to us when we have forced the server down and done
a restart immediately.

<LI>

With MIT-pthreads, the <CODE>sleep()</CODE> system call isn't interruptible with
<CODE>SIGINT</CODE> (break).  This is only noticeable when you run 
<CODE>mysqladmin --sleep</CODE>.  You must wait for the <CODE>sleep()</CODE> call to
terminate before the interrupt is served and the process stops.

<LI>

When linking, you may receive warning messages like these (at least on
Solaris); they can be ignored:


<PRE>
ld: warning: symbol `_iob' has differing sizes:
    (file /my/local/pthreads/lib/libpthread.a(findfp.o) value=0x4;
file /usr/lib/libc.so value=0x140);
    /my/local/pthreads/lib/libpthread.a(findfp.o) definition taken
ld: warning: symbol `__iob' has differing sizes:
    (file /my/local/pthreads/lib/libpthread.a(findfp.o) value=0x4;
file /usr/lib/libc.so value=0x140);
    /my/local/pthreads/lib/libpthread.a(findfp.o) definition taken
</PRE>

<LI>

Some other warnings also can be ignored:


<PRE>
implicit declaration of function `int strtoll(...)'
implicit declaration of function `int strtoul(...)'
</PRE>

<LI>

We haven't gotten <CODE>readline</CODE> to work with MIT-pthreads.  (This isn't
needed, but may be interesting for someone.)
</UL>



<H2><A NAME="Post-installation" HREF="manual_toc.html#Post-installation">2.4  Post-installation Setup and Testing</A></H2>

<P>
<A NAME="IDX271"></A>
<A NAME="IDX272"></A>
<A NAME="IDX273"></A>

</P>

<P>
Once you've installed MySQL (from either a binary or source
distribution), you need to initialize the grant tables, start the server,
and make sure that the server works okay.  You may also wish to arrange
for the server to be started and stopped automatically when your system
starts up and shuts down.

</P>
<P>
Normally you install the grant tables and start the server like this
for installation from a source distribution:
<A NAME="IDX274"></A>
<A NAME="IDX275"></A>

</P>

<PRE>
shell&#62; ./scripts/mysql_install_db
shell&#62; cd mysql_installation_directory
shell&#62; ./bin/safe_mysqld --user=mysql &#38;
</PRE>

<P>
For a binary distribution (not RPM or pkg packages), do this:

</P>

<PRE>
shell&#62; cd mysql_installation_directory
shell&#62; ./bin/mysql_install_db
shell&#62; ./bin/safe_mysqld --user=mysql &#38;
</PRE>

<P>
This creates the <CODE>mysql</CODE> database which will hold all database
privileges, the <CODE>test</CODE> database which you can use to test
MySQL and also privilege entries for the user that run
<CODE>mysql_install_db</CODE> and a <CODE>root</CODE> user (without any passwords).
This also starts the <CODE>mysqld</CODE> server.

</P>
<P>
<CODE>mysql_install_db</CODE> will not overwrite any old privilege tables, so
it should be safe to run in any circumstances.  If you don't want to
have the <CODE>test</CODE> database you can remove it with <CODE>mysqladmin -u
root drop test</CODE>.

</P>
<P>
Testing is most easily done from the top-level directory of the MySQL
distribution.  For a binary distribution, this is your installation directory
(typically something like <TT>`/usr/local/mysql'</TT>).  For a source
distribution, this is the main directory of your MySQL source tree.
<A NAME="IDX276"></A>

</P>
<P>
In the commands shown below in this section and in the following
subsections, <CODE>BINDIR</CODE> is the path to the location in which programs
like <CODE>mysqladmin</CODE> and <CODE>safe_mysqld</CODE> are installed.  For a
binary distribution, this is the <TT>`bin'</TT> directory within the
distribution.  For a source distribution, <CODE>BINDIR</CODE> is probably
<TT>`/usr/local/bin'</TT>, unless you specified an installation directory
other than <TT>`/usr/local'</TT> when you ran <CODE>configure</CODE>.
<CODE>EXECDIR</CODE> is the location in which the <CODE>mysqld</CODE> server is
installed.  For a binary distribution, this is the same as
<CODE>BINDIR</CODE>.  For a source distribution, <CODE>EXECDIR</CODE> is probably
<TT>`/usr/local/libexec'</TT>.

</P>
<P>
Testing is described in detail below:
<A NAME="IDX277"></A>

</P>

<OL>
<LI>

If necessary, start the <CODE>mysqld</CODE> server and set up the initial
MySQL grant tables containing the privileges that determine how
users are allowed to connect to the server.  This is normally done with the
<CODE>mysql_install_db</CODE> script:


<PRE>
shell&#62; scripts/mysql_install_db
</PRE>

Typically, <CODE>mysql_install_db</CODE> needs to be run only the first time you
install MySQL.  Therefore, if you are upgrading an existing
installation, you can skip this step.  (However, <CODE>mysql_install_db</CODE> is
quite safe to use and will not update any tables that already exist, so if
you are unsure of what to do, you can always run <CODE>mysql_install_db</CODE>.)

<CODE>mysql_install_db</CODE> creates six tables (<CODE>user</CODE>, <CODE>db</CODE>,
<CODE>host</CODE>, <CODE>tables_priv</CODE>, <CODE>columns_priv</CODE>, and <CODE>func</CODE>) in the
<CODE>mysql</CODE> database.  A description of the initial privileges is given in
section <A HREF="manual.html#Default_privileges">4.3.4  Setting Up the Initial MySQL Privileges</A>.  Briefly, these privileges allow the MySQL
<CODE>root</CODE> user to do anything, and allow anybody to create or use databases
with a name of <CODE>'test'</CODE> or starting with <CODE>'test_'</CODE>.

If you don't set up the grant tables, the following error will appear in the
log file when you start the server:

<A NAME="IDX278"></A>

<PRE>
mysqld: Can't find file: 'host.frm'
</PRE>

The above may also happen with a binary MySQL distribution if you
don't start MySQL by executing exactly <CODE>./bin/safe_mysqld</CODE>!
See section <A HREF="manual.html#safe_mysqld">4.7.2  safe_mysqld, the wrapper around mysqld</A>.

You might need to run <CODE>mysql_install_db</CODE> as <CODE>root</CODE>.  However,
if you prefer, you can run the MySQL server as an unprivileged
(non-<CODE>root</CODE>) user, provided that user can read and write files in
the database directory.  Instructions for running MySQL as an
unprivileged user are given in section <A HREF="manual.html#Changing_MySQL_user">A.3.2  How to Run MySQL As a Normal User</A>.

If you have problems with <CODE>mysql_install_db</CODE>, see
section <A HREF="manual.html#mysql_install_db">2.4.1  Problems Running <CODE>mysql_install_db</CODE></A>.

There are some alternatives to running the <CODE>mysql_install_db</CODE>
script as it is provided in the MySQL distribution:


<UL>
<LI>

You may want to edit <CODE>mysql_install_db</CODE> before running it, to change 
the initial privileges that are installed into the grant tables.  This is 
useful if you want to install MySQL on a lot of machines with the 
same privileges.  In this case you probably should need only to add a few 
extra <CODE>INSERT</CODE> statements to the <CODE>mysql.user</CODE> and <CODE>mysql.db</CODE>
tables!

<LI>

If you want to change things in the grant tables after installing them, you
can run <CODE>mysql_install_db</CODE>, then use <CODE>mysql -u root mysql</CODE> to
connect to the grant tables as the MySQL <CODE>root</CODE> user and issue
SQL statements to modify the grant tables directly.

<LI>

It is possible to re-create the grant tables completely after they have
already been created.  You might want to do this if you've already installed
the tables but then want to re-create them after editing
<CODE>mysql_install_db</CODE>.
</UL>

For more information about these alternatives, see section <A HREF="manual.html#Default_privileges">4.3.4  Setting Up the Initial MySQL Privileges</A>.

<LI>

Start the MySQL server like this:


<PRE>
shell&#62; cd mysql_installation_directory
shell&#62; bin/safe_mysqld &#38;
</PRE>

If you have problems starting the server, see section <A HREF="manual.html#Starting_server">2.4.2  Problems Starting the MySQL Server</A>.

<LI>

Use <CODE>mysqladmin</CODE> to verify that the server is running.  The following
commands provide a simple test to check that the server is up and responding
to connections:


<PRE>
shell&#62; BINDIR/mysqladmin version
shell&#62; BINDIR/mysqladmin variables
</PRE>

The output from <CODE>mysqladmin version</CODE> varies slightly depending on your
platform and version of MySQL, but should be similar to that shown
below:


<PRE>
shell&#62; BINDIR/mysqladmin version
mysqladmin  Ver 8.14 Distrib 3.23.32, for linux on i586
Copyright (C) 2000 MySQL AB &#38; MySQL Finland AB &#38; TCX DataKonsult AB
This software comes with ABSOLUTELY NO WARRANTY. This is free software,
and you are welcome to modify and redistribute it under the GPL license

Server version          3.23.32-debug
Protocol version        10
Connection              Localhost via Unix socket
TCP port                3306
UNIX socket             /tmp/mysql.sock
Uptime:                 16 sec

Threads: 1  Questions: 9  Slow queries: 0  Opens: 7  Flush tables: 2  Open tables: 0 Queries per second avg: 0.000  Memory in use: 132K  Max memory used: 16773K
</PRE>

To get a feeling for what else you can do with <CODE>BINDIR/mysqladmin</CODE>,
invoke it with the <CODE>--help</CODE> option.

<LI>

Verify that you can shut down the server:
<A NAME="IDX279"></A>
<A NAME="IDX280"></A>


<PRE>
shell&#62; BINDIR/mysqladmin -u root shutdown
</PRE>

<LI>

Verify that you can restart the server.  Do this using <CODE>safe_mysqld</CODE> or
by invoking <CODE>mysqld</CODE> directly.  For example:

<A NAME="IDX281"></A>
<A NAME="IDX282"></A>


<PRE>
shell&#62; BINDIR/safe_mysqld --log &#38;
</PRE>

If <CODE>safe_mysqld</CODE> fails, try running it from the MySQL
installation directory (if you are not already there).  If that doesn't work,
see section <A HREF="manual.html#Starting_server">2.4.2  Problems Starting the MySQL Server</A>.

<LI>

Run some simple tests to verify that the server is working.
The output should be similar to what is shown below:


<PRE>
shell&#62; BINDIR/mysqlshow
+-----------+
| Databases |
+-----------+
| mysql     |
+-----------+

shell&#62; BINDIR/mysqlshow mysql
Database: mysql
+--------------+
|    Tables    |
+--------------+
| columns_priv |
| db           |
| func         |
| host         |
| tables_priv  |
| user         |
+--------------+

shell&#62; BINDIR/mysql -e "select host,db,user from db" mysql
+------+--------+------+
| host | db     | user |
+------+--------+------+
| %    | test   |      |
| %    | test_% |      |
+------+--------+------+
</PRE>

There is also a benchmark suite in the <TT>`sql-bench'</TT> directory (under the
MySQL installation directory) that you can use to compare how
MySQL performs on different platforms.  The <TT>`sql-bench/Results'</TT>
directory contains the results from many runs against different databases and
platforms.  To run all tests, execute these commands:


<PRE>
shell&#62; cd sql-bench
shell&#62; run-all-tests
</PRE>

If you don't have the <TT>`sql-bench'</TT> directory, you are probably using an
RPM for a binary distribution.  (Source distribution RPMs include the
benchmark directory.)  In this case, you must first install the benchmark
suite before you can use it.  Beginning with MySQL Version 3.22,
there are benchmark RPM files named <TT>`mysql-bench-VERSION-i386.rpm'</TT> that
contain benchmark code and data.

If you have a source distribution, you can also run the tests in the
<TT>`tests'</TT> subdirectory. For example, to run <TT>`auto_increment.tst'</TT>, do
this:


<PRE>
shell&#62; BINDIR/mysql -vvf test &#60; ./tests/auto_increment.tst
</PRE>

The expected results are shown in the <TT>`./tests/auto_increment.res'</TT> file.
</OL>



<H3><A NAME="mysql_install_db" HREF="manual_toc.html#mysql_install_db">2.4.1  Problems Running <CODE>mysql_install_db</CODE></A></H3>
<P>
<A NAME="IDX283"></A>
<A NAME="IDX284"></A>

</P>
<P>
The purpose of the <CODE>mysql_install_db</CODE> script is to generate new
MySQL privilege tables.  It will not affect any other data!
It will also not do anything if you already have MySQL privilege
tables installed!

</P>
<P>
If you want to re-create your privilege tables, you should take down
the <CODE>mysqld</CODE> server, if it's running, and then do something like:

</P>

<PRE>
mv mysql-data-directory/mysql mysql-data-directory/mysql-old
mysql_install_db
</PRE>

<P>
This section lists problems you might encounter when you run
<CODE>mysql_install_db</CODE>:

</P>
<DL COMPACT>

<DT><STRONG><CODE>mysql_install_db</CODE> doesn't install the grant tables</STRONG>
<DD>
You may find that <CODE>mysql_install_db</CODE> fails to install the grant
tables and terminates after displaying the following messages:


<PRE>
starting mysqld daemon with databases from XXXXXX
mysql daemon ended
</PRE>

In this case, you should examine the log file very carefully!  The log
should be located in the directory <TT>`XXXXXX'</TT> named by the error message,
and should indicate why <CODE>mysqld</CODE> didn't start.  If you don't understand
what happened, include the log when you post a bug report using
<CODE>mysqlbug</CODE>!
See section <A HREF="manual.html#Bug_reports">1.2.22.3  How to Report Bugs or Problems</A>.

<DT><STRONG>There is already a <CODE>mysqld</CODE> daemon running</STRONG>
<DD>
In this case, you probably don't have to run <CODE>mysql_install_db</CODE> at
all.  You have to run <CODE>mysql_install_db</CODE> only once, when you install
MySQL the first time.

<DT><STRONG>Installing a second <CODE>mysqld</CODE> daemon doesn't work when one daemon is running</STRONG>
<DD>
This can happen when you already have an existing MySQL
installation, but want to put a new installation in a different place (for
example, for testing, or perhaps you simply want to run two installations at
the same time).  Generally the problem that occurs when you try to run the
second server is that it tries to use the same socket and port as the old one.
In this case you will get the error message: <CODE>Can't start server: Bind on
TCP/IP port: Address already in use</CODE> or <CODE>Can't start server : Bind on
unix socket...</CODE>. See section <A HREF="manual.html#Installing_many_servers">4.1.3  Installing Many Servers on the Same Machine</A>.

<DT><STRONG>You don't have write access to <TT>`/tmp'</TT></STRONG>
<DD>
<A NAME="IDX285"></A>
<A NAME="IDX286"></A>
<A NAME="IDX287"></A>

If you don't have write access to create a socket file at the default place
(in <TT>`/tmp'</TT>) or permission to create temporary files in <TT>`/tmp,'</TT>
you will get an error when running <CODE>mysql_install_db</CODE> or when
starting or using <CODE>mysqld</CODE>.

You can specify a different socket and temporary directory as follows:

<A NAME="IDX288"></A>
<A NAME="IDX289"></A>
<A NAME="IDX290"></A>
<A NAME="IDX291"></A>

<PRE>
shell&#62; TMPDIR=/some_tmp_dir/
shell&#62; MYSQL_UNIX_PORT=/some_tmp_dir/mysqld.sock
shell&#62; export TMPDIR MYSQL_UNIX_PORT
</PRE>

See section <A HREF="manual.html#Problems_with_mysql.sock">A.4.5  How to Protect or change the MySQL socket file <TT>`/tmp/mysql.sock'</TT></A>.

<TT>`some_tmp_dir'</TT> should be the path to some directory for which you
have write permission. See section <A HREF="manual.html#Environment_variables">H  Environment Variables</A>.

After this you should be able to run <CODE>mysql_install_db</CODE> and start
the server with these commands:


<PRE>
shell&#62; scripts/mysql_install_db
shell&#62; BINDIR/safe_mysqld &#38;
</PRE>

<DT><STRONG><CODE>mysqld</CODE> crashes immediately</STRONG>
<DD>
If you are running RedHat Version 5.0 with a version of <CODE>glibc</CODE> older than
2.0.7-5, you should make sure you have installed all <CODE>glibc</CODE> patches!
There is a lot of information about this in the MySQL mail
archives.  Links to the mail archives are available online at
<a HREF="http://www.mysql.com/documentation/">http://www.mysql.com/documentation/</a>.
Also, see section <A HREF="manual.html#Linux">2.6.1  Linux Notes (All Linux Versions)</A>.

You can also start <CODE>mysqld</CODE> manually using the <CODE>--skip-grant-tables</CODE>
option and add the privilege information yourself using <CODE>mysql</CODE>:


<PRE>
shell&#62; BINDIR/safe_mysqld --skip-grant-tables &#38;
shell&#62; BINDIR/mysql -u root mysql
</PRE>

From <CODE>mysql</CODE>, manually execute the SQL commands in
<CODE>mysql_install_db</CODE>.  Make sure you run <CODE>mysqladmin
flush-privileges</CODE> or <CODE>mysqladmin reload</CODE> afterward to tell the server to
reload the grant tables.
</DL>



<H3><A NAME="Starting_server" HREF="manual_toc.html#Starting_server">2.4.2  Problems Starting the MySQL Server</A></H3>
<P>
<A NAME="IDX292"></A>
<A NAME="IDX293"></A>

</P>
<P>
If you are going to use tables that support transactions (BDB, InnoDB), 
you should first create a my.cnf file and set startup options
for the table types you plan to use. See section <A HREF="manual.html#Table_types">7  MySQL Table Types</A>.

</P>
<P>
Generally, you start the <CODE>mysqld</CODE> server in one of three ways:

</P>

<UL>
<LI>

By invoking <CODE>mysql.server</CODE>.  This script is used primarily at
system startup and shutdown, and is described more fully in
section <A HREF="manual.html#Automatic_start">2.4.3  Starting and Stopping MySQL Automatically</A>.

<LI>

By invoking <CODE>safe_mysqld</CODE>, which tries to determine the proper options
for <CODE>mysqld</CODE> and then runs it with those options. See section <A HREF="manual.html#safe_mysqld">4.7.2  safe_mysqld, the wrapper around mysqld</A>.

<LI>

On NT you should install <CODE>mysqld</CODE> as a service as follows:

<PRE>
bin\mysqld-nt --install               # Install MySQL as a service
</PRE>

You can now start/stop <CODE>mysqld</CODE> as follows:

<PRE>
NET START mysql
NET STOP mysql
</PRE>

Note that in this case you can't use any other options for <CODE>mysqld</CODE>!

You can remove the service as follows:

<PRE>
bin\mysqld-nt --remove                # remove MySQL as a service
</PRE>

<LI>

By invoking <CODE>mysqld</CODE> directly.
</UL>

<P>
When the <CODE>mysqld</CODE> daemon starts up, it changes directory to the
data directory.  This is where it expects to write log files and the pid
(process ID) file, and where it expects to find databases.

</P>
<P>
The data directory location is hardwired in when the distribution is
compiled.  However, if <CODE>mysqld</CODE> expects to find the data directory
somewhere other than where it really is on your system, it will not work
properly.  If you have problems with incorrect paths, you can find out
what options <CODE>mysqld</CODE> allows and what the default path settings are by
invoking <CODE>mysqld</CODE> with the <CODE>--help</CODE> option.  You can override the
defaults by specifying the correct pathnames as command-line arguments to
<CODE>mysqld</CODE>.  (These options can be used with <CODE>safe_mysqld</CODE> as well.)

</P>
<P>
Normally you should need to tell <CODE>mysqld</CODE> only the base directory under
which MySQL is installed.  You can do this with the <CODE>--basedir</CODE>
option.  You can also use <CODE>--help</CODE> to check the effect of changing path
options (note that <CODE>--help</CODE> <EM>must</EM> be the final option of the
<CODE>mysqld</CODE> command).  For example:

</P>

<PRE>
shell&#62; EXECDIR/mysqld --basedir=/usr/local --help
</PRE>

<P>
Once you determine the path settings you want, start the server without
the <CODE>--help</CODE> option.

</P>
<P>
Whichever method you use to start the server, if it fails to start up
correctly, check the log file to see if you can find out why.  Log files
are located in the data directory (typically
<TT>`/usr/local/mysql/data'</TT> for a binary distribution,
<TT>`/usr/local/var'</TT> for a source distribution,
<TT>`\mysql\data\mysql.err'</TT> on Windows).  Look in the data directory for
files with names of the form <TT>`host_name.err'</TT> and
<TT>`host_name.log'</TT> where <CODE>host_name</CODE> is the name of your server
host.  Then check the last few lines of these files:

</P>

<PRE>
shell&#62; tail host_name.err
shell&#62; tail host_name.log
</PRE>

<P>
If you find something like the following in the log file:

<PRE>
000729 14:50:10  bdb:  Recovery function for LSN 1 27595 failed
000729 14:50:10  bdb:  warning: ./test/t1.db: No such file or directory
000729 14:50:10  Can't init databases
</PRE>

<P>
This means that you didn't start <CODE>mysqld</CODE> with <CODE>--bdb-no-recover</CODE>
and Berkeley DB found something wrong with its log files when it
tried to recover your databases.  To be able to continue, you should
move away the old Berkeley DB log file from the database directory to
some other place, where you can later examine these.  The log files are
named <TT>`log.0000000001'</TT>, where the number will increase over time.

</P>
<P>
If you are running <CODE>mysqld</CODE> with BDB table support and <CODE>mysqld</CODE> core
dumps at start this could be because of some problems with the BDB
recover log.  In this case you can try starting <CODE>mysqld</CODE> with
<CODE>--bdb-no-recover</CODE>.  If this helps, then you should remove all
<TT>`log.*'</TT> files from the data directory and try starting <CODE>mysqld</CODE>
again.

</P>
<P>
If you get the following error, it means that some other program (or another
<CODE>mysqld</CODE> server) is already using the TCP/IP port or socket
<CODE>mysqld</CODE> is trying to use:

</P>

<PRE>
Can't start server: Bind on TCP/IP port: Address already in use
  or
Can't start server : Bind on unix socket...
</PRE>

<P>
Use <CODE>ps</CODE> to make sure that you don't have another <CODE>mysqld</CODE> server
running.  If you can't find another server running, you can try to execute
the command <CODE>telnet your-host-name tcp-ip-port-number</CODE> and press
<CODE>RETURN</CODE> a couple of times.  If you don't get an error message like
<CODE>telnet: Unable to connect to remote host: Connection refused</CODE>,
something is using the TCP/IP port <CODE>mysqld</CODE> is trying to use.
See section <A HREF="manual.html#mysql_install_db">2.4.1  Problems Running <CODE>mysql_install_db</CODE></A> and section <A HREF="manual.html#Multiple_servers">4.1.4  Running Multiple MySQL Servers on the Same Machine</A>.

</P>
<P>
If <CODE>mysqld</CODE> is currently running, you can find out what path settings
it is using by executing this command:

</P>

<PRE>
shell&#62; mysqladmin variables
</PRE>

<P>
or

</P>

<PRE>
shell&#62; mysqladmin -h 'your-host-name' variables
</PRE>

<P>
If <CODE>safe_mysqld</CODE> starts the server but you can't connect to it,
you should make sure you have an entry in <TT>`/etc/hosts'</TT> that looks like
this:

</P>

<PRE>
127.0.0.1       localhost
</PRE>

<P>
This problem occurs only on systems that don't have a working thread
library and for which MySQL must be configured to use MIT-pthreads.

</P>
<P>
If you can't get <CODE>mysqld</CODE> to start you can try to make a trace file
to find the problem. See section <A HREF="manual.html#Making_trace_files">G.1.2  Creating trace files</A>.

</P>
<P>
If you are using InnoDB tables, refer to the InnoDB-specific startup
options.  See section <A HREF="manual.html#InnoDB_start">7.6.2  InnoDB startup options</A>.

</P>
<P>
If you are using BDB (Berkeley DB) tables, you should familiarize
yourself with the different BDB specific startup options.  See section <A HREF="manual.html#BDB_start">7.5.3  BDB startup options</A>.

</P>



<H3><A NAME="Automatic_start" HREF="manual_toc.html#Automatic_start">2.4.3  Starting and Stopping MySQL Automatically</A></H3>

<P>
<A NAME="IDX294"></A>
<A NAME="IDX295"></A>
<A NAME="IDX296"></A>

</P>
<P>
The <CODE>mysql.server</CODE> and <CODE>safe_mysqld</CODE> scripts can be used to start
the server automatically at system startup time. <CODE>mysql.server</CODE> can also
be used to stop the server.

</P>
<P>
The <CODE>mysql.server</CODE> script can be used to start or stop the server
by invoking it with <CODE>start</CODE> or <CODE>stop</CODE> arguments:

</P>

<PRE>
shell&#62; mysql.server start
shell&#62; mysql.server stop
</PRE>

<P>
<CODE>mysql.server</CODE> can be found in the <TT>`share/mysql'</TT> directory
under the MySQL installation directory or in the <TT>`support-files'</TT>
directory of the MySQL source tree.

</P>
<P>
Before <CODE>mysql.server</CODE> starts the server, it changes directory to
the MySQL installation directory, then invokes <CODE>safe_mysqld</CODE>.
You might need to edit <CODE>mysql.server</CODE> if you have a binary distribution
that you've installed in a non-standard location.  Modify it to <CODE>cd</CODE> 
into the proper directory before it runs <CODE>safe_mysqld</CODE>. If you want the
server to run as some specific user, add an appropriate <CODE>user</CODE> line
to the <TT>`/etc/my.cnf'</TT> file, as shown later in this section.

</P>
<P>
<CODE>mysql.server stop</CODE> brings down the server by sending a signal to it.
You can take down the server manually by executing <CODE>mysqladmin shutdown</CODE>.

</P>
<P>
You might want to add these start and stop commands to the appropriate places
in your <TT>`/etc/rc*'</TT> files when you start using MySQL for
production applications.  Note that if you modify <CODE>mysql.server</CODE>, then
upgrade MySQL sometime, your modified version will be overwritten,
so you should make a copy of your edited version that you can reinstall.

</P>
<P>
If your system uses <TT>`/etc/rc.local'</TT> to start external scripts, you
should append the following to it:

<PRE>
/bin/sh -c 'cd /usr/local/mysql ; ./bin/safe_mysqld --user=mysql &#38;'
</PRE>

<P>
<A NAME="IDX297"></A>
You can also add options for <CODE>mysql.server</CODE> in a global
<TT>`/etc/my.cnf'</TT> file.  A typical <TT>`/etc/my.cnf'</TT> file might look like
this:

</P>

<PRE>
[mysqld]
datadir=/usr/local/mysql/var
socket=/var/tmp/mysql.sock
port=3306
user=mysql

[mysql.server]
basedir=/usr/local/mysql
</PRE>

<P>
The <CODE>mysql.server</CODE> script understands the following options:
<CODE>datadir</CODE>, <CODE>basedir</CODE>, and <CODE>pid-file</CODE>.

</P>
<P>
The following table shows which option groups each of the startup scripts
read from option files:

</P>
<TABLE BORDER WIDTH="100%">
<TR><TD><STRONG>Script</STRONG> </TD><TD> <STRONG>Option groups</STRONG>
</TD></TR>
<TR><TD><CODE>mysqld</CODE> </TD><TD> <CODE>mysqld</CODE> and <CODE>server</CODE>
</TD></TR>
<TR><TD><CODE>mysql.server</CODE> </TD><TD> <CODE>mysql.server</CODE>, <CODE>mysqld</CODE>, and <CODE>server</CODE>
</TD></TR>
<TR><TD><CODE>safe_mysqld</CODE> </TD><TD> <CODE>mysql.server</CODE>, <CODE>mysqld</CODE>, and <CODE>server</CODE>
</TD></TR>
</TABLE>

<P>
See section <A HREF="manual.html#Option_files">4.1.2  my.cnf Option Files</A>.

</P>



<H2><A NAME="Upgrade" HREF="manual_toc.html#Upgrade">2.5  Upgrading/Downgrading MySQL</A></H2>

<P>
<A NAME="IDX298"></A>
<A NAME="IDX299"></A>

</P>
<P>
You can always move the MySQL form and data files between
different versions on the same architecture as long as you have the same
base version of MySQL. The current base version is
3. If you change the character set when running MySQL (which may
also change the sort order), you must run <CODE>myisamchk -r -q</CODE> on all
tables.  Otherwise your indexes may not be ordered correctly.

</P>
<P>
If you are afraid of new versions, you can always rename your old
<CODE>mysqld</CODE> to something like <CODE>mysqld</CODE>-'old-version-number'.  If
your new <CODE>mysqld</CODE> then does something unexpected, you can simply shut it
down and restart with your old <CODE>mysqld</CODE>!

</P>
<P>
When you do an upgrade you should also back up your old databases, of course.

</P>
<P>
If after an upgrade, you experience problems with recompiled client programs,
like <CODE>Commands out of sync</CODE> or unexpected core dumps, you probably have
used an old header or library file when compiling your programs.  In this
case you should check the date for your <TT>`mysql.h'</TT> file and
<TT>`libmysqlclient.a'</TT> library to verify that they are from the new
MySQL distribution.  If not, please recompile your programs!

</P>
<P>
If you get some problems that the new <CODE>mysqld</CODE> server doesn't want to
start or that you can't connect without a password, check that you don't
have some old <TT>`my.cnf'</TT> file from your old installation!  You can
check this with: <CODE>program-name --print-defaults</CODE>.  If this outputs
anything other than the program name, you have an active <CODE>my.cnf</CODE>
file that will affect things!

</P>
<P>
It is a good idea to rebuild and reinstall the <CODE>Msql-Mysql-modules</CODE>
distribution whenever you install a new release of MySQL,
particularly if you notice symptoms such as all your <CODE>DBI</CODE> scripts
dumping core after you upgrade MySQL.

</P>

<P>
<A NAME="IDX300"></A>
<A NAME="IDX301"></A>


<H3><A NAME="Upgrading-from-3.23" HREF="manual_toc.html#Upgrading-from-3.23">2.5.1  Upgrading From Version 3.23 to Version 4.0</A></H3>

<P>
You can use your old data files without any modification with Version 4.0.
If you want to move your data from a MySQL 4.0 server to an older server,
you have to use <CODE>mysqldump</CODE>.

</P>
<P>
Old clients should work with a Version 4.0 server without any problems.

</P>
<P>
The following lists tell what you have to watch out for when upgrading to
version 4.0;

</P>

<UL>
<LI>

<TT>`safe_mysqld'</TT> is renamed to <TT>`mysqld_safe'</TT>.
<LI>

The old C API functions <CODE>mysql_drop_db</CODE>, <CODE>mysql_create_db</CODE> and
<CODE>mysql_connect</CODE> are not supported anymore, unless one compiles
MySQL with <CODE>USE_OLD_FUNCTIONS</CODE>.   Instead of doing this, one should
change the client to use the new 4.0 API.
<LI>

In the <CODE>MYSQL_FIELD</CODE> structure, <CODE>length</CODE> and <CODE>max_length</CODE> has
changed from <CODE>unsigned int</CODE> to <CODE>unsigned long</CODE>. This should not
cause any other problems than some warnings if you use these to
<CODE>printf()</CODE> type function.
<LI>

You should use <CODE>TRUNCATE TABLE</CODE> when you want to delete all rows
from a table and you don't care of how many rows where deleted.
(Because <CODE>TRUNCATE TABLE</CODE> is faster than <CODE>DELETE FROM table_name</CODE>).
<LI>

You will get an error if you have an active <CODE>LOCK TABLES</CODE> or
transaction when trying to execute <CODE>TRUNCATE TABLE</CODE> or <CODE>DROP
DATABASE</CODE>.
<LI>

You should use integers to store values in BIGINT columns (instead of using
strings as you did in MySQL 3.23).  Using strings will still work, but using
integers is more efficient.
<LI>

Format of <CODE>SHOW OPEN TABLE</CODE> has changed.
<LI>

Multithreaded clients should use <CODE>mysql_thread_init()</CODE> and
<CODE>mysql_thread_end()</CODE>. See section <A HREF="manual.html#Threaded_clients">8.4.8  How to Make a Threaded Client</A>.
</UL>



<H3><A NAME="Upgrading-from-3.22" HREF="manual_toc.html#Upgrading-from-3.22">2.5.2  Upgrading From Version 3.22 to Version 3.23</A></H3>

<P>
<A NAME="IDX302"></A>
<A NAME="IDX303"></A>

</P>
<P>
MySQL Version 3.23 supports tables of the new <CODE>MyISAM</CODE> type and
the old <CODE>ISAM</CODE> type.  You don't have to convert your old tables to
use these with Version 3.23.  By default, all new tables will be created with
type <CODE>MyISAM</CODE> (unless you start <CODE>mysqld</CODE> with the
<CODE>--default-table-type=isam</CODE> option). You can change an <CODE>ISAM</CODE>
table to a <CODE>MyISAM</CODE> table with <CODE>ALTER TABLE table_name TYPE=MyISAM</CODE>
or the Perl script <CODE>mysql_convert_table_format</CODE>.

</P>
<P>
Version 3.22 and 3.21 clients will work without any problems with a Version
3.23 server.

</P>
<P>
The following lists tell what you have to watch out for when upgrading to
Version 3.23:

</P>

<UL>
<LI>

All tables that uses the <CODE>tis620</CODE> character set must be fixed
with <CODE>myisamchk -r</CODE> or <CODE>REPAIR TABLE</CODE>.

<LI>

If you do a <CODE>DROP DATABASE</CODE> on a symbolic linked database, both the
link and the original database is deleted.  (This didn't happen in 3.22
because configure didn't detect the <CODE>readlink</CODE> system call).

<LI>

<CODE>OPTIMIZE TABLE</CODE> now only works for <STRONG>MyISAM</STRONG> tables.
For other table types, you can use <CODE>ALTER TABLE</CODE> to optimize the table.
During <CODE>OPTIMIZE TABLE</CODE> the table is now locked from other threads.

<LI>

The MySQL client <CODE>mysql</CODE> is now by default started with the
option <CODE>--no-named-commands (-g)</CODE>. This option can be disabled with
<CODE>--enable-named-commands (-G)</CODE>. This may cause incompatibility problems in
some cases, for example in SQL scripts that use named commands without a
semicolon!  Long format commands still work from the first line.

<LI>

If you are using the <CODE>german</CODE> character sort order, you must repair
all your tables with <CODE>isamchk -r</CODE>, as we have made some changes in
the sort order!

<LI>

The default return type of <CODE>IF</CODE> will now depend on both arguments
and not only the first argument.

<LI>

<CODE>AUTO_INCREMENT</CODE> will not work with negative numbers. The reason
for this is that negative numbers caused problems when wrapping from -1 to 0.
<CODE>AUTO_INCREMENT</CODE> is now for MyISAM tables handled at a lower level and
is much faster than before. For MyISAM tables old numbers are also not reused
anymore, even if you delete some rows from the table.

<LI>

<CODE>CASE</CODE>, <CODE>DELAYED</CODE>, <CODE>ELSE</CODE>, <CODE>END</CODE>, <CODE>FULLTEXT</CODE>, 
<CODE>INNER</CODE>, <CODE>RIGHT</CODE>, <CODE>THEN</CODE> and <CODE>WHEN</CODE> are now reserved words.

<LI>

<CODE>FLOAT(X)</CODE> is now a true floating-point type and not a value with a 
fixed number of decimals.

<LI>

When declaring <CODE>DECIMAL(length,dec)</CODE> the length argument no longer 
includes a place for the sign or the decimal point.

<LI>

A <CODE>TIME</CODE> string must now be of one of the following formats:
<CODE>[[[DAYS] [H]H:]MM:]SS[.fraction]</CODE> or
<CODE>[[[[[H]H]H]H]MM]SS[.fraction]</CODE>

<LI>

<CODE>LIKE</CODE> now compares strings using the same character comparison rules 
as <CODE>'='</CODE>.  If you require the old behavior, you can compile 
MySQL with the <CODE>CXXFLAGS=-DLIKE_CMP_TOUPPER</CODE> flag.

<LI>

<CODE>REGEXP</CODE> is now case insensitive for normal (not binary) strings.

<LI>

When you check/repair tables you should use <CODE>CHECK TABLE</CODE>
or <CODE>myisamchk</CODE> for <CODE>MyISAM</CODE> tables (<CODE>.MYI</CODE>) and
<CODE>isamchk</CODE> for ISAM (<CODE>.ISM</CODE>) tables.

<LI>

If you want your <CODE>mysqldump</CODE> files to be compatible between
MySQL Version 3.22 and Version 3.23, you should not use the
<CODE>--opt</CODE> or <CODE>--full</CODE> option to <CODE>mysqldump</CODE>.

<LI>

Check all your calls to <CODE>DATE_FORMAT()</CODE> to make sure there is a
<SAMP>`%'</SAMP> before each format character.  (Later MySQL Version 3.22
did allow this syntax.)

<LI>

<CODE>mysql_fetch_fields_direct</CODE> is now a function (it was a macro) and
it returns a pointer to a <CODE>MYSQL_FIELD</CODE> instead of a
<CODE>MYSQL_FIELD</CODE>.

<LI>

<CODE>mysql_num_fields()</CODE> can no longer be used on a <CODE>MYSQL*</CODE> object (it's
now a function that takes <CODE>MYSQL_RES*</CODE> as an argument. You should now
use <CODE>mysql_field_count()</CODE> instead.

<LI>

In MySQL Version 3.22, the output of <CODE>SELECT DISTINCT ...</CODE> was
almost always sorted.  In Version 3.23, you must use <CODE>GROUP BY</CODE> or
<CODE>ORDER BY</CODE> to obtain sorted output.

<LI>

<CODE>SUM()</CODE> now returns <CODE>NULL</CODE>, instead of 0, if there is no matching
rows. This is according to ANSI SQL.

<LI>

An <CODE>AND</CODE> or <CODE>OR</CODE> with <CODE>NULL</CODE> values will now return
<CODE>NULL</CODE> instead of 0. This mostly affects queries that use <CODE>NOT</CODE>
on an <CODE>AND/OR</CODE> expression as <CODE>NOT NULL</CODE> = <CODE>NULL</CODE>.
<CODE>LPAD()</CODE> and <CODE>RPAD()</CODE> will shorten the result string if it's longer
than the length argument.
</UL>



<H3><A NAME="Upgrading-from-3.21" HREF="manual_toc.html#Upgrading-from-3.21">2.5.3  Upgrading from Version 3.21 to Version 3.22</A></H3>

<P>
<A NAME="IDX304"></A>
<A NAME="IDX305"></A>

</P>
<P>
Nothing that affects compatibility has changed between Version 3.21 and 3.22.
The only pitfall is that new tables that are created with <CODE>DATE</CODE> type
columns will use the new way to store the date. You can't access these new
fields from an old version of <CODE>mysqld</CODE>.

</P>
<P>
After installing MySQL Version 3.22, you should start the new server
and then run the <CODE>mysql_fix_privilege_tables</CODE> script. This will add the
new privileges that you need to use the <CODE>GRANT</CODE> command.  If you forget
this, you will get <CODE>Access denied</CODE> when you try to use <CODE>ALTER
TABLE</CODE>, <CODE>CREATE INDEX</CODE>, or <CODE>DROP INDEX</CODE>. If your MySQL root
user requires a password, you should give this as an argument to
<CODE>mysql_fix_privilege_tables</CODE>.

</P>
<P>
The C API interface to <CODE>mysql_real_connect()</CODE> has changed.  If you have
an old client program that calls this function, you must place a <CODE>0</CODE> for
the new <CODE>db</CODE> argument (or recode the client to send the <CODE>db</CODE>
element for faster connections).  You must also call <CODE>mysql_init()</CODE>
before calling <CODE>mysql_real_connect()</CODE>!  This change was done to allow
the new <CODE>mysql_options()</CODE> function to save options in the <CODE>MYSQL</CODE>
handler structure.

</P>
<P>
The <CODE>mysqld</CODE> variable <CODE>key_buffer</CODE> has changed names to
<CODE>key_buffer_size</CODE>, but you can still use the old name in your
startup files.

</P>



<H3><A NAME="Upgrading-from-3.20" HREF="manual_toc.html#Upgrading-from-3.20">2.5.4  Upgrading from Version 3.20 to Version 3.21</A></H3>

<P>
<A NAME="IDX306"></A>

</P>
<P>
If you are running a version older than Version 3.20.28 and want to
switch to Version 3.21, you need to do the following:

</P>
<P>
You can start the <CODE>mysqld</CODE> Version 3.21 server with <CODE>safe_mysqld
--old-protocol</CODE> to use it with clients from a Version 3.20 distribution.
In this case, the new client function <CODE>mysql_errno()</CODE> will not
return any server error, only <CODE>CR_UNKNOWN_ERROR</CODE> (but it
works for client errors), and the server uses the old <CODE>password()</CODE>
checking rather than the new one.

</P>
<P>
If you are <STRONG>NOT</STRONG> using the <CODE>--old-protocol</CODE> option to
<CODE>mysqld</CODE>, you will need to make the following changes:

</P>

<UL>
<LI>

All client code must be recompiled. If you are using ODBC, you must get
the new <STRONG>MyODBC</STRONG> 2.x driver.
<LI>

The script <CODE>scripts/add_long_password</CODE> must be run to convert the
<CODE>Password</CODE> field in the <CODE>mysql.user</CODE> table to <CODE>CHAR(16)</CODE>.
<LI>

All passwords must be reassigned in the <CODE>mysql.user</CODE> table (to get 62-bit
rather than 31-bit passwords).
<LI>

The table format hasn't changed, so you don't have to convert any tables.
</UL>

<P>
MySQL Version 3.20.28 and above can handle the new <CODE>user</CODE> table
format without affecting clients. If you have a MySQL version earlier
than Version 3.20.28, passwords will no longer work with it if you convert the
<CODE>user</CODE> table. So to be safe, you should first upgrade to at least Version
3.20.28 and then upgrade to Version 3.21.

</P>
<P>
<A NAME="IDX307"></A>
The new client code works with a 3.20.x <CODE>mysqld</CODE> server, so
if you experience problems with 3.21.x, you can use the old 3.20.x server
without having to recompile the clients again.

</P>
<P>
If you are not using the <CODE>--old-protocol</CODE> option to <CODE>mysqld</CODE>,
old clients will issue the error message:

</P>

<PRE>
ERROR: Protocol mismatch. Server Version = 10 Client Version = 9
</PRE>

<P>
The new Perl <CODE>DBI</CODE>/<CODE>DBD</CODE> interface also supports the old
<CODE>mysqlperl</CODE> interface.  The only change you have to make if you use
<CODE>mysqlperl</CODE> is to change the arguments to the <CODE>connect()</CODE> function.
The new arguments are: <CODE>host</CODE>, <CODE>database</CODE>, <CODE>user</CODE>,
<CODE>password</CODE> (the <CODE>user</CODE> and <CODE>password</CODE> arguments have changed
places).
See section <A HREF="manual.html#Perl_DBI_Class">8.2.2  The <CODE>DBI</CODE> Interface</A>.

</P>
<P>
The following changes may affect queries in old applications:

</P>

<UL>
<LI>

<CODE>HAVING</CODE> must now be specified before any <CODE>ORDER BY</CODE> clause.
<LI>

The parameters to <CODE>LOCATE()</CODE> have been swapped.
<LI>

There are some new reserved words. The most notable are <CODE>DATE</CODE>,
<CODE>TIME</CODE>, and <CODE>TIMESTAMP</CODE>.
</UL>



<H3><A NAME="Upgrading-to-arch" HREF="manual_toc.html#Upgrading-to-arch">2.5.5  Upgrading to Another Architecture</A></H3>

<P>
<A NAME="IDX308"></A>

</P>
<P>
If you are using MySQL Version 3.23, you can copy the <CODE>.frm</CODE>,
<CODE>.MYI</CODE>, and <CODE>.MYD</CODE> files between different architectures that
support the same floating-point format.  (MySQL takes care of any
byte swapping issues.)

</P>
<P>
The MySQL <CODE>ISAM</CODE> data and index files (<TT>`.ISD'</TT> and
<TT>`*.ISM'</TT>, respectively) are architecture-dependent and in some cases
OS-dependent.  If you want to move your applications to another machine
that has a different architecture or OS than your current machine, you
should not try to move a database by simply copying the files to the
other machine. Use <CODE>mysqldump</CODE> instead.

</P>
<P>
By default, <CODE>mysqldump</CODE> will create a file full of SQL statements.
You can then transfer the file to the other machine and feed it as input
to the <CODE>mysql</CODE> client.

</P>
<P>
Try <CODE>mysqldump --help</CODE> to see what options are available.
If you are moving the data to a newer version of MySQL, you should use
<CODE>mysqldump --opt</CODE> with the newer version to get a fast, compact dump.

</P>
<P>
The easiest (although not the fastest) way to move a database between two
machines is to run the following commands on the machine on which the
database is located:

</P>

<PRE>
shell&#62; mysqladmin -h 'other hostname' create db_name
shell&#62; mysqldump --opt db_name \
        | mysql -h 'other hostname' db_name
</PRE>

<P>
If you want to copy a database from a remote machine over a slow network,
you can use:

</P>

<PRE>
shell&#62; mysqladmin create db_name
shell&#62; mysqldump -h 'other hostname' --opt --compress db_name \
        | mysql db_name
</PRE>

<P>
You can also store the result in a file, then transfer the file to the
target machine and load the file into the database there.  For example,
you can dump a database to a file on the source machine like this:

</P>

<PRE>
shell&#62; mysqldump --quick db_name | gzip &#62; db_name.contents.gz
</PRE>

<P>
(The file created in this example is compressed.) Transfer the file
containing the database contents to the target machine and run these commands
there:

</P>

<PRE>
shell&#62; mysqladmin create db_name
shell&#62; gunzip &#60; db_name.contents.gz | mysql db_name
</PRE>

<P>
<A NAME="IDX309"></A>
<A NAME="IDX310"></A>
You can also use <CODE>mysqldump</CODE> and <CODE>mysqlimport</CODE> to accomplish
the database transfer.
For big tables, this is much faster than simply using <CODE>mysqldump</CODE>.
In the commands shown below, <CODE>DUMPDIR</CODE> represents the full pathname
of the directory you use to store the output from <CODE>mysqldump</CODE>.

</P>
<P>
First, create the directory for the output files and dump the database:

</P>

<PRE>
shell&#62; mkdir DUMPDIR
shell&#62; mysqldump --tab=DUMPDIR db_name
</PRE>

<P>
Then transfer the files in the <CODE>DUMPDIR</CODE> directory to some corresponding
directory on the target machine and load the files into MySQL
there:

</P>

<PRE>
shell&#62; mysqladmin create db_name           # create database
shell&#62; cat DUMPDIR/*.sql | mysql db_name   # create tables in database
shell&#62; mysqlimport db_name DUMPDIR/*.txt   # load data into tables
</PRE>

<P>
Also, don't forget to copy the <CODE>mysql</CODE> database, because that's where the
grant tables (<CODE>user</CODE>, <CODE>db</CODE>, <CODE>host</CODE>) are stored.  You may have
to run commands as the MySQL <CODE>root</CODE> user on the new machine
until you have the <CODE>mysql</CODE> database in place.

</P>
<P>
After you import the <CODE>mysql</CODE> database on the new machine, execute
<CODE>mysqladmin flush-privileges</CODE> so that the server reloads the grant table
information.

</P>



<H2><A NAME="Operating_System_Specific_Notes" HREF="manual_toc.html#Operating_System_Specific_Notes">2.6  Operating System Specific Notes</A></H2>



<H3><A NAME="Linux" HREF="manual_toc.html#Linux">2.6.1  Linux Notes (All Linux Versions)</A></H3>

<P>
The notes below regarding <STRONG>glibc</STRONG> apply only to the situation
when you build MySQL
yourself. If you are running Linux on an x86 machine, in most cases it is
much better for you to just use our binary. We link our binaries against
the best patched version of <STRONG>glibc</STRONG> we can come up with and with the
best compiler options, in an attempt to make it suitable for a high-load
server. So if you read the text below, and are in doubt about
what you should do, try our binary first to see if it meets your needs, and
worry about your own build only after you have discovered that our binary is
not good enough. In that case, we would appreciate a note about it, so we
can build a better binary next time. For a typical user, even for setups with
a lot of concurrent connections and/or tables exceeding 2GB limit, our
binary in most cases is the best choice. 

</P>
<P>
MySQL uses LinuxThreads on Linux.  If you are using an old
Linux version that doesn't have <CODE>glibc2</CODE>, you must install
LinuxThreads before trying to compile MySQL.   You can get 
LinuxThreads at <a HREF="http://www.mysql.com/Downloads/Linux">http://www.mysql.com/Downloads/Linux</a>.

</P>
<P>
<STRONG>NOTE:</STRONG> We have seen some strange problems with Linux 2.2.14 and
MySQL on SMP systems; If you have a SMP system, we recommend
you to upgrade to Linux 2.4 ASAP!  Your system will be faster and more
stable by doing this!

</P>
<P>
Note that <CODE>glibc</CODE> versions before and including Version 2.1.1 have
a fatal bug in <CODE>pthread_mutex_timedwait</CODE> handling, which is used
when you do <CODE>INSERT DELAYED</CODE>.  We recommend you to not use
<CODE>INSERT DELAYED</CODE> before upgrading glibc.

</P>
<P>
If you plan to have 1000+ concurrent connections, you will need to make
some changes to LinuxThreads, recompile it, and relink MySQL against
the new <TT>`libpthread.a'</TT>.  Increase <CODE>PTHREAD_THREADS_MAX</CODE> in
<TT>`sysdeps/unix/sysv/linux/bits/local_lim.h'</TT> to 4096 and decrease
<CODE>STACK_SIZE</CODE> in <TT>`linuxthreads/internals.h'</TT> to 256 KB. The paths are
relative to the root of <CODE>glibc</CODE> Note that MySQL will not be 
stable with around 600-1000 connections if <CODE>STACK_SIZE</CODE> is the default 
of 2 MB.

</P>
<P>
If you have a problem with that MySQL can't open enough files,
or connections, it may be that you haven't configured Linux to handle
enough files.

</P>
<P>
In Linux 2.2 and forwards, you can check the number of allocated
file handlers by doing:

</P>

<PRE>
cat /proc/sys/fs/file-max
cat /proc/sys/fs/dquot-max 
cat /proc/sys/fs/super-max
</PRE>

<P>
If you have more than 16M of memory, you should add something like the
following in your boot script (<TT>`/etc/rc/boot.local'</TT> on SuSE):

</P>

<PRE>
echo 65536 &#62; /proc/sys/fs/file-max
echo 8192 &#62; /proc/sys/fs/dquot-max
echo 1024 &#62; /proc/sys/fs/super-max
</PRE>

<P>
You can also run the above from the command line as root, but in this case
your old limits will be used next time your computer reboots.

</P>
<P>
You should also add /etc/my.cnf:

</P>

<PRE>
[safe_mysqld]
open-files-limit=8192
</PRE>

<P>
The above should allow MySQL to create up to 8192 connections + files.

</P>
<P>
The <CODE>STACK_SIZE</CODE> constant in LinuxThreads controls the spacing of thread
stacks in the address space.  It needs to be large enough so that there will
be plenty of room for the stack of each individual thread, but small enough
to keep the stack of some thread from running into the global <CODE>mysqld</CODE>
data.  Unfortunately, the Linux implementation of <CODE>mmap()</CODE>, as we have
experimentally discovered, will successfully unmap an already mapped region
if you ask it to map out an address already in use, zeroing out the data
on the entire page, instead of returning an error.  So, the safety of
<CODE>mysqld</CODE> or any other threaded application depends on the "gentleman" 
behavior of the code that creates threads.  The user must take measures to 
make sure the number of running threads at any time is sufficiently low for 
thread stacks to stay away from the global heap.  With <CODE>mysqld</CODE>, you 
should enforce this "gentleman" behavior by setting a reasonable value for 
the <CODE>max_connections</CODE> variable.

</P>
<P>
If you build MySQL yourself and do not want to mess with patching
LinuxThreads, you should set <CODE>max_connections</CODE> to a value no higher 
than 500.  It should be even less if you have a large key buffer,  large 
heap tables, or some other things that make <CODE>mysqld</CODE> allocate a lot 
of memory or if you are running a 2.2 kernel with a 2GB patch. If you are 
using our binary or RPM version 3.23.25 or later, you can safely set
<CODE>max_connections</CODE> at 1500, assuming no large key buffer or heap tables 
with lots of data.  The more you reduce <CODE>STACK_SIZE</CODE> in LinuxThreads 
the more threads you can safely create.  We recommend the values between 
128K and 256K.

</P>
<P>
If you use a lot of concurrent connections, you may suffer from a "feature" 
in the 2.2 kernel that penalizes a process for forking or cloning a child
in an attempt to prevent a fork bomb attack.  This will cause MySQL
not to scale well as you increase the number of concurrent clients.  On
single CPU systems, we have seen this manifested in a very slow thread
creation, which means it may take a long time to connect to MySQL
(as long as 1 minute), and it may take just as long to shut it down.  On
multiple CPU systems, we have observed a gradual drop in query speed as
the number of clients increases.  In the process of trying to find a
solution, we have received a kernel patch from one of our users, who
claimed it made a lot of difference for his site.  The patch is available here
(<a HREF="http://www.mysql.com/Downloads/Patches/linux-fork.patch">http://www.mysql.com/Downloads/Patches/linux-fork.patch</a>). We have
now done rather extensive testing of this patch on both development and
production systems.  It has significantly
improved <CODE>MySQL</CODE> performance without causing any problems and we now
recommend it to our users who are still running high-load servers on
2.2 kernels.  This issue has been fixed in the 2.4 kernel, so if you are not
satisfied with
the current performance of your system, rather than patching your 2.2 kernel,
it might be easier to just upgrade to 2.4, which will also give you a nice
SMP boost in addition to fixing this fairness bug.

</P>
<P>
We have tested MySQL on the 2.4 kernel on a 2 CPU machine and
found MySQL scales MUCH better - there was virtually no slowdown
on query throughput all the way up
to 1000 clients, and MySQL scaling factor ( computed as the ratio of
maximum throughput to the throughput with one client) was 180%.
We have observed similar results on a 4-CPU system - virtually no
slowdown as the number of
clients was increased up to 1000, and 300% scaling factor. So for a high-load
SMP server we would definitely recommend the 2.4 kernel at this point. We
have discovered that it is essential to run <CODE>mysqld</CODE> process with the
highest possible priority on the 2.4 kernel to achieve maximum performance.
This can be done by adding
<CODE>renice -20 $$</CODE> command to <CODE>safe_mysqld</CODE>. In our testing on a
4-CPU machine, increasing the priority gave 60% increase in throughput with
400 clients.

</P>
<P>
We are currently also trying to collect
more info on how well <CODE>MySQL</CODE> performs on 2.4 kernel on 4-way and 8-way
systems. If you have access such a system and have done some benchmarks,
please send a mail to <a HREF="mailto:docs@mysql.com">docs@mysql.com</a> with the results - we will
include them in the manual.

</P>
<P>
There is another issue that greatly hurts MySQL performance,
especially on SMP systems.  The implementation of mutex in
LinuxThreads in <STRONG>glibc-2.1</STRONG> is very bad for programs with many
threads that only
hold the mutex for a short time. On an SMP system, ironic as it is, if
you link MySQL against unmodified <STRONG>LinuxThreads</STRONG>,
removing processors from the machine improves MySQL performance
in many cases.  We have made a patch available for <STRONG>glibc 2.1.3</STRONG>,
<a HREF="http://www.mysql.com/Downloads/Linux/linuxthreads-2.1-patch">linuxthreads-2.1-patch</a>
to correct this behavior.

</P>
<P>
With <STRONG>glibc-2.2.2</STRONG>
MySQL version 3.23.36 will use the adaptive mutex, which is much
better than even the patched one in <STRONG>glibc-2.1.3</STRONG>. Be warned, however,
that under some conditions, the current mutex code in <STRONG>glibc-2.2.2</STRONG>
overspins, which hurts MySQL performance. The chance of this
condition can be reduced by renicing <CODE>mysqld</CODE> process to the highest
priority. We have also been able to correct the overspin behavior with
a patch, available <a HREF="http://www.mysql.com/Downloads/Linux/linuxthreads-2.2.2.patch">here</a>. It combines the correction of overspin, maximum number of
threads, and stack spacing all in one. You will need to apply it in the
<CODE>linuxthreads</CODE> directory with
<CODE>patch -p0 &#60;/tmp/linuxthreads-2.2.2.patch</CODE>.
We hope it will be included in
some form in to the future releases of <CODE>glibc-2.2</CODE>. In any case, if
you link against <CODE>glibc-2.2.2</CODE> you still need to correct
<CODE>STACK_SIZE</CODE> and <CODE>PTHREAD_THREADS_MAX</CODE>. We hope that the defaults
will be corrected to some more acceptable values for high-load
MySQL setup in the future, so that your own build can be reduced
to <CODE>./configure; make; make install</CODE>.

</P>
<P>
We recommend that you use the above patches to build a special static
version of <CODE>libpthread.a</CODE> and use it only for statically linking
against <CODE>MySQL</CODE>. We know that the patches are safe for <CODE>MySQL</CODE>
and significantly improve its performance, but we cannot say anything
about other applications. If you link other applications against the
patched version of the library, or build a patched shared version and
install it on your system, you are doing it at your own risk with regard
to other applications that depend on <CODE>LinuxThreads</CODE>.

</P>
<P>
If you experience any strange problems during the installation of
MySQL, or with some common utilties hanging, it is very likely that
they are either library or compiler related. If this is the case, using our
binary will resolve them.

</P>
<P>
One known problem with the binary distribution is that with older Linux
systems that use <CODE>libc</CODE> (like RedHat 4.x or Slackware), you will get
some non-fatal problems with hostname resolution.
See section <A HREF="manual.html#Binary_notes-Linux">2.6.1.1  Linux Notes for Binary Distributions</A>.

</P>
<P>
When using LinuxThreads you will see a minimum of three processes
running.  These are in fact threads.  There will be one thread for the
LinuxThreads manager, one thread to handle connections, and one thread
to handle alarms and signals.

</P>
<P>
Note that the Linux kernel and the LinuxThread library can by default
only have 1024 threads.  This means that you can only have up to 1021
connections to MySQL on an unpatched system.  The page
<a HREF="http://www.volano.com/linuxnotes.html">http://www.volano.com/linuxnotes.html</a> contains information how to
go around this limit.

</P>
<P>
If you see a dead <CODE>mysqld</CODE> daemon process with <CODE>ps</CODE>, this usually
means that you have found a bug in MySQL or you have a corrupted
table. See section <A HREF="manual.html#Crashing">A.4.1  What To Do If MySQL Keeps Crashing</A>.

</P>
<P>
To get a core dump on Linux if <CODE>mysqld</CODE> dies with a SIGSEGV
signal, you can start <CODE>mysqld</CODE> with the <CODE>--core-file</CODE> option.  Note
that you also probably need to raise the <CODE>core file size</CODE> by adding
<CODE>ulimit -c 1000000</CODE> to <CODE>safe_mysqld</CODE> or starting <CODE>safe_mysqld</CODE>
with <CODE>--core-file-sizes=1000000</CODE>. See section <A HREF="manual.html#safe_mysqld">4.7.2  safe_mysqld, the wrapper around mysqld</A>.

</P>
<P>
To get a core dump on Linux if <CODE>mysqld</CODE> dies with a SIGSEGV signal,
you can start <CODE>mysqld</CODE> with the <CODE>--core-file</CODE> option.  Note
that you also probably need to raise the <CODE>core file size</CODE> by adding
<CODE>ulimit -c 1000000</CODE> to <CODE>safe_mysqld</CODE> or starting
<CODE>safe_mysqld</CODE> with <CODE>--core-file-sizes=1000000</CODE>.
See section <A HREF="manual.html#safe_mysqld">4.7.2  safe_mysqld, the wrapper around mysqld</A>.

</P>
<P>
If you are linking your own MySQL client and get the error:

</P>

<PRE>
ld.so.1: ./my: fatal: libmysqlclient.so.4: open failed: No such file or directory
</PRE>

<P>
When executing them, the problem can be avoided by one of the following
methods:

</P>

<UL>
<LI>

Link the client with the following flag (instead of <CODE>-Lpath</CODE>):
<CODE>-Wl,r/path-libmysqlclient.so</CODE>.

<LI>

Copy <CODE>libmysqclient.so</CODE> to <TT>`/usr/lib'</TT>.

<A NAME="IDX311"></A>
<A NAME="IDX312"></A>
<LI>

Add the pathname of the directory where <CODE>libmysqlclient.so</CODE> is located
to the <CODE>LD_RUN_PATH</CODE> environment variable before running your client.
</UL>

<P>
If you are using the Fujitsu compiler <CODE>(fcc / FCC)</CODE> you will have
some problems compiling MySQL because the Linux header files are very
<CODE>gcc</CODE> oriented.

</P>
<P>
The following <CODE>configure</CODE> line should work with <CODE>fcc/FCC</CODE>:

</P>

<PRE>
CC=fcc CFLAGS="-O -K fast -K lib -K omitfp -Kpreex -D_GNU_SOURCE -DCONST=const -DNO_STRTOLL_PROTO" CXX=FCC CXXFLAGS="-O -K fast -K lib  -K omitfp -K preex --no_exceptions --no_rtti -D_GNU_SOURCE -DCONST=const -Dalloca=__builtin_alloca -DNO_STRTOLL_PROTO '-D_EXTERN_INLINE=static __inline'" ./configure --prefix=/usr/local/mysql --enable-assembler --with-mysqld-ldflags=-all-static --disable-shared --with-low-memory
</PRE>



<H4><A NAME="Binary_notes-Linux" HREF="manual_toc.html#Binary_notes-Linux">2.6.1.1  Linux Notes for Binary Distributions</A></H4>

<P>
<A NAME="IDX313"></A>
<A NAME="IDX314"></A>

</P>
<P>
MySQL needs at least Linux Version 2.0.

</P>
<P>
<STRONG>WARNING</STRONG>:
We have have reports from some MySQL users that they have got serious
stability problems with MySQL with Linux kernel 2.2.14.  If you are
using this kernel you should upgrade to 2.2.19 (or newer) or to a 2.4
kernel.  If you have a multi-cpu box, then you should seriously consider
using 2.4 as this will give you a significant speed boost.

</P>
<P>
The binary release is linked with <CODE>-static</CODE>, which means you do not
normally need to worry about which version of the system libraries you
have. You need not install LinuxThreads, either.  A program linked with
<CODE>-static</CODE> is slightly bigger than a dynamically linked program but
also slightly faster (3-5%).  One problem, however, is that you can't use
user-definable functions (UDFs) with a statically linked program.  If
you are going to write or use UDF functions (this is something only for
C or C++ programmers), you must compile MySQL yourself, using
dynamic linking.

</P>
<P>
If you are using a <CODE>libc</CODE>-based system (instead of a <CODE>glibc2</CODE>
system), you will probably get some problems with hostname resolving and
<CODE>getpwnam()</CODE> with the binary release. (This is because <CODE>glibc</CODE>
unfortunately depends on some external libraries to resolve hostnames
and <CODE>getpwent()</CODE>, even when compiled with <CODE>-static</CODE>). In this
case you probably get the following error message when you run
<CODE>mysql_install_db</CODE>:

</P>

<PRE>
Sorry, the host 'xxxx' could not be looked up
</PRE>

<P>
or the following error when you try to run <CODE>mysqld</CODE> with the <CODE>--user</CODE>
option:

</P>

<PRE>
getpwnam: No such file or directory
</PRE>

<P>
You can solve this problem in one of the following ways:

</P>

<UL>
<LI>

Get a MySQL source distribution (an RPM or the <CODE>tar.gz</CODE>
distribution) and install this instead.
<LI>

Execute <CODE>mysql_install_db --force</CODE>; This will not execute the
<CODE>resolveip</CODE> test in <CODE>mysql_install_db</CODE>.  The downside is that
you can't use host names in the grant tables; you must use IP numbers
instead (except for <CODE>localhost</CODE>).  If you are using an old MySQL
release that doesn't support <CODE>--force</CODE>, you have to remove the
<CODE>resolveip</CODE> test in <CODE>mysql_install</CODE> with an editor.
<LI>

Start <CODE>mysqld</CODE> with <CODE>su</CODE> instead of using <CODE>--user</CODE>.
</UL>

<P>
The Linux-Intel binary and RPM releases of MySQL are configured
for the highest possible speed.  We are always trying to use the fastest
stable compiler available.

</P>
<P>
MySQL Perl support requires Version Perl 5.004_03 or newer.

</P>
<P>
On some Linux 2.2 versions, you may get the error <CODE>Resource
temporarily unavailable</CODE> when you do a lot of new connections to a
<CODE>mysqld</CODE> server over TCP/IP.

</P>
<P>
The problem is that Linux has a delay between when you close a TCP/IP
socket and until this is actually freed by the system.  As there is only
room for a finite number of TCP/IP slots, you will get the above error if
you try to do too many new TCP/IP connections during a small time, like
when you run the MySQL <TT>`test-connect'</TT> benchmark over
TCP/IP.

</P>
<P>
We have mailed about this problem a couple of times to different Linux
mailing lists but have never been able to resolve this properly.

</P>
<P>
The only known 'fix' to this problem is to use persistent connections in
your clients or use sockets, if you are running the database server
and clients on the same machine.  We hope that the <CODE>Linux 2.4</CODE>
kernel will fix this problem in the future.

</P>



<H4><A NAME="Linux-x86" HREF="manual_toc.html#Linux-x86">2.6.1.2  Linux x86 Notes</A></H4>

<P>
MySQL requires <CODE>libc</CODE> Version 5.4.12 or newer. It's known to
work with <CODE>libc</CODE> 5.4.46.  <CODE>glibc</CODE> Version 2.0.6 and later should
also work. There have been some problems with the <CODE>glibc</CODE> RPMs from
RedHat, so if you have problems, check whether or not there are any updates!
The <CODE>glibc</CODE> 2.0.7-19 and 2.0.7-29 RPMs are known to work.

</P>
<P>
On some older Linux distributions, <CODE>configure</CODE> may produce an error
like this:

</P>

<PRE>
Syntax error in sched.h. Change _P to __P in the /usr/include/sched.h file.
See the Installation chapter in the Reference Manual.
</PRE>

<P>
Just do what the error message says and add an extra underscore to the
<CODE>_P</CODE> macro that has only one underscore, then try again.

</P>
<P>
You may get some warnings when compiling; those shown below can be ignored:

</P>

<PRE>
mysqld.cc -o objs-thread/mysqld.o
mysqld.cc: In function `void init_signals()':
mysqld.cc:315: warning: assignment of negative value `-1' to `long unsigned int'
mysqld.cc: In function `void * signal_hand(void *)':
mysqld.cc:346: warning: assignment of negative value `-1' to `long unsigned int'
</PRE>

<P>
In Debian GNU/Linux, if you want MySQL to start automatically when
the system boots, do the following:

</P>

<PRE>
shell&#62; cp support-files/mysql.server /etc/init.d/mysql.server
shell&#62; /usr/sbin/update-rc.d mysql.server defaults 99
</PRE>

<P>
<CODE>mysql.server</CODE> can be found in the <TT>`share/mysql'</TT> directory
under the MySQL installation directory or in the
<TT>`support-files'</TT> directory of the MySQL source tree.

</P>
<P>
If <CODE>mysqld</CODE> always core dumps when it starts up, the problem may be that
you have an old <TT>`/lib/libc.a'</TT>.  Try renaming it, then remove
<TT>`sql/mysqld'</TT> and do a new <CODE>make install</CODE> and try again.  This
problem has been reported on some Slackware installations.

</P>
<P>
If you get the following error when linking <CODE>mysqld</CODE>,
it means that your <TT>`libg++.a'</TT> is not installed correctly:

</P>

<PRE>
/usr/lib/libc.a(putc.o): In function `_IO_putc':
putc.o(.text+0x0): multiple definition of `_IO_putc'
</PRE>

<P>
You can avoid using <TT>`libg++.a'</TT> by running <CODE>configure</CODE> like this:

</P>

<PRE>
shell&#62; CXX=gcc ./configure
</PRE>



<H4><A NAME="Linux-SPARC" HREF="manual_toc.html#Linux-SPARC">2.6.1.3  Linux SPARC Notes</A></H4>

<P>
In some implementations, <CODE>readdir_r()</CODE> is broken.  The symptom is that
<CODE>SHOW DATABASES</CODE> always returns an empty set.  This can be fixed by 
removing <CODE>HAVE_READDIR_R</CODE> from <TT>`config.h'</TT> after configuring and 
before compiling.

</P>
<P>
Some problems will require patching your Linux installation.  The patch can
be found at
<a HREF="http://www.mysql.com/Downloads/patches/Linux-sparc-2.0.30.diff">http://www.mysql.com/Downloads/patches/Linux-sparc-2.0.30.diff</a>.
This patch is against the Linux distribution <TT>`sparclinux-2.0.30.tar.gz'</TT>
that is available at <CODE>vger.rutgers.edu</CODE> (a version of Linux that was
never merged with the official 2.0.30).  You must also install LinuxThreads 
Version 0.6 or newer.

</P>



<H4><A NAME="Linux-Alpha" HREF="manual_toc.html#Linux-Alpha">2.6.1.4  Linux Alpha Notes</A></H4>

<P>
MySQL Version 3.23.12 is the first MySQL version that is
tested on Linux-Alpha.  If you plan to use MySQL on Linux-Alpha, 
you should ensure that you have this version or newer.

</P>
<P>
We have tested MySQL on Alpha with our benchmarks and test suite,
and it appears to work nicely.  The main thing we haven't yet had time to
test is how things works with many concurrent users.

</P>
<P>
When we compiled the standard MySQL binary we are using SuSE 6.4,
kernel 2.2.13-SMP, Compaq C compiler (V6.2-504) and Compaq C++ compiler
(V6.3-005) on a Comaq DS20 machine with an Alpha EV6 processor.

</P>
<P>
You can find the above compilers at 
<a HREF="http://www.support.compaq.com/alpha-tools">http://www.support.compaq.com/alpha-tools</a>).  By using these compilers,
instead of gcc, we get about 9-14 % better performance with MySQL.

</P>
<P>
Note that the configure line optimized the binary for the current CPU; This
means you can only use our binary if you have an Alpha EV6 processor. We also
compile statically to avoid library problems.

</P>

<PRE>
CC=ccc CFLAGS="-fast" CXX=cxx CXXFLAGS="-fast -noexceptions -nortti" ./configure --prefix=/usr/local/mysql --disable-shared --with-extra-charsets=complex --enable-thread-safe-client --with-mysqld-ldflags=-non_shared --with-client-ldflags=-non_shared
</PRE>

<P>
If you want to use egcs the following configure line worked for us:

</P>

<PRE>
CFLAGS="-O3 -fomit-frame-pointer" CXX=gcc CXXFLAGS="-O3 -fomit-frame-pointer -felide-constructors -fno-exceptions -fno-rtti" ./configure --prefix=/usr/local/mysql --disable-shared
</PRE>

<P>
Some known problems when running MySQL on Linux-Alpha:

</P>

<UL>
<LI>

Debugging threaded applications like MySQL will not work with
<CODE>gdb 4.18</CODE>.  You should download and use gdb 5.0 instead!

<LI>

If you try linking <CODE>mysqld</CODE> statically when using <CODE>gcc</CODE>, the
resulting image will core dump at start.  In other words, <STRONG>DON'T</STRONG>
use <CODE>--with-mysqld-ldflags=-all-static</CODE> with <CODE>gcc</CODE>.
</UL>



<H4><A NAME="Linux-PowerPC" HREF="manual_toc.html#Linux-PowerPC">2.6.1.5  Linux PowerPC Notes</A></H4>

<P>
MySQL should work on MkLinux with the newest <CODE>glibc</CODE> package
(tested with <CODE>glibc</CODE> 2.0.7).

</P>



<H4><A NAME="Linux-MIPS" HREF="manual_toc.html#Linux-MIPS">2.6.1.6  Linux MIPS Notes</A></H4>

<P>
To get MySQL to work on Qube2, (Linux Mips), you need the
newest <CODE>glibc</CODE> libraries (<CODE>glibc-2.0.7-29C2</CODE> is known to
work).  You must also use the <CODE>egcs</CODE> C++ compiler
(<CODE>egcs-1.0.2-9</CODE>, <CODE>gcc 2.95.2</CODE> or newer).

</P>



<H4><A NAME="Linux-IA64" HREF="manual_toc.html#Linux-IA64">2.6.1.7  Linux IA64 Notes</A></H4>

<P>
To get MySQL to compile on Linux Ia64, we use the following compile line:
Using <CODE>gcc-2.96</CODE>:

</P>

<PRE>
CC=gcc CFLAGS="-O3 -fno-omit-frame-pointer" CXX=gcc CXXFLAGS="-O3 -fno-omit-frame-pointer -felide-constructors -fno-exceptions -fno-rtti" ./configure --prefix=/usr/local/mysql "--with-comment=Official MySQL binary" --with-extra-charsets=complex
</PRE>

<P>
On Ia64 the MySQL client binaries are using shared libraries. This means
that if you install our binary distribution in some other place than
<TT>`/usr/local/mysql'</TT> you need to either modify <TT>`/etc/ld.so.conf'</TT>
or add the path to the directory where you have <TT>`libmysqlclient.so'</TT>
to the <CODE>LD_LIBRARY_PATH</CODE> environment variable.

</P>
<P>
See section <A HREF="manual.html#Link_errors">A.3.1  Problems When Linking with the MySQL Client Library</A>.

</P>


<H3><A NAME="Windows" HREF="manual_toc.html#Windows">2.6.2  Windows Notes</A></H3>

<P>
This section describes installation and use of MySQL on Windows.
This information is also provided in the <TT>`README'</TT> file that comes
with the MySQL Windows distribution.

</P>



<H4><A NAME="Win95_start" HREF="manual_toc.html#Win95_start">2.6.2.1  Starting MySQL on Windows 95 or Windows 98</A></H4>

<P>
MySQL uses TCP/IP to connect a client to a server. (This will
allow any machine on your network to connect to your MySQL
server.)  Because of this, you must install TCP/IP on your machine before
starting MySQL.  You can find TCP/IP on your Windows CD-ROM.

</P>
<P>
Note that if you are using an old Win95 release (for example OSR2), it's
likely that you have an old Winsock package!  MySQL requires
Winsock 2!  You can get the newest Winsock from 
<a HREF="http://www.microsoft.com/">http://www.microsoft.com/</a>.  Win98 has the new Winsock 2 library, so 
the above doesn't apply for Win98.

</P>
<P>
To start the <CODE>mysqld</CODE> server, you should start an MS-DOS window and type:

</P>

<PRE>
C:\&#62; C:\mysql\bin\mysqld
</PRE>

<P>
This will start <CODE>mysqld</CODE> in the background without a window.

</P>
<P>
You can kill the MySQL server by executing:

</P>

<PRE>
C:\&#62; C:\mysql\bin\mysqladmin -u root shutdown
</PRE>

<P>
Note that Win95 and Win98 don't support creation of named pipes.
On Win95 and Win98, you can only use named pipes to connect to a
remote MySQL server running on a Windows NT server host.
(The MySQL server must also support named pipes, of
course. For example, using <CODE>mysqld-opt</CODE> under NT will not allow
named pipe connections.  You should use either <CODE>mysqld-nt</CODE> or
<CODE>mysqld-max-nt</CODE>.)

</P>
<P>
If <CODE>mysqld</CODE> doesn't start, please check the
<TT>`\mysql\data\mysql.err'</TT> file to see if the server wrote any message
there to indicate the cause of the problem.  You can also try to start
the server with <CODE>mysqld --standalone</CODE>;  In this case, you may get
some useful information on the screen that may help solve the problem.

</P>
<P>
The last option is to start <CODE>mysqld</CODE> with <CODE>--standalone
--debug</CODE>.  In this case <CODE>mysqld</CODE> will write a log file
<TT>`C:\mysqld.trace'</TT> that should contain the reason why <CODE>mysqld</CODE>
doesn't start. See section <A HREF="manual.html#Making_trace_files">G.1.2  Creating trace files</A>.

</P>



<H4><A NAME="NT_start" HREF="manual_toc.html#NT_start">2.6.2.2  Starting MySQL on Windows NT or Windows 2000</A></H4>

<P>
The Win95/Win98 section also applies to MySQL on NT/Win2000, with
the following differences:

</P>
<P>
To get MySQL to work with TCP/IP on NT, you must install
service pack 3 (or newer)!

</P>
<P>
Note that everything in the following that applies for NT also applies
for Win2000!

</P>
<P>
For NT/Win2000, the server name is <CODE>mysqld-nt</CODE>.  Normally you
should install MySQL as a service on NT/Win2000:

</P>

<PRE>
C:\&#62; C:\mysql\bin\mysqld-nt --install
</PRE>

<P>
or

</P>

<PRE>
C:\&#62; C:\mysql\bin\mysqld-max-nt --install
</PRE>

<P>
(Under Windows NT, you can actually install any of the server binaries
as a service, but only those having names that end with <CODE>-nt.exe</CODE>
provide support for named pipes.)

</P>
<P>
You can start and stop the MySQL service with these commands:

</P>

<PRE>
C:\&#62; NET START mysql
C:\&#62; NET STOP mysql
</PRE>

<P>
Note that in this case you can't use any other options for <CODE>mysqld-nt</CODE>!

</P>
<P>
You can also run <CODE>mysqld-nt</CODE> as a stand-alone program on NT if you need
to start <CODE>mysqld-nt</CODE> with any options!  If you start <CODE>mysqld-nt</CODE>
without options on NT, <CODE>mysqld-nt</CODE> tries to start itself as a service
with the default service options.  If you have stopped <CODE>mysqld-nt</CODE>, you
have to start it with <CODE>NET START mysql</CODE>.

</P>
<P>
The service is installed with the name <CODE>MySQL</CODE>. Once installed, it must
be started using the Services Control Manager (SCM) Utility found in the
Control Panel, or by using the <CODE>NET START MySQL</CODE> command.  If any options
are desired, they must be specified as ``Startup parameters'' in the SCM utility
before you start the MySQL service.  Once running, <CODE>mysqld-nt</CODE>
can be stopped using <CODE>mysqladmin</CODE>, or from the SCM utility or by using
the command <CODE>NET STOP MySQL</CODE>. If you use SCM to stop <CODE>mysqld-nt</CODE>,
there is a strange message from SCM about <CODE>mysqld shutdown normally</CODE>.
When run as a service, <CODE>mysqld-nt</CODE> has no access to a console and so no
messages can be seen.

</P>
<P>
On NT you can get the following service error messages:

</P>
<TABLE BORDER WIDTH="100%">
<TR><TD>Permission Denied </TD><TD> Means that it cannot find <CODE>mysqld-nt.exe</CODE>.
</TD></TR>
<TR><TD>Cannot Register </TD><TD> Means that the path is incorrect.
</TD></TR>
<TR><TD>Failed to install service. </TD><TD> Means that the service is already installed or that the Service Control Manager is in bad state.
</TD></TR>
</TABLE>

<P>
If you have problems installing <CODE>mysqld-nt</CODE> as a service, try starting
it with the full path:

</P>

<PRE>
C:\&#62; C:\mysql\bin\mysqld-nt --install
</PRE>

<P>
If this doesn't work, you can get <CODE>mysqld-nt</CODE> to start properly by fixing
the path in the registry!

</P>
<P>
If you don't want to start <CODE>mysqld-nt</CODE> as a service, you can start it as
follows:

</P>

<PRE>
C:\&#62; C:\mysql\bin\mysqld-nt --standalone
</PRE>

<P>
or

</P>

<PRE>
C:\&#62; C:\mysql\bin\mysqld --standalone --debug
</PRE>

<P>
The last version gives you a debug trace in <TT>`C:\mysqld.trace'</TT>.
See section <A HREF="manual.html#Making_trace_files">G.1.2  Creating trace files</A>.

</P>



<H4><A NAME="Windows_running" HREF="manual_toc.html#Windows_running">2.6.2.3  Running MySQL on Windows</A></H4>

<P>
<A NAME="IDX315"></A>
<A NAME="IDX316"></A>

</P>
<P>
MySQL supports TCP/IP on all Windows platforms and named pipes on NT.
The default is to use named pipes for local connections on NT and TCP/IP for
all other cases if the client has TCP/IP installed.  The host name specifies
which protocol is used:

</P>
<TABLE BORDER WIDTH="100%">
<TR><TD><STRONG>Host name</STRONG> </TD><TD> <STRONG>Protocol</STRONG>
</TD></TR>
<TR><TD>NULL (none) </TD><TD> On NT, try named pipes first; if that doesn't work, use TCP/IP. On Win95/Win98, TCP/IP is used.
</TD></TR>
<TR><TD>. </TD><TD> Named pipes
</TD></TR>
<TR><TD>localhost </TD><TD> TCP/IP to current host
</TD></TR>
<TR><TD>hostname </TD><TD> TCP/IP
</TD></TR>
</TABLE>

<P>
You can force a MySQL client to use named pipes by specifying the
<CODE>--pipe</CODE> option or by specifying <CODE>.</CODE> as the host name.  Use the 
<CODE>--socket</CODE> option to specify the name of the pipe.

</P>
<P>
You can test whether or not MySQL is working by executing the
following commands:

</P>

<PRE>
C:\&#62; C:\mysql\bin\mysqlshow
C:\&#62; C:\mysql\bin\mysqlshow -u root mysql
C:\&#62; C:\mysql\bin\mysqladmin version status proc
C:\&#62; C:\mysql\bin\mysql test
</PRE>

<P>
If <CODE>mysqld</CODE> is slow to answer to connections on Win95/Win98, there is
probably a problem with your DNS.  In this case, start <CODE>mysqld</CODE> with
<CODE>--skip-name-resolve</CODE> and use only <CODE>localhost</CODE> and IP numbers in
the MySQL grant tables.  You can also avoid DNS when connecting to a
<CODE>mysqld-nt</CODE> MySQL server running on NT by using the
<CODE>--pipe</CODE> argument to specify use of named pipes.  This works for most
MySQL clients.

</P>
<P>
There are two versions of the MySQL command-line tool:
<TABLE BORDER WIDTH="100%">
<TR><TD><CODE>mysql</CODE> </TD><TD> Compiled on native Windows, which offers very limited text editing capabilities.
</TD></TR>
<TR><TD><CODE>mysqlc</CODE> </TD><TD> Compiled with the Cygnus GNU compiler and libraries, which offers <CODE>readline</CODE> editing.
</TD></TR>
</TABLE>

</P>
<P>
If you want to use <CODE>mysqlc.exe</CODE>, you must copy
<TT>`C:\mysql\lib\cygwinb19.dll'</TT> to your Windows system directory
(<TT>`\windows\system'</TT> or similar place).

</P>
<P>
The default privileges on Windows give all local users full privileges
to all databases without specifying a password.  To make MySQL
more secure, you should set a password for all users and remove the row in
the <CODE>mysql.user</CODE> table that has <CODE>Host='localhost'</CODE> and
<CODE>User=''</CODE>.

</P>
<P>
You should also add a password for the <CODE>root</CODE> user. The following 
example starts by removing the anonymous user that can be used by anyone
to access the <CODE>test</CODE> database, then sets a <CODE>root</CODE> user password:

</P>

<PRE>
C:\&#62; C:\mysql\bin\mysql mysql
mysql&#62; DELETE FROM user WHERE Host='localhost' AND User='';
mysql&#62; QUIT
C:\&#62; C:\mysql\bin\mysqladmin reload
C:\&#62; C:\mysql\bin\mysqladmin -u root password your_password
</PRE>

<P>
After you've set the password, if you want to take down the <CODE>mysqld</CODE>
server, you can do so using this command:

</P>

<PRE>
C:\&#62; mysqladmin --user=root --password=your_password shutdown
</PRE>

<P>
If you are using the old shareware version of MySQL Version
3.21 under Windows, the above command will fail with an error:
<CODE>parse error near 'SET OPTION password'</CODE>.  The fix is in to upgrade
to the current MySQL version, which is freely available.

</P>
<P>
With the current MySQL versions you can easily add new users
and change privileges with <CODE>GRANT</CODE> and <CODE>REVOKE</CODE> commands.
See section <A HREF="manual.html#GRANT">4.3.1  <CODE>GRANT</CODE> and <CODE>REVOKE</CODE> Syntax</A>.

</P>



<H4><A NAME="Windows_and_SSH" HREF="manual_toc.html#Windows_and_SSH">2.6.2.4  Connecting to a Remote MySQL from Windows with SSH</A></H4>

<P>
<A NAME="IDX317"></A>
<A NAME="IDX318"></A>

</P>
<P>
Here is a note about how to connect to get a secure connection to remote 
MySQL server with SSH (by David Carlson <a HREF="mailto:dcarlson@mplcomm.com">dcarlson@mplcomm.com</a>):

</P>

<UL>
<LI>

Install an SSH client on your Windows machine.  As a user, the best non-free
one I've found is from <CODE>SecureCRT</CODE> from <a HREF="http://www.vandyke.com/">http://www.vandyke.com/</a>.
Another option is <CODE>f-secure</CODE> from <a HREF="http://www.f-secure.com/">http://www.f-secure.com/</a>. You
can also find some free ones on <STRONG>Google</STRONG> at
<a HREF="http://directory.google.com/Top/Computers/Security/Products_and_Tools/Cryptography/SSH/Clients/Windows/">http://directory.google.com/Top/Computers/Security/Products_and_Tools/Cryptography/SSH/Clients/Windows/</a>.

<LI>

Start your Windows SSH client. 
Set <CODE>Host_Name = yourmysqlserver_URL_or_IP</CODE>. 
Set <CODE>userid=your_userid</CODE> to log in to your server (probably not the same
as your MySQL login/password.

<LI>

Set up port forwarding. Either do a remote forward (Set <CODE>local_port: 3306</CODE>, <CODE>remote_host: yourmysqlservername_or_ip</CODE>, <CODE>remote_port: 3306</CODE> )
or a local forward (Set <CODE>port: 3306</CODE>,  <CODE>host: localhost</CODE>, <CODE>remote port: 3306</CODE>).

<LI>

Save everything, otherwise you'll have to redo it the next time.

<LI>

Log in to your server with SSH session you just created.

<LI>

On your Windows machine, start some ODBC application (such as Access).

<LI>

Create a new file in Windows and link to MySQL using the ODBC
driver the same way you normally do, EXCEPT type in <CODE>localhost</CODE>
for the MySQL host server -- not <CODE>yourmysqlservername</CODE>.
</UL>

<P>
You should now have an ODBC connection to MySQL, encrypted using SSH. 

</P>



<H4><A NAME="Windows_symbolic_links" HREF="manual_toc.html#Windows_symbolic_links">2.6.2.5  Splitting Data Across Different Disks on Windows</A></H4>

<P>
<A NAME="IDX319"></A>
<A NAME="IDX320"></A>
<A NAME="IDX321"></A>

</P>
<P>
Beginning with MySQL Version 3.23.16, the <CODE>mysqld-max</CODE>
and <CODE>mysql-max-nt</CODE> servers in the MySQL distribution are
compiled with the <CODE>-DUSE_SYMDIR</CODE> option.  This allows you to put a
database on different disk by adding a symbolic link to it
(in a manner similar to the way that symbolic links work on Unix).

</P>
<P>
On Windows, you make a symbolic link to a database by creating a file
that contains the path to the destination directory and saving this in
the <TT>`mysql_data'</TT> directory under the filename <TT>`database.sym'</TT>.
Note that the symbolic link will be used only if the directory
<TT>`mysql_data_dir\database'</TT> doesn't exist.

</P>
<P>
For example, if the MySQL data directory is <TT>`C:\mysql\data'</TT>
and you want to have database <CODE>foo</CODE> located at <TT>`D:\data\foo'</TT>, you
should create the file <TT>`C:\mysql\data\foo.sym'</TT> that contains the
text <CODE>D:\data\foo\</CODE>.  After that, all tables created in the database
<CODE>foo</CODE> will be created in <TT>`D:\data\foo'</TT>.

</P>
<P>
Note that because of the speed penalty you get when opening every table,
we have not enabled this by default even if you have compiled
MySQL with support for this. To enable symlinks you should put
in your <CODE>my.cnf</CODE> or <CODE>my.ini</CODE> file the following entry:

</P>

<PRE>
[mysqld]
use-symbolic-links
</PRE>

<P>
In MySQL 4.0 we will enable symlinks by default. Then you
should instead use the <CODE>skip-symlink</CODE> option if you want to
disable this.

</P>



<H4><A NAME="Windows_compiling" HREF="manual_toc.html#Windows_compiling">2.6.2.6  Compiling MySQL Clients on Windows</A></H4>

<P>
<A NAME="IDX322"></A>
<A NAME="IDX323"></A>

</P>
<P>
In your source files, you should include <TT>`windows.h'</TT> before you include
<TT>`mysql.h'</TT>:

</P>

<PRE>
#if defined(_WIN32) || defined(_WIN64)
#include &#60;windows.h&#62;
#endif
#include &#60;mysql.h&#62;
</PRE>

<P>
You can either link your code with the dynamic <TT>`libmysql.lib'</TT> library,
which is just a wrapper to load in <TT>`libmysql.dll'</TT> on demand, or link
with the static <TT>`mysqlclient.lib'</TT> library.

</P>
<P>
Note that as the mysqlclient libraries are compiled as threaded libraries,
you should also compile your code to be multi-threaded!

</P>



<H4><A NAME="Windows_vs_Unix" HREF="manual_toc.html#Windows_vs_Unix">2.6.2.7  MySQL-Windows Compared to Unix MySQL</A></H4>

<P>
<A NAME="IDX324"></A>
<A NAME="IDX325"></A>

</P>
<P>
MySQL-Windows has by now proven itself to be very stable. This version
of MySQL has the same features as the corresponding Unix version
with the following exceptions:

</P>
<DL COMPACT>

<DT><STRONG>Win95 and threads</STRONG>
<DD>
Win95 leaks about 200 bytes of main memory for each thread creation.
Each connection in MySQL creates a new thread, so you shouldn't
run <CODE>mysqld</CODE> for an extended time on Win95 if your server handles
many connections!  WinNT and Win98 don't suffer from this bug.

<DT><STRONG>Concurrent reads</STRONG>
<DD>
MySQL depends on the <CODE>pread()</CODE> and <CODE>pwrite()</CODE> calls to be
able to mix <CODE>INSERT</CODE> and <CODE>SELECT</CODE>.  Currently we use mutexes
to emulate <CODE>pread()</CODE>/<CODE>pwrite()</CODE>.  We will, in the long run,
replace the file level interface with a virtual interface so that we can
use the <CODE>readfile()</CODE>/<CODE>writefile()</CODE> interface on NT to get more speed.
The current implementation limits the number of open files MySQL
can use to 1024, which means that you will not be able to run as many
concurrent threads on NT as on Unix.

<DT><STRONG>Blocking read</STRONG>
<DD>
MySQL uses a blocking read for each connection.
This means that:


<UL>
<LI>

A connection will not be disconnected automatically after 8 hours, as happens
with the Unix version of MySQL.

<LI>

If a connection hangs, it's impossible to break it without killing
MySQL.

<LI>

<CODE>mysqladmin kill</CODE> will not work on a sleeping connection.

<LI>

<CODE>mysqladmin shutdown</CODE> can't abort as long as there are sleeping
connections.
</UL>

We plan to fix this problem when our Windows developers have figured out a
nice workaround.

<DT><STRONG>UDF functions</STRONG>
<DD>
For the moment, MySQL-Windows does not support user-definable
functions.

<DT><STRONG><CODE>DROP DATABASE</CODE></STRONG>
<DD>
You can't drop a database that is in use by some thread.

<DT><STRONG>Killing MySQL from the task manager</STRONG>
<DD>
You can't kill MySQL from the task manager or with the shutdown
utility in Win95.  You must take it down with <CODE>mysqladmin shutdown</CODE>.

<DT><STRONG>Case-insensitive names</STRONG>
<DD>
Filenames are case insensitive on Windows, so database and table names
are also case insensitive in MySQL for Windows.  The only
restriction is that database and table names must be specified using the same
case throughout a given statement.  See section <A HREF="manual.html#Name_case_sensitivity">6.1.3  Case Sensitivity in Names</A>.

<DT><STRONG>The <SAMP>`\'</SAMP> directory character</STRONG>
<DD>
Pathname components in Win95 are separated by the <SAMP>`\'</SAMP> character, which is
also the escape character in MySQL.  If you are using <CODE>LOAD
DATA INFILE</CODE> or <CODE>SELECT ... INTO OUTFILE</CODE>, you must double the <SAMP>`\'</SAMP>
character:


<PRE>
mysql&#62; LOAD DATA INFILE "C:\\tmp\\skr.txt" INTO TABLE skr;
mysql&#62; SELECT * INTO OUTFILE 'C:\\tmp\\skr.txt' FROM skr;
</PRE>

Alternatively, use Unix style filenames with <SAMP>`/'</SAMP> characters:


<PRE>
mysql&#62; LOAD DATA INFILE "C:/tmp/skr.txt" INTO TABLE skr;
mysql&#62; SELECT * INTO OUTFILE 'C:/tmp/skr.txt' FROM skr;
</PRE>

<DT><STRONG><CODE>Can't open named pipe</CODE> error</STRONG>
<DD>
If you use a MySQL 3.22 version on NT with the newest mysql-clients
you will get the following error:


<PRE>
error 2017: can't open named pipe to host: . pipe...
</PRE>

<A NAME="IDX326"></A>
This is because the release version of MySQL uses named pipes on NT 
by default.  You can avoid this error by using the <CODE>--host=localhost</CODE> 
option to the new MySQL clients or create an option file
<TT>`C:\my.cnf'</TT> that contains the following information:


<PRE>
[client]
host = localhost
</PRE>

<DT><STRONG><CODE>Access denied for user</CODE> error</STRONG>
<DD>
If you get the error <CODE>Access denied for user: 'some-user@unknown'
to database 'mysql'</CODE> when accessing a MySQL server on the same
machine, this means that MySQL can't resolve your host name
properly.

To fix this, you should create a file <TT>`\windows\hosts'</TT> with the
following information:


<PRE>
127.0.0.1       localhost
</PRE>

<DT><STRONG><CODE>ALTER TABLE</CODE></STRONG>
<DD>
While you are executing an <CODE>ALTER TABLE</CODE> statement, the table is locked
from usage by other threads.  This has to do with the fact that on Windows,
you can't delete a file that is in use by another threads.  (In the future,
we may find some way to work around this problem.)

<DT><STRONG><CODE>DROP TABLE</CODE> on a table that is in use by a <CODE>MERGE</CODE> table will not work</STRONG>
<DD>
The <CODE>MERGE</CODE> handler does its table mapping hidden from MySQL.
Because Windows doesn't allow you to drop files that are open, you first
must flush all <CODE>MERGE</CODE> tables (with <CODE>FLUSH TABLES</CODE>) or drop the
<CODE>MERGE</CODE> table before dropping the table.  We will fix this at the same 
time we introduce <CODE>VIEW</CODE>s.
</DL>

<P>
Here are some open issues for anyone who might want to help us with the Windows
release:

</P>
<P>
<A NAME="IDX327"></A>

</P>

<UL>
<LI>

Make a single-user <CODE>MYSQL.DLL</CODE> server.  This should include everything in
a standard MySQL server, except thread creation.  This will make
MySQL much easier to use in applications that don't need a true
client/server and don't need to access the server from other hosts.

<LI>

Add some nice start and shutdown icons to the MySQL installation.

<LI>

Create a tool to manage registry entries for the MySQL startup
options.  The registry entry reading is already coded into <TT>`mysqld.cc'</TT>,
but it should be recoded to be more parameter oriented.  The tool should
also be able to update the <TT>`C:\my.cnf'</TT> option file if the user prefers
to use that instead of the registry.

<LI>

When registering <CODE>mysqld</CODE> as a service with <CODE>--install</CODE> (on NT)
it would be nice if you could also add default options on the command line.
For the moment, the workaround is to list the parameters in the
<TT>`C:\my.cnf'</TT> file instead.

<LI>

It would be real nice to be able to kill <CODE>mysqld</CODE> from the task manager.
For the moment, you must use <CODE>mysqladmin shutdown</CODE>.

<LI>

Port <CODE>readline</CODE> to Windows for use in the <CODE>mysql</CODE> command line tool.

<LI>

GUI versions of the standard MySQL clients (<CODE>mysql</CODE>,
<CODE>mysqlshow</CODE>, <CODE>mysqladmin</CODE>, and <CODE>mysqldump</CODE>) would be nice.

<LI>

It would be nice if the socket read and write functions in <TT>`net.c'</TT> were
interruptible. This would make it possible to kill open threads with 
<CODE>mysqladmin kill</CODE> on Windows.

<LI>

<CODE>mysqld</CODE> always starts in the "C" locale and not in the default locale.
We would like to have <CODE>mysqld</CODE> use the current locale for the sort order.

<LI>

Implement UDF functions with <CODE>.DLL</CODE>s.

<LI>

Add macros to use the faster thread-safe increment/decrement methods
provided by Windows.

</UL>

<P>
Other Windows-specific issues are described in the <TT>`README'</TT> file that
comes with the MySQL-Windows distribution.

</P>



<H3><A NAME="Solaris" HREF="manual_toc.html#Solaris">2.6.3  Solaris Notes</A></H3>

<P>
<A NAME="IDX328"></A>
<A NAME="IDX329"></A>
<A NAME="IDX330"></A>
<A NAME="IDX331"></A>
<A NAME="IDX332"></A>

</P>
<P>
On Solaris, you may run into trouble even before you get the MySQL
distribution unpacked!  Solaris <CODE>tar</CODE> can't handle long file names, so
you may see an error like this when you unpack MySQL:

</P>

<PRE>
x mysql-3.22.12-beta/bench/Results/ATIS-mysql_odbc-NT_4.0-cmp-db2,informix,ms-sql,mysql,oracle,solid,sybase, 0 bytes, 0 tape blocks
tar: directory checksum error
</PRE>

<P>
In this case, you must use GNU <CODE>tar</CODE> (<CODE>gtar</CODE>) to unpack the
distribution.  You can find a precompiled copy for Solaris at
<a HREF="http://www.mysql.com/Downloads/">http://www.mysql.com/Downloads/</a>.

</P>
<P>
Sun native threads work only on Solaris 2.5 and higher.  For Version 2.4 and
earlier, MySQL will automatically use MIT-pthreads.
See section <A HREF="manual.html#MIT-pthreads">2.3.6  MIT-pthreads Notes</A>.

</P>
<P>
If you get the following error from configure:

</P>

<PRE>
checking for restartable system calls... configure: error can not run test
programs while cross compiling
</PRE>

<P>
This means that you have something wrong with your compiler installation!
In this case you should upgrade your compiler to a newer version.  You may
also be able to solve this problem by inserting the following row into the
<TT>`config.cache'</TT> file:

</P>

<PRE>
ac_cv_sys_restartable_syscalls=${ac_cv_sys_restartable_syscalls='no'}
</PRE>

<P>
If you are using Solaris on a SPARC, the recommended compiler is
<CODE>gcc</CODE> 2.95.2.  You can find this at <a HREF="http://gcc.gnu.org/">http://gcc.gnu.org/</a>.
Note that <CODE>egcs</CODE> 1.1.1 and <CODE>gcc</CODE> 2.8.1 don't work reliably on
SPARC!

</P>
<P>
The recommended <CODE>configure</CODE> line when using <CODE>gcc</CODE> 2.95.2 is:

</P>

<PRE>
CC=gcc CFLAGS="-O3" \
CXX=gcc CXXFLAGS="-O3 -felide-constructors -fno-exceptions -fno-rtti" \
./configure --prefix=/usr/local/mysql --with-low-memory --enable-assembler
</PRE>

<P>
If you have a ultra sparc, you can get 4 % more performance by adding
"-mcpu=v8 -Wa,-xarch=v8plusa" to CFLAGS and CXXFLAGS.

</P>
<P>
If you have Sun Workshop (Fortre) 5.3 (or newer) compiler, you can
run <CODE>configure</CODE> like this:

</P>

<PRE>
CC=cc CFLAGS="-Xa -fast -xO4 -native -xstrconst -mt" \
CXX=CC CXXFLAGS="-noex -xO4 -mt" \
./configure --prefix=/usr/local/mysql --enable-assembler
</PRE>

<P>
In the MySQL benchmarks, we got a 6 % speedup on an Ultrasparc when
using Sun Workshop 5.3 compared to using gcc with -mcpu flags.

</P>
<P>
If you get a problem with <CODE>fdatasync</CODE> or <CODE>sched_yield</CODE>,
you can fix this by adding <CODE>LIBS=-lrt</CODE> to the configure line

</P>
<P>
The following paragraph is only relevant for older compilers than
WorkShop 5.3:

</P>
<P>
You may also have to edit the <CODE>configure</CODE> script to change this line:

</P>

<PRE>
#if !defined(__STDC__) || __STDC__ != 1
</PRE>

<P>
to this:

</P>

<PRE>
#if !defined(__STDC__)
</PRE>

<P>
If you turn on <CODE>__STDC__</CODE> with the <CODE>-Xc</CODE> option, the Sun compiler
can't compile with the Solaris <TT>`pthread.h'</TT> header file.  This is a Sun
bug (broken compiler or broken include file).

</P>
<P>
If <CODE>mysqld</CODE> issues the error message shown below when you run it, you have
tried to compile MySQL with the Sun compiler without enabling the
multi-thread option (<CODE>-mt</CODE>):

</P>

<PRE>
libc internal error: _rmutex_unlock: rmutex not held
</PRE>

<P>
Add <CODE>-mt</CODE> to <CODE>CFLAGS</CODE> and <CODE>CXXFLAGS</CODE> and try again.

</P>
<P>
If you get the following error when compiling MySQL with <CODE>gcc</CODE>,
it means that your <CODE>gcc</CODE> is not configured for your version of Solaris:

</P>

<PRE>
shell&#62; gcc -O3 -g -O2 -DDBUG_OFF  -o thr_alarm ...
./thr_alarm.c: In function `signal_hand':
./thr_alarm.c:556: too many arguments to function `sigwait'
</PRE>

<P>
The proper thing to do in this case is to get the newest version of
<CODE>gcc</CODE> and compile it with your current <CODE>gcc</CODE> compiler!  At
least for Solaris 2.5, almost all binary versions of <CODE>gcc</CODE> have
old, unusable include files that will break all programs that use
threads (and possibly other programs)!

</P>
<P>
Solaris doesn't provide static versions of all system libraries
(<CODE>libpthreads</CODE> and <CODE>libdl</CODE>), so you can't compile MySQL
with <CODE>--static</CODE>.  If you try to do so, you will get the error:

</P>

<PRE>
ld: fatal: library -ldl: not found

or

undefined reference to `dlopen'

or

cannot find -lrt
</PRE>

<P>
If too many processes try to connect very rapidly to <CODE>mysqld</CODE>, you will
see this error in the MySQL log:

</P>

<PRE>
Error in accept: Protocol error
</PRE>

<P>
You might try starting the server with the <CODE>--set-variable back_log=50</CODE>
option as a workaround for this. See section <A HREF="manual.html#Command-line_options">4.1.1  mysqld Command-line Options</A>.

</P>
<P>
If you are linking your own MySQL client, you might get the
following error when you try to execute it:

</P>

<PRE>
ld.so.1: ./my: fatal: libmysqlclient.so.#: open failed: No such file or directory
</PRE>

<P>
The problem can be avoided by one of the following methods:

</P>

<UL>
<LI>

Link the client with the following flag (instead of <CODE>-Lpath</CODE>):
<CODE>-Wl,r/full-path-to-libmysqlclient.so</CODE>.

<LI>

Copy <TT>`libmysqclient.so'</TT> to <TT>`/usr/lib'</TT>.

<A NAME="IDX333"></A>
<A NAME="IDX334"></A>
<LI>

Add the pathname of the directory where <TT>`libmysqlclient.so'</TT> is located
to the <CODE>LD_RUN_PATH</CODE> environment variable before running your client.
</UL>

<P>
When using the <CODE>--with-libwrap</CODE> configure option, you must also
include the libraries that <TT>`libwrap.a'</TT> needs:

</P>

<PRE>
--with-libwrap="/opt/NUtcpwrapper-7.6/lib/libwrap.a -lnsl -lsocket
</PRE>

<P>
If you have problems with configure trying to link with <CODE>-lz</CODE> and
you don't have <CODE>zlib</CODE> installed, you have two options:

</P>

<UL>
<LI>

If you want to be able to use the compressed communication protocol,
you need to get and install zlib from ftp.gnu.org.

<LI>

Configure with <CODE>--with-named-z-libs=no</CODE>.
</UL>

<P>
If you are using gcc and have problems with loading <CODE>UDF</CODE> functions
into MySQL, try adding <CODE>-lgcc</CODE> to the link line for the
<CODE>UDF</CODE> function.

</P>
<P>
If you would like MySQL to start automatically, you can copy
<TT>`support-files/mysql.server'</TT> to <TT>`/etc/init.d'</TT> and create a
symbolic link to it named <TT>`/etc/rc3.d/S99mysql.server'</TT>.

</P>



<H4><A NAME="Solaris_2.7" HREF="manual_toc.html#Solaris_2.7">2.6.3.1  Solaris 2.7/2.8 Notes</A></H4>

<P>
You can normally use a Solaris 2.6 binary on Solaris 2.7 and 2.8.  Most
of the Solaris 2.6 issues also apply for Solaris 2.7 and 2.8.

</P>
<P>
Note that MySQL Version 3.23.4 and above should be able to autodetect
new versions of Solaris and enable workarounds for the following problems!

</P>
<P>
Solaris 2.7 / 2.8 has some bugs in the include files.  You may see the
following error when you use <CODE>gcc</CODE>:

</P>

<PRE>
/usr/include/widec.h:42: warning: `getwc' redefined
/usr/include/wchar.h:326: warning: this is the location of the previous
definition
</PRE>

<P>
If this occurs, you can do the following to fix the problem:

</P>
<P>
Copy <CODE>/usr/include/widec.h</CODE> to
<CODE>.../lib/gcc-lib/os/gcc-version/include</CODE> and change line 41 from:

</P>

<PRE>
#if     !defined(lint) &#38;& !defined(__lint)

to

#if     !defined(lint) &#38;& !defined(__lint) &#38;& !defined(getwc)
</PRE>

<P>
Alternatively, you can edit <TT>`/usr/include/widec.h'</TT> directly.  Either
way, after you make the fix, you should remove <TT>`config.cache'</TT> and run
<CODE>configure</CODE> again!

</P>
<P>
If you get errors like this when you run <CODE>make</CODE>, it's because
<CODE>configure</CODE> didn't detect the <TT>`curses.h'</TT> file (probably
because of the error in <TT>`/usr/include/widec.h'</TT>):

</P>

<PRE>
In file included from mysql.cc:50:
/usr/include/term.h:1060: syntax error before `,'
/usr/include/term.h:1081: syntax error before `;'
</PRE>

<P>
The solution to this is to do one of the following:

</P>

<UL>
<LI>

Configure with <CODE>CFLAGS=-DHAVE_CURSES_H CXXFLAGS=-DHAVE_CURSES_H ./configure</CODE>.

<LI>

Edit <TT>`/usr/include/widec.h'</TT> as indicted above and rerun configure.

<LI>

Remove the <CODE>#define HAVE_TERM</CODE> line from <TT>`config.h'</TT> file and
run <CODE>make</CODE> again.
</UL>

<P>
If you get a problem that your linker can't find <CODE>-lz</CODE> when linking
your client program, the problem is probably that your <TT>`libz.so'</TT> file is
installed in <TT>`/usr/local/lib'</TT>.  You can fix this by one of the
following methods:

</P>

<UL>
<LI>

Add <TT>`/usr/local/lib'</TT> to <CODE>LD_LIBRARY_PATH</CODE>.

<LI>

Add a link to <TT>`libz.so'</TT> from <TT>`/lib'</TT>.

<LI>

If you are using Solaris 8, you can install the optional zlib from your
Solaris 8 CD distribution.

<LI>

Configure MySQL with the <CODE>--with-named-z-libs=no</CODE> option.
</UL>



<H4><A NAME="Solaris_x86" HREF="manual_toc.html#Solaris_x86">2.6.3.2  Solaris x86 Notes</A></H4>

<P>
On Solaris 2.8 on x86, <CODE>mysqld</CODE> will core dump if you run
'strip' in.

</P>
<P>
If you are using <CODE>gcc</CODE> or <CODE>egcs</CODE> on Solaris x86 and you
experience problems with core dumps under load, you should use the
following <CODE>configure</CODE> command:

</P>

<PRE>
CC=gcc CFLAGS="-O3 -fomit-frame-pointer -DHAVE_CURSES_H" \
CXX=gcc \
CXXFLAGS="-O3 -fomit-frame-pointer -felide-constructors -fno-exceptions -fno-rtti -DHAVE_CURSES_H" \
./configure --prefix=/usr/local/mysql
</PRE>

<P>
This will avoid problems with the <CODE>libstdc++</CODE> library and with C++
exceptions.

</P>
<P>
If this doesn't help, you should compile a debug version and run
it with a trace file or under <CODE>gdb</CODE>.  See section <A HREF="manual.html#Using_gdb_on_mysqld">G.1.3  Debugging mysqld under gdb</A>.

</P>



<H3><A NAME="BSD_Notes" HREF="manual_toc.html#BSD_Notes">2.6.4  BSD Notes</A></H3>



<H4><A NAME="FreeBSD" HREF="manual_toc.html#FreeBSD">2.6.4.1  FreeBSD Notes</A></H4>

<P>
FreeBSD 3.x is recommended for running MySQL since the thread package
is much more integrated.

</P>
<P>
The easiest and therefor the preferred way to install is to use the 
mysql-server and mysql-client ports available on <a HREF="http://www.freebsd.org">http://www.freebsd.org</a>.

</P>
<P>
Using these gives you:

<UL>
<LI>

A working MySQL with all optimizations known to work on your version
of FreeBSD enabled.

<LI>

Automatic configuration and build.

<LI>

Startup scripts installed in /usr/local/etc/rc.d.

<LI>

Ability to see which files that are installed with pkg_info -L. And to
remove them all with pkg_delete if you no longer want MySQL on that
machine.
</UL>

<P>
It is recommended you use MIT-pthreads on FreeBSD 2.x and native threads on
Versions 3 and up. It is possible to run with  native threads on some late
2.2.x versions but you may encounter problems shutting down <CODE>mysqld</CODE>.

</P>
<P>
The MySQL <TT>`Makefile'</TT>s require GNU make (<CODE>gmake</CODE>) to work.  If
you want to compile MySQL you need to install GNU <CODE>make</CODE> first.

</P>
<P>
Be sure to have your name resolver setup correct.  Otherwise you may
experience resolver delays or failures when connecting to <CODE>mysqld</CODE>.

</P>
<P>
Make sure that the <CODE>localhost</CODE> entry in the <TT>`/etc/hosts'</TT> file is
correct (otherwise you will have problems connecting to the database).  The
<TT>`/etc/hosts'</TT> file should start with a line:

</P>

<PRE>
127.0.0.1       localhost localhost.your.domain
</PRE>

<P>
If you notice that <CODE>configure</CODE> will use MIT-pthreads, you should read
the MIT-pthreads notes.  See section <A HREF="manual.html#MIT-pthreads">2.3.6  MIT-pthreads Notes</A>.

</P>
<P>
If you get an error from <CODE>make install</CODE> that it can't find
<TT>`/usr/include/pthreads'</TT>, <CODE>configure</CODE> didn't detect that you need
MIT-pthreads.  This is fixed by executing these commands:

</P>

<PRE>
shell&#62; rm config.cache
shell&#62; ./configure --with-mit-threads
</PRE>

<P>
FreeBSD is also known to have a very low default file handle limit.
See section <A HREF="manual.html#Not_enough_file_handles">A.2.16  File Not Found</A>.  Uncomment the ulimit -n section in
safe_mysqld or raise the limits for the <CODE>mysqld</CODE> user in /etc/login.conf
(and rebuild it with cap_mkdb /etc/login.conf).  Also be sure you set the
appropriate class for this user in the password file if you are not
using the default (use: chpass mysqld-user-name).  See section <A HREF="manual.html#safe_mysqld">4.7.2  safe_mysqld, the wrapper around mysqld</A>.

</P>
<P>
If you get problems with the current date in MySQL, setting the
<CODE>TZ</CODE> variable will probably help.  See section <A HREF="manual.html#Environment_variables">H  Environment Variables</A>.

</P>
<P>
To get a secure and stable system you should only use FreeBSD kernels
that are marked <CODE>-STABLE</CODE>.

</P>



<H4><A NAME="NetBSD" HREF="manual_toc.html#NetBSD">2.6.4.2  NetBSD notes</A></H4>

<P>
To compile on NetBSD you need GNU <CODE>make</CODE>.  Otherwise the compile will 
crash when <CODE>make</CODE> tries to run <CODE>lint</CODE> on C++ files.

</P>



<H4><A NAME="OpenBSD" HREF="manual_toc.html#OpenBSD">2.6.4.3  OpenBSD Notes</A></H4>

<P>
This section contains notes on OpenBSD.

</P>


<H4><A NAME="OpenBSD_2.5" HREF="manual_toc.html#OpenBSD_2.5">2.6.4.4  OpenBSD 2.5 Notes</A></H4>

<P>
On OpenBSD Version 2.5, you can compile MySQL with native threads
with the following options:

</P>

<PRE>
CFLAGS=-pthread CXXFLAGS=-pthread ./configure --with-mit-threads=no
</PRE>



<H4><A NAME="OpenBSD_2.8" HREF="manual_toc.html#OpenBSD_2.8">2.6.4.5  OpenBSD 2.8 Notes</A></H4>

<P>
Our users have reported that OpenBSD 2.8 has a threading bug which causes
problems with MySQL.  The OpenBSD Developers have fixed the problem,
but as of January 25th, 2001, it's only available in the ``-current'' branch.
The symptoms of this threading bug are: slow response, high load, high CPU
usage, and crashes.

</P>



<H4><A NAME="BSDI" HREF="manual_toc.html#BSDI">2.6.4.6  BSD/OS Notes</A></H4>

<P>
This section contains notes on BSD/OS.

</P>


<H4><A NAME="BSDI2" HREF="manual_toc.html#BSDI2">2.6.4.7  BSD/OS Version 2.x Notes</A></H4>

<P>
If you get the following error when compiling MySQL, your
<CODE>ulimit</CODE> value for virtual memory is too low:

</P>

<PRE>
item_func.h: In method `Item_func_ge::Item_func_ge(const Item_func_ge &#38;)':
item_func.h:28: virtual memory exhausted
make[2]: *** [item_func.o] Error 1
</PRE>

<P>
Try using <CODE>ulimit -v 80000</CODE> and run <CODE>make</CODE> again.  If this
doesn't work and you are using <CODE>bash</CODE>, try switching to <CODE>csh</CODE>
or <CODE>sh</CODE>; some BSDI users have reported problems with <CODE>bash</CODE>
and <CODE>ulimit</CODE>.

</P>
<P>
If you are using <CODE>gcc</CODE>, you may also use have to use the
<CODE>--with-low-memory</CODE> flag for <CODE>configure</CODE> to be able to compile
<TT>`sql_yacc.cc'</TT>.

</P>
<P>
If you get problems with the current date in MySQL, setting the
<CODE>TZ</CODE> variable will probably help.  See section <A HREF="manual.html#Environment_variables">H  Environment Variables</A>.

</P>



<H4><A NAME="BSDI3" HREF="manual_toc.html#BSDI3">2.6.4.8  BSD/OS Version 3.x Notes</A></H4>

<P>
Upgrade to BSD/OS Version 3.1.  If that is not possible, install
BSDIpatch M300-038.

</P>
<P>
Use the following command when configuring MySQL:

</P>

<PRE>
shell&#62; env CXX=shlicc++ CC=shlicc2 \
       ./configure \
           --prefix=/usr/local/mysql \
           --localstatedir=/var/mysql \
           --without-perl \
           --with-unix-socket-path=/var/mysql/mysql.sock
</PRE>

<P>
The following is also known to work:

</P>

<PRE>
shell&#62; env CC=gcc CXX=gcc CXXFLAGS=-O3 \
       ./configure \
           --prefix=/usr/local/mysql \
           --with-unix-socket-path=/var/mysql/mysql.sock
</PRE>

<P>
You can change the directory locations if you wish, or just use the
defaults by not specifying any locations.

</P>
<P>
If you have problems with performance under heavy load, try using the
<CODE>--skip-thread-priority</CODE> option to <CODE>mysqld</CODE>!  This will run
all threads with the same priority; on BSDI Version 3.1, this gives better
performance (at least until BSDI fixes their thread scheduler).

</P>
<P>
If you get the error <CODE>virtual memory exhausted</CODE> while compiling,
you should try using <CODE>ulimit -v 80000</CODE> and run <CODE>make</CODE> again.
If this doesn't work and you are using <CODE>bash</CODE>, try switching to
<CODE>csh</CODE> or <CODE>sh</CODE>; some BSDI users have reported problems with
<CODE>bash</CODE> and <CODE>ulimit</CODE>.

</P>



<H4><A NAME="BSDI4" HREF="manual_toc.html#BSDI4">2.6.4.9  BSD/OS Version 4.x Notes</A></H4>

<P>
BSDI Version 4.x has some thread-related bugs.  If you want to use
MySQL on this, you should install all thread-related patches.  At
least M400-023 should be installed.

</P>
<P>
On some BSDI Version 4.x systems, you may get problems with shared libraries.
The symptom is that you can't execute any client programs, for example,
<CODE>mysqladmin</CODE>.  In this case you need to reconfigure not to use
shared libraries with the <CODE>--disable-shared</CODE> option to configure.

</P>
<P>
Some customers have had problems on BSDI 4.0.1 that the <CODE>mysqld</CODE>
binary after a while can't open tables.  This is because some
library/system related bug causes <CODE>mysqld</CODE> to change current
directory without asking for this!

</P>
<P>
The fix is to either upgrade to 3.23.34 or after running <CODE>configure</CODE>
remove the line <CODE>#define HAVE_REALPATH</CODE> from <CODE>config.h</CODE>
before running make.

</P>
<P>
Note that the above means that you can't symbolic link a database directories
to another database directory or symbolic link a table to another database
on BSDI!  (Making a symbolic link to another disk is ok).

</P>



<H3><A NAME="Mac_OS_X" HREF="manual_toc.html#Mac_OS_X">2.6.5  Mac OS X Notes</A></H3>



<H4><A NAME="Mac_OS_X_Public_Beta" HREF="manual_toc.html#Mac_OS_X_Public_Beta">2.6.5.1  Mac OS X Public Beta</A></H4>

<P>
MySQL should work without any problems on Mac OS X Public Beta
(Darwin).  You don't need the pthread patches for this OS!

</P>



<H4><A NAME="Mac_OS_X_Server" HREF="manual_toc.html#Mac_OS_X_Server">2.6.5.2  Mac OS X Server</A></H4>

<P>
Before trying to configure MySQL on Mac OS X server you must
first install the pthread package from
<a HREF="http://www.prnet.de/RegEx/mysql.html">http://www.prnet.de/RegEx/mysql.html</a>.

</P>
<P>
Our binary for Mac OS X is compiled on Rhapsody 5.5 with the following
configure line:

</P>

<PRE>
CC=gcc CFLAGS="-O2 -fomit-frame-pointer" CXX=gcc CXXFLAGS="-O2 -fomit-frame-pointer" ./configure --prefix=/usr/local/mysql "--with-comment=Official MySQL binary" --with-extra-charsets=complex  --disable-shared
</PRE>

<P>
You might want to also add aliases to your shell's resource file to
access <CODE>mysql</CODE> and <CODE>mysqladmin</CODE> from the command line:

</P>

<PRE>
alias mysql '/usr/local/mysql/bin/mysql'
alias mysqladmin '/usr/local/mysql/bin/mysqladmin'
</PRE>



<H3><A NAME="Other_Unix_Notes" HREF="manual_toc.html#Other_Unix_Notes">2.6.6  Other Unix Notes</A></H3>



<H4><A NAME="Binary_notes-HP-UX" HREF="manual_toc.html#Binary_notes-HP-UX">2.6.6.1  HP-UX Notes for Binary Distributions</A></H4>

<P>
<A NAME="IDX335"></A>
<A NAME="IDX336"></A>

</P>
<P>
Some of the binary distributions of MySQL for HP-UX is
distributed as an HP depot file and as a tar file.  To use the depot
file you must be running at least HP-UX 10.x to have access to HP's
software depot tools.

</P>
<P>
The HP version of MySQL was compiled on an HP 9000/8xx server
under HP-UX 10.20, and uses MIT-pthreads.  It is known to work well under 
this configuration.  MySQL Version 3.22.26 and newer can also be 
built with HP's native thread package.

</P>
<P>
Other configurations that may work:

</P>

<UL>
<LI>

HP 9000/7xx running HP-UX 10.20+
<LI>

HP 9000/8xx running HP-UX 10.30
</UL>

<P>
The following configurations almost definitely won't work:

</P>

<UL>
<LI>

HP 9000/7xx or 8xx running HP-UX 10.x where x &#60; 2
<LI>

HP 9000/7xx or 8xx running HP-UX 9.x
</UL>

<P>
To install the distribution, use one of the commands below, where
<CODE>/path/to/depot</CODE> is the full pathname of the depot file:

</P>

<UL>
<LI>

To install everything, including the server, client and development tools:


<PRE>
shell&#62; /usr/sbin/swinstall -s /path/to/depot mysql.full
</PRE>

<LI>

To install only the server:


<PRE>
shell&#62; /usr/sbin/swinstall -s /path/to/depot mysql.server
</PRE>

<LI>

To install only the client package:


<PRE>
shell&#62; /usr/sbin/swinstall -s /path/to/depot mysql.client
</PRE>

<LI>

To install only the development tools:


<PRE>
shell&#62; /usr/sbin/swinstall -s /path/to/depot mysql.developer
</PRE>

</UL>

<P>
The depot places binaries and libraries in <TT>`/opt/mysql'</TT> and data in
<TT>`/var/opt/mysql'</TT>. The depot also creates the appropriate entries in
<TT>`/etc/init.d'</TT> and <TT>`/etc/rc2.d'</TT> to start the server automatically
at boot time.  Obviously, this entails being <CODE>root</CODE> to install.

</P>
<P>
To install the HP-UX tar.gz distribution, you must have a copy of GNU
<CODE>tar</CODE>.

</P>



<H4><A NAME="HP-UX_10.20" HREF="manual_toc.html#HP-UX_10.20">2.6.6.2  HP-UX Version 10.20 Notes</A></H4>

<P>
There are a couple of small problems when compiling MySQL on
HP-UX.  We recommend that you use <CODE>gcc</CODE> instead of the HP-UX native
compiler, because <CODE>gcc</CODE> produces better code!

</P>
<P>
We recommend using gcc 2.95 on HP-UX.  Don't use high optimization
flags (like -O6) as this may not be safe on HP-UX.

</P>
<P>
Note that MIT-pthreads can't be compiled with the HP-UX compiler
because it can't compile <CODE>.S</CODE> (assembler) files.

</P>
<P>
The following configure line should work:

</P>

<PRE>
CFLAGS="-DHPUX -I/opt/dce/include" CXXFLAGS="-DHPUX -I/opt/dce/include -felide-constructors -fno-exceptions -fno-rtti" CXX=gcc ./configure --with-pthread --with-named-thread-libs='-ldce' --prefix=/usr/local/mysql --disable-shared
</PRE>

<P>
If you are compiling <CODE>gcc</CODE> 2.95 yourself, you should NOT link it with
the DCE libraries (<CODE>libdce.a</CODE> or <CODE>libcma.a</CODE>) if you want to compile
MySQL with MIT-pthreads.  If you mix the DCE and MIT-pthreads
packages you will get a <CODE>mysqld</CODE> to which you cannot connect.  Remove
the DCE libraries while you compile <CODE>gcc</CODE> 2.95!

</P>



<H4><A NAME="HP-UX_11.x" HREF="manual_toc.html#HP-UX_11.x">2.6.6.3  HP-UX Version 11.x Notes</A></H4>

<P>
For HP-UX Version 11.x we recommend MySQL Version 3.23.15 or later.

</P>
<P>
Because of some critical bugs in the standard HP-UX libraries, you should
install the following patches before trying to run MySQL on HP-UX 11.0:

</P>

<PRE>
PHKL_22840 Streams cumulative
PHNE_22397 ARPA cumulative
</PRE>

<P>
This will solve a problem that one gets <CODE>EWOULDBLOCK</CODE> from <CODE>recv()</CODE> 
and <CODE>EBADF</CODE> from <CODE>accept()</CODE> in threaded applications.

</P>
<P>
If you are using <CODE>gcc</CODE> 2.95.1 on an unpatched HP-UX 11.x system,
you will get the error:

</P>

<PRE>
In file included from /usr/include/unistd.h:11,
                 from ../include/global.h:125,
                 from mysql_priv.h:15,
                 from item.cc:19:
/usr/include/sys/unistd.h:184: declaration of C function ...
/usr/include/sys/pthread.h:440: previous declaration ...
In file included from item.h:306,
                 from mysql_priv.h:158,
                 from item.cc:19:
</PRE>

<P>
The problem is that HP-UX doesn't define <CODE>pthreads_atfork()</CODE> consistently.
It has conflicting prototypes in
<TT>`/usr/include/sys/unistd.h'</TT>:184 and
<TT>`/usr/include/sys/pthread.h'</TT>:440 (details below).

</P>
<P>
One solution is to copy <TT>`/usr/include/sys/unistd.h'</TT> into
<TT>`mysql/include'</TT> and edit <TT>`unistd.h'</TT> and change it to match
the definition in <TT>`pthread.h'</TT>.  Here's the diff:

</P>

<PRE>
183,184c183,184
&#60;      extern int pthread_atfork(void (*prepare)(), void (*parent)(),
&#60;                                                void (*child)());
---
&#62;      extern int pthread_atfork(void (*prepare)(void), void (*parent)(void),
&#62;                                                void (*child)(void));
</PRE>

<P>
After this, the following configure line should work:

</P>

<PRE>
CFLAGS="-fomit-frame-pointer -O3 -fpic" CXX=gcc CXXFLAGS="-felide-constructors -fno-exceptions -fno-rtti -O3" ./configure --prefix=/usr/local/mysql --disable-shared
</PRE>

<P>
Here is some information that a HP-UX Version 11.x user sent us about compiling
MySQL with HP-UX:x compiler:

</P>

<PRE>
 Environment:
      proper compilers.
         setenv CC cc
         setenv CXX aCC
      flags
         setenv CFLAGS -D_REENTRANT
         setenv CXXFLAGS -D_REENTRANT
         setenv CPPFLAGS -D_REENTRANT
     % aCC -V
     aCC: HP ANSI C++ B3910B X.03.14.06
     % cc -V /tmp/empty.c
     cpp.ansi: HP92453-01 A.11.02.00 HP C Preprocessor (ANSI)
     ccom: HP92453-01 A.11.01.00 HP C Compiler
     cc: "/tmp/empty.c", line 1: warning 501: Empty source file.

  configuration:
     ./configure  --with-pthread        \
     --prefix=/source-control/mysql     \
     --with-named-thread-libs=-lpthread \
     --with-low-memory

    added '#define _CTYPE_INCLUDED' to include/m_ctype.h. This
    symbol is the one defined in HP's /usr/include/ctype.h:

     /* Don't include std ctype.h when this is included */
     #define _CTYPE_H
     #define __CTYPE_INCLUDED
     #define _CTYPE_INCLUDED
     #define _CTYPE_USING   /* Don't put names in global namespace. */
</PRE>


<UL>
<LI>

I had to use the compile-time flag <CODE>-D_REENTRANT</CODE> to get the compiler 
to recognize the prototype for <CODE>localtime_r</CODE>. Alternatively I could have
supplied the prototype for <CODE>localtime_r</CODE>. But I wanted to catch other 
bugs without needing to run into them.  I wasn't sure where I needed it, so I
added it to all flags.
<LI>

The optimization flags used by MySQL (-O3) are not recognized by HP's
compilers.  I did not change the flags.
</UL>

<P>
If you get the following error from <CODE>configure</CODE>

</P>

<PRE>
checking for cc option to accept ANSI C... no
configure: error: MySQL requires a ANSI C compiler (and a C++ compiler). Try gcc. See the Installation chapter in the Reference Manual.
</PRE>

<P>
Check that you don't have the path to the K&#38;R compiler before the path
to the HP-UX C and C++ compiler.

</P>



<H4><A NAME="IBM-AIX" HREF="manual_toc.html#IBM-AIX">2.6.6.4  IBM-AIX notes</A></H4>

<P>
<A NAME="IDX337"></A>

</P>
<P>
Automatic detection of <CODE>xlC</CODE> is missing from Autoconf, so a
<CODE>configure</CODE> command something like this is needed when compiling
MySQL (This example uses the IBM compiler):

</P>

<PRE>
export CC="xlc_r -ma -O3 -qstrict -qoptimize=3 -qmaxmem=8192 "
export CXX="xlC_r -ma -O3 -qstrict -qoptimize=3 -qmaxmem=8192"
export CFLAGS="-I /usr/local/include"
export LDLFAGS="-L /usr/local/lib"
export CPPFLAGS=$CFLAGS
export CXXFLAGS=$CFLAGS

./configure --prefix=/usr/local \
		--localstatedir=/var/mysql \
		--sysconfdir=/etc/mysql \
		--sbindir='/usr/local/bin' \
		--libexecdir='/usr/local/bin' \
		--enable-thread-safe-client \
		--enable-large-files
</PRE>

<P>
Above are the options used to compile the MySQL distribution that
can be found at <a HREF="http://www-frec.bull.com/">http://www-frec.bull.com/</a>.

</P>
<P>
If you change the <CODE>-O3</CODE> to <CODE>-O2</CODE> in the above configure line,
you must also remove the <CODE>-qstrict</CODE> option (this is a limitation in
the IBM C compiler).

</P>
<P>
If you are using <CODE>gcc</CODE> or <CODE>egcs</CODE> to compile MySQL, you
<STRONG>MUST</STRONG> use the <CODE>-fno-exceptions</CODE> flag, as the exception
handling in <CODE>gcc</CODE>/<CODE>egcs</CODE> is not thread safe!  (This is tested with
<CODE>egcs</CODE> 1.1.)  There are also some known problems with IBM's assembler,
which may cause it to generate bad code when used with gcc.

</P>
<P>
We recommend the following <CODE>configure</CODE> line with <CODE>egcs</CODE> and
<CODE>gcc 2.95</CODE> on AIX:

</P>

<PRE>
CC="gcc -pipe -mcpu=power -Wa,-many" \
CXX="gcc -pipe -mcpu=power -Wa,-many" \
CXXFLAGS="-felide-constructors -fno-exceptions -fno-rtti" \
./configure --prefix=/usr/local/mysql --with-low-memory
</PRE>

<P>
The <CODE>-Wa,-many</CODE> is necessary for the compile to be successful.  IBM is
aware of this problem but is in to hurry to fix it because of the workaround
available.  We don't know if the <CODE>-fno-exceptions</CODE> is required with 
<CODE>gcc 2.95</CODE>, but as MySQL doesn't use exceptions and the above 
option generates faster code, we recommend that you should always use this 
option with <CODE>egcs / gcc</CODE>.

</P>
<P>
If you get a problem with assembler code try changing the -mcpu=xxx to
match your cpu. Typically power2, power, or powerpc may need to be used,
alternatively you might need to use 604 or 604e. I'm not positive but I
would think using "power" would likely be safe most of the time, even on
a power2 machine.

</P>
<P>
If you don't know what your cpu is then do a "uname -m", this will give
you back a string that looks like "000514676700", with a format of
xxyyyyyymmss where xx and ss are always 0's, yyyyyy is a unique system
id and mm is the id of the CPU Planar. A chart of these values can be
found at
<a HREF="http://www.rs6000.ibm.com/doc_link/en_US/a_doc_lib/cmds/aixcmds5/uname.htm">http://www.rs6000.ibm.com/doc_link/en_US/a_doc_lib/cmds/aixcmds5/uname.htm</a>.
This will give you a machine type and a machine model you can use to
determine what type of cpu you have.

</P>
<P>
If you have problems with signals (MySQL dies unexpectedly
under high load) you may have found an OS bug with threads and
signals.  In this case you can tell MySQL not to use signals by
configuring with:

</P>

<PRE>
shell&#62; CFLAGS=-DDONT_USE_THR_ALARM CXX=gcc \
       CXXFLAGS="-felide-constructors -fno-exceptions -fno-rtti -DDONT_USE_THR_ALARM" \
       ./configure --prefix=/usr/local/mysql --with-debug --with-low-memory
</PRE>

<P>
This doesn't affect the performance of MySQL, but has the side
effect that you can't kill clients that are ``sleeping'' on a connection with
<CODE>mysqladmin kill</CODE> or <CODE>mysqladmin shutdown</CODE>.  Instead, the client
will die when it issues its next command.

</P>
<P>
On some versions of AIX, linking with <CODE>libbind.a</CODE> makes
<CODE>getservbyname</CODE> core dump.  This is an AIX bug and should be reported
to IBM.

</P>
<P>
For AIX 4.2.1 and gcc you have to do the following changes.

</P>
<P>
After configuring, edit <TT>`config.h'</TT> and <TT>`include/my_config.h'</TT>
and change the line that says

</P>

<PRE>
#define HAVE_SNPRINTF 1
</PRE>

<P>
to

</P>

<PRE>
#undef HAVE_SNPRINTF
</PRE>

<P>
And finally, in <TT>`mysqld.cc'</TT> you need to add a prototype for initgoups.

</P>

<PRE>
#ifdef _AIX41
extern "C" int initgroups(const char *,int);
#endif
</PRE>



<H4><A NAME="SunOS" HREF="manual_toc.html#SunOS">2.6.6.5  SunOS 4 Notes</A></H4>

<P>
On SunOS 4, MIT-pthreads is needed to compile MySQL, which in turn
means you will need GNU <CODE>make</CODE>.

</P>
<P>
Some SunOS 4 systems have problems with dynamic libraries and <CODE>libtool</CODE>.
You can use the following <CODE>configure</CODE> line to avoid this problem:

</P>

<PRE>
shell&#62; ./configure --disable-shared --with-mysqld-ldflags=-all-static
</PRE>

<P>
When compiling <CODE>readline</CODE>, you may get warnings about duplicate defines.
These may be ignored.

</P>
<P>
When compiling <CODE>mysqld</CODE>, there will be some <CODE>implicit declaration
of function</CODE> warnings. These may be ignored.

</P>



<H4><A NAME="Alpha-DEC-UNIX" HREF="manual_toc.html#Alpha-DEC-UNIX">2.6.6.6  Alpha-DEC-UNIX Notes (Tru64)</A></H4>

<P>
If you are using egcs 1.1.2 on Digital Unix, you should upgrade to gcc
2.95.2, as egcs on DEC has some serious bugs!

</P>
<P>
When compiling threaded programs under Digital Unix, the documentation
recommends using the <CODE>-pthread</CODE> option for <CODE>cc</CODE> and <CODE>cxx</CODE> and
the libraries <CODE>-lmach -lexc</CODE> (in addition to <CODE>-lpthread</CODE>).  You
should run <CODE>configure</CODE> something like this:

</P>

<PRE>
CC="cc -pthread" CXX="cxx -pthread -O" \
./configure --with-named-thread-libs="-lpthread -lmach -lexc -lc"
</PRE>

<P>
When compiling <CODE>mysqld</CODE>, you may see a couple of warnings like this:

</P>

<PRE>
mysqld.cc: In function void handle_connections()':
mysqld.cc:626: passing long unsigned int *' as argument 3 of
accept(int,sockadddr *, int *)'
</PRE>

<P>
You can safely ignore these warnings.  They occur because <CODE>configure</CODE>
can detect only errors, not warnings.

</P>
<P>
If you start the server directly from the command line, you may have problems
with it dying when you log out.  (When you log out, your outstanding processes
receive a <CODE>SIGHUP</CODE> signal.)  If so, try starting the server like this:

</P>

<PRE>
shell&#62; nohup mysqld [options] &#38;
</PRE>

<P>
<CODE>nohup</CODE> causes the command following it to ignore any <CODE>SIGHUP</CODE>
signal sent from the terminal.  Alternatively, start the server by running
<CODE>safe_mysqld</CODE>, which invokes <CODE>mysqld</CODE> using <CODE>nohup</CODE> for you.
See section <A HREF="manual.html#safe_mysqld">4.7.2  safe_mysqld, the wrapper around mysqld</A>.

</P>
<P>
If you get a problem when compiling mysys/get_opt.c, just remove the
line #define _NO_PROTO from the start of that file!

</P>
<P>
If you are using Compac's CC compiler, the following configure line should
work:

</P>

<PRE>
CC="cc -pthread"
CFLAGS="-O4 -ansi_alias -ansi_args -fast -inline speed all -arch host"
CXX="cxx -pthread"
CXXFLAGS="-O4 -ansi_alias -ansi_args -fast -inline speed all -arch host"
export CC CFLAGS CXX CXXFLAGS
./configure \
--prefix=/usr/local/mysql \
--with-low-memory \
--enable-large-files \
--enable-shared=yes \
--with-named-thread-libs="-lpthread -lmach -lexc -lc"
gnumake
</PRE>

<P>
If you get a problem with libtool, when compiling with shared libraries
as above, when linking <CODE>mysql</CODE>, you should be able to get around
this by issuing:

</P>

<PRE>
cd mysql
/bin/sh ../libtool --mode=link cxx -pthread  -O3 -DDBUG_OFF \
-O4 -ansi_alias -ansi_args -fast -inline speed \
-speculate all \ -arch host  -DUNDEF_HAVE_GETHOSTBYNAME_R \
-o mysql  mysql.o readline.o sql_string.o completion_hash.o \
../readline/libreadline.a -lcurses \
../libmysql/.libs/libmysqlclient.so  -lm
cd ..
gnumake
gnumake install
scripts/mysql_install_db
</PRE>



<H4><A NAME="Alpha-DEC-OSF1" HREF="manual_toc.html#Alpha-DEC-OSF1">2.6.6.7  Alpha-DEC-OSF1 Notes</A></H4>

<P>
If you have problems compiling and have DEC <CODE>CC</CODE> and <CODE>gcc</CODE>
installed, try running <CODE>configure</CODE> like this:

</P>

<PRE>
CC=cc CFLAGS=-O CXX=gcc CXXFLAGS=-O3 \
./configure --prefix=/usr/local/mysql
</PRE>

<P>
If you get problems with the <TT>`c_asm.h'</TT> file, you can create and use
a 'dummy' <TT>`c_asm.h'</TT> file with:

</P>

<PRE>
touch include/c_asm.h
CC=gcc CFLAGS=-I./include \
CXX=gcc CXXFLAGS=-O3 \
./configure --prefix=/usr/local/mysql
</PRE>

<P>
Note that the following problems with the <CODE>ld</CODE> program can be fixed
by downloading the latest DEC (Compaq) patch kit from:
<a HREF="http://ftp.support.compaq.com/public/unix/">http://ftp.support.compaq.com/public/unix/</a>.

</P>
<P>
On OSF1 V4.0D and compiler "DEC C V5.6-071 on Digital Unix V4.0 (Rev. 878)"
the compiler had some strange behavior (undefined <CODE>asm</CODE> symbols).
<CODE>/bin/ld</CODE> also appears to be broken (problems with <CODE>_exit
undefined</CODE> errors occuring while linking <CODE>mysqld</CODE>).  On this system, we
have managed to compile MySQL with the following <CODE>configure</CODE>
line, after replacing <CODE>/bin/ld</CODE> with the version from OSF 4.0C:

</P>

<PRE>
CC=gcc CXX=gcc CXXFLAGS=-O3 ./configure --prefix=/usr/local/mysql
</PRE>

<P>
With the Digital compiler "C++ V6.1-029", the following should work:

</P>

<PRE>
CC=cc -pthread
CFLAGS=-O4 -ansi_alias -ansi_args -fast -inline speed -speculate all -arch host
CXX=cxx -pthread
CXXFLAGS=-O4 -ansi_alias -ansi_args -fast -inline speed -speculate all -arch host -noexceptions -nortti
export CC CFLAGS CXX CXXFLAGS
./configure --prefix=/usr/mysql/mysql --with-mysqld-ldflags=-all-static --disable-shared --with-named-thread-libs="-lmach -lexc -lc"
</PRE>

<P>
In some versions of OSF1, the <CODE>alloca()</CODE> function is broken. Fix
this by removing the line in <TT>`config.h'</TT> that defines <CODE>'HAVE_ALLOCA'</CODE>.

</P>
<P>
The <CODE>alloca()</CODE> function also may have an incorrect prototype in
<CODE>/usr/include/alloca.h</CODE>.  This warning resulting from this can be ignored.

</P>
<P>
<CODE>configure</CODE> will use the following thread libraries automatically:
<CODE>--with-named-thread-libs="-lpthread -lmach -lexc -lc"</CODE>.

</P>
<P>
When using <CODE>gcc</CODE>, you can also try running <CODE>configure</CODE> like this:

</P>

<PRE>
shell&#62; CFLAGS=-D_PTHREAD_USE_D4 CXX=gcc CXXFLAGS=-O3 ./configure ....
</PRE>

<P>
If you have problems with signals (MySQL dies unexpectedly
under high load), you may have found an OS bug with threads and
signals. In this case you can tell MySQL not to use signals by
configuring with:

</P>

<PRE>
shell&#62; CFLAGS=-DDONT_USE_THR_ALARM \
       CXXFLAGS=-DDONT_USE_THR_ALARM \
       ./configure ...
</PRE>

<P>
This doesn't affect the performance of MySQL, but has the side
effect that you can't kill clients that are ``sleeping'' on a connection with
<CODE>mysqladmin kill</CODE> or <CODE>mysqladmin shutdown</CODE>.  Instead, the client
will die when it issues its next command.

</P>
<P>
With <CODE>gcc</CODE> 2.95.2, you will probably run into the following compile error:

</P>

<PRE>
sql_acl.cc:1456: Internal compiler error in `scan_region', at except.c:2566
Please submit a full bug report.
</PRE>

<P>
To fix this you should change to the <CODE>sql</CODE> directory and do a ``cut
and paste'' of the last <CODE>gcc</CODE> line, but change <CODE>-O3</CODE> to
<CODE>-O0</CODE> (or add <CODE>-O0</CODE> immediately after <CODE>gcc</CODE> if you don't
have any <CODE>-O</CODE> option on your compile line).  After this is done you
can just change back to the top-level directly and run <CODE>make</CODE>
again.

</P>



<H4><A NAME="SGI-Irix" HREF="manual_toc.html#SGI-Irix">2.6.6.8  SGI Irix Notes</A></H4>

<P>
If you are using Irix Version 6.5.3 or newer <CODE>mysqld</CODE> will only be able to
create threads if you run it as a user with <CODE>CAP_SCHED_MGT</CODE>
privileges (like <CODE>root</CODE>) or give the <CODE>mysqld</CODE> server this privilege
with the following shell command:

</P>

<PRE>
shell&#62; chcap "CAP_SCHED_MGT+epi" /opt/mysql/libexec/mysqld
</PRE>

<P>
You may have to undefine some things in <TT>`config.h'</TT> after running
<CODE>configure</CODE> and before compiling.

</P>
<P>
In some Irix implementations, the <CODE>alloca()</CODE> function is broken.  If the
<CODE>mysqld</CODE> server dies on some <CODE>SELECT</CODE> statements, remove the lines
from <TT>`config.h'</TT> that define <CODE>HAVE_ALLOC</CODE> and <CODE>HAVE_ALLOCA_H</CODE>.
If <CODE>mysqladmin create</CODE> doesn't work, remove the line from <TT>`config.h'</TT>
that defines <CODE>HAVE_READDIR_R</CODE>.  You may have to remove the 
<CODE>HAVE_TERM_H</CODE> line as well.

</P>
<P>
SGI recommends that you install all of the patches on this page as a set:
http://support.sgi.com/surfzone/patches/patchset/6.2_indigo.rps.html

</P>
<P>
At the very minimum, you should install the latest kernel rollup, the
latest <CODE>rld</CODE> rollup, and the latest <CODE>libc</CODE> rollup.

</P>
<P>
You definitely need all the POSIX patches on this page, for pthreads support:

</P>
<P>
<a HREF="http://support.sgi.com/surfzone/patches/patchset/6.2_posix.rps.html">http://support.sgi.com/surfzone/patches/patchset/6.2_posix.rps.html</a>

</P>
<P>
If you get the something like the following error when compiling
<TT>`mysql.cc'</TT>:

</P>

<PRE>
"/usr/include/curses.h", line 82: error(1084): invalid combination of type
</PRE>

<P>
Type the following in the top-level directory of your MySQL source
tree:

</P>

<PRE>
shell&#62; extra/replace bool curses_bool &#60; /usr/include/curses.h &#62; include/curses.h
shell&#62; make
</PRE>

<P>
There have also been reports of scheduling problems.  If only one thread is
running, things go slow.  Avoid this by starting another client.  This may 
lead to a 2-to-10-fold increase in execution speed thereafter for the other
thread.  This is a poorly understood problem with Irix threads; you may have
to improvise to find solutions until this can be fixed.

</P>
<P>
If you are compiling with <CODE>gcc</CODE>, you can use the following
<CODE>configure</CODE> command:

</P>

<PRE>
CC=gcc CXX=gcc CXXFLAGS=-O3 \
./configure --prefix=/usr/local/mysql --enable-thread-safe-client --with-named-thread-libs=-lpthread
</PRE>

<P>
On Irix 6.5.11 with native Irix C and C++ compilers ver. 7.3.1.2, the
following is reported to work

</P>

<PRE>
CC=cc CXX=CC CFLAGS='-O3 -n32 -TARG:platform=IP22 -I/usr/local/include \
-L/usr/local/lib' CXXFLAGS='-O3 -n32 -TARG:platform=IP22 \
-I/usr/local/include -L/usr/local/lib' ./configure --prefix=/usr/local/mysql \
--with-berkeley-db --with-innodb \
--with-libwrap=/usr/local --with-named-curses-libs=/usr/local/lib/libncurses.a
</PRE>



<H4><A NAME="SCO" HREF="manual_toc.html#SCO">2.6.6.9  SCO Notes</A></H4>

<P>
The current port is tested only on a ``sco3.2v5.0.4'' and
``sco3.2v5.0.5'' system.  There has also been a lot of progress on a
port to ``sco 3.2v4.2''.

</P>
<P>
For the moment the recommended compiler on OpenServer is gcc 2.95.2.  With this
you should be able to compile MySQL with just:

</P>

<PRE>
CC=gcc CXX=gcc ./configure ... (options)
</PRE>


<OL>
<LI>

For OpenServer 5.0.X you need to use GDS in Skunkware 95 (95q4c).  This
is necessary because GNU <CODE>gcc</CODE> 2.7.2 in Skunkware 97 does not have
GNU <CODE>as</CODE>.  You can also use <CODE>egcs</CODE> 1.1.2 or newer
<a HREF="http://www.egcs.com/">http://www.egcs.com/</a>.  If you are using <CODE>egcs</CODE> 1.1.2 you have
to execute the following command:


<PRE>
shell&#62; cp -p /usr/include/pthread/stdtypes.h /usr/local/lib/gcc-lib/i386-pc-sco3.2v5.0.5/egcs-2.91.66/include/pthread/
</PRE>

<LI>

You need the port of GCC 2.5.x for this product and the Development
system.  They are required on this version of SCO Unix.  You cannot
just use the GCC Dev system.

<LI>

You should get the FSU Pthreads package and install it first.  This can be
found at
<a HREF="http://www.cs.wustl.edu/~schmidt/ACE_wrappers/FSU-threads.tar.gz">http://www.cs.wustl.edu/~schmidt/ACE_wrappers/FSU-threads.tar.gz</a>.
You can also get a precompiled package from
<a HREF="http://www.mysql.com/Downloads/SCO/FSU-threads-3.5c.tar.gz">http://www.mysql.com/Downloads/SCO/FSU-threads-3.5c.tar.gz</a>.

<LI>

FSU Pthreads can be compiled with SCO Unix 4.2 with tcpip.  Or
OpenServer 3.0 or Open Desktop 3.0 (OS 3.0 ODT 3.0), with the SCO
Development System installed using a good port of GCC 2.5.x ODT or OS
3.0 you will need a good port of GCC 2.5.x There are a lot of problems
without a good port.  The port for this product requires the SCO Unix
Development system.  Without it, you are missing the libraries and the
linker that is needed.

<LI>

To build FSU Pthreads on your system, do the following:


<OL>
<LI>

Run <CODE>./configure</CODE> in the <TT>`threads/src'</TT> directory and select
the SCO OpenServer option. This command copies <TT>`Makefile.SCO5'</TT> to
<TT>`Makefile'</TT>.

<LI>

Run <CODE>make</CODE>.

<LI>

To install in the default <TT>`/usr/include'</TT> directory, login as root,
then <CODE>cd</CODE> to the <TT>`thread/src'</TT> directory, and run <CODE>make
install</CODE>.
</OL>

<LI>

Remember to use GNU <CODE>make</CODE> when making MySQL.

<LI>

If you don't start <CODE>safe_mysqld</CODE> as root, you probably will get only the
default 110 open files per process.  <CODE>mysqld</CODE> will write a note about this
in the log file.

<LI>

With SCO 3.2V5.0.5, you should use FSU Pthreads version 3.5c or newer.
You should also use gcc 2.95.2 or newer!

The following <CODE>configure</CODE> command should work:


<PRE>
shell&#62; ./configure --prefix=/usr/local/mysql --disable-shared
</PRE>

<LI>

With SCO 3.2V4.2, you should use FSU Pthreads version 3.5c or newer.
The following <CODE>configure</CODE> command should work:


<PRE>
shell&#62; CFLAGS="-D_XOPEN_XPG4" CXX=gcc CXXFLAGS="-D_XOPEN_XPG4" \
       ./configure \
           --prefix=/usr/local/mysql \
           --with-named-thread-libs="-lgthreads -lsocket -lgen -lgthreads" \
           --with-named-curses-libs="-lcurses"
</PRE>

You may get some problems with some include files. In this case, you can
find new SCO-specific include files at
<a HREF="http://www.mysql.com/Downloads/SCO/SCO-3.2v4.2-includes.tar.gz">http://www.mysql.com/Downloads/SCO/SCO-3.2v4.2-includes.tar.gz</a>.
You should unpack this file in the <TT>`include'</TT> directory of your 
MySQL source tree.
</OL>

<P>
SCO development notes:

</P>

<UL>
<LI>

MySQL should automatically detect FSU Pthreads and link <CODE>mysqld</CODE>
with <CODE>-lgthreads -lsocket -lgthreads</CODE>.

<LI>

The SCO development libraries are re-entrant in FSU Pthreads.  SCO claims
that its libraries' functions are re-entrant, so they must be reentrant with
FSU Pthreads.  FSU Pthreads on OpenServer tries to use the SCO scheme to
make re-entrant libraries.

<LI>

FSU Pthreads (at least the version at <a HREF="http://www.mysql.com/">http://www.mysql.com/</a>) comes 
linked with GNU <CODE>malloc</CODE>.  If you encounter problems with memory usage, 
make sure that <TT>`gmalloc.o'</TT> is included in <TT>`libgthreads.a'</TT> and 
<TT>`libgthreads.so'</TT>.

<LI>

In FSU Pthreads, the following system calls are pthreads-aware: <CODE>read()</CODE>,
<CODE>write()</CODE>, <CODE>getmsg()</CODE>, <CODE>connect()</CODE>, <CODE>accept()</CODE>,
<CODE>select()</CODE>, and <CODE>wait()</CODE>.
</UL>

<P>
If you want to install DBI on SCO, you have to edit the <TT>`Makefile'</TT> in
DBI-xxx and each subdirectory.

</P>
<P>
Note that the following assumes gcc 2.95.2 or newer:

</P>

<PRE>
OLD:                                  NEW:
CC = cc                               CC = gcc
CCCDLFLAGS = -KPIC -W1,-Bexport       CCCDLFLAGS = -fpic
CCDLFLAGS = -wl,-Bexport              CCDLFLAGS =

LD = ld                               LD = gcc -G -fpic
LDDLFLAGS = -G -L/usr/local/lib       LDDLFLAGS = -L/usr/local/lib
LDFLAGS = -belf -L/usr/local/lib      LDFLAGS = -L/usr/local/lib

LD = ld                               LD = gcc -G -fpic
OPTIMISE = -Od                        OPTIMISE = -O1

OLD:
CCCFLAGS = -belf -dy -w0 -U M_XENIX -DPERL_SCO5 -I/usr/local/include

NEW:
CCFLAGS = -U M_XENIX -DPERL_SCO5 -I/usr/local/include
</PRE>

<P>
This is because the Perl dynaloader will not load the <CODE>DBI</CODE> modules
if they were compiled with <CODE>icc</CODE> or <CODE>cc</CODE>.

</P>
<P>
Perl works best when compiled with <CODE>cc</CODE>.

</P>



<H4><A NAME="SCO_Unixware" HREF="manual_toc.html#SCO_Unixware">2.6.6.10  SCO Unixware Version 7.0 Notes</A></H4>

<P>
You must use a version of MySQL at least as recent as Version 3.22.13
because that version fixes some portability problems under Unixware.

</P>
<P>
We have been able to compile MySQL with the following <CODE>configure</CODE>
command on Unixware Version 7.0.1:

</P>

<PRE>
CC=cc CXX=CC ./configure --prefix=/usr/local/mysql
</PRE>

<P>
If you want to use <CODE>gcc</CODE>, you must use <CODE>gcc</CODE> 2.95.2 or newer.

</P>



<H3><A NAME="OS_2" HREF="manual_toc.html#OS_2">2.6.7  OS/2 Notes</A></H3>

<P>
MySQL uses quite a few open files. Because of this, you should add
something like the following to your <TT>`CONFIG.SYS'</TT> file:

</P>

<PRE>
SET EMXOPT=-c -n -h1024
</PRE>

<P>
If you don't do this, you will probably run into the following error:

</P>

<PRE>
File 'xxxx' not found (Errcode: 24)
</PRE>

<P>
When using MySQL with OS/2 Warp 3, FixPack 29 or above is
required.  With OS/2 Warp 4, FixPack 4 or above is required. This is a
requirement of the Pthreads library.  MySQL must be installed
in a partition that supports long filenames such as HPFS, FAT32, etc.

</P>
<P>
The <TT>`INSTALL.CMD'</TT> script must be run from OS/2's own <TT>`CMD.EXE'</TT>
and may not work with replacement shells such as <TT>`4OS2.EXE'</TT>.

</P>
<P>
The <TT>`scripts/mysql-install-db'</TT> script has been renamed.  It is now called
<TT>`install.cmd'</TT> and is a REXX script, which will set up the default
MySQL security settings and create the WorkPlace Shell icons
for MySQL.

</P>
<P>
Dynamic module support is compiled in but not fully tested. Dynamic
modules should be compiled using the Pthreads run-time library.

</P>

<PRE>
gcc -Zdll -Zmt -Zcrtdll=pthrdrtl -I../include -I../regex -I.. \
    -o example udf_example.cc -L../lib -lmysqlclient udf_example.def
mv example.dll example.udf
</PRE>

<P>
<STRONG>Note:</STRONG> Due to limitations in OS/2, UDF module name stems must not
exceed 8 characters. Modules are stored in the <TT>`/mysql2/udf'</TT>
directory; the <CODE>safe-mysqld.cmd</CODE> script will put this directory in
the <CODE>BEGINLIBPATH</CODE> environment variable. When using UDF modules,
specified extensions are ignored -- it is assumed to be <TT>`.udf'</TT>.
For example, in Unix, the shared module might be named <TT>`example.so'</TT>
and you would load a function from it like this:

</P>

<PRE>
mysql&#62; CREATE FUNCTION metaphon RETURNS STRING SONAME "example.so";
</PRE>

<P>
Is OS/2, the module would be named <TT>`example.udf'</TT>, but you would not
specify the module extension:

</P>

<PRE>
mysql&#62; CREATE FUNCTION metaphon RETURNS STRING SONAME "example";
</PRE>



<H3><A NAME="BeOS" HREF="manual_toc.html#BeOS">2.6.8  BeOS Notes</A></H3>

<P>
We are really interested in getting MySQL to work on BeOS, but
unfortunately we don't have any person who knows BeOS or has time to do 
a port.

</P>
<P>
We are interested in finding someone to do a port, and we will help them
with any technical questions they may have while doing the port.

</P>
<P>
We have previously talked with some BeOS developers that have said that
MySQL is 80% ported to BeOS, but we haven't heard from them
in a while.

</P>



<H3><A NAME="Novell_Netware" HREF="manual_toc.html#Novell_Netware">2.6.9  Novell Netware Notes</A></H3>

<P>
We are really interested in getting MySQL to work on Netware, but
unfortunately we don't have any person who knows Netware or has time to do 
a port.

</P>
<P>
We are interested in finding someone to do a port, and we will help them
with any technical questions they may have while doing the port.

</P>



<H1><A NAME="Tutorial" HREF="manual_toc.html#Tutorial">3  Introduction to MySQL: A MySQL Tutorial</A></H1>

<P>
<A NAME="IDX338"></A>
<A NAME="IDX339"></A>
<A NAME="IDX340"></A>
<A NAME="IDX341"></A>

</P>

<P>
This chapter provides a tutorial introduction to MySQL by showing
how to use the <CODE>mysql</CODE> client program to create and use a simple
database.  <CODE>mysql</CODE> (sometimes referred to as the ``terminal monitor'' or
just ``monitor'') is an interactive program that allows you to connect to a
MySQL server, run queries, and view the results.  <CODE>mysql</CODE> may
also be used in batch mode: you place your queries in a file beforehand, then
tell <CODE>mysql</CODE> to execute the contents of the file.  Both ways of using
<CODE>mysql</CODE> are covered here.

</P>
<P>
To see a list of options provided by <CODE>mysql</CODE>, invoke it with
the <CODE>--help</CODE> option:

</P>

<PRE>
shell&#62; mysql --help
</PRE>

<P>
This chapter assumes that <CODE>mysql</CODE> is installed on your machine and that
a MySQL server is available to which you can connect.  If this is
not true, contact your MySQL administrator.  (If <EM>you</EM> are the
administrator, you will need to consult other sections of this manual.)

</P>
<P>
This chapter describes the entire process of setting up and using a
database.  If you are interested only in accessing an already-existing
database, you may want to skip over the sections that describe how to
create the database and the tables it contains.

</P>
<P>
Because this chapter is tutorial in nature, many details are necessarily left
out.  Consult the relevant sections of the manual for more
information on the topics covered here.

</P>



<H2><A NAME="Connecting-disconnecting" HREF="manual_toc.html#Connecting-disconnecting">3.1  Connecting to and Disconnecting from the Server</A></H2>

<P>
<A NAME="IDX342"></A>
<A NAME="IDX343"></A>
<A NAME="IDX344"></A>
<A NAME="IDX345"></A>

</P>
<P>
To connect to the server, you'll usually need to provide a MySQL
user name when you invoke <CODE>mysql</CODE> and, most likely, a password.  If the
server runs on a machine other than the one where you log in, you'll also
need to specify a hostname.  Contact your administrator to find out what
connection parameters you should use to connect (that is, what host, user name,
and password to use).  Once you know the proper parameters, you should be
able to connect like this:

</P>

<PRE>
shell&#62; mysql -h host -u user -p
Enter password: ********
</PRE>

<P>
The <CODE>********</CODE> represents your password; enter it when <CODE>mysql</CODE>
displays the <CODE>Enter password:</CODE> prompt.

</P>
<P>
If that works, you should see some introductory information followed by a
<CODE>mysql&#62;</CODE> prompt:

</P>


<PRE>
shell&#62; mysql -h host -u user -p
Enter password: ********
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 459 to server version: 3.22.20a-log

Type 'help' for help.

mysql&#62;
</PRE>

<P>
The prompt tells you that <CODE>mysql</CODE> is ready for you to enter commands.

</P>
<P>
Some MySQL installations allow users to connect as the anonymous
(unnamed) user to the server running on the local host.  If this is the case
on your machine, you should be able to connect to that server by invoking
<CODE>mysql</CODE> without any options:

</P>

<PRE>
shell&#62; mysql
</PRE>

<P>
After you have connected successfully, you can disconnect any time by typing
<CODE>QUIT</CODE> at the <CODE>mysql&#62;</CODE> prompt:

</P>

<PRE>
mysql&#62; QUIT
Bye
</PRE>

<P>
You can also disconnect by pressing Control-D.

</P>
<P>
Most examples in the following sections assume you are connected to the
server.  They indicate this by the <CODE>mysql&#62;</CODE> prompt.

</P>



<H2><A NAME="Entering_queries" HREF="manual_toc.html#Entering_queries">3.2  Entering Queries</A></H2>

<P>
<A NAME="IDX346"></A>
<A NAME="IDX347"></A>
<A NAME="IDX348"></A>

</P>
<P>
Make sure you are connected to the server, as discussed in the previous
section.  Doing so will not in itself select any database to work with, but
that's okay.  At this point, it's more important to find out a little about
how to issue queries than to jump right in creating tables, loading data
into them, and retrieving data from them.  This section describes the basic
principles of entering commands, using several queries you can try out to
familiarize yourself with how <CODE>mysql</CODE> works.

</P>
<P>
Here's a simple command that asks the server to tell you its version number
and the current date.  Type it in as shown below following the <CODE>mysql&#62;</CODE>
prompt and hit the RETURN key:

</P>

<PRE>
mysql&#62; SELECT VERSION(), CURRENT_DATE;
+--------------+--------------+
| version()    | CURRENT_DATE |
+--------------+--------------+
| 3.22.20a-log | 1999-03-19   |
+--------------+--------------+
1 row in set (0.01 sec)
mysql&#62;
</PRE>

<P>
This query illustrates several things about <CODE>mysql</CODE>:

</P>

<UL>
<LI>

A command normally consists of a SQL statement followed by a semicolon.
(There are some exceptions where a semicolon is not needed.  <CODE>QUIT</CODE>,
mentioned earlier, is one of them.  We'll get to others later.)

<LI>

When you issue a command, <CODE>mysql</CODE> sends it to the server for execution
and displays the results, then prints another <CODE>mysql&#62;</CODE> to indicate
that it is ready for another command.

<LI>

<CODE>mysql</CODE> displays query output as a table (rows and columns).  The first
row contains labels for the columns.  The rows following are the query
results.  Normally, column labels are the names of the columns you fetch from
database tables.  If you're retrieving the value of an expression rather than
a table column (as in the example just shown), <CODE>mysql</CODE> labels the column
using the expression itself.

<LI>

<CODE>mysql</CODE> shows how many rows were returned and how long the query took
to execute, which gives you a rough idea of server performance.  These values
are imprecise because they represent wall clock time (not CPU or machine
time), and because they are affected by factors such as server load and
network latency.  (For brevity, the ``rows in set'' line is not shown in
the remaining examples in this chapter.)
</UL>

<P>
Keywords may be entered in any lettercase.  The following queries are
equivalent:

</P>

<PRE>
mysql&#62; SELECT VERSION(), CURRENT_DATE;
mysql&#62; select version(), current_date;
mysql&#62; SeLeCt vErSiOn(), current_DATE;
</PRE>

<P>
Here's another query.  It demonstrates that you can use <CODE>mysql</CODE> as a
simple calculator:

</P>

<PRE>
mysql&#62; SELECT SIN(PI()/4), (4+1)*5;
+-------------+---------+
| SIN(PI()/4) | (4+1)*5 |
+-------------+---------+
|    0.707107 |      25 |
+-------------+---------+
</PRE>

<P>
The commands shown thus far have been relatively short, single-line
statements.  You can even enter multiple statements on a single line.
Just end each one with a semicolon:

</P>

<PRE>
mysql&#62; SELECT VERSION(); SELECT NOW();
+--------------+
| version()    |
+--------------+
| 3.22.20a-log |
+--------------+

+---------------------+
| NOW()               |
+---------------------+
| 1999-03-19 00:15:33 |
+---------------------+
</PRE>

<P>
A command need not be given all on a single line, so lengthy commands that
require several lines are not a problem.  <CODE>mysql</CODE> determines where your
statement ends by looking for the terminating semicolon, not by looking for
the end of the input line.  (In other words, <CODE>mysql</CODE>
accepts free-format input:  it collects input lines but does not execute them
until it sees the semicolon.)

</P>
<P>
Here's a simple multiple-line statement:

</P>

<PRE>
mysql&#62; SELECT
    -&#62; USER()
    -&#62; ,
    -&#62; CURRENT_DATE;
+--------------------+--------------+
| USER()             | CURRENT_DATE |
+--------------------+--------------+
| joesmith@localhost | 1999-03-18   |
+--------------------+--------------+
</PRE>

<P>
In this example, notice how the prompt changes from <CODE>mysql&#62;</CODE> to
<CODE>-&#62;</CODE> after you enter the first line of a multiple-line query.  This is
how <CODE>mysql</CODE> indicates that it hasn't seen a complete statement and is
waiting for the rest.  The prompt is your friend, because it provides
valuable feedback.  If you use that feedback, you will always be aware of
what <CODE>mysql</CODE> is waiting for.

</P>
<P>
If you decide you don't want to execute a command that you are in the
process of entering, cancel it by typing <CODE>\c</CODE>:

</P>

<PRE>
mysql&#62; SELECT
    -&#62; USER()
    -&#62; \c
mysql&#62;
</PRE>

<P>
Here, too, notice the prompt.  It switches back to <CODE>mysql&#62;</CODE> after you
type <CODE>\c</CODE>, providing feedback to indicate that <CODE>mysql</CODE> is ready
for a new command.

</P>
<P>
The following table shows each of the prompts you may see and summarizes what
they mean about the state that <CODE>mysql</CODE> is in:

</P>
<P>
<A NAME="IDX349"></A>
<TABLE BORDER WIDTH="100%">
<TR><TD><STRONG>Prompt</STRONG> </TD><TD> <STRONG>Meaning</STRONG>
</TD></TR>
<TR><TD><CODE>mysql&#62;</CODE> </TD><TD> Ready for new command.
</TD></TR>
<TR><TD><CODE>    -&#62;</CODE> </TD><TD> Waiting for next line of multiple-line command.
</TD></TR>
<TR><TD><CODE>    '&#62;</CODE> </TD><TD> Waiting for next line, collecting a string that begins
with a single quote (<SAMP>`''</SAMP>).
</TD></TR>
<TR><TD><CODE>    "&#62;</CODE> </TD><TD> Waiting for next line, collecting a string that begins
with a double quote (<SAMP>`"'</SAMP>).
</TD></TR>
</TABLE>

</P>
<P>
Multiple-line statements commonly occur by accident when you intend to
issue a command on a single line, but forget the terminating semicolon.  In
this case, <CODE>mysql</CODE> waits for more input:

</P>

<PRE>
mysql&#62; SELECT USER()
    -&#62;
</PRE>

<P>
If this happens to you (you think you've entered a statement but the only
response is a <CODE>-&#62;</CODE> prompt), most likely <CODE>mysql</CODE> is waiting for the
semicolon.  If you don't notice what the prompt is telling you, you might sit
there for a while before realizing what you need to do.  Enter a semicolon to
complete the statement, and <CODE>mysql</CODE> will execute it:

</P>

<PRE>
mysql&#62; SELECT USER()
    -&#62; ;
+--------------------+
| USER()             |
+--------------------+
| joesmith@localhost |
+--------------------+
</PRE>

<P>
The <CODE>'&#62;</CODE> and <CODE>"&#62;</CODE> prompts occur during string collection.
In MySQL, you can write strings surrounded by either <SAMP>`''</SAMP>
or <SAMP>`"'</SAMP> characters (for example, <CODE>'hello'</CODE> or <CODE>"goodbye"</CODE>),
and <CODE>mysql</CODE> lets you enter strings that span multiple lines.  When you
see a <CODE>'&#62;</CODE> or <CODE>"&#62;</CODE> prompt, it means that you've entered a line
containing a string that begins with a <SAMP>`''</SAMP> or <SAMP>`"'</SAMP> quote character,
but have not yet entered the matching quote that terminates the string.
That's fine if you really are entering a multiple-line string, but how likely
is that?  Not very.  More often, the <CODE>'&#62;</CODE> and <CODE>"&#62;</CODE> prompts indicate
that you've inadvertantly left out a quote character.  For example:

</P>

<PRE>
mysql&#62; SELECT * FROM my_table WHERE name = "Smith AND age &#60; 30;
    "&#62;
</PRE>

<P>
If you enter this <CODE>SELECT</CODE> statement, then hit RETURN and wait for the
result, nothing will happen.  Instead of wondering why this
query takes so long, notice the clue provided by the <CODE>"&#62;</CODE> prompt.  It
tells you that <CODE>mysql</CODE> expects to see the rest of an unterminated
string.  (Do you see the error in the statement?  The string <CODE>"Smith</CODE> is
missing the second quote.)

</P>
<P>
At this point, what do you do?  The simplest thing is to cancel the command.
However, you cannot just type <CODE>\c</CODE> in this case, because <CODE>mysql</CODE>
interprets it as part of the string that it is collecting!  Instead, enter
the closing quote character (so <CODE>mysql</CODE> knows you've finished the
string), then type <CODE>\c</CODE>:

</P>

<PRE>
mysql&#62; SELECT * FROM my_table WHERE name = "Smith AND age &#60; 30;
    "&#62; "\c
mysql&#62;
</PRE>

<P>
The prompt changes back to <CODE>mysql&#62;</CODE>, indicating that <CODE>mysql</CODE>
is ready for a new command.

</P>
<P>
It's important to know what the <CODE>'&#62;</CODE> and <CODE>"&#62;</CODE> prompts signify,
because if you mistakenly enter an unterminated string, any further lines you
type will appear to be ignored by <CODE>mysql</CODE> -- including a line
containing <CODE>QUIT</CODE>!  This can be quite confusing, especially if you
don't know that you need to supply the terminating quote before you can
cancel the current command.

</P>



<H2><A NAME="Database_use" HREF="manual_toc.html#Database_use">3.3  Creating and Using a Database</A></H2>

<P>
<A NAME="IDX350"></A>
<A NAME="IDX351"></A>
<A NAME="IDX352"></A>

</P>

<P>
Now that you know how to enter commands, it's time to access a database.

</P>
<P>
Suppose you have several pets in your home (your menagerie) and you'd
like to keep track of various types of information about them.  You can do so
by creating tables to hold your data and loading them with the desired
information.  Then you can answer different sorts of questions about your
animals by retrieving data from the tables.  This section shows you how to:

</P>

<UL>
<LI>

Create a database
<LI>

Create a table
<LI>

Load data into the table
<LI>

Retrieve data from the table in various ways
<LI>

Use multiple tables
</UL>

<P>
The menagerie database will be simple (deliberately), but it is not difficult
to think of real-world situations in which a similar type of database might
be used.  For example, a database like this could be used by a farmer to keep
track of livestock, or by a veterinarian to keep track of patient records.
A menagerie distribution containing some of the queries and sample data used
in the following sections can be obtained from the MySQL Web site.
It's available in either
<a HREF="http://www.mysql.com/Downloads/Contrib/Examples/menagerie.tar.gz">compressed <CODE>tar</CODE> format</a>
or
<a HREF="http://www.mysql.com/Downloads/Contrib/Examples/menagerie.zip">Zip format</a>.

</P>
<P>
Use the <CODE>SHOW</CODE> statement to find out what databases currently exist
on the server:

</P>

<PRE>
mysql&#62; SHOW DATABASES;
+----------+
| Database |
+----------+
| mysql    |
| test     |
| tmp      |
+----------+
</PRE>

<P>
The list of databases is probably different on your machine, but the
<CODE>mysql</CODE> and <CODE>test</CODE> databases are likely to be among them.  The
<CODE>mysql</CODE> database is required because it describes user access
privileges.  The <CODE>test</CODE> database is often provided as a workspace for
users to try things out.

</P>
<P>
If the <CODE>test</CODE> database exists, try to access it:

</P>

<PRE>
mysql&#62; USE test
Database changed
</PRE>

<P>
Note that <CODE>USE</CODE>, like <CODE>QUIT</CODE>, does not require a semicolon.  (You
can terminate such statements with a semicolon if you like; it does no harm.)
The <CODE>USE</CODE> statement is special in another way, too:  it must be given on
a single line.

</P>
<P>
You can use the <CODE>test</CODE> database (if you have access to it) for the
examples that follow, but anything you create in that database can be
removed by anyone else with access to it.  For this reason, you should
probably ask your MySQL administrator for permission to use a
database of your own.  Suppose you want to call yours <CODE>menagerie</CODE>.  The
administrator needs to execute a command like this:

</P>

<PRE>
mysql&#62; GRANT ALL ON menagerie.* TO your_mysql_name;
</PRE>

<P>
where <CODE>your_mysql_name</CODE> is the MySQL user name assigned to
you.

</P>



<H3><A NAME="Creating_database" HREF="manual_toc.html#Creating_database">3.3.1  Creating and Selecting a Database</A></H3>

<P>
<A NAME="IDX353"></A>
<A NAME="IDX354"></A>

</P>
<P>
If the administrator creates your database for you when setting up your
permissions, you can begin using it.  Otherwise, you need to create it
yourself:

</P>

<PRE>
mysql&#62; CREATE DATABASE menagerie;
</PRE>

<P>
Under Unix, database names are case sensitive (unlike SQL keywords), so you
must always refer to your database as <CODE>menagerie</CODE>, not as
<CODE>Menagerie</CODE>, <CODE>MENAGERIE</CODE>, or some other variant.  This is also true
for table names.  (Under Windows, this restriction does not apply, although
you must refer to databases and tables using the same lettercase throughout a
given query.)

</P>
<P>
Creating a database does not select it for use; you must do that explicitly.
To make <CODE>menagerie</CODE> the current database, use this command:

</P>

<PRE>
mysql&#62; USE menagerie
Database changed
</PRE>

<P>
Your database needs to be created only once, but you must select it for use
each time you begin a <CODE>mysql</CODE> session.  You can do this by issuing a
<CODE>USE</CODE> statement as shown above.  Alternatively, you can select the
database on the command line when you invoke <CODE>mysql</CODE>.  Just specify its
name after any connection parameters that you might need to provide.  For
example:

</P>

<PRE>
shell&#62; mysql -h host -u user -p menagerie
Enter password: ********
</PRE>

<P>
Note that <CODE>menagerie</CODE> is not your password on the command just shown.
If you want to supply your password on the command line after the <CODE>-p</CODE>
option, you must do so with no intervening space (for example, as
<CODE>-pmypassword</CODE>, not as <CODE>-p mypassword</CODE>).  However, putting your
password on the command line is not recommended, because doing so exposes it
to snooping by other users logged in on your machine.

</P>



<H3><A NAME="Creating_tables" HREF="manual_toc.html#Creating_tables">3.3.2  Creating a Table</A></H3>

<P>
<A NAME="IDX355"></A>
<A NAME="IDX356"></A>

</P>
<P>
Creating the database is the easy part, but at this point it's empty, as
<CODE>SHOW TABLES</CODE> will tell you:

</P>

<PRE>
mysql&#62; SHOW TABLES;
Empty set (0.00 sec)
</PRE>

<P>
The harder part is deciding what the structure of your database should be:
what tables you will need and what columns will be in each of them.

</P>
<P>
You'll want a table that contains a record for each of your pets.  This can
be called the <CODE>pet</CODE> table, and it should contain, as a bare minimum,
each animal's name.  Because the name by itself is not very interesting, the
table should contain other information.  For example, if more than one person
in your family keeps pets, you might want to list each animal's owner.  You
might also want to record some basic descriptive information such as species
and sex.

</P>
<P>
How about age?  That might be of interest, but it's not a good thing to store
in a database.  Age changes as time passes, which means you'd have to update
your records often.  Instead, it's better to store a fixed value such as
date of birth.  Then, whenever you need age, you can calculate it as the
difference between the current date and the birth date.  MySQL
provides functions for doing date arithmetic, so this is not difficult.
Storing birth date rather than age has other advantages, too:

</P>

<UL>
<LI>

You can use the database for tasks such as generating reminders for upcoming
pet birthdays.  (If you think this type of query is somewhat silly, note that
it is the same question you might ask in the context of a business database
to identify clients to whom you'll soon need to send out birthday greetings,
for that computer-assisted personal touch.)

<LI>

You can calculate age in relation to dates other than the current date.  For
example, if you store death date in the database, you can easily calculate
how old a pet was when it died.
</UL>

<P>
You can probably think of other types of information that would be useful in
the <CODE>pet</CODE> table, but the ones identified so far are sufficient for now:
name, owner, species, sex, birth, and death.

</P>
<P>
Use a <CODE>CREATE TABLE</CODE> statement to specify the layout of your table:

</P>

<PRE>
mysql&#62; CREATE TABLE pet (name VARCHAR(20), owner VARCHAR(20),
    -&#62; species VARCHAR(20), sex CHAR(1), birth DATE, death DATE);
</PRE>

<P>
<CODE>VARCHAR</CODE> is a good choice for the <CODE>name</CODE>, <CODE>owner</CODE>, and
<CODE>species</CODE> columns because the column values will vary in length.  The
lengths of those columns need not all be the same, and need not be
<CODE>20</CODE>.  You can pick any length from <CODE>1</CODE> to <CODE>255</CODE>, whatever
seems most reasonable to you.  (If you make a poor choice and it turns
out later that you need a longer field, MySQL provides an
<CODE>ALTER TABLE</CODE> statement.)

</P>
<P>
Animal sex can be represented in a variety of ways, for example, <CODE>"m"</CODE>
and <CODE>"f"</CODE>, or perhaps <CODE>"male"</CODE> and <CODE>"female"</CODE>.  It's simplest
to use the single characters <CODE>"m"</CODE> and <CODE>"f"</CODE>.

</P>
<P>
The use of the <CODE>DATE</CODE> data type for the <CODE>birth</CODE> and <CODE>death</CODE>
columns is a fairly obvious choice.

</P>
<P>
Now that you have created a table, <CODE>SHOW TABLES</CODE> should produce some
output:

</P>

<PRE>
mysql&#62; SHOW TABLES;
+---------------------+
| Tables in menagerie |
+---------------------+
| pet                 |
+---------------------+
</PRE>

<P>
To verify that your table was created the way you expected, use
a <CODE>DESCRIBE</CODE> statement:

</P>

<PRE>
mysql&#62; DESCRIBE pet;
+---------+-------------+------+-----+---------+-------+
| Field   | Type        | Null | Key | Default | Extra |
+---------+-------------+------+-----+---------+-------+
| name    | varchar(20) | YES  |     | NULL    |       |
| owner   | varchar(20) | YES  |     | NULL    |       |
| species | varchar(20) | YES  |     | NULL    |       |
| sex     | char(1)     | YES  |     | NULL    |       |
| birth   | date        | YES  |     | NULL    |       |
| death   | date        | YES  |     | NULL    |       |
+---------+-------------+------+-----+---------+-------+
</PRE>

<P>
You can use <CODE>DESCRIBE</CODE> any time, for example, if you forget the names of
the columns in your table or what types they are.

</P>



<H3><A NAME="Loading_tables" HREF="manual_toc.html#Loading_tables">3.3.3  Loading Data into a Table</A></H3>

<P>
<A NAME="IDX357"></A>
<A NAME="IDX358"></A>
<A NAME="IDX359"></A>

</P>
<P>
After creating your table, you need to populate it.  The <CODE>LOAD DATA</CODE> and
<CODE>INSERT</CODE> statements are useful for this.

</P>
<P>
Suppose your pet records can be described as shown below.
(Observe that MySQL expects dates in <CODE>YYYY-MM-DD</CODE> format;
this may be different than what you are used to.)

</P>
<TABLE BORDER WIDTH="100%">
<TR><TD><STRONG>name</STRONG> </TD><TD> <STRONG>owner</STRONG> </TD><TD> <STRONG>species</STRONG> </TD><TD> <STRONG>sex</STRONG> </TD><TD> <STRONG>birth</STRONG> </TD><TD> <STRONG>death</STRONG>
</TD></TR>
<TR><TD>Fluffy </TD><TD> Harold </TD><TD> cat </TD><TD> f </TD><TD> 1993-02-04 </TD><TD>
</TD></TR>
<TR><TD>Claws </TD><TD> Gwen </TD><TD> cat </TD><TD> m </TD><TD> 1994-03-17 </TD><TD>
</TD></TR>
<TR><TD>Buffy </TD><TD> Harold </TD><TD> dog </TD><TD> f </TD><TD> 1989-05-13 </TD><TD>
</TD></TR>
<TR><TD>Fang </TD><TD> Benny </TD><TD> dog </TD><TD> m </TD><TD> 1990-08-27 </TD><TD>
</TD></TR>
<TR><TD>Bowser </TD><TD> Diane </TD><TD> dog </TD><TD> m </TD><TD> 1998-08-31 </TD><TD> 1995-07-29
</TD></TR>
<TR><TD>Chirpy </TD><TD> Gwen </TD><TD> bird </TD><TD> f </TD><TD> 1998-09-11 </TD><TD>
</TD></TR>
<TR><TD>Whistler </TD><TD> Gwen </TD><TD> bird </TD><TD> </TD><TD> 1997-12-09 </TD><TD>
</TD></TR>
<TR><TD>Slim </TD><TD> Benny </TD><TD> snake </TD><TD> m </TD><TD> 1996-04-29 </TD><TD>
</TD></TR>
</TABLE>

<P>
Because you are beginning with an empty table, an easy way to populate it is to
create a text file containing a row for each of your animals, then load the
contents of the file into the table with a single statement.

</P>
<P>
You could create a text file <TT>`pet.txt'</TT> containing one record per line,
with values separated by tabs, and given in the order in which the columns
were listed in the <CODE>CREATE TABLE</CODE> statement.  For missing values (such
as unknown sexes or death dates for animals that are still living), you can
use <CODE>NULL</CODE> values.  To represent these in your text file, use
<CODE>\N</CODE>.  For example, the record for Whistler the bird would look like
this (where the whitespace between values is a single tab character):

</P>
<TABLE BORDER WIDTH="100%">
<TR><TD><CODE>Whistler</CODE> </TD><TD> <CODE>Gwen</CODE> </TD><TD> <CODE>bird</CODE> </TD><TD> <CODE>\N</CODE> </TD><TD> <CODE>1997-12-09</CODE> </TD><TD> <CODE>\N</CODE>
</TD></TR>
</TABLE>

<P>
To load the text file <TT>`pet.txt'</TT> into the <CODE>pet</CODE> table, use this
command:

</P>

<PRE>
mysql&#62; LOAD DATA LOCAL INFILE "pet.txt" INTO TABLE pet;
</PRE>

<P>
You can specify the column value separator and end of line marker explicitly
in the <CODE>LOAD DATA</CODE> statement if you wish, but the defaults are tab and
linefeed.  These are sufficient for the statement to read the file
<TT>`pet.txt'</TT> properly.

</P>
<P>
When you want to add new records one at a time, the <CODE>INSERT</CODE> statement
is useful.  In its simplest form, you supply values for each column, in the
order in which the columns were listed in the <CODE>CREATE TABLE</CODE> statement.
Suppose Diane gets a new hamster named Puffball.  You could add a new record
using an <CODE>INSERT</CODE> statement like this:

</P>

<PRE>
mysql&#62; INSERT INTO pet
    -&#62; VALUES ('Puffball','Diane','hamster','f','1999-03-30',NULL);
</PRE>

<P>
Note that string and date values are specified as quoted strings here.  Also,
with <CODE>INSERT</CODE>, you can insert <CODE>NULL</CODE> directly to represent a
missing value.  You do not use <CODE>\N</CODE> like you do with <CODE>LOAD DATA</CODE>.

</P>
<P>
From this example, you should be able to see that there would be a lot more
typing involved to load
your records initially using several <CODE>INSERT</CODE> statements rather
than a single <CODE>LOAD DATA</CODE> statement.

</P>



<H3><A NAME="Retrieving_data" HREF="manual_toc.html#Retrieving_data">3.3.4  Retrieving Information from a Table</A></H3>

<P>
<A NAME="IDX360"></A>
<A NAME="IDX361"></A>
<A NAME="IDX362"></A>
<A NAME="IDX363"></A>

</P>

<P>
The <CODE>SELECT</CODE> statement is used to pull information from a table.
The general form of the statement is:

</P>

<PRE>
SELECT what_to_select
FROM which_table
WHERE conditions_to_satisfy
</PRE>

<P>
<CODE>what_to_select</CODE> indicates what you want to see.  This can be a list of
columns, or <CODE>*</CODE> to indicate ``all columns.'' <CODE>which_table</CODE>
indicates the table from which you want to retrieve data.  The <CODE>WHERE</CODE>
clause is optional.  If it's present, <CODE>conditions_to_satisfy</CODE> specifies
conditions that rows must satisfy to qualify for retrieval.

</P>



<H4><A NAME="Selecting_all" HREF="manual_toc.html#Selecting_all">3.3.4.1  Selecting All Data</A></H4>

<P>
The simplest form of <CODE>SELECT</CODE> retrieves everything from a table:

</P>

<PRE>
mysql&#62; SELECT * FROM pet;
+----------+--------+---------+------+------------+------------+
| name     | owner  | species | sex  | birth      | death      |
+----------+--------+---------+------+------------+------------+
| Fluffy   | Harold | cat     | f    | 1993-02-04 | NULL       |
| Claws    | Gwen   | cat     | m    | 1994-03-17 | NULL       |
| Buffy    | Harold | dog     | f    | 1989-05-13 | NULL       |
| Fang     | Benny  | dog     | m    | 1990-08-27 | NULL       |
| Bowser   | Diane  | dog     | m    | 1998-08-31 | 1995-07-29 |
| Chirpy   | Gwen   | bird    | f    | 1998-09-11 | NULL       |
| Whistler | Gwen   | bird    | NULL | 1997-12-09 | NULL       |
| Slim     | Benny  | snake   | m    | 1996-04-29 | NULL       |
| Puffball | Diane  | hamster | f    | 1999-03-30 | NULL       |
+----------+--------+---------+------+------------+------------+
</PRE>

<P>
This form of <CODE>SELECT</CODE> is useful if you want to review your entire table,
for instance, after you've just loaded it with your initial dataset.  As it
happens, the output just shown reveals an error in your data file:  Bowser
appears to have been born after he died!  Consulting your original pedigree
papers, you find that the correct birth year is 1989, not 1998.

</P>
<P>
There are are least a couple of ways to fix this:

</P>

<UL>
<LI>

Edit the file <TT>`pet.txt'</TT> to correct the error, then empty the table
and reload it using <CODE>DELETE</CODE> and <CODE>LOAD DATA</CODE>:


<PRE>
mysql&#62; SET AUTOCOMMIT=1;  # Used for quick re-create of the table
mysql&#62; DELETE FROM pet;
mysql&#62; LOAD DATA LOCAL INFILE "pet.txt" INTO TABLE pet;
</PRE>

However, if you do this, you must also re-enter the record for Puffball.

<LI>

Fix only the erroneous record with an <CODE>UPDATE</CODE> statement:


<PRE>
mysql&#62; UPDATE pet SET birth = "1989-08-31" WHERE name = "Bowser";
</PRE>

</UL>

<P>
As shown above, it is easy to retrieve an entire table.  But typically you
don't want to do that, particularly when the table becomes large.  Instead,
you're usually more interested in answering a particular question, in which
case you specify some constraints on the information you want.  Let's look at
some selection queries in terms of questions about your pets that they
answer.

</P>



<H4><A NAME="Selecting_rows" HREF="manual_toc.html#Selecting_rows">3.3.4.2  Selecting Particular Rows</A></H4>

<P>
<A NAME="IDX364"></A>
<A NAME="IDX365"></A>

</P>
<P>
You can select only particular rows from your table.  For example, if you want
to verify the change that you made to Bowser's birth date, select Bowser's
record like this:

</P>

<PRE>
mysql&#62; SELECT * FROM pet WHERE name = "Bowser";
+--------+-------+---------+------+------------+------------+
| name   | owner | species | sex  | birth      | death      |
+--------+-------+---------+------+------------+------------+
| Bowser | Diane | dog     | m    | 1989-08-31 | 1995-07-29 |
+--------+-------+---------+------+------------+------------+
</PRE>

<P>
The output confirms that the year is correctly recorded now as 1989, not 1998.

</P>
<P>
String comparisons are normally case insensitive, so you can specify the
name as <CODE>"bowser"</CODE>, <CODE>"BOWSER"</CODE>, etc.  The query result will be
the same.

</P>
<P>
You can specify conditions on any column, not just <CODE>name</CODE>.  For example,
if you want to know which animals were born after 1998, test the <CODE>birth</CODE>
column:

</P>

<PRE>
mysql&#62; SELECT * FROM pet WHERE birth &#62;= "1998-1-1";
+----------+-------+---------+------+------------+-------+
| name     | owner | species | sex  | birth      | death |
+----------+-------+---------+------+------------+-------+
| Chirpy   | Gwen  | bird    | f    | 1998-09-11 | NULL  |
| Puffball | Diane | hamster | f    | 1999-03-30 | NULL  |
+----------+-------+---------+------+------------+-------+
</PRE>

<P>
You can combine conditions, for example, to locate female dogs:

</P>

<PRE>
mysql&#62; SELECT * FROM pet WHERE species = "dog" AND sex = "f";
+-------+--------+---------+------+------------+-------+
| name  | owner  | species | sex  | birth      | death |
+-------+--------+---------+------+------------+-------+
| Buffy | Harold | dog     | f    | 1989-05-13 | NULL  |
+-------+--------+---------+------+------------+-------+
</PRE>

<P>
The preceding query uses the <CODE>AND</CODE> logical operator.  There is also an
<CODE>OR</CODE> operator:

</P>

<PRE>
mysql&#62; SELECT * FROM pet WHERE species = "snake" OR species = "bird";
+----------+-------+---------+------+------------+-------+
| name     | owner | species | sex  | birth      | death |
+----------+-------+---------+------+------------+-------+
| Chirpy   | Gwen  | bird    | f    | 1998-09-11 | NULL  |
| Whistler | Gwen  | bird    | NULL | 1997-12-09 | NULL  |
| Slim     | Benny | snake   | m    | 1996-04-29 | NULL  |
+----------+-------+---------+------+------------+-------+
</PRE>

<P>
<CODE>AND</CODE> and <CODE>OR</CODE> may be intermixed.  If you do that, it's a good idea
to use parentheses to indicate how conditions should be grouped:

</P>

<PRE>
mysql&#62; SELECT * FROM pet WHERE (species = "cat" AND sex = "m")
    -&#62; OR (species = "dog" AND sex = "f");
+-------+--------+---------+------+------------+-------+
| name  | owner  | species | sex  | birth      | death |
+-------+--------+---------+------+------------+-------+
| Claws | Gwen   | cat     | m    | 1994-03-17 | NULL  |
| Buffy | Harold | dog     | f    | 1989-05-13 | NULL  |
+-------+--------+---------+------+------------+-------+
</PRE>



<H4><A NAME="Selecting_columns" HREF="manual_toc.html#Selecting_columns">3.3.4.3  Selecting Particular Columns</A></H4>

<P>
<A NAME="IDX366"></A>
<A NAME="IDX367"></A>

</P>
<P>
If you don't want to see entire rows from your table, just name the columns
in which you're interested, separated by commas.  For example, if you want to
know when your animals were born, select the <CODE>name</CODE> and <CODE>birth</CODE>
columns:

</P>

<PRE>
mysql&#62; SELECT name, birth FROM pet;
+----------+------------+
| name     | birth      |
+----------+------------+
| Fluffy   | 1993-02-04 |
| Claws    | 1994-03-17 |
| Buffy    | 1989-05-13 |
| Fang     | 1990-08-27 |
| Bowser   | 1989-08-31 |
| Chirpy   | 1998-09-11 |
| Whistler | 1997-12-09 |
| Slim     | 1996-04-29 |
| Puffball | 1999-03-30 |
+----------+------------+
</PRE>

<P>
To find out who owns pets, use this query:

</P>

<PRE>
mysql&#62; SELECT owner FROM pet;
+--------+
| owner  |
+--------+
| Harold |
| Gwen   |
| Harold |
| Benny  |
| Diane  |
| Gwen   |
| Gwen   |
| Benny  |
| Diane  |
+--------+
</PRE>

<P>
<A NAME="IDX368"></A>
However, notice that the query simply retrieves the <CODE>owner</CODE> field from
each record, and some of them appear more than once.  To minimize the output,
retrieve each unique output record just once by adding the keyword
<CODE>DISTINCT</CODE>:

</P>

<PRE>
mysql&#62; SELECT DISTINCT owner FROM pet;
+--------+
| owner  |
+--------+
| Benny  |
| Diane  |
| Gwen   |
| Harold |
+--------+
</PRE>

<P>
You can use a <CODE>WHERE</CODE> clause to combine row selection with column
selection.  For example, to get birth dates for dogs and cats only,
use this query:

</P>

<PRE>
mysql&#62; SELECT name, species, birth FROM pet
    -&#62; WHERE species = "dog" OR species = "cat";
+--------+---------+------------+
| name   | species | birth      |
+--------+---------+------------+
| Fluffy | cat     | 1993-02-04 |
| Claws  | cat     | 1994-03-17 |
| Buffy  | dog     | 1989-05-13 |
| Fang   | dog     | 1990-08-27 |
| Bowser | dog     | 1989-08-31 |
+--------+---------+------------+
</PRE>



<H4><A NAME="Sorting_rows" HREF="manual_toc.html#Sorting_rows">3.3.4.4  Sorting Rows</A></H4>

<P>
<A NAME="IDX369"></A>
<A NAME="IDX370"></A>
<A NAME="IDX371"></A>
<A NAME="IDX372"></A>

</P>
<P>
You may have noticed in the preceding examples that the result rows are
displayed in no particular order.  However, it's often easier to examine
query output when the rows are sorted in some meaningful way.  To sort a
result, use an <CODE>ORDER BY</CODE> clause.

</P>
<P>
Here are animal birthdays, sorted by date:

</P>

<PRE>
mysql&#62; SELECT name, birth FROM pet ORDER BY birth;
+----------+------------+
| name     | birth      |
+----------+------------+
| Buffy    | 1989-05-13 |
| Bowser   | 1989-08-31 |
| Fang     | 1990-08-27 |
| Fluffy   | 1993-02-04 |
| Claws    | 1994-03-17 |
| Slim     | 1996-04-29 |
| Whistler | 1997-12-09 |
| Chirpy   | 1998-09-11 |
| Puffball | 1999-03-30 |
+----------+------------+
</PRE>

<P>
To sort in reverse order, add the <CODE>DESC</CODE> (descending) keyword to the
name of the column you are sorting by:

</P>

<PRE>
mysql&#62; SELECT name, birth FROM pet ORDER BY birth DESC;
+----------+------------+
| name     | birth      |
+----------+------------+
| Puffball | 1999-03-30 |
| Chirpy   | 1998-09-11 |
| Whistler | 1997-12-09 |
| Slim     | 1996-04-29 |
| Claws    | 1994-03-17 |
| Fluffy   | 1993-02-04 |
| Fang     | 1990-08-27 |
| Bowser   | 1989-08-31 |
| Buffy    | 1989-05-13 |
+----------+------------+
</PRE>

<P>
You can sort on multiple columns.  For example, to sort by type of
animal, then by birth date within animal type with youngest animals first,
use the following query:

</P>

<PRE>
mysql&#62; SELECT name, species, birth FROM pet ORDER BY species, birth DESC;
+----------+---------+------------+
| name     | species | birth      |
+----------+---------+------------+
| Chirpy   | bird    | 1998-09-11 |
| Whistler | bird    | 1997-12-09 |
| Claws    | cat     | 1994-03-17 |
| Fluffy   | cat     | 1993-02-04 |
| Fang     | dog     | 1990-08-27 |
| Bowser   | dog     | 1989-08-31 |
| Buffy    | dog     | 1989-05-13 |
| Puffball | hamster | 1999-03-30 |
| Slim     | snake   | 1996-04-29 |
+----------+---------+------------+
</PRE>

<P>
Note that the <CODE>DESC</CODE> keyword applies only to the column name immediately
preceding it (<CODE>birth</CODE>); <CODE>species</CODE> values are still sorted in
ascending order.

</P>



<H4><A NAME="Date_calculations" HREF="manual_toc.html#Date_calculations">3.3.4.5  Date Calculations</A></H4>

<P>
<A NAME="IDX373"></A>
<A NAME="IDX374"></A>
<A NAME="IDX375"></A>
<A NAME="IDX376"></A>

</P>
<P>
MySQL provides several functions that you can use to perform
calculations on dates, for example, to calculate ages or extract
parts of dates.

</P>
<P>
To determine how many years old each of your pets is, compute the
difference in the year part of the current date and the birth date, then
subtract one if the current date occurs earlier in the calendar year than
the birth date.  The following query shows, for each pet, the birth date,
the current date, and the age in years.

</P>

<PRE>
mysql&#62; SELECT name, birth, CURRENT_DATE,
    -&#62; (YEAR(CURRENT_DATE)-YEAR(birth))
    -&#62; - (RIGHT(CURRENT_DATE,5)&#60;RIGHT(birth,5))
    -&#62; AS age
    -&#62; FROM pet;
+----------+------------+--------------+------+
| name     | birth      | CURRENT_DATE | age  |
+----------+------------+--------------+------+
| Fluffy   | 1993-02-04 | 2001-08-29   |    8 |
| Claws    | 1994-03-17 | 2001-08-29   |    7 |
| Buffy    | 1989-05-13 | 2001-08-29   |   12 |
| Fang     | 1990-08-27 | 2001-08-29   |   11 |
| Bowser   | 1989-08-31 | 2001-08-29   |   11 |
| Chirpy   | 1998-09-11 | 2001-08-29   |    2 |
| Whistler | 1997-12-09 | 2001-08-29   |    3 |
| Slim     | 1996-04-29 | 2001-08-29   |    5 |
| Puffball | 1999-03-30 | 2001-08-29   |    2 |
+----------+------------+--------------+------+
</PRE>

<P>
Here, <CODE>YEAR()</CODE> pulls out the year part of a date and <CODE>RIGHT()</CODE>
pulls off the rightmost five characters that represent the <CODE>MM-DD</CODE>
(calendar year) part of the date.  The part of the expression that
compares the <CODE>MM-DD</CODE> values evaluates to 1 or 0, which adjusts the
year difference down a year if <CODE>CURRENT_DATE</CODE> occurs earlier in
the year than <CODE>birth</CODE>.  The full expression is somewhat ungainly,
so an alias (<CODE>age</CODE>) is used to make the output column label more
meaningful.

</P>
<P>
The query works, but the result could be scanned more easily if the rows
were presented in some order.  This can be done by adding an <CODE>ORDER
BY name</CODE> clause to sort the output by name:

</P>

<PRE>
mysql&#62; SELECT name, birth, CURRENT_DATE,
    -&#62; (YEAR(CURRENT_DATE)-YEAR(birth))
    -&#62; - (RIGHT(CURRENT_DATE,5)&#60;RIGHT(birth,5))
    -&#62; AS age
    -&#62; FROM pet ORDER BY name;
+----------+------------+--------------+------+
| name     | birth      | CURRENT_DATE | age  |
+----------+------------+--------------+------+
| Bowser   | 1989-08-31 | 2001-08-29   |   11 |
| Buffy    | 1989-05-13 | 2001-08-29   |   12 |
| Chirpy   | 1998-09-11 | 2001-08-29   |    2 |
| Claws    | 1994-03-17 | 2001-08-29   |    7 |
| Fang     | 1990-08-27 | 2001-08-29   |   11 |
| Fluffy   | 1993-02-04 | 2001-08-29   |    8 |
| Puffball | 1999-03-30 | 2001-08-29   |    2 |
| Slim     | 1996-04-29 | 2001-08-29   |    5 |
| Whistler | 1997-12-09 | 2001-08-29   |    3 |
+----------+------------+--------------+------+
</PRE>

<P>
To sort the output by <CODE>age</CODE> rather than <CODE>name</CODE>, just use a
different <CODE>ORDER BY</CODE> clause:

</P>

<PRE>
mysql&#62; SELECT name, birth, CURRENT_DATE,
    -&#62; (YEAR(CURRENT_DATE)-YEAR(birth))
    -&#62; - (RIGHT(CURRENT_DATE,5)&#60;RIGHT(birth,5))
    -&#62; AS age
    -&#62; FROM pet ORDER BY age;
+----------+------------+--------------+------+
| name     | birth      | CURRENT_DATE | age  |
+----------+------------+--------------+------+
| Chirpy   | 1998-09-11 | 2001-08-29   |    2 |
| Puffball | 1999-03-30 | 2001-08-29   |    2 |
| Whistler | 1997-12-09 | 2001-08-29   |    3 |
| Slim     | 1996-04-29 | 2001-08-29   |    5 |
| Claws    | 1994-03-17 | 2001-08-29   |    7 |
| Fluffy   | 1993-02-04 | 2001-08-29   |    8 |
| Fang     | 1990-08-27 | 2001-08-29   |   11 |
| Bowser   | 1989-08-31 | 2001-08-29   |   11 |
| Buffy    | 1989-05-13 | 2001-08-29   |   12 |
+----------+------------+--------------+------+
</PRE>

<P>
A similar query can be used to determine age at death for animals that have
died.  You determine which animals these are by checking whether or not the
<CODE>death</CODE> value is <CODE>NULL</CODE>.  Then, for those with non-<CODE>NULL</CODE>
values, compute the difference between the <CODE>death</CODE> and <CODE>birth</CODE>
values:

</P>

<PRE>
mysql&#62; SELECT name, birth, death,
    -&#62; (YEAR(death)-YEAR(birth)) - (RIGHT(death,5)&#60;RIGHT(birth,5))
    -&#62; AS age
    -&#62; FROM pet WHERE death IS NOT NULL ORDER BY age;
+--------+------------+------------+------+
| name   | birth      | death      | age  |
+--------+------------+------------+------+
| Bowser | 1989-08-31 | 1995-07-29 |    5 |
+--------+------------+------------+------+
</PRE>

<P>
The query uses <CODE>death IS NOT NULL</CODE> rather than <CODE>death != NULL</CODE>
because <CODE>NULL</CODE> is a special value.  This is explained later.
See section <A HREF="manual.html#Working_with_NULL">3.3.4.6  Working with <CODE>NULL</CODE> Values</A>.

</P>
<P>
What if you want to know which animals have birthdays next month?  For this
type of calculation, year and day are irrelevant; you simply want to extract
the month part of the <CODE>birth</CODE> column.  MySQL provides several
date-part extraction functions, such as <CODE>YEAR()</CODE>, <CODE>MONTH()</CODE>, and
<CODE>DAYOFMONTH()</CODE>.  <CODE>MONTH()</CODE> is the appropriate function here.  To
see how it works, run a simple query that displays the value of both
<CODE>birth</CODE> and <CODE>MONTH(birth)</CODE>:

</P>

<PRE>
mysql&#62; SELECT name, birth, MONTH(birth) FROM pet;
+----------+------------+--------------+
| name     | birth      | MONTH(birth) |
+----------+------------+--------------+
| Fluffy   | 1993-02-04 |            2 |
| Claws    | 1994-03-17 |            3 |
| Buffy    | 1989-05-13 |            5 |
| Fang     | 1990-08-27 |            8 |
| Bowser   | 1989-08-31 |            8 |
| Chirpy   | 1998-09-11 |            9 |
| Whistler | 1997-12-09 |           12 |
| Slim     | 1996-04-29 |            4 |
| Puffball | 1999-03-30 |            3 |
+----------+------------+--------------+
</PRE>

<P>
Finding animals with birthdays in the upcoming month is easy, too.  Suppose
the current month is April.  Then the month value is <CODE>4</CODE> and you look
for animals born in May (month 5) like this:

</P>

<PRE>
mysql&#62; SELECT name, birth FROM pet WHERE MONTH(birth) = 5;
+-------+------------+
| name  | birth      |
+-------+------------+
| Buffy | 1989-05-13 |
+-------+------------+
</PRE>

<P>
There is a small complication if the current month is December, of course.
You don't just add one to the month number (<CODE>12</CODE>) and look for animals
born in month 13, because there is no such month.  Instead, you look for
animals born in January (month 1).

</P>
<P>
You can even write the query so that it works no matter what the current
month is.  That way you don't have to use a particular month number
in the query.  <CODE>DATE_ADD()</CODE> allows you to add a time interval to a
given date.  If you add a month to the value of <CODE>NOW()</CODE>, then extract
the month part with <CODE>MONTH()</CODE>, the result produces the month in which to
look for birthdays:

</P>

<PRE>
mysql&#62; SELECT name, birth FROM pet
    -&#62; WHERE MONTH(birth) = MONTH(DATE_ADD(NOW(), INTERVAL 1 MONTH));
</PRE>

<P>
A different way to accomplish the same task is to add <CODE>1</CODE> to get the
next month after the current one (after using the modulo function (<CODE>MOD</CODE>)
to wrap around the month value to <CODE>0</CODE> if it is currently
<CODE>12</CODE>):

</P>

<PRE>
mysql&#62; SELECT name, birth FROM pet
    -&#62; WHERE MONTH(birth) = MOD(MONTH(NOW()), 12) + 1;
</PRE>

<P>
Note that <CODE>MONTH</CODE> returns a number between 1 and 12. And
<CODE>MOD(something,12)</CODE> returns a number between 0 and 11. So the
addition has to be after the <CODE>MOD()</CODE>, otherwise we would go from
November (11) to January (1).

</P>



<H4><A NAME="Working_with_NULL" HREF="manual_toc.html#Working_with_NULL">3.3.4.6  Working with <CODE>NULL</CODE> Values</A></H4>

<P>
<A NAME="IDX377"></A>
<A NAME="IDX378"></A>

</P>
<P>
The <CODE>NULL</CODE> value can be surprising until you get used to it.
Conceptually, <CODE>NULL</CODE> means missing value or unknown value and it
is treated somewhat differently than other values.  To test for <CODE>NULL</CODE>,
you cannot use the arithmetic comparison operators such as <CODE>=</CODE>, <CODE>&#60;</CODE>,
or <CODE>!=</CODE>.  To demonstrate this for yourself, try the following query:

</P>

<PRE>
mysql&#62; SELECT 1 = NULL, 1 != NULL, 1 &#60; NULL, 1 &#62; NULL;
+----------+-----------+----------+----------+
| 1 = NULL | 1 != NULL | 1 &#60; NULL | 1 &#62; NULL |
+----------+-----------+----------+----------+
|     NULL |      NULL |     NULL |     NULL |
+----------+-----------+----------+----------+
</PRE>

<P>
Clearly you get no meaningful results from these comparisons.  Use
the <CODE>IS NULL</CODE> and <CODE>IS NOT NULL</CODE> operators instead:

</P>

<PRE>
mysql&#62; SELECT 1 IS NULL, 1 IS NOT NULL;
+-----------+---------------+
| 1 IS NULL | 1 IS NOT NULL |
+-----------+---------------+
|         0 |             1 |
+-----------+---------------+
</PRE>

<P>
In MySQL, 0 or <CODE>NULL</CODE> means false and anything else means true.
The default truth value from a boolean operation is 1.

</P>
<P>
This special treatment of <CODE>NULL</CODE> is why, in the previous section, it
was necessary to determine which animals are no longer alive using
<CODE>death IS NOT NULL</CODE> instead of <CODE>death != NULL</CODE>.

</P>



<H4><A NAME="Pattern_matching" HREF="manual_toc.html#Pattern_matching">3.3.4.7  Pattern Matching</A></H4>

<P>
<A NAME="IDX379"></A>
<A NAME="IDX380"></A>
<A NAME="IDX381"></A>

</P>
<P>
MySQL provides standard SQL pattern matching as well as a form of
pattern matching based on extended regular expressions similar to those used
by Unix utilities such as <CODE>vi</CODE>, <CODE>grep</CODE>, and <CODE>sed</CODE>.

</P>
<P>
SQL pattern matching allows you to use <SAMP>`_'</SAMP> to match any single
character and <SAMP>`%'</SAMP> to match an arbitrary number of characters (including
zero characters).  In MySQL, SQL patterns are case insensitive by
default.  Some examples are shown below.  Note that you do not use <CODE>=</CODE>
or <CODE>!=</CODE> when you use SQL patterns; use the <CODE>LIKE</CODE> or <CODE>NOT
LIKE</CODE> comparison operators instead.

</P>
<P>
To find names beginning with <SAMP>`b'</SAMP>:

</P>

<PRE>
mysql&#62; SELECT * FROM pet WHERE name LIKE "b%";
+--------+--------+---------+------+------------+------------+
| name   | owner  | species | sex  | birth      | death      |
+--------+--------+---------+------+------------+------------+
| Buffy  | Harold | dog     | f    | 1989-05-13 | NULL       |
| Bowser | Diane  | dog     | m    | 1989-08-31 | 1995-07-29 |
+--------+--------+---------+------+------------+------------+
</PRE>

<P>
To find names ending with <SAMP>`fy'</SAMP>:

</P>

<PRE>
mysql&#62; SELECT * FROM pet WHERE name LIKE "%fy";
+--------+--------+---------+------+------------+-------+
| name   | owner  | species | sex  | birth      | death |
+--------+--------+---------+------+------------+-------+
| Fluffy | Harold | cat     | f    | 1993-02-04 | NULL  |
| Buffy  | Harold | dog     | f    | 1989-05-13 | NULL  |
+--------+--------+---------+------+------------+-------+
</PRE>

<P>
To find names containing a <SAMP>`w'</SAMP>:

</P>

<PRE>
mysql&#62; SELECT * FROM pet WHERE name LIKE "%w%";
+----------+-------+---------+------+------------+------------+
| name     | owner | species | sex  | birth      | death      |
+----------+-------+---------+------+------------+------------+
| Claws    | Gwen  | cat     | m    | 1994-03-17 | NULL       |
| Bowser   | Diane | dog     | m    | 1989-08-31 | 1995-07-29 |
| Whistler | Gwen  | bird    | NULL | 1997-12-09 | NULL       |
+----------+-------+---------+------+------------+------------+
</PRE>

<P>
To find names containing exactly five characters, use the <SAMP>`_'</SAMP> pattern
character:

</P>

<PRE>
mysql&#62; SELECT * FROM pet WHERE name LIKE "_____";
+-------+--------+---------+------+------------+-------+
| name  | owner  | species | sex  | birth      | death |
+-------+--------+---------+------+------------+-------+
| Claws | Gwen   | cat     | m    | 1994-03-17 | NULL  |
| Buffy | Harold | dog     | f    | 1989-05-13 | NULL  |
+-------+--------+---------+------+------------+-------+
</PRE>

<P>
The other type of pattern matching provided by MySQL uses extended
regular expressions.  When you test for a match for this type of pattern, use
the <CODE>REGEXP</CODE> and <CODE>NOT REGEXP</CODE> operators (or <CODE>RLIKE</CODE> and
<CODE>NOT RLIKE</CODE>, which are synonyms).

</P>
<P>
Some characteristics of extended regular expressions are:

</P>

<UL>
<LI>

<SAMP>`.'</SAMP> matches any single character.

<LI>

A character class <SAMP>`[...]'</SAMP> matches any character within the brackets.
For example, <SAMP>`[abc]'</SAMP> matches <SAMP>`a'</SAMP>, <SAMP>`b'</SAMP>, or <SAMP>`c'</SAMP>.  To name a
range of characters, use a dash.  <SAMP>`[a-z]'</SAMP> matches any lowercase letter,
whereas <SAMP>`[0-9]'</SAMP> matches any digit.

<LI>

<SAMP>`*'</SAMP> matches zero or more instances of the thing preceding it.  For
example, <SAMP>`x*'</SAMP> matches any number of <SAMP>`x'</SAMP> characters,
<SAMP>`[0-9]*'</SAMP> matches any number of digits, and <SAMP>`.*'</SAMP> matches any
number of anything.

<LI>

Regular expressions are case sensitive, but you can use a character class to
match both lettercases if you wish.  For example, <SAMP>`[aA]'</SAMP> matches
lowercase or uppercase <SAMP>`a'</SAMP> and <SAMP>`[a-zA-Z]'</SAMP> matches any letter in
either case.

<LI>

The pattern matches if it occurs anywhere in the value being tested.
(SQL patterns match only if they match the entire value.)

<LI>

To anchor a pattern so that it must match the beginning or end of the value
being tested, use <SAMP>`^'</SAMP> at the beginning or <SAMP>`$'</SAMP> at the end of the
pattern.
</UL>

<P>
To demonstrate how extended regular expressions work, the <CODE>LIKE</CODE> queries
shown above are rewritten below to use <CODE>REGEXP</CODE>.

</P>
<P>
To find names beginning with <SAMP>`b'</SAMP>, use <SAMP>`^'</SAMP> to match the beginning of
the name:

</P>

<PRE>
mysql&#62; SELECT * FROM pet WHERE name REGEXP "^b";
+--------+--------+---------+------+------------+------------+
| name   | owner  | species | sex  | birth      | death      |
+--------+--------+---------+------+------------+------------+
