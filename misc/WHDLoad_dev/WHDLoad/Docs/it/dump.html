<HTML>
<HEAD>
<TITLE>Dumping</TITLE>
<meta name="DC.Language" content="it">
<meta http-equiv="content-language" content="it">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<!-- $Id: dump.html 1.5 2006/06/05 12:15:14 wepl Exp wepl $ -->
</HEAD>
<BODY>
<h3>Dump e Logfile di WHDLoad</h3>
WHDLoad può creare vari dump e logfile, questi possono tornare utili principalmente nel debugging.
<h4><a name="memoria">Dump della Memoria</a></h4>
Un dump della memoria è l'intera memoria utilizzata dal programma installato riversata in un file.
La dimensione del dump dipende dal programma installato (è uguale al valore di ws_BaseMemSize nella struttura dello Slave).
Il dump viene creato se <a href="opt.html#DebugKey">DebugKey</a> viene premuto o se dopo un errore viene premuto il
pulsante CoreDump. Il nome del file di dump della memoria creato è ".whdl_memory". La sua posizione di default è "PROGDIR:"
ma può essere cambiata con l'opzione <a href="opt.html#CoreDumpPath">CoreDumpPath</a>. Se esiste un file con lo stesso nome
questo sarà sovrascritto in ogni caso. Se il programma installato utilizza anche della memoria Fast, verrà salvato
con il nome ".whdl_expmem".
<h4><a name="register">Dump dei Registri</a></h4>
Il dump dei registri contiene l'intero stato della CPU (inclusa la MMU), dei CIA e dei chip Custom. Qualche registro dei
CIA e dei chip Custom non sono leggibili, e saranno contenuti nel file di dump solo se la modalità
<a href="opt.html#Snoop">Snoop</a> è attiva. Le informazioni verranno scritte in formato ASCII con qualche evidenziazione
mediante l'utilizzo di sequenze di Escape (mediante CSI - Control Sequence Introducer, decimale 155).
Per visualizzarlo, consigliamo l'utilizzo di un programma che supporta le sequenze di Escape (ad esempio More, MuchMore,
MultiView, ...). Il nome del file di dump è ".whdl_register", la posizione di default è "PROGDIR:" ma può essere
modificata con l'opzione <a href="opt.html#CoreDumppath">CoreDumpPath</a>. Se ci sarà già un file con lo stesso nome,
il dump verrà accodato - altrimenti ne verrà creato uno nuovo.
<h4><a name="FileLog">Log di accesso ai file</a></h4>
Verrà creato un log di tutti gli accessi ai dischi se l'opzione <a href="opt.html#FileLog">FileLog</a> sarà stata
attivata. Questa funzione è molto utile per analizzare le operazioni sui dischi del programma installato per il debug e
l'ottimizzazione. Le operazioni eseguite dalle seguenti funzioni di resload andranno a finire all'interno del log:
<ul>
<li>resload_DeleteFile
<li>resload_DiskLoad
<li>resload_Examine
<li>resload_ExNext
<li>resload_GetFileSize
<li>resload_GetFileSizeDec
<li>resload_ListFiles
<li>resload_LoadFile
<li>resload_LoadFileDecrunch
<li>resload_LoadFileOffset
<li>resload_SaveFile
<li>resload_SaveFileOffset
</ul>
Ogni accesso ai file tramite le funzioni sopraelencate, aggiungeranno una riga nel file di log, la riga identificherà la
funzione chiamata, i parametri ed il risultato. WHDLoad accumulerà i dati del log in un buffer interno. Il buffer verrà
liberato all'uscita o durante un accesso se sarà pieno. Le informazioni verranno scritte in un file ASCII, il nome del dump
è ".whdl_filelog", la posizione di default è "PROGDIR:" ma può essere cambiata tramite l'opzione
<a href="opt.html#CoreDumppath">CoreDumpPath</a>.
</BODY>
</HTML>
