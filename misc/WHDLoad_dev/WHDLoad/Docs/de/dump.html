<HTML>
<HEAD>
<TITLE>Dump- und Protokoll-Dateien</TITLE>
<meta name="DC.Language" content="de">
<meta http-equiv="content-language" content="de">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<!-- $Id: dump.html 1.4 2004/02/22 20:34:49 wepl Exp wepl $ -->
</HEAD>
<BODY>
<h3>Dump- und Protokoll-Dateien</h3>
Haupts&auml;chlich aus Gr&uuml;nden der Fehlersuche ist WHDLoad in der Lage verschiedene
Dump- und Protokoll-Dateien zu schreiben.
<h4><a name="memory">Memory Dump</a></h4>
Bei einem Memory Dump wird der gesamte Speicherbereich des installierten Programmes
in eine Datei geschrieben. Die Gr&ouml;&szlig;e der Datei h&auml;ngt vom installierten Programm ab
(sie ist gleich dem Wert von ws_BaseMemSize in der Slave Struktur). Ein Memory Dump
wird erzeugt, wenn der <a href="opt.html#DebugKey">DebugKey</a> gedr&uuml;ckt wurde oder
wenn nach einem Fehlerrequester der CoreDump Button bet&auml;tigt wurde. Der Name der
Memory Dump Datei ist ".whdl_memory". Das voreingestellte Verzeichnis worin die Datei
abgelegt wird ist "PROGDIR:", das Verzeichnis kann aber mittels der Option
<a href="opt.html#CoreDumpPath">CoreDumpPath</a> ver&auml;ndert werden. Eine bereits
existierende Datei wird immer &uuml;berschrieben. Wenn das installierte Programm
auch Fast-Mem verwendet, wird dieser Speicherbereich in einer zweiten Datei mit dem
Namen ".whdl_expmem" gespeichert.
<h4><a name="register">Register Dump</a></h4>
Das Register Dump enth&auml;lt den gesamten CPU (inklusiv der MMU), Cia- und Custom-Chip
Status. Einige Cia- und Custom-Register sind nicht lesbar, diese sind im Dump nur
enthalten, wenn eine der <a href="opt.html#Snoop">Snoop</a> Option aktiv war.
Die Informationen werden in eine ASCII-Datei geschrieben, wobei f&uuml;r Hervorhebungen
Escape Sequenzen (mittels CSI - Control Sequence Introducer, dezimal 155) verwendet
werden. Zum Anzeigen sollte deshalb ein Betrachter verwendet werden, der diese
entsprechend interpretiert (z.B. More, MuchMore, MultiView, ...). Der Name der
Dump Datei ist ".whdl_register", das voreingestellte Verzeichnis "PROGDIR:", welches
aber mit der Option <a href="opt.html#CoreDumpPath">CoreDumpPath</a> ver&auml;ndert werden
kann. Wenn eine Datei mit demselben Namen bereits existiert wird das Dump an die
bestehende Datei angeh&auml;ngt.
<h4><a name="FileLog">Dateizugriffsprotokoll</a></h4>
Alle Zugriffe auf Dateien werden protokolliert wenn die Option
<a href="opt.html#FileLog">FileLog</a> eingeschaltet ist. Diese M&ouml;glichkeit
ist sehr praktisch um die Diskoperationen eines installierten Programmes zu
analysieren und zu optimieren. Die folgenden resload Funktionen erzeugen einen
Eintrag in der Protokolldatei:
<ul>
<li>resload_DeleteFile
<li>resload_DiskLoad
<li>resload_Examine
<li>resload_ExNext
<li>resload_GetFileSize
<li>resload_GetFileSizeDec
<li>resload_ListFiles
<li>resload_LoadFile
<li>resload_LoadFileDecrunch
<li>resload_LoadFileOffset
<li>resload_SaveFile
<li>resload_SaveFileOffset
</ul>
Jede Benutzung dieser Funtionen generiert eine Zeile in der Protokolldatei.
Die Zeile enth&auml;lt den Name der Funktion, die Parameter und den R&uuml;ckgabewert.
WHDLoad sammelt die Informationen in einem internen Puffer. Sie werden in eine
ASCII Datei geschrieben, wenn der Puffer voll ist oder WHDLoad beendet wird.
Der Name der Protokolldatei ist ".whdl_filelog", das voreingestellte Verzeichnis "PROGDIR:", welches
aber mit der Option <a href="opt.html#CoreDumpPath">CoreDumpPath</a> ver&auml;ndert werden
kann. Wenn eine Datei mit demselben Namen bereits existiert wird das Protokoll an die
bestehende Datei angeh&auml;ngt.
</BODY>
</HTML>
