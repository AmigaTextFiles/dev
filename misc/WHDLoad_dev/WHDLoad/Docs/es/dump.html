<HTML>
<HEAD>
<TITLE>Volcados</TITLE>
<meta name="DC.Language" content="es">
<meta http-equiv="content-language" content="es">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<!-- $Id: dump.html 1.2 2004/02/22 20:35:13 wepl Exp wepl $ -->
</head>
<BODY>
<h3>Volcados y archivos de bitácora de WHDLoad</h3>
WHDLoad puede crear diversos volcados y archivos de bitácora, principalmente
con el propósito de eliminar errores.
<h4><a name="memory">Volcado de Memoria</a></h4>
Un volcado de memoria es toda la memoria utilizada por el programa instalado
escrita a un archivo. El tamaño del volcado dependerá del programa instalado
(es igual al valor de ws_BaseMemSize en la estructura del Esclavo). Un volcado
de memoria puede ser creado si la <a href="opt.html#DebugKey">DebugKey</a> es presionada
durante la ejecución o luego de un error si el botón CoreDump es presionado.
El nombre del volcado de memoria creado será ".whdl_memory". La ubicación por defecto
es "PROGDIR:" pero puede ser cambiada con la opción <a href="opt.html#CoreDumpPath">CoreDumpPath</a>.
Cualquier fichero existente con el mismo nombre siempre será sobreescrito. Si el
programa instalado utiliza Memoria Fast adicional, será salvada bajo el nombre ".whdl_expmem".
<h4><a name="register">Volcado de Registros</a></h4>
El volcado de registros contiene el estado completo de la CPU (incluyendo la MMU), la
CIA y los chips Custom. Algunos registros de las CIA y los Custom no son legibles, estos
estarán contenidos en el volcado si el modo <a href="opt.html#Snoop">Snoop</a> esta activo.
La información será escrita en un fichero ASCII con algunas secciones resaltadas usando
secuencias de Escape (usando CSI - Control Sequence Introducer, decimal 155). Para verlo se
recomienda un programa que soporte secuencias de Escape (tales como More, MuchMore, MultiView,
...). El nombre del archivo del volcado es ".whdl_register", la ubicación por defecto es
"PROGDIR:" pero puede ser cambiada con la opción <a href="opt.html#CoreDumppath">CoreDumpPath</a>.
Si existe un fichero con el mismo nombre, el volcado será agregado al final del mismo - de lo contrario
se creara un nuevo fichero.
<h4><a name="FileLog">Bitácora de acceso a Ficheros</a></h4>
Todos los accesos a disco será registrados si la opción <a href="opt.html#FileLog">FileLog</a> ha
sido activada. Esta funcionalidad es muy útil para analizar las operaciones de disco del programa
instalado para la eliminación de errores y con el propósito de optimización. Las siguientes
funciones de resload generaran una entrada en el archivo de bitácora:
<ul>
<li>resload_DeleteFile
<li>resload_DiskLoad
<li>resload_Examine
<li>resload_ExNext
<li>resload_GetFileSize
<li>resload_GetFileSizeDec
<li>resload_ListFiles
<li>resload_LoadFile
<li>resload_LoadFileDecrunch
<li>resload_LoadFileOffset
<li>resload_SaveFile
<li>resload_SaveFileOffset
</ul>
Cada acceso a archivos utilizando las funciones arriba mencionadas generara una línea en
el archivo de bitácora, la línea identifica la función que ha sido llamada, los parámetros
y el resultado. WHDLoad colectara las entradas de la bitácora en un buffer interno. El buffer será
volcado al salir o durante un acceso si el buffer esta lleno. La información será escrita
a un archivo ASCII, el nombre del volcado será ".whdl_filelog", la ubicación por defecto
es "PROGDIR:" pero puede ser cambiada con la opción <a href="opt.html#CoreDumppath">CoreDumpPath</a>.
</BODY>
</HTML>
