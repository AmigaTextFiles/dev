<HTML>
<HEAD>
<TITLE>Dumping</TITLE>
<meta name="DC.Language" content="nb">
<meta http-equiv="content-language" content="nb">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<!-- $Id: dump.html 1.1 2006/01/03 14:34:53 wepl Exp wepl $ -->
</HEAD>
<BODY>
<h3>WHDLoad's dumper og logffiler</h3>
WHDLoad kan lage forskjellige dumper og loggfiler for diverse feilsøking.

<h4><a name="memory">Minnedump</a></h4>
En minnedump er hele minnet som brukes av det installerte programmet skrevet
til en fil. Størrelsen på dumen avhenger av det installerte programmet (det er lik
verdien av ws_BaseMemSize in Slave-strukturen). En minnedump vil lages hvis
<a href="opt.html#DebugKey">DebugKey</a> trykkes eller etter en feil og
CoreDump-knappen blir trykket. Navnet på minnedump-filen som lages er
".whdl_memory". Standardplassering er "PROGDIR:" men kan endres med
tilvalget <a href="opt.html#CoreDumpPath">CoreDumpPath</a>. En
fil med samme navn som allerede eksisterer vil alltid overskrives. Hvis det
installerte programmet bruker hurtigminne (Fast-memory) i tillegg, vil dette
lagres under filnavnet ".whdl_expmem".

<h4><a name="register">Registerdump</a></h4>
Registerdumpen inneholder komplett status over CPU'en (inklusiv MMU)
Cia'en og tilpassede (Custom) registre. Noen Cia og tilpassede registre er ikke avlesbare,
disse kommer bare i dump-filen hvis
href="opt.html#Snoop">Søkemodus</a> var aktivert. Informasjonen blir
skrevet til en ASCII-fil med noe utheving gjennom bruk av Escape-sekvenser
(gjennom CSI -Control Sequence Introducer, desimal 155). Fo å lese, anbefales et program
som støtter Escape-sekvenser (f.eks. More, MuchMore, MultiView,
...). Navnet på dump-filen er ".whdl_register", standardplassering er
"PROGDIR:" men dette kan endres via <a
href="opt.html#CoreDumppath">CoreDumpPath</a>-tilvalget. Hvis det eksistereren fil har
samme navn, vil dumpfilen bli lagt til på slutten av den gamle - ellers vil det bli
dannet en ny fil.

<h4><a name="FileLog">Filtilgangslogg</a></h4>
All disk-tilgang vil bli loggført om
<a href="opt.html#FileLog">FileLog</a>-tilvalget har blitt aktivert. Denne funksjonen
vil være veldig nyttig for å analysere dosk-operasjonene til det installerte programmet
for feilsøking og optimalisering. De følgende resload-funksjoner vil lage
en post i loggfilen:
<ul>
<li>resload_DeleteFile
<li>resload_DiskLoad
<li>resload_Examine
<li>resload_ExNext
<li>resload_GetFileSize
<li>resload_GetFileSizeDec
<li>resload_ListFiles
<li>resload_LoadFile
<li>resload_LoadFileDecrunch
<li>resload_LoadFileOffset
<li>resload_SaveFile
<li>resload_SaveFileOffset
</ul>
All filtilgang via de ovenstående funksjoner danner en oppføring i loggfilen,
linjen identifiserer hvilken funksjon som ble brukt, parameterene og resultatet.
WHDLoad vill samle loggoppføringene i et internt buffer. Bufferen vil tømmes til disk
ved avslutning eller under når bufferen er full. Informasjonen blir skrever
til en ASCII-fil, navnet på dump-filen er ".whdl_filelog", standard plassering
er "PROGDIR:" men dette kan endres gjennom
the <a href="opt.html#CoreDumppath">CoreDumpPath</a>-tilvalget.
</BODY>
</HTML>
