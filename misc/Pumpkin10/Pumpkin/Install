; *******************************************************************
;
; $VER: Install_Pumpkin 1.0 (3.7.96)
; 
; Install script for Pumpkin copyright © 1996 Martin Wulffeld
;
; *******************************************************************

(set old_level @user-level)
(set @default-dest "")

(set default_lang 2)

(set #bad-kick
(cat "You must at least have Kickstart 3.0 to install Pumpkin!"
))

(set #copying-reqtools		"\nCopying reqtools.library 38.1413 to LIBS:...")
(set #copying-pumpkin		"\nCopying Pumpkin...")
(set #copying-documentation	"\nCopying Pumpkin documentation...")
(set #copying-rexxscript	"\nCopying rexx script...")
(set #select-dest			"Please select the path where you want to install the Pumpkin program.")
(set #select-destguide		"Please select the path where you want to install the Pumpkin documentation.")
(set #select-destrexx		"Please select the path where you want to install the Rexx script 'Pumpkin.rexx'")

;=============================================================================
; Make sure we are running under a 3.0 ROM

(if (< (/ (getversion) 65536) 39)
(
    (abort #bad-kick)
))

;=============================================================================

;*** Required libraries

(copylib
	(prompt #copying-reqtools)
	(help @copylib-help)
	(source "Libs/reqtools.library")
	(dest "LIBS:")
	(confirm)
)

;*** Pumpkin executable

(set programdir
	(askdir
		(prompt  #select-dest)
		(help @askdir-help)
		(default "DH0:C")
		(newpath)
	)
)

(set @default-dest programdir)

(copyfiles
	(prompt #copying-pumpkin)
	(source "Pumpkin")
	(dest programdir)
	(infos)
)

(set endprogramname
	(tackon
		(programdir)
	"Pumpkin"
	)
)

;*** Copy documentation

(set tempdocdir "HELP:english")

(set docdir
	(askdir
		(prompt #select-destguide)
		(help @askdir-help)
		(default tempdocdir)
		(newpath)
	)
)

(copyfiles
	(prompt #copying-documentation)
	(source "Documentation/Pumpkin.guide")
	(dest docdir)
	(infos)
)

;*** Copy rexx script

(set rexxdir
	(askdir
		(prompt #select-destrexx)
		(help @askdir-help)
		(default "REXX:")
		(newpath)
	)
)

(copyfiles
	(prompt #copying-rexxscript)
	(source "Rexx/Pumpkin.rexx")
	(dest rexxdir)
)

(set endrexxname
	(tackon
		(rexxdir)
	"Pumpkin.rexx"
	)
)

(if (<> "DH0:C" programdir)
	(message ("\nSince you installed Pumpkin in another directory than 'DH0:C' you must adapt the ARexx script \'%s\' so it is able to find \'%s\'." endrexxname endprogramname))
)

; Last information on how to go about installing Pumpkin in CygnusEd
; Hard spaces in the following...

(message ("\nYou should now attach the ARexx script \'%s\' to a function key in CygnusEd by selecting the menu point 'Install DOS/ARexx command...'." endrexxname))
