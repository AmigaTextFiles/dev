@DATABASE "Colours"
@AUTHOR   "Paul Manias"
@NODE     "Main" "Colours"

@{b}@{u}MODULE DOCUMENTATION@{uu}@{ub}
Name:      @{"COLOURS" LINK "Functions"} AUTODOC
Version:   1.0
Number:    MOD_COLOURS
Date:      August 1998
Author:    Paul Manias
Copyright: DreamWorld Productions, 1998.  All rights reserved.

@EndNode
---------------------------------------------------------------------------
@NODE "Functions" "Colours Module"

 @{b}FUNCTIONS@{ub}
 @{"BlurArea()" LINK "BlurArea()"}
 @{"CalcBrightness()" LINK "CalcBrightness()"}
 @{"ClosestColour()" LINK "ClosestColour()"}
 @{"ConvertHSVToRGB()" LINK "ConvertHSVToRGB()"}
 @{"ConvertRGBToHSV()" LINK "ConvertRGBToHSV()"}
 @{"CopyPalette()" LINK "CopyPalette()"}
 @{"DarkenArea()" LINK "DarkenArea()"}
 @{"DarkenPixel()" LINK "DarkenPixel()"}
 @{"LightenArea()" LINK "LightenArea()"}
 @{"LightenPixel()" LINK "LightenPixel()"}
 @{"RemapBitmap()" LINK "RemapBitmap()"}

@EndNode
-----------------------------------------------------------------------------
@NODE "BlurArea()" "Colours: BlurArea()"

@{b}@{u}FUNCTION@{uu}@{ub}
Name:     BlurArea()
Short:    Blurs an area of a Bitmap.
Synopsis: void BlurArea(*Bitmap [a0], WORD X [d0], WORD Y [d1],
            WORD Width [d2], WORD Height [d3], WORD Setting [d4])

@{b}@{u}DESCRIPTION@{uu}@{ub}
Use this function to blur out a rectangular area of a Bitmap.

@{b}@{u}INPUT@{uu}@{ub}
Bitmap
  Pointer to an initialised Bitmap.

X, Y
  The (X, Y) upper left coordinate.

Width, Height
  The Width and Height of the area you wish to blur.

Setting
  A setting between 0 and 100 that informs this function how heavy the
  blurring should be.  A setting of 50% is recommended.

@EndNode
-----------------------------------------------------------------------------
@NODE "CalcBrightness()" "Colours: CalcBrightness()"

@{b}@{u}FUNCTION@{uu}@{ub}
Name:     CalcBrightness()
Short:    Calculates the brightness of an RGB value.
Synopsis: LONG CalcBrightness(LONG RGB [d0])

@{b}@{u}DESCRIPTION@{uu}@{ub}
This  function  will calculate the brightness of an RGB value.  The routine
is based around the following formula:

   Brightness = (0.239 * Red) + (0.686 * Green) + (0.075 * Blue)

@{b}@{u}INPUT@{uu}@{ub}
RGB
  A standard 24 bit RGB value.

@{b}@{u}RESULT@{uu}@{ub}
Returns  colour  brightness  scaled  between  0  and  255.  You may wish to
convert  this  value  to  a percentage setting (0 - 100%) depending on your
circumstances.

@EndNode
-----------------------------------------------------------------------------
@NODE "ClosestColour()" "Colours: ClosestColour()"

@{b}@{u}FUNCTION@{uu}@{ub}
Name:     ClosestColour()
Short:    Finds the colour number in a palette that best matches a given
            RGB value.
Synopsis: LONG ClosestColour(LONG RGB [d0], LONG *Palette [a0])

@{b}@{u}DESCRIPTION@{uu}@{ub}
You  can  use  this  function  to  perform RGB based colour matching.  This
function is useful for performing activities such as Bitmap remapping.

@{b}@{u}INPUT@{uu}@{ub}
RGB
  The RGB colour that you want to find a match for.

Palette
  The Palette that is to be searched.

@{b}@{u}RESULT@{uu}@{ub}
Returns  the  colour number in the Palette array that gives the best match.
Values start from 0.

@EndNode
-----------------------------------------------------------------------------
@NODE "ConvertHSVToRGB()" "Colours: ConvertHSVToRGB()"

@{b}@{u}FUNCTION@{uu}@{ub}
Name:     ConvertHSVToRGB()
Short:    Converts an HSV value to its RGB value.
Synopsis: LONG ConvertHSVToRGB(struct HSV *HSV [a0])

@{b}@{u}DESCRIPTION@{uu}@{ub}
Not implemented yet.

@{b}@{u}INPUT@{uu}@{ub}
HSV
  The HSV value.

@{b}@{u}RESULT@{uu}@{ub}
Returns the RGB value.

@EndNode
-----------------------------------------------------------------------------
@NODE "ConvertRGBToHSV()" "Colours: ConvertRGBToHSV()"

@{b}@{u}FUNCTION@{uu}@{ub}
Name:     ConvertRGBToHSV()
Short:    Converts an RGB value to its HSV value.
Synopsis: void ConvertRGBToHSV(LONG RGB [d0], struct HSV *HSV [a0])

@{b}@{u}DESCRIPTION@{uu}@{ub}
This  function  will  convert  an  RGB  value  to  its HSV equivalent.  The
structure of the HSV structure is as follows:

  struct HSV {
     WORD Hue;
     WORD Sat;
     WORD Val;
  };

The Hue is defined as being from 0 to 360, Saturation and Value are between
0 and 100.

@{b}@{u}INPUT@{uu}@{ub}
RGB
  The RGB value.

@{b}@{u}RESULT@{uu}@{ub}
Returns the HSV value.

@EndNode
-----------------------------------------------------------------------------
@NODE "CopyPalette()" "Colours: CopyPalette()"

@{b}@{u}FUNCTION@{uu}@{ub}
Name:     CopyPalette()
Short:    Copies a block of colours from one palette to another.
Synopsis: LONG CopyPalette(LONG *SrcPalette [a0], LONG *DestPalette [a1],
            LONG ColStart [d0], LONG AmtColours [d1], LONG DestCol [d2])

@{b}@{u}DESCRIPTION@{uu}@{ub}
This  simple  function  will  copy  a  block of colours from one palette to
another.

@{b}@{u}INPUT@{uu}@{ub}
SrcPalette
  Pointer to the palette that you are copying from.

DestPalette
  Pointer to the palette that you are copying to.

ColStart
  The colour number that you are going to start copying from the source
  (starts from 0).

AmtColours
  The total amount of colours that you want to copy.

DestCol
  The destination colour in the DestPalette (starts from 0).

@{b}@{u}RESULT@{uu}@{ub}
Returns ERR_OK on success.

@EndNode
-----------------------------------------------------------------------------
@NODE "DarkenArea()" "Colours: DarkenArea()"

@{b}@{u}FUNCTION@{uu}@{ub}
Name:     DarkenArea()
Short:    Darkens a rectangular area of pixels.
Synopsis: void DarkenArea(*Bitmap [a0], WORD StartX [d0], WORD StartY [d1],
            WORD EndX [d2], WORD EndY [d3], WORD Percent [d4])

@{b}@{u}DESCRIPTION@{uu}@{ub}
This  function  is  used to darken a rectangular area on a Bitmap.  You are
required  to  set  a  percentage  setting  from  0  - 100 which affects the
darkness  of  the area.  An extremely high setting of 100% gives you a pure
black area, while 10% would give you just a slightly darker area.

@{b}@{u}INPUT@{uu}@{ub}
Bitmap
  Pointer to an initialised Bitmap.

X,Y
  The X and Y coordinates where the rectangle will start.

Width,Height
  The Width and Height of the rectangle.

Percent
  The darkness setting, from 0 to 100.

@EndNode
-----------------------------------------------------------------------------
@NODE "DarkenPixel()" "Colours: DarkenPixel()"

@{b}@{u}FUNCTION@{uu}@{ub}
Name:     DarkenPixel()
Short:    Darkens a pixel by a specified value.
Synopsis: void DarkenPixel(*Bitmap [a0], WORD X [d0], WORD Y [d1],
            WORD Percent [d2])

@{b}@{u}DESCRIPTION@{uu}@{ub}
This  function  is used to darken a pixel on a Bitmap.  You are required to
set  a  percentage  setting  from 0 - 100 which affects the darkness of the
area.  An extremely high setting of 100% gives you a pure black area, while
10% would give you just a slightly darker area.

@{b}@{u}INPUT@{uu}@{ub}
Bitmap
  Pointer to an initialised Bitmap.

X,Y
  The X and Y coordinates where the rectangle will start.

Width,Height
  The Width and Height of the rectangle.

Percent
  The darkness setting, from 0 to 100.

@EndNode
-----------------------------------------------------------------------------
@NODE "LightenArea()" "Colours: LightenArea()"

@{b}@{u}FUNCTION@{uu}@{ub}
Name:     LightenArea()
Short:    Lightens a rectangular area of pixels.
Synopsis: void LightenArea(*Bitmap [a0], WORD X [d0], WORD Y [d1],
            WORD Width [d2], WORD Height [d3], WORD Percent [d4])

@{b}@{u}DESCRIPTION@{uu}@{ub}
This  function  is used to lighten a rectangular area on a Bitmap.  You are
required  to  set  a  percentage  setting  from  0  - 100 which affects the
brightness of the area.  An extremely high setting of 100% gives you a pure
white area, while 10% would give you just a slightly brighter area.

@{b}@{u}INPUT@{uu}@{ub}
Bitmap
  Pointer to an initialised Bitmap.

X,Y
  The X and Y coordinates where the rectangle will start.

Width,Height
  The Width and Height of the rectangle.

Percent
  The light setting, from 0 to 100.

@EndNode
-----------------------------------------------------------------------------
@NODE "LightenPixel()" "Colours: LightenPixel()"

@{b}@{u}FUNCTION@{uu}@{ub}
Name:     LightenPixel()
Short:    Lightens the colour of a pixel.
Synopsis: void LightenPixel(*Bitmap [a0], WORD X [d0], WORD Y [d1],
            WORD Percent [d2])

@{b}@{u}DESCRIPTION@{uu}@{ub}
This  function is used to lighten a pixel on a Bitmap.  You are required to
set  a  percentage setting from 0 - 100 which affects the brightness of the
area.  An extremely high setting of 100% gives you a pure white area, while
10% would give you just a slightly brighter area.

@{b}@{u}INPUT@{uu}@{ub}
Bitmap
  Pointer to an initialised Bitmap.

X,Y
  The X and Y coordinates of the pixel.

Percent
  The light setting, from 0 to 100.

@EndNode
-----------------------------------------------------------------------------
@NODE "RemapBitmap()" "Colours: RemapBitmap()"

@{b}@{u}FUNCTION@{uu}@{ub}
Name:     RemapBitmap()
Short:    Remaps the colours of a Bitmap.
Synopsis: LONG RemapBitmap(*SrcBitmap [a0], *DestBitmap [a1],
            WORD Performance [d0])

@{b}@{u}DESCRIPTION@{uu}@{ub}
You  can use this function to remap the colours of a Bitmap to a new set of
colour  values.   This can be useful if you want to change the palette of a
Bitmap,  or  if  you are downgrading from a TRUECOLOUR Bitmap to a CHUNKY16
Bitmap for example.

@{b}@{u}INPUT@{uu}@{ub}
SrcBitmap
  The Bitmap that is acting as the source.

DestBitmap
  The Bitmap that will receive the remapped data.

Performance
  This is a performance rating from 0 - 100%.  If you specify 50% you will
  get a straight remap to the destination.  A setting of 100% would enable
  anti-aliasing and smoothing facilities, at a cost of being a lot slower.

@{b}@{u}RESULT@{uu}@{ub}
Returns ERR_OK if successful.

@EndNode
