@DATABASE "Music"
@AUTHOR   "Paul Manias"
@NODE     "Main" "Object: Music"

@{b}@{u}OBJECT DOCUMENTATION@{uu}@{ub}
Name:      @{"MUSIC" LINK "Description"}
Date:      October 1998
Author:    Gøran Thomassen
Copyright: DreamWorld Productions (c) 1998.  All rights reserved.

@EndNode
---------------------------------------------------------------------------
@NODE  "Description" "Object: Music"

@{b}@{u}OBJECT@{ub}@{uu}
Name:    Music
Version: 1
ID:      ID_MUSIC
Module:  @{"Music" LINK "GMSDev:AutoDocs/Music.guide/Functions"}
Include: @{"sound/music.h" LINK "GMSDev:Includes/sound/music.h/Main"}
Type:    Complex

@{b}@{u}DESCRIPTION@{ub}@{uu}
The  music object is provided for the playing of music modules created from
popular  programs such as OctaMED and Protracker.  It is one of the easiest
objects  to use - just specify the source, Init()ialise and then Activate()
the object to start playing a module.

A  variety  of extra functions are also provided for giving special effects
to  your music, such as fading, tempo and volume adjustments, pause, replay
and so on.

CD  Audio  has  yet to be supported, but in future this will be provided in
conjunction with the JukeBox object.

@{b}@{u}ACTIONS@{uu}@{ub}
The Music object supports the following actions:

     @{"Activate()" LINK "GMSDev:AutoDocs/Kernel.guide/Activate()"}   - Play the Music.
     @{"Deactivate()" LINK "GMSDev:AutoDocs/Kernel.guide/Deactivate()"} - Stop/Pause the Music.
     @{"Free()" LINK "GMSDev:AutoDocs/Kernel.guide/Free()"}       - Free a Music object.
     @{"Get()"  LINK "GMSDev:AutoDocs/Kernel.guide/Get()"}        - Get a new Music structure.
     @{"Init()" LINK "GMSDev:AutoDocs/Kernel.guide/Init()"}       - Initialise a Music object.

@{b}@{u}FUNCTIONS@{uu}@{ub}
Here are some functions supporting the Music object:

     @{"FadeMusicDown()" LINK "GMSDev:AutoDocs/Music.guide/FadeMusicDown()"}
     @{"FadeMusicUp()" LINK "GMSDev:AutoDocs/Music.guide/FadeMusicUp()"}
     @{"SetMusicChannel()" LINK "GMSDev:AutoDocs/Music.guide/SetMusicChannel()"}

@{b}@{u}STRUCTURE@{ub}@{uu}
The Music structure consists of the following public fields:

     @{"Artist"        LINK "MUS_Artist"}        - Who created the music.
     @{"Channels"      LINK "MUS_Channels"}      - Points to a channels array.
     @{"Flags"         LINK "MUS_Flags"}         - Special flags.
     @{"Position"      LINK "MUS_Position"}      - Current player position in the music.
     @{"Priority"      LINK "MUS_Priority"}      - Priority over sound effects -100 to +100.
     @{"Source"        LINK "MUS_Source"}        - Filename/location of the module.
     @{"Tempo"         LINK "MUS_Tempo"}         - Speed between 0 and 1000%.
     @{"Title"         LINK "MUS_Title"}         - The title of the music.
     @{"TotalChannels" LINK "MUS_TotalChannels"} - The total amount of audio channels in the music.
     @{"Volume"        LINK "MUS_Volume"}        - Overall volume of music (0 - 100).

@EndNode
---------------------------------------------------------------------------
@NODE "MUS_Artist" "Object: Music"

@{b}@{u}FIELD@{uu}@{ub}
Name:        Artist
Type:        BYTE *
Inheritance: Source
Status:      Read/Init

@{b}@{u}DESCRIPTION@{uu}@{ub}
This  field  will  tell you who composed the music, if that information was
available from the Source upon loading.

This field will be set to NULL if the author is not known.

@{b}@{u}SEE ALSO@{uu}@{ub}
Field: @{"Title" LINK "MUS_Title"}

@EndNode
---------------------------------------------------------------------------
@NODE "MUS_Channels" "Object: Music"

@{b}@{u}FIELD@{uu}@{ub}
Name:        Channels
Type:        BYTE *
Inheritance: Source
Status:      Read Only.

@{b}@{u}DESCRIPTION@{uu}@{ub}
The  Channels  field points to an array of bytes that reflects the state of
each channel.  A 4 channel musical piece will have an array that looks like
this after initialisation:

  Channel[0] = 1
  Channel[1] = 1
  Channel[2] = 1
  Channel[3] = 1

When  a channel value is set to 1 (TRUE) this indicates that the channel is
active.   Channels  set  to  0  (FALSE)  are  not playing.  You can use the
SetMusicChannel()  function  to  change the on/off values of a Music object
once it has been initialised.

@{b}@{u}SEE ALSO@{uu}@{ub}
Music: @{"TotalChannels" LINK "MUS_TotalChannels"}

@EndNode
---------------------------------------------------------------------------
@NODE "MUS_Flags" "Object: Music"

@{b}@{u}FIELD@{uu}@{ub}
Name:        Flags
Type:        LONG
Inheritance: Source
Status:      Read/Init

@{b}@{u}DESCRIPTION@{uu}@{ub}
Special  flags  that  affect  the  Music  object  can  be  specified  here.
Currently available flags are:

  @{b}MSF_LOOP@{ub}
  Once a module has reached its end it will stop playing automatically.  By
  setting  this  flag, you can force the module to start from the beginning
  again.

@EndNode
---------------------------------------------------------------------------
@NODE "MUS_Position" "Object: Music"

@{b}@{u}FIELD@{uu}@{ub}
Name:      Position
Type:      WORD
To Change: SetField(FID_Position,<Value>)
Status:    Read/Init

@{b}@{u}DESCRIPTION@{uu}@{ub}
The Position field determines the current position of the music in seconds.
It is automatically incremented by the music routine as it plays over time.

Sometimes you can set the position depending on how good the support is for
the  music  type  that you are playing.  Setting this field will not always
have a guaranteed outcome, but it is legal.

@EndNode
---------------------------------------------------------------------------
@NODE "MUS_Priority" "Object: Music"

@{b}@{u}FIELD@{uu}@{ub}
Name:      Priority
Type:      WORD
To Change: SetField(FID_Priority,<Value>)
Range:     -100 to +100
Default:   0 or User Setting.
Status:    Read/Init

@{b}@{u}DESCRIPTION@{uu}@{ub}
You  can  alter  the  priority  of the music in order to drain out or allow
sound effects to play over the top of it.  A setting of -100 will allow all
sound  effects  to take precedence over your music.  A setting of +100 will
prevent all sounds from playing, except for any other 100 priority sfx.

Use SetField() if you want to change the priority of your Music while it is
playing.

@{b}@{u}SEE ALSO@{uu}@{ub}
Music: @{"SetMusicPriority()" LINK "GMSDev:AutoDocs/Music.guide/SetMusicPriority()"}

@EndNode
---------------------------------------------------------------------------
@NODE "MUS_Source" "Object: Music"

@{b}@{u}FIELD@{uu}@{ub}
Name:   Source
Type:   APTR
Status: Read/Init

@{b}@{u}DESCRIPTION@{uu}@{ub}
Specify the Source of the Music here - this can be any source recognised by
OpenFile(), such as FileName, MemPtr or File objects.

@EndNode
---------------------------------------------------------------------------
@NODE "MUS_Tempo" "Object: Music"

@{b}@{u}FIELD@{uu}@{ub}
Name:        Tempo
Type:        WORD
Inheritance: Source
To Change:   SetField(FID_Tempo,<Value>)
Range:       0 - 1000
Default:     100.
Status:      Read/Init

@{b}@{u}DESCRIPTION@{uu}@{ub}
The  tempo  is a percentage setting that indicates the speed that the music
is  playing  at.   100%  is the default setting that will play the music at
a normal pace.  Here are some examples:

  25%  - Play at a quarter (1/4) of the pace.
  50%  - Half the speed.
  200% - Double the speed.

The  maximum  setting  of  1000% will play the music at 10 times the normal
speed.   A  setting  of 0 will cause the music to stop playing, but this is
not the same as calling Deactivate().

@{b}@{u}NOTE@{uu}@{ub}
Playing  music  at  very fast speeds will use up a little more CPU time, as
the  musical  routine  will  have  to  deal with a lot more information per
second.

@{b}@{u}SEE ALSO@{uu}@{ub}
Music: @{"SetMusicTempo()" LINK "GMSDev:AutoDocs/Music.guide/SetMusicTempo()"}

@EndNode
---------------------------------------------------------------------------
@NODE "MUS_Title" "Object: Music"

@{b}@{u}FIELD@{uu}@{ub}
Name:        Title
Type:        BYTE *
Inheritance: Source
Status:      Read/Init

@{b}@{u}DESCRIPTION@{uu}@{ub}
The title of the musical piece will be placed here.  If the title cannot be
derived  from  the  Source,  then  this  field  will  be  set  to  NULL  on
initialisation.

You may specify your own title in this field if you wish.

@{b}@{u}SEE ALSO@{uu}@{ub}
Field: @{"Artist" LINK "MUS_Artist"}

@EndNode
---------------------------------------------------------------------------
@NODE "MUS_TotalChannels" "Object: Music"

@{b}@{u}FIELD@{uu}@{ub}
Name:        TotalChannels
Type:        WORD
Inheritance: Source
Status:      Read Only.

@{b}@{u}DESCRIPTION@{uu}@{ub}
This  field  tells  you  how  many channels were used in creating a musical
piece.  TotalChannels relates directly to the size of the Channels array.

@{b}@{u}SEE ALSO@{uu}@{ub}
Music: @{"Channels" LINK "MUS_Channels"}

@EndNode
---------------------------------------------------------------------------
@NODE "MUS_Volume" "Object: Music"

@{b}@{u}FIELD@{uu}@{ub}
Name:        Volume
Type:        WORD
Inheritance: Source
To Change:   SetField(FID_Volume,<Value>)
Range:       0 - 100
Default:     User setting.
Status:      Read/Init

@{b}@{u}DESCRIPTION@{uu}@{ub}
The  volume  of  your music will affect the impact it has on the listener's
ears  :-).   You  are  quite  free  to  set the volume at 100 (the maximum)
because this will only play the music at the maximum user setting, and does
not reflect the hardware setting (which could be very loud at 100).

Use SetField() to alter the volume dynamically.

@{b}@{u}SEE ALSO@{uu}@{ub}
Music: @{"SetMusicVolume()" LINK "GMSDev:AutoDocs/Music.guide/SetMusicVolume()"}

@EndNode
