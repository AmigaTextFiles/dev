TABLE OF CONTENTS

scalosAPI/--background
scalosAPI/--Scalos_Message
scalosAPI/--Modules
scalosAPI/--PlugIn's
scalosAPI/--MenuPlugIn's
scalosAPI/MTYP_CloseWindow
scalosAPI/MTYP_NewPattern
scalosAPI/MTYP_Sleep
scalosAPI/MTYP_Wakeup
scalosAPI/MTYP_AppSleep
scalosAPI/MTYP_AppWakeup
scalosAPI/MTYP_Redraw
scalosAPI/MTYP_Update
scalosAPI/MTYP_UpdateIcon
scalosAPI/MTYP_AddIcon
scalosAPI/MTYP_RemIcon
scalosAPI/MTYP_Iconify
scalosAPI/MTYP_UnIconify


--background
This documentation gives you information how to comunicate with Scalos and
its windowtasks. There are not many MessageTypes currently available, but it
will be more in future.


--Scalos_Message
If you send a message to scalos you should use the SCA_AllocMessage and SCA_Free-
Message calls from the scalos.library. The returned message will look like
this:
	struct ScalosMessage
	{
		struct Message	ExecMessage;
		ULONG		Signature;	/* "IMSG" */
		ULONG		MessageType;
	};
The messageports where to send the messages to are available via the SCA_Lock-
WindowList/SCA_UnLockWindowList calls from scalos.library.

Additional data depends on the MessageType. Synopsis will give you information
about this data. Inputs means the message for PutMsg and Result the one that
was replied.


--Modules
Modules are programs with a standard wb-start enviroment. The arguments are
additional values (e.g. Execute_Command: the dir and the filename as default
value for the string-gadget)


--PlugIn's
PlugIn's are external BOOPSI Classes that will enhance or replace internal
classes. The only thing you have to do is to write a little library with
only on offset. This one has to return a ClassInfo struct. Your PlugIn can
be added automatically on startup if you add it to the PlugIn list in Scalos
Prefs.

    SYNOPSIS
	ClassInfo GetClassInfo()
	    D0

	struct ClassInfo GetClassInfo( void );


--MenuPlugIn's
A MenuPlugIn is a little library with one function. This function have to be
full reentrant. The windowtask is blocked until your function returns. Never
open a requester or block the task for a long time use SCCM_AsyncRoutine
instead.

    SYNOPSIS
	MenuFunction( WindowTask, IconNode)
	                 A0          A1

	void MenuFunction( struct WindowTask, struct IconNode );


    NAME
	MTYP_CloseWindow

    SYNOPSIS

    FUNCTION
	Closes the window of the selected messageport.

    INPUTS

    RESULT

    SEE ALSO


    NAME
	MTYP_NewPattern

    SYNOPSIS
	APTR PatternNode

    FUNCTION
	Sets a new pattern for the window

    INPUTS
	PatternNode - the new pattern or NULL for no pattern.

    RESULT

    SEE ALSO


    NAME
	MTYP_Sleep

    SYNOPSIS

    FUNCTION
	The windowtask that receives this message will be sleep. Only the
	window will be closed, no icon will be displayed.

    INPUTS

    RESULT

    NOTE
	Never send this message to a the main_messageport!

    SEE ALSO


    NAME
	MTYP_Wakeup

    SYNOPSIS
	ULONG	ReLayout

    FUNCTION
	Wakeup the selected window_task. It's the opposite to MTYP_Sleep.

    INPUTS
	ReLayout - BOOL - TRUE if all icons of the window should be relayouted

    RESULT

    NOTE
	Never send this message to a the main_messageport!

    SEE ALSO


    NAME
	MTYP_AppSleep

    SYNOPSIS

    FUNCTION
	All windowtasks and all ScalosApplications will fall
	asleep.

    INPUTS

    RESULT

    NOTE
	This message must be sent to the main_messageport!

    SEE ALSO


    NAME
	MTYP_AppWakeup

    SYNOPSIS
	ULONG	ReLayout

    FUNCTION
	Wakeup all thing that sleeps since MTYP_AppSleep.

    INPUTS
	ReLayout - BOOL - TRUE if all icons should be relayouted

    RESULT

    NOTE
	This message must be sent to the main_messageport!

    SEE ALSO


    NAME
	MTYP_Redraw

    SYNOPSIS
	ULONG	Flags

    FUNCTION
	Redraws the icons inside of the window. This method could be uses to
	refresh the window after adding or selecting/deselecting icons.

    INPUTS
	Flags - 
		DontClearBG - if you like that the window should clear
		              its background first set this to FALSE
		ReLayout - Rerender the layout of the icons

    RESULT

    SEE ALSO


    NAME
	MTYP_Update

    SYNOPSIS

    FUNCTION
	Causes the window to reread its icons.

    INPUTS

    RESULT

    SEE ALSO


    NAME
	MTYP_UpdateIcon

    SYNOPSIS
	struct UpdateIcon

    FUNCTION
	Refresh a selected icon.

    INPUTS
	UpdateIcon - WindowType specific data

    RESULT

    NOTE
	SCA_AllocMessage() does not allocate the UpdateIcon structure!

    SEE ALSO
	scalos.library/UpdateIcon

    NAME
	MTYP_AddIcon

    SYNOPSIS
	UWORD x
	UWORD y
	struct UpdateIcon

    FUNCTION
	Causes a window task to load a selected icon.

    INPUTS
	x,y - the position where the icon should appear or 0x8000 for any
	UpdateIcon - WindowType specific data

    RESULT

    NOTE
	SCA_AllocMessage() does not allocate the UpdateIcon structure!

    SEE ALSO


    NAME
	MTYP_RemIcon

    SYNOPSIS
	struct UpdateIcon

    FUNCTION
	Removes an icon from window.

    INPUTS
	UpdateIcon - WindowType specific data

    RESULT

    NOTE
	SCA_AllocMessage() does not allocate the UpdateIcon structure!

    SEE ALSO


    NAME
	MTYP_Iconify

    SYNOPSIS

    FUNCTION
	Set the window to sleep and adds an icon to the main window.

    INPUTS

    NOTE
	Never send this message to the main window!

    RESULT

    SEE ALSO


    NAME
	MTYP_UnIconify

    SYNOPSIS

    FUNCTION
	Removes the appicon from main window and reopens the window.

    INPUTS

    RESULT

    NOTE
	Never send this message to the main window!

    SEE ALSO

