ML_DEV_LIB = /lib/ModemLinkDev.lib
ML_LIB = /lib/ModemLink_000.lib

##
## If you move the ModemLink include files (ModemLink/, proto/, clib/ and
## pragmas/) make sure to update this line to point to the new location.
##
OPTS = idir "/include"

all: TestML TestMLDev

clean:
     delete \#?.o \#?.lnk

##
## ModemLink.lib test program:
##

TestML: TestML.o $(ML_LIB)
     sc TestML.o link lib $(ML_LIB)

TestML.o: TestML.c
     sc TestML.c $(OPTS) nolink objname TestML.o

##
## ModemLink.device test program:
##

TestMLDev: TestMLDev.o $(ML_DEV_LIB) DeviceStuff.o
     sc TestMLDev.o link lib $(ML_DEV_LIB) DeviceStuff.o

TestMLDev.o: TestMLDev.c
     sc TestMLDev.c $(OPTS) nolink objname TestMLDev.o

##
## The following is a module containing general purpose device functions.
## These are the same ones used by the ModemLink .device/.lib internally.
## Feel free to use these as well...
##

DeviceStuff.o: DeviceStuff.c DeviceStuff.h
     sc DeviceStuff.c nolink objname DeviceStuff.o
