/*
 * ifextract
 * by megacz
*/

parse arg input
input = upper(compress(input))
if input = "" then do
  input = "none"
end
output = ""
if open(file, "AmiTCP:db/interfaces", 'R') then do
  do until eof(file)
    line = readln(file)
    if line ~= "" then do
      parse var line iface " " rest "DEV" dev " " rest
      iface = compress(iface)
      dev = compress(dev)
      if iface ~= "" & dev ~= "" then do
        if upper(iface) = input then do
          output = "dev "||dev||" 0 "||iface
          break
        end
      end
    end
  end
  close(file)
end
if output = "" then do
  output = "dev none.device 0 none"
end
say output
