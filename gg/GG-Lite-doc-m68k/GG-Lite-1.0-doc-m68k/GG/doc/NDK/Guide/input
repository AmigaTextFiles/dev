@DATABASE "gg:doc/NDK/Guide/input"
@MASTER   "gg:doc/NDK/AutoDocs/input.doc"
@REMARK   This file was created by ADtoHT 2.1 on 06-Jan-13 19:22:57
@REMARK   Do not edit
@REMARK   ADtoHT is © 1993-1995 Christian Stieber

@NODE MAIN "input.doc"
@TOC "gg:doc/NDK/Guide/TOC/MAIN"

                                @{b}input.device@{ub}

@{"IND_ADDHANDLER" LINK "IND_ADDHANDLER"}   @{"IND_REMHANDLER" LINK "IND_REMHANDLER"}  @{"IND_SETMPORT" LINK "IND_SETMPORT"}   @{"IND_SETMTRIG" LINK "IND_SETMTRIG"}
@{"IND_SETMTYPE" LINK "IND_SETMTYPE"}     @{"IND_SETPERIOD" LINK "IND_SETPERIOD"}   @{"IND_SETTHRESH" LINK "IND_SETTHRESH"}  @{"IND_WRITEEVENT" LINK "IND_WRITEEVENT"}
@{"PeekQualifier()" LINK "PeekQualifier"}  

@ENDNODE
@NODE "IND_ADDHANDLER" "input.device/IND_ADDHANDLER"
@{b}

   NAME@{ub}
        @{"IND_ADDHANDLER" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 17} -- Add an input handler to the device@{b}

   FUNCTION@{ub}
        Add a function to the list of functions called to handle
        input events generated by this device.  The function is called
        as
            newInputEvents = Handler(inputEvents, handlerData);
            D0                       A0           A1@{b}

   IO REQUEST@{ub}
        io_Message      mn_ReplyPort set
        io_Device       preset by @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
        io_Unit         preset by @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
        io_Command      @{"IND_ADDHANDLER" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 17}
        io_Data         a pointer to an interrupt structure.
            is_Data     the handlerData pointer described above
            is_Code     the Handler function address@{b}

   NOTES@{ub}
        The interrupt structure is kept by the input device until a
        RemHandler command is satisfied for it.

@ENDNODE
@NODE "IND_REMHANDLER" "input.device/IND_REMHANDLER"
@{b}

   NAME@{ub}
        @{"IND_REMHANDLER" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 18} -- Remove an input handler from the device@{b}

   FUNCTION@{ub}
        Remove a function previously added to the list of handler
        functions.@{b}

   IO REQUEST@{ub}
        io_Message      mn_ReplyPort set
        io_Device       preset by @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
        io_Unit         preset by @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
        io_Command      @{"IND_REMHANDLER" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 18}
        io_Data         a pointer to the interrupt structure.@{b}

   NOTES@{ub}
        This command is not immediate

@ENDNODE
@NODE "IND_SETMPORT" "input.device/IND_SETMPORT"
@{b}

   NAME@{ub}
        @{"IND_SETMPORT" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 22} -- Set the current mouse port@{b}

   FUNCTION@{ub}
        This command sets the gameport port at which the mouse is
        connected.@{b}

   IO REQUEST@{ub}
        io_Message      mn_ReplyPort set if quick I/O is not possible
        io_Device       preset by the call to @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
        io_Unit         preset by the call to @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
        io_Command      @{"IND_SETMPORT" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 22}
        io_Flags        @{"IOB_QUICK" LINK "gg:doc/NDK/Guide/Include/exec/io.h/File" 45} set if quick I/O is possible
        io_Length       1
        io_Data         a pointer to a byte that is either 0 or 1,
                        indicating that mouse input should be obtained
                        from either the left or right controller port,
                        respectively.

@ENDNODE
@NODE "IND_SETMTRIG" "input.device/IND_SETMTRIG"
@{b}

   NAME@{ub}
        @{"IND_SETMTRIG" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 24} -- Set the conditions for a mouse port report@{b}

   FUNCTION@{ub}
        This command sets what conditions must be met by a mouse
        before a pending Read request will be satisfied.  The trigger
        specification is that used by the gameport device.@{b}

   IO REQUEST@{ub}
        io_Message      mn_ReplyPort set if quick I/O is not possible
        io_Device       preset by the call to @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
        io_Unit         preset by the call to @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
        io_Command      @{"IND_SETMTRIG" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 24}
        io_Flags        @{"IOB_QUICK" LINK "gg:doc/NDK/Guide/Include/exec/io.h/File" 45} set if quick I/O is possible
        io_Length       sizeof(gameportTrigger)
        io_Data         a structure of type GameportTrigger, which
                        has the following elements
            gpt_Keys -
                    @{"GPTB_DOWNKEYS" LINK "gg:doc/NDK/Guide/Include/devices/gameport.h/File" 31} set if button down transitions
                    trigger a report, and @{"GPTB_UPKEYS" LINK "gg:doc/NDK/Guide/Include/devices/gameport.h/File" 33} set if button up
                    transitions trigger a report
            gpt_Timeout -
                    a time which, if exceeded, triggers a report;
                    measured in vertical blank units (60/sec)
            gpt_XDelta  -
                    a distance in x which, if exceeded, triggers a
                    report
            gpt_YDelta  -
                    a distance in x which, if exceeded, triggers a
                    report

@ENDNODE
@NODE "IND_SETMTYPE" "input.device/IND_SETMTYPE"
@{b}

   NAME@{ub}
        @{"IND_SETMTYPE" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 23} -- Set the current mouse port controller type@{b}

   FUNCTION@{ub}
        This command sets the type of device at the mouse port, so
        the signals at the port may be properly interpreted.@{b}

   IO REQUEST@{ub}
        io_Message      mn_ReplyPort set if quick I/O is not possible
        io_Device       preset by the call to @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
        io_Unit         preset by the call to @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
        io_Command      @{"IND_SETMTYPE" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 23}
        io_Flags        @{"IOB_QUICK" LINK "gg:doc/NDK/Guide/Include/exec/io.h/File" 45} set if quick I/O is possible
        io_Length       1
        io_Data         the address of the byte variable describing
                        the controller type, as per the equates in
                        the gameport include file

@ENDNODE
@NODE "IND_SETPERIOD" "input.device/IND_SETPERIOD"
@{b}

   NAME@{ub}
        @{"IND_SETPERIOD" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 21} -- Set the key repeat period@{b}

   FUNCTION@{ub}
        This command sets the period at which a repeating key repeats.

        This command always executes immediately.

        IO REQUEST - a timerequest
             tr_node.io_Message      mn_ReplyPort set if quick I/O is not possible
             tr_node.io_Device       preset by the call to @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
             tr_node.io_Unit         preset by the call to @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
             tr_node.io_Command      @{"IND_SETPERIOD" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 21}
             tr_node.io_Flags        @{"IOB_QUICK" LINK "gg:doc/NDK/Guide/Include/exec/io.h/File" 45} set if quick I/O is possible
             tr_time.tv_secs         the repeat period seconds
             tr_time.tv_micro        the repeat period microseconds

@ENDNODE
@NODE "IND_SETTHRESH" "input.device/IND_SETTHRESH"
@{b}

   NAME@{ub}
        @{"IND_SETTHRESH" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 20} -- Set the key repeat threshold@{b}

   FUNCTION@{ub}
        This command sets the time that a key must be held down before
        it can repeat.  The repeatability of a key may be restricted
        (as, for example, are the shift keys).

        This command always executes immediately.

        IO REQUEST - a timerequest
             tr_node.io_Message      mn_ReplyPort set if quick I/O is not possible
             tr_node.io_Device       preset by the call to @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
             tr_node.io_Unit         preset by the call to @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
             tr_node.io_Command      @{"IND_SETTHRESH" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 20}
             tr_node.io_Flags        @{"IOB_QUICK" LINK "gg:doc/NDK/Guide/Include/exec/io.h/File" 45} set if quick I/O is possible
             tr_time.tv_secs         the threshold seconds
             tr_time.tv_micro        the threshold microseconds

@ENDNODE
@NODE "IND_WRITEEVENT" "input.device/IND_WRITEEVENT"
@{b}

   NAME@{ub}
        @{"IND_WRITEEVENT" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 19} -- Propagate an input event to all handlers@{b}

   FUNCTION@{ub}@{b}

   IO REQUEST@{ub}
        io_Message      mn_ReplyPort set if quick I/O is not possible
        io_Device       preset by the call to @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
        io_Unit         preset by the call to @{"OpenDevice" LINK "gg:doc/NDK/Guide/exec/OpenDevice"}
        io_Command      @{"IND_WRITEEVENT" LINK "gg:doc/NDK/Guide/Include/devices/input.h/File" 19}
        io_Flags        @{"IOB_QUICK" LINK "gg:doc/NDK/Guide/Include/exec/io.h/File" 45} set if quick I/O is possible
        io_Length       should be sizeof(@{"struct InputEvent" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 257})
        io_Data         a pointer to the @{"struct InputEvent" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 257}:
            ie_NextEvent
                        will be ignored.
            ie_Class
            ie_SubClass
            ie_Code
            ie_Qualifier
            @{"ie_X" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 279}, @{"ie_Y" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 280}
                        as desired
            ie_TimeStamp
                        will be set by this call (V36)@{b}

   NOTES@{ub}
        The contents of the input event are destroyed.

        This function was documented in V34 and earlier to allow
        chaining of events via ie_NextEvent.  The implementation
        never allowed that.  The documentation now reflects this.

        ie_TimeStamp is set only in V36 and later.  Software written
        to run on earlier versions should set this field to the
        current time.

@ENDNODE
@NODE "PeekQualifier" "input.device/PeekQualifier()"
@{b}

   NAME@{ub}
        @{"PeekQualifier" LINK "gg:doc/NDK/Guide/Include/inline/input.h/File" 20} -- get the input device's current qualifiers (V36)@{b}

   SYNOPSIS@{ub}
        qualifier = @{"PeekQualifier" LINK "gg:doc/NDK/Guide/Include/inline/input.h/File" 20}()
        d0

        @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55} @{"PeekQualifier" LINK "gg:doc/NDK/Guide/Include/inline/input.h/File" 20}( @{"VOID" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 24} );@{b}

   FUNCTION@{ub}
        This function takes a snapshot of what the input device thinks
        the current qualifiers are.@{b}

   RESULTS@{ub}
        qualifier - a word with the following bits set according to
            what the input device knows their state to be:
                @{"IEQUALIFIER_LSHIFT" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 221}, @{"IEQUALIFIER_RSHIFT" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 222},
                @{"IEQUALIFIER_CAPSLOCK" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 223}, @{"IEQUALIFIER_CONTROL" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 224},
                @{"IEQUALIFIER_LALT" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 225}, @{"IEQUALIFIER_RALT" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 226},
                @{"IEQUALIFIER_LCOMMAND" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 227}, @{"IEQUALIFIER_RCOMMAND" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 228},
                @{"IEQUALIFIER_LEFTBUTTON" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 235}, @{"IEQUALIFIER_RBUTTON" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 234},
                @{"IEQUALIFIER_MIDBUTTON" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 233}@{b}

   NOTE@{ub}
        This function is new for V36.@{b}

   SEE ALSO@{ub}
        @{"devices/inputevent.h" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File"}

@ENDNODE
