@DATABASE "gg:doc/NDK/Guide/rexxsyslib"
@MASTER   "gg:doc/NDK/AutoDocs/rexxsyslib.doc"
@REMARK   This file was created by ADtoHT 2.1 on 06-Jan-13 19:25:00
@REMARK   Do not edit
@REMARK   ADtoHT is © 1993-1995 Christian Stieber

@NODE MAIN "rexxsyslib.doc"
@TOC "gg:doc/NDK/Guide/TOC/MAIN"

                             @{b}rexxsyslib.library@{ub}

@{"ClearRexxMsg()" LINK "ClearRexxMsg"}   @{"CreateArgstring()" LINK "CreateArgstring"}  @{"CreateRexxMsg()" LINK "CreateRexxMsg"}  @{"DeleteArgstring()" LINK "DeleteArgstring"}
@{"DeleteRexxMsg()" LINK "DeleteRexxMsg"}  @{"FillRexxMsg()" LINK "FillRexxMsg"}      @{"IsRexxMsg()" LINK "IsRexxMsg"}      @{"LengthArgstring()" LINK "LengthArgstring"}
@{"LockRexxBase()" LINK "LockRexxBase"}   @{"UnlockRexxBase()" LINK "UnlockRexxBase"}   

@ENDNODE
@NODE "ClearRexxMsg" "rexxsyslib.library/ClearRexxMsg()"
@{b}

    NAME@{ub}
        @{"ClearRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 46} - Releases and clears the argument array in a RexxMsg@{b}

    SYNOPSIS@{ub}
        @{"ClearRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 46}(msgptr, count)
                     A0      D0

        @{"VOID" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 24} @{"ClearRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 46}(@{"struct RexxMsg" LINK "gg:doc/NDK/Guide/Include/rexx/storage.h/File" 98} *,@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52});@{b}

    FUNCTION@{ub}
        This function will @{"DeleteArgstring()" LINK "DeleteArgstring"} one or more argstrings from
        the RexxMsg and clear the slot.  The count is used to select the
        number of slots to clear.@{b}

    INPUTS@{ub}
        msgptr - A pointer to a RexxMsg
        count - The number of slots to be cleared.  The number can be from
                1 to 16.  (There are 16 slots)@{b}

    RESULTS@{ub}
        All of the slots in the given count will be cleared and the argstring
        will have been released.@{b}

    SEE ALSO@{ub}
        @{"FillRexxMsg()" LINK "FillRexxMsg"}, @{"DeleteRexxMsg()" LINK "DeleteRexxMsg"}, @{"DeleteArgstring()" LINK "DeleteArgstring"}, @{"CreateArgstring()" LINK "CreateArgstring"}@{b}

    BUGS@{ub}

@ENDNODE
@NODE "CreateArgstring" "rexxsyslib.library/CreateArgstring()"
@{b}

    NAME@{ub}
        @{"CreateArgstring" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 26} - Create an argument string structure@{b}

    SYNOPSIS@{ub}
        argstr = @{"CreateArgstring" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 26}(string, length)
        D0,A0                    A0      D0

        @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} *@{"CreateArgstring" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 26}(@{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} *, @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52});@{b}

    FUNCTION@{ub}
        Allocates a RexxArg structure and copies the supplied string into it.
        The returned pointer points at the string part of the structure
        and can be treated like an ordinary string pointer.  (However, care
        must be taken that you do not change the string)@{b}

    INPUTS@{ub}
        string - A pointer at your input string
        length - The number of bytes of your input string you wish copied.
                 (NOTE:  You are limited to 65,535 byte strings)@{b}

    RESULTS@{ub}
        argstr - A pointer to the argument string.  The results are returned
                 in both A0 and D0.  You should always check the result
                 as an allocation failure would cause an error.@{b}

    SEE ALSO@{ub}
        @{"DeleteArgstring()" LINK "DeleteArgstring"}, @{"LengthArgstring()" LINK "LengthArgstring"}, @{"ClearRexxMsg()" LINK "ClearRexxMsg"}, @{"FillRexxMsg()" LINK "FillRexxMsg"}@{b}

    BUGS@{ub}

@ENDNODE
@NODE "CreateRexxMsg" "rexxsyslib.library/CreateRexxMsg()"
@{b}

    NAME@{ub}
        @{"CreateRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 38} - Create an ARexx message structure@{b}

    SYNOPSIS@{ub}
        rexxmsg = @{"CreateRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 38}(port, extension, host)
        D0,A0                   A0    A1         D0

        @{"struct RexxMsg" LINK "gg:doc/NDK/Guide/Include/rexx/storage.h/File" 98} *@{"CreateRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 38}(@{"struct MsgPort" LINK "gg:doc/NDK/Guide/Include/exec/ports.h/File" 28} *, @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} *, @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} *);@{b}

    FUNCTION@{ub}
        This functions allocates an ARexx message packet.  The RexxMsg
        consists of a standard EXEC message structure extended to include
        the ARexx specific information.@{b}

    INPUTS@{ub}
        port - A pointer to a public or private message port.  This *MUST*
               be a valid port as this is where the message will be replied.

        extension - A pointer to a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} terminated string that is to be used
                    as the default extension for the REXX scripts.  If this
                    is @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}, the default is "REXX"

        host - A pointer to a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} terminated string that is to be used
               as the default host port.  The name must be the same as the
               name of the public message port that is to be the default host.
               If this field is @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}, the default is REXX.@{b}

    RESULTS@{ub}
        rexxmsg - A RexxMsg structure@{b}

    NOTES@{ub}
        The extension and host strings must remain valid for as long as the
        RexxMsg exists as only the pointer to those strings are stored.@{b}

    SEE ALSO@{ub}
        @{"DeleteRexxMsg()" LINK "DeleteRexxMsg"}, @{"ClearRexxMsg()" LINK "ClearRexxMsg"}, @{"FillRexxMsg()" LINK "FillRexxMsg"}@{b}

    BUGS@{ub}

@ENDNODE
@NODE "DeleteArgstring" "rexxsyslib.library/DeleteArgstring()"
@{b}

    NAME@{ub}
        @{"DeleteArgstring" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 30} - Releases an Argstring created by @{"CreateArgstring()" LINK "CreateArgstring"}@{b}

    SYNOPSIS@{ub}
        @{"DeleteArgstring" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 30}(argstring)
                        A0

        @{"VOID" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 24} @{"DeleteArgstring" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 30}(@{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} *);@{b}

    FUNCTION@{ub}
        Releases an argstring.  The argstring must have been created by ARexx@{b}

    INPUTS@{ub}
        argstring - A pointer to the string buffer of an argstring.@{b}

    RESULTS@{ub}@{b}

    SEE ALSO@{ub}
        @{"CreateArgstring()" LINK "CreateArgstring"}, @{"ClearRexxMsg()" LINK "ClearRexxMsg"}, @{"FillRexxMsg()" LINK "FillRexxMsg"}@{b}

    BUGS@{ub}

@ENDNODE
@NODE "DeleteRexxMsg" "rexxsyslib.library/DeleteRexxMsg()"
@{b}

    NAME@{ub}
        @{"DeleteRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 42} - Releases a RexxMsg structure created by @{"CreateRexxMsg()" LINK "CreateRexxMsg"}@{b}

    SYNOPSIS@{ub}
        @{"DeleteRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 42}(packet)
                      A0

        @{"VOID" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 24} @{"DeleteRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 42}(@{"struct RexxMsg" LINK "gg:doc/NDK/Guide/Include/rexx/storage.h/File" 98} *);@{b}

    FUNCTION@{ub}
        The function releases an ARexx message packet that was allocated
        with @{"CreateRexxMsg()" LINK "CreateRexxMsg"}.  Any argument fields in the RexxMsg structure
        should be cleared before calling this function as it does
        not release them for you.@{b}

    INPUTS@{ub}
        packet - A pointer to a RexxMsg structure allocated by @{"CreateRexxMsg()" LINK "CreateRexxMsg"}@{b}

    EXAMPLE@{ub}
        if (rmsg=@{"CreateRexxMsg" LINK "CreateRexxMsg"}(myport,"myapp","MYAPP_PORT"))
        {
                /* Do my think with rmsg */
                @{"ClearRexxMsg" LINK "ClearRexxMsg"}(rmsg,16);  /* We may not want to clear all 16 */
                @{"DeleteRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 42}(rmsg);
        }@{b}

    SEE ALSO@{ub}
        @{"CreateRexxMsg()" LINK "CreateRexxMsg"}, @{"ClearRexxMsg()" LINK "ClearRexxMsg"}@{b}

    BUGS@{ub}

@ENDNODE
@NODE "FillRexxMsg" "rexxsyslib.library/FillRexxMsg()"
@{b}

    NAME@{ub}
        @{"FillRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 50} - Fill the argument strings as needed@{b}

    SYNOPSIS@{ub}
        result = @{"FillRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 50}(msgptr, count, mask)
        D0                   A0      D0     D1 [0:15]

        @{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91} @{"FillRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 50}(@{"struct RexxMsg" LINK "gg:doc/NDK/Guide/Include/rexx/storage.h/File" 98} *,@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52},@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52});@{b}

    FUNCTION@{ub}
        This function will convert and install up to 16 argument strings into
        a RexxMsg structure.  The message packet's argument fields must be
        set to either a pointer to a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} terminated string or an integer value
        The mask, bits 0 to 15, correspond to the type of value is stored
        in the argument slot.  If the bit is cleared, the argument is a
        string pointer; if the bit is set, the argument is an integer.@{b}

    INPUTS@{ub}
        msgptr - Pointer to a RexxMsg (allocated via @{"CreateRexxMsg" LINK "CreateRexxMsg"})
        count - The number of argument slots to fill in.  This number should
                be from 1 to 16.

        mask - A bit mask corresponding to the 16 fields that is used to
               determine the type of the field.@{b}

    RESULTS@{ub}
        result - A boolean.  If it is @{"TRUE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 95}, the call worked.  If it is false,
                 some allocation did not work.  All argstrings that were
                 created will be released.@{b}

    SEE ALSO@{ub}
        @{"ClearRexxMsg()" LINK "ClearRexxMsg"}, @{"CreateArgstring()" LINK "CreateArgstring"}, @{"DeleteArgstring()" LINK "DeleteArgstring"}, @{"CreateRexxMsg()" LINK "CreateRexxMsg"}@{b}

    BUGS@{ub}

@ENDNODE
@NODE "IsRexxMsg" "rexxsyslib.library/IsRexxMsg()"
@{b}

    NAME@{ub}
        @{"IsRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 54} - Function to determine if a message came from ARexx@{b}

    SYNOPSIS@{ub}
        result = @{"IsRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 54}(msgptr)
        D0                 A0

        @{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91} @{"IsRexxMsg" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 54}(@{"struct RexxMsg" LINK "gg:doc/NDK/Guide/Include/rexx/storage.h/File" 98} *);@{b}

    FUNCTION@{ub}
        This function can be used to determine if a message came from an
        ARexx program.@{b}

    INPUTS@{ub}
        msgptr - A pointer to the suspected RexxMsg.@{b}

    RESULTS@{ub}
        result - A boolean:  @{"TRUE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 95} if it is an ARexx message, @{"FALSE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 98} if not.@{b}

    SEE ALSO@{ub}
        @{"CreateRexxMsg()" LINK "CreateRexxMsg"}@{b}

    BUGS@{ub}

@ENDNODE
@NODE "LengthArgstring" "rexxsyslib.library/LengthArgstring()"
@{b}

    NAME@{ub}
        @{"LengthArgstring" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 34} - Returns the length value stored in the argstring@{b}

    SYNOPSIS@{ub}
        length = @{"LengthArgstring" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 34}(argstring)
        D0                       A0

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} @{"LengthArgstring" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 34}(@{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} *);@{b}

    FUNCTION@{ub}
        This function returns the length value stored in the argstring.
        This is *@{"NOT" LINK "gg:doc/NDK/Guide/Include/intuition/intuition.h/File" 1500}* the same as doing a strlen() type call on the
        argstring.  (Note that argstrings may contain NULLs)@{b}

    INPUTS@{ub}
        argstring - A pointer to an argstring that was created by ARexx@{b}

    RESULTS@{ub}
        length - The length of the argstring.@{b}

    EXAMPLE@{ub}@{b}

    SEE ALSO@{ub}
        @{"CreateArgstring()" LINK "CreateArgstring"}@{b}

    BUGS@{ub}

@ENDNODE
@NODE "LockRexxBase" "rexxsyslib.library/LockRexxBase()"
@{b}

    NAME@{ub}
        @{"LockRexxBase" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 58} - Obtain a semaphore lock on the RexxBase structure@{b}

    SYNOPSIS@{ub}
        @{"LockRexxBase" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 58}(resource)
                     D0

        @{"VOID" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 24} @{"LockRexxBase" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 58}(@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52});@{b}

    FUNCTION@{ub}
        Secures the specified resource in the ARexx library base.@{b}

    INPUTS@{ub}
        resource - A manifest constant defining which resource to lock.
                   ZERO locks all resources.@{b}

    NOTES@{ub}
        Currently, only ZERO resource type is available.  You *MUST* make
        sure that you do not call this function with an undefined value
        as it may become defined at some future date and cause unwanted
        behavior.@{b}

    SEE ALSO@{ub}
        @{"UnlockRexxBase()" LINK "UnlockRexxBase"}@{b}

    BUGS@{ub}

@ENDNODE
@NODE "UnlockRexxBase" "rexxsyslib.library/UnlockRexxBase()"
@{b}

    NAME@{ub}
        @{"UnlockRexxBase" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 62} - Release a semaphore lock on the RexxBase structure@{b}

    SYNOPSIS@{ub}
        @{"UnlockRexxBase" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 62}(resource)
                       D0

        @{"VOID" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 24} @{"UnlockRexxBase" LINK "gg:doc/NDK/Guide/Include/inline/rexxsyslib.h/File" 62}(@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52});@{b}

    FUNCTION@{ub}
        Releases the specified resource in the ARexx library base.@{b}

    INPUTS@{ub}
        resource - A manifest constant defining which resource to unlock.
                   This value *MUST* match the value used in the matching
                   @{"LockRexxBase()" LINK "LockRexxBase"} call.@{b}

    NOTES@{ub}
        Currently, only ZERO resource type is available.  You *MUST* make
        sure that you do not call this function with an undefined value
        as it may become defined at some future date and cause unwanted
        behavior.  You *MUST* make sure that you only call this function
        after a matching call to @{"LockRexxBase()" LINK "LockRexxBase"} was made.@{b}

    SEE ALSO@{ub}
        @{"LockRexxBase()" LINK "LockRexxBase"}@{b}

    BUGS@{ub}

@ENDNODE
