@DATABASE "gg:doc/NDK/Guide/locale"
@MASTER   "gg:doc/NDK/AutoDocs/locale.doc"
@REMARK   This file was created by ADtoHT 2.1 on 06-Jan-13 19:24:07
@REMARK   Do not edit
@REMARK   ADtoHT is © 1993-1995 Christian Stieber

@NODE MAIN "locale.doc"
@TOC "gg:doc/NDK/Guide/TOC/MAIN"

                               @{b}locale.library@{ub}

@{"environment_vars" LINK "environment_vars"}
@{"rexxhost" LINK "rexxhost"}
@{"structures" LINK "structures"}

@{"CloseCatalog()" LINK "CloseCatalog"}  @{"CloseLocale()" LINK "CloseLocale"}   @{"ConvToLower()" LINK "ConvToLower"}    @{"ConvToUpper()" LINK "ConvToUpper"}
@{"FormatDate()" LINK "FormatDate"}    @{"FormatString()" LINK "FormatString"}  @{"GetCatalogStr()" LINK "GetCatalogStr"}  @{"GetLocaleStr()" LINK "GetLocaleStr"}
@{"IsXXXX()" LINK "IsXXXX"}        @{"OpenCatalog()" LINK "OpenCatalog"}   @{"OpenCatalogA()" LINK "OpenCatalog"}   @{"OpenLocale()" LINK "OpenLocale"}
@{"ParseDate()" LINK "ParseDate"}     @{"StrConvert()" LINK "StrConvert"}    @{"StrnCmp()" LINK "StrnCmp"}        

@ENDNODE
@NODE "environment_vars" "locale.library/environment_vars (information)"


        Starting with V40, @{"locale.library" LINK "gg:doc/NDK/Guide/locale/MAIN"} maintains a global environment
        variable called "Language" which contains the name of the current
        default language as used in the system. This is the name of the
        language associated with the Locale structure returned by
        @{"OpenLocale" LINK "gg:doc/NDK/Guide/locale/OpenLocale"}(@{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}).

   EXAMPLE
        From a shell:

                Echo "The system language currently is: $Language"

        will print the name of the current system language ("english",
        "français", etc)

@ENDNODE
@NODE "rexxhost" "locale.library/rexxhost (information)"


   HOST INTERFACE
        @{"locale.library" LINK "gg:doc/NDK/Guide/locale/MAIN"} provides an ARexx function host interface that enables
        ARexx programs to take advantage of system localization. The
        functions provided by the interface are directly related to the
        functions described herein, with the differences mostly being
        in the way they are called.

        The function host library vector is located at offset -30 from the
        library. This is the value you provide to ARexx in the AddLib()
        function call.

   FUNCTIONS
        @{"CloseCatalog" LINK "gg:doc/NDK/Guide/locale/CloseCatalog"} (CATALOG/N/A)
        @{"ConvToLower" LINK "gg:doc/NDK/Guide/locale/ConvToLower"} (CHARACTER/A)
        @{"ConvToUpper" LINK "gg:doc/NDK/Guide/locale/ConvToUpper"} (CHARACTER/A)
        @{"GetCatalogStr" LINK "gg:doc/NDK/Guide/locale/GetCatalogStr"} (CATALOG/A,STRING/N/A,DEFAULT/A)
        @{"IsAlNum" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 67} (CHARACTER/A)
        @{"IsAlpha" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 71} (CHARACTER/A)
        @{"IsCntrl" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 75} (CHARACTER/A)
        @{"IsDigit" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 79} (CHARACTER/A)
        @{"IsGraph" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 83} (CHARACTER/A)
        @{"IsLower" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 87} (CHARACTER/A)
        @{"IsPrint" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 91} (CHARACTER/A)
        @{"IsPunct" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 95} (CHARACTER/A)
        @{"IsSpace" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 99} (CHARACTER/A)
        @{"IsUpper" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 103} (CHARACTER/A)
        @{"IsXDigit" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 107} (CHARACTER/A)
        @{"OpenCatalog" LINK "gg:doc/NDK/Guide/locale/OpenCatalog"} (NAME/A,BUILTINLANGUAGE/A,VERSION/N/A)
        Strncmp (STRING1/A,STRING2/A,TYPE/N/A)

   EXAMPLE
        /* localetest.rexx */

        /* Make sure locale is loaded as a function host */
        IF ~SHOW(L,'@{"locale.library" LINK "gg:doc/NDK/Guide/locale/MAIN"}') THEN DO
          CALL ADDLIB('@{"locale.library" LINK "gg:doc/NDK/Guide/locale/MAIN"}',0,-30)
        END;

        say @{"ConvToLower" LINK "gg:doc/NDK/Guide/locale/ConvToLower"}("A");
        say @{"ConvToUpper" LINK "gg:doc/NDK/Guide/locale/ConvToUpper"}("b");
        say @{"IsAlpha" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 71}("1");

        catalog = @{"OpenCatalog" LINK "gg:doc/NDK/Guide/locale/OpenCatalog"}("sys/workbench.catalog","english",0);
        say @{"GetCatalogStr" LINK "gg:doc/NDK/Guide/locale/GetCatalogStr"}(catalog,34,"default");
        say @{"CloseCatalog" LINK "gg:doc/NDK/Guide/locale/CloseCatalog"}(catalog);
        say @{"StrnCmp" LINK "gg:doc/NDK/Guide/locale/StrnCmp"}("test","test",2);

@ENDNODE
@NODE "structures" "locale.library/structures (information)"


        The Locale structure is the main public structure provided by
        @{"locale.library" LINK "gg:doc/NDK/Guide/locale/MAIN"}. The structure is defined in <@{"libraries/locale.h" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File"}>
        and consists of the following fields:

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_LocaleName
            Locale's name.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_LanguageName
            The language of the driver bound to this locale.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_PrefLanguages[10]
            The ordered list of preferred languages for this locale.

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} loc_Flags
            Locale flags. Currently always 0.

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} loc_CodeSet
            Specifies the code set required by this locale. Currently, this
            value is always 0.

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} loc_CountryCode
            The international country code.

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} loc_TelephoneCode
            The international telephone code for the country.

        @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51} loc_GMTOffset
            The offset in minutes of the current location from GMT.
            Positive indicates a Westerly direction from GMT,
            negative Easterly.

        @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} loc_MeasuringSystem
            The measuring system being used.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_DateTimeFormat
            The date and time format string, ready to pass to @{"FormatDate()" LINK "gg:doc/NDK/Guide/locale/FormatDate"}

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_DateFormat
            The date format string.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_TimeFormat
            The time format string.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_ShortDateTimeFormat
            The short date and time format string, ready to pass to
            @{"FormatDate()" LINK "gg:doc/NDK/Guide/locale/FormatDate"}

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_ShortDateFormat
            The short date format string.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_ShortTimeFormat
            The short time format string.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_DecimalPoint
            The decimal point character used to format non-monetary quantities.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_GroupSeparator
            The characters used to separate groups of digits before the
            decimal-point character in formatted non-monetary quantities.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_FracGroupSeparator
            The characters used to separate groups of digits after the
            decimal-point character in formatted non-monetary quantities.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_Grouping
            A string whose elements indicate the size of each group of digits
            before the decimal-point character in formatted non-monetary
            quantities.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_FracGrouping
            A string whose elements indicate the size of each group of digits
            after the decimal-point character in formatted non-monetary
            quantities.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_MonDecimalPoint
            The decimal-point used to format monetary quantities.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_MonGroupSeparator
            The separator for groups of digits before the decimal-point in
            monetary quantities.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_MonFracGroupSeparator
            The separator for groups of digits after the decimal-point in
            monetary quantities.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_MonGrouping
            A string whose elements indicate the size of each group of digits
            before the decimal-point character in monetary quantities.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_MonFracGrouping
            A string whose elements indicate the size of each group of digits
            after the decimal-point character in monetary quantities.

        @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} loc_MonFracDigits
            The number of fractional digits (those after the decimal-point)
            to be displayed in a formatted monetary quantity.

        @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} loc_MonIntFracDigits
            The number of fractional digits (those after the decimal-point)
            to be displayed in an internationally formatted monetary quantity.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_MonCS
            The local currency symbol applicable to the current locale.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_MonSmallCS
            The currency symbol for small amounts.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_MonIntCS
            The international currency symbol applicable to the current
            locale. The first three characters contain the alphabetic
            international currency symbol in accordance with those specified
            in ISO 4217 Codes for the Representation of Currency and Funds.
            The fourth character (immediately preceding the @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}) is the
            character used to separate the international currency symbol from
            the monetary quantity.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_MonPositiveSign
            The string used to indicate a non-negative monetary quantity.

        @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} loc_MonPositiveSpaceSep
            Specifies the number of spaces separating the currency symbol from
            the non-negative monetary quantity.

        @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} loc_MonPositiveSignPos
            Set to a value indicating the positioning of loc_MonPositiveSign
            for a non-negative monetary quantity.

        @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} loc_MonPositiveCSPos
            Set to 1 or 0 if loc_MonCS respectively precedes or succeeds
            the value for a non-negative monetary quantity.

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} loc_MonNegativeSign
            The string used to indicate a negative monetary quantity.

        @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} loc_MonNegativeSpaceSep
            Specifies the number of spaces separating the currency symbol from
            the negative monetary quantity.

        @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} loc_MonNegativeSignPos
            Set to a value indicating the positioning of loc_MonNegativeSign
            for a negative monetary quantity.

        @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} loc_MonNegativeCSPos
            Set to 1 or 0 if loc_MonCS respectively precedes or succeeds
            the value for a negative monetary quantity.


        The grouping tables pointed to by loc_Grouping, loc_FracGrounping,
        loc_MonGrouping, and loc_MonFracGrouping contain a stream of bytes
        with the following values:

            255         No further grouping is to be performed.

            0           The previous element is to be repeatedly used for the
                        remainder of the digits.

            1..254      The integer value is the number of digits that comprise
                        the current group. The next element is examined to
                        determine the size of the next group of digits before
                        the current group.

        The values of loc_MonPositiveSignPos and loc_MonNegativeSignPos are
        interpreted according to the following:

            0           Parentheses surround the quantity and currency symbol

            1           The sign string precedes the quantity and
                        currency symbol

            2           The sign string succeeds the quantity and
                        currency symbol

            3           The sign string immediately precedes the
                        currency symbol

            4           The sign string immediately succeeds the
                        currency symbol.

@ENDNODE
@NODE "CloseCatalog" "locale.library/CloseCatalog()"
@{b}

   NAME@{ub}
        @{"CloseCatalog" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 35} -- close a message catalog. (V38)@{b}

   SYNOPSIS@{ub}
        @{"CloseCatalog" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 35}(catalog);
                     A0

        @{"VOID" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 24} @{"CloseCatalog" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 35}(@{"struct Catalog" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 246} *);@{b}

   FUNCTION@{ub}
        Concludes access to a message catalog. The usage count of the
        catalog is decremented. When this count reaches 0, the catalog
        can be expunged from system memory whenever a memory panic occurs.@{b}

   INPUTS@{ub}
        catalog - the message catalog to close. A @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} catalog is a valid
                  parameter and is simply ignored.@{b}

   SEE ALSO@{ub}
        @{"OpenCatalog()" LINK "OpenCatalog"}, @{"GetCatalogStr()" LINK "GetCatalogStr"}

@ENDNODE
@NODE "CloseLocale" "locale.library/CloseLocale()"
@{b}

   NAME@{ub}
        @{"CloseLocale" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 39} -- close a locale. (V38)@{b}

   SYNOPSIS@{ub}
        @{"CloseLocale" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 39}(locale);
                    A0

        @{"VOID" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 24} @{"CloseLocale" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 39}(@{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *);@{b}

   FUNCTION@{ub}
        Concludes access to a locale.@{b}

   INPUTS@{ub}
        locale - an opened locale. A @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} locale is a valid
                 parameter and is simply ignored.@{b}

   SEE ALSO@{ub}
        @{"OpenLocale()" LINK "OpenLocale"}, <@{"libraries/locale.h" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File"}>

@ENDNODE
@NODE "ConvToLower" "locale.library/ConvToLower()"
@{b}

   NAME@{ub}
        @{"ConvToLower" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 43} -- convert a character to lower case. (V38)@{b}

   SYNOPSIS@{ub}
        char = @{"ConvToLower" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 43}(locale,character);
        D0                 A0     D0

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} @{"ConvToLower" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 43}(@{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *,@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52});@{b}

   FUNCTION@{ub}
        This function tests if the character specified is upper case. If it is
        then the lower case version of that character is returned, and if it
        isn't then the original character is returned.@{b}

   INPUTS@{ub}
        locale - the locale to use for the conversion
        character - the character to convert@{b}

   RESULT@{ub}
        char - a (possibly) converted character@{b}

   NOTE@{ub}
        This function requires a full 32-bit character be passed-in in order
        to support multi-byte character sets.

@ENDNODE
@NODE "ConvToUpper" "locale.library/ConvToUpper()"
@{b}

   NAME@{ub}
        @{"ConvToUpper" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 47} -- convert a character to upper case. (V38)@{b}

   SYNOPSIS@{ub}
        char = @{"ConvToUpper" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 47}(locale,character);
        D0                 A0     D0

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} @{"ConvToUpper" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 47}(@{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *,@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52});@{b}

   FUNCTION@{ub}
        This function tests if the character specified is lower case. If it is
        then the upper case version of that character is returned, and if it
        isn't then the original character is returned.@{b}

   INPUTS@{ub}
        locale - the locale to use for the conversion
        character - the character to convert@{b}

   RESULT@{ub}
        char - a (possibly) converted character@{b}

   NOTE@{ub}
        This function requires a full 32-bit character be passed-in in order
        to support multi-byte character sets.

@ENDNODE
@NODE "FormatDate" "locale.library/FormatDate()"
@{b}

   NAME@{ub}
        @{"FormatDate" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 51} -- generate a date string based on a date formatting
                      template. (V38)@{b}

   SYNOPSIS@{ub}
        @{"FormatDate" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 51}(locale,fmtTemplate,date,putCharFunc);
                   A0     A1          A2   A3

        @{"VOID" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 24} @{"FormatDate" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 51}(@{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *,@{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67},@{"struct DateStamp" LINK "gg:doc/NDK/Guide/Include/dos/dos.h/File" 52} *,
                        @{"struct Hook" LINK "gg:doc/NDK/Guide/Include/utility/hooks.h/File" 28} *);@{b}

   FUNCTION@{ub}
        This function processes a formatting template and generates
        a stream of bytes that's sent one character at a time to the
        putCharFunc callback hook.@{b}

   INPUTS@{ub}
        locale - the locale to use for the formatting
        fmtTemplate - the @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}-terminated template describing the desired
                      format for the date. This is constructed just like
                      C-language @{"printf()" LINK "gg:doc/NDK/Guide/amiga_lib/printf"} statements, except that different
                      formatting codes are used. Just like in C, formatting
                      codes start with a % followed by the formatting command.
                      The following commands are accepted by this function:

                        %a - abbreviated weekday name
                        %A - weekday name
                        %b - abbreviated month name
                        %B - month name
                        %c - same as "%a %b %d %H:%M:%S %Y"
                        %C - same as "%a %b %e %T %Z %Y"
                        %d - day number with leading 0s
                        %D - same as "%m/%d/%y"
                        %e - day number with leading spaces
                        %h - abbreviated month name
                        %H - hour using 24-hour style with leading 0s
                        %I - hour using 12-hour style with leading 0s
                        %j - julian date
                        %m - month number with leading 0s
                        %M - the number of minutes with leading 0s
                        %n - insert a linefeed
                        %p - AM or PM strings
                        %q - hour using 24-hour style
                        %Q - hour using 12-hour style
                        %r - same as "%I:%M:%S %p"
                        %R - same as "%H:%M"
                        %S - number of seconds with leadings 0s
                        %t - insert a tab character
                        %T - same as "%H:%M:%S"
                        %U - week number, taking Sunday as first day of week
                        %w - weekday number
                        %W - week number, taking Monday as first day of week
                        %x - same as "%m/%d/%y"
                        %X - same as "%H:%M:%S"
                        %y - year using two digits with leading 0s
                        %Y - year using four digits with leading 0s

                      If the template parameter is @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}, a single @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} byte
                      is sent to putCharFunc.
        date - the date to format into a string
        putCharFunc - a callback hook invoked for every character generated,
                      including for the terminating @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} character. The hook
                      is called with:

                        A0 - address of Hook structure
                        A1 - character for hook to process (not a pointer!)
                        A2 - locale pointer@{b}

   SEE ALSO@{ub}
        @{"ParseDate()" LINK "ParseDate"}, <@{"libraries/locale.h" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File"}>, <@{"dos/dos.h" LINK "gg:doc/NDK/Guide/Include/dos/dos.h/File"}>

@ENDNODE
@NODE "FormatString" "locale.library/FormatString()"
@{b}

   NAME@{ub}
        @{"FormatString" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 55} -- format data into a character stream. (V38)@{b}

   SYNOPSIS@{ub}
        next = @{"FormatString" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 55}(locale,fmtTemplate,dataStream,putCharFunc);
        D0                  A0     A1          A2         A3

        @{"APTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 49} @{"FormatString" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 55}(@{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *,@{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67},@{"APTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 49},@{"struct Hook" LINK "gg:doc/NDK/Guide/Include/utility/hooks.h/File" 28} *);@{b}

   FUNCTION@{ub}
        This function performs C-language-like formatting of a data stream,
        outputting the result a character at a time. Where % formatting
        commands are found in the formatting template, they are replaced with
        the corresponding elements in 'dataStream'. %% must be used in the
        string if a % is desired in the output.

        An extension to the standard C-language @{"printf()" LINK "gg:doc/NDK/Guide/amiga_lib/printf"} conventions used
        by @{"FormatString" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 55}() is argument position specification. Specifying the
        argument position lets the order of the % commands change while the
        arguments provided remain the same. Using the C @{"printf()" LINK "gg:doc/NDK/Guide/amiga_lib/printf"} call as an
        example:
            @{"printf" LINK "gg:doc/NDK/Guide/amiga_lib/printf"}("%d eyes, %d feet and %d ears",eyes,feet,ears);
            @{"printf" LINK "gg:doc/NDK/Guide/amiga_lib/printf"}("%3$d ears, %1$d eyes and %2$d feet",eyes,feet,ears);
        These two statements would produce the following output:
            "2 eyes, 3 feet and 4 ears" for the first
            "4 ears, 2 eyes and 3 feet" for the second

        The argument positioning feature lets you change the format string
        being processed while keeping the data stream the same. This is
        an invaluable tool when translating strings to different languages.@{b}

   INPUTS@{ub}
        locale - the locale to use for the formatting
        fmtTemplate - a C-language-like @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}-terminated format string,
                      with the following supported % options:

          %[arg_pos$][flags][width][.limit][length]type

          arg_pos - ordinal position of the argument for this command within
                    the array of arguments pointed to by 'dataStream'
            $     - must follow the arg_pos value, if specified
          flags   - only one allowed. '-' specifies left justification.
          width   - field width. If the first character is a '0', the
                    field is padded with leading 0s.
            .     - must precede the field limit value, if specified
          limit   - maximum number of characters to output from a string.
                    (only valid for %s or %b).
          length  - size of input data defaults to word (16-bit) for types c,
                    d, u and x, 'l' changes this to long (32-bit).
          type    - supported types are:
                          b - @{"BSTR" LINK "gg:doc/NDK/Guide/Include/dos/dos.h/File" 131}, data is 32-bit @{"BPTR" LINK "gg:doc/NDK/Guide/Include/dos/dos.h/File" 130} to byte count followed
                              by a byte string. A @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} @{"BPTR" LINK "gg:doc/NDK/Guide/Include/dos/dos.h/File" 130} is treated as an
                              empty string.
                          d - signed decimal
                          D - signed decimal using the locale's formatting
                              conventions
                          u - unsigned decimal
                          U - unsigned decimal using the locale's formatting
                              conventions
                          x - hexadecimal with hex digits in uppercase
                          X - hexadecimal with hex digits in lowercase
                          s - string, a 32-bit pointer to a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}-terminated
                              byte string. A @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} pointer is treated
                              as an empty string.
                          c - character

                      If the formatting template parameter is @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}, the
                      function returns without outputting anything. Note the
                      meaning of %x and %X are swapped with respect to
                      standard C conventions. This is for compatibility with
                      @{"exec.library/RawDoFmt()" LINK "gg:doc/NDK/Guide/exec/RawDoFmt"}.

        dataStream - a stream of data that is interpreted according to
                     the format string. Often this is a pointer into
                     the task's stack.
        putCharFunc - a callback hook invoked for every character generated,
                      including for the terminating @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} character. The hook
                      is called with:

                        A0 - address of Hook structure
                        A1 - character for hook to process (not a pointer!)
                        A2 - locale pointer

                     the function is called with a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} char at the end of
                     the format string.@{b}

   RESULT@{ub}
        next - A pointer to beyond the last data element used in 'dataStream'
               (the next argument that would have been processed).
               This allows multiple formatting passes to be made using the
               same data.@{b}

   WARNING@{ub}
        This function formats word values in the data stream. If your compiler
        defaults to longs, you must add an "l" to your specifications. This
        can get strange for characters, which might look like "%lc".@{b}

   SEE ALSO@{ub}
        @{"exec.library/RawDoFmt()" LINK "gg:doc/NDK/Guide/exec/RawDoFmt"}

@ENDNODE
@NODE "GetCatalogStr" "locale.library/GetCatalogStr()"
@{b}

   NAME@{ub}
        @{"GetCatalogStr" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 59} -- get a string from a message catalog. (V38)@{b}

   SYNOPSIS@{ub}
        string = @{"GetCatalogStr" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 59}(catalog,stringNum,defaultString);
        D0                     A0      D0        A1

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} @{"GetCatalogStr" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 59}(@{"struct Catalog" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 246} *,@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51},@{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67});@{b}

   FUNCTION@{ub}
        This function returns a specific string within a message catalog.
        If the catalog parameter is @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}, or the requested message does not
        exist, then defaultString is returned.@{b}

   INPUTS@{ub}
        catalog - a message catalog as obtained from @{"OpenCatalog()" LINK "OpenCatalog"}, or @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}
        stringNum - a message number within the catalog
        defaultString - string to return in case "catalog" is @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} or
                        "stringNum" can't be found@{b}

   RESULT@{ub}
        string - a pointer to a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}-terminated string. The returned string
                 is READ-ONLY, do @{"NOT" LINK "gg:doc/NDK/Guide/Include/intuition/intuition.h/File" 1500} modify! This string pointer is valid
                 only as long as the catalog remains open.@{b}

   SEE ALSO@{ub}
        @{"OpenCatalog()" LINK "OpenCatalog"}, @{"CloseCatalog()" LINK "CloseCatalog"}

@ENDNODE
@NODE "GetLocaleStr" "locale.library/GetLocaleStr()"
@{b}

   NAME@{ub}
        @{"GetLocaleStr" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 63} -- get a standard string from a locale. (V38)@{b}

   SYNOPSIS@{ub}
        string = @{"GetLocaleStr" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 63}(locale,stringNum);
        D0                    A0     D0

        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67} @{"GetLocaleStr" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 63}(@{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *,@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52});@{b}

   FUNCTION@{ub}
        This function returns a specific string associated with the given
        locale.@{b}

   INPUTS@{ub}
        locale - a valid locale
        stringNum - the number of the string to get a pointer to. See the
                    constants defined in <@{"libraries/locale.h" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File"}> for the
                    possible values.@{b}

   RESULT@{ub}
        string - a pointer to a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}-terminated string, or @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} if the
                 requested string number was out of bounds. The returned
                 string is READ-ONLY, do @{"NOT" LINK "gg:doc/NDK/Guide/Include/intuition/intuition.h/File" 1500} modify! This string pointer
                 is valid only as long as the locale remains open.@{b}

   SEE ALSO@{ub}
        @{"OpenLocale()" LINK "OpenLocale"}, @{"CloseLocale()" LINK "CloseLocale"}, <@{"libraries/locale.h" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File"}>

@ENDNODE
@NODE "IsXXXX" "locale.library/IsXXXX()"
@{b}

   NAME@{ub}
        IsXXXX -- determine whether a character is of a certain type. (V38)@{b}

   SYNOPSIS@{ub}
        state = IsXXXX(locale,character);
        D0             A0     D0

        @{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91} IsXXXX(@{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *,@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52});@{b}

   FUNCTION@{ub}
        These functions determine whether the character specified is of a
        certain type, according to the supplied locale.

        @{"IsAlNum" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 67}() - test if alphanumeric character
        @{"IsAlpha" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 71}() - test if alphabetical character
        @{"IsCntrl" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 75}() - test if control character
        @{"IsDigit" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 79}() - test if decimal digit character
        @{"IsGraph" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 83}() - test if visible character
        @{"IsLower" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 87}() - test if lower case character
        @{"IsPrint" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 91}() - test if blank
        @{"IsPunct" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 95}() - test if punctuation character
        @{"IsSpace" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 99}() - test if white space character
        @{"IsUpper" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 103}() - test if upper case character
        @{"IsXDigit" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 107}() - test if hexadecimal digit@{b}

   INPUTS@{ub}
        locale - the locale to use for the test
        character - the character to test@{b}

   RESULT@{ub}
        state - @{"TRUE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 95} if the character is of the required type, @{"FALSE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 98} otherwise@{b}

   NOTE@{ub}
        These functions require full 32-bit characters be passed-in in order
        to support multi-byte character sets.

@ENDNODE
@NODE "OpenCatalog" "locale.library/OpenCatalog()"
@{b}

   NAME@{ub}
        @{"OpenCatalogA" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 111} -- open a message catalog. (V38)
        @{"OpenCatalog" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 116} -- varargs stub for @{"OpenCatalogA" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 111}(). (V38)@{b}

   SYNOPSIS@{ub}
        catalog = @{"OpenCatalogA" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 111}(locale,name,tagList);
        D0                     A0     A1   A2

        @{"struct Catalog" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 246} *@{"OpenCatalogA" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 111}(@{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *,@{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67},@{"struct TagItem" LINK "gg:doc/NDK/Guide/Include/utility/tagitem.h/File" 32} *);

        catalog = @{"OpenCatalog" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 116}(locale,name,firstTag, ...);

        @{"struct Catalog" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 246} *@{"OpenCatalog" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 116}(@{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *,@{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67},Tag, ...);@{b}

   FUNCTION@{ub}
        This function opens a message catalog. Catalogs contain all the
        text strings that an application uses. These strings can easily
        be replaced by strings in a different language, which causes the
        application to magically start operating in that new language.

        Catalogs originally come from disk files. This function searches for
        them in the following places:

                PROGDIR:Catalogs/languageName/name
                LOCALE:Catalogs/languageName/name

        where languageName is the name of the language associated with the
        locale parameter. So assuming an application called WizPaint:

                catalog = @{"OpenCatalog" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 116}(@{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101},
                                      "WizPaint.catalog",
                                      @{"OC_BuiltInLanguage" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 227},"english",
                                      @{"TAG_DONE" LINK "gg:doc/NDK/Guide/Include/utility/tagitem.h/File" 39});

        Passing @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} as first parameter to @{"OpenCatalog" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 116}() indicates you
        wish to use the system's default locale. Assuming the default locale
        specifies "deutsch" as language, @{"OpenCatalog" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 116}() tries to open the
        catalog as:

                PROGDIR:Catalogs/deutsch/WizPaint.catalog

        and if that file is not found, then @{"OpenCatalog" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 116}() tries to open it
        as:

                LOCALE:Catalogs/deutsch/WizPaint.catalog

        PROGDIR: is not always checked before LOCALE: is. If the volume which
        PROGDIR: is assigned to is @{"NOT" LINK "gg:doc/NDK/Guide/Include/intuition/intuition.h/File" 1500} currently mounted, and if the one
        which LOCALE: is assigned to IS mounted, then LOCALE: is checked
        first, followed by PROGDIR: if needed. This is done in order to
        minimize the number of disk swaps on floppy systems.

        The @{"OC_BuiltInLanguage" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 227} tag specifies the language of the strings
        that are built into the application. If the language of the
        built-in strings matches that of the locale, then no catalog
        need be loaded from disk and the built-in strings can be used
        directly.

        locale.library caches text catalogs in order to minimize disk
        access. As such, @{"OpenCatalog" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 116}() may or may not cause disk access.
        This fact should be taken into consideration. Unused catalogs are
        automatically flushed from the system when there is not enough
        memory. When there is disk access, it is possible a DOS requester
        may be opened asking for a volume to be inserted. You can avoid this
        requester opening by setting your process' pr_WindowPtr field to -1.@{b}

   INPUTS@{ub}
        locale - the locale for which the catalog should be opened, or @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}.
                 When @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}, then the system's default locale is used. This
                 should generally be @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}
        name - the @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}-terminated name of the catalog to open, typically
               the application name with a ".catalog" extension
        tagList - pointer to an array of tags providing optional extra
                  parameters, or @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}@{b}

   TAGS@{ub}
        @{"OC_BuiltInLanguage" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 227} (@{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67}) - language of built-in strings of the
                                      application. That is, this tag identifies
                                      the language used for the "defaultString"
                                      parameter used in the @{"GetCatalogStr()" LINK "GetCatalogStr"}
                                      function. Default is "english". Providing
                                      this tag and setting its value to @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}
                                      indicates that there are no built-in
                                      strings.

        @{"OC_BuiltInCodeSet" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 228} (@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52}) - code set of built-in strings. Default is 0.
                                    THIS TAG SHOULD ALWAYS BE SET TO 0 FOR NOW.

        @{"OC_Language" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 230} (@{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67}) - language explicitly requested for the catalog.
                               A catalog of this language will be returned if
                               possible, otherwise a catalog in one of the
                               user's preferred languages. This tag should
                               normally not be provided as it overrides the
                               user's preferences.

        @{"OC_Version" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 229} (@{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}) - catalog version number required. Default is 0
                             which means to accept any version of the catalog
                             that is found. Note that if a version is
                             specified, the catalog's version much match it
                             exactly. This is different from version numbers
                             used by @{"OpenLibrary()" LINK "gg:doc/NDK/Guide/exec/OpenLibrary"}.@{b}

   RESULT@{ub}
        catalog - a message catalog to use with @{"GetCatalogStr()" LINK "GetCatalogStr"} or @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}.
                  A @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} result does not necessarily indicate an error.
                  If @{"OpenCatalog" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 116}() determines that the built-in strings of
                  the application can be used instead of an external catalog
                  from disk, then @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} is returned. To determine whether
                  a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} result actually indicates an error, look at the
                  return value of @{"dos.library/IoErr()" LINK "gg:doc/NDK/Guide/dos/IoErr"}. 0 means no error.

                  @{"GetCatalogStr()" LINK "GetCatalogStr"} interprets a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} catalog as meaning to use
                  the built-in strings.@{b}

   NOTE@{ub}
        In most cases, failing to open a catalog should not be considered a
        fatal error, and the application should continue operating and
        simply use the built-in set of strings instead of the disk-based
        catalog. Note that @{"GetCatalogStr()" LINK "GetCatalogStr"} accepts a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} catalog pointer for
        this very reason.

        Also note that displaying an error message when a catalog fails to
        open can be a meaningless endeavor as the message is likely in a
        language the user does not understand.@{b}

   SEE ALSO@{ub}
        @{"CloseCatalog()" LINK "CloseCatalog"}, @{"GetCatalogStr()" LINK "GetCatalogStr"}

@ENDNODE
@NODE "OpenLocale" "locale.library/OpenLocale()"
@{b}

   NAME@{ub}
        @{"OpenLocale" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 120} -- open a locale. (V38)@{b}

   SYNOPSIS@{ub}
        locale = @{"OpenLocale" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 120}(name);
        D0                  A0

        @{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *@{"OpenLocale" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 120}(@{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67});@{b}

   FUNCTION@{ub}
        This function opens a named locale. Locales contain many parameters
        that an application needs to consider when being integrated into
        different languages, territories and customs. Using the information
        stored in a locale instead of hard-coding it into an application,
        lets the application dynamically adapt to the user's environment.

        Locales originally come from disk files which are created by the
        user using the Locale preferences editor. Passing a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} instead of
        a name causes this function to return the current default locale.
        This is what most applications will do.

        Every locale specifies a language, and special language drivers
        must be loaded from disk depending on which language is being used.
        These files include for example:

                LOCALE:Languages/français.language
                LOCALE:Languages/dansk.language
                LOCALE:Languages/italiano.language@{b}

   INPUTS@{ub}
        name - the @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}-terminated name of the locale to open, or @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} to open
               the current default locale. This should generally be @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}. The
               name you supply must be a pathname leading to a locale
               preferences file. This is an IFF PREF file as saved by
               Locale prefs, that can contain both LCLE and CTRY chunks.
               See <@{"prefs/locale.h" LINK "gg:doc/NDK/Guide/Include/prefs/locale.h/File"}> for definitions.@{b}

   RESULT@{ub}
        locale - a pointer to an initialized Locale structure, or @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} if the
                 locale could not be loaded. In the case of a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} return, the
                 DOS @{"IoErr()" LINK "gg:doc/NDK/Guide/dos/IoErr"} function can be called to obtain more information
                 on the failure.

                 When passing a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} name parameter to this function, you are
                 guaranteed a valid return.@{b}

   SEE ALSO@{ub}
        @{"CloseLocale()" LINK "CloseLocale"}, <@{"libraries/locale.h" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File"}>, <@{"prefs/locale.h" LINK "gg:doc/NDK/Guide/Include/prefs/locale.h/File"}>

@ENDNODE
@NODE "ParseDate" "locale.library/ParseDate()"
@{b}

   NAME@{ub}
        @{"ParseDate" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 124} -- interpret a string according to the date formatting
                     template and convert it into a @{"DateStamp" LINK "gg:doc/NDK/Guide/dos/DateStamp"}. (V38)@{b}

   SYNOPSIS@{ub}
        state = @{"ParseDate" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 124}(locale,date,fmtTemplate,getCharFunc);
        D0                A0     A1   A2          A3

        @{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91} @{"ParseDate" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 124}(@{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *,@{"struct DateStamp" LINK "gg:doc/NDK/Guide/Include/dos/dos.h/File" 52} *,@{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67},@{"struct Hook" LINK "gg:doc/NDK/Guide/Include/utility/hooks.h/File" 28} *);@{b}

   FUNCTION@{ub}
        This function converts a stream of characters into an AmigaDOS
        @{"DateStamp" LINK "gg:doc/NDK/Guide/dos/DateStamp"} structure. The characters are obtained from the
        getCharFunc callback hook and the formatting template is used
        to direct the parse.@{b}

   INPUTS@{ub}
        locale - the locale to use for the formatting
        date - place to put the converted date, this may be @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} in which
               case this routine can be used to simply validate a date
        fmtTemplate - the date template describing the expected format of the
                      data. See @{"FormatDate()" LINK "FormatDate"} documentation for a description of
                      date templates. The following formatting controls from
                      @{"FormatDate()" LINK "FormatDate"} can be used in @{"ParseDate" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 124}():
                        %a %A %b %B %d %e %h %H %I %m %M %p %S %y %Y
        getCharFunc - a callback hook invoked whenever a character is required.
                      The hook should return the next character to process,
                      with a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} character to indicate the end of the string.
                      The hook is called with:

                        A0 - address of Hook structure
                        A1 - locale pointer
                        A2 - @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}

                      The hook returns the character to process in D0. Note
                      that a complete 32-bit result is expected in D0, not
                      just 8 bits.@{b}

   RESULT@{ub}
        state - @{"TRUE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 95} if the parsing went OK, or @{"FALSE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 98} if the input did not
                match the template@{b}

   SEE ALSO@{ub}
        @{"FormatDate()" LINK "FormatDate"}, <@{"dos/dos.h" LINK "gg:doc/NDK/Guide/Include/dos/dos.h/File"}>

@ENDNODE
@NODE "StrConvert" "locale.library/StrConvert()"
@{b}

   NAME@{ub}
        @{"StrConvert" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 128} -- transform a string according to collation information.
                      (V38)@{b}

   SYNOPSIS@{ub}
        length = @{"StrConvert" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 128}(locale,string,buffer,bufferSize,type);
        D0                  A0     A1     A2     D0         D1

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} @{"StrConvert" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 128}(@{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *,@{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67},@{"APTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 49},@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52},@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52});@{b}

   FUNCTION@{ub}
        This function transforms the passed string and places the resulting
        into the supplied buffer. No more than bufferSize bytes are copied
        into the buffer.

        The transformation is such that if the C strcmp() function is applied
        to two transformed strings, it returns a value corresponding to
        the result returned by the @{"StrnCmp()" LINK "StrnCmp"} function applied to the two
        original strings.@{b}

   INPUTS@{ub}
        locale - the locale to use for the transformation
        string - @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}-terminated string to transform
        buffer - buffer where to put the transformed string
        bufferSize - maximum number of bytes to deposit in the buffer
                     @{"StrConvert" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 128}() may require more storage than
                     the unconverted string does
        type - describes how the transformation is to be performed. See
               the documentation on @{"StrnCmp()" LINK "StrnCmp"} for more information on the
               comparison types available@{b}

   RESULT@{ub}
        length - length of the transformed string which is the number of bytes
                 deposited in the buffer minus 1 (since strings are @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}-
                 terminated)@{b}

   SEE ALSO@{ub}
        @{"StrnCmp()" LINK "StrnCmp"}, <@{"libraries/locale.h" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File"}>

@ENDNODE
@NODE "StrnCmp" "locale.library/StrnCmp()"
@{b}

   NAME@{ub}
        @{"StrnCmp" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 132} -- localized string comparison. (V38)@{b}

   SYNOPSIS@{ub}
        result = @{"StrnCmp" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 132}(locale,string1,string2,length,type);
        D0               A0     A1      A2      D0     D1

        @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51} @{"StrnCmp" LINK "gg:doc/NDK/Guide/Include/inline/locale.h/File" 132}(@{"struct Locale" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 118} *,@{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67},@{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67},@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51},@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52});@{b}

   FUNCTION@{ub}
        Compares string1 to string2 according to the collation information
        provided by the locale and returns an integer greater than,
        equal to, or less than zero, accordingly as the string pointed to
        by string1 is greater than, equal to, or less than the string
        pointed to by string2.

        The length parameter specifies how many characters to compare, or if
        the length is specified as -1 then the strings are compared until
        a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} is encountered.

        The type parameter dictates how the comparison is to be performed.@{b}

   INPUTS@{ub}
        locale - the locale to use for this comparison
        string1 - @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}-terminated string
        string2 - @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101}-terminated string
        length - the maximum number of characters to be compared, or -1 to
                 compare all characters until a @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} is encountered
        type - describes how the comparison is to be performed. The following
               values can be passed:
                 @{"SC_ASCII" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 237} causes an ASCII-based case-insensitive comparison
                 to be performed. @{"SC_ASCII" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 237} is the fastest of the comparison
                 types, but it uses ASCII ordering and considers accented
                 characters different than their non-accented counterparts.

                 @{"SC_COLLATE1" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 238} causes the characters to be compared using their
                 primary sorting order. This effectively produces a comparison
                 that ignores letter case and diacritical marks. That is,
                 letters such as "e" and "é" are treated as if they were both
                 "e".

                 @{"SC_COLLATE2" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 239} causes the characters to be compared using both
                 their primary and secondary sorting order. @{"SC_COLLATE2" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 239} is
                 slower than @{"SC_COLLATE1" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 238}. This is the type of comparison to
                 use when sorting data to be presented to the user. It operates
                 in two passes. First it performs a comparison equivalent to
                 @{"SC_COLLATE1" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 238}. If both strings compare the same, then a second
                 pass is made using the secondary sorting order, which gives
                 finer resolution to the comparison. For example, @{"SC_COLLATE1" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 238}
                 would return the following strings as identical:
                    "père"  and  "pere"
                 since @{"SC_COLLATE1" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 238} ignores diacritical marks. @{"SC_COLLATE2" LINK "gg:doc/NDK/Guide/Include/libraries/locale.h/File" 239}
                 would make a second pass over the string comparing
                 diacritical marks instead of actual characters.@{b}

   RESULT@{ub}
        result - relationship between string1 and string2
                        <0 means string1 < string2
                        =0 means string1 = string2
                        >0 means string1 > string2@{b}

   SEE ALSO@{ub}
        @{"OpenLocale()" LINK "OpenLocale"}, @{"CloseLocale()" LINK "CloseLocale"}, @{"StrConvert()" LINK "StrConvert"}

@ENDNODE
