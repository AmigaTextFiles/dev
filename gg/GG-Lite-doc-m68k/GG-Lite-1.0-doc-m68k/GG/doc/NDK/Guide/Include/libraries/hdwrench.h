@DATABASE "gg:doc/NDK/Guide/Include/libraries/hdwrench.h"
@MASTER   "gg:os-include/libraries/hdwrench.h"
@REMARK   This file was created by ADtoHT 2.1 on 06-Jan-13 19:16:45
@REMARK   Do not edit
@REMARK   ADtoHT is © 1993-1995 Christian Stieber

@NODE MAIN "libraries/hdwrench.h"
@TOC "gg:doc/NDK/Guide/TOC/MAIN"

@{"libraries/hdwrench.h" LINK File}


@{b}Structures@{ub}

@{"bootblock" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 79}  @{"DefaultsArray" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 156}  @{"HDWLibrary" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 14}  @{"rw_return" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 47}


@{b}Typedefs@{ub}

@{"BootBlock" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 79}  @{"HDWCallbackMsg" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 305}  @{"ValidIDstruct" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 39}


@{b}#defines@{ub}

@{"DA_BAD_MODESENSE_3" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 171}     @{"DA_BAD_MODESENSE_4" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 170}    @{"DA_FAILED" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 172}
@{"DA_HF_WAY" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 179}              @{"DA_HUGE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 178}               @{"DA_NO_CAPACITY_REPORT" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 168}
@{"DA_NO_DRIVE_OPEN" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 173}       @{"DA_NO_OPTIMIZE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 169}        @{"DA_NOERRORS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 167}
@{"DA_OPTIMIZE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 177}            @{"DA_RIDICULOUS_VALUES" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 174}  @{"DEFAULT_RDBBLOCKSHI" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 35}
@{"DRIVEINIT" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 153}              @{"E_BLOCKS_EXCEEDED" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 138}     @{"E_CRIT_VALUE_UNDEF" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 145}
@{"E_DUPLICATE_DISK" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 116}       @{"E_EOF_IN_COMMENT" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 108}      @{"E_EXALL_ERROR" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 143}
@{"E_EXCEEDED_SIZE_LIM" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 118}    @{"E_FAILED_FILEOPEN" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 129}     @{"E_FILE_NOT_RDBS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 131}
@{"E_FILE_READ_FAILED" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 130}     @{"E_FILE_WRITE_ERROR" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 119}    @{"E_FILE_WRITE_FAILED" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 133}
@{"E_FS_CANNOT_OPEN" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 122}       @{"E_FS_NOT_FOUND" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 140}        @{"E_FS_WRITE_ERROR" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 124}
@{"E_FSAVE_CONFUSION" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 121}      @{"E_ILLEGAL_BLOCKSIZE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 135}   @{"E_ILLEGAL_SLASH" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 107}
@{"E_ILLEGAL_STAR" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 109}         @{"E_ILLEGAL_T_F" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 114}         @{"E_ILLEGAL_TOKEN" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 115}
@{"E_INCOMPLETE_FSDESC" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 139}    @{"E_INSUFFICIENT_MEM" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 136}    @{"E_LIST_SCREWEDUP" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 141}
@{"E_LOST_IN_RDB_SPACE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 123}    @{"E_MEMORY_PANIC" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 111}        @{"E_MEMORYP_NULL" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 134}
@{"E_MISSING_EQUALS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 113}       @{"E_MULTIPLE_RDSKS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 125}      @{"E_NO_BLOCKSIZE_SPEC" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 132}
@{"E_NO_RDBS_LOADED" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 127}       @{"E_NO_SUCH_DIR" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 142}         @{"E_NOERROR" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 105}
@{"E_NOT_LEGAL_NAME" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 117}       @{"E_PREMATURE_EOF" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 112}       @{"E_RDBS_ALREADY_IN" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 128}
@{"E_RDSK_NOT_1ST" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 126}         @{"E_RENUMBER_FAILED" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 137}     @{"E_TOKEN_TO_LONG" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 110}
@{"E_TOOMANY_FS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 120}           @{"E_UNIT_DIFFERS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 144}        @{"EXTERN" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 188}
@{"EXTRA_AFTER_TEST" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 319}       @{"EXTRA_BEFORE_FORMAT" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 320}   @{"EXTRA_BEFORE_TEST" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 318}
@{"EXTRA_BEFORE_VERIFY" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 321}    @{"EXTRA_UPDATE_VERIFY" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 323}   @{"EXTRA_VERIFY_FINISHED" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 326}
@{"EXTRA_VERIFY_REASSIGN" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 325}  @{"FILESYSTEM" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 154}            @{"HDWRENCH_H" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 393}
@{"INQBUFSIZE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 390}             @{"MAGC_INQBUFSIZE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 391}       @{"RDBEND" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 33}
@{"T_RENUMBER_LEFT" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 147}        @{"TAUTOPARKSECS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 296}         @{"TBAUD" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 291}
@{"TBLOCKSIZE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 287}             @{"TBLOCKSPERTRACK" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 254}       @{"TBOOTABLE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 288}
@{"TBOOTBLOCKS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 293}            @{"TBOOTPRI" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 264}              @{"TBUFFERS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 260}
@{"TBUFMEMTYPE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 261}            @{"TBYTESPERBLOCK" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 274}        @{"TCONTROL" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 292}
@{"TCYLINDERBLOCKS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 283}        @{"TCYLINDERS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 282}            @{"TDEVICE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 252}
@{"TDISK" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 275}                  @{"TDOSTYPE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 265}              @{"TDRIVEINIT" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 290}
@{"TEQUALS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 251}                @{"TFILESYSTEM" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 271}           @{"TFLAGS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 267}
@{"TGLOBVEC" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 270}               @{"THACK" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 250}                 @{"THEADS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 273}
@{"THICARD" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 286}                @{"THICYL" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 259}                @{"THIID" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 280}
@{"THILUN" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 279}                 @{"TINTERLEAVE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 257}           @{"TLASTDRIVE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 281}
@{"TLOWCYL" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 258}                @{"TMASK" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 263}                 @{"TMAXCYL" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 285}
@{"TMAXTRANSFER" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 262}           @{"TMINCYL" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 284}               @{"TMOUNT" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 272}
@{"TNOMATCH" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 299}               @{"TokenCount" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 298}            @{"TPREALLOC" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 256}
@{"TPRIORITY" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 269}              @{"TRDBHI" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 277}                @{"TRDBLOW" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 276}
@{"TREADONLY" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 289}              @{"TRESELECT" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 278}             @{"TRESERVED" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 255}
@{"TSECSPERBLOCK" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 295}          @{"TSLASH" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 249}                @{"TSTACKSIZE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 268}
@{"TSURFACES" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 253}              @{"TSYNCH" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 294}                @{"TUNIT" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 266}
@{"UNASSIGNED" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 30}             @{"W_DUPLICATE_FS" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 149}        @{"W_FS_NO_WRITE" LINK "gg:doc/NDK/Guide/Include/libraries/hdwrench.h/File" 150}

@ENDNODE
@NODE File "libraries/hdwrench.h"
/* HDWrench.h: RigidDiskBlock preparation program include file.
 *
 *      $VER: HDWrench.h 44.6 (25.11.2000)
 *      Includes Release 44.1
 *
 *      Disk Prep Support Library API includes
 *
 *      Copyright © 1999 Joanne B. Dow, Wizardess Designs, for future
 *              license to Amiga Inc.
 *              All rights reserved.
 */
#ifndef HDWRENCH_H

struct HDWLibrary
{
        @{"struct                           Library" LINK "gg:doc/NDK/Guide/Include/exec/libraries.h/File" 34} ml_Lib;
        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52}                            ml_SegList;
        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52}                            ml_Flags;
        @{"APTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 49}                             ml_ExecBase; /* pointer to exec base  */
        long                            *ml_relocs;   /* pointer to relocs.    */
        struct HDWLibrary       *ml_origbase; /* pointer to original library base  */
        long                             ml_numjmps;
};

#define  HDWBaseName    "hdwrench.library"

/* === General Constant Defines === */

/* Artificial unassigned value for the RDB structures. */
#define UNASSIGNED      (@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52}) -131L

/* End block number link within RDB structures */
#define RDBEND          (@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52}) -1L

#define DEFAULT_RDBBLOCKSHI     63

/* === Structure & Typedefs === */

typedef struct
        @{"USHORT" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 82}  ready [ 16 ];   // Tests ready and first block read
        @{"USHORT" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 82}  there [ 16 ];   // Tests as "there" but fails other tests
} ValidIDstruct;


/* Actual disk read write return structure: */
struct rw_return
{
        @{"USHORT" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 82}  success;                        // Error code
        @{"USHORT" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 82}  failed_word;            // 0 on reads.
        @{"USHORT" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 82}  block_written;          // 0 on reads.
};

enum rw_success_val                             // Return values for rw_return.success field.
{
        success = 0,                            // 0
        success_on_retry_write,         // 1
        success_on_retry_read,          // 2
        failed_on_write,                        // 3
        failed_on_reread,                       // 4
        illegal_command,                        // 5
        io_command_failure,                     // 6
        scsi_command_failure,           // 7
        out_of_memory,                          // 8
        no_more_disk_blocks,            // 9
        rdsk_not_located,                       // 10
        io_device_not_open,                     // 11
        invalid_blocksize_found,        // 12
        no_callback_hook,                       // 13
        user_aborted,                           // 14
        operation_not_permitted         // 15
};

/* Internal bootblock structure. Create dummy structures to pass to read
 * and write functions as necessary. Be sure that bb_BlockNum is filled in
 * and that the actual size of the data area pointed to by the union is
 * sufficiently large to contain one disk block.
 */
typedef struct bootblock
{
        @{"struct MinNode" LINK "gg:doc/NDK/Guide/Include/exec/nodes.h/File" 31}   bb_Node;
        @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}                     allocsize;
        @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}                     bb_BlockNum;
        @{"WORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 54}                     bb_Changed;
        @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}                     unit;                          // Unit number for THIS set of RDBs.
        char                     DeviceName [32];       // Device name
        @{"struct rw_return" LINK File 47} bb_RWErrors;
        @{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91}                     wflag;                         // Written out flag.
        @{"BYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 58}                     spares[4-sizeof(@{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91})];// Fill out short word

        union
                @{"struct           RigidDiskBlock" LINK "gg:doc/NDK/Guide/Include/devices/hardblocks.h/File" 65} bd_RDB;
                @{"struct           PartitionBlock" LINK "gg:doc/NDK/Guide/Include/devices/hardblocks.h/File" 151} bd_PB;
                @{"struct           FileSysHeaderBlock" LINK "gg:doc/NDK/Guide/Include/devices/hardblocks.h/File" 175} bd_FHB;
                @{"struct           LoadSegBlock" LINK "gg:doc/NDK/Guide/Include/devices/hardblocks.h/File" 208} bd_LSB;
                @{"struct           BadBlockBlock" LINK "gg:doc/NDK/Guide/Include/devices/hardblocks.h/File" 137} bd_BB;
                @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}            bd_Bytes[512];         // NB: This is the MINIMUM size we
                @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}            bd_Words[256];         // can have here. It MAY be extended
                @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52}            bd_Longs[128];         // if actual block size is larger.
    } bb_Data;
} BootBlock;

/*      ==== Error report values for other functions ==== */
#define E_NOERROR                       0

#define E_ILLEGAL_SLASH         200
#define E_EOF_IN_COMMENT        201
#define E_ILLEGAL_STAR          202
#define E_TOKEN_TO_LONG         203
#define E_MEMORY_PANIC          204
#define E_PREMATURE_EOF         205
#define E_MISSING_EQUALS        206
#define E_ILLEGAL_T_F           207
#define E_ILLEGAL_TOKEN         208
#define E_DUPLICATE_DISK        209
#define E_NOT_LEGAL_NAME        210
#define E_EXCEEDED_SIZE_LIM     211
#define E_FILE_WRITE_ERROR      212
#define E_TOOMANY_FS            213
#define E_FSAVE_CONFUSION   214
#define E_FS_CANNOT_OPEN        215
#define E_LOST_IN_RDB_SPACE     216
#define E_FS_WRITE_ERROR        217
#define E_MULTIPLE_RDSKS        218
#define E_RDSK_NOT_1ST          219
#define E_NO_RDBS_LOADED        220
#define E_RDBS_ALREADY_IN       221             // RDBs already loaded.
#define E_FAILED_FILEOPEN   222
#define E_FILE_READ_FAILED      223
#define E_FILE_NOT_RDBS         224
#define E_NO_BLOCKSIZE_SPEC 225
#define E_FILE_WRITE_FAILED     226
#define E_MEMORYP_NULL          227             // prospective "memp" is null
#define E_ILLEGAL_BLOCKSIZE     228
#define E_INSUFFICIENT_MEM  229
#define E_RENUMBER_FAILED       230
#define E_BLOCKS_EXCEEDED       231             // Too many RDB blocks
#define E_INCOMPLETE_FSDESC     232
#define E_FS_NOT_FOUND          233
#define E_LIST_SCREWEDUP        234
#define E_NO_SUCH_DIR           235
#define E_EXALL_ERROR           236
#define E_UNIT_DIFFERS          237
#define E_CRIT_VALUE_UNDEF      238

#define T_RENUMBER_LEFT         300

#define W_DUPLICATE_FS          100
#define W_FS_NO_WRITE           101

/* Definitions for type field in FileSave */
#define DRIVEINIT       0
#define FILESYSTEM      1

struct DefaultsArray
{
        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52}   TotalBlocks;
        @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   BytesPerBlock;
        @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   BlocksPerSurface;
        @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   Surfaces;
        @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   Cylinders;                              // note: MaxCyl = Cylinders - 1;
        @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   UnusedBlocks;
};

// Defaults Array filling error bit array
#define DA_NOERRORS                             0
#define DA_NO_CAPACITY_REPORT   1
#define DA_NO_OPTIMIZE                  2
#define DA_BAD_MODESENSE_4              4
#define DA_BAD_MODESENSE_3              8
#define DA_FAILED                               256
#define DA_NO_DRIVE_OPEN                @{"DA_FAILED" LINK File 172}
#define DA_RIDICULOUS_VALUES    ( @{"DA_FAILED" LINK File 172} << 1 )

// Defaults Array filling "Optimize" Flags
#define DA_OPTIMIZE                             1       /* Optimize storage if possible */
#define DA_HUGE                                 2       /* Allow partitioning huge disks */
#define DA_HF_WAY                               4       /* Use the old HardFrame algorithm */
// Note: @{"DA_HF_WAY" LINK File 179} is forces @{"DA_OPTIMIZE" LINK File 177} and @{"DA_HUGE" LINK File 178} off.
//       @{"DA_BAD_MODESENSE_3" LINK File 171} and @{"DA_BAD_MODESENSE_4" LINK File 170} only happen with @{"DA_HF_WAY" LINK File 179}
//       Errors below @{"DA_FAILED" LINK File 172} are informational.

/*      ==== Mountfile Recognized Strings ==== */
#ifdef DONT_EVER_COMPILE_ME     // This stuff is for reference only, thank you.

#ifdef FORREAL
#define @{"EXTERN" LINK "File" 190}
#else
#define @{"EXTERN" LINK "File" 188}  extern
#endif

@{"EXTERN" LINK File 188} const char       *_Tokens[]
#ifdef FORREAL
= {
        "/",                                    //0
        "#",
        "=",
        "device",
        "surfaces",
        "blockspertrack",
        "reserved",
        "prealloc",
        "interleave",
        "lowcyl",
        "highcyl",                              // 10
        "buffers",
        "bufmemtype",
        "maxtransfer",
        "mask",
        "bootpri",
        "dostype",
        "unit",
        "flags",
        "stacksize",
        "priority",                             // 20
        "globvec",
        "filesystem",
        "mount",
        "heads",
        "bytesperblock",
        "disk",
        "rdblow",
        "rdbhi",
        "reselect",
        "hilun",                                // 30
        "hiid",
        "hidrive",
        "cylinders",
        "cylinderblocks",
        "mincyl",
        "maxcyl",
        "hicard",
        "blocksize",
        "bootable",
        "readonly",                             // 40
        "driveinit",
        "baud",
        "control",
        "bootblocks",
        "synch",
        "sectorsperblock",
        "autoparkseconds",
        "\\xff"
}
#endif
;

#define TSLASH                  0
#define THACK                   1
#define TEQUALS                 2
#define TDEVICE                 3
#define TSURFACES               4
#define TBLOCKSPERTRACK 5
#define TRESERVED               6
#define TPREALLOC               7
#define TINTERLEAVE             8
#define TLOWCYL                 9
#define THICYL                  10
#define TBUFFERS                11
#define TBUFMEMTYPE             12
#define TMAXTRANSFER    13
#define TMASK                   14
#define TBOOTPRI                15
#define TDOSTYPE                16
#define TUNIT                   17
#define TFLAGS                  18
#define TSTACKSIZE              19
#define TPRIORITY               20
#define TGLOBVEC                21
#define TFILESYSTEM             22
#define TMOUNT                  23
#define THEADS                  24
#define TBYTESPERBLOCK  25
#define TDISK                   26
#define TRDBLOW                 27
#define TRDBHI                  28
#define TRESELECT               29
#define THILUN                  30
#define THIID                   31
#define TLASTDRIVE              32
#define TCYLINDERS              33
#define TCYLINDERBLOCKS 34
#define TMINCYL                 35
#define TMAXCYL                 36
#define THICARD                 37
#define TBLOCKSIZE              38
#define TBOOTABLE               39
#define TREADONLY               40
#define TDRIVEINIT              41
#define TBAUD                   42
#define TCONTROL                43
#define TBOOTBLOCKS             44
#define TSYNCH                  45
#define TSECSPERBLOCK   46
#define TAUTOPARKSECS   47

#define TokenCount              47
#define TNOMATCH                @{"TokenCount" LINK File 298} + 1

#endif // COMPILEME



typedef struct
        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67}  devicename;
        @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}    board;
        @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}    address;
        @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}    lun;
        @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67}  messagestring;
        @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}    extra;
        @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}    param1;
        @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}    param2;
        @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}    param3;
} HDWCallbackMsg;

#define EXTRA_BEFORE_TEST       0
#define EXTRA_AFTER_TEST        1
#define EXTRA_BEFORE_FORMAT     2       /* with no way to stop once you start.*/
#define EXTRA_BEFORE_VERIFY     3       /* Setup the verify requester and
                                           return "go ahead" */
#define EXTRA_UPDATE_VERIFY     4       /* New string for requester - return
                                           any Abort received */
#define EXTRA_VERIFY_REASSIGN   5       /* New string - return "Yes" or "No" */
#define EXTRA_VERIFY_FINISHED   6       /* Notify user, accept OK, close */


/* Function Definitions */
@{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91} __saveds __asm                              FindControllerID ( register __a0 char *devname,
                                                                                                        register __a1 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} *selfid );
@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} __saveds __asm                     FindDefaults ( register __d0 @{"USHORT" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 82} Optimize,
                                                                                                register __a0 @{"struct DefaultsArray" LINK File 156} *Return );
@{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91} __saveds __asm                              FindDiskName ( register __a0 char *diskname );
@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} __saveds __asm                     FindLastSector ( void );
@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} __saveds __asm                     InMemMountfile ( register __d0 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} unit,
                                                                                                  register __a0 char * mfdata,
                                                                                                  register __a1 char *controller );
@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} __saveds __asm                     InMemRDBStructs ( register __a0 char *rdbp,
                                                                                                   register __d0 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} sizerdb,
                                                                                                   register __d1 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} unit );
void __saveds __asm                              HDWCloseDevice ( void );
@{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91} __saveds __asm                              HDWOpenDevice ( register __a0 char *DevName,
                                                                                                 register __d0 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} unit );
@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} __saveds __asm                     OutMemMountfile ( register __a0 char *mfp,
                                                                                                   register __a1 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} *sizew,
                                                                                                   register __d0 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} sizeb,
                                                                                                   register __d1 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} unit );
@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} __saveds __asm                     OutMemRDBStructs ( register __a0 char * rdbp,
                                                                                                        register __a1 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} *sizew,
                                                                                                        register __d0 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} sizeb );
@{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91} __saveds __asm                      QueryCapacity ( register __a0 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} *totalblocks,
                                                                                                 register __a1 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} *blocksize );
void __saveds __asm                              QueryFindValid ( register __a0 @{"ValidIDstruct" LINK File 39} *ValidIDs,
                                                                                                  register __a1 char * devicename,
                                                                                                  register __d0 int board,
                                                                                                  register __d1 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} types,
                                                                                                  register __d2 @{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91} wide_scsi,
                                                                                                  register __a2 long ( * __asm CallBack)
                                                                                                                                           ( register __a0 @{"HDWCallbackMsg" LINK File 305} *msg ));
@{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91} __saveds __asm                              QueryInquiry ( register __a0 @{"BYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 58} *inqbuf,     // 40 bytes
                                                                                                register __a1 int *errorcode );
@{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91} __saveds __asm                              QueryModeSense ( register __d0 @{"BYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 58} page,
                                                                                                  register __d1 int msbsize,
                                                                                                  register __a0 @{"BYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 58} *msbuf,
                                                                                                  register __a1 int * errorcode );
@{"BOOL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 91} __saveds __asm                              QueryReady ( register __a0 int * errorcode );
@{"USHORT" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 82} __saveds __asm                    RawRead ( register __a0 @{"BootBlock" LINK File 79} *bbk,
                                           register __d0 @{"USHORT" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 82} size );
@{"USHORT" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 82} __saveds __asm                    RawWrite ( register __a0 @{"BootBlock" LINK File 79} *bb );
@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} __saveds __asm                     ReadMountfile ( register __d0 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} unit,
                                                                                                 register __a0 char *filename,
                                                                                                 register __a1 char * controller );
@{"USHORT" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 82} __saveds __asm                    ReadRDBs ( void );
@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} __saveds __asm                     ReadRDBStructs ( register __a0 char *filename,
                                                                                                  register __d0 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} unit );
@{"USHORT" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 82} __saveds __asm                    WriteBlock ( register __a0 @{"BootBlock" LINK File 79} *bb );
@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} __saveds __asm                     WriteMountfile ( register __a0 char* filename,
                                                                                                  register __a1 char * ldir,
                                                                                                  register __d0 @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} unit );
@{"USHORT" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 82} __saveds __asm                    WriteRDBs ( void );
@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} __saveds __asm                     WriteRDBStructs ( register __a0 char *filename );
@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} __saveds __asm                     LowlevelFormat ( register __a0 long ( * __asm CallBack)
                                                                                                                                           ( register __a0 @{"HDWCallbackMsg" LINK File 305} *msg ));
@{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} __saveds __asm                     VerifyDrive ( register __a0 long ( * __asm CallBack)
                                                                                                                                        ( register __a0 @{"HDWCallbackMsg" LINK File 305} *msg ));



#define INQBUFSIZE      36                      /* Standard size of Inquiry buffer */
#define MAGC_INQBUFSIZE 56      /* Special Inquiry Buffer Size. */

#define HDWRENCH_H
#endif  // HDWRENCH_H
@ENDNODE
