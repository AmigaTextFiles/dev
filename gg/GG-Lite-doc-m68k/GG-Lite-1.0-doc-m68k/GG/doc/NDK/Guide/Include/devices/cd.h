@DATABASE "gg:doc/NDK/Guide/Include/devices/cd.h"
@MASTER   "gg:os-include/devices/cd.h"
@REMARK   This file was created by ADtoHT 2.1 on 06-Jan-13 19:12:17
@REMARK   Do not edit
@REMARK   ADtoHT is © 1993-1995 Christian Stieber

@NODE MAIN "devices/cd.h"
@TOC "gg:doc/NDK/Guide/TOC/MAIN"

@{"devices/cd.h" LINK File}


@{b}Structures@{ub}

@{"CDInfo" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 133}  @{"CDXL" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 226}  @{"QCode" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 285}  @{"RMSF" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 194}  @{"TOCEntry" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 257}  @{"TOCSummary" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 249}


@{b}Unions@{ub}

@{"CDTOC" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 265}  @{"LSNMSF" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 202}


@{b}#defines@{ub}

@{"ADR_HYBRID" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 315}            @{"ADR_ISRC" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 314}            @{"ADR_POSITION" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 312}
@{"ADR_UPC" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 313}               @{"CD_ADDCHANGEINT" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 42}     @{"CD_ADDFRAMEINT" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 65}
@{"CD_ATTENUATE" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 63}          @{"CD_CHANGENUM" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 36}        @{"CD_CHANGESTATE" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 37}
@{"CD_CLEAR" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 28}              @{"CD_CONFIG" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 49}           @{"CD_EJECT" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 45}
@{"CD_FLUSH" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 31}              @{"CD_FORMAT" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 34}           @{"CD_GETDRIVETYPE" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 40}
@{"CD_GETGEOMETRY" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 44}        @{"CD_GETNUMTRACKS" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 41}     @{"CD_INFO" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 48}
@{"CD_MOTOR" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 32}              @{"CD_PAUSE" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 58}            @{"CD_PLAYLSN" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 57}
@{"CD_PLAYMSF" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 56}            @{"CD_PLAYTRACK" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 55}        @{"CD_PROTSTATUS" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 38}
@{"CD_QCODELSN" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 62}           @{"CD_QCODEMSF" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 61}         @{"CD_READ" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 25}
@{"CD_READXL" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 53}             @{"CD_REMCHANGEINT" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 43}     @{"CD_REMFRAMEINT" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 66}
@{"CD_REMOVE" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 35}             @{"CD_RESET" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 24}            @{"CD_SEARCH" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 59}
@{"CD_SEEK" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 33}               @{"CD_START" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 30}            @{"CD_STOP" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 29}
@{"CD_TOCLSN" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 51}             @{"CD_TOCMSF" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 50}           @{"CD_UPDATE" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 27}
@{"CD_WRITE" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 26}              @{"CDERR_ABORTED" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 76}       @{"CDERR_BADADDRESS" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 79}
@{"CDERR_BadDataType" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 99}     @{"CDERR_BadDriveType" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 96}  @{"CDERR_BadHdrSum" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 87}
@{"CDERR_BADLENGTH" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 78}       @{"CDERR_BadSecHdr" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 90}     @{"CDERR_BadSecID" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 86}
@{"CDERR_BadSecPreamble" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 85}  @{"CDERR_BadSecSum" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 88}     @{"CDERR_BadUnitNum" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 95}
@{"CDERR_DriveInUse" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 97}      @{"CDERR_InvalidState" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 100}  @{"CDERR_NoBoard" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 103}
@{"CDERR_NOCMD" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 77}           @{"CDERR_NoDisk" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 92}        @{"CDERR_NoMem" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 94}
@{"CDERR_NoSecHdr" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 84}        @{"CDERR_NotSpecified" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 83}  @{"CDERR_OPENFAIL" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 75}
@{"CDERR_Phase" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 102}           @{"CDERR_PostReset" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 98}     @{"CDERR_SeekError" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 93}
@{"CDERR_SELFTEST" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 81}        @{"CDERR_TooFewSecs" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 89}    @{"CDERR_UNITBUSY" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 80}
@{"CDERR_WriteProt" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 91}       @{"CDMODE_FFWD" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 177}         @{"CDMODE_FREV" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 178}
@{"CDMODE_NORMAL" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 176}         @{"CDSTSB_CDROM" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 157}        @{"CDSTSB_CLOSED" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 153}
@{"CDSTSB_DIRECTION" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 161}      @{"CDSTSB_DISK" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 154}         @{"CDSTSB_PAUSED" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 159}
@{"CDSTSB_PLAYING" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 158}        @{"CDSTSB_SEARCH" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 160}       @{"CDSTSB_SPIN" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 155}
@{"CDSTSB_TOC" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 156}            @{"CDSTSF_CDROM" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 167}        @{"CDSTSF_CLOSED" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 163}
@{"CDSTSF_DIRECTION" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 171}      @{"CDSTSF_DISK" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 164}         @{"CDSTSF_PAUSED" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 169}
@{"CDSTSF_PLAYING" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 168}        @{"CDSTSF_SEARCH" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 170}       @{"CDSTSF_SPIN" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 165}
@{"CDSTSF_TOC" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 166}            @{"CTL_2AUD" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 300}            @{"CTL_2AUDEMPH" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 301}
@{"CTL_4AUD" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 302}              @{"CTL_4AUDEMPH" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 303}        @{"CTL_COPY" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 308}
@{"CTL_COPYMASK" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 306}          @{"CTL_CTLMASK" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 298}         @{"CTL_DATA" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 304}
@{"CTLADR_ADRMASK" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 310}        @{"CTLADR_CTLMASK" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 296}      @{"TAGCD_EJECTRESET" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 120}
@{"TAGCD_PLAYSPEED" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 115}       @{"TAGCD_READSPEED" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 116}     @{"TAGCD_READXLSPEED" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 117}
@{"TAGCD_SECTORSIZE" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 118}      @{"TAGCD_XLECC" LINK "gg:doc/NDK/Guide/Include/devices/cd.h/File" 119}         

@ENDNODE
@NODE File "devices/cd.h"

#ifndef DEVICES_CD_H
#define DEVICES_CD_H
/*
**      $VER: cd.h 1.11 (12.8.1993)
**      Includes Release 45.1
**
**      @{"cd.device" LINK "gg:doc/NDK/Guide/cd/MAIN"} include file
**
**      (C) Copyright 1992-2001 Amiga, Inc.
**          All Rights Reserved
*/

#include <@{"exec/types.h" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File"}>
#include <@{"exec/nodes.h" LINK "gg:doc/NDK/Guide/Include/exec/nodes.h/File"}>


/**************************************************************************
 *                                                                        *
 *   CD Commands                                                          *
 *                                                                        *
 **************************************************************************/

#define CD_RESET             1
#define @{"CD_READ" LINK "gg:doc/NDK/Guide/cd/CD_READ"}      2
#define CD_WRITE             3
#define CD_UPDATE            4
#define CD_CLEAR             5
#define CD_STOP      6
#define CD_START             7
#define CD_FLUSH             8
#define @{"CD_MOTOR" LINK "gg:doc/NDK/Guide/cd/CD_MOTOR"}             9
#define @{"CD_SEEK" LINK "gg:doc/NDK/Guide/cd/CD_SEEK"}     10
#define CD_FORMAT           11
#define CD_REMOVE           12
#define @{"CD_CHANGENUM" LINK "gg:doc/NDK/Guide/cd/CD_CHANGENUM"}        13
#define @{"CD_CHANGESTATE" LINK "gg:doc/NDK/Guide/cd/CD_CHANGESTATE"}      14
#define @{"CD_PROTSTATUS" LINK "gg:doc/NDK/Guide/cd/CD_PROTSTATUS"}       15

#define CD_GETDRIVETYPE     18
#define CD_GETNUMTRACKS     19
#define @{"CD_ADDCHANGEINT" LINK "gg:doc/NDK/Guide/cd/CD_ADDCHANGEINT"}     20
#define @{"CD_REMCHANGEINT" LINK "gg:doc/NDK/Guide/cd/CD_REMCHANGEINT"}     21
#define @{"CD_GETGEOMETRY" LINK "gg:doc/NDK/Guide/cd/CD_GETGEOMETRY"}      22
#define @{"CD_EJECT" LINK "gg:doc/NDK/Guide/cd/CD_EJECT"}            23


#define @{"CD_INFO" LINK "gg:doc/NDK/Guide/cd/CD_INFO"}     32
#define @{"CD_CONFIG" LINK "gg:doc/NDK/Guide/cd/CD_CONFIG"}           33
#define @{"CD_TOCMSF" LINK "gg:doc/NDK/Guide/cd/CD_TOCMSF"}           34
#define @{"CD_TOCLSN" LINK "gg:doc/NDK/Guide/cd/CD_TOCLSN"}           35

#define @{"CD_READXL" LINK "gg:doc/NDK/Guide/cd/CD_READXL"}           36

#define @{"CD_PLAYTRACK" LINK "gg:doc/NDK/Guide/cd/CD_PLAYTRACK"}        37
#define @{"CD_PLAYMSF" LINK "gg:doc/NDK/Guide/cd/CD_PLAYMSF"}          38
#define @{"CD_PLAYLSN" LINK "gg:doc/NDK/Guide/cd/CD_PLAYLSN"}          39
#define @{"CD_PAUSE" LINK "gg:doc/NDK/Guide/cd/CD_PAUSE"}            40
#define @{"CD_SEARCH" LINK "gg:doc/NDK/Guide/cd/CD_SEARCH"}           41

#define @{"CD_QCODEMSF" LINK "gg:doc/NDK/Guide/cd/CD_QCODEMSF"}         42
#define @{"CD_QCODELSN" LINK "gg:doc/NDK/Guide/cd/CD_QCODELSN"}         43
#define @{"CD_ATTENUATE" LINK "gg:doc/NDK/Guide/cd/CD_ATTENUATE"}        44

#define @{"CD_ADDFRAMEINT" LINK "gg:doc/NDK/Guide/cd/CD_ADDFRAMEINT"}      45
#define @{"CD_REMFRAMEINT" LINK "gg:doc/NDK/Guide/cd/CD_REMFRAMEINT"}      46


/**************************************************************************
 *                                                                        *
 *   Device Driver Error Codes                                            *
 *                                                                        *
 **************************************************************************/

#define CDERR_OPENFAIL       (-1) /* device/unit failed to open   */
#define CDERR_ABORTED        (-2) /* request terminated early             */
#define CDERR_NOCMD          (-3) /* command not supported by device      */
#define CDERR_BADLENGTH      (-4) /* invalid length (IO_LENGTH/IO_OFFSET) */
#define CDERR_BADADDRESS     (-5) /* invalid address (IO_DATA misaligned) */
#define CDERR_UNITBUSY       (-6) /* device opens ok, but unit is busy    */
#define CDERR_SELFTEST       (-7) /* hardware failed self-test            */

#define CDERR_NotSpecified   20   /* general catchall                     */
#define CDERR_NoSecHdr       21   /* couldn't even find a sector          */
#define CDERR_BadSecPreamble 22   /* sector looked wrong                  */
#define CDERR_BadSecID       23   /* ditto                                */
#define CDERR_BadHdrSum      24   /* header had incorrect checksum        */
#define CDERR_BadSecSum      25   /* data had incorrect checksum          */
#define CDERR_TooFewSecs     26   /* couldn't find enough sectors         */
#define CDERR_BadSecHdr      27   /* another "sector looked wrong"        */
#define CDERR_WriteProt      28   /* can't write to a protected disk      */
#define CDERR_NoDisk         29   /* no disk in the drive                 */
#define CDERR_SeekError      30   /* couldn't find track 0                */
#define CDERR_NoMem          31   /* ran out of memory                    */
#define CDERR_BadUnitNum     32   /* asked for a unit > @{"NUMUNITS" LINK "gg:doc/NDK/Guide/Include/devices/trackdisk.h/File" 39}          */
#define CDERR_BadDriveType   33   /* not a drive @{"cd.device" LINK "gg:doc/NDK/Guide/cd/MAIN"} understands    */
#define CDERR_DriveInUse     34   /* someone else allocated the drive     */
#define CDERR_PostReset      35   /* user hit reset; awaiting doom        */
#define CDERR_BadDataType    36   /* data on disk is wrong type   */
#define CDERR_InvalidState   37   /* invalid cmd under current conditions */

#define CDERR_Phase          42   /* illegal or unexpected SCSI phase     */
#define CDERR_NoBoard        50   /* open failed for non-existant board   */



/**************************************************************************
 *                                                                        *
 * Configuration                                                          *
 *                                                                        *
 *       The drive is configured by TagList items defined as follows:     *
 *                                                                        *
 **************************************************************************/

#define TAGCD_PLAYSPEED 0x0001
#define TAGCD_READSPEED 0x0002
#define TAGCD_READXLSPEED       0x0003
#define TAGCD_SECTORSIZE        0x0004
#define TAGCD_XLECC             0x0005
#define TAGCD_EJECTRESET        0x0006


/**************************************************************************
 *                                                                        *
 * Information                                                            *
 *                                                                        *
 *      Information/Status structure describes current speed settings     *
 *      for read and play commands, sector size, audio attenuation        *
 *      precision, and drive status.                                      *
 *                                                                        *
 **************************************************************************/

struct CDInfo {
                            /*                                Default     */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   PlaySpeed;      /* Audio play speed       (75)        */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   ReadSpeed;      /* Data-rate of @{"CD_READ" LINK "gg:doc/NDK/Guide/cd/CD_READ"} command   (Max)       */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   ReadXLSpeed;    /* Data-rate of @{"CD_READXL" LINK "gg:doc/NDK/Guide/cd/CD_READXL"} command (75)        */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   SectorSize;     /* Number of bytes per sector     (2048)      */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   XLECC;          /* CDXL ECC enabled/disabled                  */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   EjectReset;     /* Reset on eject enabled/disabled            */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   Reserved1[4];   /* Reserved for future expansion              */

    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   MaxSpeed;       /* Maximum speed drive can handle (75, 150)   */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   AudioPrecision; /* 0 = no attenuator, 1 = mute only,          */
                            /* other = (# levels - 1)                     */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   Status;         /* See flags below                            */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55}   Reserved2[4];   /* Reserved for future expansion              */
    };


/* Flags for Status */

#define CDSTSB_CLOSED    0 /* Drive door is closed                        */
#define CDSTSB_DISK      1 /* A disk has been detected                    */
#define CDSTSB_SPIN      2 /* Disk is spinning (motor is on)              */
#define CDSTSB_TOC       3 /* Table of contents read.  Disk is valid.     */
#define CDSTSB_CDROM     4 /* Track 1 contains CD-ROM data                */
#define CDSTSB_PLAYING   5 /* Audio is playing                            */
#define CDSTSB_PAUSED    6 /* Pause mode (pauses on play command)         */
#define CDSTSB_SEARCH    7 /* Search mode (Fast Forward/Fast Reverse)     */
#define CDSTSB_DIRECTION 8 /* Search direction (0 = Forward, 1 = Reverse) */

#define CDSTSF_CLOSED    0x0001
#define CDSTSF_DISK      0x0002
#define CDSTSF_SPIN      0x0004
#define CDSTSF_TOC       0x0008
#define CDSTSF_CDROM     0x0010
#define CDSTSF_PLAYING   0x0020
#define CDSTSF_PAUSED    0x0040
#define CDSTSF_SEARCH    0x0080
#define CDSTSF_DIRECTION 0x0100


/* Modes for @{"CD_SEARCH" LINK "gg:doc/NDK/Guide/cd/CD_SEARCH"} */

#define CDMODE_NORMAL   0         /* Normal play at current play speed    */
#define CDMODE_FFWD     1         /* Fast forward play (skip-play forward)*/
#define CDMODE_FREV     2         /* Fast reverse play (skip-play reverse)*/


/**************************************************************************
 *                                                                        *
 * Position Information                                           *
 *                                                                        *
 *      Position information can be described in two forms: MSF and LSN   *
 *      form.  MSF (Minutes, Seconds, Frames) form is a time encoding.    *
 *      LSN (Logical Sector Number) form is frame (sector) count.         *
 *      The desired form is selected using the io_Flags field of the      *
 *      IOStdReq structure.  The flags and the union are described        *
 *      below.                                                            *
 *                                                                        *
 **************************************************************************/

struct RMSF {

    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}   Reserved;       /* Reserved (always zero) */
    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}   Minute;         /* Minutes (0-72ish)      */
    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}   Second;         /* Seconds (0-59)         */
    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}   Frame;          /* Frame   (0-74)         */
    };

union LSNMSF {

    @{"struct  RMSF" LINK File 194} MSF;       /* Minute, Second, Frame  */
    @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52}   LSN;            /* Logical Sector Number  */
    };


/**************************************************************************
 *                                                                        *
 * CD Transfer Lists                                                      *
 *                                                                        *
 *      A CDXL node is a double link node; however only single linkage    *
 *      is used by the device driver.  If you wish to construct a         *
 *      transfer list manually, it is only neccessary to define the       *
 *      mln_Succ pointer of the MinNode.  You may also use the Exec       *
 *      list functions by defining a List or MinList structure and by     *
 *      using the @{"AddHead" LINK "gg:doc/NDK/Guide/exec/AddHead"}/@{"AddTail" LINK "gg:doc/NDK/Guide/exec/AddTail"} functions to create the list.  This     *
 *      will create a double-linked list.  Although a double-linked       *
 *      list is not required by the device driver, you may wish use it    *
 *      for your own purposes.  Don't forget to initialize the            *
 *      the List/MinList before using it!                                 *
 *                                                                        *
 **************************************************************************/

struct  CDXL {

    @{"struct MinNode" LINK "gg:doc/NDK/Guide/Include/exec/nodes.h/File" 31}    Node;            /* double linkage                  */
    char             *Buffer;          /* data destination (word aligned) */
    @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}              Length;          /* must be even # bytes            */
    @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}              Actual;          /* bytes transferred               */
    @{"APTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 49}              IntData;         /* interrupt server data segment   */
    @{"VOID" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 24}              (*IntCode)();    /* interrupt server code entry     */
    };


/**************************************************************************
 *                                                                        *
 * CD Table of Contents                                           *
 *                                                                        *
 *      The CD_TOC command returns an array of CDTOC entries.             *
 *      Entry zero contains summary information describing how many       *
 *      tracks the disk has and the play-time of the disk.                *
 *      Entries 1 through N (N = Number of tracks on disk) contain        *
 *      information about the track.                                      *
 *                                                                        *
 **************************************************************************/

struct TOCSummary {

    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}        FirstTrack; /* First track on disk (always 1)            */
    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}        LastTrack;  /* Last track on disk                        */
    @{"union LSNMSF" LINK File 202} LeadOut;    /* Beginning of lead-out track (end of disk) */
    };


struct TOCEntry {

    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}        CtlAdr;     /* Q-Code info                  */
    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}        Track;      /* Track number                 */
    @{"union LSNMSF" LINK File 202} Position;   /* Start position of this track */
    };


union CDTOC {

    @{"struct TOCSummary" LINK File 249} Summary;  /* First entry (0) is summary information */
    @{"struct TOCEntry" LINK File 257}   Entry;    /* Entries 1-N are track entries          */
    };



/**************************************************************************
 *                                                                        *
 * Q-Code Packets                                                         *
 *                                                                        *
 *      Q-Code packets are only returned when audio is playing.   *
 *      Currently, only position packets are returned (@{"ADR_POSITION" LINK File 312})      *
 *      The other ADR_ types are almost never encoded on the disk         *
 *      and are of little use anyway.  To avoid making the QCode          *
 *      structure a union, these other ADR_ structures are not defined.   *
 *                                                                        *
 **************************************************************************/

struct QCode {

    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}        CtlAdr;        /* Data type / QCode type           */
    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}        Track; /* Track number             */
    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}        Index; /* Track subindex number            */
    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62}        Zero;          /* The "Zero" byte of Q-Code packet */
    @{"union LSNMSF" LINK File 202} TrackPosition; /* Position from start of track     */
    @{"union LSNMSF" LINK File 202} DiskPosition;  /* Position from start of disk      */
    };


#define CTLADR_CTLMASK 0xF0   /* Control field */

#define CTL_CTLMASK    0xD0   /* To be ANDed with CtlAdr before compared  */

#define CTL_2AUD       0x00   /* 2 audio channels without preemphasis     */
#define CTL_2AUDEMPH   0x10   /* 2 audio channels with preemphasis        */
#define CTL_4AUD       0x80   /* 4 audio channels without preemphasis     */
#define CTL_4AUDEMPH   0x90   /* 4 audio channels with preemphasis        */
#define CTL_DATA       0x40   /* CD-ROM Data                              */

#define CTL_COPYMASK   0x20   /* To be ANDed with CtlAdr before compared  */

#define CTL_COPY       0x20   /* When true, this audio/data can be copied */

#define CTLADR_ADRMASK 0x0F   /* Address field                            */

#define ADR_POSITION   0x01   /* Q-Code is position information   */
#define ADR_UPC        0x02   /* Q-Code is UPC information (not used)     */
#define ADR_ISRC       0x03   /* Q-Code is ISRC (not used)                */
#define ADR_HYBRID     0x05   /* This disk is a hybrid disk               */


#endif
@ENDNODE
