@DATABASE "gg:doc/NDK/Guide/Include/libraries/commodities.h"
@MASTER   "gg:os-include/libraries/commodities.h"
@REMARK   This file was created by ADtoHT 2.1 on 06-Jan-13 19:16:34
@REMARK   Do not edit
@REMARK   ADtoHT is © 1993-1995 Christian Stieber

@NODE MAIN "libraries/commodities.h"
@TOC "gg:doc/NDK/Guide/TOC/MAIN"

@{"libraries/commodities.h" LINK File}


@{b}Structures@{ub}

@{"InputXpression" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 142}  @{"NewBroker" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 40}


@{b}Typedefs@{ub}

@{"CxMsg" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 76}  @{"CxObj" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 75}  @{"IX" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 157}  @{"PFL" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 80}


@{b}#defines@{ub}

@{"CBD_DESCRLEN" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 59}     @{"CBD_NAMELEN" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 57}     @{"CBD_TITLELEN" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 58}      @{"CBERR_DUP" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 184}
@{"CBERR_OK" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 182}         @{"CBERR_SYSERR" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 183}    @{"CBERR_VERSION" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 185}     @{"COERR_BADFILTER" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 194}
@{"COERR_BADTYPE" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 195}    @{"COERR_ISNULL" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 192}    @{"COERR_NULLATTACH" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 193}  @{"COF_SHOW_HIDE" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 67}
@{"CX_BROKER" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 93}        @{"CX_CUSTOM" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 95}       @{"CX_DEBUG" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 94}          @{"CX_FILTER" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 88}
@{"CX_INVALID" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 87}       @{"CX_SEND" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 90}         @{"CX_SIGNAL" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 91}         @{"CX_TRANSLATE" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 92}
@{"CX_TYPEFILTER" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 89}    @{"CX_ZERO" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 96}         @{"CXCMD_APPEAR" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 130}      @{"CXCMD_DISABLE" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 128}
@{"CXCMD_DISAPPEAR" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 131}  @{"CXCMD_ENABLE" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 129}    @{"CXCMD_KILL" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 132}        @{"CXCMD_LIST_CHG" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 133}
@{"CXCMD_UNIQUE" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 134}     @{"CxCustom()" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 34}      @{"CxDebug()" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 33}         @{"CxFilter()" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 29}
@{"CXM_COMMAND" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 104}      @{"CXM_IEVENT" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 103}      @{"CxSender()" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 30}        @{"CxSignal()" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 31}
@{"CxTranslate()" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 32}    @{"IX_NORMALQUALS" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 172}  @{"IX_VERSION" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 160}        @{"IXSYM_ALT" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 165}
@{"IXSYM_ALTMASK" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 169}    @{"IXSYM_CAPS" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 164}      @{"IXSYM_CAPSMASK" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 168}    @{"IXSYM_SHIFT" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 163}
@{"IXSYM_SHIFTMASK" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 167}  @{"NB_VERSION" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 54}      @{"NBU_DUPLICATE" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 62}     @{"NBU_NOTIFY" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 64}
@{"NBU_UNIQUE" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 63}       @{"NULL_IX()" LINK "gg:doc/NDK/Guide/Include/libraries/commodities.h/File" 175}       

@ENDNODE
@NODE File "libraries/commodities.h"
#ifndef LIBRARIES_COMMODITIES_H
#define LIBRARIES_COMMODITIES_H
/*
**      $VER: commodities.h 38.4 (24.2.1993)
**      Includes Release 45.1
**
**      Commodities definitions
**
**      (C) Copyright 1990-2001 Amiga, Inc.
**      All Rights Reserved
*/

/*****************************************************************************/


#ifndef EXEC_TYPES_H
#include <@{"exec/types.h" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File"}>
#endif

#ifndef EXEC_PORTS_H
#include <@{"exec/ports.h" LINK "gg:doc/NDK/Guide/Include/exec/ports.h/File"}>
#endif


/*****************************************************************************/


/* object creation macros */
#define @{"CxFilter" LINK "gg:doc/NDK/Guide/amiga_lib/CxFilter"}(d)         @{"CreateCxObj" LINK "gg:doc/NDK/Guide/Include/inline/commodities.h/File" 32}((@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) @{"CX_FILTER" LINK File 88},     (@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) d,     0)
#define @{"CxSender" LINK "gg:doc/NDK/Guide/amiga_lib/CxSender"}(port,id)   @{"CreateCxObj" LINK "gg:doc/NDK/Guide/Include/inline/commodities.h/File" 32}((@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) @{"CX_SEND" LINK File 90},       (@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) port,  (@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) id)
#define @{"CxSignal" LINK "gg:doc/NDK/Guide/amiga_lib/CxSignal"}(task,sig)  @{"CreateCxObj" LINK "gg:doc/NDK/Guide/Include/inline/commodities.h/File" 32}((@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) @{"CX_SIGNAL" LINK File 91},     (@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) task,  (@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) sig)
#define @{"CxTranslate" LINK "gg:doc/NDK/Guide/amiga_lib/CxTranslate"}(ie)     @{"CreateCxObj" LINK "gg:doc/NDK/Guide/Include/inline/commodities.h/File" 32}((@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) @{"CX_TRANSLATE" LINK File 92},  (@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) ie,    0)
#define @{"CxDebug" LINK "gg:doc/NDK/Guide/amiga_lib/CxDebug"}(id)         @{"CreateCxObj" LINK "gg:doc/NDK/Guide/Include/inline/commodities.h/File" 32}((@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) @{"CX_DEBUG" LINK File 94},      (@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) id,    0)
#define @{"CxCustom" LINK "gg:doc/NDK/Guide/amiga_lib/CxCustom"}(action,id) @{"CreateCxObj" LINK "gg:doc/NDK/Guide/Include/inline/commodities.h/File" 32}((@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51}) @{"CX_CUSTOM" LINK File 95},     (@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51})action, (@{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51})id)


/*****************************************************************************/


struct NewBroker
{
    @{"BYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 58}            nb_Version;   /* Must be set to @{"NB_VERSION" LINK File 54} */
    @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67}          nb_Name;
    @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67}          nb_Title;
    @{"STRPTR" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 67}          nb_Descr;
    @{"WORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 54}            nb_Unique;
    @{"WORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 54}            nb_Flags;
    @{"BYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 58}            nb_Pri;
    @{"struct MsgPort" LINK "gg:doc/NDK/Guide/Include/exec/ports.h/File" 28} *nb_Port;
    @{"WORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 54}            nb_ReservedChannel;
};

/* constant for NewBroker.nb_Version */
#define NB_VERSION 5        /* Version of NewBroker structure */

/* Sizes for various buffers */
#define CBD_NAMELEN  24
#define CBD_TITLELEN 40
#define CBD_DESCRLEN 40

/* Flags for NewBroker.nb_Unique */
#define NBU_DUPLICATE 0
#define NBU_UNIQUE    1        /* will not allow duplicates           */
#define NBU_NOTIFY    2        /* sends CXM_UNIQUE to existing broker */

/* Flags for NewBroker.nb_Flags */
#define COF_SHOW_HIDE 4


/*****************************************************************************/


/* Fake data types for system private objects */
#ifndef COMMODITIES_BASE_H
typedef @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51} CxObj;
typedef @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51} CxMsg;
#endif

/* Pointer to a function returning a @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51} */
typedef @{"LONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 51} (*PFL)();


/*****************************************************************************/


/* Commodities object types */
#define CX_INVALID      0     /* not a valid object (probably null) */
#define CX_FILTER       1     /* input event messages only          */
#define CX_TYPEFILTER   2     /* obsolete, do not use               */
#define CX_SEND 3     /* sends a message                    */
#define CX_SIGNAL       4     /* sends a signal             */
#define CX_TRANSLATE    5     /* translates input event into chain  */
#define CX_BROKER       6     /* application representative         */
#define CX_DEBUG        7     /* dumps info to serial port          */
#define CX_CUSTOM       8     /* application provides function      */
#define CX_ZERO 9     /* system terminator node     */


/*****************************************************************************/


/* Commodities message types */
#define CXM_IEVENT  (1 << 5)
#define CXM_COMMAND (1 << 6)

/* Only @{"CXM_IEVENT" LINK File 103} messages are passed through the input network. Other types
 * of messages are sent to an optional port in your broker. This means that
 * you must test the message type in your message handling, if input messages
 * and command messages come to the same port.
 *
 * @{"CXM_IEVENT" LINK File 103}: Messages of this type rattle around the Commodities input
 *             network. They are sent to you by a Sender object, and passed
 *             to you as a synchronous function call by a Custom object.
 *
 *             The message port or function entry point is stored in the
 *             object, and the ID field of the message will be set to what
 *             you arrange issuing object.
 *
 *             The data section of the message will point to the input event
 *             triggering the message.
 *
 * @{"CXM_COMMAND" LINK File 104}: These messages are sent to a port attached to your Broker.
 *              They are sent to you when the controller program wants your
 *              program to do something. The ID value identifies the command.
 */

/* ID values associated with a message of type @{"CXM_COMMAND" LINK File 104} */
#define CXCMD_DISABLE   (15)  /* please disable yourself         */
#define CXCMD_ENABLE    (17)  /* please enable yourself  */
#define CXCMD_APPEAR    (19)  /* open your window, if you can    */
#define CXCMD_DISAPPEAR (21)  /* go dormant                      */
#define CXCMD_KILL      (23)  /* go away for good                */
#define CXCMD_LIST_CHG  (27)  /* Someone changed the broker list */
#define CXCMD_UNIQUE    (25)  /* someone tried to create a broker
                               * with your name. Suggest you appear.
                               */


/*****************************************************************************/


struct InputXpression
{
    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} ix_Version;     /* must be set to @{"IX_VERSION" LINK File 160} */
    @{"UBYTE" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 62} ix_Class;       /* class must match exactly  */

    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55} ix_Code;        /* Bits that we want */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55} ix_CodeMask;    /* Set bits here to indicate which bits in ix_Code
                           * are don't care bits.
                           */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55} ix_Qualifier;   /* Bits that we want */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55} ix_QualMask;    /* Set bits here to indicate which bits in
                           * ix_Qualifier are don't care bits
                           */
    @{"UWORD" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 55} ix_QualSame;    /* synonyms in qualifier */
};
typedef @{"struct InputXpression" LINK File 142} IX;

/* constant for InputXpression.ix_Version */
#define IX_VERSION 2

/* constants for InputXpression.ix_QualSame */
#define IXSYM_SHIFT 1   /* left- and right- shift are equivalent     */
#define IXSYM_CAPS  2   /* either shift or caps lock are equivalent  */
#define IXSYM_ALT   4   /* left- and right- alt are equivalent       */

#define IXSYM_SHIFTMASK (@{"IEQUALIFIER_LSHIFT" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 221} | @{"IEQUALIFIER_RSHIFT" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 222})
#define IXSYM_CAPSMASK  (@{"IXSYM_SHIFTMASK" LINK File 167} | @{"IEQUALIFIER_CAPSLOCK" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 223})
#define IXSYM_ALTMASK   (@{"IEQUALIFIER_LALT" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 225} | @{"IEQUALIFIER_RALT" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 226})

/* constant for InputXpression.ix_QualMask */
#define IX_NORMALQUALS  0x7FFF   /* avoid RELATIVEMOUSE */

/* matches nothing */
#define NULL_IX(ix)   ((ix)->ix_Class == @{"IECLASS_NULL" LINK "gg:doc/NDK/Guide/Include/devices/inputevent.h/File" 29})


/*****************************************************************************/


/* Error returns from @{"CxBroker()" LINK "gg:doc/NDK/Guide/commodities/CxBroker"} */
#define CBERR_OK      0  /* No error                               */
#define CBERR_SYSERR  1  /* System error, no memory, etc           */
#define CBERR_DUP     2  /* uniqueness violation                   */
#define CBERR_VERSION 3  /* didn't understand NewBroker.nb_Version */


/*****************************************************************************/


/* Return values from @{"CxObjError()" LINK "gg:doc/NDK/Guide/commodities/CxObjError"} */
#define COERR_ISNULL     1   /* you called @{"CxObjError" LINK "gg:doc/NDK/Guide/commodities/CxObjError"}(@{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101})        */
#define COERR_NULLATTACH 2   /* someone attached @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} to my list   */
#define COERR_BADFILTER  4   /* a bad filter description was given */
#define COERR_BADTYPE    8   /* unmatched type-specific operation  */


/*****************************************************************************/


#endif /* LIBRARIES_COMMODITIES_H */
@ENDNODE
