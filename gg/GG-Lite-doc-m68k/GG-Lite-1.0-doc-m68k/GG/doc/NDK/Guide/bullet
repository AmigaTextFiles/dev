@DATABASE "gg:doc/NDK/Guide/bullet"
@MASTER   "gg:doc/NDK/AutoDocs/bullet.doc"
@REMARK   This file was created by ADtoHT 2.1 on 06-Jan-13 19:19:29
@REMARK   Do not edit
@REMARK   ADtoHT is © 1993-1995 Christian Stieber

@NODE MAIN "bullet.doc"
@TOC "gg:doc/NDK/Guide/TOC/MAIN"

                               @{b}bullet.library@{ub}

@{"background" LINK "background"}

@{"CloseEngine()" LINK "CloseEngine"}  @{"ObtainInfo()" LINK "ObtainInfoA"}    @{"ObtainInfoA()" LINK "ObtainInfoA"}  @{"OpenEngine()" LINK "OpenEngine"}
@{"ReleaseInfo()" LINK "ReleaseInfoA"}  @{"ReleaseInfoA()" LINK "ReleaseInfoA"}  @{"SetInfo()" LINK "SetInfoA"}      @{"SetInfoA()" LINK "SetInfoA"}

@ENDNODE
@NODE "background" "bullet.library/background (information)"


   AMIGA FONTS
        The existence of a disk font is indicated by the existence of
        its associated font contents file, whose name has the suffix
        ".font".  It is this name that is used in the actual font
        open call of the application.  Amiga fonts are collected in
        the directory path(s) associated with the FONTS: assign.  It
        is this assign that is searched if no explicit path name is
        provided in the font open call: use of an explicit path is
        generally discouraged.  The actual bitmaps of traditional
        Amiga fonts are stored in a directory with the name of the
        font contents file stripped of its ".font" suffix.  This
        directory is usually in the same directory as the font
        contents file.  This traditional arrangement is supported by
        the FixFonts system application.

        For example:
            o   FONTS: is assigned to Sys:Fonts/
            o   Sys:Fonts/garnet.font exists and describes that the
                font "garnet.font" exists
            o   Sys:Fonts/garnet/ contains the bitmap images for
                sizes 9 and 16

        Other variations of file placement may exist, but they
        require custom tools to maintain -- tools available not from
        Commodore, but from other sources such as Fish disks.

        Font contents files are flagged with magic numbers that not
        only verify that they are a font contents files but also what
        variation of file structure they contain.

   OUTLINE TYPEFACES
        The existence of an outline typeface is indicated by a magic
        number in the font contents file.  They are further described
        in the associated outline typeface tag file, whose name is
        the that of the font contents file with the suffix ".otag"
        substituted for ".font".  This tag file contains a tag list
        that is to be processed and passed to the outline engine
        (i.e.  @{"bullet.library" LINK "gg:doc/NDK/Guide/bullet/MAIN"}) in order to select the associated
        typeface.  It also contains information applications may use
        to guide their use of the typeface.

   OTAG SPECIFICATION EXAMPLE
        Here are the steps necessary to go from an arbitrary font
        name into an environment where glyphs from that font
        can be accessed:
        1.  Read the header from the font contents (.font) file and
            verify that the magic cookie fch_ID is @{"OFCH_ID" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfont.h/File" 50}.
            If it is not, then this is an Amiga bitmap font,
            not an outline font.
        2.  Read the associated outline tag (.otag) file into memory:
            a.  Validate that the @{"OT_FileIdent" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 196} exists and matches the
                file size.
            b.  Allocate a memory buffer and read the file into it.
            c.  Resolve addresses: for each tag with the @{"OT_Indirect" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 33}
                bit set, add the memory buffer origin to the
                associated data.
        3.  Find the @{"OT_Engine" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 199} tag and ensure that you have the
            proper engine open:
            a.  If you already have an engine handle for this engine
                name, you skip these steps.
            b.  append the suffix ".library" to the engine name.
                (e.g. "bullet" becomes "@{"bullet.library" LINK "gg:doc/NDK/Guide/bullet/MAIN"}").
            c.  use exec's @{"OpenLibrary()" LINK "gg:doc/NDK/Guide/exec/OpenLibrary"} to open the library.
            d.  use the engine's @{"OpenEngine()" LINK "gg:doc/NDK/Guide/bullet/OpenEngine"} to acquire an engine
                handle.
        4.  Pass the full path name of the .otag file to the engine
            with the @{"OT_OTagPath" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 129} tag using @{"SetInfo()" LINK "gg:doc/NDK/Guide/bullet/SetInfoA"}.
        5.  Pass the memory copy of the .otag file to the engine with
            the @{"OT_OTagList" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 130} tag using @{"SetInfo()" LINK "gg:doc/NDK/Guide/bullet/SetInfoA"}.  This step may be
            combined with step 4, passing first the path then the
            list in one call.
        The library is now ready to accept glyph metric information
        (e.g. size and glyph code) and produce glyph bitmaps.

   DISKFONT USE OF OTAG ENTRIES
        The diskfont library uses other entries from the outline tag
        (.otag) file.  The following are used both during inquiry of
        what typefaces exist (@{"AvailFonts" LINK "gg:doc/NDK/Guide/diskfont/AvailFonts"}) and during creation of an
        Amiga TextFont (@{"OpenDiskFont" LINK "gg:doc/NDK/Guide/diskfont/OpenDiskFont"}):
        o   @{"OT_IsFixed" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 230} is used to determine whether these outlines
            describe a PROPORTIONAL flagged font.
        o   @{"OT_StemWeight" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 236} is used to determine whether these outlines
            describe a BOLD style font.
        o   @{"OT_SlantStyle" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 256} is used to determine whether these outlines
            describe an ITALIC style font.
        o   @{"OT_HorizStyle" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 262} is used to determine whether these outlines
            describe an EXTENDED style font.
        The following are used only during @{"OpenDiskFont" LINK "gg:doc/NDK/Guide/diskfont/OpenDiskFont"}:
        o   @{"OT_YSizeFactor" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 222} is used to convert the Amiga pixel height
            specification, which describes the distance from the
            lowest decender to the highest ascender, into a point
            size specification, which is related (via YSizeFactor)
            to a nominal character height.
        o   @{"OT_SpaceWidth" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 226} is used as the width of the space character.
        The following is used only during @{"AvailFonts" LINK "gg:doc/NDK/Guide/diskfont/AvailFonts"}:
        o   @{"OT_AvailSizes" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 284} is used to generate a list of sizes
            available for the font.

@ENDNODE
@NODE "CloseEngine" "bullet.library/CloseEngine()"
@{b}

    NAME@{ub}
        @{"CloseEngine" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 27} -- Release an engine handle@{b}

    SYNOPSIS@{ub}
        @{"CloseEngine" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 27}(engineHandle)
                    A0

        void @{"CloseEngine" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 27}(@{"struct GlyphEngine" LINK "gg:doc/NDK/Guide/Include/diskfont/glyph.h/File" 26} *);@{b}

    FUNCTION@{ub}
        This function releases the engine handle acquired with
        @{"OpenEngine" LINK "OpenEngine"}.  It first releases any data acquired with
        @{"ObtainInfoA" LINK "ObtainInfoA"} associated with the engineHandle that has not yet
        been released.@{b}

    INPUTS@{ub}
        engineHandle -- the handle acquired via @{"OpenEngine" LINK "OpenEngine"}.  If zero,
                no operation is performed.@{b}

    RESULT@{ub}
        This function has no result.  The only error that can occur is
        when the when an invalid engineHandle is supplied: the
        application is assumed not to do that.@{b}

    EXAMPLE@{ub}
        EndGame(code, arg1, arg2, arg3, arg3)
        {
            ...
            @{"CloseEngine" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 27}(EngineHandle);
            ...
        }@{b}

    SEE ALSO@{ub}
        @{"OpenEngine()" LINK "OpenEngine"}

@ENDNODE
@NODE "ObtainInfoA" "bullet.library/ObtainInfoA()"
@{b}

    NAME@{ub}
        @{"ObtainInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 40} -- Inquire tagged font and/or glyph metrics
        @{"ObtainInfo" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 45} -- varargs form of @{"ObtainInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 40}@{b}

    SYNOPSIS@{ub}
        error = @{"ObtainInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 40}(engineHandle, tagList)
                            A0            A1

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} @{"ObtainInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 40}(@{"struct GlyphEngine" LINK "gg:doc/NDK/Guide/Include/diskfont/glyph.h/File" 26} *, @{"struct TagItem" LINK "gg:doc/NDK/Guide/Include/utility/tagitem.h/File" 32} *);

        error = @{"ObtainInfo" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 45}(engineHandle, firstTag, ...)

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} @{"ObtainInfo" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 45}(@{"struct GlyphEngine" LINK "gg:doc/NDK/Guide/Include/diskfont/glyph.h/File" 26} *, Tag, ...);@{b}

    FUNCTION@{ub}
        This function accepts a tagList whose tag field elements are
        valid for inquiry, and whose associated data fields are
        pointers to the destination in which to place the requested
        data.

        Tag items that refer to data indirectly (@{"OT_Indirect" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 33} is set)
        return pointers that may be allocated or cached by the
        library.  This data must be treated as read-only data.  When
        the application is done with the data acquired via @{"ObtainInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 40},
        it must perform a @{"ReleaseInfoA" LINK "ReleaseInfoA"} to allow the library to release
        the data.@{b}

    INPUTS@{ub}
        engineHandle -- the handle acquired via @{"OpenEngine" LINK "OpenEngine"}.
        tagList -- a tagList containing OT_ tags valid for inquiry
                paired with the destination pointers for the inquiry
                results.  All destinations are longwords, whether they
                are pointers or values, and regardless of whether the
                value could fit in a smaller variable.@{b}

    RESULT@{ub}
        This function returns a zero success indication, or a non-zero
        error code.@{b}

    EXAMPLE@{ub}
            @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} pointSize;
            @{"struct GlyphMap" LINK "gg:doc/NDK/Guide/Include/diskfont/glyph.h/File" 34} *glyph;
            ...
            if (!@{"ObtainInfo" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 45}(EngineHandle, OT_Glyph, &glyph, @{"TAG_DONE" LINK "gg:doc/NDK/Guide/Include/utility/tagitem.h/File" 39})) {
                ...
                @{"ReleaseInfo" LINK "ReleaseInfoA"}(EngineHandle, OT_Glyph, glyph, @{"TAG_DONE" LINK "gg:doc/NDK/Guide/Include/utility/tagitem.h/File" 39});
            }@{b}

    SEE ALSO@{ub}
        @{"ReleaseInfoA()" LINK "ReleaseInfoA"}, @{"diskfont/diskfonttag.h" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File"}, @{"diskfont/oterrors.h" LINK "gg:doc/NDK/Guide/Include/diskfont/oterrors.h/File"}

@ENDNODE
@NODE "OpenEngine" "bullet.library/OpenEngine()"
@{b}

    NAME@{ub}
        @{"OpenEngine" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 23} -- Acquire engine handle@{b}

    SYNOPSIS@{ub}
        engineHandle = @{"OpenEngine" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 23}()

        @{"struct GlyphEngine" LINK "gg:doc/NDK/Guide/Include/diskfont/glyph.h/File" 26} *@{"OpenEngine" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 23}(void)@{b}

    FUNCTION@{ub}
        This function establishes a context for access to the bullet
        library.  This context remains valid until it is closed via
        @{"CloseEngine" LINK "CloseEngine"}.  Each specific context isolates the specification
        of the various font attributes from other contexts concurrently
        accessing the bullet library.  A context can be shared among
        different tasks.@{b}

    RESULT@{ub}
        This function returns an engineHandle, or @{"NULL" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 101} if for some
        reason no engineHandle can be created.@{b}

    EXAMPLE@{ub}
            BulletBase = @{"OpenLibrary" LINK "gg:doc/NDK/Guide/exec/OpenLibrary"}("bullet.library", 0);
            if (!BulletBase)
                EndGame(ERROR_LibOpen, "bullet.library", 0);
            EngineHandle = @{"OpenEngine" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 23}();
            if (!EngineHandle)
                EndGame(ERROR_InternalCall, "@{"OpenEngine" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 23}");@{b}

    SEE ALSO@{ub}
        @{"CloseEngine()" LINK "CloseEngine"}

@ENDNODE
@NODE "ReleaseInfoA" "bullet.library/ReleaseInfoA()"
@{b}

    NAME@{ub}
        @{"ReleaseInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 49} -- Release data obtained with @{"ObtainInfoA" LINK "ObtainInfoA"}
        @{"ReleaseInfo" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 54} -- varargs form of @{"ReleaseInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 49}@{b}

    SYNOPSIS@{ub}
        error = @{"ReleaseInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 49}(engineHandle, tagList)
                             A0            A1

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} @{"ReleaseInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 49}(@{"struct GlyphEngine" LINK "gg:doc/NDK/Guide/Include/diskfont/glyph.h/File" 26} *, @{"struct TagItem" LINK "gg:doc/NDK/Guide/Include/utility/tagitem.h/File" 32} *);

        error = @{"ReleaseInfo" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 54}(engineHandle, firstTag, ...)

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} @{"ReleaseInfo" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 54}(@{"struct GlyphEngine" LINK "gg:doc/NDK/Guide/Include/diskfont/glyph.h/File" 26} *, Tag, ...);@{b}

    FUNCTION@{ub}
        This function releases the data obtained with @{"ObtainInfoA" LINK "ObtainInfoA"}.
        Data associated with tags that are not indirect, i.e. for which
        @{"OT_Indirect" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 33} is not set, need not be released, but it is not an
        error to do so.  Released data may be immediately freed or may
        become a candidate to be expunged from memory when the system
        reaches a low memory condition, depending on the library's
        internal implementation.

        Each @{"ReleaseInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 49} tag item must be associated with a prior
        @{"ObtainInfoA" LINK "ObtainInfoA"}.@{b}

    INPUTS@{ub}
        engineHandle -- the handle acquired via @{"OpenEngine" LINK "OpenEngine"}.
        tagList -- a tagList containing OT_ tags valid for inquiry
                paired with the data previously acquired for them with
                @{"ObtainInfoA" LINK "ObtainInfoA"}.  Null pointers quietly accepted and
                ignored for indirect data.@{b}

    RESULT@{ub}
        This function has no result.  The only error that can occur is
        when the Obtain and Release pairs are mismatched: the
        application is assumed not to do that.@{b}

    EXAMPLE@{ub}
            @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} pointSize;
            @{"struct GlyphMap" LINK "gg:doc/NDK/Guide/Include/diskfont/glyph.h/File" 34} *glyph;
            ...
            error = @{"ObtainInfo" LINK "ObtainInfoA"}(EngineHandle, OT_Glyph, &glyph, @{"TAG_DONE" LINK "gg:doc/NDK/Guide/Include/utility/tagitem.h/File" 39});
            ...
            @{"ReleaseInfo" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 54}(EngineHandle, OT_Glyph, glyph, @{"TAG_DONE" LINK "gg:doc/NDK/Guide/Include/utility/tagitem.h/File" 39});@{b}

    SEE ALSO@{ub}
        @{"ReleaseInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 49}(), @{"diskfont/diskfonttag.h" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File"}, @{"diskfont/oterrors.h" LINK "gg:doc/NDK/Guide/Include/diskfont/oterrors.h/File"}

@ENDNODE
@NODE "SetInfoA" "bullet.library/SetInfoA()"
@{b}

    NAME@{ub}
        @{"SetInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 31} -- Set font and/or glyph metrics
        @{"SetInfo" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 36} -- varargs form of @{"SetInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 31}@{b}

    SYNOPSIS@{ub}
        error = @{"SetInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 31}(engineHandle, tagList)
                         A0            A1

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} @{"SetInfoA" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 31}(@{"struct GlyphEngine" LINK "gg:doc/NDK/Guide/Include/diskfont/glyph.h/File" 26} *, @{"struct TagItem" LINK "gg:doc/NDK/Guide/Include/utility/tagitem.h/File" 32} *);

        error = @{"SetInfo" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 36}(engineHandle, firstTag, ...)

        @{"ULONG" LINK "gg:doc/NDK/Guide/Include/exec/types.h/File" 52} @{"SetInfo" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 36}(@{"struct GlyphEngine" LINK "gg:doc/NDK/Guide/Include/diskfont/glyph.h/File" 26} *, Tag, ...);@{b}

    FUNCTION@{ub}
        This function accepts a tagList whose tag field elements are
        valid for specification, and whose associated data fields are
        used to supply the specified data.

        Data that is supplied via an indirect pointer (@{"OT_Indirect" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 33}) to
        an array or structure is copied from that array or structure
        into the internal memory of the library.  Changes to the data
        after this call do not affect the engine.@{b}

    INPUTS@{ub}
        engineHandle -- the handle acquired via @{"OpenEngine" LINK "OpenEngine"}.
        tagList -- a tagList containing OT_ tags valid for
                specification paired with the specification data.@{b}

    RESULT@{ub}
        This function returns a zero success indication, or a non-zero
        error code.@{b}

    EXAMPLE@{ub}
            if (!(error = @{"SetInfo" LINK "gg:doc/NDK/Guide/Include/inline/bullet.h/File" 36}(EngineHandle, @{"OT_PointHeight" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 61}, fpoints,
                    @{"OT_GlyphCode" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File" 106}, GC_daggerdbl, @{"TAG_DONE" LINK "gg:doc/NDK/Guide/Include/utility/tagitem.h/File" 39})) {
                error = @{"ObtainInfo" LINK "ObtainInfoA"}(EngineHandle, OT_Glyph, &glyph);
                ...
                @{"ReleaseInfo" LINK "ReleaseInfoA"}(EngineHandle, OT_Glyph, glyph);
            }@{b}

    SEE ALSO@{ub}
        @{"diskfont/diskfonttag.h" LINK "gg:doc/NDK/Guide/Include/diskfont/diskfonttag.h/File"}, @{"diskfont/oterrors.h" LINK "gg:doc/NDK/Guide/Include/diskfont/oterrors.h/File"},

@ENDNODE
