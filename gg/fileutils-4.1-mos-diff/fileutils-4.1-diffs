diff -ruN fileutils-4.1-orig/ChangeLog fileutils-4.1/ChangeLog
--- fileutils-4.1-orig/ChangeLog	Sun Apr 29 11:33:43 2001
+++ fileutils-4.1/ChangeLog	Fri Sep 10 01:03:36 2004
@@ -5736,6 +5736,13 @@
 	* acconfig.h: Remove HAVE_INTTYPES_H, now that m4/inttypes_h.m4
 	automatically handles it.
 
+1998-03-21  Achim Blumensath  <blume@corona.oche.de>
+
+	* src/Makefile.am (cp_SOURCES): Add cp-attr.c.
+	* src/cp-attr.c: New file to copy BeOS attributes.
+	* src/cp.c (copy): On BeOS, call BeOS_CopyAttributes.
+	* Makefile.in */Makefile.in: Regenerated.
+
 1998-03-21  Jim Meyering  <meyering@eng.ascend.com>
 
 	* lib/quotearg.h: Update from patch-2.5.3.
@@ -5891,6 +5898,15 @@
 
 	* ChangeLog-1997: New file.
 	* Makefile.am (EXTRA_DIST): Add ChangeLog-1997.
+
+1998-02-21  Fred Fish  <fnf@ninemoons.com>
+
+	* lib/makepath.c: Only include alloca.h if C_ALLOCA is not defined.
+	* lib/posixtm.y: Ditto.
+	* lib/regex.c: Ditto.
+	* lib/rx.c: Ditto.
+	* lib/userspec.c: Ditto.
+	* src/system.h: Ditto.
 
 1998-02-21  Jim Meyering  <meyering@eng.ascend.com>
 
diff -ruN fileutils-4.1-orig/ChangeLog-1997 fileutils-4.1/ChangeLog-1997
--- fileutils-4.1-orig/ChangeLog-1997	Sun Feb 22 09:18:33 1998
+++ fileutils-4.1/ChangeLog-1997	Fri Sep 10 01:03:36 2004
@@ -447,6 +447,21 @@
 	an obstack rather than on the stack via alloca, then free it in the
 	likely event that we don't save the entry in the hash table.
 
+Fri Oct 17 12:53:56 1997  Fred Fish  <fnf@ninemoons.com>
+
+	* configure.in (AC_ARFLAGS): Add.
+	* configure: Regenerate.
+
+Thu Oct  2 19:45:05 1997  Fred Fish  <fnf@ninemoons.com>
+
+	* src/Makefile.in: Regenerated due to needed changes in automake.
+	* man/Makefile.in: Ditto.
+	* m4/Makefile.in: Ditto.
+	* doc/Makefile.in: Ditto.
+	* lib/Makefile.in: Ditto.
+	* lib/getdate.c: Remove file that is generated in build dir.
+	* lib/posixtm.c: Ditto.
+
 1997-10-25  Jim Meyering  <meyering@na-net.ornl.gov>
 
 	* lib/xmalloc.c (xalloc_fail): Renamed from fixup_null_alloc.
@@ -1774,6 +1789,19 @@
 	(branderh@IAEhv.nl).
 	Declare pointer parameters const as appropriate.
 
+Wed Aug  7 21:31:28 1996  GNU Emacs Lover  <walter@pctc.chemie.uni-erlangen.de>
+
+	* src/ls.c: The patch using isfunny() and isfunny2() should be
+	unnecessary.  The original uses ISPRINT().
+
+	* lib/fnmatch.h: The patch for FNM_PATHNAME is outdated.  It is
+        done by default.
+
+	* lib/backupfile.c: added comment at the change of
+        simple_backup_suffix.
+
+	* all patches changing void main to main or int main are outdated.
+		
 Thu Aug  1 22:12:15 1996  Jim Meyering  <meyering@na-net.ornl.gov>
 
 	* src/system.h (ST_NBLOCKS) [_CRAY]: Special case for Cray.
diff -ruN fileutils-4.1-orig/Product-Info fileutils-4.1/Product-Info
--- fileutils-4.1-orig/Product-Info	Thu Jan  1 00:00:00 1970
+++ fileutils-4.1/Product-Info	Sun Oct  3 22:45:20 2004
@@ -0,0 +1,29 @@
+.name
+fileutils
+.fullname
+File management utilities
+.type
+Miscellaneous
+.short
+File management utilities.
+.description
+These are the GNU file management utilities.  Most of these programs
+have significant advantages over their Unix counterparts, such as
+greater speed, additional options, and fewer arbitrary limits.
+
+The programs that can be built with this package are: chgrp, chown,
+chmod, cp, dd, df, du, install, ln, dir, vdir, ls, mkdir, mvdir,
+mkfifo, mknod, mv, rm, rmdir and touch.  But mvdir is built only on
+systems that lack the rename system call.
+
+The programs cat, cut, expand, head, paste, split, tac, tail and
+unexpand, which used to be part of the fileutils, are now part of the
+textutils.  Cmp is now part of the diff distribution.
+.version
+4.1
+.author
+Free Software Foundation
+.distribution
+GNU Public License
+.described-by
+Pavel Fedin (sonic_amiga@rambler.ru)
diff -ruN fileutils-4.1-orig/config.guess fileutils-4.1/config.guess
--- fileutils-4.1-orig/config.guess	Sat Apr 21 18:27:49 2001
+++ fileutils-4.1/config.guess	Sat Sep 11 15:47:02 2004
@@ -248,6 +248,9 @@
     *:[Aa]miga[Oo][Ss]:*:*)
 	echo ${UNAME_MACHINE}-unknown-amigaos
 	exit 0 ;;
+    *:[Mm]orph[Oo][Ss]:*:*)
+        echo ${UNAME_MACHINE}-unknown-morphos
+        exit 0 ;;
     arc64:OpenBSD:*:*)
 	echo mips64el-unknown-openbsd${UNAME_RELEASE}
 	exit 0 ;;
diff -ruN fileutils-4.1-orig/config.sub fileutils-4.1/config.sub
--- fileutils-4.1-orig/config.sub	Sat Apr 21 18:27:49 2001
+++ fileutils-4.1/config.sub	Sat Sep 11 15:49:25 2004
@@ -1020,7 +1020,7 @@
 	      | -mingw32* | -linux-gnu* | -uxpv* | -beos* | -mpeix* | -udk* \
 	      | -interix* | -uwin* | -rhapsody* | -darwin* | -opened* \
 	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
-	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* | -os2*)
+	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* | -os2* | -morphos*)
 	# Remember, each alternative MUST END IN *, to match a version number.
 		;;
 	-qnx*)
diff -ruN fileutils-4.1-orig/configure fileutils-4.1/configure
--- fileutils-4.1-orig/configure	Sun Apr 29 08:26:09 2001
+++ fileutils-4.1/configure	Mon Sep 13 01:11:05 2004
@@ -4596,7 +4596,7 @@
 int
 main ()
 {
-static struct timespec x; x.tv_sec = x.tv_nsec;
+static struct timespec x; x.ts_sec = x.ts_nsec;
   ;
   return 0;
 }
diff -ruN fileutils-4.1-orig/doc/fileutils.info fileutils-4.1/doc/fileutils.info
--- fileutils-4.1-orig/doc/fileutils.info	Sun Apr 29 08:29:41 2001
+++ fileutils-4.1/doc/fileutils.info	Sun Oct  3 22:38:29 2004
@@ -1,5 +1,5 @@
-This is fileutils.info, produced by makeinfo version 4.0 from
-fileutils.texi.
+This is Info file fileutils.info, produced by Makeinfo version 1.68
+from the input file fileutils.texi.
 
 START-INFO-DIR-ENTRY
 * File utilities: (fileutils).  GNU file utilities.
@@ -109,9 +109,9 @@
 * Menu:
 
 * Backup options::              -b -S -V, in some programs.
-* Block size::                  BLOCK_SIZE and --block-size, in some programs.
-* Target directory::            --target-directory, in some programs.
-* Trailing slashes::            --strip-trailing-slashes, in some programs.
+* Block size::                  BLOCK_SIZE and -block-size, in some programs.
+* Target directory::            -target-directory, in some programs.
+* Trailing slashes::            -strip-trailing-slashes, in some programs.
 
 
 File: fileutils.info,  Node: Backup options,  Next: Block size,  Up: Common options
@@ -130,9 +130,8 @@
      removed.  Without this option, the original versions are destroyed.
      Use METHOD to determine the type of backups to make.  When this
      option is used but METHOD is not specified, then the value of the
-     `VERSION_CONTROL' environment variable is used.  And if
-     `VERSION_CONTROL' is not set, the default backup type is
-     `existing'.
+     VERSION_CONTROL environment variable is used.  And if
+     VERSION_CONTROL is not set, the default backup type is `existing'.
 
      Note that the short form of this option, `-b' does not accept any
      argument.  Using `-b' is equivalent to using `--backup=existing'.
@@ -163,8 +162,8 @@
 `-S SUFFIX'
 `--suffix=SUFFIX'
      Append SUFFIX to each backup file made with `-b'.  If this option
-     is not specified, the value of the `SIMPLE_BACKUP_SUFFIX'
-     environment variable is used.  And if `SIMPLE_BACKUP_SUFFIX' is not
+     is not specified, the value of the SIMPLE_BACKUP_SUFFIX
+     environment variable is used.  And if SIMPLE_BACKUP_SUFFIX is not
      set, the default is `~', just as in Emacs.
 
 `--version-control=METHOD'
@@ -192,16 +191,16 @@
 
 `DF_BLOCK_SIZE'
      This specifies the default block size for the `df' command.
-     Similarly, `DU_BLOCK_SIZE' specifies the default for `du' and
-     `LS_BLOCK_SIZE' for `ls'.
+     Similarly, DU_BLOCK_SIZE specifies the default for `du' and
+     LS_BLOCK_SIZE for `ls'.
 
 `BLOCK_SIZE'
      This specifies the default block size for all three commands, if
      the above command-specific environment variables are not set.
 
 `POSIXLY_CORRECT'
-     If neither the `COMMAND_BLOCK_SIZE' nor the `BLOCK_SIZE' variables
-     are set, but this variable is set, the block size defaults to 512.
+     If neither the COMMAND_BLOCK_SIZE nor the BLOCK_SIZE variables are
+     set, but this variable is set, the block size defaults to 512.
 
    If none of the above environment variables are set, the block size
 currently defaults to 1024 bytes, but this number may change in the
@@ -260,7 +259,7 @@
    Block size defaults can be overridden by an explicit
 `--block-size=SIZE' option.  The `-k' or `--kilobytes' option is
 equivalent to `--block-size=1k', which is the default unless the
-`POSIXLY_CORRECT' environment variable is set.  The `-h' or
+POSIXLY_CORRECT environment variable is set.  The `-h' or
 `--human-readable' option is equivalent to
 `--block-size=human-readable'.  The `--si' option is equivalent to
 `--block-size=si'.
@@ -285,11 +284,11 @@
      this convention.
 
      The commands in the `mv'-family are unusual in that they take a
-     variable number of arguments with a special case at the _end_
+     variable number of arguments with a special case at the *end*
      (namely, the target directory).  This makes it nontrivial to
      perform some operations, e.g., "move all files from here to
      ../d/", because `mv * ../d/' might exhaust the argument space, and
-     `ls | xargs ...' doesn't have a clean way to specify an extra
+     `ls | xargs ...'  doesn't have a clean way to specify an extra
      final argument for each invocation of the subject command.  (It
      can be done by going through a shell command, but that requires
      more human labor and brain power than it should.)
@@ -302,7 +301,7 @@
 
           ls |xargs mv --target-directory=../d
 
-     If you use the GNU `find' program, you can move _all_ files with
+     If you use the GNU `find' program, you can move *all* files with
      this command:
           find . -mindepth 1 -maxdepth 1 \
             | xargs mv --target-directory=../d
@@ -331,7 +330,7 @@
 when performing file name completion on such symbolic links.  Without
 this option, `mv', for example, (via the system's rename function) must
 interpret a trailing slash as a request to dereference the symbolic link
-and so must rename the indirectly referenced _directory_ and not the
+and so must rename the indirectly referenced *directory* and not the
 symbolic link.  Although it may seem surprising that such behavior be
 the default, it is required by POSIX.2 and is consistent with other
 parts of that standard.
@@ -416,7 +415,7 @@
 operations on single-character symbols.  They allow you to modify either
 all or selected parts of files' permissions, optionally based on their
 previous values, and perhaps on the current `umask' as well (*note
-Umask and Protection::).
+Umask and Protection::.).
 
    The format of symbolic modes is:
 
@@ -452,7 +451,7 @@
 
    The USERS part tells which users' access to the file is changed.  It
 consists of one or more of the following letters (or it can be empty;
-*note Umask and Protection::, for a description of what happens then).
+*note Umask and Protection::., for a description of what happens then).
 When more than one of these letters is given, the order that they are
 in does not matter.
 
@@ -580,7 +579,7 @@
 
    Remember that the special permissions only affect files that are
 executable, plus, on some systems, directories (on which they have
-different meanings; *note Mode Structure::).  Also, the combinations
+different meanings; *note Mode Structure::.).  Also, the combinations
 `u+t', `g+t', and `o+s' have no effect.
 
    The `=' operator is not very useful with special permissions; for
@@ -618,7 +617,7 @@
 -----------------------
 
    The format of symbolic modes is actually more complex than described
-above (*note Setting Permissions::).  It provides two ways to make
+above (*note Setting Permissions::.).  It provides two ways to make
 multiple changes to files' permissions.
 
    The first way is to specify multiple OPERATION and PERMISSIONS parts
@@ -669,8 +668,8 @@
 ------------------------
 
    If the USERS part of a symbolic mode is omitted, it defaults to `a'
-(affect all users), except that any permissions that are _set_ in the
-system variable `umask' are _not affected_.  The value of `umask' can
+(affect all users), except that any permissions that are *set* in the
+system variable `umask' are *not affected*.  The value of `umask' can
 be set using the `umask' command.  Its default value varies from system
 to system.
 
@@ -685,12 +684,12 @@
      +w
 
 adds permission to write to the file to its owner and to other users who
-are in the file's group, but _not_ to other users.  In contrast, the
+are in the file's group, but *not* to other users.  In contrast, the
 mode:
 
      a+w
 
-ignores `umask', and _does_ give write permission for the file to all
+ignores `umask', and *does* give write permission for the file to all
 users.
 
 
@@ -824,7 +823,7 @@
 
    * pure numbers.
 
-We describe each of these item types in turn, below.
+ We describe each of these item types in turn, below.
 
    A few numbers may be written out in words in most contexts.  This is
 most useful for specifying day of the week items or relative items (see
@@ -940,7 +939,7 @@
 Alternatively, `:SECOND' can be omitted, in which case it is taken to
 be zero.
 
-   If the time is followed by `am' or `pm' (or `a.m.' or `p.m.'), HOUR
+   If the time is followed by `am' or `pm' (or `a.m.'  or `p.m.'), HOUR
 is restricted to run from 1 to 12, and `:MINUTE' may be omitted (taken
 to be zero).  `am' indicates the first half of the day, `pm' indicates
 the second half of the day.  In this notation, 12 is the predecessor of
@@ -1058,7 +1057,7 @@
 context in the date string.
 
    If the decimal number is of the form YYYYMMDD and no other calendar
-date item (*note Calendar date items::) appears before it in the date
+date item (*note Calendar date items::.) appears before it in the date
 string, then YYYY is read as the year, MM as the month number and DD as
 the day of the month, for the specified calendar date.
 
@@ -1134,7 +1133,7 @@
 options affect more than one aspect of `ls''s operation.
 
    The `-g' option is accepted but ignored, for compatibility with
-Unix.  Also see *Note Common options::.
+Unix.  Also see *Note Common options::..
 
 * Menu:
 
@@ -1226,7 +1225,7 @@
      Finally, output a line of the form:
           //DIRED-OPTIONS// --quoting-style=WORD
      where WORD is the quoting style (*note Formatting the file
-     names::).
+     names::.).
 
 `-G'
 `--no-group'
@@ -1274,13 +1273,13 @@
      For each directory that is listed, preface the files with a line
      `total BLOCKS', where BLOCKS is the total disk allocation for all
      files in that directory.  The block size currently defaults to 1024
-     bytes, but this can be overridden (*note Block size::).  The
+     bytes, but this can be overridden (*note Block size::.).  The
      BLOCKS computed counts each hard link separately; this is arguably
      a deficiency.
 
      The permissions listed are similar to symbolic mode specifications
-     (*note Symbolic Modes::).  But `ls' combines multiple bits into the
-     third character of each set of permissions as follows:
+     (*note Symbolic Modes::.).  But `ls' combines multiple bits into
+     the third character of each set of permissions as follows:
     `s'
           If the setuid or setgid bit and the corresponding executable
           bit are both set.
@@ -1321,7 +1320,7 @@
      file has holes.
 
      Normally the disk allocation is printed in units of 1024 bytes,
-     but this can be overridden (*note Block size::).
+     but this can be overridden (*note Block size::.).
 
      For files that are NFS-mounted from an HP-UX system to a BSD
      system, this option reports sizes that are half the correct
@@ -1455,11 +1454,10 @@
 
         * auto - Only use color if standard output is a terminal.
 
-        * always - Always use color.
-     Specifying `--color' and no WHEN is equivalent to `--color=always'.
-     Piping a colorized listing through a pager like `more' or `less'
-     usually produces unreadable results.  However, using `more -f'
-     does seem to work.
+        * always - Always use color.  Specifying `--color' and no WHEN
+     is equivalent to `--color=always'.  Piping a colorized listing
+     through a pager like `more' or `less' usually produces unreadable
+     results.  However, using `more -f' does seem to work.
 
 `-F'
 `--classify'
@@ -1503,7 +1501,7 @@
 `-k'
 `--kilobytes'
      Print file sizes in 1024-byte blocks, overriding the default block
-     size (*note Block size::).
+     size (*note Block size::.).
 
 `-m'
 `--format=commas'
@@ -1535,8 +1533,7 @@
 `--width=COLS'
      Assume the screen is COLS columns wide.  The default is taken from
      the terminal settings if possible; otherwise the environment
-     variable `COLUMNS' is used if it is set; otherwise the default is
-     80.
+     variable COLUMNS is used if it is set; otherwise the default is 80.
 
 
 File: fileutils.info,  Node: Formatting the file names,  Prev: General output formatting,  Up: ls invocation
@@ -1599,7 +1596,7 @@
           in the default C locale.  This looks nicer on many displays.
 
      You can specify the default value of the `--quoting-style' option
-     with the environment variable `QUOTING_STYLE'.  If that environment
+     with the environment variable QUOTING_STYLE.  If that environment
      variable is not set, the default value is `literal', but this
      default may change to `shell' in a future version of this package.
 
@@ -1645,18 +1642,18 @@
 database is used.  For details on the format of these files, run
 `dircolors --print-database'.
 
-   The output is a shell command to set the `LS_COLORS' environment
+   The output is a shell command to set the LS_COLORS environment
 variable.  You can specify the shell syntax to use on the command line,
-or `dircolors' will guess it from the value of the `SHELL' environment
+or `dircolors' will guess it from the value of the SHELL environment
 variable.
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-b'
 `--sh'
 `--bourne-shell'
-     Output Bourne shell commands.  This is the default if the `SHELL'
+     Output Bourne shell commands.  This is the default if the SHELL
      environment variable is set and does not end with `csh' or `tcsh'.
 
 `-c'
@@ -1727,11 +1724,11 @@
 following exception: if `--force --backup' is specified with SOURCE and
 DEST identical, and referring to a regular file, `cp' will make a
 backup file, either regular or numbered, as specified in the usual ways
-(*note Backup options::).  This is useful when you simply want to make
+(*note Backup options::.).  This is useful when you simply want to make
 a backup of an existing file before changing it.
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-a'
 `--archive'
@@ -1752,7 +1749,7 @@
           #!/bin/sh
           # Usage: backup FILE...
           # Create a GNU-style backup of each listed FILE.
-          for i in "$;" do
+          for i in "$"; do
             cp --backup --force "$i" "$i"
           done
 
@@ -1896,7 +1893,7 @@
 `-x'
 `--one-file-system'
      Skip subdirectories that are on different filesystems from the one
-     that the copy started on.  However, mount point directories _are_
+     that the copy started on.  However, mount point directories *are*
      copied.
 
 
@@ -1912,11 +1909,11 @@
      dd [OPTION]...
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
    The numeric-valued options below (BYTES and BLOCKS) can be followed
 by a multiplier: `b'=512, `c'=1, `w'=2, `xM'=M, or any of the standard
-block size suffixes like `k'=1024 (*note Block size::).
+block size suffixes like `k'=1024 (*note Block size::.).
 
    Use different `dd' invocations to use different block sizes for
 skipping and I/O.  For example, the following shell commands copy data
@@ -2033,7 +2030,7 @@
 files onto themselves.
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-b'
 `--backup[=METHOD]'
@@ -2063,7 +2060,7 @@
      Set the permissions for the installed file or directory to MODE,
      which can be either an octal number, or a symbolic mode as in
      `chmod', with 0 as the point of departure (*note File
-     permissions::).  The default mode is `u=rwx,go=rx'--read, write,
+     permissions::.).  The default mode is `u=rwx,go=rx'--read, write,
      and execute for the owner, and read and execute for group and
      other.
 
@@ -2141,13 +2138,13 @@
 the file, or have write permission on its directory.)  If the response
 does not begin with `y' or `Y', the file is skipped.
 
-   _Warning_: If you try to move a symlink that points to a directory,
+   *Warning*: If you try to move a symlink that points to a directory,
 and you specify the symlink with a trailing slash, then `mv' doesn't
 move the symlink but instead moves the directory referenced by the
 symlink.  *Note Trailing slashes::.
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-b'
 `--backup[=METHOD]'
@@ -2205,11 +2202,11 @@
 
    If a file is unwritable, standard input is a terminal, and the `-f'
 or `--force' option is not given, or the `-i' or `--interactive' option
-_is_ given, `rm' prompts the user for whether to remove the file.  If
+*is* given, `rm' prompts the user for whether to remove the file.  If
 the response does not begin with `y' or `Y', the file is skipped.
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-d'
 `--directory'
@@ -2265,7 +2262,7 @@
    `shred' overwrites devices or files, to help prevent even very
 expensive hardware from recovering the data.
 
-   Ordinarily when you remove a file (*note rm invocation::), the data
+   Ordinarily when you remove a file (*note rm invocation::.), the data
 is not actually destroyed.  Only the index listing where the file is
 stored is destroyed, and the storage is made available for reuse.
 There are undelete utilities that will attempt to reconstruct the index
@@ -2295,7 +2292,7 @@
 Deletion of Data from Magnetic and Solid-State Memory', from the
 proceedings of the Sixth USENIX Security Symposium (San Jose,
 California, 22-25 July, 1996).  The paper is also available online
-<http://www.cs.auckland.ac.nz/~pgut001/pubs/secure_del.html>.
+`http://www.cs.auckland.ac.nz/~pgut001/pubs/secure_del.html'.
 
    *Please note* that `shred' relies on a very important assumption:
 that the filesystem overwrites data in place.  This is the traditional
@@ -2336,7 +2333,7 @@
      shred [OPTION]... FILE[...]
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-f'
 `--force'
@@ -2427,7 +2424,7 @@
 (and `rmdir', which removes directories, one special file type).
 
    Although Unix-like operating systems have markedly fewer special file
-types than others, not _everything_ can be treated only as the
+types than others, not *everything* can be treated only as the
 undifferentiated byte stream of "normal files".  For example, when a
 file is created or removed, the system must record this information,
 which it does in a "directory"--a special type of file.  Although you
@@ -2474,11 +2471,10 @@
      will not remove an existing file.  Use the `--backup' option to
      make `ln' rename existing files.
 
-
    A "hard link" is another name for an existing file; the link and the
 original are indistinguishable.  Technically speaking, they share the
 same inode, and the inode contains all the information about a
-file--indeed, it is not incorrect to say that the inode _is_ the file.
+file--indeed, it is not incorrect to say that the inode *is* the file.
 On all existing implementations, you cannot make a hard link to a
 directory, and hard links cannot cross filesystem boundaries.  (These
 restrictions are not mandated by POSIX, however.)
@@ -2494,7 +2490,7 @@
 (library)Symbolic Links.
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-b'
 `--backup[=METHOD]'
@@ -2580,7 +2576,7 @@
 move on to processing any remaining NAMEs.
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-m MODE'
 `--mode=MODE'
@@ -2618,7 +2614,7 @@
 anonymous pipe in shells or elsewhere.
 
    The program accepts the following option.  Also see *Note Common
-options::.
+options::..
 
 `-m MODE'
 `--mode=MODE'
@@ -2662,7 +2658,7 @@
 device numbers must be given after the file type.
 
    The program accepts the following option.  Also see *Note Common
-options::.
+options::..
 
 `-m MODE'
 `--mode=MODE'
@@ -2684,7 +2680,7 @@
 directory, it is an error.
 
    The program accepts the following option.  Also see *Note Common
-options::.
+options::..
 
 `--ignore-fail-on-non-empty'
      Ignore each failure to remove a directory that is solely because
@@ -2715,8 +2711,8 @@
 ************************
 
    A file is not merely its contents, a name, and a file type (*note
-Special file types::).  A file also has an owner (a userid), a group (a
-group id), permissions (what the owner can do with the file, what
+Special file types::.).  A file also has an owner (a userid), a group
+(a group id), permissions (what the owner can do with the file, what
 people in the group can do, and what everyone else can do), various
 timestamps, and other information.  Collectively, we call these a file's
 "attributes".
@@ -2775,7 +2771,7 @@
 characters.
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-c'
 `--changes'
@@ -2855,7 +2851,7 @@
      chgrp [OPTION]... {GROUP | --reference=REF_FILE} FILE...
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-c'
 `--changes'
@@ -2918,10 +2914,10 @@
 traversals.
 
    If used, MODE specifies the new permissions.  For details, see the
-section on *Note File permissions::.
+section on *Note File permissions::..
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-c'
 `--changes'
@@ -2990,7 +2986,7 @@
 a user-specified value.
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-a'
 `--time=atime'
@@ -3035,7 +3031,7 @@
 
    No disk can hold an infinite amount of data.  These commands report
 on how much disk storage is in use or available.  (This has nothing
-much to do with how much _main memory_, i.e., RAM, a program is using
+much to do with how much *main memory*, i.e., RAM, a program is using
 when it runs; for that, you want `ps' or `pstat' or `swap' or some such
 command.)
 
@@ -3061,7 +3057,7 @@
 on the filesystem containing each argument FILE.
 
    Normally the disk space is printed in units of 1024 bytes, but this
-can be overridden (*note Block size::).
+can be overridden (*note Block size::.).
 
    If an argument FILE is a disk device file containing a mounted
 filesystem, `df' shows the space available on that filesystem rather
@@ -3072,7 +3068,7 @@
 structures.
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-a'
 `--all'
@@ -3105,7 +3101,7 @@
 `-k'
 `--kilobytes'
      Print sizes in 1024-byte blocks, overriding the default block size
-     (*note Block size::).
+     (*note Block size::.).
 
 `-l'
 `--local'
@@ -3196,10 +3192,10 @@
 
    With no arguments, `du' reports the disk space for the current
 directory.  Normally the disk space is printed in units of 1024 bytes,
-but this can be overridden (*note Block size::).
+but this can be overridden (*note Block size::.).
 
    The program accepts the following options.  Also see *Note Common
-options::.
+options::..
 
 `-a'
 `--all'
@@ -3208,7 +3204,7 @@
 `-b'
 `--bytes'
      Print sizes in bytes, overriding the default block size (*note
-     Block size::).
+     Block size::.).
 
 `-c'
 `--total'
@@ -3240,7 +3236,7 @@
 `-k'
 `--kilobytes'
      Print sizes in 1024-byte blocks, overriding the default block size
-     (*note Block size::).
+     (*note Block size::.).
 
 `-l'
 `--count-links'
@@ -3310,7 +3306,7 @@
 `sync' ensures everything in memory is written to disk.
 
    Any arguments are ignored, except for a lone `--help' or `--version'
-(*note Common options::).
+(*note Common options::.).
 
 
 File: fileutils.info,  Node: Index,  Prev: Disk usage,  Up: Top
@@ -3323,333 +3319,336 @@
 * -:                                     shred invocation.
 * - and Unix rm:                         rm invocation.
 * -, removing files beginning with:      rm invocation.
-* --all <1>:                             du invocation.
-* --all <2>:                             df invocation.
-* --all:                                 Which files are listed.
-* --almost-all:                          Which files are listed.
-* --archive:                             cp invocation.
-* --backup <1>:                          ln invocation.
-* --backup <2>:                          mv invocation.
-* --backup <3>:                          install invocation.
-* --backup <4>:                          cp invocation.
-* --backup:                              Backup options.
-* --block-size=SIZE:                     Block size.
-* --bourne-shell:                        dircolors invocation.
-* --bytes:                               du invocation.
-* --c-shell:                             dircolors invocation.
-* --changes <1>:                         chmod invocation.
-* --changes <2>:                         chgrp invocation.
-* --changes:                             chown invocation.
-* --classify:                            General output formatting.
-* --color:                               General output formatting.
-* --count-links:                         du invocation.
-* --csh:                                 dircolors invocation.
-* --date:                                touch invocation.
-* --dereference <1>:                     du invocation.
-* --dereference <2>:                     chgrp invocation.
-* --dereference <3>:                     chown invocation.
-* --dereference <4>:                     cp invocation.
-* --dereference:                         Which files are listed.
-* --dereference-args:                    du invocation.
-* --directory <1>:                       ln invocation.
-* --directory <2>:                       rm invocation.
-* --directory <3>:                       install invocation.
-* --directory:                           Which files are listed.
-* --dired:                               What information is listed.
-* --escape:                              Formatting the file names.
-* --exact:                               shred invocation.
-* --exclude-from=FILE:                   du invocation.
-* --exclude-type:                        df invocation.
-* --exclude=PAT:                         du invocation.
-* --file-type:                           General output formatting.
-* --force <1>:                           ln invocation.
-* --force <2>:                           shred invocation.
-* --force <3>:                           rm invocation.
-* --force <4>:                           mv invocation.
-* --force:                               cp invocation.
-* --format <1>:                          General output formatting.
-* --format:                              What information is listed.
-* --from:                                chown invocation.
-* --full-time:                           General output formatting.
-* --group:                               install invocation.
-* --help:                                Common options.
-* --hide-control-chars:                  Formatting the file names.
-* --human-readable <1>:                  du invocation.
-* --human-readable <2>:                  df invocation.
-* --human-readable <3>:                  What information is listed.
-* --human-readable:                      Block size.
-* --ignore-backups:                      Which files are listed.
-* --ignore-fail-on-non-empty:            rmdir invocation.
-* --ignore=PATTERN:                      Which files are listed.
-* --indicator-style:                     General output formatting.
-* --inode:                               What information is listed.
-* --inodes:                              df invocation.
-* --interactive <1>:                     ln invocation.
-* --interactive <2>:                     rm invocation.
-* --interactive <3>:                     mv invocation.
-* --interactive:                         cp invocation.
-* --iterations=NUMBER:                   shred invocation.
-* --kilobytes <1>:                       du invocation.
-* --kilobytes <2>:                       df invocation.
-* --kilobytes <3>:                       General output formatting.
-* --kilobytes:                           Block size.
-* --link:                                cp invocation.
-* --literal:                             Formatting the file names.
-* --local:                               df invocation.
-* --max-depth=DEPTH:                     du invocation.
-* --megabytes <1>:                       du invocation.
-* --megabytes:                           df invocation.
-* --mode <1>:                            mknod invocation.
-* --mode <2>:                            mkfifo invocation.
-* --mode <3>:                            mkdir invocation.
-* --mode:                                install invocation.
-* --no-create:                           touch invocation.
-* --no-dereference <1>:                  chgrp invocation.
-* --no-dereference <2>:                  chown invocation.
-* --no-dereference <3>:                  ln invocation.
-* --no-dereference:                      cp invocation.
-* --no-group:                            What information is listed.
-* --no-sync:                             df invocation.
-* --numeric-uid-gid:                     General output formatting.
-* --one-file-system <1>:                 du invocation.
-* --one-file-system:                     cp invocation.
-* --owner:                               install invocation.
-* --parents <1>:                         rmdir invocation.
-* --parents <2>:                         mkdir invocation.
-* --parents:                             cp invocation.
-* --portability:                         df invocation.
-* --preserve:                            cp invocation.
-* --preserve-timestamps:                 install invocation.
-* --print-database:                      dircolors invocation.
-* --print-type:                          df invocation.
-* --quiet <1>:                           chmod invocation.
-* --quiet <2>:                           chgrp invocation.
-* --quiet:                               chown invocation.
-* --quote-name:                          Formatting the file names.
-* --quoting-style:                       Formatting the file names.
-* --recursive <1>:                       chmod invocation.
-* --recursive <2>:                       chgrp invocation.
-* --recursive <3>:                       chown invocation.
-* --recursive <4>:                       rm invocation.
-* --recursive <5>:                       cp invocation.
-* --recursive:                           Which files are listed.
-* --reference <1>:                       touch invocation.
-* --reference <2>:                       chmod invocation.
-* --reference <3>:                       chgrp invocation.
-* --reference:                           chown invocation.
-* --remove:                              shred invocation.
-* --remove-destination:                  cp invocation.
-* --reverse:                             Sorting the output.
-* --separate-dirs:                       du invocation.
-* --sh:                                  dircolors invocation.
-* --show-control-chars:                  Formatting the file names.
-* --si <1>:                              du invocation.
-* --si <2>:                              df invocation.
-* --si <3>:                              What information is listed.
-* --si:                                  Block size.
-* --silent <1>:                          chmod invocation.
-* --silent <2>:                          chgrp invocation.
-* --silent:                              chown invocation.
-* --size:                                What information is listed.
-* --size=BYTES:                          shred invocation.
-* --sort:                                Sorting the output.
-* --sparse=WHEN:                         cp invocation.
-* --strip:                               install invocation.
-* --strip-trailing-slashes <1>:          mv invocation.
-* --strip-trailing-slashes:              cp invocation.
-* --suffix <1>:                          ln invocation.
-* --suffix <2>:                          mv invocation.
-* --suffix <3>:                          install invocation.
-* --suffix <4>:                          cp invocation.
-* --suffix:                              Backup options.
-* --summarize:                           du invocation.
-* --symbolic:                            ln invocation.
-* --symbolic-link:                       cp invocation.
-* --sync:                                df invocation.
-* --tabsize:                             General output formatting.
-* --target-directory <1>:                ln invocation.
-* --target-directory <2>:                mv invocation.
-* --target-directory <3>:                install invocation.
-* --target-directory <4>:                cp invocation.
-* --target-directory:                    Target directory.
-* --time <1>:                            touch invocation.
-* --time:                                Sorting the output.
-* --total:                               du invocation.
-* --type:                                df invocation.
-* --update:                              mv invocation.
-* --verbose <1>:                         chmod invocation.
-* --verbose <2>:                         chgrp invocation.
-* --verbose <3>:                         chown invocation.
-* --verbose <4>:                         rmdir invocation.
-* --verbose <5>:                         mkdir invocation.
-* --verbose <6>:                         ln invocation.
-* --verbose <7>:                         shred invocation.
-* --verbose <8>:                         rm invocation.
-* --verbose <9>:                         mv invocation.
-* --verbose <10>:                        install invocation.
-* --verbose:                             cp invocation.
-* --version:                             Common options.
-* --version-control <1>:                 ln invocation.
-* --version-control <2>:                 mv invocation.
-* --version-control <3>:                 install invocation.
-* --version-control <4>:                 cp invocation.
-* --version-control:                     Backup options.
-* --width:                               General output formatting.
-* --zero:                                shred invocation.
 * -1:                                    General output formatting.
-* -a <1>:                                du invocation.
-* -a <2>:                                df invocation.
-* -a <3>:                                touch invocation.
-* -a:                                    cp invocation.
+* -a:                                    df invocation.
 * -A:                                    Which files are listed.
-* -a:                                    Which files are listed.
-* -b <1>:                                du invocation.
-* -b <2>:                                ln invocation.
-* -b <3>:                                mv invocation.
-* -b <4>:                                install invocation.
-* -b <5>:                                cp invocation.
-* -b <6>:                                dircolors invocation.
+* -a <1>:                                Which files are listed.
+* -a <2>:                                cp invocation.
+* -a <3>:                                touch invocation.
+* -a:                                    du invocation.
+* -all <1>:                              du invocation.
+* -all <2>:                              Which files are listed.
+* -all:                                  df invocation.
+* -almost-all:                           Which files are listed.
+* -archive:                              cp invocation.
 * -b:                                    Formatting the file names.
 * -B:                                    Which files are listed.
-* -b:                                    Backup options.
-* -c <1>:                                du invocation.
+* -b <1>:                                Backup options.
+* -b <2>:                                dircolors invocation.
+* -b <3>:                                cp invocation.
+* -b <4>:                                mv invocation.
+* -b <5>:                                du invocation.
+* -b <6>:                                install invocation.
+* -b:                                    ln invocation.
+* -backup <1>:                           Backup options.
+* -backup <2>:                           cp invocation.
+* -backup <3>:                           install invocation.
+* -backup <4>:                           mv invocation.
+* -backup:                               ln invocation.
+* -block-size=SIZE:                      Block size.
+* -bourne-shell:                         dircolors invocation.
+* -bytes:                                du invocation.
+* -c <1>:                                chgrp invocation.
 * -c <2>:                                touch invocation.
-* -c <3>:                                chmod invocation.
-* -c <4>:                                chgrp invocation.
-* -c <5>:                                chown invocation.
-* -c <6>:                                install invocation.
-* -c:                                    dircolors invocation.
+* -c <3>:                                install invocation.
+* -c <4>:                                dircolors invocation.
+* -c:                                    chmod invocation.
 * -C:                                    General output formatting.
+* -c <1>:                                chown invocation.
+* -c <2>:                                du invocation.
 * -c:                                    Sorting the output.
+* -c-shell:                              dircolors invocation.
+* -changes <1>:                          chgrp invocation.
+* -changes <2>:                          chmod invocation.
+* -changes:                              chown invocation.
+* -classify:                             General output formatting.
+* -color:                                General output formatting.
+* -count-links:                          du invocation.
+* -csh:                                  dircolors invocation.
+* -D:                                    What information is listed.
+* -d <1>:                                rm invocation.
+* -d <2>:                                touch invocation.
+* -d <3>:                                install invocation.
+* -d <4>:                                Which files are listed.
+* -d:                                    ln invocation.
 * -D:                                    du invocation.
-* -d <1>:                                touch invocation.
-* -d <2>:                                ln invocation.
-* -d <3>:                                rm invocation.
-* -d <4>:                                install invocation.
 * -d:                                    cp invocation.
-* -D:                                    What information is listed.
-* -d:                                    Which files are listed.
+* -date:                                 touch invocation.
+* -dereference <1>:                      Which files are listed.
+* -dereference <2>:                      du invocation.
+* -dereference <3>:                      cp invocation.
+* -dereference <4>:                      chgrp invocation.
+* -dereference:                          chown invocation.
+* -dereference-args:                     du invocation.
+* -directory <1>:                        install invocation.
+* -directory <2>:                        ln invocation.
+* -directory <3>:                        rm invocation.
+* -directory:                            Which files are listed.
+* -dired:                                What information is listed.
+* -escape:                               Formatting the file names.
+* -exact:                                shred invocation.
+* -exclude-from=FILE:                    du invocation.
+* -exclude-type:                         df invocation.
+* -exclude=PAT:                          du invocation.
+* -f <1>:                                rm invocation.
+* -f:                                    mv invocation.
+* -F:                                    ln invocation.
 * -f <1>:                                touch invocation.
 * -f <2>:                                chmod invocation.
-* -f <3>:                                chgrp invocation.
-* -f <4>:                                chown invocation.
-* -f:                                    ln invocation.
-* -F:                                    ln invocation.
-* -f <1>:                                shred invocation.
-* -f <2>:                                rm invocation.
-* -f <3>:                                mv invocation.
-* -f:                                    cp invocation.
+* -f <3>:                                chown invocation.
+* -f:                                    shred invocation.
 * -F:                                    General output formatting.
+* -f <1>:                                cp invocation.
+* -f <2>:                                ln invocation.
+* -f <3>:                                chgrp invocation.
 * -f:                                    Sorting the output.
+* -file-type:                            General output formatting.
+* -force <1>:                            shred invocation.
+* -force <2>:                            rm invocation.
+* -force <3>:                            ln invocation.
+* -force <4>:                            cp invocation.
+* -force:                                mv invocation.
+* -format <1>:                           General output formatting.
+* -format <2>:                           What information is listed.
+* -format:                               General output formatting.
+* -from:                                 chown invocation.
+* -full-time:                            General output formatting.
 * -g:                                    install invocation.
 * -G:                                    What information is listed.
 * -g (ignored):                          ls invocation.
+* -group:                                install invocation.
+* -h <1>:                                chown invocation.
+* -h:                                    df invocation.
+* -H:                                    df invocation.
+* -h <1>:                                Block size.
+* -h:                                    What information is listed.
 * -H:                                    du invocation.
 * -h:                                    du invocation.
-* -H:                                    df invocation.
-* -h <1>:                                df invocation.
-* -h <2>:                                chgrp invocation.
-* -h:                                    chown invocation.
-* -H <1>:                                cp invocation.
+* -H:                                    cp invocation.
+* -h:                                    chgrp invocation.
 * -H:                                    What information is listed.
-* -h <1>:                                What information is listed.
-* -h:                                    Block size.
-* -i <1>:                                df invocation.
-* -i <2>:                                ln invocation.
-* -i <3>:                                rm invocation.
-* -i <4>:                                mv invocation.
-* -i <5>:                                cp invocation.
-* -i:                                    What information is listed.
+* -help:                                 Common options.
+* -hide-control-chars:                   Formatting the file names.
+* -human-readable <1>:                   df invocation.
+* -human-readable <2>:                   du invocation.
+* -human-readable <3>:                   Block size.
+* -human-readable:                       What information is listed.
+* -i <1>:                                What information is listed.
+* -i <2>:                                rm invocation.
+* -i <3>:                                mv invocation.
+* -i:                                    df invocation.
 * -I:                                    Which files are listed.
-* -k <1>:                                du invocation.
-* -k <2>:                                df invocation.
-* -k <3>:                                General output formatting.
-* -k:                                    Block size.
-* -L:                                    du invocation.
-* -l <1>:                                du invocation.
+* -i <1>:                                cp invocation.
+* -i:                                    ln invocation.
+* -ignore-backups:                       Which files are listed.
+* -ignore-fail-on-non-empty:             rmdir invocation.
+* -ignore=PATTERN:                       Which files are listed.
+* -indicator-style:                      General output formatting.
+* -inode:                                What information is listed.
+* -inodes:                               df invocation.
+* -interactive <1>:                      ln invocation.
+* -interactive <2>:                      rm invocation.
+* -interactive <3>:                      mv invocation.
+* -interactive:                          cp invocation.
+* -iterations=NUMBER:                    shred invocation.
+* -k <1>:                                df invocation.
+* -k <2>:                                General output formatting.
+* -k <3>:                                Block size.
+* -k:                                    du invocation.
+* -kilobytes <1>:                        df invocation.
+* -kilobytes <2>:                        General output formatting.
+* -kilobytes <3>:                        Block size.
+* -kilobytes:                            du invocation.
+* -l <1>:                                What information is listed.
 * -l:                                    df invocation.
-* -L:                                    cp invocation.
-* -l <1>:                                cp invocation.
-* -l:                                    What information is listed.
+* -L:                                    du invocation.
+* -l:                                    du invocation.
+* -L <1>:                                cp invocation.
 * -L:                                    Which files are listed.
-* -m <1>:                                du invocation.
-* -m <2>:                                df invocation.
-* -m <3>:                                touch invocation.
-* -m <4>:                                mknod invocation.
+* -l:                                    cp invocation.
+* -link:                                 cp invocation.
+* -literal:                              Formatting the file names.
+* -local:                                df invocation.
+* -m <1>:                                mkdir invocation.
+* -m <2>:                                mknod invocation.
+* -m <3>:                                du invocation.
+* -m <4>:                                df invocation.
 * -m <5>:                                mkfifo invocation.
-* -m <6>:                                mkdir invocation.
+* -m <6>:                                touch invocation.
 * -m <7>:                                install invocation.
 * -m:                                    General output formatting.
-* -n:                                    ln invocation.
+* -max-depth=DEPTH:                      du invocation.
+* -megabytes <1>:                        du invocation.
+* -megabytes:                            df invocation.
+* -mode <1>:                             install invocation.
+* -mode <2>:                             mkdir invocation.
+* -mode <3>:                             mkfifo invocation.
+* -mode:                                 mknod invocation.
 * -N:                                    Formatting the file names.
+* -n <1>:                                ln invocation.
 * -n:                                    General output formatting.
 * -n NUMBER:                             shred invocation.
-* -o <1>:                                install invocation.
-* -o:                                    What information is listed.
-* -P:                                    df invocation.
-* -p <1>:                                rmdir invocation.
-* -p <2>:                                mkdir invocation.
+* -no-create:                            touch invocation.
+* -no-dereference <1>:                   ln invocation.
+* -no-dereference <2>:                   chgrp invocation.
+* -no-dereference <3>:                   chown invocation.
+* -no-dereference:                       cp invocation.
+* -no-group:                             What information is listed.
+* -no-sync:                              df invocation.
+* -numeric-uid-gid:                      General output formatting.
+* -o <1>:                                What information is listed.
+* -o:                                    install invocation.
+* -one-file-system <1>:                  du invocation.
+* -one-file-system:                      cp invocation.
+* -owner:                                install invocation.
 * -p:                                    install invocation.
 * -P:                                    cp invocation.
-* -p <1>:                                cp invocation.
-* -p:                                    dircolors invocation.
+* -p <1>:                                dircolors invocation.
+* -p <2>:                                rmdir invocation.
+* -p:                                    mkdir invocation.
+* -P:                                    df invocation.
+* -p:                                    cp invocation.
+* -parents <1>:                          cp invocation.
+* -parents <2>:                          rmdir invocation.
+* -parents:                              mkdir invocation.
+* -portability:                          df invocation.
+* -preserve:                             cp invocation.
+* -preserve-timestamps:                  install invocation.
+* -print-database:                       dircolors invocation.
+* -print-type:                           df invocation.
 * -Q:                                    Formatting the file names.
 * -q:                                    Formatting the file names.
-* -r:                                    touch invocation.
-* -R <1>:                                chmod invocation.
-* -R <2>:                                chgrp invocation.
-* -R <3>:                                chown invocation.
-* -R:                                    rm invocation.
+* -quiet <1>:                            chown invocation.
+* -quiet <2>:                            chmod invocation.
+* -quiet:                                chgrp invocation.
+* -quote-name:                           Formatting the file names.
+* -quoting-style:                        Formatting the file names.
+* -r <1>:                                touch invocation.
 * -r:                                    rm invocation.
-* -R:                                    cp invocation.
+* -R <1>:                                rm invocation.
+* -R <2>:                                chmod invocation.
+* -R <3>:                                cp invocation.
+* -R <4>:                                chown invocation.
+* -R:                                    chgrp invocation.
 * -r:                                    Sorting the output.
 * -R:                                    Which files are listed.
-* -S:                                    du invocation.
+* -recursive <1>:                        chown invocation.
+* -recursive <2>:                        chgrp invocation.
+* -recursive <3>:                        rm invocation.
+* -recursive <4>:                        chmod invocation.
+* -recursive <5>:                        cp invocation.
+* -recursive:                            Which files are listed.
+* -reference <1>:                        chgrp invocation.
+* -reference <2>:                        chown invocation.
+* -reference <3>:                        chmod invocation.
+* -reference:                            touch invocation.
+* -remove:                               shred invocation.
+* -remove-destination:                   cp invocation.
+* -reverse:                              Sorting the output.
+* -S <1>:                                du invocation.
+* -S:                                    Backup options.
 * -s:                                    du invocation.
-* -S:                                    ln invocation.
-* -s:                                    ln invocation.
-* -S <1>:                                mv invocation.
+* -S <1>:                                ln invocation.
+* -S <2>:                                cp invocation.
 * -S:                                    install invocation.
-* -s:                                    install invocation.
-* -S:                                    cp invocation.
+* -s <1>:                                What information is listed.
+* -s <2>:                                install invocation.
 * -s:                                    cp invocation.
 * -S:                                    Sorting the output.
-* -s:                                    What information is listed.
-* -S:                                    Backup options.
+* -s:                                    ln invocation.
+* -S:                                    mv invocation.
 * -s BYTES:                              shred invocation.
+* -separate-dirs:                        du invocation.
+* -sh:                                   dircolors invocation.
+* -show-control-chars:                   Formatting the file names.
+* -si <1>:                               df invocation.
+* -si <2>:                               What information is listed.
+* -si <3>:                               Block size.
+* -si:                                   du invocation.
+* -silent <1>:                           chmod invocation.
+* -silent <2>:                           chgrp invocation.
+* -silent:                               chown invocation.
+* -size:                                 What information is listed.
+* -size=BYTES:                           shred invocation.
+* -sort:                                 Sorting the output.
+* -sparse=WHEN:                          cp invocation.
+* -strip:                                install invocation.
+* -strip-trailing-slashes <1>:           mv invocation.
+* -strip-trailing-slashes:               cp invocation.
+* -suffix <1>:                           install invocation.
+* -suffix <2>:                           cp invocation.
+* -suffix <3>:                           Backup options.
+* -suffix <4>:                           ln invocation.
+* -suffix:                               mv invocation.
+* -summarize:                            du invocation.
+* -symbolic:                             ln invocation.
+* -symbolic-link:                        cp invocation.
+* -sync:                                 df invocation.
 * -T:                                    df invocation.
 * -t:                                    df invocation.
 * -T:                                    General output formatting.
 * -t:                                    Sorting the output.
-* -u <1>:                                shred invocation.
-* -u:                                    mv invocation.
+* -tabsize:                              General output formatting.
+* -target-directory <1>:                 Target directory.
+* -target-directory <2>:                 ln invocation.
+* -target-directory <3>:                 cp invocation.
+* -target-directory <4>:                 install invocation.
+* -target-directory:                     mv invocation.
+* -time <1>:                             Sorting the output.
+* -time <2>:                             touch invocation.
+* -time <3>:                             Sorting the output.
+* -time:                                 touch invocation.
+* -total:                                du invocation.
+* -type:                                 df invocation.
+* -u <1>:                                mv invocation.
+* -u <2>:                                Sorting the output.
+* -u:                                    shred invocation.
 * -U:                                    Sorting the output.
-* -u:                                    Sorting the output.
-* -v <1>:                                chmod invocation.
-* -v <2>:                                chgrp invocation.
-* -v <3>:                                chown invocation.
-* -v <4>:                                rmdir invocation.
-* -v:                                    mkdir invocation.
-* -V:                                    ln invocation.
-* -v <1>:                                ln invocation.
-* -v <2>:                                shred invocation.
-* -v:                                    rm invocation.
-* -V:                                    mv invocation.
-* -v:                                    mv invocation.
+* -update:                               mv invocation.
+* -v <1>:                                mkdir invocation.
+* -v <2>:                                cp invocation.
+* -v:                                    rmdir invocation.
+* -V:                                    cp invocation.
+* -v <1>:                                shred invocation.
+* -v:                                    chmod invocation.
 * -V:                                    install invocation.
+* -v:                                    ln invocation.
+* -V:                                    ln invocation.
+* -v <1>:                                chown invocation.
+* -v <2>:                                mv invocation.
+* -v <3>:                                rm invocation.
+* -v <4>:                                Sorting the output.
 * -v:                                    install invocation.
-* -V:                                    cp invocation.
-* -v <1>:                                cp invocation.
-* -v:                                    Sorting the output.
+* -V:                                    mv invocation.
+* -v:                                    chgrp invocation.
+* -verbose <1>:                          install invocation.
+* -verbose <2>:                          rm invocation.
+* -verbose <3>:                          chown invocation.
+* -verbose <4>:                          chmod invocation.
+* -verbose <5>:                          rmdir invocation.
+* -verbose <6>:                          mkdir invocation.
+* -verbose <7>:                          chgrp invocation.
+* -verbose <8>:                          cp invocation.
+* -verbose <9>:                          mv invocation.
+* -verbose <10>:                         shred invocation.
+* -verbose:                              ln invocation.
+* -version:                              Common options.
+* -version-control <1>:                  Backup options.
+* -version-control <2>:                  cp invocation.
+* -version-control <3>:                  ln invocation.
+* -version-control <4>:                  mv invocation.
+* -version-control:                      install invocation.
 * -w:                                    General output formatting.
+* -width:                                General output formatting.
 * -x <1>:                                du invocation.
 * -x <2>:                                df invocation.
-* -x <3>:                                shred invocation.
+* -x <3>:                                General output formatting.
 * -x <4>:                                cp invocation.
-* -x:                                    General output formatting.
+* -x:                                    shred invocation.
 * -X:                                    Sorting the output.
 * -X FILE:                               du invocation.
 * -z:                                    shred invocation.
+* -zero:                                 shred invocation.
 * 4.2 filesystem type:                   df invocation.
 * abbreviations for months:              Calendar date items.
 * access permissions, changing:          chmod invocation.
@@ -3674,10 +3673,10 @@
 * backup files, ignoring:                Which files are listed.
 * backup options:                        Backup options.
 * backup suffix:                         Backup options.
-* backups, making <1>:                   ln invocation.
-* backups, making <2>:                   mv invocation.
-* backups, making <3>:                   install invocation.
-* backups, making <4>:                   cp invocation.
+* backups, making <1>:                   cp invocation.
+* backups, making <2>:                   install invocation.
+* backups, making <3>:                   ln invocation.
+* backups, making <4>:                   mv invocation.
 * backups, making:                       Backup options.
 * backups, making only:                  cp invocation.
 * beginning of time, for POSIX:          Date input formats.
@@ -3711,8 +3710,8 @@
 * changing file attributes:              Changing file attributes.
 * changing file ownership:               chown invocation.
 * changing file timestamps:              touch invocation.
-* changing group ownership <1>:          chgrp invocation.
-* changing group ownership:              chown invocation.
+* changing group ownership <1>:          chown invocation.
+* changing group ownership:              chgrp invocation.
 * changing special permissions:          Changing Special Permissions.
 * character special files:               mknod invocation.
 * character special files, creating:     mknod invocation.
@@ -3750,11 +3749,11 @@
 * day of week item:                      Day of week items.
 * dd:                                    dd invocation.
 * dereferencing symbolic links:          ln invocation.
-* destination directory <1>:             ln invocation.
-* destination directory <2>:             mv invocation.
-* destination directory <3>:             install invocation.
+* destination directory <1>:             mv invocation.
+* destination directory <2>:             install invocation.
+* destination directory <3>:             Target directory.
 * destination directory <4>:             cp invocation.
-* destination directory:                 Target directory.
+* destination directory:                 ln invocation.
 * device file, disk:                     df invocation.
 * df:                                    df invocation.
 * DF_BLOCK_SIZE:                         Block size.
@@ -3791,9 +3790,9 @@
 * empty files, creating:                 touch invocation.
 * epoch, for POSIX:                      Date input formats.
 * erasing data:                          shred invocation.
-* error messages, omitting <1>:          chmod invocation.
-* error messages, omitting <2>:          chgrp invocation.
-* error messages, omitting:              chown invocation.
+* error messages, omitting <1>:          chgrp invocation.
+* error messages, omitting <2>:          chown invocation.
+* error messages, omitting:              chmod invocation.
 * excluding files from du:               du invocation.
 * executables and file type, marking:    General output formatting.
 * execute permission:                    Mode Structure.
@@ -3848,9 +3847,9 @@
 * hour in date strings:                  Relative items in date strings.
 * hsfs filesystem type:                  df invocation.
 * human-readable output <1>:             du invocation.
-* human-readable output <2>:             df invocation.
+* human-readable output <2>:             Block size.
 * human-readable output <3>:             What information is listed.
-* human-readable output:                 Block size.
+* human-readable output:                 df invocation.
 * ibs:                                   dd invocation.
 * if:                                    dd invocation.
 * ignore filesystems:                    df invocation.
@@ -3870,7 +3869,8 @@
 * last in date strings:                  General date syntax.
 * lcase, converting to:                  dd invocation.
 * lchown <1>:                            chgrp invocation.
-* lchown:                                chown invocation.
+* lchown <2>:                            chown invocation.
+* lchown:                                chgrp invocation.
 * leading directories, creating missing: install invocation.
 * limiting output of du:                 du invocation.
 * links, creating:                       ln invocation.
@@ -3911,8 +3911,8 @@
 * next DAY:                              Day of week items.
 * next in date strings:                  General date syntax.
 * NFS filesystem type:                   df invocation.
-* NFS mounts from BSD to HP-UX <1>:      du invocation.
-* NFS mounts from BSD to HP-UX:          What information is listed.
+* NFS mounts from BSD to HP-UX <1>:      What information is listed.
+* NFS mounts from BSD to HP-UX:          du invocation.
 * noerror:                               dd invocation.
 * non-directories, copying as special files: cp invocation.
 * none backup method:                    Backup options.
@@ -3993,10 +3993,10 @@
 * sh syntax for color setup:             dircolors invocation.
 * SHELL environment variable, and color: dircolors invocation.
 * shred:                                 shred invocation.
-* SI output <1>:                         du invocation.
-* SI output <2>:                         df invocation.
-* SI output <3>:                         What information is listed.
-* SI output:                             Block size.
+* SI output <1>:                         Block size.
+* SI output <2>:                         What information is listed.
+* SI output <3>:                         du invocation.
+* SI output:                             df invocation.
 * simple backup method:                  Backup options.
 * SIMPLE_BACKUP_SUFFIX:                  Backup options.
 * single-column output of files:         General output formatting.
@@ -4011,8 +4011,8 @@
 * status time, printing or sorting by:   Sorting the output.
 * sticky:                                Mode Structure.
 * stripping symbol table information:    install invocation.
-* stripping trailing slashes <1>:        mv invocation.
-* stripping trailing slashes:            cp invocation.
+* stripping trailing slashes <1>:        cp invocation.
+* stripping trailing slashes:            mv invocation.
 * subtracting permissions:               Setting Permissions.
 * superblock, writing:                   sync invocation.
 * swab (byte-swapping):                  dd invocation.
@@ -4021,7 +4021,8 @@
 * symbolic (soft) links, creating:       ln invocation.
 * symbolic link, defined:                ln invocation.
 * symbolic links, changing group:        chgrp invocation.
-* symbolic links, changing owner <1>:    chgrp invocation.
+* symbolic links, changing owner <1>:    chown invocation.
+* symbolic links, changing owner <2>:    chgrp invocation.
 * symbolic links, changing owner:        chown invocation.
 * symbolic links, copying:               cp invocation.
 * symbolic links, copying with:          cp invocation.
@@ -4032,10 +4033,11 @@
 * sync:                                  sync invocation.
 * sync (padding with nulls):             dd invocation.
 * synchronize disk and memory:           sync invocation.
-* target directory <1>:                  ln invocation.
+* target directory <1>:                  Target directory.
 * target directory <2>:                  mv invocation.
 * target directory <3>:                  install invocation.
-* target directory <4>:                  cp invocation.
+* target directory <4>:                  ln invocation.
+* target directory <5>:                  cp invocation.
 * target directory:                      Target directory.
 * terminal, using color iff:             General output formatting.
 * text image, saving in swap space:      Mode Structure.
@@ -4043,8 +4045,8 @@
 * time:                                  touch invocation.
 * time of day item:                      Time of day items.
 * time zone correction:                  Time of day items.
-* time zone item <1>:                    Time zone items.
-* time zone item:                        General date syntax.
+* time zone item <1>:                    General date syntax.
+* time zone item:                        Time zone items.
 * timestamps of installed files, preserving: install invocation.
 * timestamps, changing file:             touch invocation.
 * today in date strings:                 Relative items in date strings.
@@ -4066,11 +4068,11 @@
 * version number, finding:               Common options.
 * version, sorting option for ls:        Sorting the output.
 * version-control Emacs variable:        Backup options.
-* VERSION_CONTROL <1>:                   ln invocation.
+* VERSION_CONTROL <1>:                   install invocation.
 * VERSION_CONTROL <2>:                   mv invocation.
-* VERSION_CONTROL <3>:                   install invocation.
-* VERSION_CONTROL <4>:                   cp invocation.
-* VERSION_CONTROL:                       Backup options.
+* VERSION_CONTROL <3>:                   Backup options.
+* VERSION_CONTROL <4>:                   ln invocation.
+* VERSION_CONTROL:                       cp invocation.
 * vertical sorted files in columns:      General output formatting.
 * week in date strings:                  Relative items in date strings.
 * write permission:                      Mode Structure.
@@ -4081,65 +4083,65 @@
 
 
 Tag Table:
-Node: Top2255
-Node: Introduction2975
-Node: Common options4293
-Node: Backup options5090
-Node: Block size7128
+Node: Top2281
+Node: Introduction3001
+Node: Common options4319
+Node: Backup options5113
+Node: Block size7138
 Node: Target directory10572
-Node: Trailing slashes12805
-Node: File permissions13795
-Node: Mode Structure14382
-Node: Symbolic Modes16562
-Node: Setting Permissions17564
-Node: Copying Permissions20104
-Node: Changing Special Permissions20893
-Node: Conditional Executability22518
-Node: Multiple Changes23140
-Node: Umask and Protection24793
-Node: Numeric Modes25887
-Node: Date input formats27708
-Node: General date syntax30485
-Node: Calendar date items32900
-Node: Time of day items34898
-Node: Time zone items36725
-Node: Day of week items37576
-Node: Relative items in date strings38566
-Node: Pure numbers in date strings40529
-Node: Authors of getdate41510
-Node: Directory listing42259
-Node: ls invocation42737
-Node: Which files are listed44310
-Node: What information is listed45942
-Node: Sorting the output51070
-Node: More details about version sort53378
-Node: General output formatting54615
-Node: Formatting the file names58624
-Node: dir invocation60771
-Node: vdir invocation61199
-Node: dircolors invocation61594
-Node: Basic operations62979
-Node: cp invocation63596
-Node: dd invocation71708
-Node: install invocation74893
-Node: mv invocation78410
-Node: rm invocation81682
-Node: shred invocation83756
-Node: Special file types90267
-Node: ln invocation91551
-Node: mkdir invocation95807
-Node: mkfifo invocation97295
-Node: mknod invocation98191
-Node: rmdir invocation99675
-Node: Changing file attributes100827
-Node: chown invocation101637
-Node: chgrp invocation105665
-Node: chmod invocation107590
-Node: touch invocation109185
-Node: Disk usage112196
-Node: df invocation112809
-Node: du invocation117911
-Node: sync invocation121424
-Node: Index122244
+Node: Trailing slashes12806
+Node: File permissions13796
+Node: Mode Structure14383
+Node: Symbolic Modes16563
+Node: Setting Permissions17566
+Node: Copying Permissions20107
+Node: Changing Special Permissions20896
+Node: Conditional Executability22522
+Node: Multiple Changes23144
+Node: Umask and Protection24798
+Node: Numeric Modes25892
+Node: Date input formats27713
+Node: General date syntax30490
+Node: Calendar date items32906
+Node: Time of day items34904
+Node: Time zone items36732
+Node: Day of week items37583
+Node: Relative items in date strings38573
+Node: Pure numbers in date strings40536
+Node: Authors of getdate41518
+Node: Directory listing42267
+Node: ls invocation42745
+Node: Which files are listed44319
+Node: What information is listed45951
+Node: Sorting the output51083
+Node: More details about version sort53391
+Node: General output formatting54628
+Node: Formatting the file names58628
+Node: dir invocation60773
+Node: vdir invocation61201
+Node: dircolors invocation61596
+Node: Basic operations62976
+Node: cp invocation63593
+Node: dd invocation71707
+Node: install invocation74894
+Node: mv invocation78413
+Node: rm invocation81686
+Node: shred invocation83761
+Node: Special file types90274
+Node: ln invocation91558
+Node: mkdir invocation95814
+Node: mkfifo invocation97303
+Node: mknod invocation98200
+Node: rmdir invocation99685
+Node: Changing file attributes100838
+Node: chown invocation101649
+Node: chgrp invocation105678
+Node: chmod invocation107604
+Node: touch invocation109201
+Node: Disk usage112213
+Node: df invocation112826
+Node: du invocation117931
+Node: sync invocation121448
+Node: Index122269
 
 End Tag Table
diff -ruN fileutils-4.1-orig/doc/fileutils.texi fileutils-4.1/doc/fileutils.texi
--- fileutils-4.1-orig/doc/fileutils.texi	Mon Apr 23 07:36:22 2001
+++ fileutils-4.1/doc/fileutils.texi	Sun Oct  3 22:18:59 2004
@@ -82,8 +82,6 @@
 Free Documentation License''.
 @end titlepage
 
-
-@ifnottex
 @node Top
 @top GNU file utilities
 
@@ -104,8 +102,6 @@
 * Disk usage::                  df du sync
 * Index::                       General index.
 @end menu
-@end ifnottex
-
 
 @node Introduction
 @chapter Introduction
@@ -193,8 +189,8 @@
 Without this option, the original versions are destroyed.
 Use @var{method} to determine the type of backups to make.
 When this option is used but @var{method} is not specified,
-then the value of the @env{VERSION_CONTROL}
-environment variable is used.  And if @env{VERSION_CONTROL} is not set,
+then the value of the @var{VERSION_CONTROL}
+environment variable is used.  And if @var{VERSION_CONTROL} is not set,
 the default backup type is @samp{existing}.
 
 Note that the short form of this option, @samp{-b} does not accept any
@@ -238,8 +234,8 @@
 @cindex backup suffix
 @vindex SIMPLE_BACKUP_SUFFIX
 Append @var{suffix} to each backup file made with @samp{-b}.  If this
-option is not specified, the value of the @env{SIMPLE_BACKUP_SUFFIX}
-environment variable is used.  And if @env{SIMPLE_BACKUP_SUFFIX} is not
+option is not specified, the value of the @var{SIMPLE_BACKUP_SUFFIX}
+environment variable is used.  And if @var{SIMPLE_BACKUP_SUFFIX} is not
 set, the default is @samp{~}, just as in Emacs.
 
 @itemx --version-control=@var{method}
@@ -279,15 +275,15 @@
 
 @item DF_BLOCK_SIZE
 This specifies the default block size for the @code{df} command.
-Similarly, @env{DU_BLOCK_SIZE} specifies the default for @code{du} and
-@env{LS_BLOCK_SIZE} for @code{ls}.
+Similarly, @var{DU_BLOCK_SIZE} specifies the default for @code{du} and
+@var{LS_BLOCK_SIZE} for @code{ls}.
 
 @item BLOCK_SIZE
 This specifies the default block size for all three commands, if the
 above command-specific environment variables are not set.
 
 @item POSIXLY_CORRECT
-If neither the @env{@var{command}_BLOCK_SIZE} nor the @env{BLOCK_SIZE}
+If neither the @var{@var{command}_BLOCK_SIZE} nor the @var{BLOCK_SIZE}
 variables are set, but this variable is set, the block size defaults to 512.
 
 @end table
@@ -357,7 +353,7 @@
 Block size defaults can be overridden by an explicit
 @samp{--block-size=@var{size}} option.  The @samp{-k} or
 @samp{--kilobytes} option is equivalent to @samp{--block-size=1k}, which
-is the default unless the @env{POSIXLY_CORRECT} environment variable is
+is the default unless the @var{POSIXLY_CORRECT} environment variable is
 set.  The @samp{-h} or @samp{--human-readable} option is equivalent to
 @samp{--block-size=human-readable}.  The @samp{--si} option
 is equivalent to @samp{--block-size=si}.
@@ -652,8 +648,8 @@
 1,000,000 bytes.  Use the @samp{-h} or @samp{--human-readable} option if
 you prefer powers of 1024.
 
-Warning: the meaning of @option{-H} will change in the future to conform
-to @sc{posix}.  Use @option{--si} for the old meaning.
+Warning: the meaning of @code{-H} will change in the future to conform
+to @sc{posix}.  Use @code{--si} for the old meaning.
 
 @item -i
 @itemx --inode
@@ -678,7 +674,7 @@
 timestamp contains the year instead of the time of day.
 If the timestamp contains today's date with the year rather than a time
 of day, the file's time is in the future, which means you probably have
-clock skew problems which may break programs like @command{make} that
+clock skew problems which may break programs like @file{make} that
 rely on file times.
 
 For each directory that is listed, preface the files with a line
@@ -945,7 +941,7 @@
 @item --full-time
 @opindex --full-time
 List times in full, rather than using the standard abbreviation
-heuristics.  The format is currently similar to that of @command{date},
+heuristics.  The format is currently similar to that of @file{date},
 but this is planned to change in a future release, partly because modern
 file time stamps have more precision.  It's not
 possible to change the format, but you can extract out the date string with
@@ -1029,7 +1025,7 @@
 @vindex COLUMNS
 Assume the screen is @var{cols} columns wide.  The default is taken
 from the terminal settings if possible; otherwise the environment
-variable @env{COLUMNS} is used if it is set; otherwise the default
+variable @var{COLUMNS} is used if it is set; otherwise the default
 is 80.
 
 @end table
@@ -1104,7 +1100,7 @@
 @end table
 
 You can specify the default value of the @samp{--quoting-style} option
-with the environment variable @env{QUOTING_STYLE}.  If that environment
+with the environment variable @var{QUOTING_STYLE}.  If that environment
 variable is not set, the default value is @samp{literal}, but this
 default may change to @samp{shell} in a future version of this package.
 
@@ -1162,9 +1158,9 @@
 
 @vindex LS_COLORS
 @vindex SHELL @r{environment variable, and color}
-The output is a shell command to set the @env{LS_COLORS} environment
+The output is a shell command to set the @var{LS_COLORS} environment
 variable.  You can specify the shell syntax to use on the command line,
-or @code{dircolors} will guess it from the value of the @env{SHELL}
+or @code{dircolors} will guess it from the value of the @var{SHELL}
 environment variable.
 
 The program accepts the following options.  Also see @ref{Common options}.
@@ -1178,7 +1174,7 @@
 @opindex --bourne-shell
 @cindex Bourne shell syntax for color setup
 @cindex @code{sh} syntax for color setup
-Output Bourne shell commands.  This is the default if the @env{SHELL}
+Output Bourne shell commands.  This is the default if the @var{SHELL}
 environment variable is set and does not end with @samp{csh} or
 @samp{tcsh}.
 
@@ -1252,15 +1248,15 @@
 Generally, files are written just as they are read.  For exceptions,
 see the @samp{--sparse} option below.
 
-By default, @command{cp} does not copy directories.  However, the
-@option{-R}, @option{-a}, and @option{-r} options cause @command{cp} to
+By default, @file{cp} does not copy directories.  However, the
+@code{-R}, @code{-a}, and @code{-r} options cause @file{cp} to
 copy recursively by descending into source directories and copying files
 to corresponding destination directories.
 
-By default, @command{cp} follows symbolic links only when not copying
+By default, @file{cp} follows symbolic links only when not copying
 recursively.  This default can be overridden with the
-@option{--no-dereference} (@option{-d}), @option{--dereference}
-(@option{-L}), and @option{-H} options.  If more than one of these
+@code{--no-dereference} (@code{-d}), @code{--dereference}
+(@code{-L}), and @code{-H} options.  If more than one of these
 options is specified, the last one silently overrides the others.
 
 @cindex self-backups
@@ -1382,9 +1378,9 @@
 copies the file @file{a/b/c} to @file{existing_dir/a/b/c}, creating
 any missing intermediate directories.
 
-Warning: the meaning of @option{-P} will change in the future to conform
-to @sc{posix}.  Use @option{--parents} for the old meaning, and
-@option{--no-dereference} for the new.
+Warning: the meaning of @code{-P} will change in the future to conform
+to @sc{posix}.  Use @code{--parents} for the old meaning, and
+@code{--no-dereference} for the new.
 
 @item -r
 @cindex directories, copying recursively
@@ -1414,7 +1410,7 @@
 @item --remove-destination
 @opindex --remove-destination
 Remove each existing destination file before attempting to open it
-(contrast with @option{-f} above).
+(contrast with @code{-f} above).
 
 @item --sparse=@var{when}
 @opindex --sparse=@var{when}
@@ -1524,7 +1520,7 @@
 @samp{w}=2, @samp{x@var{m}}=@var{m}, or any of the
 standard block size suffixes like @samp{k}=1024 (@pxref{Block size}).
 
-Use different @command{dd} invocations to use different block sizes for
+Use different @file{dd} invocations to use different block sizes for
 skipping and I/O.  For example, the following shell commands copy data
 in 512 kB blocks between a disk and a tape, but do not save or restore a
 4 kB label at the start of the disk:
@@ -2963,7 +2959,7 @@
 argument is interpreted as the time for the other files instead of
 as a file name.  Warning: this usage is obsolescent, and future versions
 of @sc{posix} will require that support for it be withdrawn.  Use
-@option{-t} instead.
+@code{-t} instead.
 
 @cindex empty files, creating
 Any @var{file} that does not exist is created empty.
diff -ruN fileutils-4.1-orig/doc/getdate.texi fileutils-4.1/doc/getdate.texi
--- fileutils-4.1-orig/doc/getdate.texi	Sat Feb 17 07:02:25 2001
+++ fileutils-4.1/doc/getdate.texi	Sun Oct  3 22:18:13 2004
@@ -107,10 +107,10 @@
 
 @cindex language, in dates
 @cindex time zone item
-The output of @command{date} is not always acceptable as a date string,
+The output of @file{date} is not always acceptable as a date string,
 not only because of the language problem, but also because there is no
 standard meaning for time zone items like @samp{IST}.  When using
-@command{date} to generate a date string intended to be parsed later,
+@file{date} to generate a date string intended to be parsed later,
 specify a date format that is independent of language and that does not
 use time zone items other than @samp{UTC} and @samp{Z}.  Here are some
 ways to do this:
diff -ruN fileutils-4.1-orig/doc/mdate-sh fileutils-4.1/doc/mdate-sh
--- fileutils-4.1-orig/doc/mdate-sh	Mon Apr 21 14:55:26 1997
+++ fileutils-4.1/doc/mdate-sh	Sun Oct  3 22:36:24 2004
@@ -28,9 +28,9 @@
 # Get the extended ls output of the file or directory.
 # On HPUX /bin/sh, "set" interprets "-rw-r--r--" as options, so the "x" below.
 if ls -L /dev/null 1>/dev/null 2>&1; then
-  set - x`ls -L -l -d $1`
+  set - x`/bin/ls -L -l -d $1`
 else
-  set - x`ls -l -d $1`
+  set - x`/bin/ls -l -d $1`
 fi
 # The month is at least the fourth argument
 # (3 shifts here, the next inside the loop).
diff -ruN fileutils-4.1-orig/doc/stamp-vti fileutils-4.1/doc/stamp-vti
--- fileutils-4.1-orig/doc/stamp-vti	Sun Apr 29 08:29:41 2001
+++ fileutils-4.1/doc/stamp-vti	Sun Oct  3 22:37:04 2004
@@ -1,4 +1,4 @@
-@set UPDATED 23 April 2001
-@set UPDATED-MONTH April 2001
+@set UPDATED 3 October 2004
+@set UPDATED-MONTH October 2004
 @set EDITION 4.1
 @set VERSION 4.1
diff -ruN fileutils-4.1-orig/doc/version.texi fileutils-4.1/doc/version.texi
--- fileutils-4.1-orig/doc/version.texi	Sun Apr 29 08:29:41 2001
+++ fileutils-4.1/doc/version.texi	Sun Oct  3 22:37:04 2004
@@ -1,4 +1,4 @@
-@set UPDATED 23 April 2001
-@set UPDATED-MONTH April 2001
+@set UPDATED 3 October 2004
+@set UPDATED-MONTH October 2004
 @set EDITION 4.1
 @set VERSION 4.1
diff -ruN fileutils-4.1-orig/intl/ChangeLog fileutils-4.1/intl/ChangeLog
--- fileutils-4.1-orig/intl/ChangeLog	Sat Apr 21 10:42:10 2001
+++ fileutils-4.1/intl/ChangeLog	Fri Sep 10 01:03:46 2004
@@ -90,6 +90,11 @@
 	* finddomain.c: Mark internal functions.  Use strdup if available.
 	Add memory freeing code for glibc.
 
+1998-02-21  Fred Fish  <fnf@ninemoons.com>
+
+	* dcgettext.c: Only include alloca.h if C_ALLOCA is not defined.
+	* localealias.c: Ditto.
+
 1997-10-10 20:00  Ulrich Drepper  <drepper@cygnus.com>
 
 	* libgettext.h: Fix dummy textdomain and bindtextdomain macros.
diff -ruN fileutils-4.1-orig/intl/Makefile.in fileutils-4.1/intl/Makefile.in
--- fileutils-4.1-orig/intl/Makefile.in	Mon Nov 22 15:29:28 1999
+++ fileutils-4.1/intl/Makefile.in	Fri Sep 10 01:03:46 2004
@@ -43,7 +43,8 @@
 
 l = @l@
 
-AR = ar
+AR = @AR@
+ARFLAGS = @ARFLAGS@
 CC = @CC@
 LIBTOOL = @LIBTOOL@
 RANLIB = @RANLIB@
@@ -88,7 +89,7 @@
 
 libintl.a: $(OBJECTS)
 	rm -f $@
-	$(AR) cru $@ $(OBJECTS)
+	$(AR) $(ARFLAGS) $@ $(OBJECTS)
 	$(RANLIB) $@
 
 libintl.la: $(OBJECTS)
diff -ruN fileutils-4.1-orig/intl/dcgettext.c fileutils-4.1/intl/dcgettext.c
--- fileutils-4.1-orig/intl/dcgettext.c	Mon Nov 22 15:29:28 1999
+++ fileutils-4.1/intl/dcgettext.c	Fri Sep 10 01:03:46 2004
@@ -21,11 +21,11 @@
 
 #include <sys/types.h>
 
-#ifdef __GNUC__
+#if defined (__GNUC__) && !defined (C_ALLOCA)
 # define alloca __builtin_alloca
 # define HAVE_ALLOCA 1
 #else
-# if defined HAVE_ALLOCA_H || defined _LIBC
+# if (defined HAVE_ALLOCA_H || defined _LIBC) && !defined (C_ALLOCA)
 #  include <alloca.h>
 # else
 #  ifdef _AIX
diff -ruN fileutils-4.1-orig/intl/localealias.c fileutils-4.1/intl/localealias.c
--- fileutils-4.1-orig/intl/localealias.c	Wed Nov 29 14:09:16 2000
+++ fileutils-4.1/intl/localealias.c	Fri Sep 10 01:03:46 2004
@@ -24,11 +24,11 @@
 #include <stdio.h>
 #include <sys/types.h>
 
-#ifdef __GNUC__
+#if defined (__GNUC__) && !defined (C_ALLOCA)
 # define alloca __builtin_alloca
 # define HAVE_ALLOCA 1
 #else
-# if defined HAVE_ALLOCA_H || defined _LIBC
+# if (defined HAVE_ALLOCA_H || defined _LIBC) && !defined (C_ALLOCA)
 #  include <alloca.h>
 # else
 #  ifdef _AIX
diff -ruN fileutils-4.1-orig/lib/alloca.c fileutils-4.1/lib/alloca.c
--- fileutils-4.1-orig/lib/alloca.c	Fri Feb 16 19:28:10 2001
+++ fileutils-4.1/lib/alloca.c	Fri Sep 10 01:03:46 2004
@@ -36,8 +36,8 @@
 # include "blockinput.h"
 #endif
 
-/* If compiling with GCC 2, this file's not needed.  */
-#if !defined (__GNUC__) || __GNUC__ < 2
+/* If compiling with GCC 2, this file's not needed unless C_ALLOCA is defined.  */
+#if (!defined (__GNUC__) || __GNUC__ < 2) || defined (C_ALLOCA)
 
 /* If someone has defined alloca as a macro,
    there must be some other way alloca is supposed to work.  */
diff -ruN fileutils-4.1-orig/lib/backupfile.c fileutils-4.1/lib/backupfile.c
--- fileutils-4.1-orig/lib/backupfile.c	Sun Feb 27 18:02:19 2000
+++ fileutils-4.1/lib/backupfile.c	Fri Sep 10 01:03:46 2004
@@ -113,7 +113,11 @@
 
 /* The extension added to file names to produce a simple (as opposed
    to numbered) backup file name. */
+#ifdef __amigaos__
+const char *simple_backup_suffix = "!";
+#else
 const char *simple_backup_suffix = "~";
+#endif
 
 static int max_backup_version PARAMS ((const char *, const char *));
 static int version_number PARAMS ((const char *, const char *, size_t));
@@ -132,7 +136,7 @@
   char *s;
   const char *suffix = simple_backup_suffix;
 
-  /* Allow room for simple or `.~N~' backups.  */
+  /* Allow room for simple or `.~N~' backups or `.!N!' backups.  */
   backup_suffix_size_max = strlen (simple_backup_suffix) + 1;
   if (HAVE_DIR && backup_suffix_size_max < numbered_suffix_size_max)
     backup_suffix_size_max = numbered_suffix_size_max;
@@ -153,14 +157,22 @@
 	  if (! (backup_type == numbered_existing && highest_backup == 0))
 	    {
 	      char *numbered_suffix = s + (file_len + backup_suffix_size_max);
+#ifdef __amigaos__
+	      sprintf (numbered_suffix, ".!%d!", highest_backup + 1);
+#else
 	      sprintf (numbered_suffix, ".~%d~", highest_backup + 1);
+#endif
 	      suffix = numbered_suffix;
 	    }
 	  strcpy (s, file);
 	}
 #endif /* HAVE_DIR */
 
+#ifdef __amigaos__
+      addext (s, suffix, '!');
+#else
       addext (s, suffix, '~');
+#endif
     }
   return s;
 }
@@ -215,11 +227,20 @@
   version = 0;
   if (strncmp (base, backup, base_length) == 0
       && backup[base_length] == '.'
-      && backup[base_length + 1] == '~')
+#ifdef __amigaos__
+      && backup[base_length + 1] == '!'
+#else
+      && backup[base_length + 1] == '~'
+#endif
+      )
     {
       for (p = &backup[base_length + 2]; ISDIGIT (*p); ++p)
 	version = version * 10 + *p - '0';
+#ifdef __amigaos__
+      if (p[0] != '!' || p[1])
+#else
       if (p[0] != '~' || p[1])
+#endif
 	version = 0;
     }
   return version;
diff -ruN fileutils-4.1-orig/lib/euidaccess.c fileutils-4.1/lib/euidaccess.c
--- fileutils-4.1-orig/lib/euidaccess.c	Sun Feb 27 17:52:01 2000
+++ fileutils-4.1/lib/euidaccess.c	Fri Sep 10 01:03:46 2004
@@ -160,7 +160,13 @@
 
   mode &= (X_OK | W_OK | R_OK);	/* Clear any bogus bits. */
 #if R_OK != S_IROTH || W_OK != S_IWOTH || X_OK != S_IXOTH
+#ifdef __BEOS__
+  /* Just punt safely.  Should never happen anyway until BeOS is multiuser. */
+  errno = EACCESS;
+  return -1;
+#else
   ?error Oops, portability assumptions incorrect.
+#endif
 #endif
 
   if (mode == F_OK)
diff -ruN fileutils-4.1-orig/lib/makepath.c fileutils-4.1/lib/makepath.c
--- fileutils-4.1-orig/lib/makepath.c	Sun Nov  5 13:10:25 2000
+++ fileutils-4.1/lib/makepath.c	Sun Sep 12 16:53:49 2004
@@ -21,10 +21,10 @@
 # include <config.h>
 #endif
 
-#if __GNUC__
+#if defined (__GNUC__) && !defined (C_ALLOCA)
 # define alloca __builtin_alloca
 #else
-# if HAVE_ALLOCA_H
+# if HAVE_ALLOCA_H && !defined (C_ALLOCA)
 #  include <alloca.h>
 # else
 #  ifdef _AIX
@@ -120,6 +120,7 @@
 
 void strip_trailing_slashes ();
 
+#ifndef __MORPHOS__
 #define CLEANUP_CWD					\
   do							\
     {							\
@@ -134,12 +135,15 @@
 	}						\
     }							\
   while (0)
+#else
+#define CLEANUP_CWD
+#endif
 
 #define CLEANUP						\
   do							\
     {							\
       umask (oldmask);					\
-      CLEANUP_CWD;					\
+      CLEANUP_CWD;      			        \
     }							\
   while (0)
 
@@ -236,7 +240,11 @@
 	struct ptr_list *next;
       };
       struct ptr_list *p, *leading_dirs = NULL;
+      /* ixemul.library has problems with "/" under MorphOS so chdir
+         optimization is not functional on it */
+#ifndef __MORPHOS__
       int do_chdir;		/* Whether to chdir before each mkdir.  */
+#endif
       struct saved_cwd cwd;
       char *basename_dir;
       char *dirpath;
@@ -264,7 +272,7 @@
 	  tmp_mode = parent_mode;
 	  re_protect = 0;
 	}
-
+#ifndef __MORPHOS__
       /* If we can record the current working directory, we may be able
 	 to do the chdir optimization.  */
       do_chdir = !save_cwd (&cwd);
@@ -274,7 +282,7 @@
          So if chdir ("/") fails, turn off the optimization.  */
       if (do_chdir && *dirpath == '/' && chdir ("/") < 0)
 	do_chdir = 0;
-
+#endif
       slash = dirpath;
 
       /* Skip over leading slashes.  */
@@ -293,9 +301,11 @@
 	  if (slash == NULL)
 	    break;
 
+#ifndef __MORPHOS__
 	  /* If we're *not* doing chdir before each mkdir, then we have to refer
 	     to the target using the full (multi-component) directory name.  */
 	  if (!do_chdir)
+#endif
 	    basename_dir = dirpath;
 
 	  *slash = '\0';
@@ -334,6 +344,7 @@
 		}
 	    }
 
+#ifndef __MORPHOS__
 	  /* If we were able to save the initial working directory,
 	     then we can use chdir to change into each directory before
 	     creating an entry in that directory.  This avoids making
@@ -345,6 +356,7 @@
 	      CLEANUP;
 	      return 1;
 	    }
+#endif
 
 	  *slash++ = '/';
 
@@ -354,7 +366,9 @@
 	    slash++;
 	}
 
+#ifndef __MORPHOS__
       if (!do_chdir)
+#endif
 	basename_dir = dirpath;
 
       /* We're done making leading directories.
diff -ruN fileutils-4.1-orig/lib/nanosleep.c fileutils-4.1/lib/nanosleep.c
--- fileutils-4.1-orig/lib/nanosleep.c	Sun Jul  2 20:24:45 2000
+++ fileutils-4.1/lib/nanosleep.c	Mon Sep 13 01:10:26 2004
@@ -62,8 +62,8 @@
 my_usleep (const struct timespec *ts_delay)
 {
   struct timeval tv_delay;
-  tv_delay.tv_sec = ts_delay->tv_sec;
-  tv_delay.tv_usec = ts_delay->tv_nsec / 1000;
+  tv_delay.tv_sec = ts_delay->ts_sec;
+  tv_delay.tv_usec = ts_delay->ts_nsec / 1000;
   select (0, (void *) 0, (void *) 0, (void *) 0, &tv_delay);
 }
 
diff -ruN fileutils-4.1-orig/lib/regex.c fileutils-4.1/lib/regex.c
--- fileutils-4.1-orig/lib/regex.c	Mon Apr  2 08:26:14 2001
+++ fileutils-4.1/lib/regex.c	Fri Sep 10 01:03:53 2004
@@ -287,6 +287,9 @@
 
 # else /* not SYNTAX_TABLE */
 
+/* How many characters in the character set.  */
+#define CHAR_SET_SIZE 256
+
 static char re_syntax_table[CHAR_SET_SIZE];
 
 static void init_syntax_once PARAMS ((void));
@@ -338,10 +341,10 @@
 # ifndef alloca
 
 /* Make alloca work the best possible way.  */
-#  ifdef __GNUC__
+#  if defined (__GNUC__) && !defined (C_ALLOCA)
 #   define alloca __builtin_alloca
 #  else /* not __GNUC__ */
-#   if HAVE_ALLOCA_H
+#   if HAVE_ALLOCA_H && !defined (C_ALLOCA)
 #    include <alloca.h>
 #   endif /* HAVE_ALLOCA_H */
 #  endif /* not __GNUC__ */
diff -ruN fileutils-4.1-orig/lib/rmdir.c fileutils-4.1/lib/rmdir.c
--- fileutils-4.1-orig/lib/rmdir.c	Mon Aug  7 17:01:59 2000
+++ fileutils-4.1/lib/rmdir.c	Sat Sep 11 15:59:48 2004
@@ -57,7 +57,7 @@
       return -1;
     }
 
-  cpid = fork ();
+  cpid = vfork ();
   switch (cpid)
     {
     case -1:			/* cannot fork */
diff -ruN fileutils-4.1-orig/lib/userspec.c fileutils-4.1/lib/userspec.c
--- fileutils-4.1-orig/lib/userspec.c	Sat Dec 16 13:23:49 2000
+++ fileutils-4.1/lib/userspec.c	Fri Sep 10 01:03:53 2004
@@ -21,10 +21,10 @@
 # include <config.h>
 #endif
 
-#ifdef __GNUC__
+#if defined (__GNUC__) && !defined (C_ALLOCA)
 # define alloca __builtin_alloca
 #else
-# if HAVE_ALLOCA_H
+# if HAVE_ALLOCA_H && !defined (C_ALLOCA)
 #  include <alloca.h>
 # else
 #  ifdef _AIX
diff -ruN fileutils-4.1-orig/man/cp.1 fileutils-4.1/man/cp.1
--- fileutils-4.1-orig/man/cp.1	Sun Apr 29 08:29:43 2001
+++ fileutils-4.1/man/cp.1	Mon Sep 13 01:27:55 2004
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.24.
-.TH CP "1" "April 2001" "cp (fileutils) 4.1" FSF
+.TH CP "1" "September 2004" "cp (fileutils) 4.1" FSF
 .SH NAME
 cp \- copy files and directories
 .SH SYNOPSIS
diff -ruN fileutils-4.1-orig/man/dir.1 fileutils-4.1/man/dir.1
--- fileutils-4.1-orig/man/dir.1	Sun Apr 29 09:43:44 2001
+++ fileutils-4.1/man/dir.1	Mon Sep 13 01:27:56 2004
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.24.
-.TH DIR "1" "April 2001" "dir (fileutils) 4.1" FSF
+.TH DIR "1" "September 2004" "dir (fileutils) 4.1" FSF
 .SH NAME
 dir \- list directory contents
 .SH SYNOPSIS
diff -ruN fileutils-4.1-orig/man/du.1 fileutils-4.1/man/du.1
--- fileutils-4.1-orig/man/du.1	Sun Apr 29 08:29:45 2001
+++ fileutils-4.1/man/du.1	Mon Sep 13 01:27:57 2004
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.24.
-.TH DU "1" "April 2001" "du (fileutils) 4.1" FSF
+.TH DU "1" "September 2004" "du (fileutils) 4.1" FSF
 .SH NAME
 du \- estimate file space usage
 .SH SYNOPSIS
diff -ruN fileutils-4.1-orig/man/ginstall.1 fileutils-4.1/man/ginstall.1
--- fileutils-4.1-orig/man/ginstall.1	Sun Apr 29 08:29:45 2001
+++ fileutils-4.1/man/ginstall.1	Mon Sep 13 01:27:57 2004
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.24.
-.TH INSTALL "1" "April 2001" "install (fileutils) 4.1" FSF
+.TH INSTALL "1" "September 2004" "install (fileutils) 4.1" FSF
 .SH NAME
 install \- copy files and set attributes
 .SH SYNOPSIS
@@ -36,6 +36,9 @@
 .TP
 \fB\-g\fR, \fB\-\-group\fR=\fIGROUP\fR
 set group ownership, instead of process' current group
+.TP
+\fB\-l\fR, \fB\-\-log\fR=\fIFILE\fR
+create installation log
 .TP
 \fB\-m\fR, \fB\-\-mode\fR=\fIMODE\fR
 set permission mode (as in chmod), instead of rwxr-xr-x
diff -ruN fileutils-4.1-orig/man/ls.1 fileutils-4.1/man/ls.1
--- fileutils-4.1-orig/man/ls.1	Sun Apr 29 09:43:45 2001
+++ fileutils-4.1/man/ls.1	Mon Sep 13 01:27:58 2004
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.24.
-.TH LS "1" "April 2001" "ls (fileutils) 4.1" FSF
+.TH LS "1" "September 2004" "ls (fileutils) 4.1" FSF
 .SH NAME
 ls \- list directory contents
 .SH SYNOPSIS
diff -ruN fileutils-4.1-orig/man/vdir.1 fileutils-4.1/man/vdir.1
--- fileutils-4.1-orig/man/vdir.1	Sun Apr 29 09:43:45 2001
+++ fileutils-4.1/man/vdir.1	Mon Sep 13 01:27:59 2004
@@ -1,5 +1,5 @@
 .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.24.
-.TH VDIR "1" "April 2001" "vdir (fileutils) 4.1" FSF
+.TH VDIR "1" "September 2004" "vdir (fileutils) 4.1" FSF
 .SH NAME
 vdir \- list directory contents
 .SH SYNOPSIS
diff -ruN fileutils-4.1-orig/po/Makefile.in.in fileutils-4.1/po/Makefile.in.in
--- fileutils-4.1-orig/po/Makefile.in.in	Sat Mar 17 09:22:52 2001
+++ fileutils-4.1/po/Makefile.in.in	Fri Sep 10 01:03:53 2004
@@ -69,7 +69,7 @@
 	$(MSGFMT) -o $@ $<
 
 .po.gmo:
-	file=$(srcdir)/`echo $* | sed 's,.*/,,'`.gmo \
+	file=`echo $* | sed 's,.*/,,'`.gmo \
 	  && rm -f $$file && $(GMSGFMT) -o $$file $<
 
 .po.cat:
diff -ruN fileutils-4.1-orig/po/cat-id-tbl.c fileutils-4.1/po/cat-id-tbl.c
--- fileutils-4.1-orig/po/cat-id-tbl.c	Sun Apr 29 11:40:30 2001
+++ fileutils-4.1/po/cat-id-tbl.c	Sun Sep 26 16:33:11 2004
@@ -257,24 +257,25 @@
 As a special case, cp makes a backup of SOURCE when the force and backup\n\
 options are given and SOURCE and DEST are the same name for an existing,\n\
 regular file.\n", 117},
-  {"preserving permissions for %s", 118},
-  {"cannot make directory %s", 119},
-  {"missing file arguments", 120},
-  {"missing destination file", 121},
-  {"accessing %s", 122},
-  {"specified target, %s is not a directory", 123},
-  {"copying multiple files, but last argument %s is not a directory", 124},
-  {"when preserving paths, the destination must be a directory", 125},
+  {"copying BeOS attributes for %s", 118},
+  {"preserving permissions for %s", 119},
+  {"cannot make directory %s", 120},
+  {"missing file arguments", 121},
+  {"missing destination file", 122},
+  {"accessing %s", 123},
+  {"specified target, %s is not a directory", 124},
+  {"copying multiple files, but last argument %s is not a directory", 125},
+  {"when preserving paths, the destination must be a directory", 126},
   {"\
 warning: --version-control (-V) is obsolete;  support for it\n\
-will be removed in some future release.  Use --backup=%s instead.", 126},
-  {"symbolic links are not supported on this system", 127},
-  {"cannot make both hard and symbolic links", 128},
+will be removed in some future release.  Use --backup=%s instead.", 127},
+  {"symbolic links are not supported on this system", 128},
+  {"cannot make both hard and symbolic links", 129},
   {"\
 Warning: the meaning of `-P' will change in the future to conform to POSIX.\n\
-Use `--parents' for the old meaning, and `--no-dereference' for the new one.", 129},
-  {"backup type", 130},
-  {"Usage: %s [OPTION]... [FILE]\n", 131},
+Use `--parents' for the old meaning, and `--no-dereference' for the new one.", 130},
+  {"backup type", 131},
+  {"Usage: %s [OPTION]... [FILE]\n", 132},
   {"\
 Output commands to set the LS_COLORS environment variable.\n\
 \n\
@@ -287,20 +288,20 @@
 \n\
 If FILE is specified, read it to determine which colors to use for which\n\
 file types and extensions.  Otherwise, a precompiled database is used.\n\
-For details on the format of these files, run `dircolors --print-database'.\n", 132},
-  {"%s:%lu: invalid line;  missing second token", 133},
-  {"%s:%lu: unrecognized keyword %s", 134},
-  {"<internal>", 135},
+For details on the format of these files, run `dircolors --print-database'.\n", 133},
+  {"%s:%lu: invalid line;  missing second token", 134},
+  {"%s:%lu: unrecognized keyword %s", 135},
+  {"<internal>", 136},
   {"\
 the options to output dircolors' internal database and\n\
-to select a shell syntax are mutually exclusive", 136},
+to select a shell syntax are mutually exclusive", 137},
   {"\
 no FILE arguments may be used with the option to output\n\
-dircolors' internal database", 137},
-  {"too many arguments", 138},
-  {"no SHELL environment variable, and no shell type option given", 139},
-  {"standard input", 140},
-  {"Usage: %s [OPTION]...\n", 141},
+dircolors' internal database", 138},
+  {"too many arguments", 139},
+  {"no SHELL environment variable, and no shell type option given", 140},
+  {"standard input", 141},
+  {"Usage: %s [OPTION]...\n", 142},
   {"\
 Copy a file, converting and formatting according to the options.\n\
 \n\
@@ -333,33 +334,33 @@
   swab      swap every pair of input bytes\n\
   noerror   continue after read errors\n\
   sync      pad every input block with NULs to ibs-size; when used\n\
-              with block or unblock, pad with spaces rather than NULs\n", 142},
-  {"%s+%s records in\n", 143},
-  {"%s+%s records out\n", 144},
-  {"truncated record", 145},
-  {"truncated records", 146},
-  {"closing input file %s", 147},
-  {"closing output file %s", 148},
-  {"writing to %s", 149},
-  {"invalid conversion: %s", 150},
-  {"unrecognized option %s", 151},
-  {"unrecognized option %s=%s", 152},
-  {"invalid number %s", 153},
+              with block or unblock, pad with spaces rather than NULs\n", 143},
+  {"%s+%s records in\n", 144},
+  {"%s+%s records out\n", 145},
+  {"truncated record", 146},
+  {"truncated records", 147},
+  {"closing input file %s", 148},
+  {"closing output file %s", 149},
+  {"writing to %s", 150},
+  {"invalid conversion: %s", 151},
+  {"unrecognized option %s", 152},
+  {"unrecognized option %s=%s", 153},
+  {"invalid number %s", 154},
   {"\
 only one conv in {ascii,ebcdic,ibm}, {lcase,ucase}, {block,unblock}, \
-{unblock,sync}", 154},
-  {"opening %s", 155},
-  {"file offset out of range", 156},
-  {"advancing past %s bytes in output file %s", 157},
-  {"standard output", 158},
-  {"Filesystem ", 159},
-  {"   Type", 160},
-  {"    Inodes   IUsed   IFree IUse%%", 161},
-  {"    Size  Used Avail Use%%", 162},
-  {" %4d-blocks      Used Available Capacity", 163},
-  {" %4s-blocks      Used Available Use%%", 164},
-  {" Mounted on\n", 165},
-  {"Usage: %s [OPTION]... [FILE]...\n", 166},
+{unblock,sync}", 155},
+  {"opening %s", 156},
+  {"file offset out of range", 157},
+  {"advancing past %s bytes in output file %s", 158},
+  {"standard output", 159},
+  {"Filesystem ", 160},
+  {"   Type", 161},
+  {"    Inodes   IUsed   IFree IUse%%", 162},
+  {"    Size  Used Avail Use%%", 163},
+  {" %4d-blocks      Used Available Capacity", 164},
+  {" %4s-blocks      Used Available Use%%", 165},
+  {" Mounted on\n", 166},
+  {"Usage: %s [OPTION]... [FILE]...\n", 167},
   {"\
 Show information about the filesystem on which each FILE resides,\n\
 or all filesystems by default.\n\
@@ -382,10 +383,10 @@
   -x, --exclude-type=TYPE   limit listing to filesystems not of type TYPE\n\
   -v                    (ignored)\n\
       --help            display this help and exit\n\
-      --version         output version information and exit\n", 167},
-  {"file system type %s both selected and excluded", 168},
-  {"Warning: ", 169},
-  {"%scannot read table of mounted filesystems", 170},
+      --version         output version information and exit\n", 168},
+  {"file system type %s both selected and excluded", 169},
+  {"Warning: ", 170},
+  {"%scannot read table of mounted filesystems", 171},
   {"\
 Summarize disk usage of each FILE, recursively for directories.\n\
 \n\
@@ -413,30 +414,31 @@
                           line argument;  --max-depth=0 is the same as\n\
                           --summarize\n\
       --help            display this help and exit\n\
-      --version         output version information and exit\n", 171},
-  {"cannot change to `..' from directory %s", 172},
-  {"cannot change to directory %s", 173},
-  {"total", 174},
-  {"invalid maximum depth %s", 175},
-  {"cannot both summarize and show all entries", 176},
-  {"warning: summarizing is the same as using --max-depth=0", 177},
-  {"warning: summarizing conflicts with --max-depth=%d", 178},
-  {"the strip option may not be used when installing a directory", 179},
-  {"invalid mode %s", 180},
-  {"creating directory %s", 181},
-  {"installing multiple files, but last argument, %s is not a directory", 182},
-  {"%s is a directory", 183},
-  {"cannot obtain time stamps for %s", 184},
-  {"cannot set time stamps for %s", 185},
-  {"cannot fork", 186},
-  {"cannot run strip", 187},
-  {"strip failed", 188},
-  {"invalid user %s", 189},
-  {"invalid group %s", 190},
+      --version         output version information and exit\n", 172},
+  {"cannot change to `..' from directory %s", 173},
+  {"cannot change to directory %s", 174},
+  {"total", 175},
+  {"invalid maximum depth %s", 176},
+  {"cannot both summarize and show all entries", 177},
+  {"warning: summarizing is the same as using --max-depth=0", 178},
+  {"warning: summarizing conflicts with --max-depth=%d", 179},
+  {"the strip option may not be used when installing a directory", 180},
+  {"invalid mode %s", 181},
+  {"cannot open log file `%s'", 182},
+  {"creating directory %s", 183},
+  {"installing multiple files, but last argument, %s is not a directory", 184},
+  {"%s is a directory", 185},
+  {"cannot obtain time stamps for %s", 186},
+  {"cannot set time stamps for %s", 187},
+  {"cannot fork", 188},
+  {"cannot run strip", 189},
+  {"strip failed", 190},
+  {"invalid user %s", 191},
+  {"invalid group %s", 192},
   {"\
 Usage: %s [OPTION]... SOURCE DEST           (1st format)\n\
   or:  %s [OPTION]... SOURCE... DIRECTORY   (2nd format)\n\
-  or:  %s -d [OPTION]... DIRECTORY...       (3rd format)\n", 191},
+  or:  %s -d [OPTION]... DIRECTORY...       (3rd format)\n", 193},
   {"\
 In the first two formats, copy SOURCE to DEST or multiple SOURCE(s) to\n\
 the existing DIRECTORY, while setting permission modes and owner/group.\n\
@@ -452,6 +454,7 @@
                         then copy SOURCE to DEST;  useful in the 1st format\n\
   -g, --group=GROUP   set group ownership, instead of process' current \
 group\n\
+  -l, --log=FILE      create installation log\n\
   -m, --mode=MODE     set permission mode (as in chmod), instead of rwxr-xr-\
 x\n\
   -o, --owner=OWNER   set ownership (super-user only)\n\
@@ -463,20 +466,20 @@
   -v, --verbose       print the name of each directory as it is created\n\
       --help          display this help and exit\n\
       --version       output version information and exit\n\
-\n", 192},
-  {"%s: warning: making a hard link to a symbolic link is not portable", 193},
-  {"%s: hard link not allowed for directory", 194},
-  {"%s: cannot overwrite directory", 195},
-  {"%s: replace %s? ", 196},
-  {"%s: File exists", 197},
-  {"create symbolic link %s to %s", 198},
-  {"create hard link %s to %s", 199},
-  {"creating symbolic link %s to %s", 200},
-  {"creating hard link %s to %s", 201},
+\n", 194},
+  {"%s: warning: making a hard link to a symbolic link is not portable", 195},
+  {"%s: hard link not allowed for directory", 196},
+  {"%s: cannot overwrite directory", 197},
+  {"%s: replace %s? ", 198},
+  {"%s: File exists", 199},
+  {"create symbolic link %s to %s", 200},
+  {"create hard link %s to %s", 201},
+  {"creating symbolic link %s to %s", 202},
+  {"creating hard link %s to %s", 203},
   {"\
 Usage: %s [OPTION]... TARGET [LINK_NAME]\n\
   or:  %s [OPTION]... TARGET... DIRECTORY\n\
-  or:  %s [OPTION]... --target-directory=DIRECTORY TARGET...\n", 202},
+  or:  %s [OPTION]... --target-directory=DIRECTORY TARGET...\n", 204},
   {"\
 Create a link to the specified TARGET with optional LINK_NAME.\n\
 If LINK_NAME is omitted, a link with the same basename as the TARGET is\n\
@@ -501,22 +504,24 @@
   -v, --verbose               print name of each file before linking\n\
       --help                  display this help and exit\n\
       --version               output version information and exit\n\
-\n", 203},
-  {"missing file argument", 204},
-  {"specified target directory, %s is not a directory", 205},
-  {"when making multiple links, last argument must be a directory", 206},
-  {"ignoring invalid width in environment variable COLUMNS: %s", 207},
-  {"ignoring invalid tab size in environment variable TABSIZE: %s", 208},
+\n", 205},
+  {"missing file argument", 206},
+  {"specified target directory, %s is not a directory", 207},
+  {"when making multiple links, last argument must be a directory", 208},
+  {"ignoring invalid width in environment variable COLUMNS: %s", 209},
+  {"ignoring invalid tab size in environment variable TABSIZE: %s", 210},
   {"\
 Warning: the meaning of `-H' will change in the future to conform to POSIX.\n\
-Use `--si' for the old meaning.", 209},
-  {"invalid line width: %s", 210},
-  {"invalid tab size: %s", 211},
-  {"%a %b %d %H:%M:%S %Y", 212},
-  {"%b %e  %Y", 213},
-  {"%b %e %H:%M", 214},
-  {"unrecognized prefix: %s", 215},
-  {"unparsable value for LS_COLORS environment variable", 216},
+Use `--si' for the old meaning.", 211},
+  {"invalid line width: %s", 212},
+  {"invalid tab size: %s", 213},
+  {"%a %b %d %H:%M:%S %Y", 214},
+  {"%b %d  %Y", 215},
+  {"%b %d %H:%M", 216},
+  {"%b %e  %Y", 217},
+  {"%b %e %H:%M", 218},
+  {"unrecognized prefix: %s", 219},
+  {"unparsable value for LS_COLORS environment variable", 220},
   {"\
 List information about the FILEs (the current directory by default).\n\
 Sort entries alphabetically if none of -cftuSUX nor --sort.\n\
@@ -542,7 +547,7 @@
   -F, --classify             append indicator (one of */=@|) to entries\n\
       --format=WORD          across -x, commas -m, horizontal -x, long -l,\n\
                                single-column -1, verbose -l, vertical -C\n\
-      --full-time            list both full date and full time\n", 217},
+      --full-time            list both full date and full time\n", 221},
   {"\
   -g                         (ignored)\n\
   -G, --no-group             inhibit display of group information\n\
@@ -579,7 +584,7 @@
 escape\n\
   -r, --reverse              reverse order while sorting\n\
   -R, --recursive            list subdirectories recursively\n\
-  -s, --size                 print size of each file, in blocks\n", 218},
+  -s, --size                 print size of each file, in blocks\n", 222},
   {"\
   -S                         sort by file size\n\
       --sort=WORD            extension -X, none -U, size -S, time -t,\n\
@@ -608,8 +613,8 @@
 equivalent to using --color=none.  Using the --color option without the\n\
 optional WHEN argument is equivalent to using --color=always.  With\n\
 --color=auto, color codes are output only if standard output is connected\n\
-to a terminal (tty).\n", 219},
-  {"Usage: %s [OPTION] DIRECTORY...\n", 220},
+to a terminal (tty).\n", 223},
+  {"Usage: %s [OPTION] DIRECTORY...\n", 224},
   {"\
 Create the DIRECTORY(ies), if they do not already exist.\n\
 \n\
@@ -618,21 +623,21 @@
   -p, --parents     no error if existing, make parent directories as needed\n\
   -v, --verbose     print a message for each created directory\n\
       --help        display this help and exit\n\
-      --version     output version information and exit\n", 221},
-  {"created directory %s", 222},
-  {"cannot set permissions of directory %s", 223},
-  {"Usage: %s [OPTION] NAME...\n", 224},
+      --version     output version information and exit\n", 225},
+  {"created directory %s", 226},
+  {"cannot set permissions of directory %s", 227},
+  {"Usage: %s [OPTION] NAME...\n", 228},
   {"\
 Create named pipes (FIFOs) with the given NAMEs.\n\
 \n\
   -m, --mode=MODE   set permission mode (as in chmod), not a=rw - umask\n\
       --help        display this help and exit\n\
-      --version     output version information and exit\n", 225},
-  {"fifo files not supported", 226},
-  {"invalid mode", 227},
-  {"cannot create fifo `%s'", 228},
-  {"cannot set permissions of fifo `%s'", 229},
-  {"Usage: %s [OPTION]... NAME TYPE [MAJOR MINOR]\n", 230},
+      --version     output version information and exit\n", 229},
+  {"fifo files not supported", 230},
+  {"invalid mode", 231},
+  {"cannot create fifo `%s'", 232},
+  {"cannot set permissions of fifo `%s'", 233},
+  {"Usage: %s [OPTION]... NAME TYPE [MAJOR MINOR]\n", 234},
   {"\
 Create the special file NAME of the given TYPE.\n\
 \n\
@@ -644,20 +649,20 @@
 \n\
   b      create a block (buffered) special file\n\
   c, u   create a character (unbuffered) special file\n\
-  p      create a FIFO\n", 231},
-  {"wrong number of arguments", 232},
-  {"block special files not supported", 233},
+  p      create a FIFO\n", 235},
+  {"wrong number of arguments", 236},
+  {"block special files not supported", 237},
   {"\
 when creating block special files, major and minor device\n\
-numbers must be specified", 234},
-  {"invalid major device number %s", 235},
-  {"invalid minor device number %s", 236},
-  {"character special files not supported", 237},
+numbers must be specified", 238},
+  {"invalid major device number %s", 239},
+  {"invalid minor device number %s", 240},
+  {"character special files not supported", 241},
   {"\
 when creating character special files, major and minor device\n\
-numbers must be specified", 238},
-  {"major and minor device numbers may not be specified for fifo files", 239},
-  {"cannot set permissions of `%s'", 240},
+numbers must be specified", 242},
+  {"major and minor device numbers may not be specified for fifo files", 243},
+  {"cannot set permissions of `%s'", 244},
   {"\
 Rename SOURCE to DEST, or move SOURCE(s) to DIRECTORY.\n\
 \n\
@@ -677,39 +682,39 @@
   -v, --verbose                explain what is being done\n\
       --help                   display this help and exit\n\
       --version                output version information and exit\n\
-\n", 241},
-  {"when moving multiple files, last argument must be a directory", 242},
-  {"cannot open directory %s", 243},
-  {"closing directory %s", 244},
-  {"%s: remove write-protected directory %s? ", 245},
-  {"%s: remove write-protected file %s? ", 246},
-  {"%s: remove directory %s? ", 247},
-  {"%s: remove %s? ", 248},
-  {"removing %s\n", 249},
-  {"cannot unlink %s", 250},
-  {"%s: directory %s is write protected; descend into it anyway? ", 251},
-  {"%s: descend into directory %s? ", 252},
-  {"removing all entries of directory %s\n", 253},
-  {"cannot lstat `.' in %s", 254},
+\n", 245},
+  {"when moving multiple files, last argument must be a directory", 246},
+  {"cannot open directory %s", 247},
+  {"closing directory %s", 248},
+  {"%s: remove write-protected directory %s? ", 249},
+  {"%s: remove write-protected file %s? ", 250},
+  {"%s: remove directory %s? ", 251},
+  {"%s: remove %s? ", 252},
+  {"removing %s\n", 253},
+  {"cannot unlink %s", 254},
+  {"%s: directory %s is write protected; descend into it anyway? ", 255},
+  {"%s: descend into directory %s? ", 256},
+  {"removing all entries of directory %s\n", 257},
+  {"cannot lstat `.' in %s", 258},
   {"\
 ERROR: the directory %s initially had device/inode\n\
 numbers %lu/%lu, but now (after a chdir into it), the numbers for `.'\n\
 are %lu/%lu.  That means that while rm was running, the directory\n\
-was replaced with either another directory or a link to another directory.", 255},
-  {"cannot change back to directory %s via `..'", 256},
-  {"%s: remove directory %s%s? ", 257},
-  {" (might be nonempty)", 258},
-  {"removing the directory itself: %s\n", 259},
-  {"cannot remove current directory %s", 260},
-  {"cannot remove directory %s", 261},
-  {"cannot remove `.' or `..'", 262},
+was replaced with either another directory or a link to another directory.", 259},
+  {"cannot change back to directory %s via `..'", 260},
+  {"%s: remove directory %s%s? ", 261},
+  {" (might be nonempty)", 262},
+  {"removing the directory itself: %s\n", 263},
+  {"cannot remove current directory %s", 264},
+  {"cannot remove directory %s", 265},
+  {"cannot remove `.' or `..'", 266},
   {"\
 WARNING: Circular directory structure.\n\
 This almost certainly means that you have a corrupted file system.\n\
 NOTIFY YOUR SYSTEM MANAGER.\n\
-The following two directories have the same inode number:\n", 263},
-  {"continue? ", 264},
-  {"Usage: %s [OPTION]... FILE...\n", 265},
+The following two directories have the same inode number:\n", 267},
+  {"continue? ", 268},
+  {"Usage: %s [OPTION]... FILE...\n", 269},
   {"\
 Remove (unlink) the FILE(s).\n\
 \n\
@@ -731,9 +736,9 @@
 Note that if you use rm to remove a file, it is usually possible to recover\n\
 the contents of that file.  If you want more assurance that the contents \
 are\n\
-truly unrecoverable, consider using shred.\n", 266},
-  {"removing directory, %s", 267},
-  {"Usage: %s [OPTION]... DIRECTORY...\n", 268},
+truly unrecoverable, consider using shred.\n", 270},
+  {"removing directory, %s", 271},
+  {"Usage: %s [OPTION]... DIRECTORY...\n", 272},
   {"\
 Remove the DIRECTORY(ies), if they are empty.\n\
 \n\
@@ -745,8 +750,8 @@
                   similar to `rmdir a/b/c a/b a'.\n\
   -v, --verbose   output a diagnostic for every directory processed\n\
       --help      display this help and exit\n\
-      --version   output version information and exit\n", 269},
-  {"Usage: %s [OPTIONS] FILE [...]\n", 270},
+      --version   output version information and exit\n", 273},
+  {"Usage: %s [OPTIONS] FILE [...]\n", 274},
   {"\
 Overwrite the specified FILE(s) repeatedly, in order to make it harder\n\
 for even very expensive hardware probing to recover the data.\n\
@@ -784,33 +789,33 @@
 * filesystems that cache in temporary locations, such as NFS\n\
   version 3 clients\n\
 \n\
-* compressed filesystems\n", 271},
-  {"%s: cannot rewind", 272},
-  {"%s: pass %lu/%lu (%s)...", 273},
-  {"%s: error writing at offset %s", 274},
-  {"%s: file too large", 275},
-  {"%s: pass %lu/%lu (%s)...%s/%s", 276},
-  {"%s: pass %lu/%lu (%s)...%s", 277},
-  {"%s: invalid file type", 278},
-  {"%s: file has negative size", 279},
-  {"%s: error truncating", 280},
-  {"%s: cannot shred append-only file descriptor", 281},
-  {"%s: removing", 282},
-  {"%s: renamed to %s", 283},
-  {"%s: removed", 284},
-  {"%s: cannot remove", 285},
-  {"%s: invalid number of passes", 286},
-  {"%s: invalid file size", 287},
-  {"Usage: %s [OPTION]\n", 288},
+* compressed filesystems\n", 275},
+  {"%s: cannot rewind", 276},
+  {"%s: pass %lu/%lu (%s)...", 277},
+  {"%s: error writing at offset %s", 278},
+  {"%s: file too large", 279},
+  {"%s: pass %lu/%lu (%s)...%s/%s", 280},
+  {"%s: pass %lu/%lu (%s)...%s", 281},
+  {"%s: invalid file type", 282},
+  {"%s: file has negative size", 283},
+  {"%s: error truncating", 284},
+  {"%s: cannot shred append-only file descriptor", 285},
+  {"%s: removing", 286},
+  {"%s: renamed to %s", 287},
+  {"%s: removed", 288},
+  {"%s: cannot remove", 289},
+  {"%s: invalid number of passes", 290},
+  {"%s: invalid file size", 291},
+  {"Usage: %s [OPTION]\n", 292},
   {"\
 Force changed blocks to disk, update the super block.\n\
 \n\
   --help      display this help and exit\n\
-  --version   output version information and exit\n", 289},
-  {"ignoring all arguments", 290},
-  {"creating %s", 291},
-  {"setting times of %s", 292},
-  {"  or:  %s [-acm] MMDDhhmm[YY] FILE... (obsolescent)\n", 293},
+  --version   output version information and exit\n", 293},
+  {"ignoring all arguments", 294},
+  {"creating %s", 295},
+  {"setting times of %s", 296},
+  {"  or:  %s [-acm] MMDDhhmm[YY] FILE... (obsolescent)\n", 297},
   {"\
 Update the access and modification times of each FILE to the current time.\n\
 \n\
@@ -828,10 +833,10 @@
       --version          output version information and exit\n\
 \n\
 Note that the three time-date formats recognized for the -d and -t options\n\
-and for the obsolescent argument are all different.\n", 294},
-  {"invalid date format %s", 295},
-  {"cannot specify times from more than one source", 296},
-  {"file arguments missing", 297},
+and for the obsolescent argument are all different.\n", 298},
+  {"invalid date format %s", 299},
+  {"cannot specify times from more than one source", 300},
+  {"file arguments missing", 301},
 };
 
-int _msg_tbl_length = 297;
+int _msg_tbl_length = 301;
diff -ruN fileutils-4.1-orig/po/fileutils.pot fileutils-4.1/po/fileutils.pot
--- fileutils-4.1-orig/po/fileutils.pot	Sun Apr 29 11:38:26 2001
+++ fileutils-4.1/po/fileutils.pot	Sun Sep 26 23:25:15 2004
@@ -1,18 +1,19 @@
 # SOME DESCRIPTIVE TITLE.
-# Copyright (C) YEAR Free Software Foundation, Inc.
+# This file is put in the public domain.
 # FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
 #
 #, fuzzy
 msgid ""
 msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
-"POT-Creation-Date: 2001-04-29 13:38+0200\n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: \n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=CHARSET\n"
-"Content-Transfer-Encoding: 8-bit\n"
+"Content-Transfer-Encoding: 8bit\n"
 
 #: lib/argmatch.c:159
 #, c-format
@@ -27,6 +28,7 @@
 #. We try to put synonyms on the same line.  The assumption is that
 #. synonyms follow each other
 #: lib/argmatch.c:178
+#, c-format
 msgid "Valid arguments are:"
 msgstr ""
 
@@ -104,27 +106,27 @@
 #. make_dir `succeeds' when DIR already exists.
 #. In that case, mkdir must fail, unless --parents (-p)
 #. was specified.
-#: lib/makepath.c:177 src/copy.c:897 src/mkdir.c:175
+#: lib/makepath.c:181 src/copy.c:897 src/mkdir.c:175
 #, c-format
 msgid "cannot create directory %s"
 msgstr ""
 
-#: lib/makepath.c:183 lib/makepath.c:425 src/cp.c:403 src/cp.c:425
+#: lib/makepath.c:187 lib/makepath.c:439 src/cp.c:411 src/cp.c:433
 #, c-format
 msgid "%s exists but is not a directory"
 msgstr ""
 
-#: lib/makepath.c:321 lib/makepath.c:383 lib/makepath.c:444
+#: lib/makepath.c:331 lib/makepath.c:397 lib/makepath.c:458
 #, c-format
 msgid "cannot change owner and/or group of %s"
 msgstr ""
 
-#: lib/makepath.c:343
+#: lib/makepath.c:354
 #, c-format
 msgid "cannot chdir to directory, %s"
 msgstr ""
 
-#: lib/makepath.c:397 lib/makepath.c:450
+#: lib/makepath.c:411 lib/makepath.c:464
 #, c-format
 msgid "cannot change permissions of %s"
 msgstr ""
@@ -234,10 +236,11 @@
 msgid "invalid group number %s"
 msgstr ""
 
-#: src/chgrp.c:123 src/chmod.c:263 src/chown.c:97 src/cp.c:143 src/dd.c:288
-#: src/df.c:742 src/dircolors.c:99 src/du.c:199 src/install.c:596 src/ln.c:335
-#: src/ls.c:3248 src/mkdir.c:59 src/mkfifo.c:51 src/mknod.c:61 src/mv.c:325
-#: src/rm.c:84 src/rmdir.c:142 src/shred.c:461 src/sync.c:40 src/touch.c:215
+#: src/chgrp.c:123 src/chmod.c:263 src/chown.c:97 src/cp.c:143
+#: src/dircolors.c:99 src/dd.c:288 src/df.c:742 src/du.c:199 src/install.c:626
+#: src/ln.c:335 src/ls.c:3257 src/mkdir.c:59 src/mkfifo.c:51 src/mknod.c:61
+#: src/mv.c:325 src/rm.c:84 src/rmdir.c:142 src/shred.c:461 src/sync.c:40
+#: src/touch.c:215
 #, c-format
 msgid "Try `%s --help' for more information.\n"
 msgstr ""
@@ -250,6 +253,7 @@
 msgstr ""
 
 #: src/chgrp.c:132
+#, c-format
 msgid ""
 "Change the group membership of each FILE to GROUP.\n"
 "\n"
@@ -269,17 +273,17 @@
 "      --version          output version information and exit\n"
 msgstr ""
 
-#: src/chgrp.c:149 src/chmod.c:287 src/chown.c:135 src/cp.c:215 src/dd.c:327
-#: src/df.c:769 src/dircolors.c:118 src/du.c:230 src/install.c:640
-#: src/ln.c:379 src/ls.c:3335 src/mkdir.c:73 src/mkfifo.c:63 src/mknod.c:79
-#: src/mv.c:362 src/rm.c:111 src/rmdir.c:160 src/shred.c:505 src/sync.c:51
-#: src/touch.c:240
+#: src/chgrp.c:149 src/chmod.c:287 src/chown.c:135 src/cp.c:215
+#: src/dircolors.c:118 src/dd.c:327 src/df.c:769 src/du.c:230
+#: src/install.c:671 src/ln.c:379 src/ls.c:3344 src/mkdir.c:73 src/mkfifo.c:63
+#: src/mknod.c:79 src/mv.c:362 src/rm.c:111 src/rmdir.c:160 src/shred.c:505
+#: src/sync.c:51 src/touch.c:240
 msgid ""
 "\n"
 "Report bugs to <bug-fileutils@gnu.org>."
 msgstr ""
 
-#: src/chgrp.c:207 src/chmod.c:375 src/chown.c:207 src/install.c:289
+#: src/chgrp.c:207 src/chmod.c:375 src/chown.c:207 src/install.c:303
 #: src/mkdir.c:121 src/mkfifo.c:108 src/mknod.c:136 src/rm.c:180
 #: src/rmdir.c:204
 msgid "too few arguments"
@@ -326,6 +330,7 @@
 msgstr ""
 
 #: src/chmod.c:273
+#, c-format
 msgid ""
 "Change the mode of each FILE to MODE.\n"
 "\n"
@@ -411,6 +416,7 @@
 msgstr ""
 
 #: src/chown.c:107
+#, c-format
 msgid ""
 "Change the owner and/or group of each FILE to OWNER and/or GROUP.\n"
 "\n"
@@ -439,6 +445,7 @@
 msgstr ""
 
 #: src/chown.c:130
+#, c-format
 msgid ""
 "Owner is unchanged if missing.  Group is unchanged if missing, but changed\n"
 "to login group if implied by a `:'.  OWNER and GROUP may be numeric as well\n"
@@ -462,7 +469,7 @@
 msgid "cannot open %s for reading"
 msgstr ""
 
-#: src/copy.c:227 src/copy.c:747 src/ln.c:291 src/mv.c:258 src/remove.c:842
+#: src/copy.c:227 src/copy.c:747 src/ln.c:291 src/mv.c:258 src/remove.c:846
 #, c-format
 msgid "cannot remove %s"
 msgstr ""
@@ -497,7 +504,7 @@
 msgid "closing %s"
 msgstr ""
 
-#: src/copy.c:583 src/copy.c:612 src/remove.c:858
+#: src/copy.c:583 src/copy.c:612 src/remove.c:862
 #, c-format
 msgid "cannot stat %s"
 msgstr ""
@@ -665,6 +672,7 @@
 msgstr ""
 
 #: src/cp.c:153
+#, c-format
 msgid ""
 "Copy SOURCE to DEST, or multiple SOURCE(s) to DIRECTORY.\n"
 "\n"
@@ -695,6 +703,7 @@
 msgstr ""
 
 #: src/cp.c:176
+#, c-format
 msgid ""
 "      --sparse=WHEN            control creation of sparse files\n"
 "  -R, --recursive              copy directories recursively\n"
@@ -721,7 +730,8 @@
 "\n"
 msgstr ""
 
-#: src/cp.c:199 src/install.c:630 src/ln.c:369 src/mv.c:352
+#: src/cp.c:199 src/install.c:661 src/ln.c:369 src/mv.c:352
+#, c-format
 msgid ""
 "The backup suffix is `~', unless set with --suffix or SIMPLE_BACKUP_SUFFIX.\n"
 "The version control method may be selected via the --backup option or "
@@ -735,6 +745,7 @@
 msgstr ""
 
 #: src/cp.c:209
+#, c-format
 msgid ""
 "\n"
 "As a special case, cp makes a backup of SOURCE when the force and backup\n"
@@ -742,65 +753,70 @@
 "regular file.\n"
 msgstr ""
 
-#: src/cp.c:306
+#: src/cp.c:305
+#, c-format
+msgid "copying BeOS attributes for %s"
+msgstr ""
+
+#: src/cp.c:314
 #, c-format
 msgid "preserving permissions for %s"
 msgstr ""
 
-#: src/cp.c:391
+#: src/cp.c:399
 #, c-format
 msgid "cannot make directory %s"
 msgstr ""
 
-#: src/cp.c:450
+#: src/cp.c:458
 msgid "missing file arguments"
 msgstr ""
 
-#: src/cp.c:455
+#: src/cp.c:463
 msgid "missing destination file"
 msgstr ""
 
-#: src/cp.c:471 src/ln.c:161 src/ln.c:183 src/ln.c:210 src/ln.c:297
+#: src/cp.c:479 src/ln.c:161 src/ln.c:183 src/ln.c:210 src/ln.c:297
 #, c-format
 msgid "accessing %s"
 msgstr ""
 
-#: src/cp.c:494 src/mv.c:464
+#: src/cp.c:502 src/mv.c:464
 #, c-format
 msgid "specified target, %s is not a directory"
 msgstr ""
 
-#: src/cp.c:502
+#: src/cp.c:510
 #, c-format
 msgid "copying multiple files, but last argument %s is not a directory"
 msgstr ""
 
-#: src/cp.c:601
+#: src/cp.c:609
 msgid "when preserving paths, the destination must be a directory"
 msgstr ""
 
-#: src/cp.c:747 src/install.c:224 src/ln.c:423 src/mv.c:406
+#: src/cp.c:755 src/install.c:234 src/ln.c:423 src/mv.c:406
 #, c-format
 msgid ""
 "warning: --version-control (-V) is obsolete;  support for it\n"
 "will be removed in some future release.  Use --backup=%s instead."
 msgstr ""
 
-#: src/cp.c:818 src/ln.c:452
+#: src/cp.c:826 src/ln.c:452
 msgid "symbolic links are not supported on this system"
 msgstr ""
 
-#: src/cp.c:854
+#: src/cp.c:862
 msgid "cannot make both hard and symbolic links"
 msgstr ""
 
-#: src/cp.c:861
+#: src/cp.c:869
 msgid ""
 "Warning: the meaning of `-P' will change in the future to conform to POSIX.\n"
 "Use `--parents' for the old meaning, and `--no-dereference' for the new one."
 msgstr ""
 
-#: src/cp.c:870 src/install.c:280 src/ln.c:518 src/mv.c:480
+#: src/cp.c:878 src/install.c:294 src/ln.c:518 src/mv.c:480
 msgid "backup type"
 msgstr ""
 
@@ -810,6 +826,7 @@
 msgstr ""
 
 #: src/dircolors.c:104
+#, c-format
 msgid ""
 "Output commands to set the LS_COLORS environment variable.\n"
 "\n"
@@ -859,7 +876,7 @@
 msgid "no SHELL environment variable, and no shell type option given"
 msgstr ""
 
-#: src/dd.c:1143 src/dircolors.c:537
+#: src/dircolors.c:537 src/dd.c:1143
 msgid "standard input"
 msgstr ""
 
@@ -869,6 +886,7 @@
 msgstr ""
 
 #: src/dd.c:293
+#, c-format
 msgid ""
 "Copy a file, converting and formatting according to the options.\n"
 "\n"
@@ -982,10 +1000,12 @@
 msgstr ""
 
 #: src/df.c:152
+#, c-format
 msgid "Filesystem "
 msgstr ""
 
 #: src/df.c:155
+#, c-format
 msgid "   Type"
 msgstr ""
 
@@ -1010,15 +1030,17 @@
 msgstr ""
 
 #: src/df.c:178
+#, c-format
 msgid " Mounted on\n"
 msgstr ""
 
-#: src/df.c:746 src/du.c:203 src/ls.c:3252
+#: src/df.c:746 src/du.c:203 src/ls.c:3261
 #, c-format
 msgid "Usage: %s [OPTION]... [FILE]...\n"
 msgstr ""
 
 #: src/df.c:747
+#, c-format
 msgid ""
 "Show information about the filesystem on which each FILE resides,\n"
 "or all filesystems by default.\n"
@@ -1062,6 +1084,7 @@
 msgstr ""
 
 #: src/du.c:204
+#, c-format
 msgid ""
 "Summarize disk usage of each FILE, recursively for directories.\n"
 "\n"
@@ -1097,90 +1120,95 @@
 msgid "cannot change to `..' from directory %s"
 msgstr ""
 
-#: src/du.c:553 src/remove.c:708
+#: src/du.c:554 src/remove.c:710
 #, c-format
 msgid "cannot change to directory %s"
 msgstr ""
 
-#: src/du.c:643 src/ls.c:1809
+#: src/du.c:644 src/ls.c:1814
 msgid "total"
 msgstr ""
 
-#: src/du.c:707
+#: src/du.c:708
 #, c-format
 msgid "invalid maximum depth %s"
 msgstr ""
 
-#: src/du.c:765
+#: src/du.c:766
 msgid "cannot both summarize and show all entries"
 msgstr ""
 
-#: src/du.c:772
+#: src/du.c:773
 msgid "warning: summarizing is the same as using --max-depth=0"
 msgstr ""
 
-#: src/du.c:778
+#: src/du.c:779
 #, c-format
 msgid "warning: summarizing conflicts with --max-depth=%d"
 msgstr ""
 
-#: src/install.c:274
+#: src/install.c:288
 msgid "the strip option may not be used when installing a directory"
 msgstr ""
 
-#: src/install.c:297 src/mkdir.c:137
+#: src/install.c:311 src/mkdir.c:137
 #, c-format
 msgid "invalid mode %s"
 msgstr ""
 
-#: src/install.c:312 src/install.c:374
+#: src/install.c:324
+#, c-format
+msgid "cannot open log file `%s'"
+msgstr ""
+
+#: src/install.c:335 src/install.c:398
 #, c-format
 msgid "creating directory %s"
 msgstr ""
 
-#: src/install.c:337
+#: src/install.c:360
 #, c-format
 msgid "installing multiple files, but last argument, %s is not a directory"
 msgstr ""
 
-#: src/install.c:438 src/remove.c:676
+#: src/install.c:462 src/remove.c:678
 #, c-format
 msgid "%s is a directory"
 msgstr ""
 
-#: src/install.c:498
+#: src/install.c:528
 #, c-format
 msgid "cannot obtain time stamps for %s"
 msgstr ""
 
-#: src/install.c:510
+#: src/install.c:540
 #, c-format
 msgid "cannot set time stamps for %s"
 msgstr ""
 
-#: src/install.c:531
+#: src/install.c:561
 msgid "cannot fork"
 msgstr ""
 
-#: src/install.c:535
+#: src/install.c:565
 msgid "cannot run strip"
 msgstr ""
 
-#: src/install.c:542
+#: src/install.c:572
 msgid "strip failed"
 msgstr ""
 
-#: src/install.c:563
+#: src/install.c:593
 #, c-format
 msgid "invalid user %s"
 msgstr ""
 
-#: src/install.c:581
+#: src/install.c:611
 #, c-format
 msgid "invalid group %s"
 msgstr ""
 
-#: src/install.c:600
+#: src/install.c:630
 #, c-format
 msgid ""
 "Usage: %s [OPTION]... SOURCE DEST           (1st format)\n"
@@ -1188,7 +1216,8 @@
 "  or:  %s -d [OPTION]... DIRECTORY...       (3rd format)\n"
 msgstr ""
 
-#: src/install.c:606
+#: src/install.c:636
+#, c-format
 msgid ""
 "In the first two formats, copy SOURCE to DEST or multiple SOURCE(s) to\n"
 "the existing DIRECTORY, while setting permission modes and owner/group.\n"
@@ -1204,6 +1233,7 @@
 "                        then copy SOURCE to DEST;  useful in the 1st format\n"
 "  -g, --group=GROUP   set group ownership, instead of process' current "
 "group\n"
+"  -l, --log=FILE      create installation log\n"
 "  -m, --mode=MODE     set permission mode (as in chmod), instead of rwxr-xr-"
 "x\n"
 "  -o, --owner=OWNER   set ownership (super-user only)\n"
@@ -1272,6 +1302,7 @@
 msgstr ""
 
 #: src/ln.c:345
+#, c-format
 msgid ""
 "Create a link to the specified TARGET with optional LINK_NAME.\n"
 "If LINK_NAME is omitted, a link with the same basename as the TARGET is\n"
@@ -1342,24 +1373,33 @@
 msgid "%a %b %d %H:%M:%S %Y"
 msgstr ""
 
-#: src/ls.c:1377
+#: src/ls.c:1378
+msgid "%b %d  %Y"
+msgstr ""
+
+#: src/ls.c:1379
+msgid "%b %d %H:%M"
+msgstr ""
+
+#: src/ls.c:1381
 msgid "%b %e  %Y"
 msgstr ""
 
-#: src/ls.c:1378
+#: src/ls.c:1382
 msgid "%b %e %H:%M"
 msgstr ""
 
-#: src/ls.c:1678
+#: src/ls.c:1683
 #, c-format
 msgid "unrecognized prefix: %s"
 msgstr ""
 
-#: src/ls.c:1701
+#: src/ls.c:1706
 msgid "unparsable value for LS_COLORS environment variable"
 msgstr ""
 
-#: src/ls.c:3253
+#: src/ls.c:3262
+#, c-format
 msgid ""
 "List information about the FILEs (the current directory by default).\n"
 "Sort entries alphabetically if none of -cftuSUX nor --sort.\n"
@@ -1388,7 +1428,8 @@
 "      --full-time            list both full date and full time\n"
 msgstr ""
 
-#: src/ls.c:3277
+#: src/ls.c:3286
+#, c-format
 msgid ""
 "  -g                         (ignored)\n"
 "  -G, --no-group             inhibit display of group information\n"
@@ -1428,7 +1469,8 @@
 "  -s, --size                 print size of each file, in blocks\n"
 msgstr ""
 
-#: src/ls.c:3307
+#: src/ls.c:3316
+#, c-format
 msgid ""
 "  -S                         sort by file size\n"
 "      --sort=WORD            extension -X, none -U, size -S, time -t,\n"
@@ -1466,6 +1508,7 @@
 msgstr ""
 
 #: src/mkdir.c:64
+#, c-format
 msgid ""
 "Create the DIRECTORY(ies), if they do not already exist.\n"
 "\n"
@@ -1494,6 +1537,7 @@
 msgstr ""
 
 #: src/mkfifo.c:56
+#, c-format
 msgid ""
 "Create named pipes (FIFOs) with the given NAMEs.\n"
 "\n"
@@ -1526,6 +1570,7 @@
 msgstr ""
 
 #: src/mknod.c:66
+#, c-format
 msgid ""
 "Create the special file NAME of the given TYPE.\n"
 "\n"
@@ -1584,6 +1629,7 @@
 msgstr ""
 
 #: src/mv.c:335
+#, c-format
 msgid ""
 "Rename SOURCE to DEST, or move SOURCE(s) to DIRECTORY.\n"
 "\n"
@@ -1610,67 +1656,67 @@
 msgid "when moving multiple files, last argument must be a directory"
 msgstr ""
 
-#: src/remove.c:482
+#: src/remove.c:484
 #, c-format
 msgid "cannot open directory %s"
 msgstr ""
 
-#: src/remove.c:590
+#: src/remove.c:592
 #, c-format
 msgid "closing directory %s"
 msgstr ""
 
-#: src/remove.c:625
+#: src/remove.c:627
 #, c-format
 msgid "%s: remove write-protected directory %s? "
 msgstr ""
 
-#: src/remove.c:626
+#: src/remove.c:628
 #, c-format
 msgid "%s: remove write-protected file %s? "
 msgstr ""
 
-#: src/remove.c:642
+#: src/remove.c:644
 #, c-format
 msgid "%s: remove directory %s? "
 msgstr ""
 
-#: src/remove.c:643
+#: src/remove.c:645
 #, c-format
 msgid "%s: remove %s? "
 msgstr ""
 
-#: src/remove.c:650
+#: src/remove.c:652
 #, c-format
 msgid "removing %s\n"
 msgstr ""
 
-#: src/remove.c:654
+#: src/remove.c:656
 #, c-format
 msgid "cannot unlink %s"
 msgstr ""
 
-#: src/remove.c:683
+#: src/remove.c:685
 #, c-format
 msgid "%s: directory %s is write protected; descend into it anyway? "
 msgstr ""
 
-#: src/remove.c:687
+#: src/remove.c:689
 #, c-format
 msgid "%s: descend into directory %s? "
 msgstr ""
 
-#: src/remove.c:698
+#: src/remove.c:700
 #, c-format
 msgid "removing all entries of directory %s\n"
 msgstr ""
 
-#: src/remove.c:725
+#: src/remove.c:728
 #, c-format
 msgid "cannot lstat `.' in %s"
 msgstr ""
 
-#: src/remove.c:731
+#: src/remove.c:734
 #, c-format
 msgid ""
 "ERROR: the directory %s initially had device/inode\n"
@@ -1679,40 +1725,40 @@
 "was replaced with either another directory or a link to another directory."
 msgstr ""
 
-#: src/remove.c:766
+#: src/remove.c:770
 #, c-format
 msgid "cannot change back to directory %s via `..'"
 msgstr ""
 
-#: src/remove.c:773
+#: src/remove.c:777
 #, c-format
 msgid "%s: remove directory %s%s? "
 msgstr ""
 
-#: src/remove.c:776
+#: src/remove.c:780
 msgid " (might be nonempty)"
 msgstr ""
 
-#: src/remove.c:784
+#: src/remove.c:788
 #, c-format
 msgid "removing the directory itself: %s\n"
 msgstr ""
 
-#: src/remove.c:799
+#: src/remove.c:803
 #, c-format
 msgid "cannot remove current directory %s"
 msgstr ""
 
-#: src/remove.c:804
+#: src/remove.c:808
 #, c-format
 msgid "cannot remove directory %s"
 msgstr ""
 
-#: src/remove.c:832
+#: src/remove.c:836
 msgid "cannot remove `.' or `..'"
 msgstr ""
 
-#: src/remove.c:866
+#: src/remove.c:870
 msgid ""
 "WARNING: Circular directory structure.\n"
 "This almost certainly means that you have a corrupted file system.\n"
@@ -1720,7 +1766,7 @@
 "The following two directories have the same inode number:\n"
 msgstr ""
 
-#: src/remove.c:877
+#: src/remove.c:881
 msgid "continue? "
 msgstr ""
 
@@ -1766,6 +1812,7 @@
 msgstr ""
 
 #: src/rmdir.c:147
+#, c-format
 msgid ""
 "Remove the DIRECTORY(ies), if they are empty.\n"
 "\n"
@@ -1918,6 +1965,7 @@
 msgstr ""
 
 #: src/sync.c:45
+#, c-format
 msgid ""
 "Force changed blocks to disk, update the super block.\n"
 "\n"
@@ -1945,6 +1993,7 @@
 msgstr ""
 
 #: src/touch.c:222
+#, c-format
 msgid ""
 "Update the access and modification times of each FILE to the current time.\n"
 "\n"
diff -ruN fileutils-4.1-orig/src/Makefile.am fileutils-4.1/src/Makefile.am
--- fileutils-4.1-orig/src/Makefile.am	Fri Mar  9 18:32:54 2001
+++ fileutils-4.1/src/Makefile.am	Fri Sep 10 01:03:53 2004
@@ -33,7 +33,7 @@
 transform = s/ginstall/install/; @program_transform_name@
 ginstall_SOURCES = install.c copy.c cp-hash.c
 
-cp_SOURCES = cp.c copy.c cp-hash.c
+cp_SOURCES = cp.c copy.c cp-hash.c cp-attr.c
 dir_SOURCES = ls.c ls-dir.c
 vdir_SOURCES = ls.c ls-vdir.c
 ls_SOURCES = ls.c ls-ls.c
diff -ruN fileutils-4.1-orig/src/Makefile.in fileutils-4.1/src/Makefile.in
--- fileutils-4.1-orig/src/Makefile.in	Sun Apr 29 11:40:37 2001
+++ fileutils-4.1/src/Makefile.in	Sun Oct  3 20:50:12 2004
@@ -123,8 +123,13 @@
 
 bin_PROGRAMS = chgrp chown chmod cp dd dircolors du \
 ginstall ln dir vdir ls mkdir \
-mkfifo mknod mv rm rmdir shred sync touch @DF_PROG@
+mv rm rmdir shred sync touch @DF_PROG@
 
+ifneq "$(host_triplet)" "powerpc-unknown-morphos"
+ifneq "$(host_triplet)" "m68k-unknown-amigaos"
+bin_PROGRAMS := $(bin_PROGRAMS) mkfifo mknod
+endif
+endif
 
 datadir = $(prefix)/@DATADIRNAME@
 localedir = $(datadir)/locale
@@ -151,7 +156,7 @@
 transform = s/ginstall/install/; @program_transform_name@
 ginstall_SOURCES = install.c copy.c cp-hash.c
 
-cp_SOURCES = cp.c copy.c cp-hash.c
+cp_SOURCES = cp.c copy.c cp-hash.c cp-attr.c
 dir_SOURCES = ls.c ls-dir.c
 vdir_SOURCES = ls.c ls-vdir.c
 ls_SOURCES = ls.c ls-ls.c
@@ -176,8 +181,15 @@
 bin_PROGRAMS = chgrp$(EXEEXT) chown$(EXEEXT) chmod$(EXEEXT) cp$(EXEEXT) \
 dd$(EXEEXT) dircolors$(EXEEXT) du$(EXEEXT) ginstall$(EXEEXT) \
 ln$(EXEEXT) dir$(EXEEXT) vdir$(EXEEXT) ls$(EXEEXT) mkdir$(EXEEXT) \
-mkfifo$(EXEEXT) mknod$(EXEEXT) mv$(EXEEXT) rm$(EXEEXT) rmdir$(EXEEXT) \
+mv$(EXEEXT) rm$(EXEEXT) rmdir$(EXEEXT) \
 shred$(EXEEXT) sync$(EXEEXT) touch$(EXEEXT) @DF_PROG@
+
+ifneq "$(host_triplet)" "powerpc-unknown-morphos"
+ifneq "$(host_triplet)" "m68k-unknown-amigaos"
+bin_PROGRAMS := $(bin_PROGRAMS) mkfifo$(EXEEXT) mknod$(EXEEXT)
+endif
+endif
+
 PROGRAMS = $(bin_PROGRAMS)
 
 CPPFLAGS = @CPPFLAGS@
@@ -199,7 +211,7 @@
 chown_LDADD = $(LDADD)
 chown_DEPENDENCIES = ../lib/libfetish.a
 chown_LDFLAGS = 
-am_cp_OBJECTS = cp$U.$(OBJEXT) copy$U.$(OBJEXT) cp-hash$U.$(OBJEXT)
+am_cp_OBJECTS = cp$U.$(OBJEXT) copy$U.$(OBJEXT) cp-hash$U.$(OBJEXT) cp-attr$U.$(OBJEXT)
 cp_OBJECTS = $(am_cp_OBJECTS)
 cp_LDADD = $(LDADD)
 cp_DEPENDENCIES = ../lib/libfetish.a
@@ -436,7 +448,7 @@
 	$(LINK) $(mv_LDFLAGS) $(mv_OBJECTS) $(mv_LDADD) $(LIBS)
 
 rm: $(rm_OBJECTS) $(rm_DEPENDENCIES)
-	@rm -f rm > /dev/null 2>&1 || /bin/rm -f rm
+	@rm -f rm
 	$(LINK) $(rm_LDFLAGS) $(rm_OBJECTS) $(rm_LDADD) $(LIBS)
 
 rmdir: $(rmdir_OBJECTS) $(rmdir_DEPENDENCIES)
diff -ruN fileutils-4.1-orig/src/cp-attr.c fileutils-4.1/src/cp-attr.c
--- fileutils-4.1-orig/src/cp-attr.c	Thu Jan  1 00:00:00 1970
+++ fileutils-4.1/src/cp-attr.c	Fri Sep 10 01:03:53 2004
@@ -0,0 +1,83 @@
+#ifdef __BEOS__
+
+#include <kernel/fs_attr.h>
+#include <fcntl.h>
+#include <stdio.h>
+
+int BeOS_CopyAttributes(const char *src_path, const char *dst_path)
+{
+  DIR              *attr_dir;
+  struct dirent    *attr;
+  struct attr_info ai;
+  int              sfd           = -1;
+  int              dfd           = -1;
+  char             *buffer       = NULL;
+  size_t           buffer_length = 1024;
+  int              rc            = -1;
+
+  if(!(buffer = (char *)malloc(buffer_length)))
+    goto cleanup;
+
+  if((sfd = open(src_path, O_RDONLY, 0)) < 0)
+    goto cleanup;
+  if((dfd = open(dst_path, O_WRONLY|O_APPEND, 0)) < 0)
+    goto cleanup;
+
+  /* remove old attribute */
+
+  if(attr_dir = fs_open_attr_dir(dst_path))
+  {
+    fs_rewind_attr_dir(attr_dir);
+
+    while(attr = fs_read_attr_dir(attr_dir))
+      fs_remove_attr(dfd, attr->d_name);
+
+    fs_close_attr_dir(attr_dir);
+  }
+
+  /* copy attributes */
+
+  if(!(attr_dir = fs_open_attr_dir(src_path)))
+    goto cleanup;
+
+  fs_rewind_attr_dir(attr_dir);
+
+  while(attr = fs_read_attr_dir(attr_dir))
+  {
+    fs_stat_attr(sfd, attr->d_name, &ai);
+
+    if(ai.size > buffer_length)
+    {
+      buffer_length = ai.size;
+
+      if(!(buffer = (char *)realloc(buffer, buffer_length)))
+      {
+        fs_close_attr_dir(attr_dir);
+        goto cleanup;
+      }
+    }
+    if(fs_read_attr(sfd, attr->d_name, ai.type, 0, buffer, ai.size) < 0)
+    {
+      fs_close_attr_dir(attr_dir);
+      goto cleanup;
+    }
+    if(fs_write_attr(dfd, attr->d_name, ai.type, 0, buffer, ai.size) < 0)
+    {
+      fs_close_attr_dir(attr_dir);
+      goto cleanup;
+    }
+  }
+
+  fs_close_attr_dir(attr_dir);
+
+  rc = 0;
+
+cleanup:
+  if(buffer)    free(buffer);
+  if(sfd >= 0)  close(sfd);
+  if(dfd >= 0)  close(dfd);
+
+  return rc;
+}
+
+#endif
diff -ruN fileutils-4.1-orig/src/cp.c fileutils-4.1/src/cp.c
--- fileutils-4.1-orig/src/cp.c	Sat Feb  3 16:48:34 2001
+++ fileutils-4.1/src/cp.c	Fri Sep 10 01:03:53 2004
@@ -299,6 +299,14 @@
 	    }
 	}
 
+#if defined (__BEOS__)
+      if (BeOS_CopyAttributes (src_path, dst_path) < 0)
+	{
+	  error (0, errno, _("copying BeOS attributes for %s"), dst_path);
+	  return 1;
+	}
+#endif
+
       if (x->preserve_chmod_bits || p->is_new_dir)
 	{
 	  if (chmod (dst_path, src_sb.st_mode & x->umask_kill))
diff -ruN fileutils-4.1-orig/src/du.c fileutils-4.1/src/du.c
--- fileutils-4.1-orig/src/du.c	Sat Nov 18 19:54:31 2000
+++ fileutils-4.1/src/du.c	Sat Sep 11 15:56:46 2004
@@ -539,7 +539,8 @@
 	  || DOT_OR_DOTDOT (ent)
 	  || (xstat == stat
 	      && lstat (ent, &e_buf) == 0
-	      && S_ISLNK (e_buf.st_mode)))
+	      && S_ISLNK (e_buf.st_mode))
+        )
 	{
 	  if (save_cwd (&cwd_buf))
 	    exit (1);
diff -ruN fileutils-4.1-orig/src/install.c fileutils-4.1/src/install.c
--- fileutils-4.1-orig/src/install.c	Mon Dec 25 11:07:36 2000
+++ fileutils-4.1/src/install.c	Sat Sep 11 15:56:01 2004
@@ -54,7 +54,9 @@
 #endif
 
 struct passwd *getpwnam ();
+#ifndef __BEOS__	/* BEOS has getgrnam but declared as "void *" in DR8 */
 struct group *getgrnam ();
+#endif
 
 #ifndef _POSIX_VERSION
 uid_t getuid ();
@@ -124,6 +126,12 @@
 /* If nonzero, install a directory instead of a regular file. */
 static int dir_arg;
 
+/* File * to log file. */
+static FILE *log_file;
+
+/* If nonzero, create installation log. */
+static int install_log;
+
 static struct option const long_options[] =
 {
   {"backup", optional_argument, NULL, 'b'},
@@ -131,6 +139,7 @@
   {"group", required_argument, NULL, 'g'},
   {"mode", required_argument, NULL, 'm'},
   {"owner", required_argument, NULL, 'o'},
+  {"log", required_argument, NULL, 'l'},
   {"preserve-timestamps", no_argument, NULL, 'p'},
   {"strip", no_argument, NULL, 's'},
   {"suffix", required_argument, NULL, 'S'},
@@ -187,6 +196,7 @@
   int make_backups = 0;
   char *backup_suffix_string;
   char *version_control_string = NULL;
+  char *log_file_name = NULL;
   int mkdir_and_install = 0;
   struct cp_options x;
   int n_files;
@@ -211,7 +221,7 @@
      we'll actually use backup_suffix_string.  */
   backup_suffix_string = getenv ("SIMPLE_BACKUP_SUFFIX");
 
-  while ((optc = getopt_long (argc, argv, "bcsDdg:m:o:pvV:S:", long_options,
+  while ((optc = getopt_long (argc, argv, "bcsDdg:m:o:l:pvV:S:", long_options,
 			      NULL)) != -1)
     {
       switch (optc)
@@ -248,6 +258,10 @@
 	case 'g':
 	  group_name = optarg;
 	  break;
+	case 'l':
+	  log_file_name = optarg;
+	  install_log = 1;
+	  break;
 	case 'm':
 	  specified_mode = optarg;
 	  break;
@@ -302,6 +316,15 @@
 
   get_ids ();
 
+  if (install_log)
+    {
+      log_file = fopen (log_file_name, "a");
+
+      if (log_file == NULL)
+	error (1, 0, _("cannot open log file `%s'"), log_file_name);
+
+    }
+
   if (dir_arg)
     {
       int i;
@@ -345,7 +368,8 @@
 	    }
 	}
     }
-
+  if (log_file)
+    fclose (log_file);
   exit (errors);
 }
 
@@ -441,6 +465,12 @@
 
   fail = copy (from, to, nonexistent_dst, x, &copy_into_self, NULL);
 
+#if 0	/* FIXME */
+  if (log_file)
+    fprintf (log_file, "%s\t%-ld\t%-s", \
+	     to, (long)from_stats.st_size, ctime (&(from_stats.st_mtime)));
+#endif
+
   return fail;
 }
 
@@ -523,7 +553,7 @@
 strip (const char *path)
 {
   int status;
-  pid_t pid = fork ();
+  pid_t pid = vfork ();
 
   switch (pid)
     {
@@ -616,6 +646,7 @@
   -D                  create all leading components of DEST except the last,\n\
                         then copy SOURCE to DEST;  useful in the 1st format\n\
   -g, --group=GROUP   set group ownership, instead of process' current group\n\
+  -l, --log=FILE      create installation log\n\
   -m, --mode=MODE     set permission mode (as in chmod), instead of rwxr-xr-x\n\
   -o, --owner=OWNER   set ownership (super-user only)\n\
   -p, --preserve-timestamps   apply access/modification times of SOURCE files\n\
diff -ruN fileutils-4.1-orig/src/ls.c fileutils-4.1/src/ls.c
--- fileutils-4.1-orig/src/ls.c	Sun Apr 29 09:42:47 2001
+++ fileutils-4.1/src/ls.c	Fri Sep 10 01:12:55 2004
@@ -1374,8 +1374,13 @@
 	  dcgettext (NULL, "%a %b %d %H:%M:%S %Y", LC_TIME);
       else
 	{
+#ifdef __BEOS__                 /* Does not support %e */
+	  long_time_format[0] = dcgettext (NULL, "%b %d  %Y", LC_TIME);
+	  long_time_format[1] = dcgettext (NULL, "%b %d %H:%M", LC_TIME);
+#else
 	  long_time_format[0] = dcgettext (NULL, "%b %e  %Y", LC_TIME);
 	  long_time_format[1] = dcgettext (NULL, "%b %e %H:%M", LC_TIME);
+#endif
 	}
     }
 
@@ -3201,7 +3206,11 @@
       while (*dirnamep)
 	*dest++ = *dirnamep++;
       /* Add '/' if `dirname' doesn't already end with it. */
-      if (dirnamep > dirname && dirnamep[-1] != '/')
+      if (dirnamep > dirname && dirnamep[-1] != '/'
+#ifdef __amigaos__
+	  && dirnamep[-1] != ':'
+#endif
+	  )
 	*dest++ = '/';
     }
   while (*name)
diff -ruN fileutils-4.1-orig/src/remove.c fileutils-4.1/src/remove.c
--- fileutils-4.1-orig/src/remove.c	Sun Feb 18 16:17:32 2001
+++ fileutils-4.1/src/remove.c	Fri Sep 17 00:53:53 2004
@@ -60,7 +60,9 @@
 
 #ifdef D_INO_IN_DIRENT
 # define D_INO(dp) ((dp)->d_ino)
+# ifndef __amigaos__
 # define ENABLE_CYCLE_CHECK
+# endif
 #else
 /* Some systems don't have inodes, so fake them to avoid lots of ifdefs.  */
 # define D_INO(dp) 1
@@ -718,6 +720,7 @@
      command remove some other directory belonging to Bob.  The method
      would be to replace an existing lstat'd but-not-yet-removed directory
      with a symlink to the target directory.  */
+#ifndef __MORPHOS__
   {
     struct stat sb;
     if (lstat (".", &sb))
@@ -739,6 +742,7 @@
 	       (unsigned long)(sb.st_ino));
       }
   }
+#endif
 
   push_dir (dir_name);
 
