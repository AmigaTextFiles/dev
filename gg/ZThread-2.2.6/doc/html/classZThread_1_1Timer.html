<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ZThread::Timer class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.15 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>Timer  Class Reference</h1><code>#include &lt;Timer.h&gt;</code>
<p>
<p>Inheritance diagram for Timer:
<p><center><img src="classZThread_1_1Timer.png" usemap="#Timer_map" border="0"></center>
<map name="Timer_map">
<area href="classZThread_1_1Cancelable.html" alt="Cancelable" shape="rect" coords="0,0,83,24">
<area href="classZThread_1_1Runnable.html" alt="Runnable" shape="rect" coords="93,0,176,24">
<area href="classZThread_1_1TimerThread.html" alt="TimerThread" shape="rect" coords="46,112,129,136">
</map>
<a href="classZThread_1_1Timer-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#a0">Timer</a> (bool reuseKeys=true)  throw (Synchronization_Exception)</td></tr>
<tr><td nowrap align=right valign=top>virtual&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#a1">~Timer</a> ()  throw ()</td></tr>
<tr><td nowrap align=right valign=top>unsigned long&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#a2">addEvent</a> (unsigned long, bool periodic=false)  throw (Synchronization_Exception)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#a3">delEvent</a> (unsigned long)  throw (Synchronization_Exception)</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#a4">run</a> ()  throw ()</td></tr>
<tr><td colspan=2><br><h2>Static Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>unsigned long&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#d0">now</a> ()  throw ()</td></tr>
<tr><td colspan=2><br><h2>Protected Types</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="t0" doxytag="ZThread::Timer::LockPolicy"></a>
typedef RecursiveInstanceLock&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#t0">LockPolicy</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Locking policy.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="t1" doxytag="ZThread::Timer::EventList"></a>
typedef std::set&lt; <a class="el" href="classZThread_1_1TimerEvent.html">TimerEvent</a> &gt;&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#t1">EventList</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Event list.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="t2" doxytag="ZThread::Timer::KeyList"></a>
typedef std::deque&lt; int &gt;&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#t2">KeyList</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>ID list.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Protected Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="n0" doxytag="ZThread::Timer::_events"></a>
<a class="el" href="classZThread_1_1Timer.html#t1">EventList</a>&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#n0">_events</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Registered events.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="n1" doxytag="ZThread::Timer::_keys"></a>
<a class="el" href="classZThread_1_1Timer.html#t2">KeyList</a>&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#n1">_keys</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Used ids.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="n2" doxytag="ZThread::Timer::_next"></a>
unsigned long&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#n2">_next</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Next id.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="n3" doxytag="ZThread::Timer::_reuseKeys"></a>
bool&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#n3">_reuseKeys</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Key reuse flag.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="n4" doxytag="ZThread::Timer::_interrupt"></a>
<a class="el" href="classZThread_1_1Condition.html">Condition</a>&nbsp;</td><td valign=bottom><a class="el" href="classZThread_1_1Timer.html#n4">_interrupt</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em><a class="el" href="classZThread_1_1Condition.html">Condition</a>.</em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<dl compact><dt><b>
Author: </b><dd>
Eric Crahen &lt;<a href="mailto:crahen@cse.buffalo.edu">crahen@cse.buffalo.edu</a>&gt; </dl><dl compact><dt><b>
Date: </b><dd>
&lt;2002-05-26T09:19:32-0400&gt; </dl><dl compact><dt><b>
Version: </b><dd>
2.1.4</dl>This class defines a simple <a class="el" href="classZThread_1_1Timer.html">Timer</a> object base. Other objects can be derived from this class to create more specialzed Timers. This encapsulates  the timing routines and doesn't force a <a class="el" href="classZThread_1_1Timer.html">Timer</a> to have to deal directly with  a thread.
<p>
Interest in a timer is manipulated using the inherited Observable methods 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="ZThread::Timer::Timer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> Timer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>reuseKeys</em> = true          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw (<a class="el" href="classZThread_1_1Synchronization__Exception.html">Synchronization_Exception</a>)</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new <a class="el" href="classZThread_1_1Timer.html">Timer</a> object.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>reuseKeys</em>&nbsp;</td><td>
If true, then the keys this <a class="el" href="classZThread_1_1Timer.html">Timer</a> generates  can be reused as events expire. If false, then id's will simply increment as they are generated. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a1" doxytag="ZThread::Timer::~Timer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual ~Timer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw ()<code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroy this <a class="el" href="classZThread_1_1Timer.html">Timer</a> object     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a2" doxytag="ZThread::Timer::addEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned long addEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>long</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>periodic</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw (<a class="el" href="classZThread_1_1Synchronization__Exception.html">Synchronization_Exception</a>)</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a timer. An event will occur after the given amount of time expires. This method will create a new <a class="el" href="classZThread_1_1TimerEvent.html">TimerEvent</a> with a unique id which will be submitted to the <a class="el" href="classZThread_1_1Timer.html">Timer</a>'s event list.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>unsigned</em>&nbsp;</td><td>
long - milliseconds until event </td></tr>
<tr><td valign=top><em>bool</em>&nbsp;</td><td>
- event repeats</td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
unsigned long - event id</dl><dl compact><dt><b>
Exceptions: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="el" href="classZThread_1_1Synchronization__Exception.html">Synchronization_Exception</a></em>&nbsp;</td><td>
 </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a3" doxytag="ZThread::Timer::delEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool delEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>long</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw (<a class="el" href="classZThread_1_1Synchronization__Exception.html">Synchronization_Exception</a>)</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete a <a class="el" href="classZThread_1_1TimerEvent.html">TimerEvent</a>. If an event exists in this <a class="el" href="classZThread_1_1Timer.html">Timer</a>'s event list (the event has not expired) with the given id then it will be removed from that list.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>unsigned</em>&nbsp;</td><td>
lone - event id </td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
bool - true if the event is successfulyl removed, false if not.</dl><dl compact><dt><b>
Exceptions: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="el" href="classZThread_1_1Synchronization__Exception.html">Synchronization_Exception</a></em>&nbsp;</td><td>
 </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="d0" doxytag="ZThread::Timer::now"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned long now </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw ()<code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the curent time in milliseconds relative to the time the library was loaded.
<p>
<dl compact><dt><b>
Returns: </b><dd>
unsigned long </dl>    </td>
  </tr>
</table>
<a name="a4" doxytag="ZThread::Timer::run"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void run </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw ()<code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This method enters a loop, waiting on the condition variable that is associated with this object. This loop will executed until the <a class="el" href="classZThread_1_1Timer.html">Timer</a> has been canceled. 
<p>
Implements <a class="el" href="classZThread_1_1Runnable.html#a1">Runnable</a>.
<p>
Reimplemented in <a class="el" href="classZThread_1_1TimerThread.html#a4">TimerThread</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li>Timer.h</ul>
<hr><address align="right"><small>Generated on Fri May 31 14:08:47 2002 for ZThread by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.15 </small></address>
</body>
</html>
