
; tool.include.bb2 generated by FD2inc.


DEFTYPE .Library *_ToolBase

Macro Tool_left ; {Ziel,Source,Anzahl}
   GetReg a0,`1 : GetReg a1,`2 : GetReg d0,`3
   GetReg a6,*_ToolBase : JSR -30(a6)
End Macro

Macro Tool_right ; {Ziel,Source,Anzahl}
   GetReg a0,`1 : GetReg a1,`2 : GetReg d0,`3
   GetReg a6,*_ToolBase : JSR -36(a6)
End Macro

Macro Tool_mid ; {Ziel,Source,Start,Anzahl}
   GetReg a0,`1 : GetReg a1,`2 : GetReg d0,`3 : GetReg d1,`4
   GetReg a6,*_ToolBase : JSR -42(a6)
End Macro

Macro Tool_UmwFtoS ; {Ziel,Zahl,Nachkomma}
   GetReg a0,`1 : GetReg a1,`2 : GetReg d0,`3
   GetReg a6,*_ToolBase : JSR -48(a6)
End Macro

Macro Tool_copy ; {start,anzahl,ziel,source}
   GetReg d0,`1 : GetReg d1,`2 : GetReg d2,`3 : GetReg d3,`4
   GetReg a6,*_ToolBase : JSR -54(a6)
End Macro

Macro Tool_check ; {ret,a,b,c,d,e}
   GetReg d0,`2 : GetReg d1,`3 : GetReg d2,`4 : GetReg d3,`5 : GetReg a0,`6
   GetReg a6,*_ToolBase : JSR -60(a6) : PutReg d0,`1
End Macro

Macro Tool_checkback ; {ret,a,b,c,d,e}
   GetReg d0,`2 : GetReg d1,`3 : GetReg d2,`4 : GetReg d3,`5 : GetReg a0,`6
   GetReg a6,*_ToolBase : JSR -66(a6) : PutReg d0,`1
End Macro

Macro Tool_AnzahlKlammern ; {ret,a}
   GetReg a0,`2
   GetReg a6,*_ToolBase : JSR -72(a6) : PutReg d0,`1
End Macro

Macro Tool_request ; {ret,ja,nein,body}
   GetReg d0,`2 : GetReg d1,`3 : GetReg d2,`4
   GetReg a6,*_ToolBase : JSR -78(a6) : PutReg d0,`1
End Macro

Macro Tool_NewRequest ; {ret,Window,ja,nein,body}
   GetReg a0,`2 : GetReg d0,`3 : GetReg d1,`4 : GetReg d2,`5
   GetReg a6,*_ToolBase : JSR -84(a6) : PutReg d0,`1
End Macro

Macro Tool_EventAbfrage ; {ret,Window,msginfo}
   GetReg a0,`2 : GetReg a1,`3
   GetReg a6,*_ToolBase : JSR -90(a6) : PutReg d0,`1
End Macro

Macro Tool_Print ; {RP,text,col,xpos,ypos}
   GetReg a1,`1 : GetReg a0,`2 : GetReg d0,`3 : GetReg d1,`4 : GetReg d2,`5
   GetReg a6,*_ToolBase : JSR -96(a6)
End Macro

Macro Tool_Box ; {RP,x1,y1,x2,y2}
   GetReg a1,`1 : GetReg d0,`2 : GetReg d1,`3 : GetReg d2,`4 : GetReg d3,`5
   GetReg a6,*_ToolBase : JSR -102(a6)
End Macro

Macro Tool_Center ; {RP,text,Farbe,yPos}
   GetReg a1,`1 : GetReg a0,`2 : GetReg d0,`3 : GetReg d1,`4
   GetReg a6,*_ToolBase : JSR -108(a6)
End Macro

Macro Tool_Gadget_On ; {Gadget,Window}
   GetReg a0,`1 : GetReg a1,`2
   GetReg a6,*_ToolBase : JSR -114(a6)
End Macro

Macro Tool_Gadget_Off ; {Gadget,Window}
   GetReg a0,`1 : GetReg a1,`2
   GetReg a6,*_ToolBase : JSR -120(a6)
End Macro

Macro Tool_GetPropPosH ; {ret,Gadget,MaxPos}
   GetReg a0,`2 : GetReg d0,`3
   GetReg a6,*_ToolBase : JSR -126(a6) : PutReg d0,`1
End Macro

Macro Tool_GetPropPosV ; {ret,Gadget,MaxPos}
   GetReg a0,`2 : GetReg d0,`3
   GetReg a6,*_ToolBase : JSR -132(a6) : PutReg d0,`1
End Macro

Macro Tool_SetPropPosH ; {Gadget,Window,MaxPos,Schrittweite,NewPos}
   GetReg a0,`1 : GetReg a1,`2 : GetReg d0,`3 : GetReg d1,`4 : GetReg d2,`5
   GetReg a6,*_ToolBase : JSR -138(a6)
End Macro

Macro Tool_SetPropPosV ; {Gadget,Window,MaxPos,Schrittweite,NewPos}
   GetReg a0,`1 : GetReg a1,`2 : GetReg d0,`3 : GetReg d1,`4 : GetReg d2,`5
   GetReg a6,*_ToolBase : JSR -144(a6)
End Macro

Macro Tool_PrepareTmpRas ; {ret,RP}
   GetReg a1,`2
   GetReg a6,*_ToolBase : JSR -150(a6) : PutReg d0,`1
End Macro

Macro Tool_ClearTmpRas ; {RP}
   GetReg a1,`1
   GetReg a6,*_ToolBase : JSR -156(a6)
End Macro

Macro Tool_PrepareArea ; {ret,RP,MaxPoints}
   GetReg a1,`2 : GetReg d0,`3
   GetReg a6,*_ToolBase : JSR -162(a6) : PutReg d0,`1
End Macro

Macro Tool_ClearArea ; {RP}
   GetReg a1,`1
   GetReg a6,*_ToolBase : JSR -168(a6)
End Macro

Macro Tool_UmwStoF ; {Ziel,Source}
   GetReg a0,`1 : GetReg a1,`2
   GetReg a6,*_ToolBase : JSR -174(a6)
End Macro

Macro Tool_Fak ; {Ziel,a}
   GetReg a0,`1 : GetReg d0,`2
   GetReg a6,*_ToolBase : JSR -180(a6)
End Macro

Macro Tool_NuK ; {Ziel,a,b}
   GetReg a0,`1 : GetReg d0,`2 : GetReg d1,`3
   GetReg a6,*_ToolBase : JSR -186(a6)
End Macro

Macro Tool_berechnen ; {Ziel,string,var,konstanten,fehler}
   GetReg a0,`1 : GetReg d0,`2 : GetReg d1,`3 : GetReg d2,`4 : GetReg d3,`5
   GetReg a6,*_ToolBase : JSR -192(a6)
End Macro

Macro Tool_Init_Konst ; {ret}
   GetReg a6,*_ToolBase : JSR -198(a6) : PutReg d0,`1
End Macro

Macro Tool_Init_Mem ; {ret,Zeiger}
   GetReg a0,`2
   GetReg a6,*_ToolBase : JSR -204(a6) : PutReg d0,`1
End Macro

Macro Tool_Init_Block ; {ret,Zeiger}
   GetReg a0,`2
   GetReg a6,*_ToolBase : JSR -210(a6) : PutReg d0,`1
End Macro

Macro Tool_Set_Konst_P ; {ret,Zeiger,Nummer,Wert}
   GetReg a0,`2 : GetReg d0,`3 : GetReg d1,`4
   GetReg a6,*_ToolBase : JSR -216(a6) : PutReg d0,`1
End Macro

Macro Tool_GetKonst_P ; {Ziel,Zeiger,Nummer}
   GetReg a0,`1 : GetReg a1,`2 : GetReg d1,`3
   GetReg a6,*_ToolBase : JSR -222(a6)
End Macro

Macro Tool_PreCalc ; {ret,Zeiger,Zeiger}
   GetReg d0,`2 : GetReg d1,`3
   GetReg a6,*_ToolBase : JSR -228(a6) : PutReg d0,`1
End Macro

Macro Tool_Calc_P ; {ret,Ziel,Zeiger,Wert}
   GetReg a0,`2 : GetReg a1,`3 : GetReg a2,`4
   GetReg a6,*_ToolBase : JSR -234(a6) : PutReg d0,`1
End Macro

Macro Tool_Free_Konst ; {Zeiger}
   GetReg a0,`1
   GetReg a6,*_ToolBase : JSR -240(a6)
End Macro

Macro Tool_Free_Block ; {Zeiger}
   GetReg a0,`1
   GetReg a6,*_ToolBase : JSR -246(a6)
End Macro

Macro Tool_CreatePort ; {ret,name,pri}
   GetReg a0,`2 : GetReg d0,`3
   GetReg a6,*_ToolBase : JSR -252(a6) : PutReg d0,`1
End Macro

Macro Tool_DeletePort ; {ret,port}
   GetReg a0,`2
   GetReg a6,*_ToolBase : JSR -258(a6) : PutReg d0,`1
End Macro

Macro Tool_CreateExtIO ; {ret,ioReplyPort,size}
   GetReg a0,`2 : GetReg d0,`3
   GetReg a6,*_ToolBase : JSR -264(a6) : PutReg d0,`1
End Macro

Macro Tool_DeleteExtIO ; {ret,ioExt,size}
   GetReg a0,`2 : GetReg d0,`3
   GetReg a6,*_ToolBase : JSR -270(a6) : PutReg d0,`1
End Macro

Macro Tool_CreateStdIO ; {ret,ioReplyPort}
   GetReg a0,`2
   GetReg a6,*_ToolBase : JSR -276(a6) : PutReg d0,`1
End Macro

Macro Tool_DeleteStdIO ; {ret,ioStdReq}
   GetReg a0,`2
   GetReg a6,*_ToolBase : JSR -282(a6) : PutReg d0,`1
End Macro

Macro Tool_LastMenu ; {ret,Menu}
   GetReg a0,`2
   GetReg a6,*_ToolBase : JSR -288(a6) : PutReg d0,`1
End Macro

Macro Tool_LastItem ; {ret,Menu}
   GetReg a0,`2
   GetReg a6,*_ToolBase : JSR -294(a6) : PutReg d0,`1
End Macro

Macro Tool_LastSub ; {ret,Menu}
   GetReg a0,`2
   GetReg a6,*_ToolBase : JSR -300(a6) : PutReg d0,`1
End Macro

Macro Tool_AddMenu ; {ret,Menu,Titel,Flags}
   GetReg a0,`2 : GetReg a1,`3 : GetReg d0,`4
   GetReg a6,*_ToolBase : JSR -306(a6) : PutReg d0,`1
End Macro

Macro Tool_AddItem ; {ret,Menu,Titel,Flags,HotKey}
   GetReg a0,`2 : GetReg a1,`3 : GetReg d0,`4 : GetReg d1,`5
   GetReg a6,*_ToolBase : JSR -312(a6) : PutReg d0,`1
End Macro

Macro Tool_AddSub ; {ret,Menu,Titel,Flags,HotKey}
   GetReg a0,`2 : GetReg a1,`3 : GetReg d0,`4 : GetReg d1,`5
   GetReg a6,*_ToolBase : JSR -318(a6) : PutReg d0,`1
End Macro

Macro Tool_GetItem ; {ret,Menu,Titel,Flags,HotKey}
   GetReg a0,`2 : GetReg a1,`3 : GetReg d0,`4 : GetReg d1,`5
   GetReg a6,*_ToolBase : JSR -324(a6) : PutReg d0,`1
End Macro

Macro Tool_ClearMenu ; {Menu}
   GetReg a0,`1
   GetReg a6,*_ToolBase : JSR -330(a6)
End Macro

Macro Tool_FreeItem ; {ret,Item}
   GetReg a0,`2
   GetReg a6,*_ToolBase : JSR -336(a6) : PutReg d0,`1
End Macro

Macro Tool_FreeMenu ; {ret,Menu}
   GetReg a0,`2
   GetReg a6,*_ToolBase : JSR -342(a6) : PutReg d0,`1
End Macro

Macro Tool_NewSetMenuStrip ; {Window,Menu}
   GetReg a1,`1 : GetReg a0,`2
   GetReg a6,*_ToolBase : JSR -348(a6)
End Macro


Function.l Tool_InitLib {minVersion.l}
   SHARED *_ToolBase
   If *_ToolBase Then Function Return *_ToolBase
   If minVersion<0 Then minVersion = 0
   *_ToolBase = OpenLibrary_ ("mtool.library",minVersion)
   Function Return *_ToolBase
End Function


Statement Tool_FreeLib {}
   SHARED *_ToolBase
   If *_ToolBase Then CloseLibrary_ *_ToolBase : *_ToolBase = 0
End Statement


;-------------------------------------------------------------------------------------------


; C to Blitz conversion done by c2b.

E$                             = "2.718281828"
PPI$                           = "3.14159265358979323846"


NEWTYPE .info
   code.w                                ; USHORT
   *Nachricht.IntuiMessage               ; STRUCT
   NachrichtenArt.l                      ; ULONG
   *IAddress.l                           ; APTR
   MMouseX.w                             ; SHORT
   MMouseY.w                             ; SHORT
End NEWTYPE


NEWTYPE .MToolBase
   Node.Library                          ; STRUCT
   SegList.l                             ; LONG
   *SysBase.Library                      ; STRUCT
   *GfxBase.GfxBase                      ; STRUCT
   *IIntuitionBase.IntuitionBase         ; STRUCT
   *MathIeeeDoubBasBase.Library          ; STRUCT
   *MathIeeeDoubTransBase.Library        ; STRUCT
End NEWTYPE


NEWTYPE .Block
   Links.l                               ; LONG
   Rechts.l                              ; LONG
   RechenArt.l                           ; LONG
   Valid.l                               ; LONG
   Konstante.l                           ; LONG
   Fehler.l                              ; LONG
   *String.b                             ; CHAR
   WertA.l                               ; DOUBLE
   WertB.l                               ; <- this may need to be changed to Wert.dub
   *Left.Block                           ; STRUCT
   *Right.Block                          ; STRUCT
End NEWTYPE


; Fehlercodes

#DIVBYZERO                     = 1 ; Es wurde durch 0 geteilt
#LOGNEG                        = 2 ; Es wurde von Zahl <= 0 der Log gebildet
#SQRTNEG                       = 4 ; Es wurde von Zahl <0   die Wurzel gebildet
#ATRIG                         = 8 ; Es wurde von Zahl >1 oder <-1 asin/acos gebildet
#UNPAKLAM                      = 16 ; Unpaarige Klammern
#TEST                          = 32
#NOFUNC                        = 64 ; Keine Funktion eingegeben
#NO_KONST                      = 128 ; Keine solche Konstante
#NO_MEM                        = 256 ; Kein Speicher f|r weiteren Block
#POWERROR                      = 512 ; Negative Zahl hoch Bruch wurde versucht
#NO_FUNC                       = 1024 ; Keine Funktion gefunden

; Rechenarten
#ADDI                          = 1
#SUBT                          = 2
#MULT                          = 3
#DIVI                          = 4
#POWE                          = 5
#SINU                          = 6
#COSI                          = 7
#TANG                          = 8
#ASIN                          = 9
#ACOS                          = 10
#ATAN                          = 11
#LOG1                          = 12
#LNAT                          = 13
#ABSO                          = 14
#SIGU                          = 15
#SQRT                          = 16
#FLOO                          = 17
#X                             = 18
#MKON                          = 19 ; Math. Konstante
#UKON                          = 20 ; User  Konstante
#ZIFF                          = 21 ; Ziffern
#KLAM                          = 22


