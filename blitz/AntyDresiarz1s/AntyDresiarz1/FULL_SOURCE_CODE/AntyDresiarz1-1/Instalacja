; $VER Install-AntyDresiarz Issue #1 by Paplo/Taski (31.03.1997)

(welcome)

(set #welcome "Witamy w skrypcie instalacyjnym AntyDresiarza Issue #1.\nJest to pierwsze nie-beta wydanie nowego polskiego magazynu.\n\nOto co moûesz znaleúê w AntyDresiarzu:\n\nciekawe artykuîy\nduûo grafiki\nmultitasking\nsystemowoôê\npeîka konfigurowalnoôê")
(set #destdir-prompt "Wskaû katalog w którym chcesz zainstalowaê AntyDresiarza. Katalog 'AntyDresiarz' zostanie automatycznie stworzony.")

(set #nazwakatalogu "AntyDresiarz1")

(message #welcome)

(set #destinationdrawer

  (askdir
    (prompt #destdir-prompt)
    (help #destdir-help)
    (default "RAM:")
  )
)

	(set #cel (tackon #destinationdrawer #nazwakatalogu))
	(set @default-dest #cel)


; --------- tworzenie katalogów

	(MAKEDIR #cel (infos))

	(Working "Tworzë katalogi...")
	(MAKEDIR (tackon #cel "MUZYKA"))
	(MAKEDIR (tackon #cel "RYSUNKI"))
	(MAKEDIR (tackon #cel "TEKSTY"))
	(MAKEDIR (tackon #cel "FONTS"))

; --------- kopiowanie plików z dysku 1

	(WORKING "Kopiujë moduîy...")
	(COPYFILES (SOURCE "AntyDresiarz1-1:MUZYKA") (DEST (tackon #cel "MUZYKA")) (ALL) (NOGAUGE) )
	(WORKING "Kopiujë rysunki...")
	(COPYFILES (SOURCE "AntyDresiarz1-1:RYSUNKI") (DEST (tackon #cel "RYSUNKI")) (ALL) (NOGAUGE) )
	(WORKING "Kopiujë artykuîy...")
	(COPYFILES (SOURCE "AntyDresiarz1-1:TEKSTY") (DEST (tackon #cel "TEKSTY")) (ALL) (NOGAUGE) )
	
	(WORKING "Kopiujë magazyn...")
	(COPYFILES (SOURCE "AntyDresiarz1-1:MAG.exe") (DEST #cel) (NOGAUGE) )
	(COPYFILES (SOURCE "AntyDresiarz1-1:AntydResiarz1.info") (DEST #cel) (NOGAUGE) )
	(COPYFILES (SOURCE "AntyDresiarz1-1:prefs.pre") (DEST #cel) (NOGAUGE) )

; --------- generacja skryptu uruchamiajâcego

	(textfile
		(dest (cat #cel "/AntyDresiarz1"))
		(append "Assign FONTS: FONTS\n\nMAG.EXE\n")
		(safe)
	)

	(textfile
		(dest (cat #cel "/DON'T_KASOWAC"))
		(append "Jeûeli uûywasz maga z HD, to nie kasuj tego pliku !\n")
		(safe)
	)

; --------- Instalacja dodatków

	(set #InstalowacDodatki
		(askbool
		(prompt  "Czy mam zainstalowaê dodatki w postaci skryptów, przykîadów, úródîówek itp. ?")
		(choices "Instaluj dodatki" "Nie instaluj dodatków")
		(help "Dodatki czësto sâ przykîadami do Artykuîów\n\nJeûeli je zainstalujesz, to bëdâ one w katalogu DODATKI")
		(default 1)
	))


	(if (= #InstalowacDodatki 1)
	(
		(MAKEDIR (tackon #cel "DODATKI"))
		(COPYFILES (SOURCE "AntyDresiarz1-1:DODATKI") (DEST (tackon #cel "DODATKI")) (ALL))
	)
	) 
; --------- DiskFont.library

	(set DiskFontVersion (/ (getversion "LIBS:diskfont.library") 65536))

	(set #InstalowacDiskFont
	        (askbool
       		(prompt "\n\nInstalacja diskfont.library\n\nBiblioteka z AntyDresiarza ma wersjë\nv39\n\nBiblioteka na twoim twardzielu jest w wersji\nv" DiskFontVersion)
		(choices "Instalujë z AntyDresiarza" "Zostawiam swojâ")
		(help #askbool-help)
	 	(default 1)
	))
	

	(if (= #InstalowacDiskFont 1)
	(
		(WORKING "Kopiujë diskfont.library...")
		(COPYFILES (SOURCE "AntyDresiarz1-1:Libs/diskfont.library") (DEST "LIBS:") (ALL) (NOGAUGE) )
	)
	)


; ------------ ReqTools.library

	(set ReqToolsVersion (/ (getversion "LIBS:reqtools.library") 65536))

	(set #InstalowacReqTools
	        (askbool
       		(prompt "\n\nInstalacja reqtools.library\n\nBiblioteka z AntyDresiarza ma wersjë\nv38\n\nBiblioteka na twoim twardzielu jest w wersji\nv" ReqToolsVersion)
		(choices "Instalujë z AntyDresiarza" "Zostawiam swojâ")
		(help #askbool-help)
	 	(default 1)
	))
	

	(if (= #InstalowacReqTools 1)
	(
		(WORKING "Kopiujë reqtools.library...")
		(COPYFILES (SOURCE "AntyDresiarz1-1:Libs/reqtools.library") (DEST "LIBS:") (ALL) (NOGAUGE) )
	)
	)

	(WORKING "Kopiujë czcionki...")
	(COPYFILES (SOURCE "AntyDresiarz1-1:Fonts") (DEST (tackon #cel "FONTS")) (ALL) (NOGAUGE) )

; ------------- proôba o drugi dysk

;  (askdisk
;    (dest "AntyDresiarz1-2")
;    (prompt "\n\nProszë wîoûyê dysk\n\n\"AntyDresiarz1-2:\"\n\ndo napëdu")
;    (help @askdisk-help)
;  )

; ------------- Kopiowanie plików z dysku 2

	(WORKING "Kopiujë rysunki...")
	(COPYFILES (SOURCE "AntyDresiarz1-2:RYSUNKI") (DEST (tackon #cel "RYSUNKI")) (ALL) (NOGAUGE) )
	(WORKING "Kopiujë artykuîy...")
	(COPYFILES (SOURCE "AntyDresiarz1-2:TEKSTY") (DEST (tackon #cel "TEKSTY")) (ALL) (NOGAUGE) )

; ------------- Koniec

(set #end "\nWîaônie skoïczyîeô instalacjë AntyDresiarza.\n\nMagazyn uruchom klikajâc na jego ikonce.\n\nJeûeli wystâpiâ jakieô kîopoty podczas pracy maga, to proszë przeczytaê plik readme, w którym zawarte sâ odpowiedzi na najczëôciej zadawane pytania.\n\nMiîego czytania ûyczy Paplo/Taski.\n\n\nA M I G A    R U L E Z Z Z   ! ! !")

(message #end)

(exit)
