
; zlib.include.bb2 generated by pragma2inc.


DEFTYPE .Library *_zlibBase

Macro zlib_GZ_Open ; {ret,filename,openmode,strategy,level}
   GetReg a0,`2 : GetReg d0,`3 : GetReg d1,`4 : GetReg d2,`5
   GetReg a6,*_zlibBase : JSR -30(a6) : PutReg d0,`1
End Macro

Macro zlib_GZ_OpenFromFH ; {ret,fh,openmode,strategy,level}
   GetReg a0,`2 : GetReg d0,`3 : GetReg d1,`4 : GetReg d2,`5
   GetReg a6,*_zlibBase : JSR -36(a6) : PutReg d0,`1
End Macro

Macro zlib_GZ_Close ; {ret,gzhandle}
   GetReg a0,`2
   GetReg a6,*_zlibBase : JSR -42(a6) : PutReg d0,`1
End Macro

Macro zlib_GZ_Read ; {ret,gzhandle,buf,len}
   GetReg a0,`2 : GetReg a1,`3 : GetReg d0,`4
   GetReg a6,*_zlibBase : JSR -48(a6) : PutReg d0,`1
End Macro

Macro zlib_GZ_FGetS ; {ret,gzhandle,buf,len}
   GetReg a0,`2 : GetReg a1,`3 : GetReg d0,`4
   GetReg a6,*_zlibBase : JSR -54(a6) : PutReg d0,`1
End Macro

Macro zlib_GZ_FGetC ; {ret,gzhandle}
   GetReg a0,`2
   GetReg a6,*_zlibBase : JSR -60(a6) : PutReg d0,`1
End Macro

Macro zlib_GZ_Write ; {ret,gzhandle,buf,len}
   GetReg a0,`2 : GetReg a1,`3 : GetReg d0,`4
   GetReg a6,*_zlibBase : JSR -66(a6) : PutReg d0,`1
End Macro

Macro zlib_GZ_CompressMem ; {ret,srcbuf,srclen,destbuf,destlen,strategy,level,poutlen}
   GetReg a0,`2 : GetReg d0,`3 : GetReg a1,`4 : GetReg d1,`5 : GetReg d2,`6
   GetReg d3,`7 : GetReg a2,`8
   GetReg a6,*_zlibBase : JSR -114(a6) : PutReg d0,`1
End Macro

Macro zlib_GZ_DecompressMem ; {ret,srcbuf,srclen,destbuf,destlen}
   GetReg a0,`2 : GetReg d0,`3 : GetReg a1,`4 : GetReg d1,`5
   GetReg a6,*_zlibBase : JSR -120(a6) : PutReg d0,`1
End Macro

Macro zlib_GZ_FileLength ; {ret,gzhandle}
   GetReg a0,`2
   GetReg a6,*_zlibBase : JSR -138(a6) : PutReg d0,`1
End Macro


Function.l zlib_InitLib {minVersion.l}
   SHARED *_zlibBase
   If *_zlibBase Then Function Return *_zlibBase
   If minVersion<0 Then minVersion = 0
   *_zlibBase = OpenLibrary_ ("zlib.library",minVersion)
   Function Return *_zlibBase
End Function


Statement zlib_FreeLib {}
   SHARED *_zlibBase
   If *_zlibBase Then CloseLibrary_ *_zlibBase : *_zlibBase = 0
End Statement


;--------------------------------------------------------------------------------------


; C to Blitz conversion done by c2b.

ZLIBNAME$                      = "zlib.library"

; Version 1.0

; Compression strategy
#GZ_STRATEGY_DEFAULT           = 0
#GZ_STRATEGY_FILTERED          = 1
#GZ_STRATEGY_HUFFMAN           = 2

; some often used compression levels

#GZ_COMPRESS_NO                = 0
#GZ_COMPRESS_FASTEST           = 1
#GZ_COMPRESS_DEFAULT           = 6
#GZ_COMPRESS_BEST              = 9



