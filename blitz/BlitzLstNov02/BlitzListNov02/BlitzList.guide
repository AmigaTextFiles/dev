@database BlitzList.guide
@width 70

@node "Introduction" "Introduction"
@wordwrap

						  Blitz Mailing List Guide
						  ========================

This guide is intended as an easy reference to the Blitz mailing list.

It contains messages posted to the Blitz mailing list during the month shown on the main page.

--- Administrative commands for the blitz-list list ---

I can handle administrative requests automatically. Please
do not send them to the list address! Instead, send
your message to the correct command address:

To subscribe to the list, send a message to:
   <blitz-list-subscribe@netsoc.ucd.ie>

To remove your address from the list, send a message to:
   <blitz-list-unsubscribe@netsoc.ucd.ie>

Send mail to the following for info and FAQ for this list:
   <blitz-list-info@netsoc.ucd.ie>
   <blitz-list-faq@netsoc.ucd.ie>

To get messages 123 through 145 (a maximum of 100 per request), mail:
   <blitz-list-get.123_145@...>

To get an index with subject and author for messages 123-456 , mail:
   <blitz-list-index.123_456@...>

They are always returned as sets of 100, max 2000 per request,
so you'll actually get 100-499.

To receive all messages with the same subject as message 12345,
send an empty message to:
   <blitz-list-thread.12345@...>

The messages do not really need to be empty, but I will ignore
their content. Only the ADDRESS you send to is important.

You can start a subscription for an alternate address,
for example "john@...", just add a hyphen and your
address (with '=' instead of '@') after the command word:
<blitz-list-subscribe-john=host.domain@...>

To stop subscription for this address, mail:
<blitz-list-unsubscribe-john=host.domain@...>

In both cases, I'll send a confirmation message to that address. When
you receive it, simply reply to it to complete your subscription.

If despite following these instructions, you do not get the
desired results, please contact my administrator at
hassel@... or my owner at blitz-list-owner@netsoc.ucd.ie.
Please be patient, they are a lot slower than I am ;-)


This AmigaGuide was created using GuideMaker.rexx © Roger Light 1999
@endnode

@node "Main" "Blitz Mailing List Guide"
					 @{b}Blitz Mailing List Guide
					 ========================@{ub}


                          November 2002

@{" Introduction " link Introduction } Introduction to the guide.

@{" Search " SYSTEM "RUN <>NIL: Searchguide FINAME"} Search this file (requires SearchGuide)

 ------------------------------------------------------------------- 

@{" Colorcycling on CGX " Link "mail_0"}      Bernd Roesch
@{" Re: Colorcycling on CGX " Link "mail_1"}      Stig Jan-Erik Karlsson
@{" Re: Colorcycling on CGX " Link "mail_2"}      Bernd Roesch
@{" Doublebuffering " Link "mail_3"}      Thilo Köhler
@{" Re: Doublebuffering " Link "mail_4"}      Bernd Roesch
@{" Re: Doublebuffering " Link "mail_5"}      David McMinn
@{" Re: Doublebuffering " Link "mail_6"}      Bernd Roesch
@{" Re: Doublebuffering " Link "mail_7"}      Thilo Köhler
@{" Re: Doublebuffering " Link "mail_8"}      Bernd Roesch
@{" Re: Doublebuffering " Link "mail_9"}      Thilo Köhler
@{" Re: Doublebuffering " Link "mail_10"}      Bernd Roesch
@{" File size " Link "mail_11"}      Thilo Köhler
@{" Re: File size " Link "mail_12"}      amorel
@{" Re: File size " Link "mail_13"}      Lorence Lombardo
@{" Re: File size " Link "mail_14"}      Thilo Köhler
@{" Re: File size " Link "mail_15"}      Thilo Köhler
@{" Re: File size " Link "mail_16"}      Nick Clover
@{" Re: File size " Link "mail_17"}      Thilo Köhler
@{" Re: File size " Link "mail_18"}      Sami Näätänen
@{" Re: File size " Link "mail_19"}      David McMinn
@{" Re: File size " Link "mail_20"}      Brad Rogers
@{" Re: File size " Link "mail_21"}      Sami Näätänen
@{" Re: File size " Link "mail_22"}      Nick Clover
@{" Re: File size " Link "mail_23"}      David McMinn
@{" Re: File size " Link "mail_24"}      Thilo Köhler
@{" Re: File size " Link "mail_25"}      Thilo Köhler
@{" hidng modes in screenmode prefs " Link "mail_26"}      Bernd Roesch
@{" Re: hidng modes in screenmode prefs " Link "mail_27"}      David McMinn
@{" Re: hidng modes in screenmode prefs " Link "mail_28"}      Bernd Roesch
@{" Re: hidng modes in screenmode prefs " Link "mail_29"}      David McMinn
@{" How to set the version for a Blitz exe " Link "mail_30"}      Stefano Maria Regattin
@{" Re: How to set the version for a Blitz exe " Link "mail_31"}      Nick Clover
@{" Re: How to set the version for a Blitz exe " Link "mail_32"}      Bernd Roesch
@{" Rastport dimensions " Link "mail_33"}      Thilo Köhler
@{" Re: Rastport dimensions " Link "mail_34"}      amorel
@{" Re: Rastport dimensions " Link "mail_35"}      Bernd Roesch
@{" Re: Rastport dimensions " Link "mail_36"}      Thilo Köhler
@{" Re: Rastport dimensions " Link "mail_37"}      Thilo Köhler
@{" Re: Rastport dimensions " Link "mail_38"}      David McMinn
@{" Re: Rastport dimensions " Link "mail_39"}      Thilo Köhler
@{" Re: Rastport dimensions " Link "mail_40"}      amorel
@{" Re: Rastport dimensions " Link "mail_41"}      amorel
@{" Re: Rastport dimensions " Link "mail_42"}      David McMinn
@{" Re: Rastport dimensions " Link "mail_43"}      amorel
@{" Re: Rastport dimensions " Link "mail_44"}      David McMinn
@{" Some updatet AB2 docu " Link "mail_45"}      Bernd Roesch
@{" Source from myasllib from AB2.26 distri ? " Link "mail_46"}      Bernd Roesch
@{" Starting from CLI " Link "mail_47"}      Thilo Köhler
@{" Re: Starting from CLI " Link "mail_48"}      Steve Hargreaves
@{" Re: Starting from CLI " Link "mail_49"}      Lorence Lombardo
@{" Re: Starting from CLI " Link "mail_50"}      David McMinn
@{" Re: Starting from CLI " Link "mail_51"}      Thilo Köhler
@{" Re: Starting from CLI " Link "mail_52"}      amorel
@{" Stepping through Assembler code with REDDebugger " Link "mail_53"}      Paul Richer
@{" Re: Stepping through Assembler code with REDDebugger " Link "mail_54"}      Bernd Roesch
@{" Re: Stepping through Assembler code with REDDebugger " Link "mail_55"}      Paul Richer
@{" Re: Stepping through Assembler code with REDDebugger " Link "mail_56"}      Bernd Roesch
@{" Re: Stepping through Assembler code with REDDebugger " Link "mail_57"}      David McMinn
@{" winuae work with tcp device " Link "mail_58"}      Bernd Roesch
@{" Re: winuae work with tcp device " Link "mail_59"}      Lorence Lombardo
@ENDNODE
@NODE "mail_0" " Colorcycling on CGX "
From: Bernd Roesch <berndroesch1@...>
Date: 11-20-02 14:26:09
Subject: @{b}Colorcycling on CGX@{ub}

Hello All

Is there a source out that do colorcycling on 8bit Screen in CGX ?

Regards



---------------------------------------------------------------------
@ENDNODE

@NODE "mail_1" " Re: Colorcycling on CGX "
From: Stig Jan-Erik Karlsson <trg@...>
Date: 11-20-02 11:50:55
Subject: @{b}Re: Colorcycling on CGX@{ub}

-------------------
> Hello All
> 
> Is there a source out that do colorcycling on 8bit Screen in CGX ?
> 
> Regards

the only way is to change the color in the palette directly, it is
another thing graphic cards don't do well.

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_2" " Re: Colorcycling on CGX "
From: Bernd Roesch <berndroesch1@...>
Date: 11-20-02 19:48:12
Subject: @{b}Re: Colorcycling on CGX@{ub}

Hello Stig

On 20.11.02, you wrote:

> -------------------
>> Hello All
>> 
>> Is there a source out that do colorcycling on 8bit Screen in CGX ?
>> 
>> Regards
> 
> the only way is to change the color in the palette directly, it is
> another thing graphic cards don't do well.

Soft like tales of tamar do this for fading also adoom do this but i dont
know how they do this.
I get reports of some users of winuae that have huge slowdown most on
notebook and onboard GFX 

So i can write a testprog to see which gfx Cards are effectet nvidia seem
work 
Matrox not 
ATI ?  


> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: blitz-list-unsubscribe@netsoc.ucd.ie
> For additional commands, e-mail: blitz-list-help@netsoc.ucd.ie
> 
Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_3" " Doublebuffering "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-17-02 13:38:05
Subject: @{b}Doublebuffering@{ub}

Hi All!

Question: How do I double buffering system friendly ?

My solution so far:
I open 2 screens of the same size and depth.
I render my output into the HIDDEN screen and
after this I do BltBitmapRastport_ ... to copy the
hidden screen to the visible screen.
(Bernd was doing it this way I guess).
Problem was how to remove the hidden screen
from the system list that you can not make it visible
using screen cycling. I dont know if this was
successfuly achieved.

Disadvantage: Overhead of moving huge amount
of data - the whole screen - for every frame. Amithlon
and WinUAE can do that, but on Classic Amiga ...

Other solutions:
Swapping 2 SmartRefresh Windows: too slow and ugly.
Swapping 2 Screens: Should be ok but was reported as too slow.
Moving the offset of a Screen with double width: slow !

Any other ideas ? Are there functions in the OS or CGX for
this ?

Thanks for any suggestions.

Ciao,

Thilo


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_4" " Re: Doublebuffering "
From: Bernd Roesch <berndroesch1@...>
Date: 11-17-02 19:30:50
Subject: @{b}Re: Doublebuffering@{ub}

Hello Thilo

On 17.11.02, you wrote:

> Hi All!
> 
> Question: How do I double buffering system friendly ?
> 
> My solution so far:
> I open 2 screens of the same size and depth.
> I render my output into the HIDDEN screen and
> after this I do BltBitmapRastport_ ... to copy the
> hidden screen to the visible screen.
> (Bernd was doing it this way I guess).
> Problem was how to remove the hidden screen
> from the system list that you can not make it visible
> using screen cycling. I dont know if this was
> successfuly achieved.
> 
> Disadvantage: Overhead of moving huge amount
> of data - the whole screen - for every frame. Amithlon
> and WinUAE can do that, but on Classic Amiga ...
> 
> Other solutions:
> Swapping 2 SmartRefresh Windows: too slow and ugly.
> Swapping 2 Screens: Should be ok but was reported as too slow.
> Moving the offset of a Screen with double width: slow !
> 
> Any other ideas ? Are there functions in the OS or CGX for
> this ?

I have a hack idea open a screen in backdrop Mode.do a lockibase call and
remove the screen out of list do a unlockibase

> 
> Thanks for any suggestions.
> 
> Ciao,
> 
> Thilo
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: blitz-list-unsubscribe@netsoc.ucd.ie
> For additional commands, e-mail: blitz-list-help@netsoc.ucd.ie
> 
Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_5" " Re: Doublebuffering "
From: David McMinn <dave@...>
Date: 11-17-02 17:23:36
Subject: @{b}Re: Doublebuffering@{ub}

On 17 Nov 2002 at 13:38, Thilo Köhler wrote:

> Moving the offset of a Screen with double width: slow !

Slow? IIRC that's how most games used to be done (usually double height though) and if 
the hardware can support it, all it needs is to change a pointer to graphics card 
memory and the hardware takes care of the rest.(ScrollVPort_ is the command you need I 
think.)

There is also some OS support for double buffering in graphics.library but I cannot 
remember if this helps you in swapping the screens or just doing the timing. But it 
might give some clues.

Another possibility is to open a screen, create a bitmap with exactly the same 
dimensions, pixel format, depth, etc, and then you might be able to switch between the 
bitmaps by changing the bitmap pointers (or maybe it was this method that ScrollVPort_ 
was used for?).

-- 
[) /\ \/ ][ [)   |\/| c |\/| ][ |\| |\|   |        ICQ=16827694
     http://www.david-mcminn.co.uk        |   dave@...
It may be that your sole purpose in life is simply to serve as a warning
to others.

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_6" " Re: Doublebuffering "
From: Bernd Roesch <berndroesch1@...>
Date: 11-18-02 17:00:00
Subject: @{b}Re: Doublebuffering@{ub}

Hello David

On 17.11.02, you wrote:

> On 17 Nov 2002 at 13:38, Thilo Köhler wrote:
> 
>> Moving the offset of a Screen with double width: slow !
> 

If this work fast it seem best solution.On winuae is enough speed real amiga
i think do it also well but how on AMithlon.

The 3 screen i use in the past have one disadvantages i found out now

If i reduce my P96 mem to 2MB normaly it should run fast upto 640*480*16

This work only if i have a AGA Workbench or no other P96 screens open.If a
screen is open then it seem that P96 not free a unused screen out of mem to
make room for the new opened screen

So using 1 screen that is 3* larger is good.Also it is good for
screenhiding.
But if you make a wb game you still need another screen when you use much
movable objects because CGX (P96 work)
does not blit from a bitmap to a screen with gfx Card Blitter.Only possible
is when the bitmap is attached to a screen

For screenhiding i have the idea to use in the screenmacro the mode paramter

mode=0 open screenmoderequester if no prefsfile found
mode=1 always open screenmoderequester
mode=2 should then open hidden screen of course without requester

The next can do when moving screenoffsets work in praxis

mode=4 should then open a screen 2*more height then requestet
mode=8 3*more then screen requestet
> Slow? IIRC that's how most games used to be done (usually double height
> though) and if the hardware can support it, all it needs is to change a
> pointer to graphics card memory and the hardware takes care of the
> rest.(ScrollVPort_ is the command you need I think.)



> 
> There is also some OS support for double buffering in graphics.library but
> I cannot remember if this helps you in swapping the screens or just doing
> the timing. But it might give some clues.
> 
> Another possibility is to open a screen, create a bitmap with exactly the
> same dimensions, pixel format, depth, etc, and then you might be able to
> switch between the bitmaps by changing the bitmap pointers (or maybe it
> was this method that ScrollVPort_ was used for?).
> 
Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_7" " Re: Doublebuffering "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-18-02 12:13:36
Subject: @{b}Re: Doublebuffering@{ub}

Hello Bernd

Ok, things are solved.
ScrollVPort_() does the trick.
I use just two bitmaps and change them with ScrollVPort_.
This works exactly like the "Show" command for
OCS games, without any overhead of moving data 
I did not know that it is so easy.
No more need for hidden screens etc.

I wrote the dbl_display.include wich deals with all this stuff.
I will write a demo game and release all this as soon as possible.

Ciao,

Thilo


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_8" " Re: Doublebuffering "
From: Bernd Roesch <berndroesch1@...>
Date: 11-18-02 19:55:04
Subject: @{b}Re: Doublebuffering@{ub}

Hello Thilo

On 18.11.02, you wrote:

> Hello Bernd
> 
> Ok, things are solved.
> ScrollVPort_() does the trick.

Keep in mind that normal AMigas (and maybe winuae) synchronise to VBL with
this command (winuae with AGA call the waittof function here ) so a
additional vwait slowdown things on machines that support waittof

> I use just two bitmaps and change them with ScrollVPort_.

Try this on your real CGX Amiga.CGX does not use the blitter when copy data 
to a simple bitmap
 


> This works exactly like the "Show" command for
> OCS games, without any overhead of moving data 
> I did not know that it is so easy.
> No more need for hidden screens etc.
> 
> I wrote the dbl_display.include wich deals with all this stuff.
> I will write a demo game and release all this as soon as possible.
> 

Maybe in the imageinclude lib can add a command image_usetile or so

Thats simular to the use window and all following commands add then height*1
*2 *3
to the vertical blitoffset 

What do you think about that ?

example if image_usetile{2} is called then

a image_blit 10,80 go to 10,680 if your screen is a 800*600 screen  


> Ciao,
> 
> Thilo
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: blitz-list-unsubscribe@netsoc.ucd.ie
> For additional commands, e-mail: blitz-list-help@netsoc.ucd.ie
> 
Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_9" " Re: Doublebuffering "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-18-02 15:00:12
Subject: @{b}Re: Doublebuffering@{ub}

Hello Bernd

>> Ok, things are solved.
>> ScrollVPort_() does the trick.
> 
> Keep in mind that normal AMigas (and maybe winuae) synchronise to VBL with
> this command (winuae with AGA call the waittof function here ) so a
> additional vwait slowdown things on machines that support waittof
I will check this.

>> I use just two bitmaps and change them with ScrollVPort_.
> Try this on your real CGX Amiga.CGX does not use the blitter when copy
> data to a simple bitmap
But no data is copied. ScrollVPort_ changes the bitmapaddr of the
viewport, like "Show" command for OCS Slices. Or is there
something happening behind the scenes I dont know ?
Under Amithlon is no noticable speed loss compared to singlebuffering,
same as under WinUAE.

> Maybe in the imageinclude lib can add a command image_usetile or so
the dbl_display.include does this for you, not on the same screen but
automatically on the right bitmap that will be shown next. I will upload
a demo game to my hp and you can have a look. I let you know
when i do this.

> Thats simular to the use window and all following commands add then
> height*1 *2 *3
> to the vertical blitoffset
> 
> What do you think about that ?
I used different bitmaps. I dont see an disadvanage compared to an
double height screen.

> example if image_usetile{2} is called then
> 
> a image_blit 10,80 go to 10,680 if your screen is a 800*600 screen  
I know what you mean.

BTW. I will not integrate this into image.include since this
include is meant to do the blitting stuff for all purposes.

This is because i created a new include that makes use
of the image.include which creates an doublebuffered
display and provides funktions like dbl_qblit, dbl_unqueue etc.

The functions are encapsuled so high level that is will
be easy to replace it with another doublebuffering method like screen moving
or even copying data without need to change the main programm.

Ciao,

Thilo


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_10" " Re: Doublebuffering "
From: Bernd Roesch <berndroesch1@...>
Date: 11-19-02 00:22:00
Subject: @{b}Re: Doublebuffering@{ub}

Hello Thilo

On 18.11.02, you wrote:


>> 
>> What do you think about that ?
> I used different bitmaps. I dont see an disadvanage compared to an
> double height screen.
> 

Ok but please release a demo as fast you can to not spend time on wrong
technic.
My expierence say only if you copy from a bitmap that is create with the
openscreen command CGX use the blitter to do that.P96 always use blitter

BTW: the bench p96speed use also 2 screens.1 screen hold the testimage
another screen is visible screen 


> ---------------------------------------------------------------------
> To unsubscribe, e-mail: blitz-list-unsubscribe@netsoc.ucd.ie
> For additional commands, e-mail: blitz-list-help@netsoc.ucd.ie
> 
Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_11" " File size "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-25-02 02:33:53
Subject: @{b}File size@{ub}

Hi All!

Question: How can I determine the filesize
of a file that is being written from another program,
e.g. encoded by "Lame" ?
I tried to put a shared lock on the file
and read out the fileInfoBlock with examine_(),
but I can not get the lock because Lame
has an exclusive lock.

I have a file copying program ("Filer" from Aminet CDs) that 
can determine the file size while it is written, and if you click refresh 
in the directory lister again and again you can watch the file growing.

So I guess there must be a way to get the size even if someone holds
an exclusive lock on that file.

Any ideas ?

Ciao,

Thilo

BTW: FSize command freezes the machine!!!


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_12" " Re: File size "
From: amorel <amorel@...>
Date: 11-25-02 04:30:04
Subject: @{b}Re: File size@{ub}

On Mon, Nov 25, 2002 at 02:33:53AM +0100, Thilo Köhler wrote:
> Question: How can I determine the filesize
> of a file that is being written from another program,

Use the list command and read the output, it contains the size.

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_13" " Re: File size "
From: Lorence Lombardo <lombi@...>
Date: 11-25-02 18:03:20
Subject: @{b}Re: File size@{ub}

Hello Thilo

On 25-Nov-02, you wrote:

> Hi All!
> 
> Question: How can I determine the filesize
> of a file that is being written from another program,
> e.g. encoded by "Lame" ?
> I tried to put a shared lock on the file
> and read out the fileInfoBlock with examine_(),
> but I can not get the lock because Lame
> has an exclusive lock.
> 
> I have a file copying program ("Filer" from Aminet CDs) that can
> determine the file size while it is written, and if you click
> refresh in the directory lister again and again you can watch the
> file growing.
> 
> So I guess there must be a way to get the size even if someone holds
> an exclusive lock on that file.
> 
> Any ideas ?
> 
> Ciao,
> 
> Thilo
> 
> BTW: FSize command freezes the machine!!!

You could try "FileSize" instead of "FSize".
Another thing you could is to open the file with the "ReadFile"
command and use the "LOF(0)" command to determine the file size.

Regards
-- 


Why not check out some of my programs...!!!???

http://home.in.tum.de/hodges/cgi-bin/amifind?query=Lorence+Lombardo


Always remember that you are unique.  Just like everyone else.


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_14" " Re: File size "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-25-02 11:42:53
Subject: @{b}Re: File size@{ub}

Hello Lorence

> You could try "FileSize" instead of "FSize".
> Another thing you could is to open the file with the "ReadFile"
> command and use the "LOF(0)" command to determine the file size.
FileSize returns 0 while the file is locked.
ReadFile will not work because I can not get a lock on the file.

Ciao,

Thilo


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_15" " Re: File size "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-25-02 11:47:38
Subject: @{b}Re: File size@{ub}

Hello amorel

>> Question: How can I determine the filesize
>> of a file that is being written from another program,
> 
> Use the list command and read the output, it contains the size.
The list command can determine the size, you are right.
But maybe calling "List" and analyzing the text output
is a bit overhead to get one longword. (especially if
the directory has many entries)
But if nothing else works I will have to do this.
But I think "List"" can not do magic, there must
be a way to get the filesize without a lock.

Ciao,

Thilo


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_16" " Re: File size "
From: Nick Clover <bauk@...>
Date: 11-25-02 13:41:09
Subject: @{b}Re: File size@{ub}

Hello Thilo

On 25-Nov-02, you wrote:

> Hello amorel

>>> Question: How can I determine the filesize
>>> of a file that is being written from another program,
>> 
>> Use the list command and read the output, it contains the size.
> The list command can determine the size, you are right.
> But maybe calling "List" and analyzing the text output
> is a bit overhead to get one longword. (especially if
> the directory has many entries)
> But if nothing else works I will have to do this.
> But I think "List"" can not do magic, there must
> be a way to get the filesize without a lock.

you can use the following list command:

list <filename> lfromat %l >t:list.temp

t:list.temp will only contain the length of the file and nothing else...

eg.

function.l filelen {filename.s}
    cmd.s="c:list "+filename+" lformat %l >t:list.temp"
    execute_ &cmd,0,0 
    bytes.l=-1
    if readfile (0,"t:list.temp")
        fileinput 0
        bytes=val(edit$(16))
        popinput
        closefile 0
        kill "t:list.temp"
    endif
    function return bytes
end function

Regards
-- 
<sb>
<sb>Nick Clover
<sb>
<sb>A4000/060/50, 128Mb, PicassoIV, Paloma, CTX 15" LCD Monitor
<sb>IDE: Fujitsu 10.1 & Seagate 13.8 Gb HD's, Ricoh 8x8x32 CDrw, 52xCDRom, LS120
<sb>SCSI: Fujitsu 18Gb HD, 2x Baracuda 4Gb, Sony CDU625-S CD. 
<sb>Zorro: MultiFace III, X-Surf & Silver Surfer
<sb>Brother HL1250 Laser, HP890c Inkjet, Generic V90 Modem, Epson GT-5000
<sb>USB Mouse & Keyboard :)
<sb>


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_17" " Re: File size "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-25-02 16:06:58
Subject: @{b}Re: File size@{ub}

Hello Nick

> you can use the following list command:
> 
> list <filename> lfromat %l >t:list.temp
> 
> t:list.temp will only contain the length of the file and nothing else...
OK, thanks, I got this working.
BTW: if you list a file directly the list command
tries to do a lock on the file and fails as well
and returns ":Object in use"

I cheated and did

List "myfilename.ext#?" lformat %l >RAM:cheatfile.tmp

This works but it is still not really elegant way.
The ASL requester e.g. can determine the size as well,
so I still wonder how this is done.

Ciao,

Thilo


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_18" " Re: File size "
From: Sami Näätänen <sami.naatanen@...>
Date: 11-25-02 17:25:17
Subject: @{b}Re: File size@{ub}

On Monday 25 November 2002 12:47, you wrote:
> Hello amorel
>
> >> Question: How can I determine the filesize
> >> of a file that is being written from another program,
> >
> > Use the list command and read the output, it contains the size.
>
> The list command can determine the size, you are right.
> But maybe calling "List" and analyzing the text output
> is a bit overhead to get one longword. (especially if
> the directory has many entries)
> But if nothing else works I will have to do this.
> But I think "List"" can not do magic, there must
> be a way to get the filesize without a lock.

Use SnoopDos to determine what list uses to achieve it. Will take some 
time, but it is possible. So put SD to list all the OS calls and go 
through the log.


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_19" " Re: File size "
From: David McMinn <dave@...>
Date: 11-25-02 21:20:10
Subject: @{b}Re: File size@{ub}

> Use SnoopDos to determine what list uses to achieve it. Will take some 
> time, but it is possible. So put SD to list all the OS calls and go 
> through the log.

I'd guess that list locks the directory and uses ExNext_ to step through it (since it has 
to do pattern matching on the names). Or it might use ExAll_.

-- 
[) /\ \/ ][ [)   |\/| c |\/| ][ |\| |\|   |        ICQ=16827694
     http://www.david-mcminn.co.uk        |   dave@...
How much wood could a woodchuck chuck if a woodchuck would chuck?

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_20" " Re: File size "
From: Brad Rogers <brad@...>
Date: 11-25-02 22:47:22
Subject: @{b}Re: File size@{ub}

Hello Thilo,

On 25/11/02, you wrote:

TK> But maybe calling "List" and analyzing the text output
TK> is a bit overhead to get one longword. (especially if
TK> the directory has many entries)

Surely LIST "Path:to/filename" would alleviate that?  You don't /have/ to
list the whole directory.

-- 
            _
 Regards,  /_)     "The blindingly obvious is
          / _)rad   never immediately apparent"

Something on my mind, I wanna beat people up instead of treating them
kind.  -  Automatic Lover;  The Vibrators


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_21" " Re: File size "
From: Sami Näätänen <sami.naatanen@...>
Date: 11-25-02 22:22:17
Subject: @{b}Re: File size@{ub}

On Monday 25 November 2002 22:20, you wrote:
> > Use SnoopDos to determine what list uses to achieve it. Will take
> > some time, but it is possible. So put SD to list all the OS calls
> > and go through the log.
>
> I'd guess that list locks the directory and uses ExNext_ to step
> through it (since it has to do pattern matching on the names). Or it
> might use ExAll_.

Something similar I thought it would be, but haven't had my Amy up for a 
long time now.

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_22" " Re: File size "
From: Nick Clover <bauk@...>
Date: 11-25-02 22:53:23
Subject: @{b}Re: File size@{ub}

Hello Thilo

On 25-Nov-02, you wrote:

> Hello Nick

> This works but it is still not really elegant way.
> The ASL requester e.g. can determine the size as well,
> so I still wonder how this is done.

Just a thought, but you could try ExAll_ as that locks the directory not the file...
Don't forget ExAllEnd_ for when you have found your file...

Regards
-- 
<sb>
<sb>Nick Clover
<sb>
<sb>A4000/060/50, 128Mb, PicassoIV, Paloma, CTX 15" LCD Monitor
<sb>IDE: Fujitsu 10.1 & Seagate 13.8 Gb HD's, Ricoh 8x8x32 CDrw, 52xCDRom, LS120
<sb>SCSI: Fujitsu 18Gb HD, 2x Baracuda 4Gb, Sony CDU625-S CD. 
<sb>Zorro: MultiFace III, X-Surf & Silver Surfer
<sb>Brother HL1250 Laser, HP890c Inkjet, Generic V90 Modem, Epson GT-5000
<sb>USB Mouse & Keyboard :)
<sb>


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_23" " Re: File size "
From: David McMinn <dave@...>
Date: 11-28-02 23:33:58
Subject: @{b}Re: File size@{ub}

Hi Brad,

> TK> But maybe calling "List" and analyzing the text output
> TK> is a bit overhead to get one longword. (especially if
> TK> the directory has many entries)
> 
> Surely LIST "Path:to/filename" would alleviate that?  You don't /have/ to
> list the whole directory.

No, because Thilo tried that and said that list fails to lock the file ;p

-- 
[) /\ \/ ][ [)   |\/| c |\/| ][ |\| |\|   |        ICQ=16827694
     http://www.david-mcminn.co.uk        |   dave@...
Ignore this email and I'll summon Satan all over your hard drive!

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_24" " Re: File size "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-29-02 00:54:47
Subject: @{b}Re: File size@{ub}

Hi all!

I managed to do it.
I make a lock on the parent directory and
then use ExNext_ to step trough until
I get my entry. This is the fastest way.

I found out that the list command uses
ExNext_ too if there are several files to examine,
but it make a direct lock if you do list <filename>.
(that fails on a ACCESS_WRITE opened file)

But ExNext_ has far less overhead than using "list"
and write it in a file and read it out.

Thanks to all for your help,

Thilo

-- 
+++ GMX - Mail, Messaging & more  http://www.gmx.net +++
NEU: Mit GMX ins Internet. Rund um die Uhr für 1 ct/ Min. surfen!


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_25" " Re: File size "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-29-02 12:46:02
Subject: @{b}Re: File size@{ub}

Hallo Bernd,

Am 29-Nov-02 schriebst Du:
> Hello Thilo
> 
> On 28.11.02, you wrote:
> 
>> Hi all!
>> 
>> I managed to do it.
>> I make a lock on the parent directory and
>> then use ExNext_ to step trough until
>> I get my entry. This is the fastest way.
>> 
>> I found out that the list command uses
>> ExNext_ too if there are several files to examine,
>> but it make a direct lock if you do list <filename>.
>> (that fails on a ACCESS_WRITE opened file)
> 
> The riamosfunclib contain this code in filesize.found when type in
> instructionhelper word size in.There are also other file length commands
> found but only for this is source here 
> 
> .Have you any idea now wy this fail ? 
> 
> ._filesize:
>  MOVE.l d0,d6
>  MOVEQ #2,d1
>  MOVE.l #$80000000+2000,d2
>  JSR -228(a6)
>  MOVE.l  d0,fileinfoblock
>  BEQ   oops
>  MOVE.l d6,d1
>  MOVEQ #-2,d2
>  MOVEQ.l #0,d0
>  JSR -84(a6)               ;lock
>  MOVE.l  d0,lock
>  BEQ   freedosobject
>  MOVE.l d0,lock
>  MOVE.l lock,d1
>  MOVEQ.l #0,d0
>  MOVE.l fileinfoblock,d2
>  JSR -102(a6)               ;examine
>  MOVEQ.l #0,d0
>  MOVE.l lock,d1
>  JSR -90(a6)                ;unlock
>  MOVE.l fileinfoblock,a0
>  MOVE.l 124(a0),d7
>  BSR   freedosobject
>  MOVE.l  d7,d0
>  RTS

I dont know what is wrong about the source above.
Does is not work at all ?

OK, summary:

You can only make a lock on a file if it is not
accessed exclusiv via #ACCESS_WRITE.
If you can make a lock, it is easy to read out the file size.

But if you want to determine the size of a file that
is being written from another programm you HAVE TO
make a lock on the parent directory and use ExNext_()
to step through the dir entries to find the file and then its size.
This is a bit overhead but it seems the only way to get the file size
from a file that is currently being written from another programm.

The source above tries to make a lock on the file, so it will
fail if the file if open with #ACCESS_WRITE. Otherwise it should work.
Maybe it is not neccessary to alloc a dos object. My blitz code for this is:

Function.l dos_fsize {filename.s}
size.l = -1
lock.l=Lock_(&filename.s,#ACCESS_READ)
If lock
  DEFTYPE .FileInfoBlock fib
  If Examine_(lock, fib) <> 0
    If fib\fib_DirEntryType < 0 Then size=Peek.l(&fib\fib_Size)  ; filesize
  End If
  UnLock_ lock
EndIf
Function Return size
End Function

And the "save" version is:

Function.l dos_fsize {filename.s}
size.l = -1
path.s = dos_pathpart {filename.s}
fil.s = dos_filepart {filename.s}
lock.l = Lock_ (&path.s,#ACCESS_READ)
If lock
  DEFTYPE .FileInfoBlock fib
  If Examine_(lock, fib) <> 0
    If fib\fib_DirEntryType >=0
      breakme.l=False
      While ExNext_ (lock,fib)><0 AND breakme=False
        If Peek.s(&fib\fib_FileName[0])=fil.s Then
size=fib\fib_Size:breakme=True
      Wend
    End If
  End If
  UnLock_ lock
End If
Function Return size
End Function



Ciao,

Thilo


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_26" " hidng modes in screenmode prefs "
From: Bernd Roesch <berndroesch1@...>
Date: 11-06-02 23:05:38
Subject: @{b}hidng modes in screenmode prefs@{ub}

Hello All

I have enhance the screen macro and use now naslscreenreqesut which support
all AMigaOS Tags.

To hide modes there is a tag to set a hook.Every mode return the modeid and
the hook must return 0 or 1.But i need to get the resolution for the
modeid.

Have someone done this and can tell ho wthis work ?


Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_27" " Re: hidng modes in screenmode prefs "
From: David McMinn <dave@...>
Date: 11-06-02 23:40:21
Subject: @{b}Re: hidng modes in screenmode prefs@{ub}

> To hide modes there is a tag to set a hook.Every mode return the modeid and
> the hook must return 0 or 1.But i need to get the resolution for the
> modeid.
> 
> Have someone done this and can tell ho wthis work ?

I think the hook example on Aminet shows how to do this.

-- 
[) /\ \/ ][ [)   |\/| c |\/| ][ |\| |\|   |        ICQ=16827694
     http://www.david-mcminn.co.uk        |   dave@...
DON'T PISS ME OFF! I'M RUNNING OUT OF PLACES TO HIDE THE BODIES.

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_28" " Re: hidng modes in screenmode prefs "
From: Bernd Roesch <berndroesch1@...>
Date: 11-08-02 01:50:40
Subject: @{b}Re: hidng modes in screenmode prefs@{ub}

Hello David

On 06.11.02, you wrote:

>> To hide modes there is a tag to set a hook.Every mode return the modeid
>> and the hook must return 0 or 1.But i need to get the resolution for the
>> modeid.
>> 
>> Have someone done this and can tell ho wthis work ?
> 
> I think the hook example on Aminet shows how to do this.

Ah thanks exact what i want

Only Problem is it seem some commands are wrong due to tokenize

  IDhandle.l=GetDisplayInfoData_(modeID)
    ; Fill in the various buffers about this screenmode, using the newly
    ; gotten handle
    ReadPixelLine8_ IDhandle,&DisInfoBuf,SizeOf.DisplayInfo,#DTAG_DISP,0
    ReadPixelLine8_ IDhandle,&DimInfoBuf,SizeOf.DimensionInfo,#DTAG_DIMS,0
    ReadPixelLine8_ IDhandle,&MonInfoBuf,SizeOf.MonitorInfo,#DTAG_MNTR,0
    ReadPixelLine8_ IDhandle,&NamInfoBuf,SizeOf.NameInfo,#DTAG_NAME,0

What should the command Readpixelline8 be ?


> 
Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_29" " Re: hidng modes in screenmode prefs "
From: David McMinn <dave@...>
Date: 11-07-02 21:01:52
Subject: @{b}Re: hidng modes in screenmode prefs@{ub}

>   IDhandle.l=GetDisplayInfoData_(modeID)

This line is also wrong. It should be FindDisplayInfo_

> What should the command Readpixelline8 be ?

They should be GetDisplayInfoData_ :)

-- 
[) /\ \/ ][ [)   |\/| c |\/| ][ |\| |\|   |        ICQ=16827694
     http://www.david-mcminn.co.uk        |   dave@...
I used to have a handle on life, but it broke.

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_30" " How to set the version for a Blitz exe "
From: Stefano Maria Regattin <stefano.regattin@...>
Date: 11-24-02 22:22:12
Subject: @{b}How to set the version for a Blitz exe@{ub}

Date: Sunday, 24th November 2002

Hi Blitz Users!
I have recently used one of your solutions regarding the version for an
executable; I have added the following line at the top of my source code:

Versione$="$VER: AmySequencer 0.16 (21.11.2002)"

The version is recognized by both my real and software AMIGA for the source
code and for its text version, but the version of executable is signed as
1.5, compiled with Blitz2; I have not tried yet to compile the source code
by AmiBlitz because I think that the result will be almost the same, that is
wrong.
Thank for the reading of this message and many greetings to all from Milan,
Italy!

Ciao da (Bye from):
Stefano Maria
EsseErre Software Solutions
http://space.tin.it/clubnet/aregat/
e-mail: pearl_harbor@...
ICQ#: 113412377


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_31" " Re: How to set the version for a Blitz exe "
From: Nick Clover <bauk@...>
Date: 11-24-02 22:23:11
Subject: @{b}Re: How to set the version for a Blitz exe@{ub}

Hello Stefano

On 24-Nov-02, you wrote:

> Versione$="$VER: AmySequencer 0.16 (21.11.2002)"

> The version is recognized by both my real and software AMIGA for the source
> code and for its text version, but the version of executable is signed as
> 1.5, compiled with Blitz2; I have not tried yet to compile the source code
> by AmiBlitz because I think that the result will be almost the same, that is
> wrong.

ok here we go again :)

the exe has a version string from a 'module' the compiler has put in...

use this method AT THE START of your code...

JMP thisbit
Dc.b "$VER: AmySequencer 0.16 (21.11.2002)",0
Even
.thisbit


Regards
-- 
<sb>
<sb>Nick Clover
<sb>
<sb>A4000/060/50, 128Mb, PicassoIV, Paloma, CTX 15" LCD Monitor
<sb>IDE: Fujitsu 10.1 & Seagate 13.8 Gb HD's, Ricoh 8x8x32 CDrw, 52xCDRom, LS120
<sb>SCSI: Fujitsu 18Gb HD, 2x Baracuda 4Gb, Sony CDU625-S CD. 
<sb>Zorro: MultiFace III, X-Surf & Silver Surfer
<sb>Brother HL1250 Laser, HP890c Inkjet, Generic V90 Modem, Epson GT-5000
<sb>USB Mouse & Keyboard :)
<sb>


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_32" " Re: How to set the version for a Blitz exe "
From: Bernd Roesch <berndroesch1@...>
Date: 11-25-02 16:11:12
Subject: @{b}Re: How to set the version for a Blitz exe@{ub}

Hello Nick

On 24.11.02, you wrote:

> Hello Stefano
> 
> On 24-Nov-02, you wrote:
> 
>> Versione$="$VER: AmySequencer 0.16 (21.11.2002)"
> 
>> The version is recognized by both my real and software AMIGA for the
>> source code and for its text version, but the version of executable is
>> signed as 1.5, compiled with Blitz2; I have not tried yet to compile the
>> source code by AmiBlitz because I think that the result will be almost
>> the same, that is wrong.
> 
> ok here we go again :)
> 

The newest all.res resident file on davids page have a macro version in.

To see syntax of it you can press also help over it 

Its called like this;

!version{"my program version"} 

Source of all.bb2 attached too
So you see how it work
Regards

@{fg shine}There should be a file mail_32/all.lha included with this guide.@{fg text}
@ENDNODE

@NODE "mail_33" " Rastport dimensions "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-15-02 10:56:28
Subject: @{b}Rastport dimensions@{ub}

Hi All!

Question:

How do I get the actual x and y size of a Rastport when
I only have the pointer to it ?
The RastPort can be from a Screen, Window or just
manually initialisized.

I do

*myrast._RastPort = rp_ptr.l

and then ?

Ciao,

Thilo


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_34" " Re: Rastport dimensions "
From: amorel <amorel@...>
Date: 11-15-02 12:59:21
Subject: @{b}Re: Rastport dimensions@{ub}

On Fri, Nov 15, 2002 at 10:56:28AM +0100, Thilo Köhler wrote:
> How do I get the actual x and y size of a Rastport when
> I only have the pointer to it ?
> 
> *myrast._RastPort = rp_ptr.l

Why not look in the header files which accompany the rkrm and all that :-) Also 
you don`t want to use that .res file which uses the underscores for os 
structures, afaik it`s only up to os3.0 compatible. Besides it is annoying 
to type more.

But about the question:

RastPort has as it`s first item a pointer called *Layer to a Layer structure 
the Layer structure has as it`s 4th item a variable called bounds which has a 
Rectangle structure as it`s type. The Rectangle structure looks like this:

Struct Rectangle
{
	WORD	MinX,MinY
	WORD	MaxX,MaxY
};

Shock horror! This may tell you the dimensions of your rastport, correct me if 
I`m wrong ;-)

I`m sure you can find out the rest.

Regards

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_35" " Re: Rastport dimensions "
From: Bernd Roesch <berndroesch1@...>
Date: 11-15-02 19:59:00
Subject: @{b}Re: Rastport dimensions@{ub}

Hello amorel

On 15.11.02, you wrote:

> On Fri, Nov 15, 2002 at 10:56:28AM +0100, Thilo Köhler wrote:
>> How do I get the actual x and y size of a Rastport when
>> I only have the pointer to it ?
>> 
>> *myrast._RastPort = rp_ptr.l
> 
> Why not look in the header files which accompany the rkrm and all that :-)
> Also you don`t want to use that .res file which uses the underscores for
> os structures, afaik it`s only up to os3.0 compatible. Besides it is
> annoying to type more.

The .res with underscore you dont need anymore.The newest all.res (on Davids
Page)use the newest amigalibs.res from David and the functions with
underscore are in too 

> 
> But about the question:
> 
> RastPort has as it`s first item a pointer called *Layer to a Layer
> structure the Layer structure has as it`s 4th item a variable called
> bounds which has a Rectangle structure as it`s type. The Rectangle
> structure looks like this:
> 
> Struct Rectangle
> {
>     WORD    MinX,MinY
>     WORD    MaxX,MaxY
> };
> 
> Shock horror! This may tell you the dimensions of your rastport, correct
> me if I`m wrong ;-)
> 
> I`m sure you can find out the rest.
> 
> Regards
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: blitz-list-unsubscribe@netsoc.ucd.ie
> For additional commands, e-mail: blitz-list-help@netsoc.ucd.ie
> 
Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_36" " Re: Rastport dimensions "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-15-02 16:28:46
Subject: @{b}Re: Rastport dimensions@{ub}

Hello Amorel!

> Struct Rectangle
> {
>     WORD    MinX,MinY
>     WORD    MaxX,MaxY
> };
> 
> Shock horror! This may tell you the dimensions of your rastport, correct
> me if I`m wrong ;-)
> 
> I`m sure you can find out the rest.
No need to get annoyed. I know the RKM, but
I just found it not a really clean way to detect
the size of the Rastport from reading out the Layer.
Maybe the underlying Bitmap is bigger than the
Layer says. (otherwise there would be no minX/minY)
But if you say so I believe you. Thanks.

Ciao,

Thilo


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_37" " Re: Rastport dimensions "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-15-02 16:33:47
Subject: @{b}Re: Rastport dimensions@{ub}

Hello amorel

> RastPort has as it`s first item a pointer called *Layer to a Layer
> structure the Layer structure has as it`s 4th item a variable called
> bounds which has a Rectangle structure as it`s type. The Rectangle
> structure looks like this:
> 
> Struct Rectangle
> {
>     WORD    MinX,MinY
>     WORD    MaxX,MaxY
> };
> 
> Shock horror! This may tell you the dimensions of your rastport, correct
> me if I`m wrong ;-)
... and what about the width / height varialbes in the Layer structure ?
Maybe they give me the real (unclipped) size ?

Ciao,

Thilo


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_38" " Re: Rastport dimensions "
From: David McMinn <dave@...>
Date: 11-15-02 20:48:27
Subject: @{b}Re: Rastport dimensions@{ub}


> Maybe the underlying Bitmap is bigger than the
> Layer says. (otherwise there would be no minX/minY)
> But if you say so I believe you. Thanks.

Well I would personally use the bitmap. All rastports have to have a bitmap somewhere or they will not be 
able to display anything (remember that a rastport does not actually have a size as such - it is just a 
way to manipulate the drawing onto something else). On the other hand, rastports do not always have to 
have a layer (although a window's rastport will have a layer).

Oh, and make sure you use the GetBitMapAttr function for getting the sizes of the bitmap :)

-- 
[) /\ \/ ][ [)   |\/| c |\/| ][ |\| |\|   |        ICQ=16827694
     http://www.david-mcminn.co.uk        |   dave@...
If you drink, don't park; accidents cause people

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_39" " Re: Rastport dimensions "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-15-02 22:20:14
Subject: @{b}Re: Rastport dimensions@{ub}

Hello David

>> Maybe the underlying Bitmap is bigger than the
>> Layer says. (otherwise there would be no minX/minY)
>> But if you say so I believe you. Thanks.
> 
> Well I would personally use the bitmap. All rastports have to have a
> bitmap somewhere or they will not be able to display anything (remember
> that a rastport does not actually have a size as such - it is just a way
> to manipulate the drawing onto something else). On the other hand,
> rastports do not always have to have a layer (although a window's rastport
> will have a layer).
> 
> Oh, and make sure you use the GetBitMapAttr function for getting the sizes
> of the bitmap :)
This would be the best way but I have to know the Rastport size
because I grab the bitmap through the Rastport.
Actually the minX, minY give wired values, same as
Rastport\Layer\Width and Rastport\Layer\Height,
values like : -16384 / 1038 (should be 640 / 480).
Is there something I should know ?

Ciao,

Thilo


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_40" " Re: Rastport dimensions "
From: amorel <amorel@...>
Date: 11-16-02 07:02:13
Subject: @{b}Re: Rastport dimensions@{ub}

On Fri, Nov 15, 2002 at 04:28:46PM +0100, Thilo Köhler wrote:
> No need to get annoyed. I know the RKM, but
> I just found it not a really clean way to detect

I`m not annoyed, I just like sarcasm :-)

> the size of the Rastport from reading out the Layer.
> Maybe the underlying Bitmap is bigger than the
> Layer says. (otherwise there would be no minX/minY)
> But if you say so I believe you. Thanks.

I`ve used stuff like this in a similar way to find out dimensions etc.

Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_41" " Re: Rastport dimensions "
From: amorel <amorel@...>
Date: 11-16-02 07:08:36
Subject: @{b}Re: Rastport dimensions@{ub}

On Fri, Nov 15, 2002 at 07:48:27PM -0000, David McMinn wrote:
> Well I would personally use the bitmap. All rastports have to have a bitmap somewhere or they will not be 

I remember what I used the bounds item for, to decide the dimensions of the 
rectangle layer clip or whatever it was :-)

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_42" " Re: Rastport dimensions "
From: David McMinn <dave@...>
Date: 11-16-02 13:03:47
Subject: @{b}Re: Rastport dimensions@{ub}


> This would be the best way but I have to know the Rastport size
> because I grab the bitmap through the Rastport.

As I said, RastPort's do not really have sizes - they are only used to store settings for drawing 
onto a bitmap (the bitmap has a size). Optionally there can be a layer installed in the rastport 
for clipping the graphics (the layer will have a size).

> Actually the minX, minY give wired values, same as
> Rastport\Layer\Width and Rastport\Layer\Height,
> values like : -16384 / 1038 (should be 640 / 480).
> Is there something I should know ?

I don't know. Those values look quite strange (especially the -16384). Did you try checking the 
"bounds" field of the Layer structure as amorel suggested?

-- 
[) /\ \/ ][ [)   |\/| c |\/| ][ |\| |\|   |        ICQ=16827694
     http://www.david-mcminn.co.uk        |   dave@...
Accept that some days you're the pigeon, and some days you're the statue.

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_43" " Re: Rastport dimensions "
From: amorel <amorel@...>
Date: 11-17-02 05:44:44
Subject: @{b}Re: Rastport dimensions@{ub}

On Sat, Nov 16, 2002 at 12:03:47PM -0000, David McMinn wrote:
> > Actually the minX, minY give wired values, same as
> > Rastport\Layer\Width and Rastport\Layer\Height,
> > values like : -16384 / 1038 (should be 640 / 480).
> > Is there something I should know ?
> 
> I don't know. Those values look quite strange (especially the -16384). Did you try checking the 
> "bounds" field of the Layer structure as amorel suggested?

Also afaik you cant directly reference deep pointers, so to get *p1\p2\p3\var you 
got to do *pa=*p1\p2 and then you can reach *pa\p3\var. I guess if you did it 
directly you may end up with crap.

Regards

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_44" " Re: Rastport dimensions "
From: David McMinn <dave@...>
Date: 11-17-02 17:23:36
Subject: @{b}Re: Rastport dimensions@{ub}


> Also afaik you cant directly reference deep pointers, so to get
> *p1\p2\p3\var you got to do *pa=*p1\p2 and then you can reach *pa\p3\var. I
> guess if you did it directly you may end up with crap.

You can do that perfectly OK as long as each variable has the correct structure. You cannot do it 
with BCPL pointers though (although that would not be an issue here).

-- 
[) /\ \/ ][ [)   |\/| c |\/| ][ |\| |\|   |        ICQ=16827694
     http://www.david-mcminn.co.uk        |   dave@...
Our father, who art in Springfield, Homer by thy name

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_45" " Some updatet AB2 docu "
From: Bernd Roesch <berndroesch1@...>
Date: 11-17-02 16:46:49
Subject: @{b}Some updatet AB2 docu@{ub}

Hello all

Here is updatet windowslibdocu which show more window flags/IDCMP Flags
also amigaOS label is add
Also a example messageloop can load in from windowslib mainpage that show
messages in realtime  



@{fg shine}There should be a file mail_45/redhelpupd.lha included with this guide.@{fg text}
@ENDNODE

@NODE "mail_46" " Source from myasllib from AB2.26 distri ? "
From: Bernd Roesch <berndroesch1@...>
Date: 11-01-02 15:13:42
Subject: @{b}Source from myasllib from AB2.26 distri ?@{ub}

I want enhance screenmoderequest to support optional parameters 
for this tags  

ASLSM_MaxDepth (UWORD),                  
ASLSM_MinDepth (UWORD)                   
   Maximale und minimale Anzahl der Bitpl
ASLSM_MaxHeight (ULONG),                 
ASLSM_MinHeight (ULONG)                  
   Maximale und minimale Displayhöhe (Def
ASLSM_MaxWidth (ULONG),                  
ASLSM_MinWidth (ULONG)                   

Is there source for myaslllib  ?

Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_47" " Starting from CLI "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-23-02 02:33:44
Subject: @{b}Starting from CLI@{ub}

Hi all!

I want to invoke an external CLI program.
I know that this is done by...

a.s = "dh0:mypath/myproggi.exe"
execute_ &a.s,0,0

...but: my program need more stack than the
standard value.
Question: How can I increate the stack for this
CLI program ?

this ...

a.s = "Stack 200000" : execute_ &a.s,0,0
a.s = "dh0:mypath/myproggi.exe" : execute_ &a.s,0,0 

... does not work as this are two different CLI processes:-(

Thanks for any hints,

Thilo


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_48" " Re: Starting from CLI "
From: Steve Hargreaves <Steve@...>
Date: 11-23-02 02:30:38
Subject: @{b}Re: Starting from CLI@{ub}

Hi there, Thilo

On 23/11/02, you said:

TK> ...but: my program need more stack than the
TK> standard value.
TK> Question: How can I increate the stack for this
TK> CLI program ?

Off the top of my head, use blitz to create a script file in T: and execute it,
then delete the file again. I've used this successfully before.

Regards



Steve
-- 
       // A1200 '060 50Mhz, 2+64Meg, EZ-Tower,  2 x 3 Gig IDE
      //  SCSI 4x Sony CD-ROM, SCSI 24x CDROM, IDE CDRW,
     //HPDJ610C, OS 3.9, SquirrelSCSI,  56K Origo Modem,
    // EZMouse, Micronik Zorro Busboard, CV64/3D, HyperCOM3+     
\\// Proline Wheelmouse, Sega and CD32 Controllers, Samsung
 \/  Multisync, EIDE buffered 4 way interface, and no hair.

Author of:- GHelp, Blitzdock, Blitzpass, Placemouse, WBCycle, Amiga Draughts and
ScalosEject.

PGP Public Key:-

http://www.hargreavess.freeserve.co.uk/SteveHargreavesPGP.asc

You first have to decide whether to use the short or the long form. The short
form is what the Internal Revenue Service calls "simplified", which means it is
designed for people who need the help of a Sears tax-preparation expert to
distinguish between their first and last names. Here's the complete text: (1)
How much did you make? (AMOUNT). (2) How much did we here at the government
take out? (AMOUNT). (3) Hey! Sounds like we took too much! So we're going to
send an official government check for (ONE-FIFT
EENTH OF THE AMOUNT WE TOOK) directly to the (YOUR LAST NAME) household at (YOUR
ADDRESS), for you to spend in any way you please! Which just goes to show you,
(YOUR FIRST NAME), that it pays to file the short form! The IRS wants you to
use this form because it gets to keep most of your money. So unless you have
pond silt for brains, you want the long form.
-- Dave Barry

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_49" " Re: Starting from CLI "
From: Lorence Lombardo <lombi@...>
Date: 11-23-02 13:34:15
Subject: @{b}Re: Starting from CLI@{ub}

Hello Thilo

On 23-Nov-02, you wrote:

> I want to invoke an external CLI program.
> I know that this is done by...
> 
> a.s = "dh0:mypath/myproggi.exe"
> execute_ &a.s,0,0
> 
> ...but: my program need more stack than the
> standard value.
> Question: How can I increate the stack for this
> CLI program ?
> 
> this ...
> 
> a.s = "Stack 200000" : execute_ &a.s,0,0
> a.s = "dh0:mypath/myproggi.exe" : execute_ &a.s,0,0 
> 
> ... does not work as this are two different CLI processes:-(

If you want execute more than one program/command from a single CLI
process you need to use linefeeds.

eg. 

exe$="Stack 200000"+chr$(10)+"sys:mypath/myproggi.exe"
execute_ &exe$,0,0

Regards
-- 


Why not check out some of my programs...!!!???

http://home.in.tum.de/hodges/cgi-bin/amifind?query=Lorence+Lombardo


I like pigs. Dogs look up to us. Cats look down on us. Pigs treat
us as equals.
-- Winston Churchill


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_50" " Re: Starting from CLI "
From: David McMinn <dave@...>
Date: 11-23-02 12:27:34
Subject: @{b}Re: Starting from CLI@{ub}

> ...but: my program need more stack than the
> standard value.
> Question: How can I increate the stack for this
> CLI program ?

Use SystemTagList_ (I think) from dos.library. You can much more control over the programs 
you run.

-- 
[) /\ \/ ][ [)   |\/| c |\/| ][ |\| |\|   |        ICQ=16827694
     http://www.david-mcminn.co.uk        |   dave@...
Don't squat with your spurs on.

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_51" " Re: Starting from CLI "
From: Thilo Köhler <koehlerthilo@...>
Date: 11-23-02 15:30:38
Subject: @{b}Re: Starting from CLI@{ub}

Hello All!

Thanks for you hints. I will write you which method
was successful.

Ciao,

Thilo



---------------------------------------------------------------------
@ENDNODE

@NODE "mail_52" " Re: Starting from CLI "
From: amorel <amorel@...>
Date: 11-24-02 15:29:52
Subject: @{b}Re: Starting from CLI@{ub}

On Sat, Nov 23, 2002 at 11:27:34AM -0000, David McMinn wrote:
> Use SystemTagList_ (I think) from dos.library. You can much more control over the programs 
> you run.

Yes, it`s the best option, short of using CreateNewProc_ which might be overkill for starting a cli type 
thing.

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_53" " Stepping through Assembler code with REDDebugger "
From: Paul Richer <paul@...>
Date: 11-01-02 10:42:25
Subject: @{b}Stepping through Assembler code with REDDebugger@{ub}

Is there a nicer way to step through Assembler code (with RedDebugger) than
adding "Stop" commands between every lines?

When I run step by step with the debugger, after a Stop, the Assembler parts
executes in one step and stops only when it encounters the next Basic
command.

Paul Richer


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_54" " Re: Stepping through Assembler code with REDDebugger "
From: Bernd Roesch <berndroesch1@...>
Date: 11-01-02 18:02:05
Subject: @{b}Re: Stepping through Assembler code with REDDebugger@{ub}

Hello Paul

On 01.11.02, you wrote:

> Is there a nicer way to step through Assembler code (with RedDebugger)
> than adding "Stop" commands between every lines?
> 
> When I run step by step with the debugger, after a Stop, the Assembler
> parts executes in one step and stops only when it encounters the next
> Basic command.

Enable in the menu windows asm step.Now you can step every assembler
instruction and also set breakpoints on every assembler instruction.

On current reddebug dont step too fast only press key 2*/sec or reddebug
hang 
I dont know whats wrong

Key s step into function
Key d step over function.

Note:
Calls like jsr -$4(a6) are always step over thats because on rom asdm step
cant work

> 
> Paul Richer
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: blitz-list-unsubscribe@netsoc.ucd.ie
> For additional commands, e-mail: blitz-list-help@netsoc.ucd.ie
> 
Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_55" " Re: Stepping through Assembler code with REDDebugger "
From: Paul Richer <paul@...>
Date: 11-01-02 22:53:09
Subject: @{b}Re: Stepping through Assembler code with REDDebugger@{ub}

Hi Bernd!

I didn't find "asm step" anywhere, just an "ASM" item in the "Windows" menu
; which does the same has the "ASM" button in the "Program Mode:" window,
open the disassembler window. I just read in the reddebugger.guide it is not
possible to single step through assembly, even in the dissassembly window.

I guess I need a more recent version of REDDebug. I have V2.5 which comes
from the "Ultimate BlitzBasic 2.1" CD.

thanks,

Paul Richer

----- Original Message -----
From: "Bernd Roesch" <berndroesch1@...>
To: <blitz-list@netsoc.ucd.ie>
Sent: Friday, November 01, 2002 12:02 PM
Subject: Re: Stepping through Assembler code with REDDebugger


> Hello Paul
>
> On 01.11.02, you wrote:
>
> > Is there a nicer way to step through Assembler code (with RedDebugger)
> > than adding "Stop" commands between every lines?
> >
> > When I run step by step with the debugger, after a Stop, the Assembler
> > parts executes in one step and stops only when it encounters the next
> > Basic command.
>
> Enable in the menu windows asm step.Now you can step every assembler
> instruction and also set breakpoints on every assembler instruction.
>
> On current reddebug dont step too fast only press key 2*/sec or reddebug
> hang
> I dont know whats wrong
>
> Key s step into function
> Key d step over function.
>
> Note:
> Calls like jsr -$4(a6) are always step over thats because on rom asdm step
> cant work
>
> >
> > Paul Richer
> >
> >

> >
> Regards



---------------------------------------------------------------------
@ENDNODE

@NODE "mail_56" " Re: Stepping through Assembler code with REDDebugger "
From: Bernd Roesch <berndroesch1@...>
Date: 11-02-02 18:41:51
Subject: @{b}Re: Stepping through Assembler code with REDDebugger@{ub}

Hello Paul

On 01.11.02, you wrote:

> Hi Bernd!
> 
> I didn't find "asm step" anywhere, just an "ASM" item in the "Windows"
> menu ; which does the same has the "ASM" button in the "Program Mode:"
> window, open the disassembler window. I just read in the reddebugger.guide
> it is not possible to single step through assembly, even in the
> dissassembly window.
> 
> I guess I need a more recent version of REDDebug. I have V2.5 which comes
> from the "Ultimate BlitzBasic 2.1" CD.

Use the reddebug from 2.26 Amiblitz distribution.

If you maybe like a comfortabler editor and faster better compiler download
the AB2.26 distri from davids page.

If you have own incompatible deflibs dont install it copy only the files
amiblitz2 and ped in blitz2:  

You can use both BB2 and AB2 together at same time but to get full AB2
features optimizer asm 64 FPU you need the new acidlibs too 

> 
> thanks,
> 
> Paul Richer
> 
> ----- Original Message -----
> From: "Bernd Roesch" <berndroesch1@...>
> To: <blitz-list@netsoc.ucd.ie>
> Sent: Friday, November 01, 2002 12:02 PM
> Subject: Re: Stepping through Assembler code with REDDebugger
> 
> 
>> Hello Paul
>> 
>> On 01.11.02, you wrote:
>> 
>>> Is there a nicer way to step through Assembler code (with RedDebugger)
>>> than adding "Stop" commands between every lines?
>>> 
>>> When I run step by step with the debugger, after a Stop, the Assembler
>>> parts executes in one step and stops only when it encounters the next
>>> Basic command.
>> 
>> Enable in the menu windows asm step.Now you can step every assembler
>> instruction and also set breakpoints on every assembler instruction.
>> 
>> On current reddebug dont step too fast only press key 2*/sec or reddebug
>> hang
>> I dont know whats wrong
>> 
>> Key s step into function
>> Key d step over function.
>> 
>> Note:
>> Calls like jsr -$4(a6) are always step over thats because on rom asdm
>> step
>> cant work
>> 
>>> 
>>> Paul Richer
>>> 
>>> 
> 
>>> 
>> Regards
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: blitz-list-unsubscribe@netsoc.ucd.ie
> For additional commands, e-mail: blitz-list-help@netsoc.ucd.ie
> 
Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_57" " Re: Stepping through Assembler code with REDDebugger "
From: David McMinn <dave@...>
Date: 11-06-02 23:40:21
Subject: @{b}Re: Stepping through Assembler code with REDDebugger@{ub}


> When I run step by step with the debugger, after a Stop, the Assembler
> parts executes in one step and stops only when it encounters the next Basic
> command.

You have turned on the "Debug ASM command" option in the Compiler Options window?

-- 
[) /\ \/ ][ [)   |\/| c |\/| ][ |\| |\|   |        ICQ=16827694
     http://www.david-mcminn.co.uk        |   dave@...
True or False: Jim Kerr is really Spanish and his real name is Juan

---------------------------------------------------------------------
@ENDNODE

@NODE "mail_58" " winuae work with tcp device "
From: Bernd Roesch <berndroesch1@...>
Date: 11-05-02 20:55:00
Subject: @{b}winuae work with tcp device@{ub}



Winuae have now a fix so that it work with TCP Device.amidiction work now
If you or others like to test please mail i send this per E-Mail then

Regards


---------------------------------------------------------------------
@ENDNODE

@NODE "mail_59" " Re: winuae work with tcp device "
From: Lorence Lombardo <lombi@...>
Date: 11-06-02 19:41:25
Subject: @{b}Re: winuae work with tcp device@{ub}

Hello Bernd

On 05-Nov-02, you wrote:

> Winuae have now a fix so that it work with TCP Device.amidiction
> work now If you or others like to test please mail i send this per
> E-Mail then

Yes please....!!!! :)

Regards
-- 


Why not check out some of my programs...!!!???

http://home.in.tum.de/hodges/cgi-bin/amifind?query=Lorence+Lombardo


Experience is directly proportional to the value of equipment destroyed.
-- Carolyn Scheppner


---------------------------------------------------------------------
@ENDNODE
