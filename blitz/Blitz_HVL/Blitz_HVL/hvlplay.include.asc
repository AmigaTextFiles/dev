
; hvlplay.include.bb2 generated by FD2inc.


DEFTYPE .Library *_HVLPlayBase

Macro hvlplay_HVL_LoadTune ; {ret,name,freq,def}
   GetReg a0,`2 : GetReg d0,`3 : GetReg d1,`4
   GetReg a6,*_HVLPlayBase : JSR -30(a6) : PutReg d0,`1
End Macro

Macro hvlplay_HVL_FreeTune ; {ctx}
   GetReg a0,`1
   GetReg a6,*_HVLPlayBase : JSR -36(a6)
End Macro

Macro hvlplay_HVL_InitSubsong ; {ret,ctx,subsongnr}
   GetReg a0,`2 : GetReg d0,`3
   GetReg a6,*_HVLPlayBase : JSR -42(a6) : PutReg d0,`1
End Macro

Macro hvlplay_HVL_GetAttr ; {ret,attr,ctx,storageptr}
   GetReg d0,`2 : GetReg a0,`3 : GetReg a1,`4
   GetReg a6,*_HVLPlayBase : JSR -48(a6) : PutReg d0,`1
End Macro

Macro hvlplay_HVL_SetAttrsA ; {ctx,taglist}
   GetReg a0,`1 : GetReg a1,`2
   GetReg a6,*_HVLPlayBase : JSR -54(a6)
End Macro

Macro hvlplay_HVL_Seek ; {ret,ctx,time}
   GetReg a0,`2 : GetReg d0,`3
   GetReg a6,*_HVLPlayBase : JSR -60(a6) : PutReg d0,`1
End Macro

Macro hvlplay_HVL_Decode ; {ctx,buf1,buf2,samples,bufmod}
   GetReg a0,`1 : GetReg a1,`2 : GetReg a2,`3 : GetReg d0,`4 : GetReg d1,`5
   GetReg a6,*_HVLPlayBase : JSR -66(a6)
End Macro


Function.l hvlplay_InitLib {minVersion.l}
   SHARED *_HVLPlayBase
   If *_HVLPlayBase Then Function Return *_HVLPlayBase
   If minVersion<0 Then minVersion = 0
   *_HVLPlayBase = OpenLibrary_ ("hvlplay.library",minVersion)
   Function Return *_HVLPlayBase
End Function


Statement hvlplay_FreeLib {}
   SHARED *_HVLPlayBase
   If *_HVLPlayBase Then CloseLibrary_ *_HVLPlayBase : *_HVLPlayBase = 0
End Statement


;-----------------------------------------------------------------------------------------


; C to Blitz conversion done by c2b.

; One frame is 1/50th second

#HVLPLAY_SongName              = (#TAG_USER + $00) ; ..G CONST_STRPTR
#HVLPLAY_SongLength            = (#TAG_USER + $01) ; ..G ULONG (time in frames: all songs in total with loop approximation)
#HVLPLAY_ForceMono             = (#TAG_USER + $02) ; .SG BOOL (defaults to FALSE)


