------------------------------------------------------------------------------
lucyplay.library                 written by Oliver Gantert <lucyg@t-online.de>
------------------------------------------------------------------------------

This  library  offers functions to easily load and play samples via ahi.device
V4  or  better.   There  are no mixing features and nothing to configure, just
load and play samples with the user's default audio mode at full volume.

Also,   there   are   functions   for   easy  joystick/joypad  handling  using
lowlevel.library    V40.     Since    Version   5   of   this   library   fast
compression/decompression  and  a file size function was implemented.  The new
timer  functions  are a fast interface to timer.device and calling these saves
you some code and trouble.

If  you're  porting  software to the Amiga and want fast, easy sound, joystick
and timer support, this one's for you.  And for everyone else, too ;)


Supported audio formats (more to come)

  RIFF WAVE   mono/stereo   8/16bit

History

  1.0 (18.06.2000)  - audio init/kill/play/free/load
  1.1 (24.06.2000)  - fixed 8bit .wav loader
  1.2 (04.07.2000)  - audio stop/wait, joystick init/kill/read (first release)
  1.3 (05.07.2000)  - optimized lucJoyRead()
  2.0 (14.07.2000)  - new: lucJoyReadBool(), lucBestModeID()
  3.0 (29.07.2000)  - new: lucJoyInitForce(), install script
  3.1 (27.08.2000)  - internal changes, some more developer stuff added
  4.0 (07.02.2001)  - new: lucError(), internal changes
  5.0 (17.02.2001)  - new: lucCompress(), lucDecompress(), lucFileSize(),
                           lucTimerInit(), lucTimerKill(), lucGetSysTime(),
                           lucSetSysTime(), lucTimeDelay()

Website

  http://home.t-online.de/home/LucyG
  http://drake.here.de

Thanks to

  Dámaso D. Estévez for MaxonBasic files
  Thomas Aglassinger for the install script
  Andreas Hippauf for bug reports
  Martyn Capewell for suggestions


------------------------------------------------------------------------------
lucAudioInit()                                                  lucAudioInit()
------------------------------------------------------------------------------

  LONG lucAudioInit ( VOID )

  This  function  opens  ahi.device  and sets up everything.  Result is 0 if
  something went wrong.

------------------------------------------------------------------------------
lucAudioKill()                                                  lucAudioKill()
------------------------------------------------------------------------------

  VOID lucAudioKill ( VOID )

  Close ahi.device and clean up.

------------------------------------------------------------------------------
lucAudioLoad()                                                  lucAudioLoad()
------------------------------------------------------------------------------

  struct LucyPlaySample * lucAudioLoad ( STRPTR fname )

  Load a sample from disk. Return 0 if failed.

------------------------------------------------------------------------------
lucAudioFree()                                                  lucAudioFree()
------------------------------------------------------------------------------

  VOID lucAudioFree ( struct LucyPlaySample * smp )

  Free sample loaded with lucAudioLoad().

------------------------------------------------------------------------------
lucAudioPlay()                                                  lucAudioPlay()
------------------------------------------------------------------------------

  VOID lucAudioPlay ( struct LucyPlaySample * smp )

  Play  a  (previously  loaded)  sample.   This function returns immediately
  after sample starts playing.

------------------------------------------------------------------------------
lucAudioStop()                                                  lucAudioStop()
------------------------------------------------------------------------------

  VOID lucAudioStop ( VOID )

  Stop playing immediately.

------------------------------------------------------------------------------
lucAudioWait()                                                  lucAudioWait()
------------------------------------------------------------------------------

  VOID lucAudioWait ( VOID )

  Wait until playing is finished.

------------------------------------------------------------------------------
lucJoyInit()                                                      lucJoyInit()
------------------------------------------------------------------------------

  struct LucyPlayJoystick * lucJoyInit( VOID )

  Open lowlevel.library, check for Joystick/pad, return 0 if failed.

------------------------------------------------------------------------------
lucJoyInitForce()                                            lucJoyInitForce()
------------------------------------------------------------------------------

  struct LucyPlayJoystick * lucJoyInitForce( VOID )                       (V3)

  If the auto-detection of lowlevel.library failed, this won't.

------------------------------------------------------------------------------
lucJoyKill()                                                      lucJoyKill()
------------------------------------------------------------------------------

  VOID lucJoyKill ( struct LucyPlayJoystick * joy )

  Close lowlevel.library, clean up.

------------------------------------------------------------------------------
lucJoyRead()                                                      lucJoyRead()
------------------------------------------------------------------------------

  VOID lucJoyRead ( struct LucyPlayJoystick * joy )

  Fill our structure with data from the joyport.  See <libraries/lucyplay.h>
  for details.

------------------------------------------------------------------------------
lucJoyReadBool()                                              lucJoyReadBool()
------------------------------------------------------------------------------

  ULONG lucJoyReadBool ( VOID )                                           (V2)

  (requested by Martyn Capewell)
  See <libraries/lucyplay.h> for return values.

------------------------------------------------------------------------------
lucBestModeID()                                                lucBestModeID()
------------------------------------------------------------------------------

  ULONG lucBestModeID ( ULONG width, ULONG height, ULONG depth )          (V2)

  Return  best  screenmode  ID  for  the  given dimensions.  Also checks for
  CyberGraphX  /  Picasso96.  INVALID_ID is returned if no suitable mode was
  found.

------------------------------------------------------------------------------
lucError()                                                          lucError()
------------------------------------------------------------------------------

  ULONG lucError ( VOID )                                                 (V4)

  If any function of this library fails, an error code can be obtained.
  See <libraries/lucyplay.h> for return values.

------------------------------------------------------------------------------
lucCompress()                                                    lucCompress()
------------------------------------------------------------------------------

  ULONG lucCompress ( UBYTE * src, UBYTE * dst, ULONG srclen )            (V5)

  Compress memory using a very fast byterun compression algorithm.  This can
  be used for bitmap data or other byte areas.

  src     - Pointer to the memory block to compress.
  dst     - Pointer to the destination buffer.
  srclen  - Size of the source memory block.

  This  function  returns  the  size  of  the  compressed  memory,  or  0 if
  compression  failed.  Note that the destination buffer should be as big as
  <srclen>  to  avoid  overflow.  Store the original size somewhere, because
  you'll need it for decompression!

------------------------------------------------------------------------------
lucDecompress()                                                lucDecompress()
------------------------------------------------------------------------------

  VOID lucDecompress ( UBYTE * src, UBYTE * dst, ULONG dstlen )           (V5)

  Decompress memory.

  src     - Pointer to compressed data.
  dst     - Pointer to the destination buffer.
  dstlen  - Size of the uncompressed output.

  Size of <dst> must be at least <dstlen>.

------------------------------------------------------------------------------
lucFileSize()                                                    lucFileSize()
------------------------------------------------------------------------------

  ULONG lucFileSize ( STRPTR filename )                                   (V5)

  Examine  the  size  of  a file, return 0 if file doesn't exist (or size is
  really 0).

------------------------------------------------------------------------------
lucTimerInit()                                                  lucTimerInit()
------------------------------------------------------------------------------

  LONG lucTimerInit ( VOID )                                              (V5)

  This  function  opens timer.device and sets up everything.  Result is 0 if
  something went wrong.

------------------------------------------------------------------------------
lucTimerKill()                                                  lucTimerKill()
------------------------------------------------------------------------------

  VOID lucTimerKill ( VOID )                                              (V5)

  Close timer.device and clean up.

------------------------------------------------------------------------------
lucGetSysTime()                                                lucGetSysTime()
------------------------------------------------------------------------------

  LONG lucGetSysTime ( struct timeval * tv )                              (V5)

  Fill  <tv>  with the system's current secs and micros.  This is the mirror
  function of timer.device/GetSysTime().
  lucTimerInit() must have been successful before calling this function!

------------------------------------------------------------------------------
lucSetSysTime()                                                lucSetSysTime()
------------------------------------------------------------------------------

  LONG lucSetSysTime ( struct timeval * tv )                              (V5)

  Set the system time.
  lucTimerInit() must have been successful before calling this function!

------------------------------------------------------------------------------
lucTimeDelay()                                                  lucTimeDelay()
------------------------------------------------------------------------------

  LONG lucTimeDelay ( struct timeval * tv )                               (V5)

  Wait for as many secs and micros as specified in <tv>.
  lucTimerInit() must have been successful before calling this function!

------------------------------------------------------------------------------
