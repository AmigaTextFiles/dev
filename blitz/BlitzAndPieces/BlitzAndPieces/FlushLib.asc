; jamesboyd@all-hail.freeserve.co.uk

; flushes specified library if possible :

a$=Peek.s(GetArgStr_())       ; CLI string (eg. stc.library)
a$=Left$(a$,Peek.l(&a$-4)-1)  ; strip off chr$(10/13?)

If a$                         ; if we got a string...

  *exec.ExecBase=Peek.l(4)    ; get execbase
  *mylist.List=*exec\LibList  ; get library list

    Forbid_                   ; hold everything!

      *libnode.Node=FindName_ (*mylist,&a$) ; find library name
      If *libnode                           ; got it
        RemLibrary_ *libnode                ; ask it to f*** off
      EndIf                                 ; (might refuse!)

    Permit_                   ; hand system back without its library,
                              ; like a "just-neutered" dog waking up :
EndIf                         ; "Oh my God! Where are my libraries?!"

End

