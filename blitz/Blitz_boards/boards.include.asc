
; boards.include.bb2 generated by FD2inc.


DEFTYPE .Library *_BoardsBase

Macro boards_GetBoardName ; {ret,ManuName,ProdName,Configdev,ManuID,ProdID}
   GetReg a0,`2 : GetReg a1,`3 : GetReg a2,`4 : GetReg d0,`5 : GetReg d1,`6
   GetReg a6,*_BoardsBase : JSR -30(a6) : PutReg d0,`1
End Macro

Macro boards_AllocBoardInfo ; {ret,BoardInfoFlags}
   GetReg d0,`2
   GetReg a6,*_BoardsBase : JSR -36(a6) : PutReg d0,`1
End Macro

Macro boards_NextBoardInfo ; {ret,BoardInfo,Configdev}
   GetReg a0,`2 : GetReg a1,`3
   GetReg a6,*_BoardsBase : JSR -42(a6) : PutReg d0,`1
End Macro

Macro boards_FreeBoardInfo ; {ret,BoardInfo}
   GetReg a0,`2
   GetReg a6,*_BoardsBase : JSR -48(a6) : PutReg d0,`1
End Macro

Macro BoardsPrivate1 ; {ret}
   GetReg a6,*_BoardsBase : JSR -54(a6) : PutReg d0,`1
End Macro


Function.l boards_InitLib {minVersion.l}
   SHARED *_BoardsBase
   If *_BoardsBase Then Function Return *_BoardsBase
   If minVersion<0 Then minVersion = 0
   *_BoardsBase = OpenLibrary_ ("boards.library",minVersion)
   Function Return *_BoardsBase
End Function


Statement boards_FreeLib {}
   SHARED *_BoardsBase
   If *_BoardsBase Then CloseLibrary_ *_BoardsBase : *_BoardsBase = 0
End Statement


;==========================================================================================


; C to Blitz conversion done by c2b.

;
; **      $VER: boards.h 2.0 (17.12.1997)
; ** created by SDI
; **
; **      boards.library definitions
; **
; **      (C)1997 by Torsten Bach
; **      All Rights Reserved.
;

; Generic library informations
BOARDSNAME$                    = "boards.library"
#BOARDSVERSION                 = 2

;-----------------------------------------------------------------------
; BoardInfo structure
;
; This structure must only be allocated by boards.library with
; AllocBoardInfo().
;
; The BoardInfo structure are filled with NextBoardInfo()
; It`s READ-ONLY!
;

NEWTYPE .BoardInfo
   *ConfigDev.ConfigDev                  ; STRUCT  ; Pointer to ConfigDev structure
   bi_flags.l                            ; ULONG   ; BoardInfo-flags
   *bi_ConfigDev.b                       ; STRPTR  ; Pointer to ConfigDev-address [10]
   *bi_ExAddress.b                       ; STRPTR  ; Pointer to Expansion-address [10]
   *bi_ExSize.b                          ; STRPTR  ; Pointer to Expansion-size [10]
   *bi_ManuID.b                          ; STRPTR  ; Pointer to ManufacturerID [6]
   *bi_ProdID.b                          ; STRPTR  ; Pointer to ProductID [4]
   *bi_ManuName.b                        ; STRPTR  ; Pointer to Manufacturer [48]
   *bi_ProdName.b                        ; STRPTR  ; Pointer to Product [48]
   *bi_cd_flags.b                        ; STRPTR  ; Pointer to ConfigDev-flags [4]
   *bi_er_type.b                         ; STRPTR  ; Pointer to Expansion-type [4]
   *bi_er_serial.b                       ; STRPTR  ; Pointer to SerialNumber [12]
End NEWTYPE

; You can change the string format by setting the BoardInfo-flags if you
; call AllocBoardInfo()

; BoardInfo-flags

#SB_EXPANSION_SIZE_HEX         = (1 LSL 0) ; Default = DEC (e.g. 64k )

#SB_MANUFACTURERID_HEX         = (1 LSL 2) ; Default = DEC (e.g. 2017 )
#SB_PRODUCTID_HEX              = (1 LSL 3) ; Default = DEC (e.g. 1 )
#SB_SERIALNUMBER_HEX           = (1 LSL 4) ; Default = DEC (e.g. 123456 )
#SB_CONFIGDEV_FLAGS_DEC        = (1 LSL 5) ; Default = HEX (e.g. $02 )
#SB_EXPANSION_TYPE_DEC         = (1 LSL 6) ; Default = HEX (e.g. $c1 )


