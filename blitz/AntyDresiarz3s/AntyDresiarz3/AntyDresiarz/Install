; $VER Install-AntyDresiarz Issue #2 by Paplo/Taski (13.08.1997)

(welcome)



     (set #JEZYK
	(askchoice
       	(prompt "Wybierz jëzyk w którym chcesz zainstalowaê AntyDresiarza.\nSelect instalation language.")
	(choices "Polski (Polish)" "English (Angielski)")
	(help #askbool-help)
	(default 0)
     ))

; -------------------------------- POLSKIE KOMUNIKATY --------------------------

(if (= #JEZYK "0")

	(

	(set #welcome "Witamy w skrypcie instalacyjnym AntyDresiarza Issue #2.\nJest to juû drugie wydanie nowego polskiego magazynu.\n\nOto co moûesz znaleúê w AntyDresiarzu:\n\nciekawe artykuîy\nduûo grafiki\nmultitasking\nsystemowoôê\npeîka konfigurowalnoôê\nmultimedia :-))")
	(set #destdir-prompt "Wskaû katalog w którym chcesz zainstalowaê AntyDresiarza. Katalog 'AntyDresiarz2' zostanie automatycznie stworzony.")

	(set #module_copy "Kopiujë moduîy...")
	(set #pic_copy "Kopiujë rysunki...")
	(set #art_copy "Kopiujë artykuîy...")
	(set #mag_copy "Kopiujë magazyn...")

	(set #making_dirs "Tworzë katalogi...")


	(set #bonus_prompt "Czy mam zainstalowaê dodatki w postaci skryptów, przykîadów, úródîówek itp. ?")
	(set #bonus_choice_a "Instaluj dodatki")
	(set #bonus_choice_b "Nie instaluj dodatków")
	(set #bonus_help "Dodatki czësto sâ przykîadami do Artykuîów\n\nJeûeli je zainstalujesz, to bëdâ one w katalogu DODATKI")

	(set #diskfont_prompt "\nInstalacja \"diskfont.library\"")
;	(set #diskfont_help )

	(set #locale_prompt "\nInstalacja \"locale.library\"")
;	(set #locale_help ) 

	(set #reqtools_prompt "\nInstalacja \"reqtools.library\"")
;	(set #reqtools_help ) 

	(set #stc_prompt "\nInstalacja \"stc.library\"")
;	(set #stc_help )

	(set #cat_prompt "\n\nCzy mam instalowaê katalogi locale?\n")
	(set #cat_choice1 "Tak")
	(set #cat_choice2 "Nie")
;	(set #cat_help )


	(set #fonts_copy "Kopiujë czcionki...")

	(set #end "\nWîaônie skoïczyîeô instalacjë AntyDresiarza.\n\nMagazyn uruchom klikajâc na jego ikonce.\n\nJeûeli wystâpiâ jakieô kîopoty podczas pracy maga, to proszë przeczytaê plik readme, w którym zawarte sâ odpowiedzi na najczëôciej zadawane pytania.\n\nMiîego czytania ûyczy grupa Taski.\n\n\nA M I G A    R U L E Z Z Z   ! ! !")

	)
)


; -------------------------------------- ENGLISH MESSAGES ----------------------

(if (= #JEZYK "1")

	(

	(set #welcome "Welcome to AntyDresiarz Issue #2 installation script.\nIt's second issue of new polish magazine.\n\nIn AntyDresiarz you can find:\n\ninteresting articles\na lot of graphics\nmultitasking\nsystem friendly\nfull configurable\nmultimedia :-))")
	(set #destdir-prompt "Choose directory to install AntyDresiarz. Directory called 'AntyDresiarz2' will be created automatically.")

	(set #module_copy "Copying modules...")
	(set #pic_copy "Copying pictures...")
	(set #art_copy "Copying articles...")
	(set #mag_copy "Copying magazine...")

	(set #making_dirs "Creating directories...")


	(set #bonus_prompt "Will I install additions: scripts, examples, sources, etc.?")
	(set #bonus_choice_a "Install additions")
	(set #bonus_choice_b "Don't install additions")
	(set #bonus_help "Additions are often examples to articles.\n\nIf you'll install then are in directory called DODATKI")

	(set #diskfont_prompt "\nInstall \"diskfont.library\"")
;	(set #diskfont_help )

	(set #locale_prompt "\nInstall \"locale.library\"")
;	(set #locale_help ) 

	(set #reqtools_prompt "\nInstall \"reqtools.library\"")
;	(set #reqtools_help ) 

	(set #stc_prompt "\nInstall \"stc.library\"")
;	(set #stc_help )

	(set #fonts_copy "Copying fonts...")

	(set #cat_prompt "\n\nDo you want to instal locale catalogs? (prefered)\n")
	(set #cat_choice1 "Yes")
	(set #cat_choice2 "No")
;	(set #cat_help )


	(set #end "\nYou finished AntyDresiarz installation.\n\nTo execute magazine just double-click on its icon.\n\nIf will be any problems while mag's work then you read file 'readme'. There you can find answers to a lot of questions.\n\nHave a nice reading - Taski group.\n\n\nA M I G A    R U L E Z Z Z   ! ! !")

	)
)


(set #nazwakatalogu "AntyDresiarz2")

(message #welcome)

(set #destinationdrawer

  (askdir
    (prompt #destdir-prompt)
    (help #destdir-help)
    (default "RAM:")
  )
)

	(set #cel (tackon #destinationdrawer #nazwakatalogu))
	(set @default-dest #cel)


; --------- tworzenie katalogów

	(MAKEDIR #cel (infos))

	(Working #making_dirs)
	(MAKEDIR (tackon #cel "MUZYKA"))
	(MAKEDIR (tackon #cel "RYSUNKI"))
	(MAKEDIR (tackon #cel "TEKSTY"))
	(MAKEDIR (tackon #cel "FONTS"))

; --------- kopiowanie plików z dysku 1

	(WORKING #module_copy)
	(COPYFILES (SOURCE "MUZYKA") (DEST (tackon #cel "MUZYKA")) (ALL) (NOGAUGE) )
	(WORKING #pic_copy)
	(COPYFILES (SOURCE "RYSUNKI") (DEST (tackon #cel "RYSUNKI")) (ALL) (NOGAUGE) )
	(WORKING #art_copy)
	(COPYFILES (SOURCE "TEKSTY") (DEST (tackon #cel "TEKSTY")) (ALL) (NOGAUGE) )
	
	(WORKING #mag_copy)
	(COPYFILES (SOURCE "MAG.exe") (DEST #cel) (NOGAUGE) )
	(COPYFILES (SOURCE "AntydResiarz2.info") (DEST #cel) (NOGAUGE) )
	(COPYFILES (SOURCE "prefs.pre") (DEST #cel) (NOGAUGE) )

; --------- generacja skryptu uruchamiajâcego

	(textfile
		(dest (cat #cel "/AntyDresiarz2"))
		(append "Assign FONTS: FONTS\n\nMAG.EXE\n")
		(safe)
	)

; --------- Instalacja dodatków
;
;	(set #InstalowacDodatki
;		(askbool
;		(prompt  #bonus_prompt)
;		(choices #bonus_choice_a #bonus_choice_b)
;		(help #bonus_help)
;		(default 1)
;;	))
;
;
;	(if (= #InstalowacDodatki 1)
;	(
;		(MAKEDIR (tackon #cel "DODATKI"))
;		(COPYFILES (SOURCE "DODATKI") (DEST (tackon #cel "DODATKI")) (ALL))
;	)
;	) 
; ---------- LOCALE (kurwa!)

	(set #InstalowacCatalogs
		(askbool
		(prompt  #cat_prompt)
		(choices #cat_choice1 #cat_choice2)
		(help #cat_help)
		(default 1)
	))


	(if (= #InstalowacCatalogs 1)
	(

		(if (= (exists "LOCALE:Catalogs" (noreq)) 0)
			(
				(MAKEDIR (tackon "LOCALE:" "Catalogs"))
			)
		)


		(if (= (exists "LOCALE:Catalogs/polski" (noreq)) 0)
			(
				(MAKEDIR (tackon "LOCALE:Catalogs" "polski"))
			)
		)

		(if (= (exists "LOCALE:Catalogs/english" (noreq)) 0)
			(
				(MAKEDIR (tackon "LOCALE:Catalogs" "english"))
			)
		)

		(COPYFILES (SOURCE "Catalogs/polski/AntyDresiarz.catalog") (DEST "LOCALE:Catalogs/polski") (NOGAUGE) )
		(COPYFILES (SOURCE "Catalogs/english/AntyDresiarz.catalog") (DEST "LOCALE:Catalogs/english") (NOGAUGE) )

	)
	) 

; --------- DiskFont.library

	(COPYLIB
		(SOURCE "Libs/diskfont.library")
		(DEST "LIBS:")
		(PROMPT #diskfont_prompt)
		(HELP @copylib-help)
		(CONFIRM)
	)


; --------- Locale.library

	(COPYLIB
		(SOURCE "Libs/locale.library")
		(DEST "LIBS:")
		(PROMPT #locale_prompt)
		(HELP @copylib-help)
		(CONFIRM)
	)


; ------------ ReqTools.library

	(COPYLIB
		(SOURCE "Libs/reqtools.library")
		(DEST "LIBS:")
		(PROMPT #reqtools_prompt)
		(HELP @copylib-help)
		(CONFIRM)
	)

; ------------ stc.library

	(COPYLIB
		(SOURCE "Libs/stc.library")
		(DEST "LIBS:")
		(PROMPT #stc_prompt)
		(HELP @copylib-help)
		(CONFIRM)
	)

; ------------- Fonts

	(WORKING #fonts_copy)
	(COPYFILES (SOURCE "Fonts") (DEST (tackon #cel "FONTS")) (ALL) (NOGAUGE) )

; ------------- Koniec


(message #end)

(exit)
