                   -------------------------------------

                           AMOSPro GUI Extension

                           > BETA VERSION 1.5 <

                               - FREEWARE -

                         ©1995-1996 Dairymen Soft

                        Written By: Pietro Ghizzoni

                        E-Mail: ghizzo@galactica.it

         I DON'T KNOW ENGLISH VERY WELL.... PLEASE DON'T BLAME ME! :)

                   -------------------------------------


                                _           _
                               (_ READ ME!! _)


This is only the BETA VERSION of the AMOSPro_Gui.Lib, and so ONLY the main
commands are ready for testing. For using my extension you MUST have the
GadToolsBox Editor V2.0c!!!!


                               _              _
                              (_ INSTALLATION _)


Copy the AMOSPro_GUI.Lib into the APSystem drawer and update your
configuration file. This is the extension NUMBER 24.


                           _                     _
                          (_ CREATING A GUI BANK _)


1- Run the GadToolsBox Editor and create your interface ( GUI from now on )
2- Save it as GUI file ( NOT POWERPACKED! )
3- Convert the gui file into a gui bank using the GuiConv Accessory

A gui bank can held as many gui as you want. You can load the bank using a
normal Load command. If you don't specify the bank number, the gui bank is
loaded as bank number 20.

                                - IMPORTANT -

 YOU MUST CREATE YOUR GUI IN A PAL/NTSC HIRES SCREEN USING TOPAZ 8 FONT!!
 ------------------------------------------------------------------------
                       SEE THE FONT SENSITIVE COMMANDS
                       -------------------------------


                         _                          _
                        (_ CREATING A CUSTOM GADGET _)


The GadToolsBox Editor don't allows you to create a custom gadget, and so
i've found another way:

You must create a BUTTON gadget, but WITHOUT TEXT! When the Gui Converter
will found a BUTTON gadget without text, it will ask you to load an Image Bank
containing the gadgets images. See the AMOSPro_Images.Doc.

Remember that a CUSTOM gadget IS NOT font sensitive! (See the Player.Amos
example)


                         _                         _
                        (_ CREATING A PROGRESS BAR _)


The gadtools.library don't allows you to create a progress bar gadget, but
this kind of gadget is very usefull, and so i've created this for you! In
order to create a progress bar, follow this simple instructions:

1- Run the GadToolsBox Editor
2- Create a TEXT gadget with the Default string set to "PBAR"
3- this is the end.... very easy, no?

The Gui Converter Accessory and the GUI extension makes the rest... Using the
Gui Set instruction you can change the bar level. Remember that you must
indicate the bar level in percentage (0-100)!!  


                            
                               _          _
                              (_ COMMANDS _)



GUI OPEN
--------
instruction: open a window

Gui Open  window,gui
Gui Open  window,gui,bank


GUI OPEN open the window number "window" using the specified gui. The window
opened by this instruction will be displayed on workbench screen. Optionally
you can specify the gui bank number. If you specify the bank number, this
bank will became the current gui bank. ( See GUI BANK )
Providing that there is enough memory, you can open as many windows as you
wish. When you open a window, this window will became the current window.
(See the GUI ACTUAL and GUI GFX commands)




GUI WAIT
--------
function: wait a user action

Gadget=Gui Wait


This function wait a user action, and return the number of the selected
gadget. There are some special values returned:

 Value                Event
-------              -------
  -1           close gadget selected
  -2           menu selected
  -3           no windows opened!
  -4           raw key pressed
  -5           key pressed
  -6           you must uniconify the window!

When you call this function the program is freezed until the user interacts
with your windows. ( See GUI WINDOW )




GUI CODE
--------
function: return the status of the selected gadget

Value=Gui Code


This function is used to read the status of the last gadegt selected by the
user. The result returned depends on the type of gadget selected.

 Type               Value
------             -------

BUTTON              None
CHECKBOX            Position ( BOOLEAN )
INTEGER             Selected number
LISTVIEW            Selected Item
MUTUAL_EXCLUDE      Selected Item
NUMBER              None
CYCLE               Current Position
PALETTE             Selected Colour
SCROLLER            Current Position
SLIDER              Current Position
STRING              None
TEXT                None
PROGRESS BAR        None

GUI CODE will return the gadget value if the gadget has been selected by
the user, otherwise a value of -1 is returned.
After the status of your gadget is tested, the value held by GUI CODE is
automatically re-set to -1
If a text gadget must be checked, the GUI CODE$ function should be used
instead. This is explained next.




GUI CODE$
---------
function: return text string held in the selected gadget

String$=GUI CODE$


See GUI CODE. The string returned depends on the type of gadget selected.

 Type              String$
------            ---------

BUTTON              None
CHECKBOX            None
INTEGER             None
LISTVIEW            Selected Item
MUTUAL_EXCLUDE      None
NUMBER              None
CYCLE               None
PALETTE             None
SCROLLER            None
SLIDER              None
STRING              Displayed Text
TEXT                None
PROGRESS BAR        None



GUI CLOSE
---------
function: close a window

Code=Gui Close(window)


This function close the specified window and return a special code.

 Code
------
  0            window closed
  1            first opened window closed
  2            last opened window closed
 -1            last window closed




GUI MENU
--------
function: return the selected menu

    Menu = Gui Menu(1)
    Item = Gui Menu(2)
 SubItem = Gui Menu(3)
NextMenu = Gui Menu(4)

Gui Menu(1) will return the value of the title number has been chosen
Gui Menu(2) will return the value of the option number has been selected
Gui Menu(3) will return the value of the sub-option number has been chosen
Gui Menu(4) will return True(-1) if the user has drag-selected several items
In this case, use the Gui Menu() functions for reading the new menu level.

Example:

Do

     GAD=Gui Wait : Rem Wait user actions

     'Menu Selected
     '~~~~~~~~~~~~~~~
     If GAD=-2

     Repeat
          Print "Menu="+Str$(Gui Menu(1)),"Item="+Str$(Gui Menu(2))
     Until Gui Menu(4)=0 : Rem Check if the user has selected several items     

     EndIf

Loop




GUI AMIGA
---------
instruction: hide AMOS

Gui Amiga


It's the equivalent of Amos to Back : Amos Lock




GUI AMOS
--------
instruction: show AMOS

Gui Amos


It's the equivalent of Amos Unlock : Amos To Front




GUI SET
-------
instruction: update a gadget

Gui Set  window,gadget,attribute level,new value


This instruction enables AMOS Professional programs to force gadtools.library
to update a gadget. The effect depend on the type of the gadget and attribute
level selected.


                        - ATTRIBUTES -

---------------------------------------------------------------
LEVEL |   BUTTON    |    CHECKBOX  |    INTEGER   |  LISTVIEW
---------------------------------------------------------------
0     |             |Position(BOOL)| Number       | Position 
1     |             |              |              | Item List *
2     |             |              |              | Selected Item
      |             |              |              |
---------------------------------------------------------------
LEVEL |   MX        |    NUMBER    |    CYCLE     |   PALETTE
---------------------------------------------------------------
0     | Position    | Number       | Position     | Selected Colour
1     |             |              |              |
2     |             |              |              |
      |             |              |              |
---------------------------------------------------------------
LEVEL |   SCROLLER  |    SLIDER    |    STRING    |    TEXT
---------------------------------------------------------------
0     | Position    | Position     | String *     | String *
1     | Total pos.  | Min Value    |              |
2     | Visible pos.| Max Value    |              |
      |             |              |              |
---------------------------------------------------------------
LEVEL | PROGRESS BAR|              |              |   
---------------------------------------------------------------
0     |level(0-100) |              |              | 
1     |             |              |              |
2     |             |              |              |
      |             |              |              |
--------------------------------------------------------------

  * - ListView Item List


You MUST pass as "new value" the string array address!!

example:

     Dim A$(2): A$(0)="AMOS" : A$(1)="THE" : A$(2)="BEST"

     'Update the item list of the listview number 5 of window 2
     '~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     Gui Set 2,5,1,Array(A$(0)) : Rem  This is the correct way!!


  * - String Gadget/Text Gadget String


You must pass as "new value" the string Varptr Address!!

example:

     A$="AMOS!" : Gui Set 1,2,0,Varptr(A$)


With the attribute level set to -1, you can turn ON/OFF the specified gadget.
When a gadget is OFF, the user can't select it.

Examples:

     Gui Set 1,5,-1,1 : Rem  Now the gadget number 5 is OFF
     Gui set 1,5,-1,0 : Rem   "      "         "   5 is ON




GUI BANK
--------
instruction: select a bank to be used for resources

Gui Bank  Bank Number


This command is used to tell AMOS in wich bank the gui are stored.




GUI WINDOW
----------
function: return the number of the window selected by the user

Window=Gui Window


This function tell you in wich window is the gadget selected by the user.




GUI TO FRONT
------------

GUI TO BACK
-----------
instrunction: move window to front/back of display

Gui To Front  Window
Gui To Back  Window


These instructions are used to move a window to the front/back of the
display.




GUI MOUSE X
-----------

GUI MOUSE Y
-----------

function: return the x/y coordinates of the mouse pointer

x=Gui Mouse X
y=Gui Mouse Y


These instructions return the SCREEN coordinates of the mouse.




GUI MOVE
--------
instruction: move a window to new coordinates

Gui Move  Window,x,y


This instruction move the specified window to the new screen coordinates.




GUI RESET
---------
instruction: remove all windows

Gui Reset


This instruction close all windows.

Example: Gui Reset




GUI EXIST
---------
function: check if specified window exists

Address=Gui Exist(window)


This function check if exist the specified window. If the window exist,
the window structure address will be reported, otherwise 0 (false)  will
be returned. DON'T MODIFY THE WINDOW STRUCTURE!!!




GUI REQ
-------
function: open a requester

Gadget=Gui Req(Title$,Message$,Gadget$)


This function allows you to easly create a requester. The value returned
is the gadget selected by the user. The last gadget on the right side is
the gadget number 0

Example:

        A=Gui Req("About","AMOSPro_GUI Extension","WOW|GREAT|LAME")

As you can see, in order to create multiple gadgets, you MUST separate
their names with this character "|"




GUI ASL$
--------
function: call the AMIGA® file selector

FILE$=Gui Asl$(Title$,Dir$,File$)


This instruction allows you to choose the files you need directly from a
disc, using the standard  AMIGA®  file requester. (asl.library).

SEE THE GUI DIR$ AND GUI FILE$ FUNCTIONS




GUI DIR$
--------

GUI FILE$
---------
function: return the path$/file$ selected by the user in the file selector


These functions return the path (Gui Dir$) and the file name (Gui File$)
selected by the user in the file selector. If the user press Cancel an
empty string will be returned.




GUI INK
-------
instruction: set drawing colour

Gui Ink  Colour


The Gui Ink command is used to specify wich colour is to be used for
subsequent drawing operations.




GUI DRAW
--------

GUI DRAW TO
-----------
instruction: draw a line

Gui Draw x,y To x1,y1
Gui Draw To x,y


Draw a line starting from x/y coordinates to x1/y1. To draw a line from
the current position of the graphics cursor, use the GUI DRAW TO command.




GUI BAR
-------
instruction: draw a filled rectangle

Gui Bar x,y To x1,y1


This is used to draw a filled rectangle of the current colour at the
given coordinates.




GUI ELLIPSE
-----------
instruction: draw an elliptical outline

Gui Ellipse x,y,radius1,radius2


The x,y coordinates sets the position of the centre point around wich
the shape is to be drawn, and radius1/radius2 sets the with and height
ot the ellipse.




GUI CLS
-------
instruction: clear the current gfx output

Gui Cls  Colour


The Gui Cls command erases all of the current graphics output using
the specified colour.




GUI GFX
-------
instruction: set current graphics output

Gui Gfx  type,number


This command allows ALL graphical operations to be directed to the selected
gfx output. The are 2 possible outputs: windows and screens.
The "type" parameter specify the output type:

     TYPE
     ----
      0        window
      1        screen ( NO YET IMPLEMENTED! )

The "number" parameter indentify the number of the window/screen interested.
For example, in order to direct all graphical operations to WINDOW NUMBER 2:


     Gui Gfx 0,2

             | |
             |_|____ 0 indicate a WINDOW
               |
               |____ 2 is the WINDOW number


... to SCREEN NUMBER 0:


     Gui Gfx 1,0

             | |
             |_|____ 1 indicate a SCREEN
               |
               |____ 0 is the SCREEN number




GUI PASTE BOB
-------------
instruction: paste a bob

Gui Paste Bob  Image,x,y


Gui Paste Bob takes an image held in the Object Bank, and draws it in the
current gfx output.




GUI PASTE BLOCK
---------------
instruction: paste a block

Gui Paste Block  Block number,x,y


Gui Paste Block takes a block held in the block chain, and draws it in the
current gfx output.




GUI PASTE ICON
--------------
instruction: paste an icon

Gui Paste Icon  Icon number,x,y


Gui Paste Bob takes an icon held in the Icon Bank, and draws it in the
current gfx output.




GUI ACTUAL
----------
function: return the actual window number

WIN=Gui Actual


This function return the number of the current OUTPUT window. (SEE GUI GFX)




GUI WIDTH
---------
function: return the window width

WD=Gui Width(window)


This function return the width of the specified "window"




GUI HEIGHT
----------
function: return the window height

WD=Gui Height(window)


This function return the height of the specified "window"




GUI BORDER
----------
function: return the window borders sizes

A=Gui Border(window,border)


This function return the border width of the specified "window". The "border"
parameter may be:

        BORDER
        ------
          0    Left  Border
          1    Top     "
          2    Rigth   "
          3    Bottom  "




GUI X
-----

GUI Y
-----
function: return the x/y screen postion of the window

X=Gui X(window)
Y=Gui Y(window)


These functions returns the X,Y posistion of the specified "window"




GUI RESIZE
----------
instruction: resize a window

Gui Resize  window,width,height


The Gui Resize command allows you to change the width and height of the
specified "window"




GUI SENSITIVE ON
----------------

GUI SENSITIVE OFF
-----------------
instruction:  turn ON/OFF the font sensitive system

Gui Sensitive On
Gui Sensitive Off


When the font sensitive system is ON, the extension open your gui using the
current WB screen font, adapting the window size and gadgets width to the new
font size. If after the resize process the window doesn't fit in the
workbench screen, the default values and font will be used. By default the
font sensitive system is OFF. (See the CREATING A GUI BANK paragraph)

NOTE: a custom gadget is NOT font sensitive!


                               VERY IMPORTANT
                           ----------------------
WHEN YOU CREATE THE GUI WITH THE GADTOOLSBOX EDITOR, YOU MUST USE THE TOPAZ 8
FONT!!! OK?




GUI SCROLL
----------
instruction: scroll a graphic zone

Gui Scroll x,y To x1,y1,horizzontal value,vertical value


This is the equivalent of the AMOS scroll command.




GUI WAIT VBL
------------
instruction: wait for the next vertical blank period

Gui Wait Vbl


.... no comment




GUI ICONIFY
-----------
instruction: iconify the specified window

Gui Iconify  window


Reduce a window to a single title bar. To expand window to its original state
use the Gui Uniconify instruction.




GUI UNICONIFY
-------------
instruction: expand window to its original state

Gui Uniconify  window


Expand a iconified window to its original state.




GUI ASL SCREEN
--------------
function: open the screen mode requester

ID=Gui Asl Screen

This function open the asl.library screen mode requester, and return
the DisplayID value of the selected screen mode.




GUI ASL FONT
------------
function: open the font requester
  
FONT=Gui Asl Font

This function open the asl.library font requester, and return the selected
font.



                                 _       _
                                (_ NOTES _)


This doc is very small and cryptic, so if you have problems CONTACT ME!
If you haven't problems, CONTACT ME ANYWAY!!


                         E-MAIL: ghizzo@galactica.it


                          or leave a message here:


       Amiga Professional BBS (ITALY AMOS USER CLUB)  049-604488

                        SkyLink BBS  0332-706469


                              or write to me:

                              Pietro Ghizzoni
                             Via Termine  70/b
                         29017 Fiorenzuola D'Arda
                             Piacenza - Italy
