' This procedure can be adapted to delete a number of directories
' within each other.  You will need to alter the base directory name 
' which is currently set as ":ENLOCK_USERS/" 
' This function could be adapted to be used as a file search routine?
'
' cODED bY ßudda/NFA in '96
'
' NOTE: Uses LDOS extension commands for easy directoy reading 

Procedure EMPTY_DIRS
   ' --- Start/Repeat Process For Current Directory 
   AGAIN:
   A$=Lcat First(Dir$)
   
   Do 
      A$=Lcat Next
      
      ' --- If No More Files Go Into Parent Directory
      If A$=""
         Parent 
         A$=Lcat First(Dir$)
         A$=Lcat Next
         
         ' --- Check To See If Gone Too Far Back In Directory Structure   
         If Right$(Upper$(Dir$),14)=":ENLOCK_USERS/"
            Pop Proc
         End If 
         Kill A$
         Goto AGAIN
      End If 
      
      ' --- Delete The File
      If Lcat Type=-3 Then Kill A$
      
      ' --- Go Into The Directory
      If Lcat Type=2
         Dir$=Dir$+A$
         Goto AGAIN
      End If 
   Loop 
End Proc
