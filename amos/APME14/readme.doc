

             AMOSPro 1.12/2.00  Multi-Envoironment Patch V1.4
             ------------------------------------------------

           Written By Paul Hickman (ph@doc.ic.ac.uk) - June 1994
    Additions and Amos Patch by Mark deJong and Darryl Lewis -September 1995
           ----------------------------------------------------

      Adapted from AMOS Multi-Envoironment Patch V1.1  for AMOS 1.36
      --------------------------------------------------------------



IMPORTANT
=========

    APME V1.2 contained a bug which made Amospro V2.00 crash. Before
    installing this fixed version, copy your original unpatched AmosPro
    V2.00 file over the patched AmosPro file in you AMOSPro_System:
    directory.

    APME V1.3 did not work on all builds of the AMOSPro file. 

Disclaimer
----------

        The program PatchAMOSPro will modify your AMOSPro program.
        I take no resposibility if it wreck's it - make sure you
        have a backup.

        I also take no responsibilty explicitly, implicity, and all
        that other legal crap if something else that you didn't want
        to happen does, 'cos i'm still in an irresponsible mood!



Distribution
------------

        Whatever - modify / copy / hack to pieces. Please post me
        back any improvements - these are among my first E programs,
        so the sources can probably be improved.


Files
-----

        Install_AMOSProMultiEnv        The installer script

        AmosIcon                       An Icon To Load AMOSPro.
        GetAMOSProEnv                  A Program to select an envoironment.
        PatchAMOSPro                   A Program to modify AMOSPro file.
        Readme.Doc                     This File.
        PatchAMOSPro.old               The old modification program
        

        GetAMOSProEnv13.e              The Sources
        PatchAMOSPro.amos
        PatchAMOSPro.e.old            


Requirements
------------

        AMOSPro V1.12 or V2.00 - NOT AMOSPro V1.0, or any other version.
        2 bytes are overwritten in the AMOSPro program file - they may
        be at a different location in different versions of AMOSPro.

        ReqTools Library - Any version will probably work - I only
        use the file requester.




Overview
--------

        When you load AMOSPro, it searches for one of the files:

        S:AMOSPro_Interpreter_Config
        AMOS_ProSystem:S/AMOSPro_Interpreter_Config


        And loads the first one it finds. These files contain your
        AmosPro interpreter configuration (Suprisingly enough) which
        contains the loaded extensions, number of bobs, copperlist
        buffer size etc. Running PatchAMOSPro modifies AMOSPro so it
        searches the files:

        T:AMOSPro_Interpreter_Config
        S:AMOSPro_Interpreter_Config


        GetAMOSProEnv opens a reqtools filerequester in the directory
        AMOSPro_System:APSystem/Interpreter_Configs (Which is created
        by the installer scripts). Initially this contains the file
        Default.config. Whatever file you select here is copied to
        T:AMOSPro_Interpreter_Config before AMOSPro is run hence 
        becoming the configuration you use for that session.





Installation
------------


        Just double click the installer icon and select your AMOSPro
        System directory / disk.

        AMOSPro will be patched, the configs directory created, your
        current configuration copied into it as the default, the
        GetAMOSProEnv program is copied into the AMOSPro_System directory,
        along with an iconx script to load AMOSPro via the selector.


        AMOSPro can still be run with it's default config in S: by
        double clicking on it's original icon.




Usage
-----

        Double click on the "Amos Env-Loader" icon. Select An 
        Envoironment.




Multi-Selection
---------------

        To load AMOSPro with an AMOS program in the editor & run the
        program, select the program's icon, then shift double-click
        the "Amos Env-Loader" icon.




Toolmanager
-----------

        AMOSPro Multi-Env works great from a toolmanager dock window, or
        toolmanager App Icon. Simply create an exec object to the Amos
        script, of type CLI, which has the "Arguments" box checkmarked.
        Then create an image object, and a dock / icon object to launch
        it.

        To run AmosPro from toolmanger, click on the dock icon / app icon.
        To load a file into AmosPro from toolmanager, drop the file on the
        dock icon / app icon.




Modifing Configurations
-----------------------

        To modify a configuration, select "Set Interpreter" from the config
        menu, then select "Load other configuration". Goto the directory
        "AMOSPro_System/APSystem/Interpreter_Configs" and choose a
        configuration to modify. Change it, then save it to a new file in
        the same directory. End the filename in ".config" so it matches
        the filer pattern "#?.config" in the GetAMOSProEnv filerequester.

        To not save/load the default configuration as this is not used
        when loading AMOSPro via the Env-Loader. Instead, the 
        Default.Config file is used for the default configuration.
        


Notes / Hints
-------------

        You will need the program Install. If you don't have it already,
        many versions of it are available on Aminet.
   
        The AMOS 1.36 compiler uses the envoironment specified by it's
        own configuration files - Not the envoironment you select
        with this filerequester. I don't know what the AMOS Pro compiler
        does, as I don't have it.


        Get toolmanger, and use it - it's easily the best way to
        load AMOSPro. If you do this set the save with icons option
        in the configuration editor so your programs have
        icons to drop on the toolmanager dock/app icon.



Credits
-------

        GetAMOSProEnv, was written in E. Thanks
        go to Wouter van Oortmerssen for a rather nice language.

        Reqtools.library is written by Nico Francois.

        Toolmanager was written by Stefan Becker.


        The E language, Reqtools & Toolmanager are all available
        on aminet. Thanks also to whoever it was that posted to the
        AMOS mailing list about removing/installing extenions for
        the inspiration!




Changes: AMOSMultiEnv V1.0 ---> V1.1
------------------------------------

    Both E programs now use exception handling for error
    recovery, and print errors to requesters, not the command line.

    PatchAMOS can now accept the AMOS file to patch as a
    command line argument.

    Both programs now accept the argument in double quotes.

    The installer script now creates a customised launching
    script for your system - there is no "Amos" file in the
    distribution anymore.

    The cancel button in the filerequester now cancels the
    Loading of AMOS.

    Shift-Selected / Toolmanager / CLI arguments to the AMOS
    script are passed on to AMOS1.36 so you can autoload & run
    programs.




Changes: AMOSMultiEnv V1.1 ---> AMOSProMultiEnv V1.1
----------------------------------------------------

    All file directory names in Installer Script, Readme file
    and E programs changed to AMOSPro versions.

    PatchAMOSPro now changes the relevant bytes for AMOSPro V1.12

    The installer script now creates a directory for configs, and
    copies your current default into it.




Changes: AMOSProMultiEnv V1.1 ---> AMOSProMultiEnv V1.2
-------------------------------------------------------

    Title of error requesters changed.

    Now works for Amospro V2.00 as well as V1.12.




Changes: AMOSProMultiEnv V1.2 ---> AMOSProMultiEnv V1.3
-------------------------------------------------------

    It turns out I was lying last time - it didn't work for AMOS V2.00.
    This is now fixed.

    Memory allocation bugs have been fixed in both E programs. It used to
    "forget" the filename between you selecting it, and it opening it
    before - now it doesn't

    AMOSPro V2.00 searched for the files in S: first, then T:, so you
    had to delete the copy in S: for it to work. This is now reversed -
    T: is searched first, so you can still keep a copy in S:


Changes: AMOSProMultiEnv V1.3 ---> AMOSProvMultiEnv V1.4
--------------------------------------------------------

    Some versions of AMOSPro use different cases for specifing directories.
    A replacement patch written in Amos, and compiled, replaces the 
    PatchAMOSPro that was written in E. 
