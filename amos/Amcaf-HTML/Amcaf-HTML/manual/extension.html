<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      AMCAF Extension V1.40 Manual for Amos Professional, written by Chris Hodges (1994/95) and compiled by asymetrix for the Amiga community and should stay completely FREE FOREVER.
      Created 2009. :)
  -->
  <title>AMCAF Extension V1.40 Manual</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="AMCAF Extension V1.40 Manual, Amos Professional, Amiga, Programming, Basic, Chris Hodges, Extension, computing, code, AmigaDOS, Aminet.net">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">
<a href="../index.html">AMCAF Extension V1.40 Manual</a>&nbsp; <a href="../command.html">Index</a>

<hr align="center" size="1" width="100%">

<h1>Extension Commands</h1>

<br>

<p>
Again some commands and functions for advanced users.<br>
Before using these, think about what you are doing, then again, and once more, and more
important, save your program before starting it.</p>

<ul>
  <li><a href="#extdefault">Extdefault</a></li>
  <li><a href="#extremove">Extremove</a></li>
  <li><a href="#extreinit">Extreinit</a></li>
  <li><a href="#amostask">=Amos Task</a></li>
  <li><a href="#amcafversion">=Amcaf Version$</a></li>
  <li><a href="#amcafbase">=Amcaf Base</a></li>
  <li><a href="#amcaflength">=Amcaf Length</a></li>
</ul>

<br>

<a name="extdefault"></a>
<p><b>EXTDEFAULT</b><br>
<i>instruction: call the default routine of an extension</i><br>
<b>Extdefault</b> extnb</p>

<p>
This command has been written especially for advanced users.<br>
With this one you can call the routine in the AMOS extension in slot 'extnb' which is
normally executed after the start of a program or by the Default command.<br>
Often this routine resets the interior database to the default values.</p>

<p>Extdefault should be called after re-linking an extension with Extreinit.</p>

<p>
If no extension is loaded in slot number 'extnb', this instruction has no effect.</p>

<br>

<a name="extremove"></a>
<p><b>EXTREMOVE</b><br>
<i>instruction: remove an extension from memory</i><br>
<b>Extremove</b> extnb</p>

<p>
The Extremove command removes the extension in the slot 'extnb' from memory like when exiting AMOS.<br>
After this command no further instructions requiring this extension may be called.<br>
As AMOS tries to unlink the extension itself on quitting, this could cause some trouble.<br>
So don't remove an extension too long, revoke it with Extreinit before exiting.</p>

<br>

<a name="extreinit"></a>
<p><b>EXTREINIT</b><br>
<i>instruction: try to restart a previously removed extension</i><br>
<b>Extreinit</b> extnb</p>

<p>
This command causes a restart of the extension numbered 'extnb'.<br>
<b>Extreinit may only be called on a extension that has been removed using Extremove.</b><br>
Otherwise, you can lose memory or even crash your computer.</p>

<br>

<a name="amostask"></a>
<p><b>AMOS TASK</b><br>
<i>function: return the address of the amos task structure</i><br>
address=<b>Amos Task</b></p>

<p>
For advanced programmers. This function returns the address of the AMOS task structure.<br>
Using this you can for example increase the task priority:</p>

<pre>
Areg(1)=Amos Task
Dreg(0)=3
dummy=Execall(-$12C)
</pre>

<p>This program sets the task priority to +3.</p>

<br>

<a name="amcafversion"></a>
<p><b>AMCAF VERSION$</b><br>
<i>function: return an amcaf version string</i><br>
Print <b>Amcaf Version$</b></p>

<p>This command returns the current AMCAF version number and a greetings list.</p>

<br>

<a name="amcafbase"></a>
<p><b>AMCAF BASE</b><br>
<i>function: return the base address of the amcaf database</i><br>
address=<b>Amcaf Base</b></p>

<p>This command returns the base address of the <a href="additional.html#amcafdatabase">AMCAF database</a>.</p>

<br>

<a name="amcaflength"></a>
<p><b>AMCAF LENGTH</b><br>
<i>function: return the length of the amcaf database</i><br>
length=<b>Amcaf Length</b></p>

<p>This command returns the length of the <a href="additional.html#amcafdatabase">AMCAF database</a>.</p>

</body>
</html>
