<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      AMCAF Extension V1.40 Manual for Amos Professional, written by Chris Hodges (1994/95) and compiled by asymetrix for the Amiga community and should stay completely FREE FOREVER.
      Created 2009. :)
  -->
  <title>AMCAF Extension V1.40 Manual</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="AMCAF Extension V1.40 Manual, Amos Professional, Amiga, Programming, Basic, Chris Hodges, Extension, computing, code, AmigaDOS, Aminet.net">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">
<a href="../index.html">AMCAF Extension V1.40 Manual</a>&nbsp; <a href="../command.html">Index</a>

<hr align="center" size="1" width="100%">

<h1>Disk Object Commands</h1>

<br>

<p>
The AMOS functions Dir First$ and Dir Next$ are neither very reliable nor very easy to use.<br>
Using these commands you could only get the name and the length of the object but what could you do if you
wanted to know even more?<br>
Thankfully, AMCAF provides you with an easy solution for these problems.</p>

<br>

<h2><b>Commands</b></h2>

<a name="examineobject"></a>
<p><b>EXAMINE OBJECT</b><br>
<i>instruction: get all information about an object</i><br>
<b>Examine Object</b> file$</p>

<p>
Examine Object supplies you with all available information about the <a href="additional.html#diskobject">object</a> named 'file$'.<br>
This data can then be requested using the Object functions without any parameters.</p>

<br>

<a name="examinedir"></a>
<p><b>EXAMINE DIR</b><br>
<i>instruction: initialise the reading of a drawer</i><br>
<b>Examine Dir</b> directory$</p>

<p>
This command loads all information about the drawer 'directory$' into the FileInfoBlock.<br>
Additionally, the contents of the directory can be read out by Examine Next$.</p>

<br>

<a name="examinestop"></a>
<p><b>EXAMINE STOP</b><br>
<i>instruction: stop the reading of a directory</i><br>
<b>Examine Stop</b></p>

<p>
Aborts the reading process of a directory. After this command, you may not make any further calls to Examine Next$.</p>

<br>

<h2><b>Functions</b></h2>

<a name="examinenext"></a>
<p><b>EXAMINE NEXT$</b><br>
<i>function: read the next entry in a directory</i><br>
file$=<b>Examine Next$</b></p>

<p>
Gets information about the next <a href="additional.html#diskobject">object</a> in the directory and returns its name.<br>
More information can be acquired using the object functions. If the end of the directory list is reached, 'file$'
will contain an empty string and the drawer will be closed.</p>

<br>

<a name="objectname"></a>
<p><b>OBJECT NAME$</b><br>
<i>function: return the name of an object</i><br>
file$=<b>Object Name$</b><br>
file$=<b>Object Name$</b>(pathfile$)</p>

<p>
Object Name$ returns the name of the <a href="additional.html#diskobject">object</a> 'pathfile$'. This function
is similar to the Filename$-Function, but acts quite differently as the existence of the file is checked.<br>
More information about the object is stored in the info block and the name is read out with correct case.<br>
The first version of Object Name$ gets the name of the object from the info
block which has been read out earlier using Examine Object.
</p>

<br>

<a name="objecttype"></a>
<p><b>OBJECT TYPE</b><br>
<i>function: return the type of an object</i><br>
type=<b>Object Type</b><br>
type=<b>Object Type</b>(pathfile$)</p>

<p>
This functions finds out if 'pathfile$' or the object whose data is currently in the info block is a directory or a file.<br>
'type' is greater than 0 for a file, less than 0 if the <a href="additional.html#diskobject">object</a> is a drawer.</p>

<br>

<a name="objectsize"></a>
<p><b>OBJECT SIZE</b><br>
<i>function: return the length of a file</i><br>
length=<b>Object Size</b><br>
length=<b>Object Size</b>(pathfile$)</p>

<p>
This function returns the size of an object. The first version copies the size directly
from the current info block.<br>
The second version fills the info block with other data of the <a href="additional.html#diskobject">object</a> 'pathfile$'.</p>

<br>

<a name="objectblocks"></a>
<p><b>OBJECT BLOCKS</b><br>
<i>function: return the length of a file in blocks</i><br>
number=<b>Object Blocks</b><br>
number=<b>Object Blocks</b>(pathfile$)</p>

<p>
Object Blocks returns the number of blocks the current or the <a href="additional.html#diskobject">object</a>
'pathfile$' uses on a specific volume.</p>

<br>

<a name="objectprotection"></a>
<p><b>OBJECT PROTECTION</b><br>
<i>function: return the protection flags of an object</i><br>
prot=<b>Object Protection</b><br>
prot=<b>Object Protection</b>(pathfile$)</p>

<p>
Object Protection returns the <a href="additional.html#protectionflags">Protection flags</a> of an <a href="additional.html#diskobject">object</a>.<br>
The Object Protection$ function converts this numeric value into a string in the format "hsparwed".</p>

<br>

<a name="objecttime"></a>
<p><b>OBJECT TIME</b><br>
<i>function: return the time of creation of an object</i><br>
time=<b>Object Time</b><br>
time=<b>Object Time</b>(pathfile$)</p>

<p>
Object Time returns the time of the last write access to an <a href="additional.html#diskobject">object</a>.<br>
The value 'time' can be converted into hours, minutes, seconds and ticks using the time functions.</p>

<br>

<a name="objectdate"></a>
<p><b>OBJECT DATE</b><br>
<i>function: return the date of creation of an object</i><br>
date=<b>Object Date</b><br>
date=<b>Object Date</b>(pathfile$)</p>

<p>
Object Date returns the date stamp of an <a href="additional.html#diskobject">object</a> as numeric value.
This can also be separated into year, month, day and weekday using the date functions.</p>

<br>

<a name="objectcomment"></a>
<p><b>OBJECT COMMENT$</b><br>
<i>function: return the file note of an object</i><br>
comment$=<b>Object Comment$</b><br>
comment$=<b>Object Comment$</b>(pathfile$)</p>

<p>This function returns the file note of an <a href="additional.html#diskobject">object</a>.</p>

</body>
</html>
