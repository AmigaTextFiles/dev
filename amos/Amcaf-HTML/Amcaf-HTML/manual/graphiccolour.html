<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!--
      AMCAF Extension V1.40 Manual for Amos Professional, written by Chris Hodges (1994/95) and compiled by asymetrix for the Amiga community and should stay completely FREE FOREVER.
      Created 2009. :)
  -->
  <title>AMCAF Extension V1.40 Manual</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="keywords" content="AMCAF Extension V1.40 Manual, Amos Professional, Amiga, Programming, Basic, Chris Hodges, Extension, computing, code, AmigaDOS, Aminet.net">
  <meta name="author" content="asymetrix">

</head>

<body bgcolor="white">
<a href="../index.html">AMCAF Extension V1.40 Manual</a>&nbsp; <a href="../command.html">Index</a>

<hr align="center" size="1" width="100%">

<h1>Colour Commands</h1>

<br>

<p>
Playing with colour was often linked with complex formulas. But now there
is a series of helping commands - only AMCAF makes it possible!</p>

<br>

<a name="rainfade"></a>
<p><b>RAIN FADE</b><br>
<i>instruction: fade out a rainbow to another rainbow</i><br>
<b>Rain Fade</b> rainbow number,$RGB<br>
<b>Rain Fade</b> rainbow number <b>To</b> target rainbow</p>

<p>
Using this powerful instruction you can fade out the numbered rainbow to other colours. With the first version of Rain Fade
you may specify the target colour '$RGB' to which all colours of the rainbow will be faded.<br>
The other version fades exactly to the colours of the target rainbow.</p>

<p>
Rain Fade works step by step only. Therefore you need a maximum of 16
calls to reach the new colour values.</p>

<br>

<a name="setraincolour"></a>
<p><b>SET RAIN COLOUR</b><br>
<i>instruction: change the colour index of a rainbow</i><br>
<b>Set Rain Colour</b> rainbow number,new colour</p>

<p>
With the help of this command you can change the colour index of a rainbow
which has been set previously by Set Rainbow to a new value.<br>
This means that you can remove the irritating limit to the first 16 colours and are
now able to access all 32 colours. But there are even more possibilities!</p>

<p>
A colour index of -63 enables you to alter the hardware scrolling
register, so you can create fancy water and wobble effects.<br>
For more effects you need to install the SetRainPatch.</p>

<br>

<a name="palspread"></a>
<p><b>PAL SPREAD</b><br>
<i>instruction: spread the colour index from one to another</i><br>
<b>Pal Spread</b> colour 1,rgb1 <b>To</b> colour 2,rgb2</p>

<p>
Creates a smooth blend between the two colours rgb1 and rgb2.
The resulting colour set will be stored between colour 1 and colour 2.</p>

<br>

<a name="palgetscreen"></a>
<p><b>PAL GET SCREEN</b><br>
<i>function: save the palette of a screen</i><br>
<b>Pal Get Screen</b> palnr,screen number</p>

<p>
This function stores the complete palette of a screen in the internal palette memory number 'palnr'.<br>
'palnr' must be a value between 0 and 7.<br>

This command is used to quickly store a specific palette of a screen in a
buffer. To restore the old palette, you can call the Pal Set Screen
command.</p>

<br>

<a name="palsetscreen"></a>
<p><b>PAL SET SCREEN</b><br>
<i>instruction: set the palette of a screen</i><br>
<b>Pal Set Screen</b> palnr,screen number</p>

<p>This command restores the previously stored colour palette 'palnr' to the numbered screen.</p>

<br>

<a name="palset"></a>
<p><b>PAL SET</b><br>
<i>instruction: change an entry of a saved palette</i><br>
<b>Pal Set</b> palette number,index,colour</p>

<p>
This command changes the colour entry numbered 'index' in the selected palette to the colour value 'colour'.<br>
palette number must be a value between 0 to 7.</p>

<br>

<a name="amcafaganotation"></a>
<p><b>AMCAF AGA NOTATION ON/OFF</b><br>
<i>instruction: toggle aga amiga colour format</i><br>
<b>Amcaf Aga Notation On</b><br>
<b>Amcaf Aga Notation Off</b></p>

<p>
Normally, AMCAF commands, which take colour values as parameter, use a normal 12 bit colour value in the format $RGB.<br>
Since machines like the <a href="additional.html#agaamiga">A4000/A1200</a> there are 24 bit colour values in the Format $RRGGBB.</p>

<p>
After calling Amcaf Aga Notation On, all AMCAF commands and functions take
24 bit values, except <a href="#rrggbbtorgb">Rrggbb To Rgb</a> and <a href="#rgbtorrggbb">Rgb To Rrggbb</a>.<br>
The default setting is 12 bit.</p>

<br>

<h2>Functions</h2>

<a name="palget"></a>
<p><b>PAL GET</b><br>
<i>function: read a saved palette entry</i><br>
colour=<b>Pal Get</b>(palette number,index)</p>

<p>
This function reads the value of the colour with the number index 'index' from the internal stored palette buffer.<br>
palette number must be a value between 0 to 7.</p>

<br>

<a name="redval"></a>
<p><b>RED VAL</b><br>
<i>function: return the red value of a colour</i><br>
r=<b>Red Val</b>(rgb)</p>

<p>
This function acquires the red value of a colour. Together with the other
Val functions, you can separate the colour into its three contents.</p>

<br>

<a name="greenval"></a>
<p><b>GREEN VAL</b><br>
<i>function: return the green value of a colour</i><br>
g=<b>Green Val</b>(rgb)</p>


<p>
This function acquires the green value of a colour. Together with the
other Val functions, you can separate the colour into its three contents.</p>

<br>

<a name="blueval"></a>
<p><b>BLUE VAL</b><br>
<i>function: return the blue value of a colour</i><br>
b=<b>Blue Val</b>(rgb)</p>


<p>
This function acquires the blue value of a colour. Together with the other
Val functions, you can separate the colour into its three contents.</p>

<br>

<a name="gluecolour"></a>
<p><b>GLUE COLOUR</b><br>
<i>function: return a colour using the three colour values</i><br>
colour=<b>Glue Colour</b>(r,g,b)</p>

<p>Combines red, green and blue value of a colour to a normal colour value.</p>

<br>

<a name="mixcolour"></a>
<p><b>MIX COLOUR</b><br>
<i>function: return a colour my mixing colours</i><br>
colour=<b>Mix Colour</b>(colour 1,colour 2)<br>
colour=<b>Mix Colour</b>(oldrgb,addrgb,lower rgb <b>To</b> upper rgb)</p>

<p>
The first version of the function mixes the two colours colour 1 and colour 2 and returns the resulting colour value.</p>

<p>
The second version behaves a little bit differently: The colour 'addrgb'
is added to the colour value 'oldrgb', if 'addrgb' is a positive value or
subtracted, if the value is negative.<br>
'lower rgb' defines the lower and 'upper rgb' the upper boundary of the allowed resulting colours.</p>

<br>

<a name="bestpen"></a>
<p><b>BEST PEN</b><br>
<i>function: return the nearest pen for $RGB</i><br>
pen=<b>Best Pen</b>($RGB)<br>
pen=<b>Best Pen</b>($RGB,colour 1 <b>To</b> colour 2)</p>

<p>
This function acquires the pen which is nearest to the colour $RGB.
Optionally, you can give the range to search for the best colour.<br>
The Best Pen function can be used to recolour pictures with limited palette.</p>

<br>

<a name="hampoint"></a>
<p><b>HAM POINT</b><br>
<i>function: return the rgb value of a ham pixel</i><br>
rgb=<b>Ham Point</b>(x,y)</p>

<p>
This function simplifies the process of finding the right colour of a
point at the coordinates x,y on a <a href="additional.html#ham">HAM</a> screen.<br>
There's no need to proceed from the left to the right until the right pixel value is found,
although the Ham Colour method is a little bit faster when processing a picture from left to the right.<br>
Ham Point can access any point on the screen individually without preprocessing.</p>

<p>
If the point x,y is not on the screen, rgb will contain -1 instead of the red-green-blue value of a pixel.</p>

<br>

<a name="hamcolour"></a>
<p><b>HAM COLOUR</b><br>
<i>function: return a colour in ham mode</i><br>
rgb=<b>Ham Colour</b>(c,oldrgb)</p>

<p>
This function calculates the new colour value, that is created, when plotting a pixel in colour 'c' directly behind the last point.</p>

<br>

<a name="hambest"></a>
<p><b>HAM BEST</b><br>
<i>function: return the best colour in ham mode</i><br>
colour=<b>Ham Best</b>(newrgb,oldrgb)</p>

<p>
As you cannot achieve the desired colour by plotting only one pixel in
<a href="additional.html#ham">HAM</a> mode, you can use the Ham Best function to search the best colour
for the next dot.<br>
'newrgb' holds the target colour and 'oldrgb' the colour of the pixel exactly before the current dot.<br>
<b>Note:</b> the current screen must be a HAM screen.</p>

<br>

<a name="rgbtorrggbb"></a>
<p><b>RGB TO RRGGBB</b><br>
<i>function: return an aga colour from an ecs colour</i><br>
rrggbb=<b>Rgb To Rrggbb</b>(rgb)</p>

<p>
This function calculates a 12 bit colour value into a 24 bit AGA value.
The missing bits are set to zeros.<br>
Using this colour format you can assign 256 different colour values each to the red, green or blue part,
that is 16777216 different values in total.</p>

<br>

<a name="rrggbbtorgb"></a>
<p><b>RRGGBB TO RGB</b><br>
<i>function: return an ecs colour from an aga colour</i><br>
rgb=<b>Rrggbb To Rgb</b>(rrggbb)</p>

<p>
This function converts a 24 bit AGA colour value into a 12 bit ECS colour value.<br>
The other 12 bits will be discarded.</p>

</body>
</html>
