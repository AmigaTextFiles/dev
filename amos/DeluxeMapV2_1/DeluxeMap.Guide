@DATABASE "DeluxeMap"

@NODE MAIN "DeluxeMap"

                            
                                   Deluxe Map V2.1
                                ~~~~~~~~~~~~~~~~~~~~~
                                Un éditeur de niveaux

                                         by
                       Glames (Madget Brothers) (c) Avril 1999


                               @{" Introduction          " Link 0.}
                               @{" Copyright             " Link 1.}
                               @{" Auteur                " Link 2.}
                               @{" Infos techniques      " Link 3.}
                               @{" Installation          " Link 4.}
                               @{" Utilisation           " Link 5.}
                               @{" Autres productions    " Link 6.}
                               @{" Evolutions            " Link 7.}

@ENDNODE

@NODE 0. "Introduction"
Introduction
~~~~~~~~~~~~
Bienvenu dans le monde créatif de Deluxe Map !

  Deluxe Map 2.1 est un éditeur d'écrans : il permet de créer des décors par assemblage 
de blocs (comme un puzzle ). Il est destiné à tous les programmeurs et en particulier à 
ceux qui programment en AMOS. En effet, DMap leur fournit le moyen de créer rapidement 
des graphismes et de les inclure dans leurs programmes. Cependant, ce n'est pas 
seulement un éditeur d'écrans mais une véritable station de travail qui dispose d'un 
éditeur de blocs intégré (Deluxe Capture 2.1).

  Nous verrons dans ce manuel que cet outil de travail n'est pas un simple gadget 
puisqu'il vous permettra d'égaler ( voire même de surpasser ) certaines productions 
commerciales : tout dépend de votre imagination et de votre talent ...


                                                                     Glames.
@ENDNODE

@NODE 1. "Copyright"
Copyright
~~~~~~~~~
    Deluxe Map est un cardware : si vous l'appréciez et que vous l'utilisez 
régulièrement, envoyez-moi simplement une carte postale à l'adresse suivante : 

    SENAY Jérôme  12, rue Jenner  44100 Nantes

    Merci de m'indiquer votre config...


@ENDNODE

@NODE 2. "Auteur"
Auteur
~~~~~~
Jérôme SENAY alias Glames

- Formation :  
    . BAC D
    . DUT Informatique
    . Licence Informatique
    . Maitrise Informatique 

- Profession :
    . Analyste-programmeur

- Langages connus :
    . Amos Pro (2.0)
    . Visual Basic (3.0 et 5.0)
    . JAVA (1.1.6 et 1.2)
    . RPG (3.0 et 4.0)	
    . C (Amiga, PC et AS/400)
    . Pascal
    . Ada
    . C++
    . Assembleur 68000
    . Estel
    . Cobol

  et bientôt : Blitz Basic.

@ENDNODE

@NODE 3. "Infos techniques
Infos techniques
~~~~~~~~~~~~~~~~

    - Deluxe Map 2.1 a été développé en AMOS PRO 2.0 sur un A1200 030 18 Mo.
      
        Programmation..... Glames
        Graphismes........ Glames 
        Test.............. Pounard et Glames
        Documentation..... Glames
        Link Amiga........ Jean-Christophe Rineau et Glames

    - Deluxe Map est normalement compatible avec n'importe quel Amiga.
    
    - Deluxe Map a été testé sur :
        . A500 1Mo
        . A1200 68030 18 Mo

@ENDNODE

@NODE 4. "Installation"
Installation
~~~~~~~~~~~~
    - Créez un répertoire "Dmap".
    - Copiez tous les fichiers et répertoires de Deluxe Map dans ce répertoire.
      Certains répertoires peuvent être supprimés (C, L, Devs et S). 
    - Ajoutez un assign "DMap" dans votre startup-sequence (ou user-startup) pointant 
      sur le répertoire DMap. 
      Ex : si vos fichiers de Deluxe Map se trouvent dans le répertoire "Work:DMap",
           ajoutez la ligne suivante : assign >NIL: DMap: Work:DMap
    - Redémarrer votre Amiga.      

@ENDNODE

@NODE 5. "Utilisation"
Utilisation
~~~~~~~~~~~
                          @{" Préambule              " Link 8.}
                          @{" Définition d'un décor  " Link 9.}
                          @{" Préférences            " Link 10.}
                          @{" Deluxe Capture         " Link 11.}
                          @{" Création d'un écran    " Link 12.}
                          @{" Annexes                " Link 13.}
        
@ENDNODE

@NODE 6. "Autres productions des Madget Brothers"
Qui sont les Madget Brothers ?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
- Pierre Rineau alias pounard : graphismes, test
- Jean-Christophe Rineau      : programmation, graphismes, musiques
- Antoine Bernard             : programmation
- Mickaël Leray               : musique 
- Jérôme Senay alias Glames   : programmation, graphismes, test


Productions
~~~~~~~~~~~
- Deluxe Proj V1.0 
  ¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨"
     Quoi ?    Gestionnaires de travaux
     Qui  ?    Pour tous ceux qui veulent s'organiser.             
     Config ?  Tout amiga.
     Quand ?   Disponible immédiatement.  

- Deluxe Map V2.1
  ¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨"
     Quoi ?    Editeur de niveaux, décors de fonds, à intégrer dans vos
               programmes.    
     Qui  ?    Pour les développeurs.             
     Config ?  Tout amiga.
     Quand ?   Disponible immédiatement.

- EcoCité
  ¨¨¨¨¨¨¨
     Quoi ?    Jeu où vous devez gérer le développement d'une ville.
     Qui  ?    Pour les joueurs.             
     Config ?  Tout amiga.
     Quand ?   En cours de développement.

@ENDNODE

@NODE 7. "Evolutions"
Evolutions
~~~~~~~~~~
Si vous trouvez des bugs, n'hésitez pas à nous le signaler.

Si vous désirez faire évoluer le logiciel, envoyez-nous vos demandes...

Pour toute correspondance, une seule adresse :

Jérôme SENAY  12, rue Jenner  44100 Nantes

N'hésitez pas également à nous contacter sur le Web :

pounard@chez.com   

@ENDNODE

@NODE 8. " Préambule              "
Préambule
~~~~~~~~~

  Ce chapitre est destiné à expliquer aux débutants en des termes simples les notions de 
base nécessaires à une bonne compréhension du manuel. Les programmeurs un peu plus 
avertis peuvent déjà passer au prochain châpitre.

  Etudions la première notion importante : le bob. Qu'est-ce qu'un bob ? C'est ce que 
nous allons tenter de vous expliquer en termes simples mais néanmoins précis. Bob 
signifie "Blitter OBject". Le blitter est un des co-processeurs de l'Amiga : le rôle 
d'un co-processeur est de soulager le processeur de certaines tâches. Le blitter est 
utilisé pour les opérations graphiques et notamment les bobs. On peut donc définir un 
bob comme un objet géré par le blitter. Mais, qu'est-ce qu'un objet ? Une entité 
mobile ou immobile indépendante du décor dans lequel elle évolue et dont on peut 
détecter si elle entre en collision avec d'autres objets. Par exemple, dans un jeu, le
personnage, les ennemis,les bonus peuvent être considérés comme des objets contrairement 
au décor de fond. Si vous ne désirez avoir plus d'informations à propos des bobs, 
consultez votre manuel AMOS.

  La seconde notion importante est la banque. Celle-ci est, en fait, un espace mémoire 
réservé qui permet de stocker des informations. On parlera par exemple de banque de bobs,
c'est-à-dire de l'espace mémoire réservé pour stocker les différents bobs utilisés. La 
mémoire peut être mesurée en octets: c'est un ensemble d'octets mis bout à bout. On 
parle aussi de "mots" : un mot correspond à deux octets mis bout à bout.

  Lorsque vous manipulez un bloc sous DMap, vous manipulez en fait un bob qui est 
ensuite "posé" sur le décor. Celui-ci est un assemblage de bobs. Pour charger un écran 
déjà créé, il faudra donc fournir un fichier contenant les bobs (*.abk) et un fichier 
indiquant les différentes positions des blocs dans le décor (*.blc). Nous verrons qu'un 
autre fichier (*.ecr)  contenant les caractéristiques de l'écran (hauteur, largeur, ...)
est nécessaire. 

  Le sélecteur de fichiers est une fenêtre qui vous permet de "naviguer" dans 
l'arborescence de votre Amiga et de sélectionner un fichier.

  Nous terminons ce préambule par la notion de "hot spot" ou "point chaud". Celui-ci 
concerne les bobs : en effet, il indique quel point de référence va être utilisé pour
gérer (affichage, déplacement, collision, ...) le bob. En général, on utilise le coin
haut/gauche du bob ...

@ENDNODE

@NODE 9. " Définition d'un décor "
Définition d'un décor
~~~~~~~~~~~~~~~~~~~~~
  Un décor est identifié par un fichier "projet".  

                  @{" Projet " Link 14.}
                  @{" Ecran  " Link 15.}
                  @{" Blocs  " Link 16.}
                  @{" Audio  " Link 17.}
                  @{" Action " Link 40.}


  Remarques :
  """"""""""" 
    . Le chemin d'accès sélectionné doit être valide.
    . L'extension est ajoutée automatiquement (le projet DeluxeMap devient DeluxeMap.prj).    
    . Seul le nom de projet est obligatoire. 

@ENDNODE

@NODE 10. " Préférences            "

  Les préférences permettent de configurer DMap selon vos goûts. Ainsi, à chaque fois
que vous lancerez DMap, il sera configuré selon vos souhaits. Les préférences se 
divisent en quatre domaines principaux :
      
                                @{" Fichier        " Link 18.}
                                @{" Ecran          " Link 19.}
                                @{" Bloc           " Link 20.}
                                @{" Administration " Link 21.}
      
  Vous pouvez sauvegarder les préférences en cliquant sur le bouton "Sauver" ou 
simplement les utiliser temporairement en cliquant sur le bouton "Utiliser".

@ENDNODE

@NODE 11. " Deluxe Capture         "

    Si vous avez choisi l'option "Créer une liste" ou "Modifier une liste" dans la 
fenêtre Projet, vous arrivez sous Deluxe Capture 2.1. L'objectif de cette extension 
est de vous permettre de composer votre propre banque de bobs (semblable à l'Object 
Editor) .

                                @{" Capture d'un bob    " Link 22.}
                                @{" Charger une image   " Link 23.}
                                @{" Création de l'écran " Link 24.}
                                @{" Aide                " Link 25.}
                                @{" Menu                " Link 26.}
                                @{" Quitter             " Link 27.}


@ENDNODE

@NODE 12. " Création d'un écran    "

   L'écran vous permettant de créer votre décor (ou niveau ou carte) se compose de 3 
grandes parties: un menu est positionné dans la partie supérieure de l'écran (Menu 
écran). L'image que vous construisez se trouve en dessous (écran de travail). Enfin, 
dans la partie inférieure de l'écran se trouve une zone indiquant les informations 
importantes (indicateur).

                                @{" Indicateur       " Link 28.}
                                @{" Ecran de travail " Link 29.}
                                @{" Menu écran       " Link 30.}

@ENDNODE

@NODE 13. " Annexes                "
Annexes :
~~~~~~~~~
                                @{" API      " Link 35.}
                                @{" Exemples " Link 36.}
                                @{" Conseils " Link 37.}
                                @{" Erreurs  " Link 38.}
                                @{" Enregis. " Link 39.}

@ENDNODE

@NODE 14. " Projet "
Projet
~~~~~~
  Chaque décor réalisé est identifié par un fichier "projet" (*.prj). Celui-ci contient
toutes les informations concernant un décor : espace mémoire à réserver, nom du fichier 
contenant les paramètres de l'écran (*.ecr), nom de la banque de bobs utilisée (*.abk) 
et la liste des positions des blocs (ou bobs) (*.blc). Ainsi, votre prochain projet 
WORMS3.prj contiendra notamment WORMS3.ecr (description des caractéristiques de 
l'écran), WORMS3.abk (liste des blocs utilisés) et WORMS3.blc (liste des positions).

  Vous pouvez choisir un projet :
    - en utilisant un sélecteur de fichiers : cliquez sur le bouton "Choisir" de la 
      partie "Projet". 
    - en saisissant son nom (et son chemin d'accès) au clavier : cliquez auparavant
      dans la zone texte de la partie "Projet".
     
  Si vous choisissez un projet déjà existant, les caractéristiques de l'écran (hauteur,
nombre de couleurs,...) et les noms des fichiers nécessaires (caractéristiques écran, 
bobs et positions) seront automatiquement renseignés.

  Si le projet n'existe pas, tous les fichiers nécessaires dont le nom est à blanc 
auront le nom du projet. 

@ENDNODE

@NODE 15. " Ecran  "
Attributs de l'Ecran
~~~~~~~~~~~~~~~~~~~~

  Vous pouvez intégralement paramétrer votre écran : vous pouvez choisir sa taille, 
son nombre de couleurs ainsi que sa résolution.

  La taille possible d'un écran est :
        - pour la largeur : de 320 à 940 pixels
        - pour la hauteur : de 256 à 540 pixels

  Le nombre de couleurs varie, quant à lui, de 2 à 64.

  La résolution peut être haute (Hi) ou basse (Low).

  Cependant, pour les utilisateurs qui ne possèdent pas beaucoup de mémoire (1 Mo ), il 
est possible que ces normes deviennent plus restreintes.

  Afin de régler la largeur, la hauteur et le nombre de couleurs de votre écran, cliquez, 
à l'aide de votre souris, sur les boutons "+" et "-" associés ou directement sur la zone 
indiquant la valeur. Dans ce cas, un fenêtre apparait où vous pouvez saisir votre 
nouvelle valeur.

  Si la résolution par défaut ne vous convient pas (Lo : basse résolution ; Hi : haute 
résolution ), cliquez simplement sur cette zone : O miracle, la résolution est modifiée.

   Cliquez sur le bouton "Choisir" ou directement dans la zone associée pour choisir le 
nom du fichier contenant les caractéristiques de l'écran (*.ecr). Pour des raisons de 
clarté, on a l'habitude d'utiliser le même nom que celui du projet mais cela n'est pas 
une obligation : on peut par exemple définir un fichier Low32_320X256.ecr qui définit 
un écran en basse résolution en 32 couleurs et l'utiliser pour tous les projets qui 
utilisent le même type d'écran : il en résulte un évident gain de place.
@ENDNODE

@NODE 16. " Blocs  "
Gestion des Blocs
~~~~~~~~~~~~~~~~~

  Les blocs servant à construire votre écran doivent être contenus dans une banque de 
bobs (*.abk) et non pas dans une banque d'icônes.

  DMap propose trois façons de composer sa propre banque de bobs :
    - Si vous désirez utiliser une banque de bobs déjà existante sans la modifier,
      cochez le bouton "Utiliser une liste".
    - Si vous préférez créer votre banque de bobs sous DMap, choisissez "Créer une
      liste".
    - Si vous souhaitez modifier une banque déjà existante en ajoutant de nouveaux 
      bobs, cochez le bouton "Modifier une liste".

  Vous devez également définir le "hot spot"(point chaud) des blocs. Vous pouvez 
choisir entre 9 références (coin haut/gauche, coin bas/gauche, ...). Cliquez simplement
sur le bouton associé pour faire évoluer le "hot spot".
 
  Cliquez sur le bouton "Banque" ou directement dans la zone texte associée pour 
choisir le nom de la banque de bobs (*.abk). Faites de même pour la liste des 
positions de blocs (*.blc).
@ENDNODE

@NODE 17. " Audio  "
Environnement sonore
~~~~~~~~~~~~~~~~~~~~

  DMap vous offre la possibilité d'écouter votre musique préférée lors de votre 
travail sous Deluxe Map. Vous avez trois possibilités :
    - Soit vous vous recueillez dans un silence quasi religieux en choisissant 
      l'option "SILENCE".
    - Soit vous utilisez les bruitages de Deluxe Map.
    - Soit vous décidez de vous en mettre plein les oreilles en écoutant de majestueuses 
      symphonies au format protracker.

  Il vous suffit de cocher la case voulue en cliquant dessus. Si vous avez choisi 
un module, une fenêtre apparait vous demandant de sélectionner le module.

@ENDNODE

@NODE 18. " Fichier        "
Fichier :
~~~~~~~~~

  Vous pouvez choisir un module de musique (format protracker) qui sera joué au 
démarrage de Deluxe Map : cliquez sur le bouton du cadre "Module par défaut" et 
sélectionnez un module via le sélecteur de fichiers. Il faut toutefois avoir choisi
l'option "Module Protracker" dans la partie "Environnement sonore" pour que le 
module soit joué ...

  Vous pouvez également utiliser des chemins d'accès par défaut lors de l'appel au
sélecteur de fichier. Vous pouvez ainsi définir les chemins d'accès aux images IFF,
aux fichiers contenant les positions des blocs (*.blc), aux banques de blocs (*.abk),
aux musiques, aux fichiers contenant les caractéristiques de l'écran (*.ecr) ainsi
qu'aux projets (*.prj). Lors de la sélection du chemin d'accès, attention à ne pas 
modifier le nom du fichier qui est "chemin".
  
@ENDNODE

@NODE 19. " Ecran          "
Ecran :
~~~~~~~

  Cliquez sur le bouton "Sauver les paramètres actuels" si vous souhaitez sauver les
caractéristiques écran indiquées sur la fenêtre principale de Deluxe Map dans la partie
"Ecran".

@ENDNODE

@NODE 20. " Bloc           "
Bloc :
~~~~~~

  Cliquez sur le bouton "Sauver les paramètres actuels" si vous souhaitez sauver le
mode d'utilisation des banques de bobs (création, modification, ...) indiquées sur la 
fenêtre principale de Deluxe Map dans la partie "Blocs".

  Sélectionnez le mode d'effacement des blocs ainsi que le rafraichissement de l'écran
après suppression en cliquant respectivement sur les boutons "Mode d'effacement" et 
"Réafficher l'écran" dans la partie "Effacement".

@ENDNODE
                           
@NODE 21. " Administration "
Administration :
~~~~~~~~~~~~~~~~

  Cliquez sur le bouton "Sauver les paramètres actuels" si vous souhaitez sauver 
l'environnement sonore de Deluxe Map indiqué sur la fenêtre principale de Deluxe Map 
dans la partie "Environnement sonore".

  Saisissez la taille du buffer mémoire (en octets) à réserver pour la constitution du 
projet en cliquant sur la zone texte "Taille buffer écran". Par exemple, si vous 
choisissez un buffer de 2000 octets, vous pourrez placer environ 334 blocs...

  Vous pouvez également activer la sauvegarde automatique en cliquant sur le bouton 
"Sauvegarde automatique". Vous pouvez ensuite préciser la fréquence de la sauvegarde :
la fréquence la moins élevée possible est 10 minutes. 

@ENDNODE

@NODE 22. " Capture d'un bob    " 
Capture d'un bob :
~~~~~~~~~~~~~~~~~~
     Cette option vous permet de capturer des blocs à partir d'une image IFF 
préalablement chargée. Si aucune n'a été chargée auparavant, une fenêtre apparait alors
pour la sélection d'une image IFF.

     Déplacez-vous avec la souris (ou avec les flèches de déplacement du clavier) puis 
cliquez sur le bouton gauche pour indiquer le coin haut/gauche du bloc. Puis déplacez 
le pointeur de la souris jusqu'au coin bas/droite du bloc et cliquez à nouveau. Vous 
pouvez là encore utiliser les flèches de déplacement et la touche "Return" de votre 
clavier.

     Vous pouvez à tout moment annuler la capture en appuyant deux fois sur la touche
"Esc" (ou "Echapp").

     Pour vous aider, vous disposez d'un zoom. La hauteur et la largeur du bloc en cours 
de sélection sont également indiquées.

Remarques :
"""""""""""
  . L'image ne doit pas comporter plus de couleurs que la valeur choisie dans la fenêtre
    Projet.
  . Lors de la capture d'un bloc, la largeur est arrondi au mutiple de 16 supérieur 
    (caractéristique propre aux bobs et aux sprites).
  . Seules les images IFF ECS (non AGA) peuvent être utilisées.

@ENDNODE

@NODE 23. " Charger une image   "
Charger une image :
~~~~~~~~~~~~~~~~~~~
      Cette commande permet de charger une autre image que celle préalablement chargée. 
Sélectionnez donc une image IFF via le sélecteur de fichier.

Remarques :
""""""""""" 
  . Seule la palette de la dernière image chargée est prise en compte par la suite.
  . Seules les images IFF ECS (non AGA) peuvent être utilisées.


@ENDNODE

@NODE 24. " Création de l'écran "
Création de l'écran :
~~~~~~~~~~~~~~~~~~~~~
      Ce bouton permet de commencer la création de l'écran. Vous utiliserez la banque 
que vous venez de créer ou de modifier.

@ENDNODE

@NODE 25. " Aide                "

     Deluxe Capture dispose d'une aide spécifique qui vous permet d'utiliser Deluxe Map 
de façon efficace et intensive.

Remarque :
"""""""""" 
  . Une aide sur chaque bouton de Deluxe Capture est affichée lorsque vous positionnez
le pointeur de souris sur l'un d'eux.

@ENDNODE

@NODE 26. " Menu                " 
Menu :
~~~~~~
     Cette option vous permet de retourner à la fenêtre Projet. Les blocs créés ou 
ajoutés seront irrémédiablement perdus...

@ENDNODE

@NODE 27. " Quitter             "
Quitter :
~~~~~~~~~

     Cette commande vous permet de quitter Deluxe Map 2.1 et de retourner sous le 
Workbench.
@ENDNODE

@NODE 28. " Indicateur       "
Indicateur :
~~~~~~~~~~~~

  L'indicateur est en fait une mine de renseignements. Il est très important de prêter 
attention aux informations qu'il contient.

  Certains renseignements sont toujours présents à l'écran : vous pouvez observer les 
coordonnées (X et Y) de la position courante dans l'écran de travail. Vous disposez 
aussi du numéro de bloc courant et enfin de la vitesse de déplacement.

  Quelques informations n'apparaissent que dans certaines situations : par exemple, si 
vous renversez un bloc horizontalement, "RENV H" sera affiché. De même, si vous le 
renversez de façon verticale, "RENV V" sera à l'écran. Lors d'une connexion avec un 
autre Amiga, si vous êtes receveur (voir chapitre sur la connexion), "RECEV" sera 
affiché sur l'indicateur.

  Si vous êtes observateurs (et vous l'êtes certainement), vous avez pu voir un cadre au 
centre de l'indicateur : celui sert en fait à visualiser le zoom (cf Menu Ecran).

@ENDNODE

@NODE 29. " Ecran de travail " 
Ecran de travail :
~~~~~~~~~~~~~~~~~~
  L'écran de travail est en fait le miroir de vos actions : c'est le résultat visible de 
ce que vous faites. Celui-ci contient donc l'image (ou écran ou carte ou niveau) que 
vous élaborez.

  Il peut arriver que lorsque vous placez un bob, seule une partie de celui-ci s'affiche. 
Ne paniquez pas ! Cliquez sur le bouton "Réafficher" du menu "Ecran".Si le problème 
persiste, sauvez votre écran et rechargez le. Il n'y aura plus de défauts d'affichage.

  Si il vous arrive de voir sur l'écran des choses bizarres (genre contenu de la 
mémoire), sauvez votre écran. Stoppez les autres programmes qui fonctionnent 
simultanément. Réaffichez votre écran. S'il n'y a pas d'améliorations : rebootez. 
D'où l'intéret de faire des sauvegardes régulièrement ...

@ENDNODE

@NODE 30. " Menu écran       "
Menu Ecran :
~~~~~~~~~~~~
    Le menu écran se divise en quatre grands groupes :
                
                       @{" Menu 'A propos' " Link 31.}
                       @{" Menu 'Bloc'     " Link 32.}
                       @{" Menu 'Options'  " Link 33.}
                       @{" Menu 'Ecrans'   " Link 34.}

    Chaque commande accessible par l'intermédiaire de ces menus peut être exécutée au 
clavier (raccourci-clavier). Une aide concernant chaque commande est disponible en 
cliquant dessus avec le bouton droit.

@ENDNODE

@NODE 31. " Menu 'A propos' "
Menu "A-PROPOS" :
~~~~~~~~~~~~~~~~~
  Ce menu permet d'apporter à l'utilisateur des informations générales quant à 
l'utilisation de Deluxe Map V2.1.

  La première commande est "Information". Pour activer celle-ci, il vous suffit de 
cliquer dessus avec le bouton gauche de votre souris. Vous pouvez également l'exécuter 
grâce à la touche <I> de votre clavier. Cette première commande vous permet d'en savoir 
un peu plus sur les auteurs de DMap.

  La seconde commande est "Aide".Comme son nom l'indique,elle offre à l'utilisateur un 
récapitulatif des commandes principales avec, pour quelques unes, le raccourci-clavier
(lettre en bleu). La touche <A> permet d'exécuter cette instruction. 

  La commande suivante est "Mémoire". Elle vous permet de connaitre "l'état" de votre 
mémoire, c'est-à-dire la quantité disponible de chip-ram et de fast-ram. Cette 
instruction est accessible par la touche <M> (seulement quand le menu "A propos" est 
affiché).

  "Quitter" est la dernière commande de ce menu : elle est accessible par la touche <Q>. 
Elle permet de quitter Deluxe Map et de retourner sous le workbench.

@ENDNODE

@NODE 32. " Menu 'Bloc'     "
Menu "BLOC" :
~~~~~~~~~~~~~

  Ce menu permet de construire l'image : il permet de gérer les bobs qui vont servir à 
l'élaboration du décor. En effet, vous pourrez placer, supprimer, tourner des bobs ...

  Pour se déplacer sur l'écran de travail, vous pouvez cliquer sur les zones de 
défilement (>,<; ...). Vous pouvez également bouger grâce aux flèches du clavier et au 
joystick.

  L'instruction suivante est "Placer" : elle vous permet de positionner un bob aux 
coordonnées courantes de l'écran de travail. Vous avez aussi la possibilité d'appuyer 
sur la touche <P>.

  La commande suivante est "Effacer". Comme son nom l'indique, elle permet de corriger 
certaines bévues en les effaçant. Cette commande est accessible par la commande <E>. 
Lorsque vous choisissez cette instruction, une nouvelle fenêtre apparaît.
  Vous pouvez alors choisir le numéro du bob à effacer en cliquant sur les boutons "+" 
et "-" associés ou directement sur la zone. Dans ce cas, une fenêtre apparait où vous 
devez saisir le bob à supprimer (la largeur et la hauteur du bob sont alors précisées). 
Le bob que vous sélectionnez apparait dans le cadre du zoom (indicateur).
  Puis, vous devez sélectionner le type d'effacement. Il y a 2 possibilités : si vous 
sélectionnez l'option "TOUS", tous les bobs dont le numéro correspond à celui choisi 
seront effacés. L'autre option est "UN A UN" et permet de traiter au cas par cas. Pour 
chaque bob, vous pouvez décider de le supprimer ou de passer au suivant (le bob à 
supprimer clignote sur l'écran de travail). Vous pouvez également arrêter la procédure 
en fermant la fenêtre.
  Enfin, vous pouvez choisir de réafficher immédiatement l'écran (les suppressions 
seront alors visibles ) ou de ne pas le faire. Dans ce cas, les bobs effacés restent 
affichés. Cependant, ils sont bien supprimés du fichier écran (si toutefois une 
sauvegarde est réalisée).

  Les commandes suivantes sont "UNDO" et "REDO". "UNDO" permet d'effacer le dernier bloc 
placé : vous pouvez par ce moyen effacer tout l'écran. Cette commande est accessible par 
la touche <U>. La commande "REDO" permet, elle, de replacer le dernier bob effacé par 
l'instruction "UNDO". Cette commande peut être exécutée en appuyant sur la touche <R>.

  Les commandes suivantes sont "SUIVANT" et "PRECEDENT" : elles permettent de changer le 
bob sélectionné. "SUIVANT" permet de prendre le bob suivant de la banque. Si le bob 
sélectionné auparavant était le dernier,le nouveau bob sera celui ayant le numéro 1. 
Cette commande est accessible par la touche <+>.
  "PRECEDENT" permet de prendre le bob précédent de la banque. Si le bob sélectionné 
auparavant avait le numéro 1, le nouveau bob sélectionné sera le dernier de la banque.

  Enfin, les dernières commandes de ce menu sont "RENV HORIZ" et "RENV VERTI" qui 
permettent respectivement de retourner horizontalement et verticalement le bob 
sélectionné. Dès que celui-ci est posé, il est ajouté dans la banque de blocs. 
Ces commandes sont respectivement accessibles par les touches <H> et <V>.

@ENDNODE

@NODE 33. " Menu 'Options'  "
Menu "Option" :
~~~~~~~~~~~~~~~

  Le menu "Option" a pour but principal de faciliter la composition d'un écran.

  La première commande est "Zoom". Comme son nom l'indique, elle permet de zoomer sur la 
position courante de l'image. On peut l'activer en cliquant dessus ou en tapant <Z> au 
clavier. On désactive cette option de la même façon.

  La seconde commande du menu "OPTION" est la commande connexion.Si vous disposez d'un 
cable NULL MODEM, vous pourrez relier deux Amiga. le type de l'Amiga n'a pas 
d'importance : vous pouvez, par exemple, relier un A500 et un A1200. Ainsi, vous pourrez 
travailler à deux simultanément sur la même image : il y aura un gain de temps important.
  Avant d'établir la connection entre les deux Amiga, vérifiez que le cable NULL MODEM 
est bien branché sur les ports série des deux machines. De plus, les utilisateurs 
doivent avoir chargé la même banque de bobs sous peine d'obtenir des erreurs d'exécution.
Dès à présent, il est important de comprendre que chaque opération spécifiée par la suite 
doit être réalisée par chacun des utilisateurs.
  Maintenant que tout est clair, cliquez sur la commande "Connexion". Vous pouvez encore 
appuyer sur la touche <X>. Une nouvelle fenêtre apparait alors. Vous avez, à présent, 3 
possibilités : soit vous décidez d'établir la connexion, cliquez alors sur l'option 
"Connexion"; soit vous désirez interrompre la connexion, cliquez alors sur "Déconnexion"; 
soit vous voulez retourner au menu écran principal, sélectionnez alors l'option "Annuler".
  Pour que la connexion fonctionne, il est nécessaire que les deux Amigaistes choisissent 
l'option "Connexion". Sinon, il n'est pas impossible que DMap plante ... Dès que la 
connexion est correctement réalisée, les utilisateurs peuvent se transmettre leurs écrans.
  Le système de transmission est du type "passe-moi le sel". Je m'explique : il est 20H00, 
votre famille est réunie à table pour le souper. Le potage que votre mère a préparé avec 
amour est bon mais il manque de sel. Mais tout n'est pas perdu : en effet, vous apercevez 
la précieuse salière à l'autre bout de la table. C'est pourquoi vous demandez le sel à 
votre père. Celui-ci vous passe le sel : c'est l'ENVOYEUR. Vous prenez le sel : vous êtes 
le RECEVEUR. Dmap suit le même principe: un utilisateur joue le rôle de l'envoyeur et 
l'autre joue le rôle du receveur. Cela sous-entend que les deux amigaistes ne peuvent 
envoyer des données en meme temps ( imaginez que votre pére et vous-même essayiez de 
prendre le sel en même temps !) ou de recevoir des données simultanément (si chacun 
attend que l'autre lui passe le sel...).
   Dans Dmap, l'utilisateur choisit d'être envoyeur ou receveur. Comme nous l'avons vu 
précédemment, il est impératif qu'il y ait un receveur ET un envoyeur. Si vous désirez 
être l'envoyeur, appuyez sur la touche <1> du pavé numérique. Pour recevoir, appuyez sur 
<2>. Il est important que le receveur soit prêt (imaginez que votre père vous passe 
le sel et que vous ne le regardez pas : le sel tombe ...). Il est donc important que le 
receveur, celui qui appuie sur la touche <2>, le fasse avant que l'envoyeur n'appuie sur 
<1>. Le système de transmission est intelligent, il ne transmet que les blocs qui n'ont
pas encore été envoyés.
   Si la qualité de la transmission est douteuse, il vous faut modifier les paramètres 
de transmission. Ceux-ci se trouvent dans les préférences du Workbench (icone Editeur 
Série).Vous trouverez toutes les informations nécessaires dans votre manuel 
d'utlisation du Workbench. Les réglages que nous utilisons habituellement sont : 
protocole RTS/CTS, parité paire, 8 bits/car, 1 bit d'arret avec un débit de 19200 bauds 
et un tampon d'entrée de 32768 bits.

      L'option suivante est "Bloc Info". Elle permet de vous renseigner sur le bob (ou 
bloc) courant. Vous pourrez ainsi connaitre le numéro du bob, sa largeur ainsi que sa 
hauteur. Cette commande est accessible par la touche <B> (seulement si le menu "Options" 
est affiché).

      Enfin, la dernière option de ce menu est "Vitesse".Celle-ci permet de régler la 
vitesse de déplacement sur l'écran de travail. Les valeurs standards sont 1, 8, 16 ou 32
pixels. Vous pouvez également saisir une autre valeur : celle-ci doît cependant être 
inférieure à 128 pixels. Pour choisir une vitesse standard, il suffit de cliquer dessus. 
Pour un valeur spécifique, saisissez la valeur au clavier. Lé choix des valeurs 
standards est également accessible par la touche <D>.

@ENDNODE

@NODE 34. " Menu 'Ecrans'   "
Menu "Ecran" :
~~~~~~~~~~~~~~

  Ce menu est destiné à gérer les écrans réalisés : on peut charger un autre écran, 
sauver l'écran en cours, l'effacer, ...

  La première commande est "Sauver". Celle-ci est à utiliser réguliérement car elle 
permet de sauvegarder l'écran en cours de réalisation (et donc le projet !). Les 
caractéristiques écran, la banque de blocs et la liste des positions de bloc sont 
sauvées. Cette option est accessible par la touche <S>.

  La seconde commande est "Sauver sous". Celle-ci a la même fonction que la commande
"Sauver" à la différence près qu'elle permet de choisir le nom du projet ainsi que celui
de chaque fichier le composant. Seul le projet est obligatoire : si les autres noms de
fichiers ne sont pas précisés, ils porteront le même nom que le projet à l'extension 
près (ex: AlienBreed.prj donnera AlienBreed.ecr, AlienBreed.abk et AlienBreed.blc). Cette 
option est accessible par la touche <W>.
 
  La commande suivante est "Charger". Elle permet de charger un nouvel écran (accessible
par la touche <C>).

  La commande suivante est "Effacer" qui permet, comme son nom l'indique, d'effacer le
contenu de l'écran de travail. Le raccourci-clavier est la touche <N>.

  La commande suivante est "Réafficher". Elle permet de réafficher l'écran : ainsi les 
artefacts qui ont pu apparaître, seront effacés.  Le raccourci-clavier est la touche <G>.

  La dernière commande est "Sauver Image" : elle permet de sauver l'écran réalisé au 
format IFF. On pourra donc visualiser l'image obtenue avec un logiciel de dessin (DPaint, 
Ppaint, Brillance,...). Cette commande est accessible par la touche <F>.

@ENDNODE

@NODE 35. " API      "
Comment réutiliser les écrans réalisés ?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  Il est très facile d'utiliser les décors réalisés dans vos applications amos. La 
routine d'affichage de l'écran va être une routine d'affichage de bobs à partir d'un 
fichier.

  L'affichage du décor va se dérouler en deux étapes : la première étape va consister 
à charger le fichier en mémoire. La seconde va permettre de parcourir la mémoire afin 
d'afficher correctement l'image de fond.

  1) Chargement du fichier en mémoire

CHARGE_DEC:

'** Ouverture du fichier Projet (*.prj)  
Open In 1,NOM_PROJ$
Input #1,NOM_FOND$    'Nom fichier caractéristiques écran
Input #1,NOM_BANQ$    'Nom fichier banque de bobs
Input #1,NOM_BLOC$    'Nom fichier positionnement de blocs 
Input #1,MEM          'Mémoire à réserver
Input #1,PTCHD        'Point chaud à utiliser
Close 1

'** Ouverture du fichier contenant les caractéristiques écran (*.ecr)
Open In 1,NOM_FOND$
Input #1,TAILLEX      'Largeur écran
Input #1,TAILLEY      'Hauteur écran
Input #1,COULEUR      'Nombre de couleurs d l'écran
Input #1,RES$         'Résolution de l'écran 
Close 1

'** Chargement de la banque de blocs (*.abk) 
Load NOM_BANQ$,1

'** Définition du point chaud des blocs (cf source Amos)
BLOC_NB=length(1):Gosub BLOC_HOTSPOT

'** Réservation mémoire
Erase 5
Reserve As Work 5,MEM
ADRDEB3#=Start(5)
ADR3#=ADRDEB3#
ADRFIN3#=ADRDEB3#+MEM

'** Chargement des positions en mémoire (*.blc)
Bload NOM_BLOC$,ADRDEB3#

'** Ouverture écran 
Screen open 0,TAILLEX,TAILLEY,COULEUR,RES$
Get bob palette

Return 

  Le fichier est donc à présent chargé en mémoire. Nous pouvons à présent 
afficher le décor.

  2) Parcours de la mémoire et affichage

  Pour pouvoir afficher le décor, il est important de connaitre la structure de la zone 
mémoire utilisée. Les blocs respectent la structure suivante :
 
1er mot (= 2octets) - numéro du bob ; 
2eme mot - abscisse (x) du bob ; 
3eme mot - ordonnée (y) du bob.
.
AFF_ECR:
OBJ#=0:XOBJ#=0:YOBJ#=0
ADR=ADRDEB                    ; init de l'adr : deb zone memoire
While ADR<ADRFIN              ; Tant qu'on n'a pas parcouru tout la zone mémoire
   OBJ#=Deek(ADR)             ; Lecture 1er mot (2 octets) : n° bloc
   ADR=ADR+2                  ; Incrémentation de l'adresse
   XOBJ#=Deek(ADR)            ; lecture 2e mot : x
   ADR=ADR+2
   YOBJ#=Deek(ADR)            ; lecture 3e mot : y
   Paste Bob XOBJ#,YOBJ#,OBJ# ; Affichage
   ADR=ADR+2
Wend
Return

   Si vous n'avez pas tout compris, aidez-vous de votre manuel AMOS. Ces deux listings 
sont inclus sur la disquette.

@ENDNODE

@NODE 36. " Exemples "
Exemples :
~~~~~~~~~~

  Le but de ce chapître est de vous prouver qu'il ne tient qu'à vous de réaliser des 
productions de qualité. En effet, la disquette DMap contient de nombreux exemples tous 
inspirés de jeux en vente dans le commerce.

  Chaque écran a été intégralement crée : c'est-à-dire qu'aucun des graphismes ( bobs 
ou blocs ) n'a été rippé ou recopié d'une image existant déjà.

  Nous avons essayé de réaliser des écrans correspondant à tout type de jeux. Ainsi, 
nous avons d'abord réalisé un niveau d'un jeu de plates-formes et d'échelles : Happy 
Monster (DP). Puis, nous avons construit des écrans de jeux de plates-formes (Aladdin et 
Soccer Kid). Le sport n'est pas en reste avec Sensible Golf. Enfin, un écran du jeu 
d'action/réflexion Cannon Fodder 2 a lui aussi été conçu.

  Tous ces écrans ont été réalisés en moins de trois heures (sans utiliser l'option 
"Connexion" entre deux Amiga). J'espère que ces réalisations vous encourageront à 
réaliser de superbes décors.
																																		               Les Madget Brothers.
@ENDNODE

@NODE 37. " Conseils "
Les 10 conseils pour bien utiliser Deluxe Map :
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  1. Lors de la création de vos blocs avec un utilitaire de dessin (du genre Deluxe 
Paint), n'hésitez pas à bien délimiter chaque objet afin de faciliter la capture sous 
forme de bobs. Vous pouvez par exemple les encadrer avec une couleur vive.

  2. Lors de la capture de vos objets sous Deluxe Map, il est utile de connaitre leurs 
tailles pour être sur d'avoir sélectionné l'objet entièrement. N'hésitez donc pas à les 
noter sur votre image IFF.

  3. Sauver régulièrement les écrans en cours de réalisation.

  4. Lorsque vous vous trompez, n'insultez pas la machine sous peine de plantage 
immédiat ! N'oubliez pas que vous disposez d'un système d'UNDO/REDO qui permet de 
corriger certaines erreurs.

  5. Ayez toujours un soda bien frais à portée de mains.

  6. Ne pas lancer la disquette contre les murs.

  7. Avoir un Amiga.

  8. Ne pas jouer au foot simultanément.

  9. Ne pas boire d'alcools, ne pas fumer, ne pas se droguer ...

  10. S'armer de courage !!!

@ENDNODE


@NODE 38. " Erreurs  "

INDEX DES ERREURS

1 "Maximum 16 couleurs en haute résolution"
    Vous ne pouvez pas choisir plus de 16 couleurs si vous choisissez le mode haute 
résolution. DMap ne gère pas encore l'AGA !

2 "Nombre de couleurs incompatible"
    Vous avez choisi une image IFF qui contient plus de couleurs que ce que vous aviez 
défini dans la fenêtre de projet.

3 "Erreur de chargement : n° de bloc non trouvé"
    Vous avez dû choisir une banque de blocs qui ne correspond pas au projet. En effet, 
dans la liste des positions des blocs, un numéro de bloc qui n'existe pas dans la banque 
de blocs a été mentionné.

4 "Banque de blocs invalide"
    Le nom de la banque de bob choisie n'a pas l'extension *.abk ou n'existe pas alors 
que vous êtes en mode "Modifier une liste" ou "Utiliser une liste". 

5 "Nom de projet invalide"
    Le nom de projet (*.prj) n'a pas été renseigné. 

6 "Paramètres écrans invalides"
    Le nom que vous avez saisi pour le fichier contenant les caractéristiques écrans ne 
se termine pas par l'extension *.ecr ou n'est pas renseigné.

7 "Liste de blocs invalide"
    Le nom de la liste des positions de blocs n'a pas l'extension *.blc ou n'a pas été 
renseigné.

8 "Le chemin d'accès au projet est invalide"
    Le chemin d'accès au projet n'existe pas.
    --> Verifiez le chemin d'accès.

10 "Erreur de chargement : bloc hors de l'écran"
   Un bloc n'apparaîtra pas à l'écran : vérifiez la taille de votre écran.

11 "Erreur non identifiée"
   C'est presqu'un "Guru meditation"...
   Causes possibles :
    - Vous avez essayé de charger un module non protracker.
    - Certains fichiers de Deluxe Map sont absents.

12 "Mémoire insuffisante"
   La mémoire de votre Amiga est saturée.
   --> Rebootez votre Amiga.

14 "La largeur de l'écran doît être au moins 320 et la hauteur au moins 100"
   Vous avez tenté de charger un écran dont la taille est trop petite pour être chargée
   par Deluxe Map.
   --> Augmentez les dimensions de l'écran avec un logiciel de dessin.

15 "Le fichier 'Bruitages.abk' n'existe pas dans le répertoire 'Dmap:sons/'"
   Un fichier nécessaire au bon fonctionnement de l'environnement sonore de Deluxe Map
   n'a pas été trouvé.
   --> Contactez les auteurs afin de vous procurer ce fichier.

16 "L'image 'grosDurHres' non trouvée dans le répertoire 'Dmap:images/'"
   Un fichier nécessaire au bon fonctionnement de Deluxe Map n'a pas été trouvé.
   --> Contactez les auteurs afin de vous procurer ce fichier.
 
20 "La taille du buffer pour la composition de l'écran paraît anormalement faible"
   Vous n'avez pas réserver assez de mémoire pour pouvoir créer un écran. Des risques
   de plantage sont possibles.
   --> Augmentez la taille du buffer.

21 "Le chemin d'accès au fichier -paramètres écran- est invalide"
    Le chemin d'accès au fichier -paramètres écran- (*.ecr) n'existe pas.
    --> Verifiez le chemin d'accès.

22 "Le chemin d'accès à la banque de bobs est invalide"
    Le chemin d'accès à la banque de bobs (*.abk) n'existe pas.
    --> Verifiez le chemin d'accès.

23 "Le chemin d'accès au fichier -positions des blocs- est invalide"
    Le chemin d'accès au fichier -positions des blocs- (*.blc) n'existe pas.
    --> Verifiez le chemin d'accès.

30 "Une image GIF ne peut être chargée" 
   Vous avez sélectionné une image au format GIF, format que ne gère pas Deluxe Map.
   --> Sélectionnez une image au format IFF ECS.

31 "Une image JPEG ne peut être chargée" 
   Vous avez sélectionné une image au format JPEG, format que ne gère pas Deluxe Map.
   --> Sélectionnez une image au format IFF ECS.

32 "Une image BMP ne peut être chargée" 
   Vous avez sélectionné une image au format BMP, format que ne gère pas Deluxe Map.
   --> Sélectionnez une image au format IFF ECS.
 
33 "Un fichier compacté avec XPK ne peut pas être chargé" 
   Vous avez sélectionné un fichier compacté avec XPK, format que ne gère pas Deluxe Map.
   --> Décompactez le fichier avant de l'utiliser. 

34 "Le format de cette image n'est pas reconnu"
   Vous avez sélectionné une image dont le format que ne gère pas Deluxe Map.
   --> Sélectionnez une image au format IFF ECS.
       
  
Plantage : 
  Deluxe Map peut "planter" si :
    - Vous essayez de charger un module protracker compacté.
    - Vous n'avez plus de mémoire disponible.   
 
@ENDNODE

@NODE 39. " Enregis. "
Enregistrement :
~~~~~~~~~~~~~~~~

Quel intérêt pour vous de sa faire enregistrer auprès des auteurs ?

Vous pourrez recevoir la prochaine production des Madget Brothers ...

Pour cela, renvoyez-nous le coupon ci-dessous avec 4 timbres au tarif
courant (pour les frais de port et de dupplication). 

******************************************************************************************************
Coupon d'enregistrement
***********************

NOM ________________________   PRENOM ____________________________

AGE (facultatif) __

ADRESSE _________________________________________________________________________
        _________________________________________________________________________
        _________________________________________________________________________

TELEPHONE (souhaité) ________________________________

CONFIG  _________________________________________________________________________
        _________________________________________________________________________

Je désire m'enregistrer auprès des Madget Brothers afin de recevoir gratuitement 
(j'ai bien compris que les frais d'envoi et de dupplication sont à ma charge : c'est 
pourquoi j'envoie 4 timbres ou équivalent) la prochaine production des Madgets 
Brothers.

Date :

Signature :
******************************************************************************************************

@ENDNODE

@NODE 40. " Action "
Action :
~~~~~~~~

- "Prefs"   : configuration de  Deluxe Map selon vos propres désirs.

- "On y va" : lancement de la création de l'écran.

- "Quitter" : quitter Deluxe Map et retourner sous le Workbench.

- "Crédits" : informations sur les auteurs.

- "Droits"  : distribution et dupplication de Deluxe Map.

- "Aide"    : à lire avnt de commencer ....

- "Exemples": un petit mot sur les exemples réalisés.

- "Hot-line": assistance sur les productions des Madget brothers.

- "Conseils": une liste de précieux conseils pour utiliser Deluxe Map.
 
@ENDNODE
