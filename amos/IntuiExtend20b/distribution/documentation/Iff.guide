@database Intuition Iff.guide @Author CIERP Philippe ©1995-98
@Version 2.0

@node Iff0 "Date: 12/05/96                                       System: v1.3+"

Synoptique: @{fg shine}CHK=Iff Find Chunk(CHKNAME$,BUFF,LEN)@{fg text}

     Entré: CHKNAME$=Nom du Chunk:
             Type de Chunk pour les images:
                BMHD=BitmapHeader (Definition de l'image/ecran).
                CAMG=CommodoreAmiga (ViewMode).
                AMSC=AmosScreen (Definition des ecran Amos).
                CMAP=ColorMap (Palette de couleur de l'image).
                BODY=Les données de l'image.
                ANNO=Annonceur.
                DPI =ArtDepartementalPro.
                GRAB=Definition pour les brush.
                NAME=Nom de l'image.
                CRNG=ColorRange (ColorCycling de DPaint).
                CCRT=ColorCyclingRangeAndTiming (Grafigraft).
                DEST=Destination Bitplanes.
                SPRT=Definition des Sprite.
            BUFF=Adresse de l'image chargé en memoire.
            LEN=Taille du fichier.

    Sortie: CHK=-1 Si le Chunk n'a pas ete trouvé, autrement c'est
            l'adresse de depart du chunk qui est retourné.

  Remarque: Avec CHKLEN=Leek(CHK-4) vous obtenez la taille en octet
            du Chunk.
            Cette commande fonctionne avec tout les type de fichier Iff.
@endnode
@node Iff1 "Date: 12/05/96                                       System: v1.3+"

Synoptique: @{fg shine}PAL=Iff Make Palette(CMAP,CNB)@{fg text}

     Entré: CMAP=Adresse retourne par 'Iff Find Chunk()'
            CNB=Nombre de couleur de la palette (CNB=Leek(CMAP-4)/3)

    Sortie: PAL=Adresse de la palette pour la commande 'Screen Palette'

@endnode
@node Iff2 "Date: 12/05/96                                       System: v1.3+"

Synoptique: @{fg shine}TYPE=Iff Type(BUFFER)@{fg text}

     Entré: BUFFER=Adresse du buffer ou a ete chargé le
            fichier iff.

    Sortie: TYPE=-1 Si ce n'est pas un format Iff.
                ='ILBM' ($) Pour les Images.
                ='TEXT' ($) Pour les documents.
                ='SMUS' ($) Pour les modules de musique.
                ='SMPL' ($) Pour les echantillons sonore (Sample).
                ='ANIM' ($) Pour le format d'animation

  Remarque: Cette commande fonctionne avec tout les type de fichier Iff.

@endnode
@node Iff3 "Date: 13/11/98                                       System: v1.3+"

Synoptique: @{fg shine}RES=Iff Decode Picture(_IFF,RASTPORT)@{fg text}

     Entré: _IFF=Adresse du buffer de l'image en mémoire
            Voir: @{" Iff Open Read " link IffA}
            RASTPORT=Rastport de l'écran dans lequel seras copié l'image
            Voir: Wb Screen Rastport, Amos Rastport

    Sortie: RES=0 Si tout est Ok, ou -1 si une erreur est survenue.

@endnode
@node Iff4 "Date: 13/11/98                                       System: v1.3+"

Synoptique: @{fg shine}WIDTH=Iff Get Width(_IFF)@{fg text}

     Entré:  _IFF=Adresse du buffer de l'image en mémoire
            Voir: @{" Iff Open Read " link IffA}

    Sortie: WIDTH=Retourne la largeur en pixel de l'image.

@endnode
@node Iff5 "Date: 13/11/98                                       System: v1.3+"

Synoptique: @{fg shine}HEIGHT=Iff Get Height(_IFF)@{fg text}

     Entré:  _IFF=Adresse du buffer de l'image en mémoire
            Voir: @{" Iff Open Read " link IffA}

    Sortie: HEIGHT=Retourne la hauteur en pixel de l'image.

@endnode
@node Iff6 "Date: 13/11/98                                       System: v1.3+"

Synoptique: @{fg shine}XPOS=Iff Get Xpos(_IFF)@{fg text}

     Entré:  _IFF=Adresse du buffer de l'image en mémoire
            Voir: @{" Iff Open Read " link IffA}

    Sortie: XPOS=Retourne la position horizontal de l'image
                 dans l'écran.

@endnode
@node Iff7 "Date: 13/11/98                                       System: v1.3+"

Synoptique: @{fg shine}YPOS=Iff Get Ypos(_IFF)@{fg text}

     Entré:  _IFF=Adresse du buffer de l'image en mémoire
            Voir: @{" Iff Open Read " link IffA}

    Sortie: YPOS=Retourne la position verticale de l'image
                 dans l'écran.

@endnode
@node Iff8 "Date: 13/11/98                                       System: v1.3+"

Synoptique: @{fg shine}DEPTH=Iff Get Depth(_IFF)@{fg text}

     Entré:  _IFF=Adresse du buffer de l'image en mémoire
            Voir: @{" Iff Open Read " link IffA}

    Sortie: DEPTH=Retourne le nombre de plan qui compose l'image.

@endnode
@node Iff9 "Date: 13/11/98                                       System: v1.3+"

Synoptique: @{fg shine}CMAX=Iff Get Ctable(_IFF,BUFFER)@{fg text}

     Entré:  _IFF=Adresse du buffer de l'image en mémoire
            Voir: @{" Iff Open Read " link IffA}
            BUFFER=Block de mémoire reservé pour stocker la palette
            La réservation du block de mémoire peu se faire de differente
            manière:
             -Par les commandes Amos de reservation de bnk
		ex: Reserve as Work 20,256*2 : CTABLE=Start(20)
             -Par la commande Alloc Mem
		ex: CTABLE=Alloc Mem(256*2,MEMTYPE)
             -Par la commande String$
		ex: CTABLE$=String$(Chr(0)$,256*2) : CTABLE=Varptr(CTABLE$)

    Sortie: CMAX=Retourne le nombre max de couleur du fichier image.

 ATTENTION: CMAX peut très bien retourner un nombre de couleurs supérieure,
            au nombre réel de l'image.
            Cela depend seulement de comment a été sauvegardé l'image, le
            mieux est de se fier a la commande 'Iff Get Depth', puis de
            convertire le resultat avec la commande 'Wb Depth To Colour'
              ex: ../..
                  DEPTH=Iff Get Depth(_IFF)
                  _COLOUR=Wb Depth To Colour(DEPTH)
                  ../..

@endnode

@node IffA "Date: 13/11/98                                       System: v1.3+"

Synoptique: @{fg shine}_IFF=Iff Open Read(FILENAME$)@{fg text}

     Entré: FILENAME$=nom+chemin de l'image.

    Sortie: _IFF=Adresse du buffer en mémoire de l'image.

@endnode
@node IffB "Date: 13/11/98                                       System: v1.3+"

Synoptique: @{fg shine}ERR0R=Iff Get Error@{fg text}

     Entré: None

    Sortie: ERR0R=N° de l'erreur si une erreur est survenue

Liste des erreur possible:
	-1 - Erreur sur la commande 'Iff Get Error'
	16 - Impossible d'ouvrir le fichier
	17 - Impossible de lire le fichier
	18 - Manque de mémoire
	19 - Ce n'est pas un fichier au format Iff
	20 - Erreur d'écriture dans le fichier
	24 - Ce fichier Iff n'est pas une image ILBM
	25 - Chunk BMHD introuvable
	26 - Chunk BODY introuvable
	28 - Type de compression inconnu
	29 - Chunk ANHD introuvable
	30 - Chunk DLTA introuvable

@endnode
@node IffC "Date: 13/11/98                                       System: v1.3+"

Synoptique: @{fg shine}VMODE=Iff Get Vmode(_IFF)@{fg text}

     Entré: _IFF=Adresse du buffer de l'image en mémoire
            Voir: @{" Iff Open Read " link IffA}

    Sortie: VMODE=Retourne le mode d'écran de l'image

@endnode
@node IffD "Date: 13/11/98                                       System: v1.3+"

Synoptique: @{fg shine}Iff Close _IFF@{fg text}

     Entré: _IFF=Adresse du buffer de l'image en mémoire
            Voir: @{" Iff Open Read " link IffA}

    Sortie: None

@endnode
@node IffE "Date: 13/11/98                                       System: v1.3+"

Synoptique: @{fg shine}_COLOUR=Wb Depth To Colour(DEPTH)@{fg text}

     Entré: DEPTH=Nombre de plan d'une image ou d'un écran.

    Sortie: _COLOUR=Nombre de couleurs correspondant.

@endnode
