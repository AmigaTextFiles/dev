P61 Extension V1.2 by Chris Hodges
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Introduction
~~~~~~~~~~~~
This is a small extension for AMOS Professional to replay P61A-modules.  It
uses the sources of P610.2 by Jarno Paananen. Extension number is slot 25.

Source is included.

Commands
~~~~~~~~
P61 Play bank[,pos]

Starts playing the P61a-Module in memory bank number bank. The optional pos
parameter  specifies  the  song  position to play from. The bank must be in
chipmem, if the module does *not* use 4 bit-delta samples. In this case,  a
secondary  buffer  will  be  allocated  automatically  to hold the unpacked
samples. The P61 Play command does not set or clear the Pause-flag,  so  if
you  don't  want  the  module  to start immediately, you can call P61 Pause
before.
---------------------------------------------------------------------------
P61 Stop

Stops the module. Does not set or clear the Pause-flag.
---------------------------------------------------------------------------
P61 Pause

Sets the Pause-flag and therefore temporarily  halts  the  music.  Use  P61
Continue to resume.
---------------------------------------------------------------------------
P61 Continue

Restarts a music previously stopped using P61 Pause.
---------------------------------------------------------------------------
P61 Cia Speed bpm

Changes the speed of the module to bpm beats per minute.
---------------------------------------------------------------------------
P61 Volume vol

Sets the volume of the module immediately.
---------------------------------------------------------------------------
P61 Fade speed [To vol]

Fades out the music or fades to the specified volume vol. speed  holds  the
amount of vertical blanks before the volume is changed one step.
---------------------------------------------------------------------------
sig=P61 Signal

Returns the nibble of any E8x command encountered or -1, if no  signal  has
been found. A sig value of -2 represents the songend.
---------------------------------------------------------------------------
pos=P61 Pos

Returns the current position of the song.
---------------------------------------------------------------------------

Legal Issue
~~~~~~~~~~~
Although this Extension is  Freeware,  the  author  reserves  the  complete
Copyright on this product. Every change on the source should be reported to
the author. Thanks.

Recommendation
~~~~~~~~~~~~~~
Please have a look at my other great extension called AMCAF! Over  250  new
commands and functions! Available on Aminet/dev/amos/AMCAFExt140xxx.lha.

History
~~~~~~~
V1.2 (27-Aug-97): Detected a bug and fixed it in the P61A Sourcecode. Now
                  you shouldn't get enforcer hits anymore.
                  TO ANYONE WHO'S USING THE ORIGINAL P610 SOURCE:
                  Search for the line:
                  move.l  a2,P61_Sample(a2)
                  and replace it with:
                  move.l  a2,P61_Sample(a1)
                  lea     Channel_Block_SIZE(a1),a1
V1.1 (24-Apr-97): V1.0 was completely broken. Fixed everything to work now.
V1.0 (19-Apr-97): First release.

Contact address
~~~~~~~~~~~~~~~
Any mail, comments or donations welcome:

Chris Hodges                    Account: 359 68 63
Kennedystr. 8                   BLZ    : 700 530 70
D-82178 Puchheim                Bank   : Sparkasse Fürstenfeldbruck
Germany
Tel.: +49-89/8005856
Email: platon@cu-muc.de         WWW: http://home.pages.de/~platon/ 
