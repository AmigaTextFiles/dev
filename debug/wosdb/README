wosdb V0.5        VBCC ANSI C Compiler Reference Manual           wosdb V0.5

NAME
     wosdb - a simple WarpOS debugger


SYNOPSIS
     wosdb [file name] [arguments...]


DESCRIPTION
     wosdb is a low-level debugger, which supports basic debugger
     functionalities like single-step trace mode, breakpoints, disas-
     sembler, memory dump, etc.. It also takes advantage from symbol
     hunks (HUNK_SYMBOL) in WarpOS programs.

     The debugger is not very useful, when the executable doesn't
     provide any symbols, so you should make sure that your compiler
     generates them.

     vbcc:
          vlink must not strip any symbols from the final executable.
          This can be achieved by omitting the options -s and -x. You
          can make a new config file, e.g. "warpos_debug" for this
          purpose, or use the compiler's -g option.

     StormC:
          Set the toggle for "Write Debugsymbols" in
          Settings -> C/C++ Compiler -> Options.

     Note: EGCS-WOS and other GCC-ports are probably not supported,
     because the generated code doesn't conform to the PowerOpen-ABI,
     used under WarpOS.

     When arguments are specified behind the file name, they will
     be passed via RunCommand() to the 68k launch code of the WarpOS
     program.


COMMANDS
     +                  Skip to next instruction
     -                  Skip to previous instruction
     ?                  Show help
     ? <exp>            Evaluate expression
     @r<n> = <exp>      Set GP register
     @f<n> = <flt exp>  Set FPU register
     L "name" [args...] Load WOS program for debugging
     U                  Unload current program
     S                  Show all symbols
     b                  Show all breakpoints
     b <exp>            Set normal breakpoint (trap instruction)
     bc <exp>           Clear breakpoint
     bt <exp>           Set temporary breakpoint
     c                  Catch any exception in the system
     d [<exp>]          Disassemble
     fpr                Show FPU registers
     g                  Run program
     g <exp>            Run program until specified address reached
     gpr                Show GP registers
     m [<exp>]          Memory dump
     n                  Break at next instruction (trace over calls)
     r                  Show all CPU registers and current instruction
     s                  Single step instruction
     tb                 Show stack frame trace-back
     x                  Exit debugger and unload debug task


EXPRESSIONS
     Expressions may consist of decimal, hexadecimal (0x...) or
     octal (0...) constants, symbols (read from HUNK_SYMBOL) and
     registers. The operations +, -, *, / and terms are allowed.
     Registers can be referenced by using the '@' prefix, e.g. @r1
     for contents of stack frame. Supported registers in expressions
     are: @r<n>, @lr, @ctr, @pc


LEGAL
     wosdb is freeware.


BUGS
     An access to 0x00000004 causes a DSI exception, which has to
     be emulated by the WarpUp kernel. An ugly side-effect is, that
     currently the instruction directly following this access can't
     be traced and will be skipped in trace-mode.

     When catching a task's exception, which was started inside the CLI
     process, wosdb will not notice its termination (e.g. after a 'g'
     command) until the CLI is closed. This is due to a bug/limitation
     in WarpOS' SnoopTask() function.


Frank Wille                  26-Nov-2017                frank@phoenix.owl.de
