CFLAGS = nostackcheck stringmerge params=r optimize opttime optschedule optinline optinlocal
LFLAGS = nodebug noicons smalldata smallcode

all: Sashimi

Sashimi: startup.c Sashimi.c SafeRawPutChar.asm
        sc link $(LFLAGS) $(CFLAGS) startup.c Sashimi.c SafeRawPutChar.asm to Sashimi

Debug: startup.c Sashimi.c SafeRawPutChar.asm
        sc link smalldata smallcode lib startup.c Sashimi.c SafeRawPutChar.asm to Sashimi

clean:
        delete \#?.o Sashimi

checkin:
        ci -l -q -t-. -M -d sashimi.c sashimi.doc smakefile SafeRawPutChar.asm
