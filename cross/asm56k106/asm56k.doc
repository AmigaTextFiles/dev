ASM56K V1.05 ©1996 by Peter Koletzki

Dieses ist nur eine Kurzanleitung. Eine ausführliche Anleitung gibt es, wenn ich
Zeit dazu habe ;-)

1. Systemvorraussetzung

	- Amiga mit 1MB freien Speicher
	- > OS3.0 ( andere Versionen sind nicht getestet )
	- Motorola EVM56K Board ( muß aber nicht sein:-) )

2. Installation

	- Asm56k und Load56k in ein Verzeichnis kopieren, wo ein Suchpfad drauf
	  existiert, oder ein Verzeichnis einrichten und ein Suchpfad drauf legen.

	  z.B. makedir dh0:DSP/bin
			 path dh0:DSP/bin add

3. Registrierung

	Benutzter dieses Paketes, die sich Registrieren lassen möchten, können das als
	e-mail unter :
						 whisky@dreamland.ruhr.de

	Registrierte Benutzter werden schon vorzeitig über Veränderungen informiert und
	bekommen ebenso in den Genuß von Beta-Versionen, z.B des Debuggers.

	Die Registrierung ist KOSTENLOS und soll eigendlich nur dazu dienen, ob es in der
	AMIGA-Welt überhaupt Interesse an DSP Systemen gibt.

5. Beschreibung des Assemblers

	In dieser Anleitung werden nur die Steueranweisungen für den Assembler
	beschrieben, jedoch nicht die Instructions. Dazu sollte man sich das
	DSP56000 Family-Manual ( DSP56KFAMUM/AD ) besorgen, falls man nicht das
	EVM-Board gekauft hat, wo dieses Buch beiliegt.


5.1 Assembler starten

	 asm56k [options] <Filename>.asm

	 Das File mit dem Namen <Filename> wird in ein Lod-File <Filename>.lod
	 übersetzt. Dieses Load-File kann mit dem Lader Load56k [<Filename>.lod]
	 in den DSP übertragen werden. Dazu ist des EVM-Board gemäß der EVM-
	 Anleitung anzuschließen.

	 Treten beim assemblieren Fehler auf, so werden diese Ausgeben mit einer
	 Beschreibung der Ursache, soweit wie möglich.

	 Optionen :

	 Der Assembler unterstützt im Moment folgende Optionen :

	 -V : Verbose
		 Der Assembler gibt Zusatzinformationen aus

	 -L : List
		 Es wird ein zusätzlich ein Listfile mit der Extension *.lst erzeugt

	 -D : Debug
		 Diese Option erzeugt eine Symboltabelle, die für das Betreiben des
		 Debuggers erforderlich.

5.2 Source-Statement-Format

	 Eine Assemblerzeile setzt sich wie folgt zusammen :

	 LOOP     mpy x0,y0,a   x:(r1)+,x0    y:(r5)+,y0   ;Text
	 ^^^^     ^^^ ^^^^^^^   ^^^^^^^^^^    ^^^^^^^^^^   ^^^^^
	  |        |     |          |             |          |
	  |        |     |          |             |          Kommentar
	  |        |     |          |             Y-Memory Move
	  |        |     |          X-Memory-Move
	  |        |     Operanden
	  |        Opcode oder Direktiven
	  Label oder Name

	 - Alle Statements die in Spalte 1 beginnen werden als Label behandelt
	 - Labels müssen mit '_' oder einem Buchstaben beginnen und dürfen
		höchstens 32 Zeichen lang sein.
	 - Es wird nicht zwischen Groß- und Kleinschreibung unterschieden
	 - Kommentare beginnen mit einem ';'


5.3 Assembler Direktiven

	 END       -  Ende des Source. Die Assemblierung wird mit diesem Befehl
					  abgebrochen.

	 INCLUDE   -  Syntax : include 'file' . Der Assembler lädt das Includefile
					  und setzt die Assemblierung im Includefile fort.

	 ORG       -  Syntax : org Memory-Descriptor:[Addresse][,Memory-Descriptor:[Addresse]]

						  Memory-Descriptor : x,y,p
						  Addresse          : Ausgabeaddresse optional

					  Setzt den Ausgabezeiger auf eine bestimmet Addresse. Wird keine
					  Addresse angegeben, wird die letzte Addresse zu dem
					  Memory-Descriptor genommen.

	 EQU       -  Setzt ein Symbol auf ein Wert.

	 SET       -  Setzt ein Symbol auf ein Wert. Der Wert ist veränderbar durch
					  einen weiteren Set-Befehl.

	 DC        -  Konstante wird angelegt.
	 DS        -  Speicher wird belegt.

	 DUP       -  Dublizeieren von Source-Sequenzen. Die Direktive muß mit ENDM
					  abgeschlossen werden.

	 MACRO     -  Beginn einer Macro-Definition
	 ENDM      -  Ende der Macro-Definition


Eine weitere Beschreibung der Befehle befindet sich in der Datei asm_man.txt
auf der Diskette zum EVM-Board. Der Assembler sollte zum Motorola-Assembler
kompatiebel sein, falls es zu Problemen kommt, bitt ich die Probleme aus-
fürlich zu schildern, damit ich sie beheben kann.


6. Was ist noch geplant an Software ?

Der Debugger ist in Arbeit. Ich hoffe ihn noch in diesem Jahr ins Aminet zu uppen.

Der Assembler wird ständig weiterentwickelt und soll nacher den selben Umfang
bieten, wie die Motorola-Version, die einige hundert Dollar kostet. Es ist nicht
die Light-Version gemeint, die dem EVM-Board bei liegt.

Zu diesem Assembler werde ich ebenfalls noch einen Debugger mit Symbol-Support
entwickeln.
Nach dem Assembler wird noch ein Linker folgen, damit auch größere Projekte
hanhabbar sind.

Über einen C-Compiler habe ich auch schon nachgedacht, aber alles zu seiner Zeit.


7. Was ist noch geplant an Hardware ?

Geplant ist eine Hostport-Parallel-Schnittstelle. Damit kann das Board als
Replace für diverse Parport-Sampler arbeiten.

Eine Zorro-Anbindung über den Hostport.

Und eventuell eine Zorro-Karte mit ansprechenden Leistungsmerkmalen.


--------------------------------------------------------------------------------

Ich hoffe mit dieser Aktion etwas Leben in das Thema Amiga und DSP zu bringen und
wünsche allen Benutzern dieses DSP-Paketes viel Spaß.


whisky@dreamland.ruhr.de (Peter Koletzki)

