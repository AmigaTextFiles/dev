; Please don't any changes it your self!
; Ver: 15.12.2024

; ------------------------
; SYS functions in ROM vX0
; ------------------------

; sum:s16 = x:s16 * y:s16
@SYS_Multiply_s16               #$009e
@SYS_Multiply_s16_Cycles        #66
@SYS_Multiply_s16_x             #$0024  ; WORD, sysArg[0:1]
@SYS_Multiply_s16_y             #$0026  ; WORD, sysArg[2:3]
@SYS_Multiply_s16_Sum           #$0028  ; WORD, sysArg[4:5]
@SYS_Multiply_s16_Mask          #$002a  ; WORD, sysArg[6:7]

; x:s16 = x:s16 / y:s16, rem:s16 = x:s16 % y:s16
@SYS_Divide_s16                 #$00a1
@SYS_Divide_s16_Cycles          #80
@SYS_Divide_s16_x               #$0024  ; WORD, sysArg[0:1]
@SYS_Divide_s16_y               #$0026  ; WORD, sysArg[2:3]
@SYS_Divide_s16_Rem             #$0028  ; WORD, sysArg[4:5]
@SYS_Divide_s16_Mask            #$002a  ; WORD, sysArg[6:7]

@SYS_DrawLine                   #$00a4
@SYS_DrawLine_Cycles            #86

@SYS_SpritePattern              #$00b6
@SYS_SpritePattern_Cycles       #134
@SYS_SpritePattern_Src          #$0024  ; WORD, sysArg[0:1]
@SYS_SpritePattern_DstY         #$0026  ; BYTE, sysArg[2]
@SYS_SpritePattern_Height       #$0027  ; BYTE, sysArg[3], sysArgs3=height/2
@SYS_SpritePattern_PatternLut   #$0028  ; WORD, sysArg[4:5]

@SYS_SortUint8Array             #$00b9
@SYS_SortUint8Array_Cycles      #52
@SYS_SortUint8Array_Array       #$0024  ; WORD, sysArg[0:1]
@SYS_SortUint8Array_i           #$0026  ; BYTE, sysArg[2]
@SYS_SortUint8Array_j           #$0027  ; BYTE, sysArg[3]
@SYS_SortUint8Array_Key         #$0028  ; BYTE, sysArg[4]
@SYS_SortUint8Array_Lenght      #$0029  ; BYTE, sysArg[5]

@SYS_SortSprites                #$00bc
@SYS_SortSprites_Cycles         #62
@SYS_SortSprites_y_array        #$0024  ; WORD, sysArg[0:1] 
@SYS_SortSprites_i              #$0026  ; BYTE, sysArg[2]
@SYS_SortSprites_j              #$0027  ; BYTE, sysArg[3]
@SYS_SortSprites_Key0           #$0028  ; BYTE, sysArg[4]
@SYS_SortSprites_Lenght         #$0029  ; BYTE, sysArg[5]
@SYS_SortSprites_Is_array       #$002a  ; WORD, sysArg[6:7]
; vAC.lo=Key1

@SYS_SortViaIndices             #$00bf
@SYS_SortViaIndices_Cycles      #44
@SYS_SortViaIndices_Indices     #$0024  ; WORD, sysArg[0:1]
@SYS_SortViaIndices_Src         #$0026  ; WORD, sysArg[2:3]
@SYS_SortViaIndices_Dst         #$0028  ; WORD, sysArg[4:5]
@SYS_SortViaIndices_Dst_step    #$002a  ; BYTE, sysArg[6]
; vAC=Count

@SYS_MemCopyByte                #$00c2
@SYS_MemCopyByte_Cycles         #40
@SYS_MemCopyByte_Src            #$0024  ; WORD, sysArg[0:1]
@SYS_MemCopyByte_Dst            #$0026  ; WORD, sysArg[2:3]
@SYS_MemCopyByte_Src_step       #$0028  ; BYTE, sysArg[4]
@SYS_MemCopyByte_Dst_step       #$0029  ; BYTE, sysArg[5]
; vAC=Count

@SYS_MemCopyWord                #$00c5
@SYS_MemCopyWord_Cycles         #48
@SYS_MemCopyWord_Src            #$0024  ; WORD, sysArg[0:1]
@SYS_MemCopyWord_Dst            #$0026  ; WORD, sysArg[2:3]
;@SYS_MemCopyWord_Tmp            #$0028  ; WORD, sysArg[4:5]
; vAC=Count

@SYS_MemCopyDWord               #$00c8
@SYS_MemCopyDWord_Cycles        #58
@SYS_MemCopyDWord_Src           #$0024  ; WORD, sysArg[0:1]
@SYS_MemCopyDWord_Dst           #$0026  ; WORD, sysArg[2:3]
;@SYS_MemCopyDWord_Tmp1          #$0028  ; WORD, sysArg[4:5]
;@SYS_MemCopyDWord_Tmp2          #$002a  ; WORD, sysArg[6:7]
; vAC=Count

@SYS_DrawVLine                  #$00cb
@SYS_DrawVLine_Cycles           #66
@SYS_DrawVLine_Count            #$0024  ; BYTE, sysArg[0], count
@SYS_DrawVLine_Colour           #$0025  ; BYTE, sysArg[1], colour
@SYS_DrawVLine_XYaddress        #$0026  ; WORD, sysArg[2:3], X:Y address

@SYS_DrawBullet                 #$00d1
@SYS_DrawBullet_Cycles          #140

@SYS_CmpByteBounds              #$00d4
@SYS_CmpByteBounds_Cycles       #54
@SYS_CmpByteBounds_Src          #$B8    ; WORD
@SYS_CmpByteBounds_vPC_bounds   #$BA    ; WORD
@SYS_CmpByteBounds_Bounds       #$BC    ; WORD
@SYS_CmpByteBounds_Index        #$BE    ; BYTE
@SYS_CmpByteBounds_Count        #$BF    ; BYTE
; output:vAC.lo=Index

; x:u8 = x:u16 / y:u8, rem:u8 = x:u16 % y:u8
; output : sysArgs0=res, sysArgs1=rem
@SYS_Divide_u168                #$00d7
@SYS_Divide_u168_Cycles         #56
@SYS_Divide_u168_x              #$0024  ; WORD, sysArg[0:1]
@SYS_Divide_u168_y              #$0026  ; BYTE, sysArg[2]
@SYS_Divide_u168_Count          #$0028  ; BYTE, sysArg[4]
@SYS_Divide_u168_Res            #$0024  ; BYTE, sysArg[0]
@SYS_Divide_u168_Rem            #$0025  ; BYTE, sysArg[1]

@SYS_ScanMemoryExt              #$00e3
@SYS_ScanMemoryExt_Cycles       #50
@SYS_ScanMemoryExt_Start        #$0024  ; WORD, sysArg[0:1], Start address
@SYS_ScanMemoryExt_Byte1        #$0026  ; BYTE, sysArg[2], Bytes to locate in the string
@SYS_ScanMemoryExt_Byte2        #$0027  ; BYTE, sysArg[3]
; vACL                    Length of the string (0 means 256)
; vACH                    Bit 6 and 7 contain the bank number

@SYS_ScanMemory                 #$00e6
@SYS_ScanMemory_Cycles          #50
@SYS_ScanMemory_Start           #$0024  ; WORD, sysArg[0:1], Start address
@SYS_ScanMemory_Byte1           #$0026  ; BYTE, sysArg[2]
@SYS_ScanMemory_Byte2           #$0027  ; BYTE, sysArg[3], Bytes to locate in the string
; vACL                    Length of the string (0 means 256)

@SYS_CopyMemory                 #$00e9
@SYS_CopyMemory_Cycles          #80
@SYS_CopyMemory_Dst             #$0024  ; WORD, sysArg[0:1], Destination address
@SYS_CopyMemory_Src             #$0026  ; WORD, sysArg[2:3], Source address
; vAC[0]          Count (0 means 256)

@SYS_CopyMemoryExt              #$00ec
@SYS_CopyMemoryExt_Cycles       #100
@SYS_CopyMemoryExt_Dst          #$0024  ; WORD, sysArg[0:1], Destination address
@SYS_CopyMemoryExt_Src          #$0026  ; WORD, sysArg[2:3], Source address
; vAC[0]        Count (0 means 256)
; vAC[1]        Bits 7 and 6 contain the destination bank number,
;               and bits 5 and 4 the source bank number.

;SYS_Multiply_u8_vX_48
;# sysArgs0,1=res
;# sysArgs2=x
;# sysArgs3=y
;# sysArgs4=count

;SYS_OffsetVTableY_vX_36
;# sysArgs0 = scanline:8
;# sysArgs1 = scanCount:8
;# sysArgs2,3 = videoTable:16

;SYS_FillByteSeq_vX_36
;# sysArgs0,1=dst
;# sysArg2=start
;# sysArg3=step
;# sysArg4=countSYS_ConvertVTableX_66

;SYS_AddInt8Array_vX_40
;# sysArgs0,1=src
;# sysArgs2,3=dst
;# sysArgs4=index
;# sysArgs5=count, dst(i) += src(i)

;SYS_ParityFill_vX_44
;# sysArgs0,1=borderColour:fillColour
;# sysArgs2,3=X:Y start address
;# sysArgs4=countXY
;# sysArgs6=fill toggle
;# sysArgs7=replace colour

;SYS_ConvertVTableX_66
;sysArg0=dst
;sysArg2=offsetX
;sysArg3=accum
;sysArg4=count

;SYS_DrawSprite_vX_140

;SYS_ScrollVTableY_vX_38
;# sysArg0=scrollOffset
;# sysArg1=scanCount
;# sysArg2,3=videoTable

;SYS_RestoreSprite_vX_124

;SYS_ScrollRectVTableY_vX_44
;# sysArgs0=scrollOffset
;# sysArgs1=scanCount
;# sysArgs2,3=videoTable,
;# sysArgs4,5=scrollStart,scrollEnd

;SYS_LoadSerialIn_vX_56
;# sysArgs[0]   (in), zero page address of odd videoY waits and first even videoY wait, 207 219 235 251 2
;# sysArgs[1]   (in), sysArgs2 address, buffer that receives protocol, packet length and packet address
;# sysArgs[2]   (out), protocol, filled in automatically by the Sys call
;# sysArgs[3]   (out), packet length, filled in automatically by the Sys call
;# sysArgs[4:5] (out), packet address, filled in automatically by the Sys call
;# No error checks are performed, (apart from checking protocol)
;# No checksums are performed

