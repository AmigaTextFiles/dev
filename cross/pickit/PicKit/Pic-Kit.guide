@database PicKit.guide
@$VER: PDK.guide 1.01 (24.2.97)

@NODE Main "PDK Guide 1.05 Copyright © 1995-97 Tomas Beyer"
@FONT XHelvetica.font 11

@{JCENTER}Table of Contents:

>>> Welcome to the @{b}PIC Development Kit@{ub} AmigaGuide® <<<
(C) 24.2.1997 Tomas Beyer. All rights reserved.

@{b}>>> Beta Tester Release <<<@{ub}

@{"    Beta Testers !!!    " LINK BetaTesters}
@{"    Introduction    " LINK Introduction}
@{"    System requirements    " LINK Requirements}
@{"    Installation    " LINK Installation}
@{"    Assembler    " LINK Assembler}
@{"    Programmer    " LINK Programmer}
@{"    Debugger    " LINK Debugger}
@{"    Hardware    " LINK HARDWARE}
@{"    About the author    " LINK Author}
@{"    Known Problems    " LINK Bugs}
@{"    To Do    " LINK TODO}
@{"    Program History    " LINK History}


This is the third unofficial private release.
@endnode

@node BetaTesters "PDK Documentation - Beta Tester"

@{JCENTER}

@{b}>>> Beta Questions <<<@{ub}

· Please send me your configuration.
· Have you built programmer ?
· Works programmer OK ?
· Are you able to develop extend modules for HW v1.1 ?
· Are you interested in the HIGH END serie 17Cxx ??
· Do you built your own programmer or you would like to bought
HW v1.1 (with PIC module) from me.

· When this product become shareware will you able to pay the
registration fee ?
@endnode


@node Introduction "PDK Documentation - Introduction"

@{JCENTER}

@{b}>>> Introduction <<<@{ub}

This package is completede developers tool for MICROCHIP® microcontrollers.
I decided to write this kit cos I have been surprised by this very smart
technology. And of course very bored by some development tools from other
platforms that are only decreasing the power of those sexy circuits.

I don't say that this piece of SW is the best one, but I think this isn't
nor the worst one. When I started to write this package it was only plain
enthusiasm in this area and I never think that it could be my job...

Versions in this package ( namely PROGRAMMER and ASSEMBLER) they have very
low version numbers, this is in case of that some things aren't implemented
yet, but all that's implemented and listed was very well tested in real
world and real commercial applications (eg. lift systems, LCD drivers,
industrial function converters).

Please, @{b}don't think that this document is manual for PIC microcontrollers.@{ub}
NO !! This isn't DataBook and never'll be. So more infos about PIC controllers
are in official Microchip materials and especially in DataBook.

All future developing is in your hands. Please, if you are interested in this
project, give me a sign that'll give me power to do more for Amiga.

        Amiga isn't only TOY, so take a care for her Jobs !! :-)


@endnode


@node Requirements "PDK Documentation - Requirements"

@{b}>>> Requirements <<<@{ub}

System: 3.0 or higher (should run on 2.04 and higher, but I didn't tested)

Memory: Programmer - 150kB
        Debugger   - 150kB
        Assembler  - 100kB

HW:     Revision 0.9

Disk:   Harddisk is strongly recommended.

Any text editor (macro for GoldED 3.x is included).

@endnode

@node Installation "PDK Documentation - Installation"
@{b}
Installation
************
@{ub}
    Copy all files is one directory ( for example:  DH1:Apps/PIC_Kit) and add assign
"Assign >NIL: PIC: DH1:Apps/PIC_Kit". This assign is necesary only if you want to use
arexx macro for GoldED.

An arexx macro is added for using this kit with GoldED, so if you want to use
it, you have to install this in your GoldED. Simply by adding this into the menu
strip as an arexx script.

@endnode

@NODE Author "PDK Documentation - About the Author"
@TOC Main

     If you have suggestions or remarks about this program, or if you
     find any bugs, please let me know.

     When sending in bug reports, please state exactly under what
     circumstances the bug occurred, what equipment was used and what
     happened. If possible also try to give me enough information to
     reproduce the bug. It is very difficult to find bugs when you
     don't know exactly what happened.

     Write to the following address:

             email    : beyer@jackal.cis.vutbr.cz

             SnailMail: Tomas Beyer
                        Slavkovska 983
                        685 01 Bucovice
                        Czech Republic - Europe

             Tel.:      +42 -  0507 / 912 983

    Here comes list of people which helped me with a lot of things.

        · Donald Milne
        · Christian Habermann
        · Stefan Johannesdal
        · Christian Marsden

                        thanx...

    Software & hardware I used:

        · SAS C 6.57
        · GadToolsBox v2.0b ( I removed some bugs and now it seems useable)
        · GoldED 3.1.4

        · Amiga 1200 2Mb + 4Mb Fast, CPU: 68020 28MHz,
        · HDD: Quantum Maverick 270MB
        · Mono monitor SAMTRON SM-470L.
        · My own programmer.

@ENDNODE

@node Bugs "PDK Documentation - Known Bugs"

Known Bugs
**********

PROGRAMMER:

 · PIC16C5x programming routines don't tested very well.
   (but should work correctly :) )..

ASSEMBLER:

 · when used wrong label or constant in macro bad line number is
   displayedd ( no error)

DEBUGGER:

 · sometimes the *.LST file isn't reloaded correctly.

@endnode

@node DEBUGGER "PDK Documentation - Debugger"

Debugger
********

 This is the first and very beta release of PIC Debugger. I included
 this program here cos I'd like to hear your opinions and see yours
 bug reports.

 Features available in this version:

 · PIC 16C61..16C74 support

 Not implemented yet:

 · PIC 16C5x code support

 Commands:

 r - change register (eg. PORTA=%01010101)
 m - goto specified memory location
 w - add watch
 d - delete watch
 t - trace with subroutine trace
 z - trace without subroutine trace (subroutines are executed)
 c - clear time counter
 l - reloads last loaded source without loosing of watched registers

 cursor arrows:

 up   - moves PC to previous address, no trace !!
 down - moves PC to next address, no trace !!

@endnode


@node HARDWARE "PDK Documentation - HARDWARE"

HARDWARE
********

 · Under development...
   But is based on the previous version see directory 'pic:hw/v1.1/'.
   Your old hardware should work with this version (mine works very well :)).
   If you made your own programmer (must be able to program both parallel
   (16C5X) and serial (other) devices), you can send me the documentation
   and if you want quick answer you should send HW too and I'll port my
   programmer for your hardware.

@endnode


@node Assembler "PDK Documentation - Assembler"

Assembler v1.0b
***************

@{b}
Usage:  PicAsm @{i}[opts]@{ub}@{ui}
~~~~~~
    @{b}FILE@{i} <filename> @{ui}@{ub}
    · Source file to compile.

    @{b}OUTPUT@{i} <INHX16|INHX8M> @{ub}@{ui}
    · Output format. Please use INHX16 standard (default) for uniformity.

    @{b}DEVICE@{i} <P16C54..P16C74> @{ub}@{ui}
    · @{" PIC " LINK PIC} type select.

    @{b}DEBUG@{ub}
    · Assembler generates '.LST' file for debugger.

    @{b}?@{ub}
    · Display this info.

@{b}
Assembler directives:@{ub}
~~~~~~~~~~~~~~~~~~~~~
    @{b}DEVICE @{i}<P16C54..16C74>@{ub}@{ui}
    · This is the first string in the source file and has the highest priority
      (overrides setting from command line).
      Default set is 16C84.

    @{b}@{i}<name> @{ui}EQU@{i} <value>@{ub}@{ui}
    · Constant definition.

    @{b}ORG @{i}<value>@{ub}@{ui}
    · Sets actual PC value. If you do not enter any value at the begining
      of the code, counter will automatically starts from 0x0000.

    @{b}INCLUDE @{i}<filename>@{ub}@{ui}
    · Load file with constant definitions.

    @{b}DEBUG@{ub}
    · Compiler create file for debugger with suffix '.LST'.

    @{b}ID @{i}<0x0000..0xFFFF>@{ub}@{ui}
    · Put ID number into specific location( eg. 0x2000..0x2003 for 16C84).

    @{b}RESET @{i}<address>@{ub}@{ui}
    · Puts GOTO <address> at the top of memory. Useful only for 16C5x series.

    @{b}OUTPUT @{i} <INHX16|INHX8M>@{ub}@{ui}
    · Output format. Please use INHX16 standard (default) for uniformity.
      This directive has highest priority.

    @{b}INFO @{ub}
    · Gives more information about compiled code.

@{b}
Preprocesor commands:@{ub}
~~~~~~~~~~~~~~~~~~~~~
     @{b}#DEFINE@{ub}
     · please see example source file

     @{b}#macro@{ub}
     · please see example source file, maximum number of parameters is 8,
       local labels may be used.

     @{b}#endm@{ub}
     · please see example source file, end of macro definition.

@{b}
Arithmetic operations:@{ub}
~~~~~~~~~~~~~~~~~~~~~~
     · expessions are solved from left to right
     · available: (, ), +, -, *, /, |

@{b}Please see the example code to see all features of the assemebler !!!@{ub}

@ENDNODE

@node Programmer "PDK - Programmer"
@{b}
Programmer v1.0b
****************

Some words about programming:@{ub}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

    This programmer was designed to program all devices both in parallel and
serial fashion. In serial way you need this parallel "like only" programmer
too, but you have to connect only pins:

    RB6 - serial clock
    RB7 - serial data
    MCLR - to enter the program mode (0, 5, 13)V
    Vdd - +5V
    Vss - GND

    This way is suitable for in board testing. You may leave the PIC in your
designed scheme and connect these pins both to your scheme and this programmer
and then you can't move your IC from programmer to the board and back again.

    Parallel way is suitable for programming more PICs cos it's faster. You
have to connect these pins:

    RA0..RA4 - data transfer
    RB0..RB7 - data transfer
    MCLR     - to enter parallel mode (0,13)V
    Vdd      - +5V
    Vss      - GND

@{b}
Features:@{ub}
~~~~~~~~~~~~
    · INHX16, INHX8M input/output file format support.
    · Full PIC 16Cxx, PIC16C62x  support.
    · Both serial and parallel programming mode for 16C84.
    · @{b}object code is generated with PC style line formatting CR + LF@{ub}
      cos, PC is standard in this area and we have to accept their
      rules.. :-(
    · Aded Tool type @{b}TEMPDIR:@{i} <path eg. PIC:Sources>@{ub}@{ui}.


@{b}Short info about gadgets:@{ub}
~~~~~~~~~~~~~~~~~~~~~~~~~
    @{b}INFO@{ub}
    · INFO gadet  - I think there's nothing special

    @{b}Action "Program"@{ub}
    · Allows you to select specific operations like program, read, removing
      code protection etc.. @{b}Some actions has only effect on
      PIC 16C84.@{ub}

    @{b}Action "Type select"@{ub}
    · Now you can select PIC 16C54..16C74x.
      Also see supportet @{" PICs " LINK PIC}.

    @{b}Action "Oscilator type"@{ub}
    · LP, HS, XT, RC type.

    @{b}Ext@{ub}
    · If selected external configuration word is used from a HEX file.

    @{b}PWR@{ub}
    · Power On Reset Timer Enabled.

    @{b}WDT@{ub}
    · Watch Dog Timer Enabled.

    @{b}CP0 - CP1@{ub}
    · Code protect.

    @{b}BOE@{ub}
    · Brown out enable bit.

    @{b}PGM@{ub}
    · When program action is selected, this gadget determines if program
      memory'll be programed.

    @{b}EEM@{ub}
    · If type = P16C84 this gadget determines if Data EEPROM will be
      programmed.

    @{b}CFG@{ub}
    · Program configuration fuse.

    @{b}"ID" area@{ub}
    · Here you can enter 4 hexadecimal numbers that are ID nubers for your
      products. In fact you can program eight bits, but when code protection is
      selected and upper 4 bits are not set to zero you can't read this number
      correctly, @{b}so in this programmer you can enter only lower 4 bits of each 4
      bytes that represent hexadecimal number. ID is then readed correctly
      independent on code protection.@{ub}

    @{b}"Method" area@{ub}
    · You can select serial or parallel, @{b}but remember that RemoveCP, EraseDM,
      ErasePM can be used only when parallel mode is selected.@{ub} I don't know
      if this is bug in DATABOOK, but I tried this in serial way and it doesn't
      work.

    @{b}"Format" area@{ub}
    · Sets current input and output format.
      Now is supported INHX16 and INHX8M format.

    @{b}"GO"@{ub}
    · Starts selected actions read, program etc.

    @{b}"LOAD" & "SAVE" & "EXIT"@{ub}
    ·  File operations.

    @{b}"RELOAD"@{ub}
    · Maybe you'll find this gadget useful when you are developing some code.
      Simply reloads last loaded file with LOAD gadget.

    @{b}"User Def."@{ub}
    · After checking this gadget you may enter start and end programming
      address.

@ENDNODE

@node History "PDK Documentation - History"

    PDK History
    ~~~~~~~~~~~

    @{" Assembler  " LINK AssHis}
    @{" Programmer " LINK PgmHis}
    @{" Debugger   " LINK DbgHis}

@ENDNODE

@node AssHis "PDK Documentation - Assembler History"

@{b}ASSEMBLER:
~~~~~~~~~~@{ub}
 v1.0b

  · Second unofficial release.

 v1.01b

  · Fixed bug in return, retfie, sleep, clrw, nop, clrwdt instruction.
    When used comment after these instruction no error was promted, and
    no instruction was compiled. (found me)

 v1.02b

  · Fixed bug in ORG directive. When you used this directive together with
    label or constant (eg. ORG INTERRUPT) program counter has not been
    affected and no error was promted. Now you can use this syntax (of course
    if you have defined (eg. INTERRUPT equ 0x4) label before this line).
    ORG 0x4 should work correct in 1.01b.(found me)

 v1.03b

  · Fixed bug when label stands alone on the line, it wasn't assembled
    and error of unknown label was prompted. (found me)
  · Now you can use uppercased opcodes ( eg. MOVLW) and suffixes( eg. *.P84).

 v1.04b

  · Added new direction INFO, that'll be expanded in future.
  · Fixed bug in 16C73 parameters.
  · Fixed problems with PIC code larger than 2K.
  · Fixed nasty bug with doubled labels or constants :(...

 v1.05b

  · Added basic math operations +, -, *, /.
  · Fixed minor bugs.
  · Now you can write decimal number like in MPASM (eg.: .8, .32)

 v1.06b

  · some changes

@ENDNODE

@node PgmHis "PDK Documentation - Programmer History"

@{b}PROGRAMMER:
~~~~~~~~~~~@{ub}
 v1.0b

  · Second unofficial release.

 v1.01b

  · Fixed bugs in 16C5x parameters.

 v1.02b

  · Fixed minor bugs.
  · Added HW v1.1 support.

 v1.03

  · Added 16F84 device.
  · Added close gadget.
  · Some minor changes.

 v1.04

  · Added zoom gadget.
  · Some minor changes.
  · Fixed problems with programming EEPROM devices.
    ( minimize errors)

@ENDNODE

@node DbgHis "PDK Documentation - Debugger History"

@{b}DEBUGGER:
~~~~~~~~~@{ub}
 Under development.

@endnode

@node TODO "PDK Documentation - To Do"

To Do
*****

@{b}ASSEMBLER:
~~~~~~~~~~@{ub}

 · PIC12C5xx devices.
 · PIC19Cxx devices.
 · And all others brain new devices huaaaaahhh. :) :)

@{b}PROGRAMMER:
~~~~~~~~~~~@{ub}

 · New device support.

@{b}DEBUGGER:
~~~~~~~~~@{ub}
 · Finish this sw. ;)

@endnode


@node PIC "PDK Documentation - PIC"

@{b}Known PIC Microcontrollers:
~~~~~~~~~~~~~~~~~~~~~~~~~~~@{ub}
 |-------------------------------------------------------------|
 |  Low end family:  |  Med end family:  |   High end family:  |
 |-------------------+-------------------+---------------------|
 |      ·16C54       |      ·16C84       |     In future.      |
 |      ·16C55       |      ·16C61       |                     |
 |      ·16C56       |      ·16C62       |                     |
 |      ·16C57       |      ·16C63       |                     |
 |      ·16C58       |      ·16C64       |                     |
 |                   |      ·16C65       |                     |
 |                   |      ·16C71       |                     |
 |                   |      ·16C72       |                     |
 |                   |      ·16C73       |                     |
 |                   |      ·16C74       |                     |
 |                   |      ·16C620      |                     |
 |                   |      ·16C621      |                     |
 |                   |      ·16C622      |                     |
 |                   |      ·16C715      |                     |
 |                   |                   |                     |
 |                   |      ·16F84       |                     |
 |                   |                   |                     |
 |                   |                   |                     |
 |-------------------------------------------------------------|
@ENDNODE
 
