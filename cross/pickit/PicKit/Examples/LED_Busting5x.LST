PicAsm (C) Tomas Beyer. All rights reserved.

0001               ;DEVICE 16C54
0002               ;*********************************
0003               ;*          LED Busting          *
0004               ;*   source code for p84 cpu's   *
0005               ;* (C) Tommy 23.01.1996, 10:51am *
0006               ;*      With new directives      *
0007               ;*********************************
0008               
0009               FREG    EQU     0x08
0010               
0011               TMP0    EQU     FREG+0x0
0012               TMP1    EQU     FREG+0x1
0013               
0014                       DEBUG
0015               
0016                       INCLUDE "16C54.DEF"                 ;change this path to your
0017                                                           ;current directory
0018                       ID      0x00FF
0019                       FUSE    CPOFF|XT
0020                       RESET   0x0000
0021                       OUTPUT  INHX16
0022               
0023               ;*********************************
0024               ;*            Main code          *
0025               ;*********************************
0026               
0027               start   ORG     0x000
0028               
0029   0000  0CC8          movlw   0xC8
0030   0001  0029          movwf   TMP1
0031               
0032   0002  0065          clrf    PORTA
0033   0003  0066          clrf    PORTB
0034               
0035   0004  0040          clrw
0036   0005  0006          tris    PORTB
0037   0006  0005          tris    PORTA
0038               
0039   0007  0265  loop    comf    PORTA
0040   0008  0266          comf    PORTB
0041   0009  090B          call    wait
0042               
0043   000A  0A07          goto    loop
0044               
0045   000B  0CFA  wait    movlw   0xFA
0046   000C  0028          movwf   TMP0
0047               
0048   000D  0000  wait2   nop
0049   000E  0000          nop
0050   000F  0000          nop
0051   0010  0000          nop
0052   0011  0000          nop
0053   0012  02E8          decfsz  TMP0,f
0054   0013  0A0D          goto    wait2
0055               
0056   0014  02E9          decfsz  TMP1,f
0057   0015  0A0B          goto    wait
0058               
0059   0016  0CC8          movlw   0xC8
0060   0017  0029          movwf   TMP1
0061   0018  0800          retlw   0

0000               *** End of source file. ***

FREG equ 0x0008
TMP0 equ 0x0008
TMP1 equ 0x0009
INDF equ 0x0000
TMR0 equ 0x0001
PCL equ 0x0002
STATUS equ 0x0003
FSR equ 0x0004
PORTA equ 0x0005
PORTB equ 0x0006
RC equ 0x0003
HS equ 0x0002
XT equ 0x0001
LP equ 0x0000
WDTE equ 0x0004
CPOFF equ 0x0008
start equ 0x0000
loop equ 0x0007
wait equ 0x000B
wait2 equ 0x000D
