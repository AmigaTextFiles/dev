PicAsm (C) Tomas Beyer. All rights reserved.

0001               ;DEVICE 16C84
0002               ;*********************************
0003               ;*          LED Busting          *
0004               ;*   source code for p84 cpu's   *
0005               ;* (C) Tommy 23.01.1996, 10:51am *
0006               ;*      With new directives      *
0007               ;*********************************
0008               
0009               FREGS   EQU     0x0C
0010               
0011               TMP0    EQU     FREGS+0x00
0012               TMP1    EQU     FREGS+0x01
0013               
0014                       DEBUG
0015               
0016                       Include "16C84.DEF"                 ;change this path to your
0017                                                           ;current directory
0018                       ID      0x00FF
0019               
0020                       FUSE    PWRTE|CPOFF|XT
0021                       OUTPUT  INHX16
0022               
0023               ;*********************************
0024               ;*            Main code          *
0025               ;*********************************
0026               
0027               start   ORG     0x0000
0028               
0029   0000  30C8          movlw   0xC8
0030   0001  008D          movwf   TMP1
0031               
0032   0002  0185          clrf    PORTA
0033   0003  0186          clrf    PORTB
0034               
0035   0004  0100          clrw
0036   0005  0066          tris    PORTB
0037   0006  0065          tris    PORTA
0038               
0039               
0040   0007  0985  loop    comf    PORTA,f
0041   0008  0986          comf    PORTB
0042   0009  200B          call    wait
0043               
0044   000A  2807          goto    loop
0045               
0046   000B  30FA  wait    movlw   0xFA
0047   000C  008C          movwf   TMP0
0048               
0049   000D  0000  wait2   nop
0050   000E  0000          nop
0051   000F  0000          nop
0052   0010  0000          nop
0053   0011  0000          nop
0054   0012  0B8C          decfsz  TMP0,f
0055   0013  280D          goto    wait2
0056               
0057   0014  0B8D          decfsz  TMP1,f
0058   0015  280B          goto    wait
0059               
0060   0016  30C8          movlw   0xC8
0061   0017  008D          movwf   TMP1
0062   0018  0008          return

0000               *** End of source file. ***

FREGS equ 0x000C
TMP0 equ 0x000C
TMP1 equ 0x000D
IND0 equ 0x0000
TMR0 equ 0x0001
PCL equ 0x0002
STATUS equ 0x0003
FSR equ 0x0004
PORTA equ 0x0005
PORTB equ 0x0006
TRISA equ 0x0005
TRISB equ 0x0006
OPTION equ 0x0001
EEDATA equ 0x0008
EEADR equ 0x0009
EECON1 equ 0x0008
EECON2 equ 0x0009
PCLATH equ 0x000A
INTCON equ 0x000B
RC equ 0x0003
HS equ 0x0002
XT equ 0x0001
LP equ 0x0000
WDT equ 0x0004
PWRTE equ 0x0008
CPOFF equ 0x0010
start equ 0x0000
loop equ 0x0007
wait equ 0x000B
wait2 equ 0x000D
