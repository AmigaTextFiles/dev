;********************************************************
;* Some useful instructions for PicAsm macro assembler  *
;*           (PicAsm version 1.1 and above)             *
;*                                                      *
;*  Copyright (c) 1997 Tomas Beyer all rights reserved  *
;********************************************************

#define     scf     bsf     STATUS,b_CARRY
#define     ccf     bcf     STATUS,b_CARRY

#macro  cmp     %1,%2
        movf    %1,w
        sublw   %2
#endm

#macro  cmpr    %1,%2
        movf    %1,w
        subwf   %2,w
#endm

#macro  retnz
        btfss   STATUS,b_ZERO
        return
#endm

#macro  retz
        btfsc   STATUS,b_ZERO
        return
#endm

#macro  retnc
        btfss   STATUS,b_CARRY
        return
#endm

#macro  retc
        btfsc   STATUS,b_CARRY
        return
#endm

#macro  retns   %1,%2
        btfss   %1,%2
        return
#endm

#macro  rets    %1,%2
        btfsc   %1,%2
        return
#endm

#macro  jp      %1
        goto    %1
#endm

#macro  jpz     %1
        btfsc   STATUS,b_ZERO
        goto    %1
#endm

#macro  jpnz    %1
        btfss   STATUS,b_ZERO
        goto    %1
#endm

#macro  jpc     %1
        btfsc   STATUS,b_CARRY
        goto    %1
#endm

#macro  jpnc    %1
        btfss   STATUS,b_CARRY
        goto    %1
#endm

#macro  jps     %1,%2,%3
        btfsc   %1,%2
        goto    %3
#endm

#macro  jpns    %1,%2,%3
        btfss   %1,%2
        goto    %3
#endm

#macro  callz   %1
        btfsc   STATUS,b_ZERO
        call    %1
#endm

#macro  callnz  %1
        btfss   STATUS,b_ZERO
        call    %1
#endm

#macro  callc   %1
        btfsc   STATUS,b_CARRY
        call    %1
#endm

#macro  callnc  %1
        btfss   STATUS,b_CARRY
        call    %1
#endm

#macro  calls   %1,%2,%3
        btfsc   %1,%2
        call    %3
#endm

#macro  callns  %1,%2,%3
        btfss   %1,%2
        call    %3
#endm

#macro  skipz
        btfss   STATUS,b_ZERO
#endm

#macro  skipnz
        btfsc   STATUS,b_ZERO
#endm

#macro  skipc
        btfss   STATUS,b_CARRY
#endm

#macro  skipnc
        btfsc   STATUS,b_CARRY
#endm


