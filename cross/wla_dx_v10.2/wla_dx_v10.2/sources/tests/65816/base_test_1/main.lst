; WLALINK ($VER: wlalink 5.17 (24.6.2022)) listing file
; 2022-06-24 14:13:52

;Line Base Bank Slot PC   Offset Hex
                                                                 
                                                                 ;--- SNES HiROM bank map ---
                                                                 
                                                                 .MEMORYMAP
                                                                 SLOTSIZE $10000
                                                                 DEFAULTSLOT 0
                                                                 SLOT 0 $0000
                                                                 .ENDME
                                                                 
                                                                 .ROMBANKSIZE $10000
                                                                 .ROMBANKS 4
                                                                 
                                                                 
                                                                 .BASE $C0
                                                                 .BANK 0 SLOT 0
                                                                 .ORG $0000
                                                                 .SECTION "TestCode" FORCE
                                                                 
                                                                 ; code ; compiles to
                                                                 
   21 00C0 0000 0000 0000 0000   5C 00 00 C1                     	jml label	;5C0000C2	JMP $C20000
                                                                 			; - should be 5C0000C1  JMP $C10000
                                                                 
   24 00C0 0000 0000 0004 0004   C2 30                           	rep #$30	;C230		REP #$30
                                                                 			; - correct
                                                                 
   27 00C0 0000 0000 0006 0006   E2 20                           	sep #$20	;E220		SEP #$20
                                                                 			; - correct
                                                                 
   30 00C0 0000 0000 0008 0008   A9 C1                           	lda #:label	;A901		LDA #$01
                                                                 			; - should be A9C1  LDA #$C1
                                                                 
   33 00C0 0000 0000 000A 000A   53 54 41 52 54 3E 42 41 53 45   	.db "START>BASE:"
3A 
   34 00C0 0000 0000 0015 0015   C0                              	.db :CADDR           	; C0
   35 00C0 0000 0000 0016 0016   C0                              	.db 1 + :CADDR - 1      ; C0
   36 00C0 0000 0000 0017 0017   3C 45 4E 44                     	.db "<END"
   37 00C0 0000 0000 001B 001B   20                              	.db " "
   38 00C0 0000 0000 001C 001C   48 45 52 45 3E                  	.db "HERE>"
   39 00C0 0000 0000 0021 0021   01 00 C2                        	.dl label_ram_b0_2 	; 01 00 C0
   40 00C0 0000 0000 0024 0024   01 00 C3                        	.dl label_ram_b1_2	; 01 00 C1
   41 00C0 0000 0000 0027 0027   3C 48 45 52 45                  	.db "<HERE"
                                                                 .ENDS
                                                                 
                                                                 .BANK 1 SLOT 0
                                                                 .ORG $0000
                                                                 .SECTION "AnotherSection" FORCE
   47 00C0 0001 0000 0000 0000   EA                              label:	nop
                                                                 .ENDS
                                                                 
                                                                         .base $C1
                                                                         .bank 0 slot 0
                                                                         .section "Tail" APPENDTO "AnotherSection"
   53 00C0 0001 0000 0001 0001   EA                              label_Tail:     nop
                                                                         .ends
                                                                 
                                                                         .base $C2
                                                                         .bank 2 slot 0
                                                                         .section "Tip" AFTER "Tail"
   59 00C0 0001 0000 0002 0002   EA                              label_Tip:     nop
                                                                         .ends
                                                                 
                                                                 
                                                                 .ramsection "RAM 1" bank 0 slot 0
                                                                 label_ram_b0_1:	db
                                                                 label_ram_b0_2:	db
                                                                 label_ram_b0_3:	db
                                                                 .ends
                                                                 
                                                                 .ramsection "RAM 2" bank 1 slot 0
                                                                 label_ram_b1_1:	db
                                                                 label_ram_b1_2:	db
                                                                 label_ram_b1_3:	db
                                                                 .ends
                                                                 
