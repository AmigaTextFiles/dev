

WLA object file format "WLA4"


header:

bytes   description

  4     format information,
        "WLA4" - WLA object file version 4 (18-Feb-2000)
  1     rom name status (0 = no name, 1 = name)
 16     rom name
  1     rom size
  1     ram size
  1     empty fill
  1     cartridge type
  1     licenseecode old / new (0 = old, 1 = new)
  1     licenseecodeold
  1     licenseecodenew c1
  1     licenseecodenew c2
  1     compute checksum (0 = no, 1 = yes)
  1     compute complement check (0 = no, 1 = yes)

exported defines:

  4     amount of defines (int)
  ...
  n     define n (0 terminated)
  4     value
  ...

labels:

  4     amount of labels (int)
  ...
  n     label a (0 terminated)
  1     section (0 = no section, 1 - 255 = section id)
  4     address (int)
  ...

outside references:

  4     amount of references (int)
  ...
  n     label b (0 terminated)
  1     type (0 = direct, 1 = relative)
  1     section (0 = no section, 1 - 255 = section id)
  4     address (int) (if in section, this is relative to the
                       beginning of the section)
  ...

data area:

  1     type (0 = data block, 1 = section)

data block:

  4     address (int)
  4     amount of bytes (int)
  n     bytes

section:

  n     name (terminated with 0 (if free), 1 (if forced) or 2 (if overwrite)
  4     starting address (int)
  4     amount of bytes (int)
  n     bytes





WLA library file format "WLAN"


header:

bytes   description

  4     format information,
        "WLAN" - WLA library file version 3 (18-Feb-2000)

exported defines:

  4     amount of defines (int)
  ...
  n     define n (0 terminated)
  4     value
  ...

labels:

  4     amount of labels (int)
  ...
  n     label a (0 terminated)
  1     section (0 = no section, 1 - 255 = section id)
  4     address (int)
  ...

outside references:

  4     amount of references (int)
  ...
  n     label b (0 terminated)
  1     type (0 = direct, 1 = relative)
  1     section (0 = no section, 1 - 255 = section id)
  4     address (int) (if in section, this is relative to the
                       beginning of the section)
  ...

sections:

  ...
  n     name (terminated with 0 (if free), 1 (if forced) or 2 (if overwrite)
  4     starting address for section installation (int)
  4     amount of bytes (int)
  n     bytes
  ...
