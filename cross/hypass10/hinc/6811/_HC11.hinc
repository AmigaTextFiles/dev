@DATABASE
@NODE MAIN HC11_General
* MC 68HC11 general HyperSource© include file for all MC 68HCx11 devices
* © 1998 RST Ralf Steines Trier, ALL RIGHTS RESERVED
*
* source: MOTOROLA DATA BOOK HC11 / HC11F1
*

    @{" HC11   INTERRUPTS       " link "HC11_INTERRUPTS"}

    @{" HC11F1 IO-PORTS         " link "HC11F1_IO-PORTS"}
    @{" HC11   IO-PORTS         " link "HC11_IO-PORTS"}
    @{" HC11   SPI-INTERFACE    " link "HC11_SPI-INTERFACE"}
    @{" HC11   SCI-INTERFACE    " link "HC11_SCI-INTERFACE"}
    @{" HC11   ADCs             " link "HC11_ADCs"}

    @{" HC11   TIMERS           " link "HC11_TIMERS"}
    @{" HC11   PROM             " link "HC11_PROM"}

    @{" HC11F1 CHIPSELECT       " link "HC11F1_CHIPSELECT"}

* While the 68HC11 just supports bit field addressing ,
* this include file just contains field values of all named bits.

* For source code compatiblity to HC11Ax the HAS_TIC4 switch just enables
* the additional symbols and doesn't disable the HC11Ax names for them.

* Values with a '*' in front of them show the defaults after a RESET.

@ENDNODE
@NODE HC11_INTERRUPTS
****************************
*    INTERRUPT VECTORS     *
****************************

  V_SCI     = IRQS+$16 ; SCI SERIAL SYSTEM        LOWEST PRIORITY IRQ
  V_SPI     = IRQS+$18 ; SPI SERIAL TRANSFER COMPLETE

  V_PAI     = IRQS+$1A ; PULSE ACC INPUT EDGE
  V_PAO     = IRQS+$1C ; PULSE ACC OVERFLOW
  V_TOV     = IRQS+$1E ; TIMER OVERFLOW
  V_TO5     = IRQS+$20 ; TIMER OUTPUT COMPARE 5
  V_TO4     = IRQS+$22 ; TIMER OUTPUT COMPARE 4
  V_TO3     = IRQS+$24 ; TIMER OUTPUT COMPARE 3
  V_TO2     = IRQS+$26 ; TIMER OUTPUT COMPARE 2
  V_TO1     = IRQS+$28 ; TIMER OUTPUT COMPARE 1
  V_TI3     = IRQS+$2A ; TIMER INPUT CAPTURE 3
  V_TI2     = IRQS+$2C ; TIMER INPUT CAPTURE 2
  V_TI1     = IRQS+$2E ; TIMER INPUT CAPTURE 1
  V_RTI     = IRQS+$30 ; REAL TIME INTERRUPT

  V_IRQ     = IRQS+$32 ; IRQ PIN
  V_XIRQ    = IRQS+$34 ; XIRQ PIN                 HIGHEST PRIORITY IRQ

  V_SWI     = IRQS+$36 ; SWI
  V_ILL     = IRQS+$38 ; ILLEGAL OPCODE TRAP

  V_COP     = IRQS+$3A ; COP FAILURE              LOWEST  PRIORITY RESET
  V_CMF     = IRQS+$3C ; COP CLOCK MONITOR FAIL
  V_RES     = IRQS+$3E ; RESET                    HIGHEST PRIORITY RESET

 .IFD HAS_TIC4 ; HC11Ex/HC11F1 ONLY
  V_TI4O5   = IRQS+$20 ; TIMER INPUT CAPTURE 4 / TIMER OUTPUT COMPARE 5
 .ENDIF

@ENDNODE
@NODE HC11_IO-PORTS
****************************
*   INPUT/ OUTPUT PORTS    *
****************************

 .IFND HAS_F1REG ; ANY HC11 EXCEPT HC11F1

  PORTA     = REGS+$00 ;  PORT A DATA REGISTER

        PA7       = %10000000   ; I/O
        PA6       = %01000000   ; OUT
        PA5       = %00100000   ; OUT
        PA4       = %00010000   ; OUT
        PA3       = %00001000   ; I/O
        PA2       = %00000100   ; IN
        PA1       = %00000010   ; IN
        PA0       = %00000001   ; IN

        PAI       = %10000000   ; PULSE ACCU IN

        OC1       = %10000000   ; OUTPUT COMPARE 1 OUT
        OC2       = %01000000   ; OUTPUT COMPARE 2/1 OUT
        OC3       = %00100000   ; OUTPUT COMPARE 3/1 OUT
        OC4       = %00010000   ; OUTPUT COMPARE 4/1 OUT
        OC5       = %00001000   ; OUTPUT COMPARE 5/1 OUT

        IC1       = %00000100   ; INPUT CAPTURE 1 IN
        IC2       = %00000010   ; INPUT CAPTURE 2 IN
        IC3       = %00000001   ; INPUT CAPTURE 3 IN
      .IFD HAS_TIC4 ; HC11Ex/HC11F1 ONLY
        IC4       = %00001000   ; INPUT CAPTURE 4 IN
      .ENDIF

  PIOC      = REGS+$02 ;  PARALLEL I/O CONTROL REGISTER (ALSO IN HC24)

        STAF      = %10000000   ; STROBE A FLAG
                                ; *0= INACTIVE
                                ;  1= SET AT ACTIVE EDGE OF STRA PIN

        STAI      = %01000000   ; STROBE A INTERRUPT ENABLE
                                ; *0= NO HARDWARE INTERRUPT GENERATED
                                ;  1= HARDWARE INTERRUPT REQ WHEN STAF=1

        CWOM      = %00100000   ; PORT C WIRE-OR MODE
                                ; *0= PORT C OUTPUTS NORMAL
                                ;  1= OPEN DRAIN

        HNDS      = %00010000   ; HANDSHAKE/SIMPLE STROBE MODE SELECT
                                ; *0= SIMPLE STROBE MODE
                                ;  1= FULL HANDSHAKE MODES

        OIN       = %00001000   ; OUTPUT/INPUT HANDSHAKE SELECT
                                ;  0= INPUT
                                ;  1= OUTPUT

        PLS       = %00000100   ; PULSE MODE SELECT FOR STRB OUTPUT
                                ;  0= STRB LEVEL ACTIVE
                                ; *1= STRB PULSES

        EGA       = %00000010   ; ACTIVE EDGE SELECT FOR STRA
                                ;  0= HI TO LO (FALLING)
                                ; *1= LO TO HI (RISING)

        INVB      = %00000001   ; INVERT STRB OUTPUT
                                ; *0= STRB ACTIVE LOW
                                ;  1= STRB ACTIVE HIGH

  PORTC     = REGS+$03 ;  PORT C DATA REGISTER (ADDRESS/DATA IN EXP. MODE)
                       ;  (ALSO IN HC24)

        PC7       = %10000000   ; I/O  (AD7)
        PC6       = %01000000   ; I/O  (AD6)
        PC5       = %00100000   ; I/O  (AD5)
        PC4       = %00010000   ; I/O  (AD4)
        PC3       = %00001000   ; I/O  (AD3)
        PC2       = %00000100   ; I/O  (AD2)
        PC1       = %00000010   ; I/O  (AD1)
        PC0       = %00000001   ; I/O  (AD0)

  PORTB     = REGS+$04 ;  PORT B DATA REGISTER (ADDRESS IN EXPANDED MODE)
                       ;  (ALSO IN HC24)

        PB7       = %10000000   ; OUT (*0) (A15)
        PB6       = %01000000   ; OUT (*0) (A14)
        PB5       = %00100000   ; OUT (*0) (A13)
        PB4       = %00010000   ; OUT (*0) (A12)
        PB3       = %00001000   ; OUT (*0) (A11)
        PB2       = %00000100   ; OUT (*0) (A10)
        PB1       = %00000010   ; OUT (*0) (A9)
        PB0       = %00000001   ; OUT (*0) (A8)

  PORTCL    = REGS+$05 ;  PORT C LATCHED DATA REGISTER (ADDR/DAT IN EXPMODE)
                       ;  (ALSO IN HC24)

        PCL7      = %10000000   ; I/O  (AD7)
        PCL6      = %01000000   ; I/O  (AD6)
        PCL5      = %00100000   ; I/O  (AD5)
        PCL4      = %00010000   ; I/O  (AD4)
        PCL3      = %00001000   ; I/O  (AD3)
        PCL2      = %00000100   ; I/O  (AD2)
        PCL1      = %00000010   ; I/O  (AD1)
        PCL0      = %00000001   ; I/O  (AD0)

  DDRC      = REGS+$07 ;  DATA DIRECTION REGISTER FOR PORT C (ALSO IN HC24)

        DDC7      = %10000000   ; *0=IN 1=OUT
        DDC6      = %01000000   ; *0=IN 1=OUT
        DDC5      = %00100000   ; *0=IN 1=OUT
        DDC4      = %00010000   ; *0=IN 1=OUT
        DDC3      = %00001000   ; *0=IN 1=OUT
        DDC2      = %00000100   ; *0=IN 1=OUT
        DDC1      = %00000010   ; *0=IN 1=OUT
        DDC0      = %00000001   ; *0=IN 1=OUT

  PORTD     = REGS+$08 ;  PORT D DATA REGISTER (BUS CTRL IN EXP. MODE)

        STRB      = %10000000   ; PORT B/C STROBE OUT   (R/-W OUT)
        STRA      = %01000000   ; PORT B/C STROBE IN    (AS   OUT)

        PD5       = %00100000   ; I/O
        PD4       = %00010000   ; I/O
        PD3       = %00001000   ; I/O
        PD2       = %00000100   ; I/O
        PD1       = %00000010   ; I/O
        PD0       = %00000001   ; I/O

        SS        = %00100000   ; SPI SLAVE SELECT INPUT (ACTIVE LOW)
        SCK       = %00010000   ; SPI CLOCK I/O
        MOSI      = %00001000   ; SPI MASTER OUT / SLAVE IN
        MISO      = %00000100   ; SPI MASTER IN  / SLAVE OUT

        TXD       = %00000010   ; SCI TRANSMIT DATA OUTPUT
        RXD       = %00000001   ; SCI RECEIVE DATA INPUT

  DDRD      = REGS+$09 ;  DATA DIRECTION REGISTER FOR PORT D

        DDD5      = %00100000   ; *0=IN 1=OUT
        DDD4      = %00010000   ; *0=IN 1=OUT
        DDD3      = %00001000   ; *0=IN 1=OUT
        DDD2      = %00000100   ; *0=IN 1=OUT
        DDD1      = %00000010   ; *0=IN 1=OUT
        DDD0      = %00000001   ; *0=IN 1=OUT

  PORTE     = REGS+$0A ;  PORT E DATA REGISTER (ANALOG IN IF ADC ENABLED)

        PE7       = %10000000   ; IN (AN7)
        PE6       = %01000000   ; IN (AN6)
        PE5       = %00100000   ; IN (AN5)
        PE4       = %00010000   ; IN (AN4)
        PE3       = %00001000   ; IN (AN3)
        PE2       = %00000100   ; IN (AN2)
        PE1       = %00000010   ; IN (AN1)
        PE0       = %00000001   ; IN (AN0)

 .ENDIF

@ENDNODE
@NODE HC11F1_IO-PORTS
****************************
*   INPUT/ OUTPUT PORTS    *
****************************

 .IFD HAS_F1REG ; HC11F1 ONLY

  PORTA     = REGS+$00 ;  PORT A DATA REGISTER

        PA7       = %10000000   ; I/O
        PA6       = %01000000   ; I/O
        PA5       = %00100000   ; I/O
        PA4       = %00010000   ; I/O
        PA3       = %00001000   ; I/O
        PA2       = %00000100   ; I/O
        PA1       = %00000010   ; I/O
        PA0       = %00000001   ; I/O

        PAI       = %10000000   ; PULSE ACCU IN

        OC1       = %10000000   ; OUTPUT COMPARE 1 OUT
        OC2       = %01000000   ; OUTPUT COMPARE 2/1 OUT
        OC3       = %00100000   ; OUTPUT COMPARE 3/1 OUT
        OC4       = %00010000   ; OUTPUT COMPARE 4/1 OUT
        OC5       = %00001000   ; OUTPUT COMPARE 5/1 OUT

        IC1       = %00000100   ; INPUT CAPTURE 1 IN
        IC2       = %00000010   ; INPUT CAPTURE 2 IN
        IC3       = %00000001   ; INPUT CAPTURE 3 IN
      .IFD HAS_TIC4 ; HC11Ex/HC11F1 ONLY
        IC4       = %00001000   ; INPUT CAPTURE 4 IN
      .ENDIF

  DDRA      = REGS+$01 ;  DATA DIRECTION REGISTER FOR PORT A

        DDA7      = %10000000   ; *0=IN 1=OUT
        DDA6      = %01000000   ; *0=IN 1=OUT
        DDA5      = %00100000   ; *0=IN 1=OUT
        DDA4      = %00010000   ; *0=IN 1=OUT
        DDA3      = %00001000   ; *0=IN 1=OUT
        DDA2      = %00000100   ; *0=IN 1=OUT
        DDA1      = %00000010   ; *0=IN 1=OUT
        DDA0      = %00000001   ; *0=IN 1=OUT

  PORTG     = REGS+$02 ;  PORT G DATA REGISTER

        PG7       = %10000000   ; I/O
        PG6       = %01000000   ; I/O
        PG5       = %00100000   ; I/O
        PG4       = %00010000   ; I/O
        PG3       = %00001000   ; I/O
        PG2       = %00000100   ; I/O
        PG1       = %00000010   ; I/O
        PG0       = %00000001   ; I/O

        CSPROG    = %10000000   ; PROGRAM CHIP SELECT OUTPUT (ACTIVE LOW)
        CSGEN     = %01000000   ; GENERAL PURPOSE CHIP SELECT OUT
        CSIO1     = %00100000   ; IO CHIP SELECT OUTPUT 1
        CSIO2     = %00010000   ; IO CHIP SELECT OUTPUT 1

  DDRG      = REGS+$03 ;  DATA DIRECTION REGISTER FOR PORT G

        DDG7      = %10000000   ; *0=IN 1=OUT
        DDG6      = %01000000   ; *0=IN 1=OUT
        DDG5      = %00100000   ; *0=IN 1=OUT
        DDG4      = %00010000   ; *0=IN 1=OUT
        DDG3      = %00001000   ; *0=IN 1=OUT
        DDG2      = %00000100   ; *0=IN 1=OUT
        DDG1      = %00000010   ; *0=IN 1=OUT
        DDG0      = %00000001   ; *0=IN 1=OUT

  PORTB     = REGS+$04 ;  PORT B DATA REGISTER (ADDRESS IN EXP/TEST MODE)
                       ;  (ALSO IN HC24)

        PB7       = %10000000   ; I/O (A15)
        PB6       = %01000000   ; I/O (A14)
        PB5       = %00100000   ; I/O (A13)
        PB4       = %00010000   ; I/O (A12)
        PB3       = %00001000   ; I/O (A11)
        PB2       = %00000100   ; I/O (A10)
        PB1       = %00000010   ; I/O (A9)
        PB0       = %00000001   ; I/O (A8)

  PORTF     = REGS+$05 ;  PORT F DATA REGISTER (ADDRESS IN EXP/TEST MODE)

        PF7       = %10000000   ; OUT (*0) (A7)
        PF6       = %01000000   ; OUT (*0) (A6)
        PF5       = %00100000   ; OUT (*0) (A5)
        PF4       = %00010000   ; OUT (*0) (A4)
        PF3       = %00001000   ; OUT (*0) (A3)
        PF2       = %00000100   ; OUT (*0) (A2)
        PF1       = %00000010   ; OUT (*0) (A1)
        PF0       = %00000001   ; OUT (*0) (A0)

  PORTC     = REGS+$06 ;  PORT C DATA REGISTER (DATA IN EXP/TEST MODE)

        PC7       = %10000000   ; I/O (D7)
        PC6       = %01000000   ; I/O (D6)
        PC5       = %00100000   ; I/O (D5)
        PC4       = %00010000   ; I/O (D4)
        PC3       = %00001000   ; I/O (D3)
        PC2       = %00000100   ; I/O (D2)
        PC1       = %00000010   ; I/O (D1)
        PC0       = %00000001   ; I/O (D0)

  DDRC      = REGS+$07 ;  DATA DIRECTION REGISTER FOR PORT C

        DDC7      = %10000000   ; *0=IN 1=OUT
        DDC6      = %01000000   ; *0=IN 1=OUT
        DDC5      = %00100000   ; *0=IN 1=OUT
        DDC4      = %00010000   ; *0=IN 1=OUT
        DDC3      = %00001000   ; *0=IN 1=OUT
        DDC2      = %00000100   ; *0=IN 1=OUT
        DDC1      = %00000010   ; *0=IN 1=OUT
        DDC0      = %00000001   ; *0=IN 1=OUT

  PORTD     = REGS+$08 ;  PORT D DATA REGISTER

        PD5       = %00100000   ; I/O
        PD4       = %00010000   ; I/O
        PD3       = %00001000   ; I/O
        PD2       = %00000100   ; I/O
        PD1       = %00000010   ; I/O
        PD0       = %00000001   ; I/O

        SS        = %00100000   ; SPI SLAVE SELECT INPUT (ACTIVE LOW)
        SCK       = %00010000   ; SPI CLOCK I/O
        MOSI      = %00001000   ; SPI MASTER OUT / SLAVE IN
        MISO      = %00000100   ; SPI MASTER IN  / SLAVE OUT

        TXD       = %00000010   ; SCI TRANSMIT DATA OUTPUT
        RXD       = %00000001   ; SCI RECEIVE DATA INPUT

  DDRD      = REGS+$09 ;  DATA DIRECTION REGISTER FOR PORT D

        DDD5      = %00100000   ; *0=IN 1=OUT
        DDD4      = %00010000   ; *0=IN 1=OUT
        DDD3      = %00001000   ; *0=IN 1=OUT
        DDD2      = %00000100   ; *0=IN 1=OUT
        DDD1      = %00000010   ; *0=IN 1=OUT
        DDD0      = %00000001   ; *0=IN 1=OUT

  PORTE     = REGS+$0A ;  PORT E DATA REGISTER (ANALOG IN IF ADC ENABLED)

        PE7       = %10000000   ; IN (AN7)
        PE6       = %01000000   ; IN (AN6)
        PE5       = %00100000   ; IN (AN5)
        PE4       = %00010000   ; IN (AN4)
        PE3       = %00001000   ; IN (AN3)
        PE2       = %00000100   ; IN (AN2)
        PE1       = %00000010   ; IN (AN1)
        PE0       = %00000001   ; IN (AN0)


 .ENDIF

@ENDNODE
@NODE HC11_TIMERS
****************************
*     TIMER REGISTERS      *
****************************

  CFORC     = REGS+$0B ;  TIMER COMPARE FORCE REGISTER
                       ;  *0= NORMAL OPERATION
                       ;   1= FORCE OUTPUT COMPARE EVENT

        FOC1      = %10000000   ; FORCE OUTPUT COMPARE 1
        FOC2      = %01000000   ; FORCE OUTPUT COMPARE 2
        FOC3      = %00100000   ; FORCE OUTPUT COMPARE 3
        FOC4      = %00010000   ; FORCE OUTPUT COMPARE 4
        FOC5      = %00001000   ; FORCE OUTPUT COMPARE 5

  OC1M      = REGS+$0C ;  OUTPUT COMPARE 1 MASK REGISTER
                       ;  *0= DISABLE OUTPUT TO PIN
                       ;   1= ENABLE  OUTPUT TO PIN
                       ;  OVERRIDES OTHER OC OUTPUT !

        OC1M7     = %10000000   ; OC1D7 TO PA7
        OC1M6     = %01000000   ; OC1D6 TO PA6
        OC1M5     = %00100000   ; OC1D5 TO PA5
        OC1M4     = %00010000   ; OC1D4 TO PA4
        OC1M3     = %00001000   ; OC1D3 TO PA3

  OC1D      = REGS+$0D ;  OUTPUT COMPARE 1 DATA REGISTER
                       ;  RESULTS OF ALL OUTPUT COMPARE 1 BITS
                       ;  (*0 AFTER RESET)

        OC1D7     = %10000000   ; OUTPUT COMPARE RESULT FOR PA7
        OC1D6     = %01000000   ; OUTPUT COMPARE RESULT FOR PA6
        OC1D5     = %00100000   ; OUTPUT COMPARE RESULT FOR PA5
        OC1D4     = %00010000   ; OUTPUT COMPARE RESULT FOR PA4
        OC1D3     = %00001000   ; OUTPUT COMPARE RESULT FOR PA3

  TCNT      = REGS+$0E ;  TIMER COUNTER REGISTER         (2 BYTES,MSB FIRST)
                       ;  (*0 AFTER RESET)

  TIC1      = REGS+$10 ;  TIMER INPUT CAPTURE REGISTER 1 (2 BYTES,MSB FIRST)
  TIC2      = REGS+$12 ;  TIMER INPUT CAPTURE REGISTER 2 (2 BYTES,MSB FIRST)
  TIC3      = REGS+$14 ;  TIMER INPUT CAPTURE REGISTER 3 (2 BYTES,MSB FIRST)

  TOC1      = REGS+$16 ;  TIMER OUTPUT COMPARE REGIST. 1 (2 BYTES,MSB FIRST)
  TOC2      = REGS+$18 ;  TIMER OUTPUT COMPARE REGIST. 2 (2 BYTES,MSB FIRST)
  TOC3      = REGS+$1A ;  TIMER OUTPUT COMPARE REGIST. 3 (2 BYTES,MSB FIRST)
  TOC4      = REGS+$1C ;  TIMER OUTPUT COMPARE REGIST. 4 (2 BYTES,MSB FIRST)
  TOC5      = REGS+$1E ;  TIMER OUTPUT COMPARE REGIST. 5 (2 BYTES,MSB FIRST)
 .IFD HAS_TIC4 ; HC11Ex/HC11F1 ONLY
  TI4O5     = REGS+$1E ;  TIMER IN CAPT 4/OUT COMP 5 REG (2 BYTES,MSB FIRST)
 .ENDIF

  TCLT1     = REGS+$20 ;  TIMER CONTROL REGISTER 1

        OM2       = %10000000   ;  OMx  OLx  ACTION UPON SUCCESSFUL COMPARE
        OL2       = %01000000   ;  *0   *0    TIMER DISC FROM OUTPUT PIN
        OM3       = %00100000   ;   0    1    TOGGLE OCx OUTPUT LINE
        OL3       = %00010000   ;   1    0    CLEAR OCx OUTPUT LINE TO ZERO
        OM4       = %00001000   ;   1    1    SET OCx OUTPUT LINE TO ONE
        OL4       = %00000100
        OM5       = %00000010
        OL5       = %00000001

  TCLT2     = REGS+$21 ;  TIMER CONTROL REGISTER 2

      .IFD HAS_TIC4 ; HC11Ex/HC11F1 ONLY
        EDG4B     = %00100000   ;
        EDG4A     = %00010000   ;
      .ENDIF
        EDG1B     = %00100000   ; EDGxB EDGxA  CONFIGURATION
        EDG1A     = %00010000   ;  *0    *0    CAPTURE DISABLED
        EDG2B     = %00001000   ;   0     1    CAPTURE ON RISING EDGES ONLY
        EDG2A     = %00000100   ;   1     0    CAPTURE ON FALING EDGES ONLY
        EDG3B     = %00000010   ;   1     1    CAPTURE ON ANY EDGE (RISING OR FALLING)
        EDG3A     = %00000001

  TMSK1     = REGS+$22 ;  MAIN TIMER INTERRUPT MASK REG 1
                       ;  *0= DISABLE INTERRUPT
                       ;   1= ENABLE  INTERRUPT

        OC1I      = %10000000
        OC2I      = %01000000
        OC3I      = %00100000
        OC4I      = %00010000
        OC5I      = %00001000
      .IFD HAS_TIC4 ; HC11Ex/HC11F1 ONLY
        I4O5I     = %00001000
      .ENDIF

        IC1I      = %00000100
        IC2I      = %00000010
        IC3I      = %00000001

  TFLG1     = REGS+$23 ;  MAIN TIMER INTERRUPT FLAG REG 1
                       ;  *0= NO EVENT HAPPENED
                       ;   1= EVENT OCCURED

        OC1F      = %10000000
        OC2F      = %01000000
        OC3F      = %00100000
        OC4F      = %00010000
        OC5F      = %00001000
      .IFD HAS_TIC4 ; HC11Ex/HC11F1 ONLY
        I4O5F     = %00001000
      .ENDIF

        IC1F      = %00000100
        IC2F      = %00000010
        IC3F      = %00000001

  TMSK2     = REGS+$24 ;  MISC TIMER INTERRUPT MASK REG 2

        TOI       = %10000000   ; TIMER OVERFLOW INTERRUPT ENABLE
                                ; *0= DISABLED
                                ;  1= ENABLED

        RTII      = %01000000   ; RTI INTERRUPT ENABLE
                                ; *0= DISABLED
                                ;  1= ENABLED

        PAOVI     = %00100000   ; PULSE ACCUMULATOR OVERFLOW INTERRUPT ENABLE
                                ; *0= DISABLED
                                ;  1= ENABLED

        PAII      = %00010000   ; PULSE ACCUMULATOR INPUT INTERRUPT ENABLE
                                ; *0= INTERRUPT INHIBITED
                                ;  1= INTERRUPT R  =ESTED IF FLAG SET

        PR1       = %00000010   ; PR1  PR2  PRESCALE FACTOR
        PR0       = %00000001   ; *0   *0      1
                                ;  0    1      4
                                ;  1    0      8
                                ;  1    1     16

  TFLG2     = REGS+$25 ;  MISC TIMER INTERRUPT FLAG REG 2
                       ; *0= NO EVENT
                       ;  1= EVENT OCCURED

        TOF       = %10000000   ; TIMER OVERFLOW FLAG

        RTIF      = %01000000   ; REAL TIME (PERIODIC) INTERRUPT FLAG

        PAOVF     = %00100000   ; PULSE ACCUMULATOR OVERFLOW FLAG

        PAIF      = %00010000   ; PULSE ACCUMULATOR INPUT EDGE FLAG

  PACTL     = REGS+$26 ;  PULSE ACCUMULATOR CONTROL REGISTER

      .IFND HAS_F1REG ; ANY HC11 EXCEPT HC11F1
        DDRA7     = %10000000   ; DATA DIRECTION FOR PA7
        DDA7      = %10000000   ; *0= INPUT
                                ;  1= OUTPUT
      .ENDIF

        PAEN      = %01000000   ; PULSE ACCUMULATOR SYSTEM ENABLE
                                ; *0= DISABLED
                                ;  1= ENABLED

        PAMOD     = %00100000   ; PULSE ACCUMULATOR MODE
                                ; *0= EVENT COUNTER
                                ;  1= GATED TIME ACCUMULATION

        PEDGE     = %00010000   ; PULSE ACCUMULATOR EDGE CONTROL
                                ; *0= FALLING EDGES, HIGH LEVEL ENABLES ACCUM
                                ;  1= RISING EDGES, LOW LEVEL ENABLES ACCUM

      .IFND HAS_F1REG ; ANY HC11 EXCEPT HC11F1
        DDRA3     = %00001000   ; DATA DIRECTION FOR PA3
        DDA3      = %00001000   ; *0= INPUT
                                ;  1= OUTPUT
      .ENDIF

      .IFD HAS_TIC4 ; HC11Ex/HC11F1 ONLY
        I4O5      = %00001000   ; SELECT INPUT CAPTURE 4 / OUTPUT COMPARE 5
                                ; *0= OUTPUT COMPARE 5 ENABLED
                                ;  1= INPUT  CAPTURE 4 ENABLED
      .ENDIF

        RTR1      = %00000010   ; RTI INTERRUPT RATE
        RTR0      = %00000001   ;  RTR1 RTR0  DIV E BY
                                ;  *0   *0     2^13
                                ;   0    1     2^14
                                ;   1    0     2^15
                                ;   1    1     2^16

  PACNT     = REGS+$27 ;  PULSE ACCUMULATOR COUNT REGISTER


@ENDNODE
@NODE HC11_SPI-INTERFACE
*****************************************
* SERIAL PERIPHERAL INTERFACE REGISTERS *
*****************************************

  SPCR      = REGS+$28 ;  SPI CONTROL REGISTER

        SPIE      = %10000000   ; SPI INTERRUPT ENABLE
                                ; *0= DISABLED
                                ;  1= ENABLED

        SPE       = %01000000   ; SPI SYSTEM ENABLE
                                ; *0= DISABLED
                                ;  1= ENABLED

        DWOM      = %00100000   ; PORT D WIRE-OR MODE
                                ; *0=PORT D OUTPUTS NORMAL
                                ;  1=OPEN DRAIN

        MSTR      = %00010000   ; MASTER/SLAVE MODE SELECT
                                ; *0=SLAVE MODE
                                ;  1=MASTER MODE

        CPOL      = %00001000   ; CLOCK POLARITY
                                ; *0= CLOCK RETURNS TO LOW
                                ;  1= CLOCK RETURNS TO HIGH

        CPHA      = %00000100   ; CLOCK PHASE
                                ; *0= TRIGGER ON FIRST  CLOCK CHANGE
                                ;     (FROM CPOL TO OPPOSITE LEVEL)
                                ;  1= TRIGGER ON SECOND CLOCK CHANGE
                                ;     (FROM OPPOSITE TO CPOL LEVEL)

        SPR1      = %00000010   ; SPI CLOCK (SCK) RATE BIT
        SPR0      = %00000001   ;  SPR1 SPR0  E DIV BY
                                ;  *0   *0       2
                                ;   0    1       4
                                ;   1    0       16
                                ;   1    1       32

  SPSR      = REGS+$29 ;  SPI STATUS REGISTER
                       ;  *0= NO EVENT HAPPENED
                       ;   1= EVENT OCCURED

        SPIF      = %10000000   ; SPI INTERRUPT REQUEST FLAG

        WCOLF     = %01000000   ; WRITE COLLISION STATUS FLAG

        MODF      = %00010000   ; SPI MODE ERROR INTERRUPT STATUS FLAG

  SPDR      = REGS+$2A ;  SPI DATA REGISTER


@ENDNODE
@NODE HC11_SCI-INTERFACE
*********************************************
* SERIAL COMMUNICATIONS INTERFACE REGISTERS *
*********************************************

  BAUD      = REGS+$2B ;  SCI BAUD RATE CONTROL REGISTER

        TCLR      = %10000000   ; CLEAR BAUD COUNTER CHAIN (TEST ONLY)
                                ;  *0 = NORMAL OPERATION
                                ;   1 = CLEAR COUNTERS

        SCP1      = %00100000   ; SERIAL PRESCALER SELECTS
        SCP0      = %00010000   ;  SCP1 SCP0  DIV E BY
                                ;  *0   *0       1
                                ;   0    1       3
                                ;   1    0       4
                                ;   1    1      13

        RCKB      = %00001000   ; SCI BAUD RATE CLOCK TEST (TEST ONLY)
                                ;  *0 = NORMAL OPERATION
                                ;   1 = TEST MODE

        SCR2      = %00000100   ; SCI RATE SELECT BIT 2 THRU BIT 0
        SCR1      = %00000010   ;  SCR2 SCR1 SCR0  PRESC OUT DIV BY
        SCR0      = %00000001   ;   0    0    0          1
                                ;   0    0    1          2
                                ;   0    1    0          4
                                ;   0    1    1          8
                                ;   1    0    0         16
                                ;   1    0    1         32
                                ;   1    1    0         64
                                ;   1    1    1        128
                                ;  *?    ?    ?  UNDEFINED AFTER RESET!

  SCCR1     = REGS+$2C ;  SCI CONTROL REGISTER 1

        R8        = %10000000   ; RECEIVE BIT 8  (*UNDEFINED AFTER RESET)

        T8        = %01000000   ; TRANSMIT BIT 8 (*UNDEFINED AFTER RESET)

        M         = %00010000   ; MODE SELECT
                                ; *0= 1 START, 8 DATA, 1 STOP
                                ;  1= 1 START, 8 DATA, 9TH DATA, 1 STOP BIT

        WAKE      = %00001000   ; WAKE = WAKE UP (BY ADDRESS MARK/IDLE)
                                ; *0= WAKE UP BY IDEL LINE
                                ;  1= WAKE UP BY ADDRESS MARK

  SCCR2     = REGS+$2D ;  SCI CONTROL REGISTER 2

        TIE       = %10000000   ; TRANSMIT INTERRUPT ENABLE
                                ; *0= DISABLED
                                ;  1= ENABLED

        TCIE      = %01000000   ; TRANSMIT COMPLETE INTERRUPT ENABLE
                                ; *0= DISABLED
                                ;  1= ENABLED

        RIE       = %00100000   ; RECEIVER INTERRUPT ENABLE
                                ; *0= DISABLED
                                ;  1= ENABLED

        ILIE      = %00010000   ; IDLE LINE INTERRUPT ENABLE
                                ; *0= DISABLED
                                ;  1= ENABLED

        TE        = %00001000   ; TRANSMITER ENABLE (TOGGLE TO QUEUE IDLE CHAR)
                                ; *0= OFF
                                ;  1= ON

        RE        = %00000100   ; RECEIVER ENABLE
                                ; *0= OFF
                                ;  1= ON

        RWU       = %00000010   ; RECEIVER WAKE-UP CONTROL
                                ; *0= NORMAL
                                ;  1= RECEIVER ASLEEP

        SBK       = %00000001   ; SEND BREAK
                                ; *0= DISABLED
                                ;  1= SEND BREAK

  SCSR      = REGS+$2E ;  SCI STATUS REGISTER
                       ;  *0= NO EVENT HAPPENED
                       ;   1= EVENT OCCURED

        TDRE      = %10000000   ; TRANSMIT DATA REG EMPTY FLAG

        TC        = %01000000   ; TRANSMIT COMPLETE FLAG

        RDRF      = %00100000   ; RECEIVE DATA REG FULL FLAG

        IDLE      = %00010000   ; IDLE LINE DETECTED FLAG

        OR        = %00001000   ; OVER-RUN ERROR FLAG

        NF        = %00000100   ; NOISE ERROR FLAG

        FE        = %00000010   ; FRAMING ERROR FLAG

  SCDR      = REGS+$2F ;  SCI DATA REGISTER
                       ; RECEIVE AND TRANSMIT DOUBLE BUFFERED

  RDR       = REGS+$2F ; SCI RECEIVE DATA  (SAME AS SCDAT)
  TDR       = REGS+$2F ; SCI TRANSMIT DATA (SAME AS SCDAT)

@ENDNODE
@NODE HC11_ADCs
******************************************
* ANALOG -> DIGITAL CONVERSION REGISTERS *
******************************************

  ADCTL     = REGS+$30 ;  A/D CONTROL/STATUS REGISTER

        CCF       = %10000000   ; CONVERSIONS COMPLETE FLAG
                                ; *0= CONVERSION IN PROGRESS
                                ;  1= CONVERSIONS COMPLETE
                                ; (SETS AFTER 4TH CONVERSION)

        SCAN      = %00100000   ; CONTINUOUS SCAN CONTROL
                                ;  0= 4 CONVERSIONS AND STOP
                                ;  1= CONVERT CONTINUOUSLY
                                ;  (*UNDEFINED AFTER RESET)

        MULT      = %00010000   ; MULTIPLE CHANNEL/SINGLE CHANNEL CONTROL
                                ;  0= CONVER SINGLE CHANNEL
                                ;  1= CONVERT FOUR CHANNEL GROUP
                                ;  (*UNDEFINED AFTER RESET)

        CD        = %00001000   ;  CD  CC  CB  CA  CHANNEL SIGNAL  RESULT IN
        CC        = %00000100   ;  0   0   0   0    AN0 PORT E0        ADR1
        CB        = %00000010   ;  0   0   0   1    AN1 PORT E1        ADR2
        CA        = %00000001   ;  0   0   1   0    AN2 PORT E2        ADR3
                                ;  0   0   1   1    AN3 PORT E3        ADR4
                                ;  0   1   0   0    AN4 PORT E4        ADR1
                                ;  0   1   0   1    AN5 PORT E5        ADR2
                                ;  0   1   1   0    AN6 PORT E6        ADR3
                                ;  0   1   1   1    AN7 PORT E7        ADR4
                                ;  1   0   0   0    RESERVED           ADR1
                                ;  1   0   0   1    RESERVED           ADR2
                                ;  1   0   1   0    RESERVED           ADR3
                                ;  1   0   1   1    RESERVED           ADR4
                                ;  1   1   0   0    VREF HI            ADR1
                                ;  1   1   0   1    VREF LOW           ADR2
                                ;  1   1   1   0    VREF HI/2          ADR3
                                ;  1   1   1   1    TEST/RESERVED      ADR4
                                ; *?   ?   ?   ?   (*UNDEFINED AFTER RESET)

  ADR1      = REGS+$31 ;  A/D RESULT REGISTERS 1
  ADR2      = REGS+$32 ;  A/D RESULT REGISTERS 2
  ADR3      = REGS+$33 ;  A/D RESULT REGISTERS 3
  ADR4      = REGS+$34 ;  A/D RESULT REGISTERS 4


@ENDNODE
@NODE HC11_PROM
**************************
* PROGRAMMING REGISTERS  *
**************************

 .IFD HAS_BPROT ; HC11Ex/HC11F1/HC811E2 ONLY

  BPROT     = REGS+$35 ; BLOCK PROTECT REGISTER
                       ; (CAN ONLY BE WRITTEN IN THE FIRST 64 E-CYLES)

        PTCON     = %00010000   ; PROTECTION FOR CONFIG
                                ;  0= CONFIG REGISTER FREE
                                ; *1= CONFIG REGISTER PROTECTED

                                ; BLOCK PROTECT BITS FOR EPROM
                                ;  0= BLOCK FREE
                                ; *1= BLOCK PROTECTED
        BPRT3     = %00001000   ; $xE00 - $xE1F   32 BYTES
        BPRT2     = %00000100   ; $xE20 - $xE5F   64 BYTES
        BPRT1     = %00000010   ; $xE60 - $xEDF  128 BYTES
        BPRT0     = %00000001   ; $xEE0 - $xFFF  288 BYTES

 .ENDIF
 .IFD HAS_F1REG ; HC11F1 ONLY

  OPT2      = REGS+$38 ;  SYSTEM CONFIGURATION OPTIONS 2

        GWOM      = %10000000   ; PORT G WIRED OR MODE
                                ;  0= PORT G OPERATES NORMALLY
                                ;  1= PORT G OUTPUTS ARE OPEN DRAIN TYPE

        CWOM      = %01000000   ; PORT C WIRED OR MODE
                                ;  0= PORT C OPERATES NORMALLY
                                ;  1= PORT C OUTPUTS ARE OPEN DRAIN TYPE

        CLK4X     = %00100000   ; 4XOUT CLOCK ENABLE
                                ;  0= 4XOUT PIN IS DRIVEN LOW
                                ;  1= 4XPUT SIGNAL DRIVEN TO 4XOUT PIN

 .ENDIF

  OPTION    = REGS+$39 ;  SYSTEM CONFIGURATION OPTIONS

        ADPU      = %10000000   ; A TO D POWER UP
                                ; *0= A/D SYSTEM POWERED DOWN
                                ;  1= A/D SYSTEM POWERED UP

        CSEL      = %01000000   ; CLOCK SELECT
                                ; SHOULD BE USED IF E LESS THAN 1MHZ
                                ; *0= A/D & EE USE SYSTEM E CLOCK
                                ;  1= A/D & EE USE AN INTERNAL R-C CLOCK

        IRQE      = %00100000   ; IRQ SELECT EDGE SENSITIVE ONLY
                                ; *0= IRQ CONFIGURED FOR LOW LEVEL
                                ;  1= IRQ CONFIGURED FOR FALLING EDGES
                                ; (CAN BE WRITTEN IN THE FIRST 64 E-CYLES)

        DLY       = %00010000   ; ENABLE OSCILLATOR START UP DELAY
                                ; (EXITING FROM STOP)
                                ; *0= NO DELAY
                                ;  1= A DELAY IS IMPOSED (4064 E-CYCLES)
                                ; (CAN BE WRITTEN IN THE FIRST 64 E-CYLES)

        CME       = %00001000   ; CLOCK MONITOR ENABLE
                                ; *0= DISABLED
                                ;  1= SLOW OR STOPPED CLOCKS CAUSE RESET

      .IFD HAS_F1REG ; HC11F1 ONLY
        FCME      = %00000100   ; FORCE CLOCK MONITOR ENABLE
                                ; *0= CLOCK MONITOR FOLLOWS CME FLAG
                                ;  1= CLOCK MONITOR ENABLED AND CANNOT
                                ;     BE DISABLED UNTIL NEXT RESET
                                ; (CAN BE WRITTEN IN THE FIRST 64 E-CYLES)
      .ENDIF

        CR1       = %00000010   ; COP TIMER RATE SELECT BITS
        CR0       = %00000001   ; CR1 CR0 E/2^15 DIV BY
                                ; *0  *0      1
                                ;  0   1      4
                                ;  1   0     16
                                ;  1   1     64
                                ; (CAN BE WRITTEN IN THE FIRST 64 E-CYLES)

  COPRST    = REGS+$3A ;  ARM/RESET COP TIMER CIRCUITRY
                       ;  TRIGGERED BY $55,$AA TO RESET COP

  PPROG     = REGS+$3B ;  EEPROM PROGRAMMING REGISTER

        ODD       = %10000000   ; PROGRAM ODD ROWS IN HALF OF EEPROM (TEST)
                                ; *0= DISABLED
                                ;  1= ENABLED

        EVEN      = %01000000   ; PROGRAM EVEN ROWS IN HALF OF EEPROM (TEST)
                                ; *0= DISABLED
                                ;  1= ENABLED

        BYTE      = %00010000   ; BYTE/OTHER EEPROM ERASE MODE
                                ;  0= ROW OR ALL ERASE MODE WILL BE USED
                                ;  1= ERASE ONLY ONE BYTE OF EEPROM

        ROW       = %00001000   ; ROW/ALL EEPROM ERASE MODE
                                ;  0= ALL 512 BYTES OF EEPROM TO BE ERASED
                                ;  1= ERASE ONLY ONE 16 BYTE ROW OF EEPROM

        ERASE     = %00000100   ; ERASE/NORMAL CONTROL OF EEPROM
                                ; *0= NORMAL READ OR PROGRAM MODE
                                ;  1= ERASE MODE

        EELAT     = %00000010   ;  EEPROM LATCH CONTROL
                                ;  0= EEPROM ADDRESS AND DATA BUS CONFIG FOR READS
                                ;  1= EEPROM BUSS CONFIG FOR PROGRAM OR ERASE
                                ;     EEPROM CANNOT BE READ WHILE EELAT = 1

        EEPGM     = %00000001   ; EEPROM PROGRAM COMMAND
                                ;   WRITABLE ONLY IF EELAT = 1
                                ; *0= PROGRAM (OR ERASE) POWER SWITCHED OFF
                                ;  1= PROGRAM (OR ERASE) POWER SWITCHED ON

  HPRIO     = REGS+$3C ;  HIGHEST PRIORITY INTERRUPT AND MISC.

        RBOOT     = %10000000   ; READ BOOTSTRAP ROM (ONLY WRITABLE IF SMOD=1)
                                ; *0= BOOT ROM NOT IN MAP (NORMAL)
                                ;  1= BOOT ROM ENABLED

        SMOD      = %01000000   ; SPECIAL MODE SELECT (SMOD/IRV ALSO IN HC24)
        MDA       = %00100000   ; MODE SELECT
                                ;  MODB MODA    MODE DESCR     SMOD MDA
                                ;   1    0      SINGLE CHIP     0    0
                                ;   1    1      EXPANDED MUX    0    1
                                ;   0    0      BOOTSTRAP       1    0
                                ;   0    1      SPECIAL TEST    1    1

        IRV       = %00010000   ; INTERNAL READ VISIBILITY (ALSO IN HC24)
                                ;  0= NO VISIBILITY OF INTERNAL READS ON EXTERNAL BUS
                                ;  1= DATA FROM INTERNAL READS IS DRIVEN OUT DATA BUS

        PSEL3     = %00001000   ; PRIORITY SELECT
        PSEL2     = %00000100   ; MAY ONLY BE WRITTEN IF I BIT IN CC REG IS 1
        PSEL1     = %00000010   ; PSEL3 PSEL2 PSEL1 PSEL0         INTERRUPT:
        PSEL0     = %00000001   ;   0     0     0     0         TIMER OVERFLOW
                                ;   0     0     0     1         PULSE ACCUM OVERFL
                                ;   0     0     1     0         PULSE ACC EDGE
                                ;   0     0     1     1         SPI XFER COMPLETE
                                ;   0     1     0     0         SCI SERIAL SYSTEM
                                ;   0     1     0     1         RESERVED (DEFAULT IRQ)
                                ;   0     1     1     0         IRQ (PIN OR PAR I/O)
                                ;   0     1     1     1         REAL TIME INTERRUPT
                                ;   1     0     0     0         TIMER INPUT CAPTURE 1
                                ;   1     0     0     1         TIMER INPUT CAPTURE 2
                                ;   1     0     1     0         TIMER INPUT CAPTURE 3
                                ;   1     0     1     1         TIMER OUTPUT COMPARE 1
                                ;   1     1     0     0         TIMER OUTPUT COMPARE 2
                                ;   1     1     0     1         TIMER OUTPUT COMPARE 3
                                ;   1     1     1     0         TIMER OUTPUT COMPARE 4
                                ;   1     1     1     1         TIMER OUTPUT COMPARE 5

  INIT      = REGS+$3D ;  RAM AND I/O MAPPING REGISTER (REG0:3 ALSO IN HC24)
                       ; (CAN ONLY BE WRITTEN IN THE FIRST 64 E-CYLES)

        RAM3      = %10000000
        RAM2      = %01000000   ; POSITION RAM IN ANY 4K PAGE
        RAM1      = %00100000   ;  FROM $0000 TO $F000
        RAM0      = %00010000   ; (*$0000 AFTER RESET)

        REG3      = %00001000   ; (REG0:3 ALSO IN HC24)
        REG2      = %00000100   ; POSITION REGISTER FILE IN ANY 4K PAGE
        REG1      = %00000010   ;  FROM $0000 TO $F000
        REG0      = %00000001   ; (*$1000 AFTER RESET)

  TEST1     = REGS+$3E ;  FACTORY TEST REGISTER
                       ;   RESTRICTED TEST MODES ONLY

        TILOP     = %10000000   ; TEST ILLEGAL OPCODE

        OCCR      = %00100000   ; OUTPUT CONDITION CODE REG STAT TO TIMER PORT

        CBYP      = %00010000   ; TIMER DIVIDER CHAIN BYPASS

        DISR      = %00001000   ; DISABLE RESETS FROM COP AND CLOCK MONITOR

        FCM       = %00000100   ; FORCE CLOCK MONITOR FAILURE

        FCOP      = %00000010   ; FORCE COP WATCHDOG FAILURE

        TCON      = %00000001   ; TEST CONFIGURATION

  CONFIG    = REGS+$3F ;  CONFIGURATION CONTROL REGISTER (EEPROM CELL)
                       ;  WRITE TO EEPROM, READ REGISTER COPIED WHILE RESET

      .IFD HAS_F1REG ; HC11F1 ONLY
        EE3       = %10000000   ; EEPROM START ADDRESS
        EE2       = %01000000   ;   EE3:EE0    EEPROM ADDRESS
        EE1       = %00100000   ;    x=0:F       xE00-xFFF
        EE0       = %00010000   ; (ALL BITS SET AFTER RESET -> x=$F )
      .ENDIF

      .IFND HAS_F1REG ; ANY HC11 EXCEPT HC11F1
        NOSEC     = %00001000   ; SECURITY MODE DISABLE (MASK)
                                ; #0= SECURITY MODE (JUST SINGLE CHIP WORKS)
                                ;     WHILE BOOTSTRAP RAM, EEPROM AND CONFIG
                                ;     GET CLEARED (SEE '#' SIGN)!
                                ;  1= NO SECURITY
      .ENDIF

        NOCOP     = %00000100   ; COP SYSTEM DISABLE
                                ; #0= COP SYSTEM ENABLED
                                ;     (FORCES RESET ON TIMEOUT)
                                ;  1= COP SYSTEM DISABLED

      .IFND HAS_F1REG ; ANY HC11 EXCEPT HC11F1
        ROMON     = %00000010   ; ROM ENABLE
                                ; #0= ROM IS NOT IN THE MEMORY MAP
                                ;  1= ROM ON AT $D000/E000 TO $FFFF (IF ANY)
      .ENDIF

        EEON      = %00000001   ; EEPROM ENABLE
                                ; #0= EEPROM IS NOT IN THE MEMORY MAP
                                ;  1= EEPROM ON AT $B600 TO $B6FF/B7FF

@ENDNODE
@NODE HC11F1_CHIPSELECT
**************************
* CHIP SELECT REGISTERS  *
**************************

 .IFD HAS_F1REG ; HC11F1 ONLY

  CSSTRH    = REGS+$5C ;  CHIP SELECT CLOCK STRETCH SELECT

                                ; IOxSA IOxSB  CLOCK STRETCH SELECTED
                                ;  *0   *0            NONE
                                ;   0    1          1 CYCLE
                                ;   1    0          2 CYCLES
                                ;   1    1          3 CYCLES

        IO1SA     = %10000000   ; IO CHIP SELECT 1 CLOCK STRETCH SELECT
        IO1SB     = %01000000
        IO2SA     = %00100000   ; IO CHIP SELECT 2 CLOCK STRETCH SELECT
        IO2SB     = %00010000
        GSTHA     = %00001000   ; GENERAL PURPOSE CHIP SELECT CLOCK STRETCH SELECT
        GSTHB     = %00000100
        PSTHA     = %00000010   ; IO CHIP SELECT 2 CLOCK STRETCH SELECT
        PSTHB     = %00000001

  CSCTL     = REGS+$5D ;  CHIP SELECT CONTROL

                                ; IOxSA IOxSB  CLOCK STRETCH SELECTED
                                ;  *0   *0            NONE
                                ;   0    1          1 CYCLE
                                ;   1    0          2 CYCLES
                                ;   1    1          3 CYCLES

        IO1EN     = %10000000   ; IO CHIP SELECT 1 ENABLE
                                ; *0= CCSIO1 IS DISABLED, PORTG BIT 5 IS GPIO
                                ;  1= CCSIO1 IS ENABLED, USING PORT G BIT 5

        IO1PL     = %01000000   ; IO CHIP SELECT 1 POLARITY SELECT
                                ; *0= CCSIO1 ACTIVE LOW
                                ;  1= CCSIO1 ACTIVE HIGH

        IO2EN     = %00100000   ; IO CHIP SELECT 2 ENABLE
                                ; *0= CCSIO2 IS DISABLED, PORTG BIT 4 IS GPIO
                                ;  1= CCSIO2 IS ENABLED, USING PORT G BIT 4

        IO2PL     = %00010000   ; IO CHIP SELECT 2 POLARITY SELECT
                                ; *0= CCSIO2 ACTIVE LOW
                                ;  1= CCSIO2 ACTIVE HIGH

        GCSPR     = %00001000   ; GENERAL PURPOSE CHIP SELECT PRIORITY
                                ; *0= PROGRAM CHIP SELECT HAS PRIORITY OVER
                                ;     GENERAL PURPOSE CHIP SELECT
                                ;  1= GENERAL PURPOSE CHIP SELECT HAS
                                ;     PRIORITY OVER PROGRAM CHIP SELECT

        PCSEN     = %00000100   ; PROGRAM CHIP SELECT ENABLE
                                ;  0= -CSPROG IS DISABLED, PORTG BIT7 IS GPIO
                                ;  1= -CSPROG IS ENABLED, USING PORT G BIT 7
                                ; (*SET OUT OF RESET IN EXPANDED MODES)

        PSIZA     = %00000010   ; PROGRAM CHIP SELECT SIZE
        PSIZB     = %00000001   ; PSIZA PSIZB  ADDRESS RANGE
                                ;  *0   *0     $0000 - $FFFF  64K
                                ;   0    1     $8000 - $FFFF  32K
                                ;   1    0     $C000 - $FFFF  16K
                                ;   1    1     $E000 - $FFFF   8K

  CSGADR    = REGS+$5E ;  GENERAL PURPOSE CHIP SELECT ADDRESS REGISTER
                       ; GA[15:10] CORRESP. TO MCU ADDRESS BITS ADDR[15:10]
                       ; AND SELECT THE STARTING ADDRESS OF THE GENERAL
                       ; PURPOSE CHIP SELECT'S ADDRESS RANGE. WHICH BITS ARE
                       ; ACTIVE DEPENDS UPON THE SIZE SELECTED BY GSIZA-GSIZC
                       ; IN CSGSIZ REGISTER

        GA15      = %10000000   ; SIZE  VALID STARTING ADDRESS
        GA14      = %01000000   ;  0          NONE
        GA13      = %00100000   ;  1K         GA[15:10]
        GA12      = %00010000   ;  2K         GA[15:11]
        GA11      = %00001000   ;  4K         GA[15:12]
        GA10      = %00000100   ;  8K         GA[15:13]
                                ; 16K         GA[15:14]
                                ; 32K         GA15
                                ; 64K         NONE
                                ; (*0 AFTER RESET)

  CSGSIZ    = REGS+$5F ;  GENERAL PURPOSE CHIP SELECT SIZE CONTROL

        IO1AV     = %10000000   ; IO CHIP SELECT 1 ADDRESS VALID
                                ; *0= IO-CS1 IS ACTIVE DURING E CLOCK HIGH
                                ;  1= IO-CS1 IS ACTIVE DURING ADDR VALID TIME

        IO2AV     = %01000000   ; IO CHIP SELECT 2 ADDRESS VALID
                                ; *0= IO-CS2 IS ACTIVE DURING E CLOCK HIGH
                                ;  1= IO-CS2 IS ACTIVE DURING ADDR VALID TIME

        GNPOL     = %00010000   ; GENERAL PURPOSE CHIP SELECT POLARITY SELECT
                                ; *0= CSGEN ACTIVE LOW
                                ;  1= CSGEN ACTIVE HIGH

        GAVLD     = %00001000   ; GENERAL PURPOSE CHIP SELECT 2 ADDRESS VALID
                                ; *0= CSGEN IS ACTIVE DURING E CLOCK HIGH
                                ;  1= CSGEN IS ACTIVE DURING ADDR VALID TIME

        GSIZA     = %00000100   ; PROGRAM CHIP SELECT SIZE
        GSIZB     = %00000010   ; GSIZA GSIZB GSIZC  SIZE
        GSIZC     = %00000001   ;   0     0     0     64K
                                ;   0     0     1     32K
                                ;   0     1     0     16K
                                ;   0     1     1      8K
                                ;   1     0     0      4K
                                ;   1     0     1      2K
                                ;   1     1     0      1K
                                ;  *1    *1    *1      0K (DISABLED)

 .ENDIF

@ENDNODE


