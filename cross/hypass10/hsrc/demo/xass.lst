HypAss 1.0, © 1998 RST Ralf Steines Trier, ALL RIGHTS RESERVED !
*$VER: XASS lib test V1.0 (19.7.96)
*©1998 RST Ralf Steines Trier, ALL RIGHTS RESERVED

      6        0                   |    .SYN  xass,xass,nop
      7        0                   |    .CPU  6502

  @{" XASS  PC control  " LINK XASS_PCCONTROL   }
  @{" XASS  mem alloc   " LINK XASS_MEMALLOC    }
  @{" XASS  assignments " LINK XASS_ASSIGNMENTS   }
  @{" XASS  conditional " LINK XASS_CONDITIONAL }
  @{" XASS  including   " LINK XASS_INCLUDING   }
  @{" XASS  macros      " LINK XASS_MACROS      }
  @{" XASS  case test   " LINK XASS_CASE        }
  @{" XASS  dummies     " LINK XASS_DUMMIES     }
  @{" XASS  formatting  " LINK XASS_FORMATTING  }


@ENDNODE
* pseudos -----------------------------------------------------------------
@NODE xass_pccontrol "[2] Listing of HSRC:demo/xass.hsrc/xass_pccontrol (23)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edit HSRC:demo/xass.hsrc xass_pccontrol 22"
 @{" Assemble " SYSTEM "hass:tools/assemble HSRC:demo/xass t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC"}
  * XASS PC control

     25        0     *=    8000    |    .BASE $8000 ; defines code segment
     26     8000 0C00              |    .WORD 12

     28     8002    *[]    DATA    |    .DATA
     29        0     *=    1000    |    .BASE $1000 ; defines data segment
     30     1000 0C00              |    .WORD 12

     32     1002    *[]     RAM    |    .RAM
     33        0     *=    2000    |     *=   $2000 ; defines ram segment
     34     2000 0C00              |    .WORD 12

     36     2002    *[]    AUTO    |    .AUTO
     37        0     *=    3000    |        *=$3000 ; defines auto segment
     38     3000 0C00              |    .WORD 12

     40     3002    *[]     RAM    |    .RAM
     41     2002 0C00              |    .WORD 12

     43     2004    *[]    DATA    |    .DATA
     44     1002 0C00              |    .WORD 12

     46     1004    *[]    AUTO    |    .AUTO
     47     3002 0C00              |    .WORD 12

     49     3004    *[]    CODE    |    .CODE
     50     8002 0C00              |    .WORD 12

@ENDNODE
@NODE xass_memalloc "[2] Listing of HSRC:demo/xass.hsrc/xass_memalloc (54)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edit HSRC:demo/xass.hsrc xass_memalloc 53"
 @{" Assemble " SYSTEM "hass:tools/assemble HSRC:demo/xass t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC"}
  * XASS memory allocation

     56     8004 89616263 00       |    .BYTE  $89,"abc",0 ; bytes

     58     8009 89                |    .BYTE  $89         ; byte
     59     800A 3412              |    .WORD  $1234       ; word
     60     800C 563412            |    .TRIP  $123456     ; triple
     61     800F 78563412          |    .LONG  $12345678   ; long word

     63     8013 1234              |    .DBYT  $1234       ; rev. word as6502
     64     8015 1234              |    .RWORD $1234       ; rev. word
     65     8017 123456            |    .RTRIP $123456     ; rev. triple
     66     801A 12345678          |    .RLONG $12345678   ; rev. long word

     68     801E 61626364 656667   |    .ASCII "abcdefg"   ; string
     69     8025 61626364 656667   |    .ASCII 'abcdefg'   ; string
     70     802C 61626364 656667   |    .ASCII /abcdefg/   ; string

    [VER: XASS lib test V1.0 (19.7.96)]
     72     8033 24564552 3A205841 |    .VERS              ; version string
                 5353206C 69622074 |
                 65737420 56312E30 |
                 20283139 2E372E39 |
                 362900            |

     74     8056 61616161 61616161 |    .BLOCK 16, 'a      ; block of bytes
     75     8066 FFFFFFFF FFFFFFFF |    .BLOCK 16          ; block of bytes
     76     8076 61006100 61006100 |    .WBLOCK 8, 'a      ; block of words
     77     8086 FFFFFFFF FFFFFFFF |    .WBLOCK 8          ; block of words
     78     8096 61000000 61000000 |    .LBLOCK 4, 'a      ; block of long words
     79     80A6 FFFFFFFF FFFFFFFF |    .LBLOCK 4          ; block of long words

     81     80B6 00000000 00000000 |    .ZERO  16          ; zero block
     82     80C6 00000000 000000   |    .ZERO  7           ; zero block

     84     80CD     *+      10    |    .RMB   16          ; reserve memory bytes
     85     80DD     *+      10    |    .RMW   8           ; reserve memory words
     86     80ED     *+      10    |    .RML   4           ; reserve memory long words


     89     80FD FFFFFF            |    .ALIGN 4           ; long word alignment
     90     8100 00000000 00000000 |    .ALIGN 256, 0      ; page alignment

     92     8200 EA                |    NOP                ; 1  NOP
     93     8201 EAEAEAEA EAEAEAEA |    NOP 32             ; 32 NOPs
     94     8221 EA                |    .NOP               ; 1  NOP
     95     8222 EAEAEAEA EAEAEAEA |    .NOP 32            ; 32 NOPs

     97     8242 07626C61          |    .ASCII "\abla"         ; $07 BEL Bell, alert
     98     8246 08626C61          |    .ASCII "\bbla"         ; $08 BS  Backspace
     99     824A 0C626C61          |    .ASCII "\fbla"         ; $0C FF  Form feed
    100     824E 0A626C61          |    .ASCII "\nbla"         ; $0A LF  Line feed
    101     8252 0D626C61          |    .ASCII "\rbla"         ; $0D CR  Carriage return
    102     8256 09626C61          |    .ASCII "\tbla"         ; $09 HT  Horizontal tabulator
    103     825A 0B626C61          |    .ASCII "\vbla"         ; $0B VT  Vertical tabulator
    104     825E 5C626C61          |    .ASCII "\\bla"         ; $5C \   Backslash
    105     8262 3F626C61          |    .ASCII "\?bla"         ; $3F ?   Question mark
    106     8266 27626C61          |    .ASCII "\'bla"         ; $27 '   Single quote, apostrophe
    107     826A 22626C61          |    .ASCII "\"bla"         ; $22 "   Double quote
    108     826E 0F626C61          |    .ASCII "\017bla"       ; Octal number, leading zero, 2 octal digits
    109     8272 1F626C61          |    .ASCII "\x1Fbla"       ; Hex.  number, leading x,    2 hex.  digits

    111     8276 07626C61          |    .BYTE "\abla"         ; $07 BEL Bell, alert
    112     827A 08626C61          |    .BYTE "\bbla"         ; $08 BS  Backspace
    113     827E 0C626C61          |    .BYTE "\fbla"         ; $0C FF  Form feed
    114     8282 0A626C61          |    .BYTE "\nbla"         ; $0A LF  Line feed
    115     8286 0D626C61          |    .BYTE "\rbla"         ; $0D CR  Carriage return
    116     828A 09626C61          |    .BYTE "\tbla"         ; $09 HT  Horizontal tabulator
    117     828E 0B626C61          |    .BYTE "\vbla"         ; $0B VT  Vertical tabulator
    118     8292 5C626C61          |    .BYTE "\\bla"         ; $5C \   Backslash
    119     8296 3F626C61          |    .BYTE "\?bla"         ; $3F ?   Question mark
    120     829A 27626C61          |    .BYTE "\'bla"         ; $27 '   Single quote, apostrophe
    121     829E 22626C61          |    .BYTE "\"bla"         ; $22 "   Double quote
    122     82A2 0F626C61          |    .BYTE "\017bla"       ; Octal number, leading zero, 2 octal digits
    123     82A6 1F626C61          |    .BYTE "\x1Fbla"       ; Hex.  number, leading x,    2 hex.  digits

@ENDNODE
@NODE xass_assignments "[2] Listing of HSRC:demo/xass.hsrc/xass_assignments (127)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edit HSRC:demo/xass.hsrc xass_assignments 126"
 @{" Assemble " SYSTEM "hass:tools/assemble HSRC:demo/xass t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC"}
  * XASS assignments

    * XASS normal symbols

    131     82AA      =      FF    |lb1 .EQU $ff
    132     82AA      =      FF    |    t@ =  lb1
    133     82AA      =       1    |_aa = 1
    134     82AA      =       1    |    t@ =  _aa
    135     82AA      =       2    |.aa = 2
    136     82AA      =       2    |    t@ =  .aa
    137     82AA      =      16    |a$a .EQU 22
    138     82AA      =      16    |    t@ =  a$a
    139     82AA      =      16    |a@a .EQU 22
    140     82AA      =      16    |    t@ =  a@a

    * XASS redefinable symbols

    144     82AA     :=      FE    |lb2 .SET $fe
    145     82AA      =      FE    |    t@ =  lb2
    146     82AA     :=      FF    |lb2 .SET $ff
    147     82AA      =      FF    |    t@ =  lb2

    149     82AA      =      FF    |l3@ .EQU $ff
    150     82AA      =      FF    |    t@ =  l3@
    151     82AA      =      EE    |l3@ .EQU $ee
    152     82AA      =      EE    |    t@ =  l3@

    * XASS redefinable labels

    156     82AA AA820000          |tt@ .LONG tt@
    157     82AE AE820000          |tt@ .LONG tt@

    * XASS unset symbols

    161     82B2     :=       0    |    sym8 .SET $00

    163     82B2                   |    .IFD sym8
    164     82B2 64656664          |      .ASCII "defd"
    165     82B6                   |    .ELSE
    166     82B6                  e|      .ASCII "undefd"
    167     82B6                   |    .ENDIF

    169     82B6                   |    .UNSET sym8

    171     82B6                   |    .IFD sym8
    172     82B6                  e|      .ASCII "defd"
    173     82B6                   |    .ELSE
    174     82B6 756E6465 6664     |      .ASCII "undefd"
    175     82BC                   |    .ENDIF

    * XASS special symbols

    179     82BC      =    82BC    |    t@ =   *          ; program counter
    180     82BC      =    82BC    |    t@ =   $          ; program counter

    182     82BC      =FFFFFFFF    |    t@ =   TRUE       ; -1
    183     82BC      =       0    |    t@ =   FALSE      ; 0

    * XASS labels and symbols in structures

    187     82BC                   |   .STRUCT MYSTRUCT,$2000
    188     2000                   |
     89     2000                   |     ; labels
     90     2000                   |     STRUCBOT:
     91     2000                   |     .ALIGN                 ; modulo 2
     92     2002                   |     NO_SPACE1   .NULL      ; 0 bytes
     93     2002                   |     BYTE_SPACE1 .BYTE      ; 1 byte
     94     2003                   |     WORD_SPACE1 .WORD      ; 2 bytes
     95     2005                   |     TRIP_SPACE1 .TRIP      ; 3 bytes
     96     2008                   |     LONG_SPACE1 .LONG      ; 4 bytes
     97     200C                   |     DLONGSPACE1 .RMB  8    ; any size
     98     2014                   |
     99     2014                   |     ; symbols
    100     2014                   |     .ALIGN $4000           ; modulo
      0     4000     s=    4000    |     .NULL NO_SPACE         ; 0 byte
      1     4000     s=    4000    |     .BYTE BYTE_SPACE       ; 1 bytes
      2     4001     s=    4001    |     .WORD WORD_SPACE       ; 2 bytes
      3     4003     s=    4003    |     .TRIP TRIP_SPACE       ; 3 bytes
      4     4006     s=    4006    |     .LONG LONG_SPACE       ; 4 bytes
      5     400A     s=    400A    |     .RMB  DLONG_SPACE,8    ; any size
      7     4012                   |
      8     4012                   |     .ALIGN  256
      9     4100                   |     STRUCTOP:
     10     4100                   |
     10     4100     s=    2100    |   .ENDSTRUCT
    212     82BC                   |    ;

    * XASS linker support

    216     82BC                   |    .EXPORT NO_SPACE,BYTE_SPACE,WORD_SPACE,TRIP_SPACE,LONG_SPACE,DLONG_SPACE



    220     82BC      = 7626C61    |    a@ =  "\abla"         ; $07 BEL Bell, alert
    221     82BC      = 8626C61    |    a@ =  "\bbla"         ; $08 BS  Backspace
    222     82BC      = C626C61    |    a@ =  "\fbla"         ; $0C FF  Form feed
    223     82BC      = A626C61    |    a@ =  "\nbla"         ; $0A LF  Line feed
    224     82BC      = D626C61    |    a@ =  "\rbla"         ; $0D CR  Carriage return
    225     82BC      = 9626C61    |    a@ =  "\tbla"         ; $09 HT  Horizontal tabulator
    226     82BC      = B626C61    |    a@ =  "\vbla"         ; $0B VT  Vertical tabulator
    227     82BC      =5C626C61    |    a@ =  "\\bla"         ; $5C \   Backslash
    228     82BC      =3F626C61    |    a@ =  "\?bla"         ; $3F ?   Question mark
    229     82BC      =27626C61    |    a@ =  "\'bla"         ; $27 '   Single quote, apostrophe
    230     82BC      =22626C61    |    a@ =  "\"bla"         ; $22 "   Double quote
    231     82BC      = F626C61    |    a@ =  "\017bla"       ; Octal number, leading zero, 2 octal digits
    232     82BC      =1F626C61    |    a@ =  "\x1Fbla"       ; Hex.  number, leading x,    2 hex.  digits

@ENDNODE
@NODE xass_conditional "[2] Listing of HSRC:demo/xass.hsrc/xass_conditional (236)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edit HSRC:demo/xass.hsrc xass_conditional 235"
 @{" Assemble " SYSTEM "hass:tools/assemble HSRC:demo/xass t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC"}
  * XASS conditional assembling

    * by label/symbol definition check

    240     82BC      =       0    |    sym1 .EQU $00
    241     82BC                   |    .IFD sym1
    242     82BC 64656664          |      .ASCII "defd"
    243     82C0                   |    .ELSE
    244     82C0                  e|      .ASCII "undefd"
    245     82C0                   |    .ENDIF
    246     82C0                   |    .IFND sym1
    247     82C0                  e|      .ASCII "undefd"
    248     82C0                   |    .ELSE
    249     82C0 64656664          |      .ASCII "defd"
    250     82C4                   |    .ENDIF

    252     82C4                   |    .IFD sym3
    253     82C4                  e|      .ASCII "defd"
    254     82C4                   |    .ELSE
    255     82C4 756E6465 6664     |      .ASCII "undefd"
    256     82CA                   |    .ENDIF
    257     82CA                   |    .IFND sym3
    258     82CA 756E6465 6664     |      .ASCII "undefd"
    259     82D0                   |    .ELSE
    260     82D0                  e|      .ASCII "defd"
    261     82D0                   |    .ENDIF

    * XAss64: by checking if term can be calculated

    265     82D0                   |    .IF =,22/0
    266     82D0                  e|      .ASCII "works"
    267     82D0                   |    .ELSE
    268     82D0 6661696C 73       |      .ASCII "fails"
    269     82D5                   |    .ENDIF
    270     82D5                   |    .IF !,22/0
    271     82D5 6661696C 73       |      .ASCII "fails"
    272     82DA                   |    .ELSE
    273     82DA                  e|      .ASCII "works"
    274     82DA                   |    .ENDIF

    276     82DA                   |    .IF =,22/2
    277     82DA 776F726B 73       |      .ASCII "works"
    278     82DF                   |    .ELSE
    279     82DF                  e|      .ASCII "fails"
    280     82DF                   |    .ENDIF
    281     82DF                   |    .IF !,22/2
    282     82DF                  e|      .ASCII "fails"
    283     82DF                   |    .ELSE
    284     82DF 776F726B 73       |      .ASCII "works"
    285     82E4                   |    .ENDIF

    * XAss64: by comparison

    289     82E4                   |    .IF =,22,22
    290     82E4 65717561 6C73     |      .ASCII "equals"
    291     82EA                   |    .ELSE
    292     82EA                  e|      .ASCII "diffs"
    293     82EA                   |    .ENDIF
    294     82EA                   |    .IF !,22,22
    295     82EA                  e|      .ASCII "diffs"
    296     82EA                   |    .ELSE
    297     82EA 65717561 6C73     |      .ASCII "equals"
    298     82F0                   |    .ENDIF

    300     82F0                   |    .IF =,22,11
    301     82F0                  e|      .ASCII "equals"
    302     82F0                   |    .ELSE
    303     82F0 64696666 73       |      .ASCII "diffs"
    304     82F5                   |    .ENDIF
    305     82F5                   |    .IF !,22,11
    306     82F5 64696666 73       |      .ASCII "diffs"
    307     82FA                   |    .ELSE
    308     82FA                  e|      .ASCII "equals"
    309     82FA                   |    .ENDIF

    311     82FA                   |    .IF <,11,22
    312     82FA 736D616C 6C6572   |      .ASCII "smaller"
    313     8301                   |    .ELSE
    314     8301                  e|      .ASCII "greater"
    315     8301                   |    .ENDIF
    316     8301                   |    .IF >,11,22
    317     8301                  e|      .ASCII "greater"
    318     8301                   |    .ELSE
    319     8301 736D616C 6C6572   |      .ASCII "smaller"
    320     8308                   |    .ENDIF

    322     8308                   |    .IF <,22,11
    323     8308                  e|      .ASCII "smaller"
    324     8308                   |    .ELSE
    325     8308 67726561 746572   |      .ASCII "greater"
    326     830F                   |    .ENDIF
    327     830F                   |    .IF >,22,11
    328     830F 67726561 746572   |      .ASCII "greater"
    329     8316                   |    .ELSE
    330     8316                  e|      .ASCII "smaller"
    331     8316                   |    .ENDIF


@ENDNODE
@NODE xass_macros "[2] Listing of HSRC:demo/xass.hsrc/xass_macros (336)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edit HSRC:demo/xass.hsrc xass_macros 335"
 @{" Assemble " SYSTEM "hass:tools/assemble HSRC:demo/xass t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC"}
  * XASS macros

    338     8316      =      FF    |    sym2  .EQU $ff     ; def global symbol
    339     8316      =      FF    |    sym22 .EQU $ff     ; def global symbol
    340     8316                   |    .MACRO test
    341     8316                  m|      .byte NARG
    342     8316                  m|      sym2 .EQU *      ; def local  symbol
    343     8316                  m|      .WORD sym2       ; use local  symbol
    344     8316                  m|      .WORD sym22      ; use global  symbol
    345     8316                   |    .ENDMACRO

    347     8316               m[1]|    test
    341m    8316 00                |      .byte NARG
    342m    8317      =    8317    |      sym2 .EQU *      ; def local  symbol
    343m    8317 1783              |      .WORD sym2       ; use local  symbol
    344m    8319 FF00              |      .WORD sym22      ; use global  symbol
    347     831B               m[0]|
    348     831B               m[1]|    test
    341m    831B 00                |      .byte NARG
    342m    831C      =    831C    |      sym2 .EQU *      ; def local  symbol
    343m    831C 1C83              |      .WORD sym2       ; use local  symbol
    344m    831E FF00              |      .WORD sym22      ; use global  symbol
    348     8320               m[0]|
    349     8320               m[1]|    test
    341m    8320 00                |      .byte NARG
    342m    8321      =    8321    |      sym2 .EQU *      ; def local  symbol
    343m    8321 2183              |      .WORD sym2       ; use local  symbol
    344m    8323 FF00              |      .WORD sym22      ; use global  symbol
    349     8325               m[0]|

    351     8325                   |    .MACRO test2
    352     8325                  m|      .byte NARG
    353     8325                  m|      beq rst
    354     8325                  m|  rst .WORD $12
    355     8325                  m|      .WORD rst
    356     8325                   |    .ENDMACRO

    358     8325               m[1]|    test2
    352m    8325 00                |      .byte NARG
    353m    8326 F000              |      beq rst
    354m    8328 1200              |  rst .WORD $12
    355m    832A 2883              |      .WORD rst
    358     832C               m[0]|
    359     832C               m[1]|    test2
    352m    832C 00                |      .byte NARG
    353m    832D F000              |      beq rst
    354m    832F 1200              |  rst .WORD $12
    355m    8331 2F83              |      .WORD rst
    359     8333               m[0]|
    360     8333               m[1]|    test2
    352m    8333 00                |      .byte NARG
    353m    8334 F000              |      beq rst
    354m    8336 1200              |  rst .WORD $12
    355m    8338 3683              |      .WORD rst
    360     833A               m[0]|

    362     833A                   |    .MACRO test3,1
    363     833A                  m|      .byte NARG
    364     833A                  m|      beq rst
    365     833A                  m|      rst .BYTE ?0
    366     833A                   |    .ENDMACRO

    368     833A               m[1]|    test3 0
    363m    833A 01                |      .byte NARG
    364m    833B F000              |      beq rst
    365m    833D 00                |      rst .BYTE 0
    368     833E               m[0]|
    369     833E               m[1]|    test3 1
    363m    833E 01                |      .byte NARG
    364m    833F F000              |      beq rst
    365m    8341 01                |      rst .BYTE 1
    369     8342               m[0]|
    370     8342               m[1]|    test3 2
    363m    8342 01                |      .byte NARG
    364m    8343 F000              |      beq rst
    365m    8345 02                |      rst .BYTE 2
    370     8346               m[0]|


    373     8346                   |    .MACRO test4,2
    374     8346                  m|      .byte NARG
    375     8346                  m|      beq rst
    376     8346                  m|      rst .BYTE ?0
    377     8346                  m|      .ascii "?1?a"
    378     8346                   |    .ENDMACRO

    380     8346               m[1]|    test4 0,hallo
    374m    8346 02                |      .byte NARG
    375m    8347 F000              |      beq rst
    376m    8349 00                |      rst .BYTE 0
    377m    834A 68616C6C 6F3F61   |      .ascii "hallo?a"
    380     8351               m[0]|
    381     8351               m[1]|    test4 1,du,1
    374m    8351 03                |      .byte NARG
    375m    8352 F000              |      beq rst
    376m    8354 01                |      rst .BYTE 1
    377m    8355 64753F61          |      .ascii "du?a"
    381     8359               m[0]|
    382     8359               m[1]|    test4 2,da,1,1
    374m    8359 04                |      .byte NARG
    375m    835A F000              |      beq rst
    376m    835C 02                |      rst .BYTE 2
    377m    835D 64613F61          |      .ascii "da?a"
    382     8361               m[0]|

@ENDNODE
@NODE xass_case "[2] Listing of HSRC:demo/xass.hsrc/xass_case (386)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edit HSRC:demo/xass.hsrc xass_case 385"
 @{" Assemble " SYSTEM "hass:tools/assemble HSRC:demo/xass t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC"}
  * XASS case test

    388     8361                   |    .MACRO testm
    389     8361                  m|      .LONG $11111111
    390     8361                   |    .ENDMACRO
    391     8361                   |    .MACRO TESTM
    392     8361                  m|      .LONG $22222222
    393     8361                   |    .ENDMACRO

    395     8361      =      11    |    symb .EQU $11
    396     8361      =      22    |    SYMB .EQU $22

    398     8361               m[1]|    testm
    389m    8361 11111111          |      .LONG $11111111
    398     8365               m[0]|
    399     8365               m[1]|    TESTM
    392m    8365 22222222          |      .LONG $22222222
    399     8369               m[0]|

    401     8369 11000000          |    .LONG symb
    402     836D 22000000          |    .LONG SYMB

    404     8371                   |    .CASE mac,off

    406     8371               m[1]|    testm
    392m    8371 22222222          |      .LONG $22222222
    406     8375               m[0]|
    407     8375               m[1]|    TESTM
    392m    8375 22222222          |      .LONG $22222222
    407     8379               m[0]|

    409     8379 11000000          |    .LONG symb
    410     837D 22000000          |    .LONG SYMB

    412     8381                   |    .CASE sym,off,mac,on

    414     8381               m[1]|    testm
    389m    8381 11111111          |      .LONG $11111111
    414     8385               m[0]|
    415     8385               m[1]|    TESTM
    392m    8385 22222222          |      .LONG $22222222
    415     8389               m[0]|

    417     8389 22000000          |    .LONG symb
    418     838D 22000000          |    .LONG SYMB

    420     8391                   |    .CASE sym,on,mac,on

@ENDNODE
@NODE xass_dummies "[2] Listing of HSRC:demo/xass.hsrc/xass_dummies (424)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edit HSRC:demo/xass.hsrc xass_dummies 423"
 @{" Assemble " SYSTEM "hass:tools/assemble HSRC:demo/xass t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC"}
  * XASS ignored dummies

                                   |    .PAGE     ; dummy    -> as6502
    427     8391                   |    .OPT      ; dummy    -> ProfiAss64
    428     8391                   |    .STM      ; dummy    -> ProfiAss64
    429     8391                   |    .LST      ; dummy    -> ProfiAss64
    430     8391                   |    .SST      ; dummy    -> ProfiAss64
    431     8391                   |    .FIL      ; dummy    -> ProfiAss64
    432     8391                   |    .SYS      ; dummy    -> ProfiAss64
    433     8391                   |    .GOT      ; dummy    -> ProfiAss64


@ENDNODE
@NODE xass_formatting "[2] Listing of HSRC:demo/xass.hsrc/xass_formatting (438)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edit HSRC:demo/xass.hsrc xass_formatting 437"
 @{" Assemble " SYSTEM "hass:tools/assemble HSRC:demo/xass t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC"}
  * XASS list formatting




    456     8391               m[1]|    test
    341m    8391 00                |      .byte NARG
    342m    8392      =    8392    |      sym2 .EQU *      ; def local  symbol
    343m    8392 9283              |      .WORD sym2       ; use local  symbol
    344m    8394 FF00              |      .WORD sym22      ; use global  symbol
    456     8396               m[0]|
    458     8396               m[1]|      test
    458     839B               m[0]|
    460     839B               m[1]|        test
    460     83A0               m[0]|
    462     83A0               m[1]|      test
    462     83A5               m[0]|
    464     83A5               m[1]|    test
    341m    83A5 00                |      .byte NARG
    342m    83A6      =    83A6    |      sym2 .EQU *      ; def local  symbol
    343m    83A6 A683              |      .WORD sym2       ; use local  symbol
    344m    83A8 FF00              |      .WORD sym22      ; use global  symbol
    464     83AA               m[0]|

    466     83AA                   |    .IFD info
    467     83AA                  e|
    468     83AA                  e|      .INFO "Range: $\h - $\h ",*,*+2
    469     83AA                  e|      .INFO "Range: \d - \d ",*,*+2
    470     83AA                  e|      .INFO "Main char:  \c",'a
    471     83AA                  e|
    472     83AA                   |    .ENDIF

    474     83AA                   |    .IFD error
    475     83AA                  e|
    476     83AA                  e|      .ERROR "Range: $\h - $\h ",*,*+2
    477     83AA                  e|      .ERROR "Range: \d - \d ",*,*+2
    478     83AA                  e|      .ERROR "Main char:  \c",'a
    479     83AA                  e|
    480     83AA                   |    .ENDIF

    482     83AA                   |    .IFD fail
    483     83AA                  e|
    484     83AA                  e|      .FAIL  "You pressed:  \c",'a
    485     83AA                  e|
    486     83AA                   |    .ENDIF


@ENDNODE
@NODE xass_including "[2] Listing of HSRC:demo/xass.hsrc/xass_including (491)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edit HSRC:demo/xass.hsrc xass_including 490"
 @{" Assemble " SYSTEM "hass:tools/assemble HSRC:demo/xass t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC t:HypAss.072196AC"}
  * XASS including

    493     83AA                   |    .INCLUDE hsrc:demo/_test.inc

Source: [0] HSRC:demo/xass.hsrc
Source: [1] hsrc:demo/_test.inc

  * test include file
      2     83AA                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc
Source: [2] hsrc:demo/_tests.inc

  * test include file
      2     83AA 78563412          |  .LONG 12345678h
      3     83AE                   |  .END


Source: [2] hsrc:demo/_tests.inc
Source: [1] hsrc:demo/_test.inc

      3     83AE                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc
Source: [2] hsrc:demo/_tests.inc

  * test include file
      2     83AE 78563412          |  .LONG 12345678h
      3     83B2                   |  .END


Source: [2] hsrc:demo/_tests.inc
Source: [1] hsrc:demo/_test.inc

      4     83B2                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc
Source: [2] hsrc:demo/_tests.inc

  * test include file
      2     83B2 78563412          |  .LONG 12345678h
      3     83B6                   |  .END


Source: [2] hsrc:demo/_tests.inc
Source: [1] hsrc:demo/_test.inc

      5     83B6                   |  .END


Source: [1] hsrc:demo/_test.inc
Source: [0] HSRC:demo/xass.hsrc

    494     83B6                   |    .INCLUDE "hsrc:demo/_test.inc"

Source: [0] HSRC:demo/xass.hsrc
Source: [1] hsrc:demo/_test.inc

  * test include file
      2     83B6                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc
Source: [2] hsrc:demo/_tests.inc

  * test include file
      2     83B6 78563412          |  .LONG 12345678h
      3     83BA                   |  .END


Source: [2] hsrc:demo/_tests.inc
Source: [1] hsrc:demo/_test.inc

      3     83BA                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc
Source: [2] hsrc:demo/_tests.inc

  * test include file
      2     83BA 78563412          |  .LONG 12345678h
      3     83BE                   |  .END


Source: [2] hsrc:demo/_tests.inc
Source: [1] hsrc:demo/_test.inc

      4     83BE                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc
Source: [2] hsrc:demo/_tests.inc

  * test include file
      2     83BE 78563412          |  .LONG 12345678h
      3     83C2                   |  .END


Source: [2] hsrc:demo/_tests.inc
Source: [1] hsrc:demo/_test.inc

      5     83C2                   |  .END


Source: [1] hsrc:demo/_test.inc
Source: [0] HSRC:demo/xass.hsrc

    495     83C2                   |    .INCLUDE <hsrc:demo/_test.inc>

Source: [0] HSRC:demo/xass.hsrc
Source: [1] hsrc:demo/_test.inc

  * test include file
      2     83C2                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc
Source: [2] hsrc:demo/_tests.inc

  * test include file
      2     83C2 78563412          |  .LONG 12345678h
      3     83C6                   |  .END


Source: [2] hsrc:demo/_tests.inc
Source: [1] hsrc:demo/_test.inc

      3     83C6                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc
Source: [2] hsrc:demo/_tests.inc

  * test include file
      2     83C6 78563412          |  .LONG 12345678h
      3     83CA                   |  .END


Source: [2] hsrc:demo/_tests.inc
Source: [1] hsrc:demo/_test.inc

      4     83CA                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc
Source: [2] hsrc:demo/_tests.inc

  * test include file
      2     83CA 78563412          |  .LONG 12345678h
      3     83CE                   |  .END


Source: [2] hsrc:demo/_tests.inc
Source: [1] hsrc:demo/_test.inc

      5     83CE                   |  .END


Source: [1] hsrc:demo/_test.inc
Source: [0] HSRC:demo/xass.hsrc


    497     83CE                   |    .APPEND hsrc:demo/_test.happ

Source: [0] HSRC:demo/xass.hsrc
Source: [0] hsrc:demo/_test.happ

  * test append file
      2     83CE 78563412          |  .LONG 12345678h
@ENDNODE
      4     83D2                   |  .END



Includes overview:

      object   level          size      include filename
    ------------------------------------------------------------
        0        0           10170    HSRC:demo/xass.hsrc
        1        1             170     hsrc:demo/_test.inc
        1        2              86      hsrc:demo/_tests.inc
        1        2              86      hsrc:demo/_tests.inc
        1        2              86      hsrc:demo/_tests.inc
        1        1             170     hsrc:demo/_test.inc
        1        2              86      hsrc:demo/_tests.inc
        1        2              86      hsrc:demo/_tests.inc
        1        2              86      hsrc:demo/_tests.inc
        1        1             170     hsrc:demo/_test.inc
        1        2              86      hsrc:demo/_tests.inc
        1        2              86      hsrc:demo/_tests.inc
        1        2              86      hsrc:demo/_tests.inc
        1        0              95    hsrc:demo/_test.happ
    ------------------------------------------------------------
                             11549


Objects overview:

        from    to            size    segment / object filename
    ------------------------------------------------------------
         8000  83D2            978    CODE
         1000  1004              4    DATA
         2000  2004              4    RAM
         3000  3004              4    AUTO
    ------------------------------------------------------------
         1000  83D2          29650    HSRC:demo/xass.cbm




Macros overview:

    macroname                        size   parameters  calls
    ------------------------------------------------------------
    test                              147       0         8
    test2                              63       0         3
    test3                              50       1         3
    test4                              70       2         3
    testm                              22       0         2
    TESTM                              22       0         4
    ------------------------------------------------------------
                                      374





HypAss status information:

    Source:   HSRC:demo/xass.hsrc                          
      Code:          8000 -> 83D2     =       978 bytes
      Data:          1000 -> 1004     =         4 bytes
      Ram:           2000 -> 2004     =         4 bytes
      Auto:          3000 -> 3004     =         4 bytes
      Source:       11549    Syntax:    XASS    Includes:    14
      Lines:          627    Math:       HYP    Labels:      18 of 2000
      Passes:           2    Cpu:       6502    Symbols:     31 of 2000
      Memory:      410824    Object:     CBM    Macros:       6
      Time:       00:04.0    Dummies:      7    FwrdRefs:     9
    No errors.


