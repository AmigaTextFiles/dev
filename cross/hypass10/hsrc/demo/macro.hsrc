@DATABASE
@NODE MAIN
*$VER: macro syn lib test V1.0 (19.7.96)
*©1998 RST Ralf Steines Trier, ALL RIGHTS RESERVED



      @{" XASS  macros      " LINK XASS_MACROS      }

      @{" MOTF  macros      " LINK MOTF_MACROS      }

      @{" MDOS  macros      " LINK MDOS_MACROS      }


@ENDNODE
@NODE XASS_MACROS
  * XASS macros

    .SYN  xass,xass

    sym2  .EQU $ff     ; def global symbol
    sym22 .EQU $ff     ; def global symbol
    .MACRO test
      .byte NARG
      sym2 .EQU *      ; def local  symbol
      .WORD sym2       ; use local  symbol
      .WORD sym22      ; use global  symbol
    .ENDMACRO
    test
    test
    test


    .MACRO test2,2
      .byte NARG
      .WORD ?0
      .WORD ?1
    .ENDMACRO
    .ifd ERROR
      test2
      test2 1
    .endif
    test2 1,2


    .ifd ERROR
    .MACRO test3,2
      .byte NARG
      .WORD ?0
      .WORD ?1
      .WORD ?2
    .ENDMACRO
    test3 1,2
    .endif

@ENDNODE
@NODE MOTF_MACROS
  * MOTF macros

      .SYN  motf,hit

      sym33 SET $ff    ; def global symbol
test4 MACRO bla
        FCC "\@"
        FCB NARG
        sym3 SET *
        sym33 SET sym33+1
        FDB sym3
        FDB sym33
      ENDM
      test4
      test4
      test4

test5 MACRO bla
        FCC "\@"
        FDB $\#
        FCB NARG
        FCB \1
        FCB \2
        FCB \3
        FCB \4
        FCB \5
        test4
        FCB \6
        FCB \7
        FCB \8
        FCB \9
        FCB \0
        FCC "\@"
      ENDM

      test5 1,2,3,4,5,6,7,8,9,10
      test5 ,,,,,,,,,10

@ENDNODE
@NODE MDOS_MACROS
  * MDOS macros

      .SYN  motf,mdos

      sym33 SET $ff    ; def global symbol
test6 MACRO bla
        FCB NARG
        FCC "\."
        sym3 SET *
        sym33 SET sym33+1
        FDB sym3
        FDB sym33
      ENDM
      test6
      test6
      test6

test7 MACRO bla
        FCB NARG
        FCC "\."
        FCB \0
        FCB \1
        FCB \2
        FCB \3
        FCB \4
        FCB \5
        FCB \6
        FCB \7
        test6
        FCB \8
        FCB \9
        FCC "\."
      ENDM

      test7 1,2,3,4,5,6,7,8,9,10
      test7 ,,,,,,,,,10

@ENDNODE


