@DATABASE
@HELP hass:hypass.guide/main
@NODE main "[2] Listing of HSRC:demo/xass.hsrc/main (1)"
@TOC hass:projects.guide/main
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edithsrc_os36 HSRC:demo/xass.hsrc main 0"
 @{" Assemble " SYSTEM "run hass:tools/assemble_ag40 HSRC:demo/xass.hsrc syn,XASS,XASS,NOP math,HYP cpu,6502 obj,CBM def,_SHAREWARE_ LST SYM v"}
HypAss 1.0, © 1998 RST Ralf Steines Trier, ALL RIGHTS RESERVED !
@{B}*$VER: XASS lib test V1.0 (19.7.96)
@{B}*©1998 RST Ralf Steines Trier, ALL RIGHTS RESERVED@{UB}



  @{" XASS  PC control  " LINK XASS_PCCONTROL   }
  @{" XASS  mem alloc   " LINK XASS_MEMALLOC    }
  @{" XASS  assignments " LINK XASS_ASSIGNMENTS   }
  @{" XASS  conditional " LINK XASS_CONDITIONAL }
  @{" XASS  including   " LINK XASS_INCLUDING   }
  @{" XASS  macros      " LINK XASS_MACROS      }
  @{" XASS  case test   " LINK XASS_CASE        }
  @{" XASS  dummies     " LINK XASS_DUMMIES     }
  @{" XASS  formatting  " LINK XASS_FORMATTING  }



@ENDNODE
@{B}* pseudos -----------------------------------------------------------------@{UB}
@NODE xass_pccontrol "[2] Listing of HSRC:demo/xass.hsrc/xass_pccontrol (29)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edithsrc_os36 HSRC:demo/xass.hsrc xass_pccontrol 28"
 @{" Assemble " SYSTEM "run hass:tools/assemble_ag40 HSRC:demo/xass.hsrc syn,XASS,XASS,NOP math,HYP cpu,6502 obj,CBM def,_SHAREWARE_ LST SYM v"}
@{B}  * XASS PC control@{UB}

     31        0     *=    8000    |    .BASE $8000 ; defines code segment
     32     8000 0C00              |    .WORD 12

     34     8002    *[]    DATA    |    .DATA
     35        0     *=    1000    |    .BASE $1000 ; defines data segment
     36     1000 0C00              |    .WORD 12

     38     1002    *[]     RAM    |    .RAM
     39        0     *=    2000    |     *=   $2000 ; defines ram segment
     40     2000 0C00              |    .WORD 12

     42     2002    *[]    AUTO    |    .AUTO
     43        0     *=    3000    |        *=$3000 ; defines auto segment
     44     3000 0C00              |    .WORD 12

     46     3002    *[]     RAM    |    .RAM
     47     2002 0C00              |    .WORD 12

     49     2004    *[]    DATA    |    .DATA
     50     1002 0C00              |    .WORD 12

     52     1004    *[]    AUTO    |    .AUTO
     53     3002 0C00              |    .WORD 12

     55     3004    *[]    CODE    |    .CODE
     56     8002 0C00              |    .WORD 12

@ENDNODE
@NODE xass_memalloc "[2] Listing of HSRC:demo/xass.hsrc/xass_memalloc (60)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edithsrc_os36 HSRC:demo/xass.hsrc xass_memalloc 59"
 @{" Assemble " SYSTEM "run hass:tools/assemble_ag40 HSRC:demo/xass.hsrc syn,XASS,XASS,NOP math,HYP cpu,6502 obj,CBM def,_SHAREWARE_ LST SYM v"}
@{B}  * XASS memory allocation@{UB}

     62     8004 89616263 00       |    .BYTE  $89,"abc",0 ; bytes

     64     8009 89                |    .BYTE  $89         ; byte
     65     800A 3412              |    .WORD  $1234       ; word
     66     800C 563412            |    .TRIP  $123456     ; triple
     67     800F 78563412          |    .LONG  $12345678   ; long word

     69     8013 1234              |    .DBYT  $1234       ; rev. word as6502
     70     8015 1234              |    .RWORD $1234       ; rev. word
     71     8017 123456            |    .RTRIP $123456     ; rev. triple
     72     801A 12345678          |    .RLONG $12345678   ; rev. long word

     74     801E 61626364 656667   |    .ASCII "abcdefg"   ; string
     75     8025 61626364 656667   |    .ASCII 'abcdefg'   ; string
     76     802C 61626364 656667   |    .ASCII /abcdefg/   ; string

    [VER: XASS lib test V1.0 (19.7.96)]
     78     8033 24564552 3A205841 |    .VERS              ; version string
                 5353206C 69622074 |
                 65737420 56312E30 |
                 20283139 2E372E39 |
                 362900            |

     80     8056 61616161 61616161 |    .BLOCK 16, 'a      ; block of bytes
     81     8066 FFFFFFFF FFFFFFFF |    .BLOCK 16          ; block of bytes
     82     8076 61006100 61006100 |    .WBLOCK 8, 'a      ; block of words
     83     8086 FFFFFFFF FFFFFFFF |    .WBLOCK 8          ; block of words
     84     8096 61000000 61000000 |    .LBLOCK 4, 'a      ; block of long words
     85     80A6 FFFFFFFF FFFFFFFF |    .LBLOCK 4          ; block of long words

     87     80B6 00000000 00000000 |    .ZERO  16          ; zero block
     88     80C6 00000000 000000   |    .ZERO  7           ; zero block

     90     80CD     *+      10    |    .RMB   16          ; reserve memory bytes
     91     80DD     *+      10    |    .RMW   8           ; reserve memory words
     92     80ED     *+      10    |    .RML   4           ; reserve memory long words


     95     80FD FFFFFF            |    .ALIGN 4           ; long word alignment
     96     8100 00000000 00000000 |    .ALIGN 256, 0      ; page alignment

     98     8200 EA                |    NOP                ; 1  NOP
     99     8201 EAEAEAEA EAEAEAEA |    NOP 32             ; 32 NOPs
    100     8221 EA                |    .NOP               ; 1  NOP
    101     8222 EAEAEAEA EAEAEAEA |    .NOP 32            ; 32 NOPs

    103     8242 07626C61          |    .ASCII "\\abla"         ; $07 BEL Bell, alert
    104     8246 08626C61          |    .ASCII "\\bbla"         ; $08 BS  Backspace
    105     824A 0C626C61          |    .ASCII "\\fbla"         ; $0C FF  Form feed
    106     824E 0A626C61          |    .ASCII "\\nbla"         ; $0A LF  Line feed
    107     8252 0D626C61          |    .ASCII "\\rbla"         ; $0D CR  Carriage return
    108     8256 09626C61          |    .ASCII "\\tbla"         ; $09 HT  Horizontal tabulator
    109     825A 0B626C61          |    .ASCII "\\vbla"         ; $0B VT  Vertical tabulator
    110     825E 5C626C61          |    .ASCII "\\\bla"         ; $5C \\   Backslash
    111     8262 3F626C61          |    .ASCII "\\?bla"         ; $3F ?   Question mark
    112     8266 27626C61          |    .ASCII "\\'bla"         ; $27 '   Single quote, apostrophe
    113     826A 22626C61          |    .ASCII "\\"bla"         ; $22 "   Double quote
    114     826E 0F626C61          |    .ASCII "\\017bla"       ; Octal number, leading zero, 2 octal digits
    115     8272 1F626C61          |    .ASCII "\\x1Fbla"       ; Hex.  number, leading x,    2 hex.  digits

    117     8276 07626C61          |    .BYTE "\\abla"         ; $07 BEL Bell, alert
    118     827A 08626C61          |    .BYTE "\\bbla"         ; $08 BS  Backspace
    119     827E 0C626C61          |    .BYTE "\\fbla"         ; $0C FF  Form feed
    120     8282 0A626C61          |    .BYTE "\\nbla"         ; $0A LF  Line feed
    121     8286 0D626C61          |    .BYTE "\\rbla"         ; $0D CR  Carriage return
    122     828A 09626C61          |    .BYTE "\\tbla"         ; $09 HT  Horizontal tabulator
    123     828E 0B626C61          |    .BYTE "\\vbla"         ; $0B VT  Vertical tabulator
    124     8292 5C626C61          |    .BYTE "\\\bla"         ; $5C \\   Backslash
    125     8296 3F626C61          |    .BYTE "\\?bla"         ; $3F ?   Question mark
    126     829A 27626C61          |    .BYTE "\\'bla"         ; $27 '   Single quote, apostrophe
    127     829E 22626C61          |    .BYTE "\\"bla"         ; $22 "   Double quote
    128     82A2 0F626C61          |    .BYTE "\\017bla"       ; Octal number, leading zero, 2 octal digits
    129     82A6 1F626C61          |    .BYTE "\\x1Fbla"       ; Hex.  number, leading x,    2 hex.  digits

@ENDNODE
@NODE xass_assignments "[2] Listing of HSRC:demo/xass.hsrc/xass_assignments (133)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edithsrc_os36 HSRC:demo/xass.hsrc xass_assignments 132"
 @{" Assemble " SYSTEM "run hass:tools/assemble_ag40 HSRC:demo/xass.hsrc syn,XASS,XASS,NOP math,HYP cpu,6502 obj,CBM def,_SHAREWARE_ LST SYM v"}
@{B}  * XASS assignments@{UB}

@{B}    * XASS normal symbols@{UB}

    137     82AA      =      FF    |lb1 .EQU $ff
    138     82AA      =      FF    |    t@ =  lb1
    139     82AA      =       1    |_aa = 1
    140     82AA      =       1    |    t@ =  _aa
    141     82AA      =       2    |.aa = 2
    142     82AA      =       2    |    t@ =  .aa
    143     82AA      =      16    |a$a .EQU 22
    144     82AA      =      16    |    t@ =  a$a
    145     82AA      =      16    |a@a .EQU 22
    146     82AA      =      16    |    t@ =  a@a

@{B}    * XASS redefinable symbols@{UB}

    150     82AA     :=      FE    |lb2 .SET $fe
    151     82AA      =      FE    |    t@ =  lb2
    152     82AA     :=      FF    |lb2 .SET $ff
    153     82AA      =      FF    |    t@ =  lb2

    155     82AA      =      FF    |l3@ .EQU $ff
    156     82AA      =      FF    |    t@ =  l3@
    157     82AA      =      EE    |l3@ .EQU $ee
    158     82AA      =      EE    |    t@ =  l3@

@{B}    * XASS redefinable labels@{UB}

    162     82AA AA820000          |tt@ .LONG tt@
    163     82AE AE820000          |tt@ .LONG tt@

@{B}    * XASS unset symbols@{UB}

    167     82B2     :=       0    |    sym8 .SET $00

    169     82B2                   |    .IFD sym8
    170     82B2 64656664          |      .ASCII "defd"
    171     82B6                   |    .ELSE
    172     82B6                  e|      .ASCII "undefd"
    173     82B6                   |    .ENDIF

    175     82B6                   |    .UNSET sym8

    177     82B6                   |    .IFD sym8
    178     82B6                  e|      .ASCII "defd"
    179     82B6                   |    .ELSE
    180     82B6 756E6465 6664     |      .ASCII "undefd"
    181     82BC                   |    .ENDIF

@{B}    * XASS special symbols@{UB}

    185     82BC      =    82BC    |    t@ =   *          ; program counter
    186     82BC      =    82BC    |    t@ =   $          ; program counter

    188     82BC      =FFFFFFFF    |    t@ =   TRUE       ; -1
    189     82BC      =       0    |    t@ =   FALSE      ; 0

@{B}    * XASS labels and symbols in structures@{UB}

    193     82BC                   |   .STRUCT MYSTRUCT,$2000
    194     2000                   |
     95     2000                   |     ; labels
     96     2000                   |     STRUCBOT:
     97     2000                   |     .ALIGN                 ; modulo 2
     98     2002                   |     NO_SPACE1   .NULL      ; 0 bytes
     99     2002                   |     BYTE_SPACE1 .BYTE      ; 1 byte
    100     2003                   |     WORD_SPACE1 .WORD      ; 2 bytes
      1     2005                   |     TRIP_SPACE1 .TRIP      ; 3 bytes
      2     2008                   |     LONG_SPACE1 .LONG      ; 4 bytes
      3     200C                   |     DLONGSPACE1 .RMB  8    ; any size
      4     2014                   |
      5     2014                   |     ; symbols
      6     2014                   |     .ALIGN $4000           ; modulo
      6     4000     s=    4000    |     .NULL NO_SPACE         ; 0 byte
      7     4000     s=    4000    |     .BYTE BYTE_SPACE       ; 1 bytes
      8     4001     s=    4001    |     .WORD WORD_SPACE       ; 2 bytes
      9     4003     s=    4003    |     .TRIP TRIP_SPACE       ; 3 bytes
     10     4006     s=    4006    |     .LONG LONG_SPACE       ; 4 bytes
     11     400A     s=    400A    |     .RMB  DLONG_SPACE,8    ; any size
     13     4012                   |
     14     4012                   |     .ALIGN  256
     15     4100                   |     STRUCTOP:
     16     4100                   |
     16     4100     s=    2100    |   .ENDSTRUCT
    218     82BC                   |    ;

@{B}    * XASS linker support@{UB}

    222     82BC                   |    .EXPORT NO_SPACE,BYTE_SPACE,WORD_SPACE,TRIP_SPACE,LONG_SPACE,DLONG_SPACE



    226     82BC      = 7626C61    |    a@ =  "\\abla"         ; $07 BEL Bell, alert
    227     82BC      = 8626C61    |    a@ =  "\\bbla"         ; $08 BS  Backspace
    228     82BC      = C626C61    |    a@ =  "\\fbla"         ; $0C FF  Form feed
    229     82BC      = A626C61    |    a@ =  "\\nbla"         ; $0A LF  Line feed
    230     82BC      = D626C61    |    a@ =  "\\rbla"         ; $0D CR  Carriage return
    231     82BC      = 9626C61    |    a@ =  "\\tbla"         ; $09 HT  Horizontal tabulator
    232     82BC      = B626C61    |    a@ =  "\\vbla"         ; $0B VT  Vertical tabulator
    233     82BC      =5C626C61    |    a@ =  "\\\bla"         ; $5C \\   Backslash
    234     82BC      =3F626C61    |    a@ =  "\\?bla"         ; $3F ?   Question mark
    235     82BC      =27626C61    |    a@ =  "\\'bla"         ; $27 '   Single quote, apostrophe
    236     82BC      =22626C61    |    a@ =  "\\"bla"         ; $22 "   Double quote
    237     82BC      = F626C61    |    a@ =  "\\017bla"       ; Octal number, leading zero, 2 octal digits
    238     82BC      =1F626C61    |    a@ =  "\\x1Fbla"       ; Hex.  number, leading x,    2 hex.  digits

@ENDNODE
@NODE xass_conditional "[2] Listing of HSRC:demo/xass.hsrc/xass_conditional (242)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edithsrc_os36 HSRC:demo/xass.hsrc xass_conditional 241"
 @{" Assemble " SYSTEM "run hass:tools/assemble_ag40 HSRC:demo/xass.hsrc syn,XASS,XASS,NOP math,HYP cpu,6502 obj,CBM def,_SHAREWARE_ LST SYM v"}
@{B}  * XASS conditional assembling@{UB}

@{B}    * by label/symbol definition check@{UB}

    246     82BC      =       0    |    sym1 .EQU $00
    247     82BC                   |    .IFD sym1
    248     82BC 64656664          |      .ASCII "defd"
    249     82C0                   |    .ELSE
    250     82C0                  e|      .ASCII "undefd"
    251     82C0                   |    .ENDIF
    252     82C0                   |    .IFND sym1
    253     82C0                  e|      .ASCII "undefd"
    254     82C0                   |    .ELSE
    255     82C0 64656664          |      .ASCII "defd"
    256     82C4                   |    .ENDIF

    258     82C4                   |    .IFD sym3
    259     82C4                  e|      .ASCII "defd"
    260     82C4                   |    .ELSE
    261     82C4 756E6465 6664     |      .ASCII "undefd"
    262     82CA                   |    .ENDIF
    263     82CA                   |    .IFND sym3
    264     82CA 756E6465 6664     |      .ASCII "undefd"
    265     82D0                   |    .ELSE
    266     82D0                  e|      .ASCII "defd"
    267     82D0                   |    .ENDIF

@{B}    * XAss64: by checking if term can be calculated@{UB}

    271     82D0                   |    .IF =,22/0
    272     82D0                  e|      .ASCII "works"
    273     82D0                   |    .ELSE
    274     82D0 6661696C 73       |      .ASCII "fails"
    275     82D5                   |    .ENDIF
    276     82D5                   |    .IF !,22/0
    277     82D5 6661696C 73       |      .ASCII "fails"
    278     82DA                   |    .ELSE
    279     82DA                  e|      .ASCII "works"
    280     82DA                   |    .ENDIF

    282     82DA                   |    .IF =,22/2
    283     82DA 776F726B 73       |      .ASCII "works"
    284     82DF                   |    .ELSE
    285     82DF                  e|      .ASCII "fails"
    286     82DF                   |    .ENDIF
    287     82DF                   |    .IF !,22/2
    288     82DF                  e|      .ASCII "fails"
    289     82DF                   |    .ELSE
    290     82DF 776F726B 73       |      .ASCII "works"
    291     82E4                   |    .ENDIF

@{B}    * XAss64: by comparison@{UB}

    295     82E4                   |    .IF =,22,22
    296     82E4 65717561 6C73     |      .ASCII "equals"
    297     82EA                   |    .ELSE
    298     82EA                  e|      .ASCII "diffs"
    299     82EA                   |    .ENDIF
    300     82EA                   |    .IF !,22,22
    301     82EA                  e|      .ASCII "diffs"
    302     82EA                   |    .ELSE
    303     82EA 65717561 6C73     |      .ASCII "equals"
    304     82F0                   |    .ENDIF

    306     82F0                   |    .IF =,22,11
    307     82F0                  e|      .ASCII "equals"
    308     82F0                   |    .ELSE
    309     82F0 64696666 73       |      .ASCII "diffs"
    310     82F5                   |    .ENDIF
    311     82F5                   |    .IF !,22,11
    312     82F5 64696666 73       |      .ASCII "diffs"
    313     82FA                   |    .ELSE
    314     82FA                  e|      .ASCII "equals"
    315     82FA                   |    .ENDIF

    317     82FA                   |    .IF <,11,22
    318     82FA 736D616C 6C6572   |      .ASCII "smaller"
    319     8301                   |    .ELSE
    320     8301                  e|      .ASCII "greater"
    321     8301                   |    .ENDIF
    322     8301                   |    .IF >,11,22
    323     8301                  e|      .ASCII "greater"
    324     8301                   |    .ELSE
    325     8301 736D616C 6C6572   |      .ASCII "smaller"
    326     8308                   |    .ENDIF

    328     8308                   |    .IF <,22,11
    329     8308                  e|      .ASCII "smaller"
    330     8308                   |    .ELSE
    331     8308 67726561 746572   |      .ASCII "greater"
    332     830F                   |    .ENDIF
    333     830F                   |    .IF >,22,11
    334     830F 67726561 746572   |      .ASCII "greater"
    335     8316                   |    .ELSE
    336     8316                  e|      .ASCII "smaller"
    337     8316                   |    .ENDIF


@ENDNODE
@NODE xass_macros "[2] Listing of HSRC:demo/xass.hsrc/xass_macros (342)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edithsrc_os36 HSRC:demo/xass.hsrc xass_macros 341"
 @{" Assemble " SYSTEM "run hass:tools/assemble_ag40 HSRC:demo/xass.hsrc syn,XASS,XASS,NOP math,HYP cpu,6502 obj,CBM def,_SHAREWARE_ LST SYM v"}
@{B}  * XASS macros@{UB}

    344     8316      =      FF    |    sym2  .EQU $ff     ; def global symbol
    345     8316      =      FF    |    sym22 .EQU $ff     ; def global symbol
    346     8316                   |    .MACRO test
    347     8316                  m|      .byte NARG
    348     8316                  m|      sym2 .EQU *      ; def local  symbol
    349     8316                  m|      .WORD sym2       ; use local  symbol
    350     8316                  m|      .WORD sym22      ; use global  symbol
    351     8316                   |    .ENDMACRO

    353     8316               m[1]|    test
    347m    8316 00                |      .byte NARG
    348m    8317      =    8317    |      sym2 .EQU *      ; def local  symbol
    349m    8317 1783              |      .WORD sym2       ; use local  symbol
    350m    8319 FF00              |      .WORD sym22      ; use global  symbol
    353     831B               m[0]|
    354     831B               m[1]|    test
    347m    831B 00                |      .byte NARG
    348m    831C      =    831C    |      sym2 .EQU *      ; def local  symbol
    349m    831C 1C83              |      .WORD sym2       ; use local  symbol
    350m    831E FF00              |      .WORD sym22      ; use global  symbol
    354     8320               m[0]|
    355     8320               m[1]|    test
    347m    8320 00                |      .byte NARG
    348m    8321      =    8321    |      sym2 .EQU *      ; def local  symbol
    349m    8321 2183              |      .WORD sym2       ; use local  symbol
    350m    8323 FF00              |      .WORD sym22      ; use global  symbol
    355     8325               m[0]|

    357     8325                   |    .MACRO test2
    358     8325                  m|      .byte NARG
    359     8325                  m|      beq rst
    360     8325                  m|  rst .WORD $12
    361     8325                  m|      .WORD rst
    362     8325                   |    .ENDMACRO

    364     8325               m[1]|    test2
    358m    8325 00                |      .byte NARG
    359m    8326 F000              |      beq rst
    360m    8328 1200              |  rst .WORD $12
    361m    832A 2883              |      .WORD rst
    364     832C               m[0]|
    365     832C               m[1]|    test2
    358m    832C 00                |      .byte NARG
    359m    832D F000              |      beq rst
    360m    832F 1200              |  rst .WORD $12
    361m    8331 2F83              |      .WORD rst
    365     8333               m[0]|
    366     8333               m[1]|    test2
    358m    8333 00                |      .byte NARG
    359m    8334 F000              |      beq rst
    360m    8336 1200              |  rst .WORD $12
    361m    8338 3683              |      .WORD rst
    366     833A               m[0]|

    368     833A                   |    .MACRO test3,1
    369     833A                  m|      .byte NARG
    370     833A                  m|      beq rst
    371     833A                  m|      rst .BYTE ?0
    372     833A                   |    .ENDMACRO

    374     833A               m[1]|    test3 0
    369m    833A 01                |      .byte NARG
    370m    833B F000              |      beq rst
    371m    833D 00                |      rst .BYTE 0
    374     833E               m[0]|
    375     833E               m[1]|    test3 1
    369m    833E 01                |      .byte NARG
    370m    833F F000              |      beq rst
    371m    8341 01                |      rst .BYTE 1
    375     8342               m[0]|
    376     8342               m[1]|    test3 2
    369m    8342 01                |      .byte NARG
    370m    8343 F000              |      beq rst
    371m    8345 02                |      rst .BYTE 2
    376     8346               m[0]|


    379     8346                   |    .MACRO test4,2
    380     8346                  m|      .byte NARG
    381     8346                  m|      beq rst
    382     8346                  m|      rst .BYTE ?0
    383     8346                  m|      .ascii "?1?a"
    384     8346                   |    .ENDMACRO

    386     8346               m[1]|    test4 0,hallo
    380m    8346 02                |      .byte NARG
    381m    8347 F000              |      beq rst
    382m    8349 00                |      rst .BYTE 0
    383m    834A 68616C6C 6F3F61   |      .ascii "hallo?a"
    386     8351               m[0]|
    387     8351               m[1]|    test4 1,du,1
    380m    8351 03                |      .byte NARG
    381m    8352 F000              |      beq rst
    382m    8354 01                |      rst .BYTE 1
    383m    8355 64753F61          |      .ascii "du?a"
    387     8359               m[0]|
    388     8359               m[1]|    test4 2,da,1,1
    380m    8359 04                |      .byte NARG
    381m    835A F000              |      beq rst
    382m    835C 02                |      rst .BYTE 2
    383m    835D 64613F61          |      .ascii "da?a"
    388     8361               m[0]|

@ENDNODE
@NODE xass_case "[2] Listing of HSRC:demo/xass.hsrc/xass_case (392)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edithsrc_os36 HSRC:demo/xass.hsrc xass_case 391"
 @{" Assemble " SYSTEM "run hass:tools/assemble_ag40 HSRC:demo/xass.hsrc syn,XASS,XASS,NOP math,HYP cpu,6502 obj,CBM def,_SHAREWARE_ LST SYM v"}
@{B}  * XASS case test@{UB}

    394     8361                   |    .MACRO testm
    395     8361                  m|      .LONG $11111111
    396     8361                   |    .ENDMACRO
    397     8361                   |    .MACRO TESTM
    398     8361                  m|      .LONG $22222222
    399     8361                   |    .ENDMACRO

    401     8361      =      11    |    symb .EQU $11
    402     8361      =      22    |    SYMB .EQU $22

    404     8361               m[1]|    testm
    395m    8361 11111111          |      .LONG $11111111
    404     8365               m[0]|
    405     8365               m[1]|    TESTM
    398m    8365 22222222          |      .LONG $22222222
    405     8369               m[0]|

    407     8369 11000000          |    .LONG symb
    408     836D 22000000          |    .LONG SYMB

    410     8371                   |    .CASE mac,off

    412     8371               m[1]|    testm
    398m    8371 22222222          |      .LONG $22222222
    412     8375               m[0]|
    413     8375               m[1]|    TESTM
    398m    8375 22222222          |      .LONG $22222222
    413     8379               m[0]|

    415     8379 11000000          |    .LONG symb
    416     837D 22000000          |    .LONG SYMB

    418     8381                   |    .CASE sym,off,mac,on

    420     8381               m[1]|    testm
    395m    8381 11111111          |      .LONG $11111111
    420     8385               m[0]|
    421     8385               m[1]|    TESTM
    398m    8385 22222222          |      .LONG $22222222
    421     8389               m[0]|

    423     8389 22000000          |    .LONG symb
    424     838D 22000000          |    .LONG SYMB

    426     8391                   |    .CASE sym,on,mac,on

@ENDNODE
@NODE xass_dummies "[2] Listing of HSRC:demo/xass.hsrc/xass_dummies (430)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edithsrc_os36 HSRC:demo/xass.hsrc xass_dummies 429"
 @{" Assemble " SYSTEM "run hass:tools/assemble_ag40 HSRC:demo/xass.hsrc syn,XASS,XASS,NOP math,HYP cpu,6502 obj,CBM def,_SHAREWARE_ LST SYM v"}
@{B}  * XASS ignored dummies@{UB}

                                   |    .PAGE     ; dummy    -> as6502
    433     8391                   |    .OPT      ; dummy    -> ProfiAss64
    434     8391                   |    .STM      ; dummy    -> ProfiAss64
    435     8391                   |    .LST      ; dummy    -> ProfiAss64
    436     8391                   |    .SST      ; dummy    -> ProfiAss64
    437     8391                   |    .FIL      ; dummy    -> ProfiAss64
    438     8391                   |    .SYS      ; dummy    -> ProfiAss64
    439     8391                   |    .GOT      ; dummy    -> ProfiAss64


@ENDNODE
@NODE xass_formatting "[2] Listing of HSRC:demo/xass.hsrc/xass_formatting (444)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edithsrc_os36 HSRC:demo/xass.hsrc xass_formatting 443"
 @{" Assemble " SYSTEM "run hass:tools/assemble_ag40 HSRC:demo/xass.hsrc syn,XASS,XASS,NOP math,HYP cpu,6502 obj,CBM def,_SHAREWARE_ LST SYM v"}
@{B}  * XASS list formatting@{UB}




    462     8391               m[1]|    test
    347m    8391 00                |      .byte NARG
    348m    8392      =    8392    |      sym2 .EQU *      ; def local  symbol
    349m    8392 9283              |      .WORD sym2       ; use local  symbol
    350m    8394 FF00              |      .WORD sym22      ; use global  symbol
    462     8396               m[0]|
    464     8396               m[1]|      test
    464     839B               m[0]|
    466     839B               m[1]|        test
    466     83A0               m[0]|
    468     83A0               m[1]|      test
    468     83A5               m[0]|
    470     83A5               m[1]|    test
    347m    83A5 00                |      .byte NARG
    348m    83A6      =    83A6    |      sym2 .EQU *      ; def local  symbol
    349m    83A6 A683              |      .WORD sym2       ; use local  symbol
    350m    83A8 FF00              |      .WORD sym22      ; use global  symbol
    470     83AA               m[0]|

    472     83AA                   |    .IFD info
    473     83AA                  e|
    474     83AA                  e|      .INFO "Range: $\\h - $\\h ",*,*+2
    475     83AA                  e|      .INFO "Range: \\d - \\d ",*,*+2
    476     83AA                  e|      .INFO "Main char:  \\c",'a
    477     83AA                  e|
    478     83AA                   |    .ENDIF

    480     83AA                   |    .IFD error
    481     83AA                  e|
    482     83AA                  e|      .ERROR "Range: $\\h - $\\h ",*,*+2
    483     83AA                  e|      .ERROR "Range: \\d - \\d ",*,*+2
    484     83AA                  e|      .ERROR "Main char:  \\c",'a
    485     83AA                  e|
    486     83AA                   |    .ENDIF

    488     83AA                   |    .IFD fail
    489     83AA                  e|
    490     83AA                  e|      .FAIL  "You pressed:  \\c",'a
    491     83AA                  e|
    492     83AA                   |    .ENDIF


@ENDNODE
@NODE xass_including "[2] Listing of HSRC:demo/xass.hsrc/xass_including (497)"
@{" Status " LINK HYPASS_STATUS} @{" Inc+Obj " LINK USED_FILES} @{" Macros " LINK USED_MACROS
 @{" Lab+Sym " LINK HSRC:demo/xass.sym/main
 @{" Object " SYSTEM "hass:tools/viewobj_bin HSRC:demo/xass.cbm"
 @{" Trans " SYSTEM "hass:tools/trans Transfer_object: Choose_transfer_method: HSRC:demo/xass.cbm cbm"
 @{" Edit " SYSTEM "hass:tools/edithsrc_os36 HSRC:demo/xass.hsrc xass_including 496"
 @{" Assemble " SYSTEM "run hass:tools/assemble_ag40 HSRC:demo/xass.hsrc syn,XASS,XASS,NOP math,HYP cpu,6502 obj,CBM def,_SHAREWARE_ LST SYM v"}
@{B}  * XASS including@{UB}

    499     83AA                   |    .INCLUDE hsrc:demo/_test.inc

Source: [0] HSRC:demo/xass.hsrc/xass_including
Source: [1] hsrc:demo/_test.inc/xass_including

@{B}  * test include file@{UB}
      2     83AA                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc/xass_including
Source: [2] hsrc:demo/_tests.inc/xass_including

@{B}  * test include file@{UB}
      2     83AA 78563412          |  .LONG 12345678h
      3     83AE                   |  .END


Source: [2] hsrc:demo/_tests.inc/xass_including
Source: [1] hsrc:demo/_test.inc/xass_including

      3     83AE                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc/xass_including
Source: [2] hsrc:demo/_tests.inc/xass_including

@{B}  * test include file@{UB}
      2     83AE 78563412          |  .LONG 12345678h
      3     83B2                   |  .END


Source: [2] hsrc:demo/_tests.inc/xass_including
Source: [1] hsrc:demo/_test.inc/xass_including

      4     83B2                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc/xass_including
Source: [2] hsrc:demo/_tests.inc/xass_including

@{B}  * test include file@{UB}
      2     83B2 78563412          |  .LONG 12345678h
      3     83B6                   |  .END


Source: [2] hsrc:demo/_tests.inc/xass_including
Source: [1] hsrc:demo/_test.inc/xass_including

      5     83B6                   |  .END


Source: [1] hsrc:demo/_test.inc/xass_including
Source: [0] HSRC:demo/xass.hsrc/xass_including

    500     83B6                   |    .INCLUDE "hsrc:demo/_test.inc"

Source: [0] HSRC:demo/xass.hsrc/xass_including
Source: [1] hsrc:demo/_test.inc/xass_including

@{B}  * test include file@{UB}
      2     83B6                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc/xass_including
Source: [2] hsrc:demo/_tests.inc/xass_including

@{B}  * test include file@{UB}
      2     83B6 78563412          |  .LONG 12345678h
      3     83BA                   |  .END


Source: [2] hsrc:demo/_tests.inc/xass_including
Source: [1] hsrc:demo/_test.inc/xass_including

      3     83BA                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc/xass_including
Source: [2] hsrc:demo/_tests.inc/xass_including

@{B}  * test include file@{UB}
      2     83BA 78563412          |  .LONG 12345678h
      3     83BE                   |  .END


Source: [2] hsrc:demo/_tests.inc/xass_including
Source: [1] hsrc:demo/_test.inc/xass_including

      4     83BE                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc/xass_including
Source: [2] hsrc:demo/_tests.inc/xass_including

@{B}  * test include file@{UB}
      2     83BE 78563412          |  .LONG 12345678h
      3     83C2                   |  .END


Source: [2] hsrc:demo/_tests.inc/xass_including
Source: [1] hsrc:demo/_test.inc/xass_including

      5     83C2                   |  .END


Source: [1] hsrc:demo/_test.inc/xass_including
Source: [0] HSRC:demo/xass.hsrc/xass_including

    501     83C2                   |    .INCLUDE <hsrc:demo/_test.inc>

Source: [0] HSRC:demo/xass.hsrc/xass_including
Source: [1] hsrc:demo/_test.inc/xass_including

@{B}  * test include file@{UB}
      2     83C2                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc/xass_including
Source: [2] hsrc:demo/_tests.inc/xass_including

@{B}  * test include file@{UB}
      2     83C2 78563412          |  .LONG 12345678h
      3     83C6                   |  .END


Source: [2] hsrc:demo/_tests.inc/xass_including
Source: [1] hsrc:demo/_test.inc/xass_including

      3     83C6                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc/xass_including
Source: [2] hsrc:demo/_tests.inc/xass_including

@{B}  * test include file@{UB}
      2     83C6 78563412          |  .LONG 12345678h
      3     83CA                   |  .END


Source: [2] hsrc:demo/_tests.inc/xass_including
Source: [1] hsrc:demo/_test.inc/xass_including

      4     83CA                   |  .INCLUDE "hsrc:demo/_tests.inc"

Source: [1] hsrc:demo/_test.inc/xass_including
Source: [2] hsrc:demo/_tests.inc/xass_including

@{B}  * test include file@{UB}
      2     83CA 78563412          |  .LONG 12345678h
      3     83CE                   |  .END


Source: [2] hsrc:demo/_tests.inc/xass_including
Source: [1] hsrc:demo/_test.inc/xass_including

      5     83CE                   |  .END


Source: [1] hsrc:demo/_test.inc/xass_including
Source: [0] HSRC:demo/xass.hsrc/xass_including


    503     83CE                   |    .APPEND hsrc:demo/_test.happ

Source: [0] HSRC:demo/xass.hsrc/xass_including
Source: [0] hsrc:demo/_test.happ/xass_including

@{B}  * test append file@{UB}
      2     83CE 78563412          |  .LONG 12345678h
@ENDNODE
      4     83D2                   |  .END

@NODE USED_FILES "Include and Object files of HSRC:demo/xass.hsrc"
Includes overview:

      object   level          size      include filename
    ------------------------------------------------------------
        0        0           10215    HSRC:demo/xass.hsrc/main
        1        1             170     hsrc:demo/_test.inc/main
        1        2              86      hsrc:demo/_tests.inc/main
        1        2              86      hsrc:demo/_tests.inc/main
        1        2              86      hsrc:demo/_tests.inc/main
        1        1             170     hsrc:demo/_test.inc/main
        1        2              86      hsrc:demo/_tests.inc/main
        1        2              86      hsrc:demo/_tests.inc/main
        1        2              86      hsrc:demo/_tests.inc/main
        1        1             170     hsrc:demo/_test.inc/main
        1        2              86      hsrc:demo/_tests.inc/main
        1        2              86      hsrc:demo/_tests.inc/main
        1        2              86      hsrc:demo/_tests.inc/main
        1        0              95    hsrc:demo/_test.happ/main
    ------------------------------------------------------------
                             11594


Objects overview:

        from    to            size    segment / object filename
    ------------------------------------------------------------
         8000  83D2            978    CODE
         1000  1004              4    DATA
         2000  2004              4    RAM
         3000  3004              4    AUTO
    ------------------------------------------------------------
         1000  83D2          29650    HSRC:demo/xass.cbm/main


@ENDNODE
@NODE USED_MACROS "Macros used by HSRC:demo/xass.hsrc"
Macros overview:

    macroname                        size   parameters  calls
    ------------------------------------------------------------
    test                              147       0         8
    test2                              63       0         3
    test3                              50       1         3
    test4                              70       2         3
    testm                              22       0         2
    TESTM                              22       0         4
    ------------------------------------------------------------
                                      374



@ENDNODE
@NODE HYPASS_STATUS "Status information of HSRC:demo/xass.hsrc"
HypAss status information:

    Source:   HSRC:demo/xass.hsrc/main                          
      Code:          8000 -> 83D2     =       978 bytes
      Data:          1000 -> 1004     =         4 bytes
      Ram:           2000 -> 2004     =         4 bytes
      Auto:          3000 -> 3004     =         4 bytes
      Source:       11594    Syntax:    XASS    Includes:    14
      Lines:          633    Math:       HYP    Labels:      18 of 2000
      Passes:           2    Cpu:       6502    Symbols:     32 of 2000
      Memory:      382120    Object:     CBM    Macros:       6
      Time:       00:02.3    Dummies:      7    FwrdRefs:     9
    No errors.


@ENDNODE
