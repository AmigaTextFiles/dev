* GLOBAL.NFO - global labels for Wave 2.3 EPROMs

OPTION noflex                           * no FLEX9 info in here!

SETDP 0                                 * Wave 2.x uses Direct Page $00

******************************************************************************
* Data Areas 
******************************************************************************

data 0000-3fff                          * SDRAM
                                        * memory layout:
                                        * 0000-01ff system stack
                                        * 0200-03ff work area
                                        * 0400-???? program data
                                        * 3000-3fff work area

data 4000-7fff                          * wavetable data area

*unused b000-b07f                       * I/O area
* ^^^^^ commented out to achieve binary compatible images, instead:
data b000-b07f

data b080-bfff                          * big data area

******************************************************************************
* Globally known labels
******************************************************************************

* data area
label 0000 BnkPrg
lcomment 0000 Programs loaded into the 8 bank numbers

label 0008 GrpABnk
lcomment 0008 holds the current bank for GROUP A
label 0009 GrpBBnk
lcomment 0009 holds the current bank for GROUP B

label 000a MuSmpl
lcomment 000a MULTISAMPLING on PAGE 0

label 000b TimCor
lcomment 000b Timing Correction (0-9)

label 000c CasMode
lcomment 000c Cassette Mode (0-4)

label 000d BsTune
lcomment 000d TTUNE value (4xx Hz base frequency)

label 0010 TrgFlg
lcomment 0010 Trigger Flag in bit 2

label 0011 HpKg24
lcomment 0011 highest pressed key# >24
lcomment 0011 only set, never used or reset...

label 0012 TrgChg
lcomment 0012 "Trigger Changed" flag set
lcomment 0012 Bit 0 is set in SEQM:98 with KBM:4..9
lcomment 0012 \      when a key event is processed
lcomment 0012 Bit 2 is set if TRIG IN changes from 1 to 0

label 0014 SeqMod
lcomment 0014 Sequence Mode

label 0015 RunMod
lcomment 0015 Run Mode (0=Stop, 1=Run)

label 0016 TotVol
lcomment 0016 Overall Volume

label 0017 NPrKey
lcomment 0017 newly pressed key

label 0018 KbdSpl
lcomment 0018 Keyboard Split Point

label 0019 WtNLBf
lcomment 0019 Wavetable Number to load

label 001b SeqChn-1

label 001c SeqChn
lcomment 001c Sequencer Channels 1-8
label 001d SeqChn+1
label 001e SeqChn+2
label 001f SeqChn+3
label 0020 SeqChn+4
label 0021 SeqChn+5
label 0022 SeqChn+6
label 0023 SeqChn+7

label 0024 ECVNot
lcomment 0024 external CV note (semitone)

label 0025 ECVNot+1
* unused 2-byte area 

label 0027 NHWSnt
lcomment 0027 number of (half)waves sent to PROZ board
label 0028 NHWInt
lcomment 0028 number of Halfwave interpolations

label 0029 KBNSta
lcomment 0029 new keyboard state

label 002a CCPrKy
lcomment 002a currently checked pressed key


label 002b NTTnOn
lcomment 002b note number (PRK range) to be turned on at next chance (?)

label 002c CLagOF
lcomment 002c used in VCA/VCF OF4 Lag calculation

label 002d KbdMod
lcomment 002d Keyboard Mode

label 002e DspGrp
lcomment 002e Currently displayed Group (0=A, 1=B, 2=A+B)

label 002f DTF
lcomment 002f Data Transfer Mode (00..09)

label 0030 Loops

label 0033 ClcOct
lcomment 0033 note octave calculated (see CFrqLo)

label 0034 CFrqRs
lcomment 0034 frequency calculation result (see CFrqLo)
label 0035 CFrqRs+1

label 0037 ChnPres
lcomment 0037 Channel Pressure from Midi In

label 0038 WkPtr0
lcomment 0038 general-purpose work pointer
label 0039 WkPtr0+1
label 003a WkByt0
lcomment 003a general-purpose work byte

label 003c B40TM2
lcomment 003c buffer for 6840 timer#2 value
label 003d B40TM2+1

label 003e CKbSpN
lcomment 003e current key split number on MAIN PANEL in 2.3 mode

label 003f CKbSpl
lcomment 003f current key split point on MAIN PANEL in 2.3 Mode

label 0040 SeqSpd
lcomment 0040 Sequencer Speed value

label 0041 CmbPrg
lcomment 0041 currently selected Combiprogram

                                        * current wavetable; used in 9292
                                        * to determine whether wait after
                                        * reception of data from comm.bus
                                        * is necessary
label 0042 CurWvT
lcomment 0042 currently selected Wavetable

label 0043 CurPgm
lcomment 0043 Current Program in Wave 2.2 Mode (bit 7 denotes CHANGED)

label 0044 MIDIChn                      * MIDI channel (1-18)
lcomment 0044 selected MIDI channel (1-18)

label 0045 DetGrA
lcomment 0045 Detuning for Group A
label 0046 DetGrB
lcomment 0046 Detuning for Group B
* these two are used in Combiprogram storage
* values can be in range 0-3

label 0047 WvMode                       * Wave Mode : 2 or 3
lcomment 0047 Wave Mode : 2 or 3

label 0049 CIrqBk
lcomment 0049 currently processed bank in IRQ

label 004a RecMod
lcomment 004a current record mode

label 004b WkPtr1
lcomment 004b general-purpose work pointer
label 004c WkPtr1+1
label 004d WkByt1
lcomment 004d general-purpose work byte
label 004e WkPtr2
lcomment 004e general-purpose work pointer

*==========================================================================
* 0050-006f contain a range of settings for Group A / Bank 0
*==========================================================================

comment 0050 0050-0067: Set of Bank 0 Data (Group A for Wave 2.2)

label 0050 Bn2DsA
lcomment 0050 Bender to Destination Group A / Bank 0

label 0051 BndIVA
lcomment 0051 Bender Interval Group A / Bank 0

label 0052 KFFltA
lcomment 0052 Keyfollow Filter Group A / Bank 0

label 0054 M0054
lcomment 0054 unused; only cleared in CFrqOS

label 0055 LDlyCn
lcomment 0055 LFO Delay Calculation counter

label 0056 SOWfCA
lcomment 0056 Suboscillator Waveform Control Group A / Bank 0

label 0057 DetuA
lcomment 0057 Oscillator Detune Group A / Bank 0

lcomment 0058 current LFO value
label 0058 LFOVal
label 0059 LFOVal+1

label 005a ModLdM
lcomment 005a Modulation -> Loudness Modifier

label 005b CLfoV
used 005b
lcomment 005b current LFO value in range -128..+127
* used in 9851

label 005c KFLdnA
lcomment 005c Keyfollow Loudness Group A / Bank 0

label 005d KFWtbA
lcomment 005d Keyfollow Wavetable Group A / Bank 0

label 005e CDPFlg
lcomment 005e current digital panel flags for Group A / Bank 0
lcomment 005e Bit 7  6  5  4  3  2  1  0
lcomment 005e 0: ES,EO,TM,TL,??,ML,MF,MO
lcomment 005e 1: MS,??,UW,TW,MW,TF,VF,VL
* Bit 0 ... MO
* Bit 1 ... MF
* Bit 2 ... ML
* Bit 3 ... ?
* Bit 4 ... TL
* Bit 5 ... TM
* Bit 6 ... EO
* Bit 7 ... ES
label 005f CDPFlg+1
* Bit 0 ... VL
* Bit 1 ... VF
* Bit 2 ... TF
* Bit 3 ... MW
* Bit 4 ... TW
* Bit 5 ... UW
* Bit 6 ... ?
* Bit 7 ... MS
* the digital panel flags for Group B are at $007E/$007F, same bit mask

label 0060 SemitA
lcomment 0060 Semitones Group A / Bank 0
label 0061 SemitA+1
label 0062 SemitA+2
label 0063 SemitA+3
label 0064 SemitA+4
label 0065 SemitA+5
label 0066 SemitA+6
label 0067 SemitA+7

*==========================================================================
* 0070-0087 contain a range of settings for Group B / Bank 1
*           the layout is identical to 0050-0067
*==========================================================================

comment 0070 0070-0087: Set of Bank 1 Data (Group B for Wave 2.2)
comment 0070 .           same layout as 0050-0067

label 0070 Bn2DsB
used 0070
lcomment 0070 Bender to Destination Group B / Bank 1

label 0071 BndIVB
lcomment 0071 Bender Interval Group B / Bank 1

label 0072 KFFltB
lcomment 0072 Keyfollow Filter Group B / Bank 1

label 0076 SOWfCB
lcomment 0076 Suboscillator Waveform Control Group B / Bank 1

label 0077 DetuB
lcomment 0077 Oscillator Detune Group B / Bank 1

label 007c KFLdnB
lcomment 007c Keyfollow Loudness Group B / Bank 1

label 007d KFWtbB
lcomment 007d Keyfollow Wavetable Group B / Bank 1

label 0080 SemitB
lcomment 0080 Semitones Group B / Bank 1
label 0081 SemitB+1
label 0082 SemitB+2
label 0083 SemitB+3
label 0084 SemitB+4
label 0085 SemitB+5
label 0086 SemitB+6
label 0087 SemitB+7


label 0088 PchVal
lcomment 0088 Update Pitch values for the 8 voices

label 0090 L40TM2
lcomment 0090 last 6840 Timer 2 value

label 0092 M0092
lcomment 0092 Group A/B Base address set in $D244 (unused?)

label 0098 EOFVal
lcomment 0098 velocity for each note scaled for
lcomment 0098 \  current Envelope-On-Filter setting

label 00a3 EvEdMd
used 00a3
lcomment 00a3 EVU Edit Mode (only used in EVU code)

label 00a4 CurDPn
lcomment 00a4 currently displayed panel string base address (?)

label 00a6 CDsplB
lcomment 00a6 Pointer to Current Display Byte (Cursor Pos)

label 00a8 CurFld
lcomment 00a8 current field on display (?)

label 00a9 CurFFC
lcomment 00a9 first character entered on current 2-char field

label 00ab CurKey
lcomment 00ab currently pressed TAS Board Key

label 00ac CKRpCn
lcomment 00ac # times the same TAS key has been read
lcomment 00ac after 256 repetitions, the key is supposed
lcomment 00ac to be in a stable state and is processed

label 00ad ScndPn
lcomment 00ad set to 1 if SECOND PANEL active, 0 otherwise

label 00ae GrABSel
lcomment 00ae set to 1 if Group A+B is selected, 0 if only A or B (???)

label 00af KRdsAn
lcomment 00af Knob changed, Redisplay Analog Panel

comment 00b0 at $00B0, a 12-byte area starts that's heavily used in Seq/Arp code

label 00b0 CSqEvt
lcomment 00b0 Bytes 1..4 of current event
label 00b1 CSqEvt+1
label 00b2 CSqEvt+2
label 00b3 CSqEvt+3
*lcomment 00b0 velocity of current note? TBC
*label 00b1 CUpdtV
*lcomment 00b1 Current Update value (?)
label 00b4 CSqMPM
lcomment 00b4 Current Multiparameter Mixing Settings
label 00b5 CSqMPM+1
label 00b6 CSqMPM+2
label 00b7 CSqMPM+3
label 00b8 CSqMPM+4
label 00b9 CSqMPM+5
label 00ba CSqMPM+6
label 00bb CSqMPM+7

label 00be CSqStr
lcomment 00be pointer to current sequence start

label 00c0 CRecCh
lcomment 00c0 bit mask for all Seq.Channels set to 1 (RECORD)
label 00c1 CEraCh
lcomment 00c1 bit mask for all Seq.Channels set to 2 (ERASE)
label 00c2 RDspSq
lcomment 00c2 "Redisplay SEQUENCER PANEL" flag

label 00ce QTrInt
lcomment 00ce Quick Terminate IRQ flag

label 00cf KnPChg
lcomment 00cf flag for Analog Panel Knob Position Changed (?)

label 00d2 T1SOff
lcomment 00d2 Timer 1 offset in sequence (?)

label 00d4 CSqmPt
lcomment 00d4 pointer to current SEQM struct (?)

label 00d7 UpdPnl
lcomment 00d7 flag whether current panel needs update

label 00e0 SPKVal
lcomment 00e0 Second Panel Knob Values

label 00e7 M00E7                        * yet unknown; set with contents of knob #$10 (C45E)

label 00e8 V2BAsg
lcomment 00e8 array of bank numbers for each voice

label 00f0 KnbVAr
lcomment 00f0 Array of Knob Values for the Analog Panel knobs

*==========================================================================
* 0110-012F contain a range of settings for Group A / Bank 0
*==========================================================================
comment 0110
comment 0110 All bank-relative addressings are calculated relative to this address

comment 0110 0110-012f: Set of Bank 0 Data (Group A for Wave 2.2)


label 0110 LFORat0
lcomment 0110 LFO Rate               (0-127)
label 0111 ExtCV
used 0111
lcomment 0111 External CV for SEQM:98 (???)
label 0112 WvOsc0
lcomment 0112 Waves OSC              (0-127)
label 0113 VCFCOf0
lcomment 0113 VCF Cutoff             (0-127)
label 0114 E1VCF0
lcomment 0114 Env 1 -> VCF           (0-127)
label 0115 E1Wav0
lcomment 0115 Env 1 -> Waves         (0-127)
label 0116 VCFEmp0
lcomment 0116 VCF Emphasis           (0-127)
label 0117 E2Ldn0
lcomment 0117 Env 2 -> Loudness      (0-127)
label 0118 E1Atk0
lcomment 0118 ADSR 1 Attack          (0-127)
label 0119 E2Atk0
lcomment 0119 ADSR 2 Attack          (0-127)
label 011a E1Dcy0
lcomment 011a ADSR 1 Decay           (0-127)
label 011b E2Dcy0
lcomment 011b ADSR 2 Decay           (0-127)
label 011c E1Stn0
lcomment 011c ADSR 1 Sustain         (0-127)
label 011d E2Stn0
lcomment 011d ADSR 2 Sustain         (0-127)
label 011e E1Rel0
lcomment 011e ADSR 1 Release         (0-127)
label 011f E2Rel0
lcomment 011f ADSR 2 Release         (0-127)
label 0120 LFODly0
lcomment 0120 LFO Delay              (0-127)
label 0121 E3Atk0
lcomment 0121 Env 3 Attack           (0-127)
label 0122 LFOShp0
lcomment 0122 LFO Waveshape          (0-127)
label 0123 E3Dec0
lcomment 0123 Env 3 Decay            (0-127)
label 0124 ModWhl0
lcomment 0124 Mod Wheel              (0-127)
label 0125 E3Att0
lcomment 0125 Env 3 Att              (0-127)
label 0126 WvSub0
lcomment 0126 Waves SUB              (0-127)
label 0127 LFORat0+$17
label 0128 TrnSnd0
lcomment 0128 TRANSIENT SOUND if it holds 3/4
label 0129 DblBnk0
lcomment 0129 DOUBLE BANK SOUND if it holds 2
label 012a BndVal0
lcomment 012a word containing current bender value
lcomment 012a \  ($0000..$02FF, center at $0180)

                                        * command if in Wave 2.3 mode
*==========================================================================
* 0130-014f contain a range of settings for Group B / Bank 1
*           the layout is identical to 0110-012F
*==========================================================================
comment 0130 0130-014f: Set of Bank 1 Data (Group B for Wave 2.2)
comment 0130 .           layout identical to 0110-012F
label 0130 Bk1Bse
lcomment 0130 Base Address for Bank 1 Data (Group B for Wave 2.2)
* 0130 ... LFO Rate               (0-127)
label 0131 Bk1Bse+1
* 0132 ... Waves OSC              (0-127)
label 0132 Bk1Bse+2
* 0133 ... VCF Cutoff             (0-127)
label 0133 Bk1Bse+3
* 0134 ... Env 1 -> VCF           (0-127)
label 0134 Bk1Bse+4
* 0135 ... Env 1 -> Waves         (0-127)
label 0135 Bk1Bse+5
* 0136 ... VCF Emphasis           (0-127)
label 0136 Bk1Bse+6
* 0137 ... Env 2 -> Loudness      (0-127)
label 0137 Bk1Bse+7
* 0138 ... ADSR 1 Attack          (0-127)
label 0138 Bk1Bse+8
* 0139 ... ADSR 2 Attack          (0-127)
label 0139 Bk1Bse+9
* 013A ... ADSR 1 Decay           (0-127)
label 013a Bk1Bse+$0A
* 013B ... ADSR 2 Decay           (0-127)
label 013b Bk1Bse+$0B
* 013C ... ADSR 1 Sustain         (0-127)
label 013c Bk1Bse+$0C
* 013D ... ADSR 2 Sustain         (0-127)
label 013d Bk1Bse+$0D
* 013E ... ADSR 1 Release         (0-127)
label 013e Bk1Bse+$0E
* 013F ... ADSR 2 Release         (0-127)
label 013f Bk1Bse+$0F
* 0140 ... LFO Delay              (0-127)
label 0140 Bk1Bse+$10
* 0141 ... Env 3 Attack           (0-127)
label 0141 Bk1Bse+$11
* 0142 ... LFO Waveshape          (0-127)
label 0142 Bk1Bse+$12
* 0143 ... Env 3 Decay            (0-127)
label 0143 Bk1Bse+$13
* 0145 ... Env 3 Att              (0-127)
label 0145 Bk1Bse+$15
* 0146 ... Waves SUB              (0-127)
label 0146 Bk1Bse+$16
label 0147 Bk1Bse+$17
label 0148 Bk1Bse+$18
* TRANSIENT SOUND if it holds 0x03 (?)
label 0149 Bk1Bse+$19
* DOUBLE BANK SOUND if it holds 0x02 (?)
label 014a Bk1Bse+$1a
* used in  $993D

* unused area 0150-017F!

label 0180 SBkNam
lcomment 0180 area of 8x4 bytes containing the sound bank names & types

*label 01a0 M01A0                        * yet unknown byte; used in Wavetable
                                        * transfer at EDB5
label 01a0 CurOPA
lcomment 01a0 current content of OPA Proz board register

label 01a1 XfBkNo
lcomment 01a1 bank number 0-7 for transfer

label 01a2 PsfxChr
lcomment 01a2 printed after processing field during Panel display

label 01a4 CurBnk
lcomment 01a4 Currently selected Bank (0-7)

label 01a5 KeySpA
lcomment 01a5 Array of up to 7 key split points for Group A
label 01a6 KeySpA+1
label 01a7 KeySpA+2
label 01a8 KeySpA+3
label 01a9 KeySpA+4
label 01aa KeySpA+5
label 01ab KeySpA+6
label 01ac KeySpA+7
label 01ad KeySpB
lcomment 01ad Array of up to 7 key split points for Group B
label 01ae KeySpB+1
label 01af KeySpB+2
label 01b0 KeySpB+3
label 01b1 KeySpB+4
label 01b2 KeySpB+5
label 01b3 KeySpB+6
label 01b4 KeySpB+7

* System Stack Area seems to be 01c0-0200 (65 bytes)

label 0200 T1SCnt
lcomment 0200 Timer 1 Start Value (?)

label 0208 CSQmks
lcomment 0208 "currently showing ???" flag

label 021c PwPosn
label 021d PwPosn+1                     * pitch wheel position ($00..$FF)
lcomment 021c pitch wheel position ($0000..$00FF)

label 0220 CEvDur
lcomment 0220 current event duration, and
lcomment 0220 \  tick counter when displaying
lcomment 0220 \  ?s in RECM:8

label 0222 SqInit
lcomment 0222 Sequencer Initialization flag

label 0223 M0223  * current timestamp?
lcomment 0223 current timestamp for sequencer (?)

label 0225 PCFPrs
lcomment 0225 "Foot Switch Pressed" counter (?)

label 0227 Tm1Stat
lcomment 0227 6840 Timer #1 Status Register (??)

label 0229 CReECh
lcomment 0229 bit mask for all Seq.Channels set to 1/3 (RECORD/EMPTY)

label 0230 CEvtOf
lcomment 0230 Counter of Event Offs set in ZA3A4

label 0233 PEvDur
lcomment 0233 Duration of previous DRS Event (?)

label 0235 CSqFEv
lcomment 0235 pointer to 1st event in current seq.

label 0237 M0237                        * yet unknown flag (see C80F)
* might also be an 8-byte array (see D459)
label 0238 VcCLag
lcomment 0238 combined VCF/VCA lag per voice
label 0239 VcCLag+1

label 0240 BaseTu
lcomment 0240 Sequence Base Tuning

label 0241 CurGen
lcomment 0241 current Voice's PROZ Generator Enable setting

label 0242 MonoChn                      * Mono Mode Channel (find better name?)
                                        * this is used when processing incoming MIDI messages
                                        * in MIDI 17 or 18 mode; stores the used channel as 0-7

label 0243 MNORcv
lcomment 0243 MIDI Note On message has been received flag

label 0244 CVCLag
lcomment 0244 current 2-voice combined VCF/VCA lag values

label 0245 CLg2OF
lcomment 0245 used in VCA/VCF OF4 Lag calculation

label 0246 CLg3OF
lcomment 0246 used in VCA/VCF OF4 Lag calculation

label 024A Tm1Cnt
lcomment 024a 6840 Timer 1 counter value (?)
label 024B Tm1Cnt+1

label 024d SViaPB
lcomment 024d saved VIA Port B contents

label 0250 T1Offs
label 0251 T1Offs+1
lcomment 0250 Timer1 Offset (Sequencer Code)

label 0252 JSBProz
lcomment 0252 pointer to routine to send a 
lcomment 0252 wave(table) byte to PROZ for 8 or 12 bit
* on a 2.3, it shifts the A register 4 bytes to the left

label 0254 CurCBP
lcomment 0254 currently changed bank # for program change

label 0255 MIDWPtr
lcomment 0255 write pointer into MIDI data area

label 0259 CMStats                      * currently processed MIDI status byte
lcomment 0259 currently processed MIDI status byte

label 025a MIDRPtr
lcomment 025a read pointer into MIDI data area

label 025c MSustn
lcomment 025c "Sustain" MIDI Controller #64/66/67

label 025d MIDIThr
lcomment 025d flag whether MIDI data there

label 0260 CBDLen
label 0261 CBDLen+1
lcomment 0260 Length of (incoming?) data block on Comm.Bus

label 0262 CasBit
lcomment 0262 current bit sent/received on cass.port
label 0263 CasWrk
lcomment 0263 work byte for Cassette operation

label 0264 CBDSEnd
lcomment 0264 pointer behind end of data area (to be sent?) on Comm.Bus
label 0265 CBDSEnd+1
label 0266 CBDSPtr
lcomment 0266 pointer to data area (to be sent?) on Comm.Bus
label 0267 CBDSPtr+1

label 0268 ChkSum
lcomment 0268 EPROM / Comm.Bus Data / Cass. Checksum

label 026a CassCmp
lcomment 026a Cassette Compare Mode Flag (?)

label 026b InvPol
lcomment 026b Inverted Trigger Polarity flag

label 026e P2STbS
lcomment 026e pointer to SEQM 10 pointer table start

label 027f LTONot
lcomment 027f last turned-on note

label 0280 ApLpCt
lcomment 0280 Arpeggiator Loop Counter

label 0281 ArpVce
lcomment 0281 current Arp voice

label 0282 ApCMsk
lcomment 0282 Arp Channel Bitmask

label 0283 ArpOff
lcomment 0283 Arpeggiator Note Value Offset

label 0284 CApNot
label 0285 CApNot+1
lcomment 0284 pointer to current arpeggiator note

label 0286 ApKEnd
lcomment 0286 pointer behind last buffered Arp note

label 0288 ArpDir
lcomment 0288 Arpeggiator Direction in SEQM:13
lcomment 0288 \  0 = Down, <> 0 = Up

label 0289 ApCNIx
lcomment 0289 Arpeggiator Current Note Index

label 028a ApKyPr
lcomment 028a "Arpeggiator Keys Pressed" flag

label 028b SApKys
lcomment 028b # stored Arpeggiator keys

label 028c CApNt2
lcomment 028c 2nd pointer to current arp note

label 028e RndBse
lcomment 028e Arpeggiator Random Number Base

label 0290 SVcPrc
lcomment 0290 set of 8 flags used during voice setup (see SetVcs)

label 029e WkWrd1
lcomment 029e Work variable used in PrcEvt

label 029f ArpKTb-1
label 02a0 ArpKTb
lcomment 02a0 Arpeggiator Key Table (16 bytes)
label 02b0 ArpKTb+$10

comment 02b1 $02B0 is unused
label 02b1 CPLSeq
lcomment 02b1 currenly playing sequence in list
label 02b3 PPlCmd
lcomment 02b3 Process Playcommand flag
lcomment 02b3 (received through [3 0B] command)

label 02E8 Ev1Vl2
used 02e8
lcomment 02e8 2nd set of Env1 values (0..255)

* yet unknown pair of 2-byte areas:
label 02F0 SE1Lag
lcomment 02f0 second set of Env1 Lag values (?)
label 02F8 SE2Lag
lcomment 02f8 second set of Env2 Lag values (?)

label 0300 KbdStat
lcomment 0300 8 bytes containing the current keyboard state
label 0308 KbdSSav
lcomment 0308 8 bytes containing the previous keyboard state

label 030f VceLRU-1

comment 0310
comment 0310 ==================================================================
comment 0310 here comes a series of 8-byte tables
comment 0310  that define the current state of the synthesizer's voices
comment 0310 ==================================================================
comment 0310

comment 0310 All voice-based data are calculated relative to this address
comment 0310

label 0310 VceLRU                       * yet unknown 8-byte area (A513, 83ba)
lcomment 0310 8-byte array with LRU counters for each voice
lcomment 0310 \  bit mask;
lcomment 0310 \  bit 0-5 ... LRU counter
lcomment 0310 \  bit 6 ..... set when the key is released
lcomment 0310 \  bit 7 ..... always 0
label 0311 VceLRU+1

label 0318 CPNote
lcomment 0318 currently played note in PRK range
lcomment 0318 \  for each voice in 2.3 mode

label 0320 CKbNNr
used 0320
lcomment 0320 8-byte array with current Note Number (PRK Range)
lcomment 0320 \  for each voice (?)

label 0328 VcFlg1
used 0328
lcomment 0328 8-byte array with state bits for each voice
lcomment 0328 \  bit mask;
lcomment 0328 \  bit 0 ... set if Group B
lcomment 0328 \  bit 1 ... in release phase (?)
lcomment 0328 \  bit 2 ... ?
lcomment 0328 \  bit 3 ... Env3 Decay Phase started (?)
lcomment 0328 \  bit 4 ... EG started (?)
lcomment 0328 \  bit 5 ... set when voice has just been turned on (?)
lcomment 0328 \  bit 6 ... set when Group A voice has just been turned on
lcomment 0328 \            clear for Group B voice (?)
lcomment 0328 \  bit 7 ... set when the key is released (?)

* the next 2 areas obviously deal with currently sounding voices
* when ALL NOTES OFF comes in, the lowest 2 bits in each byte are set to 0
* and bit 2 is set to 1
label 0330 E1Stat
used 0330
lcomment 0330 8-byte array with Envelope 1 state bits for each voice
lcomment 0330 \  bit mask;
lcomment 0330 \  bit 0-1 ... current phase (1 = Attack, 2 = Decay,
lcomment 0330 \                             3 = Sustain, 0 = Release / Off)
lcomment 0330 \  bit 2 ..... release phase started
lcomment 0330 \  bit 4 ..... ?
lcomment 0330 \  bit 5 ..... set when the voice is released(?)
lcomment 0330 \  bit 6 ..... set when the voice is released(?)
lcomment 0330 \  bit 7 ..... set ONCE, when voice is started the 1st time
lcomment 0330 \              stays set until Wave is restarted
label 0338 E2Stat
used 0338
lcomment 0338 8-byte array with Envelope 2 state bits for each voice
lcomment 0338 \  same content as E1Stat above

* yet unknown pair of 8-byte areas:
label 0340 Ev1Val
used 0340
lcomment 0340 8-byte array of current Env1 values
label 0348 Ev2Val
used 0348
lcomment 0348 8-byte array of current Env2 values
label 0350 Ev3Val
used 0350
lcomment 0350 8-byte array of current Env3 values

label 0357 Ev1Cnt-1
* yet unknown pair of 8-byte areas:
label 0358 Ev1Cnt
lcomment 0358 8-byte array of Env1 counters (decremented each IRQ)
label 0360 Ev2Cnt
used 0360
lcomment 0360 8-byte array of Env2 counters (decremented each IRQ)
label 0368 Ev3Cnt
used 0368
lcomment 0368 8-byte array of Env3 counters (decremented each IRQ)

label 0370 E1Lag
used 0370
lcomment 0370 8-byte array of Env1 Lag values
label 0378 E2Lag
used 0378
lcomment 0378 8-byte array of Env2 lag values

* yet unknown pair of 8-byte areas:
label 0380 VlsDly
used 0380
lcomment 0380 8-byte array of velosity fetch delay values
label 0388 Velosi
used 0388
lcomment 0388 8-byte array of velosity settings

* yet unknown pair of 8-byte areas:
label 0390 PE1Val
used 0390
lcomment 0390 8-byte array of previous Env1 values
label 0398 PE2Val
used 0398
lcomment 0398 8-byte array of previous Env2 values

label 03c0 FCFVal
lcomment 03c0 Update Filter Cutoff values for the 8 voices

label 03c8 VelVal
lcomment 03c8 velocity for each note scaled for
lcomment 03c8 \  current Volume Sensitivity setting

label 03d0 WVSVal
lcomment 03d0 velocity for each note scaled for
lcomment 03d0 \  current Waveform Sensitivity setting

label 03d8 M03D8                        * yet unknown 8-byte area
lcomment 03d8 unused 8-byte area (only initialized ?)

* ==================================================================
* between 0400 and 17FF, program data are stored (51 bytes each)
* on a Wave 2.3 / EVU, 1580-17FF hold the combiprograms (32 bytes each)
* ==================================================================
* Program Layout (HEAVY Stuff!):
* Byte Bits  Content                           Range   Internal
*   00  0-4  Wavetable #                        0-31       0-31
*       5-7  Keyboard Mode Bit 0-2              0-15       0-15
*   01    0  Keyboard Mode Bit 3
*       1-6  Keyboard Split                     0-63       0-63
*            --------
*            GROUP A:
*            --------
*         7  LFO Rate Bit 0                     0-31       0-127
*   02  0-3  LFO Rate Bit 1-4
*       4-7  Waves OSC Bit 0-3                  0-63       0-127
*   03  0-1  Waves OSC Bit 4-5
*       2-7  Filter Cutoff                      0-63       0-127
*   04  0-4  Env1 -> VCF                        0-31       0-127
*       5-7  Env1 -> Waves Bit 0-2              0-31       0-127
*   05  0-1  Env1 -> Waves Bit 2-3
*       2-5  VCF Emphasis                       0-15       0-127
*       6-7  Env2 -> Loudness Bit 0-1           0-31       0-127
*   06  0-2  Env2 -> Loudness Bit 2-4
*       3-6  Env1 Attack                        0-15       0-127
*         7  Env2 Attack Bit 0                  0-15       0-127
*   07  0-2  Env2 Attack Bit 1-3
*       3-7  Env1 Decay                         0-31       0-127
*   08  0-4  Env2 Decay                         0-31       0-127
*       5-7  Env1 Sustain Bit 0-2               0-63       0-127
*   09  0-2  Env1 Sustain Bit 3-5
*       3-7  Env2 Sustain Bit 0-4               0-63       0-127
*   10    0  Env2 Sustain Bit 5
*       1-5  Env1 Release                       0-31       0-127
*       6-7  Env2 Release Bit 0-1               0-31       0-127
*   11  0-2  Env2 Release Bit 2-4
*       3-6  LFO Delay                          0-15       0-127
*         7  Env3 Attack Bit 0                  0-15       0-127
*   12  0-2  Env3 Attack Bit 1-3
*       3-4  LFO Waveshape                      0-3        0-127
*            (0=Triangle, 1/2=Sawtooth, 3=Rectangle)
*       5-7  Env3 Release Bit 0-2               0-31       0-127
*   13  0-1  Env3 Release Bit 3-4
*       2-6  Mod Wheel                          0-31       0-127
*         7  Env3 Att Bit 0                     0-31       0-127
*   14  0-3  Env3 Att Bit 1-4
*       4-7  Waves SUB Bit 0-3                  0-63       0-127
*   15  0-1  Waves SUB Bit 4-5
*       2-7  Digital Data 1 Bit 0-5:            0-255      0-255
*              0 = VL
*              1 = VF
*              2 = TF
*              3 = MW
*              4 = TW
*              5 = UW
*   16  0-1  Digital Data 1 Bit 6-7
*              6 = ?
*              7 = MS
*       2-7  Digital Data 2 Bit 0-5             0-255      0-255
*              0 = MO
*              1 = MF
*              2 = ML
*              3 = ?
*              4 = TL
*              5 = TM
*   17  0-1  Digital Data 2 Bit 6-7
*              6 = EO
*              7 = ES
*       2-4  Keyfollow Filter                   0-7        0-7
*       5-7  Keyfollow Loudness                 0-7        0-7
*   18  0-2  Keyfollow Wavetable                0-7        0-7
*       3-5  Oscillator Detune                  0-7        0-7
*       6-7  Suboscillator Waveform Control     0-3        0-3
*   19  0-2  Bender to Destination              0-7        0-7
*       3-4  Bender Interval                    0-3        0-3
*       5-7  Semitone Channel 1 Bit 0-2         0-63       0-255
*   20  0-2  Semitone Channel 1 Bit 3-5
*       3-7  Semitone Channel 2 Bit 0-4         0-63       0-255
*   21    0  Semitone Channel 2 Bit 5
*       1-6  Semitone Channel 3                 0-63       0-255
*         7  Semitone Channel 4 Bit 0           0-63       0-255
*   22  0-4  Semitone Channel 4 Bit 1-5
*       5-7  Semitone Channel 5 Bit 0-2         0-63       0-255
*   23  0-2  Semitone Channel 5 Bit 3-5
*       3-7  Semitone Channel 6 Bit 0-4         0-63       0-255
*   24    0  Semitone Channel 6 Bit 5
*       1-6  Semitone Channel 7                 0-63       0-255
*         7  Semitone Channel 8 Bit 0           0-63       0-255
*   25  0-4  Semitone Channel 8 Bit 1-5
*       5-7  unused ????
*   26  0-2  unused ????
*            --------
*            GROUP B:
*            --------
*   26  3-7  LFO Rate                           0-31       0-127
*   27  0-5  Waves OSC                          0-63       0-127
*       6-7  Filter Cutoff Bit 0-1              0-63       0-127
*   28  0-3  Filter Cutoff Bit 2-5
*       4-7  Env1 -> VCF Bit 0-3                0-31       0-127
*   29    0  Env1 -> VCF Bit 4
*       1-5  Env1 -> Waves                      0-31       0-127
*       6-7  VCF Emphasis Bit 0-1               0-15       0-127
*   30  0-1  VCF Emphasis Bit 2-3
*       2-6  Env2 -> Loudness                   0-31       0-127
*         7  Env1 Attack Bit 0                  0-15       0-127
*   31  0-2  Env1 Attack Bit 1-3
*       3-6  Env2 Attack                        0-15       0-127
*         7  Env1 Decay Bit 0                   0-31       0-127
*   32  0-3  Env1 Decay Bit 1-4
*       4-7  Env2 Decay Bit 0-3                 0-31       0-127
*   33    0  Env2 Decay Bit 4
*       1-6  Env1 Sustain                       0-63       0-127
*         7  Env2 Sustain Bit 0                 0-63       0-127
*   34  0-4  Env2 Sustain Bit 1-5
*       5-7  Env1 Release Bit 0-2               0-31       0-127
*   35  0-1  Env1 Release Bit 3-4
*       2-6  Env2 Release                       0-31       0-127
*         7  LFO Delay Bit 0                    0-15       0-127
*   36  0-2  LFO Delay Bit 1-3
*       3-6  Env3 Attack                        0-15       0-127
*         7  LFO Waveshape Bit 0                0-3        0-127
*            (0=Triangle, 1/2=Sawtooth, 3=Rectangle)
*   37    0  LFO Waveshape Bit 1
*       1-5  Env3 Release                       0-31       0-127
*       6-7  Mod Wheel Bit 0-1                  0-31       0-127
*   38  0-2  Mod Wheel Bit 2-4
*       3-7  Env3 Att                           0-31       0-127
*   39  0-5  Waves SUB                          0-63       0-127
*       6-7  Digital Data 1 Bit 0-1             0-255      0-255
*   40  0-5  Digital Data 1 Bit 2-7
*       6-7  Digital Data 2 Bit 0-1             0-255      0-255
*   41  0-5  Digital Data 2 Bit 2-7
*       6-7  Keyfollow Filter Bit 0-1           0-7        0-7
*   42    0  Keyfollow Filter Bit 2
*       1-3  Keyfollow Loudness                 0-7        0-7
*       4-6  Keyfollow Wavetable                0-7        0-7
*         7  Oscillator Detune Bit 0            0-7        0-7
*   43  0-1  Oscillator Detune Bit 1-2
*       2-3  Suboscillator Waveform Control     0-3        0-3
*       4-6  Bender to Destination              0-7        0-7
*         7  Bender Interval Bit 0              0-3        0-3
*   44    0  Bender Interval Bit 1
*       1-6  Semitone Channel 1                 0-63       0-255
*         7  Semitone Channel 2 Bit 0           0-63       0-255
*   45  0-4  Semitone Channel 2 Bit 1-5
*       5-7  Semitone Channel 3 Bit 0-2         0-63       0-255
*   46  0-2  Semitone Channel 3 Bit 3-5
*       3-7  Semitone Channel 4 Bit 0-4         0-63       0-255
*   47    0  Semitone Channel 4 Bit 5
*       1-6  Semitone Channel 5                 0-63       0-255
*         7  Semitone Channel 6 Bit 0           0-63       0-255
*   48  0-4  Semitone Channel 6 Bit 1-5
*       5-7  Semitone Channel 7 Bit 0-2         0-63       0-255
*   49  0-2  Semitone Channel 7 Bit 3-5
*       3-7  Semitone Channel 8 Bit 0-4         0-63       0-255
*   50    0  Semitone Channel 8 Bit 5
* ==================================================================
* Combiprogram Layout:
*   00    : SEQM
*   01-08 : program numbers for the 8 banks
*   09-15 : Split Points for Group A
*   16    : ---
*   17-23 : Split Points for Group B
*   24    : KBM
*   25    : ((Group A Bank & 7) << 3) | (Group B Bank & 7)
*   26    : ((Group A Detuning & 3) << 2) | (Group B Detuning & 3)
*   27    : flag whether MULTI set (?)
*   28-30 : ---
*   31    : 'U' if used, else 0
* ==================================================================

label 0400 PrgBase                      * 87*51 bytes program data
lcomment 0400 Program area base

label 1580 CPrBase                      * 20*32 bytes combiprogram data
lcomment 1580 Combiprogram area base

* ==================================================================
* DRS Data Area
* ==================================================================
* The pointer at $1800 points to a byte containing a mode.
* The following modes are used (9C6E):
*   $FE ... some sort of reset or such (to be researched)
*           followed by 3 data bytes:
*             1 ... program#
*             2 ... M0240 (?)
*             3 ... Sequencer Speed
*  in all other cases, bit 6 is significant


label 17ff CEvPtr-1
comment 1800 Start of DRS Data
label 1800 CEvPtr
label 1804 M1804                        * yet unknown pointer (E34B)
label 1806 M1806                        * yet unknown pointer (E35F)
                                        * initialized to $2FEB
label 1808 M1808                        * yet unknown pointer (C221)
label 180c fPSqRs
lcomment 180c flag for "Pending Sequencer Reset"

label 1812 SBasTu
lcomment 1812 Stored BASETUNE value
label 1813 SSqSpd
lcomment 1813 Stored Sequencer Speed Value

* label 1814 M1814
label 1814 SSqMPM
lcomment 1814 Stored Sequencer MPM Channels 1-8
* field of 8 whatevers (used in DRS)
* pendant in working storage is $00B4
label 1815 SSqMPM+1
label 1816 SSqMPM+2
label 1817 SSqMPM+3
label 1818 SSqMPM+4
label 1819 SSqMPM+5
label 181a SSqMPM+6
label 181b SSqMPM+7

label 181c SSqChn
lcomment 181c Stored Sequencer Channels 1-8
label 181d SSqChn+1
label 181e SSqChn+2
label 181f SSqChn+3
label 1820 SSqChn+4
label 1821 SSqChn+5
label 1822 SSqChn+6
label 1823 SSqChn+7

label 2f80 M2F80
lcomment 2f80 End of DRS event data area (?)

label 2FF6 M2FF6                        * array of 10 bytes for SEQM:0-9 (?)
used 2ff6

label 3000 WtEIpF
lcomment 3000 Wavetable Generation interpolation flags

label 3040 HWvBuf
lcomment 3040 buffer for interpolated halfwaves (up to 33 needed!)
* this means up to 33*64 bytes!
* uses memory AT LEAST up to 3880!
* obviously, PPG reserved up to 47 places for that...
* and THIS means that 14*64 = 896  bytes are unused!

label 3c00 UWtLdd
lcomment 3c00 flag whether upper WT loaded

label 3c01 CBCmdHi
lcomment 3c01 High byte of command currently sent on Comm.Bus

label 3c03 CBCmdLo
lcomment 3c03 Low byte of command currently sent on Comm.Bus

label 3c04 CBDRPtr
lcomment 3c04 current Comm.Bus Data Pointer for receiving

label 3c06 W23Mode
lcomment 3c06 flag for Wave 2.3 mode (still needs to be confirmed for EVU!)

label 3c07 DsDPtr
lcomment 3c07 Display Data Pointer to prepare a full 2x40 TAS display

label 3c09 BusDsp
lcomment 3c09 flag whether to prepare for PPG Bus (1) or LCD (0)

label 3c0a SqHTgl
lcomment 3c0a Seq. Halfth Toggle
lcomment ec0a (used in dynamic seq. loading)

label 3c0b PK64BC
lcomment 3c0b Counter for 64byte Seq.data
lcomment 3c0b packets to come

label 3c0c DSeqLd
lcomment 3c0c Dynamic Sequence Loading flag(?)

label 3c0d IDSqLd
lcomment 3c0d Inhibit Dyn.Seq.Load for now (?)

label 3c0e CBCmdW
lcomment 3c0e flag for Comm.Bus Command waiting to be received(?)

label 3c0f AciaOK
lcomment 3c0f flag whether ACIA is OK

label 3c20 nCSyXBt
lcomment 3c20 current incoming SysEx byte (0=not in SysEx processing)
label 3c21 SxPmNo
lcomment 3c21 current incoming SysEx Parameter Number

label 3c26 CKnVal
lcomment 3c26 currently processed knob value
label 3c27 CKnNum
lcomment 3c27 currently processed knob ID

label 3c28 EvSnPt                      * a word containing a pointer
lcomment 3c28 Pointer into Event Send area (up to 7 events)

label 3c2d EvSnFl
lcomment 3c2d flag whether there are events to send

label 3c30 RcvEvt
lcomment 3c30 Receive Events from other components flag

label 3c31 VelParm
lcomment 3c31 velocity parameters from PRK
label 3c32 VelParm+1
label 3c33 VelParm+2
label 3c34 VelParm+3
label 3c35 VelParm+4
label 3c36 VelParm+5
label 3c37 VelParm+6
label 3c38 VelParm+7

                                        * obviously a bit mask:
                                        * bit 0 ... set if DIGITAL panel updated
                                        * bit 1 ... set if TUNING panel updated
label 3c39 PnlUpd
lcomment 3c39 bit mask: 0=DIGITAL 1=TUNING panel has been updated

label 3c3a SndChg
lcomment 3c3a flag whether changed parameters can be sent

label 3c3b EdtMode
lcomment 3c3b Edit Mode (set by EVU sending FF0003 event)

label 3c3c EvtRcvd
lcomment 3c3c flag that an event (PPG Bus or MIDI) has been received

label 3c3d WtBkNo
lcomment 3c3d Bank Number for Wave Transfer

label 3c3e MuSmSet
lcomment 3c3e set to 01 if MuSmpl<>0 is received from Waveterm
* Actually it seems to be a bitmask:
* Bit 0 ... set if Group A split point(s) set
* Bit 1 ... set if Group B split point(s) set

label 3c3f MIVelo
lcomment 3c3f current MIDI In Velocity

*label 3c80 M3C80  * yet unknown data area of length 120 (3C80-3CF7)

label 3c80 AFEVal
lcomment 3c80 velocity for each note scaled for
lcomment 3c80 \  current Attack Filter Envelope Sensitivity
                                        
label 3c88 AVEVal
used 3c88 * force visible
lcomment 3c88 velocity for each note scaled for
lcomment 3c88 \  current Attack Volume Envelope Sensitivity
                                        
label 3c90 DFEVal
used 3c90 * force visible
lcomment 3c90 velocity for each note scaled for
lcomment 3c90 \  current Decay Filter Envelope Sensitivity

label 3c98 DVEVal
used 3c98 * force visible
lcomment 3c98 velocity for each note scaled for
lcomment 3c98 \  current Decay Volume Envelope Sensitivity

label 3ca0 PBEVal
used 3ca0
lcomment 3ca0 Pitch Bend for each note scaled for
lcomment 3ca0 \  current Pitch Bend Envelope Sensitivity

label 3cf0 FVceBk
lcomment 3cf0 fixed voice banks for Mono Channels

label 3cf8 VceOPA
lcomment 3cf8 PRZOPA settings for the 8 voices

label 3d00 BTArea                       * bus transfer area; at least 100 bytes
lcomment 3d00 PPG Bus Transfer Area
label 3d01 BTArea+1
label 3d02 BTArea+2
label 3d03 BTArea+3
label 3d04 BTArea+4
label 3d05 BTArea+5
label 3d06 BTArea+6
label 3d07 BTArea+7
label 3d08 BTArea+8
label 3d09 BTArea+9
label 3d0a BTArea+10
label 3d0b BTArea+11
label 3d0c BTArea+12
label 3d0d BTArea+13
label 3d0e BTArea+14
label 3d0f BTArea+15
label 3d10 BTArea+16
label 3d11 BTArea+17
label 3d12 BTArea+18
label 3d13 BTArea+19
label 3d14 BTArea+20
label 3d15 BTArea+21
label 3d16 BTArea+22
label 3d17 BTArea+23
label 3d18 BTArea+24
label 3d19 BTArea+25
label 3d1a BTArea+26
label 3d1b BTArea+27
label 3d1c BTArea+28
label 3d1d BTArea+29
label 3d1e BTArea+30
label 3d1f BTArea+31
label 3d20 BTArea+32
label 3d21 BTArea+33
label 3d22 BTArea+34
label 3d23 BTArea+35
label 3d24 BTArea+36
label 3d25 BTArea+37
label 3d26 BTArea+38
label 3d27 BTArea+39
label 3d28 BTArea+40
label 3d29 BTArea+41
label 3d2a BTArea+42
label 3d2b BTArea+43
label 3d2c BTArea+44
label 3d2d BTArea+45
label 3d2e BTArea+46
label 3d2f BTArea+47
label 3d30 BTArea+48
label 3d31 BTArea+49
label 3d32 BTArea+50
label 3d33 BTArea+51
label 3d34 BTArea+52
label 3d35 BTArea+53
label 3d36 BTArea+54
label 3d37 BTArea+55
label 3d38 BTArea+56
label 3d39 BTArea+57
label 3d3a BTArea+58
label 3d3b BTArea+59
label 3d3c BTArea+60
label 3d3d BTArea+61
label 3d3e BTArea+62
label 3d3f BTArea+63
label 3d40 BTArea+64
label 3d41 BTArea+65
label 3d42 BTArea+66
label 3d43 BTArea+67
label 3d44 BTArea+68
label 3d45 BTArea+69
label 3d46 BTArea+70
label 3d47 BTArea+71
label 3d48 BTArea+72
label 3d49 BTArea+73
label 3d4a BTArea+74
label 3d4b BTArea+75
label 3d4c BTArea+76
label 3d4d BTArea+77
label 3d4e BTArea+78
label 3d4f BTArea+79
label 3d50 BTArea+80
label 3d51 BTArea+81
label 3d52 BTArea+82
label 3d53 BTArea+83
label 3d54 BTArea+84
label 3d55 BTArea+85
label 3d56 BTArea+86
label 3d57 BTArea+87
label 3d58 BTArea+88
label 3d59 BTArea+89
label 3d5a BTArea+90
label 3d5b BTArea+91
label 3d5c BTArea+92
label 3d5d BTArea+93
label 3d5e BTArea+94
label 3d5f BTArea+95
label 3d60 BTArea+96
label 3d61 BTArea+97
label 3d62 BTArea+98
label 3d63 BTArea+99

label 3d80 MDArea                      * midi data area (>=100 bytes)
lcomment 3d80 MIDI Data Area
label 3d81 MDArea+1
label 3d82 MDArea+2
label 3d83 MDArea+3
label 3d84 MDArea+4
label 3d85 MDArea+5
label 3d86 MDArea+6
label 3d87 MDArea+7
label 3d88 MDArea+8
label 3d89 MDArea+9
label 3d8a MDArea+10
label 3d8b MDArea+11
label 3d8c MDArea+12
label 3d8d MDArea+13
label 3d8e MDArea+14
label 3d8f MDArea+15
label 3d90 MDArea+16
label 3d91 MDArea+17
label 3d92 MDArea+18
label 3d93 MDArea+19
label 3d94 MDArea+20
label 3d95 MDArea+21
label 3d96 MDArea+22
label 3d97 MDArea+23
label 3d98 MDArea+24
label 3d99 MDArea+25
label 3d9a MDArea+26
label 3d9b MDArea+27
label 3d9c MDArea+28
label 3d9d MDArea+29
label 3d9e MDArea+30
label 3d9f MDArea+31
label 3da0 MDArea+32
label 3da1 MDArea+33
label 3da2 MDArea+34
label 3da3 MDArea+35
label 3da4 MDArea+36
label 3da5 MDArea+37
label 3da6 MDArea+38
label 3da7 MDArea+39
label 3da8 MDArea+40
label 3da9 MDArea+41
label 3daa MDArea+42
label 3dab MDArea+43
label 3dac MDArea+44
label 3dad MDArea+45
label 3dae MDArea+46
label 3daf MDArea+47
label 3db0 MDArea+48
label 3db1 MDArea+49
label 3db2 MDArea+50
label 3db3 MDArea+51
label 3db4 MDArea+52
label 3db5 MDArea+53
label 3db6 MDArea+54
label 3db7 MDArea+55
label 3db8 MDArea+56
label 3db9 MDArea+57
label 3dba MDArea+58
label 3dbb MDArea+59
label 3dbc MDArea+60
label 3dbd MDArea+61
label 3dbe MDArea+62
label 3dbf MDArea+63
label 3dc0 MDArea+64
label 3dc1 MDArea+65
label 3dc2 MDArea+66
label 3dc3 MDArea+67
label 3dc4 MDArea+68
label 3dc5 MDArea+69
label 3dc6 MDArea+70
label 3dc7 MDArea+71
label 3dc8 MDArea+72
label 3dc9 MDArea+73
label 3dca MDArea+74
label 3dcb MDArea+75
label 3dcc MDArea+76
label 3dcd MDArea+77
label 3dce MDArea+78
label 3dcf MDArea+79
label 3dd0 MDArea+80
label 3dd1 MDArea+81
label 3dd2 MDArea+82
label 3dd3 MDArea+83
label 3dd4 MDArea+84
label 3dd5 MDArea+85
label 3dd6 MDArea+86
label 3dd7 MDArea+87
label 3dd8 MDArea+88
label 3dd9 MDArea+89
label 3dda MDArea+90
label 3ddb MDArea+91
label 3ddc MDArea+92
label 3ddd MDArea+93
label 3dde MDArea+94
label 3ddf MDArea+95
label 3de0 MDArea+96
label 3de1 MDArea+97
label 3de2 MDArea+98
label 3de3 MDArea+99

label 3de4 EMDArea                    * redefine later!

comment 3e00 
comment 3e00 Here, the data areas for Bank 2 - Bank 7 start.
comment 3e00 Each area consists of 2 distinctive parts, separated by $C0 bytes.
comment 3e00 
comment 3e00 The first Part of the data areas starts here;
comment 3e00 the layout is identical to 0050-0067
comment 3e00 
lcomment 3e00 Start of Bank 2 Data Area (3E00-3E17)
used 3e00
label 3e00 Bn2Ds2
*lcomment 3e00 Bender to Destination Bank 2
label 3e01 BndIV2
lcomment 3e01 Bender Interval Bank 2
label 3e02 KFFlt2
lcomment 3e02 Keyfollow Filter Bank 2
label 3e06 SOWfC2
lcomment 3e06 Suboscillator Waveform Control Bank 2
label 3e07 Detu2
lcomment 3e07 Oscillator Detune Bank 2
label 3e0c KFLdn2
lcomment 3e0c Keyfollow Loudness Bank 2
label 3e0d KFWtb2
lcomment 3e0d Keyfollow Wavetable Bank 2
label 3e0e CDPFl2
lcomment 3e0e current digital panel flags Bank 2
label 3e0f CDPFl2+1
label 3e10 Semit2
lcomment 3e10 Semitones Bank 2
label 3e11 Semit2+1
label 3e12 Semit2+2
label 3e13 Semit2+3
label 3e14 Semit2+4
label 3e15 Semit2+5
label 3e16 Semit2+6
label 3e17 Semit2+7

lcomment 3e20 Start of Bank 3 Data Area (3E20-3E37)
used 3e20
label 3e20 Bn2Ds3
*lcomment 3e20 Bender to Destination Bank 3
label 3e21 BndIV3
lcomment 3e21 Bender Interval Bank 3
label 3e22 KFFlt3
lcomment 3e22 Keyfollow Filter Bank 3
label 3e26 SOWfC3
lcomment 3e26 Suboscillator Waveform Control Bank 3
label 3e27 Detu3
lcomment 3e27 Oscillator Detune Bank 3
label 3e2c KFLdn3
lcomment 3e2c Keyfollow Loudness Bank 3
label 3e2d KFWtb3
lcomment 3e2d Keyfollow Wavetable Bank 3
label 3e2e CDPFl3
lcomment 3e2e current digital panel flags Bank 3
label 3e2f CDPFl3+1
label 3e30 Semit3
lcomment 3e30 Semitones Bank 3
label 3e31 Semit3+1
label 3e32 Semit3+2
label 3e33 Semit3+3
label 3e34 Semit3+4
label 3e35 Semit3+5
label 3e36 Semit3+6
label 3e37 Semit3+7

lcomment 3e40 Start of Bank 4 Data Area (3E40-3E57)
used 3e40
label 3e40 Bn2Ds4
*lcomment 3e40 Bender to Destination Bank 4
label 3e41 BndIV4
lcomment 3e41 Bender Interval Bank 4
label 3e42 KFFlt4
lcomment 3e42 Keyfollow Filter Bank 4
label 3e46 SOWfC4
lcomment 3e46 Suboscillator Waveform Control Bank 4
label 3e47 Detu4
lcomment 3e47 Oscillator Detune Bank 4
label 3e4c KFLdn4
lcomment 3e4c Keyfollow Loudness Bank 4
label 3e4d KFWtb4
lcomment 3e4d Keyfollow Wavetable Bank 4
label 3e4e CDPFl4
lcomment 3e4e current digital panel flags Bank 4
label 3e4f CDPFl4+1
label 3e50 Semit4
lcomment 3e50 Semitones Bank 4
label 3e51 Semit4+1
label 3e52 Semit4+2
label 3e53 Semit4+3
label 3e54 Semit4+4
label 3e55 Semit4+5
label 3e56 Semit4+6
label 3e57 Semit4+7

lcomment 3e60 Start of Bank 5 Data Area (3E60-3E77)
used 3e60
label 3e60 Bn2Ds5
*lcomment 3e60 Bender to Destination Bank 5
label 3e61 BndIV5
lcomment 3e61 Bender Interval Bank 5
label 3e62 KFFlt5
lcomment 3e62 Keyfollow Filter Bank 5
label 3e66 SOWfC5
lcomment 3e66 Suboscillator Waveform Control Bank 5
label 3e67 Detu5
lcomment 3e67 Oscillator Detune Bank 5
label 3e6c KFLdn5
lcomment 3e6c Keyfollow Loudness Bank 5
label 3e6d KFWtb5
lcomment 3e6d Keyfollow Wavetable Bank 5
label 3e6e CDPFl5
lcomment 3e6e current digital panel flags Bank 5
label 3e6f CDPFl5+1
label 3e70 Semit5
lcomment 3e70 Semitones Bank 5
label 3e71 Semit5+1
label 3e72 Semit5+2
label 3e73 Semit5+3
label 3e74 Semit5+4
label 3e75 Semit5+5
label 3e76 Semit5+6
label 3e77 Semit5+7

lcomment 3e80 Start of Bank 6 Data Area (3E80-3E97)
used 3e80
label 3e80 Bn2Ds6
*lcomment 3e80 Bender to Destination Bank 6
label 3e81 BndIV6
lcomment 3e81 Bender Interval Bank 6
label 3e82 KFFlt6
lcomment 3e82 Keyfollow Filter Bank 6
label 3e86 SOWfC6
lcomment 3e86 Suboscillator Waveform Control Bank 6
label 3e87 Detu6
lcomment 3e87 Oscillator Detune Bank 6
label 3e8c KFLdn6
lcomment 3e8c Keyfollow Loudness Bank 6
label 3e8d KFWtb6
lcomment 3e8d Keyfollow Wavetable Bank 6
label 3e8e CDPFl6
lcomment 3e8e current digital panel flags Bank 6
label 3e8f CDPFl6+1
label 3e90 Semit6
lcomment 3e90 Semitones Bank 6
label 3e91 Semit6+1
label 3e92 Semit6+2
label 3e93 Semit6+3
label 3e94 Semit6+4
label 3e95 Semit6+5
label 3e96 Semit6+6
label 3e97 Semit6+7

lcomment 3ea0 Start of Bank 7 Data Area (3EA0-3EB7)
used 3ea0
label 3ea0 Bn2Ds7
*lcomment 3ea0 Bender to Destination Bank 7
label 3ea1 BndIV7
lcomment 3ea1 Bender Interval Bank 7
label 3ea2 KFFlt7
lcomment 3ea2 Keyfollow Filter Bank 7
label 3ea6 SOWfC7
lcomment 3ea6 Suboscillator Waveform Control Bank 7
label 3ea7 Detu7
lcomment 3ea7 Oscillator Detune Bank 7
label 3eac KFLdn7
lcomment 3eac Keyfollow Loudness Bank 7
label 3ead KFWtb7
lcomment 3ead Keyfollow Wavetable Bank 7
label 3eae CDPFl7
lcomment 3eae current digital panel flags Bank 7
label 3eaf CDPFl7+1
label 3eb0 Semit7
lcomment 3eb0 Semitones Bank 7
label 3eb1 Semit7+1
label 3eb2 Semit7+2
label 3eb3 Semit7+3
label 3eb4 Semit7+4
label 3eb5 Semit7+5
label 3eb6 Semit7+6
label 3eb7 Semit7+7

*=======================================================================
* Start of Bank 2-7 Area
* the layout is identical to 0110-012F
*=======================================================================

comment 3ec0 
comment 3ec0 The second part of the data areas starts here;
comment 3ec0 the layout is identical to 0110-012F
comment 3ec0 
lcomment 3ec0 Start of Bank 2 Data Area (3EC0-3EDF)
used 3ec0
label 3ec0 Bk2Bse
*lcomment 3ec0 Base Address for Bank 2 Data
* 3ec0 ... LFO Rate
label 3ec1 Bk2Bse+1
* 3ec2 ... Waves OSC
label 3ec2 Bk2Bse+2
* 3ec3 ... VCF Cutoff
label 3ec3 Bk2Bse+3
* 3ec4 ... Env 1 -> VCF
label 3ec4 Bk2Bse+4
* 3ec5 ... Env 1 -> Waves
label 3ec5 Bk2Bse+5
* 3ec6 ... VCF Emphasis
label 3ec6 Bk2Bse+6
* 3ec7 ... Env 2 -> Loudness
label 3ec7 Bk2Bse+7
* 3ec8 ... ADSR 1 Attack
label 3ec8 Bk2Bse+8
* 3ec9 ... ADSR 2 Attack
label 3ec9 Bk2Bse+9
* 3eca ... ADSR 1 Decay
label 3eca Bk2Bse+$0A
* 3ecb ... ADSR 2 Decay
label 3ecb Bk2Bse+$0B
* 3ecc ... ADSR 1 Sustain
label 3ecc Bk2Bse+$0C
* 3ecd ... ADSR 1 Sustain
label 3ecd Bk2Bse+$0D
* 3ece ... ADSR 1 Release
label 3ece Bk2Bse+$0E
* 3ecf ... ADSR 2 Release
label 3ecf Bk2Bse+$0F
* 3ed0 ... LFO Delay
label 3ed0 Bk2Bse+$10
* 3ed1 ... Env 3 Attack
label 3ed1 Bk2Bse+$11
* 3ed2 ... LFO Waveshape
label 3ed2 Bk2Bse+$12
* 3ed3 ... Env 3 Decay
label 3ed3 Bk2Bse+$13
* 3ed5 ... Env 3 Att
label 3ed5 Bk2Bse+$15
* 3ed6 ... Waves SUB
label 3ed6 Bk2Bse+$16
label 3ed7 Bk2Bse+$17
label 3ed8 Bk2Bse+$18
* TRANSIENT SOUND if it holds 0x03 (?)
label 3ed9 Bk2Bse+$19
* DOUBLE BANK SOUND if it holds 0x02 (?)
label 3eda Bk2Bse+$1a
* used in  $993D

lcomment 3ee0 Start of Bank 3 Data Area (3EE0-3EFF)
used 3ee0
label 3ee0 Bk3Bse
*lcomment 3ee0 Base Address for Bank 3 Data
* 3ee0 ... LFO Rate
label 3ee1 Bk3Bse+1
* 3ee2 ... Waves OSC
label 3ee2 Bk3Bse+2
* 3ee3 ... VCF Cutoff
label 3ee3 Bk3Bse+3
* 3ee4 ... Env 1 -> VCF
label 3ee4 Bk3Bse+4
* 3ee5 ... Env 1 -> Waves
label 3ee5 Bk3Bse+5
* 3ee6 ... VCF Emphasis
label 3ee6 Bk3Bse+6
* 3ee7 ... Env 2 -> Loudness
label 3ee7 Bk3Bse+7
* 3ee8 ... ADSR 1 Attack
label 3ee8 Bk3Bse+8
* 3ee9 ... ADSR 2 Attack
label 3ee9 Bk3Bse+9
* 3eea ... ADSR 1 Decay
label 3eea Bk3Bse+$0A
* 3eeb ... ADSR 2 Decay
label 3eeb Bk3Bse+$0B
* 3eec ... ADSR 1 Sustain
label 3eec Bk3Bse+$0C
* 3eed ... ADSR 1 Sustain
label 3eed Bk3Bse+$0D
* 3eee ... ADSR 1 Release
label 3eee Bk3Bse+$0E
* 3eef ... ADSR 2 Release
label 3eef Bk3Bse+$0F
* 3ef0 ... LFO Delay
label 3ef0 Bk3Bse+$10
* 3ef1 ... Env 3 Attack
label 3ef1 Bk3Bse+$11
* 3ef2 ... LFO Waveshape
label 3ef2 Bk3Bse+$12
* 3ef3 ... Env 3 Decay
label 3ef3 Bk3Bse+$13
* 3ef5 ... Env 3 Att
label 3ef5 Bk3Bse+$15
* 3ef6 ... Waves SUB
label 3ef6 Bk3Bse+$16
label 3ef7 Bk3Bse+$17
label 3ef8 Bk3Bse+$18
* TRANSIENT SOUND if it holds 0x03 (?)
label 3ef9 Bk3Bse+$19
* DOUBLE BANK SOUND if it holds 0x02 (?)
label 3efa Bk3Bse+$1a
* used in  $993D

lcomment 3f00 Start of Bank 4 Data Area (3F00-3F1F)
used 3f00
label 3f00 Bk4Bse
*lcomment 3f00 Base Address for Bank 4 Data
* 3f00 ... LFO Rate
label 3f01 Bk4Bse+1
* 3f02 ... Waves OSC
label 3f02 Bk4Bse+2
* 3f03 ... VCF Cutoff
label 3f03 Bk4Bse+3
* 3f04 ... Env 1 -> VCF
label 3f04 Bk4Bse+4
* 3f05 ... Env 1 -> Waves
label 3f05 Bk4Bse+5
* 3f06 ... VCF Emphasis
label 3f06 Bk4Bse+6
* 3f07 ... Env 2 -> Loudness
label 3f07 Bk4Bse+7
* 3f08 ... ADSR 1 Attack
label 3f08 Bk4Bse+8
* 3f09 ... ADSR 2 Attack
label 3f09 Bk4Bse+9
* 3f0a ... ADSR 1 Decay
label 3f0a Bk4Bse+$0A
* 3f0b ... ADSR 2 Decay
label 3f0b Bk4Bse+$0B
* 3f0c ... ADSR 1 Sustain
label 3f0c Bk4Bse+$0C
* 3f0d ... ADSR 1 Sustain
label 3f0d Bk4Bse+$0D
* 3f0e ... ADSR 1 Release
label 3f0e Bk4Bse+$0E
* 3f0f ... ADSR 2 Release
label 3f0f Bk4Bse+$0F
* 3f10 ... LFO Delay
label 3f10 Bk4Bse+$10
* 3f11 ... Env 3 Attack
label 3f11 Bk4Bse+$11
* 3f12 ... LFO Waveshape
label 3f12 Bk4Bse+$12
* 3f13 ... Env 3 Decay
label 3f13 Bk4Bse+$13
* 3f15 ... Env 3 Att
label 3f15 Bk4Bse+$15
* 3f16 ... Waves SUB
label 3f16 Bk4Bse+$16
label 3f17 Bk4Bse+$17
label 3f18 Bk4Bse+$18
* TRANSIENT SOUND if it holds 0x03 (?)
label 3f19 Bk4Bse+$19
* DOUBLE BANK SOUND if it holds 0x02 (?)
label 3f1a Bk4Bse+$1a
* used in  $993D

lcomment 3f20 Start of Bank 5 Data Area (3F20-3F3F)
used 3f20
label 3f20 Bk5Bse
*lcomment 3f20 Base Address for Bank 5 Data
* 3f20 ... LFO Rate
label 3f21 Bk5Bse+1
* 3f22 ... Waves OSC
label 3f22 Bk5Bse+2
* 3f23 ... VCF Cutoff
label 3f23 Bk5Bse+3
* 3f24 ... Env 1 -> VCF
label 3f24 Bk5Bse+4
* 3f25 ... Env 1 -> Waves
label 3f25 Bk5Bse+5
* 3f26 ... VCF Emphasis
label 3f26 Bk5Bse+6
* 3f27 ... Env 2 -> Loudness
label 3f27 Bk5Bse+7
* 3f28 ... ADSR 1 Attack
label 3f28 Bk5Bse+8
* 3f29 ... ADSR 2 Attack
label 3f29 Bk5Bse+9
* 3f2a ... ADSR 1 Decay
label 3f2a Bk5Bse+$0A
* 3f2b ... ADSR 2 Decay
label 3f2b Bk5Bse+$0B
* 3f2c ... ADSR 1 Sustain
label 3f2c Bk5Bse+$0C
* 3f2d ... ADSR 1 Sustain
label 3f2d Bk5Bse+$0D
* 3f2e ... ADSR 1 Release
label 3f2e Bk5Bse+$0E
* 3f2f ... ADSR 2 Release
label 3f2f Bk5Bse+$0F
* 3f30 ... LFO Delay
label 3f30 Bk5Bse+$10
* 3f31 ... Env 3 Attack
label 3f31 Bk5Bse+$11
* 3f32 ... LFO Waveshape
label 3f32 Bk5Bse+$12
* 3f33 ... Env 3 Decay
label 3f33 Bk5Bse+$13
* 3f35 ... Env 3 Att
label 3f35 Bk5Bse+$15
* 3f36 ... Waves SUB
label 3f36 Bk5Bse+$16
label 3f37 Bk5Bse+$17
label 3f38 Bk5Bse+$18
* TRANSIENT SOUND if it holds 0x03 (?)
label 3f39 Bk5Bse+$19
* DOUBLE BANK SOUND if it holds 0x02 (?)
label 3f3a Bk5Bse+$1a
* used in  $993D

lcomment 3f40 Start of Bank 6 Data Area (3F40-3F5F)
used 3f40
label 3f40 Bk6Bse
*lcomment 3f40 Base Address for Bank 6 Data
* 3f40 ... LFO Rate
label 3f41 Bk6Bse+1
* 3f42 ... Waves OSC
label 3f42 Bk6Bse+2
* 3f43 ... VCF Cutoff
label 3f43 Bk6Bse+3
* 3f44 ... Env 1 -> VCF
label 3f44 Bk6Bse+4
* 3f45 ... Env 1 -> Waves
label 3f45 Bk6Bse+5
* 3f46 ... VCF Emphasis
label 3f46 Bk6Bse+6
* 3f47 ... Env 2 -> Loudness
label 3f47 Bk6Bse+7
* 3f48 ... ADSR 1 Attack
label 3f48 Bk6Bse+8
* 3f49 ... ADSR 2 Attack
label 3f49 Bk6Bse+9
* 3f4a ... ADSR 1 Decay
label 3f4a Bk6Bse+$0A
* 3f4b ... ADSR 2 Decay
label 3f4b Bk6Bse+$0B
* 3f4c ... ADSR 1 Sustain
label 3f4c Bk6Bse+$0C
* 3f4d ... ADSR 1 Sustain
label 3f4d Bk6Bse+$0D
* 3f4e ... ADSR 1 Release
label 3f4e Bk6Bse+$0E
* 3f4f ... ADSR 2 Release
label 3f4f Bk6Bse+$0F
* 3f50 ... LFO Delay
label 3f50 Bk6Bse+$10
* 3f51 ... Env 3 Attack
label 3f51 Bk6Bse+$11
* 3f52 ... LFO Waveshape
label 3f52 Bk6Bse+$12
* 3f53 ... Env 3 Decay
label 3f53 Bk6Bse+$13
* 3f55 ... Env 3 Att
label 3f55 Bk6Bse+$15
* 3f56 ... Waves SUB
label 3f56 Bk6Bse+$16
label 3f57 Bk6Bse+$17
label 3f58 Bk6Bse+$18
* TRANSIENT SOUND if it holds 0x03 (?)
label 3f59 Bk6Bse+$19
* DOUBLE BANK SOUND if it holds 0x02 (?)
label 3f5a Bk6Bse+$1a
* used in  $993D

lcomment 3f60 Start of Bank 7 Data Area (3F60-3F7F)
used 3f60
label 3f60 Bk7Bse
*lcomment 3f60 Base Address for Bank 7 Data
* 3f60 ... LFO Rate
label 3f61 Bk7Bse+1
* 3f62 ... Waves OSC
label 3f62 Bk7Bse+2
* 3f63 ... VCF Cutoff
label 3f63 Bk7Bse+3
* 3f64 ... Env 1 -> VCF
label 3f64 Bk7Bse+4
* 3f65 ... Env 1 -> Waves
label 3f65 Bk7Bse+5
* 3f66 ... VCF Emphasis
label 3f66 Bk7Bse+6
* 3f67 ... Env 2 -> Loudness
label 3f67 Bk7Bse+7
* 3f68 ... ADSR 1 Attack
label 3f68 Bk7Bse+8
* 3f69 ... ADSR 2 Attack
label 3f69 Bk7Bse+9
* 3f6a ... ADSR 1 Decay
label 3f6a Bk7Bse+$0A
* 3f6b ... ADSR 2 Decay
label 3f6b Bk7Bse+$0B
* 3f6c ... ADSR 1 Sustain
label 3f6c Bk7Bse+$0C
* 3f6d ... ADSR 1 Sustain
label 3f6d Bk7Bse+$0D
* 3f6e ... ADSR 1 Release
label 3f6e Bk7Bse+$0E
* 3f6f ... ADSR 2 Release
label 3f6f Bk7Bse+$0F
* 3f70 ... LFO Delay
label 3f70 Bk7Bse+$10
* 3f71 ... Env 3 Attack
label 3f71 Bk7Bse+$11
* 3f72 ... LFO Waveshape
label 3f72 Bk7Bse+$12
* 3f73 ... Env 3 Decay
label 3f73 Bk7Bse+$13
* 3f75 ... Env 3 Att
label 3f75 Bk7Bse+$15
* 3f76 ... Waves SUB
label 3f76 Bk7Bse+$16
label 3f77 Bk7Bse+$17
label 3f78 Bk7Bse+$18
* TRANSIENT SOUND if it holds 0x03 (?)
label 3f79 Bk7Bse+$19
* DOUBLE BANK SOUND if it holds 0x02 (?)
label 3f7a Bk8Bse+$1a
* used in  $993D

* globally known code labels 

label 4000 WtbBsD                       * Wavetable base data
lcomment 4000 Wavetable base data

label 4300 WavBsD                       * Start of Waves
lcomment 4300 Start of Waves

label 8200 JMSTAT                       * jump table for MIDI Status ($80->0,$90->1,...)
label 8210 RMSTAT                       * reset current MIDI status byte
label 8218 PEMSYX                       * process end of incoming MIDI SysEx msg
label 8223 PSMSYX                       * process start of incoming MIDI SysEx msg
label 822e PDMSYX                       * process data of incoming MIDI SysEx msg
label 8455 LABLNK                       * blink LED A
label 8f80 LagTb2                       * LAG Table
label 8f84 JNOASKM                      * jump table
label 8f98 JNOBSKM                      * jump table

label 9000 ECBRDat                      * receive data on PPG Comm.Bus
label 9003 ECBSDat                      * send data on PPG Comm.Bus
label 9006 ECBSCRq                      * send command request on PPG Comm.Bus
label 9009 ECBRCmd                      * receive a command from PPG Comm.Bus
label 900c EGCBKBS                      * get base address of current bank into X

label 9800 EClcBdV                      * calculate bender value

label 9b00 EPrcUpd                      * yet unknown entry point
lcomment 9b00 process Update DRS Event
label 9b03 ERcVOn
lcomment 9b03 record Voice On DRS Event
label 9b06 ERcVOff
lcomment 9b06 record Voice Off DRS Event
label 9b09 EPrcEvt                      * process one DRS Event
lcomment 9b09 process one DRS Event (playback)
label 9b0c EGEvOff                      * Get Event Offset
lcomment 9b0c Get Event Offset from previous event

label a00f RcVOff                       * Record Voice Off DRS Event
label a080 CBRR35                       * process received program data
label a10b CBRS35                       * prepare program data to be sent

label a14d GBkBsY                       * get bank base address into Y
label a15c SB12PR                       * process sample for 12bit PROZ
label a17a SB8PR                        * process sample for 8bit PROZ

label a200 EPRcMd1                      * yet unknown label

label a500 EClcEGs

label a503 BnkBsAd
lcomment a503 Bank Base Addresses

label a73a LagTbl
lcomment a73a Lag Table

label aa00 EApNxNt                      * jump table here
label aa03 EPArpMd
label aa06 EResArp

label ae00 CassOp                       * perform cassette operations

label aff8 MCHKSM                       * checksum area for the EPROMs

* ===========================================================================
* I/O area
* ===========================================================================

* TAS Board
comment b000 B000 is TAS Board Base Address
label b000 PIATADA
lcomment b000 PIA TAS Board
* bit 7 is always forced to low on Wave TAS board
* bit 6 is forced to low on new-style TAS board, left high on old
label b001 PIATACO
label b002 PIATBDA
label b003 PIATBCO
*label b004 TASBASE+4
*label b005 TASBASE+5
*label b006 TASBASE+6
*label b007 TASBASE+7
label b006 LCDCMD                       * HD44780 LCD Controller Command Register
lcomment b006 HD44780 LCD Controller
label b007 LCDDATA                      * HD44780 LCD Controller Data    Register

comment b018 B018 is the MIDI ACIA base address
label B018 ACIACS                       * MIDI ACIA Control/Status register
lcomment b018 MIDI ACIA
label b019 ACIADA                       * MIDI ACIA data register

comment b020 B020 is PROZ Board Base Address
label b020 PRZPHA
lcomment b020 Freq. Phase Accum. Increment Bit 8-15
lcomment b020 \                             Bit 0-7 in PRZPHA+1
label b021 PRZPHA+1
lcomment b021 Freq. Phase Accum. Increment (Bit 0-7)
* PRZOPA ... Operand Address according to Magnus' email
*   Bit 0-2 ... voice#
*         3 ... 0=osc, 1=subosc
*         4 ... "high bank load address" flag (1=load address 0x1xxxx)
*       5-7 ... bank #
label b022 PRZOPA
lcomment b022 Operand Address
lcomment b022 Bit 0-2 ... voice#
lcomment b022 Bit 3 ..... 0=osc, 1=subosc
lcomment b022 Bit 4 ..... "high bank load address" flag
lcomment b022 \            (1=load address 0x1xxxx)
lcomment b022 Bit 5-7 ... bank#
label b023 PRZGEN
lcomment b023 Generator Enable
label b024 PRZWOF
lcomment b024 Waveform Offset
* bit 7 controls Transient Sound (0) or Wavetable (1)
label b025 PRZWLIM
lcomment b025 Waveform Limit
label b026 PRZWIOM
label b027 PRZWIOM+1
lcomment b026 Write Into Operand Memory
*label b028 PROZBASE+8                   * Comm.Bus PIA
*label b029 PROZBASE+9
*label b02a PROZBASE+10
*label b02b PROZBASE+11
label b028 PIACADA                      * PIA Comm. Bus
lcomment b028 PIA PPG Comm. Bus
label b029 PIACACO
label b02a PIACBDA
label b02b PIACBCO
label b02c PROZBASE+12
label b02d PROZBASE+13
label b02e PROZBASE+14
label b02f PROZBASE+15

* OF4BASE ... The voice cards.
* The OF4 interface is a bit awkward to use...
* $B034 is AF18 on Voice Card 1, $B03C is AF18 on Voice Card 2.
*   For both, the lowest 4 bits control
*   which voice(s) reads the current ADC settings:
*     Bit 0 ... Voice 1
*     Bit 1 ... Voice 2
*     Bit 2 ... Voice 3
*     Bit 3 ... Voice 4
* $B040 controls voices 1/2 on voice card 1,
* $B044 controls voices 3/4 on voice card 1,
* $B048 controls voices 1/2 on voice card 2,
* $B04C controls voices 3/4 on voice card 2.
*   For each of them, the lowest 4 bits control the lower of the 2 voices,
*   the upper 4 bits control the upper of the 2 voices,
*   provided that the corresponding bit in AF18 for the voice card is set.

comment b030 B030 is OF4 Base Address
label b030 OF4BASE                     * OF4 base address
label b031 OF4BASE+1
label b032 OF4BASE+2
label b033 OF4BASE+3
label b034 OF4118
lcomment b034 OF4 1 A18 "Multiplex-Switch-Controller Latch Enable"
label b035 OF4BASE+5
label b036 OF4BASE+6
label b037 OF4BASE+7
label b038 OF4BASE+8
label b039 OF4BASE+9
label b03a OF4BASE+10
label b03b OF4BASE+11
label b03c OF4218
lcomment b03c OF4 2 A18 "Multiplex-Switch-Controller Latch Enable"
label b03d OF4BASE+13
label b03e OF4BASE+14
label b03f OF4BASE+15
label b040 OF4119
lcomment b040 OF4 1 A19 "CV-LAG-Controller Latch Enable"
label b041 OF4BASE+17
label b042 OF4BASE+18
label b043 OF4BASE+19
label b044 OF4120
used b044
lcomment b044 OF4 1 A20 "CV-LAG-Controller Latch Enable"
label b045 OF4BASE+21
label b046 OF4BASE+22
label b047 OF4BASE+23
label b048 OF4219
used b048
lcomment b048 OF4 2 A19 "CV-LAG-Controller Latch Enable"
label b049 OF4BASE+25
label b04a OF4BASE+26
label b04b OF4BASE+27
label b04c OF4220
used b04c
lcomment b04c OF4 2 A20 "CV-LAG-Controller 2 Latch Enable"
label b04d OF4BASE+29
label b04e OF4BASE+30
label b04f OF4BASE+31

* 3 programmable timers
* 1 ... Clock In - 64 Clock Ticks per Beat
* 2 ... Used to read the pressure sensor (?)
* 3 ... Clock Generation for Sync - 192 Clock Ticks per Beat
comment b050 B050 is 6840 Timer Base Address
label b050 MC6840                       * 6840 base address
label b051 MC6840+1
label b052 MC6840+2
label b053 MC6840+3
label b054 MC6840+4
label b055 MC6840+5
label b056 MC6840+6
label b057 MC6840+7

* Keyboard PIA:
* Port A : Output; always 1 bit set to scan a range of 8 keys
* Port B : Input; contains a set of 8 continuous keys
* CA1 : toggled by sequencer clock after 64 Seq. Clock Ticks
comment b060 B060 is Keyboard PIA Base Address
label b060 PIAKADA                      * PIA Keyboard
label b061 PIAKACO
label b062 PIAKBDA
label b063 PIAKBCO
used b063

comment b064 B064..B06F are the ADC/DACs
label b064 ADCSC                        * ADC "Start Conversion"
lcomment b064 ADC "Start Conversion" trigger
label b068 ADCDATA                      * ADC Data
lcomment b068 ADC Output data
label b06a DACVCA                       * DAC VCA
label b06b DACVCA+1
lcomment b06a VCA DAC
label b06c DACVCF                       * DAC VCF
label b06d DACVCF+1
lcomment b06c VCF Cutoff DAC
label b06e DACRES                       * DAC RES
label b06f DACRES+1
lcomment b06e VCF Resonance DAC

* 6522 VIA on I/O board
* Port A controls various things:
*   Bits 0-4 control the analog panel knob selection
*   Bit 0 ... S4 IC 74/75/76 - A Bit (?)
*   Bit 1 ... S4 IC 74/75/76 - B Bit (?)
*   Bit 2 ... S4 IC 74/75/76 - C Bit (?)
*   Bit 3 ... S4 IC 74 Enable, IC75 Enable together with  Bit 4
*   Bit 4 ... S4 IC 75 Enable together with Bit 3, IC 76 Enable
*   Bit 5 ... S4 LED "A"
*   Bit 6 ... S4 LED "B"
*   Bit 7 ... S4 LED "Second Panel"
* Port B controls various things:
*   Bit 0 ... "Metronome Push under" (I/O connector A description)
*   Bit 1 ... ? Input ?
*   Bit 2 ... Trigger In
*   Bit 3 ... Sustain Switch 
*   Bit 4 ... Cassette Receive Enable
*   Bit 5 ... Trigger Out
*   Bit 6 ... ? output ?
*   Bit 7 ... Foot Switch - Program
* CA2 controls/detects sequencer RUN/STOP (Reset Sequencer)
* CB1 sends data to cassette port
* CB2 receives data from cassette port
* Timer 1
* Timer 2 is used for Cassette I/O

comment b070 B079 is the 6522 VIA Base Address
label b070 VIAORB                       * VIA ORB
label b071 VIAORA                       * VIA ORA
label b072 VIADDB                       * VIA DDRB
label b073 VIADDA                       * VIA DDRA
label b074 VIA1CL                       * VIA T1L-L, T1C-L
label b075 VIA1CH                       * VIA T1C-H
label b076 VIA1LL                       * VIA T1L-L
label b077 VIA1LH                       * VIA T1L-H
label b078 VIA2CL                       * VIA T2L-L, T2C-L
label b079 VIA2CH                       * VIA T2C-H
label b07a VIASR                        * VIA SR
label b07b VIAACR                       * VIA ACR
label b07c VIAPCR                       * VIA PCR
label b07d VIAIFR                       * VIA IFR
label b07e VIAIER                       * VIA IER
label b07f VIABASE+15                   * VIA ORA (?)

* the following communication modes are defined:
* Reading:
*   0: Get WaveSim ID
*      WSIMDA = $4853
* Writing:
*   0: Set Knob Position
*      WSIMDA   = WaveSim Analog Position
*      WSIMDA+1 = WaveSim Analog Position Knob Number
*      always set Knob number first!
*   1: initialize memory
*      automatically resets to mode 0

* PPG Development System
label bf96 DSIRQL

* code area again...

label c000 EStart                       * entry point for startup
label c003 EIniMAr                      * initializes some memory areas
label c006 EMLoop                       * entry point for main loop
used c006

label c2a0 CGrBit
lcomment c2a0 compressed program group bits / multiplicators

label c33c CGlBit
lcomment c33c compressed global program bits / multiplicators

label c519 ZIRQ                         * IRQ address

label c7ab SMidCB
label c7b4 SMidiB                       * send a MIDI Byte to ACIA
label c7c6 GMidiB                       * gets next MIDI byte from MIDI data area
label c7d7 GLMidB                       * go to LAST stored MIDI byte in MIDI data area
label c7e4 GMIDAB                       * get 2 MIDI data bytes in A and B; carry set if less there

label c600 ECDacCL                      * calculate new Loudness DAC value (?)
label c603 ECDacPL
label c606 ECDacCF
label c609 ECDacPF

label c800 EPgChAp                      * Program Change Afterprocessing
label c803 ESMidCB                      * send MIDI Byte if Channel <> 0
label c806 ESMiSta                      * send MIDI Status byte, correct channel
label c809 EPMIDIN                      * process MIDI In
label c80c ELABLNK                      * blink LED A

label cc3b PMDINX                       * terminate processing of buffered MIDI IN bytes
label cc51 PMIDIN                       * process buffered MIDI IN bytes
label cc72 PNMIDB                       * process next MIDI byte

label cd00 ETnNtOn
lcomment cd00 Turn a note on
label cd03 ETOnVGA
lcomment cd03 turn on a voice using Group A
label cd06 ETOnVGB
lcomment cd06 turn on a voice using Group B

label cd98 TnNtO5                       * used in 8 EPROM
label cd9e TnNtO6
label cda2 TnNtO7
label cda8 TnNtO8
label cdb9 TnNtOA
label cdca TnNtOC
label cdf9 TnNtOF
label ce2c TnNtOJ
label ce3b TnNtOK
label ce43 TnNtOL
label ce58 TnNtOO
label ce60 TnNtOP
label ce6f TnNtOR
label ce7a TnNtOS

label d700 ESCURDP                      * set current display panel
label d703 EPrcTKy                      * process eventually pressed TAS Key
label d706 EFldRgt                      * yet unknown function
label d709 EPrProg                      * activate PROGRAM display

label d200 ESetVcs
label d203 EClkKFL

label d680 WOENCH
label d979 UpdDPn
label dc00 EGTasKy                      * get key from TAS keyboard
label de00 TBMDVal

label de61 DPatTun                      * used in 801F
label deb2 DPatAna                      * used in 8014
label df03 DPatDig                      * used in 801A
label df54 DPatPrg                      * used in 8029
label dfa5 DPatSeq                      * used in 8024

* jump table
label e100 EPR1T1I
label e103 EPrcDRc
label e106 EZE5AD
label e109 EDRMCpy
label e10c EResSRC
label e10f ENRcM12
label e112 EPT1Int

label e800 POLKBD                       * poll the keyboard & set TRIG OUT

label EA00 EPGCHG
lcomment ea00 process program changes
label EA03 ECBRS35                      * yet unknown entry point
lcomment ea03 outgoing [3 05] processing
label EA06 ECBRR35                      * called when program data 3 05 came from Waveterm
lcomment ea06 incoming [3 05] processing
label EA09 ECBRR19                      * called when program data 1 09 came from Waveterm
lcomment ea09 incoming [1 09] processing
label EA0C ELPgmAB                      * load program's A/B values
lcomment ea0c load program's A/B values
word ea0f-ea12
label ea0f ESb12P                       * 12-bit PROZ handling
lcomment ea0f 12-bit PROZ handling
label ea11 ESb8Pr                       * 8-bit PROZ handling
lcomment ea11 8-bit PROZ handling

label eb6b LdWTb0                       * unconditional Wavetable loading
label ec4c LdWTb9                       * Reset Comm.Bus after Wavetable download
label edb5 SUWtL0                       * Set up Comm.Bus for Wavetable receipt

label eed1 STCPG0
lcomment eed1 store compressed program to given address

label eff8 AdrZIRQ                      * Address of IRQ handler routine
label effa CmpMask                      * Component Mask (Component ID << 4)
label effb AttnBit                      * Attention Bit to pull low when
                                        * something needs to be sent to Waveterm
label effc OpVers                       * Operating System Version
label effd DevCap                       * Device capabilities:
                                        * Bit 0 ... ?
                                        * Bit 1 ... ?
                                        * Bit 2 ... 12-bit PROZ board (?)
                                        * Bit 3 ... ?
                                        * Bit 4 ... ?
                                        * Bit 5 ... Wave 2.3
                                        * Bit 6 ... 0
                                        * Bit 7 ... 0
                                        * Wave 2.2 ... $00
                                        * Wave 2.3 ... $45
                                        * EVU ........ $05
label effe AStart                       * Address of start code

label f000 SaxSnd
lcomment f000 Saxophone Natural Sound (8bit)

* these are Eurocom monitor-compatible entry points!
label f01e OUT4HX
label f024 PDATA
label f02d HKS