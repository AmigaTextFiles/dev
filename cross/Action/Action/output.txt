ACTION! Ver 0.04 cross compiler for the 6502
Copyright (c) 2010 by Jim Patchell
This program is free for any use
Get Input From Consol
module
proc aproc(card a,b)
card c
if a < b then c = 1
elseif a = b then c = 2
else c = 3
fi
return
         NUMB DOWN NEXT
;          22   21   -1 +-PROC aproc
;          21   -1   19   +-PROCLOCALS c
;          19    7   20   +-IFSTMT
;           7    3   14   | +-IF
;           3    1    6   | | +-LT
;           1   -1    2   | | | +-IDENT a
;           2   -1   -1   | | | +-IDENT b
;           6    4   -1   | | +-EQUALS
;           4   -1    5   | |   +-IDENT c
;           5   -1   -1   | |   +-CONSTANT 1
;          14   10   18   | +-ELSEIF
;          10    8   13   | | +-EQ
;           8   -1    9   | | | +-IDENT a
;           9   -1   -1   | | | +-IDENT b
;          13   11   -1   | | +-EQUALS
;          11   -1   12   | |   +-IDENT c
;          12   -1   -1   | |   +-CONSTANT 2
;          18   17   -1   | +-ELSE
;          17   15   -1   |   +-EQUALS
;          15   -1   16   |     +-IDENT c
;          16   -1   -1   |     +-CONSTANT 3
;          20   -1   -1   +-RETURN
^Z
Processing Nodes 22:PROC
        .SECTION        "temps",$80
__TEMP_var0:    .DS     16
        .SECTION        "args",$a0
__ARGS: .DS     16
        .SECTION        "code",$2000
aproc_ARG__a:   .DS 2
aproc_ARG__b:   .DS 2
aproc:
        STA     aproc_ARG__a
        STX     aproc_ARG__a+1
        STY     aproc_ARG__a+2
        LDA     $A0+3
        STA     aproc_ARG__a+3
        JMP     aproc_Lab0
aproc_c:        .DS 2
aproc_Lab0:
                ;If Statement
        LDA     aproc_ARG__a+0
        CMP     aproc_ARG__b+0
        LDA     aproc_ARG__a+1
        SBC     aproc_ARG__b+1
        BCC     aproc_true__Lab3
        JMP     aproc_false__Lab2
aproc_true__Lab3:
        LDA     #1
        STA     aproc_c+0
        LDA     #0
        STA     aproc_c+1
        JMP     aproc_exit__Lab1
aproc_false__Lab2:
                ;If Statement
        LDA     aproc_ARG__a+0
        EOR     aproc_ARG__b+0
        BNE     aproc_false__Lab4
        ORA     aproc_ARG__a+1
        EOR     aproc_ARG__b+1
        BEQ     aproc_true__Lab5
        JMP     aproc_false__Lab4
aproc_true__Lab5:
        LDA     #2
        STA     aproc_c+0
        LDA     #0
        STA     aproc_c+1
        JMP     aproc_exit__Lab1
aproc_false__Lab4:
        LDA     #3
        STA     aproc_c+0
        LDA     #0
        STA     aproc_c+1
aproc_exit__Lab1:
        RTS
Attributes in type field are:   upel
    unsigned (. for signed)-----+|||
    private  (. for public)------+||
    extern   (. for common)-------+|
    long     (. for short )--------+

name               rname              lev   next   type
a              0 int FIX (NO OCLS) u...
aproc          0 void FIX (NO OCLS) ....()
Arguments of aproc
a              0 int FIX (NO OCLS) u...
b              0 int FIX (NO OCLS) u...
End of Arguments of aproc
b              0 int FIX (NO OCLS) u...
c              0 int FIX (NO OCLS) u...

Structure table:


D:\Projects\Action>