;**************************************************************************** 
;
; $Source: MASTER:AmiExec/Publish/Install,v $
; $Revision: 3.2 $
; $Date: 1997/02/16 07:56:44 $
;
; Installer script to install AmiExec.
;
;****************************************************************************

(set @default-dest "")

(set amidir
	(askdir
		(prompt "Where should AmiExec be installed?")
		(help @askfile-help)
		(default "RAM:AmiExec")
      (newpath)
	)
)

(if (not (exists amidir))
   (makedir amidir 
      (prompt ("Okay to make directory %s." amidir))
      (help @makedir-help)
      (confirm) 
      (infos)
   )
)

(makeassign "KAOS" amidir)


; Install publication overhead.

(copyfiles 
   (source "")
   (dest "KAOS:")
   (choices "Legal" "Contents" "Readme")
   (infos)
   (optional "force")
)


; Install admin.

(copyfiles 
   (source "Admin")
   (dest "KAOS:Admin")
   (all)
   (infos)
   (optional "force")
)


; Install documentation.

(copyfiles 
   (source "Docs")
   (dest "KAOS:Docs")
   (all)
   (infos)
   (optional "force")
)


; Install tools.

(copyfiles 
   (source "Tools")
   (dest "KAOS:Tools")
   (choices "Locate" "MemTag")
   (infos)
   (optional "force")
)

(copyfiles 
   (source "Rexx")
   (dest "KAOS:Rexx")
   (all)
   (infos)
   (optional "force")
)


; Install libraries, devices and resources.

(copyfiles 
   (source "libs")
   (dest "KAOS:libs")
   (choices "exec.library" "exec.020.library" "debug.library")
   (infos)
   (optional "force")
)


; Install includes.

(copyfiles 
   (source "include")
   (dest "KAOS:include")
   (all)
   (optional "askuser" "force")
)


; Install linker libraries.

(copyfiles 
   (source "lib")
   (dest "KAOS:lib")
   (all)
   (infos)
   (optional "force")
)


; Install "system" libraries and tools.

(copylib 
   (prompt "Install garbagecollector.library?")
   (help @copylib-help)
   (source "libs/garbagecollector.library")
   (dest "LIBS:")
   (confirm)
)

(copylib 
   (prompt "Where should GarbagePrefs go.  This is applicable to any Oberon program.")
   (help @copylib-help)
   (source "Tools/GarbagePrefs")
   (dest "SYS:Prefs")
   (infos)
   (confirm)
)

(copylib 
   (prompt "Where should GCStat go.  This is applicable to any Oberon program.")
   (help @copylib-help)
   (source "Tools/GCStat")
   (dest "SYS:System")
   (infos)
   (confirm)
)

(makeassign "KAOS")
