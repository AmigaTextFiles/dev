; WLALINK ($VER: wlalink 5.20 (23.6.2023)) listing file
; 2023-06-23 17:42:26

;Line Base Bank Slot PC   Offset Hex
                                                                 
                                                                         .memorymap
                                                                           slotsize $8000
                                                                           defaultslot 1
                                                                           slot 0 $0000
                                                                           slot 1 $8000
                                                                         .endme
                                                                 
                                                                         .lorom
                                                                 
                                                                         .rombanksize $8000
                                                                         .rombanks 3
                                                                 
                                                                         .bank 0 slot 0
                                                                         .org 0
                                                                 
                                                                         ; @BT result.rom
                                                                 
                                                                         .section "Section1" force
   20 0000 0000 0000 0000 0000   30 31 3E                                .DB "01>"                       ; @BT TEST-01 01 START
   21 0000 0000 0000 0003 0003   29 20                                   AND #<$1020                     ; @BT 29 20
   22 0000 0000 0000 0005 0005   35 20                                   AND <$1020,X                    ; @BT 35 20
   23 0000 0000 0000 0007 0007   29 10                                   AND #>$1020                     ; @BT 29 10
   24 0000 0000 0000 0009 0009   35 10                                   AND >$1020,X                    ; @BT 35 10
   25 0000 0000 0000 000B 000B   29 20                                   AND #($1020 & $FF)              ; @BT 29 20
   26 0000 0000 0000 000D 000D   35 20                                   AND ($1020 & $FF),X             ; @BT 35 20
   27 0000 0000 0000 000F 000F   29 20                                   AND #($1020 # $100)             ; @BT 29 20
   28 0000 0000 0000 0011 0011   35 20                                   AND ($1020 # $100),X            ; @BT 35 20
   29 0000 0000 0000 0013 0013   3C 30 31                                .DB "<01"                       ; @BT END
                                                                         .ends
                                                                 
                                                                         .org $100
                                                                 
                                                                         .section "Section2" force
   35 0000 0000 0000 0100 0100   30 32 3E                                .DB "02>"                       ; @BT TEST-02 02 START
   36 0000 0000 0000 0103 0103   29 21                                   AND #<($1020 + 1)               ; @BT 29 21
   37 0000 0000 0000 0105 0105   35 21                                   AND <($1020 + 1),X              ; @BT 35 21
   38 0000 0000 0000 0107 0107   29 10                                   AND #>($1020 + 1)               ; @BT 29 10
   39 0000 0000 0000 0109 0109   35 10                                   AND >($1020 + 1),X              ; @BT 35 10
   40 0000 0000 0000 010B 010B   29 21                                   AND #(($1020 + 1) & $FF)        ; @BT 29 21
   41 0000 0000 0000 010D 010D   35 21                                   AND (($1020 + 1) & $FF),X       ; @BT 35 21
   42 0000 0000 0000 010F 010F   29 21                                   AND #(($1020 + 1) # $100)       ; @BT 29 21
   43 0000 0000 0000 0111 0111   35 21                                   AND (($1020 + 1) # $100),X      ; @BT 35 21
   44 0000 0000 0000 0113 0113   3C 30 32                                .DB "<02"                       ; @BT END
                                                                         .ends
                                                                         
                                                                         .org $200
                                                                         
                                                                         .section "Section3" force
   50 0000 0000 0000 0200 0200   30 33 3E                                .DB "03>"                       ; @BT TEST-03 03 START
   51 0000 0000 0000 0203 0203   29 05                                   AND #<label_205                 ; @BT 29 05
                                                                 label_205:
   53 0000 0000 0000 0205 0205   35 05                                   AND <label_205,X                ; @BT 35 05
   54 0000 0000 0000 0207 0207   29 02                                   AND #>label_205                 ; @BT 29 02
   55 0000 0000 0000 0209 0209   35 02                                   AND >label_205,X                ; @BT 35 02
   56 0000 0000 0000 020B 020B   29 05                                   AND #(label_205 & $FF)          ; @BT 29 05
   57 0000 0000 0000 020D 020D   35 05                                   AND (label_205 & $FF),X         ; @BT 35 05
   58 0000 0000 0000 020F 020F   29 05                                   AND #(label_205 # $100)         ; @BT 29 05
   59 0000 0000 0000 0211 0211   35 05                                   AND (label_205 # $100),X        ; @BT 35 05
   60 0000 0000 0000 0213 0213   3C 30 33                                .DB "<03"                       ; @BT END
                                                                         .ends
                                                                         
                                                                 label_216:
   64 0000 0000 0000 0216 0216   30 34 3E                                .db "04>"                       ; @BT TEST-04 04 START
   65 0000 0000 0000 0219 0219   16 02 05 02                             .dw label_216, label_205,       ; @BT 16 02 05 02
   66 0000 0000 0000 021D 021D   17 02 06 02                             .dw label_216+1, label_205+1    ; @BT 17 02 06 02
   67 0000 0000 0000 0221 0221   3C 30 34                                .db "<04"                       ; @BT END
                                                                 
                                                                         .section "Section4" force
                                                                 label_224:
   71 0000 0000 0000 0224 0224   30 35 3E                                .db "05>"                       ; @BT TEST-05 05 START
   72 0000 0000 0000 0227 0227   08 03 02                                .db 2 ^ 3, 1 | 2, 1 << 1,       ; @BT 08 03 02
   73 0000 0000 0000 022A 022A   01 FE                                   .db 2 >> 1, ~1                  ; @BT 01 FE
   74 0000 0000 0000 022C 022C   3C 30 35                                .db "<05"                       ; @BT END
                                                                         .ends
                                                                 
   77 0000 0000 0000 022F 022F   30 36 3E                                .db "06>"                       ; @BT TEST-06 06 START
   78 0000 0000 0000 0232 0232   24                                      .db (label_216 & 15) ^ 2,       ; @BT 24
   79 0000 0000 0000 0233 0233   07                                      .db (label_216 & 15) | 1,       ; @BT 07
   80 0000 0000 0000 0234 0234   0C                                      .db (label_216 & 15) << 1,      ; @BT 0C
   81 0000 0000 0000 0235 0235   03                                      .db (label_216 & 15) >> 1,      ; @BT 03
   82 0000 0000 0000 0236 0236   F9                                      .db ~(label_216 & 15)           ; @BT F9
   83 0000 0000 0000 0237 0237   3C 30 36                                .db "<06"                       ; @BT END
                                                                 
                                                                         .section "extrabits" appendto "Section1"
   86 0000 0000 0000 0016 0016   30 37 3E                                .db "07>"                                                       ; @BT TEST-07 07 START
   87 0000 0000 0000 0019 0019   FE FF FF FF FF FF FE FF 01 00           .db $fe,$ff,$ff,$ff,$ff,$ff,$fe,$ff,$1,$0,$fe,$ff,$2,$0,$ff,$ff ; @BT FE FF FF FF FF FF FE FF 01 00 FE FF 02 00 FF FF
FE FF 02 00 FF FF 
   88 0000 0000 0000 0029 0029   3C 30 37                                .db "<07"                                                       ; @BT END
                                                                         .ends
                                                                 
                                                                         .section "Section5" force
                                                                         .define BIG_VALUE $0156
                                                                         .define SMALL_VALUE $1
   94 0000 0000 0000 0250 0250   30 38 3E                                .db "08>"               ; @BT TEST-08 08 START
   95 0000 0000 0000 0253 0253   01                                      .db 2+-1                ; @BT 01
   96 0000 0000 0000 0254 0254   01                                      .db 2+(-1)              ; @BT 01
   97 0000 0000 0000 0255 0255   FE AA                                   .db >-BIG_VALUE, <-BIG_VALUE ; @BT FE AA
   98 0000 0000 0000 0257 0257   FE AA                                   .db >(-BIG_VALUE), <(-BIG_VALUE) ; @BT FE AA
   99 0000 0000 0000 0259 0259   01                                      .db 2+-SMALL_VALUE           ; @BT 01
  100 0000 0000 0000 025A 025A   01                                      .db 2+(-SMALL_VALUE)         ; @BT 01
  101 0000 0000 0000 025B 025B   01 03                                   .db 2+-1, 2--1               ; @BT 01 03
  102 0000 0000 0000 025D 025D   01 03                                   .db 2+(-1), 2-(-1)           ; @BT 01 03
  103 0000 0000 0000 025F 025F   02                                      .db 1--3+-2                  ; @BT 02
  104 0000 0000 0000 0260 0260   02                                      .db SMALL_VALUE--SMALL_VALUE*3+-SMALL_VALUE*2 ; @BT 02
  105 0000 0000 0000 0261 0261   02                                      .db SMALL_VALUE-(-SMALL_VALUE*3)+(-SMALL_VALUE*2) ; @BT 02
  106 0000 0000 0000 0262 0262   3C 30 38                                .db "<08"                    ; @BT END
                                                                         .ends
                                                                         
                                                                         .section "Section6" force
                                                                         .define VALUE_2 = VALUE_3-1
                                                                         .define VALUE_MINUS_2 = -VALUE_3+1
                                                                         .define VALUE_MINUS_2B = 0-VALUE_3+1
                                                                         .define VALUE_MINUS_2X = -VALUE_2
                                                                         .define VALUE_MINUS_2XB = 0-VALUE_2
  115 0000 0000 0000 0265 0265   30 39 3E                                .db "09>"                ; @BT TEST-09 09 START
  116 0000 0000 0000 0268 0268   FF FD                                   .db >-VALUE_3, <-VALUE_3 ; @BT FF FD
  117 0000 0000 0000 026A 026A   FF FD                                   .db >(-VALUE_3), <(-VALUE_3) ; @BT FF FD
  118 0000 0000 0000 026C 026C   FF                                      .db -VALUE_3--2          ; @BT FF
  119 0000 0000 0000 026D 026D   FA                                      .db -VALUE_3*2           ; @BT FA
  120 0000 0000 0000 026E 026E   FF FD                                   .db >-3, <-3             ; @BT FF FD
  121 0000 0000 0000 0270 0270   FF FD                                   .db >(-3), <(-3)         ; @BT FF FD
  122 0000 0000 0000 0272 0272   FB                                      .db -VALUE_3-2           ; @BT FB
  123 0000 0000 0000 0273 0273   FB                                      .db -3-2                 ; @BT FB
  124 0000 0000 0000 0274 0274   FF                                      .db -3--2                ; @BT FF
  125 0000 0000 0000 0275 0275   03                                      .db 6-VALUE_3            ; @BT 03
  126 0000 0000 0000 0276 0276   06                                      .db VALUE_3--VALUE_3*3+-VALUE_3*2 ; @BT 06
  127 0000 0000 0000 0277 0277   06                                      .db VALUE_3-(-VALUE_3*3)+(-VALUE_3*2) ; @BT 06
  128 0000 0000 0000 0278 0278   06                                      .db VALUE_3--3*3+-VALUE_3*2 ; @BT 06
  129 0000 0000 0000 0279 0279   06                                      .db VALUE_3-(-3*3)+(-VALUE_3)*2 ; @BT 06
  130 0000 0000 0000 027A 027A   04                                      .db SMALL_VALUE--VALUE_3        ; @BT 04
  131 0000 0000 0000 027B 027B   04                                      .db VALUE_2--VALUE_2            ; @BT 04
  132 0000 0000 0000 027C 027C   04                                      .db VALUE_2-(-VALUE_2)          ; @BT 04
  133 0000 0000 0000 027D 027D   01                                      .db VALUE_3-(-VALUE_MINUS_2)    ; @BT 01
  134 0000 0000 0000 027E 027E   00                                      .db -VALUE_2+-VALUE_MINUS_2     ; @BT 00
  135 0000 0000 0000 027F 027F   01                                      .db VALUE_3-(-VALUE_MINUS_2B)   ; @BT 01
  136 0000 0000 0000 0280 0280   00                                      .db -VALUE_2+-VALUE_MINUS_2B    ; @BT 00
  137 0000 0000 0000 0281 0281   01                                      .db VALUE_3-(-VALUE_MINUS_2X)   ; @BT 01
  138 0000 0000 0000 0282 0282   00                                      .db -VALUE_2+-VALUE_MINUS_2X    ; @BT 00
  139 0000 0000 0000 0283 0283   01                                      .db VALUE_3-(-VALUE_MINUS_2XB)  ; @BT 01
  140 0000 0000 0000 0284 0284   00                                      .db -VALUE_2+-VALUE_MINUS_2XB   ; @BT 00
  141 0000 0000 0000 0285 0285   3C 30 39                                .db "<09"                ; @BT END
                                                                         .ends
                                                                         
                                                                         .section "Section7" force
                                                                         .define VALUE_6_1 VALUE_3 + VALUE_3
                                                                         .define VALUE_6_2 -VALUE_6_1
                                                                         .define VALUE_6_3 -VALUE_6_2
                                                                         .define VALUE_6_4 -VALUE_6_3
  149 0000 0000 0000 0288 0288   31 30 3E                                .db "10>"               ; @BT TEST-10 10 START
  150 0000 0000 0000 028B 028B   FA                                      .db VALUE_6_4           ; @BT FA
  151 0000 0000 0000 028C 028C   06                                      .db -VALUE_6_4          ; @BT 06
  152 0000 0000 0000 028D 028D   06                                      .db 0-VALUE_6_4         ; @BT 06
                                                                         .define VALUE_3_1 -VALUE_3
                                                                         .define VALUE_3_2 -VALUE_3_1
                                                                         .define VALUE_3_3 -VALUE_3_2
  156 0000 0000 0000 028E 028E   FD                                      .db VALUE_3_3           ; @BT FD
  157 0000 0000 0000 028F 028F   03                                      .db -VALUE_3_3          ; @BT 03
  158 0000 0000 0000 0290 0290   03                                      .db 0-VALUE_3_3         ; @BT 03
                                                                         .define VALUE_3_4 0-VALUE_3
                                                                         .define VALUE_3_5 0-VALUE_3_4
  161 0000 0000 0000 0291 0291   03                                      .db VALUE_3_5           ; @BT 03
  162 0000 0000 0000 0292 0292   FD                                      .db -VALUE_3_5          ; @BT FD
  163 0000 0000 0000 0293 0293   FD                                      .db 0-VALUE_3_5         ; @BT FD
                                                                         .define VALUE_6_5 -VALUE_3 + -VALUE_3
                                                                         .define VALUE_6_6 -VALUE_6_5
                                                                         .define VALUE_6_7 -VALUE_6_6
  167 0000 0000 0000 0294 0294   FA                                      .db VALUE_6_5           ; @BT FA
  168 0000 0000 0000 0295 0295   06                                      .db VALUE_6_6           ; @BT 06
  169 0000 0000 0000 0296 0296   FA                                      .db VALUE_6_7           ; @BT FA
  170 0000 0000 0000 0297 0297   06                                      .db -VALUE_6_7          ; @BT 06
  171 0000 0000 0000 0298 0298   06                                      .db 0-VALUE_6_7         ; @BT 06
  172 0000 0000 0000 0299 0299   3C 31 30                                .db "<10"               ; @BT END
                                                                         .ends
                                                                 
                                                                         .section "Section8" force
                                                                         .define VALUE_A = -VALUE_3 + 5 // 2
                                                                         .define VALUE_B = -VALUE_A + -VALUE_A // -4
                                                                         .define VALUE_C = VALUE_B + VALUE_B*-2 // 4
                                                                         .define VALUE_D = VALUE_C + -VALUE_A - VALUE_B // 6
  180 0000 0000 0000 029C 029C   31 31 3E                                .db "11>"                                      ; @BT TEST-11 11 START
  181 0000 0000 0000 029F 029F   02                                      .db VALUE_A                                    ; @BT 02
  182 0000 0000 0000 02A0 02A0   FC                                      .db VALUE_B                                    ; @BT FC
  183 0000 0000 0000 02A1 02A1   04                                      .db VALUE_C                                    ; @BT 04
  184 0000 0000 0000 02A2 02A2   06                                      .db VALUE_D                                    ; @BT 06
  185 0000 0000 0000 02A3 02A3   00                                      .db -VALUE_A - -VALUE_A                        ; @BT 00
  186 0000 0000 0000 02A4 02A4   04                                      .db VALUE_A - -VALUE_A                         ; @BT 04
  187 0000 0000 0000 02A5 02A5   00                                      .db -VALUE_A - (-VALUE_A)                      ; @BT 00
  188 0000 0000 0000 02A6 02A6   04                                      .db VALUE_A - (-VALUE_A)                       ; @BT 04
  189 0000 0000 0000 02A7 02A7   04                                      .db VALUE_D + VALUE_B - VALUE_A + VALUE_C      ; @BT 04
  190 0000 0000 0000 02A8 02A8   04                                      .db VALUE_D*1 + VALUE_B*1 - VALUE_A*1 + VALUE_C*1 ; @BT 04
  191 0000 0000 0000 02A9 02A9   00                                      .db VALUE_D*0 + VALUE_B*0 - VALUE_A*0 + VALUE_C*0 ; @BT 00
  192 0000 0000 0000 02AA 02AA   08                                      .db VALUE_D*2 + VALUE_B*2 - VALUE_A*2 + VALUE_C*2 ; @BT 08
  193 0000 0000 0000 02AB 02AB   3C 31 31                                .db "<11"                                      ; @BT END
                                                                         .ends
                                                                 
                                                                         .section "Section9" force
                                                                         .define VALUE_E = -VALUE_7 + 7 + 5 // 5
                                                                         .define VALUE_F = -VALUE_8 + 7 + VALUE_E // 4
                                                                         .define VALUE_G = VALUE_E - VALUE_F // 1
                                                                         .define VALUE_H = -VALUE_G - VALUE_F + VALUE_E // 0
                                                                         .define VALUE_I = -VALUE_9 - 7 + VALUE_9*2 // 2
                                                                         .define VALUE_10 = VALUE_E + VALUE_F + VALUE_G // 10
                                                                         .export VALUE_10 // this needs to be exported as there are no references to it in this file, only in defines.s
  204 0000 0000 0000 02AE 02AE   31 32 3E                                .db "12>"                                      ; @BT TEST-12 12 START
  205 0000 0000 0000 02B1 02B1   05                                      .db VALUE_E                                    ; @BT 05
  206 0000 0000 0000 02B2 02B2   04                                      .db VALUE_F                                    ; @BT 04
  207 0000 0000 0000 02B3 02B3   01                                      .db VALUE_G                                    ; @BT 01
  208 0000 0000 0000 02B4 02B4   00                                      .db VALUE_H                                    ; @BT 00
  209 0000 0000 0000 02B5 02B5   02                                      .db VALUE_I                                    ; @BT 02
  210 0000 0000 0000 02B6 02B6   06                                      .db -VALUE_B*2 - VALUE_F*2 - VALUE_H*100 + VALUE_E*2 - VALUE_I*2 ; @BT 06
  211 0000 0000 0000 02B7 02B7   3C 31 32                                .db "<12"                                            ; @BT END
                                                                         .ends
                                                                 
                                                                         .org $500
                                                                 
  216 0000 0000 0000 0500 0500   31 33 3E                                .db "13>"               ; @BT TEST-13 13 START
  217 0000 0000 0000 0503 0503   16 16 16 16                             .dsb 4, <label          ; @BT 16 16 16 16
  218 0000 0000 0000 0507 0507   89 89 89 89                             .dsb 4, <definition     ; @BT 89 89 89 89
  219 0000 0000 0000 050B 050B   89 89 89 89                             .dsb 4, definition & 0xff ; @BT 89 89 89 89
  220 0000 0000 0000 050F 050F   03 03 03 03                             .dsb 4, 1 + 2             ; @BT 03 03 03 03
  221 0000 0000 0000 0513 0513   3C 31 33                                .db "<13"                 ; @BT END
                                                                 
                                                                 label:
                                                                         
  225 0000 0000 0000 0516 0516   31 34 3E                                .db "14>"               ; @BT TEST-14 14 START
  226 0000 0000 0000 0519 0519   16 00 16 00 16 00 16 00                 .dsw 4, <label          ; @BT 16 00 16 00 16 00 16 00
  227 0000 0000 0000 0521 0521   89 00 89 00 89 00 89 00                 .dsw 4, <definition     ; @BT 89 00 89 00 89 00 89 00
  228 0000 0000 0000 0529 0529   89 00 89 00 89 00 89 00                 .dsw 4, definition & 0xff ; @BT 89 00 89 00 89 00 89 00
  229 0000 0000 0000 0531 0531   03 00 03 00 03 00 03 00                 .dsw 4, 1 + 2             ; @BT 03 00 03 00 03 00 03 00
  230 0000 0000 0000 0539 0539   3C 31 34                                .db "<14"                 ; @BT END
                                                                 
  232 0000 0000 0000 053C 053C   31 35 3E                                .db "15>"               ; @BT TEST-15 15 START
  233 0000 0000 0000 053F 053F   16 00 00 16 00 00 16 00 00 16           .dsl 4, <label          ; @BT 16 00 00 16 00 00 16 00 00 16 00 00
00 00 
  234 0000 0000 0000 054B 054B   89 00 00 89 00 00 89 00 00 89           .dsl 4, <definition     ; @BT 89 00 00 89 00 00 89 00 00 89 00 00
00 00 
  235 0000 0000 0000 0557 0557   89 00 00 89 00 00 89 00 00 89           .dsl 4, definition & 0xff ; @BT 89 00 00 89 00 00 89 00 00 89 00 00
00 00 
  236 0000 0000 0000 0563 0563   03 00 00 03 00 00 03 00 00 03           .dsl 4, 1 + 2             ; @BT 03 00 00 03 00 00 03 00 00 03 00 00
00 00 
  237 0000 0000 0000 056F 056F   3C 31 35                                .db "<15"                 ; @BT END
                                                                 
  239 0000 0000 0000 0572 0572   31 36 3E                                .db "16>"               ; @BT TEST-16 16 START
  240 0000 0000 0000 0575 0575   16 00 00 00 16 00 00 00 16 00           .dsd 4, <label          ; @BT 16 00 00 00 16 00 00 00 16 00 00 00 16 00 00 00
00 00 16 00 00 00 
  241 0000 0000 0000 0585 0585   89 00 00 00 89 00 00 00 89 00           .dsd 4, <definition     ; @BT 89 00 00 00 89 00 00 00 89 00 00 00 89 00 00 00
00 00 89 00 00 00 
  242 0000 0000 0000 0595 0595   89 00 00 00 89 00 00 00 89 00           .dsd 4, definition & 0xff ; @BT 89 00 00 00 89 00 00 00 89 00 00 00 89 00 00 00
00 00 89 00 00 00 
  243 0000 0000 0000 05A5 05A5   03 00 00 00 03 00 00 00 03 00           .dsd 4, 1 + 2             ; @BT 03 00 00 00 03 00 00 00 03 00 00 00 03 00 00 00
00 00 03 00 00 00 
  244 0000 0000 0000 05B5 05B5   3C 31 36                                .db "<16"                 ; @BT END
                                                                         
  246 0000 0000 0000 05B8 05B8   31 37 3E                        		.db "17>" ; @BT TEST-17 17 START
  247 0000 0000 0000 05BB 05BB   89 00                           		.dw <definition ; @BT 89 00
  248 0000 0000 0000 05BD 05BD   3C 31 37                        		.db "<17" ; @BT END
                                                                 		
                                                                         .define definition $6789
