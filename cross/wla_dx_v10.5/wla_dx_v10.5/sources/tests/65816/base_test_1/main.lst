; WLALINK ($VER: wlalink 5.20 (23.6.2023)) listing file
; 2023-06-23 15:55:25

;Line Base Bank Slot PC   Offset Hex
                                                                 
                                                                 ;--- SNES HiROM bank map ---
                                                                 
                                                                 .MEMORYMAP
                                                                 SLOTSIZE $10000
                                                                 DEFAULTSLOT 0
                                                                 SLOT 0 $0000
                                                                 .ENDME
                                                                 
                                                                 .ROMBANKSIZE $10000
                                                                 .ROMBANKS 4
                                                                 
                                                                         ; @BT result.rom
                                                                 
                                                                 .SECTION "TestCode" FORCE base $c0 bank 0 slot 0 org $0000
                                                                 
                                                                 ; code ; compiles to
                                                                 
   19 00C0 0000 0000 0000 0000   30 33 3E                                .db "03>"               ; @BT TEST-03 03 START
   20 00C0 0000 0000 0003 0003   5C 00 00 C1                     	jml label	        ;5C0000C2 JMP $C20000
                                                                 			        ; - should be 5C0000C1  JMP $C10000
                                                                                                 ; @BT 5C 00 00 C1
                                                                 
   24 00C0 0000 0000 0007 0007   C2 30                           	rep #$30        	;C230 REP #$30
                                                                 			        ; - correct
                                                                                                 ; @BT C2 30
                                                                 
   28 00C0 0000 0000 0009 0009   E2 20                           	sep #$20	        ;E220 SEP #$20
                                                                 			        ; - correct
                                                                                                 ; @BT E2 20
                                                                 
   32 00C0 0000 0000 000B 000B   A9 C1                           	lda #:label     	;A901 LDA #$01
                                                                 			        ; - should be A9C1  LDA #$C1
                                                                                                 ; @BT A9 C1
   35 00C0 0000 0000 000D 000D   3C 30 33                                .db "<03"               ; @BT END
                                                                 
   37 00C0 0000 0000 0010 0010   30 31 3E                        	.db "01>"               ; @BT TEST-01 01 START
   38 00C0 0000 0000 0013 0013   C0                              	.db :CADDR           	; @BT C0
   39 00C0 0000 0000 0014 0014   C0                              	.db 1 + :CADDR - 1      ; @BT C0
   40 00C0 0000 0000 0015 0015   C0 00                           	.dw 1 + :CADDR - 1      ; @BT C0 00
   41 00C0 0000 0000 0017 0017   C3                                      .db :label_Tip          ; @BT C3
   42 00C0 0000 0000 0018 0018   C2                                      .db :label_Tip1         ; @BT C2
   43 00C0 0000 0000 0019 0019   3C 30 31                        	.db "<01"               ; @BT END
   44 00C0 0000 0000 001C 001C   20                              	.db " "
   45 00C0 0000 0000 001D 001D   30 32 3E                        	.db "02>"               ; @BT TEST-02 02 START
   46 00C0 0000 0000 0020 0020   01 00 C2                        	.dl label_ram_b0_2 	; @BT 01 00 C2
   47 00C0 0000 0000 0023 0023   01 00 C3                        	.dl label_ram_b1_2	; @BT 01 00 C3
   48 00C0 0000 0000 0026 0026   3C 30 32                        	.db "<02"               ; @BT END
                                                                 .ENDS
                                                                 
                                                                         .base $C0
                                                                         .BANK 1 SLOT 0
                                                                         .ORG $0000
                                                                         .SECTION "AnotherSection" FORCE
   55 00C0 0001 0000 0000 0000   EA                              label:	nop
                                                                         .ENDS
                                                                 
                                                                         .section "Tail" APPENDTO "AnotherSection" base $c1 bank 0 slot 0
   59 00C0 0001 0000 0001 0001   EA                              label_Tail:     nop
                                                                         .ends
                                                                 
                                                                         .section "Tip1" base $c2 bank 0 slot 0
   63 00C2 0000 0000 0029 0029   EA                              label_Tip1:     nop
                                                                         .ends
                                                                         
                                                                         .base $C2
                                                                         .bank 2 slot 0
                                                                         .section "Tip" AFTER "Tail"
   69 00C0 0001 0000 0002 0002   EA                              label_Tip:     nop
                                                                         .ends
                                                                 
                                                                 
                                                                 .ramsection "RAM 1" bank 0 slot 0
                                                                 label_ram_b0_1:	db
                                                                 label_ram_b0_2:	db
                                                                 label_ram_b0_3:	db
                                                                 .ends
                                                                 
                                                                 .ramsection "RAM 2" bank 1 slot 0
                                                                 label_ram_b1_1:	db
                                                                 label_ram_b1_2:	db
                                                                 label_ram_b1_3:	db
                                                                 .ends
                                                                 
