@database 08c5a8a8-15
@master Souw.guide
@$VER: 1.0
@author "Janne Peräaho"
@(c) "Copyright © 2002 Janne Peräaho"
@width 79

@node "Main" "Souw"
                                      Souw
                                  Version 1.0                                 

             Copyright © 2002 Janne Peräaho.  All rights reserved.
 @{u}                                                                             @{uu}

 @{" Introduction     " link "Introduction" 0} What Souw is used for?
 @{" Requirements     " link "Requirements" 0} Which hardware/software do you need?

 @{" Usage            " link "Usage" 0} Souw's usage.
 @{" Deflector file   " link "Deflector" 0} All about deflector files.

 @{" Bugs/Limitations " link "Limitations" 0} Performance limitations.
@endnode

@node "Introduction" "Introduction"

 INTRODUCTION


 Souw is an ARexx program for creating full assembly source codes from binary
 files. It utilizes Binar and a deflector file which controls the extraction
 process.
@endnode

@node "Requirements" "Requirements"

 REQUIREMENTS


 · ARexx
 · Binar version 1.1
@endnode

@node "Usage" "Usage"

 USAGE


 @{b}Format@{ub}    Souw <file> <deflector>

 Souw expects two arguments: name of the binary file (<file>) and name of the 
 deflector file (<deflector>). Binary file is a file from which the source 
 code will be extracted, and @{"deflector file" link "Deflector" 0} is a control file which tells how 
 extraction will be done.

 When executed with acceptable parameters, Souw starts printing source code 
 to a Shell window. If required, Souw's output can be redirected into a file 
 by using the right angle bracket (>).

 EXAMPLE 1:

 1> rx Souw >Hello.asm HELLO.PRG Hello.def@{bg fill} @{bg back}

 Extracts 'HELLO.PRG' program's source code according to a deflector file
 'Hello.def' and saves the source code into a file 'Hello.asm'.
@endnode

@node "Deflector" "Deflector"

 DEFLECTOR FILE


 Deflector file contains block definitions and inline commands. A block is a 
 part of a binary file. It has starting and ending addresses, and it can be 
 interpreted as assembly code or as data hunk.

     <start address> <end address>

 @{fg shine}Figure 1. Block definition syntax.@{fg text}

 Block definition consists of two hexadecimal addresses which are separated 
 from each other by using space. The first address defines the block's
 starting address, and the second address its ending address. Block definition
 ends always with a linefeed.

     1001 100f
     1010 10de
     10df 10ef

 @{fg shine}Figure 2. A fraction of a deflector file showing some block definitions.@{fg text}

 Souw assumes that every second block definition types (data blocks or code 
 blocks) are identical, while successive block types differing. If the 1st 
 block's type is 'data', the 2nd block's type is 'code', 3rd block's 'data', 
 4th block's 'code', and so on.

 By default the first block's type is 'data' but this can be changed with the
 inline command @{i}#code@{ui}. Correspondingly, if you need two successive block types

 to be identical, inline the command @{i}#data@{ui} or @{i}#code@{ui} can be used. See Figure 3.

     #data
     1001 100f      -> data block
     1010 10de      -> code block
     10df 10ef      -> data block
     10f0 1153      -> code block
     1154 115b      -> data block
     115c 123f      -> code block
     1240 124f      -> data block
     1250 12ca      -> code block
     12cb 12df      -> data block
     12e0 12fd      -> code block
     #code
     12fe 1359      -> code block
     135a 14f8      -> data block
     14f9 15ef      -> code block
     15f0 17da      -> data block
     #data
     17db 17ff      -> data block
     1800 183d      -> code block
     183e 1871      -> data block
     1872 1927      -> code block

 @{fg shine}Figure 3. Controlling block typing with inline commands.@{fg text}


 There are four inline commands: data, code, note, and comment (;).

 Data command commands Souw to view the next block as a data block. Usually 
 there is only one data command at in the beginning of the deflector file.

     @{b}Syntax@{ub}    #data

 @{fg shine}Figure 4. Data inline command.@{fg text}

 Code command commands Souw to view the next block as a code block. Usually 
 there is only one code command in the beginning of the deflector file.

     @{b}Syntax@{ub}    #code

 @{fg shine}Figure 5. Code inline command.@{fg text}

 Note command allows the user to add a note into the source code. Note text 
 (<text>) will appear as a comment in the source code.

     @{b}Syntax@{ub}    #note <text>

 @{fg shine}Figure 6. Note inline command.@{fg text}

 Comment command allows the user to add comment (<text>) into a deflector
 file.

 The comment will not appear in the produced source code.

     @{b}Syntax@{ub}    ; <text>

 @{fg shine}Figure 7. Comment inline command.@{fg text}

 See an example of a deflector file @{"here" link "Punchy.def/main" 0}.
@endnode

@node "Limitations" "Limitations"

 BUGS AND LIMITATIONS


 · file names supplied to Souw cannot contain spaces
@endnode

