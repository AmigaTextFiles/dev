#
# Makefile for picasm (Unix)
#

SRCS = picasm.c token.c symtab.c expr.c pic12bit.c pic14bit.c \
	picasm.h picasm.doc examples pic14dis.c Makefile
OBJS = picasm.o token.o symtab.o expr.o pic12bit.o pic14bit.o

CC = gcc
CFLAGS = -Wall -O

picasm: $(OBJS)
	$(CC) $(OBJS) -o $@

picdis: pic14dis.o
	$(CC) pic14dis.o -o $@

picasm.tgz:
	tar cvzf picasm.tgz $(SRCS)

picasm.o: picasm.c picasm.h
token.o: token.c picasm.h
symtab.o: symtab.c picasm.h
expr.o: expr.c picasm.h
pic12bit.o: pic12bit.c picasm.h
pic14bit.o: pic14bit.c picasm.h
