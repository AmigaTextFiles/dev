TABLE OF CONTENTS

calendar.gadget/--datasheet--
calendar.gadget/GM_DOMAIN
calendar.gadget/GM_GOACTIVE
calendar.gadget/GM_GOINACTIVE
calendar.gadget/GM_HANDLEINPUT
calendar.gadget/GM_HITTEST
calendar.gadget/GM_LAYOUT
calendar.gadget/GM_RENDER
calendar.gadget/OM_DISPOSE
calendar.gadget/OM_NEW
calendar.gadget/OM_SET
calendar.gadget/--datasheet--                   calendar.gadget/--datasheet--

     NAME
        calendar.gadget--Monthly calendar gadget                (V42)

     SUPERCLASS
        gadgetclass

     DESCRIPTION
        The calendar gadget class is used to display a month-based array
        of days in the visual style of traditional calendars.

     METHODS
        OM_NEW--Create the gadget.  Passed to superclass, then OM_SET.

        OM_SET--Set object attributes.  Passed to superclass first.

        OM_UPDATE--Set object notification attributes.  Passed to superclass
            first.

        GM_LAYOUT--Calculate relative gadget coordinates.  Passed to
            superclass first.  Requires V39 or beyond of Intuition.

        GM_RENDER--Renders the gadget imagry.  Overrides the superclass.

        GM_HITTEST--Determines if mouse is within the gadget rectangle.
            Overrides the superclass.

        GM_GOACTIVE--Handles activation, mutual-exclusion and date-select.
            Overrides the superclass.

        GM_HANDLEINPUT--Handles input events once active.  Handles cycle
            buttons, repeat and RMB abort.  Overrides the superclass.

        GM_GOINACTIVE--Deselects the button.  Overrides the superclass.

        GM_DOMAIN--Obtain the minimum size of a calendar object.

        All other methods are passed to the superclass, including OM_DISPOSE.

     ATTRIBUTES
        GA_Disabled (BOOL) -- Determines whether the calendar is disabled or
            not.  Changing disable state will invoke GM_RENDER.  A disabled
            calendar's border and label are all rendered in SHADOWPEN and then
            dusted in a ghosting pattern that is rendered in SHADOWPEN.
            Defaults to FALSE.

        GA_TextAttr (struct TextAttr *) -- Text attribute for the font to
            use for the labels.

        GA_ReadOnly (BOOL) -- Indicate whether calendar has selectable days
            or is for display only.  Defaults to FALSE (selectable days).

        CALENDAR_ClockData (struct ClockData *) -- Pointer to a ClockData
            structure (defined in <utility/date.h>) used to set the current
            date information, including month, day and year.

        CALENDAR_Day (LONG) -- Set the current day of the month.

        CALENDAR_FirstWeekday (LONG) -- Sets the first day of the week.
            Defaults to 0, which is Sunday.

        CALENDAR_Days (STRPTR *) -- Array of localized column labels,
            starting with Sunday as day[0].  English versions are built
            in.

        CALENDAR_Labels (LONG) -- Optional array of day description
            records.  This allows individual control over the appearance
            of each day of the month.  Changing this attribute will
            invoke GM_RENDER.  If provide, the array must contain 31
            entries.

        CALENDAR_Label (BOOL) -- Indicate whether there should be a label
            across the top showing the names of the days of the week.
            Defaults to TRUE.

     NOTES
        Relative support requires V39 and beyond of Intuition.

calendar.gadget/GM_DOMAIN                           calendar.gadget/GM_DOMAIN

     NAME
        GM_DOMAIN--Obtain the domain of an object               (V42)

     FUNCTION
        The GM_DOMAIN method is used to obtain the domain of a
        calendar.gadget object before ever creating an object.

        Requires a RastPort pointer in gpd_RPort with the correct font
        attributes.  Only supports the gpd_Which==GDOMAIN_MINIMUM type.

     ATTRIBUTES
        The following attributes can be specified.

        CALENDAR_Days (STRPTR *) -- Array of localized column labels,
            starting with Sunday as day[0].

        CALENDAR_Label (BOOL) -- Indicate whether there should be a label
            across the top showing the names of the days of the week.
            Defaults to TRUE.

     RESULT
        Returns 1 and fills in the gpd_Domain field.

calendar.gadget/GM_GOACTIVE                       calendar.gadget/GM_GOACTIVE

     NAME
        GM_GOACTIVE--Activate a gadget.                         (V42)

     FUNCTION
        The GM_GOACTIVE method is used to indicate to a gadget that it has
        become active.  This method overrides the superclass.

     RESULT
        Returns GMR_MEACTIVE.

        Sets the *msg->gpi_Termination field to CALENDAR_Day, which in turn
        fills in the IntuiMessage->Code field.

calendar.gadget/GM_GOINACTIVE                   calendar.gadget/GM_GOINACTIVE

     NAME
        GM_GOINACTIVE--Gadget has lost activation.              (V42)

     FUNCTION
        The GM_GOINACTIVE method is used to indicate that the calendar has
        become inactive.  This method overrides the superclass.

     RESULT
        This method returns 0.

calendar.gadget/GM_HANDLEINPUT                 calendar.gadget/GM_HANDLEINPUT

     NAME
        GM_HANDLEINPUT--Handle input events.                    (V42)

     FUNCTION
        The GM_HANDLEINPUT method is used to handle the input events of an
        active calendar gadget.  This method overrides the superclass.

        This method correctly handles RMB abort.

        If CALENDAR_Multiselect was specified at creation time, then
        a notification event is sent for each day selected.  The day is
        sent in the CALENDAR_Day attribute.  0x100 is set if the day is
        deselected.

     RESULT
        This method returns GMR_MEACTIVE as long as the gadget is active.

        Sets the *msg->gpi_Termination field to CALENDAR_Day, which in turn
        fills in the IntuiMessage->Code field.

calendar.gadget/GM_HITTEST                         calendar.gadget/GM_HITTEST

     NAME
        GM_HITTEST--Is gadget hit.                              (V42)

     FUNCTION
        The GM_HITTEST method is used to determine if the given mouse
        coordinates are within the domain of a day within the calendar.  This
        method overrides the superclass.

     RESULT
        This method returns GMR_GADGETHIT if within the domain, otherwise
        zero is returned.

        If the gadget is GA_ReadOnly, then zero is always returned.

calendar.gadget/GM_LAYOUT                           calendar.gadget/GM_LAYOUT

     NAME
        GM_LAYOUT--Calculate relative gadget coordinates.       (V42)

     FUNCTION
        The GM_LAYOUT method is used to calculate the domain of the calendar
        and to layout the days of the month.  This method is passed to the
        superclass first.

        Gadget relativity is fully supported.

     RESULT
        This method returns 0.

calendar.gadget/GM_RENDER                           calendar.gadget/GM_RENDER

     NAME
        GM_RENDER--Render the visuals of the calendar.          (V42)

     FUNCTION
        The GM_RENDER method is used to render the visuals of the calendar.
        This method overrides the superclass.

        If the calendar is disabled, then the ghosting pattern is applied.

     RESULT
        This method returns 0.

calendar.gadget/OM_DISPOSE                         calendar.gadget/OM_DISPOSE

     NAME
        OM_DISPOSE--Delete a calendar.gadget object.            (V42)

     FUNCTION
        The OM_DISPOSE method is used to delete an instance of the
        calendar.gadget class.  This method is pass to the superclass when
        it has completed.

     RESULT
        The object is deleted.  NULL is returned.

calendar.gadget/OM_NEW                                 calendar.gadget/OM_NEW

     NAME
        OM_NEW--Create a calendar.gadget object.                (V42)

     FUNCTION
        The OM_NEW method is used to create an instance of the calendar.gadget
        class.  This method is passed to the superclass first.

     ATTRIBUTES
        The following attributes can be specified at creation time.

        GA_Disabled (BOOL) -- Determines whether the calendar is disabled or
            not.  Changing disable state will invoke GM_RENDER.  A disabled
            calendar's border and label are all rendered in SHADOWPEN and then
            dusted in a ghosting pattern that is rendered in SHADOWPEN.
            Defaults to FALSE.

        GA_TextAttr (struct TextAttr *) -- Text attribute for the font to
            use for the labels.

        GA_ReadOnly (BOOL) -- Indicate whether calendar has selectable days
            or is for display only.  Defaults to FALSE (selectable days).

        CALENDAR_ClockData (struct ClockData *) -- Pointer to a ClockData
            structure (defined in <utility/date.h>) used to set the current
            date information, including month, day and year.

        CALENDAR_Day (LONG) -- Set the current day of the month.

        CALENDAR_FirstWeekday (LONG) -- Sets the first day of the week.
            Defaults to 0, which is Sunday.

        CALENDAR_Days (STRPTR *) -- Array of localized column labels,
            starting with Sunday as day[0].  English versions are built
            in.

        CALENDAR_Label (BOOL) -- Indicate whether there should be a label
            across the top showing the names of the days of the week.
            Defaults to TRUE.

     RESULT
        If the object was created then a pointer to the object is returned,
        otherwise NULL is returned.

calendar.gadget/OM_SET                                 calendar.gadget/OM_SET

     NAME
        OM_SET--Set the attributes of a calendar.gadget object. (V42)

     FUNCTION
        The OM_SET method is used to set the attributes of a calendar.gadget.
        This method is passed to the superclass first.

     ATTRIBUTES
        The following attributes can be changed at OM_SET or OM_UPDATE.

        GA_Disabled (BOOL) -- Determines whether the calendar is disabled or
            not.  Changing disable state will invoke GM_RENDER.  A disabled
            calendar's border and label are all rendered in SHADOWPEN and then
            dusted in a ghosting pattern that is rendered in SHADOWPEN.
            Defaults to FALSE.  Changing the disable state will invoke
            GM_RENDER.

        CALENDAR_ClockData (struct ClockData *) -- Pointer to a ClockData
            structure (defined in <utility/date.h>) used to set the current
            date information, including month, day and year.  Changing
            the date information will invoke GM_LAYOUT and GM_RENDER.

        CALENDAR_Day (LONG) -- Set the current day of the month.  Changing
            the day will invoke GM_RENDER.

        CALENDAR_Labels (LONG) -- Optional array of day description
            records.  This allows individual control over the appearance
            of each day of the month.  Changing this attribute will
            invoke GM_RENDER.  If provide, the array must contain 31
            entries.

     RESULT
        The class will update the attributes of object.  Changing some
        attributes will result in GM_LAYOUT and/or GM_RENDER being called.

        The return value will be non-zero if the gadget needs to be refreshed.

