; ******************************************************
; ******************************************************
; **                                                  **
; **                ASC-Finder V1.1                   **
; **                                                  **
; **                by Steffen Nitz                   **
; **                                                  **
; **              31.12.1996 - 16.12.2001             **
; **                                                  **
; **                                                  **
; **         E-Mail: Steffen.Nitz@t-online.de         **
; **                                                  **
; **         Dieser Source ist Public-Domain          **
; **                                                  **
; **                                                  **
; **   Kleines Prog um ASC/Rawkey/Qualifier-Codes     **
; **   zu ermitteln.                                  **
; **                                                  **
; ******************************************************
; ******************************************************

; benoetigt Amigalibs.res

;V1.0 31.12.1996 - Erste oeffentliche Version
;V1.1 16.12.2001 - Programm umstrukturiert

WBStartup
WbToScreen 0

LoadFont 0,"topaz.font",8

DefaultIDCMP  #IDCMP_GADGETUP|#IDCMP_RAWKEY|#IDCMP_CLOSEWINDOW

Window        0,20,20,185,65,4110,"ASC-FINDER",1,2
Use IntuiFont 0

GTInteger     0,0,100, 4,48,12,"ASC-Code   ",$0001,97
GTText        0,1,153, 4,19,12,"",$0001,"A"
GTText        0,2,100,18,72,12,"RawKey    $",$0001,""
GTText        0,3,100,30,72,12,"Qualifier $",$0001,""

AttachGTList  0,0

Repeat
  w.l   = WaitEvent
  Select w
    Case #IDCMP_GADGETUP:hit.w = GTGetInteger (0,0)
                         Gosub Codes_Anzeigen
    Case #IDCMP_RAWKEY  :hit.w = Asc(Inkey$)
                         raw.w = RawKey
                         qu.w  = Qualifier
                         Gosub Codes_Anzeigen
  End Select
Until w=#IDCMP_CLOSEWINDOW
CloseWindow 0
CloseScreen 0
End

.Codes_Anzeigen
  GTSetInteger 0,0,hit
  GTSetAttrs   0,1,#GTTX_Text,Chr$(hit)
  GTSetAttrs   0,2,#GTTX_Text,Hex$(raw)
  GTSetAttrs   0,3,#GTTX_Text,Hex$(qu)
Return
