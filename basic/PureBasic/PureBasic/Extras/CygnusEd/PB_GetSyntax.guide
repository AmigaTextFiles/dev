@DATABASE "PB_GetSyntax.ced"
@NODE MAIN "PB_GetSyntax.ced"

 PB_GetSyntax.ced 1.2                                                       |
 PB_SaveCompile.ced 1.0
 Programs and documentation by A. Greve

 English isn't my  native language. If You have problems  reading this doc,
 please don't hesitate to contact the @{" Author " Link Author}...

 Changes in this Guide's contents  compared to the previous version will be
 marked with "|" at the right margin.

 With these ARexx scripts the editing of PureBasic sourcefiles with Cygnus-
 Ed should go a little  easier.

 @{" Features, News          " Link Features}                                                |
 @{" Requirements            " Link Requirements}
 @{" Installation            " Link Installation}
   @{" Changes in the script " Link Settings}
 @{" Usage                   " Link Usage}                                                |
 @{" Hints                   " Link Hints}                                                |
 @{" History                 " Link History}                                                |
 @{" Legal Stuff             " Link Legal_Stuff}
 @{" Thanks                  " Link Thanx}
 @{" Author                  " Link Author}
@ENDNODE

@NODE Features "Features, News"

 PB_GetSyntax.ced 1.0:
 * Pressing a (defineable) F key will show the syntax of the PureBasic com-
   mand the cursor is under.
 * If the script is started while CygnusEd isn't running yet, a source file
   can be selected via filerequester.

 PB_GetSyntax.ced 1.1, PB_SaveCompile.ced 1.0:
 * With  a  further  defineable F key  the source  file can be saved  and a
   Graphical User  Interface for the PureBasic  compiler can be started. By
   this the compiling  process can be started without  having to leave CEd.
   For this  function two  further  scripts  must exist ("PureBasic:Extras/
   CygnusEd/PB_SaveCompile.ced"  and   "PureBasic:GUI/PBCompiler-GUI.rexx",
   that's the GUI).
 * When the filerequester (CEd isn't running yet) is canceled at start, CEd
   starts with an empty window. Till now CEd wasn't started too.
 * The  Special characters  like "*", "@" and ":" are  now included  in the
   syntax check.

 PB_GetSyntax.ced 1.2:                                                      |
 * If  started from  Shell/CLI the script can take the  filename of a Pure- |
   Basic source as an  argument. CEd will be started with this file, or, if |
   CEd has been started before, a new View will be opened.                  |
@ENDNODE

@NODE Requirements "Requirements"

 PureBasic:
 * PureBasic has to be installed (script will run with the demo version).
 * "PureBasic:" must be assigned to the PureBasic directory.
 * The "Help" directory "PureBasic:Help" has to be installed  correctly and
   the file "PureBasic:Help/IndexAll.guide" must exist.

 GUI: (not required)
 * The script "PB_SaveCompile.ced"  should be copied to  "PureBasic:Extras/
   CygnusEd/", see @{" Installation " Link Installation}.
 * The  script "PBCompiler-GUI.rexx" should  have been installed in the di-
   rectory "PureBasic:GUI/", see @{" Installation " Link Installation}.

 Editor:
 * The text editor "CygnusEd" must be installed. The script has been tested
   with its version v4.20, but may even run with earlier versions.

 Libraries:
 * amigaguide.library v34.11+, part of the Workbench installation
 * rexxsupport.library v34.9+, part of the ARexx installation
 * rexxtricks.library v38.6+,  by Jürgen Kohrmeyer,   Aminet: util/rexx
 * rexxreqtools.library v1.3+, by Rafael D'Halleweyn, Aminet: util/rexx

 System:
 * Kickstart/Workbench 2.04+ (see the requirements of the libs above in the
   corresponding docs).
 * RexxMast must be running.
@ENDNODE

@NODE Installation "Installation"

 Copy the files of Your language  ("PureBasic/Extras/" for English version,
 "Deutsch/Extras/" for German  version) to  "PureBasic:Extras/". To install
 the GUI copy the files  from "PureBasic/GUI/" or "Deutsch/GUI" to the  di-
 rectory "PureBasic:GUI/".
 If  Frederic will keep these files into his  distribution, the  installing
 script should do the right things to put them to this directory.

 @{" Changes in the script " Link Settings}
@ENDNODE

@NODE Settings "Changes in the script"

 You will  probably have  to edit the entries in lines 3 to 8 to make  them
 fit to Your local settings. If You  delete  those lines the settings which
 are remarked in  braces will take place. If You  @{b}change the pathes@{ub} the @{b}new
 ones must exist@{ub}.

 Line 3 "sourcepath" ("PureBasic:")
 This is the path to Your source  directory. When a script is to be loaded,
 the requester will start from this path on.

 Line 4 "cedname"    ("Ed")
 Path and filename of the CygnusEd invoker.

 Line 5 "temp_s"     ("T:pb_srch.txt")
 Line 6 "temp_l"     ("T:pb_link.txt")
 Both of the index  files the script will create. The script uses  them for
 searching keywords and displaying them via Amigaguide.

 Line 7 "fkey1"      (1)
 The function  key the script  "PureBasic:Extras/CygnusEd/PB_GetSyntax.ced"
 should be installed on.

 Line 8 "fkey2"      (2)
 The function key the script "PureBasic:Extras/CygnusEd/PB_SaveCompile.ced"
 should be installed on.
@ENDNODE

@NODE Usage "Usage"

 @{b}Please note@{ub} that the functions  descibed here will be installed by scripts
 at function keys. @{b}Possibly existing  installations on these F keys will be
 overwritten without warning@{ub}. Other macros ("MetaMac") won't be touched.

 The script can be started from Shell/CLI and Workbench:
 @{b}CLI:@{ub}       "rx PureBasic:Extras/CygnusEd/PB_GetSyntax.ced [Sourcefile]"    |
 @{b}Workbench:@{ub} Start by double clicking the icon
 If You  are using an "AppLauncher" like ToolManager f. e., the program can
 be started by a button.

 The further  course depends on if CEd has been started  before the script:
 If  not, a  filerequester  will appear where  You can  select a  PureBasic
 source file to be  loaded by CEd. If You  cancel  the requester, CEd  will
 start empty. If started from Shell/CLI You can pass a path and filename of |
 a  PureBasic source to the script as an argument for CED to start with (if |
 CEd is still running, a new View will be opened).                          |
 Afterwards the script will be installed at the defined F key.              |

 After the  first start of the script, two index files  (temp_s and temp_l) |
 will be created (unique) which are  needed if You are searching  for Pure-
 Basic keywords like PrintN, f.e.
 Simply click  on the  keyword and  press the F key. If You are looking for
 the  definition of "MyVar.ub", place the cursor at the "u" or "b". Special
 characters like "*" and ":" are supported.
 The index files refer to  the "Help" directory of PureBasic, so there's no
 point to edit any files by hand for this purpose after updating PB.

 At a  further F key a  script (if existing) is  installed  with which  the
 source file can be saved and a Graphical User Interface  for the PureBasic
 compiler  can be  started. "PureBasic:/Extras/CygnusEd/PB_SaveCompile.ced"
 is the  related file. When You  press the  belonging  F key the  following
 processes will be launched:
 1) The possibly existing old source file is renamed with adding the exten-
    sion ".BAK" and  the new one is saved (this is the normal  behaviour of
    the PureEditor).
 2) An environment  variable "PureBasic_SourceName" is  created, containing
    the path and filename of the last saved source file.
 3) The GUI  "PureBasic:GUI/PBCompiler-GUI.rexx"  is  started, if it exists
    (so well, ARexx is one of my other  preferences :-). If it's version is
    1.1+, the source file's name is read in.
 @{b}Getting to this point the source can be compiled from CEd.@{ub}
 4) After quitting the GUI the environment variable is erased.
 If the source is going to be re-compiled after a change, the GUI has to be
 started and quitted as well. While the GUI is opened changes to the source
 are invisible.
@ENDNODE

@NODE Hints "Hints"

 The script has been tested with two versions of  amigaguide.library (34.11
 and 40.4) which are differing  in the number of parameters  requested  for
 the ShowNode() function. The  newer version requests  an additional "XREF"
 which the  script doesn't take care of (additional  comma  separtor at the
 end).

 If You are working with Directory Opus 5 You can make a setup to start the |
 script by a double click: (things to be entered are marked @{b}bold@{ub})           |
 * Menu "Settings/File Types..." -> "Add"                                   |
   Name @{b}PureBasic Source@{ub} \                                                  |
   ID   @{b}PB@{ub}                > example values                                  |
   Pri  @{b}0@{ub}                /                                                  |
   Add 'Match Name' @{b}#?.pb@{ub}                                                   |
   Add 'Or'                                                                 |
   Add 'Match Name' @{b}#?.pb.bak@{ub}                                               |
   Afterwards, confirm with the "OK" button                                 |
 * In the "Events..." ListView, double click at the "Double-click" line     |
   Add 'AmigaDOS' @{b}rx PureBasic:Extras/CygnusEd/PB_GetSyntax.ced {f}@{ub}         |
   Activate Flags "No file quote",                                          |
              and "Output to window",                                       |
              and "Run asynchronously"                                      |
   Afterwards, confirm with the "Use" button                                |
 * Once more, confirm with "Use" and then with "Save"                       |
@ENDNODE

@NODE History "History"

 v1.2   24-Oct-2000    * If started from Shell/CLI a sourcefile name can be |
                         passed  to the script as an argument to  be loaded |
                         by CEd.                                            |

 v1.1   02-Oct-2000    * The   script   "PureBasic:GUI/PBCompiler-GUI.rexx"
                         can now be  started from CEd, if the GUI's version
                         is 1.1+ the source file's name is read in.
                       * "Cold start" of CEd without file selection is pos-
                         sible.
                       * Included special characters in the syntax view.
                       * Update of this Guide.

 v1.0   03-Sep-2000    * Initial version
@ENDNODE

@NODE Legal_Stuff "Legal Stuff"

 PB_GetSyntax.ced and PB_SaveCompile.ced are  @{b}Freeware@{ub}. Do with it whatever
 You want, but You are not allowed to make profit with it.
 Although I have tested it on my system (A1200, KS 3.0, Bliizzard II w/24MB
 RAM) I am not  responsible for GURUs or data loss caused by  usage of this
 program - You use it at Your own risk.
@ENDNODE

@NODE Thanx "Thanks"

 Best  thanx  to the PureBasic team  (Frédéric Laboureur, Richard Andersson
 and Andre Beer) for building up such a mighty, fast and small-executables-
 creating Basic compiler. Without PureBasic this program @{b}wouldn't have been
 needed@{ub} ever ;-)

 My thanks also have to go to  Jürgen Kohrmeyer for his  rexxtricks.library
 and Rafael D'Halleweyn for his  rexxreqtools.library, without their devel-
 opment this program wouldn't have been possible as well.

 Last but not least my  thanks have to go to Bruce Dawson and  Olaf "Olsen"
 Barthel for the  marvellous  CygnusEd. If  some of my  wishes  could  come
 true...
@ENDNODE

@NODE Author "Author"

 If You use and like (or hate) this  program, please send me a message. I'd
 like to receive bug reports, suggestions for improvement or just a "hello"
 (Hi, Anders) at:

 eMail         Axel.Greve@icn.siemens.de
               (no private eMail, so please keep the Netequette :-)

 Snail mail    Axel Greve
               Hochfeld 26
               D-22607 Hamburg
               Germany

 Please send flames, bombs, etc. >NIL:
 __________________________________________________________________________

 Happy & successful programming,
 Axel

                              @{fg shine}--- Let's keep the Amiga spirit alive !!! ---@{fg text}
@ENDNODE
