@DATABASE "PBCompiler-GUI.rexx"
@NODE MAIN "PBCompiler-GUI.rexx"

 PBCompiler-GUI.rexx 1.2                                                    |
 Program and documentation by A. Greve

 English isn't my  native language. If You have problems  reading this doc,
 please don't hesitate to contact the @{" Author " Link Author}...

 Changes in this Guide's contents  compared to the previous version will be
 marked with "|" at the right margin.

 This script supplies the PureBasic  compiler with a  Graphical User Inter-
 face (GUI). All  arguments since  compiler version 1.30 are supported. The
 GUI will run with the demo version.

 @{" Features, News           " Link Features}                                                |
 @{" Requirements             " Link Requirements}
 @{" Installation             " Link Installation}
   @{" Adjustments, Tooltypes " Link Settings}
 @{" Usage                    " Link Usage}                                                |
   @{" GUI elements           " Link GUI_Elements}                                                |
 @{" History                  " Link History}                                                |
 @{" Hints                    " Link Hints}
 @{" Legal Stuff              " Link Legal_Stuff}
 @{" Thanks                   " Link Thanx}
 @{" Author                   " Link Author}
@ENDNODE

@NODE Features "Features, News"

 * A  bubble help (like MUI, but our  bubbles  are  rectangular :-) can  be
   added.
 * The GUI can be opened on any existing PubScreen.
 * A (defineable) texteditor can be started with the  selected source file.
 * The so  called "Fake" mode will show the command line in the output win-
   dow, instead of starting the compiler itself.

 New in version 1.1:
 * Bug fix: Error  messages in the compiler  output window weren't readable
   due to a missing  delay. In case of an error the window now will be held
   open for 5 seconds.
 * Now  an  evironment variable  "PureBasic_SourceName" will be checked. It
   should contain the path  and filename  of the last saved source file and
   is inserted in the according text field.
 * It is possible  now to create a file  containing the actual GUI settings
   like options, priority,  etc. It  can be  loaded with the next compiling
   and thus  preserves You from having to set up the old conditions for the
   re-compiling. This file is  related to the  respective source file ".pb"
   and is called ".§§".
 * Starting from a texteditor is possible, see "PureBasic:Extras/CygnusEd/"
   directory.
 * If started from a texteditor the "Edit Src" button is disabled.
 * The check button "Forget Window" causes the GUI to forget the last posi-
   tions (normal and  zoomed sizes) after quitting. At  next start the  GUI
   window will be centered on the screen again.
 * The  PureBasic helpfile ("Reference.guide" in the "Help/" directory) can
   be reached  via  Help key. In  combination with the  Shift key this file
   ("PureBasic:GUI/PBCompiler-GUI.guide") will be displayed.
 * If the  check  button "Create Icon" is set the default icon  "PureBasic:
   Compilers/Default_Icon.info" will  be added  to the executable, by  this
   the created program can be started from Workbench by doubleclick. Please
   take care that You will have to enter "WBStartup()" at the source code's
   beginning in this case.

 New in version 1.2:                                                        |
 * Bug fix:  By wrong  positioning of double quotes  copying of the default |
   icon with "Create Icon" caused an early program exit.                    |
 * With "Stack Size"  the stack size can  now be changed directly  from the |
   GUI. If an icon already exists the stack size will be read in at setting |
   the executable's name. There's an additional button to set the  standard |
   value 4096.                                                              |
@ENDNODE

@NODE Requirements "Requirements"

 PureBasic:
 * PureBasic has to be installed (script will run with the demo version).
 * "PureBasic:" must be assigned to the PureBasic directory.

 Editor:
 * A text editor should  be installed. The  default is, if no other  one is
   defined, "Ed".

 Libraries:
 * triton.library v1.3+,       by Stefan Zeiger,    Aminet: dev/gui
 * tritonrexx.library v37.6+,  by Jürgen Kohrmeyer, Aminet: util/rexx
 * rexxtricks.library v38.6+,  by Jürgen Kohrmeyer, Aminet: util/rexx
 * rexxsupport.library v34.9+, part of the ARexx installation

 System:
 * Kickstart/Workbench 2.04+ (see the requirements of the libs above in the
   corresponding docs).
 * RexxMast must be running.
@ENDNODE

@NODE Installation "Installation"

 Copy  the files of Your language  ("PureBasic/GUI/"  for English  version,
 "Deutsch/GUI/" for German version) to "PureBasic:GUI/".
 If  Frederic will keep these files into his  distribution, the  installing
 script should do the right things to put them to this directory.

 @{" Changes in the script " Link Settings}
@ENDNODE

@NODE Settings "Adjustments in the script & Tooltypes"

 The settings will be checked in the following order:
   1) Read in the Tooltypes if started from Wb
   2) Analyse the settings in the lines 3 to 9
   3) Set defaults if 1) or 2) failed

 If You start the  program by double clicking, the icon's  Tooltype entries
 will be analysed. Actually all Tooltypes are commented-out by brackets (so
 inactivated). At the right  margin examples are listed, showing how  those
 entries  may look like. ON/OFF variables are  turned to on state by YES or
 ON as well, any other value (NO, OFF, 0, etc.) turns to off.
 You  will probably have to edit the  entries in lines 3 to 9 of the script
 to make  them fit to  Your local  settings. If You  delete those lines the
 settings which are remarked in brackets will take place.
 If You @{b}change the pathes@{ub} the @{b}new ones must exist@{ub}.

 Not existing entries in the script or the Tooltypes are marked with --- at
 the corresponding position.

 ---                                                      PUBSCREEN=DOPUS.1
 will use Directory Opus' PubScreen. If the given  PubScreen  doesn't exist
 the  system  will use the Workbench automagically, so  there's no point in
 setting a default in the script. Please pay attention: PubScreen names are
 case-sensitive; capital and small letters will be distinguished.

 Line 3 "editor"      ("Ed")                                  EDITOR=CED:Ed
 Path and filename of Your texteditor.

 Line 4 "sourcepath"  ("PureBasic:")         SOURCEPATH=PureBasic:Projects/
 This is the path to Your source  directory. When a script is to be loaded,
 the requester will start from this path on.

 Line 5 "quickhelp"   (0)                                       QUICKHELP=1
 If the bubble help support for GUI elements (like buttons, string gadgets,
 etc.) should appear, leave this value to 1. Otherwise  set it to 0 or kill
 this line.

 Line 6 "usesettings" (0)                                     USESETTINGS=1
 If this variable is set to 1 the  compiler settings (options, priority and
 file  names for Executable  and  CrateResident)  will  be  loaded with the
 source file, as well, and saved at compiler start respectively.

 Line 7 "forgetwin"   (0)                                       FORGETWIN=1
 If this variable is set to 1 the GUI will forget the positions of the nor-
 mal and zoomed window  after quitting. At the next start the GUI window is
 centered on the screen.

 Line 8 "mviewpath"   ("SYS:Utilities/MultiView")                       ---
 Path and filename of MultiView. This program is required to view the Pure-
 Basic help or this file.

 Line 9 "createicon"  (0)                                      CREATEICON=1
 If this  variable is set to 1, "PureBasic/Compilers/Default_Icon.info"  as
 the default icon will be added to the created  executable. By this a Work-
 bench start is possible.
@ENDNODE

@NODE Usage "Usage"

 The script can be started from CLI/Shell and Workbench.
 @{b}CLI:@{ub}       "rx PureBasic:Extras/CygnusEd/PB_GetSyntax.ced".
 @{b}Workbench:@{ub} Start by double clicking the icon.
 If You  are using an "AppLauncher" like ToolManager f. e., the program can
 be started by a button.

 A description of the GUI elements You'll find @{" here " Link GUI_Elements}.

 CLI:
 ----
 If started from CLI a PubScreen name can be supplied as an argument, where
 PBCompiler-GUI should open its window on. Otherwise, or if the  given Pub-
 Screen doesn't exist, the window will be opened on the Workbench.

 CLI and Workbench:
 ------------------
 A possibly existing  environment variable "ENV:PureBasic_SourceName"  will
 be checked. It should  contain the complete path and filename  of the last
 saved  source file and is inserted in the text field  "Sourcefile". So, if
 You are  using a text editor different  from  PureEditor, You'll  have the
 possibility to supply the  GUI with the source  file's  name from the text
 editor. This requires a programmable editor (ARexx, i.e.). You should take
 care of the variable to be feeded with the path/filename before the GUI is
 launched and to be erased after the GUI is quitted.
 If started from a text editor the "Edit Src" button is disabled.

 When starting  the compiler it is possible to save the selected  settings.
 When the  source  file is  re-selected for compiling the  settings can  be
 loaded  automatically. By this  You save to remember the conditions of the
 last compiling Yourself.
 The "Use Settings" check button  will switch this feature on. If the vari-
 able "usesettings" (see @{" Changes in the script " Link Settings}) is  set to "1" this but-
 ton is checked at start of the GUI.
 Saved are: all checkmark options, priority and the file names "Executable"
 and "CreateResident" for compiler call.
 Tech: At compiler start in the source directory a file is created with the
 extension  ".§§" instead of ".pb", like  "test.§§" for "test.pb". When the
 source file is re-selected in  the GUI (and "Use Settings" is  switched to
 ON) the created file will be loaded and the settings will be restored.

 After quitting  the GUI the check button "Forget Window" causes the normal
 and  zoomed window positions to be  forgotten. If this  switch is OFF  the
 window opens at the old position and the zoomed position is saved as well.
 If the switch is ON the normal window opens at the screen's centre and the
 zoomed window's position  will be the upper left corner of the normal win-
 dow accordingly.
 Tech: After the window is closed  Triton saves its positions in the  envi-
 ronment variable "ENV:Triton/PBCompiler-GUI.win.1". If the check button is
 ON the variable is deleted  immediately. Triton doesn't copy this variable
 to ENVARC:, therefore the window will be centered after a reboot.

 With the Help key a PureBasic help  ("PureBasic:Help/Reference.guide") can
 be called,  as known from PureEditor. MultiView is used for that. The help
 can be opened continuosly because  it's opened on an own  screen and it is
 not attached to a  possibly  opened CLI. In  conjunction with  a Shift key
 this file ("PureBasic:GUI/PBCompiler-GUI.guide") will be displayed.

 The check button "Create Icon" causes the icon file  "PureBasic:Compilers/
 Default_Icon.info" to be copied to the created executable after compiling.
 By this a  Workbench start is  possible. In this case You should take care
 of the fact that an entry "WBStartup()" (at the start of the source  code)
 is added. If the icon  already  exists a  requester will open up asking if
 it should be overwritten. If no (new) executable  is created the switch is
 ignored.

 The text field  "Stack Size" enables directly  entering of the stack  size |
 for "Create Icon" in  the GUI. So, if Your  program needs a higher  value, |
 You won't have to change  it with Wb-Info. If an  icon already  exists the |
 stack size  will be read in at  setting the  executable's name. The button |
 right to  the text field simplifies  the setting to the  standard value of |
 4096 bytes.                                                                |
 Please pay  attention that You will have to take care of correctly values. |
 There's just an  error message if the entry couldn't be written  or if the |
 value isn't integer  or contains non-numeric  characters. So, if You enter |
 "10", this value will be written.                                          |

 Workbench:
 ----------
 If starting from Wb, please pay attention to the @{" Tooltypes " Link Settings}.
@ENDNODE

@NODE GUI_Elements "GUI elements"

 The GUI elements can be activated / toggled by the keys  shown in enclosed
 angle  brackets. <S>, <X> and <R> will activate a filerequester  to select
 or enter the according filename.

 Compiler options
 ----------------
 Sourcefile    <S>
 The source file to be compiled.

 Executable    <X>
 The path and  filename the  executable (created by the compiler) should be
 saved to.

 CreateRes.    <R>
 Creates a resident and a  resident-struct file  from the source code. Here
 You enter / select path and filename of the resident file; die struct file
 will be put to the same directory, but with the extension ".Struct".

 Priority      <P>, <Shift P>
 The priority the compiler should run with. With the "P"-key the value will
 be  increased and decreased  in  combination  with Shift. You can  use the
 slider to set the value  directly. The  value is displayed to  the left of
 the slider.

 0             <0>
 The  button to the right of the slider (or the "0"-key) sets the compilers
 priority to 0.

 Optimizations <O>
 turns on the  compiler  optimizations. By this the  executables get faster
 and shorter.

 MC68020       <2>
 This switch enables optimizations for 020 processors (and up).

 Debugger      <D>
 turns on the compilers debugging option.

 NoComment     <M>
 The assembler file will be created without comments, so the compiling time
 decreases.

 AmigaOS       <A>
 will load the AmigaOS libraries support.

 PowerPC       <W>
 enables compilation for PowerPC (WarpOS).

 NoResident    <N>
 disables the loading of the residents.

 GUI controls
 ------------
 Use Settings  <U>
 This switch  determines if the GUI settings (options, priority, etc.) will
 be used. They will be saved  at compiler start and loaded at  selection of
 the sourcefile, respectively.

 Forget Window <F>
 Causes the GUI to forget the  windows  positions (normal and zoomed) after
 quitting, at next start the window opens centered on the screen again.

 Create Icon   <I>
 Causes the icon file  "PureBasic:Compilers/Default_Icon.info" to be copied
 to the created executable  after  compiling. By this a  Workbench start is
 possible.

 Stack Size    <Z>                                                          |
 The value  entered here will be used for the  executable's icon if "Create |
 Icon" is activated. If You need a value differing from  the standard value |
 You can change it from here without having to call Workbench-Info.         |

 4096          <4>                                                          |
 With a single click You can reset the stack to the  standard value of 4096 |
 bytes.                                                                     |

 <Help>, <Shift Help>
 These functions can only be reached via the given keys.
 With <Help> "PureBasic:Help/Reference.guide" will be displayed.
 With <Shift Help> "PureBasic:GUI/PBCompiler-GUI.guide" will be displayed.

 Compile!      <C>
 starts the compiler with the selected options. If no source file is selec-
 ted, an error message will appear.

 Fake          <F>
 With this button the  command line for the compiler will be shown, instaed
 of starting the compiler itself. This might be useful if the question "Why
 did this go wrong?" comes up...

 Edit Src      <E>
 starts the texteditor with the selected source file.

 Quit          <Esc>
 quits the Graphical User Interface (GUI).

 For a more  exactly  description of the  compiler options  please read the
 PureBasic documentation.
@ENDNODE

@NODE History "History"

 v1.2   19-Nov-2000   * Bug fix:  Faulty  call for  copying the icon to the |
                        executable caused an early program exit.            |
                      * Creating  an icon for  the executable  enables  the |
                        stack size to be changed from the GUI.              |

 v1.1   02-Oct-2000   * Bug fix: Extended  the time of  displaying an error
                        message in the compiler's output window.
                      * Added  the  analysing  of the  environment variable
                        "PureBasic_SourceName".
                      * Compiler settings can be saved and loaded.
                      * The  actual windows  positions can be saved or for-
                        gotten.
                      * Added help functions.
                      * The  default icon in the  "Compilers" directory can
                        be copied to the executable.
                      * Update of this Guide.

 v1.0   09-Sep-2000   * Initial version
@ENDNODE

@NODE Hints "Hints"

 After installing the triton.library, You'll have a Triton-Preferences tool
 in  the "Prefs" directory of  Your Workbench: partition.  With it  You can
 change many aspects of the PBCompiler-GUI  (background, fonts, representa-
 tion of  the elements, etc.) to  make it fit to Your  imaginations. Simply
 select the entry  "PBCompiler-GUI..." from  the ListView  and  select  the
 property to be changed at the right side.
@ENDNODE

@NODE Legal_Stuff "Legal Stuff"

 PBCompiler-GUI.rexx is @{b}Freeware@{ub}. Do with it whatever You want, but You are
 not allowed to make profit with it.
 Although I have tested it on my system (A1200, KS 3.0, Bliizzard II w/24MB
 RAM) I am not  responsible for GURUs or data loss caused by  usage of this
 program - You use it at Your own risk.
@ENDNODE

@NODE Thanx "Thanks"

 Best  thanx  to the PureBasic team  (Frédéric Laboureur, Richard Andersson
 and Andre Beer) for building up such a mighty, fast and small-executables-
 creating Basic compiler. Without PureBasic this program @{b}wouldn't have been
 needed@{ub} ever ;-)

 My thanks also have to go to  Stefan Zeiger for his  triton.library and to
 Jürgen Kohrmeyer  for his tritonrexx.library and rexxtricks.library, with-
 out their development this program wouldn't have been possible as well.
@ENDNODE

@NODE Author "Author"

 If You use and like (or hate) this  program, please send me a message. I'd
 like to receive bug reports, suggestions for improvement or just a "hello"
 (Hi, Anders) at:

 eMail         Axel.Greve@icn.siemens.de
               (no private eMail, so please keep the Netequette :-)

 Snail mail    Axel Greve
               Hochfeld 26
               D-22607 Hamburg
               Germany

 Please send flames, bombs, etc. >NIL:
 __________________________________________________________________________

 Happy & successful programming,
 Axel

                              @{fg shine}--- Let's keep the Amiga spirit alive !!! ---@{fg text}
@ENDNODE
