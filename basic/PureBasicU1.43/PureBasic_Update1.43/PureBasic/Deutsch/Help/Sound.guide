@DATABASE Sound V1.03
$VER: PureBasic - Sound library V1.03 (18.03.2000) © Fantaisie Software
@NODE MAIN "Sound V1.03"

  @{b}PureBasic - Sound V1.03@{ub}

    Das Verwalten von Sounds wird niemals so einfach und
    schnell möglich sein wie mit dieser Library. Glauben
    Sie uns, wir nutzen die Amiga Hardware bis an ihre
    Grenzen, um systemkompatibles aber auch unmittelbares
    Abspielen von Sounds zu gewährleisten. Es werden
    einfach die 4 Stereo Audio-Kanäle für eine effiziente
    Ausgabe genutzt. Das Sound-Format ist IFF/8SVX, dem
    Standard auf dem Amiga.

  @{b}Befehlsübersicht:@{ub}

    @{" AllocateSoundChannels " LINK AllocateSoundChannels}
    @{" ChangeSoundPeriod     " LINK ChangeSoundPeriod }
    @{" ChangeSoundVolume     " LINK ChangeSoundVolume}
    @{" CopySound             " LINK CopySound}
    @{" CreateSound           " LINK CreateSound}
    @{" DecodeSound           " LINK DecodeSound}
    @{" FreeSound             " LINK FreeSound}
    @{" FreeSoundChannels     " LINK FreeSoundChannels}
    @{" GetSoundLength        " LINK GetSoundLength}
    @{" InitSound             " LINK InitSound}
    @{" LoadSound             " LINK LoadSound}
    @{" PeekSoundData         " LINK PeekSoundData}
    @{" PlaySound             " LINK PlaySound}
    @{" PokeSoundData         " LINK PokeSoundData}
    @{" SaveSound             " LINK SaveSound}
    @{" SetSoundChannels      " LINK SetSoundChannels}
    @{" SetSoundPeriod        " LINK SetSoundPeriod}
    @{" SetSoundVolume        " LINK SetSoundVolume}
    @{" SoundFilter           " LINK SoundFilter}
    @{" StopSound             " LINK StopSound}

  @{b}Beispiel:@{ub}

    @{" Sound Demo " LINK PureBasic:Examples/Sources/Sound.pb/Main}
@ENDNODE


@Node AllocateSoundChannels

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.w = AllocateSoundChannels(@{b}Channels@{ub}.w)

    @{b}FUNCTION@{ub}
  Benutzen Sie diese Funktion, um einen oder mehrere Kanäle zu reservieren.

  @{b}Channels@{ub}
  Diese Maske gibt an, welche Kanäle reserviert werden sollen.

  1 = versucht, Kanal 0 zu reservieren
  2 = versucht, Kanal 1 zu reservieren
  4 = versucht, Kanal 2 zu reservieren
  8 = versucht, Kanal 3 zu reservieren

  Nach Addition der Werte:

   9 = versucht, die Kanäle 0 und 3 zu reservieren
  15 = versucht, alle Kanäle zu reservieren

  @{b}Result@{ub}
  Ist diese Maske TRUE, zeigt sie an, welche Kanäle reserviert wurden.
  Andernfalls ergibt sie FALSE und keiner der gewünschten Kanäle konnte
  reserviert werden.
@EndNode


@Node ChangeSoundPeriod

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.w = ChangeSoundPeriod(@{b}#Obj@{ub}.w,@{b}Period@{ub}.w)

    @{b}FUNCTION@{ub}
  Benutzen Sie diese Funktion, um die Periode während dem
  Abspielen des Sounds zu verändern.

  Die im Sound Objekt festgelegte Periode, welche beim
  Start des Sounds benutzt wird, wird mit dieser Funktion
  nicht verändert.

  @{b}#Obj@{ub}
  Das Objekt, bei welchem die Periode verändert werden soll.

  @{b}Period@{ub}
  Dies ist der neue Perioden-Wert.

  @{b}Result@{ub}
  Diese Maske zeigt an, welches die von der Periodenänderung
  betroffenen Kanäle sind.
@EndNode


@Node ChangeSoundVolume

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.w = ChangeSoundVolume(@{b}#Obj@{ub}.w,@{b}Volume@{ub}.w)

    @{b}FUNCTION@{ub}
  Benutzen Sie diese Funktion, um die Lautstärke während dem
  Abspielen des Sounds zu verändern.

  Die im Sound Objekt festgelegte Lautstärke, welche beim
  Start des Sounds benutzt wird, wird durch diese Funktion
  nicht verändert.

  @{b}#Obj@{ub}
  Das Objekt, bei welchem die Lautstärke verändert werden soll.

  @{b}Volume@{ub}
  Dies ist der neue Lautstärken-Wert.

  @{b}Result@{ub}
  Diese Maske zeigt an, welches die von der Lautstärkenänderung
  betroffenen Kanäle sind.
@EndNode


@Node CopySound

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.l = CopySound(@{b}#Sound@{ub}.w,@{b}#Sound@{ub}.w)

    @{b}FUNCTION@{ub}
  Diese Funktion erstellt aus einem bereits existierenden #Soundobjekt
  eine komplette Kopie.

  @{b}#Sound@{ub}
  Der zu kopierende Sound.

  @{b}#Sound@{ub}
  Der neue Sound.

  @{b}Result@{ub}
  Ist dieses TRUE, wurde die Kopie von #Sound erstellt, andernfalls
  ist das Ergebnis FALSE.
@EndNode


@Node CreateSound

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.l = CreateSound(@{b}#Obj@{ub}.w,@{b}Length@{ub}.l)

    @{b}FUNCTION@{ub}
  Diese Funktion erstellt ein neues Sound Objekt und setzt
  dessen gesamte Sound Daten auf NULL. Periode, Lautstärke
  und Kanäle werden ebenfalls auf NULL gesetzt.

  Um die Sound-Daten lesen und schreiben zu können, benutzen
  Sie PeekSoundData() und PokeSoundData(). Periode, Lautstärke
  und Kanäle müssen mit den entsprechenden Funktionen festgelegt
  werden.

  @{b}#Obj@{ub}
  Das zu erstellende Objekt.

  @{b}Length@{ub}
  Die Länge der Sound-Daten.

  Es ist nutzlos, hier irgendeinen Wert größer als 128 KB
  anzugeben, da die Amiga Hardware dies nicht unterstützt.

  @{b}Result@{ub}
  Ergibt dieses TRUE, konnte das Objekt erstellt werden,
  andernfalls wird FALSE zurückgegeben.
@EndNode


@Node DecodeSound

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.w = DecodeSound(@{b}#Obj@{ub}.w,@{b}Pointer@{ub}.l)

    @{b}FUNCTION@{ub}
  Diese Funktion initialisiert ein Sound Objekt mit dem
  innerhalb des Programms gespeicherten IFF Sound.

  * Periode wird auf den - der IFF Datei entnommenen - Wert gesetzt.
  * Lautstärke (Volume) wird auf 64 gesetzt.
  * Kanäle werden auf 15 gesetzt.

  Ist das Sound Objekt bereits initialisiert, muß es erst mit
  dem Aufruf der Funktion FreeSound() freigegeben werden.
  Andernfalls verbleibt es im Speicher, aber es gibt keine
  Möglichkeit mehr, es abzuspielen.

  @{b}#Obj@{ub}
  Das zu benutzende Objekt.

  @{b}Pointer@{ub}
  Ein Zeiger (Pointer) auf den IFF Sound.

  @{b}Result@{ub}
  Dies ergibt TRUE, wenn das Sound Objekt mit dem eingebundenen
  Sound initialisiert werden konnte, andernfalls FALSE.
@EndNode


@Node FreeSound

    @{b}SYNTAX@{ub}
  FreeSound(@{b}#Obj@{ub}.w)

    @{b}STATEMENT@{ub}
  Dieser Befehl gibt ein Sound Objekt frei, welches mit
  LoadSound() oder DecodeSound() initialisiert wurde.

  Ist kein FastRam Speicher verfügbar, wird schließlich
  ChipRam Speicher benutzt. Ein mit DecodeSound()
  initialisiertes Sound Objekt bleibt gültig, bis es mit
  LoadSound() oder mit DecodeSound() (zusammen mit
  einem eingebundenen IFF Sound) erneut initialisiert wird.
  Dies bedeutet, dass ein solches Objekt niemals freigegeben
  werden kann.

  @{b}#Obj@{ub}
  Das freizugebende Objekt.
@EndNode


@Node FreeSoundChannels

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.w = FreeSoundChannels(@{b}Channels@{ub}.w)

    @{b}FUNCTION@{ub}
  Diese Funktion gibt einen oder mehrere Kanäle frei.

  @{b}Channels@{ub}
  Diese Maske gibt an, welche Kanäle freigegeben werden sollen.

  1 = gibt Kanal 0 frei
  2 = gibt Kanal 1 frei
  4 = gibt Kanal 2 frei
  8 = gibt Kanal 3 frei

  Nach Addition der Werte:

   9 = gibt beide Kanäle 0 und 3 frei
  15 = gibt alle Kanäle frei

  @{b}Result@{ub}
  Ist diese Maske TRUE zeigt sie an, welche Kanäle freigegeben
  wurden. Andernfalls ist sie FALSE und dies bedeutet, sie wurden
  nicht freigegeben, weil sie niemals reserviert wurden.
@EndNode


@Node GetSoundLength

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.l = GetSoundLength(@{b}#Obj@{ub}.w)

    @{b}FUNCTION@{ub}
  Diese Funktion ermittelt die Länge eines Sound Objektes.

  Benutzen Sie diesen Wert für entsprechende Berechnungen,
  damit PeekSoundData() und PokeSoundData() nicht außerhalb
  der aktuellen Sound Daten lesen oder schreiben.

  @{b}#Obj@{ub}
  Das zu benutzende Objekt.

  @{b}Result@{ub}
  Die Länge der Sound Daten.
@EndNode


@Node InitSound

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.w = InitSound(@{b}Objects@{ub}.l)

    @{b}FUNCTION@{ub}
  Diese Funktion ist die Initialisierungsroutine, um die für
  die Sounds benötigte Programmumgebung einzurichten. Sie muß
  vor allen anderen Funktionen aufgrufen werden. Sie kann nur
  einmal aufgerufen werden.

  @{b}Objects@{ub}
  Dieser Wert gibt an, wieviele Sound Objekte gewünscht werden.

  @{b}Result@{ub}
  Ergibt dieses TRUE, war der Aufruf erfolgreich. Andernfalls
  wird FALSE zurückgegeben und keine anderen Funktionen dieser
  Library können aufgerufen werden
@EndNode


@Node LoadSound

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.b = LoadSound(@{b}#Obj@{ub}.w,@{b}FileName@{ub}$)

    @{b}FUNCTION@{ub}
  Benutzen Sie diese Funktion, um ein Sound Objekt mittels einem
  auf Disk gespeicherten IFF Sound zu initialisieren.

  * Periode wird auf den - der IFF Datei entnommenen - Wert gesetzt.
  * Lautstärke (Volume) wird auf 64 gesetzt.
  * Kanäle werden auf 15 gesetzt.

  Ist das Sound Objekt bereits initialisiert, muß es erst mit
  dem Aufruf der Funktion FreeSound() freigegeben werden.
  Andernfalls verbleibt es im Speicher, aber es gibt keine
  Möglichkeit mehr, es abzuspielen.

  @{b}#Obj@{ub}
  Das zu benutzende Objekt.

  @{b}FileName@{ub}
  Die volle Pfadangabe zum IFF Sound.

  @{b}Result@{ub}
  Dies ergibt TRUE, wenn das Sound Objekt mit dem angegebenen
  IFF Sound initialisiert werden konnte, andernfalls FALSE.
@EndNode


@Node PeekSoundData

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.b = PeekSoundData(@{b}#Obj@{ub}.w,@{b}Position@{ub}.l)

    @{b}FUNCTION@{ub}
  Diese Funktion liest einige Sound Daten von einem Sound Objekt
  aus.

  @{b}#Obj@{ub}
  Das zu benutzende Objekt.

  @{b}Position@{ub}
  Gibt an, wo im Sound Objekt die Daten ausgelesen werden sollen.

  @{b}Result@{ub}
  Die ausgelesenen Daten, sie können zwischen -128 und 127 liegen.
@EndNode


@Node PlaySound

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.w = PlaySound(@{b}#Obj@{ub}.w,@{b}Repeat@{ub}.w)

    @{b}FUNCTION@{ub}
  Diese Funktion spielt das angegebene Sound Objekt ab. Dabei
  werden die im Objekt gespeicherten Werte für Periode,
  Lautstärke und Kanäle benutzt.

  @{b}#Obj@{ub}
  Das abzuspielende Objekt.

  @{b}Repeat@{ub}
  Soll der Sound ein- oder mehrmals abgespielt werden, setzen Sie
  diesen Parameter auf einen positiven Wert (ungleich null). Soll
  der Sound endlos wiederholt werden, geben Sie einen negativen
  Wert an.

  @{b}Result@{ub}
  Diese Maske zeigt die aktuellen Kanäle an, welche für den Sound
  benutzt werden. Null bedeutet, dass der Sound nicht abgespielt
  wird.
@EndNode


@Node PokeSoundData

    @{b}SYNTAX@{ub}
  PokeSoundData(@{b}#Obj@{ub}.w,@{b}Position@{ub}.l,@{b}Data@{ub}.b)

    @{b}STATEMENT@{ub}
  Dieser Befehl schreibt einige Daten in ein Sound Objekt.

  @{b}#Obj@{ub}
  Das zu benutzende Objekt.

  @{b}Position@{ub}
  Gibt an, wo im Sound Objekt die Daten geschrieben werden sollen.

  @{b}Data@{ub}
  Die zu schreibenden Daten, sollte reichen von -128 bis 127.
@EndNode


@Node SaveSound

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.b = SaveSound(@{b}#Obj@{ub}.w,@{b}FileName@{ub}$)

    @{b}FUNCTION@{ub}
  Diese Funktion speichert ein Sound Objekt als einen IFF Sound
  auf Disk.

  @{b}#Obj@{ub}
  Das zu speichernde Objekt.

  @{b}FileName@{ub}
  Die volle Pfadangabe, wo der IFF Sound gespeichert werden soll.

  @{b}Result@{ub}
  Ergibt TRUE, wenn das Sound Objekt erfolgreich als ein IFF Sound
  auf Disk gespeichert werden konnte, andernfalls FALSE.
@EndNode


@Node SetSoundChannels

    @{b}SYNTAX@{ub}
  SetSoundChannels(@{b}#Obj@{ub}.w,@{b}Channels@{ub}.w)

    @{b}STATEMENT@{ub}
  Dieser Befehl legt die Kanäle im Sound Objekt fest, welche
  beim Abspielen des Sounds genutzt werden sollen.

  Die Kanäle werden beim Initialisieren des Sound Objekts mit
  LoadSound() oder DecodeSound() auf 15 gesetzt.

  @{b}#Obj@{ub}
  Das Objekt, bei welchem die Kanäle festgelegt werden sollen.

  @{b}Channels@{ub}
  Dies ist eine Maske, welche die zu benutzenden Kanäle beim
  angegebenen Objekt festlegt.

  1 = benutze nur Kanal 0
  2 = benutze nur Kanal 1
  4 = benutze nur Kanal 2
  8 = benutze nur Kanal 3

  Wenn zusammenaddiert:

   5 = benutze Kanäle 0 und 2
  15 = benutze alle Kanäle
@EndNode


@Node SetSoundPeriod

    @{b}SYNTAX@{ub}
  SetSoundPeriod(@{b}#Obj@{ub}.w,@{b}Period@{ub}.w)

    @{b}STATEMENT@{ub}
  Dieser Befehl legt die Periode im Sound Objekt fest, welche
  beim Abspielen des Sounds benutzt wird.

  Die Periode wird automatisch auf den richtigen Wert gesetzt
  (der IFF Datei entnommen), wenn das Sound Objekt mittels
  LoadSound() oder DecodeSound() initialisiert wird.

  @{b}#Obj@{ub}
  Das Objekt, für welches die Periode definiert werden soll.

  @{b}Period@{ub}
  Die Periode; sie sollte den endgültigen Wert darstellen,
  da damit keine Berechnungen erfolgen.
@EndNode


@Node SetSoundVolume

    @{b}SYNTAX@{ub}
  SetSoundVolume(@{b}#Obj@{ub}.w,@{b}Volume@{ub}.w)

    @{b}STATEMENT@{ub}
  Dieser Befehl legt die Lautstärke (Volume) im Sound
  Objekt fest, welche beim Abspielen des Sounds benutzt
  wird.

  Die Lautstärke wird auf 64 festgelegt, wenn das Sound Objekt
  mittels LoadSound() oder DecodeSound() initialisiert
  wird.

  @{b}#Obj@{ub}
  Das Objekt, bei welchem die Lautstärke festgelegt werden soll.

  @{b}Volume@{ub}
  Die Lautstärke, sie sollte zwischen 0 und 64 liegen.
@EndNode


@Node SoundFilter

    @{b}SYNTAX@{ub}
  SoundFilter(@{b}ON/OFF@{ub})

    @{b}STATEMENT@{ub}
  Dieser Befehl schaltet den Audiofilter ein oder aus.

  @{b}ON/OFF@{ub}
  Setzen Sie diesen Parameter auf TRUE, um den Audiofilter EIN
  zu schalten oder auf FALSE, um den Audiofilter AUS zu schalten.
@EndNode


@Node StopSound

    @{b}SYNTAX@{ub}
  StopSound(@{b}#Obj@{ub}.w)

    @{b}STATEMENT@{ub}
  Benutzen Sie diesen Befehl, um einen Sound anzuhalten.

  @{b}#Obj@{ub}
  Das anzuhaltende Objekt.
@EndNode
