@DATABASE Palette
$VER: PureBasic - Palette library (05.03.2000) © Fantaisie Software
@NODE MAIN "Palette"

  @{b}PureBasic Palette library@{ub}

    Les palettes de couleurs jouent un rôle primordial dans l'affichage
    des objets graphiques. Vous pourrez controler tous les aspects des
    palettes grâce à cette puissante bibliothèque du PureBasic. Des
    fonctions spéciales comme les fondus d'ecrans (FadeIn, FadeOut)
    ou des fondus entre palettes (CrossFading) sont présentes. Elles
    ont été optimisées pour une rapidité optimale tout en respectant
    l'environnement de l'Amiga.

  @{b}Commandes disponibles:@{ub}

    @{" Blue              " LINK Blue}
    @{" CreatePalette     " LINK CreatePalette}
    @{" DisplayPalette    " LINK DisplayPalette}
    @{" FreePalette       " LINK FreePalette}
    @{" Fade              " LINK Fade}
    @{" FadeOut           " LINK FadeOut}
    @{" GetPicturePalette " LINK GetPicturePalette}
    @{" GetScreenPalette  " LINK GetScreenPalette}
    @{" Green             " LINK Green}
    @{" InitPalette       " LINK InitPalette}
    @{" LoadPalette       " LINK LoadPalette}
    @{" NbColour          " LINK NbColour}
    @{" PalRrgb           " LINK PalRgb}
    @{" Red               " LINK Red}
    @{" Rgb               " LINK Rgb}
    @{" UsePalette        " LINK UsePalette}

  @{b}Exemple:@{ub}

    @{" Fading workbench  " LINK "/Examples/Sources/Palette.pb/Main"}

@ENDNODE


@NODE ASyncFade

    @{b}Syntaxe@{ub}
  ASyncFade(#Palette1, #Palette2, Step, NbLoop, ScreenID)

    @{b}Résumé@{ub}
  Same as NFade() routine, but doesn't halt the program. The fade
  is executed in the background.

  You can use NAsyncStatus() to find out if the background fade is
  finished or not.

@ENDNODE


@NODE ASyncFadeStatus

    @{b}Syntaxe@{ub}
  Résultat.b = ASyncFadeStatus

    @{b}Résumé@{ub}
  Return '-1' if the Fade is still running or '0' if
  the fade has finished.

  Exemple:

  Repeat                  ; Typical loop to wait for the end
    NVWait                ; of the background fade.
  Until NASyncStatus = 0  ;

@ENDNODE


@NODE Fade

    @{b}Syntaxe@{ub}
  Fade(#Palette1, ScreenID, #Palette2, Step, NbLoop)

    @{b}Résumé@{ub}
  Effectue un fondu allant d'une palette vers une autre palette. Cette
  fonction permet de faire des beaux effets de 'crossfading' ou de
  simple 'FadeIn' - 'FadeOut' si l'une des deux palette est entièrement
  noire.


  #Palette1: Identifiant numérique de la palette 'source'

  #Palette2: Identifiant numérique de la palette 'destination'

  ScreenID: Identifiant de l'écran sur lequel le fondu doit être affiché.
            Cette valeur peut être obtenue facilement grâce à la commande
            @{" ScreenID() " LINK "PureBasic:Help/Screen.guide/ScreenID"} de la bibliothèque 'Screen'.

  Step: Vitesse à laquelle le fondu doit s'effectuer. La valeur '1' est
        la plus lente, une valeur de '2' fera un fondu 2 fois plus
        rapide, etc...

  NbLoop: Nombre de boucles que doit effectuer le fondu. Par défaut, le
          fondu execute 255 boucles pour se terminer entierement. Mais
          vous pouvez lui dire qu'au bout de 128 boucles, le fondu
          s'arrête.

@ENDNODE


@NODE FreePalette

    @{b}Syntaxe@{ub}
  FreePalette(#Palette)

    @{b}Résumé@{ub}
  Libère la mémoire occupée par la palette spécifié. La palette est détruite
  et vous ne pouvez plus l'utiliser ultérieurement.


  #Palette: Identifiant numérique de la palette à détruire.
@ENDNODE


@NODE InitPalette

    @{b}Syntaxe@{ub}
  result.l = InitPalette(#NumPaletteMax)

    @{b}Résumé@{ub}
  Intialise l'environnement nécessaire à la gestion des futures palettes
  de couleurs. Cette fonction doit être appelée avant n'importe quelle
  autre fonction de cette bibliothèque.


  #NumPaletteMax : Nombre maximum de palettes à gérer.

@ENDNODE


@NODE LoadPalette

    @{b}Syntaxe@{ub}
  Resultat.l = LoadPalette(#Palette, FileName$)

    @{b}Résumé@{ub}
  Charge la palette contenue dans le fichier IFF spécifié (de type image,
  brosse ou palette, les 3 sont acceptés). Si la palette a été correctement
  initialisée, la valeur 'Résultat' est positive, sinon une erreur est
  survenue:

    Valeur retournée en cas d'erreur

        -1 : Fichier introuvable ou endommagé
        -2 : Le fichier spécifié n'est pas du type IFF
        -3 : Aucune palette de couleur dans ce fichier IFF

@ENDNODE


@NODE Red

    @{b}Syntaxe@{ub}
  Red.w = Red(ColourIndex)

    @{b}Résumé@{ub}
  Retourne la valeur de la composante 'rouge' trouvée à la position
  donnée de la palette courante. La valeur retournée est toujours
  comprise entre 0 et 255.


  ColourIndex: Index de la couleur à examiner.
@ENDNODE


@NODE Green

    @{b}Syntaxe@{ub}
  Green.w = Green(ColourIndex)

    @{b}Résumé@{ub}
  Retourne la valeur de la composante 'verte' trouvée à la position
  donnée de la palette courante. La valeur retournée est toujours
  comprise entre 0 et 255.


  ColourIndex: Index de la couleur à examiner.
@ENDNODE


@NODE Blue

    @{b}Syntaxe@{ub}
  Blue.w = Blue(ColourIndex)

    @{b}Résumé@{ub}
  Retourne la valeur de la composante 'bleue' trouvée à la position
  donnée de la palette courante. La valeur retournée est toujours
  comprise entre 0 et 255.


  ColourIndex: Index de la couleur à examiner.
@ENDNODE


@NODE CreatePalette

    @{b}Syntaxe@{ub}
  Résultat = CreatePalette(#Palette, NbColour)

    @{b}Résumé@{ub}
  Essaye de créer une nouvelle palette vide en tenant compte des arguments
  proposés. Si le 'Résultat' est NULL alors la tentative a echouée. Sinon,
  la nouvelle a été créée correctement.


  #Palette: Identifiant numérique de la nouvelle palette.

  NbColour: Nombre de couleurs que doit contenir la nouvelle palette.
@ENDNODE


@NODE Rgb

    @{b}Syntaxe@{ub}
  Rgb(ScreenID, ColourIndex, R, G, B)

    @{b}Résumé@{ub}
  Change directement la couleur spécifiée de l'écran donné.

  ScreenID: Identifiant de l'écran auquel doit être appliqué le changement
            de couleur. Cette valeur peut être obtenue facilement grâce
            à la commande @{" ScreenID() " LINK "PureBasic:Help/Screen.guide/ScreenID"} de la bibliothèque 'Screen'.

  ColourIndex: Index de la couleur à modifier.

  R,G,B: Valeur des composantes 'Rouge' 'Verte' et 'Bleue' de la nouvelle
         couleur.

@ENDNODE


@NODE NbColour

    @{b}Syntaxe@{ub}
  Résultat.l = NbColour()

    @{b}Résumé@{ub}
  Retourne le nombre de couleurs présentes dans la palette courante.
@ENDNODE


@NODE PalRgb

    @{b}Syntaxe@{ub}
  PalRgb(ColourIndex, R, G, B)

    @{b}Résumé@{ub}
  Change la couleur spécifiée de la palette courante.

  ColourIndex: Index de la couleur à modifier.

  R,G,B: Valeur des composantes 'Rouge' 'Verte' et 'Bleue' de la nouvelle
         couleur.
@ENDNODE


@NODE GetScreenPalette

    @{b}Syntaxe@{ub}
  Résultat = GetScreenPalette(#Palette, ScreenID)

    @{b}Résumé@{ub}
  Essaye de créer une nouvelle palette à partir de la palette de l'écran
  spécifié. Si le Résultat est NULL, alors la tentative de création
  a echouée. Sinon, la nouvelle palette est créée.


  #Palette: Identifiant numérique de la nouvelle palette

  ScreenID: Identifiant de l'écran à partir duquel la palette doit être
            recopiée. Cette valeur peut être obtenue facilement grâce
            à la commande @{" ScreenID() " LINK "PureBasic:Help/Screen.guide/ScreenID"} de la bibliothèque 'Screen'.
@ENDNODE


@NODE GetPicturePalette

    @{b}Syntaxe@{ub}
  Résultat = GetPicturePalette(#Palette, PictureID)

    @{b}Résumé@{ub}
  Essaye de créer une nouvelle palette à partir de la palette d'une image
  IFF/ILBM donnée. Si le 'Résultat' retourné est NULL, alors la tentative
  de création de la palette a échouée. Sinon, la nouvelle palette a été
  convenablement créée.


  #Palette: Identifiant numérique de la nouvelle palette

  PictureID: Identifiant d'une image préalablement chargé en mémoire. Vous
             pouvez obtenir rapidement la valeur de l'identifiant de
             l'image courante grâce à la fonction @{" PictureID() " LINK "PureBasic:Help/Picture.guide/PictureID"} de la
             bibliothèque 'Picture'.

@ENDNODE


@NODE DisplayPalette

    @{b}Syntaxe@{ub}
  DisplayPalette(#Palette, ScreenID)

    @{b}Résumé@{ub}
  Modifie la palette actuelle de l'écran par la nouvelle palette à afficher.


  #Palette: Identifiant numérique de la palette à afficher.

  ScreenID: Identifiant de l'écran sur lequel la palette doit être affichée.
            Cette valeur peut être obtenue facilement grâce à la commande
            @{" ScreenID() " LINK "PureBasic:Help/Screen.guide/ScreenID"} de la bibliothèque 'Screen'.
@ENDNODE


@NODE UsePalette

    @{b}Syntaxe@{ub}
  UsePalette(#Palette)

    @{b}Résumé@{ub}
  Change la palette courante par la nouvelle palette.


  #Palette: Identifiant numérique de la nouvelle palette.

@ENDNODE


@NODE FadeOut

    @{b}Syntaxe@{ub}
  FadeOut(#Palette, Step, NbLoop, ScreenID)

    @{b}Résumé@{ub}
  Effectue un fondu d'écran très rapide (de la palette spécifiée
  vers la couleur noire). La palette spécifié est modifiée par
  cette commande, et à la fin, elle est complètement noire.
  Il est préférable d'utiliser cette commande pour faire faire
  un simple 'FadeOut' plutôt que la commande @{" Fade() " LINK Fade} car elle est
  beaucoup plus rapide.


  #Palette: Identifiant numérique de la palette d'origine.

  Step: Vitesse à laquelle le fondu doit s'effectuer. La valeur '1' est
        la plus lente, une valeur de '2' fera un fondu 2 fois plus
        rapide, etc...

  NbLoop: Nombre de boucles que doit effectuer le fondu. Par défaut, le
          fondu execute 255 boucles pour se terminer entierement. Mais
          vous pouvez lui dire qu'au bout de 128 boucles, le fondu
          s'arrête.

  ScreenID: Identifiant de l'écran sur lequel le 'FadeOut' doit être affiché.
            Cette valeur peut être obtenue facilement grâce à la commande
            @{" ScreenID() " LINK "PureBasic:Help/Screen.guide/ScreenID"} de la bibliothèque 'Screen'.


@ENDNODE



