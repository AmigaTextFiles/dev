@DATABASE AmigaSprite
$VER: PureBasic - AmigaSprite library (10.03.2000) © Fantaisie Software
@NODE MAIN "AmigaSprite"

  @{b}PureBasic - AmigaSprite library@{ub}

    Les 'AmigaSprites' sont des 'Sprites' un peu particuliers
    (voir le chapitre @{" Sprites " LINK "PureBasic:Help/Sprite.guide/Main"}). Tout d'abord, les AmigaSprites
    sont gérés intégralement par le hardware de l'Amiga, donc
    il sont très rapides, bien plus rapides que les Sprites
    standards. Mais il ne peut y avoir que 8 AmigaSprites affichés
    simultanément à l'écran. De plus ils sont limités à 4 couleurs...
    D'un autre coté, ils peuvent avoir une taille conséquente: leur
    largeur peut aller jusqu'à 64 pixels (sur les Amigas AGA) et
    leur hauteur est infinie.

  @{b}Commandes disponibles:@{ub}

    @{" AmigaSpriteScreen           " LINK AmigaSpriteScreen}
    @{" ChangeAmigaSpriteResolution " LINK ChangeAmigaSpriteResolution}
    @{" DisplayAmigaSprite          " LINK DisplayAmigaSprite}
    @{" FreeAmigaSprite             " LINK FreeAmigaSprite}
    @{" InitAmigaSprite             " LINK InitAmigaSprite}
    @{" LoadAmigaSprite             " LINK LoadAmigaSprite}

  @{b}Exemple:@{ub}

    @{" AmigaSprite demo            " LINK "PureBasic:Examples/Sources/AmigaSprite.pb/Main"}

@ENDNODE


@NODE AmigaSpriteScreen

    @{b}SYNTAX@{ub}
  AmigaSpriteScreen(ScreenID)

    @{b}COMMAND@{ub}
  Permet de spécifier sur quel écran les AmigaSprites doivent être affichés.
  La valeur 'ScreenID' peut être facilement obtenue par la commande @{" ScreenID() " LINK "PureBasic:Help/Screen.guide/ScreenID"}.


  ScreenID: Identifiant de l'écran.

@ENDNODE


@NODE ChangeAmigaSpriteResolution

    @{b}SYNTAX@{ub}
  ChangeAmigaSpriteResolution(NewResolution)

    @{b}FUNCTION@{ub}
  Un des avantages des AmigaSprites, c'est qu'il possible de changer leur
  résolution horizontale, et ce indépendemment du type d'écran utilisé.
  Par exemple on peut afficher des AmigaSprites en mode 'Super Hi-Res'
  (1024 pixels par ligne) sur un écran en 320*200. Vous pouvez utiliser
  cette commande seulement après avoir appelé la commande @{" AmigaSpriteScreen() " LINK AmigaSpriteScreen}.

    Valeurs possibles pour 'NewResolution':

        1: 'Low-Res'      AmigaSprite ( 320 pixels par ligne)
        2: 'Hi-Res'       AmigaSprite ( 640 pixels par ligne)
        3: 'Super Hi-Res' AmigaSprite (1024 pixels par ligne)

@ENDNODE


@NODE DisplayAmigaSprite

    @{b}SYNTAX@{ub}
  DisplayAmigaSprite(#AmigaSprite, Channel, x, y)

    @{b}FUNCTION@{ub}
  Affiche l'AmigaSprite spécifié à la position donnée sur l'écran AmigaSprite
  courant (defini par la commande @{" AmigaSpriteScreen() " LINK AmigaSpriteScreen}. Le système d'affichage
  est basé sur un système de canaux, où chaque canal peut afficher un AmigaSprite
  et un seul. Donc on ne peut pas afficher plus de 8 sprites en même temps.
  Les valeurs des canaux vont de 0 à 7.

  Note: Les AmigaSprites 'survolent' les graphiques sans jamais les détruire. La
        couleur 0 est toujours considérée comme transparente.


  #AmigaSprite: Identifiant numérique de l'AmigaSprite à afficher.

  Channel: Numéro du canal sur lequel l'AmigaSprite doit être afficher.

  x, y: Coordonée de l'AmigaSprite par rapport au coin supérieur gauche de l'écran.

@ENDNODE


@NODE FreeAmigaSprite

    @{b}SYNTAX@{ub}
  FreeAmigaSprite(#AmigaSprite)

    @{b}FUNCTION@{ub}
  Detruit l'AmigaSprite spécifié. Toute la mémoire occupé par cet AmigaSprite est
  libérée. Vous ne pouvez plus utilisé cet AmigaSprite.


  #AmigaSprite: Identifiant numérique de l'AmigaSprite à détruire.

@ENDNODE


@NODE InitAmigaSprite

    @{b}SYNTAX@{ub}
  Resultat = InitAmigaSpriteFile(#MaxAmigaSprites)

    @{b}FUNCTION@{ub}
  Initialise l'environnement nécessaire à la future gestion des AmigaSprite.
  Cette commande doit être appelée avant toute les autres commandes
  concernant les AmigaSprites. Si le 'Resultat' est NULL, alors l'initialisation
  a échoué (manque de mémoire).


  #MaxAmigaSprite: Nombre maximal d'AmigaSprites à gérer.

@ENDNODE


@NODE LoadAmigaSprite

    @{b}SYNTAX@{ub}
  Resultat = LoadAmigaSprite(#AmigaSprite, FileName$)

    @{b}STATEMENT@{ub}
  Charge et initialise un AmigaSprite à partir d'un fichier IFF/ILBM (compréssé
  ou non). Un fois chargé, l'AmigaSprite est directement utilisable. Les AmigaSprites
  sont stockés intégralement et sous forme non-compressée en Chip-Ram. Il est
  déconseillé de saturer cette mémoire, car elle est vitale pour le système.
  La largeur des AmigaSprites est limité à 16 pixels pour les Amiga ECS/OCS ou
  à 64 pixels pour les Amiga AGA. La hauteur d'un AmigaSprite est illimitée.

  Si la valeur retournée est inférieure ou égale à 0 une erreur est survenue:

     0 : Plus assez de mémoire
    -1 : Fichier introuvable
    -2 : Ce fichier n'est pas du type IFF/ILBM
    -3 : Fichier IFF/ILBM corrompu.

@ENDNODE
