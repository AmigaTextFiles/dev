@DATABASE Timer
$VER: PureBasic - Timer library (05.03.2000) © Fantaisie Software
@NODE MAIN "Timer"

  @{b}PureBasic - Timer@{ub}

    Le 'Timer' est une fonction permettant de calculer combien
    de temps s'est ecoulé entre deux parties d'un programme.
    Celui utilisé dans cette bibliothèque est très précis (précision
    inférieure à la micro-seconde) mais ne peut pas durer plus d'une
    frame (environ 20 millisecondes). Il est très utile pour calculer
    combien de temps dure une partie d'un programme ou pour attendre
    un petit laps de temps. Cette fonction n'est pas dépendante du
    processeur, donc on obtient les meme résultats tous les Amigas.

  @{b}Commands summary:@{ub}

    @{" AllocateTimer " LINK AllocateTimer}
    @{" FreeTimer     " LINK FreeTimer}
    @{" InitTimer     " LINK InitTimer}
    @{" StartTimer    " LINK StartTimer}
    @{" StopTimer     " LINK StopTimer}

    @{" Timer Demo    " LINK PureBasic:Examples/Sources/Timer.pb/Main}
@ENDNODE


@Node AllocateTimer

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.b = AllocateTimer()

    @{b}FUNCTION@{ub}
  Tentative d'allocation du timer 'CIA'. Le CIA est un petit
  composant de l'Amiga qui sert entre autre à calculer
  des intervalles de temps. Si le 'Résultat' est NUL, alors
  le timer n'a pas pu être alloué, sinon tout a été correctement
  initialisé.

  Il est interdit d'appeler cette commande deux fois de suite
  sans avoir appelé la commande 'FreeTimer()' entre temps.
@EndNode


@Node FreeTimer

    @{b}SYNTAX@{ub}
  FreeTimer()

    @{b}STATEMENT@{ub}
  Permet de libérer un timer précédemment alloué par la fonction
  AllocateTimer()
@EndNode


@Node InitTimer

    @{b}SYNTAX@{ub}
  InitTimer()

    @{b}STATEMENT@{ub}
  Initialise l'envirronement nécessaire au bon fonction du timer.
  Cette fonction doit être impérativement appelée avant les autres
  commandes de cette bibliothèque.
@EndNode


@Node StartTimer

    @{b}SYNTAX@{ub}
  StartTimer()

    @{b}STATEMENT@{ub}
  Remet le timer à 0 et commence à compter.

@EndNode


@Node StopTimer

    @{b}SYNTAX@{ub}
  @{b}Result@{ub}.w = StopTimer()

    @{b}FUNCTION@{ub}
  Arrête le timer. Si la valeur retournée est égale à -1, alors
  la valeur maximale du timer a été atteint (trop long: durée
  supérieure à une frame). Pour convertir la valeur retournée
  en micro-seconde, il faut la multiplier par 1.39.

@EndNode

