<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.72 [en] (X11; I; Linux 2.2.14 i686) [Netscape]">
   <title>Sprite lists are used to store sprites in a dynamic fashion</title>
</head>
<body>

<hr>
<center>
<p>This is the documentation for the SDLSpriteList class, designed for
SDL.
<br>It is based on original documentation of CDXSpriteList.</center>

<hr>

<p class="LargeText">Sprite lists are used to store sprites in a dynamic
fashion. A SDLSpriteList is a linked list of SDLSprite objects, which can
be added and removed at run-time.
<br>&nbsp;
<div class="LargeText"></div>&nbsp;

<p>SDLSprite is based on original sources from CDX and ported and modified
for SDL by <a href="mailto:edorul@caramailcom">Regis Quercioli</a>.
<div class="UnderlineTitle">
<div class="UnderlineTitle"><b><i><font size=+1>Known problems:</font></i></b></div>
</div>
<b>None.</b>
<br>
<hr>
<center>
<p><b><font size=+2>Tutorial</font></b></center>

<hr>
<p>Here is a little code tutorial on how to use SDLSprite in your projects:
<p><b><i><font size=+1>Initializing:</font></i></b>
<p>For each SpriteList you want :
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SDLSpriteList&nbsp;
projectile;
<p>Add a sprite to the list :
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; projectile.AddSprite(bullet,
0, 128, 112, 4, -4, 0, 0, 100);
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; It adds
the bullet sprite (already created with (for example): SDLSprite *bullet
= new SDLSprite("bullet.bmp", 16, 16, 3);) with type 0, at pos X,Y : 128,112,
at velocity X,Y : 4,-4, with State and Frame 0, and with a delay between
two sprite animations of 100ms. You can add in a single SpriteList as many
different sprites as you need.
<p><b><i><font size=+1>Using the list:</font></i></b>
<p>LOOPING THE LIST: When using a sprite list you will often need to loop
through the list and perform operations on each of the sprites in the list,
such as updating their positions. The code below shows how to loop through
a CDXSpriteList:
<p>SDLSprite* Node;
<p>for(Node = projectile.Next(); Node != projectile.List(); Node = Node->m_Next)
<br>{
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Node->m_PosX
+= Node->m_VelX;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Node->m_PosY
+= Node->m_VelY;
<br>}
<p><b><i><font size=+1>Suppress a sprite in the list:</font></i></b>
<p>Notice that if you intend to remove sprites from the list as you update
them you must save a pointer to the next sprite in the list to prevent
the loop from becoming lost. Example :
<p>SDLSprite* Node;
<br>SDLSprite* Save;
<p>for(Node = projectile.Next(); Node != projectile.List(); Node = Node->m_Next)
<br>{
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (Node->m_Type
== DEAD)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Save = Node->Next();
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
projectile.DelSprite(Node);
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Node = Save;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <sup>}</sup>
<br>}
<br>
<hr>
<center>
<p><b><font size=+2>SpriteList methods</font></b></center>

<hr>
<p><b><i><font size=+1>Constructors/Destructors :</font></i></b>
<p><span class="Code">#include "SDLSprite.h"
<br>class SDLSpriteList;</span>
<dl>
<dt class="Code">
<b>SDLSpriteList</b>() ;</dt>

<dd>
Default constructor.</dd>

<dt class="Code">
<b>~SDLSpriteList</b>() ;</dt>

<dd>
Default constructor.</dd>
</dl>

<div class="UnderlineTitle"><b><i><font size=+1>Operations:</font></i></b></div>

<dl>
<dt>
<span class="Code">SDLSprite* <b>AddSprite</b>(SDLSprite* <b>pTile</b>
,</span></dt>

<dd>
<span class="Code">int <b>Type&nbsp; = 0</b>,</dd>

<br>int <b>PosX&nbsp; = 0</b>,
<br>int <b>PosY&nbsp; = 0</b>,
<br>int <b>VelX&nbsp; = 0</b>,
<br>int <b>VelY&nbsp; = 0</b>,
<br>int <b>State&nbsp; = 0</b>,
<br>int <b>Frame&nbsp; = 0</b>,
<br>int <b>Delay&nbsp; = 0</b>) ;</span>
<dt>
&nbsp;</dt>

<dd>
&nbsp;Adds a sprite to the sprite list. Only a pointer to a SDLSprite object
is required, however you can also set up the sprite as required.</dd>

<dt>
&nbsp;</dt>

<dt class="Code">
void <b>DelSprite</b>(SDLSprite* <b>pNode</b> ) ;</dt>

<dd>
&nbsp;Removes a sprite from the list.</dd>

<dt>
&nbsp;</dt>

<dt class="Code">
void <b>Draw</b>(SDLSurface* <b>lpSDLS</b> , DWORD <b>ScrnWorldX</b> ,
DWORD <b>ScrnWorldY</b> , WORD <b>BltType</b> ) ;</dt>

<dd>
Draws all the sprites in the list to the surface pointed to by lpDDS.</dd>

<dt>
&nbsp;</dt>

<dt>
<span class="Code">SDLSprite* <b>List</b>() ;</span></dt>

<dd>
&nbsp;Gives the pointer of the list.</dd>

<dd>
&nbsp;</dd>

<dt>
<span class="Code">SDLSprite* <b>Next</b>() ;</span></dt>

<dd>
&nbsp;Gets the next sprite in the list.</dd>

<dt>
&nbsp;</dt>

<dt class="Code">
SDLSprite* <b>Prev</b>() ;</dt>

<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Gets the
previous sprite in the list.</dl>

<div class="UnderlineTitle"><b><i><font size=+1>Data Members:</font></i></b></div>

<dl>
<dt>
<u>Public:</u></dt>

<dd>
<span class="Code">SDLSprite <b>m_List</span></b>&nbsp; - The top of the
list.</dd>

<br><span class="Code">int <b>m_nSprites</span></b>&nbsp; - The number
of sprites in the list.</dl>

</body>
</html>
