CC = ppc-morphos-gcc
AR = ppc-morphos-ar
RANLIB = ppc-morphos-ranlib
RM = rm

CFLAGS = -O2 -s -mcpu=750 -mmultiple  -fomit-frame-pointer -mfused-madd -ffast-math -noixemul  -IWork:Development/Tutorials/clit/lib \
-IWork:Development/Tutorials/clit/lib/des \
-IWork:Development/Tutorials/clit/lib/des \
-IWork:Development/Tutorials/clit/lib/newlzx \
-IWork:Development/Tutorials/clit/lib/sha

SRCS = litatom.c litdrm.c litlib.c litembiggen.c littags.c litmetatags.c litmanifest.c litdirectory.c litsections.c litheaders.c litutil.c sha/mssha1.c des/des.c newlzx/lzxglue.c newlzx/lzxd.c


OBJS = $(SRCS:.c=.o)

LIB = libopenclit.a

all: $(LIB)

%.o: %.c *.h
	@echo Compiling $@...
	@$(CC) $(CFLAGS) -c $*.c -o $*.o

$(LIB): $(OBJS)
	@echo Making $@...
	@$(AR) rc $@ $^
	@$(RANLIB) $@

clean:
	@echo Cleaning up...
	@-$(RM) -f $(OBJS) $(LIB)
