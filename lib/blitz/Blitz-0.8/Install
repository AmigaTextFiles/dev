;$VER: IconInstaller fot AmigaOS4 installation script 1.0 (09.10.2004)
;(C) 2004 

;(W) by Gianluca Molinari

(set #language (getenv "Language"))

(complete 0)

;=============================================================================
; English strings

(set #msg-wrong-installer-version "\nSorry, but for use this wizard you need Installer V43 or higher.\n")

(set #readmetext "README")

(set #msg-product "Blitz++ for AmigaOS4")

(set #msg-introduction 
  (cat
     "\nWelcome to the " #msg-product
  )
)

(set #msg-select-lib "\nSelect the library version to install\n(see Help for more information)\n")
(set #msg-select-lib-help "clib2 version has not advanced IEEE math functions (such as 'asinh' or 'ilogb') because aren't sopported by clib2 yet.\n\nnewlib version has all the advanced IEEE math functions but 'logb'.")

(set #msg-exit "Blitz++ Template Library is now installed.")
(set #msg-exit-0
	(cat "\nClib2 version of the " #msg-exit)
)
(set #msg-exit-1
	(cat "\nNewlib version of the " #msg-exit)
)
(set #msg-exit-2 "\nBoth clib2 and newlib versions of the Blitz++ Template Library are now installed.")

;=============================================================================

(if (< @installer-version 43)
(abort #msg-wrong-installer-version)
)

(welcome
  #msg-introduction
)

(run "SYS:Utilities/Multiview README.amigaos")

(complete 10)
(set #lib-version
  (askchoice
	(prompt #msg-select-lib)
	(help #msg-select-lib-help)
	(choices "clib2" "newlib" "both")
	(default 0)
  )
)

(if (= #lib-version 0)
	(
		(complete 50)
		(copyfiles
			(source "clib2/include/")
			(dest "SDK:Local/clib2/include/")
			(all)
		)
		(complete 75)
		(copyfiles
			(source "clib2/lib/")
			(dest "SDK:Local/clib2/lib/")
			(all)
		)
		(complete 100)
		(exit #msg-exit-0 (quiet))
	)
)

(if (= #lib-version 1)
	(
		(complete 50)
		(copyfiles
			(source "newlib/include/")
			(dest "SDK:Local/newlib/include/")
			(all)
		)
		(complete 75)
		(copyfiles
			(source "newlib/lib/")
			(dest "SDK:Local/newlib/lib/")
			(all)
		)
		(complete 100)
		(exit #msg-exit-1 (quiet))
	)
)

(if (= #lib-version 2)
	(
		(complete 25)
		(copyfiles
			(source "clib2/include/")
			(dest "SDK:Local/clib2/include/")
			(all)
		)
		(complete 50)
		(copyfiles
			(source "newlib/include/")
			(dest "SDK:Local/newlib/include/")
			(all)
		)
		(complete 75)
		(copyfiles
			(source "clib2/lib/")
			(dest "SDK:Local/clib2/lib/")
			(all)
		)
		(complete 90)
		(copyfiles
			(source "newlib/lib/")
			(dest "SDK:Local/newlib/lib/")
			(all)
		)
		(complete 100)
		(exit #msg-exit-2 (quiet))
	)
)