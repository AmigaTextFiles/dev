*** load_abc.cpp.old	2017-04-24 16:10:17.000000000 +0300
--- load_abc.cpp	2022-05-07 13:03:50.226606390 +0300
***************
*** 2370,2377 ****
--- 2370,2382 ----
  		}
  	}
  	else {
+ #ifdef __amigaos4__
+ 		srand((uint32_t)time(0));	// initialize random generator with seed
+ 		retval->pickrandom = 1+(int)(10000.0*rand()/(RAND_MAX+1.0));
+ #else
  		srandom((uint32_t)time(0));	// initialize random generator with seed
  		retval->pickrandom = 1+(int)(10000.0*random()/(RAND_MAX+1.0));
+ #endif
  		// can handle pickin' from songbooks with 10.000 songs
  		sprintf(buf,"-%ld",retval->pickrandom); // xmms preloads the file
  		setenv(ABC_ENV_NORANDOMPICK, buf, 1);
