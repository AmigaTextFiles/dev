The ABLIT library provides a BltBitMap() compatible function call which adds the missing
alpha channel and blend support to AmigaOS (4.0). It also contains some nice addons to integrate
SDL_Surfaces into AmigaOS.

If a src bitmap is 32 bit (rgb + a) the source per pixel alpha channel is used to mix the transparent level into the destination. The destionation can be any 16/24/32 bit format and does not necessarily need an per pixel alpha channel. If the destionation is a 32 bit pixel format, the alpha channel is copied.

Additionally a per bitmap alpha value can be defined for an additional alpha blend of the source bitmap. 
On screen bitmaps are slightly slower then in system bitmaps (video mem read speed sucks). HW acceleration, as well as 8 bit (indexed) bitmaps are not supported. Overlapping blits are also not in there yet.

Anyway. The library is about 2-5 times faster than SDL, and provides functionality, the SDL library does not,
e.g. per Surface alpha channel AND (!) per pixel alpha channel support.

I might add 8 bit src support in the future. A plugin interface can be used to accelerate blits. However, this
interface is not yet defined or available.

This library is in a very very early allpha phase. It will eventually become a shared library. Feel free to try it out.
I release it because it might be usefull for someone out there. But be warned! It might be buggy as hell. The content is provided AS IS. No warranty!
 
The demo program included in the archive requires the following linker libraries:

libstdc++.a (the lib uses an internal std::map - this dependency will not be there for the shared lib)
libSDL.a
libSDL_image.a
libSDL_ttf.a (check out the anitaliased TTF font code!)
libablit.a
libablit_utils.a (shortcuts for screen/window handling)

Supported color formats:
   SRC: RGBA32, BGRA32, ARGB32, RGB24, BGR24, RGB565
   DST: RGB565 (opt), fallback: RGB24, BGR24, RGBA32, BGRA32, ARGB32

565->565 transfers are slightly faster then the AmigaOS internal BltBitMap() call.

All 16/24/32 bit formats should work, however, only 16bit target bitmaps are optimized for now. Rest will
follow.

Available interfaces:

ablit/ablit.h:

        uint32 BltAlphaBitMap( struct BitMap *src,  int32 sx, int32 sy,
                                            struct BitMap *dst,  int32 dx, int32 dy,
                                            uint32 w, uint32 h,
                                            uint8 blend, uint32 blt_mode );
	
ablit/ablit_SDL.h

SDL_Surface -> struct BitMap blits:

    uint32 SDL_BlitAlphaSurfaceBitMap( SDL_Surface *src, int32 sx, int32 sy,
                                                             struct BitMap *dst, int32 dx, int32 dy,
                             	                             uint32 w, uint32 h,
                                                             uint32 blt_mode );

struct BitMap -> SDL_Surface blits:

     uint32 SDL_BlitAlphaBitmapSurface( struct BitMap *src, int32 sx, int32 sy,
                                                              SDL_Surface *dst, int32 dx, int32 dy,
                                                              uint32 w, uint32 h,
                                                              uint8 blend, uint32 blt_mode );

SDL_BlitSurface / SDL_LowerBlit replacement:

     uint32 SDL_BlitAlphaSurface( SDL_Surface *src, SDL_Rect *sr, SDL_Surface *dst, SDL_Rect *dr );

For more information check the header files. A complete documentation will follow.

History:

Version 0.0, 10/30/05: Initial Halloween Release

Version 0.1, 10/30/05: Forgot a debug output in the lib. Stupid me. Should be a bit faster now ;)
                                    Both libs (libablit.a, libablit_utils.a) have version tags set now.