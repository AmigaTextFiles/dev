./configure --prefix=/SDK/local/newlib --exec-prefix=/SDK/local/newlib --disable-dependency-tracking --disable-ntlm-wb LIBS=-lunix

Edit libtool (find and modify):

deplibs_check_method="pass_all"
version_type=freebsd-elf

---------------

Edit curl_config.h (find and modify):

#define SEND_TYPE_ARG2 void *

---------------

Edit lib/curl_setup.h (find and modify):
 
/*#    define select(a,b,c,d,e) WaitSelect(a,b,c,d,e,0)*/

---------------

Edit amigaos.c:

Wipe everything. Won't be using this.

---------------

Edit amigaos.h:

Change

#if defined(__AMIGA__) && !defined(__ixemul__)

to

#if !defined(__AMIGA__) && !defined(__ixemul__)

---------------

Edit src/Makefile (find and modify):

CFLAGS = -O2 -D__USE_INLINE__

---------------

Edit tool_operate.c (find and modify):

#ifdef __AMIGA__
        if(!res && outs.s_isreg && outs.filename) {
          /* Set the url (up to 80 chars) as comment for the file */
          if(strlen(urlnode->url) > 78)
            urlnode->url[79] = '\0';
          SetComment(outs.filename, urlnode->url);
        }
#endif

---------------

Edit easy.c:

Wipe out the following (or change to ifndef)

#ifdef __AMIGA__
  if(!Curl_amiga_init()) {
    DEBUGF(fprintf(stderr, "Error: Curl_amiga_init failed\n"));
    return CURLE_FAILED_INIT;
  }
#endif

---------------


Edit lib/file.c:

Find #ifdef OPEN_NEEDS_ARG3 and add this before it

#if defined(__amigaos4__)
 #define AMIGA_FILESYSTEM
#endif


Find this:

#ifdef DOS_FILESYSTEM
  int i;
  char *actual_path;
#endif

and change it to:

#if defined(DOS_FILESYSTEM) || defined(AMIGA_FILESYSTEM)
  int i;
  char *actual_path;
#endif


Find the #else after the next #ifdef DOS_FILESYSTEM

Insert the following just before the #else:

#elif defined(AMIGA_FILESYSTEM)
  actual_path = real_path;
  if(actual_path[0] == '/')
  {
    actual_path++;
  }
  fd = open_readonly(actual_path, O_RDONLY);
  file->path = actual_path;
  if (fd == -1) {
   fd = open_readonly(real_path, O_RDONLY);
   file->path = real_path;
  }

---------------



  curl version:     7.39.0
  Host setup:       powerpc-unknown-amigaos
  Install prefix:   /SDK/local/newlib
  Compiler:         gcc
  SSL support:      enabled (OpenSSL)
  SSH support:      no      (--with-libssh2)
  zlib support:     enabled
  GSS-API support:  no      (--with-gssapi)
  TLS-SRP support:  enabled
  resolver:         default (--enable-ares / --enable-threaded-resolver)
  ipv6 support:     no      (--enable-ipv6)
  IDN support:      no      (--with-{libidn,winidn})
  Build libcurl:    Shared=yes, Static=yes
  Built-in manual:  no      (--enable-manual)
  --libcurl option: enabled (--disable-libcurl-option)
  Verbose errors:   enabled (--disable-verbose)
  SSPI support:     no      (--enable-sspi)
  ca cert bundle:   no
  ca cert path:     no
  LDAP support:     no      (--enable-ldap / --with-ldap-lib / --with-lber-lib)
  LDAPS support:    no      (--enable-ldaps)
  RTSP support:     enabled
  RTMP support:     enabled (librtmp)
  metalink support: no      (--with-libmetalink)
  HTTP2 support:    disabled (--with-nghttp2)
  Protocols:        DICT FILE FTP FTPS GOPHER HTTP HTTPS IMAP IMAPS POP3 POP3S RTMP RTSP SMTP SMTPS TELNET TFTP

  SONAME bump:     yes - WARNING: this library will be built with the SONAME
                   number bumped due to (a detected) ABI breakage.
                   See lib/README.curl_off_t for details on this.


---------------



./configure --prefix=/SDK/local/clib2 --exec-prefix=/SDK/local/clib2 --disable-shared --disable-dependency-tracking --disable-ntlm-wb LIBS=-lunix CPPFLAGS="-g -O2 -mcrt=clib2" CXXFLAGS="-g -O2 -mcrt=clib2" CFLAGS="-g -O2 -mcrt=clib2"

(With clib2, librtmp needs libm [-lm] for strtod function)
(undefine HAVE_GETTIMEOFDAY)

  curl version:     7.39.0
  Host setup:       powerpc-unknown-amigaos
  Install prefix:   /SDK/local/clib2
  Compiler:         gcc
  SSL support:      enabled (OpenSSL)
  SSH support:      no      (--with-libssh2)
  zlib support:     enabled
  GSS-API support:  no      (--with-gssapi)
  TLS-SRP support:  enabled
  resolver:         default (--enable-ares / --enable-threaded-resolver)
  ipv6 support:     no      (--enable-ipv6)
  IDN support:      no      (--with-{libidn,winidn})
  Build libcurl:    Shared=no, Static=yes
  Built-in manual:  no      (--enable-manual)
  --libcurl option: enabled (--disable-libcurl-option)
  Verbose errors:   enabled (--disable-verbose)
  SSPI support:     no      (--enable-sspi)
  ca cert bundle:   no
  ca cert path:     no
  LDAP support:     no      (--enable-ldap / --with-ldap-lib / --with-lber-lib)
  LDAPS support:    no      (--enable-ldaps)
  RTSP support:     enabled
  RTMP support:     enabled (librtmp)
  metalink support: no      (--with-libmetalink)
  HTTP2 support:    disabled (--with-nghttp2)
  Protocols:        DICT FILE FTP FTPS GOPHER HTTP HTTPS IMAP IMAPS POP3 POP3S RTMP RTSP SMTP SMTPS TELNET TFTP

  SONAME bump:     yes - WARNING: this library will be built with the SONAME
                   number bumped due to (a detected) ABI breakage.
                   See lib/README.curl_off_t for details on this.
