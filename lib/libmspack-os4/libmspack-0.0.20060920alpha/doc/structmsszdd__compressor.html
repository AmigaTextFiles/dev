<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libmspack: msszdd_compressor Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>msszdd_compressor Struct Reference</h1><!-- doxytag: class="msszdd_compressor" -->A compressor for the SZDD file format.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="mspack_8h-source.html">mspack.h</a>&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmsszdd__compressor.html#8e67746b11e6acac60e72c88a2b81828">compress</a> )(struct <a class="el" href="structmsszdd__compressor.html">msszdd_compressor</a> *self, char *input, char *output, off_t length)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads an input file and creates a compressed output file in the SZDD compressed file format.  <a href="#8e67746b11e6acac60e72c88a2b81828"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmsszdd__compressor.html#f76f143c2131bcccf0f3d10ea8968742">set_param</a> )(struct <a class="el" href="structmsszdd__compressor.html">msszdd_compressor</a> *self, int param, unsigned int value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets an SZDD compression engine parameter.  <a href="#f76f143c2131bcccf0f3d10ea8968742"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmsszdd__compressor.html#4917ae85330b8a827564b69d533b7de7">last_error</a> )(struct <a class="el" href="structmschm__decompressor.html">mschm_decompressor</a> *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the error code set by the most recently called method.  <a href="#4917ae85330b8a827564b69d533b7de7"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A compressor for the SZDD file format. 
<p>
All fields are READ ONLY.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="mspack_8h.html#00c23794eac4dab60057cc5b84c2a7ea">mspack_create_szdd_compressor()</a>, <a class="el" href="mspack_8h.html#4053f06c244cab5e880241ecd0a8a64f">mspack_destroy_szdd_compressor()</a> </dd></dl>

<p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="8e67746b11e6acac60e72c88a2b81828"></a><!-- doxytag: member="msszdd_compressor::compress" ref="8e67746b11e6acac60e72c88a2b81828" args=")(struct msszdd_compressor *self, char *input, char *output, off_t length)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int(* <a class="el" href="structmsszdd__compressor.html#8e67746b11e6acac60e72c88a2b81828">msszdd_compressor::compress</a>)(struct <a class="el" href="structmsszdd__compressor.html">msszdd_compressor</a> *self, char *input, char *output, off_t length)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads an input file and creates a compressed output file in the SZDD compressed file format. 
<p>
The SZDD compression format is quick but gives poor compression. It is possible for the compressed output file to be larger than the input file.<p>
Conventionally, SZDD compressed files have the final character in their filename replaced with an underscore, to show they are compressed. The missing character is stored in the compressed file itself. This is due to the restricted filename conventions of MS-DOS, most operating systems, such as UNIX, simply append another file extension to the existing filename. As mspack does not deal with filenames, this is left up to you. If you wish to set the missing character stored in the file header, use <a class="el" href="structmsszdd__compressor.html#f76f143c2131bcccf0f3d10ea8968742">set_param()</a> with the <a class="el" href="mspack_8h.html#adada238862d04556488c0da24517a30">MSSZDDC_PARAM_MISSINGCHAR</a> parameter.<p>
"Stream" compression (where the length of the input data is not known) is not possible. The length of the input data is stored in the header of the SZDD file and must therefore be known before any data is compressed. Due to technical limitations of the file format, the maximum size of uncompressed file that will be accepted is 2147483647 bytes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>a self-referential pointer to the <a class="el" href="structmsszdd__compressor.html">msszdd_compressor</a> instance being called </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>input</em>&nbsp;</td><td>the name of the file to compressed. This is passed passed directly to <a class="el" href="structmspack__system.html#7885678bf152f13adad6f6fec85f1653">mspack_system::open()</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>output</em>&nbsp;</td><td>the name of the file to write compressed data to. This is passed directly to <a class="el" href="structmspack__system.html#7885678bf152f13adad6f6fec85f1653">mspack_system::open()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>the length of the uncompressed file, or -1 to indicate that this should be determined automatically by using <a class="el" href="structmspack__system.html#86ceffde52284d3a57d5d555d7484a03">mspack_system::seek()</a> on the input file. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>an error code, or MSPACK_ERR_OK if successful </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="structmsszdd__compressor.html#f76f143c2131bcccf0f3d10ea8968742">set_param()</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="4917ae85330b8a827564b69d533b7de7"></a><!-- doxytag: member="msszdd_compressor::last_error" ref="4917ae85330b8a827564b69d533b7de7" args=")(struct mschm_decompressor *self)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int(* <a class="el" href="structmsszdd__compressor.html#4917ae85330b8a827564b69d533b7de7">msszdd_compressor::last_error</a>)(struct <a class="el" href="structmschm__decompressor.html">mschm_decompressor</a> *self)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the error code set by the most recently called method. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>a self-referential pointer to the <a class="el" href="structmsszdd__compressor.html">msszdd_compressor</a> instance being called </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the most recent error code </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="structmsszdd__compressor.html#8e67746b11e6acac60e72c88a2b81828">compress()</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="f76f143c2131bcccf0f3d10ea8968742"></a><!-- doxytag: member="msszdd_compressor::set_param" ref="f76f143c2131bcccf0f3d10ea8968742" args=")(struct msszdd_compressor *self, int param, unsigned int value)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int(* <a class="el" href="structmsszdd__compressor.html#f76f143c2131bcccf0f3d10ea8968742">msszdd_compressor::set_param</a>)(struct <a class="el" href="structmsszdd__compressor.html">msszdd_compressor</a> *self, int param, unsigned int value)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets an SZDD compression engine parameter. 
<p>
The following parameters are defined:<p>
<ul>
<li>MSSZDDC_PARAM_CHARACTER: the "missing character", the last character in the uncompressed file's filename, which is traditionally replaced with an underscore to show the file is compressed. Traditionally, this can only be a character that is a valid part of an MS-DOS, filename, but libmspack permits any character between 0x00 and 0xFF to be stored. 0x00 is the default, and it represents "no character stored".</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>a self-referential pointer to the <a class="el" href="structmsszdd__compressor.html">msszdd_compressor</a> instance being called </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>param</em>&nbsp;</td><td>the parameter to set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value to set the parameter to </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>MSPACK_ERR_OK if all is OK, or MSPACK_ERR_ARGS if there is a problem with either parameter or value. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>generate() </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this struct was generated from the following file:<ul>
<li>/home/kyz/devel/libmspack/libmspack/mspack/<a class="el" href="mspack_8h-source.html">mspack.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Sep 20 22:45:37 2006 for libmspack by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6 </small></address>
</body>
</html>
