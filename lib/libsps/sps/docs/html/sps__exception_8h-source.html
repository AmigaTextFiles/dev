<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libSPS++: /Storage/projects/sps/include/sps/sps_exception.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>/Storage/projects/sps/include/sps/sps_exception.h</h1><a href="sps__exception_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00033 <span class="preprocessor">#ifndef SPS_EXCEPTION_H_</span>
00034 <span class="preprocessor"></span><span class="preprocessor">#define SPS_EXCEPTION_H_</span>
00035 <span class="preprocessor"></span>
00036 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00037 
00038 <span class="keyword">enum</span> enErrCodes
00039 {
00040     ERR_USER = 0x10000, <span class="comment">// or for user errors </span>
00041     
00042     ERR_UNKNOWN = 0,    <span class="comment">// undefined</span>
00043     ERR_APP_EXISTS,     <span class="comment">// application is already running</span>
00044     ERR_OPEN_LIB,       <span class="comment">// opening a library failed</span>
00045     ERR_OPEN_IFACE,     <span class="comment">// opening an interface failed</span>
00046     ERR_OPEN_CATALOG,   <span class="comment">// opening a locale catalog failed</span>
00047     ERR_FILE_NOT_FOUND, <span class="comment">// DOS error. file does not exist</span>
00048     ERR_GUI,            <span class="comment">// generic gui error</span>
00049     ERR_GUI_MSG,        <span class="comment">// gui error msg</span>
00050     ERR_CX_IGNORE,      <span class="comment">// commodity error</span>
00051     ERR_CX_EXCEPTION,   <span class="comment">// commodity error</span>
00052     
00053     ERR_MAX_CODE        <span class="comment">// max codes available</span>
00054 };
00055 
00056 <span class="keyword">class </span>SPS_Exception
00057 {
00058     <span class="comment">/* exceptions use their own ifaces to be thread safe */</span>
00059     <span class="keyword">struct </span>Library        * IntuitionBase;
00060     <span class="keyword">struct </span>IntuitionIFace *IIntuition;
00061     
00062     <span class="keyword">struct </span>Library        * UtilityBase;
00063     <span class="keyword">struct </span>UtilityIFace   *IUtility;
00064     
00065 <span class="keyword">protected</span>:
00066     <span class="keywordtype">char</span> *m_Title;
00067     <span class="keywordtype">char</span> *m_File;
00068     <span class="keywordtype">int</span>   m_Line;
00069     <span class="keywordtype">char</span> *m_Message;
00070     <span class="keywordtype">int</span>   m_Code;
00071     <span class="keywordtype">char</span> *m_ButtonText;
00072 <span class="keyword">public</span>:
00074     SPS_Exception(<span class="keyword">const</span> <span class="keywordtype">char</span> *src_file, <span class="keywordtype">int</span> src_line, <span class="keywordtype">int</span> code, <span class="keyword">const</span> <span class="keywordtype">char</span>* message, <span class="keyword">const</span> <span class="keywordtype">char</span>* bt_text = NULL );
00076     ~SPS_Exception();
00077 
00079     <span class="keywordtype">void</span> SetTitle( <span class="keyword">const</span> <span class="keywordtype">char</span>* title );
00080     
00082     <span class="keywordtype">void</span> SetButtonText( <span class="keyword">const</span> <span class="keywordtype">char</span> *bt_text );
00083 
00085     <span class="keywordtype">void</span> GetErrorText( <span class="keywordtype">int</span> code, <span class="keywordtype">char</span> *buffer, <span class="keywordtype">int</span> len );
00087     <span class="keyword">const</span> <span class="keywordtype">char</span>* GetErrorText( <span class="keywordtype">int</span> code  );
00089     <span class="keyword">const</span> <span class="keywordtype">char</span>* GetError( <span class="keywordtype">int</span> code  );
00090     
00092     <span class="keywordtype">int</span> GetErrorCode() { <span class="keywordflow">return</span> m_Code; }
00093     
00094     <span class="comment">/* print the error message to a give output stream */</span>
00095     <span class="keywordtype">void</span>  FPrintF( FILE* io = stderr );
00097     <span class="keywordtype">void</span>  PrintF( );
00098 
00100     <span class="keywordtype">int</span>  Warn( <span class="keyword">const</span> <span class="keywordtype">char</span>* title = <span class="stringliteral">"SPS Error"</span>, <span class="keyword">const</span> <span class="keywordtype">char</span>* button_text = <span class="stringliteral">"Quit"</span> );
00101 };
00102 
00103 <span class="preprocessor">#define Exc0( i, a )    SPS_Exception( __FILE__, __LINE__, i, a )</span>
00104 <span class="preprocessor"></span><span class="preprocessor">#define Exc1( a )       SPS_Exception( __FILE__, __LINE__, ERR_USER, a )</span>
00105 <span class="preprocessor"></span><span class="preprocessor">#define Exc2( a, b )    SPS_Exception( __FILE__, __LINE__, ERR_USER, a, b )</span>
00106 <span class="preprocessor"></span><span class="preprocessor">#define Exc3( i, a, b ) SPS_Exception( __FILE__, __LINE__, i, a, b )</span>
00107 <span class="preprocessor"></span>
00108 <span class="preprocessor">#define Throw0()    throw SPS_Exception( __FILE__, __LINE__, ERR_UNKNOWN, "General Error" )</span>
00109 <span class="preprocessor"></span><span class="preprocessor">#define Throw1(a)   throw SPS_Exception( __FILE__, __LINE__, ERR_USER, a )</span>
00110 <span class="preprocessor"></span><span class="preprocessor">#define Throw2(i,a) throw SPS_Exception( __FILE__, __LINE__, i, a )</span>
00111 <span class="preprocessor"></span>
00112 <span class="preprocessor">#endif </span><span class="comment">/* SPS_EXCEPTION_H_ */</span>
00113 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Sep 1 18:05:20 2006 for libSPS++ by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
