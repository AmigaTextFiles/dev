                                      <!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>getsubopt(3) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>NAME</a></h2>
  
<h2><a name='sect1' href='#toc1'>SYNOPSIS</a></h2>
   
<h2><a name='sect2' href='#toc2'>DESCRIPTION</a></h2>
The 
parses a string containing tokens delimited by one or more tab, space or
comma  characters. It is intended for use in parsing groups of option arguments
provided as part of a utility command line.  The argument  is a pointer
to a pointer to the string. The argument  is a pointer to a  array of pointers
to strings.  The  function returns the zero-based offset of the pointer in
the  array referencing a string which matches the first token in the string,
or, -1 if the string contains no tokens or  does not contain a matching
string.  If the token is of the form &lsquo;&lsquo;name=value&rsquo;&rsquo;, the location referenced
by  will be set to point to the start of the &lsquo;&lsquo;value&rsquo;&rsquo; portion of the token.
 On return from   will be set to point to the start of the next token in
the string, or the null at the end of the string if no more tokens are
present. The external variable  will be set to point to the start of the
current token, or  if no tokens were present. The argument  will be set
to point to the &lsquo;&lsquo;value&rsquo;&rsquo; portion of the token, or  if no &lsquo;&lsquo;value&rsquo;&rsquo; portion was
present. 
<h2><a name='sect3' href='#toc3'>EXAMPLE</a></h2>
 char *tokens[] = { <tt> </tt>&nbsp;<tt> </tt>&nbsp;#define<tt> </tt>&nbsp;<tt> </tt>&nbsp;ONE<tt> </tt>&nbsp;<tt> </tt>&nbsp;0<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;"one",<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;#define<tt> </tt>&nbsp;<tt> </tt>&nbsp;TWO<tt> </tt>&nbsp;<tt> </tt>&nbsp;1<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;"two",<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;NULL<br>
 }; 
<p> ... 
<p> extern char *optarg, *suboptarg; char *options, *value; 
<p> while ((ch
= getopt(argc, argv, "ab:")) != -1) { <tt> </tt>&nbsp;<tt> </tt>&nbsp;switch(ch) {<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;case &rsquo;a&rsquo;:<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* process &lsquo;&lsquo;a&rsquo;&rsquo; option */<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;break;<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;case &rsquo;b&rsquo;:<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;options = optarg;<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;while (*options) {<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;switch(getsubopt(&amp;options, tokens, &amp;value)) {<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;case ONE:<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* process &lsquo;&lsquo;one&rsquo;&rsquo; sub option */<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;break;<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;case TWO:<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* process &lsquo;&lsquo;two&rsquo;&rsquo; sub option */<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;if (!value)<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;error("no value for two");<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;i = atoi(value);<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;break;<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;case -1:<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;if (suboptarg)<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;error("illegal sub option %s",<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;  suboptarg);<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;else<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;error("missing sub option");<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;break;<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;}<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;break;<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;}<br>
  
<h2><a name='sect4' href='#toc4'>SEE ALSO</a></h2>
  
<h2><a name='sect5' href='#toc5'>HISTORY</a></h2>
The  function is  <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>NAME</a></li>
<li><a name='toc1' href='#sect1'>SYNOPSIS</a></li>
<li><a name='toc2' href='#sect2'>DESCRIPTION</a></li>
<li><a name='toc3' href='#sect3'>EXAMPLE</a></li>
<li><a name='toc4' href='#sect4'>SEE ALSO</a></li>
<li><a name='toc5' href='#sect5'>HISTORY</a></li>
</ul>
</body>
</html>
