                                    <!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>getopt(3) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>NAME</a></h2>
  
<h2><a name='sect1' href='#toc1'>SYNOPSIS</a></h2>
        
<h2><a name='sect2' href='#toc2'>DESCRIPTION</a></h2>
The
 function incrementally parses a command line argument list  and returns
the next  option character. An option character is  if it has been specified
in the string of accepted option characters,   The option string  may contain
the following elements: individual characters, and characters followed
by a colon to indicate an option argument is to follow. For example, an
option string  recognizes an option  and an option string  recognizes an
option and argument  It does not matter to  if a following argument has
leading white space.  On return from   points to an option argument, if
it is anticipated, and the variable  contains the index to the next  argument
for a subsequent call to  The variable  saves the last  option character
returned by   The variable  and  are both initialized to 1. The  variable
may be set to another value before a set of calls to  in order to skip
over more or less argv entries.  In order to use  to evaluate multiple sets
of arguments, or to evaluate a single set of arguments multiple times,
the variable  must be set to 1 before the second and each additional set
of calls to  and the variable  must be reinitialized.  The  function returns
-1 when the argument list is exhausted, or a non-recognized option is encountered.
The interpretation of options in the argument list may be cancelled by
the option  (double dash) which causes  to signal the end of argument processing
and returns -1. When all options have been processed (i.e., up to the first
non-option argument),  returns -1. 
<h2><a name='sect3' href='#toc3'>DIAGNOSTICS</a></h2>
If the  function encounters
a character not found in the string  or detects a missing option argument
it writes an error message and returns  to the  Setting  to a zero will
disable these error messages. If  has a leading   then a missing option
argument causes a  to be returned in addition to suppressing any error
messages.  Option arguments are allowed to begin with  this is reasonable
but reduces the amount of error checking possible. 
<h2><a name='sect4' href='#toc4'>EXTENSIONS</a></h2>
The  variable
was added to make it possible to call the  function multiple times. This
is an extension to the  specification. 
<h2><a name='sect5' href='#toc5'>EXAMPLE</a></h2>
 extern char *optarg; extern
int optind; int bflag, ch, fd; 
<p> bflag = 0; while ((ch = getopt(argc, argv,
"bf:")) != -1) <tt> </tt>&nbsp;<tt> </tt>&nbsp;switch(ch) {<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;case &rsquo;b&rsquo;:<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;bflag = 1;<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;break;<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;case &rsquo;f&rsquo;:<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;if ((fd = open(optarg, O_RDONLY, 0)) &lt; 0) {<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;(void)fprintf(stderr,<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;    "myname: %s: %s\n", optarg, strerror(errno));<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<a href='exit.1'>exit(1)</a>
;<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;}<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;break;<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;case &rsquo;?&rsquo;:<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;default:<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;usage();<br>
 } argc -= optind; argv += optind;  
<h2><a name='sect6' href='#toc6'>HISTORY</a></h2>
The  function appeared  
<h2><a name='sect7' href='#toc7'>BUGS</a></h2>
The
 function was once specified to return  instead of -1. This was changed by
 to decouple   from    A single dash  may be specified as an character
in  however it should  have an argument associated with it. This allows
 to be used with programs that expect  as an option flag. This practice
is wrong, and should not be used in any current development. It is provided
for backward compatibility  By default, a single dash causes  to return
-1. This is, we believe, compatible with System V.  It is also possible to
handle digits as option letters. This allows  to be used with programs that
expect a number  as an option. This practice is wrong, and should not be
used in any current development. It is provided for backward compatibility
 The following code fragment works in most cases.  int length; char *p;

<p> while ((c = getopt(argc, argv, "0123456789")) != -1) <tt> </tt>&nbsp;<tt> </tt>&nbsp;switch (c) {<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;case &rsquo;0&rsquo;: case &rsquo;1&rsquo;: case &rsquo;2&rsquo;: case &rsquo;3&rsquo;: case &rsquo;4&rsquo;:<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;case &rsquo;5&rsquo;: case &rsquo;6&rsquo;: case &rsquo;7&rsquo;: case &rsquo;8&rsquo;: case &rsquo;9&rsquo;:<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;p = argv[optind - 1];<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;if (p[0] == &rsquo;-&rsquo; &amp;&amp; p[1] == ch &amp;&amp; !p[2])<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;length = atoi(++p);<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;else<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;length = atoi(argv[optind] + 1);<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;break;<br>
 <tt> </tt>&nbsp;<tt> </tt>&nbsp;}<br>
 }  <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>NAME</a></li>
<li><a name='toc1' href='#sect1'>SYNOPSIS</a></li>
<li><a name='toc2' href='#sect2'>DESCRIPTION</a></li>
<li><a name='toc3' href='#sect3'>DIAGNOSTICS</a></li>
<li><a name='toc4' href='#sect4'>EXTENSIONS</a></li>
<li><a name='toc5' href='#sect5'>EXAMPLE</a></li>
<li><a name='toc6' href='#sect6'>HISTORY</a></li>
<li><a name='toc7' href='#sect7'>BUGS</a></li>
</ul>
</body>
</html>
