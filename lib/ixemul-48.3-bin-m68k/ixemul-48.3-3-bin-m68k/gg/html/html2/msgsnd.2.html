                                  <!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>msgsnd(2) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>NAME</a></h2>
  
<h2><a name='sect1' href='#toc1'>SYNOPSIS</a></h2>
     
<h2><a name='sect2' href='#toc2'>DESCRIPTION</a></h2>
The   function
sends a message from the message queue specified in   points to a structuer
containing the message. This structure should consist of the following members:
     long mtype;    /* message type */<br>
     char mtext[1]; /* body of message */<br>
  
<p>  is an integer greater than 0 that can be used for selecting messages
(see   is an array of bytes, with a size up to that of the system limit
(MSGMAX). 
<p> If the number of bytes already on the message queue plus  is
bigger than the maximum number of bytes on the message queue (  see  or
the number of messages on all queues system-wide is already equal to the
system limit,  determines the action of  If  has IPC_NOWAIT mask set in
it, the call will return immediately. If  does not have IPC_NOWAIT set in
it, the call will block until:   The condition which caused the call to
block does no longer exist. The message will be sent.  The messag queue is
removed, in which case -1 will be returned, and  is set to EINVAL.  The caller
catches a signal. The call returns with  set to EINTR.  
<p> After a successful
call, the data structure associated with the message queue is updated in
the following way:    is incremented by the size of the message.   is incremented
by 1.   is set to the pid of the calling process.   is set to the current
time.  
<h2><a name='sect3' href='#toc3'>RETURN VALUES</a></h2>
Upon successful completion, 0 is returned. Otherwise,
-1 is returned and  is set to indicate the error. 
<h2><a name='sect4' href='#toc4'>ERRORS</a></h2>
 will fail if:  
 is not a valid message queue identifier 
<p> The message queue was removed
while  was waiting for a resource to become available in order to deliver
the message. 
<p>  is less than 0, or greater than   The calling process does
not have write access to the message queue.  There was no space for this
message either on the queue, or in the whole system, and IPC_NOWAIT was
set in    points to an invalid address.  The system call was interrupted
by the delivery of a signal.  
<h2><a name='sect5' href='#toc5'>BUGS</a></h2>
NetBSD does not define the EIDRM error
value, which should be used in the case of a removed message queue. 
<h2><a name='sect6' href='#toc6'>HISTORY</a></h2>
Message
queues appeared in the first release of AT&amp;T Unix System V. <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>NAME</a></li>
<li><a name='toc1' href='#sect1'>SYNOPSIS</a></li>
<li><a name='toc2' href='#sect2'>DESCRIPTION</a></li>
<li><a name='toc3' href='#sect3'>RETURN VALUES</a></li>
<li><a name='toc4' href='#sect4'>ERRORS</a></li>
<li><a name='toc5' href='#sect5'>BUGS</a></li>
<li><a name='toc6' href='#sect6'>HISTORY</a></li>
</ul>
</body>
</html>
