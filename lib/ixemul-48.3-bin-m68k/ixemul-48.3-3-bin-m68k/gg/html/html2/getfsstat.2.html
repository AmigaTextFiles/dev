                                      <!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>getfsstat(2) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>NAME</a></h2>
  
<h2><a name='sect1' href='#toc1'>SYNOPSIS</a></h2>
     
<h2><a name='sect2' href='#toc2'>DESCRIPTION</a></h2>
 returns
information about all mounted file systems.  is a pointer to  structures
defined as follows:  typedef struct { int32_t val[2]; } fsid_t; 
<p> #define
MFSNAMELEN   16 /* length of fs type name, including nul */ #define MNAMELEN
    32<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* length of buffer for returned name */ 
<p> struct statfs {     short
  f_type;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* type of file system (unused; zero) */<br>
     short   f_flags;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* copy of mount flags */<br>
     long    f_bsize;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* fundamental file system block size */<br>
     long    f_iosize;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* optimal transfer block size */<br>
     long    f_blocks;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* total data blocks in file system */<br>
     long    f_bfree;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* free blocks in fs */<br>
     long    f_bavail;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* free blocks avail to non-superuser */<br>
     long    f_files;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* total file nodes in file system */<br>
     long    f_ffree;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* free file nodes in fs */<br>
     fsid_t  f_fsid;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* file system id */<br>
     uid_t   f_owner;<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* user that mounted the file system */<br>
     long    f_spare[4];<tt> </tt>&nbsp;<tt> </tt>&nbsp;/* spare for later */<br>
     char    f_fstypename[MFSNAMELEN]; /* fs type name */<br>
     char    f_mntonname[MNAMELEN];    /* directory on which mounted */<br>
     char    f_mntfromname[MNAMELEN];  /* mounted file system */<br>
 };   Fields that are undefined for a particular file system are set to
-1. The buffer is filled with an array of  structures, one for each mounted
file system up to the size specified by   If  is given as NULL,  returns
just the number of mounted file systems.  Normally  should be specified
as  If  is set to   will return the information it has available without
requesting an update from each file system. Thus, some of the information
will be out of date, but  will not block waiting for information from a
file system that is unable to respond. 
<h2><a name='sect3' href='#toc3'>RETURN VALUES</a></h2>
Upon successful completion,
the number of   structures is returned. Otherwise, -1 is returned and the
global variable  is set to indicate the error. 
<h2><a name='sect4' href='#toc4'>ERRORS</a></h2>
 fails if one or more
of the following are true:    points to an invalid address.  An  error occurred
while reading from or writing to the file system.  
<h2><a name='sect5' href='#toc5'>SEE ALSO</a></h2>
   
<h2><a name='sect6' href='#toc6'>HISTORY</a></h2>
The
 function first appeared in 4.4BSD. <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>NAME</a></li>
<li><a name='toc1' href='#sect1'>SYNOPSIS</a></li>
<li><a name='toc2' href='#sect2'>DESCRIPTION</a></li>
<li><a name='toc3' href='#sect3'>RETURN VALUES</a></li>
<li><a name='toc4' href='#sect4'>ERRORS</a></li>
<li><a name='toc5' href='#sect5'>SEE ALSO</a></li>
<li><a name='toc6' href='#sect6'>HISTORY</a></li>
</ul>
</body>
</html>
