<html>
<!-- generated from Pangomonium.meta by MetaDoc 1.16 (c) by Andreas Falkenhahn -->
<head>
<title>Using the high-level interface</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.16">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<h2 class="heading">3.2 Using the high-level interface</h2>

<p>
Using Pangomonium's high-level interface is really easy. It extends standard Hollywood text
commands like <code>SetFont()</code> and <code>TextOut()</code> to support advanced text rendering features
like complex layouts and colored glyphs like emojis. To draw text using Pangomonium through
normal Hollywood commands, just make sure you open the font using Pangomonium by passing the
<code>Loader</code> tag to <code>SetFont()</code>. Once you have opened a font through Pangomonium, all Hollywood
commands that draw text will automatically do so through Pangomonium as well, e.g.:

<p>
<table cellpadding="0" cellspacing="0"><tr><td>&nbsp;</td><td><pre>@REQUIRE &quot;pangomonium&quot;

SetFont(&quot;Noto Sans CJK HK Regular&quot;, 72, {Loader = &quot;pangomonium&quot;})
SetFontStyle(#ANTIALIAS)

; &quot;What is your name?&quot; in Japanese
Local t = {21517, 21069, 12399, 12394, 12435, 12391, 12377, 12363}
For Local k = 0 To ListItems(t) - 1 Do text$ = text$ .. Chr(t[k])

TextOut(#CENTER, #CENTER, text$)
</pre></td></tr></table><p>

The code above will set the font to Noto Sans CJK HK Regular size 72 and draw some Japanese
text. By passing &quot;pangomonium&quot; to the <code>Loader</code> tag you tell <code>SetFont()</code> to open the font
through Pangomonium instead of through Hollywood's inbuilt font engine or through a font
engine provided by the host operating system.

<p>
Another advantage of using the high-level interface is the fact that Pangomonium supports
true vector-based text transformation without any quality loss. Hollywood's inbuilt font
engines only support lossless scaling of vector text. As soon as text is rotated, a lossy
algorithm is used so drawing rotated text using Pangomonium will give you a better quality.

<p>
Furthermore, Pangomonium allows you to use Pango's markup language which can do some advanced
text formatting that Hollywood's inbuilt text engine can't do. For example, Pango's markup
language allows you to use different font sizes in a single text object. So if you need
more powerful formatting capabilities than supported by Hollywood's inbuilt text renderer,
you might also want to use Pangomonium instead. See <a href="playoutSetMarkup.html">playout:SetMarkup()</a> for more
information on Pango's markup language. Also note that Pango's markup language isn't enabled
by default in Pangomonium for compatibility reasons. If you want to use it, you need enable
it explicitly by setting the <code>Markup</code> tag to <code>True</code> (see below).

<p>
Note that in the code above we explicitly tell <code>SetFont()</code> to use Pangomonium to open the font
by passing &quot;pangomonium&quot; in the <code>Loader</code> tag. Alternatively, you can also globally enable
Pangomonium for all Hollywood commands dealing with fonts by simply installing Pangomonium's
font adapter. This can be done by setting the <code>InstallAdapter</code> tag to <code>True</code> when <code>@REQUIREing</code>
Pangomonium, e.g. like this:

<p>
<table cellpadding="0" cellspacing="0"><tr><td>&nbsp;</td><td><pre>@REQUIRE &quot;pangomonium&quot;, {InstallAdapter = True}
</pre></td></tr></table><p>

If you globally enable Pangomonium, you don't have to use the <code>Loader</code> tag with <code>SetFont()</code>
or other Hollywood commands that deal with fonts any longer because if Pangomonium is globally
enabled, commands like <code>SetFont()</code> will automatically ask Pangomonium for every font that is to be
opened whether or not the plugin would like to handle this font. Keep in mind, though, that
by default Pangomonium will never fail on font opening so if you globally activate it
like above, it will take over the handling of each and every font you open, which might not be
what you want. You can modify this behaviour by setting the <code>NoFail</code> user tag to <code>False</code>,
in which case Pangomonium will fail if a font is not available. If you want Pangomonium
to handle all fonts in your script, however, globally enabling it using <code>InstallAdapter</code> as
shown above can be a good idea.

<p>
When using Pangomonium you can also pass some additional arguments to <code>SetFont()</code>, <code>OpenFont()</code>
or the <code>@FONT</code> preprocessor by using Hollywood's user tags. The following additional arguments
are recognized by Pangomonium:

<p>
<dl>
<dt class="codelist"><code>NoFail</code></dt>
<dd>
By default, Pangomonium will never fail to open a font. If the requested font does not
exist, an appropriate substitute is used. By default, Pangomonium will always open a font
no matter what name you pass to it. If you don't want that, set this tag to <code>False</code>. Defaults
to <code>True</code>.

<p>
</dd>
<dt class="codelist"><code>Markup</code></dt>
<dd>
If you set this to <code>True</code>, Pangomonium will allow you to use the Pango markup language in
the text you pass to Hollywood calls like <code>TextOut()</code>. By default, Pangomonium only supports
Hollywood's text formatting codes. If you want it to use Pango's markup language instead of
Hollywood's text formatting codes, set this tag to <code>True</code>. See <a href="playoutSetMarkup.html">playout:SetMarkup()</a> for
information on Pango's markup language. Defaults to <code>False</code>.

<p>
</dd>
<dt class="codelist"><code>Monochrome</code></dt>
<dd>
Set this tag to <code>True</code> if you want Pangomonium to operate in monochrome mode. This will reduce
memory consumption by 75% because Pangomonium only needs to allocate one pixel channel instead
of four but you will only be able to use single-colored text in monochrome mode so things
like color emojis won't be drawn correctly. Defaults to <code>False</code>.

<p>
</dd>
<dt class="codelist"><code>NoFT2</code></dt>
<dd>
By default, Pangomonium uses Pango's FreeType2-based text renderer on all platforms. If you
don't want that, set this tag to <code>True</code>. In that case, Pangomonium will use the host operating
system's default text renderer instead (e.g. DirectWrite on Windows, Core Text on macOS etc.)
Note that on AmigaOS and compatibles the only available renderer is FreeType2 so you mustn't
set this tag to <code>True</code> on AmigaOS. Defaults to <code>False</code>.
</dd></dl>

<p>
Here's how you can pass user tags to Pangomonium:

<p>
<table cellpadding="0" cellspacing="0"><tr><td>&nbsp;</td><td><pre>@REQUIRE &quot;pangomonium&quot;
SetFont(&quot;Arial&quot;, 72, {Loader = &quot;pangomonium&quot;, UserTags = {Markup = True}})
SetFontStyle(#ANTIALIAS)
TextOut(#CENTER, #CENTER, &quot;&lt;span bgcolor=\&quot;red\&quot;&gt;Hello&lt;/span&gt;&quot;)
</pre></td></tr></table><p>

The code above demonstrates how to enable Pango's markup language in Pangomonium's
high-level interface.

<p>
<hr>
<font size=-2><a href="HighLevelInterface_.html" target="_top">Show TOC</a></font>
</body>
</html>