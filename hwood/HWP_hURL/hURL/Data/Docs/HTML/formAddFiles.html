<html>
<!-- generated from hurl.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>form:AddFiles</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
form:AddFiles -- add multiple file upload sections to a HTTP POST</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
form:AddFiles(name, table)</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
<code>form:AddFiles()</code> is used to append multiple file upload sections when building a multipart/formdata HTTP POST
(sometimes referred to as RFC 2388-style posts). Once you've added all the sections you want included,
pass the form handle as parameter to <code>#CURLOPT_HTTPPOST</code>. See <a href="easySetOpt_HTTPPost.html">easy:SetOpt_HTTPPost</a> for details.

<p>
You must call <a href="formFree.html">form:Free()</a> after the form post has been done to free the resources.

<p>
Using POST with HTTP 1.1 implies the use of a &quot;Expect: 100-continue&quot; header. You can disable this header
with <code>#CURLOPT_HTTPHEADER</code> as usual.

<p>
First, there are some basics you need to understand about multipart/formdata posts. Each part consists of
at least a <code>NAME</code> and a <code>CONTENTS</code> part. If the part is made for file upload, there are also a stored
<code>CONTENT-TYPE</code> and a <code>FILENAME</code>. Below, we'll discuss what options you use to get these properties
in the parts you want to add to your post.

<p>
The <code>name</code> argument must be a string which provides the name of this part. The name is not allowed to contain
zero-valued bytes.

<p>
The <code>table</code> argument must contain a table describing a list of files to be added to the form post object.
There must be one item per file in the table. The individual table items can be of three different types:

<p>
<ol>
<li>a string: In that case, the string must simply contain the path to the file to be uploaded.
</li><li>a table with two strings: In that case, the first string must contain the path to the file to
be uploaded and the second string must contain the content-type for the file.
</li><li>a table with three strings: Same as above, but the third string must contain a file name that
should be used for the part instead of the file name derived from the path specified in the first
string in the table
</li></ol>

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>name</i></dt>
<dd>name of the part</dd>
<dt><i>table</i></dt>
<dd>table containing the files to be uploaded (see above)</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="formAddFiles_.html" target="_top">Show TOC</a></font>
</body>
</html>