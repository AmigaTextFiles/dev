<html>
<!-- generated from hurl.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>form:AddFile</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
form:AddFile -- add file upload section to a multipart/formdata HTTP POST</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
form:AddFile(name, path[, type, filename, headers])</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
<code>form:AddFile()</code> is used to append a file upload section when building a multipart/formdata HTTP POST
(sometimes referred to as RFC 2388-style posts). Once you've added all the sections you want included,
pass the form handle as parameter to <code>#CURLOPT_HTTPPOST</code>. See <a href="easySetOpt_HTTPPost.html">easy:SetOpt_HTTPPost</a> for details.

<p>
You must call <a href="formFree.html">form:Free()</a> after the form post has been done to free the resources.

<p>
Using POST with HTTP 1.1 implies the use of a &quot;Expect: 100-continue&quot; header. You can disable this header
with <code>#CURLOPT_HTTPHEADER</code> as usual.

<p>
First, there are some basics you need to understand about multipart/formdata posts. Each part consists of
at least a <code>NAME</code> and a <code>CONTENTS</code> part. If the part is made for file upload, there are also a stored
<code>CONTENT-TYPE</code> and a <code>FILENAME</code>. Below, we'll discuss what options you use to get these properties
in the parts you want to add to your post.

<p>
The <code>name</code> argument must be a string which provides the name of this part. The name is not allowed to contain
zero-valued bytes.

<p>
The <code>path</code> argument must be get to the path of a filename to be uploaded. Libcurl sets the filename field
to the basename of the provided filename, it reads the contents of the file and passes them as data and sets
the content-type if the given file match one of the internally known file extensions. The given upload file has
to exist in its full in the file system already when the upload starts, as libcurl needs to read the correct file size beforehand.
The specified file needs to kept around until the associated transfer is done.

<p>
The optional argument <code>type</code> can be used to get the content-type for the part. The optional <code>filename</code> argument can
be used to use a different file name than the one derived from <code>path</code> for the upload. The optional argument <code>headers</code>
can be used to specify extra headers for the form POST section. This takes a table containing a list and appends
the list of headers to those libcurl automatically generates.

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>name</i></dt>
<dd>name of the part</dd>
<dt><i>path</i></dt>
<dd>path to a file to upload</dd>
<dt><i>type</i></dt>
<dd>optional: content-type for the part</dd>
<dt><i>filename</i></dt>
<dd>optional: filename for the content header</dd>
<dt><i>headers</i></dt>
<dd>optional: extra headers for the POST section</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="formAddFile_.html" target="_top">Show TOC</a></font>
</body>
</html>