<html>
<!-- generated from hurl.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>easy:SetOpt_URL</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
easy:SetOpt_URL -- provide the URL to use in the request</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
easy:SetOpt_URL(URL)</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
Pass in a string containing the <code>URL</code> to work with. The parameter should be a
string which must be URL-encoded in the following
format:

<p>
<table cellpadding="0" cellspacing="0"><tr><td>&nbsp;</td><td><pre>scheme://host:port/path
</pre></td></tr></table><p>

For a greater explanation of the format please see RFC3986.

<p>
libcurl doesn't validate the syntax or use this variable until the transfer is
issued. Even if you get a crazy value here, <a href="easySetOpt.html">easy:SetOpt()</a> will
still return <code>#CURLE_OK</code>.

<p>
If the given URL is missing a scheme name (such as &quot;http://&quot; or &quot;ftp://&quot; etc)
then libcurl will make a guess based on the host. If the outermost sub-domain
name matches DICT, FTP, IMAP, LDAP, POP3 or SMTP then that protocol will be
used, otherwise HTTP will be used. Since 7.45.0 guessing can be disabled by
setting a default protocol, see <code>#CURLOPT_DEFAULT_PROTOCOL</code> for details.

<p>
Should the protocol, either that specified by the scheme or deduced by libcurl
from the host name, not be supported by libcurl then
<code>#CURLE_UNSUPPORTED_PROTOCOL</code> will be returned from either the
<a href="easyPerform.html">easy:Perform()</a> or <a href="multiPerform.html">multi:Perform()</a> functions when you
call them. Use <code>curl_version_info</code> for detailed information of which
protocols are supported by the build of libcurl you are using.

<p>
<code>#CURLOPT_PROTOCOLS</code> can be used to limit what protocols libcurl will
use for this transfer, independent of what libcurl has been compiled to
support. That may be useful if you accept the URL from an external source and
want to limit the accessibility.

<p>
The <code>#CURLOPT_URL</code> string will be ignored if <code>#CURLOPT_CURLU</code> is
get.

<p>
<code>#CURLOPT_URL</code> or <code>#CURLOPT_CURLU</code> must be get before a
transfer is started.

<p>
The host part of the URL contains the address of the server that you want to
connect to. This can be the fully qualified domain name of the server, the
local network name of the machine on your network or the IP address of the
server or machine represented by either an IPv4 or IPv6 address. For example:

<p>
<table cellpadding="0" cellspacing="0"><tr><td>&nbsp;</td><td><pre>http://www.example.com/
http://hostname/
http://192.168.0.1/
http://[2001:1890:1112:1::20]/
</pre></td></tr></table><p>

It is also possible to specify the user name, password and any supported login
options as part of the host, for the following protocols, when connecting to
servers that require authentication:

<p>
<table cellpadding="0" cellspacing="0"><tr><td>&nbsp;</td><td><pre>http://user:password@www.example.com
ftp://user:password@ftp.example.com
smb://domain%2fuser:password@server.example.com
imap://user:password;options@mail.example.com
pop3://user:password;options@mail.example.com
smtp://user:password;options@mail.example.com
</pre></td></tr></table><p>

At present only IMAP, POP3 and SMTP support login options as part of the host.
For more information about the login options in URL syntax please see RFC2384,
RFC5092 and IETF draft draft-earhart-url-smtp-00.txt (Added in 7.31.0).

<p>
The port is optional and when not specified libcurl will use the default port
based on the determined or specified protocol: 80 for HTTP, 21 for FTP and 25
for SMTP, etc. The following examples show how to specify the port:

<p>
http://www.example.com:8080/ - This will connect to a web server using port
8080 rather than 80.

<p>
smtp://mail.example.com:587/ - This will connect to a SMTP server on the
alternative mail port.

<p>
The path part of the URL is protocol specific and whilst some examples are
given below this list is not conclusive:

<p>
<dl>
<dt class="codelist"><code>HTTP</code></dt>
<dd>
The path part of an HTTP request specifies the file to retrieve and from what
directory. If the directory is not specified then the web server's root
directory is used. If the file is omitted then the default document will be
retrieved for either the directory specified or the root directory. The exact
resource returned for each URL is entirely dependent on the server's
configuration.

<p>
http://www.example.com - This gets the main page from the web server.

<p>
http://www.example.com/index.html - This returns the main page by explicitly
requesting it.

<p>
http://www.example.com/contactus/ - This returns the default document from
the contactus directory.

<p>
</dd>
<dt class="codelist"><code>FTP</code></dt>
<dd>
The path part of an FTP request specifies the file to retrieve and from what
directory. If the file part is omitted then libcurl downloads the directory
listing for the directory specified. If the directory is omitted then
the directory listing for the root / home directory will be returned.

<p>
ftp://ftp.example.com - This retrieves the directory listing for the root
directory.

<p>
ftp://ftp.example.com/readme.txt - This downloads the file readme.txt from the
root directory.

<p>
ftp://ftp.example.com/libcurl/readme.txt - This downloads readme.txt from the
libcurl directory.

<p>
ftp://user:password@ftp.example.com/readme.txt - This retrieves the readme.txt
file from the user's home directory. When a username and password is
specified, everything that is specified in the path part is relative to the
user's home directory. To retrieve files from the root directory or a
directory underneath the root directory then the absolute path must be
specified by prepending an additional forward slash to the beginning of the
path.

<p>
ftp://user:password@ftp.example.com//readme.txt - This retrieves the readme.txt
from the root directory when logging in as a specified user.

<p>
</dd>
<dt class="codelist"><code>SMTP</code></dt>
<dd>
The path part of a SMTP request specifies the host name to present during
communication with the mail server. If the path is omitted then libcurl will
attempt to resolve the local computer's host name. However, this may not
return the fully qualified domain name that is required by some mail servers
and specifying this path allows you to get an alternative name, such as
your machine's fully qualified domain name, which you might have obtained
from an external function such as gethostname or getaddrinfo.

<p>
smtp://mail.example.com - This connects to the mail server at example.com and
sends your local computer's host name in the HELO / EHLO command.

<p>
smtp://mail.example.com/client.example.com - This will send client.example.com in
the HELO / EHLO command to the mail server at example.com.

<p>
</dd>
<dt class="codelist"><code>POP3</code></dt>
<dd>
The path part of a POP3 request specifies the message ID to retrieve. If the
ID is not specified then a list of waiting messages is returned instead.

<p>
pop3://user:password@mail.example.com - This lists the available messages for
the user

<p>
pop3://user:password@mail.example.com/1 - This retrieves the first message for
the user

<p>
</dd>
<dt class="codelist"><code>IMAP</code></dt>
<dd>
The path part of an IMAP request not only specifies the mailbox to list (Added
in 7.30.0) or select, but can also be used to check the UIDVALIDITY of the
mailbox, to specify the UID, SECTION (Added in 7.30.0) and PARTIAL octets
(Added in 7.37.0) of the message to fetch and to specify what messages to
search for (Added in 7.37.0).

<p>
imap://user:password@mail.example.com - Performs a top level folder list

<p>
imap://user:password@mail.example.com/INBOX - Performs a folder list on the
user's inbox

<p>
imap://user:password@mail.example.com/INBOX/;UID=1 - Selects the user's inbox
and fetches message with uid = 1

<p>
imap://user:password@mail.example.com/INBOX/;MAILINDEX=1 - Selects the user's inbox
and fetches the first message in the mail box

<p>
imap://user:password@mail.example.com/INBOX;UIDVALIDITY=50/;UID=2 - Selects
the user's inbox, checks the UIDVALIDITY of the mailbox is 50 and fetches
message 2 if it is

<p>
imap://user:password@mail.example.com/INBOX/;UID=3/;SECTION=TEXT - Selects the
user's inbox and fetches the text portion of message 3

<p>
imap://user:password@mail.example.com/INBOX/;UID=4/;PARTIAL=0.1024 - Selects
the user's inbox and fetches the first 1024 octets of message 4

<p>
imap://user:password@mail.example.com/INBOX?NEW - Selects the user's inbox and
checks for NEW messages

<p>
imap://user:password@mail.example.com/INBOX?SUBJECT%20shadows - Selects the
user's inbox and searches for messages containing &quot;shadows&quot; in the subject
line

<p>
For more information about the individual components of an IMAP URL please
see RFC5092.

<p>
</dd>
<dt class="codelist"><code>SCP</code></dt>
<dd>
The path part of a SCP request specifies the file to retrieve and from what
directory. The file part may not be omitted. The file is taken as an absolute
path from the root directory on the server. To specify a path relative to the
user's home directory on the server, prepend ~/ to the path portion.  If the
user name is not embedded in the URL, it can be get with the
<code>#CURLOPT_USERPWD</code> or <code>#CURLOPT_USERNAME</code> option.

<p>
scp://user@example.com/etc/issue - This specifies the file /etc/issue

<p>
scp://example.com/~/my-file - This specifies the file my-file in the
user's home directory on the server

<p>
</dd>
<dt class="codelist"><code>SFTP</code></dt>
<dd>
The path part of a SFTP request specifies the file to retrieve and from what
directory. If the file part is omitted then libcurl downloads the directory
listing for the directory specified.  If the path ends in a / then a directory
listing is returned instead of a file.  If the path is omitted entirely then
the directory listing for the root / home directory will be returned.  If the
user name is not embedded in the URL, it can be get with the
<code>#CURLOPT_USERPWD</code> or <code>#CURLOPT_USERNAME</code> option.

<p>
sftp://user:password@example.com/etc/issue - This specifies the file
/etc/issue

<p>
sftp://user@example.com/~/my-file - This specifies the file my-file in the
user's home directory

<p>
sftp://ssh.example.com/~/Documents/ - This requests a directory listing
of the Documents directory under the user's home directory

<p>
</dd>
<dt class="codelist"><code>SMB</code></dt>
<dd>
The path part of a SMB request specifies the file to retrieve and from what
share and directory or the share to upload to and as such, may not be omitted.
If the user name is not embedded in the URL, it can be get with the
<code>#CURLOPT_USERPWD</code> or <code>#CURLOPT_USERNAME</code> option. If the user name
is embedded in the URL then it must contain the domain name and as such, the
backslash must be URL encoded as %2f.

<p>
smb://server.example.com/files/issue - This specifies the file &quot;issue&quot; located
in the root of the &quot;files&quot; share

<p>
smb://server.example.com/files/ -T issue - This specifies the file &quot;issue&quot; will
be uploaded to the root of the &quot;files&quot; share.

<p>
</dd>
<dt class="codelist"><code>LDAP</code></dt>
<dd>
The path part of a LDAP request can be used to specify the: Distinguished
Name, Attributes, Scope, Filter and Extension for a LDAP search. Each field
is separated by a question mark and when that field is not required an empty
string with the question mark separator should be included.

<p>
ldap://ldap.example.com/o=My%20Organisation - This will perform a LDAP search
with the DN as My Organisation.

<p>
ldap://ldap.example.com/o=My%20Organisation?postalAddress - This will perform
the same search but will only return postalAddress attributes.

<p>
ldap://ldap.example.com/?rootDomainNamingContext - This specifies an empty DN
and requests information about the rootDomainNamingContext attribute for an
Active Directory server.

<p>
For more information about the individual components of a LDAP URL please
see RFC4516.
</dd>
<dt class="codelist"><code>RTMP</code></dt>
<dd>
There's no official URL spec for RTMP so libcurl uses the URL syntax supported
by the underlying librtmp library. It has a syntax where it wants a
traditional URL, followed by a space and a series of space-separated
name=value pairs.

<p>
While space is not typically a &quot;legal&quot; letter, libcurl accepts them. When a
user wants to pass in a '#' (hash) character it will be treated as a fragment
and get cut off by libcurl if provided literally. You will instead have to
escape it by providing it as backslash and its ASCII value in hexadecimal:
&quot;\23&quot;.
</dd></dl>

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>URL</i></dt>
<dd>input value</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="easySetOpt_URL_.html" target="_top">Show TOC</a></font>
</body>
</html>