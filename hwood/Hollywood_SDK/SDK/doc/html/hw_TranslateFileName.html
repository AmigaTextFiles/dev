<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>hw_TranslateFileName</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
hw_TranslateFileName -- translate a virtual file name (V5.3)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
int ok = hw_TranslateFileName(STRPTR name, STRPTR buf, int bufsize,
             ULONG *offset, ULONG *size);</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
This function can be used to translate a virtual file specification into a physical file
name. Hollywood supports special virtual file specifications in order to be able to
load files that have been linked to other files, for example applets or executables.
Only Hollywood functions like <a href="hw_FOpen.html">hw_FOpen()</a> will be able to deal with
these special virtual file name specifications transparently. If you pass them to a
function like <code>fopen()</code> instead, it will fail to open the file. That's why you should always use
the functions from <code>DOSBase</code> when dealing with files. See <a href="FileIO.html">File IO information</a> for details.

<p>
If you cannot use the functions from <code>DOSBase</code> to do your file IO for some particular
reason, you can use <code>hw_TranslateFileName()</code> to break down a virtual file specification
into a physical one. You'll then be able to open the virtual file using functions like
<code>fopen()</code> as well. Hollywood's virtual files are always part of a physical file or
memory block. <code>hw_TranslateFileName()</code> only supports the first type, i.e. virtual files
that are part of a physical file. If you want your plugin to be able to handle memory
block-based virtual files as well, you will have to use the <a href="hw_TranslateFileNameExt.html">hw_TranslateFileNameExt()</a>
function which has been available since Hollywood 6.0.

<p>
<code>hw_TranslateFileName()</code> will return the name of the physical container file as well as the
offset and size of the virtual file within that physical file. For example, there might
be a virtual file named <code>intro.png</code> inside the physical file <code>gamedata.bin</code>
at offset 1048576 from the start of the file taking up 65536 bytes inside <code>gamedata.bin</code>.

<p>
If the specified name does not describe a virtual file, <code>hw_TranslateFileName()</code> will
return <code>0xFFFFFFFF</code> in both <code>offset</code> and <code>size</code> and simply copy the specified file name
to the buffer specified in parameter 2.

<p>
Note that this function does not support all features of Hollywood's virtual files.
If you need fine-tuned control over virtual file specification analysis, you might
want to use <a href="hw_TranslateFileNameExt.html">hw_TranslateFileNameExt()</a> instead.
See <a href="hw_TranslateFileNameExt.html">hw_TranslateFileNameExt</a> for details.

<p>
You can use <a href="hw_ChunkToFile.html">hw_ChunkToFile()</a> to easily save a virtual file
to a physical file. See <a href="hw_ChunkToFile.html">hw_ChunkToFile</a> for details.

<p>
This function is thread-safe.

<p>
</dd>
<dt class="autodoc"><b>Designer compatibility</b></dt><dd>
Unsupported

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>name</i></dt>
<dd>file name specification containing either a virtual or a physical file</dd>
<dt><i>buf</i></dt>
<dd>memory buffer to receive the physical file</dd>
<dt><i>bufsize</i></dt>
<dd>size of the memory buffer</dd>
<dt><i>offset</i></dt>
<dd>pointer to a <code>ULONG</code> to receive the offset in bytes where the virtual file
starts within the physical file returned in <code>buf</code></dd>
<dt><i>size</i></dt>
<dd>pointer to a <code>ULONG</code> to receive the size in bytes of the virtual file</dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>ok</i></dt>
<dd><code>True</code> on success, <code>False</code> otherwise</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="hw_TranslateFileName_.html" target="_top">Show TOC</a></font>
</body>
</html>