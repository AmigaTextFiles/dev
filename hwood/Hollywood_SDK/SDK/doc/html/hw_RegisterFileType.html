<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>hw_RegisterFileType</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
hw_RegisterFileType -- register a new file type (V5.3)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
int ok = hw_RegisterFileType(hwPluginBase *self, int type, STRPTR name,
                STRPTR mime, STRPTR ext, ULONG formatid, ULONG flags);</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
This function can be used to register a new file type with Hollywood. Hollywood won't do
anything with these file types except return information about them to the user if requested
by a call to <code>GetPlugins()</code>. The information about the file types supported by the individual
plugins can be useful to filter file name extensions when showing file requesters or it can
be useful to ask the user to select a file format when saving an image, etc. This makes it
possible for scripts to dynamically support all plugins that are currently available.

<p>
You have to pass a pointer to your plugin's <code>hwPluginBase</code> in parameter 1. Hollywood passes
this pointer to you when it first calls your <a href="InitPlugin.html">InitPlugin()</a> function. You
also have to specify the root type of the file format you want to register. The following
types are currently supported:

<p>
<dl>
<dt class="codelist"><code>HWFILETYPE_IMAGE:</code></dt>
<dd>
Register specified file type as an image file format.

<p>
</dd>
<dt class="codelist"><code>HWFILETYPE_ANIM:</code></dt>
<dd>
Register specified file type as an animation file format.

<p>
</dd>
<dt class="codelist"><code>HWFILETYPE_SOUND:</code></dt>
<dd>
Register specified file type as a sound file format.

<p>
</dd>
<dt class="codelist"><code>HWFILETYPE_VIDEO:</code></dt>
<dd>
Register specified file type as a video file format.

<p>
</dd>
<dt class="codelist"><code>HWFILETYPE_ICON:</code></dt>
<dd>
Register specified file type as an icon file format. (V9.0)

<p>
</dd>
<dt class="codelist"><code>HWFILETYPE_FONT:</code></dt>
<dd>
Register specified file type as a font file format. (V10.0)
</dd></dl>

<p>
The name you have to specify in parameter 3 must be a human-readable name of the file
type you want to register, e.g. &quot;IFF ILBM&quot;. The name you specify here may use spaces.
The fourth parameter is optional and allows you to specify the MIME type for the file format
you want to register. If you don't want to provide this, pass <code>NULL</code> as the fourth parameter.
Parameter number 5 must contain the extension(s) used by this file type. The extension(s)
must be specified without the dot. If the file type supports more than one extension,
separate the individual extensions using a vertical bar character (|), e.g. &quot;iff|ilbm|lbm&quot;.
The <code>formatid</code> parameter is only used if <code>HWFILETYPEFLAGS_SAVE</code> is set in the <code>flags</code> parameter.
In that case, you have to pass the identifier of this file format here. This must match
the identifier that is returned by your implementations of functions like <a href="RegisterImageSaver.html">RegisterImageSaver()</a>
or <a href="RegisterAnimSaver.html">RegisterAnimSaver()</a>.

<p>
Finally, RegisterFileType() accepts the following flags:

<p>
<dl>
<dt class="codelist"><code>HWFILETYPEFLAGS_SAVE:</code></dt>
<dd>
If this flag is set, you're registering a saver file type. You must register loaders and
savers in two separate calls. It is not possible to register loader and saver within a single
call to <code>hw_RegisterFileType()</code>.

<p>
</dd>
<dt class="codelist"><code>HWFILETYPEFLAGS_ALPHA:</code></dt>
<dd>
This flag indicates that your plugin can load or save alpha channel information, depending
on whether <code>HWFILETYPEFLAGS_SAVE</code> is set. This is only applicable for <code>HWFILETYPE_IMAGE</code> and
<code>HWFILETYPE_ANIM</code>.

<p>
</dd>
<dt class="codelist"><code>HWFILETYPEFLAGS_QUALITY:</code></dt>
<dd>
This flag indicates that your plugin supports lossy compression of image data. It is only
supported by for <code>HWFILETYPE_IMAGE</code> and <code>HWFILETYPE_ANIM</code> and the <code>HWFILETYPEFLAGS_SAVE</code> flag
must be set. The quality level is passed to your plugin saver as a value ranging between
0 (bad quality) to 100 (excellent quality).

<p>
</dd>
<dt class="codelist"><code>HWFILETYPEFLAGS_FPS:</code></dt>
<dd>
This flag indicates that your plugin can save animations with different frames per second
settings. It is only supported by <code>HWFILETYPE_ANIM</code> together with the <code>HWFILETYPEFLAGS_SAVE</code> flag
set.
</dd></dl>

<p>
RegisterFileType() is usually called in your <a href="InitPlugin.html">InitPlugin()</a> function but
make sure that you have at least Hollywood 5.3 before attempting to call this function!

<p>
</dd>
<dt class="autodoc"><b>Designer compatibility</b></dt><dd>
Supported since Designer 5.0

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>self</i></dt>
<dd>pointer to a <code>hwPluginBase</code> as passed to your <a href="InitPlugin.html">InitPlugin()</a> function</dd>
<dt><i>type</i></dt>
<dd>file type to register (see above)</dd>
<dt><i>name</i></dt>
<dd>human-readable name of this file type</dd>
<dt><i>mime</i></dt>
<dd>MIME type for this file format or <code>NULL</code></dd>
<dt><i>ext</i></dt>
<dd>extension(s) for this file type; multiple extensions must be separated by a vertical bar (|)</dd>
<dt><i>formatid</i></dt>
<dd>when registering output file types, the unique identifier used by this format (see above)</dd>
<dt><i>flags</i></dt>
<dd>additional flags (see above)</dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>ok</i></dt>
<dd><code>True</code> for success, <code>False</code> on failure</dl>
</dd>
<dt class="autodoc"><b>Example</b></dt><dd>
<pre>
hw_RegisterFileType(self, HWFILETYPE_IMAGE, &quot;JPEG 2000&quot;, NULL,
                      &quot;jp2|j2k&quot;, 0, HWFILETYPEFLAGS_ALPHA);

hw_RegisterFileType(self, HWFILETYPE_IMAGE, &quot;JPEG 2000 (JP2)&quot;, NULL,
                      &quot;jp2&quot;, outfmt[0], HWFILETYPEFLAGS_SAVE|
                      HWFILETYPEFLAGS_ALPHA|HWFILETYPEFLAGS_QUALITY);

hw_RegisterFileType(self, HWFILETYPE_IMAGE, &quot;JPEG 2000 (J2K)&quot;, NULL,
                      &quot;j2k&quot;, outfmt[1], HWFILETYPEFLAGS_SAVE|
                      HWFILETYPEFLAGS_ALPHA|HWFILETYPEFLAGS_QUALITY);
</pre>
The code above registers a loader file type for the JPEG 2000 format and
two savers for the JPEG 2000 format. The savers distinguish between the
JP2 and the J2K container formats while the loader combines them into
a single format.

</dd></dl>
<hr>
<font size=-2><a href="hw_RegisterFileType_.html" target="_top">Show TOC</a></font>
</body>
</html>