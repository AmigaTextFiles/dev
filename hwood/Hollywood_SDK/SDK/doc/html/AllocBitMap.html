<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>AllocBitMap</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
AllocBitMap -- allocate a new software bitmap (V6.0, optional)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
APTR handle = AllocBitMap(int type, int width, int height, ULONG flags,
                  struct hwTagList *tags);</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
This function has to allocate a software bitmap of the specified type in the requested
dimensions. The <code>type</code> parameter can be one of the following constants:

<p>
<dl>
<dt class="codelist"><code>HWBMTYPE_RGB:</code></dt>
<dd>
Hollywood wants you to allocate a color bitmap.

<p>
</dd>
<dt class="codelist"><code>HWBMTYPE_ALPHA:</code></dt>
<dd>
Hollywood wants you to allocate an 8-bit alpha channel bitmap. Alpha channel bitmaps
contain transparency information ranging from 0 (pixel is transparent) to 255 (pixel
is fully opaque) for every pixel. Hollywood's software bitmaps always store alpha
channel information for color bitmaps in separate bitmaps to be compatible with 15-bit
and 16-bit screenmodes which don't have enough room to store an 8-bit alpha channel
in a bitmap.

<p>
</dd>
<dt class="codelist"><code>HWBMTYPE_MASK:</code></dt>
<dd>
Hollywood wants you to allocate a monochrome 1-bit mask bitmap. Mask bitmaps are used
to store information about pixel transparency settings. In contrast to alpha channel bitmaps
only two different states are supported: Visible pixels (1) or invisible pixels (0).

<p>
</dd>
<dt class="codelist"><code>HWBMTYPE_CLUT:</code></dt>
<dd>
Hollywood wants you to allocate a CLUT bitmap. This can only ever happen if you have
set <code>HWSDAFLAGS_CLUTBITMAPADAPTER</code> in <a href="hw_SetDisplayAdapter.html">hw_SetDisplayAdapter()</a>.
In that case, you must allocate a bitmap that can store 1 byte per pixel. Note that
CLUT bitmaps in Hollywood always use 1 byte per pixel, no matter if the bit depth is 8
or less than that. (V9.0)
</dd></dl>

<p>
The <code>flags</code> parameter can be a combination of the following flags:

<p>
<dl>
<dt class="codelist"><code>HWABMFLAGS_CLEAR:</code></dt>
<dd>
If this flag is set, Hollywood wants you to clear the bitmap after allocating. Clearing
a bitmap means that all bits should be set to 0.
</dd></dl>

<p>
Hollywood also passes a taglist to this function. Your implementation has to handle
the following tags:

<p>
<dl>
<dt class="codelist"><code>HWABMTAG_FRIENDBITMAP:</code></dt>
<dd>
If <code>type</code> is <code>HWBMTYPE_MASK</code>, the <code>pData</code> element of this tag item can contain a pointer
to a color bitmap that Hollywood wants to use this mask for. The mask can then be
allocated in a way that allows efficient blitting.

<p>
</dd>
<dt class="codelist"><code>HWABMTAG_DATA:</code></dt>
<dd>
If this tag is given, your <code>AllocBitMap()</code> implementation must initialize the bitmap it
has just allocated with the bits provided in the <code>pData</code> member of this tag. If this tag
is set, Hollywood will also always pass the <code>HWABMTAG_DATABYTESPERROW</code> to inform your
implementation about the byte length of a single row of the pixel array that has been
passed to this function in the <code>pData</code> member. <code>HWABMTAG_DATA</code> is only used for types
<code>HWBMTYPE_MASK</code> or <code>HWBMTYPE_ALPHA</code>.

<p>
</dd>
<dt class="codelist"><code>HWABMTAG_DATABYTESPERROW:</code></dt>
<dd>
If <code>HWABMTAG_DATA</code> is set, this tag contains the byte width of a single row in its
<code>iData</code> member. To find out the total size of the array passed to you in <code>HWABMTAG_DATA</code>,
multiply this value with the height of the bitmap.
</dd></dl>

<p>
See <a href="BitmapInfo.html">Bitmap information</a> for more information on Hollywood bitmaps.

<p>
<code>AllocBitMap()</code> is an optional API and must only be implemented if <code>HWSDAFLAGS_BITMAPADAPTER</code>
has been passed to <a href="hw_SetDisplayAdapter.html">hw_SetDisplayAdapter()</a>. See <a href="hw_SetDisplayAdapter.html">hw_SetDisplayAdapter</a> for details.

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>type</i></dt>
<dd>desired bitmap type (see above)</dd>
<dt><i>width</i></dt>
<dd>width of the bitmap in pixels</dd>
<dt><i>height</i></dt>
<dd>height of the bitmap in pixels</dd>
<dt><i>flags</i></dt>
<dd>allocation flags (see above)</dd>
<dt><i>tags</i></dt>
<dd>taglist for additional options (see above)</dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>handle</i></dt>
<dd>handle to the bitmap or <code>NULL</code> in case of an error</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="AllocBitMap_.html" target="_top">Show TOC</a></font>
</body>
</html>