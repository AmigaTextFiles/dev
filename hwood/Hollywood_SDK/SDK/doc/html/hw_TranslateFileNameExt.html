<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>hw_TranslateFileNameExt</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
hw_TranslateFileNameExt -- translate a virtual file name with extended options (V6.0)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
int ok = hw_TranslateFileNameExt(STRPTR name, struct hwTranslateFileInfo
             *tf, struct hwTagList *tags);</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
This function does the same as <a href="hw_TranslateFileName.html">hw_TranslateFileName()</a>
but supports additional options. Like <a href="hw_TranslateFileName.html">hw_TranslateFileName()</a>,
it can be used to translate a virtual file specification into a physical file
name. Hollywood supports special virtual file specifications in order to be able to
load files that have been linked to other files, for example applets or executables.
Only Hollywood functions like <a href="hw_FOpen.html">hw_FOpen()</a> will be able to deal with
these special virtual file name specifications transparently. If you pass them to a
function like <code>fopen()</code> instead, it will fail to open the file. That's why you should always use
the functions from <code>DOSBase</code> when dealing with files. See <a href="FileIO.html">File IO information</a> for details.

<p>
If you cannot use the functions from <code>DOSBase</code> to do your file IO for some particular
reason, you can use <code>hw_TranslateFileNameExt()</code> to break down a virtual file specification
into a physical one. You'll have to pass a pointer to a <code>struct hwTranslateFileInfo</code>
structure to this function. <code>struct hwTranslateFileInfo</code> looks like this:

<p>
<table cellpadding="0" cellspacing="0"><tr><td>&nbsp;</td><td><pre>struct hwTranslateFileInfo
{
    STRPTR File;       // [in/out]
    int FileLen;       // [in]
    STRPTR FileExt;    // [in/out]
    int FileExtLen;    // [in]
    STRPTR RealFile;   // [in/out]
    int RealFileLen;   // [in]
    APTR MemoryBlock;  // [out]
    DOSINT64 Offset;   // [out]
    DOSINT64 Length;   // [out]
};
</pre></td></tr></table><p>

Here's a description of the individual structure members:

<p>
<dl>
<dt class="codelist"><code>File:</code></dt>
<dd>
If this is non-<code>NULL</code>, Hollywood will copy the name of the virtual file to this string
buffer. You will also have to provide the size of this buffer in the <code>FileLen</code> argument.

<p>
</dd>
<dt class="codelist"><code>FileLen:</code></dt>
<dd>
If <code>File</code> is non-<code>NULL</code>, you'll have to set this member to the size of the buffer passed
in <code>File</code>.

<p>
</dd>
<dt class="codelist"><code>FileExt:</code></dt>
<dd>
If this is non-<code>NULL</code>, Hollywood will copy the extension of the virtual file to this string
buffer. You will also have to provide the size of this buffer in the <code>FileExtLen</code> argument.

<p>
</dd>
<dt class="codelist"><code>FileExtLen:</code></dt>
<dd>
If <code>FileExt</code> is non-<code>NULL</code>, you'll have to set this member to the size of the buffer passed
in <code>FileExt</code>.

<p>
</dd>
<dt class="codelist"><code>RealFile:</code></dt>
<dd>
If this is non-<code>NULL</code>, Hollywood will copy the name of the file that contains the virtual
file to this string buffer. For example, there might be a virtual file named <code>intro.png</code>
inside the physical file <code>gamedata.bin</code> at offset 1048576 from the start of the file
taking up 65536 bytes inside <code>gamedata.bin</code>. In case the virtual file doesn't have a
container file but is stored within a memory block, Hollywood will set this member to an
empty string and will store a pointer to the memory block that contains the virtual file in
<code>MemoryBlock</code>. Note that if you set <code>RealFile</code>, you will also have to provide the size of the
buffer in the <code>RealFileLen</code> argument.

<p>
</dd>
<dt class="codelist"><code>RealFileLen:</code></dt>
<dd>
If <code>RealFile</code> is non-<code>NULL</code>, you'll have to set this member to the size of the buffer passed
in <code>RealFile</code>.

<p>
</dd>
<dt class="codelist"><code>MemoryBlock:</code></dt>
<dd>
In case the virtual file doesn't have a container file but is stored within a memory block,
Hollywood will set this structure member to a pointer to the memory block that contains the
virtual file.

<p>
</dd>
<dt class="codelist"><code>Offset:</code></dt>
<dd>
Hollywood will store the offset of the virtual file inside the container file here. This
is always 0 in case the virtual file is memory-based.

<p>
</dd>
<dt class="codelist"><code>Length:</code></dt>
<dd>
Hollywood will store the length of the virtual file here.
</dd></dl>

<p>
You can use <a href="hw_ChunkToFile.html">hw_ChunkToFile()</a> to easily save a virtual file
to a physical file. See <a href="hw_ChunkToFile.html">hw_ChunkToFile</a> for details.

<p>
This function is thread-safe.

<p>
</dd>
<dt class="autodoc"><b>Designer compatibility</b></dt><dd>
Unsupported

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>name</i></dt>
<dd>file name specification containing a virtual file</dd>
<dt><i>tf</i></dt>
<dd>pointer to a <code>struct hwTranslateFileInfo</code> initialized as described above</dd>
<dt><i>tags</i></dt>
<dd>reserved for future use, pass <code>NULL</code> for now</dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>ok</i></dt>
<dd><code>True</code> on success, <code>False</code> otherwise</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="hw_TranslateFileNameExt_.html" target="_top">Show TOC</a></font>
</body>
</html>