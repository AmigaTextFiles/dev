<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>hw_RegisterEventHandler</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
hw_RegisterEventHandler -- register a new event type (V5.2)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
int id = hw_RegisterEventHandler(STRPTR name, void (*evtfunc)
             (lua_State *L, int type, APTR userdata));</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
This function allows you to register a new event type. The user will then be able
to listen to events of this type by installing a new event handler for this type
by using the Hollywood function <code>InstallEventHandler()</code>. Whenever you want this
event handler to trigger, you have to post an event to Hollywood's event
queue using the <a href="hw_PostEvent.html">hw_PostEvent()</a> or <a href="hw_PostEventEx.html">hw_PostEventEx()</a>
function.

<p>
You have to specify a name for the new event type. This name must follow the
conventions for Hollywood variables because the user will need to use this
name when installing a handler for this event type using Hollywood's <code>InstallEventHandler()</code>
function. Thus, the name you specify here must not clash with any existing
event handler names and it must not use any spaces or special characters.
It has to start with a letter from the English alphabet.

<p>
In parameter 2, you need to pass a function pointer to <code>hw_RegisterEventHandler()</code>.
This function will be called whenever Hollywood is about to run the callback
that the user has installed for the event using <code>InstallEventHandler()</code>. Your
function may then push additional values on the stack. When <code>evtfunc</code> is called,
Hollywood will have already pushed a table to the stack and it will have set the
<code>Action</code> field of that table to the name of your event for consistency with
inbuilt Hollywood events. All other values that your event handler may want
to provide to the user's event callback should also be stored in that table. Note
that you must implement this function even if you do not want to push any additional values on the stack.
<code>evtfunc</code> must not be <code>NULL</code>. The user data that is passed to <code>evtfunc</code> as the third
parameter is the same pointer that you provided in the call to <a href="hw_PostEvent.html">hw_PostEvent()</a>
or <a href="hw_PostEventEx.html">hw_PostEventEx()</a>.

<p>
This function is also available as an extended version. See <a href="hw_RegisterEventHandlerEx.html">hw_RegisterEventHandlerEx</a> for details.

<p>
</dd>
<dt class="autodoc"><b>Designer compatibility</b></dt><dd>
Supported since Designer 5.0

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>name</i></dt>
<dd>name for the new event type (see above for limitations in the event name format)</dd>
<dt><i>evtfunc</i></dt>
<dd>function that should be called when running user callbacks for this event</dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>id</i></dt>
<dd>identifier of the new event handler or 0 on error</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="hw_RegisterEventHandler_.html" target="_top">Show TOC</a></font>
</body>
</html>