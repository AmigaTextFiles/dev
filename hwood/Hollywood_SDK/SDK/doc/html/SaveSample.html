<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>SaveSample</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
SaveSample -- save sample to disk (V5.0)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
int ok = SaveSample(STRPTR filename, struct SaveSampleCtrl *ctrl);</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
This function must save the sample provided by the pointer in the second parameter to
the filename specified in the first parameter. Hollywood passes a pointer to a
<code>struct SaveSampleCtrl</code> to this function. This structure looks like this:

<p>
<table cellpadding="0" cellspacing="0"><tr><td>&nbsp;</td><td><pre>struct SaveSampleCtrl
{
    APTR Data;                      // [in]
    int DataSize;                   // [in]
    int Samples;                    // [in]
    int Channels;                   // [in]
    int Bits;                       // [in]
    int Frequency;                  // [in]
    ULONG Flags;                    // [in]
    ULONG FormatID;                 // [in] -- V5.3
    STRPTR Adapter;                 // [in] -- V10.0
    struct hwUserTagList *UserTags; // [in] -- V10.0
};
</pre></td></tr></table><p>

In this structure Hollywood passes the following information to your <code>SaveSample()</code> function:

<p>
<dl>
<dt class="codelist"><code>Data:</code></dt>
<dd>
This contains the raw PCM data to save to the file.

<p>
</dd>
<dt class="codelist"><code>DataSize:</code></dt>
<dd>
This contains the size of the <code>Data</code> buffer in bytes.

<p>
</dd>
<dt class="codelist"><code>Samples:</code></dt>
<dd>
The total number of PCM frames to save. Note that this is specified in PCM frames,
not in bytes.

<p>
</dd>
<dt class="codelist"><code>Channels:</code></dt>
<dd>
The number of channels used by the sound data. This will be either 1 (mono) or 2
(stereo).

<p>
</dd>
<dt class="codelist"><code>Bits:</code></dt>
<dd>
The number of bits per PCM sample. This will be either 8 or 16.

<p>
</dd>
<dt class="codelist"><code>Frequency:</code></dt>
<dd>
The number of PCM frames that should be played per second.

<p>
</dd>
<dt class="codelist"><code>Flags:</code></dt>
<dd>
A combination of the following flags describing additional properties
of the sample:

<p>
<dl>
<dt class="codelist"><code>HWSNDFLAGS_BIGENDIAN</code></dt>
<dd>
The PCM samples are stored in big endian format. This flag is only meaningful
if the bit resolution is 16.

<p>
</dd>
<dt class="codelist"><code>HWSNDFLAGS_SIGNEDINT</code></dt>
<dd>
The PCM samples are stored as signed integers. This is typically set for 16-bit
samples.
</dd></dl>

<p>
</dd>
<dt class="codelist"><code>FormatID:</code></dt>
<dd>
This member contains the identifier of the sample format the file should be saved in.
You only need to look at this member if your plugin supports more than one output
sample format. But be careful, you are only allowed to look at this member if the
user is running at least Hollywood 5.3. Otherwise, you must not access this member
because older versions of Hollywood don't support it. (V5.3)

<p>
</dd>
<dt class="codelist"><code>Adapter:</code></dt>
<dd>
Starting with Hollywood 10.0 users can specify the file adapter that should be used
to save a sample. If this member is non-<code>NULL</code>, Hollywood wants your plugin to
use the file adapter specified in <code>Adapter</code> to save the sample. This means that you
have to use <a href="hw_FOpenExt.html">hw_FOpenExt()</a> instead of <a href="hw_FOpen.html">hw_FOpen()</a>
to save the sample. Make sure to check for Hollywood 10.0 before trying to access
this member because it isn't there in previous versions. See <a href="hw_FOpenExt.html">hw_FOpenExt</a> for details. (V10.0)

<p>
</dd>
<dt class="codelist"><code>UserTags:</code></dt>
<dd>
This member will be set to a list of user tags in case they were specified
in the Hollywood script. User tags are a way of passing additional information
from Hollywood scripts to plugin functions. Note that even if your plugin doesn't
support any user tags, you should still look for this tag and pass the user
tags to <a href="hw_FOpenExt.html">hw_FOpenExt</a> because the user tags passed in <code>UserTags</code> could
also be intended for another plugin, namely the file adapter plugin passed
in <code>Adapter</code>. See <a href="UserTags.html">User tags</a> for details. Make sure to check for Hollywood 10.0
before trying to access this member because it isn't there in previous versions.
(V10.0)
</dd></dl>

<p>
This function has to return <code>True</code> if the sample has been successfully saved or <code>False</code>
in case of an error.

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>filename</i></dt>
<dd>path to a destination file</dd>
<dt><i>ctrl</i></dt>
<dd>pointer to a <code>struct SaveSampleCtrl</code> containing the sample to be saved</dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>ok</i></dt>
<dd><code>True</code> or <code>False</code> indicating success or failure</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="SaveSample_.html" target="_top">Show TOC</a></font>
</body>
</html>