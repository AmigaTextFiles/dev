<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>hw_SetAudioAdapter</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
hw_SetAudioAdapter -- install an audio adapter (V6.0)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
int error = hw_SetAudioAdapter(hwPluginBase *self, ULONG flags,
                struct hwTagList *tags);</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
This function can be used to activate a plugin that has the <code>HWPLUG_CAPS_AUDIOADAPTER</code>
capability flag set. This function must only be called from inside your <a href="RequirePlugin.html">RequirePlugin()</a>
implementation. If this function succeeds, Hollywood's inbuilt audio driver will
be completely replaced by the audio driver provided by your plugin and Hollywood will
call into your plugin whenever it needs to output audio. In the first parameter, you have
to pass a pointer to the <code>hwPluginBase</code> that Hollywood has passed to your plugin's
<a href="InitPlugin.html">InitPlugin()</a> function. The second parameter must be set to a
combination of flags. The following flags are currently defined:

<p>
<dl>
<dt class="codelist"><code>HWSAAFLAGS_PERMANENT:</code></dt>
<dd>
If this flag is set, the audio adapter will be made permanent. This means that other
plugins won't be able to overwrite this audio adapter with their own one. If <code>HWSAAFLAGS_PERMANENT</code>
is set, all subsequent calls to <code>hw_SetAudioAdapter()</code> will fail and your audio adapter
will persist.

<p>
</dd>
<dt class="codelist"><code>HWSAAFLAGS_UPDATE:</code></dt>
<dd>
If this flag is set, Hollywood won't install an audio adapter but update the parameters
of an existing audio adapter. This is only supported if the <code>hwPluginBase</code> passed to
<code>hw_SetAudioAdapter()</code> equals the currently installed audio adapter. The only parameter
that can currently be updated is the <code>HWSAATAG_BUFFERSIZE</code> attribute. Many audio drivers might not
know the optimal buffer size before actually opening the audio device so they might
need to adjust the audio adapter's buffer size later. This is what the <code>HWSAAFLAGS_UPDATE</code>
tag is here for.
</dd></dl>

<p>
Additionally, <code>hw_SetAudioAdapter()</code> accepts a tag list which recognizes the following
tags:

<p>
<dl>
<dt class="codelist"><code>HWSAATAG_BUFFERSIZE:</code></dt>
<dd>
This must be set to size of your audio adapter's playback buffer in bytes. This value
should be really small for low latency audio. If your buffer size is too large, it
will take a long time until changes in volume or pitch take effect and pause is not
very accurate. If you don't know about the optimal buffer size for your audio device
at the time you call <code>hw_SetAudioAdapter()</code>, you may also adjust the buffer size later
on by calling <code>hw_SetAudioAdapter()</code> again, but this time with the <code>HWSAAFLAGS_UPDATE</code>
flag set (see above). By default, Hollywood uses an audio buffer size of 2048 bytes.

<p>
</dd>
<dt class="codelist"><code>HWSAATAG_CHANNELS:</code></dt>
<dd>
This must be set to the number of channels your audio driver wants to offer. This
defaults to 8.
</dd></dl>

<p>
See <a href="AudioAdapterOverview.html">Audio adapter plugins</a> for information on how to write audio adapter plugins.

<p>
</dd>
<dt class="autodoc"><b>Designer compatibility</b></dt><dd>
Unsupported

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>self</i></dt>
<dd><code>hwPluginBase</code> pointer passed to <a href="InitPlugin.html">InitPlugin()</a></dd>
<dt><i>flags</i></dt>
<dd>combination of flags (see above)</dd>
<dt><i>tags</i></dt>
<dd>tag list specifying further parameters (see above)</dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>error</i></dt>
<dd>error code or 0 for success</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="hw_SetAudioAdapter_.html" target="_top">Show TOC</a></font>
</body>
</html>