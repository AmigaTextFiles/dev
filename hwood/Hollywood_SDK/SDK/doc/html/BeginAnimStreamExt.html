<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>BeginAnimStreamExt</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
BeginAnimStreamExt -- create a new animation stream (V10.0)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
APTR handle = BeginAnimStreamExt(STRPTR filename, int width, int height,
                int format, int quality, int fps, struct hwTagList *tags);</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
When targetting Hollywood 10.0 or better, this function should be used instead of
<a href="BeginAnimStream.html">BeginAnimStream()</a> because it offers more flexibility. To make Hollywood
use this function instead of <a href="BeginAnimStream.html">BeginAnimStream()</a>, set the <code>HWEXT_SAVEANIM_BEGINANIMSTREAM</code>
extension bit. See <a href="ExtensionOverview.html">Extension plugins</a> to learn how to use plugin extension bits.

<p>
This function must create a new animation stream and save it as the specified file. After
Hollywood has called this function, it will then call <a href="WriteAnimFrame.html">WriteAnimFrame()</a>
to add a number of frames to your animation stream. Once all frames have been added,
Hollywood will call <a href="FinishAnimStream.html">FinishAnimStream()</a> on the stream
handle.

<p>
The <code>format</code> parameter specifies the pixel format of the source frame data that will
be passed by <a href="WriteAnimFrame.html">WriteAnimFrame()</a> later. This can be one
of the following constants:

<p>
<dl>
<dt class="codelist"><code>HWSAVEANMFMT_ARGB:</code></dt>
<dd>
Data is delivered as a 32-bit array consisting of ARGB pixels.

<p>
</dd>
<dt class="codelist"><code>HWSAVEANMFMT_CLUT:</code></dt>
<dd>
Data is delivered as 8-bit indices into a color look-up table.
</dd></dl>

<p>
You will only have to handle those formats that you have explicitly declared
as supported when Hollywood called your <a href="RegisterAnimSaver.html">RegisterAnimSaver()</a>
function.

<p>
The <code>quality</code> parameter contains a value between 0 and 100 indicating the desired quality for the output
file. Animation formats that use lossy compression can use this member to determine compression
settings for the animation. Animation formats that don't use any compression or offer lossless
compression can ignore this parameter.

<p>
The <code>fps</code> parameter contains the desired playback rate for the animation in frames
per second. This is not supported by all animation formats so you can ignore it
if you want. Some animation formats also support a frame-based delay value that
Hollywood will pass to you in its <a href="WriteAnimFrame.html">WriteAnimFrame()</a> calls.

<p>
The <code>tags</code> argument will be set to a tag list that can contain the following
tags:

<p>
<dl>
<dt class="codelist"><code>HWBASTAG_FORMAT:</code></dt>
<dd>
The <code>iData</code> member of this tag contains the identifier of the animation format that
should be used. You only need to look at this tag if your plugin supports more than
one output format. (V10.0)

<p>
</dd>
<dt class="codelist"><code>HWBASTAG_ADAPTER:</code></dt>
<dd>
Starting with Hollywood 10.0, users can specify the file adapter that should be used
to save an anim. If this tag is set, Hollywood wants your plugin to use the file adapter
specified in the <code>pData</code> member of the tag to save the anim. This means that you
have to use <a href="hw_FOpenExt.html">hw_FOpenExt()</a> instead of <a href="hw_FOpen.html">hw_FOpen()</a>
to save the anim. See <a href="hw_FOpenExt.html">hw_FOpenExt</a> for details. (V10.0)

<p>
</dd>
<dt class="codelist"><code>HWBASTAG_USERTAGS:</code></dt>
<dd>
If this is set, <code>pData</code> will point to a <code>struct hwUserTagList</code> containing
a list of user tags passed by the Hollywood script. User tags are a way of passing additional information
from Hollywood scripts to plugin functions. Note that even if your plugin doesn't
support any user tags, you should still look for this tag and pass the user
tags to <a href="hw_FOpenExt.html">hw_FOpenExt</a> because the user tags passed in <code>UserTags</code> could
also be intended for another plugin, namely the file adapter plugin passed
in <code>Adapter</code>. See <a href="UserTags.html">User tags</a> for details. (V10.0)
</dd></dl>

<p>
This function has to return a handle to the stream if the animation has been successfully
created or <code>NULL</code> if there was an error.

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>filename</i></dt>
<dd>desired location for the animation file on disk</dd>
<dt><i>width</i></dt>
<dd>animation width in pixels</dd>
<dt><i>height</i></dt>
<dd>animation height in pixels</dd>
<dt><i>format</i></dt>
<dd>format for the animation (see above)</dd>
<dt><i>quality</i></dt>
<dd>quality for the animation (see above)</dd>
<dt><i>fps</i></dt>
<dd>frames per second for the animation</dd>
<dt><i>tags</i></dt>
<dd>tag list containing further parameters</dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>handle</i></dt>
<dd>animation handle or <code>NULL</code> in case of an error</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="BeginAnimStreamExt_.html" target="_top">Show TOC</a></font>
</body>
</html>