<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>BeginAnimStream</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
BeginAnimStream -- create a new animation stream (V5.0)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
APTR handle = BeginAnimStream(STRPTR filename, int width, int height,
                  int format, int quality, int fps);</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
This function must create a new animation stream in the specified filename. After
Hollywood has called this function, it will then call <a href="WriteAnimFrame.html">WriteAnimFrame()</a>
to add a number of frames to your animation stream. Once all frames have been added,
Hollywood will call <a href="FinishAnimStream.html">FinishAnimStream()</a> on the stream
handle.

<p>
The <code>format</code> parameter specifies the pixel format of the source frame data that will
be passed by <a href="WriteAnimFrame.html">WriteAnimFrame()</a> later. This can be one
of the following constants:

<p>
<dl>
<dt class="codelist"><code>HWSAVEANMFMT_ARGB:</code></dt>
<dd>
Data is delivered as a 32-bit array consisting of ARGB pixels.

<p>
</dd>
<dt class="codelist"><code>HWSAVEANMFMT_CLUT:</code></dt>
<dd>
Data is delivered as 8-bit indices into a color look-up table.
</dd></dl>

<p>
You will only have to handle those formats that you have explicitly declared
as supported when Hollywood called your <a href="RegisterAnimSaver.html">RegisterAnimSaver()</a>
function.

<p>
The <code>quality</code> parameter contains a value between 0 and 100 indicating the desired quality for the output
file. Animation formats that use lossy compression can use this member to determine compression
settings for the animation. Animation formats that don't use any compression or offer lossless
compression can ignore this parameter.

<p>
The <code>fps</code> parameter contains the desired playback rate for the animation in frames
per second. This is not supported by all animation formats so you can ignore it
if you want. Some animation formats also support a frame-based delay value that
Hollywood will pass to you in its <a href="WriteAnimFrame.html">WriteAnimFrame()</a> calls.

<p>
Please note that in case your plugin supports multiple output animation formats,
you'll have to wait until the first call to <a href="WriteAnimFrame.html">WriteAnimFrame()</a>
on that stream until you can tell which format the user has chosen for the stream.
This inconvenience is due to a design flaw in Hollywood: Support for multiple output
animation formats wasn't available before Hollywood 5.3 but the API was designed for
Hollywood 5.0. So there's just no room for another parameter in the <code>BeginAnimStream()</code>
prototype declaration because it doesn't accept a tag list or any other parameter that
could by dynamically extended as Hollywood functionality increases. Thus, you'll have
to wait until <a href="WriteAnimFrame.html">WriteAnimFrame()</a> which gives you the information
in the <code>FormatID</code> structure member.

<p>
This function has to return a handle to the stream if the animation has been successfully
created or <code>NULL</code> if there was an error.

<p>
Note that since Hollywood 10.0 it's recommended to use <a href="BeginAnimStreamExt.html">BeginAnimStreamExt()</a>
instead of this function because it also supports user tags and you don't have
to wait until the first call to <a href="WriteAnimFrame.html">WriteAnimFrame()</a> to learn about the output
format. <code>BeginAnimStream()</code> is broken by design because it can't be extended so if
you target Hollywood 10.0 or higher, you should use the more flexible <a href="BeginAnimStreamExt.html">BeginAnimStreamExt()</a>
instead. See <a href="BeginAnimStreamExt.html">BeginAnimStreamExt</a> for details. Note if you use <a href="BeginAnimStreamExt.html">BeginAnimStreamExt()</a>, you
also need to set the <code>HWEXT_SAVEANIM_BEGINANIMSTREAM</code> extension bit. See <a href="ExtensionOverview.html">Extension plugins</a> to learn how to use plugin extension bits.

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>filename</i></dt>
<dd>desired location for the animation file on disk</dd>
<dt><i>width</i></dt>
<dd>animation width in pixels</dd>
<dt><i>height</i></dt>
<dd>animation height in pixels</dd>
<dt><i>format</i></dt>
<dd>format for the animation (see above)</dd>
<dt><i>quality</i></dt>
<dd>quality for the animation (see above)</dd>
<dt><i>fps</i></dt>
<dd>frames per second for the animation</dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>handle</i></dt>
<dd>animation handle or <code>NULL</code> in case of an error</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="BeginAnimStream_.html" target="_top">Show TOC</a></font>
</body>
</html>