<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>hw_SaveImage</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
hw_SaveImage -- save image (V9.0)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
int ok = hw_SaveImage(STRPTR file, APTR data, int width, int height,
                  ULONG fmt, ULONG flags, struct hwTagList *tags);</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
This function saves the raw pixel array specified in <code>data</code> to the file specified by
<code>filename</code>. You also need to pass the image dimensions in pixels to <code>hw_SaveImage()</code>.
The array passed in <code>data</code> can either be a 32-bit or an 8-bit pixel array. If it
is an 8-bit pixel array, the pixels are interpreted as CLUT data so you also have
to pass the color palette in the <code>HWSVIMGTAG_PALETTE</code> tag (see below).

<p>
The <code>fmt</code> argument must be set to an image format provided by a plugin or to one of
the following inbuilt image savers:

<p>
<dl>
<dt class="codelist"><code>HWIMGFMT_BMP:</code></dt>
<dd>
Windows bitmap format. Supports RGB and CLUT image data. No support for
alpha channels or transparent pens.

<p>
</dd>
<dt class="codelist"><code>HWIMGFMT_PNG:</code></dt>
<dd>
PNG image. Supports RGB and CLUT image data. Supports alpha channels and
transparent pens.

<p>
</dd>
<dt class="codelist"><code>HWIMGFMT_JPEG:</code></dt>
<dd>
JPEG image. Only RGB data is supported. No support for alpha channels.
Since JPEG is a lossy format, it supports a quality setting via the
<code>HWSVIMGTAG_QUALITY</code> tag (see below).

<p>
</dd>
<dt class="codelist"><code>HWIMGFMT_GIF:</code></dt>
<dd>
GIF image. Only CLUT data is supported. Transparent pens are supported.

<p>
</dd>
<dt class="codelist"><code>HWIMGFMT_ILBM:</code></dt>
<dd>
IFF ILBM image. Supports RGB and CLUT data. Transparent pens are supported
but not alpha channels.
</dd></dl>

<p>
Furthermore, <code>hw_SaveImage()</code> accepts a tag list which can be used to configure
the following options:

<p>
<dl>
<dt class="codelist"><code>HWSVIMGTAG_QUALITY:</code></dt>
<dd>
For lossy compression formats like <code>HWIMGFMT_JPEG</code>, you can use this tag
to set the desired compression level (an integer between 0 and 100).
By default, a quality of 90 is used.

<p>
</dd>
<dt class="codelist"><code>HWSVIMGTAG_DEPTH:</code></dt>
<dd>
Set this to the depth of the pixel data passed in the <code>data</code> parameter.
This can be 24 for RGB data without alpha channel, 32 for RGB data with
alpha channel and 8 for CLUT data. Note that even if you set this tag
to 24, the pixel data must still be passed as 32-bit <code>ULONG</code> pixels.
Defaults to 32.

<p>
</dd>
<dt class="codelist"><code>HWSVIMGTAG_PALETTE:</code></dt>
<dd>
If you pass CLUT data to <code>hw_SaveImage()</code>, you need to set this tag to
a palette containing the pen colors. The palette must be passed as an
array of 256 <code>ULONG</code>. Note that even if the image uses less than 256
colors, you still need to set <code>HWSVIMGTAG_DEPTH</code> to 8 and the array you
pass here still needs to contain 256 entries.

<p>
</dd>
<dt class="codelist"><code>HWSVIMGTAG_TRANSPEN:</code></dt>
<dd>
If you pass CLUT data to <code>hw_SaveImage()</code>, you can set this tag to a
pen that should be made transparent. Defaults to <code>HWPEN_NONE</code> which
means no pen shall be transparent.
</dd></dl>

<p>
</dd>
<dt class="autodoc"><b>Designer compatibility</b></dt><dd>
Unsupported

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>file</i></dt>
<dd>output file name</dd>
<dt><i>data</i></dt>
<dd>raw pixel data, either as 32-bit or 8-bit pixels</dd>
<dt><i>width</i></dt>
<dd>width of the image in pixels</dd>
<dt><i>height</i></dt>
<dd>height of the image in pixels</dd>
<dt><i>fmt</i></dt>
<dd>output format identifier (see above)</dd>
<dt><i>flags</i></dt>
<dd>reserved for future use, pass 0 for now</dd>
<dt><i>tags</i></dt>
<dd>tag list containing additional options (see above)</dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>ok</i></dt>
<dd><code>True</code> or <code>False</code> to indicate success or failure</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="hw_SaveImage_.html" target="_top">Show TOC</a></font>
</body>
</html>