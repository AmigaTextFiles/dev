<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>hw_GetIconImages</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
hw_GetIconImages -- get all images inside icon (V8.0)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
struct hwIconList *list = hw_GetIconImages(lua_ID *id, struct hwTagList
                              *tags);</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
This function can be used to get copies of all images stored inside an icon object.
You have to pass the object identifier of the icon whose images you want to obtain.
The object identifier must be passed as a <code>lua_ID</code>. See <a href="LuaID.html">Object identifiers</a> for details.

<p>
<code>hw_GetIconImages()</code> will return a pointer to a <code>struct hwIconList</code> which looks
like this:

<p>
<table cellpadding="0" cellspacing="0"><tr><td>&nbsp;</td><td><pre>struct hwIconList
{
    struct hwIconList *Succ;
    APTR Data;
    int Width;
    int Height;
    ULONG Flags;
    ULONG *Palette;     // V9.0
    ULONG TransPen;     // V9.0
    int Depth;          // V9.0
    APTR UserData;      // V9.0
};
</pre></td></tr></table><p>

For each node in the list, <code>struct hw_IconList</code> will be initialized as
follows:

<p>
<dl>
<dt class="codelist"><code>Succ:</code></dt>
<dd>
Contains a pointer to the next list node or <code>NULL</code> if this node is the last one.

<p>
</dd>
<dt class="codelist"><code>Data:</code></dt>
<dd>
This will be set to either a 32-bit ARGB or an 8-bit CLUT pixel buffer containing
the image data of this item, depending on whether the <code>Palette</code> member contains
a valid palette. If <code>Data</code> contains 32-bit ARGB pixels, the alpha byte will always
be set for every pixel. The pixel buffer's size will be exactly <code>width * height * bpp</code>.
No row padding will be used. The pixel buffer pointer will be valid until you call
<a href="hw_FreeIcons.html">hw_FreeIcons()</a>.

<p>
</dd>
<dt class="codelist"><code>Width:</code></dt>
<dd>
Contains the image's width.

<p>
</dd>
<dt class="codelist"><code>Height:</code></dt>
<dd>
Contains the image's height.

<p>
</dd>
<dt class="codelist"><code>Flags:</code></dt>
<dd>
This contains a combination of flags for this image. The following flags are
currently supported:

<p>
<dl>
<dt class="codelist"><code>HWICONFLAGS_DEFAULT:</code></dt>
<dd>
This flag marks the default icon. Hollywood's icon type allows scripts to designate
an icon as the default one. It's up to you how you interpret and handle the default
icon.

<p>
</dd>
<dt class="codelist"><code>HWICONFLAGS_SELECTED:</code></dt>
<dd>
If this flag is set, the image in this list node describes a selected icon
state. On AmigaOS and compatibles, icon images usually have two states: normal and
selected. You can get the image of the selected icon state by checking if this
flag is set.

<p>
</dd>
<dt class="codelist"><code>HWICONFLAGS_OPAQUE:</code></dt>
<dd>
This flag is set if the image doesn't use any transparency and all alpha bytes are
set to 255 (i.e. visible).

<p>
</dd>
<dt class="codelist"><code>HWICONFLAGS_EXTENDED:</code></dt>
<dd>
This flag is set if <code>struct hwIconList</code> has the structure extensions
introduced in Hollywood 9.0. Before you access any of those extensions, e.g.
the <code>Palette</code> or <code>Depth</code> members, you must either check if this flag is set or
if the Hollywood version that opened your plugin is at least 9.0. (V9.0)
</dd></dl>

<p>
</dd>
<dt class="codelist"><code>Palette:</code></dt>
<dd>
If the image is a palette image, this will be set to a pointer to an array
of <code>ULONGs</code> which contains the palette colors for the image. The palette
colors are stored as raw RGB values. Note that you need to explicitly
request palette image support by setting the <code>HWGIITAG_PALETTE</code> tag to <code>True</code> (see below)
or <code>hw_GetIconImages()</code> will never return palette images. (V9.0)

<p>
</dd>
<dt class="codelist"><code>TransPen:</code></dt>
<dd>
If the image is a palette image and has a transparent pen, this pen will
be returned in this member. If there is no transparent pen, <code>HWPEN_NONE</code>
will be written to this member. Note that you need to explicitly request palette
image support by setting the <code>HWGIITAG_PALETTE</code> tag to <code>True</code> (see below) or this
member will never be set. (V9.0)

<p>
</dd>
<dt class="codelist"><code>Depth:</code></dt>
<dd>
This will be set to the image's depth. (V9.0)
</dd></dl>

<p>
<code>hw_GetIconImages()</code> also accepts a tag list which allows you to configure some further
options. The following tags are currently recognized:

<p>
<dl>
<dt class="codelist"><code>HWGIITAG_PALETTE:</code></dt>
<dd>
If you set this tag to <code>True</code>, <code>hw_GetIconImages()</code> will also return palette images
inside the icon. For compatibility reasons, this is not done by default because
palette images inside icons weren't supported before Hollywood 9.0. Thus, plugins
need to explicitly request them before they are returned. This can be done by setting
this tag to <code>True</code>. (V9.0)
</dd></dl>

<p>
The list that is returned by this function must be freed using the <a href="hw_FreeIcons.html">hw_FreeIcons()</a>
function. See <a href="hw_FreeIcons.html">hw_FreeIcons</a> for details.

<p>
Note that in contrast to the list returned by <a href="hw_GetIcons.html">hw_GetIcons()</a>, the
list returned by <code>hw_GetIconImages()</code> will be sorted from small to large sizes.

<p>
</dd>
<dt class="autodoc"><b>Designer compatibility</b></dt><dd>
Unsupported

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>id</i></dt>
<dd>object identifier of icon whose images you want to get</dd>
<dt><i>tags</i></dt>
<dd>reserved for future use; pass <code>NULL</code></dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>list</i></dt>
<dd>a list containing all images in the icon object or <code>NULL</code> on error</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="hw_GetIconImages_.html" target="_top">Show TOC</a></font>
</body>
</html>