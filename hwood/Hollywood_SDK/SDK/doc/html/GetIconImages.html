<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>GetIconImages</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
GetIconImages -- get all images inside icon (V9.0)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
struct hwIconList *list = GetIconImages(APTR handle, struct hwTagList
                              *tags);</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
This function must return a list of all images stored inside an icon object.
It is expected to return a pointer to the first node of a <code>struct hwIconList</code>
list.

<p>
Note that your plugin is responsible for freeing the list returned by this
function. The list can't be freed by <a href="hw_FreeIcons.html">hw_FreeIcons()</a>
because it has been allocated by your plugin. You may free a list returned
by <code>GetIconImages()</code> as soon as Hollywood calls <code>GetIconImages()</code> again or
when Hollywood calls your <a href="ClosePlugin.html">ClosePlugin()</a> function.

<p>
The <code>struct hwIconList</code> that <code>GetIconImages()</code> needs to return looks
like this:

<p>
<table cellpadding="0" cellspacing="0"><tr><td>&nbsp;</td><td><pre>struct hwIconList
{
    struct hwIconList *Succ;
    APTR Data;
    int Width;
    int Height;
    ULONG Flags;
    ULONG *Palette;
    ULONG TransPen;
    int Depth;
    APTR UserData;
};
</pre></td></tr></table><p>

For each node in the list, <code>struct hw_IconList</code> must be initialized as
follows:

<p>
<dl>
<dt class="codelist"><code>Succ:</code></dt>
<dd>
Must be set to a pointer to the next list node or <code>NULL</code> if this node is the last one.

<p>
</dd>
<dt class="codelist"><code>Data:</code></dt>
<dd>
Must be set to the image's pixel data. For RGB images, this must be set to a 32-bit
ARGB pixel buffer, for CLUT images to an 8-bit pixel buffer. For 32-bit images the
alpha byte must always be set for every pixel. For CLUT images, you must also set
the <code>Palette</code> member (see below). The pixel buffer's size must be exactly
<code>width * height * bpp</code>. No row padding must be used.

<p>
</dd>
<dt class="codelist"><code>Width:</code></dt>
<dd>
Must be set to the image's width.

<p>
</dd>
<dt class="codelist"><code>Height:</code></dt>
<dd>
Must be set to the image's height.

<p>
</dd>
<dt class="codelist"><code>Flags:</code></dt>
<dd>
Must be set to a combination of flags for this image. The following flags are
currently supported:

<p>
<dl>
<dt class="codelist"><code>HWICONFLAGS_DEFAULT:</code></dt>
<dd>
This flag marks the default icon. Hollywood's icon type allows scripts to designate
an icon as the default one. It's up to you how you interpret and handle the default
icon.

<p>
</dd>
<dt class="codelist"><code>HWICONFLAGS_SELECTED:</code></dt>
<dd>
If this flag is set, the image in this list node describes a selected icon
state. On AmigaOS and compatibles, icon images usually have two states: normal and
selected. You can set this flag to mark an image as selected.

<p>
</dd>
<dt class="codelist"><code>HWICONFLAGS_OPAQUE:</code></dt>
<dd>
This flag should be set if the image doesn't use any transparency and all alpha bytes are
set to 255 (i.e. visible).
</dd></dl>

<p>
</dd>
<dt class="codelist"><code>Palette:</code></dt>
<dd>
If the image is a CLUT image, this must be set to a pointer to an array
of <code>ULONGs</code> which contains the palette colors for the image. The palette
colors are stored as raw RGB values. Note that this must always be set
to a buffer containing 256 <code>ULONG</code> entries. Even if you set <code>Depth</code> to
something less than 8, the palette you specify here must still contain
256 entries.

<p>
</dd>
<dt class="codelist"><code>TransPen:</code></dt>
<dd>
If the image is a CLUT image and has a transparent pen, set this member
to the pen that should be transparent. If there is no transparent pen, set
<code>TransPen</code> to <code>HWPEN_NONE</code>.

<p>
</dd>
<dt class="codelist"><code>Depth:</code></dt>
<dd>
Set this to the image's depth. This must be a bit depth either between 1
and 8 for CLUT images or 32 for RGB images with alpha channel. Do not
set it to anything else.
</dd></dl>

<p>
</dd>
<dt class="autodoc"><b>Designer compatibility</b></dt><dd>
Unsupported

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>handle</i></dt>
<dd>icon handle returned by <a href="LoadIcon.html">LoadIcon()</a></dd>
<dt><i>tags</i></dt>
<dd>reserved for future use, currently always <code>NULL</code></dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>list</i></dt>
<dd>a list containing all images in the icon object or <code>NULL</code> on error</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="GetIconImages_.html" target="_top">Show TOC</a></font>
</body>
</html>