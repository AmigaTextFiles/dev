<html>
<!-- generated from hollywood_sdk.meta by MetaDoc 1.13 (c) by Andreas Falkenhahn -->
<head>
<title>hw_MasterControl</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.13">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<dl>
<dt class="autodoc"><b>Name</b></dt><dd>
hw_MasterControl -- control various internal attributes (V5.0)</dd>
<dt class="autodoc"><b>Synopsis</b></dt><dd>
<pre>
int c = hw_MasterControl(struct hwTagList *tags);</pre>
</dd>
<dt class="autodoc"><b>Function</b></dt><dd>
This function can be used to set/get various internal attributes. You have to pass
a pointer to a <code>hwTagList</code> to this function. <code>hw_MasterControl()</code> will iterate through
this taglist and set/get all the individual tags in the list. It will return the
number of tags successfully handled.

<p>
The following tags are currently recognized:

<p>
<dl>
<dt class="codelist"><code>HWMCP_GETPOWERPCBASE:</code></dt>
<dd>
In the WarpOS version of Hollywood, <code>pData</code> will be set to a pointer of <code>PowerPCBase</code>.
In all other versions, <code>NULL</code> will be written to <code>pData</code>.

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETAPPTITLE:</code></dt>
<dd>
This tag returns the application's title as specified in the <code>@APPTITLE</code> preprocessor
command. You have to pass a pointer to a <code>STRPTR</code> in <code>pData</code>. Hollywood will set this
<code>STRPTR</code> to the application's title then. Hollywood will never write <code>NULL</code> to the <code>STRPTR</code>
but it may return an empty string. (V5.2)

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETAPPVERSION:</code></dt>
<dd>
This tag returns the application's version as specified in the <code>@APPVERSION</code> preprocessor
command. You have to pass a pointer to a <code>STRPTR</code> in <code>pData</code>. Hollywood will set this
<code>STRPTR</code> to the application's version then. Hollywood will never write <code>NULL</code> to the <code>STRPTR</code>
but it may return an empty string. (V5.2)

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETAPPCOPYRIGHT:</code></dt>
<dd>
This tag returns the application's copyright text as specified in the <code>@APPCOPYRIGHT</code>
preprocessor command. You have to pass a pointer to a <code>STRPTR</code> in <code>pData</code>. Hollywood will set this
<code>STRPTR</code> to the application's copyright text then. Hollywood will never write <code>NULL</code> to the <code>STRPTR</code>
but it may return an empty string. (V5.2)

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETAPPAUTHOR:</code></dt>
<dd>
This tag returns the application's author as specified in the <code>@APPAUTHOR</code> preprocessor
command. You have to pass a pointer to a <code>STRPTR</code> in <code>pData</code>. Hollywood will set this
<code>STRPTR</code> to the application's author then. Hollywood will never write <code>NULL</code> to the <code>STRPTR</code>
but it may return an empty string. (V5.2)

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETAPPDESCRIPTION:</code></dt>
<dd>
This tag returns the application's description as specified in the <code>@APPDESCRIPTION</code> preprocessor
command. You have to pass a pointer to a <code>STRPTR</code> in <code>pData</code>. Hollywood will set this
<code>STRPTR</code> to the application's description then. Hollywood will never write <code>NULL</code> to the <code>STRPTR</code>
but it may return an empty string. (V5.2)

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETAPPIDENTIFIER:</code></dt>
<dd>
This tag returns the application's identifier as specified in the <code>@APPIDENTIFIER</code> preprocessor
command. You have to pass a pointer to a <code>STRPTR</code> in <code>pData</code>. Hollywood will set this
<code>STRPTR</code> to the application's identifier then. Hollywood will never write <code>NULL</code> to the <code>STRPTR</code>
but it may return an empty string. (V6.1)

<p>
</dd>
<dt class="codelist"><code>HWMCP_SETCALLBACKMODE:</code></dt>
<dd>
This tag enables or disables callback mode according to the value passed in <code>iData</code>. You
have to pass <code>True</code> to enable callback mode or <code>False</code> to disable it. Callback mode should
be enabled whenever one of your plugin's Lua functions runs another Lua function by
calling <a href="lua_pcall.html">lua_pcall()</a>. Please note that <code>HWMCP_SETCALLBACKMODE</code> contains a nesting count.
Thus, every enable operation must be matched by a disable operation. (V6.0)

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETGTKREADY:</code></dt>
<dd>
This tag returns a boolean value indicating whether GTK has been setup correctly on
Linux. You have to set <code>pData</code> to a pointer to an <code>int</code>. Hollywood will then write either
<code>True</code> or <code>False</code> to this <code>int</code>. This tag is only supported on Linux. (V6.0)

<p>
</dd>
<dt class="codelist"><code>HWMCP_SETDISABLELINEHOOK:</code></dt>
<dd>
This tag can be used to enable or disable Hollywood's Lua line hook. By default, the
line hook is called after executing one line of Lua code. This leads to some overhead
because the line hook will handle window events and update video frames among other
things. To increase performance in certain situations, your plugin can temporarily
disable this line hook by setting <code>iData</code> to <code>True</code> in this tag. However, make sure that
you enable it again as soon as possible because several key features of Hollywood won't
work while the line hook is disabled. This tag expects either <code>True</code> or <code>False</code> in <code>iData</code>.
(V6.0)

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETFPSLIMIT:</code></dt>
<dd>
This tag returns the FPS limit that has been set by a call to Hollywood's <code>SetFPSLimit()</code>
command. You have to set <code>pData</code> to a pointer to an <code>int</code>. Hollywood will then write the FPS
limit to this <code>int</code>. (V6.0)

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETDESIGNERVERSION:</code></dt>
<dd>
This tag returns the version of Hollywood Designer if your plugin has been opened by Hollywood
Designer. You have to set <code>pData</code> to a pointer to a <code>ULONG</code>. The upper 16-bits of the <code>ULONG</code>
will then receive Designer's version number whereas the revision number will be written to
the lower 16-bits. Obviously, this tag is only recognized by Hollywood Designer and not
by Hollywood itself. Note that Designer 4.0 doesn't support this tag. If your plugin
was opened by Designer and <code>hw_MasterControl()</code> fails to obtain this tag, you can be sure
that Designer 4.0 is handling your plugin. (V6.0)

<p>
</dd>
<dt class="codelist"><code>HWMCP_SETGLOBALQUIT:</code></dt>
<dd>
This tag can be used to change the state of Hollywood's global quit flag. If the global
quit flag is set to <code>True</code>, Hollywood will immediately shutdown. In contrast to posting
<code>HWEVT_QUIT</code> using <a href="hw_PostEvent.html">hw_PostEvent()</a>, setting the global quit flag
will cause an instant shut down of Hollywood. (V6.1)

<p>
</dd>
<dt class="codelist"><code>HWMCP_SETLIGHTCHKEVT:</code></dt>
<dd>
Set this tag to <code>True</code> to make Hollywood's <code>CheckEvent()</code> function only call into your display
adapter's <a href="HandleEvents.html">HandleEvents()</a> function and do nothing else. Normally, Hollywood's
<code>CheckEvent()</code> function will also run event callbacks if events have triggered. You can
prohibit this behaviour by setting this flag to <code>True</code>. If <code>HWMCP_SETLIGHTCHKEVT</code> has been
set to <code>True</code>, <code>CheckEvent()</code> will only call your display adapter's <a href="HandleEvents.html">HandleEvents()</a>
function and do nothing else. (V6.1)

<p>
</dd>
<dt class="codelist"><code>HWMCP_RESETERRORFLAG:</code></dt>
<dd>
Whenever <code>lua_pcall()</code> exits with an error, Hollywood expects a program shutdown and sets
several internal flags to prepare this complete shutdown. If you want to keep the
program running even after <code>lua_pcall()</code> returned an error, you have to execute <code>HWMCP_RESETERRORFLAG</code>
to reset all internal error flags. Then Hollywood can continue running without any issues.
Note that this tag doesn't take any data. Both <code>iData</code> and <code>pData</code> elements are ignored. (V6.1)

<p>
</dd>
<dt class="codelist"><code>HWMCP_SETAMIGASIGNALERROR:</code></dt>
<dd>
This tag can be used from within an Amiga signal callback installed using <a href="hw_RegisterCallback.html">hw_RegisterCallback()</a>.
It allows the Amiga signal callback to pass an error code back to Hollywood. This is a glue
code feature which works around the design flaw that callbacks of type <code>HWCB_AMIGASIGNAL</code> can't
pass an error code back to Hollywood. If you need to pass an error code back to Hollywood, use
this tag and set the <code>iData</code> member of it to the error code that should be passed back to Hollywood.
See <a href="hw_RegisterCallback.html">hw_RegisterCallback</a> for details. (V6.1)

<p>
</dd>
<dt class="codelist"><code>HWMCP_SETDISABLERAISEONERROR:</code></dt>
<dd>
This tag can be used to temporarily disable an error handling function installed by Hollywood's
<code>RaiseOnError()</code> function. Pass <code>True</code> in <code>iData</code> to disable the error handling function, <code>False</code>
to enable it again. Normally it is not necessary to mess with error handlers installed by
<code>RaiseOnError()</code> but in plugins doing really advanced things it might be convenient to have
control over the error handler. Also see the <a href="hw_RaiseOnError.html">hw_RaiseOnError()</a> function
made available by <a href="SysBaseOverview.html">SysBase</a>. See <a href="hw_RaiseOnError.html">hw_RaiseOnError</a> for details. (V7.0)

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETEXITONERROR:</code></dt>
<dd>
This tag returns a boolean value indicating the state of Hollywood's <code>ExitOnError()</code> function.
You have to set <code>pData</code> to a pointer to a <code>ULONG</code>. Hollywood will then write either <code>True</code> or <code>False</code>
to this <code>ULONG</code> depending on whether <code>ExitOnError()</code> is currently set to <code>True</code> or <code>False</code>. (V7.1)

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETLUASTATE:</code></dt>
<dd>
This tag copies a pointer to the current <code>lua_State</code> used by Hollywood to the <code>pData</code> item
accompanying this tag. (V7.1)

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETDENSITY:</code></dt>
<dd>
This tag copies the density setting for the main monitor to the <code>pData</code> member item in the
tag. The <code>pData</code> member must be set to a pointer to a <code>double</code>. Note that this will only
retrieve the density setting for the main monitor. Additional monitors might use different
density settings. (V8.0)

<p>
</dd>
<dt class="codelist"><code>HWMCP_GETAMIGASIGNALS:</code></dt>
<dd>
This tag copies the Amiga signal mask returned by the last call to exec.library's <code>Wait()</code>
function to the <code>pData</code> member item in the tag. The <code>pData</code> member must be set to a pointer to
a <code>ULONG</code>. (V9.0)

<p>
</dd>
<dt class="codelist"><code>HWMCP_SETFORBIDMODAL:</code></dt>
<dd>
This tag can be used to force Hollywood to disable all library functions which start a modal
event loop, e.g. <code>WaitLeftMouse()</code>, <code>WaitSampleEnd()</code>, <code>InKeyStr()</code>, and so on. The <code>iData</code> member must
be set to <code>True</code> or <code>False</code>, depending on whether modal loops shall be blocked or not. Note that
<code>Wait()</code> isn't affected by <code>HWMCP_SETFORBIDMODAL</code>. You can control the behaviour of <code>Wait()</code> by implementing
your own <a href="Sleep.html">Sleep()</a> function using <code>HWSDAFLAGS_SLEEP</code>. See <a href="hw_SetDisplayAdapter.html">hw_SetDisplayAdapter</a> for details.
(V9.0)
</dd></dl>

<p>
</dd>
<dt class="autodoc"><b>Designer compatibility</b></dt><dd>
Supported since Designer 4.

<p>
</dd>
<dt class="autodoc"><b>Inputs</b></dt><dd>
<dl>
<dt><i>tags</i></dt>
<dd>pointer to a <code>struct hwTagList</code> containing various tags (see above)</dl>
</dd>
<dt class="autodoc"><b>Results</b></dt><dd>
<dl>
<dt><i>c</i></dt>
<dd>the number of tags successfully handled</dd></dl>
</dd></dl>
<hr>
<font size=-2><a href="hw_MasterControl_.html" target="_top">Show TOC</a></font>
</body>
</html>