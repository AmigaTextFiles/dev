;
; $VER: Hollywood Player-Setup 1.0 (20.07.14)
;
; Done by Andreas Falkenhahn
;

(message (cat "\nWelcome to the Setup utility for the\n\n"
		     "Hollywood Player 10.0\n\n"
		     "Copyright © 2002-2023 by Andreas Falkenhahn"
))

(welcome)

(set defaultplat 0)

(if (exists "SYS:MorphOS/C/Assign") (
	(set defaultplat 4)
) (
	(if (exists "SYS:System/GrimReaper") (
		(set defaultplat 2)
	) (
		(if (exists "LIBS:powerpc.library") (
			(set defaultplat 5)
		))
	))
))

(set whichver
	(askchoice
		(prompt  "Please select which Hollywood Player version you want to install.")
		(help    @askoptions-help)
		(choices "AmigaOS 3 (m68k)" "AmigaOS 3 (m68k/m881)" "AmigaOS 4 (ppc)" "AROS (x86)" "MorphOS (ppc)" "WarpOS (m68k/ppc)")
		(default defaultplat)
	)
)

(set #platform "AmigaOS3")

(if (= whichver 1) (
	(set #platform "AmigaOS3_FPU")
))

(if (= whichver 2) (
	(set #platform "AmigaOS4")
))

(if (= whichver 3) (
	(set #platform "AROS")
))

(if (= whichver 4) (
	(set #platform "MorphOS")
))

(if (= whichver 5) (
	(set #platform "WarpOS")
))

; install player
(copyfiles
	(prompt  "Copying HollywoodPlayer to SYS:Utilities")
	(source  (cat "Platform/" #platform "/HollywoodPlayer"))
	(dest    "SYS:Utilities")
	(optional askuser force)
	(infos)
	(confirm)
	(help    @copyfiles-help)
)

(message (cat "\nHollywood Player has been installed successfully to SYS:Utilities. The sample "
	"applets haven't been installed. You may copy them to a location of your choice.\n\n"))

(message (cat
	"\nHere are some useful hotkeys that work with most applets:\n\n"
	"CMD+RETURN: will switch between window and fullscreen mode\n"
	"CMD+h: will iconify the applet\n"
	"CTRL-C: will quit the applet\n\n"))

(run "SYS:Utilities/HollywoodPlayer Samples/PlayerInfo.hwa")

(message (cat "\nHave fun with the Hollywood Player and don't forget to visit the official Hollywood "
	"portal and forums at\n\n"
	"http://www.hollywood-mal.com/"))

(exit (quiet))
