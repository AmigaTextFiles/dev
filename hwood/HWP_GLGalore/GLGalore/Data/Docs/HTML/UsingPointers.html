<html>
<!-- generated from GLGalore.meta by MetaDoc 1.7 (c) by Andreas Falkenhahn -->
<head>
<title>Working with pointers</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.7">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<h2 class="heading">3.7 Working with pointers</h2>

<p>
Several OpenGL functions expect you to pass a pointer to a raw memory buffer to them. Working
with pointers directly is the most efficient way to interact with OpenGL since it avoids any
overhead created by having to read the contents of Hollywood tables into memory buffers first.

<p>
You can use the functions of Hollywood's memory block library to allocate memory buffers, read
or write to them, and obtain a pointer to their raw memory buffer. To allocate a memory buffer,
you use the <code>AllocMem()</code> function, to read from a memory buffer you use <code>Peek()</code> while <code>Poke()</code>
can be used to write to a memory buffer. Finally, <code>GetMemPointer()</code> returns the pointer of
a memory block object. You can pass the return value of <code>GetMemPointer()</code> to all OpenGL functions
which expect a pointer argument.

<p>
Here is an example:

<p>
<table cellpadding="0" cellspacing="0"><tr><td>&nbsp;</td><td><pre>AllocMem(1, 640*480*4)
Local ptr = GetMemPointer(1)
gl.ReadPixelsRaw(0, 0, 640, 480, #GL_BGRA, #GL_UNSIGNED_BYTE, ptr)
... ; do something with the data
FreeMem(1)
</pre></td></tr></table><p>

The code above reads 480 rows of 640 pixels into memory block object 1. You could then
write the data to a file using <code>WriteMem()</code>, you could convert it to a table using <code>MemToTable()</code>
or read individual values from it using <code>Peek()</code>. See the documentation of Hollywood's memory
block library for more information.

<p>
<hr>
<font size=-2><a href="UsingPointers_.html" target="_top">Show TOC</a></font>
</body>
</html>