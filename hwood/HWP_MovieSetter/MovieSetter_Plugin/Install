;
; $VER: Plugin Setup 1.2 (08.07.15)
;
; Done by Andreas Falkenhahn
;

(set #hwPlugFile "moviesetter.hwp")
(set #hwPlugName "Movie Setter Plugin")
(set #hwPlugVersion "1.2")
(set #hwPlugAuthor "Andreas Falkenhahn and others")
(set #hwPlugCopyrightYear "2012-2015")
(set #hwPlugDescription "Open and play animations that are in Gold Disk MovieSetter format")

(message (cat "\nWelcome to the Setup utility for\n\n" #hwPlugName " " #hwPlugVersion "\n\nCopyright © " #hwPlugCopyrightYear " by " #hwPlugAuthor "\n\n" #hwPlugDescription))

(welcome)

(set whichver
	(askchoice
		(prompt  "Please select your platform")
		(help    @askoptions-help)
		(choices "AmigaOS 3" "AmigaOS 3 (FPU)" "WarpOS" "MorphOS" "AmigaOS 4" "AROS (i386)")
	)
)

(set #platform "AmigaOS3")

(if (= whichver 1) (
	(set #platform "AmigaOS3_FPU")
))

(if (= whichver 2) (
	(set #platform "WarpOS")
))

(if (= whichver 3) (
	(set #platform "MorphOS")
))

(if (= whichver 4) (
	(set #platform "AmigaOS4")
))

(if (= whichver 5) (
	(set #platform "AROS")
))

(makedir "LIBS:Hollywood")

(copylib
	(source (cat #platform "/" #hwPlugFile))
	(dest   "LIBS:Hollywood")
	(prompt #hwPlugFile)
	(help @copylib-help)
	(optional "nofail" "force" "askuser")
	(confirm)
)

(if (= (exists "ReadMe") 1) (
	(run ("Sys:Utilities/MultiView ReadMe"))
))

(message (cat "\n" #hwPlugName " has been successfully installed on your system."))

(exit (quiet))

