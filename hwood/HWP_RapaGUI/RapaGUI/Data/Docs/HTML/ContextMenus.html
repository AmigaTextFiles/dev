<html>
<!-- generated from RapaGUI.meta by MetaDoc 1.16 (c) by Andreas Falkenhahn -->
<head>
<title>Context menus</title>
<meta name="author" content="Andreas Falkenhahn">
<meta name="generator" content="MetaDoc 1.16">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
<!--
body {font-family: sans-serif;}
ul.toc {list-style: none; margin-left: 20px; padding-left: 0px;}
dt.autodoc {font-variant: small-caps; font-size: larger; margin-top: 10px; margin-bottom: 10px; padding-left: 0.2em; padding-top: 0.2em; padding-bottom: 0.2em;
	background-color: #bae1ff; border-width: 1px; border-color: #3baaff; border-style: solid;}
dt.codelist {margin-bottom: 0.2em;}
h2.heading {background-color: #bae1ff; font-family: Arial; padding-top: 0.4em; padding-bottom: 0.4em;}
code {background-color: #f2f2f2; padding: 2px 4px; font-weight: bold;}
pre {background-color: #f2f2f2; border: 1px solid #ddd; padding: 0.3em;}
		
-->
</style>
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#0000FF">
<h2 class="heading">3.16 Context menus</h2>

<p>
RapaGUI supports context menus for each of its widget classes. Context menus are
assigned to the individual widgets by using the <a href="AreaContextMenu.html">Area.ContextMenu</a> attribute.
As <a href="Area.html">Area class</a> is the super-class for all widgets, you can use this
attribute with every MOAI object that creates a widget. If you've declared <a href="AreaContextMenu.html">Area.ContextMenu</a>
for a widget, RapaGUI will automatically show the context menu whenever the user
clicks the right mouse button while the cursor is over a widget that has a context
menu attached.

<p>
<a href="AreaContextMenu.html">Area.ContextMenu</a> expects an object derived from <a href="Menu.html">Menu class</a> as its
argument so you have to create such a menu MOAI object for your context menu in XML first.
It is very important to note that you have to declare your menus in the <code>&lt;application&gt;</code> scope
because menus are global objects and are only attached to windows or widgets later
on. That is why it is not allowed to declare menus inside a <code>&lt;window&gt;</code> XML
scope.

<p>
Here is an example in which we add a cut, copy, and paste context menu to an object
of type <a href="Texteditor.html">Texteditor class</a>:

<p>
<table cellpadding="0" cellspacing="0"><tr><td>&nbsp;</td><td><pre>&lt;menu title=&quot;Context menu&quot; id=&quot;ctxtmenu&quot;&gt;
   &lt;item id=&quot;mni_cut&quot;&gt;Cut&lt;/item&gt;
   &lt;item id=&quot;mni_copy&quot;&gt;Copy&lt;/item&gt;
   &lt;item id=&quot;mni_paste&quot;&gt;Paste&lt;/item&gt;
&lt;/menu&gt;

&lt;window&gt;
...
   &lt;texteditor contextmenu=&quot;ctxtmenu&quot;/&gt;
...
&lt;/window&gt;
</pre></td></tr></table><p>

Note that when using <a href="Menu.html">Menu class</a> to create context menus, the <a href="MenuTitle.html">Menu.Title</a>
attribute is only used on AmigaOS and compatibles. Context menus on Windows, Linux,
and macOS don't show a title.

<p>
Also note that context menu events will be delivered via the standard
<a href="MenuitemSelected.html">Menuitem.Selected</a> mechanism and not through a special context
menu event handler. Since you can use the same menu object as a context
menu for several widgets, you need a way to find out the widget whose context menu
triggered the event. To give you this information, the event message
will contain an additional item named &quot;Parent&quot; which contains the
ID of the context menu's hosting widget. This allows you to re-use
the same menu object as a context menu for multiple parent
widgets.

<p>
AmigaOS users please note that MUI doesn't allow context menu objects
to be shared across windows. You are not allowed to use the same menu
object with widgets in different windows. It's okay to re-use a menu object
for several widgets in the same window but not for widgets in
another window. All other platforms don't have this limitation,
only AmigaOS is affected here.

<p>
<hr>
<font size=-2><a href="ContextMenus_.html" target="_top">Show TOC</a></font>
</body>
</html>