; d0 - value

	xdef	_BitCount

_BitCount	move.l	d2,a0
	moveq	#0,d1
	moveq	#31,d2	; number of bit
.loop	btst.l	d2,d0
	beq.s	.skip
	addq	#1,d1
.skip	dbra.s	d2,.loop
	move.l	d1,d0
	move.l	a0,d2
	rts
