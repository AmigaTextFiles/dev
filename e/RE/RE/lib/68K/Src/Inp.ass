; d1 - fh

	xdef	_Inp

_Inp	movem.l	d2-d3/a2/a6,-(a7)
	moveq	#1,d3
	lea	(.buff,pc),a2
	move.l	a2,d2
	move.l	_DOSBase,a6
	jsr	(-42,a6)		; Read()
	movem.l	(a7)+,d2-d3/a2/a6
	tst.l	d0
	beq.s	.error
	clr.l	d0
	move.b	(a2),d0
	rts
.error	moveq	#-1,d0
	rts

.buff	dc.b	0,0

	xref	_DOSBase
