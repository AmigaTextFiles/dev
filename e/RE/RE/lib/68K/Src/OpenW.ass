; (46,a7) - left
; (42,a7) - top
; (38,a7) - width
; (34,a7) - height
; (28,a7) - idcmp
; (24,a7) - flags
; (20,a7) - title
; (16,a7) - screen
; (12,a7) - stype
; (8,a7)  - gadgets
; (4,a7)  - tags

	xdef	_OpenW

_OpenW	move.l	a6,-(a7)
	lea	(.nw,pc),a0
	move.l	(4+4,a7),(48,a0)
	move.l	(4+8,a7),(18,a0)
	move.w	(4+14,a7),(46,a0)
	move.l	(4+16,a7),(30,a0)
	move.l	(4+20,a7),(26,a0)
	move.l	(4+24,a7),d0
	moveq	#18,d1		; extended structure
	bset	d1,d0
	move.l	d0,(14,a0)
	move.l	(4+28,a7),(10,a0)
	move.w	(4+34,a7),(6,a0)
	move.w	(4+38,a7),(4,a0)
	move.w	(4+42,a7),(2,a0)
	move.w	(4+46,a7),(a0)
	move.l	_IntuitionBase,a6
	jsr	-$cc(a6)		; OpenWindow()
	move.l	d0,a0
	move.l	a0,d0
	beq.s	.exit
	move.l	(50,a0),_stdrast
.exit	move.l	(a7)+,a6
	rts

.nw	dc.w	0,0,0,0,-1
	dc.l	0,0,0,0,0,0,0
	dc.w	80,25,-1,-1,0
	dc.l	0		; tags

	xdef	_stdrast
_stdrast	dc.l	0

	xdef	coloura
coloura	dc.l	1

	xref	_IntuitionBase
