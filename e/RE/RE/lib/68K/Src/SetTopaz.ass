;rE
	machine mc68020
	fpu	1

	dsource	"re:lib/elib_68K/SetTopaz.e"
;MOD:re:modules/graphics.m
;MOD:re:modules/graphics/text.m
;MOD:re:modules/exec/ports.m
;MOD:re:modules/exec/nodes.m
;MOD:re:modules/exec/types.m
;MOD:re:modules/exec/lists.m
;MOD:re:modules/exec/tasks.m
;MOD:re:modules/graphics/gfx.m
;MOD:re:modules/utility/tagitem.m
;MOD:re:modules/lib/restd_68K.m
	xdef	_SetTopaz
_SetTopaz:
SetTopaz_size	equ	8
	link	a5,#-4
	movem.l	a0,-(a7)
;DEF font
SetTopaz_font	equ	-4
;IF font:=OpenFont(['topaz.font',size,0,0]:TextAttr) THEN SetFont(stdrast,font)
SetTopaz_if1:
	move.l	a0,-(a7)
	lea	_list1,a0
	move.l	a0,d1
	adda.l	#4,a0
	move.l	SetTopaz_size(a5),d1
	move.w	d1,(a0)
	adda.l	#3,a0
	suba.l	#7,a0
	movea.l	_GfxBase,a6
	jsr	-72(a6)
	move.l	(a7)+,a0
	move.l	d0,SetTopaz_font(a5)
	tst.l	d0
	beq	SetTopaz_else1_0
;SetFont(stdrast,font)
	move.l	a0,-(a7)
	move.l	_stdrast,-(a7)
	move.l	SetTopaz_font(a5),a0
	move.l	(a7)+,a1
	movea.l	_GfxBase,a6
	jsr	-66(a6)
	move.l	(a7)+,a0
SetTopaz_else1_0:
;ENDPROC
	xdef	SetTopazend
SetTopazend:
SetTopaz_finish:
	movem.l	(a7)+,a0
	unlk	a5
	rts
; END
; NOX
	cnop	0,2

	section	".tocd",data
	xref	_laststackptr
	xref	_stdrast
	xref	_lastexceptptr
	xref	_lastframeptr
	xref	_exceptioninfo
	xref	_GfxBase
	xref	_exception
_list1:
	dc.l	_str1
	dc.w	0
	dc.b	0
	dc.b	0
	cnop	0,2
_str1:
	dc.b	"topaz.font"
	dc.b	0
	cnop	0,2
