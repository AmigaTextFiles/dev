; a0 - pool
; d0 - size

	xdef	_NewEStrPooled

_NewEStrPooled
	move.l	a6,-(a7)
	addq.l	#4,d0
	move.l	d0,-(a7)
	movea.l	$4.w,a6
	jsr	(-708,a6)		; AllocPooled()
	move.l	(a7)+,d1
	tst.l	d0
	beq.s	.exit
	move.l	d0,a0
	moveq	#16,d0
	lsl.l	d0,d1		; max, len=0
	move.l	d1,(a0)+
	clr.b	(a0)		; clear string
	move.l	a0,d0
	move.l	(a7)+,a6
.exit	rts
