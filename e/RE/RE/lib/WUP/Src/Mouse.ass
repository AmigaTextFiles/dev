
# Mouse()(r3:LONG)

	.text
	.global	_Mouse

_Mouse:	li	r3,0
	lis	r7,0x00bf
	ori	r7,r7,0xe001
	lbz	r8,0(r7)
	andi.	r0,r8,1<<6	# lmb?
	bne	noleft
	ori	r3,r3,1
noleft:
	lis	r7,0x00df
	ori	r7,r7,0xf016
	lbz	r8,0(r7)
	andi.	r0,r8,1<<2	# rmb?
	bne	noright
	ori	r3,r3,2
noright:
	andi.	r0,r8,1<<0	# mmb?
	bne	nomiddle
	ori	r3,r3,4
nomiddle:	blr

	.type	_Mouse,@function
	.size	_Mouse,$-_Mouse
