#rE
	.include	ppcmacros.pasm
	.text
	.sdreg	r2
	.align	2
#MOD:re:modules/dos.m
#MOD:re:modules/lib/restd_PPC.m
	.global	_WriteF
_WriteF:
.set	WriteF_a,12
.set	WriteF_b,8
	link	a5,0
	push	a0
#VFPrintF(stdout:=IF stdout=0 THEN conout:=Open('con:0/11/640/80/output',1006) ELSE stdout,a,b)
	push	d0
WriteF_if1:
	law	a0,_stdout
	lwz	d1,0(a0)
	cmpiw	d1,0
	bne	WriteF_else1
	push	d0
	push	a0
	law	a0,_str1
	push	a0
	liw	d2,1006
	pop	d1
	RUN_68K	_DOSBase,-30
	pop	a0
	mr	d1,d0
	pop	d0
	law	a0,_conout
	stw	d1,0(a0)
	b	WriteF_endif1
WriteF_else1:
	law	a0,_stdout
	lwz	d1,0(a0)
WriteF_endif1:
	law	a0,_stdout
	stw	d1,0(a0)
	push	d1
	lwz	d1,WriteF_a(a5)
	push	d1
	lwz	d3,WriteF_b(a5)
	pop	d2
	pop	d1
	RUN_68K	_DOSBase,-354
	mr	d1,d0
	pop	d0
#
#ENDPROC
	.global	WriteF_end
WriteF_end:
WriteF_finish:
	pop	a0
	unlk	a5
	blr

	.type	_WriteF,2
	.size	_WriteF,$-_WriteF

	.align	2
	.tocd
	.extern	_stdout_
	.extern	_laststackptr_
	.extern	_DOSBase_
	.extern	_stdrast_
	.extern	_lastexceptptr_
	.extern	_conout_
	.extern	_lastframeptr_
	.extern	_exceptioninfo_
	.extern	_exception_
_str1:
	.byte	"con:0/11/640/80/output"
	.byte	0
	.align	2

	.tocd
	.extern	_PowerPCBase_
_WriteF_:	.long	_WriteF
_str1_:	.long	_str1
