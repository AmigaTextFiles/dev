#rE
	.include	ppcmacros.pasm
	.text
	.sdreg	r2
	.align	2
	.global	_OpenW
_OpenW:
.set	OpenW_x,48
.set	OpenW_y,44
.set	OpenW_wi,40
.set	OpenW_he,36
.set	OpenW_idcmp,32
.set	OpenW_flags,28
.set	OpenW_title,24
.set	OpenW_screen,20
.set	OpenW_stype,16
.set	OpenW_gadgets,12
.set	OpenW_tags,8
	link	a5,-4
	push	a0
#DEF	window:PTR TO Window
.set	OpenW_window,-4
#window:=OpenWindowTags(NIL,
	push	d0
	liw	d1,0
	push	d1
	law	a0,_list1
	liw	d1,-2147483548
	stw	d1,0(a0)
	addi	a0,a0,4
	lwz	d1,OpenW_x(a5)
	stw	d1,0(a0)
	addi	a0,a0,4
	liw	d1,-2147483547
	stw	d1,0(a0)
	addi	a0,a0,4
	lwz	d1,OpenW_y(a5)
	stw	d1,0(a0)
	addi	a0,a0,4
	liw	d1,-2147483546
	stw	d1,0(a0)
	addi	a0,a0,4
	lwz	d1,OpenW_wi(a5)
	stw	d1,0(a0)
	addi	a0,a0,4
	liw	d1,-2147483545
	stw	d1,0(a0)
	addi	a0,a0,4
	lwz	d1,OpenW_he(a5)
	stw	d1,0(a0)
	addi	a0,a0,4
	liw	d1,-2147483542
	stw	d1,0(a0)
	addi	a0,a0,4
	lwz	d1,OpenW_idcmp(a5)
	stw	d1,0(a0)
	addi	a0,a0,4
	liw	d1,-2147483541
	stw	d1,0(a0)
	addi	a0,a0,4
	lwz	d1,OpenW_flags(a5)
	stw	d1,0(a0)
	addi	a0,a0,4
	liw	d1,-2147483538
	stw	d1,0(a0)
	addi	a0,a0,4
	lwz	d1,OpenW_title(a5)
	stw	d1,0(a0)
	addi	a0,a0,4
OpenW_if1:
	lwz	d1,OpenW_screen(a5)
	cmpiw	d1,0
	beq	OpenW_else1
	liw	d1,-2147483536
	b	OpenW_endif1
OpenW_else1:
	liw	d1,1
OpenW_endif1:
	stw	d1,0(a0)
	addi	a0,a0,4
	lwz	d1,OpenW_screen(a5)
	stw	d1,0(a0)
	addi	a0,a0,4
	liw	d1,-2147483540
	stw	d1,0(a0)
	addi	a0,a0,4
	lwz	d1,OpenW_gadgets(a5)
	stw	d1,0(a0)
	addi	a0,a0,4
	liw	d1,2
	stw	d1,0(a0)
	addi	a0,a0,4
	lwz	d1,OpenW_tags(a5)
	stw	d1,0(a0)
	addi	a0,a0,4
	liw	d1,0
	stw	d1,0(a0)
	subi	a0,a0,80
	mr	a1,a0
	pop	a0
	RUN_68K	_IntuitionBase,-606
	mr	d1,d0
	pop	d0
	stw	d1,OpenW_window(a5)
#
#IF window THEN stdrast:=window.RPort
OpenW_if2:
	lwz	d0,OpenW_window(a5)
	tstw	d0
	beq	OpenW_else2_0
#stdrast:=window.RPort
	lwz	a0,OpenW_window(a5)
	lwz	d0,50(a0)
	law	a0,_stdrast
	stw	d0,0(a0)
OpenW_else2_0:
#
#ENDPROC window
	lwz	d0,OpenW_window(a5)
	pop	a0
	unlk	a5
	blr

	.type	_OpenW,2
	.size	_OpenW,$-_OpenW

	.align	2
	.tocd
	.extern	_IntuitionBase_
_stdrast:	.ualong	0
coloura:	.ualong	1
_list1:	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.ualong	0
	.align	2

	.tocd
	.extern	_PowerPCBase_
_OpenW_:	.long	_OpenW
	.global	_stdrast_
_stdrast_:	.long	_stdrast
	.global	coloura_
coloura_:	.long	coloura
_list1_:	.long	_list1
