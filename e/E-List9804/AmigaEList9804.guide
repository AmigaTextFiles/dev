@database AmigaEMessages

@node main "Messages LIST"

  @{fg shine} Amiga E Mailing List April 1998 Messages @{fg text}

    @{" Read Me First!                          " LINK readme}

    @{" How to subscribe to AmigaE Mailing List " LINK subscribe}

    @{" Author                                  " LINK author}  

  

==================================================================


  @{fg shine}EDBG : Resource tracking@{fg text}
    @{" EDBG : Resource tracking " LINK ID48_0}
    @{" EDBG : Resource tracking " LINK ID48_1}

  @{fg shine}Bug in SIZEOF?@{fg text}
    @{" Bug in SIZEOF? " LINK ID47_0}
    @{" Bug in SIZEOF? " LINK ID47_1}
    @{" Bug in SIZEOF? " LINK ID47_2}
    @{" Bug in SIZEOF? " LINK ID47_3}
    @{" Bug in SIZEOF? " LINK ID47_4}
    @{" Bug in SIZEOF? " LINK ID47_5}

  @{fg shine}C-list> Is NIL == NULL ?@{fg text}
    @{" C-list> Is NIL == NULL ? " LINK ID46_0}
    @{" C-list> Is NIL == NULL ? " LINK ID46_1}

  @{fg shine}ReadArgs again!@{fg text}
    @{" ReadArgs again! " LINK ID45_0}
    @{" ReadArgs again! " LINK ID45_1}
    @{" ReadArgs again! " LINK ID45_2}
    @{" ReadArgs again! " LINK ID45_3}

  @{fg shine}UNSUBSCRIBE@{fg text}
    @{" UNSUBSCRIBE " LINK ID44_0}
    @{" UNSUBSCRIBE " LINK ID44_1}

  @{fg shine}Suggestion for library mode@{fg text}
    @{" Suggestion for library mode " LINK ID43_0}
    @{" Suggestion for library mode " LINK ID43_1}

  @{fg shine}Translation from C@{fg text}
    @{" Translation from C " LINK ID42_0}
    @{" Translation from C " LINK ID42_1}
    @{" Translation from C " LINK ID42_2}

  @{fg shine}Help with ReadArgs()!@{fg text}
    @{" Help with ReadArgs()! " LINK ID41_0}
    @{" Help with ReadArgs()! " LINK ID41_1}
    @{" Help with ReadArgs()! " LINK ID41_2}

  @{fg shine}EasyPLUGINs: CALL FOR SUBMISSIONS@{fg text}
    @{" EasyPLUGINs: CALL FOR SUBMISSIONS " LINK ID40_0}
    @{" EasyPLUGINs: CALL FOR SUBMISSIONS " LINK ID40_1}
    @{" EasyPLUGINs: CALL FOR SUBMISSIONS " LINK ID40_2}
    @{" EasyPLUGINs: CALL FOR SUBMISSIONS " LINK ID40_3}
    @{" EasyPLUGINs: CALL FOR SUBMISSIONS " LINK ID40_4}

  @{fg shine}EasyGUIplus: CALL FOR SUBMISSIONS@{fg text}
    @{" EasyGUIplus: CALL FOR SUBMISSIONS " LINK ID39_0}
    @{" EasyGUIplus: CALL FOR SUBMISSIONS " LINK ID39_1}
    @{" EasyGUIplus: CALL FOR SUBMISSIONS " LINK ID39_2}
    @{" EasyGUIplus: CALL FOR SUBMISSIONS " LINK ID39_3}
    @{" EasyGUIplus: CALL FOR SUBMISSIONS " LINK ID39_4}
    @{" EasyGUIplus: CALL FOR SUBMISSIONS " LINK ID39_5}
    @{" EasyGUIplus: CALL FOR SUBMISSIONS " LINK ID39_6}
    @{" EasyGUIplus: CALL FOR SUBMISSIONS " LINK ID39_7}

  @{fg shine}Checking the size of picture by datatype@{fg text}
    @{" Checking the size of picture by datatype " LINK ID38_0}
    @{" Checking the size of picture by datatype " LINK ID38_1}

  @{fg shine}How to check if file exists@{fg text}
    @{" How to check if file exists " LINK ID37_0}
    @{" How to check if file exists " LINK ID37_1}
    @{" How to check if file exists " LINK ID37_2}
    @{" How to check if file exists " LINK ID37_3}
    @{" How to check if file exists " LINK ID37_4}
    @{" How to check if file exists " LINK ID37_5}
    @{" How to check if file exists " LINK ID37_6}

  @{fg shine}Debugging a sub-task@{fg text}
    @{" Debugging a sub-task " LINK ID36_0}
    @{" Debugging a sub-task " LINK ID36_1}
    @{" Debugging a sub-task " LINK ID36_2}
    @{" Debugging a sub-task " LINK ID36_3}
    @{" Debugging a sub-task " LINK ID36_4}
    @{" Debugging a sub-task " LINK ID36_5}
    @{" Debugging a sub-task " LINK ID36_6}

  @{fg shine}Datatypes@{fg text}
    @{" Datatypes " LINK ID35_0}
    @{" Datatypes " LINK ID35_1}

  @{fg shine}Binary@{fg text}
    @{" Binary " LINK ID34_0}
    @{" Binary " LINK ID34_1}

  @{fg shine}(E-Mail Wouter) was PPC with E@{fg text}
    @{" (E-Mail Wouter) was PPC with E " LINK ID33_0}

  @{fg shine}Still binary file problem...@{fg text}
    @{" Still binary file problem... " LINK ID32_0}

  @{fg shine}How do I do?@{fg text}
    @{" How do I do? " LINK ID31_0}
    @{" How do I do? " LINK ID31_1}
    @{" How do I do? " LINK ID31_2}

  @{fg shine}Seek() in a console|Enforcerhits@{fg text}
    @{" Seek() in a console|Enforcerhits " LINK ID30_0}
    @{" Seek() in a console|Enforcerhits " LINK ID30_1}
    @{" Seek() in a console|Enforcerhits " LINK ID30_2}
    @{" Seek() in a console|Enforcerhits " LINK ID30_3}

  @{fg shine}PubScreens@{fg text}
    @{" PubScreens " LINK ID29_0}
    @{" PubScreens " LINK ID29_1}
    @{" PubScreens " LINK ID29_2}

  @{fg shine}What is :: ?@{fg text}
    @{" What is :: ? " LINK ID28_0}
    @{" What is :: ? " LINK ID28_1}

  @{fg shine}EasyGUI bug ?@{fg text}
    @{" EasyGUI bug ? " LINK ID27_0}
    @{" EasyGUI bug ? " LINK ID27_1}
    @{" EasyGUI bug ? " LINK ID27_2}
    @{" EasyGUI bug ? " LINK ID27_3}
    @{" EasyGUI bug ? " LINK ID27_4}
    @{" EasyGUI bug ? " LINK ID27_5}
    @{" EasyGUI bug ? " LINK ID27_6}

  @{fg shine}EDBG and Explorer@{fg text}
    @{" EDBG and Explorer " LINK ID26_0}

  @{fg shine}Was bit-something@{fg text}
    @{" Was bit-something " LINK ID25_0}
    @{" Was bit-something " LINK ID25_1}

  @{fg shine}Was bit-something...@{fg text}
    @{" Was bit-something... " LINK ID24_0}
    @{" Was bit-something... " LINK ID24_1}

  @{fg shine}Bob Trouble !@{fg text}
    @{" Bob Trouble ! " LINK ID23_0}

  @{fg shine}too size expression?@{fg text}
    @{" too size expression? " LINK ID22_0}

  @{fg shine}UI Images@{fg text}
    @{" UI Images " LINK ID21_0}

  @{fg shine}Blush@{fg text}
    @{" Blush " LINK ID20_0}

  @{fg shine}bullet.library@{fg text}
    @{" bullet.library " LINK ID19_0}

  @{fg shine}madcastle, Use the OS Luke, etc...@{fg text}
    @{" madcastle, Use the OS Luke, etc... " LINK ID18_0}
    @{" madcastle, Use the OS Luke, etc... " LINK ID18_1}
    @{" madcastle, Use the OS Luke, etc... " LINK ID18_2}
    @{" madcastle, Use the OS Luke, etc... " LINK ID18_3}
    @{" madcastle, Use the OS Luke, etc... " LINK ID18_4}

  @{fg shine}Screenmode name from DisplayId@{fg text}
    @{" Screenmode name from DisplayId " LINK ID17_0}
    @{" Screenmode name from DisplayId " LINK ID17_1}

  @{fg shine}MUI Images.@{fg text}
    @{" MUI Images. " LINK ID16_0}
    @{" MUI Images. " LINK ID16_1}

  @{fg shine}madcastle@{fg text}
    @{" madcastle " LINK ID15_0}
    @{" madcastle " LINK ID15_1}
    @{" madcastle " LINK ID15_2}

  @{fg shine}too sizy expression?@{fg text}
    @{" too sizy expression? " LINK ID14_0}
    @{" too sizy expression? " LINK ID14_1}

  @{fg shine}For o2m users - use E's globals.@{fg text}
    @{" For o2m users - use E's globals. " LINK ID13_0}
    @{" For o2m users - use E's globals. " LINK ID13_1}

  @{fg shine}Set/test/clear individual bits@{fg text}
    @{" Set/test/clear individual bits " LINK ID12_0}

  @{fg shine}Circular Module References@{fg text}
    @{" Circular Module References " LINK ID11_0}
    @{" Circular Module References " LINK ID11_1}
    @{" Circular Module References " LINK ID11_2}
    @{" Circular Module References " LINK ID11_3}
    @{" Circular Module References " LINK ID11_4}
    @{" Circular Module References " LINK ID11_5}
    @{" Circular Module References " LINK ID11_6}
    @{" Circular Module References " LINK ID11_7}
    @{" Circular Module References " LINK ID11_8}

  @{fg shine}Freeing mem (was: HUPP)@{fg text}
    @{" Freeing mem (was: HUPP) " LINK ID10_0}
    @{" Freeing mem (was: HUPP) " LINK ID10_1}
    @{" Freeing mem (was: HUPP) " LINK ID10_2}

  @{fg shine}<none>@{fg text}
    @{" <none> " LINK ID9_0}
    @{" <none> " LINK ID9_1}
    @{" <none> " LINK ID9_2}

  @{fg shine}Hupp@{fg text}
    @{" Hupp " LINK ID8_0}
    @{" Hupp " LINK ID8_1}
    @{" Hupp " LINK ID8_2}
    @{" Hupp " LINK ID8_3}
    @{" Hupp " LINK ID8_4}
    @{" Hupp " LINK ID8_5}
    @{" Hupp " LINK ID8_6}
    @{" Hupp " LINK ID8_7}
    @{" Hupp " LINK ID8_8}
    @{" Hupp " LINK ID8_9}
    @{" Hupp " LINK ID8_10}
    @{" Hupp " LINK ID8_11}
    @{" Hupp " LINK ID8_12}
    @{" Hupp " LINK ID8_13}
    @{" Hupp " LINK ID8_14}
    @{" Hupp " LINK ID8_15}
    @{" Hupp " LINK ID8_16}
    @{" Hupp " LINK ID8_17}
    @{" Hupp " LINK ID8_18}
    @{" Hupp " LINK ID8_19}
    @{" Hupp " LINK ID8_20}
    @{" Hupp " LINK ID8_21}
    @{" Hupp " LINK ID8_22}
    @{" Hupp " LINK ID8_23}
    @{" Hupp " LINK ID8_24}

  @{fg shine}help needed...@{fg text}
    @{" help needed... " LINK ID7_0}

  @{fg shine}PPC with E@{fg text}
    @{" PPC with E " LINK ID6_0}
    @{" PPC with E " LINK ID6_1}
    @{" PPC with E " LINK ID6_2}

  @{fg shine}IDE@{fg text}
    @{" IDE " LINK ID5_0}
    @{" IDE " LINK ID5_1}

  @{fg shine}Frequency rate@{fg text}
    @{" Frequency rate " LINK ID4_0}
    @{" Frequency rate " LINK ID4_1}
    @{" Frequency rate " LINK ID4_2}
    @{" Frequency rate " LINK ID4_3}
    @{" Frequency rate " LINK ID4_4}
    @{" Frequency rate " LINK ID4_5}
    @{" Frequency rate " LINK ID4_6}

  @{fg shine}Nil terminated lists... (more pointer stuff...)@{fg text}
    @{" Nil terminated lists... (more pointer stuff...) " LINK ID3_0}
    @{" Nil terminated lists... (more pointer stuff...) " LINK ID3_1}
    @{" Nil terminated lists... (more pointer stuff...) " LINK ID3_2}
    @{" Nil terminated lists... (more pointer stuff...) " LINK ID3_3}
    @{" Nil terminated lists... (more pointer stuff...) " LINK ID3_4}

  @{fg shine}2D arrays@{fg text}
    @{" 2D arrays " LINK ID2_0}
    @{" 2D arrays " LINK ID2_1}
    @{" 2D arrays " LINK ID2_2}
    @{" 2D arrays " LINK ID2_3}
    @{" 2D arrays " LINK ID2_4}
    @{" 2D arrays " LINK ID2_5}
    @{" 2D arrays " LINK ID2_6}
    @{" 2D arrays " LINK ID2_7}
    @{" 2D arrays " LINK ID2_8}
    @{" 2D arrays " LINK ID2_9}

  @{fg shine}Parsing an ASCII prefsfile@{fg text}
    @{" Parsing an ASCII prefsfile " LINK ID1_0}
    @{" Parsing an ASCII prefsfile " LINK ID1_1}
    @{" Parsing an ASCII prefsfile " LINK ID1_2}
    @{" Parsing an ASCII prefsfile " LINK ID1_3}

  @{fg shine}MUI@{fg text}
    @{" MUI " LINK ID0_0}
    @{" MUI " LINK ID0_1}
    @{" MUI " LINK ID0_2}
    @{" MUI " LINK ID0_3}
    @{" MUI " LINK ID0_4}
@endnode

@node readme "Read Me First!"

  @{fg shine} Introduction @{fg text}

  Here you'll find all the messages appeared on Amiga E Mailing list
  in April 1998.

  This is the first version of the message log done in Amiga Guide.

  I have just written a little program to do this, as soon as I can
  create some comments, I'll release it in the public domain.

  The best way of reading this guide is to choose an argument 
  (ie. a subject of a message) and then browse it using the "Previous" and "Next"
  gadget in the MultiView/AmigaGuide viewer.
@endnode

@node author "Author"

  @{fg shine} Author @{fg text}

  Err.. authors of this text are Amiga E subscribers!

  Anyway, I have packed it all.

  My name is Fabio Rotondo. If you want to contact me, please, write to:

  

  Fabio Rotondo     - email: fsoft@intercom.it
                             Fabio.Rotondo@deagostini.it

  C.so Vercelli 9
  28100 Novara
  ITALY
  
@endnode

@node subscribe "How to subscribe to AmigaE Mailing List"

  @{fg shine}How to subscribe to AmigaE Mailing List @{fg text}

  To subscribe to the @{fg shine}official@{fg text} AmigaE Mailing list,
  please, write to:

    listserv@intercom.it

  with:

    SUBSCRIBE amigae-list First LastName

  in the @{fg shine}BODY@{fg text} of the message.

  Eg. SUBSCRIBE amigae-list John Smith



  To unsubscribe, write to:

    listserv@intercom.it

  with:

    SIG amigae-list

  in the @{fg shine}BODY@{fg text} of the message.
@endnode


@node ID0_0 "MUI (ID0_0)"

From: stv@minorisa.es ("Esteve Boix")
Date: Wed, 1 Apr 1998 09:16:53 +0000
Subject: Re: MUI

> Somebody mentioned something about MUI macros?
> What are these and how do I use them?
> And where do I find them?

These macros are included in the MUI modules, and if you're using MUI
to create your applications' GUI, you're already using them. They
simply simplify the creation of the hirearchy of the interface.

Esteve

- --
Esteve Boix - stv@minorisa.es
@endnode

@node ID0_1 "MUI (ID0_1)"
From: frank@cc86.org (Frank Weber)
Date: Wed, 01 Apr 1998 15:25:25 +0100
Subject: Re: MUI

Hello Lloyd,

On 31-Mär-98, you wrote:

> Somebody mentioned something about MUI macros?

> And where do I find them?

Check out dev/mui/mui38dv_E.lha on Aminet :-)

Bye

Frank
- --
Frank Weber          E-Mail: frank@cc86.org
74076 Heilbronn         URL: http://www.cc86.org/~frank/
PGP key available on request

Amiga Shareware:   · CDCat    · AFiloFaxPro    · AmigaTrainer    · Cheater

CDCat Support site: http://www.amigaworld.com/support/cdcat

aMIGA rULZ :-)

@endnode

@node ID0_2 "MUI (ID0_2)"
Date: 01 Apr 98 11:36:20 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: MUI

On 01-Apr-98 10:16:53 you mumbled something about Re: MUI.

>> Somebody mentioned something about MUI macros?
>> What are these and how do I use them?
>> And where do I find them?

>These macros are included in the MUI modules, and if you're using MUI
>to create your applications' GUI, you're already using them. They
>simply simplify the creation of the hirearchy of the interface.

Oooh Okay. ;)

And MUIBuilder can't compare to the power of these? Why not?

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID0_3 "MUI (ID0_3)"
From: stv@minorisa.es ("Esteve Boix")
Date: Thu, 2 Apr 1998 09:07:18 +0000
Subject: Re: MUI

> And MUIBuilder can't compare to the power of these? Why not?

Up to v2.x, MUIBuilder can't generate CustomClasses, so you cannot
use Drag'n'Drop and all the cool stuff you can use with custom
classes...

Esteve

- --
Esteve Boix - stv@minorisa.es
@endnode

@node ID0_4 "MUI (ID0_4)"
Date: 02 Apr 98 12:02:17 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: MUI

On 02-Apr-98 10:07:18 you mumbled something about Re: MUI.

>> And MUIBuilder can't compare to the power of these? Why not?

>Up to v2.x, MUIBuilder can't generate CustomClasses, so you cannot
>use Drag'n'Drop and all the cool stuff you can use with custom
>classes...

Okay. Then it's settled then ;)

Thanks for helping, people. Look out for Stockmarket '98 network
game using MUI in a while ;)

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode



@node ID1_0 "Parsing an ASCII prefsfile (ID1_0)"
Date: Wed, 1 Apr 1998 10:26:15 +0200 (MET DST)
From: szczepan@cksr.ac.bialystok.pl ("Marcin Juszkiewicz (Szczepan/BlaBla)")
Subject: Re: Parsing an ASCII prefsfile

On Tue, 31 Mar 1998, Peter Karlsson wrote:

- ->I need to parse a preference file in pure ASCII in a program I'm
- ->working on. And I have absolute no clue how to do this in a "smart"
- ->way. I've asked around and one answer I got was "use ReadArgs()".
- ->Sadly this doesn't make me say "aha". :-) Another solution was
- ->that I should use Tooltypes. Unfortunately I've got about 300 items in
- ->my prefs file, so using Tooltypes would be a bit messy.

 Use ToolTypes. In my MultiView there are ~640 possible tooltypes but when
I have it in file configuration was VERY HARD to change. But if you really
want to use ascii file there is module 'tools/file' (?) which have
function to read ascii file and make a list from it (I used it in MV 1.4).

sorry for bad english

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@cksr.ac.bialystok.pl  http://cksr.ac.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode

@node ID1_1 "Parsing an ASCII prefsfile (ID1_1)"
Date: Wed, 01 Apr 1998 14:45:31 +0200
From: gamboni@fastnet.ch (Jacques Gamboni)
Subject: Re: Parsing an ASCII prefsfile

Marcin Juszkiewicz (Szczepan/BlaBla) wrote:
> Use ToolTypes. In my MultiView there are ~640 possible tooltypes but when
> I have it in file configuration was VERY HARD to change.

May I point out that having a preference file (instead of tooltypes) can (to
my mind)
be more handy, because text editors have search functions, you can copy
things
(e.g.
filenames) and so on. When using tooltypes (with lots of options), it may
get
somehow
annoying for the user when he wants to find a tooltype between hundreds and
change
it. (Unless there was a tooltype editor that allowed to do that but I don't
know any).
Of course if there is a separate preference program that changes the
tooltypes, it is
better so because there is no need to have one more file in ENV:, then.

                                                        Maxime

@endnode

@node ID1_2 "Parsing an ASCII prefsfile (ID1_2)"
From: glauschwuffel@amt.comlink.de (Gregor Goldbach)
Subject: Re: Parsing an ASCII prefsfile
Date: 01 Apr 1998 11:51:37 +0200

Peter.Karlsson@swipnet.se (Peter Karlsson) wrote:

> I'm a newbie to this list and I've got a question which has probably
> been asked before. If so, I'm very sorry.

That's okay since we don't have a FAQ ;)

> I need to parse a preference file in pure ASCII in a program I'm
> working on. And I have absolute no clue how to do this in a "smart"
> way. I've asked around and one answer I got was "use ReadArgs()".
> Sadly this doesn't make me say "aha". :-) Another solution was

Someone sent an example to this list about using ReadArgs() on a
file. Maybe anyone can find this?

The basic idea is to specify a command-line template (like the
one you see when typing 'C:Type ?' in your shell) and calling
ReadArgs() with it. This function fills an array with the values
that the user provided.

> that I should use Tooltypes. Unfortunately I've got about 300 items in
> my prefs file, so using Tooltypes would be a bit messy.

300, eh? :)

It may be hard to invent names for these, so you may number the
items. How about this prefs file:

001 bla
002 another bla
003 yet another bla
...
300 spam spam spam wonderful spam

You might even drop the numbers and just take 300 lines. You
could then read in the file in a loop:

- --- snip ---

MODULE 'dos/dos'

CONST MAXIMUM_LENGTH_OF_LINE=256,
        NUMBER_OF_LINES_TO_PROCESS=300

PROC read_file(filename)
DEF handle,                           -> AmigaDOS file handle
  result,                             -> FGets() result
  line_counter,                       -> in what line are we?
  line_buffer[MAXIMUM_LENGTH_OF_LINE] -> buffer for the line last read

  handle := Open(filename, MODE_OLDFILE)
  IF handle=NIL THEN Raise("open")

  FOR line_counter := 1 TO NUMBER_OF_LINES_TO_PROCESS
    result := Fgets(handle, line_buffer, MAXIMUM_LENGTH_OF_LINE)
    IF (result = 0) AND (IoErr() = 0) THEN Raise("in")
    process_line_in_preferences_file(line_buffer, line_counter)
  ENDFOR

  Close(handle)

EXCEPT
  SELECT exception
    "open"
      -> file couldn't be opened
    "in"
      -> no more lines
      Close(handle)
  ENDSELECT

ENDPROC

- --- snap ---

The above function reads a file line by line and calls
process_line_in_preferences_file() with the line just read and
the line number. Each line can hold a maximum of 255 characters
(the last character of the buffer is a 0 byte).

The function is untested, but I think you get the picture :)

  grEgor
@endnode

@node ID1_3 "Parsing an ASCII prefsfile (ID1_3)"
From: a9660319@wlv.ac.uk
Subject: Re: Parsing an ASCII prefsfile
Date: Wed, 1 Apr 1998 15:15:13 -0500 (EST)

> > I'm a newbie to this list and I've got a question which has probably
> > been asked before. If so, I'm very sorry.
>
> That's okay since we don't have a FAQ ;)

Doh!

But then all the replies to my questions would be entitle RTFM!
(Read The Flippin` manual/FAQ)

Andrew Hutchins :)

@endnode



@node ID2_0 "2D arrays (ID2_0)"
Date: Wed, 1 Apr 1998 11:22:52 +0200 (MET DST)
From: subvcbhd@calvados.zrz.TU-Berlin.DE (Henk Jonas)
Subject: Re: 2D arrays

On Tue, 31 Mar 1998, a9660319 wrote:

> Hi there list!
Hi,

> E has a limitation, to do with 2D arrays, I need to use large (say,=20
> 400x400, LONG) chunk of memorey.=20
E has 2D arrays? Why dont you do this:
DEF myarray:PTR TO LONG

IF myarray:=3DAllocVec(cols*rows*4,MEMF_CLEAR)
  FOR act_cols:=3D0 TO cols-1
    FOR act_rows:=3D0 TO rows-1
      act_value:=3Dmyarray[(act_cols*rows)+act_rows]
    ENDFOR
  ENDFOR
  FreeVec(myarray)
ENDIF

This is only limited from largest free Memblock.

Henk
- ----------------------------------------------------------------
Henk Jonas            |          subvcbhd@linux.zrz.tu-berlin.de
Student der           |
Energietechnik        |       http://www.cs.tu-berlin.de/~jonash

> Ich lehne Atomenergie als Energiealternative ab! niX=B3 Castor <
- ----------------------------------------------------------------
  * AmigaMetaFileFormat * MetaView * Messlabor * Voxelflight *
- ----------------------------------------------------------------
Fuer die 'Mitleser': ANARCHIEBNDAKWPKKRAFRADIKALTNTKPDPDSREVOLUT

@endnode

@node ID2_1 "2D arrays (ID2_1)"
Date: Wed, 01 Apr 1998 15:35:10 +0200
From: ss37@irz301.inf.tu-dresden.de (Sven Steiniger)
Subject: Re: 2D arrays

> > E has a limitation, to do with 2D arrays, I need to use large (say,
> > 400x400, LONG) chunk of memorey.
> E has 2D arrays? Why dont you do this:

No, E has no 2D arrays. I suppose that he doesn it the same
way like you.

> DEF myarray:PTR TO LONG
>
> IF myarray:=AllocVec(cols*rows*4,MEMF_CLEAR)
>   FOR act_cols:=0 TO cols-1
>     FOR act_rows:=0 TO rows-1
>       act_value:=myarray[(act_cols*rows)+act_rows]
>     ENDFOR
>   ENDFOR
>   FreeVec(myarray)
> ENDIF

And here all the problems start. First using "*" may break
down everything as it is limited to 16Bit (signed). Means with
large values for 'cols' or 'rows' and larger structure sizes
(not only LONG) you must use 32Bit multiplies (Mul()).
And second I am not sure how myarray[] are implemented
(No Amiga here). In the worst case it is also limited to
16Bit (max 32768 entries in an array).

So one would use this:
DEF myarray:PTR TO LONG,
    dummy:PTR TO LONG

IF myarray:=AllocVec(Mul(cols,Shl(rows,2)),MEMF_CLEAR)
  dummy:=myarray  -> speedup
  FOR act_rows:=0 TO rows-1
    FOR act_cols:=0 TO cols-1
      act_value:=myarray+Shl(Mul(act_cols,rows)+act_rows,2)
      act_value:=dummy[]++   -> much faster
    ENDFOR
  ENDFOR
  FreeVec(myarray)
ENDIF

- --
Sven Steiniger
(ss37@inf.tu-dresden.de - http://www.inf.tu-dresden.de/~ss37)

And always remember: Heaven is not a place, it's a feeling.
@endnode

@node ID2_2 "2D arrays (ID2_2)"
From: glauschwuffel@amt.comlink.de (Gregor Goldbach)
Subject: Re: 2D arrays
Date: 01 Apr 1998 12:16:59 +0200

a9660319@wlv.ac.uk wrote:

> E has a limitation, to do with 2D arrays, I need to use large (say,
> 400x400, LONG) chunk of memorey.

You need a memory block with 400×400 LONGs? 400×400x4 bytes?

> Just some pointers to good source codes, and ideas that I should be
> pursuing.

CONST WIDTH=400,HEIGHT=400
...
DEF mem:PTR TO LONG
...
mem := New(WIDTH*HEIGHT*SIZEOF LONG)

...

- -> Put value in table at row,column. Remember that both start with 0.
PROC setItem(row,column, value)
  IF (row>=HEIGHT) OR (column>=WIDTH) THEN RETURN
  mem[row*WIDTH+column] := value
ENDPROC

As always: this is untested.

  grEgor
@endnode

@node ID2_3 "2D arrays (ID2_3)"
From: a9660319@wlv.ac.uk
Subject: Re: 2D arrays
Date: Wed, 1 Apr 1998 15:13:16 -0500 (EST)

> > E has a limitation, to do with 2D arrays, I need to use large (say,
> > 400x400, LONG) chunk of memorey.

Yea, E has a limitation with 2D arrays, it dosn`t have them :) (not
directly anyway!)

> CONST WIDTH=400,HEIGHT=400
> ...
> DEF mem:PTR TO LONG
> ...
> mem := New(WIDTH*HEIGHT*SIZEOF LONG)

Is that going to be safe? A lot of the other examples given use
AllocVec() (whatever the hell that is?), does New() get it`s mem from
the stack? Or does it just grab a chunk of any free memorey?

> -> Put value in table at row,column. Remember that both start with 0.
> PROC setItem(row,column, value)
>   IF (row>=HEIGHT) OR (column>=WIDTH) THEN RETURN
>   mem[row*WIDTH+column] := value
> ENDPROC

Yes, that seems very useful, but will it accept floats? I know floats
are only overloaded LONGS, but when you look at a value of a float it
is a big 1 gig number (usually), or am I missing the point with floats,
and ec stores them in a whole different manner?

> As always: this is untested.

Yea, it`s irritating I know.
Ode to a world without the PC blight (or, to a world where you can get
E on other compilers, hint, hint)

>   grEgor

Thanks.

Andrew Hutchins.

@endnode

@node ID2_4 "2D arrays (ID2_4)"
From: a9660319@wlv.ac.uk
Subject: Re: 2D arrays
Date: Wed, 1 Apr 1998 15:16:35 -0500 (EST)

> Yea, it`s irritating I know.
> Ode to a world without the PC blight (or, to a world where you can get
> E on other compilers, hint, hint)
             ^^^^^^^^^
Whoops, I meant to say computers (double hint, hint)

> Thanks.
> Andrew Hutchins.

@endnode

@node ID2_5 "2D arrays (ID2_5)"
From: glauschwuffel@amt.comlink.de (Gregor Goldbach)
Subject: Re: 2D arrays
Date: 02 Apr 1998 18:47:19 +0200

a9660319@wlv.ac.uk wrote:

> > CONST WIDTH=400,HEIGHT=400
> > ...
> > DEF mem:PTR TO LONG
> > ...
> > mem := New(WIDTH*HEIGHT*SIZEOF LONG)
>
> Is that going to be safe? A lot of the other examples given use
> AllocVec() (whatever the hell that is?), does New() get it`s mem from
> the stack? Or does it just grab a chunk of any free memorey?

New(n) just allocates n bytes of memory. Yes, it's safe.

> > -> Put value in table at row,column. Remember that both start with 0.
> > PROC setItem(row,column, value)
> >   IF (row>=HEIGHT) OR (column>=WIDTH) THEN RETURN
> >   mem[row*WIDTH+column] := value
> > ENDPROC
>
> Yes, that seems very useful, but will it accept floats? I know floats
> are only overloaded LONGS, but when you look at a value of a float it
> is a big 1 gig number (usually), or am I missing the point with floats,
           ************

um... what? :)

> and ec stores them in a whole different manner?

Floats are stored in a LONG, that's all one has to know :)

Floats are represented by a special combination of the 32 bits of
a LONG, 1 bit for the sign, 20 bits for the mantissa and 11 bits
for the fraction.  (or something like that, just search for IEEE
to get the exact values.)

  grEgor
@endnode

@node ID2_6 "2D arrays (ID2_6)"
From: glauschwuffel@amt.comlink.de (Gregor Goldbach)
Subject: Re: 2D arrays
Date: 02 Apr 1998 18:52:39 +0200

a9660319@wlv.ac.uk wrote:

> > Yea, it`s irritating I know.
> > Ode to a world without the PC blight (or, to a world where you can get
> > E on other compilers, hint, hint)
>            ^^^^^^^^^
> Whoops, I meant to say computers (double hint, hint)

The current state of my compiler (current project name is: eec
(pronounciation: eek!) may be found in this totally senseless
test source:

CONST XX=3,
 YY=42,
 ZZT=2

/*
 * Global stuff: variable declaration
 */

DEF blob, blob2

CONST ZZ=3

OBJECT affe
  haus
ENDOBJECT

PROC one(y)
DEF x:LONG,
  y2,xz, baba:PTR TO affe,z,alpha

  x := 42+2*(3+7)/9
  z:=3

  baba.haus := 42

  REPEAT
    alpha := 42
  UNTIL alpha = 42

  IF y=0 THEN x:=3 ELSE x:=5

  IF baba.haus = 42
    x := 2*x
  ELSE
    x := 3*x
    x := x+1
  ENDIF

  RETURN 4,x*3

ENDPROC

PROC four(c) OF affe
DEF x:PTR TO affe
  x.haus:=c
ENDPROC

PROC two(y,fu)
DEF x:LONG,
  z,x2:PTR TO affe

  x := 42

  SELECT x
    CASE 2
      x:=3
    CASE 3
      x:=4
    DEFAULT
      x := 42
  ENDSELECT

  z:=3

  WHILE z DO z:=x2.four(42+two(x,2))

  RETURN "bla"

ENDPROC

PROC three(y)
DEF x:LONG,
  y2,x3:INT,z

  x := 42

  WHILE z<42
    z:=3*x
  ENDWHILE

  RETURN 'bla'

ENDPROC

Compiles to this junky C source:

E Lexical Analyzer (c) 1997 Glauschwuffel
Based on
Tiny E Lexical Analyzer (c) 1994 Wouter
as released in the E distribution.
reading done. adjusting attributes.
adjusting done.
Line 40: Multiple return values not yet supported in C mode.
const long XX = 3;
const long YY = 42;
const long ZZT = 2;
const long ZZ = 3;
long blob;
long blob2;
struct affe {
  long haus;
};

long _affe_four(long c)
{
struct affe *x;

x->haus = c;

}

long one(long y)
{
long x;
long y2;
long xz;
struct affe *baba;
long z;
long alpha;

x = 42+2*3+7/9;
z = 3;
baba->haus = 42;
do {
alpha = 42;
} while (!(alpha==42));
;
if (y==0)
{
x = 3;}
else {
x = 5;}
;
if (baba->haus==42)
{
x = 2*x;}
else {
x = 3*x;
x = x+1;}
;
return (long) (4);

}
long two(long y, long fu)
{
long x;
long z;
struct affe *x2;

x = 42;
switch (x)
{
case 2:
{
x = 3;
break;
}

case 3:
{
x = 4;
break;
}

default:
{
x = 42;
break;
}

}
;
z = 3;
while (z)
{
z = _affe_four(42+two(x, 2));}
;
return (long) (6450273);

}
long three(long y)
{
long x;
long y2;
int x3;
long z;

x = 42;
while (z<42)
{
z = 3*x;}
;
return (long) ("bla");

}

  grEgor
@endnode

@node ID2_7 "2D arrays (ID2_7)"
From: a9660319@wlv.ac.uk
Subject: Re: 2D arrays
Date: Fri, 3 Apr 1998 14:56:03 -0500 (EST)

Hi.
I`ve noticed some bugs.

> > > CONST WIDTH=400,HEIGHT=400
> > > ...
> > > DEF mem:PTR TO LONG
> > > ...
> > > mem := New(WIDTH*HEIGHT*SIZEOF LONG)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
Bizzarely E dosn`t accept this, if you print out the value ie:
v:=WIDTH*HEIGHT*SIZEOF LONG
WriteF(`:\d\n`, v)
You get -102456 (or something else stupid).

But I looked in the docs, and apparantly Wouter Van ... already knows
about this bug.

>>> -> Put value in table at row,column. Remember that both start with
0.
> > > PROC setItem(row,column, value)
> > >   IF (row>=HEIGHT) OR (column>=WIDTH) THEN RETURN
> > >   mem[row*WIDTH+column] := value
> > > ENDPROC

There was also a bug in the above, it should go:

mem[(row*WIDTH+column)*SIZEOF LONG]:=value

Although you`d probably need to use *4 for the above reason, in fact is
it safe to use SIZEOF at all whilst this bug exists?

> Floats are stored in a LONG, that's all one has to know :)
> Floats are represented by a special combination of the 32 bits of
> a LONG, 1 bit for the sign, 20 bits for the mantissa and 11 bits
> for the fraction.  (or something like that, just search for IEEE
> to get the exact values.)

Thanks, I get it now!

>   grEgor

Andrew Hutchins :)

@endnode

@node ID2_8 "2D arrays (ID2_8)"
From: glauschwuffel@amt.comlink.de (Gregor Goldbach)
Subject: Re: 2D arrays
Date: 04 Apr 1998 15:43:29 +0200

a9660319@wlv.ac.uk wrote:

> I`ve noticed some bugs.

Oh, really. As I said, it's untested :)

> > > > CONST WIDTH=400,HEIGHT=400
> > > > ...
> > > > DEF mem:PTR TO LONG
> > > > ...
> > > > mem := New(WIDTH*HEIGHT*SIZEOF LONG)
>                ^^^^^^^^^^^^^^^^^^^^^^^^
> Bizzarely E dosn`t accept this, if you print out the value ie:
> v:=WIDTH*HEIGHT*SIZEOF LONG
> WriteF(`:\d\n`, v)

WriteF(':\d\n', v)

:)

> > > > PROC setItem(row,column, value)
> > > >   IF (row>=HEIGHT) OR (column>=WIDTH) THEN RETURN
> > > >   mem[row*WIDTH+column] := value
> > > > ENDPROC
>
> There was also a bug in the above, it should go:
>
> mem[(row*WIDTH+column)*SIZEOF LONG]:=value

No, it shouldn't. That's the reason why mem is declared as PTR TO
LONG. Every use of --, ++ and [] knows that mem contains LONGs
from this declaration. Example (this time tested <g>):

CONST WIDTH=2,HEIGHT=2
DEF mem:PTR TO LONG

PROC main()
- ->  mem := New(WIDTH*HEIGHT*SIZEOF LONG)
  mem := New(2*2*4)

  mem[0] := 65
  mem[1] := 66
  mem[2] := 67
  mem[3] := $4142

  WriteF('getItem():\n\n')
  WriteF('\d\n', getItem(0,0))
  WriteF('\d\n', getItem(0,1))
  WriteF('\d\n', getItem(1,0))
  WriteF('\d\n\n', getItem(1,1))

  WriteF('direct:\n\n')
  WriteF('\d\n', mem[0])
  WriteF('\d\n', mem[1])
  WriteF('\d\n', mem[2])
  WriteF('\d\n\n', mem[3])

  WriteF('charwise memory dump:\n\n')
  dumpMem(mem,4*4)
ENDPROC

PROC setItem(row,column, value)
  IF (row>=HEIGHT) OR (column>=WIDTH) THEN RETURN
  mem[row*WIDTH+column] := value
ENDPROC

PROC getItem(row,column) IS mem[row*WIDTH+column]

PROC dumpMem(mem:PTR TO CHAR,len)
DEF i
  FOR i:=0 TO len-1 DO WriteF('\d: \d\n',mem+i,mem[i])
ENDPROC

> Although you`d probably need to use *4 for the above reason, in fact is
> it safe to use SIZEOF at all whilst this bug exists?

Wouter? Hello?

  grEgor
@endnode

@node ID2_9 "2D arrays (ID2_9)"
Date: Fri, 10 Apr 1998 18:31:45 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: 2D arrays

On Fri, 3 Apr 1998 a9660319@wlv.ac.uk wrote:

=>v:=WIDTH*HEIGHT*SIZEOF LONG
=>WriteF(`:\d\n`, v)
=>You get -102456 (or something else stupid).

'*' operator is 16bit only.

YM 'Mul(SIZEOF LONG,Mul(WIDTH,HEIGHT))'
or 'Shl(Mul(WIDTH,HEIGHT),2)'

=>But I looked in the docs, and apparantly Wouter Van ... already knows
=>about this bug.

s/bug/unpopular feature/; And many others. Deal with it.

kyz

Ich werde umgehauen; Doch ich stehe wieder auf; Ihr werdet mich nicht
unterkriegen. Er trinkt einen Whisky; Er trinkt einen Wodka; Er trinkt ein
Lager; Er trinkt ein Cider. Er singt die Lieder, die ihn; An die guten
Zeiten
erinnern.

@endnode



@node ID3_0 "Nil terminated lists... (more pointer stuff...) (ID3_0)"
From: glauschwuffel@amt.comlink.de (Gregor Goldbach)
Subject: Re: Re: Nil terminated lists... (more pointer stuff...)
Date: 01 Apr 1998 12:09:44 +0200

a9660319@wlv.ac.uk wrote:

> > Look, your code seems to need some OOP shakering :-)
>
> Umm. Whats that? :)

Well, it seems to be English. Are you saying it isn't? :)
Is it okay to say that one has to frob your code a bit? :)

> > >   temp:=NewR(SIZEOF facelist)
> > >   temp.face:=NewR(SIZEOF face)
> > >
> > > /* Are these NewR()`s Okay? will they give me the right amount of
> > > memorey? */
> >
> > Yes, but it's better this:
> >
> >     NEW temp
> >     NEW temp.face
>
> Yea, but I`ve been using NewR() so that I learn exactly what it`s
> doing, NewR() has only one function, wheras NEW can have a few. Is it
> okay to continue using NewR() for mem allocation ala above? If it is,
> then I`ll use NewR() as it keeps the code clear at exactly what I`m
> doing (speed isn`t an issue in these routines).

NewR() is okay for simple memory allocation, but since you want
to create a new class instance you *have* to use the NEW
operation. It does some housekeeping. You're machine will most
definitely crash when you add some methods to your class :)

> > > So, what am I doing wrong? This problem has been driving me nuts for
> > > several weeks now!
> >
> > There are some problems in memory allocation, as far as I can see,
> > more: you should not declare an "array" of structure, a list is better.
>
> So, the b[0] thing above, although it works is still probably a bad
> idea, right? I was just thinking that. Dosn`t DEF b[MAX]:ARRAY OF
> structure grab a bunch of memorey. So it dosn`t make sense to then use
> it as a bunch of Pointers.

DEF b[MAX]:ARRAY OF structure allocates memory, yes. It is a
no-go for real classes with methods and whistles and bells for
the reason I wrote above.

> A list might be better, but I want quick, unambiguous access to a
> certain structure,

Right, a list *might* be better. It depends on what you want to
do.

> eg/ b[1] contains the data for a house, and b[2] contains the 3d data
> for a fence. Then, a master array, when it wants a house just says, go
> and get b[1] when you want the house data.
>
> I suppose I could do this with pointers though... (sorry, I`m thinking
> aloud.)

Yes, you could build a class for this:

OBJECT foo
  house:PTR TO face
  fence:PTR TO face
  ...
ENDOBJECT

This is much more oo and easy to extend.

  grEgor
@endnode

@node ID3_1 "Nil terminated lists... (more pointer stuff...) (ID3_1)"
From: a9660319@wlv.ac.uk
Subject: Re: Re: Nil terminated lists... (more pointer stuff...)
Date: Wed, 1 Apr 1998 15:07:20 -0500 (EST)

> > > Look, your code seems to need some OOP shakering :-)
> >
> > Umm. Whats that? :)
>
> Well, it seems to be English. Are you saying it isn't? :)

I`m saying that it is isn`t not English. For clarification see the
previous sentence (maybe) :b

> Is it okay to say that one has to frob your code a bit? :)

Umm. What`s that? :) (deja vu!)

> NewR() is okay for simple memory allocation, but since you want
> to create a new class instance you *have* to use the NEW
> operation. It does some housekeeping. You're machine will most
> definitely crash when you add some methods to your class :)

Oops!

> DEF b[MAX]:ARRAY OF structure allocates memory, yes. It is a
> no-go for real classes with methods and whistles and bells for
> the reason I wrote above.

Yes, but it`s not a class for public consumption...

> OBJECT foo
>   house:PTR TO face
>   fence:PTR TO face
>   ...
> ENDOBJECT
>
> This is much more oo and easy to extend.
>
>   grEgor

Gotcha, thanks.

Andrew Hutchins.

@endnode

@node ID3_2 "Nil terminated lists... (more pointer stuff...) (ID3_2)"
From: glauschwuffel@amt.comlink.de (Gregor Goldbach)
Subject: Re: Re: Nil terminated lists... (more pointer stuff...)
Date: 02 Apr 1998 19:03:00 +0200

a9660319@wlv.ac.uk wrote:

> > Is it okay to say that one has to frob your code a bit? :)
>
> Umm. What`s that? :) (deja vu!)

Cited from the jargon file:

@{b}frob@{ub} /frob/ 1. n.  [MIT] The "TMRC" definition was
   "FROB = a protruding arm or trunnion"; by metaphoric extension, a
   `frob' is any random small thing; an object that you can
   comfortably hold in one hand; something you can frob (sense 2).
   See "frobnitz".  2. vt.  Abbreviated form of "frobnicate".
   3. [from the "MUD"  world] A command on some MUDs that changes a
   player's experience level (this can be used to make wizards); also,
   to request "wizard" privileges on the `professional courtesy'
   grounds that one is a wizard elsewhere.  The command is actually
   `frobnicate' but is universally abbreviated to the shorter form.

frobnicate /frob'ni-kayt/ vt.  [Poss. derived from
   "frobnitz", and usually abbreviated to "frob", but
   `frobnicate' is recognized as the official full form.] To
   manipulate or adjust, to tweak.  One frequently frobs bits or other
   2-state devices.  Thus: "Please frob the light switch" (that is,
   flip it), but also "Stop frobbing that clasp; you'll break it".
   One also sees the construction `to frob a frob'.  See "tweak"
   and "twiddle".

   Usage: frob, twiddle, and tweak sometimes connote points along a
   continuum.  `Frob' connotes aimless manipulation; `twiddle'
   connotes gross manipulation, often a coarse search for a proper
   setting; `tweak' connotes fine-tuning.  If someone is turning a
   knob on an oscilloscope, then if he's carefully adjusting it, he is
   probably tweaking it; if he is just turning it but looking at the
   screen, he is probably twiddling it; but if he's just doing it
   because turning a knob is fun, he's frobbing it.  The variant
   `frobnosticate' has been recently reported.

frobnitz /frob'nits/, pl. `frobnitzem' /frob'nit-zm/ or
   `frobni' /frob'ni:/ n.  [TMRC] An unspecified physical
   object, a widget.  Also refers to electronic black boxes.  This
   rare form is usually abbreviated to `frotz', or more commonly to
   "frob".  Also used are `frobnule' (/frob'n[y]ool/) and
   `frobule' (/frob'yool/).  Starting perhaps in 1979, `frobozz'
   /fr*-boz'/ (plural: `frobbotzim' /fr*-bot'zm/) has also
   become very popular, largely through its exposure as a name via
   "Zork".  These variants can also be applied to nonphysical
   objects, such as data structures.

   Pete Samson, compiler of the original "TMRC" lexicon, adds,
   "Under the TMRC [railroad] layout were many storage boxes, managed
   (in 1958) by David R. Sawyer.  Several had fanciful designations
   written on them, such as `Frobnitz Coil Oil'.  Perhaps DRS intended
   Frobnitz to be a proper name, but the name was quickly taken for
   the thing".  This was almost certainly the origin of the
   term.

[Thanks to kyz for pointing me to this file!]

Hm. Maybe your source needs some tweaking, not frobbing :)

> > NewR() is okay for simple memory allocation, but since you want
> > to create a new class instance you *have* to use the NEW
> > operation. It does some housekeeping. You're machine will most
> > definitely crash when you add some methods to your class :)
>
> Oops!

This is the clean word for what's usually thought when this
happens ;)

> > DEF b[MAX]:ARRAY OF structure allocates memory, yes. It is a
> > no-go for real classes with methods and whistles and bells for
> > the reason I wrote above.
>
> Yes, but it`s not a class for public consumption...

As soon as you save the source and run the compiler on it is
public. Sorry :)

  grEgor
@endnode

@node ID3_3 "Nil terminated lists... (more pointer stuff...) (ID3_3)"
From: a9660319@wlv.ac.uk
Subject: Re: Re: Nil terminated lists... (more pointer stuff...)
Date: Fri, 3 Apr 1998 14:49:45 -0500 (EST)

> > > Is it okay to say that one has to frob your code a bit? :)
> >
> > Umm. What`s that? :) (deja vu!)
>
> Cited from the jargon file:
        [snipped...]

Ha Ha! :)
I suppose `fripping` comes from the same sort of area.

Andrew :)

@endnode

@node ID3_4 "Nil terminated lists... (more pointer stuff...) (ID3_4)"
From: glauschwuffel@amt.comlink.de (Gregor Goldbach)
Subject: Re: Re: Nil terminated lists... (more pointer stuff...)
Date: 04 Apr 1998 15:51:10 +0200

a9660319@wlv.ac.uk wrote:
> > > > Is it okay to say that one has to frob your code a bit? :)
> > >
> > > Umm. What`s that? :) (deja vu!)
> >
> > Cited from the jargon file:
>       [snipped...]
>
> Ha Ha! :)
> I suppose `fripping` comes from the same sort of area.

How about frink (fripping isn't in the file):

frink /frink/ v.  The unknown ur-verb, fill in your own
   meaning.  Found esp. on the Usenet newsgroup alt.fan.lemurs,
   where it is said that the lemurs know what `frink' means, but
   they aren't telling.  Compare gorets.

  grEgor
@endnode



@node ID4_0 "Frequency rate (ID4_0)"
From: dissident@mail.telepac.pt (Roberto)
Date: Wed, 01 Apr 1998 20:03:57 -0000
Subject: Re: Frequency rate

On 28-Mar-98, Stuart Caie \(kyz\) wrote:

>=> I was wondering if you guys could help me. I need to find the frequency
>rate
>=>(15 khz, 50hz, etc) of a screen mode using OS functions/structures. Do
you
>=>know how to find that info?

>With the displaymode examining functions in graphics.library?

 Hmm good tip! ;) I thought i could look up the info directly on some
structure.. Still, what's the object and item where is that info?
DisplayInfo?
I can't locate it..

- --
 rOBERTo ->dissident@mail.telepac.pt<- !wEb pAGe uNDEr cONSTRUCTIOn!

@endnode

@node ID4_1 "Frequency rate (ID4_1)"
Date: Mon, 06 Apr 1998 09:59:29 +0200
From: ss37@irz301.inf.tu-dresden.de (Sven Steiniger)
Subject: Re: Frequency rate

Roberto wrote:
>
> On 28-Mar-98, Stuart Caie \(kyz\) wrote:
>
> >=> I was wondering if you guys could help me. I need to find the
frequency
> >rate
> >=>(15 khz, 50hz, etc) of a screen mode using OS functions/structures. Do
you
> >=>know how to find that info?
>
> >With the displaymode examining functions in graphics.library?
>
>  Hmm good tip! ;) I thought i could look up the info directly on some
> structure.. Still, what's the object and item where is that info?
DisplayInfo?
> I can't locate it..

Get the MonitorInfo via GetDisplayInfo(). Now you can
calculate the frequencies:

  -> horizontal (in KHz):
    hf:=!1000000.0/(mon.totalcolorclocks!*280.0)

  -> vertical (in Hz):
    vf:=!hf*1000.0/(mon.totalrows!)

I really don't know what the 280 means, I have read it somewhere.

You may even try execbase.powersupplyfrequency (50/60 Hz) to
check if it's PAL or NTSC.

- --
Sven Steiniger
(ss37@inf.tu-dresden.de - http://www.inf.tu-dresden.de/~ss37)

And always remember: Heaven is not a place, it's a feeling.
@endnode

@node ID4_2 "Frequency rate (ID4_2)"
From: dissident@mail.telepac.pt (Roberto)
Date: Wed, 08 Apr 1998 18:33:36 -0000
Subject: Re: Frequency rate

On 06-Apr-98, Sven Steiniger wrote:

>>  Hmm good tip! ;) I thought i could look up the info directly on some
>> structure.. Still, what's the object and item where is that info?
>DisplayInfo?
>> I can't locate it..

>Get the MonitorInfo via GetDisplayInfo(). Now you can
>calculate the frequencies:

>  -> horizontal (in KHz):
>    hf:=!1000000.0/(mon.totalcolorclocks!*280.0)

>  -> vertical (in Hz):
>    vf:=!hf*1000.0/(mon.totalrows!)

>I really don't know what the 280 means, I have read it somewhere.

>You may even try execbase.powersupplyfrequency (50/60 Hz) to
>check if it's PAL or NTSC.

 Great! :) I got it working! BTW, can any of you guys explain on what kind
of
frequency (horizontal or vertical) does the mixing frequency of octamed
soundstudio (or any other kind of hifi multichannel emulation) depend?

- --
 rOBERTo ->dissident@mail.telepac.pt<- !wEb pAGe uNDEr cONSTRUCTIOn!

@endnode

@node ID4_3 "Frequency rate (ID4_3)"
Date: Tue, 21 Apr 1998 12:12:56 +0100
From: Rainer.M.Mueller@uni-konstanz.de (Rainer =?iso-8859-1?Q?M=FCller?=)
Subject: Re: Frequency rate

Hi !

>>Get the MonitorInfo via GetDisplayInfo(). Now you can
>>calculate the frequencies:
>
>>  -> horizontal (in KHz):
>>    hf:=3D!1000000.0/(mon.totalcolorclocks!*280.0)
>
>>  -> vertical (in Hz):
>>    vf:=3D!hf*1000.0/(mon.totalrows!)
>
>>I really don't know what the 280 means, I have read it somewhere.

I think the 280 comes from the "Pixel-speed/length". That means: a
lores-pixel is 280 ns wide, a hires-pixel is 140 ns wide and a superhires
pixel 70 ns wide. (ns =3D nano seconds =3D 10^-9 seconds). This depends
some=
how
of the speed of the memory and the width of one theoretical line length.

> Great! :) I got it working! BTW, can any of you guys explain on what kind=
 of
>frequency (horizontal or vertical) does the mixing frequency of octamed
>soundstudio (or any other kind of hifi multichannel emulation) depend?

None of them !! This mixing frequency is something completely different. I
suppose you know that a CD has a sampling rate "<=3D> mixingrate" of 44,1
kHz, that means in one second you have two (left and right) 16 bit values.
So what does OctaMED or AHI or.. do ?? You have different samples, sampled
with different samplingrates and you want to replay them at different rates
(I mean C-1 then G-2 ...). So that would mean that the playback rate of the
hardware has to be 10 kHz, 12 kHz, 14.5 kHz ... but you can only set one
playback rate at one time, but you want to play several samples with
different frequencies !! -> you have to choose a mixing-rate. OctaMED sets
the hardware playback rate to the mixing rate and then you need much CPU
power. The program "resamples" the samples to the needed frequency. Imagine
you sample looks like: 1, 4, 8, 12, 18, 123, 144, 145... now you drop every
second value -> 1, 8, 18, 144,.. the new sample has only the half length
but it sounds an octave higher. If you double every value -> 1, 1, 4, 4, 8,
8, ... the resulting sample has the double length and sounds an octave
deeper than the original. Now you can drop every 2,1. or 3,76. value or
double every 2,21. or 7.67. value -> it is possible to play samples at a
fixed hardware playback rate, but let a sample sound as if it was play with
a different frequency.

I hope it is possible to understand :-)

Greetings,

   Rainer

=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
      //  Rainer M=FCller  A1200-030-50MHz 16MB/850MB
     //                  Penitum  166MHz 32MB/2.1GB
    //    have a look at: Aminet:mus/edit/SampleE
\\ //
 \X/  AMIGA for ever !

@endnode

@node ID4_4 "Frequency rate (ID4_4)"
Date: Tue, 21 Apr 1998 19:38:32 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: Frequency rate

On Tue, 21 Apr 1998, Rainer [iso-8859-1] Müller wrote:

=>>>  -> horizontal (in KHz):
=>>>    hf:=!1000000.0/(mon.totalcolorclocks!*280.0)
[..]
=>>>I really don't know what the 280 means, I have read it somewhere.
=>
=>I think the 280 comes from the "Pixel-speed/length". That means: a
=>lores-pixel is 280 ns wide, a hires-pixel is 140 ns wide and a superhires
=>pixel 70 ns wide. (ns = nano seconds = 10^-9 seconds). This depends
somehow
=>of the speed of the memory and the width of one theoretical line length.

Yeah. It's how long the video subsystem will spend to output the colour of a
particular pixel down the monitor port.

A 'colour clock' is one step on the fixed timer speed of the clock pulse
that
syncronises the whole process. The 'total colour clocks' is how many clock
pulses it is from the start of a horizontal line to the end of that line.

Probably.

Take it to the bridge, throw it overboard.
See if it can swim back onto the shore.
Noone's in the house, everybody's out.
All the lights are on and the blinds are down.

@endnode

@node ID4_5 "Frequency rate (ID4_5)"
From: dissident@mail.telepac.pt (Roberto)
Date: Fri, 24 Apr 1998 18:58:10 -0000
Subject: Re: Frequency rate

On 21-Apr-98, Rainer M=FCller wrote:
>Hi !

>>>Get the MonitorInfo via GetDisplayInfo(). Now you can
>>>calculate the frequencies:
>>
>>>  -> horizontal (in KHz):
>>>    hf:=3D!1000000.0/(mon.totalcolorclocks!*280.0)
>>
>>>  -> vertical (in Hz):
>>>    vf:=3D!hf*1000.0/(mon.totalrows!)
>>
>>>I really don't know what the 280 means, I have read it somewhere.

>I think the 280 comes from the "Pixel-speed/length". That means: a
>lores-pixel is 280 ns wide, a hires-pixel is 140 ns wide and a superhire=
s
>pixel 70 ns wide. (ns =3D nano seconds =3D 10^-9 seconds). This depends =
somehow
>of the speed of the memory and the width of one theoretical line length.=

 Hmmm does this mean that i have to use a diferent value acording to the
screen's resolution? I'm using only the value 280 and the values outputed=
 are
correct.

>> Great! :) I got it working! BTW, can any of you guys explain on what k=
ind
of
>>frequency (horizontal or vertical) does the mixing frequency of octamed=

>>soundstudio (or any other kind of hifi multichannel emulation) depend?

>None of them !! This mixing frequency is something completely different.=
 I
[snip!]
>a different frequency.

>I hope it is possible to understand :-)

 Yeah i got it, i had already read a doc about it that came in the develo=
per
CD. :) But as you know, the mixing frequency depends greatly on the
screenmode:
on PAL modes you can get at most 28000, on DblPAL it can go up to 44000. =
Why
is it like this? I have heard that it's related to the hardware's bandwid=
th,
but i don't understand nothing about Amiga's hardware..

- -- =

 rOBERTo ->dissident@mail.telepac.pt<- !wEb pAGe uNDEr cONSTRUCTIOn!

@endnode

@node ID4_6 "Frequency rate (ID4_6)"
Date: Tue, 28 Apr 1998 08:03:05 +0200
From: Rainer.M.Mueller@uni-konstanz.de (Rainer =?iso-8859-1?Q?M=FCller?=)
Subject: Re: Frequency rate

At 18:58 24.04.98 -0000, you wrote:
>On 21-Apr-98, Rainer M=FCller wrote:
>>Hi !
>
>>>>Get the MonitorInfo via GetDisplayInfo(). Now you can
>>>>calculate the frequencies:
[...]
> Hmmm does this mean that i have to use a diferent value acording to the
>screen's resolution? I'm using only the value 280 and the values outputed=
 are
>correct.

No, always use 280. The clock is divided into 1/1, 1/2 or 1/4 by the
system/graphics hardware. You don't have to care about that !!

>>> Great! :) I got it working! BTW, can any of you guys explain on what=
 kind
[...]
> Yeah i got it, i had already read a doc about it that came in the=
 developer
>CD. :) But as you know, the mixing frequency depends greatly on the
>screenmode:
>on PAL modes you can get at most 28000, on DblPAL it can go up to 44000.=
 Why
>is it like this? I have heard that it's related to the hardware's=
 bandwidth,
>but i don't understand nothing about Amiga's hardware..

The mixing frequency is 100% independent of the screen mode !!! You can set
the mixing-rate <=3D> replayrate to "any" value you want e.g. 100 Hz, 1000
Hz, 10000 Hz or what ever. But there are two limits. The lower limit is
about 60 Hz, because of the (un)accuracy of the "audio-hardware-timing
clock". The upper limit is given by the speed of the memory (=3D=3D
bandwidt=
h)
(depends "lightly" on the screenmode). In the beginning there was OCS (old
chipset). The memoryspeed allowed a maximum replay rate of 28800 Hz. With
AA (or AGA) (and partly ECS) it was neccessary to make the memory faster.
NOTE: the following explanation is not 100% correct (I don't know too much
about hardware), but after all it is 95% correct. The speed of the memory
is "adjusted" to the graphics mode -> PAL, NTSC, EURO36 the memory is slow;
with SUPER72 memory is a bit faster and in DBLPAL, DBLNTSC, EURO72,
PRODUCTIVITY memory runs at maximum speed resulting in a maximum replayrate
of 28800 Hz, ~46000 Hz or 57600 Hz.
ExtraLores/LoRes/HighRes/SuperHiRes or non interlacce/interlace/doublescan
etc. have no effect on the maximum frequency. It only depends on
PAL/NTSC/EURO36/SUPER72 etc. ...

Short: minimum frequency  <  mixing frequency/replayrate  < =
 maximumfrequency
        ^given by the clock   ^set by the software            ^depends on
the
screen mode

Hope it's a bit more clear now !

Greetings,

   Rainer

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
      //  Rainer M=FCller  A1200-030-50MHz 16MB/850MB
     //                  Pentium  166MHz 32MB/2.1GB
    //    have a look at: Aminet:mus/edit/SampleE
\\ //
 \X/  AMIGA for ever !

@endnode



@node ID5_0 "IDE (ID5_0)"
From: sanric@ronet.it (Riccardo Santato)
Date: Fri, 03 Apr 1998 17:19:31 +0100
Subject: Re: IDE

Il 31-Mar-98, Morten Fjeldstad scrisse:

>Hello,

>Is there a good IDE for AMiga E out there? I tried some editors etc. from
>the Aminet. But nothing impessive.

I suggest to use AmigaE-Gui available on Aminet.
It's not a real IDE environment (not as AIDE); if you are not satisfied with
it
try using BED editor. It's very efficient


==============================================
Santato Riccardo

                               sanric@ronet.it
==============================================



@endnode

@node ID5_1 "IDE (ID5_1)"
From: stv@minorisa.es ("Esteve Boix")
Date: Fri, 3 Apr 1998 18:32:31 +0000
Subject: Re: IDE

> I suggest to use AmigaE-Gui available on Aminet.
> It's not a real IDE environment (not as AIDE); if you are not
> satisfied with it try using BED editor. It's very efficient

I use GED with the E-syntax-highlighter (not very stable, on the
other hand. It causes some Enforcer hits in my setup) and a set of
rexx programs to call EC, ECBG, to run the program, etc...

If someone is interested I can send them (even upload to Aminet ?)

Esteve

@endnode



@node ID6_0 "PPC with E (ID6_0)"
From: frank@dietrich.handshake.de (Frank Dietrich)
Subject: PPC with E
Date: 05 Apr 1998 11:27:23 +0200

Hi all E programmers,

my questions is

Can I write PPC programs with AmigaE ?

And how.....

Can you help me.

            Bye   Frank

@endnode

@node ID6_1 "PPC with E (ID6_1)"
From: sanric@ronet.it (Riccardo Santato)
Date: Wed, 08 Apr 1998 12:07:50 +0100
Subject: Re: PPC with E

Il 05-Apr-98, Frank Dietrich scrisse:

>Can I write PPC programs with AmigaE ?

Probably in the future..., but not now.
Ask Wouter !!

- --
==============================================
Santato Riccardo

                               sanric@ronet.it
==============================================



@endnode

@node ID6_2 "PPC with E (ID6_2)"
From: frank@dietrich.handshake.de (Frank Dietrich)
Subject: Re: PPC with E
Date: 21 Apr 1998 20:17:06 +0200

Du schriebst am 08.04.98

RS> Il 05-Apr-98, Frank Dietrich scrisse:

RS> >Can I write PPC programs with AmigaE ?

RS> Probably in the future..., but not now.
RS> Ask Wouter !!

Have you a another email address
With this address wvo96r@penelope.ecs.soton.ac.uk
I can not reach Wouter.

            Bye   Frank

@endnode



@node ID7_0 "help needed... (ID7_0)"
Date: Mon, 6 Apr 1998 12:00:05 +0200 (MET DST)
From: szczepan@student.man.bialystok.pl ("Marcin Juszkiewicz
(Szczepan/BlaBla)")
Subject: help needed...

 Does anyone can send me mails from 31.03 to today ? I have changes on
server so I lose all those mails.

thank you

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@student.man.bialystok.pl http://student.man.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode



@node ID8_0 "Hupp (ID8_0)"
Date: 08 Apr 98 08:33:16 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Hupp

THE COMPILER AND THE PENDULUM

"reference(s) out of 32k range: switch to LARGE model" it said
when my source had grown.

Okay, I thought. Ill just add the keyword "OPT LARGE" at the top
of the source and recompile.

Done as said.

It works, Lloyd codes on. When the source exceeds 100kb, however...

"reference(s) out of 32k range: switch to LARGE model"

So I tried the command line: ec mysource large
I tried: ec mysource large addbuf 1

and various other variations on the same theme.

Now the development is stalled and Lloyd is enraged. Could anyone
tell me what's GOING ON?!

Regards,

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID8_1 "Hupp (ID8_1)"
From: stv@minorisa.es ("Esteve Boix")
Date: Wed, 8 Apr 1998 11:21:54 +0000
Subject: Re: Hupp

> "reference(s) out of 32k range: switch to LARGE model"

Maybe (not 100% sure) you need to recompile all the modules with the
OPT LARGE switch since the problem may be caused by a module and not
by the main source.

Esteve

- ---
Esteve Boix - stv@minorisa.es - http://www2.minorisa.es/~stv
@endnode

@node ID8_2 "Hupp (ID8_2)"
Date: Wed, 8 Apr 1998 09:19:23 +0100 (BST)
From: jason@fsel.com (Jason Hulance)
Subject: Re: Hupp

Lloyd Rosen <seasons@softhome.net> wrote:

> It works, Lloyd codes on. When the source exceeds 100kb, however...
>
> "reference(s) out of 32k range: switch to LARGE model"
>
> So I tried the command line: ec mysource large
> I tried: ec mysource large addbuf 1
>
> and various other variations on the same theme.
>
>
> Now the development is stalled and Lloyd is enraged. Could anyone
> tell me what's GOING ON?!

Um, looks a little strange.  I've never met this problem myself.  I
wonder if it could have something to do with the modules you're using?

I can't exactly suggest you try to cut it down to a small example, since
it would seem to depend on the size, but you might be able to cut it
down to something trivial: try keeping as little of the code as
possible, and using INCBIN to include something larger than 32Kb in the
middle of your code.  That might help to track down whether it's your
code or the module inclusion, or something like that...

Cheers!

- --
The conundrum for today is "eoplmalyr".
Your numbers are 25, 1, 1, 6, 1 and 4.  The target value is 183.
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114
@endnode

@node ID8_3 "Hupp (ID8_3)"
Date: Wed, 08 Apr 1998 12:28:30 +0200
From: ss37@irz301.inf.tu-dresden.de (Sven Steiniger)
Subject: Re: Hupp

Lloyd Rosen wrote:
>
> THE COMPILER AND THE PENDULUM
>
> "reference(s) out of 32k range: switch to LARGE model" it said
> when my source had grown.
>
> Okay, I thought. Ill just add the keyword "OPT LARGE" at the top
> of the source and recompile.
>
> It works, Lloyd codes on. When the source exceeds 100kb, however...
>
> "reference(s) out of 32k range: switch to LARGE model"

Uiii. Do you really have *one* big source file ??
I recommend to split it into smaller modules, making
it reusable and easier to maintain. Maybe this also
fixes your problem.
BTW: It's enough to add OPT LARGE to the main program,
     no need to specify it in every module.

- --
Sven Steiniger
(ss37@inf.tu-dresden.de - http://www.inf.tu-dresden.de/~ss37)

And always remember: Heaven is not a place, it's a feeling.
@endnode

@node ID8_4 "Hupp (ID8_4)"
Date: Wed, 08 Apr 1998 12:39:56 +0200
From: Fabio.Rotondo@deagostini.it (Fabio Rotondo)
Subject: Re: Hupp

Sven Steiniger wrote:

> Uiii. Do you really have *one* big source file ??
> I recommend to split it into smaller modules, making
> it reusable and easier to maintain. Maybe this also
> fixes your problem.
> BTW: It's enough to add OPT LARGE to the main program,
>      no need to specify it in every module.

I confirm.
DOOPSI 2 source is now >300k (main file!) with about
60 Modules included.
The exe is 386k and no probs here...

Ciao,

    Fabio

@endnode

@node ID8_5 "Hupp (ID8_5)"
From: stv@minorisa.es ("Esteve Boix")
Date: Wed, 8 Apr 1998 12:44:39 +0000
Subject: Re: Hupp

> Uiii. Do you really have *one* big source file ??
> I recommend to split it into smaller modules, making
> it reusable and easier to maintain. Maybe this also
> fixes your problem.

My biggest program has a lot of modules, but the two main modules are
150 and 220 KB in size. I've never experienced a problem.

> BTW: It's enough to add OPT LARGE to the main program,
>      no need to specify it in every module.

Was just a suggestion :)

Esteve
- ---
Esteve Boix - stv@minorisa.es - http://www2.minorisa.es/~stv
@endnode

@node ID8_6 "Hupp (ID8_6)"
Date: 08 Apr 98 22:44:22 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: Hupp

On 08-Apr-98 12:21:54 you mumbled something about Re: Hupp.

>> "reference(s) out of 32k range: switch to LARGE model"

>Maybe (not 100% sure) you need to recompile all the modules with the
>OPT LARGE switch since the problem may be caused by a module and not
>by the main source.

But I use the ordinary libraries etc. and only some ASM modules I
made myself.

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID8_7 "Hupp (ID8_7)"
Date: 08 Apr 98 22:47:33 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: Hupp

On 08-Apr-98 09:19:23 you mumbled something about Re: Hupp.

>Lloyd Rosen <seasons@softhome.net> wrote:
>> It works, Lloyd codes on. When the source exceeds 100kb, however...

>middle of your code.  That might help to track down whether it's your
>code or the module inclusion, or something like that...

>Cheers!

Thanks!

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID8_8 "Hupp (ID8_8)"
Date: 08 Apr 98 22:46:11 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: Hupp

On 08-Apr-98 11:39:56 you mumbled something about Re: Hupp.

>Sven Steiniger wrote:

>> Uiii. Do you really have *one* big source file ??
>> I recommend to split it into smaller modules, making
>> it reusable and easier to maintain. Maybe this also
>> fixes your problem.

I'm thinking about that yes.

>> BTW: It's enough to add OPT LARGE to the main program,
>>      no need to specify it in every module.

Well, it worked for a while as I said, but then it complained again.

>I confirm.
>DOOPSI 2 source is now >300k (main file!) with about
>60 Modules included.
>The exe is 386k and no probs here...

:)

I'm doing such an adventure engine myself ;)

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID8_9 "Hupp (ID8_9)"
Date: 08 Apr 98 19:09:09 +0200
From: savel@kaunas.omnitel.net (Levas)
Subject: Re: Hupp

>"reference(s) out of 32k range: switch to LARGE model"

>Now the development is stalled and Lloyd is enraged. Could anyone
>tell me what's GOING ON?!

Buy registered version of compiler.

Bye, Levas
- --
<tsb>Amiga? Amiga... Amiga!
- -- e-mail:savel@kaunas.omnitel.net - http://www1.omnitel.net/savel --

Never, never, never *MOON* a werewolf.

@endnode

@node ID8_10 "Hupp (ID8_10)"
Date: 08 Apr 98 23:35:55 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: Hupp

On 08-Apr-98 18:09:09 you mumbled something about Re: Hupp.

>>"reference(s) out of 32k range: switch to LARGE model"

>>Now the development is stalled and Lloyd is enraged. Could anyone
>>tell me what's GOING ON?!

>Buy registered version of compiler.

That's no fun! Because it IS!

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID8_11 "Hupp (ID8_11)"
From: gary@empire.u-net.com (Gary Colville)
Date: 08 Apr 1998 15:19:36 +0100
Subject: Re: Hupp

Sven Steiniger <ss37@irz301.inf.tu-dresden.de> wrote to
amigae-list@intercom.it about Re: Hupp:

> Uiii. Do you really have *one* big source file ??
> I recommend to split it into smaller modules, making
> it reusable and easier to maintain. Maybe this also
> fixes your problem.

I've got a single source file here that is over 800k and compiles into a
500k executable with no problems.

- --  _
 _ //    Gary Colville        AmigaOS Software Developer
 \X/ gary@empire.u-net.com    http://www.empire.u-net.com
- --
@endnode

@node ID8_12 "Hupp (ID8_12)"
Date: 08 Apr 98 23:55:36 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: Hupp

On 08-Apr-98 15:19:36 you mumbled something about Re: Hupp.

>Sven Steiniger <ss37@irz301.inf.tu-dresden.de> wrote to
>amigae-list@intercom.it about Re: Hupp:

>> Uiii. Do you really have *one* big source file ??
>> I recommend to split it into smaller modules, making
>> it reusable and easier to maintain. Maybe this also
>> fixes your problem.

>I've got a single source file here that is over 800k and compiles into a
>500k executable with no problems.

Hm. A guy suggested that I fixed the inline asm to LONG branches, and
so I did.

But nope.

Then I commented out some 50 lines and now it works again.
and I DO have the registered 3.3a compiler!

I can't understand it.... :(

Thanks anyway!

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID8_13 "Hupp (ID8_13)"
Date: Thu, 09 Apr 1998 09:22:04 +0200
From: ss37@irz301.inf.tu-dresden.de (Sven Steiniger)
Subject: Re: Hupp

> > Uiii. Do you really have *one* big source file ??
> > I recommend to split it into smaller modules, making
> > it reusable and easier to maintain. Maybe this also
> > fixes your problem.
>
> I've got a single source file here that is over 800k and compiles into a
> 500k executable with no problems.

How do you manage it? Recursive folding? In such an
huge source I would loose track completly.
>From my point of view every module >1000 lines is critical.
Splitting it into smaller parts helps definitly
managing complexity (besides oo-programming, ...).
My current project, Plotter3D, consists of tons of
modules, eg. the GUI (MUI) consists of 54 customclasses,
everyone as an own module. This also safes compilation time
as only changed parts have to be recompiled!

- --
Sven Steiniger
(ss37@inf.tu-dresden.de - http://www.inf.tu-dresden.de/~ss37)

And always remember: Heaven is not a place, it's a feeling.
@endnode

@node ID8_14 "Hupp (ID8_14)"
Date: Thu, 09 Apr 1998 09:23:45 +0200
From: ss37@irz301.inf.tu-dresden.de (Sven Steiniger)
Subject: Re: Hupp

> Hm. A guy suggested that I fixed the inline asm to LONG branches, and
> so I did.
>
> But nope.
>
> Then I commented out some 50 lines and now it works again.
> and I DO have the registered 3.3a compiler!
>
> I can't understand it.... :(

Maybe you should mail those 50 lines?

- --
Sven Steiniger
(ss37@inf.tu-dresden.de - http://www.inf.tu-dresden.de/~ss37)

And always remember: Heaven is not a place, it's a feeling.
@endnode

@node ID8_15 "Hupp (ID8_15)"
Date: Thu, 09 Apr 1998 09:29:22 +0200
From: Fabio.Rotondo@deagostini.it (Fabio Rotondo)
Subject: Re: Hupp

Sven Steiniger wrote:

> >From my point of view every module >1000 lines is critical.
> Splitting it into smaller parts helps definitly
> managing complexity (besides oo-programming, ...).
> My current project, Plotter3D, consists of tons of
> modules, eg. the GUI (MUI) consists of 54 customclasses,
> everyone as an own module. This also safes compilation time
> as only changed parts have to be recompiled!

You are right, but consider early project stages.
For example, my DOOPSI 2 source is created in a very heavy OOP way.
I have almost a class for everything.
Expecially in the starting part of the creation of the program, I have had
to "touch" a lot of classes to adapt them to the way the project evolved.
I could get mad if I have had to manage them separately...

And... BTW, the recompilation of all my stuff just takes 2/3 seconds!

Ciao,

    Fabio

@endnode

@node ID8_16 "Hupp (ID8_16)"
Date: Thu, 09 Apr 1998 09:30:56 +0200
From: Fabio.Rotondo@deagostini.it (Fabio Rotondo)
Subject: Re: Hupp

Sven Steiniger wrote:

> > Then I commented out some 50 lines and now it works again.
> > and I DO have the registered 3.3a compiler!
> >
> > I can't understand it.... :(
>
> Maybe you should mail those 50 lines?

Ouch, now I get the point!
It happened to me, a long long time ago... :-)
If I don't mistake, it happened because I forgot to close a "["
somewhere...

Also, very heavy conditional compiling could drive the EC crazy :-)

Ciao,

    Fabio

@endnode

@node ID8_17 "Hupp (ID8_17)"
Date: 09 Apr 98 10:22:34 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: Hupp

On 09-Apr-98 08:30:56 you mumbled something about Re: Hupp.

>> > Then I commented out some 50 lines and now it works again.
>> > and I DO have the registered 3.3a compiler!
>> > I can't understand it.... :(
>> Maybe you should mail those 50 lines?

>Ouch, now I get the point!
>It happened to me, a long long time ago... :-)
>If I don't mistake, it happened because I forgot to close a "["
>somewhere...

Aha!

>Also, very heavy conditional compiling could drive the EC crazy :-)

:)

Thanks Fabio.

And I think EC should be fixed, cause it steals up to 300 (!) bytes
on each shutdown of a prog ;))

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID8_18 "Hupp (ID8_18)"
Date: 09 Apr 98 10:24:18 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: Hupp

On 09-Apr-98 08:29:22 you mumbled something about Re: Hupp.

>Sven Steiniger wrote:

[blabla]
>> everyone as an own module. This also safes compilation time
>> as only changed parts have to be recompiled!

>Expecially in the starting part of the creation of the program, I have had
>to "touch" a lot of classes to adapt them to the way the project evolved.
>I could get mad if I have had to manage them separately...

>And... BTW, the recompilation of all my stuff just takes 2/3 seconds!

:)

OfCOURSE I'm gonna split it into modules later on ;)

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID8_19 "Hupp (ID8_19)"
Date: 09 Apr 98 10:29:11 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: Hupp

On 09-Apr-98 08:23:45 you mumbled something about Re: Hupp.

>> Then I commented out some 50 lines and now it works again.
>> and I DO have the registered 3.3a compiler!
>> I can't understand it.... :(

>Maybe you should mail those 50 lines?

Uhm. I'll try figuring out what's wrong when I need those 50 lines ;)

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID8_20 "Hupp (ID8_20)"
Date: Thu, 09 Apr 1998 10:46:29 +0200
From: Fabio.Rotondo@deagostini.it (Fabio Rotondo)
Subject: Re: Hupp

Lloyd Rosen wrote:

> And I think EC should be fixed, cause it steals up to 300 (!) bytes
> on each shutdown of a prog ;))

What??? Nope.

EC will release all memory it allocated.
Are you sure *you* are freeing all resources?

Ciao,

    Fabio

@endnode

@node ID8_21 "Hupp (ID8_21)"
Date: 09 Apr 98 11:09:52 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: Hupp

On 09-Apr-98 09:46:29 you mumbled something about Re: Hupp.

>Lloyd Rosen wrote:

>> And I think EC should be fixed, cause it steals up to 300 (!) bytes
>> on each shutdown of a prog ;))

>What??? Nope.

>EC will release all memory it allocated.
>Are you sure *you* are freeing all resources?

Sure :) - I only use New()

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID8_22 "Hupp (ID8_22)"
Date: Thu, 9 Apr 1998 11:45:32 +0100 (BST)
From: jason@fsel.com (Jason Hulance)
Subject: Re: Hupp

Lloyd Rosen <seasons@softhome.net> wrote:

> And I think EC should be fixed, cause it steals up to 300 (!) bytes
> on each shutdown of a prog ;))

While I don't think Wouter will guarantee that EC is completely
bug-free, I think what you're experiencing is more probably due to:

 a) Your code (if you're talking about running a compiled programme).
    (This is the most likely, because accidentally stomping over the
    wrong bits of memory can cause almost anything to happen.)
 b) Any system patches you're running (MCP and the like are notorious
    for using little bits of memory to, say, augment a tag list).
 c) The Shell you're using (it may use memory to store the textual
    results of your commands, or even the commands themselves).
 d) An incompatible resource watcher program.

Cheers!

- --
The conundrum for today is "emworisea".
Your numbers are 100, 4, 4, 7, 9 and 1.  The target value is 829.
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114
@endnode

@node ID8_23 "Hupp (ID8_23)"
From: merlin@thule.no (Eric Sauvageau)
Date: Thu, 9 Apr 1998 15:07:32 +0500
Subject: Re[2]: Hupp

On Thu, 9 Apr 1998, we received a letter from  about 'Re: Hupp':

>  Lloyd Rosen <seasons@softhome.net> wrote:
>
>  > And I think EC should be fixed, cause it steals up to 300 (!) bytes
>  > on each shutdown of a prog ;))
>
>  While I don't think Wouter will guarantee that EC is completely
>  bug-free, I think what you're experiencing is more probably due to:
>
>   a) Your code (if you're talking about running a compiled programme).
>      (This is the most likely, because accidentally stomping over the
>      wrong bits of memory can cause almost anything to happen.)
>   b) Any system patches you're running (MCP and the like are notorious
>      for using little bits of memory to, say, augment a tag list).
>   c) The Shell you're using (it may use memory to store the textual
>      results of your commands, or even the commands themselves).
Review and history buffers come to mind.  Always disable both in KingCON
before
doing any memory leak checks.

>   d) An incompatible resource watcher program.

Also I might add that any disk-based device/library/gadget/datatype that
gets
loaded will stay in memory at exit unless you 'avail flush' it.

I can confirm that EC is most probably leak-free: SysInspector (a 255 KB
mammoth)
leaks a grand total of 56 bytes, and it's a known bug in some versions of
ClassAct's
window.class when using an iconify gadget :)

Ciao!

... Air conditioned environment; do not open Windows!

- --

===--- - - -
  Eric Sauvageau    http://www.thule.no/~merlin/    merlin@thule.no
  Amiga wizard known as Merlin, casting with E runes, resulting in:
      DevsMan - MFormat - NewIcons4 - SysInspector - XPKatana
- - - - ---===

@endnode

@node ID8_24 "Hupp (ID8_24)"
From: gary@empire.u-net.com (Gary Colville)
Date: 09 Apr 1998 15:40:29 +0100
Subject: Re: Hupp

Sven Steiniger <ss37@irz301.inf.tu-dresden.de> wrote to
amigae-list@intercom.it about Re: Hupp:

>> I've got a single source file here that is over 800k and compiles into a
>> 500k executable with no problems.

> How do you manage it? Recursive folding?

Just normal procedure folding.

> In such an huge source I would loose track completly.

Personally, I find it much easier to keep track of things with one large
source file than with a whole scatter of small modules.

> This also safes compilation time
> as only changed parts have to be recompiled!

I don't find this much of a problem as my 040/33 compiles the whole 800k
source in less than 10 seconds anyway.

- --  _
 _ //    Gary Colville        AmigaOS Software Developer
 \X/ gary@empire.u-net.com    http://www.empire.u-net.com
- --
@endnode



@node ID9_0 "<none> (ID9_0)"
From: zokie@teseo.it (Francesco De Napoli)
Subject: <none>
Date: Wed, 08 Apr 1998 19:28:34 +0100

HELP

@endnode

@node ID9_1 "<none> (ID9_1)"
From: LOREJ@IWC-SDT.dssd.sub.org (Jens Lorenz)
Subject: <none>
Date: Sun, 12 Apr 1998 11:59:08 +0200

HELP

.
@endnode

@node ID9_2 "<none> (ID9_2)"
Date: Wed, 15 Apr 1998 11:23:20 -0400
Subject: Re: <none>
From: tc_silvey@juno.com (troy silvey)

>HELP

with what?

_____________________________________________________________________
You don't need to buy Internet access to use free Internet e-mail.
Get completely free e-mail from Juno at http://www.juno.com
Or call Juno at (800) 654-JUNO [654-5866]

@endnode



@node ID10_0 "Freeing mem (was: HUPP) (ID10_0)"
From: jj@it.kth.se (Janne Johansson)
Subject: Freeing mem (was: HUPP)
Date: Thu, 09 Apr 1998 11:22:21 +0200

> >> And I think EC should be fixed, cause it steals up to 300 (!) bytes
> >> on each shutdown of a prog ;))
> =

> >What??? Nope.
> >EC will release all memory it allocated.
> >Are you sure *you* are freeing all resources?
> =

> Sure :) - I only use New()

Are you sure that it's not some KingCon-historybuffer that grows for each=
 command you =

issue?

Try:

Foo> avail flush

bla bla some bytes

Foo> myprog
Foo> avail flush

bla bla same bytes?

- -------------
"Every girl with sense, loves those dead
 presidents..." -Quireboys

Mail:  jj<at>it.kth.se
Phone: +46-8-7521444 (work)
Cell:  +46-70-740 1440
Http: //www.it.kth.se/~jj

@endnode

@node ID10_1 "Freeing mem (was: HUPP) (ID10_1)"
Date: 09 Apr 98 11:55:12 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: Freeing mem (was: HUPP)

On 09-Apr-98 10:22:21 you mumbled something about Freeing mem (was: HUPP).

>> >EC will release all memory it allocated.
>> >Are you sure *you* are freeing all resources?
>>
>> Sure :) - I only use New()

>Are you sure that it's not some KingCon-historybuffer that grows for each
>command you  issue?
>bla bla same bytes?

Nope. And I don't use KingCON. But look, maybe it was my fault. Let's
not overdo this ;)

I can live with 300 bytes anyway.

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID10_2 "Freeing mem (was: HUPP) (ID10_2)"
From: merlin@thule.no (Eric Sauvageau)
Date: Thu, 9 Apr 1998 15:08:34 +0500
Subject: Re: Freeing mem (was: HUPP)

On Thu, 9 Apr 1998, we received a letter from  about 'Freeing mem (was:
HUPP)':

>  > >> And I think EC should be fixed, cause it steals up to 300 (!) bytes
>  > >> on each shutdown of a prog ;))
>  >
>  > >What??? Nope.
>  > >EC will release all memory it allocated.
>  > >Are you sure *you* are freeing all resources?
>  >
>  > Sure :) - I only use New()
>
>  Are you sure that it's not some KingCon-historybuffer that grows for each
command you
>  issue?
>
>  Try:
>
>  Foo> avail flush
>
>  bla bla some bytes
>
>  Foo> myprog
>  Foo> avail flush
>
>  bla bla same bytes?

bla bla flush 2 or 3 times each times to be bla bla sure there's no wah wah
left
:)

... "I think ye gave me too much time, Captain!" - Scotty.

- --

===--- - - -
  Eric Sauvageau    http://www.thule.no/~merlin/    merlin@thule.no
  Amiga wizard known as Merlin, casting with E runes, resulting in:
      DevsMan - MFormat - NewIcons4 - SysInspector - XPKatana
- - - - ---===

@endnode



@node ID11_0 "Circular Module References (ID11_0)"
From: GIMBO@pulse-service.co.uk (Dexter's Music Lab)
Date: Thu, 9 Apr 1998 14:53:12 +0000
Subject: Circular Module References

Hi there,

I want to implement a kind of parent/child relation between two
classes (called rm_tone and rm_lfo, respectively). I want any
particular rm_tone object to be able to reference any of its child
rm_lfo's, and of course any rm_lfo needs to be able to reference its
parent rm_tone. Also, I need them defined in seperate modules.

But how can I do this? I can't put
MODULE 'rm_lfo'
in the rm_tone module and
MODULE 'rm_tone'
in the rm_lfo module, can I? That's a cricular reference... :-(

So, what's the way to do this in E? As usual, any and all advice
appreciated!

Cheers!

Andy
- --
"Hex, bugs, and lock 'n scroll!"
                                         -The Programmer's Lifestyle
                                               (Courtesy of Eric S.)

@endnode

@node ID11_1 "Circular Module References (ID11_1)"
Date: Thu, 09 Apr 1998 16:15:32 +0200
From: Fabio.Rotondo@deagostini.it (Fabio Rotondo)
Subject: Re: Circular Module References

Dexter's Music Lab wrote:

> But how can I do this? I can't put
> MODULE 'rm_lfo'
> in the rm_tone module and
> MODULE 'rm_tone'
> in the rm_lfo module, can I? That's a cricular reference... :-(

Try this:

    OBJECT rm_tone
        x
        y
        z
        lfo        :PTR TO rm_lfo
    ENDOBJECT

    OBJECT rm_lfo
        x
        y
        z
        parent    :PTR TO rm_tone
    ENDOBJECT

I think you should develop both of them in one single module/source.

Ciao,

    Fabio

@endnode

@node ID11_2 "Circular Module References (ID11_2)"
From: GIMBO@pulse-service.co.uk (Dexter's Music Lab)
Date: Thu, 9 Apr 1998 17:06:40 +0000
Subject: Re: Circular Module References

> Try this:
>
>     OBJECT rm_tone
>         x
>         y
>         z
>         lfo        :PTR TO rm_lfo
>     ENDOBJECT
>
>     OBJECT rm_lfo
>         x
>         y
>         z
>         parent    :PTR TO rm_tone
>     ENDOBJECT
>
> I think you should develop both of them in one single module/source.

Thanks, but nope, I can't do that. Why not? Because not only does a
tone have an lfo child, it also has the following children:

main , mods , pitch , pitch_env , tvf , tvf_env , tva , tva_env , aux

So far I've only written the code for the lfo module, but it's 23K,
and most of the rest will be of comparable size (the lfo provides a
decent module for the rest of them, which is why I'm trying to get
it right first). There's no *way* I'm putting all these objects into
a single module - especially as the tone is actually the child of
another object, called patch.

Weren't we just talking about the desirability of splitting modules
up?

Any other ideas?

A.
- --
Marwood:
    My thumbs have gone weird!

                                                    -Withnail & I

@endnode

@node ID11_3 "Circular Module References (ID11_3)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Fri, 10 Apr 1998 08:35:25 +0900
Subject: Re: Circular Module References

On 09-Apr-98, someone (I think it was Dexter's Music Lab) might have
written:
DML> Hi there,
DML>
DML> I want to implement a kind of parent/child relation between two
DML> classes (called rm_tone and rm_lfo, respectively). I want any
DML> particular rm_tone object to be able to reference any of its child
DML> rm_lfo's, and of course any rm_lfo needs to be able to reference its
DML> parent rm_tone. Also, I need them defined in seperate modules.
DML>
DML> But how can I do this? I can't put
DML> MODULE 'rm_lfo'
DML> in the rm_tone module and
DML> MODULE 'rm_tone'
DML> in the rm_lfo module, can I? That's a cricular reference... :-(
DML>
DML> So, what's the way to do this in E? As usual, any and all advice
DML> appreciated!
DML>

one way (not ideal) is to just store the address of the parent/child
in the objects as a PTR TO LONG, and then explicitly set these when
using them in a proc to be a PTR TO the object you are looking for...

e.g.

PROC init() OF rm_lfo

    DEF temp:PTR TO rm_tone

    NEW temp.init()

    self.child:=temp

ENDPROC

and then to use it you'd do....

PROC init() OF rm_lfo

    DEF temp:PTR TO rm_tone

    temp:=self.child

    temp.method()

ENDPROC

etc.

with the object having child:PTR TO LONG as one of its member variables.

Do you understand what I'm saying here?

ali.

@endnode

@node ID11_4 "Circular Module References (ID11_4)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Thu, 09 Apr 1998 19:50:39 +0500
Subject: Re: Circular Module References

On 09-Apr-98,  Dexter's Music Lab wrote:
DML> Hi there,

DML> I want to implement a kind of parent/child relation between two
DML> classes (called rm_tone and rm_lfo, respectively). I want any
DML> particular rm_tone object to be able to reference any of its child
DML> rm_lfo's, and of course any rm_lfo needs to be able to reference its
DML> parent rm_tone. Also, I need them defined in seperate modules.

I've done this before.  It's a dangeours game, but it will work.
What you do is build the two modules incrementally, adding each feature in
the
other module that you will need for the next feature in one module.  The
dangerous part is when you fail to compile one, and then try to build the
other, at which point you have either copy back an older version which you
foresightedly stored, or comment out everything, and incrementally add it
back
in.  It's kind of annoying that E won't handle cross-ways references, but
that's life.

Another way to do it is to make a parent class that has all empty methods
for
the ones you need for both classes, then subclass the methods you need for
each object, and pretend each object is the parent type.

DML> in the rm_lfo module, can I? That's a cricular reference... :-(

It WILL compile.  You just have to juggle chickens and eggs.

- --

CU
Dobes

He that would govern others, first should be the master of himself.

@endnode

@node ID11_5 "Circular Module References (ID11_5)"
From: glauschwuffel@amt.comlink.de (Gregor Goldbach)
Subject: Re: Circular Module References
Date: 10 Apr 1998 11:03:46 +0200

GIMBO@pulse-service.co.uk (Dexter's Music Lab) wrote:

> But how can I do this? I can't put
> MODULE 'rm_lfo'
> in the rm_tone module and
> MODULE 'rm_tone'
> in the rm_lfo module, can I? That's a cricular reference... :-(

Well, you actually can do this, but not the way you might think
:)

First, build one module with:

OBJECT lfo
  -> attributes
  tone -> no instance!
ENDOBJECT

You may now compile this module. Since the tone attribute isn't
an instance you don't need the tone module.

Then, create the second module with:

MODULE '*lfo'

OBJECT tone
  -> attributes
  lfo:PTR TO lfo
ENDOBJECT

Compile this and everything is fine.

Step 3: edit lfo.m and make the tone attribute an instance of
tone and import tone.m:

MODULE '*tone'

OBJECT lfo
  -> attributes
  tone:PTR TO tone -> instance!
ENDOBJECT

That's it. Now you have built to modules that depend on each
other. You may backup these skeleton modules in case of any
crashes in further development.

> So, what's the way to do this in E? As usual, any and all advice
> appreciated!

As always: this is untested but it ought to work. :)

  grEgor
@endnode

@node ID11_6 "Circular Module References (ID11_6)"
From: GIMBO@pulse-service.co.uk (Dexter's Music Lab)
Date: Tue, 14 Apr 1998 12:45:13 +0000
Subject: Re: Circular Module References

Just wanted to thank everyone for the advice on the circular
references. Think I've decided on a compromise, which is for the
child to *not* be able to reference its parent. Instead, any
information it needs from the parent can be set up by the parent.

I can do this quite happily because there are only certain instances
when the child needs information from the parent, and that
information will tend to remain static. It's not lovely and
encapsulated, but it'll work.

Thanks again!

Andy
- --
Marty:     So, when you're playing you feel like a preserved moose on stage?
Derek:     Yeah.

                                                -This is Spinal Tap

@endnode

@node ID11_7 "Circular Module References (ID11_7)"
Date: Wed, 15 Apr 1998 14:33:37 +0100 (BST)
From: jason@fsel.com (Jason Hulance)
Subject: Re: Circular Module References

GIMBO@pulse-service.co.uk (Dexter's Music Lab) wrote:

> I want to implement a kind of parent/child relation between two
> classes (called rm_tone and rm_lfo, respectively). I want any
> particular rm_tone object to be able to reference any of its child
> rm_lfo's, and of course any rm_lfo needs to be able to reference its
> parent rm_tone. Also, I need them defined in seperate modules.
>
> But how can I do this? I can't put
> MODULE 'rm_lfo'
> in the rm_tone module and
> MODULE 'rm_tone'
> in the rm_lfo module, can I? That's a cricular reference... :-(
>
> So, what's the way to do this in E? As usual, any and all advice
> appreciated!

Well, if you must do it like this, you realise that E's data hiding
means you can only use the method interface to interact between your
(possibly closely related) classes?

OK, so if you must do it like this, the following approach will work:

 o First, the modules are referenced by name so you can get the contents
   roughly right for a first pass (say, "rm_lfo.e"):

     OPT MODULE
     OPT EXPORT

     MODULE 'module1' /* etc. */

     OBJECT rm_lfo
       /* Dummy, type-less "parent" for now */
       parent
       /* Rest of object... */
     ENDOBJECT

     DEF global1  /* etc. */

     /* Just omit the code, and any unfortunate (rm_tone) typed args */
     PROC play() OF rm_lfo IS EMPTY

     /* And so on, for all other functions and methods */
     /* (i.e., just dummy entries) */

 o This skeleton can be compiled and used for the creation of the proper
   "rm_tone.e" file. [Or for making a similar bare-bones version, if
   you're really doing tricky circular stuff using "parent" (which you
   didn't ought to in "rm_tone.e", if you're using classes!).  Once you
   have this bare-bones version you can add the type to "parent" for a
   second pass, then types in "rm_tone.e" for a third pass, then move on
   to the next step.]

 o You can now write the proper, complete versions of the code, using
   the modules from the bare-bones compilations temporarily.
   Compilations from then on will then use the overwriten modules (just
   in case offsets have moved, which they shouldn't, if you used
   complete skeletons in the bare-bones files).

 o A compile of the main program will then use the proper modules when
   it does the linking.

This kind of setup can arise quite naturally by accident.  I distinctly
remember an early version of one of Wouter's programs was like this.
And I'm sure he didn't plan it that way...

Cheers!

- --
The conundrum for today is "mlebndaee".
Your numbers are 75, 8, 3, 4, 10 and 2.  The target value is 303.
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114
@endnode

@node ID11_8 "Circular Module References (ID11_8)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Fri, 17 Apr 1998 01:19:39 +0930
Subject: Re: Circular Module References

On 14-Apr-98, someone (I think it was Dexter's Music Lab) might have
written:
DML> Just wanted to thank everyone for the advice on the circular
DML> references. Think I've decided on a compromise, which is for the
DML> child to *not* be able to reference its parent. Instead, any
DML> information it needs from the parent can be set up by the parent.
DML>
DML> I can do this quite happily because there are only certain instances
DML> when the child needs information from the parent, and that
DML> information will tend to remain static. It's not lovely and
DML> encapsulated, but it'll work.

This is the compromise I decided to use; it allows a measure of
communication and control between objects without allowing the
unrestrained chaos that can ensue with children having full access
to their parent objects.

(That does sound rather odd, doesn't it :)

Anyway, it's not perfect OO, but we have to make some trade-offs
when programming for real-world tasks, I guess...

ali.

@endnode



@node ID12_0 "Set/test/clear individual bits (ID12_0)"
Date: Fri, 10 Apr 1998 18:01:23 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: Set/test/clear individual bits

In E code or E inline assembler, just use bitfield sets and logical
(bitwise) operations:

Example:

SET  ZEROTH_F, FIRST_F, SECOND_F, THIRD_F -> ....
- ->         %1,     %10,     %100,  %1000,    ....
ENUM ZEROTH_B, FIRST_B, SECOND_B, THIRD_B -> ....
- ->          0,       1,        2,      3,    ....

- -> myvar:= first bit and zeroth bit set
myvar := FIRST_F OR ZEROTH_F

- -> if first bit of myvar set then set second bit of myvar
IF myvar AND FIRST_F THEN myvar:=myvar OR SECOND_F

- -> clear third bit of myvar - simply AND NOT (third bit)
myvar:=myvar AND Not(THIRD_F)

In inline assembler:

- -> if 1st bit set then set 2nd bit
        MOVE.L  myvar,D0        -> get myvar
        BTST.L  #FIRST_B,D0     -> test 1st bit (note the _B)
        BNE.S   unset           -> if 1st bit _not_ set, then skip...
        BSET.L  #SECOND_B,D0    -> set 2nd bit
unset:  MOVE.L  D0,myvar        -> store myvar

- -> clear 3rd bit
        MOVE.L  myvar,D0        -> get myvar
        BCLR.L  #THIRD_B,D0     -> clear 3rd bit
        MOVE.L  D0,myvar        -> store it back

Stuart Kyzer Caie - kyzer@4u.net
http://www.abdn.ac.uk/~u13sac/

@endnode



@node ID13_0 "For o2m users - use E's globals. (ID13_0)"
Date: Fri, 10 Apr 1998 18:18:13 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: For o2m users - use E's globals.

>From my experiments, it seems that, if using the same version of the E
compiler, its startup code will use the same places in the global variables
area (A4) for the 'default' globals.

So, we could use this in external assembler modules (to be honest, anyone
who
settles for the internal one needs their head examined)

I wrote a little program to get those global offsets from the E compiler.
Accessed simply like so:

        include eglobs.i

        move.l  dosbase(a4),a6
        [...use dos.library calls...]

(As it happens, I would avoid using conout or stdrast, as they aren't set up
 at start time by default and may wiggle a bit - but that's just my
 skepticism showing
)

- -> eglobs.e
- -> discovers offsets of standard E globals
- -> Use this to create eglobs.i, or such.

PROC main()
  DEF a4, n:PTR TO LONG
  MOVE.L A4,a4

  n:=[
  'stdout',     {stdout},
  'conout',     {conout},
  'stdin',      {stdin},
  'arg',        {arg},
  'stdrast',    {stdrast},
  'wbmessage',  {wbmessage},
  'execbase',   {execbase},
  'dosbase',    {dosbase},
  'intuibase',  {intuitionbase},
  'gfxbase',    {gfxbase},
  NIL]

  WHILE n[] DO WriteF('\s=\d\n', n[]++, n[]++ - a4)
ENDPROC

Take it to the bridge, throw it overboard.
See if it can swim back onto the shore.
Noone's in the house, everybody's out.
All the lights are on and the blinds are down.

@endnode

@node ID13_1 "For o2m users - use E's globals. (ID13_1)"
Date: Wed, 15 Apr 1998 12:40:23 +0100 (BST)
From: jason@fsel.com (Jason Hulance)
Subject: Re: For o2m users - use E's globals.

"Stuart Caie \(kyz\)" <sac@csd.abdn.ac.uk> wrote:

> >From my experiments, it seems that, if using the same version of the E
> compiler, its startup code will use the same places in the global
variables
> area (A4) for the 'default' globals.

Yes, it does, as witnessed by the EBDG code (see the "add_globs()"
function in "eexe.e").

> (As it happens, I would avoid using conout or stdrast, as they aren't set
up
>  at start time by default and may wiggle a bit - but that's just my
>  skepticism showing
> )

No, they're fine (at the moment!).  As are a few others that weren't on
your list...

Cheers!

- --
The conundrum for today is "uosimatnm".
Your numbers are 25, 3, 3, 4, 3 and 6.  The target value is 555.
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114
@endnode



@node ID14_0 "too sizy expression? (ID14_0)"
Date: Sat, 11 Apr 1998 17:32:21 +0200
From: gamboni@fastnet.ch (Jacques Gamboni)
Subject: too sizy expression?

I got the message 'expression is too sizy'. What can I do against it?
I tried to manipulate my program to see when this message happens and
when it doesn't:
I want to allocate an ASL request, and the tag list is something like:

[ASL_HAIL, cat.msgLoad.getstr(), -> I'm using FlexCat to do a
localisation
ASL_FILE, 'abcdefg',
ASL_OKTEXT, cat.msgOkText.getstr(),
ASL_DIR,'Examples/',
NIL]

I have two calls like this (load and save),
and EC can't compile my program (There are also thousands of codelines
around it, it is really a big one).
If I try to comment out two cat.msg....  strings, it works, if I replace
them with something else (I e.g. tried a string), it also works.
I finally found out that when there are two of these cat.msg.....  in
the two arrays, it works. If more (like four if I let them how they
should be any), it doesn't.

So what can I do?

Maxime

@endnode

@node ID14_1 "too sizy expression? (ID14_1)"
From: stv@minorisa.es ("Esteve Boix")
Date: Tue, 14 Apr 1998 11:09:22 +0000
Subject: Re: too sizy expression?

> I have two calls like this (load and save),
> and EC can't compile my program (There are also thousands of
> codelines around it, it is really a big one). If I try to comment
> out two cat.msg....  strings, it works, if I replace them with
> something else (I e.g. tried a string), it also works. I finally
> found out that when there are two of these cat.msg.....  in the two
> arrays, it works. If more (like four if I let them how they should
> be any), it doesn't.

Maybe this proc exceeds the 32kB (I think) limit size of any proc.

Esteve
- ---
Esteve Boix - stv@minorisa.es - http://www2.minorisa.es/~stv
@endnode



@node ID15_0 "madcastle (ID15_0)"
Date: 12 Apr 98 19:41:30 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: madcastle

Hi. Okay, the source now compiles - like magic. Well anyway,
I have this annoying bug that has come up before, except that nobody
gave a satisfying answer..

The program crashes at the last ENDPROC with guru #0005, which ofcourse
is some AllocMem/Freemem stuff. But I only use New() for everything.

Other times it starts allright, then on 2nd or 3rd time it starts with
guru #0003 which is a bad instruction.

How? Why?

;)

Appreciate any sane answers to this ;)

Regards,

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID15_1 "madcastle (ID15_1)"
From: frank@cc86.org (Frank Weber)
Date: Sun, 12 Apr 1998 20:21:32 +0100
Subject: Re: madcastle

Hello Lloyd,

On 12-Apr-98, you wrote:

> Hi. Okay, the source now compiles - like magic. Well anyway,
> I have this annoying bug that has come up before, except that nobody
> gave a satisfying answer..

> The program crashes at the last ENDPROC with guru #0005, which ofcourse
> is some AllocMem/Freemem stuff. But I only use New() for everything.

A very possible reason is that you use StrCopy() into destination
buffers that are no Estrings. Use AstrCopy() instead.

Bye

Frank
- --
Frank Weber          E-Mail: frank@cc86.org
74076 Heilbronn         URL: http://www.cc86.org/~frank/
PGP key available on request

Amiga Shareware:   · CDCat    · AFiloFaxPro    · AmigaTrainer    · Cheater

CDCat Support site: http://www.amigaworld.com/support/cdcat

aMIGA rULZ :-)

@endnode

@node ID15_2 "madcastle (ID15_2)"
Date: 12 Apr 98 20:29:45 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: madcastle

On 12-Apr-98 20:21:32 you mumbled something about Re: madcastle.

>Hello Lloyd,

>On 12-Apr-98, you wrote:

>> Hi. Okay, the source now compiles - like magic. Well anyway,
>> I have this annoying bug that has come up before, except that nobody
>> gave a satisfying answer..
>
>> The program crashes at the last ENDPROC with guru #0005, which ofcourse
>> is some AllocMem/Freemem stuff. But I only use New() for everything.

>A very possible reason is that you use StrCopy() into destination
>buffers that are no Estrings. Use AstrCopy() instead.

Hm. Thanks I'll try that.

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode



@node ID16_0 "MUI Images. (ID16_0)"
From: mofjelds@online.no (Morten Fjeldstad)
Date: Sun, 12 Apr 1998 20:09:18 +0200
Subject: MUI Images.

Hello all!

I was trying to make a nice MUI window with some images for my program, but
encountered a problem.

How do I get the background color of the image I wish to display to appear
transparent? I am loading the image through datatypes...

Happy hacking!

- --
Morten Fjeldstad
Software Engineer

@endnode

@node ID16_1 "MUI Images. (ID16_1)"
From: bhf@opf.de (Bastian Frank)
Date: Mon, 13 Apr 1998 15:59:35 +0100
Subject: Re: MUI Images.

Am 12-Apr-98 schrieb Morten Fjeldstad <mofjelds@online.no>:

> How do I get the background color of the image I wish to display to appear
> transparent? I am loading the image through datatypes...

If you're using the original picture.datatype (<V43) there is no way to have
a
transparent background. You have to get a copy of the bitmap, generate your
own mask* and blit it to screen with "BltMaskBitMapRastPort()". If you're
using V43 of the picture.datatype there is a tag to select the transparent
color. Look at the docs for more information. (You should be able to read
the
correct transparent color from the BMHD-structure, but don't forget to
switch
to V43-mode before!) You should of course always check which version of the
picture.datatype is used - don't expect other users to use the same version
as
you.

*How to generate your own mask:
Here is an easy way to generate a mask for any bitmap which takes color 0 as
transparent color. If you want to use other colors as transparent colors you
have to use another algorithm.
1. Get the bitmap of the picture you want to use. Be sure it is of the type
"BMF_STANDARD" (using "GetBitMapAttr()")!
2. Generate a mask-bitmap with only 1 bitplane and the same size (use
AllocBitMap, perhaps with the flag "BMF_STANDARD" - although it is not
documented to use this flag with this function, this should be a save way to
get a standard bitmap on future os-versions). Perhaps you should check if it
is really a standard-bitmap.
3. Initialise a rastport with the mask-bitmap, use "SetRast()" to clear the
rastport and use "SetAPen(rp,1)" and "SetDrMd(rp,0)".
4. Use BltPattern with every bitplane of the picture-bitmap to draw a mask
into the mask-bitmap.
5. Get the pointer of the first bitplane of the mask-bitmap. This is the
pointer to the mask you can use as argument to "BltMaskBitMapRastPort".
6. If you want to, you can copy the picture-bitmap to a friend-bitmap of the
screen's bitmap. This could speed up rendering.

- --
Bastian

@endnode



@node ID17_0 "Screenmode name from DisplayId (ID17_0)"
From: chris@planb.TheGAP.com (Christopher Perver)
Date: Sun, 12 Apr 1998 12:15:25 +0000
Subject: Screenmode name from DisplayId

  Hi,

  Can anyone tell me how I can get the name of a screenmode, for example,
  "PAL:Hires" from its DisplayId, for example, "$500D1000"?

  I want to find out the name of the screenmode a user selects from a
reqtools
  requester to put it in a text gadget.

  Thanks...
- --
Regards,
          ..:::::::::::::::::::::::..
        ::::::::::::::::::::::::::::::.
       :::::.____. :::::::::::::::::::::
      .:::: |    i_   ._    _      ::::::
      ::::: |   _j i__| i__/ \_/l.  :::::
      ::::: l  | |    Y    |_/  _]  :::::
      ::::: j  l_|    |  n_| |   |  .::::
      ::::: |    i    l  l ] l-  j .::::
      :::::.l_  _j__n__]__][__]_/ .:::::
       :::::. |/   ..............::::::
        ::::::...::::::::::::::::::::
          ::::::::::::::::::::::::

@endnode

@node ID17_1 "Screenmode name from DisplayId (ID17_1)"
From: merlin@thule.no (Eric Sauvageau)
Date: Sun, 12 Apr 1998 16:00:21 +0500
Subject: Re: Screenmode name from DisplayId

On Sun, 12 Apr 1998, we received a letter from  about 'Screenmode name from
DisplayId':

>    Hi,
>
>    Can anyone tell me how I can get the name of a screenmode, for example,
>    "PAL:Hires" from its DisplayId, for example, "$500D1000"?
>
>    I want to find out the name of the screenmode a user selects from a
reqtools
>    requester to put it in a text gadget.

I've seen quite a bit of questions regarding screenmodes and the display
database
lately.  I'll post the code I use in SYsInspector for generating its
Screenmodes
list.

Some of the vars definitions are missing since it's just extracted from a
larger
module, but it should at least let you know how to retrieve the relevant
info.

- -----
EXPORT PROC init_screenmodes() HANDLE
DEF ourintlist:PTR TO lh, id=INVALID_ID
DEF lnode:PTR TO dataNode,count=0, result=FALSE
DEF di:displayinfo, dim:dimensioninfo
DEF name[70]:STRING
DEF name2[14]:STRING
DEF sortmethod

  IF (memPool := CreatePool(MEMF_ANY OR MEMF_CLEAR,SIZEOF dataNode*8,SIZEOF
dataNode))=
NIL THEN RETURN

  ourintlist := AllocPooled(memPool, SIZEOF lh)
  newList(ourintlist)

  sortmethod := preferences.smsort

  REPEAT

    IF (MONITOR_ID_MASK AND id)
       IF GetDisplayInfoData(NIL, di, SIZEOF displayinfo, DTAG_DISP, id) = 0
THEN result := TRUE
       IF GetDisplayInfoData(NIL, dim, SIZEOF dimensioninfo, DTAG_DIMS, id)
=0
THEN result := TRUE
       IF result = FALSE
          lnode := AllocPooled(memPool, SIZEOF dataNode)

          getModeName(id,di,name)

          safeAstrCopy(lnode.name, name, 45)

          lnode.ln.name:=lnode.name    -> Point to name
          lnode.id := id
          lnode.x := dim.nominal.maxx+1
          lnode.y := dim.nominal.maxy+1

          SELECT 4 OF sortmethod

          CASE SIP_DEFAULT
             AddTail(ourintlist, lnode)
          CASE SIP_SMSORT_ALPHA
            lnode.ln.name := lnode.name
            addNodeSorted(ourintlist, lnode)
          CASE SIP_SMSORT_ID

/* Create a string holding our id */

            lnode.ln.name := AllocPooled(memPool, 13)

            StringF(name2,'\h',id)
            safeAstrCopy(lnode.ln.name,name2,13)
            addNodeSorted(ourintlist, lnode)
          ENDSELECT

          INC count
       ENDIF
    ENDIF
    id := NextDisplayInfo(id)
    result := FALSE

  UNTIL id = INVALID_ID

EXCEPT DO
  browserAdd(ourintlist)
  setLB(smci)
  DeletePool(memPool)

  StringF(statusStr,'\d screen modes',count)
ENDPROC

PROC getModeName(id,di:PTR TO displayinfo,name)
DEF ni:nameinfo, mi:monitorinfo, dim:dimensioninfo
DEF tmpname[60]:STRING

   IF (GetDisplayInfoData(NIL, mi, SIZEOF monitorinfo, DTAG_MNTR, id) = 0)
OR
(GetDisplayInfoData(NIL, dim, SIZEOF dimensioninfo, DTAG_DIMS, id) =0) THEN
RETURN

   IF GetDisplayInfoData(NIL, ni, SIZEOF nameinfo, DTAG_NAME, id)
      StrCopy(name,ni.name)
      RETURN TRUE
   ELSEIF (mi.mspc)
/* Some display modes are unnamed.  We must build a name ourself. */
      IF mi.mspc.xln.name

StrCopy(tmpname,mi.mspc.xln.name,InStr(mi.mspc.xln.name,'.monitor',0))
         UpperStr(tmpname)
         StringF(name,'\s:\d x \d \s\s\s',tmpname,

dim.nominal.maxx-dim.nominal.minx+1,

dim.nominal.maxy-dim.nominal.miny+1,
                IF (di.propertyflags AND DIPF_IS_HAM) THEN 'HAM ' ELSE
                IF (di.propertyflags AND DIPF_IS_EXTRAHALFBRITE) THEN 'EHB '
ELSE '',

                IF (di.propertyflags AND DIPF_IS_PF2PRI) THEN 'DPF2 ' ELSE
                IF (di.propertyflags AND DIPF_IS_DUALPF) THEN 'DPF ' ELSE
'',
                IF (di.propertyflags AND DIPF_IS_LACE) THEN 'Laced 'ELSE '')

         RETURN
      ENDIF
   ENDIF
ENDPROC
- ---

... Happiness is a warp drive and a six-pack of Romulan ale.

- --

===--- - - -
  Eric Sauvageau    http://www.thule.no/~merlin/    merlin@thule.no
  Amiga wizard known as Merlin, casting with E runes, resulting in:
      DevsMan - MFormat - NewIcons4 - SysInspector - XPKatana
- - - - ---===

@endnode



@node ID18_0 "madcastle, Use the OS Luke, etc... (ID18_0)"
From: merlin@thule.no (Eric Sauvageau)
Date: Sun, 12 Apr 1998 15:50:47 +0500
Subject: Re: madcastle, Use the OS Luke, etc...

On Sun, 12 Apr 1998, we received a letter from  about 'madcastle':

>  Hi. Okay, the source now compiles - like magic. Well anyway,
>  I have this annoying bug that has come up before, except that nobody
>  gave a satisfying answer..
>
>  The program crashes at the last ENDPROC with guru #0005, which ofcourse
>  is some AllocMem/Freemem stuff. But I only use New() for everything.
>
>  Other times it starts allright, then on 2nd or 3rd time it starts with
>  guru #0003 which is a bad instruction.
>
>  How? Why?

Could be a LOT of things:

1) Trashed pointer
2) Overwriting memory buffers beyond their boundaries
3) OS functions allocate and free memory too.  You might be allocating
memory
through New(), using it for an OS function that eventualy freed it, and
trying
once again to free it at ENDPROC time as an example.

Personaly, I prefer to use the OS memory pools over the E memory allocation
routines.
 The NEW operator as one has often produced unpredictable results here,
sometime
returning non-cleared memory when it should, etc...  Using memory pools has
a
big advantage: you can easily debug the allocation/usage/freeing by using
PoolWatch.
 PoolWatch will let you know if you overstepped an allocation's boundaries
as
one.  And it offers most of the advantages as the E New() stuff: faster,
less
prone to fragment memory, all allocations can be deallocated with a single
DeletePool()
call.

Overall, it's generaly a good idea to use the OS over any language's
specific
feature wherever possible, unless you're aiming for portability.  First
reason:
smaller executable size, as you use existing code.  Second reason: an OS is
usualy
more reliable and more efficient than the compiler routines themselves, as
they
are written by the same guys who wrote the rest of the OS, and also they are
garanteed to be up-to-date with the rest of the OS, while any functions
built
in the executable might very well be obsolete with the next OS revision.

As one, utility.library's string compare functions are quite faster than the
E ones, and they are also locale-aware.

Also, I personally think that most of the Intuition functions Wouter
implemented
in the compiler (like OpenW() and such) were a bad idea, since Intuition is
one
part of the OS that is the most likely to change with any major OS revision.
 Wouter does mention in the docs that stuff like OpenW() as one is now
obsolete.

Anyway, 'nuff ranting for now :)

... UnZip...expand...stuffit... What kind of pervert came up with this?

- --

===--- - - -
  Eric Sauvageau    http://www.thule.no/~merlin/    merlin@thule.no
  Amiga wizard known as Merlin, casting with E runes, resulting in:
      DevsMan - MFormat - NewIcons4 - SysInspector - XPKatana
- - - - ---===

@endnode

@node ID18_1 "madcastle, Use the OS Luke, etc... (ID18_1)"
Date: 12 Apr 98 22:01:56 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: madcastle, Use the OS Luke, etc...

On 12-Apr-98 11:50:47 you mumbled something about Re: madcastle, Use the OS
Luke, etc....

>On Sun, 12 Apr 1998, we received a letter from  about 'madcastle':

>>  How? Why?

[blabla about memory pools]

Okay. Humm. I just wanted to have the prog ready (it's just an internal
musiceditor) fast. But now.. grr.. The weird thing is that New() never
has bugged on me before... :(

Maybe it isn't New() but something else..

>Anyway, 'nuff ranting for now :)

Thanks for your advice!

Regards,

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID18_2 "madcastle, Use the OS Luke, etc... (ID18_2)"
From: merlin@thule.no (Eric Sauvageau)
Date: Sun, 12 Apr 1998 16:52:17 +0500
Subject: Re[2]: madcastle, Use the OS Luke, etc...

On Sun, 12 Apr 1998, we received a letter from  about 'Re: madcastle, Use
the
OS Luke, etc...':

>  On 12-Apr-98 11:50:47 you mumbled something about Re: madcastle, Use the
OS Luke, etc....
>
>  >On Sun, 12 Apr 1998, we received a letter from  about 'madcastle':
>
>  >>  How? Why?
>
>  [blabla about memory pools]
>
>  Okay. Humm. I just wanted to have the prog ready (it's just an internal
>  musiceditor) fast. But now.. grr.. The weird thing is that New() never
>  has bugged on me before... :(
>
>  Maybe it isn't New() but something else..

Oh, I don't think it's a bug in E itself.  There must be something you do
that
corrupts some pointer or the pointer list.  Do you do any {var} or ^var
stuff
as one?  Also check any StrCopy() or similar string functions - they can't
be
used directly on memory allocated by New(), you must use String().

Try Mungwall, maybe this could help.  EDBG might also be of use there.

Ciao!

... MAC: (M)arginally (A)cceptable (C)omputer

- --

===--- - - -
  Eric Sauvageau    http://www.thule.no/~merlin/    merlin@thule.no
  Amiga wizard known as Merlin, casting with E runes, resulting in:
      DevsMan - MFormat - NewIcons4 - SysInspector - XPKatana
- - - - ---===

@endnode

@node ID18_3 "madcastle, Use the OS Luke, etc... (ID18_3)"
Date: 13 Apr 98 07:16:40 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Re: Re[2]: madcastle, Use the OS Luke, etc...

On 12-Apr-98 12:52:17 you mumbled something about Re[2]: madcastle, Use the
OS Luke, etc....

>>  Maybe it isn't New() but something else..

>can't be used directly on memory allocated by New(), you must use String().
>Try Mungwall, maybe this could help.  EDBG might also be of use there.

I'll ship the code to Glauschwuffel, maybe he'll work it out. EDBG
just shows that it crashes on the last Endproc and Mungwall doesn't
say anything, except that when I use that, the prog always crashes
HARD, so I can't see nothing :/

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode

@node ID18_4 "madcastle, Use the OS Luke, etc... (ID18_4)"
Date: Wed, 15 Apr 1998 11:38:26 +0200 (MET DST)
From: szczepan@student.man.bialystok.pl ("Marcin Juszkiewicz
(Szczepan/BlaBla)")
Subject: Re: Re[2]: madcastle, Use the OS Luke, etc...

On 13 Apr 1998, Lloyd Rosen wrote:

- ->I'll ship the code to Glauschwuffel, maybe he'll work it out. EDBG
- ->just shows that it crashes on the last Endproc and Mungwall doesn't
- ->say anything, except that when I use that, the prog always crashes
- ->HARD, so I can't see nothing :/

 Use MungFriend by Szymon Pura (BlaBla member) - it's create reset-proof
buffer for MungWall etc. programs..

MungFriend is the best Sushi replacement

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@student.man.bialystok.pl http://student.man.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode



@node ID19_0 "bullet.library (ID19_0)"
From: bhf@opf.de (Bastian Frank)
Date: Mon, 13 Apr 1998 16:21:38 +0100
Subject: bullet.library

Hi,

Has anyone out there some information about the bullet.library? Whenever =
I
want to use it to open an outline-font, it can't find this font. I use th=
e
tags OT_OTAGPATH and OT_OTAGLIST to open a font, but bullet.library seems=
 to
get the wrong pointer to the font's filename, because SnoopDos says, the
library wants to open something like "FONTS:_bullet_outlines/=C6=A3=B7...=
". My
program looks like the following where "a" is a pointer to the original
contents of the ".otag"-file of the corresponding font:

IF (eng:=3DOpenEngine())=3DNIL THEN Raise()
SetInfoA(eng,[OT_OTAGPATH,'FONTS:',OT_OTAGLIST,a,
              OT_DOTSIZE,Shl(72,16) OR 72,
              OT_POINTHEIGHT,30,OT_DEVICEDPI,Shl(1,16) OR 1,
              NIL]))
FOR i:=3D"A" TO "Z"
  SetInfoA(eng,[OT_GLYPHCODE,i,OT_GLYPHCODE2,i,NIL])
  ObtainInfoA(eng,[OT_GLYPHMAP,{gm},NIL])
ENDFOR

SetInfoA always returns "0", which means "no error", but ObtainInfoA alwa=
ys
returns "-1", which means "failure".

- -- =

Bastian

@endnode



@node ID20_0 "Blush (ID20_0)"
Date: 13 Apr 98 15:38:12 +0100
From: seasons@softhome.net (Lloyd Rosen)
Subject: Blush

I'm a bit embarrased.... :)

I used something like:

songstructmem:=AllocMem(etc.)
songstruct (ptr to songstructure)  :=soundstructmem

See the similarities? In other words, songstruct was
pointing to address 0, since soundstructmem was not yet init-
ialized.. :/

*blush*

But thanks for all your suggestions, it'll help me in future
enforcer hits ;))

Regards,

-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-
                    ____                           ____
    Lloyd Rosen    _\/\/_  680x0 ÷ AmigaE ÷ 6510  _\/\/_    `LloydROSN'
         ÷         ¯¯\/¯¯      Mus¡c ÷ Design     ¯¯\/¯¯         on
      sEASONS                                                  IRCnet
      ¯¯¯¯¯¯¯     s e a s o n s @ s o f t h o m e . n e t      ¯¯¯¯¯¯
-
-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-=-÷-

@endnode



@node ID21_0 "UI Images (ID21_0)"
Date: Tue, 14 Apr 1998 20:53:19 +0200
From: gamboni@fastnet.ch (Jacques Gamboni)
Subject: Re:MUI Images

> If you're using the original picture.datatype (<V43) there is no way
to have a
> transparent background.

MUI has an attribute like MUIA_Bitmap_Transparent. The current version
of MUI can only make colour 0 transparent, like this:

BitmapObject, /*Some attributes...*/
    MUIA_Bitmap_Transparent,0, /* colour zero must be put transparent.
Like I said above, only zero is currently valid. Read the Bitmap
autodocs for more information.*/
/*Some other attributes...*/
End

This causes the bitmap object to have colour zero transparent.
Note: you must be using BitmapObjects (and not ImageObjects or a custom
class that is not a subclass of Bitmap class)
MUI handles itself the drawing to the screen, you do not need to blit
your bitmap yourself.

(But I do not know if the V43 datatype is needed to do that with MUI,
I've never tried before getting it)

                                        Maxime

@endnode



@node ID22_0 "too size expression? (ID22_0)"
Date: Tue, 14 Apr 1998 20:53:46 +0200
From: gamboni@fastnet.ch (Jacques Gamboni)
Subject: Re: too size expression?

Esteve Boix wrote:

> > I have two calls like this (load and save),
> > and EC can't compile my program (There are also thousands of
> > codelines around it, it is really a big one). If I try to comment
> > out two cat.msg....  strings, it works, if I replace them with
> > something else (I e.g. tried a string), it also works. I finally
> > found out that when there are two of these cat.msg.....  in the two
> > arrays, it works. If more (like four if I let them how they should
> > be any), it doesn't.
>
> Maybe this proc exceeds the 32kB (I think) limit size of any proc.

Thanks, it's probably that, I'll try to put parts of the main proc in
another one.

                                                Maxime

@endnode



@node ID23_0 "Bob Trouble ! (ID23_0)"
From: sanric@ronet.it (Riccardo Santato)
Date: Tue, 14 Apr 1998 21:19:18 +0100
Subject: Bob Trouble !

I'm trying to write a simple videogame using graphics.library and AmigaE.
I'reading the AutoDocs, but as far as I don't remember anything of C, it's
impossible for me to display just a bob on a screen.

The questions are ...

1) Can anyone of you make an example ?!?

2) Xcept GMS , are there shared link libraries to help the programmers in
displaying bobs and other GELs ?!?

3) where can I find them ?



==============================================
Santato Riccardo

                               sanric@ronet.it
==============================================



@endnode



@node ID24_0 "Was bit-something... (ID24_0)"
Date: Thu, 16 Apr 1998 13:14:50 +0200 (MET DST)
From: s879@brems.ii.uib.no (Jan Ove Aase)
Subject: RE: Was bit-something...

First I would like to thank you people helping me with the bit-problem.

Now, using inline assembler - which I know next to nothing about - I have
come to the following procedure for setting a given bit. (Checking and
clearing bits are similar.)

  PROC bset( var, bit )

    MOVE.L var, D0
    MOVE.L bit, D1    -> bit = 0-32
    BSET.L D0, D1     -> Not entirely sure if it was 'BSET.L D1, D0', but
                      -> I got i right in my original procedure.
    MOVE.L D0, var

  ENDPROC var

Just out of curiosity, what does the '.L' mean?

I also made a procedure doing the same job, using OR and an array whith
each entry representing 1 bit.

  ...
  var := var OR bit[ bit ]
  ...

Testing these on 4 mill. bit operations, using inline assembly was just
5-6 % faster.

____________________________________________________ _     _
                                                      \___/
 Jan Ove Aase, Fantoft Stud.by, E-921, 5036 Fantoft   (o o)__
                  s879@ii.uib.no                       \_/\_ \
               janove@GalaxyCorp.com                    ___/) \
          http://www.GalaxyCorp.com/janove             /    ( _\
____________________________________________________   \   _// \\_/

@endnode

@node ID24_1 "Was bit-something... (ID24_1)"
From: bhf@opf.de (Bastian Frank)
Date: Thu, 16 Apr 1998 13:46:11 +0100
Subject: Re[2]: Was bit-something...

Am 16-Apr-98 schrieb Jan Ove Aase <s879@brems.ii.uib.no>:

>  PROC bset( var, bit )
>
>    MOVE.L var, D0
>    MOVE.L bit, D1    -> bit = 0-32
>    BSET.L D0, D1     -> Not entirely sure if it was 'BSET.L D1, D0', but
>                      -> I got i right in my original procedure.
>    MOVE.L D0, var
>
>  ENDPROC var
>
> Just out of curiosity, what does the '.L' mean?

The Motorola 680x0 processor family is very intelligent when it handles
register (or even memory) operations. Almost every operation
can be performed on bytes, words or longwords, therefore you have to add
".B",
".W" or ".L" to the command to specify which size of data
you want to work with. (This only works with the Dx-registers, the
Ax-registers are limited to longword-operations)

>
>
> I also made a procedure doing the same job, using OR and an array whith
> each entry representing 1 bit.
>
>  ...
>  var := var OR bit[ bit ]
>  ...
>
> Testing these on 4 mill. bit operations, using inline assembly was just
> 5-6 % faster.

The procedure "bset" is certainly not written for speed reasons, because it
takes quite a time to call the procedure, write the variables to registers,
and to write the register back to the variable again. But it is very useful
if
you just want to set a bit
without allocating 32*4 bytes for an (useless) array.

- --
Bastian

@endnode



@node ID25_0 "Was bit-something (ID25_0)"
Date: Fri, 17 Apr 1998 15:29:10 +0200 (MET DST)
From: s879@brems.ii.uib.no (Jan Ove Aase)
Subject: RE: Was bit-something

On Thu, 16 Apr 1998, Ralph Wermke wrote:

>> Testing these on 4 mill. bit operations, using inline assembly was just
>> 5-6 % faster.
>
> Use OR and not BSET in your inline asm then it's a little bit faster.
>
> MOVE.L var,D0
> MOVE.L bit,D1
> MOVEQ #1,d2
> LSL.L D1,D2
> OR.L D2,D0

Actually this made the inline asm only 2-3 % faster, making it slower than
using BSET.
(My test included calls to all of 4 procs, bset, bclr, btst and bchg,
where bset was the only proc changed, but still the result should have
been better than before - 5-6%.)

Is it possible to flip all the bits in a variabel in inline asm (how)?
Or is there a better way - not using BCLR._ - to clear a bit, than
AND._-ing say %101 and %110 to get %100?
____________________________________________________ _     _
                                                      \___/
 Jan Ove Aase, Fantoft Stud.by, E-921, 5036 Fantoft   (o o)__
                  s879@ii.uib.no                       \_/\_ \
               janove@GalaxyCorp.com                    ___/) \
          http://www.GalaxyCorp.com/janove             /    ( _\
____________________________________________________   \   _// \\_/

@endnode

@node ID25_1 "Was bit-something (ID25_1)"
Date: Sun, 19 Apr 1998 22:01:21 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: RE: Was bit-something

On Fri, 17 Apr 1998, Jan Ove Aase wrote:

=>Is it possible to flip all the bits in a variabel in inline asm (how)?

NOT.L blah

(E creates a lot of crap code - like using a function Not() instead of that
one instruction - but I can live with it.)

Take it to the bridge, throw it overboard.
See if it can swim back onto the shore.
Noone's in the house, everybody's out.
All the lights are on and the blinds are down.

@endnode



@node ID26_0 "EDBG and Explorer (ID26_0)"
Date: Fri, 17 Apr 1998 18:13:38 +0200 (MET DST)
From: szczepan@student.man.bialystok.pl ("Marcin Juszkiewicz
(Szczepan/BlaBla)")
Subject: EDBG and Explorer

 Hi !

  Does anyone have EDBG Arexx script which sends variable to Explorer ? I
didn't use Explorer before, but last time I use SysInspector and sow
Explorer VERY usefull tool.

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@student.man.bialystok.pl http://student.man.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode



@node ID27_0 "EasyGUI bug ? (ID27_0)"
Date: Fri, 17 Apr 1998 18:19:11 +0200 (MET DST)
From: szczepan@student.man.bialystok.pl ("Marcin Juszkiewicz
(Szczepan/BlaBla)")
Subject: EasyGUI bug ?

 Hi !

  In my sample player I have GUI on EasyGUI with shortcuts. Button "Quit"
has def:

[BUTTON,{gad_quit},'_Quit',....,"q",FALSE]

PROC gad_quit()
 Raise(ERR_NONE)
ENDPROC

When I press gadget all is OK.
When I press "q" key there is none.. no effect...

WHY ???

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@student.man.bialystok.pl http://student.man.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode

@node ID27_1 "EasyGUI bug ? (ID27_1)"
From: merlin@thule.no (Eric Sauvageau)
Date: Fri, 17 Apr 1998 15:58:43 +0500
Subject: Re: EasyGUI bug ?

On Fri, 17 Apr 1998, we received a letter from  about 'EasyGUI bug ?':

>   Hi !
>
>    In my sample player I have GUI on EasyGUI with shortcuts. Button "Quit"
>  has def:
>
>  [BUTTON,{gad_quit},'_Quit',....,"q",FALSE]
>
>  PROC gad_quit()
>   Raise(ERR_NONE)
>  ENDPROC
>
>  When I press gadget all is OK.
>  When I press "q" key there is none.. no effect...
>
>  WHY ???

Have you told your window you wanted IDCMP_RAWKEY (or is it VANILLAKEY with
gadtools?
 Been too long...)

... "Let's see if we can find a space anomaly that could tear us apart!"
-Nelix

- --
===--- - - -
  Eric Sauvageau    http://www.thule.no/~merlin/    merlin@thule.no
  Amiga wizard known as Merlin, casting with E runes, resulting in:
      DevsMan - MFormat - NewIcons4 - SysInspector - XPKatana
- - - - ---===

@endnode

@node ID27_2 "EasyGUI bug ? (ID27_2)"
Date: Sat, 18 Apr 1998 11:27:25 +0200 (MET DST)
From: szczepan@student.man.bialystok.pl ("Marcin Juszkiewicz
(Szczepan/BlaBla)")
Subject: Re: EasyGUI bug ?

On Fri, 17 Apr 1998, Eric Sauvageau wrote:

- ->>    In my sample player I have GUI on EasyGUI with shortcuts. Button
"Quit"
- ->>  has def:
- ->>
- ->>  [BUTTON,{gad_quit},'_Quit',....,"q",FALSE]
- ->>
- ->>  PROC gad_quit()
- ->>   Raise(ERR_NONE)
- ->>  ENDPROC
- ->>
- ->>  When I press gadget all is OK.
- ->>  When I press "q" key there is none.. no effect...
- ->>

- ->Have you told your window you wanted IDCMP_RAWKEY (or is it VANILLAKEY
- ->with gadtools?

No.. other shortcuts works but "q" = Quit not work.. why ?

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@student.man.bialystok.pl http://student.man.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode

@node ID27_3 "EasyGUI bug ? (ID27_3)"
From: eq3nmf@eq.uc.pt (Nuno Maltez)
Date: Sun, 19 Apr 1998 03:19:27 +0100
Subject: Re: EasyGUI bug ?

Hi Marcin,

>  In my sample player I have GUI on EasyGUI with shortcuts. Button "Quit"
>has def:

>[BUTTON,{gad_quit},'_Quit',....,"q",FALSE]

>PROC gad_quit()
> Raise(ERR_NONE)
>ENDPROC

>When I press gadget all is OK.
>When I press "q" key there is none.. no effect...

Are you Raising a 0 (ie, is ERR_NONE = 0)? I once faced this problem and
found that, when using the keyboard shotcut, Raise(0) doesn't quit the Gui
(you can check that gad_quit() is being called by using edbg or inserting a
PrintF()).

If you are, then just assign any other value to ERR_NONE and it might work
(well, it worked for me). The origin of this problem should not be hard to
find in the EasyGui source but I never bothered to look...

- --
Nuno

@endnode

@node ID27_4 "EasyGUI bug ? (ID27_4)"
Date: Mon, 20 Apr 1998 08:10:44 +0100 (BST)
From: jason@fsel.com (Jason Hulance)
Subject: Re: EasyGUI bug ?

"Marcin Juszkiewicz \(Szczepan/BlaBla\)"
<szczepan@student.man.bialystok.pl> wrote:

>   In my sample player I have GUI on EasyGUI with shortcuts. Button "Quit"
> has def:
>
> [BUTTON,{gad_quit},'_Quit',....,"q",FALSE]
>
> PROC gad_quit()
>  Raise(ERR_NONE)
> ENDPROC
>
> When I press gadget all is OK.
> When I press "q" key there is none.. no effect...
>
> WHY ???

>From the EasyGUI.doc:

  If you want to close the GUI from an action function then you can call
  the quitgui() function, which raises a "QUIT" exception (be careful to
  not handle this exception in your code -- just ReThrow() it if your
  action function has an exception handler).  The single argument to
  quitgui() (which defaults to 0) will be returned from the easyguiA() call,
  in the same way that action values are.  The definition of quitgui() is:

        PROC quitgui(ret=0) IS Throw("QUIT",ret)

Try this instead of raising ERR_NONE (which I'm guessing is zero).

Cheers!

- --
The conundrum for today is "arctpenyr".
Your numbers are 50, 3, 10, 3, 6 and 7.  The target value is 208.
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114
@endnode

@node ID27_5 "EasyGUI bug ? (ID27_5)"
Date: Mon, 20 Apr 1998 16:36:05 +0200 (MET DST)
From: szczepan@student.man.bialystok.pl ("Marcin Juszkiewicz
(Szczepan/BlaBla)")
Subject: Re: EasyGUI bug ?

- ->>  In my sample player I have GUI on EasyGUI with shortcuts. Button
"Quit"
- ->>has def:
- ->
- ->>[BUTTON,{gad_quit},'_Quit',....,"q",FALSE]
- ->
- ->>PROC gad_quit()
- ->> Raise(ERR_NONE)
- ->>ENDPROC
- ->>When I press gadget all is OK.
- ->>When I press "q" key there is none.. no effect...
- ->
- ->Are you Raising a 0 (ie, is ERR_NONE = 0)? I once faced this problem and
- ->found that, when using the keyboard shotcut, Raise(0) doesn't quit the
Gui
- ->(you can check that gad_quit() is being called by using edbg or
inserting a
- ->PrintF()).

 OK. I changed it to ERR_EXIT (<>NIL) and it works now. Try it :
Aminet:mus/play/2b_bsp.lha.

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@student.man.bialystok.pl http://student.man.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode

@node ID27_6 "EasyGUI bug ? (ID27_6)"
From: merlin@thule.no (Eric Sauvageau)
Date: Tue, 21 Apr 1998 16:16:45 +0500
Subject: Re: EasyGUI bug ?

On Tue, 21 Apr 1998, we received a letter from  about 'Re: EasyGUI bug ?':

>  ->>  When I press gadget all is OK.
>  ->>  When I press "q" key there is none.. no effect...
>  ->>
>
>  ->Have you told your window you wanted IDCMP_RAWKEY (or is it VANILLAKEY
>  ->with gadtools?
>
>  No.. other shortcuts works but "q" = Quit not work.. why ?

Humm...  Make sure you didn't used the same shortcut key for another
gadget (happened to me more than once :).  Try also using a different
shortcut key just to see what happens.

... Worf: Screw the prime directive, Sir. I say give the Borg Windows95.

- --
===--- - - -
  Eric Sauvageau    http://www.thule.no/~merlin/    merlin@thule.no
  Amiga wizard known as Merlin, casting with E runes, resulting in:
      DevsMan - MFormat - NewIcons4 - SysInspector - XPKatana
- - - - ---===

@endnode



@node ID28_0 "What is :: ? (ID28_0)"
Date: Sat, 18 Apr 1998 11:14:50 +0200
From: gamboni@fastnet.ch (Jacques Gamboni)
Subject: What is :: ?

Hi,
I have found the '::' symbol in some sources. Could someone say me what
it means?
It was just after a variable name, like x::y .
I did not find it in the documentation (maybe I didn't search
correctely?)

                                                Maxime

@endnode

@node ID28_1 "What is :: ? (ID28_1)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Sat, 18 Apr 1998 13:15:29 +0500
Subject: Re: What is :: ?

On 18-Apr-98,  Jacques Gamboni wrote:
JG> Hi,
JG> I have found the '::' symbol in some sources. Could someone say me what
JG> it means?
JG> It was just after a variable name, like x::y .
JG> I did not find it in the documentation (maybe I didn't search
JG> correctely?)

Look in E.guide, Under "Pointer Typing".  Suffice to say that it is for
changing the type of something (Like type casting).

- --

CU
Dobes

I would have promised those terrorists a trip to Disneyland if it would
have gotten the hostages released.  I thank God they were satisfied with
the missiles and we didn't have to go to that extreme.
 -- Oliver North

@endnode



@node ID29_0 "PubScreens (ID29_0)"
From: hb4jesus@cheerful.com (David =?iso-8859-1?Q?Lidstr=F6m?=)
Date: Sun, 19 Apr 1998 21:13:05 +0100
Subject: PubScreens

Dear List brothers and sisters (?)

I need to make a list of the currently open Public Screens.
I did (after a long time of searching) find the file PUB.e at
Internet (check below) but it doesn't work!

Somehow the following code causes a fat Guru :(

- - start of code PUB.e -
  MODULE  'exec/lists',
  'exec/nodes'

  DEF plo, pli:PTR TO lh,  psn:PTR TO ln

PROC main()
   pli:= LockPubScreenList()

   psn:= pli.head

   WHILE psn.succ <> NIL
       WriteF('\s\n',psn.name)
       psn:=psn.succ
   ENDWHILE

UnlockPubScreenList()
ENDPROC
- - end of code-

I have really NO IDEA how to solve it, I don't
know why the Guru :O comes...
so I REALLY would appreciate your help.

Thank you in advance

@endnode

@node ID29_1 "PubScreens (ID29_1)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Mon, 20 Apr 1998 00:23:51 +0500
Subject: Re: PubScreens

On 20-Apr-98,  David Lidstr=F6m wrote:
DL> Dear List brothers and sisters (?)

DL> Somehow the following code causes a fat Guru :(

What is the Guru #?
- -- =

CU
Dobes

IOT trap - mos dumped

@endnode

@node ID29_2 "PubScreens (ID29_2)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Mon, 20 Apr 1998 00:26:21 +0500
Subject: Re: PubScreens

On 20-Apr-98,  David Lidstr=F6m wrote:
DL> Dear List brothers and sisters (?)

DL> Somehow the following code causes a fat Guru :(

DL>    WHILE psn.succ <> NIL
DL>        WriteF('\s\n',psn.name)
DL>        psn:=3Dpsn.succ
DL>    ENDWHILE

I checked the docs...  You can't write to the screen when the PubScreen l=
ist
is locked, or you will crash.  You ust make a COPY of the list, and then
output it.

- -- =

CU
Dobes

IOT trap - mos dumped

@endnode



@node ID30_0 "Seek() in a console|Enforcerhits (ID30_0)"
From: deniil@algonet.se (Daniel Westerberg)
Date: Sun, 19 Apr 1998 21:58:28 +0100
Subject: Seek() in a console|Enforcerhits

Hi there!

I've been trying to make a backup of the last x number of bytes outputted
to a console, but I don't really know how :(

This is a piece of code so that you know what I'm talking about:

 -> This doesn't work..
 IF fh:=Open('CON:',OLDFILE)
  -> output something to the console with f.ex. WriteF()..
  Seek(fh,-x,0)
  Read(fh,a,x)
  -> maybe output some more..
  Close(fh)
 ENDIF

I have tried to SetMode(fh,1) before Seek()/Read() but that doesn't help.

This will be used in my E-developertool DECH so it's not only my program
that will output things to the console which might be interesting to know!

If anyone have an idea I would be very glad to know :-)

- --
Another thing I must ask is what enforcerhits is!

This following code-fragment causes enforcerhits I think. Anyway, I get
enforcerhits as soon as one of theese EasyGUIs is opened and the window is
active. They don't contain any plugins!

 sel:=Wait(mask)
 ...
 ELSEIF sel=gh.sig
  IF guimessage(gh)=0
   mask:=mask AND Not(gh.sig)
   cleangui(gh)
  ENDIF
 ELSEIF sel=gho.sig
  IF guimessage(gho)=0
   mask:=mask AND Not(gho.sig)
   cleangui(gho)
  ENDIF
 ELSEIF
 ...

There are other windows in this "ELSEIF"-list to but they are not causing
any problem! BTW, the program I'm talking about is DECH ones again ;) so
if you use it you could try opening the prefs or fileselector-window..
If you don't have it..: dev/e/DECH.lha

I can't prevent the enf.hits without knowing what's causing them and how :(

I'm happy for an answer!

- --
All greetings from:
    Deniil 715! - AmigaPower Rulez forever and ever.. . .  .   .

@endnode

@node ID30_1 "Seek() in a console|Enforcerhits (ID30_1)"
Date: Sun, 19 Apr 1998 22:10:52 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: Seek() in a console|Enforcerhits

On Sun, 19 Apr 1998, Daniel Westerberg wrote:

=>I've been trying to make a backup of the last x number of bytes outputted
=>to a console, but I don't really know how :(

I don't really believe a console would support seeking. The only thing you
could do is write a simple dos-handler then make programs write to you, you
could then pass that data on to another handler. (I think, there is a source
in C for a TEE: handler? TEE: writes data to the console and also makes a
copy
in another file)

Take it to the bridge, throw it overboard.
See if it can swim back onto the shore.
Noone's in the house, everybody's out.
All the lights are on and the blinds are down.

@endnode

@node ID30_2 "Seek() in a console|Enforcerhits (ID30_2)"
From: kolo8@ely.pg.gda.pl (Piotr Gapinski)
Date: Sun, 19 Apr 1998 23:14:50 +0100
Subject: Re: Seek() in a console|Enforcerhits

Dnia 19-Kwi-98, Stuart Caie \(kyz\) napisa=EE(a):

>could then pass that data on to another handler. (I think, there is a so=
urce
>in C for a TEE: handler? TEE: writes data to the console and also makes =
a
copy
>in another file)

Try enforcer-handler from aminet

 Pozdrawiam,
- -----///-----------------------
 Piotr Gapinski
 mailto: kolo8@ely.pg.gda.pl

@endnode

@node ID30_3 "Seek() in a console|Enforcerhits (ID30_3)"
From: deniil@algonet.se (Daniel Westerberg)
Date: Tue, 21 Apr 1998 02:08:34 +0100
Subject: Re: Seek() in a console|Enforcerhits

On 19-Apr-98, Stuart Caie \(kyz\) wrote:
>On Sun, 19 Apr 1998, Daniel Westerberg wrote:

>=>I've been trying to make a backup of the last x number of bytes outputted
>=>to a console, but I don't really know how :(

>I don't really believe a console would support seeking. The only thing you
>could do is write a simple dos-handler then make programs write to you, you
>could then pass that data on to another handler. (I think, there is a
source
>in C for a TEE: handler? TEE: writes data to the console and also makes a
copy
>in another file)

Cool!
Will try something like that!
Thanx!

- --
All greetings from:
    Deniil 715! - AmigaPower Rulez forever and ever.. . .  .   .

@endnode



@node ID31_0 "How do I do? (ID31_0)"
From: samwel@algonet.se (Harry Samwel)
Date: Sun, 19 Apr 1998 22:01:59 GMT+1
Subject: How do I do?

Hello all,

I have a small problem..  Maybe you all could help me with?

How do I set LONG variables in a local PROC and get the RIGHT values
back to the original PROC???
This is an example of how I do it now, which gives me strange numbers :(

PROC main()
DEF ananas,banana,kiwi,teststr[10]:STRING
   test(ananas,banana,kiwi)
   StringF(teststr,'\d \d \d',ananas,banana,kiwi)
ENDPROC

PROC test(ananas,banana,kiwi)
   ananas:=1
   banana:=2
   kiwi:=3
ENDPROC

@endnode

@node ID31_1 "How do I do? (ID31_1)"
From: kolo8@ely.pg.gda.pl (Piotr Gapinski)
Date: Sun, 19 Apr 1998 22:06:22 +0100
Subject: Re: How do I do?

Dnia 19-Kwi-98, Harry Samwel napisa=EE(a):
>Hello all,

>How do I set LONG variables in a local PROC and get the RIGHT values
>back to the original PROC???

try setting vars via reference addr  like in this example

PROC main()
DEF ananas,banana,kiwi,teststr[10]:STRING
   test({ananas},{banana},{kiwi})
   StringF(teststr,'\d \d \d',ananas,banana,kiwi)
ENDPROC

PROC test(ananas,banana,kiwi)
   ^ananas:=3D1
   ^banana:=3D2
   ^kiwi:=3D3
ENDPROC

- -- =

 Pozdrawiam,
- -----///-----------------------
 Piotr Gapinski
 mailto: kolo8@ely.pg.gda.pl

@endnode

@node ID31_2 "How do I do? (ID31_2)"
From: merlin@thule.no (Eric Sauvageau)
Date: Tue, 21 Apr 1998 16:23:46 +0500
Subject: Re: How do I do?

On Tue, 21 Apr 1998, we received a letter from  about 'How do I do?':

>  Hello all,
>
>  I have a small problem..  Maybe you all could help me with?
>
>  How do I set LONG variables in a local PROC and get the RIGHT values
>  back to the original PROC???
>  This is an example of how I do it now, which gives me strange numbers :(
>
>
>  PROC main()
>  DEF ananas,banana,kiwi,teststr[10]:STRING
>     test(ananas,banana,kiwi)
>     StringF(teststr,'\d \d \d',ananas,banana,kiwi)
>  ENDPROC
>
>  PROC test(ananas,banana,kiwi)
>     ananas:=1
>     banana:=2
>     kiwi:=3
>  ENDPROC

E supports upto 3 return values.

PROC main()
DEF a,b,k,str[10]:STRING
 a,b,k := test()
 StringF(str,'\d \d \d',a,b,k)
ENDPROC

PROC test()
DEF a2,b2,k2
  a2 := 1
  b2 := 2
  k2 := 3
ENDPROC a2, b2, k2

Or else, you'll have to either pass a pointer to a structure or array to be
filled,
or (the less elegant method) to pass the address of your vars.

... The great windows benchmark at CES - Dealing solitaire cards

- --
===--- - - -
  Eric Sauvageau    http://www.thule.no/~merlin/    merlin@thule.no
  Amiga wizard known as Merlin, casting with E runes, resulting in:
      DevsMan - MFormat - NewIcons4 - SysInspector - XPKatana
- - - - ---===

@endnode



@node ID32_0 "Still binary file problem... (ID32_0)"
Date: Mon, 20 Apr 1998 11:37:12 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: Still binary file problem...

On Wed, 25 Mar 1998, Mark Marques wrote:

=>Despite the fact that with the help of the previous Emails I solved my
=>initial problem I still have some difficulty regarding the same problem
with
=>a binary file...
=>How can I avoid the use of the Char() function to get a letter one by one
=>and then make an Array of Char, to "simulate" a string ?

Well, you don't need to. Memory can be accessed directly as an array of
char,
that is what a pointer to char is - it points at an 'array', and you can go
one
forward in the array using '++' and one back in the array with '--'.

Try this:

PROC main()
  DEF buf:PTR TO CHAR, char
  buf:=' A test\n ';
  WHILE char:=buf[]++ DO WriteF(char)
ENDPROC

This is a compact little thing, I'll explain it a little.

Basically, 'buf' tells the computer where something is, in this case where
some text is held. The 'value' of buf is a pointer. We use the string
constructor (quotes - much as square brackets are the list constructor)
to generate a static string in the executable, and we put a pointer to it
into
the variable 'buf'.

We interpret it as a pointer, and get what it points to (rather than the
pointer itself) by using the '[]' operator. The '++' adds the size of one
CHAR to buf because we  declared it as PTR TO CHAR. (note: the data it
points
to is left alone, it is the pointer that gets the '++')

Even though we are getting a CHAR from memory, E expands it to a whole LONG
value. The single character "A" expands to $00000041. Therefore, the
end-of-string null byte goes into char as NIL ($00000000).

The WHILE loop ends when it gets a zero - when buf[] is at the end of the
string.

In other (lesser ;) languages, strings and numbers are considered as direct
values. In E, we can only represent at most 4 bytes. Therefore, to represent
more than that, we allocate some of the computer's memory and use 4 bytes as
a
32bit pointer to that memory. Whenever we reference a structure, object or
string, we have to do so through the 32bit value of the pointer. We can do
maths on the pointer, to move it up and down and into random positions of
lists, arrays, objects, strings ....

=>The other problem is regarding StringF(), It works once but at the second
=>call it does not write in the correct Estring ...
=>Example: StringF(a,'\c',buffer[11])
=>         WriteF('\c', a)  ---> in this case should appear an "D" in the

In this case, 'a' is not a 'value', but a 'pointer' - '\c' wants a 'value'
from 0 to 255 to turn into a character. It gets a 32-bit pointer instead.
E can't warn you about these 'mismatches'.

WriteF('\c', buffer[11]) is indeed the correct way to do it. We are
dereferencing the pointer and getting a value for the '\c' placeholder.

Also, your example would work with a tweak to the WriteF()  (the StringF()
is
fine, as long as 'a' is a STRING, not just PTR TO CHAR)

StringF(a, '\c', buffer[11])
WriteF('\s', a)

or even just

WriteF(a)

=>stdout, but what appears is an "0" ...
=> Of course buffer is a Binary file...

What would be really useful is to tell us the grand plan of what you are
attempting....

=>How can I convert Hex codes to ASCII ?

To convert numbers to an ASCII hexadecimal representation, just use the
'\h' placeholder in StringF() and WriteF()

To convert ASCII hexadecimal representations into numbers, use this handy
module:

; val,ok:=hex('hex number')

; will read a string containing text representing a hexadecimal value,
; which can start with '$' or '0x' if it wants.
; terminates reading the string on end of line or space ("\0", "\n" or " ")
; or after reading 8 digits, or on an invalid character.

; 'val' is the 32bit value of the hex number

; 'ok' is true if the string was valid (ie there were no invalid characters
; in the string). If there are invalid characters, 'ok' is false

               Name: hex.m
   hex.m       Type: unspecified type (application/octet-stream)
           Encoding: x-uuencode

kyz

Ich werde umgehauen; Doch ich stehe wieder auf; Ihr werdet mich nicht
unterkriegen. Er trinkt einen Whisky; Er trinkt einen Wodka; Er trinkt ein
Lager; Er trinkt ein Cider. Er singt die Lieder, die ihn; An die guten
Zeiten
erinnern.

@endnode



@node ID33_0 "(E-Mail Wouter) was PPC with E (ID33_0)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Tue, 21 Apr 1998 05:42:07 +0500
Subject: Re: (E-Mail Wouter) was PPC with E

On 21-Apr-98,  Frank Dietrich wrote:
FD> Du schriebst am 08.04.98

Try:

W.V.Oortmerssen@ecs.soton.ac.uk

FD> I can not reach Wouter.

- --

CU
Dobes

If a person (a) is poorly, (b) receives treatment intended to make him
better, and (c) gets better, then no power of reasoning known to medical
science can convince him that it may not have been the treatment that
restored his health.
 -- Sir Peter Medawar, The Art of the Soluble

@endnode



@node ID34_0 "Binary (ID34_0)"
Date: 21 Apr 98 08:12:02 +0100
From: a.milella@teseo.it ("Amedeo Milella")
Subject: Binary

Hi all,

I need to save a buffer in BINARY mode not in ASCII. Someone may send me an
example? Tnx

<tsb>

 Amedeo Milella - Amiga Group Italy (sez. Bari)
 AG Italia -> http://www.amyresource.it/AGI

 *DatAGI* Developer
 *AMPhone* Developer.

 mailto:a.milella@teseo.it

<tsb>

@endnode

@node ID34_1 "Binary (ID34_1)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Tue, 21 Apr 1998 13:04:45 +0500
Subject: Re: Binary

On 21-Apr-98,  Amedeo Milella wrote:
AM> Hi all,

AM> I need to save a buffer in BINARY mode not in ASCII. Someone may send me
an
AM> example? Tnx

DEF foo, bar:PTR TO barobj

- -> Write foo
Write(file, {foo}, 4)
- -> Write bat
Write(file, bar, SIZEOF barobj)

Wow!

Remeber that pointers are not converted in your structs, and make sure you
design any file formatting carefully before you start coding.

- --

CU
Dobes

If you ask how much it is, you can't afford it.

@endnode



@node ID35_0 "Datatypes (ID35_0)"
From: GIMBO@pulse-service.co.uk (Gimbo In Limbo)
Date: Tue, 21 Apr 1998 16:47:11 +0000
Subject: Datatypes

Can anyone succinctly sum up the thinking behind datatypes for me?

I'm clueless as to their purpose. Hey, I'm clueless. :-)

Thanks!

Andy
- --
Marty:     So, when you're playing you feel like a preserved moose on stage?
Derek:     Yeah.

                                                -This is Spinal Tap

@endnode

@node ID35_1 "Datatypes (ID35_1)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Wed, 22 Apr 1998 05:12:26 +0500
Subject: Re: Datatypes

On 21-Apr-98,  Gimbo In Limbo wrote:
GIL> Can anyone succinctly sum up the thinking behind datatypes for me?

Here's the general idea:

You can divide files up into general categories; pictures, sounds,
animations,
etc.

For each of these categories, there are many different file formats (For
sounds: Sun AU, WAV, 8SVX, etc.)

Now, if you want to load one of these different formats, you might have to
write a seperate loader for each one, becuse they may use compression, they
may be 16-bit, they might use IFF, they might not.

Datatypes allow you to load ANY file from a category.  If you want to load a
sound, you tell it: "Get me a SOUND from the file."  Then you can say, "Play
that sound."  And when you're done, you say "Free all the memory for that
sound!".

Anyway, that's the high-level breakdown.  The rest are details, which would
be
a waste of bandwidth.  If you want to program with/for datatypes, RTFM.

- --

CU
Dobes

If you don't watch it, you're going to catch something.

@endnode



@node ID36_0 "Debugging a sub-task (ID36_0)"
Date: Tue, 21 Apr 1998 20:16:19 +0200
From: gamboni@fastnet.ch (Jacques Gamboni)
Subject: Debugging a sub-task

Hello,
I've tried to write a program like the "subtask" demo of MUI, using its
source code, but there are crashes.

Question: How can I do outputs from a task that is NOT a process? (-> So
WriteF() does not work)
(So I could output the state of a variable at different states, for
example)

or: Is it possible to execute a sub task step by step (EDBG) ?

                                                                Maxime

PS: I do not intend to start Assembly programming, but just to
understand the source: what is the BRA command? I understood it is like
a JUMP  (BRA exit), but do not see any difference..

@endnode

@node ID36_1 "Debugging a sub-task (ID36_1)"
Date: Tue, 21 Apr 1998 19:37:29 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: Debugging a sub-task

On Tue, 21 Apr 1998, Jacques Gamboni wrote:

=>(So I could output the state of a variable at different states, for
=>example)

The best thing you could do is use Sushi or other 'Sushi-like' debugging
capture tools, then use the kprintf() function of 'tools/debug.m' module -
this can be called at any time from anywhere.

=>or: Is it possible to execute a sub task step by step (EDBG) ?

Not likely. As I see it, EDBG only runs one task. Also, it fills in all
the E code with the ILLEGAL instruction, for this very purpose. It makes
it impossible to use this code outside the E debugger, as it crashes at
every
line of code - no patches, interrupt handlers or subtasks can be debugged.

=>PS: I do not intend to start Assembly programming, but just to
=>understand the source: what is the BRA command? I understood it is like
=>a JUMP  (BRA exit), but do not see any difference..

There isn't! In the small code model, JUMP becomes BRA. In the large model,
it has to become JMP instead.

Actually, there is not really the BRA command, but the B<cc> command where
<cc> = RA  . That says 'branch here when condition is true - condition is
always true'.

Take it to the bridge, throw it overboard.
See if it can swim back onto the shore.
Noone's in the house, everybody's out.
All the lights are on and the blinds are down.

@endnode

@node ID36_2 "Debugging a sub-task (ID36_2)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Wed, 22 Apr 1998 05:16:58 +0500
Subject: Re: Debugging a sub-task

On 21-Apr-98,  Jacques Gamboni wrote:
JG> Hello,
JG> I've tried to write a program like the "subtask" demo of MUI, using its
JG> source code, but there are crashes.

JG> Question: How can I do outputs from a task that is NOT a process?

A trick that's worked well for me is to use requesters (EasyRequest).  It's
quite flexible, and acts as a breakpoint as well.  If you don't want to stop
execution, but still output, you will have to create a message port, and
send
messages to another program.  You could actually send messages to RexxMast,
and tell it to output your output, if you knew how to use AREXX ports/hosts
well (don't ask me; I am nearly clueless).

JG> or: Is it possible to execute a sub task step by step (EDBG) ?

Not using EDBG, unfortunately.

JG> understand the source: what is the BRA command? I understood it is like
JG> a JUMP  (BRA exit), but do not see any difference..

There isn't any, as far as I know.

- --

CU
Dobes

If you don't watch it, you're going to catch something.

@endnode

@node ID36_3 "Debugging a sub-task (ID36_3)"
From: misha@friko2.onet.pl (Michal Durys)
Date: Fri, 24 Apr 1998 19:55:11 +0100
Subject: Re: Debugging a sub-task

On 22-Kwi-98 Dobes Vandermeer generated such output:
>> Question: How can I do outputs from a task that is NOT a process?

> A trick that's worked well for me is to use requesters (EasyRequest).
It's
> quite flexible, and acts as a breakpoint as well.  If you don't want
to stop
> execution, but still output, you will have to create a message port,
and send
>[cut]

Always try to use as simple solutions as possible (but not simpler).
In this case I advise you to open a console window, set it as standart
input using SetStdIn() and use plain PrintF() to display messages. If
you want you can open a file instead of a console window and save all
messages in this file (still usinf PrintF()).

>> understand the source: what is the BRA command? I understood it is
like
>> a JUMP  (BRA exit), but do not see any difference..

> There isn't any, as far as I know.

The difference is that JUMP is a instruction of E itself and BRA is
a assembler instruction. The next difference is that if you use BRA
you will have to change it to corresponding instruction when you
compile your source under PPC (if E PPC ever appears), what would be
not needed if you use JUMP.

- --
 +-Misha/El Condor Software-------------misha@friko2.onet.pl
 | A1200T / '040 / 34 MB RAM / 850 MB HDD / 4x CD / USR 33.6
 +--------------Life starts at '030, impotence starts at '86

@endnode

@node ID36_4 "Debugging a sub-task (ID36_4)"
Date: Sat, 25 Apr 1998 15:04:37 +0200
From: gamboni@fastnet.ch (Jacques Gamboni)
Subject: Re: Debugging a sub-task

Michal Durys wrote:

> Always try to use as simple solutions as possible (but not simpler).
> In this case I advise you to open a console window, set it as standart
> input using SetStdIn() and use plain PrintF() to display messages. If
> you want you can open a file instead of a console window and save all
> messages in this file (still usinf PrintF()).

Is it legal to use such commands from a non-process task? I thought that
there was some more memory allocated when using a process (task structure
vs amigaDOS process structure), to save informations like this. So when
using SetStdIn() or SetStdOut(), wouldn't it cause problems?

About Sushi, they say that it reads the output to the serial port and
prints it on the screen, like any PrintF() function. But I do not find any
KprintF() function, neither any debug.m module?

                                                Maxime

@endnode

@node ID36_5 "Debugging a sub-task (ID36_5)"
From: merlin@thule.no (Eric Sauvageau)
Date: Sat, 25 Apr 1998 15:22:24 +0500
Subject: Re: Debugging a sub-task

On Sat, 25 Apr 1998, we received a letter from  about 'Re: Debugging a
sub-task':

>  Is it legal to use such commands from a non-process task? I thought that
>  there was some more memory allocated when using a process (task structure
>  vs amigaDOS process structure), to save informations like this. So when
>  using SetStdIn() or SetStdOut(), wouldn't it cause problems?
>
>  About Sushi, they say that it reads the output to the serial port and
>  prints it on the screen, like any PrintF() function. But I do not find
any
>  KprintF() function, neither any debug.m module?

You can't use PrintF() from a task.  kprintf() is in amigalib/debug.m, that
module
is available separately in some RKM example archive on Aminet before E 3.3a,
it
was integrated to the archive at that time.

... Integer maths - it's all so pointless...

- --
===--- - - -
  Eric Sauvageau    http://www.thule.no/~merlin/    merlin@thule.no
  Amiga wizard known as Merlin, casting with E runes, resulting in:
      DevsMan - MFormat - NewIcons4 - SysInspector - XPKatana
- - - - ---===

@endnode

@node ID36_6 "Debugging a sub-task (ID36_6)"
Date: Sun, 26 Apr 1998 01:42:34 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: Debugging a sub-task

On Sat, 25 Apr 1998, Jacques Gamboni wrote:

=>Is it legal to use such commands from a non-process task?

No. dos.library is off-limits to non-processes. There are only a very small
number of calls allowable from tasks. (they say so in their autodocs)

=>KprintF() function, neither any debug.m module?

tools/debug.m
kprintf()

Take it to the bridge, throw it overboard.
See if it can swim back onto the shore.
Noone's in the house, everybody's out.
All the lights are on and the blinds are down.

@endnode



@node ID37_0 "How to check if file exists (ID37_0)"
Date: 21 Apr 98 20:37:48 +0200
From: savel@kaunas.omnitel.net (Levas)
Subject: How to check if file exists

Hi,

I want to warn user of the program about overwriting. What is the shortest
and
quickest way to check if the file exists. (Short sample, please :))

Bye, Levas
- --
<tsb>Amiga? Amiga... Amiga!
- -- e-mail:savel@kaunas.omnitel.net - http://www1.omnitel.net/savel --

He was so narrow-minded he could see through a keyhole with two eyes.

@endnode

@node ID37_1 "How to check if file exists (ID37_1)"
Date: Tue, 21 Apr 1998 21:02:39 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: How to check if file exists

On 21 Apr 1998, Levas wrote:

=>I want to warn user of the program about overwriting. What is the shortest
and
=>quickest way to check if the file exists. (Short sample, please :))

Basically, check with FileLength() if the size of the file is more than
zero.
Zero length files are empty, and non-existant files return negative number.

myfile:='S:startup-sequence'

IF FileLength(myfile) > 0
  WriteF('this file already exists!\n')
ENDIF

Take it to the bridge, throw it overboard.
See if it can swim back onto the shore.
Noone's in the house, everybody's out.
All the lights are on and the blinds are down.

@endnode

@node ID37_2 "How to check if file exists (ID37_2)"
From: merlin@thule.no (Eric Sauvageau)
Date: Tue, 21 Apr 1998 16:28:56 +0500
Subject: Re: How to check if file exists

On Tue, 21 Apr 1998, we received a letter from  about 'How to check if file
exists':

>  Hi,
>
>  I want to warn user of the program about overwriting. What is the
shortest and
>  quickest way to check if the file exists. (Short sample, please :))

PROC fileExist(name:PTR TO CHAR)
DEF tmplock

   IF (tmplock := Lock(name,ACCESS_READ))
      UnLock(tmplock)
      RETURN TRUE
   ENDIF

ENDPROC FALSE

This function will return TRUE if the file exists.

IF fileExist(myfile)
   /* your requester code asking if you must overwrite or not */
ENDIF

... Strike any user to continue.

- --
===--- - - -
  Eric Sauvageau    http://www.thule.no/~merlin/    merlin@thule.no
  Amiga wizard known as Merlin, casting with E runes, resulting in:
      DevsMan - MFormat - NewIcons4 - SysInspector - XPKatana
- - - - ---===

@endnode

@node ID37_3 "How to check if file exists (ID37_3)"
Date: Wed, 22 Apr 1998 09:06:56 +0100 (BST)
From: jason@fsel.com (Jason Hulance)
Subject: Re: How to check if file exists

Eric Sauvageau <merlin@thule.no> quoted and wrote:

> On Tue, 21 Apr 1998, we received a letter from about 'How to check if
> file exists':
>
> >  Hi,
> >
> >  I want to warn user of the program about overwriting. What is the
shortest and
> >  quickest way to check if the file exists. (Short sample, please :))
>
> PROC fileExist(name:PTR TO CHAR)
> DEF tmplock
>
>    IF (tmplock := Lock(name,ACCESS_READ))
>       UnLock(tmplock)
>       RETURN TRUE
>    ENDIF
>
> ENDPROC FALSE
>
> This function will return TRUE if the file exists.
>
>
> IF fileExist(myfile)
>    /* your requester code asking if you must overwrite or not */
> ENDIF

We've been through this before, haven't we?  Yes, Lock()ing is about the
best way of doing things, but you get no guarantees:

 a) The file may already be Lock()ed with ACCESS_WRITE, in which case
    your Lock() for ACCESS_READ will fail.  There are other reasons why
    the Lock() might fail, too.  Couple this with b) and you have a
    potential (albeit unlikely) problem.  It all depends on how sure you
    need to be...
 b) You probably can't make the Lock() persist while you decide to write
    stuff, so you're not guaranteed your writes will succeed or that the
    file will not be deleted in between times.  On the other hand, the
    file may come into existence just after your Lock() test and just
    before you start writing to it.  If it's critical to be sure, then
    you're out of luck...

Minor points, but you need to be aware of them, at least.

Cheers!

- --
The conundrum for today is "vteaporea".
Your numbers are 50, 5, 2, 1, 6 and 7.  The target value is 431.
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114
@endnode

@node ID37_4 "How to check if file exists (ID37_4)"
Date: Wed, 22 Apr 1998 09:57:43 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: How to check if file exists

On Wed, 22 Apr 1998, Jason Hulance wrote:

=>We've been through this before, haven't we?  Yes, Lock()ing is about the
=>best way of doing things, but you get no guarantees:
[...]
=>    If it's critical to be sure, then
=>    you're out of luck...

Well, the original poster wanted just to warn the user that the file
already existed. If the file comes into being on the way from fileExists()
to
writeFile(), or is already in use, the user probably knows this anyway.
Certainly, an errorrequester if the file can't be written would be good,
Preferably if it prints the DOS fault -

RAISE "MEM" IF String()=NIL
PROC error(header=NIL)
  -> returns Estring copy of DOS Fault. Can prepend header.
  DEF x
  SetStr(x:=String(StrLen(header) + FAULT_MAX + 2),
    Fault(IoErr(), header, x, StrMax(x))
  )
ENDPROC x

Anyway, as for getting a file size _and_ being able to guarantee
exclusive access to the file, you could do something like this:

IF fh := Open(filename, MODE_READWRITE)
  Seek(fh, 0, OFFSET_END)
  filesize := Seek(fh, 0, OFFSET_BEGINNING)
[...]
  Close(fh)
ELSE
  filesize := -1
ENDIF

Take it to the bridge, throw it overboard.
See if it can swim back onto the shore.
Noone's in the house, everybody's out.
All the lights are on and the blinds are down.

@endnode

@node ID37_5 "How to check if file exists (ID37_5)"
From: frosetti@hotmail.com ("Fabio Rosetti")
Subject: Re: How to check if file exists
Date: Wed, 22 Apr 1998 02:22:45 PDT

>
>On 21 Apr 1998, Levas wrote:
>
>=>I want to warn user of the program about overwriting. What is the
shortest and
>=>quickest way to check if the file exists. (Short sample, please :))
>
>Basically, check with FileLength() if the size of the file is more than
zero.
>Zero length files are empty, and non-existant files return negative
number.
>
>myfile:='S:startup-sequence'
>
>IF FileLength(myfile) > 0
>  WriteF('this file already exists!\n')
>ENDIF
>
>

I always use Lock(). Like this:

PROC exists(filename)
DEF lock
IF lock:=Lock(filename,SHARED_LOCK)
    UnLock(lock)
    RETURN -1
ENDIF
ENDPROC 0

Happy programming!

Dennis

______________________________________________________
Get Your Private, Free Email at http://www.hotmail.com
@endnode

@node ID37_6 "How to check if file exists (ID37_6)"
From: merlin@thule.no (Eric Sauvageau)
Date: Wed, 22 Apr 1998 05:25:49 +0500
Subject: Re: How to check if file exists

On Wed, 22 Apr 1998, we received a letter from  about 'Re: How to check if
file
exists':

>  We've been through this before, haven't we?  Yes, Lock()ing is about the
>  best way of doing things, but you get no guarantees:
>
>   a) The file may already be Lock()ed with ACCESS_WRITE, in which case
>      your Lock() for ACCESS_READ will fail.  There are other reasons why
>      the Lock() might fail, too.  Couple this with b) and you have a
>      potential (albeit unlikely) problem.  It all depends on how sure you
>      need to be...
>   b) You probably can't make the Lock() persist while you decide to write
>      stuff, so you're not guaranteed your writes will succeed or that the
>      file will not be deleted in between times.  On the other hand, the
>      file may come into existence just after your Lock() test and just
>      before you start writing to it.  If it's critical to be sure, then
>      you're out of luck...

>  Minor points, but you need to be aware of them, at least.

Unless he'd be writing a filesystem or a very file I/O intensive program,
this
is very unlikely to cause any problem, as long he writes decent error
handling
code around his Open() call.

There's no 100% safe way short of obtaining exclusive access to the
filesystem,
which would be going totaly out of the way for a simple "File Exists.
Overwrite?"
requester :)

... IBM: [I] [B]lame [M]icrosoft

- --
===--- - - -
  Eric Sauvageau    http://www.thule.no/~merlin/    merlin@thule.no
  Amiga wizard known as Merlin, casting with E runes, resulting in:
      DevsMan - MFormat - NewIcons4 - SysInspector - XPKatana
- - - - ---===

@endnode



@node ID38_0 "Checking the size of picture by datatype (ID38_0)"
Date: 22 Apr 98 22:05:39 +0200
From: savel@kaunas.omnitel.net (Levas)
Subject: Checking the size of picture by datatype

Hi,

I want to check the size of picture by datatype. But with my code, JPEG
datatype decodes whole file. It is very slowly... How to speed up?

PROC checkdt(filename)
DEF  dto:PTR TO object,name,modeid=INVALID_ID,nomwidth,nomheight

 dto := NewDTObjectA(filename,TAG_DONE)
 GetDTAttrsA(dto,[DTA_OBJNAME,{name},
    DTA_NOMINALHORIZ,{nomwidth},
    DTA_NOMINALVERT,{nomheight},
    PDTA_MODEID,{modeid},
    TAG_DONE])

IF modeid=INVALID_ID
 nomwidth:=0
 nomheight:=0
ENDIF
 DisposeDTObject (dto)
ENDPROC nomwidth,nomheight

Bye, Levas
- --
<tsb>Amiga? Amiga... Amiga!
- -- e-mail:savel@kaunas.omnitel.net - http://www1.omnitel.net/savel --

FIRST LAW OF EXPERT ADVICE: Don't ask the barber whether you need a haircut.

@endnode

@node ID38_1 "Checking the size of picture by datatype (ID38_1)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Thu, 23 Apr 1998 01:52:03 +0500
Subject: Re: Checking the size of picture by datatype

On 23-Apr-98,  Levas wrote:
L> Hi,

L> I want to check the size of picture by datatype. But with my code, JPEG
L> datatype decodes whole file. It is very slowly... How to speed up?

You'll have to discuss this the JPEG datatype author.  He/she may know of a
way to skip decompression and just get the size.

- --

CU
Dobes

If you want to know how old a man is, ask his brother-in-law.

@endnode



@node ID39_0 "EasyGUIplus: CALL FOR SUBMISSIONS (ID39_0)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Fri, 24 Apr 1998 22:18:41 +0930
Subject: EasyGUIplus: CALL FOR SUBMISSIONS

As a method of explanation (and because I'm lazy) I'll snip something fro=
m
the mail I wrote to Jason to ask permission to set this up as a public
project...

[snip!]

I've been thinking of initiating an 'EasyGUIplus' project, in
which I'd maintain a set of different patches to the EasyGUI source, and =
provide
a version with all of them integrated, as well as the details on implemen=
ting
each of them described separately (in case people wanted to do this for a=
ny
reason -- maybe they would only want one new feature and would want to sa=
ve
space/code size). The main stipulation would be that no change could be m=
ade
which broke prior source code -- i.e. it could extend the EasyGUI API but=
 not
modify the currently existing one. This would mean that new tags to easyg=
uiA()
and new PROCs would probably be acceptable, but changing the args of curr=
ent
PROCs would not. (Code written for 'EasyGUIplus' would not work with Easy=
GUI,
of course, but that written for EasyGUI would still work OK when compiled=
 with
EasyGUIplus -- and may take advantage of more efficient functioning in th=
e
code.)

=2E....

I'd want this to be a cooperative effort, in the same way as EasyPLUGINs =
has
been.....

[end-snip!]

=2E.. and that's where the members of the list can join in! Fun, fun, fun=
 for
all the family!

Seriously, if anyone has modifications for EasyGUI that they've been usin=
g
privately, and that don't break the pre-existing API, why not send them t=
o me
for inclusion in this project? Fame, fortune and power(*) could be yours.=
=2E..

(*): Well, not really :)

- -- =

  Ali Graham     [  mailto:agraham@hal9000.net.au  ]
                 [ http://hal9000.net.au/~agraham/ ]

        CBM:    C64, Amiga
        Atari:  2600, Lynx    Sega:  MegaDrive

@endnode

@node ID39_1 "EasyGUIplus: CALL FOR SUBMISSIONS (ID39_1)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Sat, 25 Apr 1998 08:08:41 +0500
Subject: Re: EasyGUIplus: CALL FOR SUBMISSIONS

On 24-Apr-98,  Ali Graham wrote:

AG> Seriously, if anyone has modifications for EasyGUI that they've been
using
AG> privately, and that don't break the pre-existing API, why not send them
to
me
AG> for inclusion in this project? Fame, fortune and power(*) could be
yours....

Well, I was considering a change to the plugin system, but never wrote it
up.
Should I?

It wouldn't take long, I think.

- --

CU
Dobes

Iffen it ain't broke, don't fix it.

@endnode

@node ID39_2 "EasyGUIplus: CALL FOR SUBMISSIONS (ID39_2)"
From: glauschwuffel@amt.comlink.de (Gregor Goldbach)
Subject: Re: EasyGUIplus: CALL FOR SUBMISSIONS
Date: 24 Apr 1998 20:00:03 +0200

Hi Ali,

this is just a quick idea: I think it would be nice to move the
EasyPLUGIN package into normal EasyUI, i.e. don't write PLUGIN
all the time.

I don't know how to do this or if it can be done at all (haven't
played with EasyGUI too much lately), but I think it would be...
um... nice :)

  Gregor                                       Tel.: +49-(0)4173-511 267
@endnode

@node ID39_3 "EasyGUIplus: CALL FOR SUBMISSIONS (ID39_3)"
From: turrican@starbase.inka.de (Grundler Mathias)
Date: Sun, 26 Apr 1998 13:49:28 +0100
Subject: Re: EasyGUIplus: CALL FOR SUBMISSIONS

Am 24-Apr-98 schrieb Ali Graham:

>I've been thinking of initiating an 'EasyGUIplus' project, in
>which I'd maintain a set of different patches to the EasyGUI source, and
>provide

Have a look at the NewGUI-Package (in the AmiNet), there are a lot
of new Features and it is almost 90 % backwards-compatible!

>a version with all of them integrated, as well as the details on
implementing
>each of them described separately (in case people wanted to do this for any
>reason -- maybe they would only want one new feature and would want to save
>space/code size). The main stipulation would be that no change could be
made
>which broke prior source code -- i.e. it could extend the EasyGUI API but
not
>modify the currently existing one. This would mean that new tags to
easyguiA()
>and new PROCs would probably be acceptable, but changing the args of
current
>PROCs would not. (Code written for 'EasyGUIplus' would not work with
EasyGUI,
>of course, but that written for EasyGUI would still work OK when compiled
with
>EasyGUIplus -- and may take advantage of more efficient functioning in the
>code.)

Thats already done in NewGUI...

>Seriously, if anyone has modifications for EasyGUI that they've been using
>privately, and that don't break the pre-existing API, why not send them to
me
>for inclusion in this project? Fame, fortune and power(*) could be
yours....

In one or two weeks i will release an Update from NewGUI (NewGUI 3.1),
and there are a lot of new Features:
 - Extendet Plugin-Interface (with Drag 'N' Drop-Support!!!)
 - Bitmap-Filling and Pattern-Filling for Groups / Windows
 - Multi-Window-Handling
 - ARexx-Port
 - Automatic Screen-Opening (if it is wished)
 - Prefereces-Saving/loading and Window-Snapshoting!
 - Opens automatically a Font (Developers must only give the name and
   the Size) and closes at the end... for EVERY Window another Font is
   possible!
 - AmigaGUIDE-Online-Help for every active Gui-Element (Button, Text,
Plugins...)
 - Short-Cuts for every active Gui-Element (Button, Stringgads, Plugins...)
 - and much more...

Cu...:-)

- --
 ________                     ______
/__    __\ __________()_____ _\    / /\    turrican@starbase.inka.de
   \  //\/\\  _/\  _//\\ __//_\\   \/  \       THE DARK FRONTIER
    \//____\\/   \/ /__\\_//___\\/\_____\  Softwareentwicklung PD+Share

@endnode

@node ID39_4 "EasyGUIplus: CALL FOR SUBMISSIONS (ID39_4)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Mon, 27 Apr 1998 00:10:34 +0930
Subject: Re: EasyGUIplus: CALL FOR SUBMISSIONS

On 25-Apr-98, someone (I think it was Gregor Goldbach) might have written:
GG> Hi Ali,
GG>
GG> this is just a quick idea: I think it would be nice to move the
GG> EasyPLUGIN package into normal EasyUI, i.e. don't write PLUGIN
GG> all the time.
GG>
GG> I don't know how to do this or if it can be done at all (haven't
GG> played with EasyGUI too much lately), but I think it would be...
GG> um... nice :)
GG>

Hmmm... the problem with that is that a lot of that functionality
doesn't really need to be compiled into the EasyGUI source itself,
as it would just add unnecessary bloat to most people's projects.

There are a few PLUGINs -- my text_plugin (and a bar_plugin that
will be in the next version) which I could convert/include as
replacements for the functionality which already exists, as they
could then offer more for people writing new source for EasyGUIplus,
and using the new set()/get() methods with the appropriate tags...
but that will have to wait for the provision of all of that supporting
code framework to be written first.

I must go through and clean up that source code into something readable :)
Too closely spaced for my eyes...

- --

  Ali Graham     [  mailto:agraham@hal9000.net.au  ]
                 [ http://hal9000.net.au/~agraham/ ]

        CBM:    C64, Amiga
        Atari:  2600, Lynx    Sega:  MegaDrive

@endnode

@node ID39_5 "EasyGUIplus: CALL FOR SUBMISSIONS (ID39_5)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Mon, 27 Apr 1998 00:15:20 +0930
Subject: Re: EasyGUIplus: CALL FOR SUBMISSIONS

On 26-Apr-98, someone (I think it was Grundler Mathias) might have written:
GM> Am 24-Apr-98 schrieb Ali Graham:
GM>
GM> > I've been thinking of initiating an 'EasyGUIplus' project, in
GM> > which I'd maintain a set of different patches to the EasyGUI source,
and
GM> > provide
GM>
GM> Have a look at the NewGUI-Package (in the AmiNet), there are a lot
GM> of new Features and it is almost 90 % backwards-compatible!

I'm aiming for 100% :) and I'm hoping to collate a group project, not just
write it all myself.

Does NewGUI come with all source code? I'm hoping to provide something that
people may want to only take something from, and work into their own private
'EasyGUI-knockoffs'... and then contribute to the project as well. I feel
uneasy using linked code that I don't have the source to -- just a personal
thing, but I like to write my code *my* way :)

- --

  Ali Graham     [  mailto:agraham@hal9000.net.au  ]
                 [ http://hal9000.net.au/~agraham/ ]

        CBM:    C64, Amiga
        Atari:  2600, Lynx    Sega:  MegaDrive

@endnode

@node ID39_6 "EasyGUIplus: CALL FOR SUBMISSIONS (ID39_6)"
Date: Mon, 27 Apr 1998 10:11:58 +0200 (MET DST)
From: szczepan@student.man.bialystok.pl ("Marcin Juszkiewicz
(Szczepan/BlaBla)")
Subject: Re: EasyGUIplus: CALL FOR SUBMISSIONS

On Sun, 26 Apr 1998, Grundler Mathias wrote:

- ->and there are a lot of new Features:
[cutted]
What about English doc ? I downloaded newgui.lha and saw only deutsch doc
so it was unusable for me.

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@student.man.bialystok.pl http://student.man.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode

@node ID39_7 "EasyGUIplus: CALL FOR SUBMISSIONS (ID39_7)"
From: turrican@starbase.inka.de (Grundler Mathias)
Date: Mon, 27 Apr 1998 11:26:55 +0100
Subject: Re: EasyGUIplus: CALL FOR SUBMISSIONS

Am 27-Apr-98 schrieb Marcin Juszkiewicz \(Szczepan/BlaBla\):

>On Sun, 26 Apr 1998, Grundler Mathias wrote:

>What about English doc ? I downloaded newgui.lha and saw only deutsch doc
>so it was unusable for me.

This Release was only a Pre-Release, because a lot of People
wanted to have a look at NewGUI and i was sad to send evrybody
a copy from the Modul, so i had compiled a small Package...

In a month there will come out new Docs (English and German) with
new Style (AmigaGUIDE and Autodoc-Format) which are complete and
handles all the Functions...

Sorry for that, but i am learning for my ABI (German Abitur-Exam) for
School, so i havn`t enaugh time... but in 2 or 3 weeks it gets better!

BTW: I will send another Pre-Release (3.1) into the AmiNet (with a
     minimal English-Doc ans a lot of new Features) because i get really
     much Emails subjecting the NewGUI-Project with many Wishes
     and Sources which i should add!)
     The most important new Features are Drag N Drop and Preferences-
     saving, and much easier Handling with the Tags!

- --
 ________                     ______
/__    __\ __________()_____ _\    / /\    turrican@starbase.inka.de
   \  //\/\\  _/\  _//\\ __//_\\   \/  \       THE DARK FRONTIER
    \//____\\/   \/ /__\\_//___\\/\_____\  Softwareentwicklung PD+Share

@endnode



@node ID40_0 "EasyPLUGINs: CALL FOR SUBMISSIONS (ID40_0)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Fri, 24 Apr 1998 22:25:30 +0930
Subject: EasyPLUGINs: CALL FOR SUBMISSIONS

The topic line should be self-explanatory; check out EasyPLUGINs.lha
in dev/e on Aminet if you don't know what I'm referring to.

It's been a bit silent on the PLUGIN front recently, so I thought I'd
issue this rousing call to arms...

BTW, if anyone has any ideas about extensions to the PLUGIN format that
could be implemented without harming the current API, and the PLUGINs
and programs that depend on that API, get in touch with me.

If the EasyGUIplus project extends PLUGIN functionality at all, then
EasyPLUGINs may well be changed to compile against those modules instead...
but this is a litlle way off in the future at the moment.

- --

  Ali Graham     [  mailto:agraham@hal9000.net.au  ]
                 [ http://hal9000.net.au/~agraham/ ]

        _CBM_:    C64, Amiga
        _Atari_:  2600, Lynx    _Sega_:  MegaDrive

@endnode

@node ID40_1 "EasyPLUGINs: CALL FOR SUBMISSIONS (ID40_1)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Sat, 25 Apr 1998 08:15:53 +0500
Subject: Re: EasyPLUGINs: CALL FOR SUBMISSIONS

On 24-Apr-98,  Ali Graham wrote:

AG> BTW, if anyone has any ideas about extensions to the PLUGIN format that
AG> could be implemented without harming the current API, and the PLUGINs

Well, my idea looks like this: (Comments welcome)

Add a "better" way of putting easyplugins into your GUI (without changing
plugins much).

Basically, you define your gui like:

[BUTTON, {bla}, etc.]
[mystringpluginobj, {pluginaction}, 'This is the default',
STRPLUGIN_HANDLES_ALL_THIS, some default value]

And change your plugin's values like:

changestringplugin_string(mystringplugin, 'New String')

The changes necessary would be

1. To add an isgt() method to plugins
2. To a define() plugin to plugins (For the E-List)
3. convince plugins to use and update their little "list" just like all
standard gadgets do.
4. Add functions to plugin modules that change their data.

Now you have plugins that act just like normal gadgets, and are more
integrated.  Plus, you can avoid all those (silly) plugins that use a
taglist
for one tagitem (which is good, for future expandability, but bad because
it's
more work).

- --

CU
Dobes

Iffen it ain't broke, don't fix it.

@endnode

@node ID40_2 "EasyPLUGINs: CALL FOR SUBMISSIONS (ID40_2)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Sun, 26 Apr 1998 01:01:47 +0930
Subject: Re: EasyPLUGINs: CALL FOR SUBMISSIONS

On 25-Apr-98, someone (I think it was Dobes Vandermeer) might have writte=
n:
D
DV> Well, my idea looks like this: (Comments welcome)

Well, I've done that... :)

DV> Add a "better" way of putting easyplugins into your GUI (without chan=
ging
DV> plugins much).
DV> =

DV> Basically, you define your gui like:
DV> =

DV> [BUTTON, {bla}, etc.]
DV> [mystringpluginobj, {pluginaction}, 'This is the default',
DV> STRPLUGIN_HANDLES_ALL_THIS, some default value]

Could maybe even define a new gadget type - EGP_PLUGIN... we must
remember that something like this could be more easily kept modular
from the existing PLUGIN code, and thus stand less chance of messing up
people's pre-existing code.

DV> =

DV> And change your plugin's values like:
DV> =

DV> changestringplugin_string(mystringplugin, 'New String')
DV> =

DV> The changes necessary would be
DV> =

DV> 1. To add an isgt() method to plugins

I can't see the point of this. The programmer of a PLUGIN knows
whether or not the PLUGIN is an 'isgt' type.... I guess that
PLUGIN authors themself could add something like this so that
the programmer using the PLUGIN would not need to, but this could
only work in a new, e.g., EGP_PLUGIN, as this change would break
compatability with the way PLUGIN is called.

DV> 2. To a define() plugin to plugins (For the E-List)

Huh?

DV> 3. convince plugins to use and update their little "list" just like a=
ll
DV> standard gadgets do.

This is a good idea for an expansion to the PLUGIN format.... however
it remains to be seen what data could be placed in the "list" that
would be common to all different types of PLUGINs. The PLUGIN concept
should remain a generic and broad one... there's no point in having
a STRPLUGIN gadget type and a CYCLEPLUGIN one and so on...

DV> 4. Add functions to plugin modules that change their data.
DV> =

DV> Now you have plugins that act just like normal gadgets, and are more
DV> integrated.  Plus, you can avoid all those (silly) plugins that use a=
 taglist
DV> for one tagitem (which is good, for future expandability, but bad bec=
ause it's
DV> more work).
DV> =

The problem with this is the excessive 'load' that it places on authors o=
f
PLUGINs to conform with the set modules. The reason Ralph suggested the s=
et()/get()
model is the profusion of PLUGINs with set_this(), get_that(), set_theoth=
er() etc.
methods...

- -- =

  Ali Graham     [  mailto:agraham@hal9000.net.au  ]
                 [ http://hal9000.net.au/~agraham/ ]

        CBM:    C64, Amiga
        Atari:  2600, Lynx    Sega:  MegaDrive

@endnode

@node ID40_3 "EasyPLUGINs: CALL FOR SUBMISSIONS (ID40_3)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Sun, 26 Apr 1998 01:59:34 +0500
Subject: Re: EasyPLUGINs: CALL FOR SUBMISSIONS

On 25-Apr-98,  Ali Graham wrote:
AG> On 25-Apr-98, someone (I think it was Dobes Vandermeer) might have
written:

AG> Could maybe even define a new gadget type - EGP_PLUGIN... we must
AG> remember that something like this could be more easily kept modular
AG> from the existing PLUGIN code, and thus stand less chance of messing up
AG> people's pre-existing code.

That misses the point a little bit.  There were not a be a new CONST type;
we
woud just use the plugin's object pointer as the type field, and check for
that in the creation code.

AG> I can't see the point of this. The programmer of a PLUGIN knows
AG> whether or not the PLUGIN is an 'isgt' type....

That's why I don't want to have to specify it in my GUI definition.  The
plugin itself should provide this kind of plugin-specific info...

AG> compatability with the way PLUGIN is called.

Yes, I know.  it would be necessary to give them a different name, like
"smartplugin" or something.

AG> DV> 2. To a define() plugin to plugins (For the E-List)

The main idea behind these plugins is that they manage their own list,
pretty
much.  The only parts of a plugin entry that are used by EasyGUI would be
the
first two; the plugin object, and the action function.  Everything
afterwards
is taken by the plugin as default arguments.  Thus, plugins would need a
method to pass these defaults in, which COULD be called define().  It should
be able to raise() the malformed GUI error, too.

AG> This is a good idea for an expansion to the PLUGIN format.... however
AG> it remains to be seen what data could be placed in the "list" that
AG> would be common to all different types of PLUGINs. The PLUGIN concept

This is not what I was thinking... Each PLUGin would have it's own list
length
& format for default arguments, and would update the correct parameters for
the programmer.

AG> should remain a generic and broad one... there's no point in having
AG> a STRPLUGIN gadget type and a CYCLEPLUGIN one and so on...

That is why I suggested using the object itself in the type field; you could
easily use the same "trick" as for actionfunctions to determine whether it
was
a plugin object or a normal type.

AG> The problem with this is the excessive 'load' that it places on authors
of
AG> PLUGINs to conform with the set modules. The reason Ralph suggested the
AG> set()/get()

We certainly don't have to remove the set()/get() system, I guess.  That
would
just a be a little more "integrated", because EasyGUI itself uses type
specific functions...

AG> model is the profusion of PLUGINs with set_this(), get_that(),
set_theother()

I see what you're saying...  That could get annoying.

- --

CU
Dobes

In the beginning I was made.  I didn't ask to me made.  No one consulted
me or considered my feelings in this matter.  But if it brought some
passing fancy to some lowly humans as they haphazardly pranced their way
through life's mournful jungle then so be it.
- - Marvin the Paranoid Android, From Douglas Adams' Hitchiker's Guide to
the
Galaxy Radio Scripts

@endnode

@node ID40_4 "EasyPLUGINs: CALL FOR SUBMISSIONS (ID40_4)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Mon, 27 Apr 1998 00:04:47 +0930
Subject: Re: EasyPLUGINs: CALL FOR SUBMISSIONS

On 26-Apr-98, someone (I think it was Dobes Vandermeer) might have writte=
n:
DV> On 25-Apr-98,  Ali Graham wrote:
 =

DV> > I can't see the point of this. The programmer of a PLUGIN knows
DV> > whether or not the PLUGIN is an 'isgt' type.... =

DV> =

DV> That's why I don't want to have to specify it in my GUI definition.  =
The
DV> plugin itself should provide this kind of plugin-specific info...

I guess we could provide an indication that PLUGIN authors should do this=
,
but I guess there's no way to enforce it from the confines of the EasyGUI=

source itself - not really knowing either way what will happen with the
subclass. In the new PLUGIN class, as discussed below, we could make this=

a necessary part of the subclass of the smartplugin, simply by providing
no means to define it any other way :)

DV> > compatability with the way PLUGIN is called.
DV> =

DV> Yes, I know.  it would be necessary to give them a different name, li=
ke
DV> "smartplugin" or something.
DV> =

DV> > DV> 2. To a define() plugin to plugins (For the E-List)
DV> =

DV> The main idea behind these plugins is that they manage their own list=
, pretty
DV> much.  The only parts of a plugin entry that are used by EasyGUI woul=
d be the
DV> first two; the plugin object, and the action function.  Everything af=
terwards
DV> is taken by the plugin as default arguments.  Thus, plugins would nee=
d a
DV> method to pass these defaults in, which COULD be called define().  It=
 should
DV> be able to raise() the malformed GUI error, too.

Ah yes, I see what you mean.... I'm beginning to think that a new type, e=
=2Eg.
SMARTPLUGIN or COMPLEXPLUGIN, is called for, as you've said, and the stip=
ulation
would be that anything after the first two is PLUGIN-dependent.

Hmm... I'll have to have a look at the EasyGUI source *again* -- maybe yo=
u could
knock up an example 'smartplugin' subclass, showing what you envision the=
 average
smartplugin would look like?

DV> > The problem with this is the excessive 'load' that it places on aut=
hors of
DV> > PLUGINs to conform with the set modules. The reason Ralph suggested=
 the
DV> > set()/get()
DV> =

DV> We certainly don't have to remove the set()/get() system, I guess.  T=
hat would
DV> just a be a little more "integrated", because EasyGUI itself uses typ=
e
DV> specific functions...
DV> =

Actually, it would probably be a good idea to provide a set() & get() pai=
r
of PROCs, tag lists and all, as an alternative to the current system. Wou=
ld
make this sort of code look much less anarchic than it currently does (es=
pecially
if you could set a value and whether or not the object should be disabled=
 in the
one call...) -- this is for the current default objects (CYCLE, STRING, e=
tc.), not
the new PLUGIN type as discussed above.

- -- =

  Ali Graham     [  mailto:agraham@hal9000.net.au  ]
                 [ http://hal9000.net.au/~agraham/ ]

        CBM:    C64, Amiga
        Atari:  2600, Lynx    Sega:  MegaDrive

@endnode



@node ID41_0 "Help with ReadArgs()! (ID41_0)"
From: samwel@algonet.se (Harry Samwel)
Date: Sun, 26 Apr 1998 09:04:28 GMT+1
Subject: Help with ReadArgs()!

Hello all AmigaE gurus :)

How do I handle ReadArgs() with a multiple entry? i.e. the /M option.
I'm working on a File_ID.DIZ viewer and want a multiple file input.

@endnode

@node ID41_1 "Help with ReadArgs()! (ID41_1)"
From: kolo8@ely.pg.gda.pl (Piotr Gapinski)
Date: Sun, 26 Apr 1998 17:06:20 +0100
Subject: Re: Help with ReadArgs()!

Dnia 26-Kwi-98, Harry Samwel napisa=EE(a):
>Hello all AmigaE gurus :)

>How do I handle ReadArgs() with a multiple entry? i.e. the /M option.
>I'm working on a File_ID.DIZ viewer and want a multiple file input.

taken from my rpn.e calc prog (http://www.ely.pg.gda.pl/~pgapin/amiga.htm=
l)
=2E..
NEW args[NUMARGS]
rdargd:=3DReeadArgs('MATH/M',args,NIL)
IF rdargs
  tokenpos:=3D0
  math:=3Dargs[ARG_MATH]
  WHILE (token:=3DListItem(math,tokenPos++))
  ->-
  ->- code =

  ->-
  ENDWHILE
  FreeArgs(rdargs)
ENDIF
END args[NUMARGS]
=2E..

 Pozdrawiam,
- -----///-----------------------
 Piotr Gapinski
 http://www.ely.pg.gda.pl/~pgapin

@endnode

@node ID41_2 "Help with ReadArgs()! (ID41_2)"
From: frosetti@hotmail.com ("Dennis Andersson")
Subject: Re: Help with ReadArgs()!
Date: Mon, 27 Apr 1998 03:24:57 PDT

>
>Dnia 26-Kwi-98, Harry Samwel napisa=EE(a):
>>Hello all AmigaE gurus :)
>
>>How do I handle ReadArgs() with a multiple entry? i.e. the /M option.
>>I'm working on a File_ID.DIZ viewer and want a multiple file input.
>
>taken from my rpn.e calc prog
(http://www.ely.pg.gda.pl/~pgapin/amiga.htm=
>l)
>=2E..
>NEW args[NUMARGS]
>rdargd:=ReeadArgs('MATH/M',args,NIL)
It should be ReadArgs, right.
>IF rdargs
>  tokenpos:=0
>  math:=args[ARG_MATH]
>  WHILE (token:=3DListItem(math,tokenPos++))
>  ->-
>  ->- code =
>
>  ->-
>  ENDWHILE
>  FreeArgs(rdargs)
I always thought you had to free the rdargs structure wether
you got arguments or not.
>ENDIF
>END args[NUMARGS]
>...
>

I always use this in my programs:

PROC main()
DEF a:PTR TO LONG,r
DEF entries:PTR TO LONG
IF r:=ReadArgs('Blah/M',a:=[0],0)
     entries:=a[0]
     WHILE entries[]
           -> whatever you want to do
           entries[]++
     ENDWHILE
ENDIF
FreeArgs(r)
ENDPROC

So, did everyone see the look on Bill Gates face when Windows crashed?!

______________________________________________________
Get Your Private, Free Email at http://www.hotmail.com
@endnode



@node ID42_0 "Translation from C (ID42_0)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Sun, 26 Apr 1998 20:23:05 +0930
Subject: Translation from C

I'm trying to translate a particular piece of code from C -- and just
want to check something to do with the syntax.

I've got the following code fragment:

    static struct RastPort *
    init_rastport (
       struct RastPort  *parent_rp,
       UWORD             width,
       UWORD             height)
    {
       struct RastPort  *rp;

       if (rp = AllocVec (sizeof (*rp), MEMF_PUBLIC))
       {
          *rp = *parent_rp;
          rp.layer:=NIL

By my understanding of the second last line, that is a 'flat copy' of
the memory contained in the parent_rp structure to that in
the rp structure. Is this correct? (I presume this just sets up
some of the default values in the new rp structure; the code
then goes on to change some of them, do an AllocBitmap() and attach
it, etc.)

Could I replace that 'pointer magic' line with

    CopyMem(parent_rp, rp, SIZEOF rastport)

without any problems? I'm not all that au fait with C, so I thought
I'd ask the collective wisdom that is the AmigaE list...

Or, indeed, are the last two lines there just bad programming practice?
The program seems to work just as well when they are replaced with an

    InitRastPort(rp)

which would seem to be a little bit more future-proof. (I realised I'd
left this line out when I'd finished the translation and fixed all of
the other bugs, because it led to random Enforcer hits when I actually
tried to blit from the rastport). With either of the above solutions,
no Enforcer hits are present and functionality is as expected...

- --

  Ali Graham     [  mailto:agraham@hal9000.net.au  ]
                 [ http://hal9000.net.au/~agraham/ ]

        CBM:    C64, Amiga
        Atari:  2600, Lynx    Sega:  MegaDrive

@endnode

@node ID42_1 "Translation from C (ID42_1)"
From: dobes@mindless.com (Dobes Vandermeer)
Date: Sun, 26 Apr 1998 23:25:32 +0500
Subject: Re: Translation from C

On 26-Apr-98,  Ali Graham wrote:

AG> Could I replace that 'pointer magic' line with
AG>     CopyMem(parent_rp, rp, SIZEOF rastport)

Yes, unless its C++.

AG> Or, indeed, are the last two lines there just bad programming practice?

That too, in my opinion.

- --

CU
Dobes

Integrity has no need for rules.

@endnode

@node ID42_2 "Translation from C (ID42_2)"
From: merlin@thule.no (Eric Sauvageau)
Date: Sun, 26 Apr 1998 16:49:56 +0500
Subject: Re: Translation from C

On Sun, 26 Apr 1998, we received a letter from  about 'Translation from C':

>  I'm trying to translate a particular piece of code from C -- and just
>  want to check something to do with the syntax.
>
>  I've got the following code fragment:
>
>      static struct RastPort *
>      init_rastport (
>         struct RastPort  *parent_rp,
>         UWORD             width,
>         UWORD             height)
>      {
>         struct RastPort  *rp;
>
>         if (rp = AllocVec (sizeof (*rp), MEMF_PUBLIC))
>         {
>            *rp = *parent_rp;
>            rp.layer:=NIL
>
>  By my understanding of the second last line, that is a 'flat copy' of
>  the memory contained in the parent_rp structure to that in
>  the rp structure. Is this correct? (I presume this just sets up
>  some of the default values in the new rp structure; the code
>  then goes on to change some of them, do an AllocBitmap() and attach
>  it, etc.)

That's right, it copies the rastport content.

>
>  Could I replace that 'pointer magic' line with
>
>      CopyMem(parent_rp, rp, SIZEOF rastport)
>
>  without any problems? I'm not all that au fait with C, so I thought
>  I'd ask the collective wisdom that is the AmigaE list...

Yep, should work fine.  I ran into a similar case myself while porting to E
some
code CA guru Chris Aldi did (I implemented his non-locking DoGadgetMethod()
as
a system patch - pretty nice, rendering an Amigaguide page in Multiview
after
you click on a button no longer locks the pointer ;)

Ciao!

... Step out of the channel, I clocked your I.Q. at over 60 in a Mac zone.

- --
===--- - - -
  Eric Sauvageau    http://www.thule.no/~merlin/    merlin@thule.no
  Amiga wizard known as Merlin, casting with E runes, resulting in:
      DevsMan - MFormat - NewIcons4 - SysInspector - XPKatana
- - - - ---===

@endnode



@node ID43_0 "Suggestion for library mode (ID43_0)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Sun, 26 Apr 1998 21:37:36 +0930
Subject: Suggestion for library mode

I'm writing a BOOPSI class at the moment, and this problem has arisen;
I don't actually need any functions, per se, in the library I'm creating =
:)

Here's the relevant code...

    LIBRARY 'remapimage.class',1, 0,'remapimage.class 1.0 (26.4.98)' IS d=
ummy
 =

    -> various definitions...

    PROC main()

        utilitybase:=3DOpenLibrary('utility.library', 37)

        IF (cl:=3DMakeClass('remapiclass', 'imageclass', NIL, SIZEOF rema=
pidata, 0))

            installhook(cl.dispatcher, {remapimage_dispatcher})

            AddClass(cl)

        ENDIF

    ENDPROC

    PROC close()

        IF cl; RemoveClass(cl); FreeClass(cl); ENDIF

        IF utilitybase THEN CloseLibrary(utilitybase)

    ENDPROC

    PROC dummy() IS EMPTY

Surely I shouldn't have to have the empty function filling up unneeded sp=
ace?
Why can't I just do *this*:

    LIBRARY 'remapimage.class',1, 0,'remapimage.class 1.0 (26.4.98)' IS E=
MPTY

and have EC only create the 4 obligatory entry points to the library that=
 the
AmigaOS requires?

- -- =

  Ali Graham     [  mailto:agraham@hal9000.net.au  ]
                 [ http://hal9000.net.au/~agraham/ ]

        CBM:    C64, Amiga
        Atari:  2600, Lynx    Sega:  MegaDrive

@endnode

@node ID43_1 "Suggestion for library mode (ID43_1)"
From: stv@minorisa.es ("Esteve Boix")
Date: Mon, 27 Apr 1998 09:13:35 +0000
Subject: Re: Suggestion for library mode

> I'm writing a BOOPSI class at the moment, and this problem has
> arisen; I don't actually need any functions, per se, in the library
> I'm creating :)

Don't know about BOOPSI, but MUI opens the library once per instance
of the object created, so you have a library file opened several
times by a single task. Voila. Crash :)

No way to avoid it, I guess...

Regards,
Esteve

- ---
Esteve Boix - stv@minorisa.es - http://www2.minorisa.es/~stv
@endnode



@node ID44_0 "UNSUBSCRIBE (ID44_0)"
From: GIMBO@pulse-service.co.uk (Gimbo In Limbo)
Date: Mon, 27 Apr 1998 13:30:17 +0000
Subject: UNSUBSCRIBE

@endnode

@node ID44_1 "UNSUBSCRIBE (ID44_1)"
From: Jan.Stoetzer@RZ.TU-Ilmenau.DE ("Jan Stoetzer")
Date: Thu, 30 Apr 1998 11:42:13 -0600
Subject: UNSUBSCRIBE

@endnode



@node ID45_0 "ReadArgs again! (ID45_0)"
From: samwel@algonet.se (Harry Samwel)
Date: Tue, 28 Apr 1998 22:27:56 +0100
Subject: ReadArgs again!

Hello,

I know how to use ReadArgs() with single options..
But HOW do I use it with multiple & single like:

rdargs:=ReadArgs('FILE/A/M,FC=FILETYPECHECK/S',myargs,NIL)

Same here.. I know how to get the filenames BUT do I have
to manually check for the second parameter in the created
array???

Please give me some examples!!!

Best regards,

Harry Samwel
- --
<sb>
Harry Samwel - Wolfman/Intellect
samwel@algonet.se / samwel@hotmail.com
http://www.algonet.se/~samwel/

@endnode

@node ID45_1 "ReadArgs again! (ID45_1)"
Date: Wed, 29 Apr 1998 09:14:22 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: ReadArgs again!

On Tue, 28 Apr 1998, Harry Samwel wrote:

=>rdargs:=ReadArgs('FILE/A/M,FC=FILETYPECHECK/S',myargs,NIL)
=>Please give me some examples!!!

ENUM OPT_FILELIST, OPT_TYPECHECK

PROC main() HANDLE
  DEF rdargs=NIL, myargs:PTR TO LONG, currentfile, filelist:PTR TO LONG,
      typecheck

  rdargs := ReadArgs('FILE/A/M,FC=FILETYPECHECK/S', myargs:=[0,0], NIL)
  IF rdargs = NIL THEN Raise("ARGS")

  filelist  := myargs[OPT_FILELIST]
  typecheck := myargs[OPT_TYPECHECK]

  WriteF('filetypecheck is \s\n', IF typecheck THEN 'on' ELSE 'off')

  WHILE currentfile := filelist[]++
    WriteF('file: \s typecheck=\s\n', currentfile) -> or whatever
  ENDWHILE

EXCEPT DO
  PrintFault(IoErr(), NIL)
  IF rdargs THEN FreeArgs(rdargs)
ENDPROC

Take it to the bridge, throw it overboard.
See if it can swim back onto the shore.
Noone's in the house, everybody's out.
All the lights are on and the blinds are down.

@endnode

@node ID45_2 "ReadArgs again! (ID45_2)"
Date: Wed, 29 Apr 1998 13:14:39 +0200 (MET DST)
From: szczepan@student.man.bialystok.pl ("Marcin Juszkiewicz
(Szczepan/BlaBla)")
Subject: Re: ReadArgs again!

On Tue, 28 Apr 1998, Harry Samwel wrote:

DEF fc = FALSE,
    files:PTR TO LONG

IF rdargs:=ReadArgs('FILE/A/M,FC=FILETYPECHECK/S',myargs,NIL)
  IF myargs[1] THEN fc := TRUE
  files := myargs[NIL]
  IF files
    WHILE files[]
      -> Do what you want
      files[]++
    ENDWHILE
  ENDIF
ENDIF
FreeArgs(rdargs)

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@student.man.bialystok.pl http://student.man.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode

@node ID45_3 "ReadArgs again! (ID45_3)"
Date: Wed, 29 Apr 1998 19:39:00 +0200 (MET DST)
From: kolo8@ely.pg.gda.pl ("Stud.Kolo.Naukowe")
Subject: Re: ReadArgs again!

> On Tue, 28 Apr 1998, Harry Samwel wrote:
>
> IF rdargs:=ReadArgs('FILE/A/M,FC=FILETYPECHECK/S',myargs,NIL)

/M option should be at the end of tempate string, so try
 "FC=FILETYPECHECK/S,FILES/A/M"

 Piotr Gapinski
- -\\\\\---------------
  Studenckie Kolo Naukowe  (kolo8@ely.pg.gda.pl)

@endnode



@node ID46_0 "C-list> Is NIL == NULL ? (ID46_0)"
Date: Wed, 29 Apr 1998 07:04:37 -0400
Subject: C-list> Is NIL == NULL ?
From: tc_silvey@juno.com (troy silvey)

I see both used in some examples here.
I assume they are intechangable, or am
I mistaken?

troy

_____________________________________________________________________
You don't need to buy Internet access to use free Internet e-mail.
Get completely free e-mail from Juno at http://www.juno.com
Or call Juno at (800) 654-JUNO [654-5866]

@endnode

@node ID46_1 "C-list> Is NIL == NULL ? (ID46_1)"
Date: Wed, 29 Apr 1998 14:11:50 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: C-list> Is NIL == NULL ?

To cut a long story short, yes they are.
E programmers write NIL where C programmers write NULL.

Take it to the bridge, throw it overboard.
See if it can swim back onto the shore.
Noone's in the house, everybody's out.
All the lights are on and the blinds are down.

@endnode



@node ID47_0 "Bug in SIZEOF? (ID47_0)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Thu, 30 Apr 1998 14:12:57 +0930
Subject: Bug in SIZEOF?

I remember seeing something posted here recently about problems
with EC's evaluations of SIZEOF statements in complicated equations
(i.e. brackets, a large numbber of math operations, etc.)

Can someone confirm/deny/explain this to me?

- --

  Ali Graham     [  mailto:agraham@hal9000.net.au  ]
                 [ http://hal9000.net.au/~agraham/ ]

        CBM:    C64, Amiga
        Atari:  2600, Lynx    Sega:  MegaDrive

@endnode

@node ID47_1 "Bug in SIZEOF? (ID47_1)"
From: a9660319@wlv.ac.uk
Subject: Re: Bug in SIZEOF?
Date: Thu, 30 Apr 1998 11:41:58 -0400 (EDT)

On Thu, 30 Apr 1998 Ali Graham  wrote:
> I remember seeing something posted here recently about problems
> with EC's evaluations of SIZEOF statements in complicated equations
> (i.e. brackets, a large numbber of math operations, etc.)
>
> Can someone confirm/deny/explain this to me?

Yea, that was me. (Andrew).

The problem was something like this:

wid:=NewR((WIDTH*HEIGHT)*SIZEOF LONG)

Which, if you WriteF()`d to a window printed a negative (wrong) number,
but if you replaced SIZEOF LONG with 4 it was fine.

In the E manual, in bugs section it is noted, (something like:
`constant folder sometimes gets it wrong with complicated SIZEOF`s.`
(or something))

I asked if this happened a lot, but help was not forthcoming...
(well, what I actually said was: `Should we use SIZEOF at all seeing as
this bug exists.`)

I have enough trouble debugging my code without having to worry if all
my SIZEOF`s are correct.

Thanks.
        Andrew :)

@endnode

@node ID47_2 "Bug in SIZEOF? (ID47_2)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Thu, 30 Apr 1998 23:42:12 +0930
Subject: Re: Bug in SIZEOF?

On 01-May-98, someone (I think it was a9660319@wlv.ac.uk) might have writ=
ten:
a> On Thu, 30 Apr 1998 Ali Graham  wrote:
a> > I remember seeing something posted here recently about problems
a> > with EC's evaluations of SIZEOF statements in complicated equations
a> > (i.e. brackets, a large numbber of math operations, etc.)
a> > =

a> > Can someone confirm/deny/explain this to me?
a> =

a> Yea, that was me. (Andrew).
a> =

a> The problem was something like this:
a> =

a> wid:=3DNewR((WIDTH*HEIGHT)*SIZEOF LONG) =

a> =

a> Which, if you WriteF()`d to a window printed a negative (wrong) number=
,
a> but if you replaced SIZEOF LONG with 4 it was fine.

Thanks! I was wondering why some code I'd written was buggy (well, I knew=
 it
was buggy, but lines I'd thought were perfectly simple were causing Enfor=
cer hits :)
 =

a> In the E manual, in bugs section it is noted, (something like:
a> `constant folder sometimes gets it wrong with complicated SIZEOF`s.`
a> (or something))
a> =

a> I asked if this happened a lot, but help was not forthcoming...
a> (well, what I actually said was: `Should we use SIZEOF at all seeing a=
s =

a> this bug exists.`)
a> =

Guess I'll have to sacrifice clarity for correctness... hope this is fixe=
d
in the next release :)
 =

- -- =

  Ali Graham     [  mailto:agraham@hal9000.net.au  ]
                 [ http://hal9000.net.au/~agraham/ ]

        CBM:    C64, Amiga
        Atari:  2600, Lynx    Sega:  MegaDrive

@endnode

@node ID47_3 "Bug in SIZEOF? (ID47_3)"
From: agraham@hal9000.net.au (Ali Graham)
Date: Fri, 01 May 1998 00:57:33 +0930
Subject: Re: Bug in SIZEOF?

On 30-Apr-98, someone (I think it was Ali Graham) might have written:
>
AG> > I asked if this happened a lot, but help was not forthcoming...
AG> > (well, what I actually said was: `Should we use SIZEOF at all seeing
as
AG> > this bug exists.`)
AG>
AG> Guess I'll have to sacrifice clarity for correctness... hope this is
fixed
AG> in the next release :)

Actually, I guess I'll have to do something like this;

#define SIZEOF_LONG     4
#define SIZEOF_INT      2
#define SIZEOF_CHAR     1

and PREPROCESS... probably the closest solution to my original intent...

- --

  Ali Graham     [  mailto:agraham@hal9000.net.au  ]
                 [ http://hal9000.net.au/~agraham/ ]

        CBM:    C64, Amiga
        Atari:  2600, Lynx    Sega:  MegaDrive

@endnode

@node ID47_4 "Bug in SIZEOF? (ID47_4)"
Date: Thu, 30 Apr 1998 17:53:58 +0100 (BST)
From: tim@oakley.keble.ox.ac.uk (Tim Bagot)
Subject: Re: Bug in SIZEOF?

On Fri, 1 May 1998, Ali Graham wrote:

> On 30-Apr-98, someone (I think it was Ali Graham) might have written:
> >
> AG> > I asked if this happened a lot, but help was not forthcoming...
> AG> > (well, what I actually said was: `Should we use SIZEOF at all seeing
as
> AG> > this bug exists.`)
> AG>
> AG> Guess I'll have to sacrifice clarity for correctness... hope this is
fixed
> AG> in the next release :)
>
> Actually, I guess I'll have to do something like this;
>
> #define SIZEOF_LONG     4
> #define SIZEOF_INT      2
> #define SIZEOF_CHAR     1
>
> and PREPROCESS... probably the closest solution to my original intent...

Why not use CONST or SET instead of #define?

This would be more useful in a module containing OBJECT definitions, since
the only way to export macros is OPT EXPORT. Can SIZEOF be used in CONST,
etc.? If it can things become a little bit simpler.

Tim Bagot

@endnode

@node ID47_5 "Bug in SIZEOF? (ID47_5)"
Date: Thu, 30 Apr 1998 18:07:23 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: Bug in SIZEOF?

On Thu, 30 Apr 1998, Tim Bagot wrote:

=>since the only way to export macros is OPT EXPORT.

This reminds me - I must ask Wouter to add this to his TODO list:

EXPORT #define

- --
Take it to the bridge, throw it overboard.
See if it can swim back onto the shore.
Noone's in the house, everybody's out.
All the lights are on and the blinds are down.

@endnode



@node ID48_0 "EDBG : Resource tracking (ID48_0)"
Date: Thu, 30 Apr 1998 18:56:57 +0200 (MET DST)
From: szczepan@student.man.bialystok.pl ("Marcin Juszkiewicz
(Szczepan/BlaBla)")
Subject: EDBG : Resource tracking

 Hi !

  Can it be possible to add resource tracking to EDBG in future ?
 I saw it in Storm C and HiSoft C packets and find it very usefull in
debugging.

By resource tracking I mean :
 closing libraries opened by program
 memory watching (if I break tracing my proggy EDBG will free all used
memory)
 freeing any resources taken from OS (libs, devs,structs etc.)

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@student.man.bialystok.pl http://student.man.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode

@node ID48_1 "EDBG : Resource tracking (ID48_1)"
Date: Thu, 30 Apr 1998 18:14:29 +0100 (BST)
From: sac@csd.abdn.ac.uk ("Stuart Caie (kyz)")
Subject: Re: EDBG : Resource tracking

On Thu, 30 Apr 1998, Marcin Juszkiewicz (Szczepan/BlaBla) wrote:

=>  Can it be possible to add resource tracking to EDBG in future ?
=> I saw it in Storm C and HiSoft C packets and find it very usefull in
=>debugging.

This would probably be a load of work, and it is already implemented as a
program:

restracker.lha util/moni 30K+Resource tracking for AmigaOS. V0.5

It's OS level, but quite usable by a debugger.

- --
Take it to the bridge, throw it overboard.
See if it can swim back onto the shore.
Noone's in the house, everybody's out.
All the lights are on and the blinds are down.

@endnode



