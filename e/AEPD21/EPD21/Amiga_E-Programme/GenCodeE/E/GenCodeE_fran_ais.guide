@DATABASE GenCodeE

@NODE Main "GenCodeE (v1.7 et v2.2)"
**********************************************************************
                       @{b}GenCodeE@{ub} (v1.7 et v2.2)
            Module de génération de code E pour MUIBuilder
                     Archive du 21 novembre 1994
                  © Copyright 1994, @{b}Lionel Vintenat@{ub}
**********************************************************************

@{" Introduction " link introduction}
@{" Code généré  " link code_généré}
@{" Historique   " link historique}
@{" Distribution " link distribution}
@{" Bugs         " link bugs}
@{" Auteur       " link auteur}
@ENDNODE

-------------------------------------------------------------------------------

@NODE introduction "Introduction"
    Dans cette distribution de GenCodeE, vous trouverez deux
GenCodeE : la version 1.7 et la version 2.2. La première génère du
code pour Amiga E v2.1b et la deuxième pour Amiga E v3.0b+. Etant
donné que Amiga E v3.0 est une mise à jour majeure par rapport à Amiga
E v2.1b, il m'a semblé nécessaire de faire deux modules de génération
de code distincts. A l'avenir, tous les futurs GenCodeE de numéro de
version 1.x généreront du code pour Amiga E v2.1b et ceux de numéro de
version 2.x du code pour Amiga E v3.x. Les codes générés par ces deux
modules ne sont pas fondamentalement différents, mais la version 2.x
exploite au maximum les nouvelles possibilités d'Amiga E v3.0,
notament l'aspect "orienté objet".

    Faire un tel générateur de code est particulièrement délicat. En
effet, le code généré doit être aussi parfait que possible pour éviter
au programmeur de le retoucher, mais quand même lisible au cas où une
retouche serait quand même indispensable. Après beaucoup d'essais, je
pense être arrivé à un juste équilibre. Cependant, je n'ai pas encore
pu vraiment testé le code que génère ces nouveaux GenCodeE sur une
application de grande envergure, donc on doit surement encore pouvoir
améliorer des détails. N'hésitez donc pas à me soumettre vos remarques
et vos suggestions (voir l'@{"auteur" link auteur}).

    Enfin, vous aurez besoin de Mac2E (v4.0+ conseillée) pour utiliser
le code généré et en plus de EPP (v1.4d conseillé) pour GenCodeE v1.7.
Ces deux programmes sont disponibles dans les collections du domaine
publique. Si vous ne les avez pas, arrêtez votre lecture ici, et
procurez-vous les. De même, FlexCat (aussi disponible dans le domaine
publique) est très vivement conseillé pour générer automatiquement le
code pour la localisation, mais il n'est pas indispensable. Enfin,
AutoBuild (aussi disponible dans le domaine publique) est un excellent
remplacement de Build pour les utilisateurs d'Amiga E v3.0.
@ENDNODE

-------------------------------------------------------------------------------

@NODE code_généré "Code généré"
    Le code généré par GenCodeE est maintenant trop complexe pour
décrire simplement son fonctionnement. Donc, j'ai choisi un exemple
(significatif) pour le présenter plutôt que de longues (et pénibles)
explications. Commencez par regarder dans MUIBuilder comment est
défini l'application exemple DemoGenCodeE, notament au niveau des
notifications. Après regardez le code généré et surtout le source
principal DemoGenCode.em que j'ai commenté au maximum. Faîtes ensuite
des essais en modifiant dans MUIBuilder la définition de DemoGenCodeE
pour voir le comportement du générateur de code. Essayez aussi les
différentes options de génération : déclarations, code, notifica-
tions, environnement et locale. Je pense que cela devrait être
suffisant pour bien comprendre le fonctionnement de ces GenCodeE. Si
malgré tout, vous rencontrez des problèmes, écrivez-moi
(voir l'@{"auteur" link auteur}).

    DemoGenCodeE se compose d'une unique fenêtre. Dans celle-ci, on
trouve un groupe 'Cliquez' et un bouton 'Quitter'. Je vous laisse
deviner l'usage de ce dernier... Dans le groupe 'Cliquez', on trouve 4
boutons et un gadget texte. Quand vous cliquez sur un des boutons,
cela change le contenu du gadget texte à chaque fois par une méthode
différente :
    - le bouton 'Mettre Chaîne Constante' modifie le contenu du gadget
texte par une notification qui y place directement une chaîne
constante
    - le bouton 'Mettre Variable' modifie le contenu du gadget texte
par une notification qui y place directement le contenu d'une variable
    - le bouton 'Retourner ID' retourne un ID (après un clic sur ce
bouton) lors de l'appel de la méthode MUIM_Application_Input, et dans
ce cas, on modifie par un set() le contenu du gadget texte
    - le bouton 'Appelez Hook' appelle à chaque clic sur ce bouton une
fonction hook qui modifie le contenu du gadget texte
    DemoGenCodeE comprend aussi une commande ARrexx "change_text" qui
elle aussi modifie le contenu du gadget texte.
    Tous ces cas recouvrent l'ensemble des différents codes que peut
générer GenCodeE.
@ENDNODE

-------------------------------------------------------------------------------

@NODE historique "Historique"
@{b}Version 1.0@{ub} :  - 1ère version distribuée avec MUIBuilder v1.0
@{b}Version 1.1@{ub} :  - un petit bug corrigé (GenCodeE oubliait parfois d'indenter le
               début du code)
               - version jamais distribuée
@{b}Version 1.2@{ub} :  - ajout du support de la localisation
               - version jamais distribuée
@{b}Version 1.3@{ub} :  - ajout du mode environnement
               - 2ème version distribuée avec MUIBuilder v1.1
@{b}Version 1.4@{ub} :  - utilisation de la "compilation séparée offerte par EPP"
               - 3ème version distribuée, externe à l'archive de MUIBuilder
               - doit être utilisé avec MUIBuilder v1.1
@{b}Version 1.5@{ub} :  - refonte complète du code généré
               - 4ème version distribuée
               - à utiliser avec MUIBuilder v2.0, Amiga E v2.1b et EPP
               v1.4d
@{b}Version 1.6@{ub} :  - recompilée avec Amiga E v3.0e
               - bug corrigé : GenCodeE générait les chaînes non
initialisées comme si elles l'étaient
               - bug corrigé : GenCodeE générait n'importe quoi pour
les menus
               - bug corrigé : le code généré pouvait à l'exécution
causer des "enforcer hits"
               - la procédure dispose() est plus sûre
               - les commentaires d'en-tête sont meilleurs (en tout
cas j'espère :-))
               - maintenant les sources sont fournis
@{b}Version 1.7@{ub} : - bug corrigé : GenCodeE oubliait parfois de générer
"MODULE 'utility/hooks'" quand cela était nécessaire

@{b}Version 2.0@{ub} :  - refonte complète du code généré
               - 4ème version distribuée
               - à utiliser avec MUIBuilder v2.0 et Amiga E v3.0b+
@{b}Version 2.1@{ub} :  - recompilée avec Amiga E v3.0e
               - bug corrigé : GenCodeE générait les chaînes non
initialisées comme si elles l'étaient
               - bug corrigé : GenCodeE générait n'importe quoi pour
les menus
               - bug corrigé : le code généré pouvait à l'exécution
causer des "enforcer hits"
               - la méthode dispose() est plus sûre
               - les commentaires d'en-tête sont meilleurs (en tout
cas j'espère :-))
               - maintenant les sources sont fournis
@{b}Version 2.2@{ub} : - bug corrigé : GenCodeE oubliait parfois de générer
"MODULE 'utility/hooks'" quand cela était nécessaire
@ENDNODE

-------------------------------------------------------------------------------

@NODE distribution "Distribution"
    Cette archive peut être librement distribuée, tant que personne ne tire
aucun bénéfice de cette distribution. Tout autre type de vente ne peut en aucun
cas être effectué sans l'autorisation de l'auteur.
    Cette archive peut être incluse dans des collections de logiciels du
domaine public, tant que les conditions ci-dessus restent vérifiées.

    Cependant, l'archive doit être distribuée dans son entier et tous ces
fichiers (excepté les icônes) restent sous copyright de l'auteur, et ne
peuvent être modifiés sans mon accord.

    Enfin, je dégage toute responsabilité quant à l'utilisation de ce programme
et les dommages qu'il pourrait causer : @{b}vous l'utilisez à vos risques et
périls !@{ub}
@ENDNODE

-------------------------------------------------------------------------------

@NODE bugs "Bugs"
    GenCodeE ne contient aucun bug connu. Par contre, MUIBuilder lui
comporte trois bugs génants qui se retrouvent au niveau du code généré.
Deux de ces bugs ne concernent que le cas où vous ne génèrez pas une
application entière mais des objets particuliers :
    - dans ce cas, MUIBuilder ne génère que les notifications internes
à l'objet généré : par exemple, si l'objet A notifie l'objet B, cette
notification n'apparaîtra pas si vous génèrez seulement l'objet A ou B
    - MUIBuilder génère toujours les références aux IDs, aux fonctions
hook et aux variables externes, donc vous risquez d'obtenir des
doubles déclarations.
    Le dernier bug apparaît dans le cas de notifications sur les menus.
En effet, les éléments des menus sont générés localement (c'est-à-dire
pas dans app_obj, etc), donc ils ne sont plus "visibles" dans la méthode
init_notifications().
    Contactez Eric et pas moi pour ces bugs !
@ENDNODE

-------------------------------------------------------------------------------

@NODE auteur "Auteur"
    Vous pouvez me joindre par courrier à mon adresse familiale :

            @{b}Lionel Vintenat@{ub}
            3 impasse Boileau
            Lotissement Les Termes
            87270 COUZEIX
            FRANCE

    Vous pouvez également me joindre sur internet. Mon adresse e-mail est
@{b}vintenat@reseau.onecert.fr@{ub}. Cette adresse sera valable jusqu'en août
1995 inclus. Je préfère de très loin que vous m'écriviez par e-mail que par
le courrier classique.
@ENDNODE
