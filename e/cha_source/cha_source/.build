#===========================================================================#
# .build                                                                    #
# OSS plugins                                                               #
#---------------------------------------------------------------------------#

ec=     EC QUIET IGNORECACHE NILCHECK
print=  Echo
delete= Delete ALL QUIET
run=    Run
build=  Build NOHEAD
xecute= Execute
makedir=MakeDir
con=    KCON:////
out=    RAM:OUT

a=      args.m calcs.m cbuffer.m complex.m debug.m errors.m filter.m filter_cbuffer.m filter_design.m filter_plot.m filter_specification.m filter_splane.m filter_zplane.m fxecho.m fxfilter.m inputbuffer.m oss.m oss_input.m oss_output.m oss_sample.m outputbuffer.m polynomial.m processor.m word.m
s=      test_cbuffer test_complex test_filter_splane test_filter_zplane test_oss_input test_oss_output test_polynomial
f=      cha_autotempo cha_bassdrum cha_echo cha_filter cha_stanley

#---------------------------------------------------------------------------#

start: $(f) $(s) $(a)
	$(print) "All ok!"

clean:
	$(delete) $(f) $(s) $(a)
	$(delete) $(out)

test: $(s)
	$(run) test_cbuffer       >$(con)test_cbuffer/CLOSE/WAIT
	$(run) test_complex       >$(con)test_complex/CLOSE/WAIT
	$(run) test_filter_splane >$(con)test_filter_splane/CLOSE/WAIT
	$(run) test_filter_zplane >$(con)test_filter_zplane/CLOSE/WAIT
	$(run) test_oss_input     >$(con)test_oss_input/CLOSE/WAIT
	$(run) test_oss_output    >$(con)test_oss_output/CLOSE/WAIT
	$(run) test_polynomial    >$(con)test_polynomial/CLOSE/WAIT

#---------------------------------------------------------------------------#

args.m: args.e
	$(ec) args

calcs.m: calcs.e
	$(ec) calcs

cbuffer.m: cbuffer.e debug.m
	$(ec) cbuffer

complex.m: complex.e
	$(ec) complex

debug.m: debug.e complex.m
	$(ec) debug.e

errors.m: errors.e
	$(ec) errors

filter.m: filter.e filter_design.m
	$(ec) filter

filter_cbuffer.m: filter_cbuffer.e
	$(ec) filter_cbuffer

filter_design.m: filter_design.e
	$(ec) filter_design

filter_plot.m: filter_plot.e filter_splane.m filter_zplane.m complex.m
	$(ec) filter_plot

filter_specification.m: filter_specification.e args.m
	$(ec) filter_specification

filter_splane.m: filter_splane.e complex.m debug.m filter_specification.m
	$(ec) filter_splane

filter_zplane.m: filter_zplane.e filter_design.m filter_splane.m complex.m polynomial.m filter_specification.m
	$(ec) filter_zplane

fxecho.m: fxecho.e processor.m inputbuffer.m outputbuffer.m cbuffer.m
	$(ec) fxecho

fxfilter.m: fxfilter.e processor.m inputbuffer.m outputbuffer.m filter_cbuffer.m filter.m
	$(ec) fxfilter

inputbuffer.m: inputbuffer.e
	$(ec) inputbuffer

oss.m: oss.e debug.m errors.m
	$(ec) oss

oss_input.m: oss_input.e debug.m inputbuffer.m oss.m oss_sample.m word.m
	$(ec) oss_input

oss_output.m: oss_output.e debug.m oss.m oss_sample.m outputbuffer.m word.m
	$(ec) oss_output

oss_sample.m: oss_sample.e oss.m calcs.m
	$(ec) oss_sample

outputbuffer.m: outputbuffer.e
	$(ec) outputbuffer

polynomial.m: polynomial.e complex.m
	$(ec) polynomial

processor.m: processor.e inputbuffer.m outputbuffer.m
	$(ec) processor

word.m: word.e
	$(ec) word

#---------------------------------------------------------------------------#

test_cbuffer: test_cbuffer.e cbuffer.m
	$(ec) test_cbuffer

test_complex: test_complex.e complex.m
	$(ec) test_complex

test_filter_splane: test_filter_splane.e complex.m filter_splane.m filter_plot.m
	$(ec) test_filter_splane

test_filter_zplane: test_filter_splane.e complex.m filter_splane.m filter_zplane.m filter_plot.m
	$(ec) test_filter_zplane

test_oss_input: test_oss_input.e oss_input.m oss.m
	$(ec) test_oss_input

test_oss_output: test_oss_output.e oss_output.m oss.m
	$(ec) test_oss_output

test_polynomial: test_polynomial.e complex.m polynomial.m
	$(ec) test_polynomial

#---------------------------------------------------------------------------#

cha_autotempo: cha_autotempo.e oss.m calcs.m args.m errors.m
	$(ec) cha_autotempo

cha_bassdrum: cha_bassdrum.e oss.m oss_output.m outputbuffer.m args.m errors.m
	$(ec) cha_bassdrum

cha_echo: cha_echo.e fxecho.m oss.m oss_input.m oss_output.m oss_sample.m args.m errors.m
	$(ec) cha_echo

cha_filter: cha_filter.e filter.m oss.m oss_input.m oss_output.m oss_sample.m fxfilter.m filter_splane.m filter_zplane.m filter_plot.m filter_specification.m args.m errors.m
	$(ec) cha_filter

cha_stanley: cha_stanley.e oss.m args.m errors.m
	$(ec) cha_stanley

#---------------------------------------------------------------------------#
# END: .build                                                               #
#===========================================================================#
