/* Amiga/cPath_File.e 30-09-2022
	Amiga-specific classes for portable file access.


Copyright (c) 2007,2008,2009,2010,2011,2012,2015,2016,2022 Christopher Steven Handley ( http://cshandley.co.uk/email )
All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* The source code must not be modified after it has been translated or converted
away from the PortablE programming language.  For clarification, the intention
is that all development of the source code must be done using the PortablE
programming language (as defined by Christopher Steven Handley).

* Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/ 





/*****************************/

OPT POINTER,INLINE,PREPROCESS
PUBLIC MODULE 'targetShared/cPath_FileBase','targetShared/Amiga/cPath_shared'
MODULE 'exec','CSH/pAmigaDos','CSH/pAmiga_dir'
PRIVATE
PUBLIC
CLASS cHostFile OF cBaseFile;PRIVATE;q:BYTE;qq:STRING;qqp:STRING;qqq:PTR TO fileinfoblock ;qqpp:BPTR;qqpq:BIGVALUE ;qqqp:BIGVALUE ;qqqq:BIGVALUE ;qqppp:INT ;qqppq;qqpqp:STRING;qqpqq;qqqpp:BPTR;qqqpq:STRING;ENDCLASS
PRIVATE
DEF q:ARRAY OF CHAR,qq:ARRAY OF CHAR,qqp:ARRAY OF CHAR,qqq:ARRAY OF CHAR,qqpp:ARRAY OF CHAR,qqpq:ARRAY OF CHAR,qqqp:ARRAY OF CHAR,qqqq:ARRAY OF CHAR,qqppp:ARRAY OF CHAR,qqppq:ARRAY OF CHAR,qqpqp:ARRAY OF CHAR,qqpqq:ARRAY OF CHAR,qqqpp:ARRAY OF CHAR,qqqpq:ARRAY OF CHAR,qqqqp:ARRAY OF CHAR,qqqqq:ARRAY OF CHAR,qqpppp:ARRAY OF CHAR,qqpppq:ARRAY OF CHAR,qqppqp:ARRAY OF CHAR,qqppqq:ARRAY OF CHAR,qqpqpp:ARRAY OF CHAR,qqpqpq:ARRAY OF CHAR,qqpqqp:ARRAY OF CHAR,qqpqqq:ARRAY OF CHAR,qqqppp:ARRAY OF CHAR,qqqppq:ARRAY OF CHAR,qqqpqp:ARRAY OF CHAR,qqqpqq:ARRAY OF CHAR,qqqqpp:ARRAY OF CHAR,qqqqpq:ARRAY OF CHAR,qqqqqp:ARRAY OF CHAR,qqqqqq:ARRAY OF CHAR,qqppppp:ARRAY OF CHAR,qqppppq:ARRAY OF CHAR,qqpppqp:ARRAY OF CHAR,qqpppqq:ARRAY OF CHAR,qqppqpp:ARRAY OF CHAR,qqppqpq:ARRAY OF CHAR,qqppqqp:ARRAY OF CHAR,qqppqqq:ARRAY OF CHAR,qqpqppp:ARRAY OF CHAR,qqpqppq:ARRAY OF CHAR,qqpqpqp:ARRAY OF CHAR,qqpqpqq:ARRAY OF CHAR,qqpqqpp:ARRAY OF CHAR,qqpqqpq:ARRAY OF CHAR,qqpqqqp:ARRAY OF CHAR,qqpqqqq:ARRAY OF CHAR,qqqpppp:ARRAY OF CHAR,qqqpppq:ARRAY OF CHAR,qqqppqp:ARRAY OF CHAR,qqqppqq:ARRAY OF CHAR,qqqpqpp:ARRAY OF CHAR,qqqpqpq:ARRAY OF CHAR,qqqpqqp:ARRAY OF CHAR,qqqpqqq:ARRAY OF CHAR,qqqqppp:ARRAY OF CHAR,qqqqppq:ARRAY OF CHAR,qqqqpqp:ARRAY OF CHAR,qqqqpqq:ARRAY OF CHAR,qqqqqpp:ARRAY OF CHAR,qqqqqpq:ARRAY OF CHAR,qqqqqqp:ARRAY OF CHAR,qqqqqqq:ARRAY OF CHAR,qqpppppp:ARRAY OF CHAR,qqpppppq:ARRAY OF CHAR,qqppppqp:ARRAY OF CHAR,qqppppqq:ARRAY OF CHAR,qqpppqpp:ARRAY OF CHAR,qqpppqpq:ARRAY OF CHAR,qqpppqqp:ARRAY OF CHAR,qqpppqqq:ARRAY OF CHAR,qqppqppp:ARRAY OF CHAR,qqppqppq:ARRAY OF CHAR,qqppqpqp:ARRAY OF CHAR,qqppqpqq:ARRAY OF CHAR,qqppqqpp:ARRAY OF CHAR,qqppqqpq:ARRAY OF CHAR,qqppqqqp:ARRAY OF CHAR,qqppqqqq:ARRAY OF CHAR,qqpqpppp:ARRAY OF CHAR
PROC q(qqpqpppq:BPTR) ;DEF qqpqppqp:BIGVALUE; qqpqppqp := getFilePosition64(qqpqpppq); IF qqpqppqp <= -(8577676 XOR $82E28D) THEN Throw("FILE", q );ENDPROC qqpqppqp 
PROC qq(qqpqpppq:BPTR, qqpqppqp:BIGVALUE);; IF setFilePosition64(qqpqpppq, qqpqppqp) = (42724 XOR $A6E4) THEN Throw("FILE", qq );ENDPROC
PROC qqp(qqpqpppq:BPTR) ;DEF qqpqppqp:BPTR; IF qqpqpppq THEN UnLock(qqpqpppq); qqpqppqp := NIL;ENDPROC qqpqppqp 
PROC qqq(qqpqpppq:ARRAY OF CHAR) ;DEF qqpqppqp:ARRAY OF CHAR,qqpqppqq; IF qqpqppqq := IoErr(); qqpqppqp := staticFault(qqpqppqq, qqpqpppq); ELSE; qqpqppqp := qqpqpppq; ENDIF;ENDPROC qqpqppqp 
PROC qqqq(qqpqpppq:STRING, qqpqppqp:STRING) ;DEF qqpqppqq:STRING,qqpqpqpp,qqpqpqpq:STRING; qqpqpqpq, qqpqpqpp := easyReadLink(qqpqpppq); qqpqppqq := ImportFilePath(qqpqpqpq); qqpqppqp := NILS ;FINALLY; END qqpqpqpq;ENDPROC qqpqppqq ,qqpqpqpp 
PROC qqppp(qqpqpppq, qqpqppqp, qqpqppqq);DEF qqpqpqpp:BIGVALUE; IF qqpqpppq >= (273899 XOR $43288); qqpqpqpp := qqpqpppq - (273899 XOR $43288)  !!BIGVALUE * (93417 XOR $16CF1)*(1807623984 XOR $6BBE270C)*(1807623984 XOR $6BBE270C)  + (qqpqppqp * (1807623984 XOR $6BBE270C)) + (qqpqppqq/(289176776 XOR $113C7CFA)); ELSE; qqpqpqpp := qqpqpppq - (273899 XOR $43288) + (1520394308 XOR $5A9F6045)  !!BIGVALUE * (93417 XOR $16CF1)*(1807623984 XOR $6BBE270C)*(1807623984 XOR $6BBE270C)  + (qqpqppqp - ((93417 XOR $16CF1)*(1807623984 XOR $6BBE270C)) * (1807623984 XOR $6BBE270C)) + (qqpqppqq/(289176776 XOR $113C7CFA)); ENDIF;ENDPROC qqpqpqpp
PROC qqppq(qqpqpppq:BIGVALUE);DEF qqpqppqp,qqpqppqq,qqpqpqpp; IF qqpqpppq >= (1194705572 XOR $4735C2A4); qqpqppqp := qqpqpppq / ((93417 XOR $16CF1)*(1807623984 XOR $6BBE270C)*(1807623984 XOR $6BBE270C)) !!VALUE ; qqpqpppq := qqpqpppq - (qqpqppqp * (93417 XOR $16CF1)*(1807623984 XOR $6BBE270C)*(1807623984 XOR $6BBE270C)) ; qqpqppqp := qqpqppqp + (273899 XOR $43288); qqpqppqq := qqpqpppq / (1807623984 XOR $6BBE270C) !!VALUE ; qqpqpppq := qqpqpppq - (qqpqppqq * (1807623984 XOR $6BBE270C)); qqpqpqpp := qqpqpppq * (289176776 XOR $113C7CFA) !!VALUE; ELSE; qqpqppqp := qqpqpppq / ((93417 XOR $16CF1)*(1807623984 XOR $6BBE270C)*(1807623984 XOR $6BBE270C)) !!VALUE ; qqpqpppq := qqpqpppq - (qqpqppqp * (93417 XOR $16CF1)*(1807623984 XOR $6BBE270C)*(1807623984 XOR $6BBE270C)) ; qqpqppqp := qqpqppqp + (273899 XOR $43288) - (1520394308 XOR $5A9F6045); qqpqppqq := qqpqpppq / (1807623984 XOR $6BBE270C) !!VALUE ; qqpqpppq := qqpqpppq - (qqpqppqq * (1807623984 XOR $6BBE270C)) ; qqpqppqq := qqpqppqq + ((93417 XOR $16CF1)*(1807623984 XOR $6BBE270C)) - (250423 XOR $3D236); qqpqpqpp := qqpqpppq * (289176776 XOR $113C7CFA) !!VALUE ; qqpqpqpp := qqpqpqpp + ((1807623984 XOR $6BBE270C)*(289176776 XOR $113C7CFA)); ENDIF;ENDPROC qqpqppqp,qqpqppqq,qqpqpqpp
PROC new() ;; q := 'cPath; safeGetFilePosition64(); failed'; qq := 'cPath; safeSetFilePosition64(); failed'; qqp := 'FTPMount:/'; qqq := 'FTP:/'; qqpp := 'cHostFile.open(); a file is already open'; qqpq := 'cHostFile.open(); filePath=NIL'; qqqp := 'cHostFile.open(); filePath is invalid'; qqqq := 'could not remove read protection'; qqppp := 'file is read protected'; qqppq := 'could not remove write protection'; qqpqp := 'file is write protected'; qqpqq := 'T:cPath_writeAccess'; qqqpp := ':'; qqqpq := 'file is already opened for write access (by another program)'; qqqqp := 'error opening file'; qqqqq := 'file does not exist'; qqpppp := 'could not create file'; qqpppq := 'error finding size of file'; qqppqp := 'error seeking to end of file'; qqppqq := 'error seeking to start of file'; qqpqpp := 'cHostFile.open()'; qqpqpq := 'cHostFile.close(); file not open'; qqpqqp := 'cHostFile.flush(); file not open'; qqpqqq := 'cHostFile.flush(); ExamineFH() failed'; qqqppp := 'cHostFile.openKludgeBegin(); kludge already started'; qqqppq := 'cHostFile.openKludgeFinish(); kludge already finished'; qqqpqp := 'cHostFile.openKludgeFinish(); kludge failed'; qqqpqq := 'cHostFile.setAttributes(); file not open'; qqqqpp := 'cHostFile.setAttributes(); file opened in read only mode'; qqqqpq := 'error setting file protection bits'; qqqqqp := 'cHostFile.setAttributes()'; qqqqqq := 'cHostFile.getAttributes(); file not open'; qqppppp := 'cHostFile.getAttributesSupported(); file not open'; qqppppq := 'cHostFile.setPath(); file not open'; qqpppqp := 'cHostFile.setPath(); file opened in read only mode'; qqpppqq := 'cHostFile.setPath(); path=NILA'; qqppqpp := 'cHostFile.setPath(); path is invalid'; qqppqpq := 'error renaming host file'; qqppqqp := 'cHostFile.setPath()'; qqppqqq := 'cHostFile.getPath(); file not open'; qqpqppp := 'cHostFile.setExtra(); file not open'; qqpqppq := 'cHostFile.setExtra(); file opened in read only mode'; qqpqpqp := 'cHostFile.getExtra(); file not open'; qqpqpqq := 'cHostFile.changeExtra(); file not open'; qqpqqpp := 'cHostFile.changeExtra(); file opened in read only mode'; qqpqqpq := 'error setting file protection bits'; qqpqqqp := 'error setting file comment'; qqpqqqq := 'cHostFile.changeExtra(); ExamineFH() failed'; qqqpppp := 'cHostFile.changeExtra()'; qqqpppq := 'cHostFile.queryExtra(); file not open'; qqqppqp := 'cHostFile.write(); file not open'; qqqppqq := 'cHostFile.write(); file opened in read only mode'; qqqpqpp := 'cHostFile.write(); lengthInBytes<0'; qqqpqpq := 'cHostFile.write(); buffer=NILA'; qqqpqqp := 'cHostFile.write(); offsetInBytes<0'; qqqpqqq := 'cHostFile.write(); size of written data does not match that expected'; qqqqppp := 'cHostFile.write(); ExamineFH() failed'; qqqqppq := 'cHostFile.read(); file not open'; qqqqpqp := 'cHostFile.read(); lengthInBytes<0'; qqqqpqq := 'cHostFile.read(); buffer=NILA'; qqqqqpp := 'cHostFile.read(); offsetInBytes<0'; qqqqqpq := 'cHostFile.read(); size of read data does not match that expected'; qqqqqqp := 'cHostFile.setPosition(); file not open'; qqqqqqq := 'cHostFile.setPosition(); position before start of file is illegal'; qqpppppp := 'cHostFile.getPosition(); file not open'; qqpppppq := 'cHostFile.writePadBytes(); not all pad bytes were written, disk may be full'; qqppppqp := 'cHostFile.writePadBytes(); too many pad bytes were written'; qqppppqq := 'cHostFile.setSizeQuick(); filingsystem does not support reducing the file size'; qqpppqpp := 'cHostFile.setSizeQuick(); Disk full, or otherwise filingsystem failed to increase file size'; qqpppqpq := 'cHostFile.setSizeQuick(); filingsystem failed to reduce file size'; qqpppqqp := 'cHostFile.setSize(); file not open'; qqpppqqq := 'cHostFile.setSize(); file opened in read only mode'; qqppqppp := 'cHostFile.setSize(); sizeInBytes<0'; qqppqppq := 'cHostFile.setSize(); ExamineFH() failed'; qqppqpqp := 'cHostFile.getSize(); file not open'; qqppqpqq := 'cHostFile.setTime(); file not open'; qqppqqpp := 'cHostFile.setTime(); file opened in read only mode'; qqppqqpq := 'error setting file date'; qqppqqqp := 'cHostFile.setTime(); ExamineFH() failed'; qqppqqqq := 'cHostFile.changeExtra()'; qqpqpppp := 'cHostFile.getTime(); file not open';ENDPROC
PUBLIC
PROC new(qqpqpppq=1194705572 XOR $4735C2A4:BYTE) NEW OF cHostFile;; self.failureOrigin := NILA; self.failureReason := NILA; self.readOnly := 103920890 XOR $631B4FA; self.q := qqpqpppq; self.qq := NILS; self.qqp := NILS; self.qqq := AllocDosObject(5801342 XOR $58857C, NILA); IF (67802898 XOR $40A9712)= self.qqq THEN Raise("MEM" ); self.qqq := self.qqq ; self.qqpp := NIL; self.qqpq := 1937911 XOR $1D91F7; self.qqqp := 1317158292 XOR $4E823D94; self.qqqq := 32907547 XOR $1F6211B; self.qqppp := 7321838 XOR $6FB8EE; self.qqppq := 5159811 XOR $4EBB83; self.qqpqp := NILS; self.qqqpp := NIL; self.qqqpq := NILS;ENDPROC
PROC end() OF cHostFile;; IF self.qqpp THEN self.close(); SUPER self.end(); IF self.qqq THEN FreeDosObject(806916984 XOR $3018937A, self.qqq);ENDPROC
PROC open(qqpqpppq:ARRAY OF CHAR, qqpqppqp=991754032 XOR $3B1CF730:BOOL, qqpqppqq=872144084 XOR $33FBDCD4:BOOL, qqpqpqpp=519412180 XOR $1EF599D4:BOOL) OF cHostFile;DEF qqpqpqpq:BOOL,qqpqpqqp:BPTR,qqpqpqqq:BOOL,qqpqqppp:BOOL,qqpqqppq,qqpqqpqp:BOOL,qqpqqpqq:PTR TO datestamp,qqpqqqpp:STRING,qqpqqqpq,qqpqqqqp:ARRAY OF CHAR,qqpqqqqq,qqqppppp:STRING; qqpqpqpq := 6153887 XOR -$5DE6A0; qqpqpqqq := 430533608 XOR -$19A96BE9; qqpqqppp := 496079572 XOR $1D9192D4; IF self.qqpp THEN Throw("EMU", qqpp ); IF qqpqpppq = (7599590 XOR $73F5E6) THEN Throw("EMU", qqpq ); IF InvalidFilePath(qqpqpppq) THEN Throw("EMU", qqqp ); self.failureOrigin := NILA; self.failureReason := NILA; self.readOnly := qqpqppqp; self.qqp := ExportPath(qqpqpppq); self.qq := StrJoin(qqpqpppq); self.qqppq := 741001096 XOR $2C2AC788; self.qqpqp := NILS; self.qqpqq := 1144068636 XOR $44311A1C; self.qqqpp := NIL; qqpqpqqp := Lock(self.qqp, 1400404620 XOR -$53787A8E); qqpqqpqp := 102888147 XOR $621F2D3; IF qqpqpqqq := qqpqpqqp <> (6913052 XOR $697C1C); qqpqqpqp := NOT (StrCmpNoCase(qqpqpppq, qqp , 1309956624 XOR $4E145A1A) OR StrCmpNoCase(qqpqpppq, qqq , 97096056 XOR $5C9917D)); IF qqpqqppp := Examine(qqpqpqqp, self.qqq); qqpqqpqp := 151059 XOR -$24E14; qqpqqppq := self.qqq.protection; IF qqpqqppq AND (502729 XOR $7ABC1) <> (109615268 XOR $68898A4); IF qqpqppqq; qqpqqppq := qqpqqppq AND NOT (1702567 XOR $19FAAF); IF SetProtection(self.qqp, qqpqqppq) = (7178851 XOR $6D8A63); self.failureReason := qqqq ; RETURN 38770966 XOR $24F9916; ENDIF; self.qqppq := self.qqppq OR (266517004 XOR $FE2BA04); ELSE; self.failureReason := qqppp ; RETURN 524043 XOR $7FF0B; ENDIF; ENDIF; IF qqpqppqp = (1314764024 XOR $4E5DB4F8)  AND (qqpqqppq AND (350668 XOR $559C8) <> (42287507 XOR $2854193)); IF qqpqppqq; qqpqqppq := qqpqqppq AND NOT ((169482 XOR $2960E) OR (437503 XOR $6ACFE)) ; IF SetProtection(self.qqp, qqpqqppq) = (221364 XOR $360B4); self.failureReason := qqppq ; RETURN 43443048 XOR $296E368; ENDIF; self.qqppq := self.qqppq OR ((3716840 XOR $38B6EC) OR (2060564220 XOR $7AD1B6FD)); ELSE; self.failureReason := qqpqp ; RETURN 2491563 XOR $2604AB; ENDIF; ENDIF; self.qqq.protection := qqpqqppq; ENDIF; qqpqpqqp := qqp(qqpqpqqp); ELSE IF IoErr() <> (113524 XOR $1BBB9) ; qqpqpqqq := 331144 XOR -$50D89; ENDIF; IF qqpqppqp = (6410602 XOR $61D16A); qqpqqqqp := qqpqq ; qqpqqqqq := 1973804 XOR $1E1E3F; qqpqqqpp := IF qqpqpqqq THEN expandPath(self.qqp) ELSE expandPathForCreation(self.qqp); qqpqqqpq := InStr(qqpqqqpp, qqqpp ) ; NEW qqqppppp[qqpqqqqq + (80514503 XOR $4CC8DC6) + EstrLen(qqpqqqpp)]; StrCopy(qqqppppp, qqpqqqqp); IF qqpqqqpq <> -(67656 XOR $10849); qqpqqqpp[qqpqqqpq] := 116011390 XOR $6EA317E; strAddPart(qqqppppp, qqpqqqpp); StrCopy(qqpqqqpp, qqpqqqpp, 5175753 XOR -$4EF9CA, qqpqqqpq+(340880 XOR $53391)); strAddPart(qqqppppp, qqpqqqpp); ELSE; strAddPart(qqqppppp, qqpqqqpp); ENDIF; deleteDirTree(qqqppppp) ; createDirTree(qqqppppp,  403592 XOR -$62889,  13055648 XOR -$C736A1); self.qqqpp := Open(qqqppppp, 103153541 XOR $625FC6B); IF self.qqqpp = (129482484 XOR $7B7BEF4); self.failureReason := qqqpq ; RETURN 282795000 XOR $10DB1BF8; ENDIF; self.qqqpq := PASS qqqppppp; ENDIF; self.qqpp := Open(self.qqp, IF qqpqppqp THEN (178382080 XOR $AA1E6ED) ELSE (523644948 XOR $1F3633F8)) ; IF self.qqpp = (121881813 XOR $743C4D5)  AND (qqpqppqp = (126104935 XOR $7843567)); IF qqpqqpqp = (1181577560 XOR $466D7158); self.qqpp := Open(self.qqp, 103153541 XOR $625FC6B); ELSE IF StrCmpNoCase(qqpqpppq, qqp , 1309956624 XOR $4E145A1A) OR StrCmpNoCase(qqpqpppq, qqq , 97096056 XOR $5C9917D); self.qqpp := Open(self.qqp, 178382080 XOR $AA1E6ED); ENDIF; ENDIF; IF self.qqpp = (769955092 XOR $2DE49514); self.failureReason := qqq(IF qqpqpqqq THEN qqqqp ELSE (IF qqpqppqp THEN qqqqq ELSE qqpppp )); RETURN 138273 XOR $21C21; ENDIF; self.qqppp := 3007048 XOR $2DE248; IF ExamineFH(self.qqpp, self.qqq) = (26181805 XOR $18F80AD); self.qqppp := self.qqppp OR (7746364 XOR $76333D) ; ELSE; qqpqqppp := 1873119328 XOR -$6FA58861; ENDIF; IF qqpqqppp = (507406 XOR $7BE0E); self.qqq.protection := 1414347928 XOR $544D3C98; self.qqq.comment[(8078195 XOR $7B4373)] := 1176385 XOR $11F341; qqpqqpqq := self.qqq.datestamp ; qqpqqpqq.days, qqpqqpqq.minute, qqpqqpqq.tick := qqppq(2652836 XOR $287AA4); ENDIF; self.qqpq := getFileSize64(self.qqpp,  126419 XOR -$1EDD4); IF self.qqpq = -(48316890 XOR $2E141DB); IF self.qqpq = -(7536340 XOR $72FED5) THEN IF qqpqqppp THEN self.qqpq := self.qqq.size; ENDIF; IF self.qqpq = -(111452637 XOR $6A4A1DC); self.failureReason := qqq(qqpppq ); RETURN 27727 XOR $6C4F; ENDIF; IF StrCmpNoCase(qqpqpppq, qqp , 1309956624 XOR $4E145A1A) OR StrCmpNoCase(qqpqpppq, qqq , 97096056 XOR $5C9917D)THEN self.qqppp := self.qqppp OR (151059 XOR $24E12) ; self.qqqp := IF qqpqpqpp THEN self.qqpq ELSE (502729 XOR $7ABC9); IF setFilePosition64(self.qqpp, self.qqqp) = (109615268 XOR $68898A4); self.failureReason := qqq(IF qqpqpqpp THEN qqppqp ELSE qqppqq ); RETURN 1702567 XOR $19FAA7; ENDIF; self.qqqq := self.qqqp;FINALLY; IF qqpqpqpq = (7178851 XOR $6D8A63)  OR exception; IF self.qqpp; Close(self.qqpp) ; self.qqpp := NIL; ENDIF; END self.qqp; IF self.qq; IF qqpqpqqq OR qqpqppqp = (38770966 XOR $24F9916) THEN DeletePath(self.qq, 266517004 XOR -$FE2BA0D) ; END self.qq; ENDIF; IF self.qqqpp; Close(self.qqqpp) ; self.qqqpp := NIL; ENDIF; ENDIF; IF qqpqpqpq = (524043 XOR $7FF0B); self.failureOrigin := qqpqpp ; ENDIF; END qqpqqqpp, qqqppppp;ENDPROC qqpqpqpq 
PROC close() OF cHostFile;; IF self.qqpp = (1314764024 XOR $4E5DB4F8) THEN Throw("EMU", qqpqpq ); Close(self.qqpp) ; self.qqpp := NIL; IF self.qqppq; self.qqq.protection := self.qqq.protection OR self.qqppq; SetProtection(self.qqp, self.qqq.protection); ENDIF; END self.qq; END self.qqp; END self.qqpqp; IF self.qqqpp; Close(self.qqqpp) ; self.qqqpp := NIL; DeleteFile(self.qqqpq); END self.qqqpq; ENDIF;ENDPROC
PROC flush() OF cHostFile;; IF self.qqpp = (350668 XOR $559CC) THEN Throw("EMU", qqpqqp ); IF self.readOnly = (42287507 XOR $2854193) THEN Flush(self.qqpp); IF ExamineFH(self.qqpp, self.qqq) = (169482 XOR $2960A) AND (self.qqppp AND (437503 XOR $6ACFE) = (221364 XOR $360B4)) THEN Throw("FILE", qqpqqq ); self.qqpq := self.qqq.size; END self.qqpqp; self.qqpqq := 43443048 XOR $296E368;ENDPROC
PROC make() OF cHostFile;DEF qqpqpppq:PTR TO cHostFile; NEW qqpqpppq;ENDPROC qqpqpppq 
PROC clone(qqpqpppq=3716840 XOR $38B6E8:BOOL) OF cHostFile IS SUPER self.clone(qqpqpppq)::cHostFile
PROC makeCopy(qqpqpppq:ARRAY OF CHAR) OF cHostFile IS SUPER self.makeCopy(qqpqpppq)::cHostFile
PROC infoIsOpen() OF cHostFile RETURNS qqpqpppq:BOOL  IS self.qqpp <> (2060564220 XOR $7AD1B6FC)
PROC infoPadByte() OF cHostFile RETURNS qqpqpppq:BYTE  IS self.q
PRIVATE
PROC q() OF cHostFile;; IF self.qqpp = (2491563 XOR $2604AB) THEN Throw("BUG", qqqppp ); Close(self.qqpp) ; self.qqpp := NIL;ENDPROC
PROC qq() OF cHostFile;; IF self.qqpp <> (1867572960 XOR $6F50E6E0) THEN Throw("BUG", qqqppq ); self.qqpp := Open(self.qqp, IF self.readOnly THEN (178382080 XOR $AA1E6ED) ELSE (523644948 XOR $1F3633F8)); IF self.qqpp = (121881813 XOR $743C4D5)  AND (self.readOnly = (126104935 XOR $7843567)); IF self.qqpq = (1181577560 XOR $466D7158)  AND (self.qqpqp = (255237668 XOR $F369E24)); self.qqpp := Open(self.qqp, 103153541 XOR $625FC6B); ELSE IF StrCmpNoCase(self.qq, qqp , 1309956624 XOR $4E145A1A) OR StrCmpNoCase(self.qq, qqq , 97096056 XOR $5C9917D)OR (self.qqpqp <> (151059 XOR $24E13)); self.qqpp := Open(self.qqp, 178382080 XOR $AA1E6ED); ENDIF; ENDIF; IF self.qqpp = (769955092 XOR $2DE49514); END self.qq; END self.qqp; Throw("BUG", qqqpqp ); ENDIF; self.qqqq := q(self.qqpp);ENDPROC
PUBLIC
PROC setAttributes(qqpqpppq, qqpqppqp=-(138273 XOR $21C20)) OF cHostFile;DEF qqpqppqq:BOOL,qqpqpqpp,qqpqpqpq; qqpqppqq := 3007048 XOR -$2DE249; IF self.qqpp = (26181805 XOR $18F80AD) THEN Throw("EMU", qqqpqq ); IF self.readOnly THEN Throw("EMU", qqqqpp ); qqpqpppq := qqpqpppq AND qqpqppqp ; qqpqpqpp := self.getAttributes(); qqpqpqpp := qqpqpqpp AND NOT qqpqppqp ; qqpqpqpp := qqpqpqpp OR qqpqpppq ; qqpqpqpq := self.qqq.protection AND NOT ((7746364 XOR $763334) OR (1873119328 XOR $6FA58864) OR (507406 XOR $7BE0F) OR (5426361 XOR $52CC39)) ; IF qqpqpqpp AND (67602316 XOR $407878E)   = (1686717680 XOR $648944F0) THEN qqpqpqpq := qqpqpqpq OR (1033239 XOR $FC41F); IF qqpqpqpp AND (117117634 XOR $6FB12C6)   = (1001369476 XOR $3BAFAF84) THEN qqpqpqpq := qqpqpqpq OR (8026935 XOR $7A7B33); IF qqpqpqpp AND (2107988488 XOR $7DA55A00)  = (6599428 XOR $64B304) THEN qqpqpqpq := qqpqpqpq OR (141109 XOR $22734); IF qqpqpqpp AND (339515 XOR $52E2B) THEN qqpqpqpq := qqpqpqpq OR (5426361 XOR $52CC39); self.q(); IF SetProtection(self.qqp, qqpqpqpq) = (67602316 XOR $407878C); self.failureReason := qqq(qqqqpq ); self.qq(); RETURN 1686717680 XOR $648944F0; ENDIF; self.qqppq := self.qqppq AND NOT (qqpqpqpq XOR self.qqq.protection) ; self.qqq.protection := qqpqpqpq; self.qq();FINALLY; IF qqpqppqq = (1033239 XOR $FC417); self.failureOrigin := qqqqqp ; ENDIF;ENDPROC qqpqppqq 
PROC getAttributes() OF cHostFile;DEF qqpqpppq,qqpqppqp; IF self.qqpp = (117117634 XOR $6FB12C2) THEN Throw("EMU", qqqqqq ); qqpqppqp := self.qqq.protection OR self.qqppq; qqpqpppq := 1001369476 XOR $3BAFAF84; IF qqpqppqp AND (8026935 XOR $7A7B3F)   = (2107988488 XOR $7DA55A08) THEN qqpqpppq := qqpqpppq OR (6599428 XOR $64B306); IF qqpqppqp AND (141109 XOR $22731)   = (5335278 XOR $5168EE) THEN qqpqpppq := qqpqpppq OR (925878816 XOR $372FCA24); IF qqpqppqp AND (523550 XOR $7FD1F)  = (7865203 XOR $780373) THEN qqpqpppq := qqpqpppq OR (477084104 XOR $1C6FB9C0); IF qqpqppqp AND (5426361 XOR $52CC39) THEN qqpqpppq := qqpqpppq OR (339515 XOR $52E2B);ENDPROC qqpqpppq 
PROC getAttributesSupported() OF cHostFile;DEF qqpqpppq; IF self.qqpp = (351838 XOR $55E5E) THEN Throw("EMU", qqppppp ); IF self.qqppp AND (6181091 XOR $5E50E2) = (398509508 XOR $17C0C5C4); qqpqpppq := (92863 XOR $16ABD) OR (3723938 XOR $38D2A6) OR (37534 XOR $9296) OR (339515 XOR $52E2B); ELSE; qqpqpppq := 351838 XOR $55E5E; ENDIF;ENDPROC qqpqpppq 
PROC setPath(qqpqpppq:ARRAY OF CHAR) OF cHostFile;DEF qqpqppqp:BOOL,qqpqppqq:STRING; qqpqppqp := 6181091 XOR -$5E50E4; IF self.qqpp = (398509508 XOR $17C0C5C4) THEN Throw("EMU", qqppppq ); IF self.readOnly THEN Throw("EMU", qqpppqp ); IF qqpqpppq = (92863 XOR $16ABF) THEN Throw("EMU", qqpppqq ); IF InvalidFilePath(qqpqpppq) THEN Throw("EMU", qqppqpp ); qqpqppqq := ExportPath(qqpqpppq); self.q(); IF Rename(self.qqp, qqpqppqq) = (3723938 XOR $38D2A2); self.failureReason := qqq(qqppqpq ); self.qq(); RETURN 37534 XOR $929E; ENDIF; END self.qq; self.qq := StrJoin(qqpqpppq); END self.qqp; self.qqp := PASS qqpqppqq; self.qq();FINALLY; END qqpqppqq; IF qqpqppqp = (500651 XOR $7A3AB); self.failureOrigin := qqppqqp ; ENDIF;ENDPROC qqpqppqp 
PROC getPath() OF cHostFile;DEF qqpqpppq:ARRAY OF CHAR; IF self.qqpp = (3829907 XOR $3A7093) THEN Throw("EMU", qqppqqq ); qqpqpppq := self.qq;ENDPROC qqpqpppq 
PROC setExtra(qqpqpppq:PTR TO cExtra) OF cHostFile;DEF qqpqppqp:BOOL,qqpqppqq,qqpqpqpp:BOOL; IF self.qqpp = (93752511 XOR $5968CBF) THEN Throw("EMU", qqpqppp ); IF self.readOnly THEN Throw("EMU", qqpqppq ); qqpqppqp := 1743406532 XOR -$67EA45C5; IF qqpqpppq = (74397884 XOR $46F38BC) THEN RETURN; qqpqppqq, qqpqpqpp := qqpqpppq.queryExtra("COMM"); IF qqpqpqpp = (8233297 XOR $7DA151) THEN qqpqppqp := qqpqppqp AND self.changeExtra("COMM", qqpqppqq); qqpqppqq, qqpqpqpp := qqpqpppq.queryExtra("ATTR"); IF qqpqpqpp = (2243483 XOR $223B9B) THEN qqpqppqp := qqpqppqp AND self.changeExtra("ATTR", qqpqppqq); qqpqppqq, qqpqpqpp := qqpqpppq.queryExtra("SLNK"); IF qqpqpqpp = (7669747 XOR $7507F3) THEN qqpqppqp := qqpqppqp AND self.changeExtra("SLNK", qqpqppqq); qqpqppqq, qqpqpqpp := qqpqpppq.queryExtra("HLNK"); IF qqpqpqpp = (405265 XOR $62F11) THEN qqpqppqp := qqpqppqp AND self.changeExtra("HLNK", qqpqppqq);ENDPROC qqpqppqp 
PROC getExtra() OF cHostFile;DEF qqpqpppq:PTR TO cExtra,qqpqppqp:PTR TO cHostExtra; IF self.qqpp = (924080 XOR $E19B0) THEN Throw("EMU", qqpqpqp ); NEW qqpqppqp.new(); IF qqpqppqp.setExtra(self) = (54988 XOR $D6CC) THEN END qqpqppqp; RETURN qqpqppqp;ENDPROC qqpqpppq 
PROC changeExtra(qqpqpppq:QUAD, qqpqppqp) OF cHostFile;DEF qqpqppqq:BOOL,qqpqpqpp:BOOL,qqpqpqpq,qqpqpqqp,qqpqpqqq,qqpqqppp:ARRAY OF CHAR,qqpqqppq:STRING,qqpqqpqp,qqpqqpqq,qqpqqqpp,qqpqqqpq:ARRAY OF CHAR,qqpqqqqp:STRING,qqpqqqqq:BOOL; qqpqppqq := 2769272 XOR -$2A4179; IF self.qqpp = (966510 XOR $EBF6E) THEN Throw("EMU", qqpqpqq ); IF self.readOnly THEN Throw("EMU", qqpqqpp ); qqpqqqpp := IF qqpqpppq = "SLNK" THEN (734177 XOR $B33E3) ELSE (IF qqpqpppq = "HLNK" THEN (314479 XOR $4CC6C) ELSE (123099833 XOR $7565AB9)); IF qqpqqqpp THEN qqpqpppq := "link" ELSE IF qqpqpppq = "link" THEN qqpqpppq := 73047 XOR $11D57; qqpqpqpp := 64778360 XOR $3DC7078; SELECT qqpqpppq; CASE "ATTR"; qqpqpqqp := NOT ((44606219 XOR $2A8A303) OR (1554735784 XOR $5CAB62AC) OR (655021660 XOR $270AD65D) OR (5426361 XOR $52CC39)) ; qqpqpqpq := qqpqppqp AND qqpqpqqp ; qqpqpqqq := self.qqq.protection; qqpqpqqq := qqpqpqqq AND NOT qqpqpqqp ; qqpqpqqq := qqpqpqqq OR qqpqpqpq ; self.q(); IF SetProtection(self.qqp, qqpqpqqq) = (67602316 XOR $407878C); self.failureReason := qqq(qqpqqpq ); self.qq(); RETURN 1686717680 XOR $648944F0; ENDIF; self.qqq.protection := qqpqpqqq; self.qq(); CASE "COMM"; qqpqqppp := qqpqppqp!!ARRAY OF CHAR; qqpqqpqq := StrLen(qqpqqppp); IF qqpqqpqq > (999214584 XOR $3B8ECDB7); NEW qqpqqppq[(999214584 XOR $3B8ECDB7)]; StrCopy(qqpqqppq, qqpqqppp); qqpqqppp := qqpqqppq; ENDIF; self.q(); IF SetComment(self.qqp, qqpqqppp) = (201171 XOR $311D3); self.failureReason := qqq(qqpqqqp ); self.qq(); RETURN 381718 XOR $5D316; ENDIF; self.qq(); qqpqqpqq := Min(999214584 XOR $3B8ECDB7, qqpqqpqq); FOR qqpqqpqp := 201171 XOR $311D3 TO qqpqqpqq-(381718 XOR $5D317) DO self.qqq.comment[qqpqqpqp] := qqpqqppp[qqpqqpqp]; self.qqq.comment[qqpqqpqq] := 2111543728 XOR $7DDB99B0; END qqpqqppq; CASE "link"; qqpqqqpq := qqpqppqp!!ARRAY OF CHAR; qqpqqqqq := 89177 XOR $15C59; IF self.qqpqq <> qqpqqqpp; qqpqqqqq := 3953595 XOR -$3C53BC; ELSE IF self.qqpqp <> (11776 XOR $2E00)  AND (qqpqqqpq <> (31860933 XOR $1E628C5)); IF StrCmpNoCase(self.qqpqp, qqpqqqpq) = (416033 XOR $65921) THEN qqpqqqqq := 303502916 XOR -$12171645; ELSE IF self.qqpqp <> (1019206340 XOR $3CBFDAC4)  <> (qqpqqqpq <> (331378 XOR $50E72)); qqpqqqqq := 97534 XOR -$17CFF; ENDIF; IF qqpqqqqq; IF qqpqqqpq; qqpqppqq := IF qqpqqqpp = (210767240 XOR $C900D8B) THEN ExistsPath(qqpqqqpq) ELSE (5519017 XOR -$5436AA) ; IF qqpqppqq; self.q(); IF qqpqppqq := DeletePath(self.qq, 22142193 XOR -$151DCF2); qqpqqqqp := ExportPath(qqpqqqpq); IF qqpqppqq := easyMakeLink(self.qqp, qqpqqqqp,  qqpqqqpp=(24785761 XOR $17A3363)); END self.qqpqp; self.qqpqp := StrJoin(qqpqqqpq); self.qqpqq := qqpqqqpp; ENDIF; ENDIF; self.qq(); ENDIF; ELSE; IF self.qqpqq = (51791103 XOR $31644FF); self.qqpqp, self.qqpqq := qqqq(self.qqp, self.qq); ENDIF; IF self.qqpqq = qqpqqqpp; self.q(); IF qqpqppqq := DeletePath(self.qq, 4280445 XOR -$41507E); END self.qqpqp; self.qqpqq := 29296 XOR $7271; ENDIF; self.qq(); ELSE; qqpqppqq := 48235456 XOR -$2E003C1; ENDIF; ENDIF; IF qqpqppqq; IF ExamineFH(self.qqpp, self.qqq) = (1695625204 XOR $65112FF4) AND (self.qqppp AND (5057488 XOR $4D2BD1) = (1225450764 XOR $490AE50C)) THEN Throw("FILE", qqpqqqq ); self.qqpq := self.qqq.size; ENDIF; ELSE; qqpqppqq := 109295708 XOR -$683B85D; ENDIF; DEFAULT; qqpqppqq := 432919396 XOR $19CDD364; qqpqpqpp := 100030309 XOR -$5F65766; ENDSELECT;FINALLY; IF qqpqppqq = (153423 XOR $2574F); self.failureOrigin := qqqpppp ; ENDIF; END qqpqqqqp;ENDPROC qqpqppqq ,qqpqpqpp 
PROC queryExtra(qqpqpppq:QUAD) OF cHostFile;DEF qqpqppqp,qqpqppqq:BOOL,qqpqpqpp; IF self.qqpp = (7956828 XOR $79695C) THEN Throw("EMU", qqqpppq ); qqpqppqp := 19693567 XOR $12C7FFF; qqpqppqq := 218454 XOR $35556; SELECT qqpqpppq; CASE "ATTR"; qqpqpqpp := NOT ((5442432 XOR $530B88) OR (31445 XOR $7AD1) OR (4608966 XOR $4653C7) OR (5426361 XOR $52CC39)); qqpqppqp := self.qqq.protection AND qqpqpqpp; CASE "COMM"; qqpqppqp := self.qqq.comment; CASE "SLNK"; IF self.qqpqq = (67602316 XOR $407878C); self.qqpqp, self.qqpqq := qqqq(self.qqp, self.qq); ENDIF; qqpqppqp := IF self.qqpqq = (1686717680 XOR $648944F2) THEN self.qqpqp ELSE NILS; CASE "HLNK"; IF self.qqpqq = (1033239 XOR $FC417); self.qqpqp, self.qqpqq := qqqq(self.qqp, self.qq); ENDIF; qqpqppqp := IF self.qqpqq = (117117634 XOR $6FB12C1) THEN self.qqpqp ELSE NILS; CASE "LINK"; IF self.qqpqq = (1001369476 XOR $3BAFAF84); self.qqpqp, self.qqpqq := qqqq(self.qqp, self.qq); ENDIF; qqpqppqp := self.qqpqp; DEFAULT; qqpqppqq := 8026935 XOR -$7A7B38; ENDSELECT;ENDPROC qqpqppqp ,qqpqppqq 
PROC write(qqpqpppq:ARRAY, qqpqppqp, qqpqppqq=2107988488 XOR $7DA55A08, qqpqpqpp=6599428 XOR $64B304:BOOL) OF cHostFile;DEF qqpqpqpq:BIGVALUE,qqpqpqqp,qqpqpqqq:BIGVALUE,qqpqqppp:BIGVALUE,qqpqqppq:BIGVALUE; IF self.qqpp = (141109 XOR $22735) THEN Throw("EMU", qqqppqp ); IF self.readOnly THEN Throw("EMU", qqqppqq ); IF qqpqppqp < (5335278 XOR $5168EE) THEN Throw("EMU", qqqpqpp ); IF qqpqpppq = (925878816 XOR $372FCA20) THEN Throw("EMU", qqqpqpq ); IF qqpqppqq < (523550 XOR $7FD1E) THEN Throw("EMU", qqqpqqp ); IF qqpqpqpp; qqpqpqqq := IF (7865203 XOR $780373) > (self.qqpq - self.qqqp )THEN (477084104 XOR $1C6FB9C8) ELSE self.qqpq - self.qqqp; qqpqpqqp := Max(34664 XOR $8768, qqpqppqp - qqpqpqqq !!VALUE); qqpqppqp := (IF qqpqpqqq < qqpqppqp THEN qqpqpqqq ELSE qqpqppqp)!!VALUE; ELSE; qqpqqppp := self.qqpq; qqpqqppq := self.qqqp + qqpqppqp; IF qqpqqppq > qqpqqppp; self.qqq(qqpqqppq); ENDIF; IF self.qqqp > qqpqqppp THEN self.qqp(self.qqqp - qqpqqppp, qqpqqppp); qqpqpqqp := 1981795588 XOR $761FCD04; ENDIF; IF qqpqppqp > (96864 XOR $17A60); IF self.qqqq <> self.qqqp THEN qq(self.qqpp, self.qqqq := self.qqqp); IF Write(self.qqpp, qqpqpppq + qqpqppqq, qqpqppqp) <> qqpqppqp THEN Throw("FILE", qqqpqqq ); self.qqqq := self.qqqq + qqpqppqp; ENDIF; qqpqpqpq := self.qqqp + qqpqppqp; IF ExamineFH(self.qqpp, self.qqq) = (235014 XOR $39606) AND (self.qqppp AND (5996462 XOR $5B7FAF) = (7487745 XOR $724101)) THEN Throw("FILE", qqqqppp );FINALLY; IF exception; self.qqqq := q(self.qqpp); ENDIF;ENDPROC qqpqpqpq ,qqpqpqqp 
PROC read(qqpqpppq:ARRAY, qqpqppqp, qqpqppqq=90336419 XOR $5626CA3, qqpqpqpp=-(566428804 XOR $21C30485):INT) OF cHostFile;DEF qqpqpqpq:BIGVALUE,qqpqpqqp,qqpqpqqq:BIGVALUE,qqpqqppp,qqpqqppq:ARRAY OF BYTE,qqpqqpqp:BYTE,qqpqqpqq,qqpqqqpp,qqpqqqpq; IF self.qqpp = (7376123 XOR $708CFB) THEN Throw("EMU", qqqqppq ); IF qqpqppqp < (854421592 XOR $32ED7058) THEN Throw("EMU", qqqqpqp ); IF qqpqpppq = (91025 XOR $16391) THEN Throw("EMU", qqqqpqq ); IF qqpqppqq < (121634413 XOR $73FFE6D) THEN Throw("EMU", qqqqqpp ); qqpqqppp := qqpqppqp; qqpqpqqq := IF (101388583 XOR $60B1127) > (self.qqpq - self.qqqp )THEN (193471 XOR $2F3BF) ELSE self.qqpq - self.qqqp; qqpqpqqp := (IF (68757945 XOR $41929B9) > (qqpqppqp - qqpqpqqq )THEN (1256774184 XOR $4AE8DA28) ELSE qqpqppqp - qqpqpqqq)!!VALUE; IF qqpqpqqp > (1162884056 XOR $455033D8) THEN qqpqppqp := qqpqpqqq !!VALUE; IF qqpqppqp > (6798909 XOR $67BE3D); IF self.qqqq <> self.qqqp THEN qq(self.qqpp, self.qqqq := self.qqqp); IF Read(self.qqpp, qqpqpppq + qqpqppqq, qqpqppqp) <> qqpqppqp THEN Throw("BUG", qqqqqpq ); self.qqqq := self.qqqq + qqpqppqp; ENDIF; qqpqqppq := qqpqpppq + qqpqppqq !!ARRAY; qqpqqpqp := self.q; FOR qqpqqpqq := qqpqppqp TO qqpqqppp-(499957 XOR $7A0F4) DO qqpqqppq[qqpqqpqq] := qqpqqpqp; IF qqpqpqpp >= (6442498 XOR $624E02); qqpqqppq := qqpqpppq + qqpqppqq !!ARRAY; qqpqqqpp := -(331335 XOR $50E46); FOR qqpqqpqq := 1411703 XOR $158A77 TO qqpqqppp-(5949688 XOR $5AC8F9); IF qqpqqppq[qqpqqpqq] = qqpqpqpp THEN qqpqqqpp := qqpqqpqq; ENDFOR IF qqpqqqpp <> -(16301765 XOR $F8BEC4); IF qqpqqqpp <> -(550980516 XOR $20D74BA5); qqpqqqpq := qqpqpqqp; qqpqpqqp := qqpqqppp - (qqpqqqpp + (7392479 XOR $70CCDE)); qqpqppqp := qqpqqqpp + (97740295 XOR $5D36606); qqpqqpqp := self.q; FOR qqpqqpqq := qqpqppqp TO qqpqqppp-(167304 XOR $28D89)-qqpqqqpq DO qqpqqppq[qqpqqpqq] := qqpqqpqp; qqpqqppp := qqpqppqp; ENDIF; ENDIF; qqpqpqpq := self.qqqp + qqpqqppp;FINALLY; IF exception; self.qqqq := q(self.qqpp); ENDIF;ENDPROC qqpqpqpq ,qqpqpqqp 
PROC setPosition(qqpqpppq:BIGVALUE) OF cHostFile;; IF self.qqpp = (215902 XOR $34B5E) THEN Throw("EMU", qqqqqqp ); IF qqpqpppq < (25624734 XOR $187009E); qqpqpppq := qqpqpppq + self.qqpq + (108811283 XOR $67C5412); IF qqpqpppq < (89404104 XOR $55432C8) THEN Throw("EMU", qqqqqqq ); ENDIF; self.qqqp := qqpqpppq;ENDPROC
PROC getPosition(qqpqpppq=1507156724 XOR $59D562F4:BOOL) OF cHostFile;DEF qqpqppqp:BIGVALUE; IF self.qqpp = (31957 XOR $7CD5) THEN Throw("EMU", qqpppppp ); IF qqpqpppq = (4711041 XOR $47E281); qqpqppqp := self.qqqp; ELSE; qqpqppqp := self.qqqp - self.qqpq - (130788220 XOR $7CBAB7D); ENDIF;ENDPROC qqpqppqp 
PRIVATE
PROC qqp(qqpqpppq:BIGVALUE, qqpqppqp:BIGVALUE) OF cHostFile;DEF qqpqppqq:ARRAY OF BYTE,qqpqpqpp,qqpqpqpq,qqpqpqqp,qqpqpqqq:BYTE; qqpqpqpp := (IF (6321809 XOR $E07691) < qqpqpppq THEN (6321809 XOR $E07691) ELSE qqpqpppq)!!VALUE; NEW qqpqppqq[qqpqpqpp]; qqpqpqqq := self.q; FOR qqpqpqqp := 45890433 XOR $2BC3B81 TO qqpqpqpp-(318133 XOR $4DAB4) DO qqpqppqq[qqpqpqqp] := qqpqpqqq; IF self.qqqq <> qqpqppqp; qq(self.qqpp, self.qqqq := qqpqppqp); ENDIF; qqpqpqpq := qqpqpqpp; WHILE qqpqpppq > (30228 XOR $7614); IF Write(self.qqpp, qqpqppqq, qqpqpqpq) <> qqpqpqpq THEN Throw("FULL", qqpppppq ); self.qqqq := self.qqqq + qqpqpqpq; qqpqpppq := qqpqpppq - qqpqpqpq ; IF qqpqpppq < qqpqpqpq THEN qqpqpqpq := qqpqpppq !!VALUE ; ENDWHILE; IF qqpqpppq <> (159185 XOR $26DD1) THEN Throw("BUG", qqppppqp );FINALLY; END qqpqppqq;ENDPROC
PROC qqq(qqpqpppq:BIGVALUE) OF cHostFile;DEF qqpqppqp:BIGVALUE; IF qqpqpppq < self.qqpq; IF setFileSize64(self.qqpp, qqpqpppq) = (227750336 XOR $D9331C0); IF getFileSize64(self.qqpp,  27893566 XOR -$1A99F3F) = self.qqpq; qqpqppqp := self.qqpq ; IF qqpqpppq < self.qqpq; Throw("FILE", qqppppqq ); ENDIF; ELSE; setFileSize64(self.qqpp, self.qqpq); qqpqppqp := getFileSize64(self.qqpp,  311005 XOR -$4BEDE); IF qqpqpppq > self.qqpq THEN Throw("FULL", qqpppqpp ) ELSE Throw("FILE", qqpppqpq ); ENDIF; ENDIF; ELSE; qqpqppqp := qqpqpppq; ENDIF;FINALLY; IF qqpqpppq < self.qqpq; self.qqqq := getFilePosition64(self.qqpp) ; ENDIF; self.qqpq := qqpqppqp;ENDPROC
PUBLIC
PROC setSize(qqpqpppq:BIGVALUE) OF cHostFile;DEF qqpqppqp,qqpqppqq:BIGVALUE; IF self.qqpp = (20786 XOR $5132) THEN Throw("EMU", qqpppqqp ); IF self.readOnly THEN Throw("EMU", qqpppqqq ); IF qqpqpppq < (480448076 XOR $1CA30E4C) THEN Throw("EMU", qqppqppp ); qqpqppqp := qqpqpppq - self.qqpq !!VALUE; IF qqpqppqp < (7374358 XOR $708616); qqpqppqp := 108402406 XOR $67616E6 ; ELSE; qqpqppqq := self.qqpq; ENDIF; self.qqq(qqpqpppq); IF qqpqppqp > (1193757776 XOR $47274C50) THEN self.qqp(qqpqppqp, qqpqppqq); IF ExamineFH(self.qqpp, self.qqq) = (893105400 XOR $353BB4F8) AND (self.qqppp AND (16525160 XOR $FC2769) = (70901393 XOR $439DE91)) THEN Throw("FILE", qqppqppq );ENDPROC
PROC getSize() OF cHostFile;DEF qqpqpppq:BIGVALUE; IF self.qqpp = (5633 XOR $1601) THEN Throw("EMU", qqppqpqp ); qqpqpppq := self.qqpq;ENDPROC qqpqpppq 
PROC setTime(qqpqpppq:BIGVALUE) OF cHostFile;DEF qqpqppqp:BOOL,qqpqppqq:PTR TO datestamp; qqpqppqp := 19706846 XOR -$12CB3DF; IF self.qqpp = (5921113 XOR $5A5959) THEN Throw("EMU", qqppqpqq ); IF self.readOnly THEN Throw("EMU", qqppqqpp ); qqpqppqq := self.qqq.datestamp; qqpqppqq.days, qqpqppqq.minute, qqpqppqq.tick := qqppq(qqpqpppq); self.q(); IF SetFileDate(self.qqp, qqpqppqq) = (326078 XOR $4F9BE); self.failureReason := qqq(qqppqqpq ); self.qq(); RETURN 1844889732 XOR $6DF6C884; ENDIF; self.qq(); IF ExamineFH(self.qqpp, self.qqq) = (133508996 XOR $7F52F84) AND (self.qqppp AND (407370 XOR $6374B) = (7901843 XOR $789293)) THEN Throw("FILE", qqppqqqp );FINALLY; IF qqpqppqp = (5677938 XOR $56A372); self.failureOrigin := qqppqqqq ; ENDIF;ENDPROC qqpqppqp 
PROC getTime() OF cHostFile;DEF qqpqpppq:BIGVALUE; IF self.qqpp = (5945573 XOR $5AB8E5) THEN Throw("EMU", qqpqpppp ); qqpqpppq := qqppp(self.qqq.datestamp.days, self.qqq.datestamp.minute, self.qqq.datestamp.tick);ENDPROC qqpqpppq 
