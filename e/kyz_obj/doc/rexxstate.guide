@database "rexxstate"
@master "Dixie:home/kyz/dev/src/mine/e/objects/doc/rexxstate.doc"

@Node Main "rexxstate.doc"
    @{" --overview-- " Link "--overview--"}
    @{" close_console() " Link "close_console()"}
    @{" console_open() " Link "console_open()"}
    @{" end() " Link "end()"}
    @{" halt() " Link "halt()"}
    @{" new() " Link "new()"}
    @{" open_console() " Link "open_console()"}
    @{" resume() " Link "resume()"}
    @{" running() " Link "running()"}
    @{" shutdown() " Link "shutdown()"}
    @{" start() " Link "start()"}
    @{" suspend() " Link "suspend()"}
    @{" suspended() " Link "suspended()"}
    @{" trace_off() " Link "trace_off()"}
    @{" trace_on() " Link "trace_on()"}
    @{" tracing() " Link "tracing()"}
@EndNode

@Node "--overview--" "rexxstate.m/--overview--"

@{b}   PURPOSE@{ub}
	To control the global aspects of the ARexx system.

@{b}   OVERVIEW@{ub}
	ARexx  is  an  interpreter program which has the ability to trace,
	start,  pause,  and  cancel  the  ARexx scripts that it runs. This
	object allows you to control these global ARexx processes:

	- whether ARexx is running or not (RexxMast / RXC)
	  @{"running()" Link "running()"}, @{"start()" Link "start()"}, @{"shutdown()" Link "shutdown()"}
	- whether ARexx scripts are suspended or not
	  @{"suspended()" Link "suspended()"}, @{"suspend()" Link "suspend()"}, @{"resume()" Link "resume()"}
	- whether the ARexx console is open or not (TCO/TCC)
	  @{"console_open()" Link "console_open()"}, @{"open_console()" Link "open_console()"}, @{"close_console()" Link "close_console()"}
	- whether ARexx is running in trace mode or not (TS/TE).
	  @{"tracing()" Link "tracing()"}, @{"trace_on()" Link "trace_on()"}, @{"trace_off()" Link "trace_off()"}

	There  is  also  a method to immediately and irreversibly halt all
	running ARexx programs, which simulates the HI command.

@{b}   NOTE@{ub}
	The  state  of  ARexx  is global, and this class respects that, it
	shows  and sets this global ARexx state, it does not hold seperate
	states  in  individual  instances of the class, so therefore using
	more than one instance does not make sense, and is unneccessary.

	This class is based on the guts of commands in SYS:RexxC/

	Still todo is RXSET, RX is done by other/sendrexx.m and
	WaitForPort / RXLIB aren't all that useful?!

@EndNode

@Node "close_console()" "rexxstate.m/close_console"

@{b}   NAME@{ub}
	rexxstate.close_console() -- close the ARexx trace console.

@{b}   SYNOPSIS@{ub}
	succeeded := close_console()

@{b}   FUNCTION@{ub}
	Shuts the ARexx trace and debugging console, like the TCC command.

@{b}   RESULT@{ub}
	succeeded - TRUE if the console is now shut, otherwise FALSE.

@{b}   SEE ALSO@{ub}
	@{"console_open()" Link "console_open()"}, @{"open_console()" Link "open_console()"}

@EndNode

@Node "console_open()" "rexxstate.m/console_open"

@{b}   NAME@{ub}
	rexxstate.console_open() -- check if ARexx trace console is open.

@{b}   SYNOPSIS@{ub}
	open := console_open()

@{b}   FUNCTION@{ub}
	Checks if the ARexx trace and debugging console is open or not.

@{b}   RESULT@{ub}
	open - TRUE if the console is open, otherwise FALSE.

@{b}   SEE ALSO@{ub}
	@{"open_console()" Link "open_console()"}, @{"close_console()" Link "close_console()"}

@EndNode

@Node "end()" "rexxstate.m/end"

@{b}   NAME@{ub}
	rexxstate.end() -- Destructor.

@{b}   SYNOPSIS@{ub}
	end()

@{b}   FUNCTION@{ub}
	Closes resources used by an instance of the rexxstate class.

@{b}   SEE ALSO@{ub}
	@{"new()" Link "new()"}

@EndNode

@Node "halt()" "rexxstate.m/halt"

@{b}   NAME@{ub}
	rexxstate.halt() -- end all currently running ARexx programs.

@{b}   SYNOPSIS@{ub}
	halt()

@{b}   FUNCTION@{ub}
	Halts  all  currently  running  ARexx programs and ends them. When
	this returns, all programs are most likely to be in the process of
	ending. This does not shut down ARexx.

@EndNode

@Node "new()" "rexxstate.m/new"

@{b}   NAME@{ub}
	rexxstate.new() -- Constructor.

@{b}   SYNOPSIS@{ub}
	new()

@{b}   FUNCTION@{ub}
	Initialises an instance of the rexxstate class. Raises "LIB" if it
	cannot open 'rexxsyslib.library' version 33 or better.

@{b}   SEE ALSO@{ub}
	@{"end()" Link "end()"}

@EndNode

@Node "open_console()" "rexxstate.m/open_console"

@{b}   NAME@{ub}
	rexxstate.open_console() -- open the ARexx trace console.

@{b}   SYNOPSIS@{ub}
	succeeded := open_console()

@{b}   FUNCTION@{ub}
	Opens the ARexx trace and debugging console, like the TCO command.

@{b}   RESULT@{ub}
	succeeded - TRUE if the console is now open, otherwise FALSE.

@{b}   SEE ALSO@{ub}
	@{"console_open()" Link "console_open()"}, @{"close_console()" Link "close_console()"}

@EndNode

@Node "resume()" "rexxstate.m/resume"

@{b}   NAME@{ub}
	rexxstate.resume() -- resume running ARexx programs.

@{b}   SYNOPSIS@{ub}
	success := resume()

@{b}   FUNCTION@{ub}
	Lets ARexx program execution continue.

@{b}   RESULT@{ub}
	success - TRUE if ARexx programs are now running, otherwise FALSE.

@{b}   SEE ALSO@{ub}
	@{"suspended()" Link "suspended()"}, @{"suspend()" Link "suspend()"}

@EndNode

@Node "running()" "rexxstate.m/running"

@{b}   NAME@{ub}
	rexxstate.running() -- test if ARexx is running.

@{b}   SYNOPSIS@{ub}
	running := running()

@{b}   FUNCTION@{ub}
	Determines whether ARexx is running or not.

@{b}   RESULT@{ub}
	running - TRUE if RexxMast is running, FALSE otherwise.

@{b}   SEE ALSO@{ub}
	@{"start()" Link "start()"}, @{"shutdown()" Link "shutdown()"}

@EndNode

@Node "shutdown()" "rexxstate.m/shutdown"

@{b}   NAME@{ub}
	rexxstate.shutdown() -- shut down ARexx.

@{b}   SYNOPSIS@{ub}
	succeeded := shutdown()

@{b}   FUNCTION@{ub}
	Shuts down ARexx.

@{b}   RESULT@{ub}
	succeeded - TRUE if ARexx stops running, FALSE otherwise.

@{b}   SEE ALSO@{ub}
	@{"start()" Link "start()"}, @{"running()" Link "running()"}

@EndNode

@Node "start()" "rexxstate.m/start"

@{b}   NAME@{ub}
	rexxstate.start() -- start up ARexx.

@{b}   SYNOPSIS@{ub}
	succeeded := start()

@{b}   FUNCTION@{ub}
	Starts up the RexxMast program, which starts the ARexx system.

@{b}   RESULT@{ub}
	succeeded - TRUE if RexxMast is now running, FALSE otherwise.

@{b}   SEE ALSO@{ub}
	@{"shutdown()" Link "shutdown()"}, @{"running()" Link "running()"}

@EndNode

@Node "suspend()" "rexxstate.m/suspend"

@{b}   NAME@{ub}
	rexxstate.suspend() -- suspend the running of ARexx programs.

@{b}   SYNOPSIS@{ub}
	success := suspend()

@{b}   FUNCTION@{ub}
	Puts all running ARexx programs on hold.

@{b}   RESULT@{ub}
	success - TRUE if ARexx programs are now suspended, otherwise FALSE.

@{b}   SEE ALSO@{ub}
	@{"suspended()" Link "suspended()"}, @{"resume()" Link "resume()"}

@EndNode

@Node "suspended()" "rexxstate.m/suspended"

@{b}   NAME@{ub}
	rexxstate.suspended() -- check if ARexx programs are suspended.

@{b}   SYNOPSIS@{ub}
	suspended := suspended()

@{b}   FUNCTION@{ub}
	Checks if ARexx is currently running its programs or not.

@{b}   RESULT@{ub}
	suspended - TRUE if ARexx is suspending programs, otherwise FALSE.

@{b}   SEE ALSO@{ub}
	@{"suspend()" Link "suspend()"}, @{"resume()" Link "resume()"}

@EndNode

@Node "trace_off()" "rexxstate.m/trace_off"

@{b}   NAME@{ub}
	rexxstate.trace_off() -- turn ARexx trace mode off.

@{b}   SYNOPSIS@{ub}
	success := trace_off()

@{b}   FUNCTION@{ub}
	Turns ARexx trace mode off.

@{b}   RESULT@{ub}
	success - TRUE if ARexx is now out of trace mode, otherwise FALSE.

@{b}   SEE ALSO@{ub}
	@{"tracing()" Link "tracing()"}, @{"trace_on()" Link "trace_on()"}

@EndNode

@Node "trace_on()" "rexxstate.m/trace_on"

@{b}   NAME@{ub}
	rexxstate.trace_on() -- turn ARexx trace mode on.

@{b}   SYNOPSIS@{ub}
	success := trace_on()

@{b}   FUNCTION@{ub}
	Turns  ARexx  trace  mode  on.  Program execution flow will now be
	listed  to  the  trace  console (if it is open) or to the standard
	output of the programs in question.

@{b}   RESULT@{ub}
	success - TRUE if ARexx is now in trace mode, otherwise FALSE.

@{b}   SEE ALSO@{ub}
	@{"tracing()" Link "tracing()"}, @{"trace_off()" Link "trace_off()"}

@EndNode

@Node "tracing()" "rexxstate.m/tracing"

@{b}   NAME@{ub}
	rexxstate.tracing() -- check if ARexx trace mode is on.

@{b}   SYNOPSIS@{ub}
	tracing := tracing()

@{b}   FUNCTION@{ub}
	Checks if ARexx is in trace mode or not.

@{b}   RESULT@{ub}
	tracing - TRUE if ARexx is in trace mode, otherwise FALSE.

@{b}   SEE ALSO@{ub}
	@{"trace_on()" Link "trace_on()"}, @{"trace_off()" Link "trace_off()"}

@EndNode

