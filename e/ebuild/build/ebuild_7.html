<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from ebuild.texi on 14 December 1997 -->

<TITLE>EBuild Documentation - Example for Constants</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="ebuild_8.html">Next</A> or <A HREF="ebuild_6.html">Previous</A> section or the <A HREF="ebuild_toc.html">Detailed Contents</A>.
<P><HR><P>


<H3><A NAME="SEC7" HREF="ebuild_toc.html#TOC7">3.1.3</A>   Example for Constants</H3>
<P>
This example is the one from an earlier section. We will use symbols to
generalize it.

</P>

<BLOCKQUOTE>
<PRE>
options=IGNORECACHE LINEDEBUG DEBUG 
test:   test.e 
        ec test IGNORECACHE LINEDEBUG DEBUG 
        if warn 
        echo "Error: compile failed" 
        else 
        echo "Compiled OK... running" 
        test
        endif 
</PRE>
</BLOCKQUOTE>

<P>
As a first step every use of the actual name <SAMP>`test'</SAMP> is replaced by a
constant and the compiler options are put in a symbol:

</P>

<BLOCKQUOTE>
<PRE>
OPTIONS=IGNORECACHE LINEDEBUG DEBUG 
PGM=test
$(PGM): $(PGM).e 
        ec $(pgm) $(OPTIONS)
        if warn 
        echo "Error: compile failed" 
        else 
        echo "Compiled OK... running" 
        $(PGM)
        endif 
</PRE>
</BLOCKQUOTE>

<P>
To indicate that we want to handle the target of the actions we should
rather use $(target) instead of the $(PGM). Note that both uses are
correct. We should use $(dep), too.

</P>


<BLOCKQUOTE>
<PRE>
PGM=test
OPTIONS=IGNORECACHE LINEDEBUG DEBUG 
$(PGM): $(PGM).e 
        ec $(dep) $(OPTIONS)
        if warn 
        echo "Error: compile failed" 
        else 
        echo "Compiled OK... running" 
        $(target)
        endif 
</PRE>
</BLOCKQUOTE>

<P>
Take a look at the line where the source is compiled. This line can be
used for every source since the name of the file is in the preset
symbol. If you like you could even make a symbol that holds this line:

</P>

<BLOCKQUOTE>
<PRE>
COMPILE=ec $(dep) $(options)
</PRE>
</BLOCKQUOTE>

<P><HR><P>
Go to the <A HREF="ebuild_8.html">Next</A> or <A HREF="ebuild_6.html">Previous</A> section or the <A HREF="ebuild_toc.html">Detailed Contents</A>.
</BODY>
</HTML>
