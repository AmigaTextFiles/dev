<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from ebuild.texi on 14 December 1997 -->

<TITLE>EBuild Documentation - Including Files</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="ebuild_9.html">Next</A> or <A HREF="ebuild_7.html">Previous</A> section or the <A HREF="ebuild_toc.html">Detailed Contents</A>.
<P><HR><P>


<H2><A NAME="SEC8" HREF="ebuild_toc.html#TOC8">3.2</A>   Including Files</H2>
<P>
When a file is included its contents are copied in the current build
file before it is processed. The copying is only temporary, both the build file
and the included file are left untouched.

</P>
<P>
Including is useful if you have a number of build files that all need
the same variables or share some fake targets.

</P>
<P>
To include a file the build file has to have the '#i' directive followed
by the name of the file to include. For example,

</P>

<BLOCKQUOTE>
<PRE>
#i /scripts/template
</PRE>
</BLOCKQUOTE>

<P>
includes the file <TT>`/scripts/template'</TT> in the current build file.
Let's say this file contains these symbol definitions:

</P>

<BLOCKQUOTE>
<PRE>
COMPILER=E:bin/EC
TEMP_DIR=T:
</PRE>
</BLOCKQUOTE>

<P>
The following build file includes these definitions and uses it:

</P>

<BLOCKQUOTE>
<PRE>
#i /scripts/template

test: test.e
  $(COMPILER) $(dep)
  Copy $target TO $(TEMP_DIR)
</PRE>
</BLOCKQUOTE>

<P>
<CODE>EBuild</CODE> takes everything it finds in the file you include, you
could even include binary files. This is not recommended... let's just
say the behaviour of <CODE>EBuild</CODE> is undefined in that case.

</P>
<P>
Since every file is included before processing the build file constants
cannot be used in the file name. The following scheme may illustrate it:

</P>

<OL>
<LI>

Parse the build file for any include directives and include the files.
<LI>

Process the build file line by line and substitute constants in rules.
<LI>

Build target if necessary and substitute constants in actions. 
</OL>

<P>
 
<P><HR><P>
Go to the <A HREF="ebuild_9.html">Next</A> or <A HREF="ebuild_7.html">Previous</A> section or the <A HREF="ebuild_toc.html">Detailed Contents</A>.
</BODY>
</HTML>
