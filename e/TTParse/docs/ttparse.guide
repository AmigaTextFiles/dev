@database ttparse_guide

@node main "AMIGA-E Modules: ttparse_oo/MAIN"

                  ** TTPARSE_OO - Written By Fabio Rotondo **

                            ** DOCUMENTATION GUIDE **


    @{"  Introduction  " LINK ttparse_intro}       @{" Author's Infos " LINK author}         @{" Example Program " LINK example}


    COMMANDS                  BRIEF DESCRIPTION
    ---------------------------------------------------------------------------
    @{" ttparse(grab=FALSE)  " LINK ttparse_ttparse} Initializes the object.
    @{" error()              " LINK ttparse_error} Returns the LAST error.
    @{" file(fname)          " LINK ttparse_file} Set the file to parse on.
    @{" get(tooltypename)    " LINK ttparse_get} Get the tooltype.
    @{" match(ttname, match) " LINK ttparse_match} Look for a match.


    @{" ERROR TABLE " LINK ttparse_errortable}
@endnode

@node ttparse_errortable "Amiga-E Modules: ttparse/ERROR TABLE"


VALUE       NAME            DESCRIPTION
-----------------------------------------------------------------------------
0           NO_ERROR        No error found.
1           NO_WB_MSG       The program was not run from WB.
2           TT_NOT_FOUND    Searched ToolType was not found.
3           NO_DISK_ICON    The file passed has no icon.
4           NO_ICONLIB      Could not open icon.library.
5           NO_TOOLARRAY    Could not allocate toolarray.
6           FILE_NOT_FOUND  File Name passed was not valid.

@endnode

@node ttparse_ttparse  "Amiga-E Modules: ttparse_oo/ttparse()"

        NAME: ttparse(grab=FALSE)

 DESCRIPTION: This command initializes a ttparse object.

      INPUTS: grab    - (optional) If grab is set to TRUE, the initailization
                        process try to grab the '.info' of the file for getting
                        tooltypes.

     RESULTS: NONE.   - Check @{" error() " LINK ttparse_error} for errors.

    SEE ALSO: @{" error() " LINK ttparse_error}

@endnode

@node ttparse_get  "Amiga-E Modules: ttparse_oo/get()"

        NAME: get(tooltypename:PTR TO CHAR)

 DESCRIPTION: This command gets the desired ToolType.

      INPUTS: tooltype:PTR TO CHAR  - Name of the tooltype to search.

     RESULTS: FALSE     - Something got wrong.

              ~FALSE    - a PTR TO CHAR containing the result.

    SEE ALSO: @{" error() " LINK ttparse_error}

@endnode

@node ttparse_match  "Amiga-E Modules: ttparse_oo/match()"

        NAME: match(tooltypename:PTR TO CHAR, matchtext:PTR TO CHAR)

 DESCRIPTION: This command checks the tooltype selected for the text desired.

      INPUTS: tooltypename:PTR TO CHAR  - Name of the desired ToolType.
              matchtext:PTR TO CHAR     - Text to look for.

     RESULTS: TRUE      - Match Succeded.

              FALSE     - Match not Succeded.


        NOTE: FALSE could also mean an error.

    SEE ALSO: @{" error() " LINK ttparse_error}

@endnode

@node ttparse_error  "Amiga-E Modules: ttparse_oo/error()"

        NAME: error()

 DESCRIPTION: This command returns the LAST error encountered.

      INPUTS: NONE.

     RESULTS: 0         - No error.

              ~0        - An error.

    SEE ALSO: @{" ERROR TABLE " LINK ttype_errortable}

@endnode

@node ttparse_file  "Amiga-E Modules: ttparse_oo/file()"

        NAME: file(progname:PTR TO CHAR)

 DESCRIPTION: This command allows the user to select the icon to parse.
              Note that "progname" should not contain the '.info' extension.

      INPUTS: progname:PTR TO CHAR  - Name of the file to load without '.info'.

     RESULTS: TRUE      - No error.

              FALSE     - Something went wrong.

    SEE ALSO: @{" error() " LINK ttparse_error}
@endnode
@node author "Author's Infos"

    My name is Fabio Rotondo. I am a free-lance Amiga programmer and I would
    like to get in touch with anyone who writes code for the Amiga.
    I write in AmigaE, BlitzII, C and a bunch of other languages.

    Please, feel free to contact me for any suggestions/questions.

    My address is:

    Fabio Rotondo
    C.so Vercelli 9
    28100 Novara
    ITALY
    Tel. (ITA) - (0)321 - 459676
    e-mail: fabio.rotondo@intercom.it

    Thanks!
@endnode

@node example "Amiga-E Modules: ttparse/EXAMPLE PROGRAM'
MODULE 'Fabio/ttparse_oo'    -> The Magic Module!!

PROC main()
  DEF ttype:PTR TO ttparse   -> An histance of our ttparse object
  DEF s

  WriteF('This is a little try of TTParse_oo.m\n')

  NEW ttype.ttparse(TRUE)    -> Let's initailize the object and GRAB the icon.

  IF ttype.error()           -> If an error occurred...
    WriteF('ToolType Parser Error:\d\n', ttype.error())
  ELSE
    WriteF('Everything Is Fine\n')
    s:=ttype.get('MYTRY')    -> Let's search for a tooltype called "MYTRY"
    IF s                     -> We found it!!!
      WriteF('Get() Result:\s\n', s)  -> Here there is the result!
    ELSE
      WriteF('Get Error:\d\n', ttype.error()) -> Ouch! An Error!
    ENDIF

    s:=ttype.match('MYTRY','FABIO')  -> Now we check if inside "MYTRY" we found "FABIO"
    IF ttype.error()                 -> If an error occurred...
      WriteF('Match Error:\d\n', ttype.error())
    ELSE
      WriteF('Match Result:\d\n', s) -> We got it!!!
    ENDIF
  ENDIF

  END ttype  -> REMEBER TO _END_ A.L.W.A.Y.S. THE OBJECT
  CleanUp()  -> Let's keep things clean!!!
ENDPROC

@endnode

@node ttparse_intro "Amiga-E Modules: ttparse/INTRODUCTION"
    
    TTPARSE_OO.M

    This module is very useful for parsing ToolTypes from icons.
    The use of this module supposed you have a sufficient knowledge of
    how ToolTypes work and how OOP is implemented in AmigaE.

    With this module you can easily parse ToolTypes of many icons. You can 
    change from icon to icon via the @{" file() " LINK ttparse_file} command.
    There is also a shorcut to parse the main program without have to worry
    of writing code to find the icon: simply pass TRUE as param calling 
    @{" ttparse() " LINK ttparse_ttparse} initialization process.

    Anyway, this module is small and efficient. See the @{" example " LINK example} program
    for a on-road demostration. 

    If you find any bug, write to me: see @{" Author's Infos " LINK author}
@endnode
