@database "3DView.Guide"
@master   "None"
@author   "Capus André"
@(c)      "Copyright © 1995 NasGûl, Inc."
@font topaz.font 8
@node main 
@title "3DView.Guide"


    3DView v0.8 © 1995 NasGûl.
    --------------------------

    @{"Copyright et Distribution" link COPY}

    @{"Description              " link DESC}

    @{"Equipements              " link EQUI}

    @{"Installation             " link INST}

    @{"Fonctionnement           " link FONC}

    @{"Sources E                " link "3DViewSources.Guide/main"}

    @{"Remerciements/Contact    " link REME}

@endnode
@node COPY
@title "Copyright et Distribution"

    Aux Associations:
    -----------------

         3DView est un programme _*FREEWARE*_,c'est à dire qu'il peut être
    distribué librement par n'importe qui.La seule restriction est que le
    prix demandé ne dépasse pas le prix du support et de l'envoi,entre 10
    et 15 F.

    (les disquettes vendues 50 à 75 F sont radicalement exclus).


    >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
    @{b}Il est strictement @{fg highlight}INTERDIT@{fg text} de faire de 
    l'argent avec ce programme.@{ub}
    <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

        - Toute inclusion dans un packtage quelconque ne peut être fait
    qu'avec mon autorisation.Seul Wouter (Auteur de l'amigaE) est libre
     de l'inclure ou bon lui semble (Packtage DP ou BBS..).


        - Toutes distributions doit être faite en totalité.TOUS les fichiers,
    archives,E sources,binaires,doivent être distribués.



        - Toute inclusion sur CD-ROM ne peut être fait qu'avec mon autori-
    sation (Ceci exclus Fred Fish).


    Aux particuliers:
    -----------------

    Le particulier se doit @{fg highlight}DONNER@{fg text} ce programme.

@endnode
@node DESC
@title "Description"

    3Dview est un "viewer" d'objets en 3 dimensions.

    Les vues sont simplement des vues hortographiques,aucune
    perpective n'est calculée.

    Les format d'objets reconnus sont les suivants:

    -   @{b}Cyber Studio v1.0 (ATARI)@{ub}
    -------------------------
    plusieurs objets dans le même fichier possible.
    Toutes les faces génerées par Cyber Studio sont dans le bon sens.

    -   @{b}Cyber Studio v2.0 (ATARI)@{ub}
    -------------------------
    plusieurs objets dans le même fichier possible.
    Toutes les faces génerées par Cyber Studio sont dans le bon sens.

    -   @{b}Imagine (AMIGA)@{ub}
    ---------------
    plusieurs objets dans le même fichier possible.


    -   @{b}3Dpro v1.10 Final (AMIGA)@{ub}
    -------------------------
    les fichiers objets généré par 3Dpro ne contiennent qu'un objet (pas de restrictions).
    Toutes les faces génerées par 3Dpro sont dans le bon sens.
    Toutes les faces ayant plus de 3 points sont converties en plusieurs faces a 3 points.

    -   @{b}Vertex < v1.62a et Vertex > v1.73.1f et Vertex v2.0 (AMIGA)@{ub}
    --------------------------------------------
    plusieurs objets dans le même fichier impossible,la base de données
    n'auras qu'un seul objet.(Sauf pour la version 2.0).

    -   @{b}Sculpt v2.09 (AMIGA)@{ub}
    --------------------
    plusieurs objets dans le même fichier impossible,la base de données
    n'auras qu'un seul objet.

    MILLE EXCUSES au posseseurs de LightWave (n'as pas trouvé le monsieur....).

    3Dview peut aussi sauver les objects selectionnés dans les format suivants:

    -   @{b}VideoScape (AMIGA)@{ub}
    ------------------
    Les faces genérées ont 3 sommets par faces.

    -   @{b}DXF (PC Beurk...)@{ub}
    -----------------
        Les objets au format .DXF sont construit avec la fonction 3DFACE d'AUTOCAD,il y a peut
    être un autre moyen.

    - @{b}RAY  (Rayshade)@{ub}
    -----------------

    Les faces sont sauvées avec la fonction triangle de RayShade mais elles ne sont pas
    adoucies.

    - @{b}BIN (binaire)@{ub}
    ---------------

    Sauve les objets dans un format compréhensible par la Vector.Library.
    Un facteur 3D est demandé a chaque sauvegarde.


@endnode
@node EQUI
@title "Equipements"
    3DView a été programmé en @{"Amiga_E" link AMIGAE} v2.1b (Fred Fish 810) et ce,
    sur un 4000/68040 en OS 3.0 (KS 39.106 WB 39.29).
    Il devrait tourner sans prôblème en OS 2.xx.
    Les libraries utilisées sont celle du système a part :

    @{"reqtools.library" link REQTOOLSLIB}.


    Les executables ayant dans leurs noms _D sont des versions DEBUG.Si vous n'avez
    pas l'AmigaE attention de ne pas écraser les versions normales lors de tests.Le
    fonction debug est simple ,le programme ouvre une console de sortie est y ecrit
    dans quel procédure il se trouve.Utilisez ces versions seulement si le programme
    plante vôtre machine,les sources étant fournis il ne vous reste plus qu'a vous y mettre.

@endnode
@node INST
@title "Installation"

    Copier la reqtools.library dans le dossier libs:.
    Copier 3Dview ou vous voulez.

@endnode
@node FONC
@title "Fonctionnement"


    EN CLI:
    -------

    > 3Dview ?
     FILES/M:

        Vous pouvez passer 20 fichiers.

    EN WB:
    ------

    3Dview se comporte comme un programme normal.Vous pouvez shift-cliquez sur l'icone
    de 3Dview,puis sur les fichiers a voir en double-cliquant sur le dernier.


        Les Menus
        ---------

            Le titre de l'écran affiche en permanence les données suivantes:

        Vue:         Donne le plan de vue.
        Sx :         Donne le signe des coordonnées en X ( 1 ou -1 ).
        Sy :         Donne le signe des coordonnées en Y ( 1 ou -1 ).
        Sz :         Donne le signe des coordonnées en Z ( 1 ou -1 ).
    Echelle:         Donne l'echelle de représentation.


    @{"Menu Fichier" Link MenuFichier}
    @{"Menu Vues   " link MenuVues}
    @{"Menu Objets " link MenuObjets}
    @{"Port Arexx  " link PortArexx}

@endnode
@node PortArexx
@title "PortArexx"

            3DView a un port Arexx nommé 3DViewPort.Les fonctions
    Suivantes sont possible:

        LISTOBJ             - Retourne les noms de tous les objets séparé par un espace.
        NBRSOBJ             - Retourne le nombres d'objets.
        NBRSTOTALPTS        - Retourne le nombres total de points.
        NBRSTOTALFCS        - Retourne le nombres total de faces.
        GETNUMINFOOBJ <num> - Retourne une chaine de caractères contenant les informations
                              suivantes:

                              Cube          8         12     15462305 12065432 Cyber 1.0
                        <Nom de l'objet> <NbrsPts> <NbrsFcs> <AdrPts> <AdrFcs> <TypeObjet>

        GETNAMEINFOOBJ <nom> - Retourne la même chaine que GETNUMINFOOBJ,mais
                               le paramètre n'est plus le numéro de l'objet mais
                               son nom.


        Voir les scripts Arexx @{"3DV_Pov.rexx" link rexx1} et @{"3DV_Vertex.rexx" link rexx2}
@endnode
@node rexx1
@title "Exemple de Script Arexx utilisant le Port 3DViewPort"

/*=== Test du port Arexx de 3DView ===*/
/*=== Sauve la base de données au format Pov (v0.1) ===*/
/*=== $VER:3DV_Pov.rexx v0.1 © 1994 NasGûl ===*/

Options results
/*=== Verification de port de 3DView ===*/
IF Show('P','3DViewPort')=0 THEN 
    do 
        SAY 'Need 3DViewPort'
        exit
    end
Address '3DViewPort'
'LISTOBJ'
listeobjet=result
'NBRSOBJ'
nobj=result
DO i=0 TO nobj-1
    'GETNUMINFOOBJ 'i
    infoobjet.i=result
end
SAY '/* Liste des objets : 'listeobjet' */'
SAY "/* Nombres d'objets : "nobj'*/'
DO i=0 TO nobj-1
    Parse var infoobjet.i nom.i' 'nbrspts.i' 'nbrsfcs.i' 'adrpts.i' 'adrfcs.i' 'type.i
    SAY '/* Description object : 'infoobjet.i' */'
END
DO i=0 TO nobj-1
    SAY '/* Object n°'i' Nom:'nom.i' */'
    SAY '#declare 'nom.i '='
    SAY 'object {'
    SAY '    union {'
    /*SAY nom.i' 'nbrspts.i' 'nbrsfcs.i' 'adrpts.i' 'adrfcs.i' 'type.i*/
    adrpts=adrpts.i
    nbrspts=nbrspts.i
    Do j=0 To nbrspts-1
        x.j=X2D(C2X(Import(D2C(adrpts),4)))
        y.j=X2D(C2X(Import(D2C(adrpts+4),4)))
        z.j=X2D(C2X(Import(D2C(adrpts+8),4)))
        /*SAY x.j' 'y.j' 'z.j*/
        adrpts=adrpts+12
    end
    adrfcs=adrfcs.i
    nbrsfcs=nbrsfcs.i
    Do j=0 To nbrsfcs-1
        v1=x2d(c2x(Import(d2c(adrfcs),4)))
        v2=x2d(c2x(Import(d2c(adrfcs+4),4)))
        v3=x2d(c2x(Import(d2c(adrfcs+8),4)))
        SAY '        object{triangle{<'x.v1' 'y.v1' 'z.v1'><'x.v2' 'y.v2' 'z.v2'><'x.v3' 'y.v3' 'z.v3'>}texture{Text_'nom.i'}}'
        adrfcs=adrfcs+12
    end
    SAY '    }'
    SAY '}'
end
exit
@endnode
@node rexx2
@title "Exemple de Script Arexx utilisant le Port 3DViewPort et Celui de Vertex"

/*=== Test du port Arexx de 3DView ===*/
/*=== Envoi directement les données a VERTEX par le port Arexx ===*/
/*=== $VER:3DV_Vertex.rexx v0.1 © 1994 NasGûl ===*/
/*== trace ?r ==*/
Options results

/*=== Marche pour les 2 version 1.x (VERTEX1) et 2.0 (VERTEXX) ===*/
vertexport=VERTEXX

/*=== Verification du port de 3DView ===*/
IF Show('P','3DViewPort')=0 THEN 
    do 
        SAY 'Need 3DViewPort'
        exit
    end

/*=== Verification du port de VERTEX ===*/
IF Show('P',''vertexport'')=0 THEN
    DO
        SAY 'Need VERTEXX or VERTEX1'
        exit
    end

/*=== On prend les données de 3DView ===*/
Address '3DViewPort'

'LISTOBJ'            /*=== Donne la liste des noms des objets ===*/
listeobjet=result    /*=== Les noms sont séparés par des espaces ===*/

'NBRSOBJ'            /*=== Donne le nombres d'objets de la base ===*/
nobj=result

DO i=0 TO nobj-1
    'GETNUMINFOOBJ 'i      /*=== Donne les informations sur l'objet numéro i   ===*/
    infoobjet.i=result     /*=== Ces informations sont sous la forme suivante: ===*/
end                        /*=== <NomObjet> <NbrsPts> <NbrsFcs> <AdrDataPts> <AdrDataFcs> <TypeObjet> ===*/



DO i=0 TO nobj-1
    /*=== C'est VERTEX qui travaille ===*/
    Interpret 'Address 'vertexport
    /*=== Stockage des données dans des variables séparées ===*/
    Parse var infoobjet.i nom.i' 'nbrspts.i' 'nbrsfcs.i' 'adrpts.i' 'adrfcs.i' 'type.i
    /*=== ATTENTION VERTEX commence la numérotation des sommets a 1 ===*/
    if i=0 then basepts=1
    SAY '/* Description object : 'infoobjet.i' */'
    adrpts=adrpts.i
    nbrspts=nbrspts.i
    Do j=0 To nbrspts-1
        x.j=x2d(c2x(Import(d2c(adrpts),4)))      /*== Lecture des coord. en x ==*/
        y.j=x2d(c2x(Import(d2c(adrpts+4),4)))    /*== Lecture des coord. en y ==*/
        z.j=x2d(c2x(Import(d2c(adrpts+8),4)))    /*== Lecture des coord. en z ==*/
        'VERTEX 'x.j' 'y.j' 'z.j                 /*== On Ajoute le sommet dans VERTEX ==*/
        adrpts=adrpts+12                         /*== prochain point ==*/
    end
    adrfcs=adrfcs.i
    nbrsfcs=nbrsfcs.i
    Do j=0 To nbrsfcs-1
        v1=x2d(c2x(Import(d2c(adrfcs),4)))       /*== Lecture du 1 sommet ==*/
        v2=x2d(c2x(Import(d2c(adrfcs+4),4)))     /*== Lecture du 2 sommet ==*/
        v3=x2d(c2x(Import(d2c(adrfcs+8),4)))     /*== Lecture du 3 sommet ==*/
        /*== si c'est le premier objet on commence les points a 1 ==*/
        if i=0 then 
            do
                'FACE 'v1+1' 'v2+1' 'v3+1
                'EDGE 'v1+1' 'v2+1
                'EDGE 'v2+1' 'v3+1
                'EDGE 'v3+1' 'v1+1
            end
        /*== Sinon on commence a partir des points déjà existants ==*/
        else
            do
                'FACE 'v1+basepts' 'v2+basepts' 'v3+basepts
                'EDGE 'v1+basepts' 'v2+basepts
                'EDGE 'v2+basepts' 'v3+basepts
                'EDGE 'v3+basepts' 'v1+basepts
            end
        adrfcs=adrfcs+12       /*== Face Suivante ==*/
    end
    'SELECT VERTEX 'basepts    /*== On selectionne le dernier point ==*/
    'SELECT CONNECTED'         /*== Plus tous ceux connectés        ==*/
    'NAME 'nom.i               /*== On les nomment ==*/
    'DESELECT ALL'             /*== On deselectionne tous pour le prochain objet ==*/
    basepts=basepts+nbrspts.i
end
/*== c'est fini .. ==*/
exit
@endnode
@node MenuObjets
@title "Menu Objets"

    A-O           - @{fg highlight}Sélectionnés tous les objets.@{fg text}
                    ----------------------------
                    Sélectionne tous les objets de la base de données.

    A-D           - @{fg highlight}Désélectionnés tous les objets.@{fg text}
                    ------------------------------
                    Désélectionne tous les objets.

                  - @{fg highlight}Sélection.@{fg text}
                    ---------
                    Ouvre la fenêtre de sélection des objets.
                    On y trouve les informations suivantes:

                    - Nom de(s) Objet(s).
                    - Nombres de points et de faces pour chaque objet.
                    - Les Min/Max en X Y et Z pour chaque objet.
                    - Le centre en X Y Z de chaque objet.
                    - Le type d'objet (format).
                    - Le nombres total d'objet(s),de points et de faces.

                    De plus chaque objet peut avoir 3 modes:

                      - @{fg highlight}Normal@{fg text}
                        ------
                            l'objet est dessine suivant le mode de dessin,
                            voir Mode dans @{"Menu Vues" link MenuVues},et
                            sa couleur sera celle defini dans le menu Couleur/Faces.
                      - @{fg highlight}Sélectionné.@{fg text}
                        -----------
                            l'objet est séléctionné,sa couleur sera celle choisi
                            dans le menu Couleur.
                            Un objet apparait sélectionné seleument si ces faces
                            sont dessiner.
                      - @{fg highlight}Encadré.@{fg text}
                        -------
                            l'objet n'est pas dessiner mais une boite se trouve
                            a sa place,la couleur de la boite est défini dans le
                            menu Couleur/Encadrement.
                      - @{fg highlight}Ignoré.@{fg text}
                        ------
                            non fonctionnel (extention future).

                  - @{fg highlight}Couleurs.@{fg text}
                    --------
                      - @{fg highlight}Points.@{fg text}
                        ------
                        Ouvre la palette pour la sélection de la couleur des
                        points.
                      - @{fg highlight}Faces.@{fg text}
                        -----
                        Ouvre la palette pour la sélection de la couleur des
                        faces.
                      - @{fg highlight}Objets Sélectionnés.@{fg text}
                        -------------------
                        Ouvre la palette pour la sélection de la couleur des
                        objets sélectionnés.
                      - @{fg highlight}Encadrement.@{fg text}
                        -----------
                        Ouvre la palette pour la sélection de la couleur des
                        boites d'encadrement.
@endnode
@node "MenuVues"
@title "Menu Vues"

                  - @{fg highlight}Mode.@{fg text}
                    ----
                    Defini le mode de dessin.
                        - @{fg highlight}Points.@{fg text}
                          ------
                          Ne dessine que les points.
                        - @{fg highlight}Faces.@{fg text}
                          -----
                          Ne dessine que les faces.
                        - @{fg highlight}Points+Faces.@{fg text}
                          ------------
                          Dessine les points et les faces.

                  - @{fg highlight}Vues en.@{fg text}
                    -------
                    Defini le plan de vue.
                    (le plan XOY étant le plan par défaut).
    A-0                 - @{fg highlight}Plan XOY@{fg text}
                          --------
                          Vue selon le plan XOY.
    A-1                 - @{fg highlight}Plan XOZ@{fg text}
                          --------
                          Vue selon le plan XOZ.
    A-3                 - @{fg highlight}Plan YOZ@{fg text}
                          --------
                          Vue selon le plan YOZ.

                  - @{fg highlight}Coordonnées.@{fg text}
                    -----------
                    Inverse les coordonnées,une coordonnée positive
                    deviendra négative.Le changement de coordonnées
                    n'affecte pas les coordonnées des objets,c'est seulement
                    lors du dessin qu'elles sont inversées ou non.L'état
                    des coordonnées est donné dans le titre de l'écran.
                        - @{fg highlight}inverse Coord. en X.@{fg text}
                          -------------------
                        - @{fg highlight}inverse Coord. en Y.@{fg text}
                          -------------------
                        - @{fg highlight}inverse Coord. en Z.@{fg text}
                          -------------------

                  - @{fg highlight}Zoom.@{fg text}
                    ----
                    Change l'echelle de représentation des objets.
    A-(+/-)             - @{fg highlight}Petit Zoom + ou -.@{fg text}
                          ------------
                          Par pas de 0.1 (addition/soustraction).
    A-(*//)             - @{fg highlight}Grand Zoom + ou -.@{fg text}
                          ------------
                          Divise ou multiplie par 2.

                  - @{fg highlight}Rotation.@{fg text}
                    --------
                    Effectue une rotation,en tenant compte
                    du plan de vue (rotation par 10 degrés).
    A-8                 - @{fg highlight}En Haut.@{fg text}
                          -------
                          Rotation vers le haut.
    A-2                 - @{fg highlight}En Bas.@{fg text}
                          ------
                          Rotation vers le bas.
    A-4                 - @{fg highlight}A Gauche.@{fg text}
                          --------
                          Rotation a gauche.
    A-6                 - @{fg highlight}A Droite.@{fg text}
                          --------
                          Rotation a droite.
    A-C                 - @{fg highlight}Centre les objets.@{fg text}
                          -----------------
                          Centre tous les objets en 0,0,0.Les objets
                          ne se retrouve pas tous centrés en 0,0,0 mais
                          le bloc d'objets l'est.
@endnode
@node MenuFichier
@title "Menu Fichier"

    A-D           - @{fg highlight}Nouveau.@{fg text}
                    -------
                    charge de nouveaux objets,les objets existants dans la base
                    de données sont effacés.La multisélection dans le sélécteur
                    de fichier est possible.

    A-A           - @{fg highlight}Ajouter.@{fg text}
                    -------
                    Ajoute de nouveaux objets dans la base de données.
                    (Multisélection possible).

                  - @{fg highlight}Sauver (Séléction).@{fg text}
                    ------------------
                    Défini le mode de sauvegarde,il y a trois modes possible.
                    (le mode 'Tous les objets' étant celui par défault).
                        - @{fg highlight}Objets sélectionnés.@{fg text}
                          ------------------
                          Sauve uniquement les objets sélectionnés.
                        - @{fg highlight}Objets Non-sélectionnés.@{fg text}
                          -----------------------
                          Sauve uniquement les objets non-sélectionnés.
                        - @{fg highlight}Tous les Objets.@{fg text}
                          ---------------
                          Sauve tous les objets.

                  - @{fg highlight}Sauver (Format).@{fg text}
                    ---------------
                    Défini le format de sauvegarde des objets.
                    (le format DXF étant celui par défaut).
                        - @{fg highlight}DXF@{fg text}
                          ---
                          Sauve les objets au format DXF.
                        - @{fg highlight}GEO@{fg text}
                          ---
                          Sauve les objets au format GEO.
                        - @{fg highlight}RAY@{fg text}
                          ---
                          Sauve les objets au format RAY.
                        - @{fg highlight}BIN@{fg text}
                          ---
                          Sauve les objets au format binaire (vector.library).

    A-S           - @{fg highlight}Sauver.@{fg text}
                    ------
                    Sauve les objets de la base de données.La sélection ne s'éffectuant
                    pas sur un fichier mais sur un dossier,tous les objets sont sauvés
                    séparément.Les noms des fichiers sont les noms des objets plus un
                    point d'extension suivant le format (.dxf/.geo/.ray/.bin).

    A-F           - @{fg highlight}Configuration.@{fg text}
                    -------------
                    défini les echelles de chargements de différents objets.
                    Attention quand vous changez ces echelles,faites le seulement
                    si lors du chargement d'un objet il apparait tous petit est qu'il
                    se déforme lors des rotations.Ceci veut dire que les coordonnées
                    des points de l'objet sont trop petites et que les erreurs de
                    calcul sont plus grandes d'ou la déformation.

                    L'echelle est TOUJOURS multipliée aux coordonnées des objets.
                    0.5 Divise par 2 les coordonnées (0.1 par 10).

                    exemple:
                        Un cube de 1 sur 1 au format Imagine ne passe pas dans 3DView,
                        changez l'echelle du format Imagine de 1.000000 a 100.0000.Le cube
                        auras lors du prochain chargement des coordonnées de 100 sur 100.

                  - @{fg highlight}Quitter.@{fg text}
                    -------
                    fait la cuisine.

@endnode

@node REME
@title "Remerciements"

    Je tiens à remercié tout particulièrement @{b}Wouter Van Oortmerssen@{ub}
    pour l'Amiga_E,sans lequel ces programmes n'auraient pas vus le jour.


    Nico François pour l'incontournable ReqTools.library (et tous le reste).
    Dietmar Eilert pour GoldED.
    Wouter Van Oortmerssen (alias $#%!) pour son Amiga_E.
    Commodore pour son Amiga.@{ub}

    @{b}NasGûl@{ub}

    Capus André.
    74 Rue jules Guesde.
    92240 MALAKOFF.
    FRANCE.
    Tél:46.44.35.28

@endnode
@node AMIGAE
@title "AmigaE"

    L'AmigaE est un language de programmation semblable au C.

    AmigaE a été ecrit par Wouter Van Oortmerssen.

@endnode























