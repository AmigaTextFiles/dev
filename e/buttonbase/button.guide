@database buttonbase.guide
@$VER: buttonbase.guide 1.0 (28.10.97)

@node MAIN "Buttonbase Plugin and its Subclasses"

    Documentation for:  @{b}buttonbase.m@{ub}
                        @{b}newbutton.m@{ub}
                        @{b}newimagebutton.m@{ub}

    by @{b}Victor Ducedre@{ub} <victord@netrover.com>

    @{"  " link SUMMARY}  Brief Summary
    @{"  " link buttonclass.doc/MAIN}  About buttonclass.m

     @{u}newbutton.m@{uu}                         @{u}newimagebutton.m@{uu}

    @{"  " link NEWBUTTON_USAGE}  Usage                        @{"  " link NEWIMAGEBUTTON_USAGE}  Usage
    @{"  " link NEWBUTTON_METHODS}  Methods                      @{"  " link NEWIMAGEBUTTON_METHODS}  Methods
    @{"  " link NEWBUTTON_ATTRIBUTES}  Attributes                   @{"  " link NEWIMAGEBUTTON_ATTRIBUTES}  Attributes
    @{"  " link EXCEPTIONS}  Exceptions                   @{"  " link EXCEPTIONS}  Exceptions

    @{"  " link HISTORY}  History
    @{"  " link AUTHOR}  Author/Copyright/Thanks

@endnode
@node AUTHOR "Contacting the author"

    @{u}Copyright information@{uu}

    All files in this distibution are Copyright © 1998 Victor Ducedre, except
    where otherwise indicated.

    You are free to use these files in your own programs, and you may modify
    the supplied sources for your own purposes, but you may not redistribute
    without at least being so courteous as to ask me first; the sole exception
    is the EasyPLUGINs collection.

    @{u}Contacting the Author@{uu}

    Feedback is always welcome, especially where bugs are concerned.  I can be
    reached via Email at <victord@netrover.com>, although I'm not always
    proud of my response time.

    @{u}Thanks to:@{uu}

    Wouter and Jason, for the wonderfulness that is EasyGUI, and

    Ali Graham, for organizing and maintaining the EasyPLUGINs collection;

@endnode
@node SUMMARY "Brief Summary"

    This set of EasyGUI Plugins is an interface for my ButtonClass BOOPSI
    gadget, designed as a replacement for the 'button.library' Plugins
    that come with EasyGUI.

    @{b}newbutton.m@{ub} is a standard text button that supports keyboard shortcuts.

    @{b}newimagebutton.m@{ub} is an image button that supports normal and selected
    images, and can be set either to the size of your image or to dimensions
    of your choosing.

    @{b}buttonbase.m@{ub}?  This is a Plugin of which the other two are @{FG shine}subclasses@{FG text},
    containing all the common elements of newbutton.m and newimagebutton.m.
    You don't use it directly in your EasyGUI gadget list.

    But why use this instead of 'button.library'?  While it does add to your
    final code size by not using an external library, it does eliminate any
    confusion between Commodore's 'button.library' and ClassAct's included
    'button.library', which I've found is not as compatible with C='s as the
    ClassAct folks would have us believe.  And besides, this does add more
    features, like those mentioned above, and is actually Style Guide
    compliant.  (I wonder if Commodore actually ever read their own Style
    Guide... :-)

@endnode
@node HISTORY "History"

    5-Jun-98  First Release (version 1.0)


@endnode
@node NEWBUTTON_USAGE "newbutton.m/Usage"

    @{u}Notes about Usage@{uu}

    *   To install the modules, copy the contents of the 'plugins' and
    'gadgets' directories to their respective directories in Emodules:

    *   To create a new newbutton object, use, e.g.:

            @{FG shine}MODULE 'gadgets/buttonclass',
                   'plugins/buttonbase', 'plugins/newbutton'
            [...]
            DEF btn:PTR TO newbutton
            NEW btn.button([..., TAG_DONE])@{FG text}

    *   The constant NEWBUTTON (which =PLUGIN) is available to be used in
    your EasyGUI gadget list, as in:

            @{FG shine}[NEWBUTTON, {actionfunction}, nb]@{FG text}

    This can make plugins in gadget lists easier to identify, especially if
    you use a lot of different plugins.


    @{"<<      Start" link MAIN}
    @{"Methods    >>" link NEWBUTTON_METHODS}

@endnode
@node NEWBUTTON_METHODS "newbutton.m/Methods"

    @{u}Methods@{uu}

    @{b}button(tags)@{ub}

        The contructor for this method, where @{FG shine}tags@{FG text} is a PTR TO a list of tag
    items from those @{"attributes" link NEWBUTTON_ATTRIBUTES} marked [I].  Most values default to something
    reasonable, so you can simply use @{FG shine}[NB_TEXT, 'Text', TAG_DONE]@{FG text} as your list.
        You @{b}must@{ub} open @{FG shine}utility.library@{FG text} prior to calling this function, or it
    will raise a "util" exception.
        This method has no return value.

    @{b}set(attr, val)@{ub}

        Sets any attribute to the value given, where @{FG shine}attr@{FG text} is any @{"attribute" link NEWBUTTON_ATTRIBUTES}
    that is marked [S], and @{FG shine}val@{FG text} is some reasonable value for that attribute.
        This method has no return value.

    @{b}value, check:=get(attr)@{ub}

        Gets the value for the specified attribute, where @{FG shine}attr@{FG text} is any @{"attribute" link NEWBUTTON_ATTRIBUTES}
    marked [G].  The second return value, @{FG shine}check@{FG text}, is TRUE if @{FG shine}attr@{FG text} is in fact
    "gettable", otherwise FALSE (be sure to check for this).

    @{b}setcolour(colour, val)@{ub}

        This is a (probably temporary) extra function provided to allow you to
    change the colours used to render the button, where @{FG shine}colour@{FG text} is one of
    @{FG shine}BUT_TEXTPEN@{FG text}, @{FG shine}BUT_FILLPEN@{FG text}, @{FG shine}BUT_FILLTEXTPEN@{FG text}, @{FG shine}BUT_BACKGROUNDPEN@{FG text} (defined in
    buttonclass.m), and @{FG shine}val@{FG text} is a reasonable number for that pen (no checking
    is done)

    @{FG shine}END@{FG text} @{b}must@{ub} be called for each @{FG shine}NEW@{FG text}ed object.

    @{"<<      Usage" link NEWBUTTON_USAGE}
    @{"Attributes >>" link NEWBUTTON_ATTRIBUTES}

@endnode
@node NEWBUTTON_ATTRIBUTES "newbutton.m/Attributes"

    @{u}Attributes@{uu}

        In addition to the common attributes in @{"buttonbase" link BUTTONBASE_ATTRIBUTES}, the newbutton
    Plugin also supports:

    @{b}NB_TEXT@{ub}                                 [IS.]

        The label which is to appear in the button.  Including a "_" in this
    string will automatically assign the next character as the keyboard
    shortcut, and will indicate it as such in the label. (Default: No label
    text)
        @{FG shine}CAUTION!!!@{FG text}  When set()ing this attibute, no adjustment is made to the
    size of the gadget (since I don't know how to signal EasyGUI to resize
    itself).  Supplying a new label that's larger than the one set in the
    constructor @{FG shine}HAS NOT BEEN TESTED@{FG text}, and may produce undesireable effects!
    

    @{"<<    Methods" link NEWBUTTON_METHODS}
    @{"Exceptions >>" link EXCEPTIONS}

@endnode
@node NEWIMAGEBUTTON_USAGE "newimagebutton.m/Usage"

    @{u}Notes about Usage@{uu}

    *   To install the modules, copy the contents of the 'plugins' and
    'gadgets' directories to their respective directories in Emodules:

    *   To create a new newimagebutton object, use, e.g.:

            @{FG shine}MODULE 'gadgets/buttonclass',
                   'plugins/buttonbase', 'plugins/newimagebutton'
            [...]
            DEF ibtn:PTR TO newimagebutton
            NEW ibtn.button([..., TAG_DONE])@{FG text}

    *   The constant NEWIMAGEBUTTON (which =PLUGIN) is available to be used in
    your EasyGUI gadget list, as in:

            @{FG shine}[NEWIMAGEBUTTON, {actionfunction}, nb]@{FG text}

    This can make plugins in gadget lists easier to identify, especially if
    you use a lot of different plugins.

    @{"<<      Start" link MAIN}
    @{"Methods    >>" link NEWIMAGEBUTTON_METHODS}

@endnode
@node NEWIMAGEBUTTON_METHODS "newimagebutton.m/Methods"

    @{u}Methods@{uu}

    @{b}button(tags)@{ub}

        The contructor for this method, where @{FG shine}tags@{FG text} is a PTR TO a list of tag
    items from those @{"attributes" link NEWIMAGEBUTTON_ATTRIBUTES} marked [I].  Most values default to something
    reasonable, so you can simply use @{FG shine}[NIB_IMAGE, img, TAG_DONE]@{FG text} as your list.
        You @{b}must@{ub} open @{FG shine}utility.library@{FG text} prior to calling this function, or it
    will raise a "util" exception.
        This method has no return value.

    @{b}set(attr, val)@{ub}

        Sets any attribute to the value given, where @{FG shine}attr@{FG text} is any @{"attribute" link NEWIMAGEBUTTON_ATTRIBUTES}
    that is marked [S], and @{FG shine}val@{FG text} is some reasonable value for that attribute.
        This method has no return value.

    @{b}value, check:=get(attr)@{ub}

        Gets the value for the specified attribute, where @{FG shine}attr@{FG text} is any @{"attribute" link NEWIMAGEBUTTON_ATTRIBUTES}
    marked [G].  The second return value, @{FG shine}check@{FG text}, is TRUE if @{FG shine}attr@{FG text} is in fact
    "gettable", otherwise FALSE (be sure to check for this).

    @{FG shine}END@{FG text} @{b}must@{ub} be called for each @{FG shine}NEW@{FG text}ed object.

    @{"<<      Usage" link NEWIMAGEBUTTON_USAGE}
    @{"Attributes >>" link NEWIMAGEBUTTON_ATTRIBUTES}

@endnode
@node NEWIMAGEBUTTON_ATTRIBUTES "newimagebutton.m/Attributes"

    @{u}Attributes@{uu}

        In addition to the common attributes in @{"buttonbase" link BUTTONBASE_ATTRIBUTES}, the newimagebutton
    Plugin also supports:

    @{b}NIB_IMAGE@{ub}                               [IS.]

        The image (must be in chip mem; use tools/copylist) which is to appear
    centred in the button.  This attribute must be provided, or "nbut" will be
    raised.
        Note that when changing the image with set(), the new image is only
    accepted and changed if the width and height are <= those of the original
    image.  The gadget will not adjust its size to fit.

    @{b}NIB_SELECTIMAGE@{ub}                         [IS.]

        This is an optional second image, which will be rendered when the
    button is selected.  Ideally, this image should be the same dimensions as
    the image provided with NIB_IMAGE, or you should allow for this using
    NIB_WIDTH and NIB_HEIGHT
        Note that when changing the image with set(), the new image is only
    accepted and changed if the width and height are <= those of the original
    image.  The gadget will not adjust its size to fit. (Default: NIL)

    @{b}NIB_WIDTH@{ub}                               [I.G]

        The width of the button.  It will adjust to the width of the image if
    you have provided too small a value or if you omit this tag. (Default:
    width of NIB_IMAGE image)

    @{b}NIB_HEIGHT@{ub}                              [I.G]

        The height of the button.  It will adjust to the height of the image
    if you have provided too small a value or if you omit this tag. (Default:
    height of NIB_IMAGE image)

    @{"<<    Methods" link NEWIMAGEBUTTON_METHODS}
    @{"Exceptions >>" link EXCEPTIONS}

@endnode
@node EXCEPTIONS "Exceptions"

    @{u}Exceptions@{uu}

    "@{b}util@{ub}" will be raised by buttonbase/button() if @{FG shine}utility.library@{FG text} isn't
           open.
    "@{b}nbut@{ub}" will be raised by buttonbase/button() if the BOOPSI button gadget
           couldnt be created.
    "@{b}nbut@{ub}" will also be raised by buttonbase/render() if NewObjectA() fails
           to create the gadget.
    "@{b}nbut@{ub}" will also be raised by newimagebutton/button() if you don't supply
           an image to the gadget.







    @{"<<      Start" link MAIN}

@endnode
@node BUTTONBASE_ATTRIBUTES "buttonbase.m/Attributes"

    @{u}Common Attributes@{uu}

        These attributes are common to all subclasses of buttonbase:

    @{b}NB_SELECTED@{ub}                             [ISG]

        Whether this gadget is selected.  This attribute is ignored if the
    button is neither toggle or push type.
        Gadget state can be changed with set() even while it is disabled.
    (Default: FALSE)

    @{b}NB_DISABLED@{ub}                             [ISG]

        Whether this gadget is disabled.  Disabled gadgets are properly
    ghosted in a Style Guide-compliant way. (Default: FALSE)

    @{b}NB_RESIZEX@{ub}                              [I..]

        Whether this gadget can resize in width. (Default: FALSE)

    @{b}NB_RESIZEY@{ub}                              [I..]

        Whether this gadget can resize in height. (Default: FALSE)

    @{b}NB_TOGGLE@{ub}                               [I..]

        Set this to TRUE for a push-on/push-off type button.  This tag will
    take precedence over NB_PUSH. (Default: FALSE)

    @{b}NB_PUSH@{ub}                                 [I..]

        Set this to TRUE for a push-on-only type button.  This type button can
    only be deselected with set().  This tag is ignored if NB_TOGGLE is TRUE.
    (Default: FALSE)

    @{b}NB_FRAMETYPE@{ub}                            [I..]

        The type of frame for the button, currently either BATT_BUTTONFRAME or
    BATT_THINFRAME (defined in buttonclass.m).  Defaults to the former, the
    standard Gadtools-like button frame.

@endnode

