
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- Neue Fragen sind entweder mit einem find auf ##NEU## zu starten oder    -
- mit der entsprechenden EPD Nummer (z.B. find EPD#2) zu starten          -
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
-                          EPD#2                                          -
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

--> Ist Amiga_E_v2.1b eigentlich die neuste Version?

    JCL_POWER:

    Ja, wenn du die "Dr.Wouter_antwortet" liest, wirst Du sehen warum.
    Auch Wouter will Geld verdienen und deshalb war dieses (leider)
    die letzte Version, die Wouter frei vertrieben hat.

    Aber einmal eine andere Frage: was würdet ihr denn so ausgeben, wenn
    Amiga_E kommerziell währe?

--> Wird es auf der nächsten EPD größere Einführung in E geben (So in
    Richtung "Wie baue ich mir ein(e/n)
    Bildschirmschoner/Textviewer/Database/Discverwaltung...?").

    JCL_POWER:

    Sehr gerne, wenn auch andere bereit sind, hier zu helfen. Ich für
    meinen Teil arbeite gerade an einem Kurs "3-D-Programmierung in
    Amiga_E". Zum anderen arbeite ich auch noch an Spieleroutinen, da
    ich eigentlich vorhabe, diese (analog wie meine Game.Lib in PCQ)
    jedem zugänglich zu machen.

    Wenn irgendjemand Lust hat, hier ein Projekt zu beginnen oder jemanden
    sucht, der sich an einem Projekt beteiligt, so nehme ich gerne die
    Vermittlung vor.

    Wenn hier jemand schon eins der o.g. Projekte umgesetzt bzw. in der
    Mache hat, so bitte ich auch um  Infos, damit ich diese auf der
    nächsten EPD veröffentlichen kann.

--> Den jetzt folgenden Text hab ich mit ShowModule aus EModules:
    extrahiert. Kannst du mir den mal ein bißchen(viel) erläutern?
    (Sieht ganz interessant aus)
    Vor allem würde ich gerne wissen, wie ich einzelne Funktionen aus meinen
    Programmen heraus anwende...

------------------------------------------------------------------------------
ShowModule v0.1 (c) 1992 $#%!
now showing: "emodules:WB.m"
NOTE: don't use this output in your code, use the module instead.

LIBRARY 'wb.library', workbenchbase         /* informal notation */
  Dum()
  Dum()
  StartWorkbench(D0,D1)
  AddAppWindowA(D0,D1,A0,A1,A2)
  RemoveAppWindow(A0)
  AddAppIconA(D0,D1,A0,A1,A2,A3,A4)
  RemoveAppIcon(A0)
  AddAppMenuItemA(D0,D1,A0,A1,A2)
  RemoveAppMenuItem(A0)
ENDLIBRARY

-----------------------------------------------------------------------------
ShowModule v0.1 (c) 1992 $#%!
now showing: "emodules:workbench/workbench.m"
NOTE: don't use this output in your code, use the module instead.

CONST WORKBENCH_WORKBENCH_I=1,
      WBDISK=1,
      WBDRAWER=2,
      WBTOOL=3,
      WBPROJECT=4,
      WBGARBAGE=5,
      WBDEVICE=6,
      WBKICK=7,
      WBAPPICON=8

(---) OBJECT drawerdata
(  0)   newwindow:substructure
( 48)   currentx:LONG
( 52)   currenty:LONG
( 56)   flags:LONG
( 60)   viewmodes:INT
(---) ENDOBJECT     /* SIZEOF=62 */

CONST DRAWERDATAFILESIZE=$3E

(---) OBJECT diskobject
(  0)   magic:INT
(  2)   version:INT
(  4)   gadget:substructure
( 48)   type:CHAR
( 49)   pad_byte:CHAR
( 50)   defaulttool:LONG
( 54)   tooltypes:LONG
( 58)   currentx:LONG
( 62)   currenty:LONG
( 66)   drawerdata:LONG
( 70)   toolwindow:LONG
( 74)   stacksize:LONG
(---) ENDOBJECT     /* SIZEOF=78 */

CONST WB_DISKMAGIC=$E310,
      WB_DISKVERSION=1,
      WB_DISKREVISION=1,
      WB_DISKREVISIONMASK=$FF

(---) OBJECT freelist
(  0)   numfree:INT
(  2)   memlist:substructure
(---) ENDOBJECT     /* SIZEOF=16 */

CONST MTYPE_PSTD=1,
      MTYPE_TOOLEXIT=2,
      MTYPE_DISKCHANGE=3,
      MTYPE_TIMER=4,
      MTYPE_CLOSEDOWN=5,
      MTYPE_IOPROC=6,
      MTYPE_APPWINDOW=7,
      MTYPE_APPICON=8,
      MTYPE_APPMENUITEM=9,
      MTYPE_COPYEXIT=10,
      MTYPE_ICONPUT=11,
      GADGBACKFILL=1,
      NO_ICON_POSITION=$80000000,
      AM_VERSION=1

(---) OBJECT appmessage
(  0)   message:substructure
( 20)   type:INT
( 22)   userdata:LONG
( 26)   id:LONG
( 30)   numargs:LONG
( 34)   arglist:LONG
( 38)   version:INT
( 40)   class:INT
( 42)   mousex:INT
( 44)   mousey:INT
( 46)   seconds:LONG
( 50)   micros:LONG
( 54)   reserved:substructure
(---) ENDOBJECT     /* SIZEOF=62 */

(---) OBJECT appwindow
(  0)   private:substructure
(---) ENDOBJECT     /* SIZEOF=0 */

(---) OBJECT appicon
(  0)   private:substructure
(---) ENDOBJECT     /* SIZEOF=0 */

(---) OBJECT appmenuitem
(  0)   private:substructure
(---) ENDOBJECT     /* SIZEOF=0 */

    JCL_Power:

    Es tut mir leid, aber ohne Dokumentation komste hier nicht weiter.
    Aber keine Sorge, ich werde diese Beschreibung zum Anlaß nehmen und
    hierzu, wenn ich Zeit habe, einen kleinen Exkurs schreiben.

    Aber ich kann nicht die gesamte Dokumentation der Amiga-Libs
    hier reinhacken.

    Sorry.


--> Ich würde gerne wissen, wozu Zeiger (Pointer) und der type
    "PTR TO" gut sind. (Vielleicht mit kleinen Bleispiel?)

    JCL_POWER:

    Pointer sind die elementarsten Sachen des Amiga-Betriebssystems.
    Die Pointer sind eigentlich nichts anderes als Zeiger auf eine Adresse,
    in welcher ein Programm weitere Daten erfahren kann.

    Der type "PTR TO" ist nun nicht anderes als die Definition einer
    Variablen als Zeiger.

    Ein Beispiel für die Verwendung ist z.B. das Ermitteln von
    Parametern aus einem Icon. Schau Dir doch bitte dazu das Beispiel
    "WBARG.e" auf der EPD1 an.

    Warum verwendet man Zeiger? Nehmen wir z.B. an, Du willst ein
    Dateiverzeichnis aus der Diskette lesen. Da du aber nie weißt,
    wieviele Einträge im Verzeichnis sind, hast du Schwierigkeiten,
    den Platzbedarf im Vorwege zu kalkulieren.

    Hier kann die der Pointer weiterhelfen, denn mit einer verketteten
    Liste des Types
        OBJECT test
            next,
            fileinfoblock
        ENDOBJECT

    und der Anweisung

        DEF eintrag:PTR TO test

    kannst du durch einfache Speicherzuweisung über
        eintrag := New(SIZEOF test)

    dir Speicher zuweisen lassen, deine Einträge machen, und mit der
    Anweisung
        eintrag.next := New(SIZEOF test)
        eintrag := eintrag.next

    den nächsten fileinfoblock lesen.

    Und das alles, ohne vorher einen festen Bereich mit
            eintraege[100]:PTR TO fileinfoblock

    zu beanspruchen.

    Zum anderen schaue doch noch mal in den vielen Beispielen auf der
    EPD 1 nach. Dort findest Du des öfteren einen solchen Fall. Wenn
    konkret etwas zu einem Beispiel wissen willst, dann schreib mir.


--> Ich habe keine Ahnung, was man mit den Variablen "execbase","gfxbase"
    und "dosbase" anfangen soll. Die scheinen recht wichtig zu sein.

    JCL_POWER:

    Das ist vollkommen rchtig. Diese Varaiblen bilden den Ausgangspunkt
    für Funktionsaufrufe des Amiga_Betriebssystems. In anderen
    Sprachen bist Du alleine auf dich gestellt und mußt diese Libraries
    selber aufmachen und in die o.g. Variablen schreiben. In E läuft das
    automatisch in dem vom Compiler erzeugten Code ab.

    Über diese Variablen kannst Du einige interssante Informationen
    erfahren (z.B. welcher Schirm zur Zeit aktiv ist, welche Betriebs-
    systemversion vorhanden ist, welche GrafikChips etc.), nur hier
    gilt wieder mein alter Spruch: ohne Doku kommst Du nicht weiter.

--> Das gleich mit der Variable "arg", die angeblich Zeiger auf einen String
    sein soll, der die Command-line Argumente enthält. Hmmm, kann man dann
    also einfach statt dem Variablenname den Zeiger angeben:

       WriteF('Argumente: \s',arg)    /* So ungefähr */

    JCL_POWER:

    Wenn ein Programm aus dem CLI aufgerufen wird können Parameter
    übergeben wrden (wie z.B. beim Compiler). Schau Dir doch bitte
    einmal mein Programm "GetArgs" auf dieser Diskette an. Ich
    glaube, das es Dir weiterhilft.

    Wenn Du allerdings einen Ami mit OS2.04 und höher hast, dann hast
    Du ein paar spezielle Betriebssystemaufrufe für die Bearbeitung
    von CLI-Parms schon im Betriebssystem eingebaut.

    Auch hierzu sind Beispiele auf der EPD1 drauf.

--> Kannst du dann noch mal erklären was man mit "enumerations", "sets"
    und den "built-in constants" macht?

    JCL_POWER:

    Normalerweise könntest Du folgende Konstantendefinitionen in E schreiben:

    CONST   ICH=1, DU=2, ER=3, SIE=4, ES=5

    Aber warum soviel tippen? Hierzu kann man die ENUM's benutzen. Denn
    das gleiche, was ich eben geschrieben habe, kann man mit ENUM's
    folgendermaßen angeben:

    ENUM   ICH=1, DU, ER, SIE, ES

    DU, ER, SIE, ES erhalten den jeweils um +1 höheren Wert des
    vorhergehenden Elementes. Und Du sparst weniger arbeit.

    Das gleiche gildet auch für SET's, wobei Set's immer Bit-bezogen sind.
    Statt

    CONST   ICH=1, DU=2, ER=4, SIE=8, ES=18

    kannst Du mit SET's

    SET   ICH=1, DU, ER, SIE, ES

    schreiben, wobei DU=2, ER=4, SIE=8, ES=18 an Werten annehmen.

    Builtin-Constanten sind Werte, die Du nicht verwenden darfst, weil der
    Compiler sie schon belegt. Deshalb kann es zu doppeltnennungen kommen,
    und die akzeptiert kein Compiler (selbst Basic nicht).

--> Und wo du schon mal dabei bist: Ich versteh das Kapitel 8 über Types
    nicht ...(Warum wünsch ich mir nicht gleich ein deutsches Handbuch zu
    E...?).

    JCL_POWER:

    Das Kapitel 8 beschreibt, welche Typen in E zulässig sind und welche
    dazu abwärtskompatibel. Sehe es so, wie in Basic. Da hast Du auch
    verschiedene Typen (Zahlen, Strings, Ganzzahlen, Integer etc.). Und
    auch E hat solche Typen. Deshalb enthält das Kapitel eben eine
    Aufzählung, damit man (Frau) auch weiß, welche verwendet werden können.

--> Im Kapitel 10A steht, daß man um Open() aufzurufen

       handle:=Open('myfile',OLDFILE)

    schreiben muß. Wieso wird den dazu einer Variable ein Wert zugewiesen,
    oder sollte handle gar keine Variable sein ???

    JCL_POWER:

    Doch, ja, handle ist eine Variable. Und was für eine. Beim Öffnen einer
    Datei muß man dem System mitteilen, wo es denn die Informationen über
    diese Datei hinterlegen soll. Deshalb heißt diese Variable auch
    Filehandle. Wenn Du keine Variable bereitstellst, wie sollst Du dann
    dem System mitteilen, daß es diese Datei, UND NUR DIESE, wieder schließen
    soll?

    Außerdem beruhen fast (alle) Routinen des DOS-Betriebssystems auf dieser
    Variable. Nur mit ihr ist es möglich Datem zu lesen, zu schreiben etc.

    Und da sind wir wieder bei meinem Standardspruch: ohne Doku läuft
    nichts. Schau Dir mal in den Computerfachhändlern die entsprechenden
    Bücher an. Oder laß dich mal von denen beraten. Oder wenn Du willst
    mache ich auch gerne ein paar Vorschläge, was man (Frau) an Doku
    haben sollte. O.K.?

--> Darf ich die EPD in Mailboxen vertreiben oder liegen irgendwelche
    Einschränkungen drauf?

    JCL_POWER:

    Nein, ganz im Gegenteil, ich bitte sogar darum, die Disketten zu
    vertreiben. Allerdings lege ich ein paar Einschränkungen drauf:

        - die EPD darf nicht in Teilen oder im ganzen verändert und dann
          weitergegeben werden (währe ja auch schwachsinn),

        - ich möchte auch weiterhin als Urheber dieser Diskette genannt
          werden (:-))

        - und last, but not least, möchte ich entsprechende Resonance
          aus den Mailboxen natürlich auch auf meinen Disketten wieder-
          finden; d.h. Material sollte von demjenigen, der die
          Disketten anbietet mir zuschickt werden. Ich ersetze ihm natürlich
          Porto bzw. Diskkosten.

    Eigentlich nicht viel, was ich für meine Arbeit verlange. Auf der anderen
    Seite glaube ich daß diese Diskettenserie nur von euch lebt und dafür
    stürze ich mich gerne in die Arbeit ;-)

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
-                          EPD#3                                          -
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

    --- FEHLANZEIGE ---

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
-                          EPD#4                                          -
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

    --- FEHLANZEIGE ---

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
-                          EPD#5                                          -
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

    --- FEHLANZEIGE ---



