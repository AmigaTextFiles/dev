ng_prefshook.m/-general-
ng_prefshook.m/ng_prefsproc()


-general-

There are two Modules called >ng_prefshook_intern.m< and the other
>ng_prefshook_extern.m<, they are the same, both saves the Preferences
File in the IFF-Format, but the Module >ng_prefshook_extern.m< uses
another Module for the IFF-Things (tools/iff_support.m), this is
helpful if you use this Module to load/save other iff-related files
(pics, samples...), this will save about 300 bytes. The other Module
does all IFF-Actions inside (internally!), this is for programs
which doesn`t use any IFF-Stuff either, in this case this Module
will save 300 bytes too!

ng_prefsproc()

SYNTAX: 

        iffhandle:=ng_prefsproc(filename,lastid,iffhandle,screen,winid,
                x,y,width,height,open,own,size)

FUNCTION:

        Loads/Saves the position and the size of all windows into an
        IFF-Prefs-file. It is possible to save own data also into the
        prefs-file (in IFF-Format).

PARAMETERS:

        filename  - Name (with path!) of the Preferences-File
        lastid    - The ID from the last Window to save
        iffhandle - PTR to an opened iff-handle (you have to do nothing
                    but give here the same variable as the return-value!!!)
        screen    - PTR to the NewGUI-Screen (see NG_SAVEPREFS)
        winid     - The id of the window to which this prefs belongs 
                    (see_NG_SAVEPREFS!)
        x         - Left Edge of the window (see NG_SAVEPREFS)
        y         - Top Edge of the window (see NG_SAVEPREFS)
        width     - width of the window (see NG_SAVEPREFS)
        height    - height of the window (see NG_SAVEPREFS)
        open      - this value says that a window is open, closed or 
                    backdrop (see NG_SAVEPREFS)
        own       - PTR to own Data (maybe a Object), if its not given
                    then no own prefs will be saved, this makes only
                    sense with the size-parameter!
        size      - Size of the own data to save

RETURN:

        iffhandle - PTR to an opened IFF-Handle, this must be a global
                    variable-definition and must be the same variable
                    as >iffhandle< in the parameters!

BUGS:

        This Module can`t be used together with ng_guitask() because it
        uses the dos.library Funtions Open() and Close()!
        This isn`t a bug of this Module but a restriction of the AmigaOS!
        There is a chance to use the preferences-feature anyway, but it
        is much more complicated as the use of this modules in the
        non-Task Version of NewGUI... if you want to use preferences
        loading you have to do it the >old fashioned< way...
        (Load the preferences-File BEFORE initialising the GUI/Task
        and set the Tags for the Window/Screen manually (NG_WINDOWxxx),
        this is just easy, but saving is a big problem because we need
        to use dos.library calls to write to a file... maybe you could
        copy the preferences-data (window-dimensions) into a list or
        a object and save it in the Main-Task AFTER closing the
        GUI/NewGUI-Task...)
