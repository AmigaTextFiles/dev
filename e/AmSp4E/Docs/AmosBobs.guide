@database AmosBobs
@(C) 1999-07-09

@index INDEX
@node main "Contents"
@{fg shine}
                            AmosBobs  module
                              version 2.05
                             (LAST VERSION)

                   (C) 1998-1999 by Krzysztof Cmok
         my email is: @{b}sharkk@friko2.onet.pl, sharkk@polbox.com@{ub}
@{fg text}@{bg fill}
                   Display AMOS Objects for AmigaE.                              
@{bg back}
              That module is for display objects from amos.
               (mediator in display amos bob and icons) ;)


                                  Contents
_______________________________________________________________________________
ннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннн

                 @{"              -INTRODUCTION-              " link INTRO}
                 @{"                 -INDEX-                  " link INDEX}
	         @{"               -AMOS and E-               " link MAPPS}
                 @{"       -AmSp and AmIc file-formats-       " link FORMS}
                 @{"               -AmSpGrabber-              " link TOOLS}

@endnode

@node TOOLS ""

AmSp Grabber v1.0
~~~~~~~~~~~~~~~~~
   This tool grabing from IFF-picture as object AmSp.

   Buttons:
     (CYCLE-BUTTON) Colors       - how much colors in file abk.
     (CYCLE-BUTTON) File-Format  - how file format abk.
     Load IFF                    - Load IFF picture to memory.
     Pick Pal                    - Change ABK palette to IFF palette.
     Load Abk                    - Load ABK file (AmSp,AmIc).
     Save Abk                    - Save ABK file.
     Grab IFF                    - Grabbing object.
     Hot Spot                    - Set or Change HotSpot.
     |< or >|                    - Prev/Next object.
     View Bob                    - View a bob.
     Replace Bob                 - Replace current object to object from Grab IFF.
     Add Bob                     - Add bob from Grab IFF.
     Clear Bob                   - Clear current object.
     All objects                 - Viewing all abk-objects, from current bobs to end.
     Object info                 - Description current object.
     Jump to obj                 - Jump object, alike to  |< or >|.
     Erase all                   - Flush memory from loaded IFF and loaded ABK.

Sorry but don't speak english!
@endnode

@node FORMS ""
                          AmSp and AmIc file-formats
_______________________________________________________________________________
ннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннн
file-format -AmSp- is identical to -AmIc- File-Format.
this formats to have some bugs:
	- Change palette maximal to 32 colors.
	- no AGA! :(
	- maximal 6 planes in object.

Some pluses:
	- unlimited amount objects.
	- hot spot in file-format.
	- declare palette in file-format.

AMOSBOBS have implemented for AmSp and AmIc:
	- even AGA
	- 8 planes.
	- 256 colors in palette.

@endnode

@node MAPPS "AMOS and E"

Description                               AMOS                  AmigaE
____________________________________________________________________________________________________
нннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннн
load amos bobs				  Load "a",b		b:=mLoadIB('a')
flush bobs from memory			  Erase b		mEraseIB(b)
palette of objects			  Get Bob Palette	mGetIBPalette(b,viewport)
informations about objects		  -many funcs-		mGetIBInfo(b,nr,flag)
display icon (in E without mask)	  Paste Icon x,y,nr     mPasteQuickIB(rport,b,x,y,imagenr)
display icon (with mask)		  Paste Icon x,y,nr     mPasteIB(rport,b,x,y,imagenr)
display bob				  Bob n,x,y,nr		mIB(rport,b,nr,x,y,imagenr[,inwin])
bob with memory			          -at once after load-	mDecodeIB(readbuffer,length,window)
bob buffers				  Set Bob Buffer n	mStBuf(n)
bob clear				  Bob Clear		mClearIB(rport,b)
bob drawing				  Bob Draw		mDrawIB(rport,b)
bob hide				  Bob Off n		mIBOff(b,n)
bob update on				  Bob Update On		mIBUpdateOn(b)
bob update off				  Bob Update Off	mIBUpdateOff(b)
@endnode

@node INTRO "Introduction"

@{b}History@{ub}
~~~~~~~
v1.3    	- (1998-12-30) First Release.
v1.4		- (1999-01-30) bug fix, added some instructions for mGetIBInfo.
v1.42 and v1.45	- (1999-02-05) bug fixed.
v2.01		- (1999-04-28) many change, see Features.
v2.01		- (1999-05-30) refixed.
v2.05		- (1999-07-09) last version.

@{b}in this version@{ub}
~~~~~~~~~~~~~~~
	- now faster.
	- now even with kickstart 1.3 is working! (i don't no, no test!)
	- hot spot implemented.
	- some procedures fixed.
	- now module must be in directory 'emodules:tools'
	- some added commands.
	...and some new examples for module.

	v2.05

	- AmosBobs.m with sourcecode.
	- AmSpGrabber with sourcecode.
	- bug fix.
	- bob colisions.

@endnode

@node INDEX "Index"

                                    Index
_______________________________________________________________________________
ннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннннн

   @{" mClearIB(rport,bobsptr)           " link CLEARBOB}
   @{" mDecodeIB(bobsptr,length)         " link DECODEBOBS}
   @{" mDrawIB(rport,bobsptr)            " link DRAWBOB}
   @{" mEraseIB(rport,bobsptr)           " link DISPOSEBOBS}
   @{" mGetIBInfo(bobsptr,nr,flag)       " link GETBOBINFO}
   @{" mGetIBPalette(bobsptr,vport)      " link GETBOBPALETTE}
   @{" mIBOff(rport,bobsptr,nr)          " link BOBHIDE}
   @{" mIB(rport,bobsptr,nr,x,y,imagenr) " link BOBSHOW}
   @{" mPasteIB(rp,bobsptr,x,y,imagenr)  " link IMAGESHOWMASK}
   @{" mPasteQuickIB(rp,bptr,x,y,imagenr)" link IMAGESHOW}
   @{" mLoadIB(filename)                 " link LOADBOBS}
   @{" mStBuf(n)                         " link SETBOBBUFFER}
   @{" mIBUpdateOff(bobsptr)             " link UPDATEOFF}
   @{" mIBUpdateOn(bobsptr)              " link UPDATEON}
@endnode

@node SETBOBBUFFER "mStBuf"

@{b}	mStBuf(n) @{ub}

	Set buffer for bobs.

	n	- max bobs. (default 64).

WARNING: Must be before procedure -mLoadIB-.
@endnode

@node LOADBOBS "mLoadIB"

@{b}	bobsptr:=mLoadIB(fn) @{ub}

	Load amos bob objects bank.

	fn	- file to load.
        bobsptr	- bobptr is NIL then not load bob data.
@endnode

@node DISPOSEBOBS "mEraseIB"

@{b}	mEraseIB(bobsptr) @{ub}

	Clean all from memory.

	bobsptr	- pointer of load bobs.
@endnode

@node GETBOBPALETTE "mGetIBPalette"

@{b}	mGetIBPalette(bobsptr,vport) @{ub}

	Change palette in screen.

       	bobsptr	- pointer of load bobs.
	vport	- pointer to viewport.
@endnode

@node GETBOBINFO "mGetIBInfo"

@{b}	info:=mGetIBInfo(bobptr,nr,flag) @{ub}

	return information about object.

       	bobptr	- pointer of load bobs.
        nr	- number of object.
        flag	- is be:
                         IB_WIDTH	- width object.
			 IB_HEIGHT	- height object.
			 IB_DEPTH	- how much planes of object.
			 IB_COLOURS	- colours of object.
			 IB_FACE	- face of object (image.imagedata).
			 IB_OBJLEN	- length of object.

			 IB_CX		- Coords. X.
			 IB_CY		- Coords. Y.
			 IB_CN		- Number of face object.
			 IB_CMAXOBJS	- how much is objects in bank.
			 IB_CDEPTH	- maximum amount possible planes.
			 IB_CCOLOURS	- amount colors in palette.

			 IB_HOTX	- hot spot-x object.
			 IB_HOTY	- hot spot-y object.
@endnode

@node IMAGESHOW "mPasteQuickIB"

@{b}	mPasteQuickIB(rport,bobptr,x,y,imagenr) @{ub}

	display simple bob object without mask.

	rport	- pointer to rastport.
	bobptr	- pointer of load bobs.
	x,y	- coord.
	imagenr	- number image.
@endnode

@node IMAGESHOWMASK "mPasteQuickIB"

@{b}	mPasteIB(rport,bobptr,x,y,imagenr) @{ub}

	display bob object with mask.

	rport	- pointer to rastport.
	bobptr	- pointer of load bobs.
	x,y	- coord.
	imagenr	- number image.
@endnode

@node BOBSHOW "mIB"

@{b}	mIB(rport,bobptr,nr,x,y,imagenr[,inwin]) @{ub}

	This function is alike to 'Bob' command from AMOSPro.
	Function display a bob to screen with index (nr).

	rport	- pointer to rastport.
	data	- pointer to bobsptr.
	imagenr	- number image.
	x,y	- coordinates X and Y.
	nr	- number in index.

	[,inwin]- if object is in window and window is in WORKBENCH to TRUE
		  if window is in not WORKBENCH to FALSE.

SEE ALSO: @{"mIBOff" LINK BOBHIDE} @{"mDrawIB" LINK DRAWBOB}
@endnode

@node DECODEBOBS "mDecodeIB"

@{b}	bobptr:=mDecodeIB(readbuffer,length) @{ub}

	convert readbuffers to bobptr data.

     readbuffer - read data (see: dos.library/Read() )
	length	- length of readbuffer.
        bobptr	- pointer of load bobs.
	s	- pointer to screen (0/NIL - first screen).

SEE ALSO: @{"mLoadIB" LINK LOADBOBS}
@endnode

@node BOBHIDE "mIBOff"

@{b}	mIBOff(rport,bobptr,n)@{ub}

	clear bob from screen.

	rport	- pointer to rastport.
	bobptr	- pointer of load bobs.
	n	- numer object.

SEE ALSO: @{"mIB" LINK BOBSHOW}
@endnode

@node DRAWBOB "mDrawIB"

@{b}	mDrawIB(rport,bobptr)@{ub}

	This procedure drawing once again all bobs.
	Need when command 'mUpdateOn' be activated.

	rport	- pointer to rastport.
	bobptr	- pointer of load bobs.

SEE ALSO: @{"mIB" LINK BOBSHOW} @{"mUpdateOn" LINK UPDATEON}
          @{"mClearIB" LINK CLEARBOB}
@endnode

@node CLEARBOB "mClearIB"

@{b}	mClearIB(rport,bobptr)@{ub}

	This procedure clear once again all bobs.
	Need when command 'mUpdateOn' be activated.

	rport	- pointer to rastport.
	bobptr	- pointer of load bobs.

SEE ALSO: @{"mIB" LINK BOBSHOW} @{"mUpdateOn" LINK UPDATEON}
          @{"mDrawIB" LINK DRAWBOB}
@endnode

@node UPDATEOFF "mUpdateOff"

@{b}	mUpdateOff(bobptr)@{ub}

	After this command, 'mIB' command not be drawing bobs.
	Command 'mDrawIB' drawing bobs.
	Command 'mClearIB' clear from screen bobs.

	bobptr	- pointer of load bobs.

SEE ALSO: @{"mIB" LINK BOBSHOW} @{"mUpdateOn" LINK UPDATEON}
          @{"mUpdateOff" LINK UPDATEOFF} @{"mDrawIB" LINK DRAWBOBS}
          @{"mClearIB LINK CLEARBOBS}
@endnode


@node UPDATEON "mUpdateOn"

@{b}	mUpdateOn(bobptr)@{ub}

	After this command, 'mIB' be automatic drawing bobs to screen.

	bobptr	- pointer of load bobs.

SEE ALSO: @{"mIB" LINK BOBSHOW} @{"mUpdateOn" LINK UPDATEON}
          @{"mUpdateOff" LINK UPDATEOFF}
@endnode

