@database implementation

@node main "Implementing own modules and using existing ones"

NOTE: this text is just a draft...

This document deals with the implementation of modules, i.e. the ones that
come along with this text in the oomodules subdirectory of EMODULES: (aka
the oomodules/ hierarchy) and your own modules.

There are some general remarks about the methods every object should have.
Additionally, you'll find some hints for deriving from specific objects.


  @{"General design" link general_design}
  @{" "}
  @{" "}

@endnode

@node general design "General Design if the oomodules/ hierarchy"

When you take a look at the EMODULES:oomodules directory you'll notice a few
files and a number of subdirectories. Amongst those files you'll find one
special file called object.e - here you can find the basic object for the
hierarchy called 'Object'.

'Object' has only a few attributes and does almost nothing. It doesn't have
to do anything for its only purpose is to layout the general look of every
object.

The most important methods are new(), init(), select() and end().
Without knowing what these methods do and how they do it it's impossible to
use the object library.

@endnode

@node object_new "Object - Method new()"

As with all objects in E you have to allocate an object from the library
with the NEW operator. The difference between normal and oomodules objects
is that you have to allocate an ooep object by calling the new() method
upon allocation:

  NEW object.new()

Without calling new() the object won't work properly!

new() is a very simple method, it calls self.init() and self.select()
afterwards. select() takes one argument which is the one you can provide
when calling new(). This argument is a tag list.

The tag list may contain any data. The object has to deal with it. Look at
the select() chapter of each object to know what tags may be given.


@endnode

@node object_init "Object - Method init()"
@endnode

@node object_select "Object - Method select()"
@endnode

@node object_end "Object - Method end()"
@endnode

@node general

If you want to implement an object you have to sit down and look for a
place in the hierarchy which seems to be the right one for it. If you want
to implement an object for the narrator.device you should derive it from
the device object, the 'Complex' object should inherit from 'Number'.

If you're sure about the parental object you should keep an eye on it's
methods. You'll definitely redefine the init() and select() methods. When
you do this it could be necessary to call the parental methods via SUPER.

Normally you should call the parental object's end() method. Since one of
benefits of oo is encapsulation it's not very good style to do the same
disposing again.

@endnode

@node
@endnode
