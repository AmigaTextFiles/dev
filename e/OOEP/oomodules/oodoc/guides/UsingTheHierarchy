@database howToOomodules

@node main "Working with the oomodules/ hierarchy"

@{"General notes about the hierarchy" link "General notes about the hierarchy"}
@{"" link }
@{"" link }
@{"" link }
@{"" link }
@endnode

@node "General notes about the hierarchy" "General notes about the hierarchy"

There are some things that are the same in every object of this hierarchy.
First, however, we will look at the things common to all E objects. These
aspects will then be adapted for the hierarchy.

· Allocation of a new object is done via the NEW operator.

  Just put a line in your code that says the following:

    NEW anyObject

  E's runtime system will then allocate enough memory from the system to hold
  the object. In fact there is allocated a bit more for E needs it to
  administrate the objects.

  The oomodules/ hierarchy uses an advanced feature of the NEW operator to
  create new objects. The NEW operator accepts a method to be called right
  after allocating the memory for the object. This can be done by adding the
  method's name to the object when NEWing it:

    NEW anyObject.methodName()

  The hierarchy uses this mechanism to initialize all objects. You *have* to
  call one method when NEWing an object: the method new(). So, whenever you
  want to create an instance of an object, you have to write at least

    NEW object.new()

  There is more to this special method, see @{" The Method New " link "The Method New"} for details.


· Free an object with the END operator.

  To free an object that you don't need any more add a line that says

    END anyObject

  All resources allocated for the object are freed automatically.



@endnode

@node "The Method New" "The Method New"

This method is currently the only way to allocate and initialize an object of
the oomodules/ hierarchy. Call it without any argument and the object is ready
to use.

You can also pass one argument: a tag list. This tag list contains tag and
data pairs just as you know it from the Amiga OS tag lists. Example use for
a textfile object:

  DEF ascii:PTR TO textfile

  NEW ascii.new(["suck", 'S:Startup-sequence'])

Right after allocating and initializing the object the tag list is evaluated.
Here we have the tag "suck" and the tag data 'S:Startup-sequence'. Note that
the tag is a 32-bit number (the characters between the "" are turned to a
number, see the E's reference guide).

@endnode
