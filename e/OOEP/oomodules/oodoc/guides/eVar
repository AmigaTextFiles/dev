@database "eVar"
@master "Ram Disk:T/docs/eVar.doc"

@Node Main "eVar.doc"
    @{" appendVarNameListFromString() " Link "appendVarNameListFromString()"}
    @{" buildVarNameListFromString() " Link "buildVarNameListFromString()"}
    @{" amIPublic() " Link "amIPublic()"}
    @{" eVar() " Link "eVar()"}
    @{" getAutodocString() " Link "getAutodocString()"}
    @{" getType() " Link "getType()"}
    @{" getTypeString() " Link "getTypeString()"}
    @{" getValueString() " Link "getValueString()"}
    @{" getVarString() " Link "getVarString()"}
    @{" name() " Link "name()"}
    @{" sizeOfVar() " Link "sizeOfVar()"}
@EndNode

@Node "appendVarNameListFromString()" "/appendVarNameListFromString"

@{b}   NAME@{ub}
       appendVarNameListFromString() --

@{b}   SYNOPSIS@{ub}
       appendVarNameListFromString(PTR TO CHAR, LONG, LONG=NIL)

       appendVarNameListFromString(originalLine, lineNumber, list)

@{b}   FUNCTION@{ub}
       Takes a @{"string" Link "reqtools/string()"} that contains variable definitions and extracts the var
s
       from it. Does not check if the line really contains variable definitio
ns.

       The variables are put in a list which is appended to the one provided 
by
       the third parameter.

@{b}   INPUTS@{ub}
       originalLine:PTR TO CHAR -- The line to search in.

       lineNumber:LONG -- A number that the startLine attribute of each varia
ble
           will be set to.

       list:LONG -- Pointer to an @{"elist" Link "elist/elist()"} that already contains other variable
           definitions. The list generated by this proc will be appended to
           it. If NIL just the @{"new" Link "resource/new()"} list is returned. Note that this pointer
           isn't valid after this proc, use the returned pointer.

@{b}   RESULT@{ub}
       PTR TO LONG -- Pointer to @{"new" Link "resource/new()"} @{"elist" Link "elist/elist()"} that contains initialized @{"eVar" Link "eVar/eVar()"}
           objects.

@EndNode

@Node "buildVarNameListFromString()" "/buildVarNameListFromString"

@{b}   NAME@{ub}
       buildVarListFromString() -- Build list of variables.

@{b}   SYNOPSIS@{ub}
       buildVarListFromString(PTR TO CHAR, LONG)

       buildVarListFromString(originalLine, lineNumber)

@{b}   FUNCTION@{ub}
       Takes a @{"string" Link "reqtools/string()"} and extracts the variable names from it. The names
       are tossed in freshly created @{"eVar" Link "eVar/eVar()"} objects. The type is found out,
       too.

@{b}   INPUTS@{ub}
       originalLine:PTR TO CHAR -- the line to search in. It si not
           modified.

       lineNumber:LONG -- The number to set te eVar.startLine attribute to.

@{b}   RESULT@{ub}
       PTR TO LONG -- Elist of eVars.

@{b}   NOTES@{ub}
       The strings in the object are allocated. You have to Dispose()
       them by yourself.

@EndNode

@Node "amIPublic()" "eVar/amIPublic"

@{b}   NAME@{ub}
       amIPublic() of @{"eVar" Link "eVar/eVar()"} -- Is the var public or not?

@{b}   SYNOPSIS@{ub}
       eVar.amIPublic(PTR TO CHAR)

       eVar.amIPublic(line)

@{b}   FUNCTION@{ub}
       Finds out if the variable is public, i.e. if it can be accessed from
       other modules as well.

@{b}   INPUTS@{ub}
       line:PTR TO CHAR -- String that contains the variables definition.
           Usually the line that is referred to by the startLine attribute.

@{b}   RESULT@{ub}
       TRUE if the variable is public, FALSE otherwise.

@{b}   EXAMPLE@{ub}
       IF eVar.amIPublic(eVar.startLine)

         WriteF('Access me from other modules!')

       ENDIF

@{b}   NOTES@{ub}
       The line argument may be a default argument in the future.

       Non functional now.

@{b}   SEE ALSO@{ub}
       @{"eVar" Link "eVar/eVar()"}

@EndNode

@Node "eVar()" "eVar/eVar"

@{b}   NAME@{ub}
       eVar() of sourceBlock --

@{b}   ATTRIBUTES@{ub}
       name:PTR TO CHAR -- The name of the variable.

       varType:LONG -- Type identifier. one of the following:
           VT_LONG,
           VT_CHAR,
           VT_INT,
           VT_OBJECT,
           VT_PTR_TO_CHAR,
           VT_PTR_TO_INT,
           VT_PTR_TO_LONG,
           VT_PTR_TO_OBJECT,
           VT_ARRAY_OF_CHAR,
           VT_ARRAY_OF_INT,
           VT_ARRAY_OF_LONG,
           VT_ARRAY_OF_OBJECT

       varTypeModifier:LONG -- points to the object name if varType equals
           VT_OBJECT, VT_PTR_TO_OBJECT or VT_ARRAY_OF_OBJECT.

       arraySize:LONG -- the size of the array in bytes if the variable is
           an array.

       value:PTR TO CHAR -- fututre use.

@{b}   SEE ALSO@{ub}
       sourceBlock

@EndNode

@Node "getAutodocString()" "eVar/getAutodocString"

@{b}   NAME@{ub}
       getAutodocString() of @{"eVar" Link "eVar/eVar()"} -- Get @{"string" Link "reqtools/string()"} to use in autodoc.

@{b}   SYNOPSIS@{ub}
       eVar.getAutodocString(PTR TO string)

       eVar.getAutodocString(string)

@{b}   FUNCTION@{ub}
       Creates an autodoc entry for that variable. This equals the @{"string" Link "reqtools/string()"} of
       characters that can be found at the INPUTS entry. The information
       for the creation are taken from the lists built when sucking the file
       and *not* directly from disk.

@{b}   INPUTS@{ub}
       string:PTR TO @{"string" Link "reqtools/string()"} -- Container object for the resulting @{"string" Link "reqtools/string()"} of
           characters. If NIL the proc returns immediately.

@{b}   NOTES@{ub}
       Due to some crashes the @{"string" Link "reqtools/string()"} object will be ended and newed so
       don't rely on the address of it.

@{b}   SEE ALSO@{ub}
       @{"eVar" Link "eVar/eVar()"}, @{"string/string" Link "reqtools/string()"}

@EndNode

@Node "getType()" "eVar/getType"

@{b}   NAME@{ub}
       getType() of @{"eVar" Link "eVar/eVar()"} -- Get the var's type.

@{b}   SYNOPSIS@{ub}
       eVar.getType(PTR TO CHAR, LONG)

       eVar.getType(line, colonPosition)

@{b}   FUNCTION@{ub}
       Takes a @{"string" Link "reqtools/string()"} that contains a variable definition and extracts the ty
pe
       from it. Does not check if the line really contains a variable
       definition. The according attributes of the @{"eVar" Link "eVar/eVar()"} are set.

       The type is put in the varType attribute and can be of the follwing
       values:

         VT_LONG
         VT_CHAR,
         VT_INT,
         VT_OBJECT,
         VT_PTR_TO_CHAR,
         VT_PTR_TO_INT,
         VT_PTR_TO_LONG,
         VT_PTR_TO_OBJECT,
         VT_ARRAY_OF_CHAR,
         VT_ARRAY_OF_INT,
         VT_ARRAY_OF_LONG,
         VT_ARRAY_OF_OBJECT

@{b}   INPUTS@{ub}
       line:PTR TO CHAR --  the line to search in.

       colonPosition:LONG -- where in the line the colon is.

@{b}   SEE ALSO@{ub}
       @{"eVar" Link "eVar/eVar()"}

@EndNode

@Node "getTypeString()" "eVar/getTypeString"

@{b}   NAME@{ub}
       getTypeString() of @{"eVar" Link "eVar/eVar()"} -- Get the type as a @{"string" Link "reqtools/string()"}.

@{b}   SYNOPSIS@{ub}
       eVar.getTypeString(PTR TO string)

       eVar.getTypeString(string)

@{b}   FUNCTION@{ub}

@{b}   INPUTS@{ub}
       string:PTR TO @{"string" Link "reqtools/string()"} -- Container object for the type. Will be
           automatically cleared. If NIL the proc returns immediately.

@{b}   RESULT@{ub}
       LONG -- the size of the array if the @{"eVar" Link "eVar/eVar()"} is an array, NIL otherwise

@{b}   NOTES@{ub}
       Due to some crashes the @{"string" Link "reqtools/string()"} object will be ended and newed so
       don't rely on the address of it.

@{b}   SEE ALSO@{ub}
       @{"eVar" Link "eVar/eVar()"}, @{"string/string" Link "reqtools/string()"}

@EndNode

@Node "getValueString()" "eVar/getValueString"

@{b}   NAME@{ub}
       getValueString() of @{"eVar" Link "eVar/eVar()"} --

@{b}   SYNOPSIS@{ub}
       eVar.getValueString(LONG)

       eVar.getValueString(value)

@{b}   FUNCTION@{ub}

@{b}   INPUTS@{ub}
       value:LONG -- 

@{b}   RESULT@{ub}

@{b}   EXAMPLE@{ub}

@{b}   CREATION@{ub}

@{b}   HISTORY@{ub}

@{b}   NOTES@{ub}

@{b}   SEE ALSO@{ub}
       @{"eVar" Link "eVar/eVar()"}

@EndNode

@Node "getVarString()" "eVar/getVarString"

@{b}   NAME@{ub}
       getVarString() of @{"eVar" Link "eVar/eVar()"} --

@{b}   SYNOPSIS@{ub}
       eVar.getVarString()

@{b}   FUNCTION@{ub}

@{b}   RESULT@{ub}

@{b}   EXAMPLE@{ub}

@{b}   CREATION@{ub}

@{b}   HISTORY@{ub}

@{b}   NOTES@{ub}

@{b}   SEE ALSO@{ub}
       @{"eVar" Link "eVar/eVar()"}

@EndNode

@Node "name()" "eVar/name"

@{b}   NAME@{ub}
       name() of @{"eVar" Link "eVar/eVar()"} -- Return the name of the object.

@{b}   SYNOPSIS@{ub}
       eVar.name()

@{b}   FUNCTION@{ub}
       Returns @{"string" Link "reqtools/string()"} that contains the name of the object.

@{b}   RESULT@{ub}
       PTR TO CHAR -- Constant @{"string" Link "reqtools/string()"} that reads 'eVar'

@{b}   SEE ALSO@{ub}
       @{"eVar" Link "eVar/eVar()"}

@EndNode

@Node "sizeOfVar()" "eVar/sizeOfVar"

@{b}   NAME@{ub}
       sizeOfVar() of @{"eVar" Link "eVar/eVar()"} -- Get the size of the var.

@{b}   SYNOPSIS@{ub}
       eVar.sizeOfVar()

@{b}   FUNCTION@{ub}
       Find out the size of the var in bytes.

@{b}   RESULT@{ub}
       Size of the variable or -1 if the variable is either an object or an
       array of an object.

@{b}   TODO@{ub}
       Implement the calculation for objects.

@{b}   SEE ALSO@{ub}
       @{"eVar" Link "eVar/eVar()"}

@EndNode

