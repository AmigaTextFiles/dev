@database "catalogList"
@master "Ram Disk:T/docs/catalogList.doc"

@Node Main "catalogList.doc"
    @{" catalogList() " Link "catalogList()"}
    @{" end() " Link "end()"}
    @{" init() " Link "init()"}
    @{" length() " Link "length()"}
    @{" name() " Link "name()"}
    @{" removeCurrentCatalog() " Link "removeCurrentCatalog()"}
    @{" select() " Link "select()"}
    @{" setCurrentCatalog() " Link "setCurrentCatalog()"}
    @{" disposeVal() " Link "disposeVal()"}
    @{" nuArray() " Link "nuArray()"}
    @{" testKey() " Link "testKey()"}
@EndNode

@Node "catalogList()" "catalogList/catalogList"

@{b}   NAME@{ub}
       catalogList of @{"locale" Link "locale/locale()"}

@{b}   PURPOSE@{ub}
       This object holds any number of catalogs at the same time. Use it
       to make your application use more than one catalog.

       catalogList is needed for the localization of the ooep: each object
       has it's own catalog. Therefore it is necessary to hold any number
       of objects open simultaneously.

@{b}   ATTRIBUTES@{ub}
       catalogArray:PTR TO @{"nuArray" Link "catalogList/nuArray()"} -- a slightly modified @{"associativeArray" Link "associativeArray/associativeArray()"}.
           The keys aren't numbers but the names of the catalogs.

@{b}   SEE ALSO@{ub}
       @{"associativeArray/associativeArray" Link "associativeArray/associativeArray()"}

@EndNode

@Node "end()" "catalogList/end"

@{b}   NAME@{ub}
       end() of @{"catalogList" Link "catalogList/catalogList()"} -- Global destructor.

@{b}   SYNOPSIS@{ub}
       catalogList.end()

@{b}   FUNCTION@{ub}
       ENDs the @{"nuArray" Link "catalogList/nuArray()"} and calls SUPER end().

@{b}   SEE ALSO@{ub}
       @{"catalogList" Link "catalogList/catalogList()"}, locale/end()

@EndNode

@Node "init()" "catalogList/init"

@{b}   NAME@{ub}
       init() of @{"catalogList" Link "catalogList/catalogList()"} -- Initialization of the object.

@{b}   SYNOPSIS@{ub}
       catalogList.init()

@{b}   FUNCTION@{ub}
       The @{"nuArray" Link "catalogList/nuArray()"} is NEWed and SUPER init() is called.

@{b}   SEE ALSO@{ub}
       @{"catalogList/catalogList" Link "catalogList/catalogList()"}

@EndNode

@Node "length()" "catalogList/length"

@{b}   NAME@{ub}
       length() of @{"catalogList" Link "catalogList/catalogList()"} -- Get number of catalogs open.

@{b}   SYNOPSIS@{ub}
       catalogList.length()

@{b}   FUNCTION@{ub}
       Gets you the number of catalogs open.

@{b}   RESULT@{ub}
       LONG -- tail entry of @{"nuArray" Link "catalogList/nuArray()"} minus 1.

@{b}   SEE ALSO@{ub}
       @{"catalogList" Link "catalogList/catalogList()"}, @{"nuArray/nuArray" Link "catalogList/nuArray()"}

@EndNode

@Node "name()" "catalogList/name"

@{b}   NAME@{ub}
       name() of @{"catalogList" Link "catalogList/catalogList()"} -- Return object's name.

@{b}   SYNOPSIS@{ub}
       catalogList.name()

@{b}   FUNCTION@{ub}
       Returns the name of the object.

@{b}   RESULT@{ub}
       'CatalogList'

@{b}   SEE ALSO@{ub}
       @{"catalogList" Link "catalogList/catalogList()"}

@EndNode

@Node "removeCurrentCatalog()" "catalogList/removeCurrentCatalog"

@{b}   NAME@{ub}
       removeCurrentCatalog() of @{"catalogList" Link "catalogList/catalogList()"} -- Remove catalog from list.

@{b}   SYNOPSIS@{ub}
       catalogList.removeCurrentCatalog()

@{b}   FUNCTION@{ub}
       Removes the current catalog from the internal list. It is *not*
       closed, you have to do that.

@{b}   RESULT@{ub}
       the current catalog

@{b}   SEE ALSO@{ub}
       @{"catalogList" Link "catalogList/catalogList()"}

@EndNode

@Node "select()" "catalogList/select"

@{b}   NAME@{ub}
       select() of @{"catalogList" Link "catalogList/catalogList()"} -- Selection of action.

@{b}   SYNOPSIS@{ub}
       catalogList.select(LONG, LONG)

       catalogList.select(optionlist, index)

@{b}   FUNCTION@{ub}
       Supports the following tags:

           "ctlg" -- Name of catalog to open at once.

           "lang" -- Bultin language to set. NIL means English. Set this
               before you open any catalog.

@{b}   INPUTS@{ub}
       optionlist:LONG -- @{"elist" Link "elist/elist()"} of options

       index:LONG -- @{"index" Link "definitions/index()"} of option list

@{b}   RESULT@{ub}
       @{"index" Link "definitions/index()"} after processing one tag.

@{b}   SEE ALSO@{ub}
       @{"catalogList" Link "catalogList/catalogList()"}, object/select()

@EndNode

@Node "setCurrentCatalog()" "catalogList/setCurrentCatalog"

@{b}   NAME@{ub}
       setCurrentCatalog() of @{"catalogList" Link "catalogList/catalogList()"} -- Set the catalog to work with

@{b}   SYNOPSIS@{ub}
       catalogList.setCurrentCatalog(LONG, PTR TO CHAR, PTR TO CHAR=NIL)

       catalogList.setCurrentCatalog(locale, name, builtinLanguage)

@{b}   FUNCTION@{ub}
       Sets the 'current' catalog, i.e. all procs that work with a catalog
       will work with this one. If the catalog isn't open it will be opened.

@{b}   INPUTS@{ub}
       locale:LONG -- @{"locale" Link "locale/locale()"} structure as needed by the locale.library.
           Usually this can be left NIL.

       name:PTR TO CHAR -- name of the catalog.

       builtinLanguage=NIL:PTR TO CHAR -- the language the strings in the
           source are written in. NIL means that English is builtin.

@{b}   RESULT@{ub}
       the catalog

@{b}   EXAMPLE@{ub}
       cl.setCurrentCatalog(NIL,'oomodules/object')

@{b}   SEE ALSO@{ub}
       @{"catalogList" Link "catalogList/catalogList()"}

@EndNode

@Node "disposeVal()" "nuArray/disposeVal"

@{b}   NAME@{ub}
       disposeVal() of @{"nuArray" Link "catalogList/nuArray()"} -- Dispose the value.

@{b}   SYNOPSIS@{ub}
       nuArray.disposeVal(LONG)

       nuArray.disposeVal(catalog)

@{b}   FUNCTION@{ub}
       Disposes the value stored in the @{"nuArray" Link "catalogList/nuArray()"}. This is a catalog, the
       disposing means that it's closed.

@{b}   INPUTS@{ub}
       catalog:LONG -- Catalog to be closed.

@{b}   SEE ALSO@{ub}
       @{"nuArray/nuArray" Link "catalogList/nuArray()"}, @{"associativeArray/associativeArray" Link "associativeArray/associativeArray()"}

@EndNode

@Node "nuArray()" "nuArray/nuArray"

@{b}   NAME@{ub}
       nuArray() of @{"associativeArray" Link "associativeArray/associativeArray()"}

@{b}   PURPOSE@{ub}
       Just to override the @{"testKey()" Link "testKey()"} method. This array has strings as
       keys. The strings are the names of the catalogs. When ENDing this
       object the values (catalogs) are disposed (closed) automatically.

@{b}   ATTRIBUTES@{ub}
       cl:PTR TO @{"catalogList" Link "catalogList/catalogList()"} -- The @{"catalogList" Link "catalogList/catalogList()"} I am in. Just for
           convenience with @{"disposeVal()" Link "disposeVal()"}.

@{b}   SEE ALSO@{ub}
       @{"associativeArray" Link "associativeArray/associativeArray()"}

@EndNode

@Node "testKey()" "nuArray/testKey"

@{b}   NAME@{ub}
       testKey() of @{"nuArray" Link "catalogList/nuArray()"} -- Compare two keys.

@{b}   SYNOPSIS@{ub}
       nuArray.testKey(LONG, LONG)

       nuArray.testKey(string1, string2)

@{b}   FUNCTION@{ub}
       Compares two keys. See associativeArray/testKey().
       In this object the keys are strings. Comparing is done with E's
       builtin OstrCmp().

@{b}   INPUTS@{ub}
       string1:LONG -- First @{"string" Link "reqtools/string()"} to compare.

       string2:LONG -- Second @{"string" Link "reqtools/string()"} to compare.

@{b}   RESULT@{ub}
       See E.doc/OstrCmp() for the return values.

@{b}   SEE ALSO@{ub}
       @{"nuArray" Link "catalogList/nuArray()"}

@EndNode

