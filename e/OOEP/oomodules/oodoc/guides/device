@database "device"
@master "Ram Disk:T/docs/device.doc"

@Node Main "device.doc"
    @{" --background-- " Link "--background--"}
    @{" --device--() " Link "--device--()"}
    @{" abortio() " Link "abortio()"}
    @{" close() " Link "close()"}
    @{" doio() " Link "doio()"}
    @{" end() " Link "end()"}
    @{" open() " Link "open()"}
    @{" reset() " Link "reset()"}
    @{" select() " Link "select()"}
    @{" sendio() " Link "sendio()"}
@EndNode

@Node "--background--" "device/--background--"

@{b}   PURPOSE@{ub}
       The basic object for usage of devices. Will be changed when
       the Stream is ready.

@{b}   CREATION@{ub}
       Back in February of 1995 by Gregor Goldbach

@{b}   HISTORY@{ub}
       Modifications by Trey van Riper.

@{b}   SEE ALSO@{ub}
       library

@EndNode

@Node "--device--()" "device/--device--"

@{b}   NAME@{ub}
       device

@{b}   ATTRIBUTES@{ub}
       unit -- The unit of the device you want to use. If you don't know
           of a special unit to specify when you work with a device, set
           it to 0. Otherwise, as with the trackdisk.device for example,
           set it to the unit you want to operate on. Think of a unit as
           a 'sub-system' of that device.

       io -- Pointer to the io request structure used for this device.

       flags -- Special flags you set.

       lasterror -- You for convenience, this entry contains the last
           error as in io.error.

@EndNode

@Node "abortio()" "device/abortio"

@{b}   NAME@{ub}
       abortio() -- Perform a AbortIO().

@{b}   SYNOPSIS@{ub}
       device.abortio()

@{b}   FUNCTION@{ub}
       Perform exec.library's AbortIO() on the io request.

@{b}   SEE ALSO@{ub}
       exec/AbortIO()
@EndNode

@Node "close()" "device/close"

@{b}   NAME@{ub}
       close() -- Close a device if open.

@{b}   SYNOPSIS@{ub}
       device.close()

@{b}   FUNCTION@{ub}
       Closes the device and frees allocated resources.

@{b}   SEE ALSO@{ub}
       @{"open()" Link "open()"}
@EndNode

@Node "doio()" "device/doio"

@{b}   NAME@{ub}
       doio() -- Perform a DoIO().

@{b}   SYNOPSIS@{ub}
       device.doio()

@{b}   FUNCTION@{ub}
       Perform exec.library's DoIO() on the io request.

@{b}   SEE ALSO@{ub}
       exec/DoIO()
@EndNode

@Node "end()" "device/end"

@{b}   NAME@{ub}
       end() -- Frees allocated resources.

@{b}   SYNOPSIS@{ub}
       device.end()

@{b}   FUNCTION@{ub}
       Frees allocated resources of the object, that includes closing it.
       Automatically called when ENDing the object.

@EndNode

@Node "open()" "device/open"

@{b}   NAME@{ub}
       open() -- Open a device with given attributes.

@{b}   SYNOPSIS@{ub}
       device.open()

@{b}   FUNCTION@{ub}
       Open a device with the attributes set.

@{b}   RETURNS@{ub}
       TRUE if the device could be opened.

@{b}   EXCEPTIONS@{ub}
       May raise "dev" with exceptioninfo

         {msgportfail}        - CreateMsgPort() failed
         {ioreqfail}     - CreateIORequest() failed
         {opendev}         - OpenDevice() failed

@{b}   SEE ALSO@{ub}
       @{"close()" Link "close()"}, @{"select()" Link "select()"}
@EndNode

@Node "reset()" "device/reset"

@{b}   NAME@{ub}
       reset() -- Reset the device.

@{b}   SYNOPSIS@{ub}
       device.reset()

@{b}   FUNCTION@{ub}
       reset the device by sending the according command.

@EndNode

@Node "select()" "device/select"

@{b}   NAME@{ub}
       select() -- Select action via taglist

@{b}   SYNOPSIS@{ub}
       device.select()

@{b}   FUNCTION@{ub}
       Select an action upon initialization of the object. See
       @{"object/new()" Link "resource/new()"} and object/select() for more information.

       Recognizes these items:
         "unit" -- set unit of device

         "flag" -- set flags of device

@{b}   INPUTS@{ub}
       opts -- Optionlist

       i -- @{"index" Link "definitions/index()"} of optionlist

@{b}   SEE ALSO@{ub}
       object/select()
@EndNode

@Node "sendio()" "device/sendio"

@{b}   NAME@{ub}
       sendio() -- Perform a SendIO().

@{b}   SYNOPSIS@{ub}
       device.sendio()

@{b}   FUNCTION@{ub}
       Perform exec.library's SendIO() on the io request.

@{b}   SEE ALSO@{ub}
       exec/SendIO()
@EndNode

