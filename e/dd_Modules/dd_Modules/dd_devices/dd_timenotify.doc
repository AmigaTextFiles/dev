dd_blackboxes/dd_timenotify

NAME

  dd_timenotify.m -- module for requesting timed events

AUTHOR

  Leon Woestenberg of Digital Disturbance (Email: leon@stack.urc.tue.nl)

REQUIREMENTS

  Requires the amigaguide.library v34 (or later) to be installed.

DESCRIPTION

  The dd_timenotify module adds functionality often required in a
  multitasking environment: the need for timerequest events. Your program
  can continue handling events, like user input, while an 'alarm clock'
  is running asynchronously that signals your task when a certain time
  has passed.

FEATURES

  Simple blackbox object for timerequest events. Instead of using AmigaDOS
  Delay() or amiga.lib's TimeDelay(), which blocks your task for a certain
  time, the methods understood by this object provide asynchronous
  timerequest. Your task can continue processing events in this way.

METHODS

  new -- construct a class instance

    SYNOPSIS
      instance.new()

    RESULT
       Raises exceptions when construction failed.

  request -- request a time event

    SYNOPSIS
      instance.request(seconds,microseconds)

    FUNCTION
      Request a time event that will notify your task after a certain
      period of time, by setting a task signal bit. If there's still a
      time event pending, it will be replaced by the new one. To issue
      multiple time events simultaneously, use an object for each of
      these.

    INPUTS
      seconds (LONG) -- Number of seconds before notification.
      microseconds (LONG) -- Number of microseconds before notification.

    RESULT
      Returns the signalmask your program should Wait() for.

   signalmask -- returns the signal to wait for

    SYNOPSIS
      instance.signalmask()

    FUNCTION
      Returns the signalmask your program should Wait() for.

    RESULT
      A 32 bit mask indicating which signal is reserved for amigaguide
      communication.

  end -- destruct a class instance

    SYNOPSIS
      END instance

    FUNCTION
      Destructs an object instance, aborts the outstanding timerequest.

TODO

  - Make the object handle multiple timerequests similarly.

SEE ALSO

  timer.device

