    _______                                                            _______
 __/______/____________ ____________  __________ ____________ ________/______/_
/___________\/________//______     /_/_______/ /_\/_________/_\      _________/
 /______/_______/   /____/___/    /   \_______/______/   /_____\_____\_\   /
             \_____/        /____/_____/          \_____/          /      /
                                                                  /      /
<-tre!/(!------------------Programmers Documentation-------------/______/------

                          .   . .:...........:. .   .
                          .  ._  :           :  _.  .
.:........................:-:[( Amiga E Edition )]:-:........................:.
 :                      ..:--'¯..:...........:..¯`--:.._                     :
                        :.:-\\-'.:.         .:.`-//-:.:
                          :      :           :     .:
                          .      .           .      .

                        Chapter 1. About
                        -------------------------------
                        1.1 Introduction
                        1.2 Credits
                        1.3 How To Contact Me
                        -------------------------------
                        Chapter 2. Door Code
                        -------------------------------
                        2.1 All Available Door Commands
                        2.2 Example Door Routine
                        2.3 Usage of Commands
                        -------------------------------
                        Chapter 3. Something odd
                        -------------------------------
                        3.1 Greetings
                        3.2 A Short "Floater"
                        3.3 Wanted - Dead Or Alive
                        -------------------------------
_______________________________________________________________________________
                          _                         _
                 [1.1]  .x( I n t r o d u c t i o n )x.  [1.1]
_______________________________________________________________________________

When I changed my bbs software into Tempest some months ago I was stunned
over the potentional one would have if one decided to make doors, and since
i've got a rather slow amiga (A2000/030) I normally use Amiga E when I code
programs or doors for bbs software, but after looking thru all the includes
for Tempest (C includes) I saw that it would be IMPOSSIBLE to be able to code
doors with Amiga E. But when I was chatting with Wild Thing (Great door coder
for Fame) about the incompability of E he brought an old hack to my notice.
It was the EM program written a long time before the coder of E had made it
possible to compile modules with the EC compiler. This small util lacks almost
everything you have in the normal E modules except one small but 'powerful'
advantage. The old "all objects are rounded of to even sizes" problem did not
exist in this program and it was now possible to convert almost everything
into an E module (although I have to have TWO modules). When I brought this
to the people in the Tempest channel on IRC they conviced me in making a
complete conversion of the doorcode. So here it is! ;)
_______________________________________________________________________________



_______________________________________________________________________________
                               _               _
                      [1.2]  .x( C r e d i t s )x.  [1.2]
_______________________________________________________________________________

                            Thomas "Fatal" Nilsson
                (Converting includes, writing docs, main work)

                          Michael "Skeleton" Bockert
                 (Original C code and original documentation)
                             (and invaluable help)

                                   Wildthing
                         (help with the main routine)

                               Nike and Jupiter8
                               (additional help)

                                Jesse McClusky
              (E Module Generator, for compiling uneven objects)

                            Wouter van Oortmerssen
                                   (Amiga E)
_______________________________________________________________________________



_______________________________________________________________________________
                     _                                   _
            [1.3]  .x( H o w   t o   c o n t a c t   m e )x.  [1.3]
_______________________________________________________________________________

Email: fatal@quicknet.se (any questions concerning general E coding
                          will not be answerd, only stuff concerning
                          the Door Code )

Or you could try to post a message to FATAL at theese boards

           Board Name            Sysop    Phone Number    BbsSystem
           --------------------- -------- --------------- ---------
           Another Step          Fatal    +46-21-330975   Tempest
           Mystical Experiences  Nurgle   +46-16-128047   Tempest
           Dawn Of Eternity      Skeleton +1-515-255-3212 Tempest

                Or you could try to reach me at irc (euro side)

                         Channels: #tempest, #amielite
                         Nickname: fTL^eD

              I'm usally online during 19:00-01:00 (Swedish Time)
_______________________________________________________________________________





_______________________________________________________________________________
                         _                           _
                [2.1]  .x( D o o r   C o m m a n d s )x.  [2.1]
_______________________________________________________________________________

 ** NOTE: When coding Tempest doors the User, NodeData, SystemData, and
          Today structures are passed to all doors automatically as pointers
          to the real structures in memory.  This gives you direct access
          to the user online and other structures

pl()                     : pl (Print Line)
conputstr()              : ConPutStr
serputstr()              : SerPutStr
sendchar()               : SendChar
conputchar()             : ConPutChar
serputchar()             : SerPutChar
tildepl()                : Print Line with Tilde Code Support
ctrlc()                  : Detect Ctrl C
checkkey()               : CheckKey
hotkey()                 : HotKey
cursorhotkey()           : Cursor Detect Hotkey
input()                  : Input String
inputAB()                : Input String (Ansi Bar Background)
lineinput()              : Line Input String
lineinputAB()            : Lint Input String (Ansi Bar Background)
lineinputhide()          : Line Input String (Hidden)
lineinputhideAB()        : Lint Input String (Hidden) (Ansi Bar Background)
getpaths()               : Get BBS Paths
getusertime()            : Get User Time
getstr()                 : Get String
getvalue()               : Get Value
altertime()              : Alter Time
setvalue()               : Set Value
activity()               : Activity
selecttransferprotocol() : Select Transfer Protocol
markfile()               : Mark/Flag file for download
zmodemdownload()         : Zmodem Download
zmodemupload()           : Zmodem Upload
hydradownload()          : Hydra Download
log()                    : Callers Log Entry
slog()                   : Sysop Activity Log Entry
debuglog()               : DeBug Log Entry
userlog()                : User Log Entry
writefile()              : Write File
showfile()               : Show File
pause()                  : Pause
more()                   : More (Y/N/NS) Prompt
editor()                 : MSG Editor
loadsystemdata()         : Re-Load Data Files to Memory
random()                 : Get a Random Number
copyfile()               : Copy a File
movefile()               : Move a File
filesize()               : Get File Size
stringcompare()          : WildCard String Compare
stripcoloransicodes()    : Strip Color Ansi Codes
stripallansicodes()      : Strip All Ansi Codes
findassignment()         : Find Assignment
entersysopchat()         : Enter Sysop Chat with User
aslrequester()           : Asl Requester System (Path+File,Path Only, File Only)
getpromptsline()         : Get Prompts.set Line
checkareaaccess()        : Check Access to Area
savemsg()                : Post Message
joinconference()         : Join Conference
deletemessage()          : Delete Message
dointernalcommand()      : Do Internal Command
loaduseraccount()        : Load User Account
saveuseraccount()        : Save User Account
finduserslot()           : Find User Slot Number
loadcatalogentry()       : Load Catalog Entry
savecatalogentry()       : Save Catalog Entry
tempestdoor()            : Run Tempest Door
paragondoor()            : Run Paragon Door
rexxdoor()               : Run Arexx Door
dosdoor()                : Run Dos Door/Util
_______________________________________________________________________________



_______________________________________________________________________________
                  _                                         _
         [2.2]  .x( E x a m p l e   D o o r   R o u t i n e )x.  [2.2]
_______________________________________________________________________________

MODULE 'tempest1', 'tempest2','exec/ports','amigalib/ports','exec/nodes'

DEF send:mymessage, systemdata:PTR TO systemdata, user:PTR TO user,
    nodedata:PTR TO nodedata, today:PTR TO todayx, msg:PTR TO mymessage,
    myport:PTR TO mp, tempestport:PTR TO mp

PROC main()
   IF doorstart(arg) = FALSE THEN CleanUp(20)

   pl('Guten abend welt!\b\n')
   pl('En påse knark till en stackars fiskare?\b\n')

   closestuff()
ENDPROC

              *** NOTE: Use both \b and \n when showing text. ***

_______________________________________________________________________________



_______________________________________________________________________________
                     _                                   _
            [2.3]  .x( U s a g e   o f   C o m m a n d s )x.  [2.3]
_______________________________________________________________________________

                               ( Not Finished )

____.--------------------------._______________________________________________
____| Command: pl (Print Line) |_______________________________________________
    `--------------------------'
    This command sends a string to both the console and the serial output.

    example:  pl('herr trattkantarell'\b\n)

____.--------------------._____________________________________________________
____| Command: ConPutStr |_____________________________________________________
    `--------------------'
    This command sends a string to the console output.

    example:  conputstr('only visible for sysop'\b\n)

____.--------------------._____________________________________________________
____| Command: SerPutStr |_____________________________________________________
    `--------------------'
    This command sends a string to the serial output.

    example:  serputstr('only visible for user'\b\n)

____.-------------------.______________________________________________________
____| Command: SendChar |______________________________________________________
    `-------------------'
    This command sends a single character to both the console and the serial
    output.

    example:  sendchar('X')

____.---------------------.____________________________________________________
____| Command: ConPutChar |____________________________________________________
    `---------------------'
    This command sends a single character to the console output.

    example:  conputchar('X')

____.---------------------.____________________________________________________
____| Command: SerPutChar |____________________________________________________
    `---------------------'
    This command sends a single character to the serial output.

    example:  serputchar('X')

____.-------------------------------------------------------.__________________
____| Command: tildepl (Print Line with Tilde Code Support) |__________________
    `-------------------------------------------------------'
    This command sends a string to both the console and the serial output.
    Also detects tilde codes and interpruts them.

    example:  tildepl('Hello Mr.~n'\b\n)

____.----------------._________________________________________________________
____| Command: CTRLC |_________________________________________________________
    `----------------'
    This command checks to see if a CTRL-C Abort key was pressed.

    example:  test:=ctrlc()  /* (0=No abort key detected, 1= Yes) */

____.-------------------.______________________________________________________
____| Command: CheckKey |______________________________________________________
    `-------------------'
    This command checks to see if a key has been pressed, and if so returns
    the key that was pressed, if no key was detected, it continues on
    without waiting.

    example:  key:=checkkey() /* (returns value of the key pressed) */

____.-----------------.________________________________________________________
____| Command: HotKey |________________________________________________________
    `-----------------'
    This command waits for a key to be pressed and is a hotkey, does not
    wait for the user to hit return.

    returns the character that was entered to the first position of the
    passed string.

    example:  hotkey(key)

____.-------------------------------.__________________________________________
____| Command: Cursor Detect Hotkey |__________________________________________
    `-------------------------------'
    This command is the same as the hotkey routine, except that it allows
    you to detect the cursor keys as input.

    If the user entered a cursor key, then the returning value will be as
    follows for cursor keys:

             UP ARROW = 300
       SHIFT UP ARROW = 301
           DOWN ARROW = 400
     SHIFT DOWN ARROW = 401
           LEFT ARROW = 500
     SHIFT LEFT ARROW = 501
          RIGHT ARROW = 600
    SHIFT RIGHT ARROW = 601

    Use those 8 values to detect cursor keys.  If they enter any other key
    then it will be the normal 0-255 value of all ascii characters.

    example:  hkey:=cursorhotkey()

____.-----------------------.__________________________________________________
____| Command: Input String |__________________________________________________
    `-----------------------'
    This command will allow you to enter a string of input.

    dest = answer will be inserted in this string
    length = max length of input

    example:  input(dest,length)

____.---------------------------------------------.____________________________
____| Command: Input String (Ansi Bar Background) |____________________________
    `---------------------------------------------'
    This command is the same as the input routine except that there is an
    ansi background showing the full limit of the string input.

    dest = answer will be inserted in this string
    length = max length of input

    example:  inputAB(dest,length)

____.----------------------------._____________________________________________
____| Command: Line Input String |_____________________________________________
    `----------------------------'
    This command will allow you to enter a string of input and start with a
    beginning string for editing.

    source = will be passed to the command for editing
    dest = answer will be inserted in this string
    length = max length of input

    example:  lineinput(source,dest,length)

____.--------------------------------------------------._______________________
____| Command: Lint Input String (Ansi Bar Background) |_______________________
    `--------------------------------------------------'
    This command is the same as the line input routine except that there is
    an ansi background showing the full limit of the string input.

    source = will be passed to the command for editing
    dest = answer will be inserted in this string
    length = max length of input

    example:  lineinputAB(source,dest,length)

____.-------------------------------------.____________________________________
____| Command: Line Input String (Hidden) |____________________________________
    `-------------------------------------'
    This command will allow you to enter a string of input and start with a
    beginning string for editing but all text will be echoed to the screen
    as just periods, hiding what is really being entered.

    source = will be passed to the command for editing
    dest = answer will be inserted in this string
    length = max length of input

    example:  lineinputhide(source,dest,length)

____.-----------------------------------------------------------.______________
____| Command: Lint Input String (Hidden) (Ansi Bar Background) |______________
    `-----------------------------------------------------------'
    This command is the same as the line input hidden routine except that
    there is an ansi background showing the full limit of the string input.

    source = will be passed to the command for editing
    dest = answer will be inserted in this string
    length = max length of input

    example:  lineinputhideAB(source,dest,length)

____.------------------------._________________________________________________
____| Command: Get BBS Paths |_________________________________________________
    `------------------------'
    This command will return the one of the bbs paths.

    value = Which path to return.
     dest = the string that will store the path.

    [Value] : [Path Returned]

       0    : Main BBS Path.
       1    : Path of Main Tempest files & Accounts.Data file.
       2    : Path of Account Info directory where Applications &
              FlaggedFiles directories are stored.
       3    : Path where Bad Archives uploaded are stored.
       4    : Path where Catalog files (File Listings) are stored.
       5    : Path of Describe directory.
       6    : Path where doors are stored.
       7    : Path where Extended Description files are stored.
       8    : Path where all bbs logs are stored.
       9    : Path where modules are stored.
      10    : Path where resumealbe files are stored.
      11    : Path of Optional Directory.
      12    : Path of Scripts Directory.
      13    : Path of Setup Directory.
      14    : Path of sysop hold directory.
      15    : Path of Text file direcotry.
      16    : Path of Voting Booth files.
      17    : Path of current node's upload work directory.

    returns the desired bbs path to dest

    example:  GetPaths(dest,value)

____.------------------------._________________________________________________
____| Command: Get User Time |_________________________________________________
    `------------------------'
    This command will return the current online user's time remaining.

    dest = will contain time remaining of user online

    example:  GetUserTime(dest)

____.---------------------.____________________________________________________
____| Command: Get String |____________________________________________________
    `---------------------'
    This command will return a string from the ~ Tilde list.

    dest = destination string
    val = a number from the tilde list

    example: getstr(dest,val)

    will fill the age of the user in dest

____.--------------------._____________________________________________________
____| Command: Get Value |_____________________________________________________
    `--------------------'
    This command will get a value of the option number you pass it.

    send.Value1 = which value to return.

    returns value desired to send.Value2.

    EXAMPLE: GetValue(0) This would return the ANSI color on/off setting

    Available Options:  0 - If ansi color is on or off (returns 0=Off, 1=On)
                        1 - Sysop Available (returns 1=Yes, 0=No)
                        2 = Login Type      (returns 0=Remote Login,1=Local Login)

____.---------------------.____________________________________________________
____| Command: Alter Time |____________________________________________________
    `---------------------'
    This command allows you to edit the user's time remaining.

    opt1 = actual number to offset the current time.

    Examples Values:  -10, 10, 5, -1, -5, etc.

    example: altertime(-5)

____.--------------------._____________________________________________________
____| Command: Set Value |_____________________________________________________
    `--------------------'
    This command allows you to set certain values in the bbs.

    opt1 = Which Option to Change.
    opt2 = What to change it to.

    EXAMPLE: setvalue(1,0) This would make the BBS have a priority of 1

    Available Options:  0 - BBS Priority
                        1 - Ansi ON
                        2 - Ansi OFF

____.-------------------.______________________________________________________
____| Command: Activity |______________________________________________________
    `-------------------'
    This command will allow you to change the user's activity field.

    send.Value1 = which preset activity to set it to, or 99 to make your own,
    send.text1  = pointer to passed string, only used if you select 99 to
                  create your own activity text.

    After exiting door, the original activity of the user is automaticly
    restored by the bbs.

    Current List of Preset Activity Numbers:


     2: About to Download
     4: About to Upload
     6: Account Editing
     7: Archiving Catalogs
     8: Doors Area
     9: Archiving Messages
    12: Chatting Sysop
    14: Comment to Sysop
    16: Connecting
    18: Downloading
    20: E-Mail Area
    22: File Listings
    24: File Mail
    26: File Maintenance
    28: Flagging Files
    30: Idle
    31: Internode Msg Send
    32: Internode Live Chat
    33: Internode Line Chat
    34: Joining Area
    36: Logging Off
    38: Logging On
    40: New User
    42: Paging Sysop
    44: Reading Bulletins
    46: Reading Messages
    48: Viewing Text File
    50: Remote Shell
    52: Scanning Mail
    54: Sysop DL
    56: File Descriptions
    58: Uploading
    60: Viewing Archive
    62: Waiting for Call
    64: Posting a Message
    66: Zippy Searching
    70: Viewing Logs

    99: Generic Text, You send your own text you want displayed.
        (Option 99 Works in Tempest DOOR COMMAND only, NOT in AREXX)


    VOID Activity(BYTE act,TEXT *s)
    {
     send.Value1=act;
     send.text1=s;
     DOORIO(44);
    }

____.--------------------------._______________________________________________
____| Command: Select Protocol |_______________________________________________
    `--------------------------'
    This command allows the user to select their transfer protocol.


    VOID SelectTransferProtocol(VOID)
    {
     DOORIO(50);
    }

____.--------------------------------------.___________________________________
____| Command: Mark/Flag file for download |___________________________________
    `--------------------------------------'
    This command allows you to flag/mark a file for download.
    You can pass it a number as a string or just a filename as a string.
    This command will check the current area the user is joined to.

    send.text1  = pointer to passed string that contains the filename or
                  number to be flagged.


    VOID MarkFile(TEXT *flagfile)
    {
     send.text1=flagfile);
     DOORIO(51);
    }

____.--------------------------._______________________________________________
____| Command: Zmodem Download |_______________________________________________
    `--------------------------'
    This command will send the user a file with Zmodem protocol.

    send.text1  = pointer to passed string that contains the file to be
                  downloaded.


    VOID ZmodemDownload(TEXT *string)
    {
     send.text1=string;
     DOORIO(52);
    }

____.------------------------._________________________________________________
____| Command: Zmodem Upload |_________________________________________________
    `------------------------'
    This command will allow users to upload files to the bbs through a
    door using the internal zmodem protocol.  You must handle the files
    yourself, they will be located in the work dir (Incomplete files) and
    work/done dir (Complete files).  This has just been added to give the
    advanced programmers the option in their programs.



    VOID ZmodemUpload(VOID)
    {
     DOORIO(53);
    }

____.-------------------------.________________________________________________
____| Command: Hydra Download |________________________________________________
    `-------------------------'
    This command will send the user a file with Hydra protocol.

    send.text1  = pointer to passed string that contains the file to be
                  downloaded.


    VOID HydraDownload(TEXT *string)
    {
     send.text1=string;
     DOORIO(54);
    }

____.----------------------------._____________________________________________
____| Command: Callers Log Entry |_____________________________________________
    `----------------------------'
    This command will output the passed text to the callers log.

    send.text1  = pointer to passed string to be wrote to log.


    VOID CLOG(TEXT *outstring)
    {
     send.text1=outstring;
     DOORIO(60);
    }

____.-----------------------------------.______________________________________
____| Command: Sysop Activity Log Entry |______________________________________
    `-----------------------------------'
    This command will output the passed text to the Sysop Activity log.

    send.text1  = pointer to passed string to be wrote to log.


    VOID CLOG(TEXT *outstring)
    {
     send.text1=outstring;
     DOORIO(61);
    }

____.--------------------------._______________________________________________
____| Command: DeBug Log Entry |_______________________________________________
    `--------------------------'
    This command will output the passed text to the DeBug log.

    send.text1  = pointer to passed string to be wrote to log.


    VOID CLOG(TEXT *outstring)
    {
     send.text1=outstring;
     DOORIO(62);
    }

____.-------------------------.________________________________________________
____| Command: User Log Entry |________________________________________________
    `-------------------------'
    This command will output the passed text to a user's special user log.

    send.text1  = pointer to passed string to be wrote to log.


    VOID USERLOG(TEXT *outstring)
    {
     send.text1=outstring;
     DOORIO(63);
    }

____.---------------------.____________________________________________________
____| Command: Write File |____________________________________________________
    `---------------------'
    This command will writes out text to a text file.

    send.text1  = pointer to passed string that gives the path+filename of
                  text file to be wrote to.
    send.text2  = pointer to passed string that has the text to be wrote to
                  this file.


    VOID WriteFile(TEXT *file,TEXT *string)
    {
     send.text1=file;
     send.text2=string;
     DOORIO(69);
    }

____.--------------------._____________________________________________________
____| Command: Show File |_____________________________________________________
    `--------------------'
    This command will show/display a given text file.

    send.text1  = pointer to string passed that has path+filename of file
                  to be displayed.


    VOID showfile(TEXT *file)
    {
     send.text1=file;
     DOORIO(70);
    }

____.----------------._________________________________________________________
____| Command: Pause |_________________________________________________________
    `----------------'
    This command will display a Pause...(Hit A Key) type prompt that will
    wait for the user to hit a key before continuing.


    int Pause(VOID)
    {
     DOORIO(71);
     return(send.Value1);
    }

____.-------------------------------.__________________________________________
____| Command: More (Y/N/NS) Prompt |__________________________________________
    `-------------------------------'

    This command will pause and ask if the user wants to continue listing,
    stop listing, or continue with non-stop display.

    Return Values: 0 = Continue Listing
                   1 = Stop Listing
                   2 = Non Stop

    Return value is stored in send.Value1.


    int MORE(VOID)
    {
     DOORIO(72);
     return(send.Value1);
    }

____.---------------------.____________________________________________________
____| Command: MSG Editor |____________________________________________________
    `---------------------'
    This command will call up the internal message editor and allow you to
    write out a text file with it.

    send.Value1 = Max Number of lines allowed (100 MAX MAX)
    send.text1  = pointer to Path+FileName of file to be saved.


    VOID MsgEditor(TEXT *Filename,int maxlength)
    {
     send.Value1=maxlength;
     send.text1=Filename;
     DOORIO(73);
    }

____.---------------------------------------.__________________________________
____| Command: Re-Load Data Files to Memory |__________________________________
    `---------------------------------------'
    Re-Loads all the bbs data files into memory, to update any that have
    been changed.


    VOID LoadSystemData(VOID)
    {
     DOORIO(74);
    }

____.------------------------------.___________________________________________
____| Command: Get a Random Number |___________________________________________
    `------------------------------'
    Get a random number between 0 and number passed to routine.

    send.Value1 = set to passed number to set high number in range.

    returns generated random number into send.Value1


    int Random(int x)
    {
     send.Value1=x;
     DOORIO(75);
     return(send.Value1);
    }

____.----------------------.___________________________________________________
____| Command: Copy a File |___________________________________________________
    `----------------------'
    Move a file from source to destination.

    send.text1  = Pointer to Source Path+Filename.
    send.text2  = Pointer to Destination Path+Filename.


    VOID CopyFile(TEXT *Source,TEXT *Destination)
    {
     send.text1=Source;
     send.text2=Destination;
     DOORIO(76);
    }

____.----------------------.___________________________________________________
____| Command: Move a File |___________________________________________________
    `----------------------'
    Move a file from source to destination.

    send.text1  = Pointer to Source Path+Filename.
    send.text2  = Pointer to Destination Path+Filename.


    VOID MoveFile(TEXT *Source,TEXT *Destination)
    {
     send.text1=Source;
     send.text2=Destination;
     DOORIO(77);
    }

____.------------------------._________________________________________________
____| Command: Get File Size |_________________________________________________
    `------------------------'
    Get file size of a file.

    send.text1  = Pointer to Path+Filename.

    Returns file size of the file into send->LongValue.


    ULONG FileSize(TEXT *Source)
    {
     send.text1=Source;
     DOORIO(78);
     return(send.LongValue);
    }

____.----------------------------------._______________________________________
____| Command: WildCard String Compare |_______________________________________
    `----------------------------------'
    Compares a string with a pattern to see if there is a match, supports
    '*' and '?' wild card keys.

    send.text1 = Pointer to string to be searched.
    send.text2 = Pointer to pattern to be searched for.

    Returns to send.Value1 a 0 if a match is found and 1 if there was no
    match found


    int StringCompare(TEXT *string, TEXT *pattern)
    {
     send.text1=string;
     send.text2=pattern;
     DOORIO(79);
     return(send.Value1);
    }

____.---------------------------------.________________________________________
____| Command: Strip Color Ansi Codes |________________________________________
    `---------------------------------'
    Strips only ansi color related ansi codes from a string.

    send.text1 = Pointer to string to be stripped of ansi codes.

    VOID StripColorAnsiCodes(TEXT *string)
    {
     send.text1=string;
     DOORIO(80);
    }

____.-------------------------------.__________________________________________
____| Command: Strip All Ansi Codes |__________________________________________
    `-------------------------------'
    Strips all ansi codes from a string.

    send.text1 = Pointer to string to be stripped of ansi codes.

    VOID StripAllAnsiCodes(TEXT *string)
    {
     send.text1=string;
     DOORIO(81);
    }

____.--------------------------._______________________________________________
____| Command: Find Assignment |_______________________________________________
    `--------------------------'
    Checks an assignment to make sure it exists.  Prevents requesters from
    poping up if a device/assignment does not exists.

    Returns 0 if device/assignment was found, or 1 if it was not valid.

    send.text1 = Pointer to string containing path/assignment to be checked.

    int FindAssignment(TEXT *string)
    {
     send.text1=string;
     DOORIO(82);
     return(send.Value1);
    }

____.---------------------------.______________________________________________
____| Command: Enter Sysop Chat |______________________________________________
    `---------------------------'
    Enter sysop chat with the user.

    send.Value1 = Set to the desired sysop chat system.

                  0 = Sysop Defined default
                  1 = Normal Sysop Chat System
                  2 = Horizontal Split Chat System
                  3 = Vertical Split Chat System

    VOID EnterSysopChat(int Value)
    {
     send.Value1=Value;
     DOORIO(83);
    }

____.-------------------------------.__________________________________________
____| Command: ASL Requester System |__________________________________________
    `-------------------------------'
    Use asl requesters the easy way!  Get Path+File, Path Only, or File Only.

    send.Value1 = Type: 0 = Get Path+File
                        1 = Get Path Only
                        2 = Get File Only


    VOID ASLRequester(int Type,char *rstring,char *reqtext,char *dpath)
    {
     send.Value1 = Type;     // Which Type of Requester
     send.text1  = rstring;  // Return string (contains results of requester)
     send.text2  = reqtext;  // Requester Titlebar text
     send.text3  = dpath;    // Requester Default Path
     DOORIO(84);
    }

____.-------------------------------.__________________________________________
____| Command: Get Prompts.set line |__________________________________________
    `-------------------------------'
    Get a line from the prompts.set definable prompts file.

    NOTES!: - Prompts.set lines can be up to 1024 characters long, MAKE
              SURE your door can handle this large of a string returned.

            - Many prompts.set lines contain %s/%d inserters which you can
              not use, unless you are able to fill in the info yourself that
              they require.

    send.Value1  = Line number to get.
    send.text1   = Pointer to the string buffer to copy to.


    VOID GetPromptsLine(int line,char *buffer)
     {
      send.Value1=line;
      send.text1 =buffer;
      DOORIO(85);
     }

____.-------------------------------.__________________________________________
____| Command: Check Access to Area |__________________________________________
    `-------------------------------'
    Check if user has access to an area.  Programmers should use this routine
    to check for access to areas.  In future the area access setup in Tempest
    could change and if you use this routine your doors will still work with
    the newer versions.

    send.Value1  = Area to check access to.

    Return value is saved in send.Value1 and returns 1 if they have access
    to area and 0 if they do not.


    int CheckAreaAccess(int Area)
     {
      send.Value1=Area;
      DOORIO(86);
      return(send.Value1);
     }

____.-----------------------.__________________________________________________
____| Command: Post Message |__________________________________________________
    `-----------------------'
    Save a message in the bbs.

    send.Value1  = Area
    send.text1   = Pointer to your letters structure.
    send.text2   = Pointer to msg text filename.


    VOID SaveMsg(struct Letters *Letters,int Area,TEXT *FileName)
     {
      send.Value1=Area;
      send.text1 =(char *)Letters;
      send.text2 =FileName;
      DOORIO(90);
     }

____.--------------------------._______________________________________________
____| Command: Join Conference |_______________________________________________
    `--------------------------'
    Join a different area.

    send.LongValue = Area to Join


    VOID JoinConference(ULONG Area)
     {
      send.LongValue=Area;
      DOORIO(91);
     }

____.------------------------------.___________________________________________
____| Command: Do Internal Command |___________________________________________
    `------------------------------'
    Do an internal Tempest command inside door.

    send.Value1 = Command Set Number.  (See Lists Below)
    send.Value2 = Command Number.      (See Lists Below)

    COMMAND SETS:
    ------------
    0...Global Command Set
    1...Conference Command Set


    Global Command Set (0):
    ----------------------
     1...??.....Global Menu
     2...AF.....Archive File Listings Module
     3...AM.....Archive Messages Module
     4...CF.....Clear All Flagged Files
     5...CA.....Create Account
     6...CHAT...Internode Chat Module
     7...CPU....CPU Info
     8...CONFIG.BBS Config Module
     9...DL.....Download Flagged Files Only
    10...DOS....Remote Shell
    11...DIR....Display Contents of a directory
    12...DR.....Doors Area
    13...DS.....Sysop Download
    14...ED.....Text Editor
    15...FM.....File Mail Menu
    16...G......Goodbye/Logoff
    17...OFF....Goodbye/Logoff (Quick Mode)
    18...INV....Invisible Mode Toggle
    19...IC.....Internode Controller Module
    20...I......System Info Text
    21...LF.....List/Alter Flagged Files
    22...MU.....Mute Mode Toggle
    23...MM.....Mass Mail Menu
    24...NM.....Global New Message Read
    25...NF.....Global New Files Scan
    26...OLM....Internode Online Message Module
    27...O......Operator Page
    28...PM.....Personal Mail Menu
    29...PW.....Password Change
    30...RL.....Re-Logon BBS
    31...RF.....Resume File Handling
    32...RUN....Run Dos Command
    33...TS.....Terminal Settings Menu
    34...TD.....Test Doors
    35...T......Online Time
    36...UL.....User List Menu
    37...US.....User Settings Menu
    38...VL.....View Logs
    39...VER....BBS Version String
    40...VN.....View New User Applications
    41...WHO....Who is online
    42...WHM....Who is online (Monitor Mode)
    43...Y......Your Personal Stats
    44.../......File Listing User Preferences


    Conference Command Set (1):
    --------------------------
     1...AE.....Account Editor
     2...B......Bulletins Menu
     3...C......Comment to Sysop
     4...CM.....Catalog Maintaince
     5...D......Download Files
     6...E......Enter Message
     7...F......File Listing
     8...FR.....File Listing (Force Reverse Mode)
     9...H......Conference Help Text
    10...J......Join Conference
    11...LU.....Local Upload
    12...N......New Files from Date Scan
    13...R......Read Messages
    14...RZ.....Instant Zmodem Upload
    15...SM.....Scan Mail Menu
    16...SE.....Self Edit Account
    17...U......Upload Files
    18...VA.....View Archive
    19...V......View Text File
    20...Z......Zippy Search
    21...ZU.....Zippy Search (Uploaded by Users)
    22...ZR.....Zippy Search (Reverse Scan/Display)
    23...ZD.....Zippy Search (From Date)
    24...+......Forward File Scan Setting
    25...-......Backwards File Scan Setting
    26...*......List Areas
    27...?......Conference Menu
    28...>......Join next higher area
    29...<......Join next lower area



    VOID DoInternalCommand(int set, int command)
     {
      send.Value1=set;
      send.Value2=command;
      DOORIO(99);
     }

____.----------------------------._____________________________________________
____| Command: Load User Account |_____________________________________________
    `----------------------------'
    Load a user account into a user structure.

    send.LongValue= Pointer to your user structure.

    Return value is saved in send.Value1 and returns 0 = Load Ok,
    1= Error in load.


    int LoadUserAccount(struct User *hoozer,UWORD slot)
    {
     send.LongValue=(ULONG)hoozer;
     send.Value1   =slot;
     DOORIO(100);
     return(send.Value1); // 0 = Loaded Ok, 1 = Error in load.
    }

____.----------------------------._____________________________________________
____| Command: Save User Account |_____________________________________________
    `----------------------------'
    Save a user account from a user structure.

    send.LongValue= Pointer to your user structure.

    Return value is saved in send.Value1 and returns 0 = Saved Ok,
    1= Error in save.


    int SaveUserAccount(struct User *hoozer,UWORD slot)
    {
     send.LongValue=(ULONG)hoozer;
     send.Value1   =slot;
     DOORIO(101);
     return(send.Value1); // 0 = Saved Ok, 1 = Error in save.
    }

____.--------------------------------._________________________________________
____| Command: Find User Slot Number |_________________________________________
    `--------------------------------'
    Supply the user name and the routine will return the user slot number.

    send.text1  = Pointer to user name string.

    Returns Slot number of user or 0 if user name was not found.


    int FindUserSlot(TEXT *name)
    {
     send.text1  =name;
     DOORIO(103);
     return(send.Value1); // Returns Slot # or 0 if it is not found.
    }

____.-----------------------------.____________________________________________
____| Command: Load Catalog Entry |____________________________________________
    `-----------------------------'
    Load a catalog entry into a catalogs structure.

    send.text1     = Pointer to your catalogs structure.
    send.LongValue = Area
    send.Value1    = Sub File Listing (0 if upload area)
    send.Value2    = Slot to read

    Returns value to send.Value1, 0 = Loaded ok, 1 = Error in load.


    int LoadCatalogEntry(struct Catalogs *cat,ULONG Area,ULONG SubArea,UWORD Slot)
    {
     send.text1    =(char *)cat;
     send.LongValue=Area;
     send.Value1   =SubArea;
     send.Value2   =Slot;
     DOORIO(110);
     return(send.Value1); // 0 = Loaded Ok, 1 = Error in load.
    }
____.-----------------------------.____________________________________________
____| Command: Save Catalog Entry |____________________________________________
    `-----------------------------'
    Save a catalog entry into a catalogs structure.

    send.text1     = Pointer to your catalogs structure.
    send.LongValue = Area
    send.Value1    = Sub File Listing (0 if upload area)
    send.Value2    = Slot to write

    Returns value to send.Value1, 0 = Saved ok, 1 = Error in save.


    int SaveCatalogEntry(struct Catalogs *cat,ULONG Area,ULONG SubArea,UWORD Slot)
     {
      send.text1    =(char *)cat;
      send.LongValue=Area;
      send.Value1   =SubArea;
      send.Value2   =Slot;
      DOORIO(111);
      return(send.Value1); // 0 = Loaded Ok, 1 = Error in load.
     }

____.---------------------------.______________________________________________
____| Command: Run TempesT Door |______________________________________________
    `---------------------------'
    Run another Tempest door from within a Tempest door.

    send.text1     = Pointer to the path/filename of the door to run.

    VOID TempesTDoor(char *pathfile)
     {
      send.text1    =(char *)pathfile;
      DOORIO(120);
     }

____.---------------------------.______________________________________________
____| Command: Run Paragon Door |______________________________________________
    `---------------------------'
    Run a Paragon door from within a Tempest door.

    send.text1     = Pointer to the path/filename of the door to run.

    VOID ParagonDoor(char *pathfile)
     {
      send.text1    =(char *)pathfile;
      DOORIO(121);
     }

____.---------------------------------.________________________________________
____| Command: Run TempesT Arexx Door |________________________________________
    `---------------------------------'
    Run Tempest ARexx Door from within a Tempest door.

    send.text1     = Pointer to the path/filename of the door to run.

    VOID RexxDoor(char *pathfile)
     {
      send.text1    =(char *)pathfile;
      DOORIO(122);
     }

____.----------------------------._____________________________________________
____| Command: Run Dos Door/Util |_____________________________________________
    `----------------------------'
    Run Dos Door/Util from within a Tempest door.

    send.text1     = Pointer to the path/filename of the door/Util to run.

    VOID DosDoor(char *pathfile)
     {
      send.text1    =(char *)pathfile;
      DOORIO(123);
     }
_______________________________________________________________________________

*** NOTE: I'm sorry for the docs, I thought I could rewrite them, but at this
          moment I don't got the time to finnish them. I hope that you will
          still understand how it all works. Check the module if you are
          uncertain about how the commands are spelled (with upper and lower
          cases).
_______________________________________________________________________________



_______________________________________________________________________________
                             _                   _
                    [3.1]  .x( G r e e t i n g s )x.  [3.1]
_______________________________________________________________________________

       Ace Caze, Agamemnon, Behemoth, Biotech, Biscrok, Boone, Cenobite,
      Chrombacher, Chucky, Count Zero, Cybergod, Cycos, Dalamar, Dansken,
       Delusion, Desoto, Destructor, Digimouse, Dj Cat, Dj Gizmo, Easy,
           Ensam, Ezco, Frame, Gozz, Grimlock, Gryzor, Gus, Harpoon,
      Hemlige Arne, Herr Stoppur, Hijack, Häftig, Java, Juan, Jupiter 8,
        Kain, Karma, Kid Curry, Krustur, La Fayette, Magma, Marillion,
       Mark Ryder, Misfit, Morot, Mr.Saint, Neptune, Nick, Nike, Nitzer,
       Nude, Nurgle, Orgasmatron, Pelefant, Pripps, Qen, Rasta, Recall,
      Relief, Sandman, Shapechanger, Skize, Spite, Stain, Stash, Stratos,
      The Silencer, The Yench, Tommy, Tsar-1, Twister, U-man, Wild Thing,
                            Yogi, Zcandler, Åkesson
_______________________________________________________________________________



_______________________________________________________________________________
                     _                                   _
            [3.2]  .x( A   s h o r t   " f l o a t e r " )x.  [3.2]
_______________________________________________________________________________


                            jag flyter sakta
                                   fåglar får sig akta
                            ta det varligt
                   det är inte farligt
                                  jag äter inte piller
                                            förstå det din iller
                         om du bara vore som jag
                                    skulle du tänka ett tag
                 på vad du säger till mig....

                                                     Thomas Nilsson (c) 96
_______________________________________________________________________________



_______________________________________________________________________________
                _                                             _
       [3.3]  .x( W a n t e d   -   D e a d   o r   A l i v e )x.  [3.3]
_______________________________________________________________________________


                                   :
                          .::::.. ::      :.               :
                          :::.·::::·   .  :::  ..:::::..  ::
               ......      ·:::     .::::::::  :::······:::·
             ::::::::::.    :::    ·::.  ···  :::          .:::::...
            ·::..     :::  .:::     :::.      :::          ::· ··::::.
             .·:::   .::    ·:.......:::::::.. ··    ...:::.     :::·
            :::·      .::::::::::··:·······:::      ·::··::::   :::..
            ·::      :::        ....          .....       ·::    ·::::.
             :::     :::      .::· ::        ::· ·:::..    :::  ::::··
             :::.   :::       ··::::·  ..:.  ·::.:::··     :::  ··:
              ::·   :::             ..::::..               :::
                    ·:::             ···::::::..           :::
                     ·:::     ......                       :::
                      ·::::.   ··:::::::::::::::::        :::
                         ·::::::.::         ·::·       ..:::
                             ···::::   :::  ::::::::::::::·
                                 ::    :::  :::··
                                 :::   :::  :::
                                  ::   ·:·  :::
     __/\________/\______ _/\______::/\____:::_/\________/\________/\_______
    _ _____    ______    \    _______   _______   ___________    __   _____/
    \/    /    /    ¬  __/____    \/    /____/    ___/_/    /    /    ___/_
    /    /    /    /    \    /    /    /    /    /    /    /    /    /    /
    \____    /_____     /____    /\____    /_____    /____/    /_____    /_ __
    _______ /_________ /_______ /________ /________ /________ /________ /_//
          \/         \/       \/        \/        \/        \/        \/-bIS!

                                ·
                                :.
                               .:             :.
                                :.           .:
                               .:             :.
                                ·             :
                                              ·
   ______   _______. _______. ____  _______   _______.__   _____   _____   __:
C._\____ \ /  _    |/  _    |/ __/__   _   \ /  _    |  \ /  __ \ /  _  \ /  ¦E
R|   __/  Y   \____|   \____|  ____/__ |    Y   \____|   Y   /   Y   |   Y___|·
B|________|_____|  |_____|  |________/_|____|_____| |____|_______|___|___|___|D
 ¦                                                                           ¦
 :     Are You Perhaps A Lost AMiGA Or PC Dude Looking For A New Group ?     :
 :   Then You Should Try To Join OBSCENE And We'll Guarantee You A Fun Stay  .
 : In A Group Built On PURE Friendship And Fun, Yeah, If You've Got A Little
 .  Humor That Is .. Well Doesn't That Sound Tempting ? Then Try This Board  .
                         For Applicating For OBSCENE..
 .
     .M.Y.S.T.I.C.A.L. .E.X.P.E.R.I.E.N.C.E.S. .+.4.6.-.1.6.-.1.2.8.0.4.7.   .

 .                           Or, Try This Adress :
                                                                             .
 .                            Chrombacher/Obscene
                                  Degelugnsv.3                               .
 .                              s-732 33 ARBOGA
                                     SWEDEN                                  ·
 ·                                                                           .
 .   Or You Can Try My Personal Number, +46-(0)589-16448 (Ask For Jonas !)   :
 :    (This Number Is Also For Requesting Logos Or For A Fun Phone-Chat!)    :
 : ______   _______. _______. ____  _______   _______.__   _____   _____   __:
C¦_\____ \ /  _    |/  _    |/ __/__   _   \ /  _    |  \ /  __ \ /  _  \ /  ¦E
R|   __/  Y   \____|   \____|  ____/__ |    Y   \____|   Y   /   Y   |   Y___|·
B|________|_____|  |_____|  |________/_|____|_____| |____|_______|___|___|___|D


_______________________________________________________________________________
                                     .___.
                         Bonus Ruta: |   |
                                     |___| : xob sunoB
_______________________________________________________________________________
