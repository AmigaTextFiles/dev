@database exec/memory
@author Gregor Goldbach

@node main "Exec - Memory - Main"
This is where you find on information memory.

  @{" Available memory        " link AvailableMemory}
  @{" Allocation/Deallocation " link AllocDealloc}
  Memory lists

Gregor Goldbach January 26th 1995
@endnode

@node AllocDealloc "Exec - Memory -- allocation and deallocation of memory"
To get a block of memory from the system (allocate it), call

  address := AllocMem(size, type)

size is the size of the block to allocate, it will be rounded to a multiple
of eight. type defines what type the memory should be:

  MEMF_PUBLIC     any type, use it for blocks that should be addressable by
                  other tasks (e.g. messages)
  MEMF_CHIP       chip memory
  MEMF_FAST       fast memory
  MEMF_CLEAR      the memory should be cleared (everything set to 0)
  MEMF_LARGEST    get the block out of the largest available

To combine the types just OR them: AllocMem(64, MEMF_PUBLIC OR MEMF_CLEAR)
allocates a 64-bytes-block which is cleared from the public memory.
address is the address where the allocated memory starts or NIL if the
allocation failed. The address and the size are rounded to a multiple eight.


To free a block of memory (give it back to the system), call

  FreeMem(address, size)

with address being the address where to start the deallocation and size being
the block's size. Both are rounded to a multiple of eight.


NOTE: - free the memory you allocated are the system will soon get out of it
      - NEVER free memory you haven't allocated
      - NEVER free memory twice or a guru will appear

Gregor Goldbach January 27th 1995
@endnode

@node AvailableMemory "Exec - Memory -- The memory available"
To know how much memory is available call

  size := AvailMem(type)

size is the total size of the available memory of the type you specified.
Look at @{" AllocMem() " link AllocDealloc} for a list of possible types, you can OR them.

Gregor Goldbach January 27th 1995
@endnode
