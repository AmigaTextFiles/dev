@database AmigaEMessages

@node main "Messages LIST"


  @{fg shine} Amiga E Mailing List February 1999 Messages @{fg text}

    @{" Read Me First!                          " LINK readme}

    @{" How to subscribe to AmigaE Mailing List " LINK subscribe}

    @{" Author                                  " LINK author}  

  

==================================================================

  @{fg shine}Help with MUI PaletteObject needed@{fg text}
    @{" Help with MUI PaletteObject needed " LINK ID39_0}

  @{fg shine}MUI balance gadget@{fg text}
    @{" MUI balance gadget " LINK ID38_0}

  @{fg shine}Problems with perspective@{fg text}
    @{" Problems with perspective " LINK ID37_0}
    @{" Problems with perspective " LINK ID37_1}
    @{" Problems with perspective " LINK ID37_2}
    @{" Problems with perspective " LINK ID37_3}

  @{fg shine}copying screen to another@{fg text}
    @{" copying screen to another " LINK ID36_0}
    @{" copying screen to another " LINK ID36_1}

  @{fg shine}Blitting@{fg text}
    @{" Blitting " LINK ID35_0}
    @{" Blitting " LINK ID35_1}
    @{" Blitting " LINK ID35_2}
    @{" Blitting " LINK ID35_3}
    @{" Blitting " LINK ID35_4}

  @{fg shine}Disassembler@{fg text}
    @{" Disassembler " LINK ID34_0}
    @{" Disassembler " LINK ID34_1}

  @{fg shine}Lowlevel keys@{fg text}
    @{" Lowlevel keys " LINK ID33_0}
    @{" Lowlevel keys " LINK ID33_1}

  @{fg shine}Syntax errors@{fg text}
    @{" Syntax errors " LINK ID32_0}
    @{" Syntax errors " LINK ID32_1}
    @{" Syntax errors " LINK ID32_2}
    @{" Syntax errors " LINK ID32_3}
    @{" Syntax errors " LINK ID32_4}

  @{fg shine}Looking for anyone@{fg text}
    @{" Looking for anyone " LINK ID31_0}

  @{fg shine}EasyGUI library/module organizational stuff.@{fg text}
    @{" EasyGUI library/module organizational stuff. " LINK ID30_0}
    @{" EasyGUI library/module organizational stuff. " LINK ID30_1}
    @{" EasyGUI library/module organizational stuff. " LINK ID30_2}
    @{" EasyGUI library/module organizational stuff. " LINK ID30_3}

  @{fg shine}Unsubscribing?@{fg text}
    @{" Unsubscribing? " LINK ID29_0}

  @{fg shine}Object copying@{fg text}
    @{" Object copying " LINK ID28_0}
    @{" Object copying " LINK ID28_1}
    @{" Object copying " LINK ID28_2}

  @{fg shine}Picasso96@{fg text}
    @{" Picasso96 " LINK ID27_0}
    @{" Picasso96 " LINK ID27_1}
    @{" Picasso96 " LINK ID27_2}
    @{" Picasso96 " LINK ID27_3}

  @{fg shine}Disperately Seeking Gregor@{fg text}
    @{" Disperately Seeking Gregor " LINK ID26_0}

  @{fg shine}Commodity Help@{fg text}
    @{" Commodity Help " LINK ID25_0}
    @{" Commodity Help " LINK ID25_1}
    @{" Commodity Help " LINK ID25_2}
    @{" Commodity Help " LINK ID25_3}
    @{" Commodity Help " LINK ID25_4}
    @{" Commodity Help " LINK ID25_5}

  @{fg shine}Bugs in EC@{fg text}
    @{" Bugs in EC " LINK ID24_0}
    @{" Bugs in EC " LINK ID24_1}
    @{" Bugs in EC " LINK ID24_2}
    @{" Bugs in EC " LINK ID24_3}
    @{" Bugs in EC " LINK ID24_4}

  @{fg shine}OT: Real Kickstart@{fg text}
    @{" OT: Real Kickstart " LINK ID23_0}
    @{" OT: Real Kickstart " LINK ID23_1}
    @{" OT: Real Kickstart " LINK ID23_2}

  @{fg shine}Searching text in memory.@{fg text}
    @{" Searching text in memory. " LINK ID22_0}
    @{" Searching text in memory. " LINK ID22_1}
    @{" Searching text in memory. " LINK ID22_2}
    @{" Searching text in memory. " LINK ID22_3}
    @{" Searching text in memory. " LINK ID22_4}
    @{" Searching text in memory. " LINK ID22_5}
    @{" Searching text in memory. " LINK ID22_6}
    @{" Searching text in memory. " LINK ID22_7}
    @{" Searching text in memory. " LINK ID22_8}
    @{" Searching text in memory. " LINK ID22_9}

  @{fg shine}I'm going away !@{fg text}
    @{" I'm going away ! " LINK ID21_0}
    @{" I'm going away ! " LINK ID21_1}
    @{" I'm going away ! " LINK ID21_2}

  @{fg shine}gettin palette@{fg text}
    @{" gettin palette " LINK ID20_0}

  @{fg shine}New member on list@{fg text}
    @{" New member on list " LINK ID19_0}
    @{" New member on list " LINK ID19_1}
    @{" New member on list " LINK ID19_2}

  @{fg shine}WinUAE!@{fg text}
    @{" WinUAE! " LINK ID18_0}
    @{" WinUAE! " LINK ID18_1}
    @{" WinUAE! " LINK ID18_2}
    @{" WinUAE! " LINK ID18_3}
    @{" WinUAE! " LINK ID18_4}
    @{" WinUAE! " LINK ID18_5}
    @{" WinUAE! " LINK ID18_6}
    @{" WinUAE! " LINK ID18_7}
    @{" WinUAE! " LINK ID18_8}

  @{fg shine}Test@{fg text}
    @{" Test " LINK ID17_0}

  @{fg shine}DBuff Screen & Pointer@{fg text}
    @{" DBuff Screen & Pointer " LINK ID16_0}

  @{fg shine}EC bug?@{fg text}
    @{" EC bug? " LINK ID15_0}
    @{" EC bug? " LINK ID15_1}

  @{fg shine}EC bug? (Read WITHOUT TextStyles!!!)@{fg text}
    @{" EC bug? (Read WITHOUT TextStyles!!!) " LINK ID14_0}
    @{" EC bug? (Read WITHOUT TextStyles!!!) " LINK ID14_1}

  @{fg shine}PC Zip Drives@{fg text}
    @{" PC Zip Drives " LINK ID13_0}
    @{" PC Zip Drives " LINK ID13_1}
    @{" PC Zip Drives " LINK ID13_2}

  @{fg shine}UNSUBSCRIBE@{fg text}
    @{" UNSUBSCRIBE " LINK ID12_0}

  @{fg shine}'Could not read module correctly'@{fg text}
    @{" 'Could not read module correctly' " LINK ID11_0}
    @{" 'Could not read module correctly' " LINK ID11_1}
    @{" 'Could not read module correctly' " LINK ID11_2}

  @{fg shine}Documentation about amiga programming@{fg text}
    @{" Documentation about amiga programming " LINK ID10_0}
    @{" Documentation about amiga programming " LINK ID10_1}
    @{" Documentation about amiga programming " LINK ID10_2}

  @{fg shine}Multidimensional arrays in E@{fg text}
    @{" Multidimensional arrays in E " LINK ID9_0}
    @{" Multidimensional arrays in E " LINK ID9_1}
    @{" Multidimensional arrays in E " LINK ID9_2}
    @{" Multidimensional arrays in E " LINK ID9_3}
    @{" Multidimensional arrays in E " LINK ID9_4}
    @{" Multidimensional arrays in E " LINK ID9_5}

  @{fg shine}mccheader.c to mccheader.m@{fg text}
    @{" mccheader.c to mccheader.m " LINK ID8_0}
    @{" mccheader.c to mccheader.m " LINK ID8_1}
    @{" mccheader.c to mccheader.m " LINK ID8_2}
    @{" mccheader.c to mccheader.m " LINK ID8_3}
    @{" mccheader.c to mccheader.m " LINK ID8_4}

  @{fg shine}EasyGUI activate gadget/My modifications@{fg text}
    @{" EasyGUI activate gadget/My modifications " LINK ID7_0}

  @{fg shine}etc - Looking for contrib@{fg text}
    @{" etc - Looking for contrib " LINK ID6_0}
    @{" etc - Looking for contrib " LINK ID6_1}
    @{" etc - Looking for contrib " LINK ID6_2}
    @{" etc - Looking for contrib " LINK ID6_3}
    @{" etc - Looking for contrib " LINK ID6_4}
    @{" etc - Looking for contrib " LINK ID6_5}
    @{" etc - Looking for contrib " LINK ID6_6}
    @{" etc - Looking for contrib " LINK ID6_7}
    @{" etc - Looking for contrib " LINK ID6_8}

  @{fg shine}Passing multiple variables with EG_INFO@{fg text}
    @{" Passing multiple variables with EG_INFO " LINK ID5_0}
    @{" Passing multiple variables with EG_INFO " LINK ID5_1}
    @{" Passing multiple variables with EG_INFO " LINK ID5_2}
    @{" Passing multiple variables with EG_INFO " LINK ID5_3}
    @{" Passing multiple variables with EG_INFO " LINK ID5_4}
    @{" Passing multiple variables with EG_INFO " LINK ID5_5}

  @{fg shine}EasyGUI - Active string on opening?@{fg text}
    @{" EasyGUI - Active string on opening? " LINK ID4_0}
    @{" EasyGUI - Active string on opening? " LINK ID4_1}
    @{" EasyGUI - Active string on opening? " LINK ID4_2}
    @{" EasyGUI - Active string on opening? " LINK ID4_3}
    @{" EasyGUI - Active string on opening? " LINK ID4_4}
    @{" EasyGUI - Active string on opening? " LINK ID4_5}
    @{" EasyGUI - Active string on opening? " LINK ID4_6}

  @{fg shine}Nlist Sorting@{fg text}
    @{" Nlist Sorting " LINK ID3_0}
    @{" Nlist Sorting " LINK ID3_1}
    @{" Nlist Sorting " LINK ID3_2}

  @{fg shine}E registration@{fg text}
    @{" E registration " LINK ID2_0}
    @{" E registration " LINK ID2_1}
    @{" E registration " LINK ID2_2}

  @{fg shine}Reading Pixel Value@{fg text}
    @{" Reading Pixel Value " LINK ID1_0}
    @{" Reading Pixel Value " LINK ID1_1}

  @{fg shine}Task <-> Process@{fg text}
    @{" Task <-> Process " LINK ID0_0}
    @{" Task <-> Process " LINK ID0_1}
    @{" Task <-> Process " LINK ID0_2}
    @{" Task <-> Process " LINK ID0_3}
    @{" Task <-> Process " LINK ID0_4}
    @{" Task <-> Process " LINK ID0_5}
    @{" Task <-> Process " LINK ID0_6}
    @{" Task <-> Process " LINK ID0_7}
    @{" Task <-> Process " LINK ID0_8}
    @{" Task <-> Process " LINK ID0_9}
    @{" Task <-> Process " LINK ID0_10}
    @{" Task <-> Process " LINK ID0_11}
    @{" Task <-> Process " LINK ID0_12}
    @{" Task <-> Process " LINK ID0_13}
    @{" Task <-> Process " LINK ID0_14}
    @{" Task <-> Process " LINK ID0_15}
    @{" Task <-> Process " LINK ID0_16}
    @{" Task <-> Process " LINK ID0_17}
    @{" Task <-> Process " LINK ID0_18}
    @{" Task <-> Process " LINK ID0_19}
    @{" Task <-> Process " LINK ID0_20}
@endnode

@node readme "Read Me First!"

  @{fg shine} Introduction @{fg text}

  Here you'll find all the messages appeared on Amiga E Mailing list
  in February 1999.

  This is the first version of the message log done in Amiga Guide.

  I have just written a little program to do this, as soon as I can
  create some comments, I'll release it in the public domain.

  The best way of reading this guide is to choose an argument 
  (ie. a subject of a message) and then browse it using the "Previous" and "Next"
  gadget in the MultiView/AmigaGuide viewer.
@endnode

@node author "Author"

  @{fg shine} Author @{fg text}

  Err.. authors of this text are Amiga E subscribers!

  Anyway, I have packed it all.

  My name is Fabio Rotondo. If you want to contact me, please, write to:

  

  Fabio Rotondo     - email: fsoft@intercom.it
                             Fabio.Rotondo@deagostini.it

  Via Lunga, 50
  27020 Valle Lomellina (PV)
  ITALY
  
@endnode

@node subscribe "How to subscribe to AmigaE Mailing List"

  @{fg shine}How to subscribe to AmigaE Mailing List @{fg text}

  To subscribe to the @{fg shine}official@{fg text} AmigaE Mailing list,
  please, write to:

    listserv@intercom.it

  with:

    SUBSCRIBE amigae-list First LastName

  in the @{fg shine}BODY@{fg text} of the message.

  Eg. SUBSCRIBE amigae-list John Smith



  To unsubscribe, write to:

    listserv@intercom.it

  with:

    SIG amigae-list

  in the @{fg shine}BODY@{fg text} of the message.
@endnode


@node ID0_0 "Task <-> Process (ID0_0)"

Date: Mon, 01 Feb 1999 11:13:21 +0100
From: Rainer.M.Mueller@uni-konstanz.de (Rainer =?iso-8859-1?Q?M=FCller?=)
Subject: Task <-> Process

Hi,

with the help of one of the amigalib modules, it is very easy to start a
PROC [e.g. PROC runMeAsTask()] as a Task. Tasks have them problem that they
can't access Dos-Functions -> I need a Process, that means CreateNewProc().
Has anyone an example that e.g. starts  PROC runMeAsProcess()  as a process
?? My own tries ended in different GURU's :-(

Thanx,

   Rainer

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
      //  Rainer M=FCller  A1200-030-50MHz 16MB/850MB
     //                  Pentium  166MHz 32MB/2.1GB
    //    have a look at: Aminet:mus/edit/SampleE
\\ //
 \X/  AMIGA for ever !

@endnode

@node ID0_1 "Task <-> Process (ID0_1)"
From: carl.drougge@2.sbbs.se (Carl Drougge)
Date: Mon, 01 Feb 1999 18:51:56 +0100
Subject: Re: Task <-> Process

Den 01-Feb-99 skrev Rainer M=FCller:

> Hi,
> =

> with the help of one of the amigalib modules, it is very easy to start =
a
> PROC [e.g. PROC runMeAsTask()] as a Task. Tasks have them problem that =
they
> can't access Dos-Functions -> I need a Process, that means CreateNewPro=
c().
> Has anyone an example that e.g. starts  PROC runMeAsProcess()  as a pro=
cess
> ?? My own tries ended in different GURU's :-(

I don't know anything about this module, but I know CreateNewProc().. =3D=
)

MODULE 'dos/dostags'
#define NP_CLI $800003FA
- -> At least in my dos/dostags.m this has an incorrect value.

DEF maintask

PROC main()
  DEF process

  maintask :=3D FindTask( NIL )

  MOVE.L _a4(PC),A0
  MOVE.L A4,(A0)
  IF process :=3D CreateNewProc( [
                                 NP_ENTRY , {my_proc} ,
                                 NP_CLI   , TRUE      ,
                                 NIL
                               ]
                             )
    Wait( $4000 )  -> Wait for process to exit.. you might want to do
                   -> something else here =3D)
  ENDIF
ENDPROC

_a4: LONG 0
PROC my_proc()
  MOVE.L _a4(PC),A4
- -> Do whatever you like here.
  Signal( maintask , $4000 )
ENDPROC

Just remember that the parent process *must not* exit before the child, a=
nd
this should work. (Typed directly in my emailprog, so there are probably =
a
few typingerrors, but maybe you can fix them yourself..)

@endnode

@node ID0_2 "Task <-> Process (ID0_2)"
Date: Tue, 02 Feb 1999 10:44:01 +0100
From: Rainer.M.Mueller@uni-konstanz.de (Rainer =?iso-8859-1?Q?M=FCller?=)
Subject: Re: Task <-> Process

Hello,

>I don't know anything about this module, but I know CreateNewProc().. =3D)

I want to use CreateNewProc :-)

>MODULE 'dos/dostags'
>#define NP_CLI $800003FA
>-> At least in my dos/dostags.m this has an incorrect value.
>
>DEF maintask
>
>PROC main()
>  DEF process
>
>  maintask :=3D FindTask( NIL )
>
>  MOVE.L _a4(PC),A0
>  MOVE.L A4,(A0)
>  IF process :=3D CreateNewProc( [
>                                 NP_ENTRY , {my_proc} ,
>                                 NP_CLI   , TRUE      ,
>                                 NIL
>                               ]
>                             )
>    Wait( $4000 )  -> Wait for process to exit.. you might want to do
>                   -> something else here =3D)
>  ENDIF
>ENDPROC

>_a4: LONG 0
>PROC my_proc()
>  MOVE.L _a4(PC),A4
>-> Do whatever you like here.
>  Signal( maintask , $4000 )
>ENDPROC

What are this MOVE.L's for ?? I suppose that it saves some of the E
specific values like stack etc ?? and it enables my_proc() to access global
vars ??

would a PROC my-proc(a,b,c) possible too ???

>Just remember that the parent process *must not* exit before the child, and
>this should work. (Typed directly in my emailprog, so there are probably a
>few typingerrors, but maybe you can fix them yourself..)

Of course, that's clear !

Thank you, says

   Rainer

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
      //  Rainer M=FCller  A1200-030-50MHz 16MB/850MB
     //                  Pentium  166MHz 32MB/2.1GB
    //    have a look at: Aminet:mus/edit/SampleE
\\ //
 \X/  AMIGA for ever !

@endnode

@node ID0_3 "Task <-> Process (ID0_3)"
Date: Tue, 2 Feb 1999 12:01:45 +0000 (BST)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: Task <-> Process

On Tue, 2 Feb 1999, Rainer [iso-8859-1] Müller wrote:

=>>  MOVE.L _a4(PC),A0
=>>  MOVE.L A4,(A0)

that should be more like:
        LEA     _a4(PC),A0
        MOVE.L  A4,(A0)

- -or-

  DEF a4reg
  MOVE.L A4,a4reg
  PutLong(_a4,a4reg)

otherwise you are saying 'put A4 in the address pointed to by A0', where A0
points to 0. One enforcer hit and failed program.

=>>_a4: LONG 0
=>>PROC my_proc()
=>>  MOVE.L _a4(PC),A4

=>What are this MOVE.L's for ?? I suppose that it saves some of the E
=>specific values like stack etc ?? and it enables my_proc() to access
global
=>vars ??

E has two areas for data. Stack (pointed to with A7) and Heap (pointed to
with
A4). Each program gets its own new stack, the system sets up A7 for us, and
to
E it does not matter where the stack is, provided it is big enough. However,
there is only one heap, so we have to save a pointer to it from the main
process, and restore it in the child process.

=>would a PROC my-proc(a,b,c) possible too ???

No, that expects some arguments already pushed on the stack before it is
called. Instead, you can use the now shared global variables to pass
information.

Stuart

@endnode

@node ID0_4 "Task <-> Process (ID0_4)"
Date: Tue, 2 Feb 1999 13:33:07 +0100 (MET)
From: mfontana@komodo.ing.unico.it (mauro fontana)
Subject: Re: Task <-> Process

On Tue, 2 Feb 1999, Stuart Caie wrote:

> On Tue, 2 Feb 1999, Rainer [iso-8859-1] M=FCller wrote:
>=20
> =3D>>  MOVE.L _a4(PC),A0
> =3D>>  MOVE.L A4,(A0)
>=20
> that should be more like:
> =09LEA=09_a4(PC),A0
> =09MOVE.L=09A4,(A0)
>=20
> -or-
>=20
>   DEF a4reg
>   MOVE.L A4,a4reg
>   PutLong(_a4,a4reg)
>=20
> otherwise you are saying 'put A4 in the address pointed to by A0', where =
A0
> points to 0. One enforcer hit and failed program.

Ah, that was what I was wondering about... that thing that stored A4 in 0.=
=20
Now I have understood.=20

However this is self modifiyng code... I would expect some troubles with
processors with data caches. What's wrong in the use of CreateNewTask? You
can always use the main process as a "slave" to perform and return all
data that need DOS usage. If you need to load a  file just make the main
process open the requester, load the file and then finally pass the
pointer of the data buffer to the chils task. May be a bit more complex,
but is surely 100% OS compliant (and does not relate on how E and the OS
use the processor registers).

M&F

@endnode

@node ID0_5 "Task <-> Process (ID0_5)"
Date: Tue, 2 Feb 1999 13:50:46 +0000 (BST)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: Task <-> Process

On Tue, 2 Feb 1999, mauro fontana wrote:

=>>     LEA     _a4(PC),A0
=>>     MOVE.L  A4,(A0)

=>However this is self modifiyng code... I would expect some troubles with
=>processors with data caches.

It is not self modifying code! If I had written:

  LEA a4inst(PC),A0; MOVE.L A4,2(A0) -> write over the #$12345678

PROC newproc()
a4inst:  MOVE.L #$12345678,A4
ENDPROC

then that would be self modifying code.

It is perfectly alright to read and write areas of memory from different
tasks,
without flushing caches. If you write data with the processor, it will
update
the cache itself. It is only forbidden to:

- - write data into memory with either the CPU or external device, that will
  later be executed by (ie the instruction cache does not detect any kind
  of changes in memory)

- - read/write data in memory shared by the CPU and external devices.

Read/write data with only the CPU is OK, as the CPU updates the data cache
internally if it does writes. (but not the instruction cache). However, the
CPU
may read from the data cache instead of externally changed memory if you do
not
flush it, and on 040+ it may not have actually written changes to memory.

=>What's wrong in the use of CreateNewTask? You
=>can always use the main process as a "slave" to perform and return all
=>data that need DOS usage. If you need to load a  file just make the main
=>process open the requester, load the file and then finally pass the
=>pointer of the data buffer to the chils task. May be a bit more complex,
=>but is surely 100% OS compliant (and does not relate on how E and the OS
=>use the processor registers).

It is perfectly legal to create both new tasks and processes, but in both
cases, you must set the A4 register for access to globals. See the ecode.e
from
Jason, if you don't believe. This is not unusual practice for any language,
including C. The OS takes care of the A7 register itself.

It depends what you want to do, whether using a server/parent process
talking
to spawned clients/children, or to have independent processes run.

The reason you have to kill the children before the parent exits, is because
E
code always uses 1 hunk. When the parent exits, DOS frees the parent's code.
This also contains the child code - boom. If you had several hunks, you
could
put parent code in the first hunk, and put child code in the further hunks.
Then at runtime you could unlink the next hunks, and DOS would only free the
first one. However, the children would have to free their hunks themselves,
or
remain forever in memory.

Another idea is to make a library which has a function to make a new
process,
using code inside the library which opens the library itself, and closes the
library on exit. You could then close the library after making a new
process,
but the library code would not be freed until the child had closed the lib.

Stuart

@endnode

@node ID0_6 "Task <-> Process (ID0_6)"
Date: Tue, 02 Feb 1999 19:16:18 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: Task <-> Process

Hi All,

using following code snippet:

> LEA     _a4(PC),A0
> MOVE.L  A4,(A0)
>
> _a4: LONG 0

Am I right in understanding that:

>         LEA     _a4(PC),A0

1. Stores the address of the first opcode following the _a4 label into A0?

2. _a4 in this case serves as a Pseudo Heap of data, sized four bytes long?

3. Using _a4 in this fashion is TECHNICALLY self-modyfing code but since the
effective address of the _a4: label will NEVER be used as an opcode it does
not matter.  We are actually only using _a4 as a Global Value, relative to
PC which is the same for both Threads AND the actual value which is stored
in the _a4 is changed as if it were a normal memory location?

4. Does _a4(PC) mean: 'take the Address stored in PC reg and return
Effective Address of it when offset by '_a4' bytes...  _a4 being viewed
internally as a value equal to its offset relative to PC once assembled?

What things, other than global vars, can be fucked up by not setting up the
A4 reg properly?

thanks in advance,

Maxim, just wishing to be correctly enlightened by this this discussion
thread.
@endnode

@node ID0_7 "Task <-> Process (ID0_7)"
From: jason@fsel.com ("Jason Hulance")
Subject: RE: Task <-> Process
Date: Wed, 3 Feb 1999 09:33:55 -0000

"Used for mailing on SGI/extreme" (?) wrote:

> using following code snippet:
>
> > LEA     _a4(PC),A0
> > MOVE.L  A4,(A0)
> >
> > _a4: LONG 0
>
> Am I right in understanding that:
>
> >         LEA     _a4(PC),A0
>
> 1. Stores the address of the first opcode following the _a4 label into
> A0?

LEA = Load Effective Address.  So it loads A0 with the PC-relative
address offset by the label "_a4".  That's how static data addressing
like this works in E.  Basically, A0 now contains the address of the
(static) LONG at "_a4".

> 2. _a4 in this case serves as a Pseudo Heap of data, sized four
> bytes long?

Static data, yes.

> 3. Using _a4 in this fashion is TECHNICALLY self-modyfing code
> but since the effective address of the _a4: label will NEVER be
> used as an opcode it does not matter.  We are actually only using
> _a4 as a Global Value, relative to PC which is the same for both
> Threads AND the actual value which is stored in the _a4 is
> changed as if it were a normal memory location?

No, it's not technically self-modifying code, since it's data.  That
data just happens to be located statically (i.e., allocated when the
program was loaded).  If you start running data in this area as if it
were code, *then* you'll have a problem.

If you are worried/unconvinced about this, consider that all lists
made by "[...]" (including typed ones) are static data in pretty much
the same way.  And if you have variable entries (e.g., "[x,y]") then
this static data is updated by assigning into the static data.

> 4. Does _a4(PC) mean: 'take the Address stored in PC reg and
> return Effective Address of it when offset by '_a4' bytes...  _a4
> being viewed internally as a value equal to its offset relative
> to PC once assembled?

Err... yes.  It's the way you reference E labels from Assembly.

> What things, other than global vars, can be fucked up by not
> setting up the A4 reg properly?

Well, that's about it, but it's all-encompassing.  Things like the
memory allocated at start-up and library base variables are all
stored relative to A4 (they're global variables).  So almost nothing
will work without A4...

Cheers!

- --
Your numbers are 50, 8, 6, 1, 4 and 3.  The target is 787.
The conundrum for today is "ihwehedat"
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114

@endnode

@node ID0_8 "Task <-> Process (ID0_8)"
Date: Wed, 03 Feb 1999 09:28:17 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: Task <-> Process

Jason Hulance wrote:
>  And if you have variable entries (e.g., "[x,y]") then
> this static data is updated by assigning into the static data.

heuh, not sure what you mean by this sentence... is it something like, "to
update the static data in this list, simply change value of x or y?

THANK you very much Jason,

- -Maxim
@endnode

@node ID0_9 "Task <-> Process (ID0_9)"
From: carl.drougge@2.sbbs.se (Carl Drougge)
Date: Tue, 02 Feb 1999 22:08:15 +0100
Subject: Re: Task <-> Process

Den 02-Feb-99 skrev Stuart Caie:

>=>>  MOVE.L _a4(PC),A0
>=>>  MOVE.L A4,(A0)
>
>that should be more like:
>    LEA    _a4(PC),A0
>    MOVE.L    A4,(A0)

Sorry, what I would call a typing-error. =)

>E has two areas for data. Stack (pointed to with A7) and Heap (pointed to
with
>A4). Each program gets its own new stack, the system sets up A7 for us, and
to
>E it does not matter where the stack is, provided it is big enough.
However,
>there is only one heap, so we have to save a pointer to it from the main
>process, and restore it in the child process.

A4 is not so much heap (if it was, NEW would allocate from it, and it
doesn't) as global environment. It's used for global vars and nothing more
really. This includes the lists of memory to free from New#?() functions and
everything else, but the list elements themselves are allocated with
AllocMem() at the same time the New() memory is allocated, so nothing ever
gets allocated under A4, except maybe a stack of exceptionhandlers.

>=>would a PROC my-proc(a,b,c) possible too ???
>
>No, that expects some arguments already pushed on the stack before it is
>called. Instead, you can use the now shared global variables to pass
>information.

I think it's possible to allocate your own stack for the new process, and
then you could use it. But it's not exactly practical. =)

@endnode

@node ID0_10 "Task <-> Process (ID0_10)"
From: carl.drougge@2.sbbs.se (Carl Drougge)
Date: Wed, 03 Feb 1999 22:17:52 +0100
Subject: Re: Task <-> Process

Den 03-Feb-99 skrev Jason Hulance:

>> What things, other than global vars, can be fucked up by not
>> setting up the A4 reg properly?
>
> Well, that's about it, but it's all-encompassing.  Things like the
> memory allocated at start-up and library base variables are all
> stored relative to A4 (they're global variables).  So almost nothing
> will work without A4...

Actually, allmost anything works without A4, as long as you do it yourself.
=)

This means you CAN'T:
- - Use global vars
- - Use libraries
- - Call any function you have not written youself
- - Allocate memory (NEW is in effect a functioncall)
- - Have exceptionhandlers (they allways referende A4)

But you CAN do everything else. This is actually quite a lot.. =)
All normal keywords work, (like IF, WHILE, SELECT, DEF, etc) and all types
of code.. lisp-cells allocate memory I think, so don't use them..
And if you really want to you can allocate memory with something like
    MOVEA.L $4.W,A6
    MOVE.L  #size,D0
    MOVE.L  #flags,D1
    JSR     AllocMem(A6)
    MOVE.L  D0,mem
is the same as mem := AllocMem( size , flags ).
It's really easier to just use A4 though. =)
Exceptionhandlers change lists in A4 without arbitration, so you cannot use
them in childprocesses, no matter what.

@endnode

@node ID0_11 "Task <-> Process (ID0_11)"
From: jason@fsel.com ("Jason Hulance")
Subject: RE: Task <-> Process
Date: Thu, 4 Feb 1999 08:01:44 -0000

Maxim quoted and wrote:

> >  And if you have variable entries (e.g., "[x,y]") then
> > this static data is updated by assigning into the static data.
>
> heuh, not sure what you mean by this sentence... is it something
> like, "to update the static data in this list, simply change
> value of x or y?

I mean that, in an E program, for some random expression "use()":

   use([3,-9,4,1])

is roughly the same as:

   use({list_temp})
   ...
   list_temp:
      LONG 0,-9,0,1

(modulo the extra info that lists store...)
Whereas:

   use([x,-9,y,1])

is more like:

   DEF list_addr:PTR TO LONG
   list_addr:={list_temp}
   list_addr[]:=x
   list_addr[2]:=y
   use(list_addr)
   ...
   list_temp:
      LONG 0,-9,0,1

Hope this makes things clearer...

Cheers!

- --
Your numbers are 75, 10, 4, 8, 10 and 4.  The target is 531.
The conundrum for today is "pylahignt"
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114

@endnode

@node ID0_12 "Task <-> Process (ID0_12)"
Date: Thu, 4 Feb 1999 10:55:33 +0000 (BST)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: Task <-> Process

On Tue, 2 Feb 1999, Carl Drougge wrote:

=>Den 02-Feb-99 skrev Stuart Caie:
=>>E has two areas for data. Stack (pointed to with A7) and Heap (pointed to
with
=>>A4). Each program gets its own new stack, the system sets up A7 for us,
and to
=>>E it does not matter where the stack is, provided it is big enough.
However,
=>>there is only one heap, so we have to save a pointer to it from the main
=>>process, and restore it in the child process.
=>
=>A4 is not so much heap (if it was, NEW would allocate from it, and it
=>doesn't) as global environment. It's used for global vars and nothing more
=>really. This includes the lists of memory to free from New#?() functions
and
=>everything else, but the list elements themselves are allocated with
=>AllocMem() at the same time the New() memory is allocated, so nothing ever
=>gets allocated under A4, except maybe a stack of exceptionhandlers.

True enough, but static 'allocations' are made there (DEF x:blah, etc)
along with just vars, so you could call it a 'static heap'.

Stuart

@endnode

@node ID0_13 "Task <-> Process (ID0_13)"
From: Chris.S.Handley@btinternet.com ("Chris S Handley")
Date: 3 Feb 99 18:06:12 +0000
Subject: Re: Task <-> Process

Can someone briefly tell me what the limitations of Tasks & Processes
are in E?

Things like:
- -global vars
- -procedure parameters
- -calling other procedures
- -things you can't use (just file & console I/O?)

Is it easier to comunicate between tasks rather than proceses?  Also,
can tasks use Exec & ARexx ports? (I hope so!)

Cheers!
- --
Chris S Handley, BEng(Hons) in Electronics (Computers), AMIEE,
studying for MSc in Digital Systems at the University of Hertforshire.

Chris.S.Handley@BTInternet.Com    (also an Amiga, Anime & hard-SF fan)
- ----------------------------------------------------------------------
++++ Out of cheese error.  Redo from Start ++++
@endnode

@node ID0_14 "Task <-> Process (ID0_14)"
From: carl.drougge@2.sbbs.se (Carl Drougge)
Date: Fri, 05 Feb 1999 20:11:48 +0100
Subject: Re: Task <-> Process

Den 04-Feb-99 skrev Stuart Caie:

> On Tue, 2 Feb 1999, Carl Drougge wrote:
>
> =>Den 02-Feb-99 skrev Stuart Caie: =>>E has two areas for data. Stack
> (pointed to with A7) and Heap (pointed to with =>>A4). Each program gets
> its own new stack, the system sets up A7 for us, and to =>>E it does not
> matter where the stack is, provided it is big enough. However, =>>there is
> only one heap, so we have to save a pointer to it from the main
=>>process,
> and restore it in the child process. =>
> =>A4 is not so much heap (if it was, NEW would allocate from it, and it
> =>doesn't) as global environment. It's used for global vars and nothing
> more =>really. This includes the lists of memory to free from New#?()
> functions and =>everything else, but the list elements themselves are
> allocated with =>AllocMem() at the same time the New() memory is
allocated,
> so nothing ever =>gets allocated under A4, except maybe a stack of
> exceptionhandlers.
>
> True enough, but static 'allocations' are made there (DEF x:blah, etc)
> along with just vars, so you could call it a 'static heap'.

Nope. They are, as they should be, allocated on the stack.

Proof:
OBJECT foo
  a,b
ENDOBJECT

PROC main()
  DEF foo:foo
ENDPROC

The DEF-line disasms to this:
        LINK    A5,#-4
        LEA     -8(A7),A7
        MOVE.L  A7,-4(A5)
No A4 there..

Definition of a stack: (Not "proper", but true enough)
Memoryspace where local variabels are allocated, and functioncalls store
their return adresses.

Definition of a heap:
Memoryspace from wich memory is allocated. (Sort of)

E also stores global vars on the stack, but that's just because the code
before main() is just startup() (sort of), that has it's set of vars, that
the other PROCs just happen to be able to touch. =)

AmigaOS has one heap for all programs, and individual stacks.
MacOS has a heap for every program, wich is why it can run out of memory
even when allmost none is used. =)

@endnode

@node ID0_15 "Task <-> Process (ID0_15)"
From: carl.drougge@2.sbbs.se (Carl Drougge)
Date: Fri, 05 Feb 1999 20:45:13 +0100
Subject: Re: Task <-> Process

Den 03-Feb-99 skrev Chris S Handley:

> Can someone briefly tell me what the limitations of Tasks & Processes
> are in E?
>
> Things like:
> -global vars

Works fine if you preserve A4.

> -procedure parameters

Works too, except to the entry-procedure.

> -calling other procedures

Of course you can, as long as you have stack enough. FreeStack() does *not*
work.

> -things you can't use (just file & console I/O?)

You can't use Es memory allocating functions in childtasks (or anything that
can call them), but the OS routines are fine. File and Console IO also work
fine if you do it right (don't use stdout, open your own, and use
dos.library functions directly on it)

> Is it easier to comunicate between tasks rather than proceses?  Also,
> can tasks use Exec & ARexx ports? (I hope so!)

It is done exactly the same. I have a very good example of this somewhere.
If I can't find it I could write one (not quite as good maybe.. =)
Tasks can use Exec ports at least, I don't know anything about ARexx..

@endnode

@node ID0_16 "Task <-> Process (ID0_16)"
Date: Sat, 6 Feb 1999 15:50:13 +0100 (MET)
From: subvcbhd@calvados.zrz.TU-Berlin.DE (Henk Jonas)
Subject: Re: Task <-> Process

On Fri, 5 Feb 1999, Carl Drougge wrote:

> Den 03-Feb-99 skrev Chris S Handley:
>=20
> > Is it easier to comunicate between tasks rather than proceses?  Also,
> > can tasks use Exec & ARexx ports? (I hope so!)
>=20
> It is done exactly the same. I have a very good example of this somewhere=
=2E
> If I can't find it I could write one (not quite as good maybe.. =3D)
> Tasks can use Exec ports at least, I don't know anything about ARexx..
ARexx are normal Exec ports, with a name.

Henk
- ----------------------------------------------------------------
Henk Jonas            |          subvcbhd@linux.zrz.tu-berlin.de
Student der           |
Energietechnik        |       http://www.cs.tu-berlin.de/~jonash

> Ich lehne Atomenergie als Energiealternative ab! niX=B3 Castor <
- ----------------------------------------------------------------
  * AmigaMetaFileFormat * MetaView * Messlabor * Voxelflight *
- ----------------------------------------------------------------
Fuer die 'Mitleser': ANARCHIEBNDAKWPKKRAFRADIKALTNTKPDPDSREVOLUT

@endnode

@node ID0_17 "Task <-> Process (ID0_17)"
Date: Thu, 11 Feb 1999 14:05:53 +0000 (BST)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: Task <-> Process

On Fri, 5 Feb 1999, Carl Drougge wrote:

=>> True enough, but static 'allocations' are made there (DEF x:blah, etc)
=>> along with just vars, so you could call it a 'static heap'.
=>
=>Nope. They are, as they should be, allocated on the stack.
=>
=>Proof:
=>OBJECT foo
=>  a,b
=>ENDOBJECT
=>
=>PROC main()
=>  DEF foo:foo
=>ENDPROC
=>
=>The DEF-line disasms to this:
=>        LINK    A5,#-4
=>        LEA     -8(A7),A7
=>        MOVE.L  A7,-4(A5)
=>No A4 there..

[insert get-out clause here]

I should really have made my words clearer: Writing DEF x:foo in a procedure
is
not a static allocation, but writing DEF x:foo as a global is. The static
allocations are made at the beginning of E's stack once, and a4 is pointed
to
them. Therefore 'a static heap'. But heaps aren't static!

=>Definition of a stack: (Not "proper", but true enough)
=>Memoryspace where local variabels are allocated, and functioncalls store
=>their return adresses.

aka activation records.

=>Definition of a heap:
=>Memoryspace from wich memory is allocated. (Sort of)

I won't argue :)

=>E also stores global vars on the stack, but that's just because the code
=>before main() is just startup() (sort of), that has it's set of vars, that
=>the other PROCs just happen to be able to touch. =)

In C of course, the global vars would be stored in the data/bss segment.
That's
why C programs are easier to resource than E ones :)

=>AmigaOS has one heap for all programs, and individual stacks.
=>MacOS has a heap for every program, wich is why it can run out of memory
=>even when allmost none is used. =)

And ofcourse the modern memory model for AmigaOS is pools...
more like a classic heap, but implemented by the user rather than compiler
(of course, compiler writers are free to use them too!)

Stuart

@endnode

@node ID0_18 "Task <-> Process (ID0_18)"
Date: Thu, 11 Feb 1999 11:56:07 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: Task <-> Process

Stuart Caie wrote:

> And ofcourse the modern memory model for AmigaOS is pools...
> more like a classic heap, but implemented by the user rather than compiler
> (of course, compiler writers are free to use them too!)
>
Am I right in understanding that the pools are half way to memory
protection... in that each task has its own "list" of allocated memory.  The
only thing missing would be to let an MMU verify each read/write to make
sure that the task is actually using memory from it's pools...  ?

- -Maxim
@endnode

@node ID0_19 "Task <-> Process (ID0_19)"
Date: Fri, 12 Feb 1999 12:04:07 +0000 (BST)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: Task <-> Process

On Thu, 11 Feb 1999, Maxim Olivier-Adlhoch wrote:

=>Stuart Caie wrote:
=>
=>> And ofcourse the modern memory model for AmigaOS is pools...
=>> more like a classic heap, but implemented by the user rather than
compiler
=>> (of course, compiler writers are free to use them too!)
=>>

=>Am I right in understanding that the pools are half way to memory
=>protection... in that each task has its own "list" of allocated memory.
=>The only thing missing would be to let an MMU verify each read/write to
=>make sure that the task is actually using memory from it's pools...  ?

Erm, sort of. The pools we have couldn't support that, but some changes
could
make that theoretically possible.

Basically, in UNIX, processes have their own address space (starting at a
virtual $00000000 or whatever), and all data they use has to be in
that space. Addresses can be broken into 'page + offset', eg the bottom 12
bits
are an offset and the upper 20 bits are page. The MMU hardware looks up a
table
to translate the page number into a physical address in memory, and also
checks
it can be read / is loaded into memory, and does the right stuff according.

The Operating System allocates and swaps these physical pages amongst all
the
processes, trying to be optimal in number of swaps. The processes never see
these physical pages, they just try to increase their process size when
running, and this either works or fails. If it works, they now have extra
(virtual) memory to allocate with.

Stuart

@endnode

@node ID0_20 "Task <-> Process (ID0_20)"
Date: Mon, 15 Feb 1999 10:00:01 +0100
From: verhaegs@imec.be (Staf Verhaegen)
Subject: Re: Task <-> Process

Maxim Olivier-Adlhoch wrote:

> Am I right in understanding that the pools are half way to memory
protection... in that each task has its own "list" of allocated memory.  The
only thing missing would be to let an MMU verify each read/write to make
sure that the task is actually using memory from it's pools...  ?
>

No, the pools are only for makeing memory allocations more efficient so the
exec AllocMem doesn't have to be called every time one needs some memory.
Even
memory in pools can be written en read by other tasks.
For memory the meaning of the different flags you give to AllocMem have to
be
defined with regard to memory protection and virtual memory. And these would
be the same for memory allocated from pools or with AllocMem.

greets,
Staf.

+----------------------------------------+-----------------------------+
|Staf Verhaegen (staf.verhaegen@imec.be) |ADRESS: IMEC vzw. - ASP/TCAD |
|tel: 016/ 281 238                       |        Kapeldreef 75        |
|fax: 016/ 281 214                       |        3001 Leuven (Belgium)|
+----------------------------------------+-----------------------------+
 For every tool there are at least 2 uses: the one it was designed for
                 and the other for which it wasn't.
@endnode



@node ID1_0 "Reading Pixel Value (ID1_0)"
Date: Mon, 1 Feb 1999 11:26:59 +0100 (MET)
From: subvcbhd@calvados.zrz.TU-Berlin.DE (Henk Jonas)
Subject: Re: Reading Pixel Value

On Sun, 31 Jan 1999, Juha-Matti Sironen wrote:

> > I supose, you want to read a lot of pixels? This is quite slow on nativ=
e
>=20
> Yes, whole picture (320x256).=20
>=20
> > Amiga screens. I dont know exactly what you want to do, but if you want=
 to
>=20
> Trying to get light over an image.

then i suggest to get a chunky copy of the picture as a memory block of
CHAR (memory size is width*height), read the pixel values for each pixel
from the array and write the result with c2p to the screen

> Oh, that's why all the demoes use c2p. :)

Yes.

> Have I understood right the usage of it:
>=20
> pixval:=3DReadPixel(screen-rastport,x,y)

Yes, it is right, but screen.rastport i supose.

> And what module should I use? Atleast I didn't find ReadPixel from any of
> the modules that came with E distribution. Or if possible, could give me =
a
> small example of how to use this?
you need 'intuition/screens' I think, the functions of the
graphics.library, dos.library and the intuition.library are already
included in the E Compiler, so you dont need a module for this functions.

let's try an example (of cause, I am not sure if the syntax is correct, I
have just now no possibility to prove the things)

DEF my_picture_array: PTR TO CHAR
DEF tmprp: rastport
DEF tmpbm: PTR TO bitmap

IF my_picture_array:=3DAllocVec(width*height, MEMF_CLEAR)
  IF tmpbm:=3DAllocBitMap(width,1,8,BMPF_CLEAR)
    tmprp.bitmap:=3Dtmpbm
    ReadPixelArray8(screen.rastport,...,my_picture-array,..,tmprp)

    -> now you should have the picture as an array of pixelvalues in
    -> my_picture_array

    pixel_value:=3Dmy_picture_array[(y*width)+x]

    -> do what ever you want

    WritePixelArray8(....)
    WaitBlit()
    FreeBitmap(tmpbm)
  ENDIF
  FreeVec(my_picture_array)
ENDIF

Henk
- ----------------------------------------------------------------
Henk Jonas            |          subvcbhd@linux.zrz.tu-berlin.de
Student der           |
Energietechnik        |       http://www.cs.tu-berlin.de/~jonash

> Ich lehne Atomenergie als Energiealternative ab! niX=B3 Castor <
- ----------------------------------------------------------------
  * AmigaMetaFileFormat * MetaView * Messlabor * Voxelflight *
- ----------------------------------------------------------------
Fuer die 'Mitleser': ANARCHIEBNDAKWPKKRAFRADIKALTNTKPDPDSREVOLUT

@endnode

@node ID1_1 "Reading Pixel Value (ID1_1)"
From: flo@sci.fi (Juha-Matti Sironen)
Date: Tue, 02 Feb 1999 08:28:34 +0200
Subject: Re: Reading Pixel Value

>>> Amiga screens. I dont know exactly what you want to do, but if you want
to
>> Trying to get light over an image.
> then i suggest to get a chunky copy of the picture as a memory block of
> CHAR (memory size is width*height), read the pixel values for each pixel
> from the array and write the result with c2p to the screen

Ok.

> let's try an example (of cause, I am not sure if the syntax is correct, I
> have just now no possibility to prove the things)

I'll try this one, thanks.

- --
flow/ihana   [email.me.to:flo@sci.fi]

@endnode



@node ID2_0 "E registration (ID2_0)"
From: a9660319@wlv.ac.uk
Subject: Re: E registration
Date: Mon, 1 Feb 1999 10:52:36 -0500 (EST)

> Hey!

Hi.

Are you in the UK? If so, then Jason Hulance deals with most E
registrations, hes on this list (somewhere :), so wait till he pops up,
and then e-mail him :)

Thanks
Andrew Hutchins.

@endnode

@node ID2_1 "E registration (ID2_1)"
Date: Tue, 2 Feb 1999 10:13:20 +0100 (MET)
From: 32simon@but.auc.dk (Simon Kongshoj)
Subject: Re: E registration

*sigh*

Now I've tried every E registration site listed in the manual, and all the
email addresses listed are disfunctional. Including Wouter's. :.(

Is there really no way to register E anymore? It is after all highly
limited what I can do with an ECDEMO. :.(

   // |    Simon Kongshoj    | Former Argentum Arts programmer
 \X/  |  Aalborg University  | my email: 32simon@but.auc.dk
AMiGA | Enhedslisten Aalborg | my webpage: www.but.auc.dk/~32simon
             Hiroshima '45, Chernobyl '85, Windows '95

@endnode

@node ID2_2 "E registration (ID2_2)"
From: jason@fsel.com ("Jason Hulance")
Subject: RE: E registration
Date: Tue, 2 Feb 1999 09:20:34 -0000

Andrew Hutchins wrote:

> Are you in the UK? If so, then Jason Hulance deals with most E
> registrations, hes on this list (somewhere :), so wait till he pops up,
> and then e-mail him :)

ZZZ..ZZZ...ZZZ...  Oh!  Hello...

Now you've woken me up, I'd just like to say that, yes, I am still
around and, yes, I do still accept registrations for Amiga E on Wouter's
behalf.  The details in the v3.3a E.guide (in the Docs/ dir of the v3.3a
distribution on Aminet) still work (it even has Wouter's current Email
address).  However, my work address has changed to that in my sig, so
it's faster to use that address (the 3 Alfred Street one will still get
to me).

Cheers!

- --
Your numbers are 50, 9, 6, 9, 1 and 4.  The target is 631.
The conundrum for today is "clinainic"
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114

@endnode



@node ID3_0 "Nlist Sorting (ID3_0)"
From: cb.price@ukonline.co.uk (Phil Price)
Date: Sun, 31 Jan 1999 19:34:43 +0000
Subject: Nlist Sorting

Hello All,

How do i sort a Nist into alphabetical order ? I'd be
happy for examples....

Yours
- --
+-------------------- A M I G A - C E N T R A L --------------------+
|                  [- The Online Amiga Magazine -]                  |
| Phil Price                                         icq : 21418142 |
| Editor / Webmaster                           Supporting the Amiga |
| phil@amigacentral.com                 http://www.amigacentral.com |
|                                                                   |
+-------------------------------------------------------------------+

@endnode

@node ID3_1 "Nlist Sorting (ID3_1)"
Date: Tue, 02 Feb 1999 08:30:57 +0100
From: Fabio.Rotondo@deagostini.it (Fabio Rotondo)
Subject: Re: Nlist Sorting

Phil Price wrote:

> How do i sort a Nist into alphabetical order ? I'd be
> happy for examples....

Phil,

    why haven't you tried NodeMaster (a NList manager) and StringNode
(a String List Manager) yet? they are in your emodules:afc/ directory
and there are also guides...

- --
Ciao,
      Fabio

      http://www.intercom.it/~fsoft

NOTE: ideas expressed in this mail are my own and may not reflect the ones
of the place where I work.

@endnode

@node ID3_2 "Nlist Sorting (ID3_2)"
From: stv@minorisa.es ("Esteve Boix")
Date: Tue, 2 Feb 1999 09:29:15 +0100
Subject: Re: Nlist Sorting

Hi

> > How do i sort a Nist into alphabetical order ? I'd be
> > happy for examples....

I don't know the internals of NList, and since it's no longer being
developed
I don't think I will, but I guess is quite similar to the standard MUI list.
You have to define a compare hook for the list. Take a look at the
autodocs and search for "hook". It has to be there.
The result of the hook is used to sort the contents of the list.

Regards,
Esteve

@endnode



@node ID4_0 "EasyGUI - Active string on opening? (ID4_0)"
From: chris@planb.thegap.com (Christopher Perver)
Date: Mon, 01 Feb 1999 18:49:17 +0000
Subject: EasyGUI - Active string on opening?

   Hello list,

I was wondering if it was possible to activate a string gadget in an
EasyGUI window on opening? If not will I just have to modify the EasyGUI
source to allow me to do this?

Thanks.
- --
Regards,
     Chris.

You tried to live the best you could, you tried to do the things you
should,
But when it came to serving God, you said I still have time to wait.
Now it's all turned around, time for Jesus now you've found,
How sad to think, you found the time, but one day too late.

@endnode

@node ID4_1 "EasyGUI - Active string on opening? (ID4_1)"
From: johnallanAE@nelson54.freeserve.co.uk ("John Allan Nelson")
Date: 1 Feb 99 23:16:55 +0000
Subject: Re: EasyGUI - Active string on opening?

>    Hello list,
>
> I was wondering if it was possible to activate a string gadget in an
> EasyGUI window on opening? If not will I just have to modify the EasyGUI
> source to allow me to do this?
>
This works for me:

     Of course you don't have to put it in a seperate mod but it makes
it reusable.

     It's grabbed from a current project which is reason there some
global defs you could slap 'em in main.

- ------------------>8---------------
MODULE 'tools/easygui',
       'libraries/gadtools'

DEF strgad, str[61]:STRING

PROC main()
  DEF res=-1,  maingh=NIL:PTR TO guihandle

  maingh:=guiinitA('Window title',
                   [ROWS,
                     strgad:=[STR,{ignore},NIL,str,60,20]
                   ],
                   [EG_WTYPE,WTYPE_NOSIZE])

  activateEasyGadget(maingh,strgad)

  WHILE res<0
    Wait(maingh.sig)
    res:=guimessage(maingh)
  ENDWHILE

  cleangui(maingh)

ENDPROC

PROC activateEasyGadget(gh:PTR TO guihandle,gad)
  DEF realgadget

  realgadget:=findgadget(gh,gad)
  ActivateGadget(realgadget, gh.wnd, NIL)
ENDPROC

PROC ignore() IS EMPTY
- ---------------------->8------------------

Hope that helps dude

       JA
@endnode

@node ID4_2 "EasyGUI - Active string on opening? (ID4_2)"
Date: 02 Feb 99 02:42:55 -0500
From: victord@netrover.com ("Victor Ducedre")
Subject: Re: EasyGUI - Active string on opening?

Quoting John Allan Nelson...

[...]
>     Of course you don't have to put it in a seperate mod but it makes
>it reusable.

[...]
>PROC activateEasyGadget(gh:PTR TO guihandle,gad)
>  DEF realgadget

>  realgadget:=findgadget(gh,gad)
>  ActivateGadget(realgadget, gh.wnd, NIL)
>ENDPROC

    Would this be an appropriate time and place to discuss all of our
individual modifications to the EasyGUI source?  I know I've done a
couple of mods, and I imagine others have, too, such as the above
general-purpose function.  Maybe we should start sharing some of this
info.
    Should this even be done here on the list, or someplace else?
    Just asking :-)

- --
Victor Ducedre          (victord@netrover.com)          Team AMIGA
XPKatana v1.4 (RSN)
Yes it's only knock and knowall, but I like it.

@endnode

@node ID4_3 "EasyGUI - Active string on opening? (ID4_3)"
Date: Tue, 2 Feb 1999 09:45:53 +0100 (MET)
From: subvcbhd@calvados.zrz.TU-Berlin.DE (Henk Jonas)
Subject: Re: EasyGUI - Active string on opening?

On 2 Feb 1999, Victor Ducedre wrote:

> Quoting John Allan Nelson...
>
> [...]
> >PROC activateEasyGadget(gh:PTR TO guihandle,gad)
> >  DEF realgadget
> >  realgadget:=3Dfindgadget(gh,gad)
> >  ActivateGadget(realgadget, gh.wnd, NIL)
> >ENDPROC
>=20
>     Would this be an appropriate time and place to discuss all of our
> individual modifications to the EasyGUI source?  I know I've done a

I suppose, this is not a modification of the EasyGUI source.
And I think, that any modifications of the EasyGUI source should go to the
programmer (I never remember names, sorry) of the last revision.

Henk
- ----------------------------------------------------------------
Henk Jonas            |          subvcbhd@linux.zrz.tu-berlin.de
Student der           |
Energietechnik        |       http://www.cs.tu-berlin.de/~jonash

> Ich lehne Atomenergie als Energiealternative ab! niX=B3 Castor <
- ----------------------------------------------------------------
  * AmigaMetaFileFormat * MetaView * Messlabor * Voxelflight *
- ----------------------------------------------------------------
Fuer die 'Mitleser': ANARCHIEBNDAKWPKKRAFRADIKALTNTKPDPDSREVOLUT

@endnode

@node ID4_4 "EasyGUI - Active string on opening? (ID4_4)"
From: jason@fsel.com ("Jason Hulance")
Subject: RE: EasyGUI - Active string on opening?
Date: Tue, 2 Feb 1999 09:53:37 -0000

Henk Jonas quoted and wrote:

> >     Would this be an appropriate time and place to discuss all of our
> > individual modifications to the EasyGUI source?  I know I've done a
>
> I suppose, this is not a modification of the EasyGUI source.
> And I think, that any modifications of the EasyGUI source should go to
> the programmer (I never remember names, sorry) of the last revision.

Ali and Gregor have been campaigning to have some kind of organised
update to this and other E tools.  Wouter and I are both happy for this
to happen.  So, get your mods together and improve things...

The last thing I heard, Ali was developing a library version of
EasyGUI.  It seemed to be progressing well, although I didn't manage to
do much testing of the versions he sent me.  :-(

Cheers!

- --
Your numbers are 100, 4, 8, 1, 6 and 9.  The target is 413.
The conundrum for today is "yertmmoan"
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114

@endnode

@node ID4_5 "EasyGUI - Active string on opening? (ID4_5)"
Date: Wed, 03 Feb 1999 04:09:18 +1030
From: agraham@hal9000.net.au (Ali Graham)
Subject: Re: EasyGUI - Active string on opening?

Jason Hulance wrote:
>
> Henk Jonas quoted and wrote:
>
> > >     Would this be an appropriate time and place to discuss all of our
> > > individual modifications to the EasyGUI source?  I know I've done a
> >
> > I suppose, this is not a modification of the EasyGUI source.
> > And I think, that any modifications of the EasyGUI source should go to
> > the programmer (I never remember names, sorry) of the last revision.
>
> Ali and Gregor have been campaigning to have some kind of organised
> update to this and other E tools.  Wouter and I are both happy for this
> to happen.  So, get your mods together and improve things...
>
> The last thing I heard, Ali was developing a library version of
> EasyGUI.  It seemed to be progressing well, although I didn't manage to
> do much testing of the versions he sent me.  :-(

I'll happily accept modifications to be placed within the
easygui.library,
which has stalled slightly, but is pretty much a feature-complete
conversion of the easygui sources. (I'm another one of those people who
has been "asleep at the wheel" on this list recently - the last E
programming
I did is about a month ago now - urk!)

Also, if anyone wants to test it (warning - the differences to the
original,
e.g. hooks instead of pointers to PROCs, aren't documented anywhere,
really,
so you get to look in the source to see how things work :) write me and
I'll
send you the current archive... shouldn't take *too* long to convert
over
a moderate-sized program using EasyGUI, and it's a pretty mechanical
process...

ali.
@endnode

@node ID4_6 "EasyGUI - Active string on opening? (ID4_6)"
From: zokie@teseo.it (Francesco De Napoli)
Date: Tue, 02 Feb 1999 18:11:29 +0100
Subject: Re: EasyGUI - Active string on opening?

Hello Christopher

On 01-Feb-99, Christopher Perver wrote:

> I was wondering if it was possible to activate a string gadget in an

I'm interested too!

Regards
- --
 "When do you want to reboot today?"

@endnode



@node ID5_0 "Passing multiple variables with EG_INFO (ID5_0)"
Date: 02 Feb 99 03:34:51 -0500
From: victord@netrover.com ("Victor Ducedre")
Subject: Passing multiple variables with EG_INFO

Hi, all.

    I've been looking for the best way to use EasyGui's EG_INFO option
to pass multiple variables to the gadget functions, *as well as* the
guihandle for the gui.  My thinking so far (and correct me at the first
sign of trouble):

- -- (code fragments follow)

PROC main()
DEF gh:PTR TO guihandle, obj1:PTR TO obj, obj2:PTR TO obj

NEW obj1, obj2, etc...

gh:=guiinitA(NIL,[YADA,
                   [YADA, {yada},...]
                 ],[EG_INFO, [{gh}, obj1, obj2], TAG_DONE]
[...]
ENDPROC

PROC yada(info:PTR TO LONG, yada:PTR TO yada_object)
DEF gh:PTR TO guihandle, obj1:PTR TO obj, obj2:PTR TO obj
DEF tmp

tmp:=info[]
gh:=^tmp        -> Am I using this ^ thing properly?
obj1:=info[1]
obj2:=info[3]
[...]
ENDPROC

- --

    Is this a sensible way to go about this, and is it the best way?
I'm simply trying to cut down on the vast number of global variables in
the XPKatana source, so that sections can be more logically separated.

TIA,
- --
Victor Ducedre          (victord@netrover.com)          Team AMIGA
XPKatana v1.4 (RSN)
Yes it's only knock and knowall, but I like it.

@endnode

@node ID5_1 "Passing multiple variables with EG_INFO (ID5_1)"
Date: Tue, 2 Feb 1999 09:49:30 +0100 (MET)
From: subvcbhd@calvados.zrz.TU-Berlin.DE (Henk Jonas)
Subject: Re: Passing multiple variables with EG_INFO

On 2 Feb 1999, Victor Ducedre wrote:

> Hi, all.
>=20
>     I've been looking for the best way to use EasyGui's EG_INFO option
> to pass multiple variables to the gadget functions, *as well as* the
> guihandle for the gui.  My thinking so far (and correct me at the first
> sign of trouble):
>=20
> -- (code fragments follow)
>=20
> PROC main()
> DEF gh:PTR TO guihandle, obj1:PTR TO obj, obj2:PTR TO obj
>=20
> NEW obj1, obj2, etc...
>=20
> gh:=3DguiinitA(NIL,[YADA,
>                    [YADA, {yada},...]
>                  ],[EG_INFO, [{gh}, obj1, obj2], TAG_DONE]

Why not [gh,obj1,obj2], gh is a pointer to guihandle. So you make a list
of pointers and pass a pointer to this list to the functions as info.

> PROC yada(info:PTR TO LONG, yada:PTR TO yada_object)
> DEF gh:PTR TO guihandle, obj1:PTR TO obj, obj2:PTR TO obj
> DEF tmp
>=20

gh :=3D info[0]

> obj1:=3Dinfo[1]
> obj2:=3Dinfo[3]
> [...]
> ENDPROC

Henk
- ----------------------------------------------------------------
Henk Jonas            |          subvcbhd@linux.zrz.tu-berlin.de
Student der           |
Energietechnik        |       http://www.cs.tu-berlin.de/~jonash

> Ich lehne Atomenergie als Energiealternative ab! niX=B3 Castor <
- ----------------------------------------------------------------
  * AmigaMetaFileFormat * MetaView * Messlabor * Voxelflight *
- ----------------------------------------------------------------
Fuer die 'Mitleser': ANARCHIEBNDAKWPKKRAFRADIKALTNTKPDPDSREVOLUT

@endnode

@node ID5_2 "Passing multiple variables with EG_INFO (ID5_2)"
From: jason@fsel.com ("Jason Hulance")
Subject: RE: Passing multiple variables with EG_INFO
Date: Tue, 2 Feb 1999 09:53:29 -0000

Victor Ducedre wrote:

>     I've been looking for the best way to use EasyGui's EG_INFO option
> to pass multiple variables to the gadget functions, *as well as* the
> guihandle for the gui.  My thinking so far (and correct me at the first
> sign of trouble):

[Bit in main:]

> gh:=guiinitA(NIL,[YADA,
>                    [YADA, {yada},...]
>                  ],[EG_INFO, [{gh}, obj1, obj2], TAG_DONE]

[Bit that uses the info:]

> PROC yada(info:PTR TO LONG, yada:PTR TO yada_object)
> DEF gh:PTR TO guihandle, obj1:PTR TO obj, obj2:PTR TO obj
> DEF tmp
>
> tmp:=info[]
> gh:=^tmp        -> Am I using this ^ thing properly?
> obj1:=info[1]
> obj2:=info[3]
> [...]
> ENDPROC

This looks fine.  One small suggestion: you could wrap all the data up
as an object and pass that instead.  That way your "yada" function
would be able to use meaningful element names to access the data.

Oh, and your use of "{}" and "^" is spot on.  Of course, the trickiness
is there because you can't pass "gh" directly since it being assigned in
that statement, after the list has been created.  If you wanted to be a
little more up-front about what's going on you could do:

  DEF x:PTR TO LONG
  gh:=guiinitA(NIL,[YADA,
                   [YADA, {yada},...]
                 ],[EG_INFO, x:=[NIL, obj1, obj2], TAG_DONE]
  x[]:=gh

Or with a suitable OBJECT defined:

  DEF x:PTR TO myinfo
  gh:=guiinitA(NIL,[YADA,
                   [YADA, {yada},...]
                 ],[EG_INFO, x:=[NIL, obj1, obj2]:myinfo, TAG_DONE]
  x.gh:=gh

Cheers!

- --
Your numbers are 50, 9, 6, 9, 1 and 4.  The target is 631.
The conundrum for today is "clinainic"
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114

@endnode

@node ID5_3 "Passing multiple variables with EG_INFO (ID5_3)"
Date: 02 Feb 99 14:27:05 -0500
From: victord@netrover.com ("Victor Ducedre")
Subject: Re: Passing multiple variables with EG_INFO

Quoting Henk Jonas...

>On 2 Feb 1999, Victor Ducedre wrote:

[...]
>> gh:=guiinitA(NIL,[YADA,
>>                    [YADA, {yada},...]
>>                  ],[EG_INFO, [{gh}, obj1, obj2], TAG_DONE]

>Why not [gh,obj1,obj2], gh is a pointer to guihandle. So you make a list
>of pointers and pass a pointer to this list to the functions as info.

    I thought of that at first, but at the time the list is created,
gh hasn't been assigned a value yet, so element 0 would always be NIL.
(See Jason's reply.)

[...]

- --
Victor Ducedre          (victord@netrover.com)          Team AMIGA
XPKatana v1.4 (RSN)
Yes it's only knock and knowall, but I like it.

@endnode

@node ID5_4 "Passing multiple variables with EG_INFO (ID5_4)"
Date: 02 Feb 99 20:36:32 -0500
From: victord@netrover.com ("Victor Ducedre")
Subject: Re: Passing multiple variables with EG_INFO

Quoting Jason Hulance...

[...]
>This looks fine.  One small suggestion: you could wrap all the data up
>as an object and pass that instead.  That way your "yada" function
>would be able to use meaningful element names to access the data.

>Oh, and your use of "{}" and "^" is spot on.  Of course, the trickiness
>is there because you can't pass "gh" directly since it being assigned

    That's exactly why I did that.  At least I know my head's in the
right place now. :)

>in that statement, after the list has been created. If you wanted to be
>a little more up-front about what's going on you could do:

>  DEF x:PTR TO LONG
>  gh:=guiinitA(NIL,[YADA,
>                   [YADA, {yada},...]
>                 ],[EG_INFO, x:=[NIL, obj1, obj2], TAG_DONE]
>  x[]:=gh

>Or with a suitable OBJECT defined:

>  DEF x:PTR TO myinfo
>  gh:=guiinitA(NIL,[YADA,
>                   [YADA, {yada},...]
>                 ],[EG_INFO, x:=[NIL, obj1, obj2]:myinfo, TAG_DONE]
>  x.gh:=gh

    I had stopped thinking of an OBJECT when I hit the 'gh isn't
assigned yet' problem.  Your ways wouldn't have occurred to me, and the
code is much more clear.

Thanks again...
- --
Victor Ducedre          (victord@netrover.com)          Team AMIGA
XPKatana v1.4 (RSN)
Yes it's only knock and knowall, but I like it.

@endnode

@node ID5_5 "Passing multiple variables with EG_INFO (ID5_5)"
Date: Wed, 3 Feb 1999 08:26:49 +0100 (MET)
From: subvcbhd@calvados.zrz.TU-Berlin.DE (Henk Jonas)
Subject: Re: Passing multiple variables with EG_INFO

On 2 Feb 1999, Victor Ducedre wrote:

> Quoting Henk Jonas...
>=20
> >Why not [gh,obj1,obj2], gh is a pointer to guihandle. So you make a list
> >of pointers and pass a pointer to this list to the functions as info.
>=20
>     I thought of that at first, but at the time the list is created,
> gh hasn't been assigned a value yet, so element 0 would always be NIL.
> (See Jason's reply.)

Yep, I was wrong. I am sorry.

Henk
- ----------------------------------------------------------------
Henk Jonas            |          subvcbhd@linux.zrz.tu-berlin.de
Student der           |
Energietechnik        |       http://www.cs.tu-berlin.de/~jonash

> Ich lehne Atomenergie als Energiealternative ab! niX=B3 Castor <
- ----------------------------------------------------------------
  * AmigaMetaFileFormat * MetaView * Messlabor * Voxelflight *
- ----------------------------------------------------------------
Fuer die 'Mitleser': ANARCHIEBNDAKWPKKRAFRADIKALTNTKPDPDSREVOLUT

@endnode



@node ID6_0 "etc - Looking for contrib (ID6_0)"
Date: Tue, 02 Feb 1999 17:09:39 +0100
From: Fabio.Rotondo@deagostini.it (Fabio Rotondo)
Subject: etc - Looking for contrib

Hi List,

    Andrea Galimberti and I have started the development of 'etc' an E 2 C
metacompiler.
The project has started about a week ago, so, not very much has been
produced.
Anyway, it is going out pretty well. We are writing it in a fully OOP view
that should
allow us to implement/extend new features easily.

The 'etc' will be distributed with its source code and it will be a
Freeware product, even if
the (c)copyright of the source code will remain to the 'etc-group'.

We are looking for people who wants to help us on some special tasks such
as rewriting
the AmigaE List functions in C (as standard ANSI C functions). We already
have the
String() functions converted and we are going to have a "parser" of E
source code very soon.

I will put up a Web Page on my Web Site devoted to 'etc' so all of you will
be able to
download the source code and make your own comments/suggestions.

Looking for your feedback...

- --
Ciao,
      Fabio

      http://www.intercom.it/~fsoft

NOTE: ideas expressed in this mail are my own and may not reflect the ones
of the place where I work.

@endnode

@node ID6_1 "etc - Looking for contrib (ID6_1)"
Date: Wed, 03 Feb 1999 04:13:24 +1030
From: agraham@hal9000.net.au (Ali Graham)
Subject: Re: etc - Looking for contrib

Fabio Rotondo wrote:

> Hi List,

Hi! :)

> We are looking for people who wants to help us on some special tasks such
> as rewriting
> the AmigaE List functions in C (as standard ANSI C functions). We already
> have the
> String() functions converted and we are going to have a "parser" of E
> source code very soon.
>

I'm interested in contributing, but I'll be away from home for the next
two weeks :( Anyway, with that proviso, put me down as someone who can
help (although probably nothing too demanding, I'm a "competent" C
programmer, not a great one :)

ali.
@endnode

@node ID6_2 "etc - Looking for contrib (ID6_2)"
Date: Wed, 03 Feb 1999 10:39:30 +0100
From: ss37@irz301.inf.tu-dresden.de (Sven Steiniger)
Subject: Re: etc - Looking for contrib

Hi!

>     Andrea Galimberti and I have started the development of 'etc' an E 2 C
> metacompiler.

Inventing the wheel twice is always an good idea! There are
so much E coders left that we can throw away ressources without
care.
To be less sarcastic: Some weeks ago the FreE project has
started. The base for this is E2, an E to X compiler written
by Gregor Goldbach. Currently it *does* generate *only* C code.
It is written in E using OO-technics. Actual version parses
most E constructs, creates an syntax tree, does full semantic
checks and outputs C code. We hoped to release the source to
the members of the FreE project but this has delayed for various
reasons. Actually we hope that Fred Fish give us some space
in the cvs-repository otherwise it is nearly impossible that
more than two people are working on the sources.

> We are looking for people who wants to help us on some special tasks such
> as rewriting
> the AmigaE List functions in C (as standard ANSI C functions). We already
> have the

This would be an good contribution. Implementing the bunch of
E's builtin functions is not an easy job. Also the exception
handlers are somewhat difficult. This are two points E2
actually can't do.

> String() functions converted and we are going to have a "parser" of E
> source code very soon.

You may have a look at
        http://www.inf.tu-dresden.de/~ss37/E2/yyoutput
for what the parser understand. It's about two weeks old
and the OO-part is incomplete (the actual version handles
it and even generates C code).

Other members of the FreE project are working on other
parts, eq. the preprocessor.
So you are welcome to join the project!

Ciao.

- --
Sven Steiniger
(ss37@inf.tu-dresden.de - http://www.inf.tu-dresden.de/~ss37)

And always remember: Heaven is not a place, it's a feeling.
(..."Happiness is not a state; it's a process.", Ali Graham)
@endnode

@node ID6_3 "etc - Looking for contrib (ID6_3)"
Date: Tue, 02 Feb 1999 19:35:31 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: etc - Looking for contrib

Hi Fabio,

In what language will etc itself be 'originally' compiled... E or C?

Fabio Rotondo wrote:

> I will put up a Web Page on my Web Site devoted to 'etc' so all of you
will
> be able to
> download the source code and make your own comments/suggestions.
>
> Looking for your feedback...

- -Maxim
@endnode

@node ID6_4 "etc - Looking for contrib (ID6_4)"
Date: Wed, 03 Feb 1999 09:32:41 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: etc - Looking for contrib

Sven Steiniger wrote:
> in the cvs-repository otherwise it is nearly impossible that
> more than two people are working on the sources.

you could get a Free Web page on Geocities... you have more than 10 Megs of
space... and administration is password protected.

- -Maxim
@endnode

@node ID6_5 "etc - Looking for contrib (ID6_5)"
Date: Wed, 03 Feb 1999 16:08:48 +0100
From: Fabio.Rotondo@deagostini.it (Fabio Rotondo)
Subject: Re: etc - Looking for contrib

Maxim Olivier-Adlhoch wrote:

> Hi Fabio,
>
> In what language will etc itself be 'originally' compiled... E or C?

In E, naturally :-)

- --
Ciao,
      Fabio

      http://www.intercom.it/~fsoft

NOTE: ideas expressed in this mail are my own and may not reflect the ones
of the
place where I work.

@endnode

@node ID6_6 "etc - Looking for contrib (ID6_6)"
From: johnallanAE@nelson54.freeserve.co.uk
Date: Wed, 03 Feb 1999 21:32:40 +0000
Subject: Re: etc - Looking for contrib

> Sven Steiniger wrote:
[Bit he referencing]
> you could get a Free Web page on Geocities... you have more than 10 Megs
>of  space... and administration is password protected.
> -Maxim

GeoCities, hmm....  if I'm not mistaken keeps putting up irrtating sub
windows with ads in 'em.

How much space do you need? I've got 15Mb with freeserve (not fee :-) ), I'm
currently using about 200Kb and if write my ass off for a couple of years I
might use 5Mb.

I could enquire about setting up another account for the group or failing
that splitting my webspace 5/10Mb with a seperate password (I don't really
want to use mine because the password has to be same as the dial-up)

Its password protected ftp so no-one could ftp from it but normal web page
downloading ain't a problem for public releases. I'm new to the 'net so I'd
have to enquire with Freeserve about security.

If someone else handles the maintainence I'm willing to try and set the
account
up.  you get 15Mb of webspace + unlimited email accounts.
    page would be: www.<groupname>.freeserve.co.uk
                 email: <whatever>@<groupname>.freeserve.co.uk
               upload: uploads.webspace.freeserve.net   >user:
<groupname>.freeserve.co.uk

>password: <same as dialup>

JA

@endnode

@node ID6_7 "etc - Looking for contrib (ID6_7)"
Date: Thu, 4 Feb 1999 10:03:43 +0000 (BST)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: etc - Looking for contrib

On Wed, 3 Feb 1999, Maxim Olivier-Adlhoch wrote:

=>Sven Steiniger wrote:
=>> in the cvs-repository otherwise it is nearly impossible that
=>> more than two people are working on the sources.
=>
=>you could get a Free Web page on Geocities... you have more than 10 Megs
of space... and administration is password protected.

And let's not forget FreeNet (nether.net) which gives you 10MB space and a
UNIX
account, which doubles as web space... and there is not the annoying fixed
set
of file extensions and a flat directory as with GeoCities.

Stuart

@endnode

@node ID6_8 "etc - Looking for contrib (ID6_8)"
Date: Tue, 9 Feb 1999 13:28:57 +0100 (MET)
From: mfontana@komodo.ing.unico.it (mauro fontana)
Subject: Re: etc - Looking for contrib

> We are looking for people who wants to help us on some special tasks such
> as rewriting
> the AmigaE List functions in C (as standard ANSI C functions). We already
> have the
> String() functions converted and we are going to have a "parser" of E
> source code very soon.

I would like to help you, but I am a beginner at C++, so probably my help
would be a negative contribute. However I really like to test programs, so
I would like to be a beta-tester, even of the very first releases.

> I will put up a Web Page on my Web Site devoted to 'etc' so all of you
will
> be able to
> download the source code and make your own comments/suggestions.

I'll go immediately and have the source code (that I hope will compile
without problems).

M&F

@endnode



@node ID7_0 "EasyGUI activate gadget/My modifications (ID7_0)"
From: chris@planb.thegap.com (Christopher Perver)
Date: Tue, 02 Feb 1999 18:46:18 +0000
Subject: Re: EasyGUI activate gadget/My modifications

   Hello list,

Wow! :) Thanks John, and everyone else for the help. I think I should
really brush up on my EasyGUI programming :).

The only modifications I have made so far to EasyGUI is I have added
a setting to the LISTV to allow you to stop it from resizing
horizontally, and I have made EasyGUI allow you to use any key,
not just letters for the keypress for gadgets. This is handy for
using ESC/Enter to Ok/Cancel requesters.

If anyone is interested in these modifications, I can send you the
source, although it is probably a bit 'hacky' as I haven't really worked
out how the EasyGUI module works.

Thanks!
- --
Regards,
     Chris.

You tried to live the best you could, you tried to do the things you
should,
But when it came to serving God, you said I still have time to wait.
Now it's all turned around, time for Jesus now you've found,
How sad to think, you found the time, but one day too late.

@endnode



@node ID8_0 "mccheader.c to mccheader.m (ID8_0)"
From: solovok@usa.net (Konstantin Solovyov)
Date: Wed, 03 Feb 1999 17:01:52 +0300
Subject: mccheader.c to mccheader.m

Hi, All!

Can I write external MUI custom class in LIBRARY mode, for example
"something.mcc" ?
If yes, who can translate "mccheader.c" to "mccheader.m" ?

Good luck!
- --
With best regards,
Konstantin Solovyov (solovok@usa.net).

@endnode

@node ID8_1 "mccheader.c to mccheader.m (ID8_1)"
From: stv@minorisa.es ("Esteve Boix")
Date: Wed, 3 Feb 1999 17:08:25 +0100
Subject: Re: mccheader.c to mccheader.m

> Hi, All!

Hi

> Can I write external MUI custom class in LIBRARY mode, for example
> "something.mcc" ?
> If yes, who can translate "mccheader.c" to "mccheader.m" ?

Welcome to the wall I hit some time ago
There are 2 answers, yes and no.
Yes, you can create a library with the extension ".mcc". It's not hard,
and it really works. BUT (and here goes the NO), MUI just opens a new
instance of the library for every new instance of the class (every object
of the class you create) and as you know, EC libraries can only be
opened once per task.
So your MUI app will just crash if you create 2 instances of the
class.

I now use my classes in normal shared libs.

Regards,
Esteve

@endnode

@node ID8_2 "mccheader.c to mccheader.m (ID8_2)"
From: solovok@usa.net (Konstantin Solovyov)
Date: Thu, 04 Feb 1999 10:07:20 +0300
Subject: Re: mccheader.c to mccheader.m

Hello, Esteve !

3-Feb-99, You wrote: Re: mccheader.c to mccheader.m

... skipped

EB > I now use my classes in normal shared libs.

Did You create your #?.mcc in normal shared libs with E ?
If yes, how ? Can You send me some little example code,
or give me solution, when I can look it ?

P.S. Sorry for my bad English.

Good luck!
- --
With best regards,
Konstantin Solovyov (solovok@usa.net).

@endnode

@node ID8_3 "mccheader.c to mccheader.m (ID8_3)"
From: stv@minorisa.es ("Esteve Boix")
Date: Thu, 4 Feb 1999 09:27:29 +0100
Subject: Re: mccheader.c to mccheader.m

> Hello, Esteve !

Yo

> Did You create your #?.mcc in normal shared libs with E ?
> If yes, how ? Can You send me some little example code,
> or give me solution, when I can look it ?

Well... You just have to create a lib with one public function which
will accept a number (always 0) as a parameter, and will return a
pointer to the class.
You main() proc in the lib has to create the class, and close() have
to close it. Nothing else.

I'm afraid I don't have a trivial source to give to you...

Again, MUI will *crash* if you use the object more than one time.

Now I create my private mcc in C, and I store E classes in normal shared
libs.

Regards,
Esteve

@endnode

@node ID8_4 "mccheader.c to mccheader.m (ID8_4)"
From: solovok@usa.net (Konstantin Solovyov)
Date: Thu, 04 Feb 1999 13:06:12 +0300
Subject: Re: mccheader.c to mccheader.m

Hello, Esteve !

04-Feb-99, You wrote: Re: mccheader.c to mccheader.m

... skipped

EB > Now I create my private mcc in C, and I store E classes in normal
shared
EB > libs.

Thank you.

Good luck!
- --
With best regards,
Konstantin Solovyov (solovok@usa.net).

@endnode



@node ID9_0 "Multidimensional arrays in E (ID9_0)"
Date: Wed, 3 Feb 1999 15:13:26 +0100 (MET)
From: 32simon@but.auc.dk (Simon Kongshoj)
Subject: Multidimensional arrays in E

Multidimensional arrays are a useful thing to have around, and E doesn't
have any direct support for them. Since a multidim array would be rather
useful for a program I'm working on, I've tried to get by this somehow.

So I tried defining x as an OBJECT with only one element which was an
array. That works, but only up to a rather low upper limit. The code
fragment

OBJECT multidim
x[50] : ARRAY OF LONG
ENDOBJECT

DEF y[100] : ARRAY OF multidim

more or less shows the highest number of elements I could use in my
arrays.

Since I'm no accomplished E coder (I sent in my registration today :.) ),
I don't know if there is either a way of raising this upper limit, or
using another and smarter method altogether.

Does anyone on the list have any suggestions?

   // |    Simon Kongshoj    | Former Argentum Arts programmer
 \X/  |  Aalborg University  | my email: 32simon@but.auc.dk
AMiGA | Enhedslisten Aalborg | my webpage: www.but.auc.dk/~32simon
             Hiroshima '45, Chernobyl '85, Windows '95

@endnode

@node ID9_1 "Multidimensional arrays in E (ID9_1)"
Date: Wed, 3 Feb 1999 15:22:43 +0100 (MET)
From: subvcbhd@calvados.zrz.TU-Berlin.DE (Henk Jonas)
Subject: Re: Multidimensional arrays in E

On Wed, 3 Feb 1999, Simon Kongshoj wrote:

> I don't know if there is either a way of raising this upper limit, or
> using another and smarter method altogether.=20
The way, how I use multidimensional arrays, is the follow one:

DEF my_array: PTR TO array_member (CHAR,INT,LONG or what ever)

IF my_array:=3DAllocVec(array_width*array_height*(SIZEOF
                      array_member),MEMF_CLEAR)

  -> now use the array

  my_array[row*array_width+column] :=3D xxxxxx

  -> free the array after use

  FreeVec(my_array)

ENDIF

Maybe, there are better ways, but it works fine for me.

Henk
- ----------------------------------------------------------------
Henk Jonas            |          subvcbhd@linux.zrz.tu-berlin.de
Student der           |
Energietechnik        |       http://www.cs.tu-berlin.de/~jonash

> Ich lehne Atomenergie als Energiealternative ab! niX=B3 Castor <
- ----------------------------------------------------------------
  * AmigaMetaFileFormat * MetaView * Messlabor * Voxelflight *
- ----------------------------------------------------------------
Fuer die 'Mitleser': ANARCHIEBNDAKWPKKRAFRADIKALTNTKPDPDSREVOLUT

@endnode

@node ID9_2 "Multidimensional arrays in E (ID9_2)"
Date: Wed, 03 Feb 1999 15:54:43 +0100
From: Fabio.Rotondo@deagostini.it (Fabio Rotondo)
Subject: Re: Multidimensional arrays in E

Simon Kongshoj wrote:

> Multidimensional arrays are a useful thing to have around, and E doesn't
> have any direct support for them. Since a multidim array would be rather
> useful for a program I'm working on, I've tried to get by this somehow.

I do have a class (originnaly made for AFC) not yet released about
multi-dim-arrays.
If you are interested, I could send it to you (source included) until the
AFC-like class
will be avaible to the public.

- --
Ciao,
      Fabio

      http://www.intercom.it/~fsoft

NOTE: ideas expressed in this mail are my own and may not reflect the ones
of
the place where I work.

@endnode

@node ID9_3 "Multidimensional arrays in E (ID9_3)"
From: jason@fsel.com ("Jason Hulance")
Subject: RE: Multidimensional arrays in E
Date: Thu, 4 Feb 1999 08:01:46 -0000

Simon Kongshoj wrote:

> So I tried defining x as an OBJECT with only one element which was an
> array. That works, but only up to a rather low upper limit. The code
> fragment
>
> OBJECT multidim
> x[50] : ARRAY OF LONG
> ENDOBJECT
>
> DEF y[100] : ARRAY OF multidim
>
> more or less shows the highest number of elements I could use in my
> arrays.

You don't want to be allocating big objects (like huge arrays) on
the stack like this.  As you've noticed, you might run into limits
that the compiler [reasonably] has...  Anyway, you want to allocate
them dynamically.  If the DEF above is in a PROC, try this:

  PROC xxx()
    DEF y:PTR TO multidim
    NEW y[100]
    ...
    END y[100]
  ENDPROC

That's the nicest thing (remember about handling the exception...).
Or, if you don't like having to handle the exception that NEW might
raise, you can conditionalise using, say, New():

  PROC xxx()
    DEF y:PTR TO multidim
    IF y:=New(100*SIZEOF multidim)
      ...
      FastDispose(y)
    ELSE
      ...
    ENDIF
  ENDPROC

Cheers!

- --
Your numbers are 50, 5, 4, 5, 7 and 5.  The target is 658.
The conundrum for today is "giiatsvle"
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114

@endnode

@node ID9_4 "Multidimensional arrays in E (ID9_4)"
From: carl.drougge@2.sbbs.se (Carl Drougge)
Date: Fri, 05 Feb 1999 20:04:46 +0100
Subject: Re: Multidimensional arrays in E

Den 04-Feb-99 skrev Jason Hulance:

>    IF y:=New(100*SIZEOF multidim)
>      ...
>      FastDispose(y)
>    ELSE
>      ...
>    ENDIF

Ouch. FastDispose() only on memory from FastNew()!
Dispose(y) is what you mean.

@endnode

@node ID9_5 "Multidimensional arrays in E (ID9_5)"
From: jason@fsel.com ("Jason Hulance")
Subject: RE: Multidimensional arrays in E
Date: Mon, 8 Feb 1999 09:56:56 -0000

Carl Drougge quoted and wrote:

> >    IF y:=New(100*SIZEOF multidim)
> >      ...
> >      FastDispose(y)
> >    ELSE
> >      ...
> >    ENDIF
>
> Ouch. FastDispose() only on memory from FastNew()!
> Dispose(y) is what you mean.

Yeah, oops.  But luckily it wouldn't compile!  (FastDispose takes two
args.)

Cheers!

- --
Your numbers are 10, 2, 10, 1, 4 and 9.  The target is 602.
The conundrum for today is "otbwkcahr"
======================================================================
Jason R. Hulance                           Email: jason@fsel.com
Formal Systems (Europe) Ltd                  Tel: [+44] (0)1865 728460
Keble Court, 26 Temple St, Oxford OX4 1JS    Fax: [+44] (0)1865 201114

@endnode



@node ID10_0 "Documentation about amiga programming (ID10_0)"
From: f.stehly@evc.net ("=?ISO-8859-1?Q?Stehly_Fran=E7ois?=")
Subject: Documentation about amiga programming
Date: Thu, 4 Feb 1999 21:21:14 +0100

hello everybody,

I have programmed on BB2 for 1 year when I decided to learn E. After many
hours studying the E manual and the nice beginner guide, I realized that I
wasn't able to do anything, because I haven't any documentation about Amiga
generally programming, especially on the amiga OS library. I know that they
are the RKRM but I don't know where I could found them. So I looked for CD
developper 1.2 but my locale storedisk said me that it was no longer
available. Can someone help me ?

                                                Laurent Stehly
@endnode

@node ID10_1 "Documentation about amiga programming (ID10_1)"
From: qxyka@freemail.c3.hu (QXY)
Date: Fri, 05 Feb 1999 00:18:09 +0100
Subject: Re: Documentation about amiga programming

Re Stehly!

On 04-feb-99, Stehly Fran=E7ois wrote:

> wasn't able to do anything, because I haven't any documentation about A=
miga
> generally programming, especially on the amiga OS library. I know that =
they
> are the RKRM but I don't know where I could found them. So I looked for=
 CD
> developper 1.2 but my locale storedisk said me that it was no longer
> available. Can someone help me ?

I have 3 archive from CatsCD (about 10Mb!), these contains RKRM, NDK, and=
 =

CD32 docs, includes, example programs, etc...

Try to find me on IRC channel #amigahu with nick [QXY] !!! ;)

By!
- -- =

   ____ __   __
  /  / \/  \_/    *Amiga 1200 + B1240 T-ERC + 16+2 MB*
 /_\/ _/\___/     *850 MB HDD + Philips 24x + 33.6Kbps*
 _____________________________________________________
 /Email:/ #qxyka@freemail.c3.hu#    /Phone:/ #+36-32/456-170#

@endnode

@node ID10_2 "Documentation about amiga programming (ID10_2)"
Date: Wed, 10 Feb 1999 09:27:08 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: Documentation about amiga programming

QXY wrote:

> I have 3 archive from CatsCD (about 10Mb!), these contains RKRM, NDK, and
> CD32 docs, includes, example programs, etc...

Can you send this to me via private e-mail !?

- -Maxim

max2@ordigraphe.com
@endnode



@node ID11_0 "'Could not read module correctly' (ID11_0)"
From: cb.price@ukonline.co.uk (Phil Price)
Date: Fri, 05 Feb 1999 15:57:42 +0000
Subject: 'Could not read module correctly'

Hello,

I have come across a most odd problem, as i am experimenting
with clipboard useage in amiga-e, i complied the clipboard.e
demo in '/src/Rkrm/Clipboard/' , then i put a little test into
my program, and they complied fine, then i started working
a little mor on my source, then i tryed to compile it, and
got this error,

lexical analysing ...
ERROR: could not read module correctly
LINE 9: MODULE '*cbio',

I find it really odd because tboth programs complied fine yesterday,
then i was just about to say what's wrong to you lot, then thought
i'd give it another try and hey presto ! (with out doing anyhting)
it complied fine.... Is there any reason for this, as it seems
very odd.....

Yours
- --
+-------------------- A M I G A - C E N T R A L --------------------+
|                  [- The Online Amiga Magazine -]                  |
| Phil Price                                         icq : 21418142 |
| Editor / Webmaster                           Supporting the Amiga |
| phil@amigacentral.com                 http://www.amigacentral.com |
|                                                                   |
+-------------------------------------------------------------------+

@endnode

@node ID11_1 "'Could not read module correctly' (ID11_1)"
From: carl.drougge@2.sbbs.se (Carl Drougge)
Date: Fri, 05 Feb 1999 20:53:56 +0100
Subject: Re: 'Could not read module correctly'

Den 05-Feb-99 skrev Phil Price:

> Hello,
>
> I have come across a most odd problem, as i am experimenting
> with clipboard useage in amiga-e, i complied the clipboard.e
> demo in '/src/Rkrm/Clipboard/' , then i put a little test into
> my program, and they complied fine, then i started working
> a little mor on my source, then i tryed to compile it, and
> got this error,
>
> lexical analysing ...
> ERROR: could not read module correctly
> LINE 9: MODULE '*cbio',
>
> I find it really odd because tboth programs complied fine yesterday,
> then i was just about to say what's wrong to you lot, then thought
> i'd give it another try and hey presto ! (with out doing anyhting)
> it complied fine.... Is there any reason for this, as it seems
> very odd.....

Similar things have happened to me sometimes. I've usually found it to be
the modulecache that got trashed, probably by some badly behaved program.
(Perhaps the one I was working on =)

FlushCache allways solves it anyway.

@endnode

@node ID11_2 "'Could not read module correctly' (ID11_2)"
From: bluebear@swipnet.se ("Leif Salomonsson")
Date: 5 Feb 99 23:33:25 +0500
Subject: Re: 'Could not read module correctly'

> lexical analysing ...
> ERROR: could not read module correctly
> LINE 9: MODULE '*cbio',

is the cbio module in the same directory as your program ?
the '*' means it is...

/Leif
@endnode



@node ID12_0 "UNSUBSCRIBE (ID12_0)"
From: andy@medway.abel.co.uk (Andrew Holt)
Date: Fri, 05 Feb 1999 19:02:50 +0000
Subject: UNSUBSCRIBE

@endnode



@node ID13_0 "PC Zip Drives (ID13_0)"
Date: Fri, 05 Feb 1999 14:06:14 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: PC Zip Drives

Hi All,

This is off topic but I have no idea where to go and most of you on this
list are technically
savy of our beloved AmigaOS...

Can anyone tell me how I can use a MS-DOS/FAT formatted zip disk on my Amiga
installed SCSI zip
drive?

I have to transport files which do not fit on a floppy and I'm sure there is
a way to do this.

Does anyone know if there is a Dos Driver, Device or Setup which will allow
me to use PC
formatted disks...

If not, where can I find information on how to code myself such a device.

Thanks

- -Maxim
@endnode

@node ID13_1 "PC Zip Drives (ID13_1)"
Date: Sat, 6 Feb 1999 15:48:12 +0100 (MET)
From: subvcbhd@calvados.zrz.TU-Berlin.DE (Henk Jonas)
Subject: Re: PC Zip Drives

On Fri, 5 Feb 1999, Maxim Olivier-Adlhoch wrote:

> Hi All,
Hi Maxim,

> Can anyone tell me how I can use a MS-DOS/FAT formatted zip disk on my
> Amiga installed SCSI zip drive?=20
Why you don't ask in comp.sys.amiga.misc?

> If not, where can I find information on how to code myself such a device.
It exists some solutions, I am sure, but I don't have a zip drive, that's
why I don't know more about it.

Henk
- ----------------------------------------------------------------
Henk Jonas            |          subvcbhd@linux.zrz.tu-berlin.de
Student der           |
Energietechnik        |       http://www.cs.tu-berlin.de/~jonash

> Ich lehne Atomenergie als Energiealternative ab! niX=B3 Castor <
- ----------------------------------------------------------------
  * AmigaMetaFileFormat * MetaView * Messlabor * Voxelflight *
- ----------------------------------------------------------------
Fuer die 'Mitleser': ANARCHIEBNDAKWPKKRAFRADIKALTNTKPDPDSREVOLUT

@endnode

@node ID13_2 "PC Zip Drives (ID13_2)"
From: fferric@tin.it (Fabio Ferriccioli)
Date: Sun, 07 Feb 1999 00:02:26 +0100
Subject: Re: PC Zip Drives

Il 05-Feb-99, Maxim Olivier-Adlhoch scrisse:

>Hi All,

>Can anyone tell me how I can use a MS-DOS/FAT formatted zip disk on my
Amiga
>installed SCSI zip
>drive?

Hi Maxim,
If you're using MUI on your Amiga, then you can try 'ZJTools' by Oliver
Hitz.
Otherwise, have a look at 'Z100' by Thomas Omilian.

You can find these programs on Aminet:
disk/misc/ZJTool12.lha
disk/misc/Z100.lha

If you don't like them, just trying to search on Aminet for 'Zip', 'Iomega'
etc., there are a lot of programs for Iomega Zip Drive.

>I have to transport files which do not fit on a floppy and I'm sure there
is
a
>way to do this.

I use ZJTools with my SCSI Zip drive, and it works well.
Sometimes, I use MS-DOS formatted Zip disk to exchange files from my A1200
and
a PowerMac, via CrossDos, of course.

>Does anyone know if there is a Dos Driver, Device or Setup which will allow
me
>to use PC
>formatted disks...

You could try disk/misc/NewZipMount.lha

In any case, you shouldn't use a PC for a long time....it's dangerous :-)

- --
Ciao,

  Fabio.

@endnode



@node ID14_0 "EC bug? (Read WITHOUT TextStyles!!!) (ID14_0)"
From: qxyka@freemail.c3.hu (QXY)
Date: Sat, 06 Feb 1999 19:30:03 +0100
Subject: EC bug? (Read WITHOUT TextStyles!!!)

Hi ALL!

My brother found a very very big bug! :)

See the following example source:

- -----------------------------------
CONST   QQQ=100

PROC main()
    bug()
ENDPROC

PROC bug()
DEF valami:REG, tsekk -> valami EQU D7 !!!

  valami:=200 -> D7=200
  MOVE.L  #QQQ,D0 D0=100
  MOVE.L  D0,tsekk
  WriteF('d7=\d QQQ=\d d0=\d\n',valami,QQQ,tsekk)

  -> Look this!
  SUB.B   D0,valami -> SUB.B D0,D7 (200-100=200 !!!!!!!!!!!!!!!!!!!!!!!)
  WriteF('sub.b d0,d7 -> \d (What???)\n',valami)

  -> It's the correct:
  SUB.B   #QQQ,valami -> SUB.B #100,D7 (200-100=100 :)
  WriteF('sub.b #100,d7 -> \d\n',valami)
ENDPROC
- ---------------------------------------------------------

Compile and run! We testing it with EC V3.2i...

Any idea??? :)))

By!
- --
   ____ __   __
  /  / \/  \_/    *Amiga 1200 + B1240 T-ERC + 16+2 MB*
 /_\/ _/\___/     *850 MB HDD + Philips 24x + 33.6Kbps*
 _____________________________________________________
 /Email:/ #qxyka@freemail.c3.hu#    /Phone:/ #+36-32/456-170#

@endnode

@node ID14_1 "EC bug? (Read WITHOUT TextStyles!!!) (ID14_1)"
From: frank@cc86.org (Frank Weber)
Date: Sat, 06 Feb 1999 20:03:29 +0200
Subject: Re: EC bug? (Read WITHOUT TextStyles!!!)

Hello QXY,

On 06-Feb-99, you wrote:

> My brother found a very very big bug! :)

I think you rather didn't... :-)

> Any idea??? :)))

Yes, look at the example.

The problem is that calling WriteF may trash some registers. If you make
a backup copy of the registers on the stack before and after, everything
works fine.

- ----------------------------

CONST   QQQ=100

PROC main()
    bug()
ENDPROC

PROC bug()
DEF valami:REG, tsekk -> valami EQU D7 !!!

  valami:=200 -> D7=200
  MOVE.L  #QQQ,D0 -> D0=100
  MOVE.L  D0,tsekk

  MOVEM.L A0-A6/D0-D7,-(A7)    -> Backup registers
  WriteF('d7=\d QQQ=\d d0=\d\n',valami,QQQ,tsekk)
  MOVEM.L (A7)+, A0-A6/D0-D7    -> And restore again

  -> Look this!
  SUB.B   D0,valami -> SUB.B D0,D7 (200-100=200 !!!!!!!!!!!!!!!!!!!!!!!)
  MOVEM.L A0-A6/D0-D7,-(A7)
  WriteF('sub.b d0,d7 -> \d (What???)\n',valami)
  MOVEM.L (A7)+, A0-A6/D0-D7

  -> It's the correct:
  SUB.B   #QQQ,valami -> SUB.B #100,D7 (200-100=100 :)
  MOVEM.L A0-A6/D0-D7,-(A7)
  WriteF('sub.b #100,d7 -> \d\n',valami)
  MOVEM.L (A7)+, A0-A6/D0-D7
ENDPROC

- -------------------------------

Bye

Frank
- --
Frank Weber          E-Mail: frank@cc86.org
74076 Heilbronn
PGP key available on request

Amiga Shareware:   · CDCat    · AFiloFaxPro    · AmigaTrainer    · Cheater

CDCat Support site: http://www.amigaworld.com/support/cdcat
CDCat Release 3 (v3.0) available *soon*

@endnode



@node ID15_0 "EC bug? (ID15_0)"
From: M.Tjoelker@nl.cis.philips.com (Menno Tjoelker)
Subject: Re[2]: EC bug?
Date: Sat, 6 Feb 99 22:27:48 -0100

Frank Weber wrote about Re: EC bug? (Read WITHOUT TextStyles!!!):

> Hello QXY,
>
> On 06-Feb-99, you wrote:
>
> > My brother found a very very big bug! :)
>
> I think you rather didn't... :-)
>
> > Any idea??? :)))
>
> Yes, look at the example.
>
> The problem is that calling WriteF may trash some registers. If you make
> a backup copy of the registers on the stack before and after, everything
> works fine.

The AmigaOS rule is that a function call may trash D0-D1/A0-A1. E code may
additionally trash D2 (third return value) and maybe some more, but surely
not D3-D7/A4-A5/A7. In this example it is of course only necessary to save
D0.

Jilles Tjoelker

- --
- ---
Jilles Tjoelker     |
Craterlaan 6        |   Tel. : +31.40.2427420
5632 AG Eindhoven   |   Fax  : +31.40.2427420 (on request)
The Netherlands     |

*** Author of Iris (mailer), Activity (activity meter),    ***
*** Select_Host (NapsaTerm frontend), Solitaire (WB game), ***
*** Metronome (tool for musicians), etc.                   ***
@endnode

@node ID15_1 "EC bug? (ID15_1)"
From: qxyka@freemail.c3.hu (QXY)
Date: Sat, 06 Feb 1999 23:05:22 +0100
Subject: Re: EC bug?

Re!

Thanks for your replies!!! :)

By!
- --
 - QXY -

@endnode



@node ID16_0 "DBuff Screen & Pointer (ID16_0)"
From: qxyka@freemail.c3.hu (QXY)
Date: Sun, 07 Feb 1999 13:37:53 +0100
Subject: DBuff Screen & Pointer

Hi!

I want to hide the pointer on my double buffered screen.
I must not open window (without pointer) on this screen, because the
buffer swapping could not works!

How can I hide the pointer???

Thx...

By!
- --
   ____ __   __
  /  / \/  \_/    *Amiga 1200 + B1240 T-ERC + 16+2 MB*
 /_\/ _/\___/     *850 MB HDD + Philips 24x + 33.6Kbps*
 _____________________________________________________
 /Email:/ #qxyka@freemail.c3.hu#    /Phone:/ #+36-32/456-170#

@endnode



@node ID17_0 "Test (ID17_0)"
Date: Tue, 9 Feb 1999 13:18:58 +0100 (MET)
From: mfontana@komodo.ing.unico.it (mauro fontana)
Subject: Test

Is the list working?

M&F

@endnode



@node ID18_0 "WinUAE! (ID18_0)"
Date: Tue, 09 Feb 1999 09:11:50 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: WinUAE!

Hi All,

Have any of you been succesful in using ec and running the code from it on a
WinUAE 'virtual' machine?

- -Maxim
@endnode

@node ID18_1 "WinUAE! (ID18_1)"
From: stv@minorisa.es ("Esteve Boix")
Date: Tue, 9 Feb 1999 15:55:40 +0100
Subject: Re: WinUAE!

> Hi All,

Yo

> Have any of you been succesful in using ec and running the code from it on
> a WinUAE 'virtual' machine?

I usually try my programs under WinUAE to see how they work on a
"low-end" machine. No problem.

As for EC itself... I think I haven't tried it.

Regards,
Esteve

@endnode

@node ID18_2 "WinUAE! (ID18_2)"
Date: Tue, 09 Feb 1999 10:56:03 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: WinUAE!

Esteve Boix wrote:
>
> > Hi All,
>
> Yo
>
> > Have any of you been succesful in using ec and running the code from it
on
> > a WinUAE 'virtual' machine?
>
> I usually try my programs under WinUAE to see how they work on a
> "low-end" machine. No problem.
>

Its funny to consider a 'low-end' machine, something which computes about 10
times faster and has better gfx speed and resolution than a normal 1230
Amiga ;)

Thank Esteve,

- -Maxim
@endnode

@node ID18_3 "WinUAE! (ID18_3)"
From: stv@minorisa.es ("Esteve Boix")
Date: Tue, 9 Feb 1999 17:17:06 +0100
Subject: Re: WinUAE!

Yo

> Its funny to consider a 'low-end' machine, something which computes about
> 10 times faster and has better gfx speed and resolution than a normal 1230
> Amiga ;)

Hehe... Well... Compared to my Amy, it's a low end machine :)
On my PII@233, WinUAE runs at 020@14Mhz speeds, more or less. As for GFX,
yes, using p96 easily outperforms an A1200 :)

Regards,
Esteve

@endnode

@node ID18_4 "WinUAE! (ID18_4)"
Date: Tue, 09 Feb 1999 22:44:31 +0100
From: Peter.Karlsson@swipnet.se (Peter Karlsson)
Subject: Re: WinUAE!

Maxim Olivier-Adlhoch wrote:

> Hi All,
>
> Have any of you been succesful in using ec and running the code from
> it on a WinUAE 'virtual' machine?

Yes, I've moved most of my Amiga system over to my PC, including the
"E coding environment", and I've succesfully compiled some of my old
E sources.

I'm currently running WinUAE 0.8.6, Release 6, and all seems well.
Well...it takes some time to get used to that d*mned PC... :-)

> -Maxim

Kind regards,
Peter Karlsson
@endnode

@node ID18_5 "WinUAE! (ID18_5)"
Date: Wed, 10 Feb 1999 09:37:17 +0100
From: Rainer.M.Mueller@uni-konstanz.de (Rainer =?iso-8859-1?Q?M=FCller?=)
Subject: Re: WinUAE!

Hello,=20

>> Its funny to consider a 'low-end' machine, something which computes about
>> 10 times faster and has better gfx speed and resolution than a normal=
 1230
>> Amiga ;)
>
>Hehe... Well... Compared to my Amy, it's a low end machine :)
>On my PII@233, WinUAE runs at 020@14Mhz speeds, more or less. As for GFX,
>yes, using p96 easily outperforms an A1200 :)

What ? On my P166 WinUAE is much faster than a naked A1200, but as much
slower as my A1200 030-50. GFX speed is because of using P96 in high
resolutions with many colours much higher than my Amiga. But afterall the
"effective usable speed" is on my real Amiga higher than on the emulated.

Back to the topic:
EC compiles well under WinUAE and the compiled programs work perfect !

Bye,
  =20
   Rainer

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
      //  Rainer M=FCller  A1200-030-50MHz 16MB/850MB
     //                  Pentium  166MHz 32MB/2.1GB
    //    have a look at: Aminet:mus/edit/SampleE
\\ //
 \X/  AMIGA for ever !

@endnode

@node ID18_6 "WinUAE! (ID18_6)"
Date: Wed, 10 Feb 1999 09:23:42 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: WinUAE!

Peter Karlsson wrote:

> I'm currently running WinUAE 0.8.6, Release 6, and all seems well.
> Well...it takes some time to get used to that d*mned PC... :-)

Has anyone attemptd to use the network cards on your PC (are there any PCs
without Net Cards anymore!?) via the virtual AmigaOS, or is it possible?

And which programming interface (device driver) is supported for application
programming under WinUAE.

I ask because I intend to put shared display for ROCK... in time.

Both stations (a client and a slave) would be able to work the same project
simultaneously and benefit from a dual-head display !? as well as the
crash-proofing such a config offers to the server station... because any
tests are actually run on the client.

Does WinUAE instal on NT?

- -Maxim
@endnode

@node ID18_7 "WinUAE! (ID18_7)"
From: carl.drougge@2.sbbs.se (Carl Drougge)
Date: Wed, 10 Feb 1999 22:20:46 +0100
Subject: Re: WinUAE!

Den 10-Feb-99 skrev Maxim Olivier-Adlhoch:

> Peter Karlsson wrote:
>
>> I'm currently running WinUAE 0.8.6, Release 6, and all seems well.
>> Well...it takes some time to get used to that d*mned PC... :-)
>
> Has anyone attemptd to use the network cards on your PC (are there any PCs
> without Net Cards anymore!?) via the virtual AmigaOS, or is it possible?

I haven't tested it myself (I don't even own a wintel machine), but I have
telneted to a BBS run under UAE, probably under windows, possibly under
un*x. This was through a netcard anyway, so it should work. I could ask the
Sysop there about details, but that will probably take a while..

Look in the docs and experiment a bit, that's probably what he did. =)

@endnode

@node ID18_8 "WinUAE! (ID18_8)"
Date: Fri, 12 Feb 1999 10:41:55 +0100
From: Rainer.M.Mueller@uni-konstanz.de (Rainer =?iso-8859-1?Q?M=FCller?=)
Subject: Re: WinUAE!

Hi,

>Does WinUAE instal on NT?

Yes, it works fine under NT 4.0

Rainer

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
      //  Rainer M=FCller  A1200-030-50MHz 16MB/850MB
     //                  Pentium  166MHz 32MB/2.1GB
    //    have a look at: Aminet:mus/edit/SampleE
\\ //
 \X/  AMIGA for ever !

@endnode



@node ID19_0 "New member on list (ID19_0)"
Date: Wed, 10 Feb 99 11:03:51 EST
From: CHEILA@saintolaves.demon.co.uk ("Heiland-Allen,Claude")
Subject: New member on list

Hi there.

I finally managed to join the list (my info was way out of
date).

Just for the record, I use E quite a lot on my A500+ 40MB HD
4MB RAM, mainly for small utilities.  My latest masterpiece
;] is a small program that plays the Countdown numbers game,
making fairly heavy use of recursion and list unification.

A few things I would like to know are:

Has EasyGUI been made into a runtime .library, because all
my GUI programs end up being very big?

How do you find out (at the lowest level, hardware registers
even) whether a key is pressed?

The porting of E functions to C++ sounds very exciting, but
unfortunately I don't have enough time to get involved.  I
am trying to get GCC set up on my computer, but my net access
(at school) is pretty slow.

Not much else to say at the moment, so see ya.

Claude Heiland-Allen

Studying A-Levels in maths, further maths, physics, german
and AS computing.

@endnode

@node ID19_1 "New member on list (ID19_1)"
Date: Wed, 10 Feb 1999 12:46:07 +0000 (BST)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: New member on list

On Wed, 10 Feb 1999, Heiland-Allen,Claude wrote:

=>How do you find out (at the lowest level, hardware registers
=>even) whether a key is pressed?

I wouldn't ask that if I were you :)

        lea     _ciaa,a1
        move.b  #CIAICRF_SETCLR|CIAICRF_SP,ciaicr(a1)
        tst.b   ciaicr(a1)
        and.b   #~CIACRAF_SPMODE,ciacra(a1)

The CIA chip will now send a PORTS interrupt when a key has been recieved
from
the keyboard. Your interrupt should read it and handshake.

A much more useful way to be notified when a key is pressed, is to open a
window with the IDCMP_VANILLAKEY + IDCMP_RAWKEY. Now, when a normal key is
pressed you will be sent a VANILLAKEY message, and when a special or control
key is pressed, you will get a RAWKEY message. (The technics of window
message
handling are ofcourse in the Beginner's Guide and Src/Guide/idcmp.e in the E
distribution.)

Secondly, you can invisibly detect all keys pressed by creating a commodity,
and install a filter, using a description of the keys to intercept. The
filter
can be made to send you the key as an inputevent. See for example my NetKeys
commodity on Aminet:comm/net/NetKeys.lha

If you're using DOS IO and the console, you can test for keypresses and
timeout with the WaitForChar() call. To get the raw keys, you have to switch
from cooked to raw mode with the SetMode() call.

Stuart

@endnode

@node ID19_2 "New member on list (ID19_2)"
Date: Tue, 16 Feb 1999 17:14:03 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: New member on list

This is a message On Behalf of Ali Graham:

> Subject: Re: New member on list
> To: amigae-list@intercom.it
> Date: Thu, 11 Feb 99 11:42:41 CST
> In-Reply-To: <9902101103.AA51511552@saintolaves.demon.co.uk> from
"Heiland-Allen,Claude"
at Feb 10, 99 11:03:51 am

 > Has EasyGUI been made into a runtime .library, because all
 > my GUI programs end up being very big?

 I've been working on this, and it's almost ready for prime
 time (but lacks documentation and testing, and only has a few
 example sources).

 Unfortunately I'm away from home for the next couple of weeks
 (looking for work in Sydney :), so I'm unable to send the
 archive to you.

- -Ali

- -------------------
Addendum:
...from Maxim Olivier-Adlhoch...
I CAN send it to you (via mail) if you want it... :)  JUST ASK...

- -Maxim
@endnode



@node ID20_0 "gettin palette (ID20_0)"
From: flo@sci.fi (Juha-Matti Sironen)
Date: Wed, 10 Feb 1999 20:44:47 +0200
Subject: gettin palette

Hi,

I'm having some problems to read palette from a picture, I have read the
documentation but stll can't get it to work. Here is the code:

- --

MODULE 'intuition/intuition', 'graphics/view', 'intuition/screens','tools=
/ilbm','tools/ilbmdefs'

PROC main()
  DEF omaruutu:PTR TO screen, x, y, p1, p2, p3, p4, p5, ilbm, vari, bitma=
ppi, picinf,
      palli, luuppi, varitus

  omaruutu:=3DOpenS(320,256,8,0,'screeni')

    IF omaruutu

    ilbm:=3Dilbm_New('test.iff',ILBMF_COLOURS32,0)
    ilbm_LoadPicture(ilbm,[ILBML_GETBITMAP,{bitmappi},0])

     picinf:=3Dilbm_PictureInfo(ilbm)
     varitus:=3Dpicinf.pal32

     LoadRGB32(omaruutu.viewport,varitus)

     BltBitMapRastPort(bitmappi,0,0,omaruutu.rastport,0,0,319,255,$c0)

     ilbm_Dispose(ilbm)

    REPEAT
    UNTIL Mouse()=3D1

   ELSE
     WriteF('Could not open screen \n')
   ENDIF

  CloseS(omaruutu)

ENDPROC

- --

So, could someone help me and fix this code that it works.

Thanks.

- -- =

Juha-Matti Sironen   [email.me.to:flo@sci.fi]

@endnode



@node ID21_0 "I'm going away ! (ID21_0)"
From: cb.price@ukonline.co.uk (Phil Price)
Date: Thu, 11 Feb 1999 17:52:55 +0000
Subject: I'm going away !

To Whom this may concern,

First of all, i'm sorry for posting this to list's but
it's one of the best way's to reach everyone i know,
anyway.. I'm going on a lovly holiday to Italy, were
i'm going skiing for a week. So of cource i won't be
able to work on any of the projects i'm involved in,
or awnser any of your mails (but send them any way,
i'll reply to them when i get back). The dates
are Friday the 12th of Feb till Sunday the 21st Feb..

Anyway hope you all have a great time whilst i'm in
italy :)

P.S. If you here any one asking were I am plase tell them.

Yours
- --
+-------------------- A M I G A - C E N T R A L --------------------+
|                  [- The Online Amiga Magazine -]                  |
| Phil Price                                         icq : 21418142 |
| Editor / Webmaster                           Supporting the Amiga |
| phil@amigacentral.com                 http://www.amigacentral.com |
|                                                                   |
+-------------------------------------------------------------------+

@endnode

@node ID21_1 "I'm going away ! (ID21_1)"
Date: Fri, 12 Feb 1999 12:53:31 +0100 (MET)
From: mfontana@komodo.ing.unico.it (mauro fontana)
Subject: Re: I'm going away !

> Anyway hope you all have a great time whilst i'm in
> italy :)

Wow.. going here? Skiing?
Supposing you are going to read this when you have returned.. where did
you go exactly?

M&F

@endnode

@node ID21_2 "I'm going away ! (ID21_2)"
From: cb.price@ukonline.co.uk (Phil Price)
Date: Sat, 20 Feb 1999 15:59:26 +0000
Subject: Re: I'm going away !

On 11-Feb-99 Phil Price said, about 'I'm going away !':

> To Whom this may concern,
>
> First of all, i'm sorry for posting this to list's but
> it's one of the best way's to reach everyone i know,
> anyway.. I'm going on a lovly holiday to Italy, were
> i'm going skiing for a week. So of cource i won't be
> able to work on any of the projects i'm involved in,
> or awnser any of your mails (but send them any way,
> i'll reply to them when i get back). The dates
> are Friday the 12th of Feb till Sunday the 21st Feb..
>
> Anyway hope you all have a great time whilst i'm in
> italy :)
>
> P.S. If you here any one asking were I am plase tell them.

Okay I am back now :) And i had a really good time :)

Yours
- --
+-------------------- A M I G A - C E N T R A L --------------------+
|                  [- The Online Amiga Magazine -]                  |
| Phil Price                                         icq : 21418142 |
| Editor / Webmaster                           Supporting the Amiga |
| phil@amigacentral.com                 http://www.amigacentral.com |
|                                                                   |
+-------------------------------------------------------------------+

@endnode



@node ID22_0 "Searching text in memory. (ID22_0)"
Date: Thu, 11 Feb 1999 20:15:56 +0100 (MET)
From: szczepan@student.man.bialystok.pl ("Marcin Juszkiewicz
(Szczepan/BlaBla)")
Subject: Searching text in memory.

Ehlo !

 I need fast procedure for searching for text in memory. Now I'm using
procedure search() (on end of this letter). It works OK but is soooo slow
- - I'm searching in 485KB part of memory so it takes few moments to find
something in end of this part.

Anyone can help ?

- -----------------------------------------------------------------------

PROC search(mem : PTR TO CHAR,ptr : PTR TO CHAR,len,len2)

DEF ptr1 : PTR TO CHAR,
    k,
    v

  ptr1 := ptr
  k    := NIL

  FOR v := NIL TO len

    IF Char(mem) = Char(ptr)
      ptr++
      k++
      IF (k = len2) AND (Char(mem + 1) = NIL) AND (Char(mem - len2) = NIL)
        RETURN 1 + v - len2
      ENDIF
    ELSE
      k   := NIL
      ptr := ptr1
    ENDIF
    mem++

  ENDFOR

ENDPROC

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@student.man.bialystok.pl http://student.man.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD x8 CD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode

@node ID22_1 "Searching text in memory. (ID22_1)"
From: carl.drougge@2.sbbs.se (Carl Drougge)
Date: Fri, 12 Feb 1999 00:56:35 +0100
Subject: Re: Searching text in memory.

Den 11-Feb-99 skrev Marcin Juszkiewicz \(Szczepan/BlaBla\):

> PROC search(mem : PTR TO CHAR,ptr : PTR TO CHAR,len,len2)
>
> DEF ptr1 : PTR TO CHAR,
>    k,
>    v
>
>  ptr1 := ptr
>  k    := NIL
>
>  FOR v := NIL TO len
>
>    IF Char(mem) = Char(ptr)
>      ptr++
>      k++
>      IF (k = len2) AND (Char(mem + 1) = NIL) AND (Char(mem - len2) = NIL)
>        RETURN 1 + v - len2
>      ENDIF
>    ELSE
>      k   := NIL
>      ptr := ptr1
>    ENDIF
>    mem++
>
>  ENDFOR
>
> ENDPROC

I much better sollution than mine is of course a better search algorithm,
check the grep source on some un*x system for one.

But I have a much simpler improvement, without saying anything about your
algorithm. =)

Char( foo ) should be foo[], and Char( foo + bar ) should be foo[bar]. This
should speed it up something like 30% just that..

All the ones you use it on have to be PTR TO CHAR of course. (They already
are, except "k", wich will have to made so).

@endnode

@node ID22_2 "Searching text in memory. (ID22_2)"
From: bluebear@swipnet.se ("Leif Salomonsson")
Date: 12 Feb 99 12:47:23 +0500
Subject: Re: Searching text in memory.

Marcin Juszkiewicz (Szczepan/BlaBla)   Team Amiga wrote :

> Ehlo !
>
>  I need fast procedure for searching for text in memory. Now I'm using
> procedure search() (on end of this letter). It works OK but is soooo slow
> - I'm searching in 485KB part of memory so it takes few moments to find
> something in end of this part.

- --->8-----------------

Try this! ...

PROC findstring(mem:PTR TO CHAR, memlen, string:PTR TO CHAR, stringlen)
   ->calulate endadress to search in mem and
   ->compensating for the string itself if it
   ->would be located at the end of mem.....
   end:=mem + memlen - stringlen - 1

   WHILE mem <> end
      ->check if first char is same
      IF mem[] = string[]
         ->if so, check the hole string
         IF StrCmp(mem, string, stringlen)
            ->yep, found it
            RETURN mem
         ENDIF
      ELSE
         ->search on..
         mem++
      ENDIF
   ENDWHILE
ENDPROC NIL -> couldnt find it

if one could replace the StrCmp()
(dont know how fast/slow it is), I guess
it could be made very fast, with REG:ed vars.

hope this is right.. i have a very high temperature..
kinda sombie.. :)

Tjoho..
/Leif S

@endnode

@node ID22_3 "Searching text in memory. (ID22_3)"
From: qxyka@freemail.c3.hu (QXY)
Date: Thu, 11 Feb 1999 23:41:58 +0100
Subject: Re: Searching text in memory.

Re Marcin!

> I need fast procedure for searching for text in memory.

Use Assembly instead of E! ;)

By!
- --
   ____ __   __
  /  / \/  \_/    *Amiga 1200 + B1240 T-ERC + 16+2 MB*
 /_\/ _/\___/     *850 MB HDD + Philips 24x + 33.6Kbps*
 _____________________________________________________
 /Email:/ #qxyka@freemail.c3.hu#    /Phone:/ #+36-32/456-170#

@endnode

@node ID22_4 "Searching text in memory. (ID22_4)"
Date: Fri, 12 Feb 1999 16:01:38 +0000 (BST)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: Searching text in memory.

On Thu, 11 Feb 1999, QXY wrote:

=>> I need fast procedure for searching for text in memory.
=>
=>Use Assembly instead of E! ;)

<ADVERT>

get Aminet:util/cli/ksc_GrepMem.lha, ultra-fast blind-search routine, comes
with FULL SOURCE in assembler.

</ADVERT>

Stuart

@endnode

@node ID22_5 "Searching text in memory. (ID22_5)"
Date: Fri, 12 Feb 1999 13:56:09 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: Searching text in memory.

"Marcin Juszkiewicz (Szczepan/BlaBla)" wrote:
>
> Ehlo !
>
>  I need fast procedure for searching for text in memory. Now I'm using
> procedure search() (on end of this letter). It works OK but is soooo slow
> - I'm searching in 485KB part of memory so it takes few moments to find
> something in end of this part.
>
> Anyone can help ?
>

I have given it a little though and have come up with the following code.
It won't be faster than Assembly but it is a compact algorythm.
I also used registers to improve the compare logic

The algorythm has not been tested, I wrote this at work ... so be carefull.
I'm sure you'll be able to squeeze some.  Now there are some issues which
will greatly reduce this algorythm's search speed...
- -Alot 'similar' data
- -Long 'similar' words to find.
- -The algo does not stop

also, you can change the comparing line to something more optimized for your
search and the whole algo is still useable. for example, you could compare
whole 4byte CHARS if you want... (but you must be sure the 'word' argument
is always at least four bytes long...) etc, etc.

PROC search_fast(start_stack,         /* pointer to text data */
                 end_stack,           /* precalculated ptr, stop point  */
                 word_stack,          /* pointer to data to find */
                 len_stack)           /* number of bytes to compare */

   DEF count=0:REG PTR TO CHAR /* used to count through a number
                               ** of bytes equal to 'len' */
   DEF len:REG
   DEF end:REG PTR TO CHAR
   DEF word:REG PTR TO CHAR
   DEF start:REG PTR TO CHAR

   /* move arguments to registers since E doesn't accept register arguments
*/
   len := len_stack
   word := word_stack
   end := end_stack
   start := start_stack

   /******************************************
   ** BLAZE THROUGH THE LIST UNTIL YOU FIND
   ** THE FIRST CHAR OF word
   */
   /* automatically stops when we have moved beyond the end of data */
    WHILE start < end
      /* if first char is the same... lookup the rest */
      IF (start[0] = word[0])
        /***********************************
        ** THEN SEE IF WHOLE WORD MATCHES
        */
         WHILE count < len
            count++
            /* escape if we find an invalid byte */
            IF start[count] <> word[count]
               count := len
            ELSE
               /************************************
               ** IF ALL LETTERS MATCH, RETURN PTR
               */
               IF count = len THEN RETURN start
            ENDIF
         ENDWHILE
         count := 0  /* in case we catch another potential word in text */
      ENDIF
      start++
   ENDWHILE
ENDPROC 0  /* this tells the function's caller that we have NOT found the
'word'  */

can you give me more details on the data you are searching... I could
optimize the above a bit more or give you pointers on how you could do it...

- -Maxim
@endnode

@node ID22_6 "Searching text in memory. (ID22_6)"
Date: Mon, 15 Feb 1999 10:29:54 +0100 (MET)
From: szczepan@student.man.bialystok.pl ("Marcin Juszkiewicz
(Szczepan/BlaBla)")
Subject: Re: Searching text in memory.

 Ehlo !

   Thx for everyone. I changed Char(mem) to mem[] in every place and it
gives me big speedup so I don't want to optimize it more. Searching 485KB
was 108 ticks now it's 70 ticks so speedup is big enough (all on my
system).

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@student.man.bialystok.pl http://student.man.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD x8 CD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode

@node ID22_7 "Searching text in memory. (ID22_7)"
Date: Tue, 16 Feb 1999 10:43:47 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: Searching text in memory.

Have you ever tried using the REG compiling OPTion...

Just add it in your OPT keyword (and specify how many registers you want to
be used) and it will use registers when loops are encountered... it COULD
well improve speed by as much as 25%... without re-coding anything...

>    Thx for everyone. I changed Char(mem) to mem[] in every place and it
> gives me big speedup so I don't want to optimize it more. Searching 485KB
> was 108 ticks now it's 70 ticks so speedup is big enough (all on my
> system).
>

- -Maxim
@endnode

@node ID22_8 "Searching text in memory. (ID22_8)"
Date: Wed, 17 Feb 1999 11:44:35 +0100 (MET)
From: szczepan@student.man.bialystok.pl ("Marcin Juszkiewicz
(Szczepan/BlaBla)")
Subject: Re: Searching text in memory.

On Tue, 16 Feb 1999, Maxim Olivier-Adlhoch wrote:

- ->Have you ever tried using the REG compiling OPTion...

I test version compiled with OPTI ;)) (REG=5).

- ------
 Marcin Juszkiewicz (Szczepan/BlaBla)   *Team Amiga*
 szczepan@student.man.bialystok.pl http://student.man.bialystok.pl/szczepan/
 A1200 BlizzIv 2+8MB RAM 425MB HDD x8 CD
 Author of MultiView for OS 2.0+ -> Aminet:util/sys/2b_mv_os2_x.lha

@endnode

@node ID22_9 "Searching text in memory. (ID22_9)"
Date: Wed, 17 Feb 1999 15:10:50 +0100 (MET)
From: mfontana@komodo.ing.unico.it (mauro fontana)
Subject: Re: Searching text in memory.

> Have you ever tried using the REG compiling OPTion...

Yes, why?

M&F

@endnode



@node ID23_0 "OT: Real Kickstart (ID23_0)"
From: sanric@ronet.it (Riccardo Santato)
Date: Tue, 03 Jan 1978 04:32:54 +0100
Subject: OT: Real Kickstart

Hello world,

I've got a little problem that makes me crazy. When installing some
applications with the Installer (latest version) sometimes it tells me that
it's necessary to have kickstart 3.0.
The problem is I own an A1200 and of course the minimum kick is 3.0 !!!!
I've tried disabling MCP but nothing; here's what the Version item in the
Workbench menu tells me:

Workbench v 39.106
Kick v 34.32

What is the problem ?

BTW, because I've fried my original WB disk, can anyone of you send me the
original setpatch utility from distribution disks ?

Kind regards
- --
======================================================
Santato Riccardo

                               sanric@ronet.it
                               www.geocities.com/SunsetStrip/Stage/6141/
=====================================================



@endnode

@node ID23_1 "OT: Real Kickstart (ID23_1)"
Date: Sun, 14 Feb 1999 16:29:32 +0100 (MET)
From: subvcbhd@calvados.zrz.TU-Berlin.DE (Henk Jonas)
Subject: Re: OT: Real Kickstart

On Tue, 3 Jan 1978, Riccardo Santato wrote:

> Hello world,
Hi Riccardo,

> Workbench v 39.106
> Kick v 34.32
>=20
> What is the problem ?
v 34.xx means Kick 1.3, is it a misspelling or how do you get Kick 1.3 in
your A1200?

> BTW, because I've fried my original WB disk, can anyone of you send me th=
e
> original setpatch utility from distribution disks ?=20
go to www.amiga.de and pick up the newest setpatch

Henk
- ----------------------------------------------------------------
Henk Jonas            |          subvcbhd@linux.zrz.tu-berlin.de
Student der           |
Energietechnik        |       http://www.cs.tu-berlin.de/~jonash

> Ich lehne Atomenergie als Energiealternative ab! niX=B3 Castor <
- ----------------------------------------------------------------
  * AmigaMetaFileFormat * MetaView * Messlabor * Voxelflight *
- ----------------------------------------------------------------
Fuer die 'Mitleser': ANARCHIEBNDAKWPKKRAFRADIKALTNTKPDPDSREVOLUT

@endnode

@node ID23_2 "OT: Real Kickstart (ID23_2)"
From: a9660319@wlv.ac.uk
Subject: Re: OT: Real Kickstart
Date: Tue, 16 Feb 1999 09:54:09 -0500 (EST)

> > BTW, because I've fried my original WB disk, can anyone of you send me
the
> > original setpatch utility from distribution disks ?

This might be your problem, is setpatch running?

Andrew Hutchins.

@endnode



@node ID24_0 "Bugs in EC (ID24_0)"
From: wozniak_m@mail.gwl.koszalin.tpnet.pl (Michal Wozniak)
Date: Sun, 14 Feb 1999 08:38:28 +0300
Subject: Bugs in EC

Welcome.

    I'm writing a program in AmigaE and it's quite big. Sources code is
320kB len and i have 13000 lines.
When it was smaller everything was fine but now when I want to compile it,
compiler hangs or returns strange errors. Sometimes it returns with
*/unexpected character in line/* and then hangs. But sometimes everything
is Ok. What is going on?.

Regards.

Michal Wozniak

@endnode

@node ID24_1 "Bugs in EC (ID24_1)"
From: carl.drougge@2.sbbs.se (Carl Drougge)
Date: Sun, 14 Feb 1999 17:23:41 +0100
Subject: Re: Bugs in EC

Den 14-Feb-99 skrev Michal Wozniak:

> Welcome.
>
>    I'm writing a program in AmigaE and it's quite big. Sources code is
> 320kB len and i have 13000 lines.
> When it was smaller everything was fine but now when I want to compile it,
> compiler hangs or returns strange errors. Sometimes it returns with
> */unexpected character in line/* and then hangs. But sometimes everything
> is Ok. What is going on?.

Well, since it's so big LARGE must already be used, so it can't be that, and
that shouldn't hang it anyway.

Well.. larger stack for EC might be worth trying, and maybe compiling with
IGNORECACHE to see if the modulecache somehow screws up. (It does for me
sometimes).

Another thing to think on is that if module b depends on module a, and you
then change module a, module b usually needs recompiling. (If you change
anything "important")

But if your source is that size, I guess you don't go in for modules. Try
it, it might solve your problem. =)

@endnode

@node ID24_2 "Bugs in EC (ID24_2)"
Date: Tue, 16 Feb 1999 09:56:35 +0100
From: Rainer.M.Mueller@uni-konstanz.de (Rainer =?iso-8859-1?Q?M=FCller?=)
Subject: Re: Bugs in EC

Good morning,

>>    I'm writing a program in AmigaE and it's quite big. Sources code is
>> 320kB len and i have 13000 lines.
>
>Well, since it's so big LARGE must already be used, so it can't be that,=
 and
>that shouldn't hang it anyway.

Is the whole source in one file, or is it split up in several modules ?? If
it split up in several modules, then make sure that ALL modules have "OPT
LARGE" option set. That's very important.

>Well.. larger stack for EC might be worth trying, and maybe compiling with
>IGNORECACHE to see if the modulecache somehow screws up. (It does for me
>sometimes).

I (think I)can explain you the "somehow screws up". My experience is: some
of your own modules are in the module-cache. Now you change one of the
modules and re-compile it. After that you re-compile all the rest. -> !!!
in the module cache is still the old version of your changed module !!! ->
do a "flushcache" then it should work. Or even better, use IGNORECACHE

>Another thing to think on is that if module b depends on module a, and you
>then change module a, module b usually needs recompiling. (If you change
>anything "important")

In this case I recommend you highly to use an E makefile-clone e.g. build
(included in the a package). Before I used build, ec didn't hang up, but I
had several other problems. And see above: use IGNORECACHE in order to
avoid problems with newer and older version of modules.

Greetings,

   Rainer

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
      //  Rainer M=FCller  A1200-030-50MHz 16MB/850MB
     //                  Pentium  166MHz 32MB/2.1GB
    //    have a look at: Aminet:mus/edit/SampleE
\\ //
 \X/  AMIGA for ever !

@endnode

@node ID24_3 "Bugs in EC (ID24_3)"
From: carl.drougge@2.sbbs.se (Carl Drougge)
Date: Sun, 21 Feb 1999 14:01:45 +0100
Subject: Re: Bugs in EC

Den 16-Feb-99 skrev Rainer M=FCller:

> I (think I)can explain you the "somehow screws up". My experience is: s=
ome
> of your own modules are in the module-cache. Now you change one of the
> modules and re-compile it. After that you re-compile all the rest. -> !=
!!
> in the module cache is still the old version of your changed module !!!=
 ->
> do a "flushcache" then it should work. Or even better, use IGNORECACHE

Nono, I'm aware of that. Something like
> ec proggy
> ec proggy
> ec proggy
> ec proggy
suddenly now it gives a module error.
flushcache does help of course, but it's not because I changes any module=
s..

@endnode

@node ID24_4 "Bugs in EC (ID24_4)"
Date: Mon, 22 Feb 1999 13:10:29 +0100
From: Rainer.M.Mueller@uni-konstanz.de (Rainer =?iso-8859-1?Q?M=FCller?=)
Subject: Re: Bugs in EC

Hi,

>Nono, I'm aware of that. Something like
>
>> ec proggy
>> ec proggy
>> ec proggy
>> ec proggy
>
>suddenly now it gives a module error.
>flushcache does help of course, but it's not because I changes any=
 modules..

whoops, I never came open such a problem. Perhaps really a messed up
modulescache ???
But how does this happen ??=20

Where is Wouter when we need him ?

Bye,

   Rainer

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
      //  Rainer M=FCller  A1200-030-50MHz 16MB/850MB
     //                  Pentium  166MHz 32MB/2.1GB
    //    have a look at: Aminet:mus/edit/SampleE
\\ //
 \X/  AMIGA for ever !

@endnode



@node ID25_0 "Commodity Help (ID25_0)"
From: elist@dream.u-net.com ("Richard West")
Date: 15 Feb 99 15:07:47 +0000
Subject: Commodity Help

I wonder if anyone can help me, I need some help with commodities. There
are two things I need to do, both tasks require talking to third-party
commodities. Firstly I need to ask a commodity (which I haven't created)
whether or not it is active/inactive. Secondly I need to issue the
remove command (as found in Exchange) to a third-party commodity. I have
looked at some of the references that I have but all of which refer to
commodities which you create only.

any help appreciated.

- --
Regards,

    Richard West

 http://www.dream.u-net.com
mailto:westy@dream.u-net.com

@endnode

@node ID25_1 "Commodity Help (ID25_1)"
Date: Mon, 15 Feb 1999 16:20:13 +0000 (BST)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: Commodity Help

On 15 Feb 1999, Richard West wrote:

=>I wonder if anyone can help me, I need some help with commodities. There
=>are two things I need to do, both tasks require talking to third-party
=>commodities. Firstly I need to ask a commodity (which I haven't created)
=>whether or not it is active/inactive. Secondly I need to issue the
=>remove command (as found in Exchange) to a third-party commodity. I have
=>looked at some of the references that I have but all of which refer to
=>commodities which you create only.

For telling if a commodity is active, you have to copy the broker list
using CopyBrokerList() / FreeBrokerList(), and scan through it for the
commodity you want, then test it's flags for bit 2.

To kill a commodity, though, all you have to do is send it a Ctrl-C.
If it's not well programmed and doesn't do that, you have to use
BrokerCommand().

Stuart - Kuchi ni irenai!

@endnode

@node ID25_2 "Commodity Help (ID25_2)"
From: elist@dream.u-net.com ("Richard West")
Date: 15 Feb 99 20:09:42 +0000
Subject: Re: Commodity Help

On Mon, 15 Feb 1999 16:20:13 +0000 (BST), /"Stuart Caie"/ wrote the
following about *"Re: Commodity Help"*
<Pine.GSO.4.05.9902151614530.27342-100000@raven.csd.abdn.ac.uk>

> For telling if a commodity is active, you have to copy the broker list
> using CopyBrokerList() / FreeBrokerList(), and scan through it for the
> commodity you want, then test it's flags for bit 2.
>
> To kill a commodity, though, all you have to do is send it a Ctrl-C.
> If it's not well programmed and doesn't do that, you have to use
> BrokerCommand().
>

Thanks for your help. However I still have a problem I don't have access to
those functions. Unless they are in a misterious module somewhere I have no
idea what to do now as they aren't in my commodities module. Any
suggestions? or a name of the module they are in?




- --
Regards,

    Richard West

 http://www.dream.u-net.com
mailto:westy@dream.u-net.com

@endnode

@node ID25_3 "Commodity Help (ID25_3)"
From: M.Tjoelker@nl.cis.philips.com (Menno Tjoelker)
Subject: Re[2]: Commodity Help
Date: Tue, 16 Feb 99 23:33:28 -0100

This is a MIME multipart message. If you are reading
this text, you may want to switch to a MIME capable mail reader.

- --***=_***=_120111080=_23048
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable

Richard West wrote about Re: Commodity Help:

> On Mon, 15 Feb 1999 16:20:13 +0000 (BST), /"Stuart Caie"/ wrote the follo=
wing about *"Re: Commodity Help"* <Pine.GSO.4.05.9902151614530.27342-100000=
@raven.csd.abdn.ac.uk>
>
> > For telling if a commodity is active, you have to copy the broker list
> > using CopyBrokerList() / FreeBrokerList(), and scan through it for the
> > commodity you want, then test it's flags for bit 2.

That's bit 1, see the attached file.

> > To kill a commodity, though, all you have to do is send it a Ctrl-C.
> > If it's not well programmed and doesn't do that, you have to use
> > BrokerCommand().

Exchange "Remove" does BrokerCommand().

> Thanks for your help. However I still have a problem I don't have access =
to
> those functions. Unless they are in a misterious module somewhere I have =
no
> idea what to do now as they aren't in my commodities module. Any
> suggestions? or a name of the module they are in?

They are private. Attached is information about them (a part of the source
code of CxCommander).

Jilles Tjoelker

- --
Jilles Tjoelker     |
Craterlaan 6        |   Tel. : +31.40.2427420
5632 AG Eindhoven   |   Fax  : +31.40.2427420 (on request)
The Netherlands     |

*** Author of Iris (mailer), Activity (activity meter),    ***
*** Select_Host (NapsaTerm frontend), Solitaire (WB game), ***
*** Metronome (tool for musicians), etc.                   ***
- --***=_***=_120111080=_23048
Content-Type: text/plain; name="cxprivfuncs.h"
Content-Disposition: inline; filename="cxprivfuncs.h"
Content-Transfer-Encoding: quoted-printable

/*** private functions of "commodities.library" ***/

#pragma libcall CxBase FindBroker 6c 801
#pragma libcall CxBase CopyBrokerList ba 801
#pragma libcall CxBase FreeBrokerList c0 801
#pragma libcall CxBase BrokerCommand c6 802

CxObj *FindBroker(char *);
LONG CopyBrokerList(struct List *);
LONG FreeBrokerList(struct List *);
LONG BrokerCommand(char *, LONG id);

/*** private structures & defines ***/

struct BrokerCopy=09{
=09struct Node=09bc_Node;
=09char=09bc_Name[CBD_NAMELEN];
=09char=09bc_Title[CBD_TITLELEN];
=09char=09bc_Descr[CBD_DESCRLEN];
=09LONG=09bc_Task;
=09LONG=09bc_Dummy1;
=09LONG=09bc_Dummy2;
=09UWORD=09bc_Flags;
};

#define COF_ACTIVE 2

- --***=_***=_120111080=_23048--
@endnode

@node ID25_4 "Commodity Help (ID25_4)"
From: elist@dream.u-net.com ("Richard West")
Date: 18 Feb 99 21:22:28 +0000
Subject: Re: Commodity Help

On Mon, 15 Feb 1999 16:20:13 +0000 (BST), /"Stuart Caie"/ wrote the
following about *"Re: Commodity Help"*
<Pine.GSO.4.05.9902151614530.27342-100000@raven.csd.abdn.ac.uk>
> On 15 Feb 1999, Richard West wrote:
>
> For telling if a commodity is active, you have to copy the broker list
> using CopyBrokerList() / FreeBrokerList(), and scan through it for the
> commodity you want, then test it's flags for bit 2.
>
> To kill a commodity, though, all you have to do is send it a Ctrl-C.
> If it's not well programmed and doesn't do that, you have to use
> BrokerCommand().
>

I've worked out how to use the function BrokerCommand() but I am still
having no luck with CopyBrokerList() can someone please tell me the syntax
of the function. And write a little example in E   please.




- --
Regards,

    Richard West

 http://www.dream.u-net.com
mailto:westy@dream.u-net.com

@endnode

@node ID25_5 "Commodity Help (ID25_5)"
From: M.Tjoelker@nl.cis.philips.com (Menno Tjoelker)
Subject: Re[4]: Commodity Help
Date: Sat, 20 Feb 99 00:45:44 -0100

This is a MIME multipart message. If you are reading
this text, you may want to switch to a MIME capable mail reader.

- --***=_***=_127519960=_41358
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable

Richard West wrote about Re: Commodity Help:

> I've worked out how to use the function BrokerCommand() but I am still
> having no luck with CopyBrokerList() can someone please tell me the synta=
x
> of the function. And write a little example in E   please.

The syntax is in the file I attached to my previous message.

An example in E is attached.

- --
Jilles Tjoelker     |
Craterlaan 6        |   Tel. : +31.40.2427420
5632 AG Eindhoven   |   Fax  : +31.40.2427420 (on request)
The Netherlands     |

*** Author of Iris (mailer), Activity (activity meter),    ***
*** Select_Host (NapsaTerm frontend), Solitaire (WB game), ***
*** Metronome (tool for musicians), etc.                   ***
- --***=_***=_127519960=_41358
Content-Type: text/plain; name="cxexample.e"
Content-Disposition: inline; filename="cxexample.e"
Content-Transfer-Encoding: quoted-printable

MODULE 'libraries/cxprivate','cx'

/* ... */

RAISE ERR_CBL IF CopyBrokerList()..0 /* don't know <> or =3D */

/* ... */

PROC xx() HANDLE
  DEF l:lh,bc:PTR TO brokercopy
  /* CxCommander uses AllocMem(sizeof(struct List),MEMF_PUBLIC) for the
     list */
  newList(l)
  CopyBrokerList(l) /* Either 0 or non-0 means error. I don't know because
                       CxCommander just does it like this but you can
                       WriteF() the result to determine whether 0 means OK
                       or error. */
  bc:=3Dl.head
  WHILE bc.node.succ
    bla(bc)
    bc:=3Dbc.node.succ
  ENDWHILE
EXCEPT DO
  FreeBrokerList(l)
  ReThrow()
ENDPROC

/* ... */

- --***=_***=_127519960=_41358--
@endnode



@node ID26_0 "Disperately Seeking Gregor (ID26_0)"
Date: Wed, 17 Feb 1999 15:57:56 +0100
From: Fabio.Rotondo@deagostini.it (Fabio Rotondo)
Subject: Disperately Seeking Gregor

Hi List,

    sorry for the Off-Topic but I am desperately seeking
Gregor Goldbach (I hope I have spelled it right) e-mail.

Even better, grEgor, if you are on-line, could you drop me a
private e-mail?

- --
Ciao,
      Fabio

      http://www.intercom.it/~fsoft

NOTE: ideas expressed in this mail are my own and may not reflect the ones
of the place where I work.

@endnode



@node ID27_0 "Picasso96 (ID27_0)"
From: misha@femina.com.pl (Michal Durys)
Date: Sat, 20 Feb 1999 14:22:03 +0200
Subject: Picasso96

Hi!

I'm writting a program using Picasso96 RTG system and I encountered a
small problem. This problem is caused by E conventions. All functions
from picasso96api.library are prefixed with p96. When I translated fd
file to a module I got PY6 instead and E treats this as constant not a
function. I solved that by changing prefix in fd file to Pi96. Now
everything works. But to solve this problem for good I'd like to know if
there's other solution. If not then I propose to use my solution as a
standard. I'll upload working modules to amimnet and I'll try to include
them in Picasso96 delevoper archive. What do you think about that?

- --
Michal Durys - mailto:misha@femina.com.pl

@endnode

@node ID27_1 "Picasso96 (ID27_1)"
From: sensei@box43.gnet.pl (Sensei)
Date: Sun, 21 Feb 1999 02:49:56 +0200
Subject: Re: Picasso96

Dnia 20-Lut-99, Michal Durys napisa=EE:
>Hi!

>I'm writting a program using Picasso96 RTG system and I encountered a
>small problem. This problem is caused by E conventions. All functions
>from picasso96api.library are prefixed with p96. When I translated fd
>file to a module I got PY6 instead and E treats this as constant not a
>function. I solved that by changing prefix in fd file to Pi96. Now
>everything works. But to solve this problem for good I'd like to know if=

>there's other solution. If not then I propose to use my solution as a
>standard. I'll upload working modules to amimnet and I'll try to include=

>them in Picasso96 delevoper archive. What do you think about that?

>--
>Michal Durys - mailto:misha@femina.com.pl

Czesc!

Z twojego listu wynika ze fd2module zle konwertuje pliki fd...wystarczy
uzyc dev/e/FDtoM_13.lha i poprawnie wygeneruje Ci p96 -> P96,a nie PY6.
(nie testowalem tego na Picasso bo po prostu nie mam,ale na innym fd'ku).=

- ---
Hi!

You shouldn't use a fd2module,instead you should use other fd-converter:
dev/e/FDtoM_13.lha .This one correctly generate p96 -> P96,not PY6.

- -- =

Przemyslaw 'SENSEI' Gruchala

code/gfx2d/gfx3d/webmaster

Amiga 1200
Apollo 1240/33 MHz,18 MB RAM,BTC 33.6 bps
HDD 520 MB,CD x12

-
-------------------------------------------------------------------------------
   GETIN Internet Service Provider http://www.getin.pl/ http://www.gnet.pl/
Dostep K56Flex/V.90/ISDN, Darmowe konta BOX43.gnet.pl, Serwer gier
SHOT.gnet.pl
 Internetowy paszport - dostep w kazdym miejscu Ziemi:
www.getin.pl/ipass.html
-
-------------------------------------------------------------------------------

@endnode

@node ID27_2 "Picasso96 (ID27_2)"
Date: Tue, 23 Feb 1999 13:28:33 +0100 (MET)
From: mfontana@komodo.ing.unico.it (mauro fontana)
Subject: Re: Picasso96

On Sat, 20 Feb 1999, Michal Durys wrote:

> Hi!
>
> I'm writting a program using Picasso96 RTG system and I encountered a
> small problem. This problem is caused by E conventions. All functions
> from picasso96api.library are prefixed with p96. When I translated fd
> file to a module I got PY6 instead and E treats this as constant not a
> function. I solved that by changing prefix in fd file to Pi96. Now
> everything works. But to solve this problem for good I'd like to know if
> there's other solution. If not then I propose to use my solution as a
> standard. I'll upload working modules to amimnet and I'll try to include
> them in Picasso96 delevoper archive. What do you think about that?

Have a look at the reqtools library which has the same "problem". The
fuction all begin with 'rt*' instead of 'RT*'.

M&F

@endnode

@node ID27_3 "Picasso96 (ID27_3)"
From: misha@femina.com.pl (Michal Durys)
Date: Tue, 23 Feb 1999 23:42:11 +0200
Subject: Re: Picasso96

Hi mauro!
On 23-Lut-99 you generated such output:
> Have a look at the reqtools library which has the same "problem". The
> fuction all begin with 'rt*' instead of 'RT*'.

Reqtools, BGUI and much more... But in all these cases output from
fd2module was working. With Picasso96 simple case change won't help, you
need to change function names.

So, what do we do about that?

Bye!
- --
Michal Durys - mailto:misha@femina.com.pl

Best collection of backdrops for Amiga and Anime fan:
Look for pix/back/AnimeOS#? on Aminet

@endnode



@node ID28_0 "Object copying (ID28_0)"
From: chris@planb.thegap.com (Christopher Perver)
Date: Sun, 21 Feb 1999 21:18:07 +0000
Subject: Object copying

   Hello list,

I need to copy the pointers of one of my objects into another
object (both objects are the same), for example...

  OBJECT obj
    buffer:PTR TO CHAR
    number:LONG
    string:PTR TO CHAR
  ENDOBJECT

  DEF obj1:obj, obj2:obj

  PROC main()
    obj2.buffer := obj1.buffer
    obj2.number := obj1.number
  ENDPROC

It is a bit tedious copying every single pointer inside the
object manually. I was wondering would a

  CopyMem(obj2, obj1, SIZEOF obj)

copy the relevant pointers, or would this copy all the
data too, for example, all the data in buffer or string?
I only want to copy the pointers.

Thanks
- --
Regards,
     Chris.

My home is brighter far, than Sharon's rosy plain,
Eternal life and joy, throughout its vast domain.
My Sovereign bids me tell, how mortals there may dwell,
And that's my business for my King.

@endnode

@node ID28_1 "Object copying (ID28_1)"
From: carl.drougge@2.sbbs.se (Carl Drougge)
Date: Sun, 21 Feb 1999 23:47:50 +0100
Subject: Re: Object copying

Den 21-Feb-99 skrev Christopher Perver:

>   Hello list,
>
> I need to copy the pointers of one of my objects into another
> object (both objects are the same), for example...
>
>
>  OBJECT obj
>    buffer:PTR TO CHAR
>    number:LONG
>    string:PTR TO CHAR
>  ENDOBJECT
>
>  DEF obj1:obj, obj2:obj
>
>
>  PROC main()
>    obj2.buffer := obj1.buffer
>    obj2.number := obj1.number
>  ENDPROC
>
> It is a bit tedious copying every single pointer inside the
> object manually. I was wondering would a
>
>  CopyMem(obj2, obj1, SIZEOF obj)
>
> copy the relevant pointers, or would this copy all the
> data too, for example, all the data in buffer or string?
> I only want to copy the pointers.

Pointers are pointers, and then only the pointers are copied. Arrays are
data, and the entire thing is copied. Since you have PTR TOs it only copies
the pointers.

@endnode

@node ID28_2 "Object copying (ID28_2)"
Date: Mon, 22 Feb 1999 12:10:55 +0000 (BST)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: Object copying

On Sun, 21 Feb 1999, Christopher Perver wrote:

=>  CopyMem(obj2, obj1, SIZEOF obj)
=>

You are correct in your assumptions.

Yes, this would copy all the raw data inside the object. No, it would not
copy
just copy pointers to the objects themselves (as obj2:=obj1 would do), and
yes,
it would not copy any data pointed to by the object.

This would copy from obj2 to obj1.

Stuart - Kuchi ni irenai!

@endnode



@node ID29_0 "Unsubscribing? (ID29_0)"
Date: Mon, 22 Feb 1999 22:37:12 +0100
From: Peter.Karlsson@swipnet.se (Peter Karlsson)
Subject: Unsubscribing?

Hello all.

Please forgive me for being an ignorant s.o.b., but how do I
unsubscribe from this list? Please answer by email, so that the
list don't fill up with irrelevant stuff.

Kind regards,
Peter Karlsson
@endnode



@node ID30_0 "EasyGUI library/module organizational stuff. (ID30_0)"
Date: Mon, 22 Feb 1999 17:21:09 +1030
From: agraham@hal9000.net.au (Ali Graham)
Subject: EasyGUI library/module organizational stuff.

Christopher Perver wrote:
>
>    Hello list,

Hello! Back after a fortnight's holiday, so pardon the late reply... :)

> The only modifications I have made so far to EasyGUI is I have added
> a setting to the LISTV to allow you to stop it from resizing
> horizontally, and I have made EasyGUI allow you to use any key,
> not just letters for the keypress for gadgets. This is handy for
> using ESC/Enter to Ok/Cancel requesters.
>
> If anyone is interested in these modifications, I can send you the
> source, although it is probably a bit 'hacky' as I haven't really worked
> out how the EasyGUI module works.

I'd be interested in seeing these -- I could integrate them into the
'easygui.library' project, assuming that they are of the nature of
patches that couldn't be achieved at a higher level (some are, some
aren't).

Also, if anyone wants to maintain a version of EasyGUI Classic (i.e.
modular version) that will parallel the 'easygui.library' in terms of
new features added, bugs fixed, etc. then get in touch with me and we
can work things out. Requirements: intermediate familiarity with
the EasyGUI source and a decent level user's knowledge of the module.

(If no-one wants to do this I probably will, it will just slow down
development of the library a little to keep the two in parallel by
myself.)

BTW, now that I'm back, does anyone want a copy of the latest version
of the library to test, or does anyone have any feedback having tested
the version they've already been sent? The beastie is probably ready for
prime time (i.e. a version 0.99 beta or something :) but writing the
docs may take me a fortnight or so. I may well take EasyGUI.doc and
change it into a .guide file, modifying as I go to reflect the changes
to the structure of the project, if that's OK with Wouter & Jason :)

For my next trick.... err, in my next post I'll put up the to-do list
as it currently stands -- it's more blue-sky features than bug-fixes, so
I'll see if anyone wants to put their hand up for one feature or
another.

ali.

@endnode

@node ID30_1 "EasyGUI library/module organizational stuff. (ID30_1)"
Date: Tue, 23 Feb 1999 16:09:04 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: EasyGUI library/module organizational stuff.

Ali Graham wrote:
> Hello! Back after a fortnight's holiday, so pardon the late reply... :)

Welcome Back  :)

> (If no-one wants to do this I probably will, it will just slow down
> development of the library a little to keep the two in parallel by
> myself.)

Maybe Jason ?

>
> BTW, now that I'm back, does anyone want a copy of the latest version
> of the library to test, or does anyone have any feedback having tested
> the version they've already been sent? The beastie is probably ready for
> prime time (i.e. a version 0.99 beta or something :) but writing the
> docs may take me a fortnight or so. I may well take EasyGUI.doc and
> change it into a .guide file, modifying as I go to reflect the changes
> to the structure of the project, if that's OK with Wouter & Jason :)

I have a counter-offer... How would you like to implement a Marble which
allows users to code EasyGui.Library under ROCK ?  the system is ready for
it...  The API is strait-forward  and It would really make a nice feature
for v1.0 (you would of course get full credits). (all you actually need to
invent is a little function which provides a UI for users to enter the
layout and then another which generates source code fomr that UI data...
think about it.  :)

> For my next trick.... err, in my next post I'll put up the to-do list
> as it currently stands -- it's more blue-sky features than bug-fixes, so
> I'll see if anyone wants to put their hand up for one feature or
> another.

I would help for ROCK Marble first and then new features (especially things
like Virtual groups + Inter-Gadget-Communication) if I can use it with ROCK.
Maybe even integrate The SparkPlugs Engine... (I guess only Ali knows about
what that is)

I already have a carved Button gadget (which you can set font), Pop-Up Menu
And a pop-Up slider Gadget Working Fine :)  I can send you the Source IF you
want them.

- -MAxim
@endnode

@node ID30_2 "EasyGUI library/module organizational stuff. (ID30_2)"
From: M.Tjoelker@nl.cis.philips.com (Menno Tjoelker)
Subject: Re[2]: EasyGUI library/module organizational stuff.
Date: Wed, 24 Feb 99 23:31:11 -0100

Maxim Olivier-Adlhoch wrote about Re: EasyGUI library/module organizational=
 stuff.:

> I would help for ROCK Marble first and then new features (especially
> things like Virtual groups + Inter-Gadget-Communication) if I can use it
> with ROCK. Maybe even integrate The SparkPlugs Engine... (I guess only
> Ali knows about what that is)

My advice: stay away from virtual groups. In my opinion, they are clumsy
for the user and not necessary (divide the gadgets over pages instead).
Furthermore, the ROM (so GadTools) string gadget and probably more GadTools=

gadgets cannot cope with clipping and would therefore have to be replaced.
EasyGUI would have to be transformed into another MUI, and that's not what
it was created for.

Inter-gadget communication does not need notification mechanisms (GadTools
does not support them.) but can be done by simply doing the change in an
action function, which is already possible.

> I already have a carved Button gadget (which you can set font), Pop-Up
> Menu And a pop-Up slider Gadget Working Fine :) I can send you the Source=

> if you want them.

A popup menu is useful.

In my opinion, sliders are clumsy gadgets, especially if the range is
large. They can be replaced by integer gadgets, where you can easily type
the value, or get an integer gadget connected to it. So an integer gadget
with integrated range checking (an invalid value is not accepted and
dividing by a value got from a gadget with minimum=3D1 would be absolutely
safe) would be more useful than a popup slider. It would not need the
option to have arrows next to it like the ClassAct integer gadget has.

Kind regards,

- --
Jilles Tjoelker     |
Craterlaan 6        |   Tel. : +31.40.2427420
5632 AG Eindhoven   |   Fax  : +31.40.2427420 (on request)
The Netherlands     |

*** Author of Iris (mailer), Activity (activity meter),    ***
*** Select_Host (NapsaTerm frontend), Solitaire (WB game), ***
*** Metronome (tool for musicians), etc.                   ***
@endnode

@node ID30_3 "EasyGUI library/module organizational stuff. (ID30_3)"
From: wozniak_m@mail.gwl.koszalin.tpnet.pl (Michal Wozniak)
Date: Sat, 27 Feb 1999 14:08:51 +0300
Subject: Re: EasyGUI library/module organizational stuff.

Hello Menno

On 25-Lut-99, you wrote:

> Maxim Olivier-Adlhoch wrote about Re: EasyGUI library/module
organizational stuff.:
> =

>> I would help for ROCK Marble first and then new features (especially
>> things like Virtual groups + Inter-Gadget-Communication) if I can use =
it
>> with ROCK. Maybe even integrate The SparkPlugs Engine... (I guess only=

>> Ali knows about what that is)
> =

What is this ROCK.

Regards-- =

Micha=B3  "Kierownik" Wo=BCniak
A1200/040/33Mhz/32Mb
E-MAIL: wozniak_m@mail.gwl.koszalin.tpnet.pl

@endnode



@node ID31_0 "Looking for anyone (ID31_0)"
From: qxyka@freemail.c3.hu (QXY)
Date: Thu, 25 Feb 1999 00:02:10 +0100
Subject: Looking for anyone

Hi ALL!

Maxim Olivier-Adlhoch! Please reply to me!!! Thx!

Sorry, for off-topic(?) !!! ;)

By!
- --
 - QXY -

@endnode



@node ID32_0 "Syntax errors (ID32_0)"
From: CHEILA@saintolaves.demon.co.uk ("Heiland-Allen,Claude")
Date: Fri, 26 Feb 99 11:47:51 +03d00
Subject: Syntax errors

Why does E give syntax errors for:
a)  [ x[y] := [ a, b, c ] ]      -> useful for gadget lists
b)  PROC x(y,z) IS f(g[y] := z)  -> useful for action funcs

My EasyGUI interfaces for my MIDI patch editors (Fostex
DCM100 mixer, Novation BassStation Rack synth) have about
100 global variables each, and I will need to add many more
if I want them to recieve MIDI as well as send.

I know I can put the gadget lists in arrays befor I build
the GUI list, and I could make the action functions with
two lines, but I would rather do it the easy way.  I like
having huge lists that give me an error at the first line
when I leave out a comma 73 lines in.

That's enough whinging for now,

Claude

@endnode

@node ID32_1 "Syntax errors (ID32_1)"
Date: Fri, 26 Feb 1999 11:50:38 +0000 (GMT)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: Syntax errors

On Fri, 26 Feb 1999, Heiland-Allen,Claude wrote:

=>Why does E give syntax errors for:
=>a)  [ x[y] := [ a, b, c ] ]      -> useful for gadget lists
=>b)  PROC x(y,z) IS f(g[y] := z)  -> useful for action funcs

As far as I remember,  x:=..blah.. is an expression, and can be used
anywhere, but x[y]:=..blah..  (and x.y:= and x[y].z:=) are statements,
and have to be executed by themselves.

Stuart - Kuchi ni irenai!

@endnode

@node ID32_2 "Syntax errors (ID32_2)"
Date: Fri, 26 Feb 1999 09:49:37 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: Syntax errors

Stuart Caie wrote:
>
> On Fri, 26 Feb 1999, Heiland-Allen,Claude wrote:
>
> =>Why does E give syntax errors for:
> =>a)  [ x[y] := [ a, b, c ] ]      -> useful for gadget lists
> =>b)  PROC x(y,z) IS f(g[y] := z)  -> useful for action funcs
>
> As far as I remember,  x:=..blah.. is an expression, and can be used
> anywhere, but x[y]:=..blah..  (and x.y:= and x[y].z:=) are statements,
> and have to be executed by themselves.

logical, this would also explain why you cannot do a:

SELECT object.member
  CASE val_1
    PrintF(''something')
ENDSELECT

you must always de-reference the object.member into a long variable BEFORE
entering the list...

case_switch := object.member
SELECT case_switch
  CASE val_1
    PrintF(''something')
ENDSELECT

ANOTHER occasion is to do {object.member} .  Normally in a standard C
compiler, the application would de-reference the member's pointer and give
it to you because de-referencing is equated as an expression.

There are many other occasions where de-referencing is a pain... I'm sure we
all have a 'favorite' one.

I consider this to be my biggest gripe about e data structures system
(includes arrays of course). Many times we are left to program some ugly and
dirty workaround like alocating 100 global vars, or using bogus stack space
to have a temporary placeholder...

Sorry to whine, makes us feel good sometimes ;)

- -Maxim
@endnode

@node ID32_3 "Syntax errors (ID32_3)"
Date: Fri, 26 Feb 1999 15:57:29 +0000 (GMT)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: Syntax errors

On Fri, 26 Feb 1999, Maxim Olivier-Adlhoch wrote:

=>logical, this would also explain why you cannot do a:
=>
=>SELECT object.member
=>  CASE val_1
=>    PrintF(''something')
=>ENDSELECT
=>
=>you must always de-reference the object.member into a long variable BEFORE
entering the list...
=>
=>case_switch := object.member
=>SELECT case_switch
=>  CASE val_1
=>    PrintF(''something')
=>ENDSELECT

Ah, but in that case the language states that select takes a variable name,
not an expression. Possibly because it's simpler to write in a compiler,
or possibly because Wouter likes it more.

=>ANOTHER occasion is to do {object.member} .  Normally in a standard C
=>compiler, the application would de-reference the member's pointer and give
=>it to you because de-referencing is equated as an expression.

Yeah. That's the same as above, and with '^'. It's easier to write to only
work with variables, than it is to work with expressions. I also think
forcing int/char signs on us is also the result of laze, or want of 'purity'
to the language, where purity is dogged by good old 'actually implementing
it'.

But, it's still a great language, and does many Good Things, so I forgive it
for the many things it won't do.

Stuart - Kuchi ni irenai!

@endnode

@node ID32_4 "Syntax errors (ID32_4)"
Date: Fri, 26 Feb 1999 11:38:02 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: Syntax errors

Stuart Caie wrote:
> But, it's still a great language, and does many Good Things, so I forgive
it
> for the many things it won't do.

Can't agree more, and besides, if it did have these shortcommings, we would
find new ones, because:"fixing a door means you can go through it and then
find new doors to fix"

Excuse my philosophical state today... must be getting drugged by ROCK... ;)

- -Maxim
@endnode



@node ID33_0 "Lowlevel keys (ID33_0)"
Date: Fri, 26 Feb 99 12:53:12 EST
From: CHEILA@saintolaves.demon.co.uk ("Heiland-Allen,Claude")
Subject: Re: Lowlevel keys

>> windows, console
Well, neither windows nor the console are appropriate.  Basically
what I am trying to do is set up my computer so that different
startup sequences are executed if different keys are being pressed
on startup.  So F1 would be normal, F2 would be for music (less nice
stuff, to save memory), F3 would be for games (exit to dos) and
so on.

>> commodity
It seems a bit of an overkill to have a commodity to check for one
key press.  Do commodities work without anything open (like at the
start of the startup-sequence)?

>> I wouldn't ask that if I were you :)
Eh?  How do I set up the right input handler?
I wrote a Blitz Basic program to do this, but it compiled to about
10 kB, and you can't return values to dos from Blitz.  I disassembled
the executable, but it has lots of data mixed in with the code so all
I got was btst #0,d0 lots of times...

@endnode

@node ID33_1 "Lowlevel keys (ID33_1)"
Date: Fri, 26 Feb 1999 15:56:13 +0000 (GMT)
From: sac@csd.abdn.ac.uk (Stuart Caie)
Subject: Re: Lowlevel keys

On Fri, 26 Feb 1999, Heiland-Allen,Claude wrote:

=>what I am trying to do is set up my computer so that different
=>startup sequences are executed if different keys are being pressed
=>on startup.

Ah, yes, that is much easier. All you have to do is open keyboard.device and
use the KBD_READMATRIX command. There is an RKRM Devices example for this,
unfortunately it's one of the few not converted by Jason. This might be
along
the right lines:

- -> WARNING: untested code
PROC main()
  DEF key, ok, io:PTR TO iostd, port,
      keymatrix[16]:ARRAY OF CHAR, status=0

  key, ok := Val(arg)
  IF ok
    IF port := CreateMsgPort()
      IF io := CreateIORequest(port, SIZEOF iostd)
        IF OpenDevice('keyboard.device', 0, io, 0) = 0
          io.command := KBD_READMATRIX
          io.data    := keymatrix
          io.length  := 16
          DoIO(io)

          -> I _think_ this would test the right bit...
          IF keymatrix[Shr(key, 8)] AND Shl(1, key AND %111) THEN status :=
5

          CloseDevice(io)
        ENDIF
        DeleteIORequest(io)
      ENDIF
      DeleteMsgPort(port)
    ENDIF
  ELSE
    WriteF('Usage: keywarn <raw key number>\n')
  ENDIF
ENDPROC status

@endnode



@node ID34_0 "Disassembler (ID34_0)"
Date: Fri, 26 Feb 99 13:05:15 EST
From: CHEILA@saintolaves.demon.co.uk ("Heiland-Allen,Claude")
Subject: Disassembler

Anyone interested in helping me write an intelligent
disassembler?  It would track execbase from $4, then
recognise library calls and track resources etc.
It might be better as part of edbg.

I have started on some code, using lists of opcodes which
are converted to big IFs with unification and stuff, this
means it is easy to add new instructions nicely.  At the
moment it can recognise 6 instructions (variants of add and
and).

I might scrap the unification idea, because although it is
extremely elegant it has problems with some opcodes (adda is
add with a size field of %11, so I get err_size or
err_opcode depending on the order of the list).

There are two lists, one has lines like (these are just
hypothetical as I don't have the docs on me right now):

1011aaa1bbcccccc addq

And the other has lines like:

addq WriteF('addq.s\t#\d,\s',size(b),IF a THEN a ELSE 8,
ea(c))

(all on one line).

Looks nice doesn't it...

See ya,
 Claude

@endnode

@node ID34_1 "Disassembler (ID34_1)"
Date: Fri, 26 Feb 1999 10:00:21 -0500
From: max2@ordigraphe.com ("Maxim Olivier-Adlhoch")
Subject: Re: Disassembler

"Heiland-Allen,Claude" wrote:
>
> Anyone interested in helping me write an intelligent
> disassembler?  It would track execbase from $4, then
> recognise library calls and track resources etc.
> It might be better as part of edbg.
>
> I have started on some code, using lists of opcodes which
> are converted to big IFs with unification and stuff, this
> means it is easy to add new instructions nicely.  At the
> moment it can recognise 6 instructions (variants of add and
> and).

I understand some Assembly smalltalk, but I must admit that you just lost
me: 'UNIFICATIONS'?

for resource tracking, why not simply patch exec's AllocMem/FreeMem function
with a resource tracker  (It slows down the machine but who cares when in
debug mode... aren't there plenty of systems available for that already??
@endnode



@node ID35_0 "Blitting (ID35_0)"
From: flo@sci.fi (Juha-Matti Sironen)
Date: Sat, 27 Feb 1999 08:42:29 +0200
Subject: Blitting

Hi!

I'm having problems with ilbm module, as I can't create LoadRGB32 palette=
s with
that. Now the problem is that I loose the pictures original palette when =
I blit
it to the screen, just like in the PicWindow Example. I tried to test wha=
t the
document told, but all I get is an error message. So could someone tell m=
e how
to do this?

And btw, is it possible to blit data from bitmat over another screen that=
 in the
blitted image had colour 0 transparent and rest would be overwritten?

- -- =

flow/ihana   [email.me.to:flo@sci.fi]

@endnode

@node ID35_1 "Blitting (ID35_1)"
From: wozniak_m@mail.gwl.koszalin.tpnet.pl (Michal Wozniak)
Date: Sat, 27 Feb 1999 14:01:04 +0300
Subject: Re: Blitting

Hello Juha-Matti

On 27-Lut-99, you wrote:

> Hi!
>
> I'm having problems with ilbm module, as I can't create LoadRGB32
palettes with
> that. Now the problem is that I loose the pictures original palette when
I blit
> it to the screen, just like in the PicWindow Example. I tried to test
what the
> document told, but all I get is an error message. So could someone tell
me how
> to do this?

You should do something like that:
ilbm:=ilbm_New(filename,ILBMNF_COLOURS32)

And then you will have this palette in pictureinfo.pal32

>
> And btw, is it possible to blit data from bitmat over another screen that
in the
> blitted image had colour 0 transparent and rest would be overwritten?
>

I would like to know too.

Regards

@endnode

@node ID35_2 "Blitting (ID35_2)"
From: flo@sci.fi (Juha-Matti Sironen)
Date: Sat, 27 Feb 1999 19:19:13 +0200
Subject: Re: Blitting

 Hi!

>> I'm having problems with ilbm module, as I can't create LoadRGB32
>> that. Now the problem is that I loose the pictures original palette when
>> it to the screen, just like in the PicWindow Example. I tried to test
>> document told, but all I get is an error message. So could someone tell
> You should do something like that:
> ilbm:=ilbm_New(filename,ILBMNF_COLOURS32)
> And then you will have this palette in pictureinfo.pal32

Hmm, still couldn't get it work, says something about wrong usage of
object,
but I'll put the source here:

- ---

OPT OSVERSION=39

MODULE 'intuition/intuition', 'graphics/view',
       'intuition/screens','tools/ilbm','tools/ilbmdefs'

PROC main()
  DEF omaruutu:PTR TO screen, x, y, p1, p2, p3, p4, p5, ilbm, vari,
bitmappi,
      palli, luuppi, varitus, pictureinfo

  omaruutu:=OpenS(320,256,8,0,'flow/ihana')

    IF omaruutu

    ilbm:=ilbm_New('stamina-ed1.iff',ILBMNF_COLOURS32)
     pictureinfo:=ilbm_PictureInfo(ilbm)
     LoadRGB32(omaruutu.viewport,pictureinfo.pal32)
    ilbm_LoadPicture(ilbm,[ILBML_GETBITMAP,{bitmappi},0])

     BltBitMapRastPort(bitmappi,0,0,omaruutu.rastport,0,0,319,255,$c0)

     ilbm_Dispose(ilbm)

    REPEAT
    UNTIL Mouse()=1

   ELSE
     WriteF('Could not open screen \n')
   ENDIF

  CloseS(omaruutu)

ENDPROC

- ---

I just can't find the problem here. :(

- --
flow/ihana   [email.me.to:flo@sci.fi]

@endnode

@node ID35_3 "Blitting (ID35_3)"
From: wozniak_m@mail.gwl.koszalin.tpnet.pl (Michal Wozniak)
Date: Sun, 01 Nov 1998 20:56:12 +0300
Subject: Re: Blitting

Hello Juha-Matti

On 27-Lut-99, you wrote:

>
> Hmm, still couldn't get it work, says something about wrong usage of
object,
> but I'll put the source here:
>
> ---
>
> OPT OSVERSION=39
>
> MODULE 'intuition/intuition', 'graphics/view',
>       'intuition/screens','tools/ilbm','tools/ilbmdefs'
>
> PROC main()
>  DEF omaruutu:PTR TO screen, x, y, p1, p2, p3, p4, p5, ilbm, vari,
bitmappi,
>      palli, luuppi, varitus, pictureinfo
>
>  omaruutu:=OpenS(320,256,8,0,'flow/ihana')
>
>    IF omaruutu
>
>    ilbm:=ilbm_New('stamina-ed1.iff',ILBMNF_COLOURS32)

here you should put:
    ilbm_LoadPicture(ilbm,[ILBML_GETBITMAP,{bitmappi},0])

>     pictureinfo:=ilbm_PictureInfo(ilbm)
>     LoadRGB32(omaruutu.viewport,pictureinfo.pal32)
>
>
>     BltBitMapRastPort(bitmappi,0,0,omaruutu.rastport,0,0,319,255,$c0)
>
>     ilbm_Dispose(ilbm)
>
>    REPEAT
>    UNTIL Mouse()=1
>
>   ELSE
>     WriteF('Could not open screen \n')
>   ENDIF
>
>  CloseS(omaruutu)
>
> ENDPROC
>
> ---
>
> I just can't find the problem here. :(

try it.

>
Regards

@endnode

@node ID35_4 "Blitting (ID35_4)"
From: M.Tjoelker@nl.cis.philips.com (Menno Tjoelker)
Subject: Re[2]: Blitting
Date: Sat, 27 Feb 99 21:15:23 -0100

Juha-Matti Sironen wrote about Re: Blitting:

> OPT OSVERSION=3D39
>
> MODULE 'intuition/intuition', 'graphics/view',
>        'intuition/screens','tools/ilbm','tools/ilbmdefs'
>
> PROC main()
>   DEF omaruutu:PTR TO screen, x, y, p1, p2, p3, p4, p5, ilbm, vari, bitma=
ppi,
>       palli, luuppi, varitus, pictureinfo
                                          ^^^
>      pictureinfo:=3Dilbm_PictureInfo(ilbm)
>      LoadRGB32(omaruutu.viewport,pictureinfo.pal32)

The pictureinfo variable is not defined as PTR TO ...

Jilles Tjoelker

- --
Jilles Tjoelker   * Author of Iris (mailer), Activity (activity meter),
Craterlaan 6      * Select_Host (NapsaTerm frontend), Solitaire (WB game),
5632 AG Eindhoven * Metronome (tool for musicians), etc.
The Netherlands   *
@endnode



@node ID36_0 "copying screen to another (ID36_0)"
From: flo@sci.fi (Juha-Matti Sironen)
Date: Sat, 27 Feb 1999 19:21:41 +0200
Subject: copying screen to another

Hi, =

I made a little flame program but it is quite slow, so I decided to open =
second
screen, keep the first screen in front, draw the flames to the second scr=
een and
then copy all the data to first screen, but what is the FASTEST way of do=
ing
this?

Thanks.

- -- =

flow/ihana   [email.me.to:flo@sci.fi]

@endnode

@node ID36_1 "copying screen to another (ID36_1)"
From: M.Tjoelker@nl.cis.philips.com (Menno Tjoelker)
Subject: Re: copying screen to another
Date: Sat, 27 Feb 99 21:17:10 -0100

Juha-Matti Sironen wrote about copying screen to another:

> I made a little flame program but it is quite slow, so I decided to open =
second
> screen, keep the first screen in front, draw the flames to the second scr=
een and
> then copy all the data to first screen, but what is the FASTEST way of do=
ing
> this?

ScreenToFront(screen2)
tmp:=3Dscreen1; screen1:=3Dscreen2; screen2:=3Dtmp

Jilles Tjoelker

- --
Jilles Tjoelker   * Author of Iris (mailer), Activity (activity meter),
Craterlaan 6      * Select_Host (NapsaTerm frontend), Solitaire (WB game),
5632 AG Eindhoven * Metronome (tool for musicians), etc.
The Netherlands   *
@endnode



@node ID37_0 "Problems with perspective (ID37_0)"
From: flo@sci.fi (Juha-Matti Sironen)
Date: Sat, 27 Feb 1999 19:25:12 +0200
Subject: Problems with perspective

Still working on these simple "demo effects", but now I don't understand =
the
soul life of EC, as exactly the same code on AMOS Pro works 100% fine, bu=
t on E it
doesn't at all, here's the source:

- ---

      FOR z:=3D1 TO 50
       FOR angle:=3D1 TO 36

         apuz:=3D!z*10

         apuangle:=3D!angle*10

         temp:=3D!pi*(!apuangle/180)
         tx:=3D!Fcos(!temp)*50
         ty:=3D!Fsin(!temp)*50

         px:=3D(!(!tx*cam)/(apuz+cam))+160
         py:=3D(!(!ty*cam)/(apuz+cam))+128

         Plot(px,py,255)

       ENDFOR
      ENDFOR

- ---

So, what is wrong here?

- -- =

flow/ihana   [email.me.to:flo@sci.fi]

@endnode

@node ID37_1 "Problems with perspective (ID37_1)"
From: sensei@box43.gnet.pl (Sensei)
Date: Sun, 28 Feb 1999 00:21:59 +0200
Subject: Re: Problems with perspective

Hi!

>Still working on these simple "demo effects", but now I don't understand
the
>soul life of EC, as exactly the same code on AMOS Pro works 100% fine, but
on
>E it
>doesn't at all, here's the source:

>---

>      FOR z:=1 TO 50
>       FOR angle:=1 TO 36

>         apuz:=!z*10

>         apuangle:=!angle*10

>         temp:=!pi*(!apuangle/180)
>         tx:=!Fcos(!temp)*50
>         ty:=!Fsin(!temp)*50

>         px:=(!(!tx*cam)/(apuz+cam))+160
>         py:=(!(!ty*cam)/(apuz+cam))+128

>         Plot(px,py,255)

>       ENDFOR
>      ENDFOR

>---

>So, what is wrong here?

You are mixing integer values with float values!!!

Where you wrote apuz:=!z*10 you should write apuz:=!z*10.0 . You must add .0
to all values that you want make float.

You should get e.guide and read explanation about float values in AmigaE
(especially transforming float<->integer values...)

Transforming from integer to float:   float:=integer!
Transforming from float to integer:   integer:=!float!

Your source should look like this (not tested :-) :

    FOR z:=1 TO 50
      FOR angle:=1 TO 36

        apuz:=z!*10.0
/* or   apuz:=(z*10)! */

         apuangle:=angle!*10.0
/* or   apuangle:=(angle*10)! */

         temp:=!pi*(!apuangle/180.0)
         tx:=!Fcos(!temp)*50.0
         ty:=!Fsin(!temp)*50.0

/* cam must be float */
         px:=!(!(!tx*cam)/(!apuz+cam))+160.0
         py:=!(!(!ty*cam)/(!apuz+cam))+128.0

         Plot(!px!,!py!,255)

/* or
         px:=!(!(!tx*cam)/(!apuz+cam))!+160
         py:=!(!(!ty*cam)/(!apuz+cam))!+128

         Plot(px,py,255)
*/

       ENDFOR
      ENDFOR

IMHO: If you really want to create 3d graphics you should use only integer
values or write this in asm (and use integer too).

If you want a examples of 3d graphics in E tell me (or rather e-mail me :)
(I
have create a 3d game in E+ASM with textures (something like Wolfenstein,
but
more beautiful ;) )

- --
Przemyslaw 'SENSEI' Gruchala

code/gfx2d/gfx3d/webmaster

Amiga 1200
Apollo 1240/33 MHz,18 MB RAM,BTC 33.6 bps
HDD 520 MB,CD x12

-
-------------------------------------------------------------------------------
   GETIN Internet Service Provider http://www.getin.pl/ http://www.gnet.pl/
Dostep K56Flex/V.90/ISDN, Darmowe konta BOX43.gnet.pl, Serwer gier
SHOT.gnet.pl
 Internetowy paszport - dostep w kazdym miejscu Ziemi:
www.getin.pl/ipass.html
-
-------------------------------------------------------------------------------

@endnode

@node ID37_2 "Problems with perspective (ID37_2)"
From: flo@sci.fi (Juha-Matti Sironen)
Date: Sun, 28 Feb 1999 10:56:53 +0200
Subject: Re: Problems with perspective

Hi!

>> So, what is wrong here?
> You are mixing integer values with float values!!!

Upst, I have had alot of problems with these, took long to get sine and
cosine
to work too because of that. :(

> Your source should look like this (not tested :-) :

Ok, I'll try this, thanks.

> IMHO: If you really want to create 3d graphics you should use only integer
> values or write this in asm (and use integer too).

But doesn't this affect to the smoothnes of object rotations? I mean if you
rotate ie. torus doesn't it look quite rude? I haven't though tested that,
always used floats, in amos. :)

> If you want a examples of 3d graphics in E tell me (or rather e-mail me :)
(I
> have create a 3d game in E+ASM with textures (something like Wolfenstein,
but
> more beautiful ;) )

That would nice and I could hopefully even learn something from it.

- --
flow/ihana   [email.me.to:flo@sci.fi]

@endnode

@node ID37_3 "Problems with perspective (ID37_3)"
From: M.Tjoelker@nl.cis.philips.com (Menno Tjoelker)
Subject: Re: Problems with perspective
Date: Sat, 27 Feb 99 21:21:18 -0100

Juha-Matti Sironen wrote about Problems with perspective:

> ---
>
>       FOR z:=3D1 TO 50
>        FOR angle:=3D1 TO 36
>
>          apuz:=3D!z*10
>
>          apuangle:=3D!angle*10
>
>          temp:=3D!pi*(!apuangle/180)
>          tx:=3D!Fcos(!temp)*50
>          ty:=3D!Fsin(!temp)*50
>
>          px:=3D(!(!tx*cam)/(apuz+cam))+160
>          py:=3D(!(!ty*cam)/(apuz+cam))+128
>
>          Plot(px,py,255)
>
>        ENDFOR
>       ENDFOR
>
> ---
>
> So, what is wrong here?

Read the section in E.guide on floating point again! Remember that E is a
typeless language.

- --
Jilles Tjoelker   * Author of Iris (mailer), Activity (activity meter),
Craterlaan 6      * Select_Host (NapsaTerm frontend), Solitaire (WB game),
5632 AG Eindhoven * Metronome (tool for musicians), etc.
The Netherlands   *
@endnode



@node ID38_0 "MUI balance gadget (ID38_0)"
From: torchia@windsor.igs.net (Ralph Torchia)
Date: Sat, 27 Feb 1999 13:21:12 -0500
Subject: MUI balance gadget

Does anyone know how to get MUI to snapshot the position of the Balance
gadget from within your own programs?

Sincerely,
- --
Ralph Torchia, BSc, DDS
     · torchia@windsor.igs.net
     · http://www.windsor.igs.net/~torchia/

@endnode



@node ID39_0 "Help with MUI PaletteObject needed (ID39_0)"
Date: 28 Feb 99 18:46:58 +0200
From: savel@kaunas.omnitel.net (Levas)
Subject: Help with MUI PaletteObject needed

Hi All,

Could someone help me with PaletteObject?

DEF entries[7]:ARRAY OF mui_palette_entry
...
entries[5].mpe_id:=MUIV_Palette_Entry_End

...

Child, cm15:=PaletteObject, MUIA_Palette_Entries, entries, End,

...

When I run it I receive GURU... Could someone send me small example how to
use
this object.

Bye, Levas
- --
<tsb>Amiga? Amiga... Amiga!
- -- e-mail:savel@kaunas.omnitel.net - http://www1.omnitel.net/savel --

God is REAL, unless explicitly declared INTEGER.

@endnode



