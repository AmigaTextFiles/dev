<html>
<head>
  <title>PowerD.html - Deklarace konstant</title>
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body bgcolor=#ffffff>
<ul type=square>
<li><big>Popis:</big><br>
  Konstanty jsou v PowerD definovany jednim z nasledujicich klicovych slow:
  CONST, ENUM, SET and FLAG. Konstanty mohou byt definovany temer kdekoliv
  uvnitr i vne procedur. PowerD momentalne rozeznava pouze dva druhy konstant.
  Prvni a nejvice pouzivany je normalni 32-bitovy integer. Kazda konstanta
  tedy muze obsahovat 32-bitove cislo (toto bude v budoucnu rozsireno na 64
  ci 128 bitu). Druhy typ je konstanta typu DOUBLE. Ta obsahuje 64-bitove
  (IEEE-kompatibilni) cislo s plovouci desetinou teckou. Pokud takovou konstantu
  pouzivate v jinem formatu, napriklad jako WORD, BYTE, ci FLOAT, je tato
  automaticky prekonvertovana do daneho typu, a nemusite se o nic starat.<br>
  Pokud definujete vice konstant stejneho jmena, kompilator neohlasi zadnou
  chybu (to by vyrazne zpomalilo kompilaci) a bude pouzit pouze konstanta
  definovana jako posledni.<br>
  Take davejte pozor na pouziti lokalnich konstant, lokalni konstanty maji vzdy
  prednost pred konstantami globalnimi.
  <br><br>

<a name="con"></a>
<li><big>Definice pomoci klicoveho slova CONST:</big>
<font color=#ff0000><pre>
  CONST jmeno=hodnota
</pre></font><br>
  Hodnota muze byt cislo cele, ci desetinne, nebo <a href="constequa.html">vyraz</a>.<br><br>

<b>    Ukazka:</b>
<font color=#ff0000><pre>
  CONST COUNT=10,
        LISTSIZE=COUNT*SIZEOF_LONG,
        PI=3.1415926
</pre></font>

<a name="enu"></a>
<li><big>Definice pomoci klicoveho slova ENUM:</big>
<font color=#ff0000><pre>
  ENUM jmeno[=hodnota]
</pre></font><br>
  ENUM vytvari konstanty po sobe jdouci pokazde o 1 se zvysujici posloupnosti. Hodnoty
  musi byt celo-ciselne.<br><br>

<b>    Ukazky:</b>
<font color=#ff0000><pre>
  ENUM YES=-1,NO,MAYBE              // YES=-1,NO=0,MAYBE=1
  ENUM WHAT,IS,YOUR,NAME,           // WHAT=0,IS=1,YOUR=2,NAME=3
       MY=10,NAME,IS,PRINCE         // MY=10,NAME=11,IS=12,PRINCE=13
</pre></font>

<a name="set"></a>
<li><big>Definice pomoci klicoveho slova SET:</big>
<font color=#ff0000><pre>
  SET jmeno[=hodnota]
</pre></font><br>
  kde hodnoty jsou pro 32-bitu cisla od 0 do 31. Kazda dalsi konstanta ma jeji bit
  posunuty o 1. (respektive je vynasovena dvema)<br><br>

<b>    Ukazky:</b>
<font color=#ff0000><pre>
  SET VERTICAL,                     // VERTICAL=1
      SMOOTH,                       // SMOOTH=2
      DIRTY                         // DIRTY=4
  SET CLEAN=5,                      // CLEAN=32
      FAKE,                         // FAKE=64,
      SLOW=10                       // SLOW=1024
</pre></font>

<a name="fla"></a>
<li><big>Definice pomoci klicoveho slova FLAG:</big>
<font color=#ff0000><pre>
  FLAG j_meno[=hodnota]
</pre></font><br>
  kde j_meno je normalni nazev konstanty, ktery ale MUSI obsahovat znak &quot;_&quot; (napr. WA_Title,
  FILE_Open). FLAG vytvari dve konstanty, z nichz prvni je to same jako v pripade SET, ale &quot;F&quot;
  je pridano pred prvni znak &quot;_&quot; a druha konstanta je to same jako ENUM, ale &quot;B&quot; je
  pridano pred prvni znak &quot;_&quot;. Hodnoty se zadaveji jako v pripade SET.<br><br>

<b>    Ukazky:</b>
<font color=#ff0000><pre>
  FLAG CAR_Fast,                    // CARF_Fast=1,      CARB_Fast=0
       CAR_Auto,                    // CARF_Auto=2,      CARB_Auto=1
       CAR_Comfort,                 // CARF_Comfort=4,   CARB_Comfort=2
       CAR_Expensive                // CARF_Expensive=8, CARB_Expensive=3
</pre></font>

<a name="ins"></a>
<li><big>Preddefinovane konstanty:</big><br>
  Vsechny nasledujici konstanty jsou automaticky definovany na zacatku kompilace.

<font color=#ff0000><pre>
  TRUE    = -1
  FALSE   = 0
  NIL     = 0                    // pro ukazatele
  PI      = 3.141592653589
  OLDFILE = 1005                 // pro otevirani souboru
  NEWFILE = 1006                 // pro otevirani souboru
</pre></font>

<a name="spc"></a>
<li><big>Specialni (menitelne) konstanty:</big>
<font color=#ff0000><pre>
  OSVERSION = pozadovana verze operacniho systemu (kuk: <a href="opt.html">Volby</a>)
  STRLEN    = delka posledniho pouziteho <a href="strings.html">stringu</a>

  PrintF('Hello\n')
  len:=STRLEN                    // len obsahuje 6
</pre></font>

<a name="siz"></a>
<li><big>Konstanty s predponou SIZEOF:</big><br>
  Tyto konstanty udavaji delku kazdeho <a href="types.html">typu</a> znameho v PowerD.
  Muzete tak ziskat ale i delku vaseho <a href="object.html">objektu</a>. Staci pred
  jmeno objektu pridat predponu &quot;SIZEOF_&quot; a tato konstanta obsahuje delku
  vaseho objektu. Seznam preddefinovanych delek type:
<font color=#ff0000><pre>
  SIZEOF_BYTE   = 1
  SIZEOF_UBYTE  = 1
  SIZEOF_WORD   = 2
  SIZEOF_UWORD  = 2
  SIZEOF_LONG   = 4
  SIZEOF_ULONG  = 4
  SIZEOF_FLOAT  = 4
  SIZEOF_DOUBLE = 8
  SIZEOF_PTR    = 4
  SIZEOF_BOOL   = 2
  SIZEOF_VOID   = 4
  SIZEOF_HALF   = 2              // this equals to WORD (for PPC machines)
  SIZEOF_UHALF  = 2              // this equals to UWORD (for PPC machines)
  SIZEOF_QUAD   = 8              // this is only for 64bit PPC machines
  SIZEOF_UQUAD  = 8              // this is only for 64bit PPC machines
</pre></font>
</body>
</html>
