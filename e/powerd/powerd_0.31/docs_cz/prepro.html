<html>
<head>
  <title>PowerD.html - PreProcessor</title>
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body bgcolor=#ffffff>
<ul type=square>
<li><big>novinky:</big><br>
  <ul type=disc>
  <li>od 0.19 alpha6
    <ul type=circle>
    <li> pridano klicove slovo #include</li>
    </ul>
  </ul>
<br><br>

<li><big>uzitecne informace:</big><br>
  od verze 0.15 se automaticky definuje makro DEBUG, pokud je aktivni argument
  DS=DEBUGSYM/S. toto zjednodusuje nektere casti kodu urcene pro trasovani.<br><br>

  makra v textovych retezcich lze pouzit pouze nasledujicim zpusobem:
  <font color=#ff0000>'str1'+MAKRO+'str2'</font>, kde <font color=#ff0000>MAKRO</font> je neco jako
  <font color=#ff0000>'str'</font>.<br><br>

<li><big>syntaxe:</big><br>
  vsechna klicova slova preprocesoru zacinaji znakem '#'. tento znak musi byt vzdy
  na zacatku radky, zbytek klicoveho slova muze byt kdekoliv na tom samem radku.
<br><br>

<li><big>popis:</big><br>
  <ul type=disc>
  <li><big>#define nazev data</big><br>
    kazdy nalezeny <font color=#ff0000>nazev</font> ve zdrojovem kodu bude nahrazen
    <font color=#ff0000>daty</font>.
  <li><big>#define nazev(argumenty) data s argumenty</big><br>
    kazdy nalezeny <font color=#ff0000>nazev(argumenty)</font>
    bude nahrazen <font color=#ff0000>daty s arguymenty</font>
    kde kazdy nalezeny <font color=#ff0000>argument</font> v
    <font color=#ff0000>datech s argumenty</font> bude nahrazen
    <font color=#ff0000>argumenty</font>.
  <li><big>#ifdef nazev</big><br>
    jestlize makro <font color=#ff0000>nazev</font> neni definovano
    ve, mezi timho #ifdef a nasledujicim #endif/#else bude preskoceno.
  <li><big>#ifndef name</big><br>
    jestlize makro <font color=#ff0000>nazev</font> je definovano
    ve, mezi timho #ifdef a nasledujicim #endif/#else bude preskoceno.
  <li><big>#else</big><br>
    plati pouze za klicovym slovem #ifdef, nebo #ifndef, a obraci jeho vyznam.
  <li><big>#endif</big><br>
    ukoncuje #ifdef nebo #ifndef a #else.
  <li><big>#undefine name</big><br>
    toto vypina makro <font color=#ff0000>nazev</font>.
    jestlize makro <font color=#ff0000>nazev</font> neexistuje, nic se nestane.
  <li><big>#redefine name</big><br>
    jestlize makro <font color=#ff0000>name</font> bylo pomoci #undefine zrusen, lze je timto obnovit.
    pokud je makro definovano, nic se nestane.
  <li><big>#include 'soubor'</big><br>
    vlozi obsah souboru na misto tohoto makro prikazu.
  </ul>
<font color=#ff0000><pre>
    #define Hello PrintF('Hello\n')
    PROC main()
       Hello
    ENDPROC
</pre></font><br>
    je to same jako:
<font color=#ff0000><pre>
    PROC main()
       PrintF('Hello\n')
    ENDPROC


    #define AddThree(a,b,c) (a*b*c)
    a:=AddThree(1,2,3)
</pre></font><br>
    je to same jako:
<font color=#ff0000><pre>
    a:=1*2*3
</pre></font>

<font color=#ff0000><pre>
    PROC main()
    #ifdef DEBUG
      PrintF('Debugging!\n')
    #else
      PrintF('Yea!\n')
    #endif
    ENDPROC
</pre></font><br>
  zkompilujte toto s a bez volby DS=DEBUGSYM/S v cli a spustete, myslim, ze to bude jasne.
<br><br>

<li><big>specialitka:</big><br>
  lze pouzit zkracenou formu prirazovani polozek objektu.
  PreProcessor nahradi vsechny <tt><font color=#ff0000>x:=.y</font></tt>
  pomoci <tt><font color=#ff0000>x:=x.y</font></tt>. kde
  <tt><font color=#ff0000>x</font></tt> objekt
  <tt><font color=#ff0000>y</font></tt> je polozkou objektu, ale nesmi zacinat cislem!!!.
<br><br>

<li><big>poznamka:</big><br>
  v definici maker (#define) nejsou momentalne rozeznavany komentare, takze
  radeji pouzivejte komentare typu /* a */ namisto pouheho //, protoze by pak
  mohli vzniknout problemy jako zde:
<font color=#ff0000><pre>
  #define hello 'Hello\n'       // hello string

  hello,hello
</pre></font><br>

  se prepise jako:
<font color=#ff0000><pre>
  'Hello\n'       // hello string,'Hello\n'       // hello string
</pre></font><br>
</ul>
</body>
</html>
