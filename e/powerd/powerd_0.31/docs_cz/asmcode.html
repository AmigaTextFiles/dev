<html>
<head>
  <title>PowerD.html - Jak pouzit vnitrni assembler</title>
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body bgcolor=#ffffff>
<ul type=square>
<li><big>Popis:</big><br>
  Od verze 0.15 muze byt vnitrni assembler pouzit mnohem pohodlnejsi
  formou. Lze pouzit konstanty, promenne, atd ve vasem zdrojovem kodu.
  Lze pouzivat i obycejne PowerD <a href="comment.html">komentare</a>.<br>
  Od verze 0.18 lze pouzit klicova slova ASM/ENDASM i mimo procedury.
<br><br>

<li><big>Omezeni:</big><br>
  Vnitrni assembler vyzaduje kompletni nacitac assemblerovych instrukci.
  Je hotova podpora temer vsech 68k i ppc instrukci a adresovacich modu,
  ktere znam. To ale vyzaduje hromady tabulek a cisel ke zpracovani, a
  je mozne, ze jsem se nekde zmylil. Pokud nekde najdete chybu, dejte mi
  prosim vedet.
  <br><br>

<li><big>Syntaxe:</big><br>
  PowerD umi pouzit vnitrni assembler dvema zpusoby. Prvni zacina klicovym
  slovem <font color=#ff0000>ASM</font> a konci <font color=#ff0000>ENDASM</font>.
  Instrukce assembleru mohou byt pouzity pouze mezi temito klicovymi slovy.
  Jinak dojde k chybe. Dalsi moznost je proceduru, ktera muze obsahovat pouze
  instrukce assembleru. Takova procedura se oznacuje <font color=#ff0000>APROC</font>
  a ukoncuje se normalne pomoci <font color=#ff0000>ENDPROC</font>
<font color=#ff0000><pre>
  ASM
    tady mohou byt vase assemblerove rutinky
  ENDASM

  APROC compute(d0:LONG,d1:LONG,d2:LONG)(LONG)
    tady mohou byt vase assemblerove rutinky
  ENDPROC
</pre></font>
<li><big>Zname instrukce v PowerD:</big><br>
  PowerD zna vsechny 68k i ppc instrukce, krome instrukci supervizoru, nejakych
  mmu a nejakych fpu instrukci. Pokud narazite na instrukci, ktera neni podporovana
  a nutne ji potrebujete, obratte se na me, a ja s tim neco provedu.
<br><br>

<li><big>Adresovaci mody zname v PowerD:</big><br>
  PowerD pouziva pouze 020+ adresovaci mody, takze zastaraly zpusob jako
  123(a0) musi byt nahrazen modernejsim (123,a0). PowerD zna vsechny adresovaci
  mody. Pokud adresujete lokalni promenne, museji byt pouzity samostatne,
  zatimco globalni promenne mohou byt pouzity vcetne ruznych adresovacich
  rozsiteni:

<font color=#ff0000><pre>
  move.l  lvar,a0
  move.l  d2,lvar
  addi.l  #1,lvar

  move.l  ([gvar,pc],d0.w*8),d0
  move.l  ([gvar]),d0
</pre></font>

</ul>
</body>
</html>
