<html>
<head>
  <title>PowerD.html - Definice promennych</title>
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body bgcolor=#ffffff>
<ul type=square>
<li><big>Description:</big><br>
  Promenne jsou v PowerD definovane skrze klicove slovo <font color=#ff0000>DEF</font>.
  Promenne lze definovat temer kdekoliv uvnitr i vne procedur. Uvnitr procedur jsou tyto
  promenne pristupne pouze z dane procedury a jsou tedy <b>lokalni</b>. Promenne
  definovane vne procedur jsou pristupne ze vsech procedur, a jsou tedy <b>globalni</b>.
<br><br>

<li><big>Poznamka:</big><br>
  Globalni promenne jsou vzdy vynulovany, neni tedy nutne je nastavovat na hodnotu 0
  nebo NIL. Naproti tomu lokalni promenne pouzivaji pamet, ktera mohla byt jiz drive
  pouzita a muze obsahovat libovolne hodnoty. Je tedy dulezite lokalni promenne
  nulovat.
<br><br>

<li><big>E-Poznamka:</big><br>
  Je-li definovana promenna bez typu, je u ni standardne nastaven typ VOID, jenz pri
  pouziti jako ukazatel funguje jako PTR TO LONG, nikoliv jako PTR TO CHAR, jako je tomu
  v pripade AmigaE ci CreativE.
<br><br>

<li><big>Syntaxe:</big>
<font color=#ff0000><pre>
  DEF&lt;pt&gt; &lt;nazev&gt; [ &lt;pole&gt; ] [ =&lt;defaultni&gt; ] [ :&lt;typ&gt; ]...
</pre></font><br>
  Kuk na <a href="#sim">toto</a> pro <font color=#ff0000>&lt;pt&gt;</font> vysvetleni.
<font color=#ff0000><pre>
  DEF nazev                 // nazev je VOID/LONG/PTR TO LONG
  DEF nazev:typ             // nazev je <a href=types.html>typ</a>
  DEF nazev[]:typ           // nazev je PTR TO <a href=types.html>typ</a>
  DEF nazev[][]:typ         // nazev je PTR TO PTR TO <a href=types.html>typ</a>
  DEF nazev[a]:typ          // nazev je pole a <a href="types.html">typu</a>
  DEF nazev[a,b]:typ        // nazev je pole a*b <a href=types.html>typu</a> s sirkou a
  DEF nazev[:a]:typ         // nazev je PTR TO <a href=types.html>typ</a> s sirkou a
  DEF nazev[:a][:b]:typ     // nazev je PTR TO <a href=types.html>typ</a> s sirkou a a vyskou b
  etc.
</pre></font><br>
  (Kuk na <a href="types.html">Typy</a> pro vice informaci o znaku &quot;:&quot; mezi hranatymi zavorkami)

<font color=#ff0000><pre>
  EDEF nazev[:typ]          // pro externi promenne (kuk na <a href=pmulti.html>vice-nasobne zdrojove kody</a>)
</pre></font>
  
<a name="sim"></a>
<li><big>Jednodussi/Rychlejsi definice promennych:</big>
<font color=#ff0000><pre>
  DEFL  nazev        je to same jako  DEF nazev:LONG
  DEFUL nazev        je to same jako  DEF nazev:ULONG
  DEFW  nazev        je to same jako  DEF nazev:WORD
  DEFUW nazev        je to same jako  DEF nazev:UWORD
  DEFB  nazev        je to same jako  DEF nazev:BYTE
  DEFUB nazev        je to same jako  DEF nazev:UBYTE
  DEFF  nazev        je to same jako  DEF nazev:FLOAT
  DEFD  nazev        je to same jako  DEF nazev:DOUBLE
  DEFS  nazev[x]     je to same jako  DEF nazev[x]:STRING
</pre></font>

<li><big>Defaultni hodnoty:</big><br>
  Defaultni hodnoty jsou nastavovany dvema cestami. Prvni je pro globalni promenne,
  kde plati male omezeni, protoze globalni promenne lze priradit pouze cislo, konstantu,
  string a staticky seznam. Nic jineho. Lokalni promenne naproti tomu mohou obsahovat i
  vysledky funkce a vse ostatni.

  Kazda promenna muze obsahovat defaultni hodnotu/ukazatel na seznam/ukazatel na string:
<font color=#ff0000><pre>
  DEF num=123:LONG,
      float=456.789:FLOAT,
      name='Hello World!\n':PTR TO CHAR,
      list=[12,23,34,45,56]:UWORD
</pre></font><br>
  nebo komplexnejsi vyrazy:
<font color=#ff0000><pre>
  DEF num=12*3+232/6:LONG,
      float=31/2.2+76.3:FLOAT,
      name='Hello '+
           'Amigans!\n',
      list=[[1,2,3]:LONG,[4,5,6]:LONG,[7,8,9]:LONG]:PTR TO LONG
</pre></font><br>

  <b>Lokalni promenne</b> by nemeli byt pouzity drive, nez jsou definovany, protoze
  az pri definici se nastavuje defaultni hodnota. U <b>globalnich promennych</b> na
  tom nezalezi, protoze tam jsou vsechny hodnoty nastaveny jeste pred spustenim
  programu:
<font color=#ff0000><pre>
  PROC main()
     PrintF('n=\d, m=\d\n',n,m)
     DEF n=1
  ENDPROC
  DEF m=2
</pre></font><br>
  je to same jako:
<font color=#ff0000><pre>
  PROC main()
     DEF n
     PrintF('n=\d, m=\d\n',n,m)
     n:=1
  ENDPROC
  DEF m=2
</pre></font><br>
  To znamena, ze defaultni promenna se nastavuje az na pozici definice teto promenne.
  V tomto pripade je to az za vypranim obsahu teto promenne, coz znamena, ze ve vystupu
  nebude n=1, ale nejaka 'nahodna' hodnota z drivejsiho pouziti teto pameti.
</ul>
</body>
</html>
