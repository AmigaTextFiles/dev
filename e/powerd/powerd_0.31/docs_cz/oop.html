<html>
<head>
  <title>PowerD.html - OO programovani</title>
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body bgcolor=#ffffff>
<ul type=square>
<li><big>Popis:</big><br>
  OOP (Objektove Orientovane Programovani) je zpusob programovani, ktere je mnohem
  bezpecnejsi nez normalni programovani. To je zpusobeno tim, ze pro kazdou tridu
  je volana vlastni metoda, ktera je napsana primo pro tuto tridu.
<br><br>

<li><big>Tridy:</big><br>
  Trida je definovana stejne jako OBJECT. Abyste udelali z obycejneho objektu tridu,
  musite danemu objektu (resp. tride) priradit nejake metody (resp. procedury). Viz
  nize. Polozky trid mohou byt v metodach prispupne primo bez potreby pouzivat
  ukazatel na tridu.

  <font color=#ff0000><pre>
  OBJECT myclass
    name[16]:CHAR,
    age:CHAR,
    sex:CHAR
  </pre></font><br>

  Toto je mala trida, ktera ma tri polozky name, age a sex.
<br><br>

<li><big>Konstruktory and destruktory:</big><br>
  Kazda OOP trida (resp. objekt) se musi nejak vytvorit nez se zacne pouzivat a pak
  nejak smazat po jejim pouziti. Konstruktor je specialni funkce (resp. metoda),
  ktera alokuje pamet a vycisti ji aby byla pripravena pro pouziti.

  Momentalne je alokace a vycisteni jedine operace, kterou konstruktor provadi.

  Kdyz konstruktor vytvori tridu, lze ji pouzivat dle libosti. Po dokonceni vsech
  operaci s danou tridou je treba zavolat destruktor, ktery uvolni pamet alokovanou
  konstruktorem.

  momentalne je destruktor preddefinovana funkce nazvana '_end()'. Musi to byt
  posledni metoda, kterou pro danou tridu volate.

  <font color=#ff0000><pre>
  PROC main()
    DEF class:PTR TO myclass()  // toto je konstruktor

    ... nejaky kod ...

    class._end()                // toto je destruktor
  ENDPROC
  </pre></font><br>

  zde je definovana OOP promenna nazvana 'class', ktera ukazuje na objekt 'myclass'.
  Pri teto definici je volan konstruktor, ktery alokuje potrebnou pamet, a na konci
  teto procedury je volan destruktor teto promenne.

<br><br>

<li><big>Metody:</big><br>
  Metody jsou funkce, ktere jsou napsany pouze pro danou tridu. Existuje dve
  specialni metody '_new()' a '_end()', ktere se nazyvaji konstruktor a destruktor.
  Konstruktor je automaticky volan pri definici, takze se o nej nemusite vubec
  starat.<br><br>

  Kazda metoda je volana z jeji tridy, a je potreba mit pristup k polozkam teto
  tridy. Pro tento ucel se automaticky vytvari promenna '<b>self</b>', ktera
  ukazuje na danou tridu.

  <font color=#ff0000><pre>
  PROC set(newname,newage,newsex) OF myclass
    StrCopy(name,newname)
    age:=newage
    sex:=newsex
  ENDPROC

  PROC print() OF myclass
    PrintF('\s \s is \d years old.\n',IF sex="m" THEN 'mr' ELSE 'mrs',name,age)
  ENDPROC
  </pre></font><br>

  Toto je definice dvou metod, kde prvni nastavuje vsechny informace tridy, a druha
  je vypisuje do cli. Jak je videt, je v kodu pouzito '<b>OF myclass</b>'. Toto je
  klicove slovo, ktere prirazuje proceduru k objektu a tim dela z teto procedury
  metodu a z tohoto objektu tridu. A jak je videt, lze v techto metodach pristupovat
  na polozky trid primo '<b>age</b>' bez pouziti ukazatele na tridu '<b>self.age</b>'.
  <br><br>

  K volani metod pouzijte:
  <font color=#ff0000><pre>
  class.set('MarK',24,"m")
  class.print()
  </pre></font><br>

  A pokud zkompilujete cely programek a spustite ho, vypise toto:
  <font color=#0000ff><pre>
  mr MarK is 24 years old.
  </pre></font><br>
<br><br>

<li><big>Kompletni ukazka:</big><br>
  <font color=#ff0000><pre>
  OBJECT myclass
    name[16]:CHAR,
    age:CHAR,
    sex:CHAR

  PROC set(newname,newage,newsex) OF myclass
    StrCopy(name,newname)
    age:=newage
    sex:=newsex
  ENDPROC

  PROC print() OF myclass
    PrintF('\s \s is \d years old.\n',IF sex="m" THEN 'mr' ELSE 'mrs',name,age)
  ENDPROC

  PROC main()
    DEF class:PTR TO myclass()  // toto je konstruktor

    class.set('MarK',24,"m")
    class.print()

    class._end()                // toto je destruktor
  ENDPROC
  </pre></font>
</ul>
</body>
</html>
