<html>
<head>
  <title>PowerD.html - PowerD kompilace projektu</title>
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body bgcolor=#ffffff>
<ul type=square>
<li><big>popis</big><br>
  jestli jste nekdy psali nejaky delsi program, zjistili jste, ze by
  bylo lepsi jej rozdelit do vice zdrojovych souboru, nez aby byl cely
  v jednom. PowerD projekt kompilator toto udela za vas. obsahuje
  nejakou inteligenci, a bude kompilovat pouze ty soubory, ktere se
  zmenily. powerd_fpu.lib bude prilinkovano automaticky.
<br><br>

<li><big>pouziti</big><br>
  PowerD projekt kompiler (pc) ma nekolik argumentu:
<font color=#0000ff><pre>
  pc FROM/A,A=ALL/S,DS=DEBUGSYM/S,MS=MONAMSYM/S,AI=ASMINFO/S,R=RUN/S,NW=NOWARN/S
</pre></font><br>
  <font color=#0000ff>FROM</font> je jmeno projektu bez pripont '.dpr'.<br>
  <font color=#0000ff>ALL</font> zkompiluje vsechny soubory v projektu, vcetne tech, ktere se nezmenily.<br>
  <font color=#0000ff>DEBUGSYM</font> zkompiluje soubory vcetne trasovasich symbolu.<br>
  <font color=#0000ff>ASMINFO</font> zkompiluje soubory s 'dc ASMINFO' volbou, aby byly vystupy v assembleru citelnejsi.<br>
  <font color=#0000ff>RUN</font> spusti zkompilovany soubor.<br>
  <font color=#0000ff>NOWARN</font> nebude zobrazovat varovani.<br>
<br>

<li><big>vlastnosti</big><br>
  pokud nebude aktivni volba <font color=#0000ff>ALL</font>, pc bude
  porovnavat kazdy objektovy #?.o soubor se souborem zdrojovym #?.d,
  a pokud bude #?.d soubor mladsi, bude zkompilovan, pokud bude starsi,
  bude tento soubor preskocen, a pouze prilinkovan.
<br><br>

<li><big>historie</big><br>
  <ul type=disc>
  <li>0.1 to 0.3 - nemuzu si vzpomenout :P
  <li>0.4 - prepsano z E do D, zmenen format projektoveho souboru (#?.dpr),
    odstraneny nektere chyby, pridana chybova hlaseni, pridana volba NOWARN,
    odstranena volba MONAMSYM (nyni je vyuzita automaticky).
  </ul>
<br><br>

<li><big>budoucnost</big><br>
  <ul type=disc>
  <li>rozdilna jmena pro zdrojove a objektove soubory</li>
  <li>vice voleb</li>
  <li>uzivatelske prostredi</li>
  <li>vase napady?</li>
  </ul>
<br><br>

<li><big>projekt soubor</big><br>
  kazdy soubor MUSI zacinat s testem 'PowerD Project v1' na prvni radce (zalezi i na velikosti pismen).
  PC rozeznava take komentare zacinajici s //, nebo ohranicenymi /* a */.
  vsechny objektove soubory by meli byt uvedeny pomoci klicoveho slova OBJ nebo OBJECT (na velikosti pismen nezalezi).
  objektove soubory museji byt definovany vcetne '.o' pripony, a jejich zdrojove kody museji mit stejne jmeno, 
  ovsem s priponou '.d'. cesta k temto souborum muze byt jak relativni (//obj/obj.o), tak i absolutni (src:obj/obj.o).
  vsechny linkovaci knihovny by mely byt uvedeny klicovym slovem LIB.
  pak lze definovat startovaci objektovy soubor pomoci klicoveho slova HEAD, HEADER nebo STARTUP.
  pokud nebude pouzito zadne z techto klicovych slov, bude pouzit defaultni startovaci soubor (d:lib/startup.o).
  a nakonec se MUSI definovat nazev vystupniho spustitelneho souboru pomoci klicoveho slova EXE, OUT nebo OUTPUT.

<br><br>

<li><big>ukazka</big>
<font color=#0000ff><pre>
  PowerD Project v1

  // main source file:
  obj='src:draw.o'

  // rest objects:
  obj='src:gfx/drawmesh.o'
  obj='src:io/loadmesh.o'

  // executeble file:
  exe='src:draw'
</pre></font><br>
  nazveme t ento soubor 'projekt.dpr', tak potom muzeme v cli napsat:
<font color=#0000ff><pre>
  pc projekt run
</pre></font><br>
  timto se soubory 'src:draw.d', 'src:gfx/drawmesh.d' a 'src:io/loadmesh.d'
  podle potreby zkompiluji a jejich objektove soubory budou slinkovany vcetne
  defaultni hlavicky 'd:lib/startup.o' a 'd:lib/powerd_fpu.lib' linkovaci knihovny
  do jedineho 'src:draw' spustitelneho souboru. a tento soubor bude spusten.
</ul>
</body>
</html>
