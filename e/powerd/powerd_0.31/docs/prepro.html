<html>
<head>
  <title>PowerD.html - PreProcessor</title>
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body bgcolor=#ffffff>
<ul type=square>
<li><big>News:</big><br>
  <ul type=disc>
  <li>From 0.19 alpha6
    <ul type=circle>
    <li> added #include keyword
    </ul>
  </ul>
<br><br>

<li><big>Useful information:</big><br>
  From v0.15 is automaticaly defined macro DEBUG when DS=DEBUGSYM/S argument
  has been set. This simplifies special parts of code for debugging.
  From v0.14 is PowerD PreProcessor fully global, it means that You are not
  so limited like in older versions. Now can be macros used everywhere You
  like.<br>
  From v0.12 You can't use macros inside strings. If You use it, the macro won't be
  recognized. If You need it use sth like: <font color=#ff0000>'str1'+MACRO+'str2'</font>, where <font color=#ff0000>MACRO</font> is sth like
  <font color=#ff0000>'str'</font>.<br><br>

<li><big>Syntax:</big><br>
  All preprocessor keywords leads with '#' character. This character must
  be always at the beginning of the line. Rest of the keyword can continue
  everywhere you like on the line.
<br><br>

<li><big>Description:</big><br>
  <ul type=disc>
  <li><big>#define name data</big><br>
    Each occurence of <font color=#ff0000>name</font> will
    be replaced with <font color=#ff0000>data</font>.
  <li><big>#define name(arguments) data with args</big><br>
    Each occurence of <font color=#ff0000>name(args)</font>
    will be replaced with <font color=#ff0000>data with args</font>
    where all <font color=#ff0000>arguments</font> found in
    <font color=#ff0000>data with args</font> will be replaced
    with <font color=#ff0000>args</font>.
  <li><big>#ifdef name</big><br>
    If macro called <font color=#ff0000>name</font> is NOT
    defined, everything between this #ifdef and next #endif/#else will be
    skipped.
  <li><big>#ifndef name</big><br>
    If macro called <font color=#ff0000>name</font> IS
    defined, everything between this #ifdef and next #endif/#else will be
    skipped.
  <li><big>#else</big><br>
    Allowed only after one of #ifdef or #ifndef. This makes possible to use
    eg. one code for debugging and other code for pure code.
  <li><big>#endif</big><br>
    Allowed and required only after one of #ifdef or #ifndef.
  <li><big>#undefine name</big><br>
    This turns off macro called <font color=#ff0000>name</font>.
    If the macro <font color=#ff0000>name</font> already undefined
    nothing will happen.
  <li><big>#redefine name</big><br>
    If macro called <font color=#ff0000>name</font> undefined,
    this will again redefine it, if no nothing will happen.
  <li><big>#include 'file'</big><br>
    Contents of file will be placed into source code instead of this command.
  </ul>
<font color=#ff0000><pre>
    #define Hello PrintF('Hello\n')
    PROC main()
       Hello
    ENDPROC
</pre></font><br>
    is the same as:
<font color=#ff0000><pre>
    PROC main()
       PrintF('Hello\n')
    ENDPROC


    #define AddThree(a,b,c) (a*b*c)
    a:=AddThree(1,2,3)
</pre></font><br>
    is the same as:
<font color=#ff0000><pre>
    a:=1*2*3
</pre></font>

<font color=#ff0000><pre>
    PROC main()
    #ifdef DEBUG
      PrintF('Debugging!\n')
    #else
      PrintF('Yea!\n')
    #endif
    ENDPROC
</pre></font><br>
  Compile this with and without the DEBUGSYM/S cli argument and launch it,
  I thing it is clear :)
<br><br>

<li><big>Special:</big><br>
  From v0.12 you are able to use shorted object member assignation.
  PreProcessor will replace all of <tt><font color=#ff0000>x:=.y</font></tt>
  by <tt><font color=#ff0000>x:=x.y</font></tt>. Where
  <tt><font color=#ff0000>x</font></tt> is an object and
  <tt><font color=#ff0000>y</font></tt> is the object's member, but it mustn't begin with number!!!.
<br><br>

<li><big>Note:</big><br>
  In macro definition (#define) aren't currently recognized any comments
  so when You use them, use /* and */ comments. // and -> may make some
  problems like here:
<font color=#ff0000><pre>
  #define hello 'Hello\n'       // hello string

  hello,hello
</pre></font><br>

  will be processed as
<font color=#ff0000><pre>
  'Hello\n'       // hello string,'Hello\n'       // hello string
</pre></font><br>
</ul>
</body>
</html>
