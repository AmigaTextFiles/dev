<html>
<head>
  <title>PowerD.html - LIBRARY MODULE definition</title>
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body bgcolor=#ffffff>
<ul type=square>
<li><big>Description:</big><br>
  Libraries are on Amiga used very often, they contains many useful
  functions. It is ofcourse possible to use them in PowerD.
<br><br>

<li><big>Syntax:</big>
<font color=#ff0000><pre>
  LIBRARY &lt;libbase&gt;
    &lt;name&gt;( [ &lt;args&gt; ] ) [ (&lt;result&gt;) ] [ =&lt;offset&gt; ] [,...]
</pre></font>

<li><big>Function arguments:</big><br>
  Each argument starts with register (eg.: d0,d1,a0,a1,fp0,fp1,...), then should follow
  a <a href="types.html">type</a>. It is also possible to use 'LIST OF' keyword, that is used for
  inline lists. This must be last argument, since it may contain variable number of
  arguments. (eg.: <font color=#ff0000>PrintF('\d*\d=\d\n',a,b,a*b)</font> where a, b, a*b are arguments of list)
<br><br>

<li><big>Default argument values:</big><br>
  If you want to use default arguments in library functions like in procedures, just
  insert after register '=value', where value is a <a href="values.html">number</a> or a <a href="const.html">constant</a>.
<br><br>

<li><big>Return values:</big><br>
  All functions in Amiga libraries currently returns maximally one value in D0 register.
  This way you can create your own libraries that wont be so limited. If you wont define
  return register/type, register (D0:VOID) will be used.
<br><br>

<li><big>Library offsets:</big><br>
  Initial library offset is -30 (default Amiga library first function offset).
  After each function is this offset decreased by 6.
<br><br>

<li><big>Examples:</big>
<font color=#ff0000><pre>
  LIBRARY DrawBase
    DrawPixel(a0:PTR TO RastPort,d0:WORD,d1:WORD),
    DrawLine(a0:PTR TO RastPort,d0:WORD,d1:WORD,d2:WORD,d3:WORD),
    ReadPixel(a0:PTR TO RastPort,d0:WORD,d1:WORD)(d0:WORD)=-48,
    VTextF(a0:PTR TO RastPort,d0:WORD,d1:WORD,a1:PTR TO UBYTE,a2=NIL:PTR TO LONG),
    TextF(a0:PTR TO RastPort,d0:WORD,d1:WORD,a1:PTR TO UBYTE,a2:LIST OF LONG)=-54
</pre></font>
</ul>
</body>
</html>
