<html>
<head>
  <title>PowerD.html - SELECT definition</title>
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body bgcolor=#ffffff>
<ul type=square>
<li><big>News:</big>
  <ul type=disc>
  <li>0.20a2
    <ul type=circle>
    <li>added SELECTED keyword
    <li>doesn't matter on order of CASE/DEFAULT/SELECTED keywords
    </ul>
  </ul>
<br><br>

<li><big>Syntax:</big>
<font color=#ff0000><pre>
  SELECT &lt;exp&gt;
  CASE &lt;exp1&gt;             // multiple CASEs can occur
    &lt;statements1&gt;
  CASE &lt;exp2&gt;
    &lt;statements2&gt;
  ...
  [ DEFAULT
    &lt;statements&gt; ]
  [ SELECTED
    &lt;statements0&gt; ]
  ENDSELECT [ &lt;list&gt; ]
</pre></font><br>
  <font color=#ff0000>&lt;exp&gt;</font> is a source expression which will be compared with each of
  <font color=#ff0000>&lt;exp1&gt;</font> expressions. <font color=#ff0000>&lt;exp1&gt;</font> can contain multiple expressions.
  (See below.) If atleast one of them will be the same as result of
  <font color=#ff0000>&lt;exp&gt;</font>, <font color=#ff0000>&lt;statements1&gt;</font> will be processed. If no, next <font color=#ff0000>CASE</font>
  will be tested. If no <font color=#ff0000>CASE</font> matched the <font color=#ff0000>&lt;exp&gt;</font>, <font color=#ff0000>&lt;statements&gt;</font>
  (after <font color=#ff0000>DEFAULT</font>) will be processed. And if atleast one of <font color=#ff0000>CASE</font>s was tested successfully, the
  <font color=#ff0000>&lt;statements0&gt;</font> will be processed when finished.
<br><br>

<li><big>Multiple expressions:</big><br>
  Single expressions must be separated by a comma (,):
<font color=#ff0000><pre>
  CASE &lt;a&gt;,&lt;b&gt;; &lt;statements&gt;
</pre></font><br>
  If <font color=#ff0000>&lt;exp&gt;</font> equals to <font color=#ff0000>&lt;a&gt;</font> or <font color=#ff0000>&lt;b&gt;</font>, <font color=#ff0000>&lt;statements&gt;</font>
  will be processed.
<br><br>

<li><big>Arrays in expressions:</big><br>
  <font color=#ff0000>&lt;exp1&gt;</font> can contain also arrays, which are made with TO keyword:
<font color=#ff0000><pre>
  CASE &lt;a&gt; TO &lt;b&gt;; &lt;statements&gt;
</pre></font><br>
  where <font color=#ff0000>&lt;a&gt;</font> is bottom and <font color=#ff0000>&lt;b&gt;</font> is top of the array. If
  <font color=#ff0000>&lt;exp&gt;</font> fits to the array <font color=#ff0000>&lt;statements&gt;</font> will be processed.<br><br>

  NOTE: <font color=#0000ff>Both of the above can be ofcourse combined!</font>
<br><br>

<li><big>Returning values:</big><br>
  Please take a look at the examples below, especially take a look at 'IS' keyword.
<br><br>

<li><big>Examples:</big>
<font color=#ff0000><pre>
  SELECT age
  CASE 0 TO 17
    PrintF('Young\n')
  CASE 18 TO 50
    PrintF('Adult\n')
  CASE 51 TO 120
    PrintF('Old\n')
  DEFAULT
    PrintF('What???\n')
  ENDSELECT

  name:=SELECT Person.ID
    CASE 1 IS 'Paul'
    CASE 2 IS 'Jenny'
    CASE 3 IS 'Peter'
    CASE 4 IS 'Mark'
    ENDSELECT 'unknown'
</pre></font><br>

  Check these examples with several values, and be sure You will understand it.
<font color=#ff0000><pre>
  PROC main()
    DEF a,s[16]:STRING
  
    PrintF('Enter a number 1-10: \n')
    ReadEStr(stdout,s)
    a:=Val(s)
    SELECT a
    SELECTED;     PrintF('good selection!\n')
    DEFAULT;      PrintF('bad number!\n')
    CASE 1 TO 3;  PrintF('gimme more!\n')
    CASE 4 TO 6;  PrintF('average!\n')
    CASE 7 TO 9;  PrintF('that much?\n')
    CASE 10;      PrintF('too much...\n')
    ENDSELECT
  ENDPROC
  
  PROC main()
    DEF a,s[16]:STRING
    PrintF('Enter Your age 1-100: \n')
    ReadEStr(stdout,s)
    a:=Val(s)
    PrintF('You are \s.\n',
      SELECT a
      CASE  0 TO  3 IS 'small baby'
      CASE  4 TO  6 IS 'baby'
      CASE  7 TO 10 IS 'child'
      CASE 11 TO 19 IS 'teenager'
      CASE 20 TO 50 IS 'adult'
      CASE 51 TO 99 IS 'old'
      DEFAULT       IS 'not a human ;)'
      ENDSELECT)
  ENDPROC
</pre></font>
</ul>
</body>
</html>
