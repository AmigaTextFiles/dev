@database NRcobol.guide

@remark Copyright ©1997-1999 by cHArRiOTt
@author "cHArRiOTt"

@macro bold "@{b}$1@{ub}"
@macro italic "@{i}$1@{ui}"
@macro uline "@{u}$1@{uu}"

@master NRcobol.guide
@Width 80
@node main
@title "NRcobol 1.0g, ©1997-1999 by cHArRiOTt "



                 @{b}NRcobol 1.0g@{ub} Copyright ©1997-1999 by cHArRiOTt



                   @{" Introduction " link "Introduction" 0}
                   @{" Installation " link "Installation" 0}
                   @{" Usage        " link "Usage" 0}
                   @{" Syntax       " link "Syntax" 0}
                   @{" Implemented? " link "Implemented?" 0}
                   @{" History      " link "History" 9999}
                   @{" Todo         " link "Todo" 0}
                   @{" Bugs         " link "Bugs" 0}
                   @{" Feedback     " link "Feedback" 0}
                   @{" Contacts     " link "Contacts" 0}
                   @{" Salutations  " link "greetings" 0}
                   @{" Distribution " link "Distribution" 0}
                   @{" Credits      " link "Credits" 0}
                   @{" Disclimer    " link "Disclimer" 0}


                   @{" Apologies    " link "Sorry!" 0}
                   @{" Thank You    " link "Thank-you!" 0}
                   @{" and finally? " link "final" 0}



               NUff REsPEct.....peace n more time.



@endnode

@node  Introduction
@title "Introduction"
 Why COBOL?
 **********


   To those of you thinking not another new language, COBOL is in fact one
   of the oldest high-level languages, its roots going back to the late
   1950's. Ofcourse there are those of you who already know this but regard
   COBOL as not so much an high-level language, as the original computer
   virus. To these people i say RESPECT the source of the mother tounge. (sic!)

   When so many languages have come and gone (what ever happended to Modulus II,
   and who outside of the Amiga community has heard of 'E;), COBOL (with the most
   source code on the planet, circa 89) has seen in the advent of STRUCTURED,and now
   OBJECT methodologies, its adapted absorbing the latest in Database Management,
   SQL etcetera, and gone on from strength to strength. Indeed as an introduction
   to records there's alot to be said in its favour. So when people say why,
   i say why not?


   This implementation of COBOL is largely ANSI 85 compatable and takes the
   form of MicroSoft(TM) COBOL, with maybe the exception of some stuff in
   ENVIRONMENT DIVISION - SPECIAL-NAMES. And some stuff left over from the days
   when memory was premium and no one had the imagination to contemplate speed.
   see @{"Implemented?" link "Implemented?" 0}

   This would have been bought to you sooner, if it weren't for the moron, in
   the bedsit downstairs, with something of an habit!! which in lean times
   even extend to a fixation with gas. 'would you adam n eve it'.

   WARNING dope really @&*$% you up! something to do with short term memory
   going to pot!


STOP THE PRESS!.

 "COMPUTING" MAY 8th 97

 'Cobol crisis looms' The skills cris is luring Cobol programmers out of
 retirement with offers  of up to £1000 ($1700) per day......  hmm :-)


@endnode
@node Installation
@title "Installation"
 Installation
 ************


   Nothing could be simpiler, Just copy the runtime program 'RUNCOB'
   anywhere in your path, that's ram: c: or in the same directory as the
   created .INT files.

   Files with the extension .INT are created as a result of successfully
   running NRCOBOL ..see @{"Usage" link "Usage" 0}

   There are several ToolTypes which you'll need to tailor to suite your
   system. To access these single click on the icon of NRCOBOL, then select
   information from the sysem menu to find the following:

   TEXTEDITOR=C:ed
       edit cobol source file.

   TEXTVIEWER=sys:utilities/multiview
       view list / debug files, if not set then the editor set for TEXTEDITOR
       is used.

   SOURCEDIR=
       where cobol source files are to found by NRCOBOL's requester
   RUNCOBDIR=
       where runcob prog is to be found, default ram: c: or current directory
       Note: the absence of a space after the '=' and in the case of SOURCEDIR
       and RUNCOBDIR if a directory is stated it should end with ':' or '/'

   To avoid those moments of head scratching, you are advised to use ABSOLUTE
   path names.  see.. @{" Thank You " link "Thank-you!" 0}


   If you are one the few who haven't yet discovered 'UrouHack' by @{"Tinic Urou" link "UrouAuthor" 0}
   then i urge you to get hold of a copy aminet util/wb. This prog redefines
   the system gadgets to very impressive xen like gadgets and leaves the rest
   of the system looking like MUI, and then some, without slowing the system
   down. If that's not reason enough, it also improves the appearence of this
   prog :)

@endnode
@node  Usage
@title "Usage"
 Usage
 *****


   After creating your cobol source file with your favourite text editor,
   and saving it with the .COB extention you have a choise of evoking the
   compiler from @{b}CLI/shell@{ub} or @{b}Workbench@{ub}.

   From @{b}CLI/SHELL@{ub}

     NRCOBOL <sourcefile>.(COB | CBL) [-l] [-d] [-e] [-r]

   where the optional flags:

     -l   produces a simple listing  <sourcefile>.LST
     -d   produces a debug  listing  <sourcefile>.DBG
     -e   errors terminate compilation.       [wildcard option]
     -r   Report file '.NRCOBOL.report' OFF.  [wildcard option]

   The wildcard pattern match option will now recognize #?.(cob|cbl)

   A successfull compilation produces <sourcefile>.INT
   to run type...  RUNCOB <sourcefile>.INT




   From @{b}Workbench@{ub}

     Use of the program from workbench is self explanatory, but for those
     too dim.


     +-----------------------------------------------+
     |                                          [.][#]
     |+--------------------------------------------+-|
     ||Titles                                     || |    <-- What When Who
     ||                                           || |
     ||                                           || |
     |+-------------------------------------------+| |
     |File: |                                     || |    <-- current sourcefile.COB
     |      +-------------------------------------+| |
     |____________________________________________ | |
     ||                                           || |
     || IDENTIFICATION                 *          || |    <-- status block
     || ENVIRONMENT                    *          || |         *'s replaced by
     || DATA                           *          || |        PASSED or FAILED
     || PROCEDURE                      *          || |
     ||                                           || |
     ||                                           || |    <-- current line
     |+-------------------------------------------+| |
     |+--------+ +-+      +---+       +--+ +------+| |    <-- ancillary output files
     ||        | | | List +---+ Debug +--+ |      || |        as  .LST  and/or .DBG
     ||COMPILE | |>| +--------+ +--------+ |EDITOR|| |
     ||        | | | |  ABORT | |  RUN!  | |      ||_|
     |+--------+ +-+ +--------+ +--------+ +------+|=|
     +---------------------------------------------+-+

          ^       ^                           ^
          |       |                           |
          |       |             Edit sourcefile.COB/LST/DBG
          |   filerequester
    Make it so #1


   The Editor option allows one to view sourcefile.COB, sourcefile.LST or
   sourcefile.DBG. The file editor defaults to 'ED' as supplied in sys:c.
   You can however, set TEXTEDITOR in NRCOBOL's icon to launch your favourite
   editor. eg  TEXTEDITOR=c:ced . Note no space between = and editor named.
   see.. @{" Installation " link "Installation" 0}


   The menu options allow:

     1, A window on a custom screen, ie high resolution non interlace or
        a window on the current public screen.
     2, Fat Screen option, as used by VAX / ALPHA VMS  SD:)
     3, Font Sensitive Screen.
     4, The date check on debug/listing files can to be disabled,
        ie, open the last debug/listing file related to current cobol source file,
        regardless of the date on the source file.
     5, Remembers the current directory, the next time you use NRCOBOL.

     6, Terminal runtime check on SIZE ERROR condition.
     7, ditto for OVERFLOW ERROR.
     8, switch zone check from error to non terminal warnings
     9, Runtime Trace, compilation creates <sourcefile>.TRC file for special DEBUG
        environment mode. see...@{" Runtime Trace " link "DEBUG" 0}


   In both cases an ICON is produced named <sourcefile>.INT
   to execute just double click.


   The debug option produces a file which you may find useful in locating
   runtime errors, which sadly is normal for cobol. Usually this is to do
   with uninitialised variables, you know, finding alpha data in a numeric
   field.


   Runtime errors usually return a value in the form 0x????, where 0x???? is an
   offset into the data space allocated in the Data Division. Stradling values,
   ie value between offset values indicates a postion within a table,
   (a subsripted identifier).  see...@{" Runtime Errors " link "Errors" 0}


   For those of you looking to automate compilation, possibly using
   Arexx, the following codes are now returned by NRCOBOL:

      8000  nrcobol ?   called
      8001  filename    error
      8002  compilation error
      8003  savefile    error (.int or T:debug_) file
      8004  identifier  limits
      8005  too many files found with wildcard.  [500 max]
      1002  memory      error


@endnode
@node  Errors
@title "Errors"
 Runtime Errors
 **************


       Occasionally Runcob will abort with a messasage on the
       last line of the screen. This is quite normal.

       Here are all the messages to date, with the possible
       reason for the mesage:

       Identifier(s)
          Non numeric
          Size overflow
          Divide by zero
          Whole exponential expected
          Exponential to large
          Type conflict
          Sign error
          Integer error

          Subscripts error
          String Overflow error
          Reference modifier error
          Depend range exceeded
          Arithmetic error

       OS
          Intuition failure
          Diskfont failure
          Screen failure
          Graphics failure
          Window failure

          Program error
          Program ok for now!
          Overlaping structures

          Function not yet implemented!
          Program aborted

       Resouces
          Not enough memory
          Unable to open sys device
          Arithmetic stack error
          Function error
          Display error

       File i-o
          Read error
          Read Boundary error     ...check file format/organization
          Write error
          Index file error
          General file error
          Relative file error
          File mode error         ...check OPEN mode's related to I-O statement
          Invalid key error
          File End error
          Linage error
          Sort error
          Merge error

       SubProgram
          Call/Exit error
          Call/Exit Nested error
          Call/Exit Recursive error

       Sorry!, even i dont know
          Unknown error code


       Most of these you should never come across, but if you do....

@endnode
@node  DEBUG
@title "Debug"
 Animator
 ********


   The Debug mode is activated when the 'RUN' button is pressed after
   a file has been compiled in 'Runtime Trace' mode. This opens a window
   which allows a program's operation to be traced.

   The options are:

       STEP       single step through program code
       STEP THR   step over PERFORM/CALL statements
       STEP ALL   automatically step through ALL code lines untill STEP or PAUSE.

       RUN  THR   Execute code at normal speed untill STOP RUN or a BreakPoint is encountered.
                  A BreakPoint is set when the user clicks on any legal line of code.
                  A 'T' in column 7 flags a BreakPoint or Traced line.

       PAUSE      used to hault STEP ALL, without affecting STEP ALL's speed.

       EXAMINE    Opens a window which shows all defined identifiers.
                  single click reveals contents.

   The 'Examine' window now supports 'Find First' and 'Find Next'.
   In the main 'Animator' window, (double) select the closest legal line to required 'data-name'

   then select:

       FIND FIRST locates and highlights first 'data-name'
       FIND NEXT  locates next relative 'data-name'


   if you like, let me know. Ideas for improvements welcomed!

@endnode
@node  Syntax
@title "Syntax"
 Syntax
 ******


   I may at a later date add the syntax, in the mean time the following
   books are recomended:


   -  COBOL for the IBM Personal Computer by kip R Irvine

   -  COBOL for the 80's                  by J Wayne Spence

   -  Structured  Programming in COBOL    by B J Holmes

   -  COBOL 85 for programmers            by Jim Inglis

   -  COBOL for students, fourth edition  by Andrew Parkin
                                             Richard Yorke


   @{"OK go on then.." link "OK" 0}


@endnode
@node  OK
@title "OK go on then..  "
 The basics
 **********


    @{b}The Syntax of the COBOL Language@{ub}


    At the momment COBOL has strict rules on where different parts of the program
    should be, a legacy of the days of coding sheets. So lets start with the ruler.

    The COBOL Ruler and the COBOL Source File @{"Program Syntax" link "ProgramSyntax" 0}



         1         2         3         4         5         6         7
1234567890123456789012345678901234567890123456789012345678901234567890123456789
      ^^             ^
      ||
      |@{"The A Zone" link "A" 0}  @{"The B Zone" link "B" 0}
      |


    The seventh column is reserved for several
    special purposes. These are: @{b}*  /  -  D  $@{ub}


    '@{b}*@{ub}': When the 7th column contains an '*' , the entire line is taken
    to be a comment.


    '@{b}/@{ub}': A '/' in the 7th column behaves in much the same way as
    an asterisk, in that the entire line is taken to be a comment. The
    only difference is that in the compiler listing [if one is produced]
    there will be a page break before the comment is printed. This can be
    used to enhance the readability of the source listing.
    See examples.


    '@{b}-@{ub}': When the 7th column contains a '-', the line is taken to be a
    continuation of the previous line.
    See examples.


    '@{b}D@{ub}': The letter 'D' in the 7th column flags the line as a debugging line.
    The line will be conditionally compiled for debugging.  If the
    source-computer paragraph has the phrase WITH DEBUGGING MODE, the line
    will be compiled. This feaure is used by some compilers to provide a
    program trace. @{"See example" link "example" 0}.


    '@{b}$@{ub}': this is used signel the use of a limited set of compiler directives:

         $IF constant-name [NOT] DEFINED
         $IF constant-name [NOT] < > = literal

         $ELSE
         $END
         $EJECT          ...form feeds listing.

         $SET CONSTANT literal  @{"See example" link "example" 0}.
         alternately a constant can be defined as level 78 literal


    '@{b}T@{ub}': keep watching this space.

@endnode
@node A
@title "A Margin"
 The A Margin
 ************


     Positions 8-11 is used in general for Division, Section and Paragraph
     names. The execption to this being the 01 level label in the data
     division. @{"See example" link "example" 0}.


@endnode
@node B
@title "B Margin"
 The B Margin
 ************


     Positions 12-72 used for data and programe code.
     Note comment entry are allowed in some compilers from position 73+.
     @{"See example" link "example" 0}

@endnode
@node ProgramSyntax
@title "Program Syntax"
 Program Syntax
 **************


    Any COBOL program is composed of exactly four divisions:
    identification, environment, data and procedure. These divisions
    appear explicitely in the COBOL source in the form:


	division name  DIVISION.


    Each division may be further subdivided into sections and paragraphs.
    For further information, select from the following list of divisions:


      @{" The IDENTIFICATION Division " link "IDENTIFICATION" 0}
      @{" The ENVIRONMENT division    " link "ENVIRONMENT" 0}
      @{" The DATA division           " link "DATA" 0}
      @{" The PROCEDURE division      " link "PROCEDURE" 0}



 If you have a problem remembering the exact order in which the divisions
 must appear in the COBOL source file, try the mneumonic: "I Enjoy Data
 Processing", or even "In Every Dam Program, there are four divisions".
 @{"See example" link "example" 0}




@endnode
@node IDENTIFICATION
@title "IDENTIFICATION"
 The IDENTIFICATION Division
 ***************************


    The identification division provides information about the program. Of
    this information, only the name of the program, specified in the
    PROGRAM-ID paragraph, is essential.

       IDENTIFICATION DIVISION.
       PROGRAM-ID. program-name.
       [AUTHOR. comment.]
       [INSTALLATION. comment]
       [DATE-WRITTEN. comment]
       [DATE-COMPILED. comment]
       [SECURITY. comment]


    The program name is just a user-defined name. It doesn't seem to have
    much of a use, and therefore some authors recommend that if at all
    possible [given OS constraints], the program name should be chosen to
    equal the name of the source file.

    The compilation date paragraph contains the
    date of the most recent compilation.

    Supposedly some COBOL compilers, VAX-COBOL and IBM COBOL/2 (thanks ron) will
    automatically update the comment in this paragraph each time the
    program is re-compiled, but why?

    A user-defined name is a sequence of
    characters satisfying the following conditions:


    The length of a user-defined name cannot exceed 30 characters.

     -  A user defined name can contain letters, digits, or the hyphen.
     -  A user-defined name cannot begin with a hyphen.
     -  A user-defined name must contain at least one letter.



    @{"See example" link "example" 0}

@endnode
@node ENVIRONMENT
@title "ENVIRONMENT"
 The ENVIRONMENT Division
 ************************


    The purpose of the environment division is to abstract out of the
    program all of its system-dependent aspects. Some of those aspects
    are:

    Information for humans, on the type of computers used for
    developement and execution of the given program.

    Information as to the character set assumed throughout the
    program, as well as any special aliases the programmer might want to
    use.

    Comment fields provide information on the developement and target
    computers.


       ENVIRONMENT DIVISION.
       [CONFIGURATION SECTION]
       [SOURCE-COMPUTER. [comment [with DEBUGGING MODE].]]
       [OBJECT-COMPUTER. [comment.]]
       [INPUT-OUTPUT  SECTION]
       [SPECIAL-NAMES.
        [SWITCH ....]
        [ALPHABET ..]  syntax only
        [CLASS  ....]
        [CURRENCY sign is literal]
        [DECIMAL-POINT is COMMA].]



       @{"See example" link "example" 0}

@endnode
@node DATA
@title "DATA"
 The DATA Division
 *****************


       DATA DIVISION.
       [SUB-SCHEMA SECTION.]
       [FILE SECTION.]
       [WORKING-STORAGE SECTION.]
       [LINKAGE SECTION.]
       [COMMUNICATION SECTION.]
       [REPORT SECTION.]
       [SCREEN SECTION.]                ...as MicroSoft(TM) COBOL 2.xx


       @{"See example" link "example" 0}

@endnode
@node PROCEDURE
@title "PROCEDURE"
 The PROCEDURE Division
 **********************


       PROCEDURE DIVISION.
       ...


          @{" ACCEPT   " link "ACCEPT" 0}       @{" ADD     " link "LATER!" 0}     @{" CALL       " link "LATER!" 0}   @{" CANCEL   " link "LATER!" 0}
          @{" CLOSE    " link "LATER!" 0}       @{" COMPUTE " link "LATER!" 0}     @{" CONTINUE   " link "LATER!" 0}   @{" DELETE   " link "LATER!" 0}
          @{" DISPLAY  " link "DISPLAY"0}       @{" DIVIDE  " link "LATER!" 0}     @{" EVALUATE   " link "LATER!" 0}   @{" EXIT     " link "LATER!" 0}
          @{" GO       " link "LATER!" 0}       @{" IF      " link "LATER!" 0}     @{" INITIALIZE " link "LATER!" 0}   @{" INSPECT  " link "LATER!" 0}
          @{" MERGE    " link "LATER!" 0}       @{" MOVE    " link "LATER!" 0}     @{" MULTIPLY   " link "LATER!" 0}   @{" OPEN     " link "LATER!" 0}
          @{" PERFORM  " link "LATER!" 0}       @{" READ    " link "LATER!" 0}     @{" RELEASE    " link "LATER!" 0}   @{" RETURN   " link "LATER!" 0}
          @{" REWRITE  " link "LATER!" 0}       @{" SEARCH  " link "LATER!" 0}     @{" SET        " link "LATER!" 0}   @{" SORT     " link "LATER!" 0}
          @{" START    " link "LATER!" 0}       @{" STOP    " link "LATER!" 0}     @{" STRING     " link "LATER!" 0}   @{" SUBTRACT " link "LATER!" 0}
          @{" UNSTRING " link "LATER!" 0}       @{" USE     " link "LATER!" 0}     @{" WRITE      " link "LATER!" 0}

          @{" ENTRY    " link "ENTRY" 0}


      @{"See example" link "example" 0}
@endnode
@node example
@title "example"
 Example Cobol source
 ********************


    OK, this is short hello to cobol for more involed examples see the
    files (extension .cob) accompanying this release. The key thing to
    note is the requirement of the verbs STOP RUN and the use of 'fullstops'
    to define the scope of a COBOL statement. LIN and COL are system defined.



      *ROUTINE TO DISPLAY A MULTIPLICATION GRID.
       IDENTIFICATION DIVISION.
       PROGRAM-ID.  EXAMPLE.
       AUTHOR. C HARRIOTT.
      *
       ENVIRONMENT DIVISION.
       CONFIGURATION SECTION.
       SOURCE-COMPUTER.  AMIGA A1200 WITH DEBUGGING MODE.
      *
       DATA DIVISION.
       WORKING-STORAGE SECTION.
       01  WS-X-SCREEN-DFT    PIC 99 VALUE  10.
       01  WS-Y-SCREEN-DFT    PIC 99 VALUE  05.
       01  WS-XY-PRODUCT      PIC 9(3).

       78  CONSTANT-TEST1  VALUE 13.
       78  CONSTANT-TEST2  VALUE 50 * CONSTANT-TEST1 / 2.
       78  CONSTANT-TEST3  VALUE "string literal".

       01  WS-COUNTERS.
           05  WS-Y-ROW           PIC 99.
           05  WS-X-COLUMN        PIC 99.
           05  WS-X-POS           PIC 99.
           05  WS-Y-POS           PIC 99.
       01  WS-BUTTON          PIC X(8) VALUE "PRESS ME".
      *
      *
       PROCEDURE DIVISION.
       001-MAIN.
           DISPLAY (1 , 10)
           "Routine to CALCULATE and DISPLAY a MULTIPLICATION TABLE".
           MOVE ZEROS TO WS-COUNTERS.
           PERFORM 002-ROWS
               VARYING WS-Y-ROW FROM 1 BY 1 UNTIL WS-Y-ROW > 10.
           STOP RUN.
      *
      *
       002-ROWS.
           MOVE ZEROS TO WS-X-COLUMN.
           PERFORM 003-COLUMNS
               VARYING WS-X-COLUMN FROM 1 BY 1 UNTIL WS-X-COLUMN > 10.
      *
      *
       003-COLUMNS.
           MOVE ZEROS TO WS-X-POS.
           MULTIPLY WS-X-COLUMN BY 5 GIVING WS-X-POS.
           ADD WS-X-SCREEN-DFT TO WS-X-POS.
      *
           MOVE ZEROS TO WS-Y-POS.
           MOVE WS-Y-ROW TO WS-Y-POS.
           ADD WS-Y-SCREEN-DFT TO WS-Y-POS.
      *
           MULTIPLY WS-Y-ROW BY WS-X-COLUMN
                          GIVING  WS-XY-PRODUCT.
           PERFORM 004-DISPLAY-PRODUCT.
      *
      *
       004-DISPLAY-PRODUCT.
      D    PERFORM 005-DEBUG.
           MOVE WS-Y-POS  TO LIN.
           MOVE WS-X-POS  TO COL.
           DISPLAY (LIN , COL) WS-XY-PRODUCT.
      *
      D005-DEBUG.
      D    DISPLAY (24 5) "Debug optioned:  X-POS = " WS-X-POS
      D      " , Y-POS = " WS-Y-POS.
      *    ACCEPT (24 50) WS-BUTTON FROM AMIGA-BUTTON.

      $if constant-test1 defined
      $if constant-test2 = 325
           DISPLAY "compiled as directed!".

      $end
      $else
           DISPLAY "constant-test1 not found!".
      $end
      *****END*******************************************Š



@endnode
@node  LATER!
@title "LATER!"
 LATER!
 ******


         To be continued, but who knows when?

@endnode
@node  ACCEPT
@title "ACCEPT"
 ACCEPT
 ******

     ACCEPT identifier.

     ACCEPT identifier FROM {DATE |DAY |TIME |DAY-OF-WEEK |INTEGER-OF-DATE |INTEGER-OF-DAY |AMIGA-BUTTON}.

                            DATE             YYMMDD
                            DAY              YYDDD
                            TIME             HHMMSShh
                            DAY-OF-WEEK      D sunday == 0
                            INTEGER-OF-DATE  YYYYMMDD
                            INTEGER-OF-DAY   YYYYDDD
                            TODAYS-DATE      YYMMDD
                            AMIGA-BUTTON

     ACCEPT *screenrecord ON ESCAPE imperitive(s).. .

     ACCEPT [(integer-1,integer-2)] identifier(s)
     ACCEPT                         identifier(s) [AT integer-3]

     ACCEPT                         identifier(s)
            [ [AT] LINE [NUMBER] integer-4 COLUMN [NUMBER] integer-5 ]



     *screenrecord as defined by MicroSoft(TM) Cobol 2.xx

     integer-1,integer-4 : 1 - 25  if >25 <CR>
     integer-2,integer-5 : 1 - 80  while( >80 ) <CR> -80...
     integer-3           : 2580 or 025080

     fatscreen           : 48 lines by 132 column
@endnode

@node  DISPLAY
@title "DISPLAY"
 DISPLAY
 ******

     DISPLAY {identifier | literal}...

     DISPLAY *screenrecord  .

     DISPLAY [(integer-1,integer-2)] 
             {identifier | literal}...
             {ERASE [{SCREEN | [END OF] LINE}] | [WITH] NO [ADVANCING]}


     DISPLAY {identifier | literal}... 
             {ERASE [{SCREEN | [END OF] LINE}] | [WITH] NO [ADVANCING]}
             [AT integer-3]


     DISPLAY {identifier | literal}...
             {ERASE [{SCREEN | [END OF] LINE}] | [WITH] NO [ADVANCING]}
             [ [AT] LINE [NUMBER] integer-4 COLUMN [NUMBER] integer-5 ]



     *screenrecord as defined by MicroSoft(TM) Cobol 2.xx

     integer-1,integer-4 : 1 - 25  if >25 <CR>
     integer-2,integer-5 : 1 - 80  while( >80 ) <CR> -80...
     integer-3           : 2580 or 025080

     fatscreen           : 48 lines by 132 column
@endnode

@node  ENTRY
@title "ENTRY"
  ENTRY
  *****

       ENTRY  literal-string  USING identifier(s).


eg.
Calling program (proga.cbl)

       working-storage section.
       01 .
          03 param-1                   pic x(20) value "param one".
          03 param-2                   pic x(20) value "param two".
          03 param-3                   pic x(20) value "param three".

       procedure division.
           call "progb"
           call "entry1" using param-1
           call "entry2" using param-1 param-2
           call "entry3" using param-1 param-2 param-3
           stop "press a key"
           stop run.


called program with entry points (progb.cbl)

       linkage section.
       01 param-1                   pic x(20) value "param one".
       01 param-2                   pic x(20) value "param two".
       01 param-3                   pic x(20) value "param three".

       procedure division.
           display "Prog B entered at start"
           exit program.

       entry "entry1" using param-1
           display "Entry1 in progb"
           exit program.

       entry "entry2" using param-1 param-2
           display "Entry2 in progb"
           exit program.

       entry "entry3" using param-1 param-2 param-3
           display "Entry3 in progb"
           exit program.


   SCM:)

@endnode
@node  Implemented?
@title "Implemented?"
 Implemented?
 ************

   @{"IDENTIFICATION DIVISION." link "IDENTIFICATION" 0}

   The program-id is required to be the same as the filename bar the
   .COB file extention. This allows for consistent CALLs to subprogram
   and nested programs ie via their program-ids.


   @{"ENVIRONMENT    DIVISION." link "ENVIRONMENT" 0}

   The options supported in SPECIAL-NAMES are SWITCH, CLASS, CURRENCY and 
   DECIMAL-POINT.  ALPHABET is supported in syntax only. Maybe next time.
   I-O-CONTROL SECTION. recodnised but not implemented!
   To read a record file created in a text editor, specify ORGANIZATION IS
   LINE SEQUENTIAL. If you are unfortunate enough to have created your record
   file with a PC editor, dont forget to convert the file to amiga (CrossDOS etc),
   or add an extra character to the record definition, to account for the PC's 'LF' .


   @{"DATA           DIVISION." link "DATA" 0}

   There is no support for the REPORT SECTION or communications.
   BLOCK and RECORD clauses recodnised but not implemented!
   USAGE IS default always ie no support yet for PACKED / BINARY etc..
   SYNCHRONISED is recodnised but not implemented!
   SCREEN SECTION is as defined by Microsoft 2.XX , plus support for basic
   BUTTON GADGETS.


   @{"PROCEDURE      DIVISION." link "PROCEDURE" 0}.

   All keywords above have been implemented!



@endnode
@node  History
@title "History"
 History
 *******


  @{bold "1.00"}  July     97  -  first release CU Amiga Magazine
  @{bold "1.0a"}  August   97  -  Aminet / CU Amiga Magazine (CDROM 15)  RIP!
                        resort to pre 'reference moddification' version, since
                        last minute addition of reference modification option
                        introduced strange/terminal errors ...sorry!

                        Aminet 21
  @{bold "1.0b"}  November 97  -  font sensitive main program
                        NRCOBOL compiled under GNU C 270 ,just!
                        still trying with runcob  (NorthC1.3 + A68k)
                        support only for A1200 or better
                        ...unless i get feedback from pre A1200 users :)
                        MOVE ALL ...
                        HIGH-VALUE(S)  LOW-VALUE(S)  sign sensitive
                        blank when zero should now work
                        fixed oversight with full stop now allowed in zone/margine A

                        relaxed LEVEL 02-49 positioning, now allowed in zone/margine A
                        Amiga Format Magazine's CDROM (106 ;)
  @{bold "1.0c"}  February 98  -  NRCOBOL + RUNCOB compiled under DICE 3.15 ,all as 68000
                        fixed PERFORM inline/times options
                        fixed justification
                        fixed SIZE ERROR handling
                        extended post statement error clause (only just come across dis)
                        eg
                           ON SIZE ERROR
                              imperative...

                           NOT ON SIZE ERROR
                              imperative...
                           END-???

                        now available for:

                        AT EOP
                        AT END
                        INVALID KEY
                        ON SIZE ERROR
                        ON EXCEPTION
                        ON OVERFLOW

                        fixed ASSIGN TO " "
                        now mutualy exclusive to VALUE OF FILE-ID IS "  "
                        see.. @{" Thank You " link "Thank-you!" 0}

                        extension of ACCEPT funtion to include ansi89 like :) functions
                        for millennium date
                        INTEGER-OF-DATE    YYYYMMDD
                        INTEGER-OF-DAY     YYYYDDD

                        added support for AMIGA-BUTTON gadget

                        see.. @{" ACCEPT " link "ACCEPT" 0}

                        added tooltypes for:
                        TEXTVIEWER
                        SOURCEDIR
                        RUNCOBDIR

                        improved GUI to indicate option available
                        see.. @{" Thank You " link "Thank-you!" 0}

                        WB1.3 compatable compilation back by demand
  @{bold "1.0d"}  March 98     -  fixed terminale oversight with cli interface sorry!(
                        added TODAYS-DATE to ACCEPT function.

                        see.. @{" Thank You " link "Thank-you!" 0}
                        Amiga Format Magazine's CDROM (110, AFCD26 thanks guys!;)

  @{bold "1.0e"}  Sept  98     -  reference modification now implemented  ...Halleluiah!!
                        'P' option for PICTURE declaration done
                        multiple PICTURE declaration, ie s9(5)v9(3)
                        new tooltype for WINDOW=PUBLIC or WINDOW=CUSTOM via menu
                        level 78's ,ie pseudo constants

                        see.. @{" Thank You " link "Thank-you!" 0}

                        better implementation of edited_number and edited_string
                        basic menu options
                        GO TO ....DEPENDING legal implementation
                        INSPECTING ...converting clause fixed
                        '.cbl' now allowed as sourcefile extension
                        wildcard for bulk compilation from cli done
                        compilation speed improvements
                        ROUNDED option fixed
                        figurative constants now allowed with conditions
                        precedence of section and paragraph names in PERFORM fixed
                        empty PERFORMS allowed :) PERFORM ...[1000000] TIMES
                        + fine tuning of assembler maths routines

                        Amiga Format Magazine's CDROM (118, AFCD34)
                        Amiga DEVROM GOLD : CD807, WWW.epicmarketing.ltd.net/af ?-(
                        Aminet 28

  @{bold "1.0f"}  March  99    -  Qualified identifiers, ie 'ident IN record OF record' is now
                        implemented. This means the really useful feature CORRESPONDING
                        for MOVE, ADD and SUBTRACT now works. Qualified identifiers
                        for 'nested files' is pending.

                        Improved memory management now means NRCOBOL release
                        memory between compilation. All the better for wildcards :)

                        Report file '.NRCOBOL.report' generated when the wildcard option
                        is used. Use -r flag to suppresse file.

                        The following have been rewritten to meet Ansi 85:
                        ADD, COMPUTE, DISPLAY, DIVIDE, EVALUATE, GO, INITIALIZE,
                        INSPECT (almost !), MOVE, MULTIPLY, PERFORM, SEARCH, SET, STRING,
                        SUBTRACT and UNSTRING.

                        Improvements have been made to complex and abreviated conditions.

                        Level 78 style constants have been expanded to simple integer
                        arithmetics, the operators are + - / * ,no presidence, no brackets.
                        integers greater than  4294967295, 2^32 -1 , are truncated, just
                        like microFocus(tm).

                        A limited subset of compiler directives have been implemented.
                        ...see  @{" Basics " link "OK" 0}

                        please note stack requirements are now a little higher this is
                        largely to deal with the worst case of a rather neat O(logn),
                        but memory hungry recursive division routine.

                        for any really silly coders out there, the complex form of the
                        continuation has been implemented. This allows even keywords to be
                        interupted, provided the next line starts with an hyphen.

                        NRCOBOL will now compile source code prepared on a PC without the
                        need for conversion via crossdos etc.

                        upgraded from OS 2.4 to OS 3.0, just so i could get exec's CreatePool()
                        to compile.


                        On the GUI front, NRCOBOL will now remember where it was, when last
                        closed.

                        There is also a menu flag to remember the current dir, this info is
                        recorded in a small file 'NRCOBOL.pref' in the S directory, when
                        the program is closed.

                        You can also switch off zone check. I am told this makes the language
                        more friendly, personaly i think it allows sloppy habits. SCM  X)
                        see.. @{" Thank You " link "Thank-you!" 0}

                        The overflow error condition is now optioned.

                        Finally, for those in the know the ENTRY satatement has been implemented.
                        This microFocus(tm) feature allows library like calls to resident
                        programs.   ....see @{" ENTRY " link "ENTRY" 0}


                        Amiga Format Magazine's CDROM (124, AFCD40)
  @{bold "1.0g"}  June  99     -  For Evaluation see @{" Runtime Trace " link "DEBUG" 0} environment,
                        changes to the position-clause of both @{" ACCEPT " link "ACCEPT" 0} and @{" DISPLAY " link "DISPLAY" 0}
                        see.. @{" Thank You " link "Thank-you!" 0}


                        88 level allowed in File Section.
                        Fix for REWRITE of sequential organized files.
                        Improvements to USE(s) in the DECLARATIVES SECTION.
                        *> comment marker now allowed.

                        Improvements made to all keywords related to SEQUENTIAL organised files.
                        FD's LINAGE clause and LINAGE-COUNTER implemented.

                        Font sensitive runtime screen added via menu option, user required to
                        'clean' screen/line after use of ACCEPT.

                        Large screen format 132 x 48 now supported.

                        Substantial improvements to SEQUENTIAL, RELATIVE and INDEXED file formats
                        Rewrites to file related syntax, variable size records now supported.

                        File Status codes now meets ANSI 85 specification.

                        Fixed a bug that croped up when REDEFINE, OCCURS and FILLERS were used in
                        combination. MicroFocus(tm)'s CURRENT-DATE now supported.
                        see.. @{" Thank You " link "Thank-you!" 0}

@endnode
@node  Todo
@title "Todo"
 Todo
 ****


   -   Own string input routine, rather than system functions.
   -   Totally ANSI 85 see Implemented?
   -   Intrinsic functions ANSI 89
   -   support for SQL trainer module, possible interface to Hughe's MSQL
       can anyone say how SQL reports to cobol after EXEC SQL commands
       COBOL <> SQL overview welcomed.

   -   OBJECT?????  Hmmmm :-)
   -   suggestions welcomed @{"Feedback" link "Feedback" 0}
   -   expand ACCEPT functionality (Amiga specific)
   -   expand guide's introduction to cobol syntax
   -   add menu flag to 'WRITE' PC style records, ie add extra LF char
       thanks  David C. although u might try crossdos ;)
   -   Add GOTO line button to trace environment.

@endnode
@node  Bugs
@title "Bugs"
 Bugs
 ****

   -   requires A1200 or better. :)
       DICE m68020 compilation.

@endnode

@node  final
@title "...and finally"
 STOP PRESS
 **********


       Since @{bold "nrcobol1d"} i've compleated the collage course which allowed
       me access to the internet, and as im quite sure they are not going to
       allow me a freebee access (them's the rules), i have had to resort
       to Hotmail. This service curtesy of www.juno.com/ should allow free
       email via my local cyber cafe.

       Anyway for now keep using the 'HA.ROT@bigfoot.com' address which has
       been configured to re-route emails to my old collage email address.


       Please note, with the improvements to the program, the status of NRCOBOL
       has changed from @{bold "Postcard ware"} to @{bold "Magazine ware"} 8^)


       see ...@{" Distribution " link "Distribution" 0}


@endnode

@node  Feedback
@title "Feedback"
 Feedback
 ********


   -   'things aint wot they ougt a'
   -   unexpected output or syntax ... well you never know
   -   congratulations
   -   bribes not to continue
   -   buy outs / takeovers
   -   Donations of money / hardware..
   -   or even a post card from what ever part of the planet you and your
       Amiga reside. Amiga dead? Long live Amiga.
   -   OBJECT COBOL example code???
   -   Spare copy of latest ANSI COBOL standard??
       this comes via limited access to Ansi74 plus the stuff at the back
       of most books on COBOL + pdf files available via http://www1.shore.net/~daschric/j4.htm
   -   Offers of WORK :-(

   -   have you any cobol source you're proud of, and would like included with
       the next release?


   email : HA.ROT@bigfoot.com         (re-router/lifetime email curtesy of
                                       http://WWW.bigfoot.com/)

   snail mail

           Mr C Harriott
           14a Splott Road
           Splott
           Cardiff
           Cf2 2BZ
           UK


   @{" Salutations  " link "greetings" 0}

@endnode
@node  Contacts
@title "Contacts"
 Contacts
 ********


   For further information on the COBOL scene you might try the FAQ
   created and maintained by

      jfid@mfltd.co.uk (James Fidell)
      http://www.mfltd.co.uk/~jfid/
      http://www.mfltd.co.uk/FAQ/cobol-faq.html
      http://www.cobol.com/
      http://www.netcom.com/~wmklein/cobolfaq.htm
      http://www1.shore.net/~daschric/j4.htm
      http://www.dkuug.dk/JTC1/SC22/WG4/
      http://207.82.250.251/cgi-bin/linkrd?
      http://www.infogoal.com/cdb/cdbref.htm"
      News:comp.lang.cobol

@endnode
@node greetings
@title "hi there"
 Hellos
 ******



   A big 10:4 to the staff at ITEC (cardiff) especially Sheila & Maria.

   Also thanks to Mike Evans at Cardiff Uni for the email account, however
   long it lasts.

   Hello to Nick (Newport) 'i will get round to returning that HD cradle'

   Gday to Mark Bowman, put a shrimp on the barby for me. happy new year :*)


   ADVERTISEMENT FOLLOWS 8-^

   support your indepent local retailers
   greetings to the staff at:

     Golden Image (UK) Ltd
     Unit 65,
     Hallmark Trading Estate,
     Forth Way,
     Wembley,
     Middx HA9 OLB

     Sales No: 0181 900 9291
     http://www.Goldenimage.co.uk

   Still doing budget accelerators...

@endnode
@node  Distribution
@title "Distribution"
 Distribution
 ************


   Distribution is granted to anyone via floppy and internet/ BBS provided
   documentation remains as is, only a nominal fee is charged for copying
   and no attempt is made to reverse engineer the program.
   Distribution is also granted to anyone compiling a CDROM provided the
   above conditions are met AND i am sent a copy of the CDROM. Please??

   You may also like to consider this product, @{bold "Magazine Ware"}.
   This means if you find this program useful you may send me an issue of
   a recent magazine you consider 'interesting', 'very interesting' or even
   'Wow, is that for real?' :)


   I would be particularly interested in magazines on the global phenomena 
   that is 'StarWars' or any really interesting scientific(tion) journals.


   All this for the price of a stamp? Go on, but i bet u wont!
   If you cant afford a stamp then just email some code you've developed using
   NRCOBOL.


   Ego calling... @{" Feed Me " link "Feedback" 0}



@endnode
@node  Credits
@title "Credits"
 Credits
 *******


   Would you belive i wrote this with the public domain 'C' compiler
   NorthC 1.3 ...if you're out there S Hawtin thanks dude. Although i have to
   say it makes for lazy programing. Hopefully GNU C will induce disipline!
   Ouch!


   Thanks expressed to Thore Böckelmann for the use of his disclimer (quite
   frankley i couldn't have put it better myself) also thanks for gifting
   the Amiga community his EXCELENT CyberAVI and CyberQT. A real babe of a
   program. SHoWING?? Now how about some avi/mov files AF/CUCD/ANOther?


   Thanks to Markus Hillenbrand  @{"Author" LINK AUTHOR} for the excellent GUICreator,
   which was used to create (after much tweeking) the newface of NRCOBOL.
   Please note the difference in compilation speeds is due solely to the use
   of gadtools ;(


   Its amazing the people we take for granted, like that bloke @{" Tinic Urou " link "UrouAuthor" 0}
   who wrote that delicious piece of eye candy called 'UrouHack', if you havent
   installed it yet what are you waiting for.


   Thanks also to those unknown warriors who gave their all to bring us the
   freedom to program in assembler.. the authors of A68K and BLINK
   without which.....  RESPECT!


@endnode
@node  Disclimer
@title "Disclimer"
 Disclimer
 *********


   No warranty, either express or implied, is made with respect to the fitness
   or merchantability of NRCOBOL.

   cHArRiOTt (referred to as "the  author"),  reserves  the  right  to  not
   develop any future versions of NRCOBOL.

   The author will try to make a good faith attempt at correcting any problems
   if any are discovered, but is in no way required, nor bound to correct them.

   The author neither assumes nor accepts any responsibility for the use or
   misuse of these programs. He will also not be held liable for damages or
   any compensation due to loss of profit or any other damages arising out of
   the use, or inability to use this program.

   The author will not be liable for any damage arising from the failure  of
   this program  to  perform as described, or any destruction of other programs
   or data residing on a system attempting to run the programs.

   The user of this program uses it at his or her own risk.

@endnode

@NODE Author "1.5 Author"
@{u}GUICreator1.5 Author@{uu}

Address:
        Markus Hillenbrand
        Hauptstra_e 6
        36124 Eichenzell-Lvschenrod
        Germany

        Phone: -49/6659/3176 (Sa-Su) and -49/631/99658 (Mo-Fr)
        ( Germany )

        EMail: m_hillen@informatik.uni-kl.de
        ( not during holidays )

        Banking:
        Raiffeisenbank Eichenzell (BLZ 53060180)
        Account # 2103850

This program was developed on an A4000/040.

I'd be grateful for:

- presents
- SCSI hard drives
- SCSI tape drives
- lottery winnings

and of course

- bug reports
- suggestions for improvement
- comments

and most of all

- REGISTRATIONS


@ENDNODE

@node "UrouAuthor"
@title "UrouAuthor"
  UrouHack Author
  ***************


    If you want to tell me that urouhack has destroyed your machine or simply
    want to have a little chat then write to:

            5uro@informatik.uni-hamburg.de

    My postal address:

            Tinic Urou
            Gaertnerstrasse 15
            20253 Hamburg
            - GERMANY -

    I am also reachable on IRC, usually from Monday to Friday between
    10.00am and 09.00pm CET. Leave me an email if you want to talk...
@endnode

@node  Sorry!
@title "Sorry! -18/9/97"
 Sorry!
 ******


   My apologies to anyone who tried and failed to make contact at my old email
   address. At around  18th september my account was suddenly and without warning
   terminated. Imagine my suprise to find i no longer exist, to find my account fini,
   to find this parrot's dead. No longer on this mortal coil, no longer
   with us, gone to software heaven, frankly needing more than a magnetic medium
   to get in touch with our dearly departed data :((  KO'ed at HQ by HO.


   This ment not only the loss of pending email, but records on all contacts made
   to date. If that wasn't bad enough, i had just, that week, been published on the
   CDROM of the CU Amiga magazine (CUCD15), which ment all those potential contacts
   are now lost.


   Anyway, due to an act of devine intervention, (new JAVA course) i am now back on
   line. Existing from day to day, suddenly aware of my own mortality, unsure of the
   integrity of the system, but gradualy rekindling my trust... bare with me.
   Willing to forgive but never forget!


   If you were one of those who tried and failed, ...do call again y'all :*)

   @{" Feedback " link "Feedback" 0}


@endnode
@node  Thank-you!
@title "Thanks"
 Thanks!
 *******


   Special thanks to the following who have made contact, and are fondly remembered:


   JAVE.              ...Groetjes, pointing out fullstop zone error resulting in
                         bad compilation for paragraph/section names less then 4 characters
                         request for relaxation of level 02-49 zone 'B' done!

                      ...microFocus  COBOL85 info? still treading water?)


   Charles Elliott    ...still beta testing? trace environment directives?


   Claus Luethje      ...offer of docs, nice to know my prog, from its humble origins
                         has found such a grand home. Wow the stuff dreams are made of !))


   Alan W Rateliff II ...alerting me to the ASSIGN TO "file-named"
                         output formatting in the FILE SECTION?


   Shawn D. Kelly     ...for requesting the TOOLTYPES TEXTVIEWER,SOURCEDIR and RUNCOBDIR
                         and changes to the GUI.


   Ron Copley         ...Who actually uses the 'big-iron compilers' looking forward to your
                         offer of docs.

   Loren Wilton       ...Detailed debug , cli crash


   Fahiem Wagiet      ...Rainbow person in the New Rainbow Land , viva



   Shaun C. Murray    ...for obvious encouragement with this project ;)
                         requesting level 78's and public window, asking for
                         relaxed zone check, ENTRY + compilation directives
                         Thanks for the posting on comp.lang.cobol


   Francois Landry    ...yep!


   Matti Niskanen     ...only Amiga makes it possible,


   Saul Bertuccio     ...Thanks for the excellent CED Arexx macros
                         bertuccio@reteitalia.net  Feedback welcomed
                         Happy new year! ..see /Extra/CED.support/

   Frank Reibold      ...Try the Perform empty-perform 1000000 times now!)

   Davide Zipeto      ...GoldEd anyone   ..see /Extra/GoldEd.support/

   powerstack ??      ...linux-stuff? phoee! Only Amiga makes it posible.
                         what size screens are you using .try sep scr 4 curs

   David C.           ...Out there in city de Banks, Bham Alabama-usa, watch u
                         think of me now? ps dont u mean WRITE blurb AFTER 2 lines :)
                         Spotted bug when redefine, occurs and filler combined.
                         requested MF's CURRENT-DATE.

   Sigurd Decroos     ...for requesting changes to DISPLAY position-clause.
                         now VAX and ALPHA VMS systems complient ;)
                         Also requested Fat Screen option.


   David M.Bebber     ...Requesting further info on runtime error.



   i am afraid the rest of you went down with the great crash :((
   do call again!

   @{" Feedback     " link "Feedback" 0}

@endnode

  'yep, it's so much more...jealous?'