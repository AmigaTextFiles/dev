@database Contents
@master PCQ:Hyper/utils/random.guide
@$VER: 1.0
@author "Nils Sjoholm"
@(c) "@ Nils Sjoholm"

@node "Main" "Utils/Random




                         Utils/Random


                          @{" RangeRandom " link "rangerandom" 0}
                          @{" RealRandom  " link "realrandom" 0}
                          @{" SelfSeed    " link "selfseed" 0}
                          @{" UseSeed     " link "useseed" 0}













@endnode

@node "rangerandom" "Utils/Random/RangeRandom"

    Utils/Random/RangeRandom

    NAME
        RangeRandom - return a psuedo random integer

    SYNOPSIS
        FUNCTION RangeRandom(MaxValue : Integer) : Integer;

    DESCRIPTION
        RangeRandom returns a psuedo random number in the range
        0..MaxValue.  It uses a faster generator than RealRandom,
        and has a maximum cycle length of 1,000,002.

    EXAMPLE

        PROGRAM CheckCycle;
        {$I "Include:Utils/Random.i"}
        VAR
            StartPoint : Integer;
            Count      : Integer;
        BEGIN
            SelfSeed;
            Count := 0;
            StartPoint := RangeRandom(Pred(MaxInt));
            REPEAT
                Inc(Count);
            UNTIL RangeRandom(Pred(MaxInt)) = StartPoint;
            Writeln('The cycle length is ', Count);
        END.

    INPUTS

        MaxValue : The greatest value the result should take on

    RESULTS
        An unpredictable Integer in the range 0 to MaxValue

    BUGS
        Since RangeRandom scales the result using something like
        (Value mod Succ(MaxValue)), you should not use MaxInt as
        the maximum value, or you'll cause a divide by zero error.

    SEE ALSO

        @{" RealRandom " link "realrandom" 0} @{" UseSeed    " link "useseed" 0} @{" SelfSeed   " link "selfseed" 0}

@endnode

@node "realrandom" "Utils/Random/RealRandom"

    Utils/Random/RealRandom

    NAME
        RealRandom - return a floating point psuedo-random number

    SYNOPSIS
        FUNCTION RealRandom : Real;

    DESCRIPTION
        RealRandom calculates a psuedo random number using a slow
        but extremely random method - it actually combines the
        results of three seperate random number generators to
        create very long cycle sequences.  The technique was
        described in the March 1987 issue of Byte.

    EXAMPLE

        PROGRAM TemptFate;
        {$I "Include:Utils/Random.i"}
        VAR
            R : Float;
        BEGIN
            SelfSeed;
            REPEAT
                R := RealRandom;
                Writeln(R:0:4);
            UNTIL R < 0.1;
        END.

    INPUTS
        None

    RESULTS
        An unexpected FFP floating point value

    BUGS

    SEE ALSO

        @{" RangeRandom " link "rangerandom" 0} @{" UseSeed     " link "useseed" 0} @{" SelfSeed    " link "selfseed" 0}

@endnode

@node "selfseed" "Utils/Random/SelfSeed"

    Utils/Random/SelfSeed

    NAME
        SelfSeed - seed the random number generator from the clock

    SYNOPSIS
        PROCEDURE SelfSeed;

    DESCRIPTION
        SelfSeed establishes the seed values used by RangeRandom
        RealRandom, using numbers derived from the current time.
        For most purposes this should be completely unpredictable.

    EXAMPLE
        See
           @{" Examples/MapMaker.p " link "PCQ:Examples/MapMaker.p/main" 0}

    INPUTS
        None

    RESULTS
        None

    BUGS

    SEE ALSO

        @{" UseSeed     " link "useseed" 0} @{" RangeRandom " link "rangerandom" 0} @{" RealRandom  " link "realrandom" 0}

@endnode

@node "useseed" "Utils/Random/UseSeed"

    Utils/Random/UseSeed

    NAME
        UseSeed - set the seed value for the random number routines

    SYNOPSIS
        PROCEDURE UseSeed(Seed : Integer);

    DESCRIPTION
        This routine allows you to directly set the random number
        seeds.  Normally you would call SelfSeed instead, but this
        routine lets you get predictable results from the supposedly
        random routines, since for a given seed value they will always
        produce the same sequence of numbers.

    EXAMPLE

        PROGRAM Swami;
        {$I "Include:Utils/Random.i"}
        BEGIN
            UseSeed(1991);
            Writeln('I would guess ... 481204');
            Writeln(RangeRandom(Pred(MaxInt)));
        END.

    INPUTS

        Seed  : The seed value to use for RealRandom and RangeRandom

    RESULTS
        None

    BUGS

    SEE ALSO

        @{" SelfSeed    " link "selfseed" 0} @{" RangeRandom " link "rangerandom" 0} @{" RealRandom  " link "realrandom" 0}

@endnode



