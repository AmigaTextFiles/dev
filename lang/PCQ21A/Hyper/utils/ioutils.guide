@database Contents
@master PCQ:Hyper/utils/ioutils.guide
@$VER: 1.0
@author "Nils Sjoholm"
@(c) "@ Nils Sjoholm"

@node "Main" "Utils/IOUtils"




                          Utils/IOUtils

                          @{" CreatePort  " link "createport" 0}
                          @{" CreateStdIO " link "createstdio" 0}
                          @{" DeletePort  " link "deleteport" 0}
                          @{" DeleteStdIO " link "deletestdio" 0}












@endnode

@node "createport" "Utils/IOUtils/CreatePort"

    Utils/IOUtils/CreatePort

    NAME
        CreatePort - allocate a MsgPort

    SYNOPSIS
        FUNCTION CreatePort(Name : String; Pri : Integer) : MsgPortPtr;

    DESCRIPTION
        This routine allocates the memory and signal for a message
        port.  If you have specified a Name, it will also add the
        port to the system list (that's only necessary if some other
        task is going to search for your port).  If the Name is
        Nil, the port is not added.

        Since the memory for the port is not allocated through PCQ
        memory routines, you must call DeletePort explicitly or the
        memory will not be returned to the system.

    EXAMPLE
        See
           @{" Examples/DeadKeysPlus.p " alink "PCQ:Examples/DeadKeysPlus.p/main" 0}
           @{" Examples/Play8.p        " alink "PCQ:Examples/Play8.p/main 0}

    INPUTS

        Name  : The port name, or Nil if you don't want to add the
                port to the Exec system list.
        Pri   : The port priority, which will determine where the
                port is added to the system list.

    RESULTS
        A MsgPortPtr or Nil if something went wrong

    BUGS

    SEE ALSO

        @{" DeletePort " link "deleteport" 0}

@endnode

@node "createstdio" "Utils/IOUtils/CreateStdIO"

    Utils/IOUtils/CreateStdIO

    NAME
        CreateStdIO - allocate an IOStdReq record

    SYNOPSIS
        FUNCTION CreateStdIO(Reply : MsgPortPtr) : IOStdReqPtr;

    DESCRIPTION
        This routine allocates and initializes an IOStdReq used by
        the Exec IO routines.  Since the memory is not allocated by
        the PCQ allocation routines, you must call DeleteStdIO or
        the memory will not be freed.

    EXAMPLE
        See
           @{" Examples/SmallCom.p     " alink "PCQ:Examples/SmallCom.p/main" 0}
           @{" Examples/DeadKeysPlus.p " alink "PCQ:Examples/DeadKeysPlus.p/main" 0}

    INPUTS

        Reply : A pointer to a valid MsgPort that will serve as the
                IO record's reply port.  The port can be created
                with CreatePort.

    RESULTS
        A pointer to an IOStdReq, or Nil if something went wrong.

    BUGS

    SEE ALSO

        @{" DeleteStdIO " link "deletestdio" 0} @{" CreatePort  " link "createport" 0}

@endnode

@node "deleteport" "Utils/IOUtils/DeletePort"

    Utils/IOUtils/DeletePort

    NAME
        DeletePort - free the resources of a MsgPort

    SYNOPSIS
        PROCEDURE DeletePort(Port : MsgPortPtr);

    DESCRIPTION
        This routine frees the memory and signal used by the
        MsgPort, and removes it from the system list if
        appropriate.

    EXAMPLE
        See
           @{" Examples/DeadKeysPlus.p " alink "PCQ:Examples/DeadKeysPlus.p/main" 0}
           @{" Examples/Play8.p        " alink "PCQ:Examples/Play8.p/main" 0}

    INPUTS

        Port  : A pointer to the MsgPort to close

    RESULTS
        None

    BUGS

    SEE ALSO

        @{" CreatePort " link "createport" 0}

@endnode

@node "deletestdio" "Utils/IOUtils/DeleteStdIO"

    Utils/IOUtils/DeleteStdIO

    NAME
        DeleteStdIO - free the memory of an IOStdReq record

    SYNOPSIS
        PROCEDURE DeleteStdIO(Request : IOStdReqPtr);

    DESCRIPTION
        This routine deallocated the memory used by the IOStdReq.

    EXAMPLE
        See
           @{" Examples/SmallCom.p     " alink "PCQ:Examples/SmallCom.p/main" 0}
           @{" Examples/DeadKeysPlus.p " alink "PCQ:Examples/DeadKeysPlus.p/main" 0}

    INPUTS
        Request : A pointer to the IOStdReq to free

    RESULTS
        None

    BUGS

    SEE ALSO

        @{" CreateStdIO " link "createstdio" 0} @{" CreatePort  " link "createport" 0} @{" DeletePort  " link "deleteport" 0}

@endnode


