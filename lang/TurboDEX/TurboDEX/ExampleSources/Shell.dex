/* TurboShell in TurboDEX */

PROC main(DETACH)
  DEF window:LONG, buffer=60:ARRAY, a:REGLONG, text:REGLONG
  window := Open('con:10/10/400/100/TurboShell v0.0\0',1006)
  VOID Write(window,'Shell by $#%! in 1991. \aquit\a to stop.\n',LEN)
  WHILE text?"quit"
    VOID Execute(buffer,0,window)
    VOID Write(window,'Turbo> ',LEN)
    a := Read(window,buffer,59)
    MCHAR buffer+a,0
    text := MLONG(buffer)
  ENDWHILE
  VOID Close(window)
ENDPROC
