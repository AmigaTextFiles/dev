<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1-h (September 30, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Character types</TITLE>
<META NAME="description" CONTENT="Character types">
<META NAME="keywords" CONTENT="ref">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="ref.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html562" HREF="node19.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="file:/usr/lib/latex2html/icons/next_motif.gif"></A> <A NAME="tex2html560" HREF="node16.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="file:/usr/lib/latex2html/icons/up_motif.gif"></A> <A NAME="tex2html554" HREF="node17.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="file:/usr/lib/latex2html/icons/previous_motif.gif"></A> <A NAME="tex2html564" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="file:/usr/lib/latex2html/icons/contents_motif.gif"></A> <A NAME="tex2html565" HREF="node72.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="file:/usr/lib/latex2html/icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html563" HREF="node19.html">Structured Types</A>
<B>Up:</B> <A NAME="tex2html561" HREF="node16.html">Types</A>
<B> Previous:</B> <A NAME="tex2html555" HREF="node17.html">Base types</A>
<BR> <P>
<H1><A NAME="SECTION03320000000000000000">Character types</A></H1>
<P>
<H2><A NAME="SECTION03321000000000000000">Char</A></H2>
<P>
Free Pascal supports the type <tt>Char</tt>. A <tt>Char</tt> is exactly 1 byte in
size, and contains one character.
<P>
You can specify a character constant by enclosing the character in single 
quotes, as follows : 'a' or 'A' are both character constants.
<P>
You can also specify a character by their ASCII
value, by preceding the ASCII value with the number symbol (#). For example
specifying <tt>#65</tt> would be the same as <tt>'A'</tt>.
<P>
Also, the caret character (<code>^</code>) can be used in combination with a letter to
specify a character with ASCII value less than 27. Thus <code>^G</code> equals
<tt>#7</tt> (G is the seventh letter in the alphabet.)
<P>
If you want to represent the single quote character, type it two times
successively, thus <tt>''''</tt> represents the single quote character.
<P>
<H2><A NAME="SECTION03322000000000000000">Short Strings</A></H2>
<P>
Free Pascal supports the <tt>String</tt> type as it is defined in Turbo Pascal.
To declare a variable as a string, use the following type specification:
<P>
<BLOCKQUOTE> <BR><b>  ShortString</b><BR><BR><IMG WIDTH=415 HEIGHT=53 ALIGN=BOTTOM ALT="syntdiag1402" SRC="img53.gif"><BR></BLOCKQUOTE>
<P>
The predefined typeShortString is defined as a string of length 255.
<P>
Free Pascal reserves <tt>Size+1</tt> bytes for the string <tt>S</tt>, and in the zeroeth
element of the string (<tt>S[0]</tt>) it will store the length of the variable.
<P>
If you don't specify the size of the string, <tt>255</tt> is taken as a
default.
<P>
For example in 
<BR><IMG WIDTH=405 HEIGHT=107 ALIGN=BOTTOM ALT="listing1290" SRC="img54.gif"><BR>
<tt>NameString</tt> can contain maximum 10 characters. While 
<tt>StreetString</tt> can contain 255 characters. The sizes of these variables
are, respectively, 11 and 256 bytes.
<P>
To specify a constant string, you enclose the string in single-quotes, just
as a <tt>Char</tt> type, only now you can have more than one character.
Given that <tt>S</tt> is of type <tt>String</tt>, the following are valid assignments: 
<BR><IMG WIDTH=502 HEIGHT=88 ALIGN=BOTTOM ALT="listing1297" SRC="img55.gif"><BR>
As you can see, the single quote character is represented by 2 single-quote
characters next to each other. Strange characters can be specified by their
ASCII value.
<P>
The example shows also that you can add two strings. The resulting string is
just the concatenation of the first with the second string, without spaces in
between them. Strings can not be substracted, however.
<P>
<H2><A NAME="SECTION03323000000000000000">PChar</A></H2>
<P>
Free Pascal supports the Delphi implementation of the <tt>PChar</tt> type. <tt>PChar</tt>
is defined as a pointer to a <tt>Char</tt> type, but allows additional
operations.
<P>
The <tt>PChar</tt> type can be understood best as the Pascal equivalent of a
C-style null-terminated string, i.e. a variable of type <tt>PChar</tt> is a 
pointer that points to an array of type <tt>Char</tt>, which is ended by a
null-character (<tt>#0</tt>).
<P>
Free Pascal supports initializing of <tt>PChar</tt> typed constants, or a direct
assignment. For example, the following pieces of code are equivalent:
<P>
<BR><IMG WIDTH=424 HEIGHT=146 ALIGN=BOTTOM ALT="listing1308" SRC="img56.gif"><BR>
Results in the same as
<BR><IMG WIDTH=576 HEIGHT=100 ALIGN=BOTTOM ALT="listing1310" SRC="img57.gif"><BR>
<P>
These examples also show that it is possible to write <EM>the contents</EM> of
the string to a file of type <tt>Text</tt>.
<P>
The <A NAME="tex2html10" HREF="../strings/strings.html">strings</A> unit contains procedures and functions that manipulate the
<tt>PChar</tt> type as you can do it in C.
<P>
Since it is equivalent to a pointer to a type <tt>Char</tt> variable, it  is
also possible to do the following:
<BR><IMG WIDTH=576 HEIGHT=50 ALIGN=BOTTOM ALT="listing1316" SRC="img58.gif"><BR>
This will have the same result as the previous two examples.
<P>
You cannot add null-terminated strings as you can do with normal Pascal
strings. If you want to concatenate two <tt>PChar</tt> strings, you will need
to use the unit <A NAME="tex2html11" HREF="../strings/strings.html">strings</A>.
<P>
However, it is possible to do some pointer arithmetic. You can use the
operators <tt>+</tt> and <tt>-</tt> to do operations on <tt>PChar</tt> pointers.
In table (<A HREF="node18.html#tabPCharMath"><IMG  ALIGN=BOTTOM ALT="gif" SRC="file:/usr/lib/latex2html/icons/cross_ref_motif.gif"></A>), <tt>P</tt> and <tt>Q</tt> are of type <tt>PChar</tt>, and
<tt>I</tt> is of type <tt>Longint</tt>.
<P><A NAME="1419">&#160;</A><A NAME="tabPCharMath">&#160;</A><DIV ALIGN=CENTER><P ALIGN=CENTER><TABLE COLS=2 BORDER FRAME=BELOW RULES=GROUPS>
<COL ALIGN=LEFT><COL ALIGN=RIGHT>
<TBODY>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP>
Operation </TD><TD VALIGN=BASELINE ALIGN=RIGHT NOWRAP> Result </TD></TR>
</TBODY><TBODY>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP><tt>P + I</tt> </TD><TD VALIGN=BASELINE ALIGN=RIGHT NOWRAP> Adds <tt>I</tt> to the address pointed to by <tt>P</tt>. </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<tt>I + P</tt> </TD><TD VALIGN=BASELINE ALIGN=RIGHT NOWRAP> Adds <tt>I</tt> to the address pointed to by <tt>P</tt>. </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<tt>P - I</tt> </TD><TD VALIGN=BASELINE ALIGN=RIGHT NOWRAP> Substracts <tt>I</tt> from the address pointed to by <tt>P</tt>. </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<tt>P - Q</tt> </TD><TD VALIGN=BASELINE ALIGN=RIGHT NOWRAP> Returns, as an integer, the distance between 2 addresses </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
 </TD><TD VALIGN=BASELINE ALIGN=RIGHT NOWRAP> (or the number of characters between <tt>P</tt> and <tt>Q</tt>) </TD></TR>
</TBODY>
<CAPTION ALIGN=BOTTOM><STRONG>Table:</STRONG>  <tt>PChar</tt> pointer arithmetic</CAPTION></TABLE>
</P></DIV><P><HR><A NAME="tex2html562" HREF="node19.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="file:/usr/lib/latex2html/icons/next_motif.gif"></A> <A NAME="tex2html560" HREF="node16.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="file:/usr/lib/latex2html/icons/up_motif.gif"></A> <A NAME="tex2html554" HREF="node17.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="file:/usr/lib/latex2html/icons/previous_motif.gif"></A> <A NAME="tex2html564" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="file:/usr/lib/latex2html/icons/contents_motif.gif"></A> <A NAME="tex2html565" HREF="node72.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="file:/usr/lib/latex2html/icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html563" HREF="node19.html">Structured Types</A>
<B>Up:</B> <A NAME="tex2html561" HREF="node16.html">Types</A>
<B> Previous:</B> <A NAME="tex2html555" HREF="node17.html">Base types</A>
<P><ADDRESS>
<I>Michael Van Canneyt <BR>
Fri Sep 25 09:15:40 MEST 1998</I>
</ADDRESS>
</BODY>
</HTML>
