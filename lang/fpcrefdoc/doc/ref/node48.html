<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1-h (September 30, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Parameter lists</TITLE>
<META NAME="description" CONTENT="Parameter lists">
<META NAME="keywords" CONTENT="ref">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="ref.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html940" HREF="node49.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="file:/usr/lib/latex2html/icons/next_motif.gif"></A> <A NAME="tex2html938" HREF="node45.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="file:/usr/lib/latex2html/icons/up_motif.gif"></A> <A NAME="tex2html932" HREF="node47.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="file:/usr/lib/latex2html/icons/previous_motif.gif"></A> <A NAME="tex2html942" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="file:/usr/lib/latex2html/icons/contents_motif.gif"></A> <A NAME="tex2html943" HREF="node72.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="file:/usr/lib/latex2html/icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html941" HREF="node49.html">Function overloading</A>
<B>Up:</B> <A NAME="tex2html939" HREF="node45.html">Using functions and procedures</A>
<B> Previous:</B> <A NAME="tex2html933" HREF="node47.html">Function declaration</A>
<BR> <P>
<H1><A NAME="SECTION03830000000000000000">Parameter lists</A></H1>
<P>
<A NAME="seParameters">&#160;</A>
<P>
When you need to pass arguments to a function or procedure, these parameters
must be declared in the formal parameter list of that function or procedure.
<P>
The parameter list is a declaration of identifiers that can be referred to 
only in that procedure or function's block.
<P>
<BLOCKQUOTE> <BR><b> Parameters</b><BR>
<BR><IMG WIDTH=520 HEIGHT=165 ALIGN=BOTTOM ALT="syntdiag4078" SRC="img231.gif"><BR>
<BR><IMG WIDTH=44 HEIGHT=52 ALIGN=BOTTOM ALT="syntdiag4082" SRC="img232.gif"><BR>
</BLOCKQUOTE>
<P>
<tt>const</tt> parameters and <tt>var</tt> parameters can also be <tt>untyped</tt>
parameters if they have no type identifier.
<P>
<H2><A NAME="SECTION03831000000000000000">Value parameters</A></H2>
<P>
Value parameters are declared as follows:
<P>
<BLOCKQUOTE> <BR><b>  Value parameters</b><BR><BR><IMG WIDTH=395 HEIGHT=203 ALIGN=BOTTOM ALT="syntdiag4110" SRC="img233.gif"><BR></BLOCKQUOTE>
<P>
When you declare parameters as value parameters, the procedure gets <EM>
a copy</EM> of the parameters that the calling block passes. Any modifications
to these parameters are purely local to the procedure's block, and do not 
propagate back to the calling block.
<P>
A block that wishes to call a procedure with value parameters must pass
assignment compatible parameters to the procedure. This means that the types
should not match exactly, but can be converted (conversion code is inserted
by the compiler itself)
<P>
Take care that using value parameters makes heavy use of the stack,
especially if you pass large parameters. The total size of all parameters in
the formal parameter list can only be 64K (on an Intel machine).
<P>
You can pass open arrays as value parameters. See section (<A HREF="node48.html#seopenarray"><IMG  ALIGN=BOTTOM ALT="gif" SRC="file:/usr/lib/latex2html/icons/cross_ref_motif.gif"></A>) for
more information on using open arrays.
<P>
<H2><A NAME="SECTION03832000000000000000"><tt>var</tt> parameters</A></H2>
<P>
<A NAME="sevarparams">&#160;</A>
<P>
Variable parameters are declared as follows:
<P>
<BLOCKQUOTE> <BR><b>  Variable parameters</b><BR><BR><IMG WIDTH=576 HEIGHT=27 ALIGN=BOTTOM ALT="syntdiag4149" SRC="img234.gif"><BR></BLOCKQUOTE>
<P>
When you declare parameters as variable parameters, the procedure or
function accesses immediatly the variable that the calling block passed in
its parameter list. The procedure gets a pointer to the variable that was
passed, and uses this pointer to access the variable's value.
From this, it follows that any changes that you make to the parameter, will
proagate back to the calling block. This mechanism can be used to pass
values back in procedures.
<P>
Because of this, the calling block must pass a parameter of <EM>exactly</EM>
the same type as the declared parameter's type. If it does not, the compiler
will generate an error.
<P>
Variable parameters can be untyped. In that case the variable has no type,
and hence is incompatible with all othertypes. However, you can use the 
address operator on it, or you can pass it to a function that has also an 
untyped parameter. If you want to use an untyped parameter in an assigment,
or you want to assign to it, you must use a typecast.
<P>
File type variables must always be passed as variable parameters.
<P>
You can pass open arrays as variable parameters. See section (<A HREF="node48.html#seopenarray"><IMG  ALIGN=BOTTOM ALT="gif" SRC="file:/usr/lib/latex2html/icons/cross_ref_motif.gif"></A>) for
more information on using open arrays.
<P>
<H2><A NAME="SECTION03833000000000000000"><tt>Const</tt> parameters</A></H2>
<P>
In addition to variable parameters and value parameters Free Pascal also supports 
<tt>Const</tt> parameters. You can specify a <tt>Const</tt> parameter as follows:
<P>
<BLOCKQUOTE> <BR><b>  Constant parameters</b><BR><BR><IMG WIDTH=576 HEIGHT=49 ALIGN=BOTTOM ALT="syntdiag4223" SRC="img235.gif"><BR></BLOCKQUOTE>
<P>
A constant argument is passed by reference if it's size is larger than a
longint. It is passed by value if the size equals 4 or less.
This means that the function or procedure receives a pointer to the passed 
argument, but you are not allowed to assign to it, this will result in a 
compiler error. Likewise, you cannot pass a const parameter on to another
function that requires a variable parameter.
<P>
The main use for this is reducing the stack size, hence improving
performance, and still retaining the semantics of passing by value...
<P>
Constant parameters can also be untyped. See section (<A HREF="node48.html#sevarparams"><IMG  ALIGN=BOTTOM ALT="gif" SRC="file:/usr/lib/latex2html/icons/cross_ref_motif.gif"></A>) for more
information about untyped parameters.
<P>
You can pass open arrays as constant parameters. See section (<A HREF="node48.html#seopenarray"><IMG  ALIGN=BOTTOM ALT="gif" SRC="file:/usr/lib/latex2html/icons/cross_ref_motif.gif"></A>) for
more information on using open arrays.
<P>
<H2><A NAME="SECTION03834000000000000000">Open array parameters</A></H2>
<P>
<A NAME="seopenarray">&#160;</A>
<P>
Free Pascal supports the passing of open arrays, i.e. you can declare a procedure
with an array of unspecified length as a parameter, as in Delphi.
<P>
Open array parameters can be accessed in the procedure or function as an
array that is declared with starting starting index 0, and last element 
index <tt>High(paremeter)</tt>.
<P>
For example, the parameter
<BR><IMG WIDTH=576 HEIGHT=14 ALIGN=BOTTOM ALT="listing4175" SRC="img236.gif"><BR>
would be equivalent to
<BR><IMG WIDTH=576 HEIGHT=29 ALIGN=BOTTOM ALT="listing4177" SRC="img237.gif"><BR>
Where  <tt>N</tt> would be the actual size of the array that is passed to the
function. <tt>N-1</tt> can be calculated as <tt>High(Row)</tt>.
<P>
Open parameters can be passed by value, by reference or as a constant 
parameter. In the latter cases the procedure receives a pointer to the
actual array. In the former case,it receives a copy of the array.
<P>
In a function or procedure, you can pass open arrays only to functions which
are also declared with open arrays as parameters, <EM>not</EM> to functions or
procedures which accept arrays of fixed length.
<P>
The following is an example of a function using an open array:
<P>
<BR><IMG WIDTH=576 HEIGHT=10 ALIGN=BOTTOM ALT="listing4183" SRC="img238.gif"><BR><HR><A NAME="tex2html940" HREF="node49.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="file:/usr/lib/latex2html/icons/next_motif.gif"></A> <A NAME="tex2html938" HREF="node45.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="file:/usr/lib/latex2html/icons/up_motif.gif"></A> <A NAME="tex2html932" HREF="node47.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="file:/usr/lib/latex2html/icons/previous_motif.gif"></A> <A NAME="tex2html942" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="file:/usr/lib/latex2html/icons/contents_motif.gif"></A> <A NAME="tex2html943" HREF="node72.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="file:/usr/lib/latex2html/icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html941" HREF="node49.html">Function overloading</A>
<B>Up:</B> <A NAME="tex2html939" HREF="node45.html">Using functions and procedures</A>
<B> Previous:</B> <A NAME="tex2html933" HREF="node47.html">Function declaration</A>
<P><ADDRESS>
<I>Michael Van Canneyt <BR>
Fri Sep 25 09:15:40 MEST 1998</I>
</ADDRESS>
</BODY>
</HTML>
