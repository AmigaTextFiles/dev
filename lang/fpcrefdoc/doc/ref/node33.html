<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1-h (September 30, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Properties</TITLE>
<META NAME="description" CONTENT="Properties">
<META NAME="keywords" CONTENT="ref">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="ref.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html746" HREF="node34.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="file:/usr/lib/latex2html/icons/next_motif.gif"></A> <A NAME="tex2html744" HREF="node29.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="file:/usr/lib/latex2html/icons/up_motif.gif"></A> <A NAME="tex2html740" HREF="node32.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="file:/usr/lib/latex2html/icons/previous_motif.gif"></A> <A NAME="tex2html748" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="file:/usr/lib/latex2html/icons/contents_motif.gif"></A> <A NAME="tex2html749" HREF="node72.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="file:/usr/lib/latex2html/icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html747" HREF="node34.html">Expressions</A>
<B>Up:</B> <A NAME="tex2html745" HREF="node29.html">Classes</A>
<B> Previous:</B> <A NAME="tex2html741" HREF="node32.html">Methods</A>
<BR> <P>
<H1><A NAME="SECTION03540000000000000000">Properties</A></H1>
<P>
Classes can contain properties as part of their fields list. A property
acts like a normal field, i.e. you can get or set it's value, but 
allows to redirect the access of the field through functions and 
procedures. They provide a means to assiciate an action with an assignment
of or a reading from a class 'field'. This allows for e.g. checking that a
value is valid when assigning, or, when reading, it allows to construct the
value on the fly. Moreover, properties can be read-only or write only.
<P>
The prototype declaration of a property is as follows:
<P>
<BLOCKQUOTE> <BR><b> Properties</b><BR>
<BR><IMG WIDTH=250 HEIGHT=73 ALIGN=BOTTOM ALT="syntdiag2525" SRC="img135.gif"><BR>
<BR><IMG WIDTH=616 HEIGHT=718 ALIGN=BOTTOM ALT="syntdiag2529" SRC="img136.gif"><BR>
<BR><IMG WIDTH=605 HEIGHT=242 ALIGN=BOTTOM ALT="syntdiag2533" SRC="img137.gif"><BR>
<BR><IMG WIDTH=526 HEIGHT=73 ALIGN=BOTTOM ALT="syntdiag2537" SRC="img138.gif"><BR>
<BR><IMG WIDTH=298 HEIGHT=16 ALIGN=BOTTOM ALT="syntdiag2541" SRC="img139.gif"><BR>
<BR><IMG WIDTH=203 HEIGHT=14 ALIGN=BOTTOM ALT="syntdiag2545" SRC="img140.gif"><BR>
<BR><IMG WIDTH=576 HEIGHT=152 ALIGN=BOTTOM ALT="syntdiag2549" SRC="img141.gif"><BR>
<BR><IMG WIDTH=576 HEIGHT=80 ALIGN=BOTTOM ALT="syntdiag2553" SRC="img142.gif"><BR>
</BLOCKQUOTE>
<P>
A <tt>read specifier</tt> is either the name of a field that contains the
property, or the name of a method function that has the same return type as 
the property type. In the case of a simple type, this
function must not accept an argument. A read specifier is optional, making
the property write-only.
<P>
A <tt>write specifier</tt> is optional: If there is no write specifier, the
property is read-only. A write specifier is either the name of a field, or
the name of a method procedure that accepts as a sole argument a variable of
the same type as the property.
<P>
The section (<tt>private</tt>, <tt>published</tt> in which the specified function or 
procedure resides is irrelevant. Usually, however, this will be a protected
or private method.
<P>
Example:
Given the following declaration:
<BR><IMG WIDTH=355 HEIGHT=35 ALIGN=BOTTOM ALT="listing2440" SRC="img143.gif"><BR>
The following are valid statements:
<BR><IMG WIDTH=152 HEIGHT=30 ALIGN=BOTTOM ALT="listing2442" SRC="img144.gif"><BR>
But the following would generate an error:
<BR><IMG WIDTH=576 HEIGHT=150 ALIGN=BOTTOM ALT="listing2444" SRC="img145.gif"><BR>
because Z is a read-only property.
<P>
What happens in the above statements is that when a value needs to be read,
the compiler inserts a call to the various <tt>getNNN</tt> methods of the
object, and the result of this call is used. When an assignment is made, 
the compiler passes the value that must be assigned as a paramater to 
the various <tt>setNNN</tt> methods.
<P>
Because of this mechanism, properties cannot be passed as var arguments to a
function or procedure, since there is no known address of the property (at
least, not always).
<P>
If the property definition contains an index, then the read and write
specifiers must be a function and a procedure. Moreover, these functions
require an additional parameter : An integer parameter. This allows to read
or write several properties with the same function. For this, the properties
must have the same type.
<P>
The following is an example of a property with an index:
<BR><IMG WIDTH=357 HEIGHT=35 ALIGN=BOTTOM ALT="listing2448" SRC="img146.gif"><BR>
When the compiler encounters an assignment to <tt>X</tt>, then <tt>SetCoord</tt> 
is called with as first parameter the index (1 in the above case) and with
as a second parameter the value to be set.
<P>
Conversely, when reading the value of <tt>X</tt>, the compiler calls
<tt>GetCoord</tt> and passes it index 1.
<P>
Indexes can only be integer values.
<P>
You can also have array properties. These are properties that accept an
index, just as an array does. Only now the index doesn't have to be an 
ordinal type, but can be any type.
<P>
A <tt>read specifier</tt> for an array property is the name method function 
that has the same return type as  the property type. 
The function must accept as a sole arguent a variable of the same type as 
the index type. For an array property, you cannot specify fields as read 
specifiers.
<P>
A <tt>write specifier</tt> for an array property is the name of a method 
procedure that accepts two arguments: The first argument has the same 
type as the index, and the second argument is a parameter of the same 
type as the property type.
<P>
As an example, see the following declaration:
<BR><IMG WIDTH=576 HEIGHT=151 ALIGN=BOTTOM ALT="listing2456" SRC="img147.gif"><BR>
Then the following statements would be valid:
<BR><IMG WIDTH=576 HEIGHT=62 ALIGN=BOTTOM ALT="listing2458" SRC="img148.gif"><BR>
While the following statements would generate errors:
<BR><IMG WIDTH=576 HEIGHT=102 ALIGN=BOTTOM ALT="listing2460" SRC="img149.gif"><BR>
Because the index types are wrong.
<P>
Array properties can be declared as <tt>default</tt> properties. This means that
it is not necessary to specify the property name when assigning or reading
it. If, in the previous example, the definition of the items property would 
have been
<BR><IMG WIDTH=576 HEIGHT=48 ALIGN=BOTTOM ALT="listing2463" SRC="img150.gif"><BR>
Then the assignment
<BR><IMG WIDTH=576 HEIGHT=27 ALIGN=BOTTOM ALT="listing2465" SRC="img151.gif"><BR>
Would be equivalent to the following abbreviation.
<BR><IMG WIDTH=522 HEIGHT=355 ALIGN=BOTTOM ALT="listing2467" SRC="img152.gif"><BR>
You can have only one default property per class, and descendent classes
cannot redeclare the default property.
<P>
<HR><A NAME="tex2html746" HREF="node34.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="file:/usr/lib/latex2html/icons/next_motif.gif"></A> <A NAME="tex2html744" HREF="node29.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="file:/usr/lib/latex2html/icons/up_motif.gif"></A> <A NAME="tex2html740" HREF="node32.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="file:/usr/lib/latex2html/icons/previous_motif.gif"></A> <A NAME="tex2html748" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="file:/usr/lib/latex2html/icons/contents_motif.gif"></A> <A NAME="tex2html749" HREF="node72.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="file:/usr/lib/latex2html/icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html747" HREF="node34.html">Expressions</A>
<B>Up:</B> <A NAME="tex2html745" HREF="node29.html">Classes</A>
<B> Previous:</B> <A NAME="tex2html741" HREF="node32.html">Methods</A>
<P><ADDRESS>
<I>Michael Van Canneyt <BR>
Fri Sep 25 09:15:40 MEST 1998</I>
</ADDRESS>
</BODY>
</HTML>
