<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1-h (September 30, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Assembler procedures and functions</TITLE>
<META NAME="description" CONTENT="Assembler procedures and functions">
<META NAME="keywords" CONTENT="ref">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="ref.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html1168" HREF="node68.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="file:/usr/lib/latex2html/icons/next_motif.gif"></A> <A NAME="tex2html1166" HREF="node65.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="file:/usr/lib/latex2html/icons/up_motif.gif"></A> <A NAME="tex2html1162" HREF="node66.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="file:/usr/lib/latex2html/icons/previous_motif.gif"></A> <A NAME="tex2html1170" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="file:/usr/lib/latex2html/icons/contents_motif.gif"></A> <A NAME="tex2html1171" HREF="node72.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="file:/usr/lib/latex2html/icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html1169" HREF="node68.html">Reference : The System </A>
<B>Up:</B> <A NAME="tex2html1167" HREF="node65.html">Using assembler</A>
<B> Previous:</B> <A NAME="tex2html1163" HREF="node66.html">Assembler statements </A>
<BR> <P>
<H1><A NAME="SECTION031120000000000000000">Assembler procedures and functions</A></H1>
<P>
Assembler procedures and functions are declared using the
<tt>Assembler</tt> directive. The <tt>Assembler</tt> keyword is supported
as of version 0.9.7. This permits the code generator to make a number
of code generation optimizations.
<P>
The code generator does not generate any stack frame (entry and exit
code for the routine) if it contains no local variables and no
parameters. In the case of functions, ordinal values must be returned
in the accumulator. In the case of floating point values, these depend
on the target processor and emulation options.
<P>
<em> Remark: </em> Before version 0.99.1, Free Pascal did not support
reference to variables by their names in the assembler parts of your code.
<P>
<em> Remark: </em> From version 0.99.1 to 0.99.5 (<em>excluding</em>
FPC 0.99.5a), the <tt>Assembler</tt> directive did not have the
same effect as in Turbo Pascal, so beware! The stack frame would be
omitted if there were no local variables, in this case if the assembly
routine had any parameters, they would be referenced directly via the stack
pointer. This was <em> NOT</em> like Turbo Pascal where the stack frame is only
omitted if there are no parameters <em> and </em> no local variables. As
stated earlier, starting from version 0.99.5a, Free Pascal now has the same
behaviour as Turbo Pascal.
<P>
<HR><A NAME="tex2html1168" HREF="node68.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="file:/usr/lib/latex2html/icons/next_motif.gif"></A> <A NAME="tex2html1166" HREF="node65.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="file:/usr/lib/latex2html/icons/up_motif.gif"></A> <A NAME="tex2html1162" HREF="node66.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="file:/usr/lib/latex2html/icons/previous_motif.gif"></A> <A NAME="tex2html1170" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="file:/usr/lib/latex2html/icons/contents_motif.gif"></A> <A NAME="tex2html1171" HREF="node72.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="file:/usr/lib/latex2html/icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html1169" HREF="node68.html">Reference : The System </A>
<B>Up:</B> <A NAME="tex2html1167" HREF="node65.html">Using assembler</A>
<B> Previous:</B> <A NAME="tex2html1163" HREF="node66.html">Assembler statements </A>
<P><ADDRESS>
<I>Michael Van Canneyt <BR>
Fri Sep 25 09:15:40 MEST 1998</I>
</ADDRESS>
</BODY>
</HTML>
