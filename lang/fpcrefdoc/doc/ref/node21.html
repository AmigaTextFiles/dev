<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1-h (September 30, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Procedural types</TITLE>
<META NAME="description" CONTENT="Procedural types">
<META NAME="keywords" CONTENT="ref">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="ref.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html596" HREF="node22.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="file:/usr/lib/latex2html/icons/next_motif.gif"></A> <A NAME="tex2html594" HREF="node16.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="file:/usr/lib/latex2html/icons/up_motif.gif"></A> <A NAME="tex2html590" HREF="node20.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="file:/usr/lib/latex2html/icons/previous_motif.gif"></A> <A NAME="tex2html598" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="file:/usr/lib/latex2html/icons/contents_motif.gif"></A> <A NAME="tex2html599" HREF="node72.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="file:/usr/lib/latex2html/icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html597" HREF="node22.html">Objects</A>
<B>Up:</B> <A NAME="tex2html595" HREF="node16.html">Types</A>
<B> Previous:</B> <A NAME="tex2html591" HREF="node20.html">Pointers</A>
<BR> <P>
<H1><A NAME="SECTION03350000000000000000">Procedural types</A></H1>
<P>
Free Pascal has support for procedural types, although it differs a little from 
the Turbo Pascal implementation of them. The type declaration remains the
same, as can be seen in the following syntax diagram:
<P>
<BLOCKQUOTE> <BR><b> Procedural types</b><BR>
<BR><IMG WIDTH=128 HEIGHT=129 ALIGN=BOTTOM ALT="syntdiag1899" SRC="img90.gif"><BR>
<BR><IMG WIDTH=337 HEIGHT=203 ALIGN=BOTTOM ALT="syntdiag1903" SRC="img91.gif"><BR>
<BR><IMG WIDTH=576 HEIGHT=84 ALIGN=BOTTOM ALT="syntdiag1907" SRC="img92.gif"><BR>
<BR><IMG WIDTH=576 HEIGHT=15 ALIGN=BOTTOM ALT="syntdiag1911" SRC="img93.gif"><BR>
</BLOCKQUOTE>
<P>
For a description of formal parameter lists, see chapter (<A HREF="node45.html#chProcedures"><IMG  ALIGN=BOTTOM ALT="gif" SRC="file:/usr/lib/latex2html/icons/cross_ref_motif.gif"></A>).
<P>
The two following examples are valid type declarations:
<BR><IMG WIDTH=576 HEIGHT=55 ALIGN=BOTTOM ALT="listing1847" SRC="img94.gif"><BR>
<P>
One can assign the following values to a procedural type variable:
<OL>
<LI> <tt>Nil</tt>, for both normal procedure pointers and method pointers.
<LI> A variable reference of a procedural type, i.e. another variable of
the same type.
<LI> A global procedure or function address, with matching function or
procedure header and calling convention.
<LI> A method address.
</OL>
<P>
Given these declarations, the following assignments are valid:
<BR><IMG WIDTH=576 HEIGHT=13 ALIGN=BOTTOM ALT="listing1852" SRC="img95.gif"><BR>
From this example, the difference with Turbo Pascal is clear: In Turbo
Pascal it isn't necessary to use the address operator (<tt>@</tt>) 
when assigning a procedural type variable, whereas in Free Pascal it is required
(unless you use the <tt>-So</tt> switch, in which case you can drop the address
operator.)
<P>
Remark that the modifiers concerning the calling conventions (<tt>cdecl</tt>,
<tt>pascal</tt>, <tt>stdcall</tt> and <tt>popstack</tt> stick to the declaration;
i.e. the following code would give an error:
<BR><IMG WIDTH=576 HEIGHT=81 ALIGN=BOTTOM ALT="listing1860" SRC="img96.gif"><BR>
Because the <tt>TOneArgCcall</tt> type is a procedure that uses the cdecl
calling convention.
<P>
At the moment, the method procedural pointers (i.e. pointers that point to
methods of objects, distinguished by the <tt>of object</tt> keywords in the
declaration) are still in an experimental stage.
<P>
<HR><A NAME="tex2html596" HREF="node22.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="file:/usr/lib/latex2html/icons/next_motif.gif"></A> <A NAME="tex2html594" HREF="node16.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="file:/usr/lib/latex2html/icons/up_motif.gif"></A> <A NAME="tex2html590" HREF="node20.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="file:/usr/lib/latex2html/icons/previous_motif.gif"></A> <A NAME="tex2html598" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="file:/usr/lib/latex2html/icons/contents_motif.gif"></A> <A NAME="tex2html599" HREF="node72.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="file:/usr/lib/latex2html/icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html597" HREF="node22.html">Objects</A>
<B>Up:</B> <A NAME="tex2html595" HREF="node16.html">Types</A>
<B> Previous:</B> <A NAME="tex2html591" HREF="node20.html">Pointers</A>
<P><ADDRESS>
<I>Michael Van Canneyt <BR>
Fri Sep 25 09:15:40 MEST 1998</I>
</ADDRESS>
</BODY>
</HTML>
