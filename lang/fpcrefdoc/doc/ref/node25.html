<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1-h (September 30, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Constructors and destructors </TITLE>
<META NAME="description" CONTENT="Constructors and destructors ">
<META NAME="keywords" CONTENT="ref">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="ref.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html650" HREF="node26.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="file:/usr/lib/latex2html/icons/next_motif.gif"></A> <A NAME="tex2html648" HREF="node22.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="file:/usr/lib/latex2html/icons/up_motif.gif"></A> <A NAME="tex2html642" HREF="node24.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="file:/usr/lib/latex2html/icons/previous_motif.gif"></A> <A NAME="tex2html652" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="file:/usr/lib/latex2html/icons/contents_motif.gif"></A> <A NAME="tex2html653" HREF="node72.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="file:/usr/lib/latex2html/icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html651" HREF="node26.html">Methods</A>
<B>Up:</B> <A NAME="tex2html649" HREF="node22.html">Objects</A>
<B> Previous:</B> <A NAME="tex2html643" HREF="node24.html">Fields</A>
<BR> <P>
<H1><A NAME="SECTION03430000000000000000">Constructors and destructors </A></H1>
<P>
<A NAME="seconstructdestruct">&#160;</A>
<P>
As can be seen in the syntax diagram for an object declaration, Free Pascal supports
constructors and destructors. You are responsible for calling the 
constructor and the destructor explicitly when using objects.
<P>
The declaration of a constructor or destructor is as follows:
<P>
<BLOCKQUOTE> <BR><b> Constructors and destructors</b><BR>
<BR><IMG WIDTH=224 HEIGHT=224 ALIGN=BOTTOM ALT="syntdiag2238" SRC="img112.gif"><BR>
<BR><IMG WIDTH=269 HEIGHT=167 ALIGN=BOTTOM ALT="syntdiag2242" SRC="img113.gif"><BR>
<BR><IMG WIDTH=232 HEIGHT=224 ALIGN=BOTTOM ALT="syntdiag2246" SRC="img114.gif"><BR>
<BR><IMG WIDTH=269 HEIGHT=167 ALIGN=BOTTOM ALT="syntdiag2250" SRC="img115.gif"><BR>
</BLOCKQUOTE>
<P>
A constructor/destructor pair is <EM>required</EM> if you use virtual methods.
<P>
In the declaration of the object type, you should use a simple identifier
for the name of the constuctor or destructor. When you implement the
constructor or destructor, you should use a qulified method identifier,
i.e. an identifier of the form <tt>objectidentifier.methodidentifier</tt>.
<P>
Free Pascal supports also the extended syntax of the <tt>New</tt> and <tt>Dispose</tt>
procedures. In case you want to allocate a dynamic variable of an object
type, you can specify the constructor's name in the call to <tt>New</tt>.
The <tt>New</tt> is implemented as a function which returns a pointer to the
instantiated object. Consider the following declarations:
<BR><IMG WIDTH=157 HEIGHT=71 ALIGN=BOTTOM ALT="listing2084" SRC="img116.gif"><BR>
Then the following 3 calls are equivalent:
<BR><IMG WIDTH=318 HEIGHT=224 ALIGN=BOTTOM ALT="listing2086" SRC="img117.gif"><BR>
and
<BR><IMG WIDTH=269 HEIGHT=167 ALIGN=BOTTOM ALT="listing2088" SRC="img118.gif"><BR>
and also
<BR><IMG WIDTH=576 HEIGHT=84 ALIGN=BOTTOM ALT="listing2090" SRC="img119.gif"><BR>
In the last case, the compiler will issue a warning that you should use the
extended syntax of <tt>new</tt> and <tt>dispose</tt> to generate instances of an
object. You can ignore this warning, but it's better programming practice to
use the extended syntax to create instances of an object.
<P>
Similarly, the <tt>Dispose</tt> procedure accepts the name of a destructor. The
destructor will then be called, before removing the object from the heap.
<P>
In view of the compiler warning remark, the now following Delphi approach may 
be considered a more natural way of object-oriented programming.
<P>
<HR><A NAME="tex2html650" HREF="node26.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="file:/usr/lib/latex2html/icons/next_motif.gif"></A> <A NAME="tex2html648" HREF="node22.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="file:/usr/lib/latex2html/icons/up_motif.gif"></A> <A NAME="tex2html642" HREF="node24.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="file:/usr/lib/latex2html/icons/previous_motif.gif"></A> <A NAME="tex2html652" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="file:/usr/lib/latex2html/icons/contents_motif.gif"></A> <A NAME="tex2html653" HREF="node72.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="file:/usr/lib/latex2html/icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html651" HREF="node26.html">Methods</A>
<B>Up:</B> <A NAME="tex2html649" HREF="node22.html">Objects</A>
<B> Previous:</B> <A NAME="tex2html643" HREF="node24.html">Fields</A>
<P><ADDRESS>
<I>Michael Van Canneyt <BR>
Fri Sep 25 09:15:40 MEST 1998</I>
</ADDRESS>
</BODY>
</HTML>
