INFORMATIONS ABOUT Miracula 2.3

Miracula is a functional programming language,
very close to Miranda in syntax and semantics.

In contrast to earlier versions of Miracula,
Miracula 2.3 supports a type-check.
But you can run a program even if type-checking fails.
A type error is only a warning.

Miracula has no support for modularization,
but the corresponding library directives in
Miranda programs will syntactically be checked (and ignored).
The only way to split your work into separate files
is to use the %insert-directive.

Miracula has no interface to the operating system.
Particularly, there is no way of reading or writing files.
(The implementation of Miracula has been made for eductional purposes.)

The file stdenv is more or less the same as Miranda's 
standard environment (version 2),
some functions are missing, some are additional -
just inspect the file.
You can change the contents of this file,
but be careful:
`foldr' is used to implement list comprehensions,
`curry' and `converse' are used for currified operators and
`upto', `upfrom', `uptoby', `upfromby' for the dotdot expressions.

Miracula 2.3 searches for the file `stdenv' in the MIRALIB directory -
MIRALIB is an environment variable.
If the variable is unset, it searches in the working directory.
	REMARK FOR INSTALLATION
	If your operating system does not support environment variables
	you have to replace the call
		getenv("MIRALIB")
	in "parse.y" by something else of type (char *),
	e.g. by a fixed directory name
	or just by NULL.

Further differences:
-	`error' and `undef' are not there
-	`show' is not implemented
-	there are no abstypes, i.e. there is no hiding of the concrete type
-	list comprehensions using // are not supported
-	num's are internally floating point numbers,
	there are no huge numbers
-	there are no irrefutable patterns (except variables, of course)

In command level, you can type expressions or commands.
Except the meaning of a new line, the syntax of expressions
in command level is the SAME as in scripts, i.e. the
$$ is not allowed in expressions. 

The following commands are available:
	/file filename
	/quit
	/eager
	/lazy
	/reset
	/trace
	/notrace
	/list
	/nolist

/file 	is somewhat different from Miranda,
	because there are no intermediate files and no module structure:
	/file bingo
	means to read the definitions from bingo
	and to ADD them to the current database.
	Hence you can compose different scripts by
	/file script1
	/file script2

	In contrast to version 2.1 (and earlier) the filename is NOT a string,
	it is just a sequence of visible characters, each one belonging to the name.
	Consequently, \ is not longer an escape character.
	
/reset	deletes the contents of the database (except stdenv).
/eager	sets the evaluation strategy to call-by-value (default).
/lazy	makes the evaluation strategy lazy.
/trace	shows each rewriting step;
	this is a very poor debugging method,
	but more than nothing, i.e. more than Miranda.
/list	similar as in Miranda, but not the same:
	it doesn't show the input text,
	but the definitions (rewrite rules) after an internal
	compilation step.
	This might be useful in connection with /trace, because the
	compilation introduces some new function symbols
	and the displayed rewriting steps (and type error messages, I'm sorry)
	refer to them.
	New symbols are introduced for list comprehensions (_zf_number) and
	conformal definitions (_?_number) and
	for local declarations (_localname_number).

REMARK:
	The evaluation machine of Miracula uses memoization.
	Hence, some inefficient-looking functions behave
	quite efficiently.
	Sometimes this might be awkward, e.g. if a teacher
	teaches about efficient and inefficient programs.
	I am sorry for that.


For more informations or help, please contact

Stefan M. Kahrs			   JANET: smk@uk.ac.ed.dcs
LFCS, Dept. of Computer Science    UUCP:  ..!mcvax!ukc!lfcs!smk
University of Edinburgh            ARPA:  smk%dcs.ed.ac.uk@nsfnet-relay.ac.uk
Edinburgh EH9 3JZ, UK.             Tel:   031-650-5898


