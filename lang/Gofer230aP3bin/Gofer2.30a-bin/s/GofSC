.key file/A,opt/K
.bra {
.ket }
.def opt "no"
;;
;; Location of gofer files - site specific
set ROOT sys:lib/gofer
;;
if {opt} eq "yes"
  set OPT optimize
else
  set OPT ""
endif
failat 50
sc $OPT idir $ROOT/small/ nover data=far code=far ign=304 pname={file} {file}.c lib $ROOT/small/s-runtime.o math=standard link
unset ROOT
unset OPT
quit 0
;;
;; A simple shell script to compile C files produced by the Gofer compiler
;; This version uses SAS/C 6.51
;;
;; Even though Small Gofer is 16 bit, we compile the generated C program
;; using 32 bit integers because it was necessary to build the runtime
;; library as 32 bit. Using 16 bit integers resulted in broken executables
;; that crashed the machine! Too bad we waste memory :-(
;;
;;    1> gofc myfile.gs
;;    1> gofsc myfile
;;
;;    1> gofc + proj.gp
;;    1> gofsc proj
;;
;; Don't use Gofer source files without extensions. You will loose them...
