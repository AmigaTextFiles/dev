	csect	text

	xdef	_DPFix,_DPFlt,_DPCmp,_DPAbs,_DPNeg,_DPAdd,_DPSub,_DPMul,_DPDiv
	xref	_MathIeeeDoubBasBase

_LVOIEEEDPFix	equ	-30
_LVOIEEEDPFlt	equ	-36
_LVOIEEEDPCmp	equ	-42
_LVOIEEEDPAbs	equ	-54
_LVOIEEEDPNeg	equ	-60
_LVOIEEEDPAdd	equ	-66
_LVOIEEEDPSub	equ	-72
_LVOIEEEDPMul	equ	-78
_LVOIEEEDPDiv	equ	-84

* some interface routines that the compiler can use to access the math
* library to do compile-time evaluation of floating point values.

_DPFix
	movem.l 4(sp),d0/d1
	move.l	a6,-(sp)
	movea.l _MathIeeeDoubBasBase,a6
	jsr	_LVOIEEEDPFix(a6)
	move.l	(sp)+,a6
	move.l	(sp)+,a0
	addq.l	#8,sp
	jmp	(a0)

_DPFlt
	move.l	8(sp),d0
	move.l	a6,-(sp)
	movea.l _MathIeeeDoubBasBase,a6
	jsr	_LVOIEEEDPFlt(a6)
	move.l	(sp)+,a6
	move.l	4(sp),a0
	movem.l d0/d1,(a0)
	move.l	(sp)+,a0
	addq.l	#8,sp
	jmp	(a0)

_DPCmp
	movem.l d2/d3,-(sp)
	movem.l 12(sp),d0/d1/d2/d3
	move.l	a6,-(sp)
	movea.l _MathIeeeDoubBasBase,a6
	jsr	_LVOIEEEDPCmp(a6)
	move.l	(sp)+,a6
	movem.l (sp)+,d2/d3
	move.l	(sp)+,a0
	add.l	#16,sp
	jmp	(a0)

_DPAbs
	movem.l 8(sp),d0/d1
	move.l	a6,-(sp)
	movea.l _MathIeeeDoubBasBase,a6
	jsr	_LVOIEEEDPAbs(a6)
	move.l	(sp)+,a6
	move.l	4(sp),a0
	movem.l d0/d1,(a0)
	move.l	(sp)+,a0
	add.l	#12,sp
	jmp	(a0)

_DPNeg
	movem.l 8(sp),d0/d1
	move.l	a6,-(sp)
	movea.l _MathIeeeDoubBasBase,a6
	jsr	_LVOIEEEDPNeg(a6)
	move.l	(sp)+,a6
	move.l	4(sp),a0
	movem.l d0/d1,(a0)
	move.l	(sp)+,a0
	add.l	#12,sp
	jmp	(a0)

_DPAdd
	movem.l d2/d3,-(sp)
	movem.l 16(sp),d0/d1/d2/d3
	move.l	a6,-(sp)
	movea.l _MathIeeeDoubBasBase,a6
	jsr	_LVOIEEEDPAdd(a6)
	move.l	(sp)+,a6
	movem.l (sp)+,d2/d3
	move.l	4(sp),a0
	movem.l d0/d1,(a0)
	movem.l (sp)+,a0
	add.l	#20,sp
	jmp	(a0)

_DPSub
	movem.l d2/d3,-(sp)
	movem.l 16(sp),d0/d1/d2/d3
	move.l	a6,-(sp)
	movea.l _MathIeeeDoubBasBase,a6
	jsr	_LVOIEEEDPSub(a6)
	move.l	(sp)+,a6
	movem.l (sp)+,d2/d3
	move.l	4(sp),a0
	movem.l d0/d1,(a0)
	movem.l (sp)+,a0
	add.l	#20,sp
	jmp	(a0)

_DPMul
	movem.l d2/d3,-(sp)
	movem.l 16(sp),d0/d1/d2/d3
	move.l	a6,-(sp)
	movea.l _MathIeeeDoubBasBase,a6
	jsr	_LVOIEEEDPMul(a6)
	move.l	(sp)+,a6
	movem.l (sp)+,d2/d3
	move.l	4(sp),a0
	movem.l d0/d1,(a0)
	movem.l (sp)+,a0
	add.l	#20,sp
	jmp	(a0)

_DPDiv
	movem.l d2/d3,-(sp)
	movem.l 16(sp),d0/d1/d2/d3
	move.l	a6,-(sp)
	movea.l _MathIeeeDoubBasBase,a6
	jsr	_LVOIEEEDPDiv(a6)
	move.l	(sp)+,a6
	movem.l (sp)+,d2/d3
	move.l	4(sp),a0
	movem.l d0/d1,(a0)
	movem.l (sp)+,a0
	add.l	#20,sp
	jmp	(a0)

	end
