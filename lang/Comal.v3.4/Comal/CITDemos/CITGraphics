USE System 
USE CITScreen
USE CITWindow
USE CITGadgets
USE CITGraphics
USE CITView
USE CITText

DIM Error OF SHORT

DIM Graf OF CITWindow
Graf.Position(0,10)
Graf.Size(640,250)
Graf.Activate
ComalScreen.InsObject(Graf,Error)
IF Error THEN
  STOP "Noget gik galt!" 
ENDIF

DIM View OF CITView
View.Size(200,40,UP)
View.Position(150,-(2+40))
Graf.InsObject(View,Error)

DIM ViewText OF CITText
View.InsObject(ViewText,Error)

DIM StopKnap OF ButtonGadget
StopKnap.Size(100,14)
StopKnap.Position(50,20)
StopKnap.Label("Stop",INSIDE)
View.InsObject(StopKnap,Error)

DIM GrafWd OF CITGraphics
GrafWd.Size(500,160,DOWN)
GrafWd.Position(60,20)
GrafWd.Transparent(TRUE)
Graf.InsObject(GrafWd,Error)

GrafWd.MoveTo(10,5)
GrafWd.Color(2)
GrafWd.DrawTo(300,200)
GrafWd.Color(3)
GrafWd.DrawTo(600,100)
GrafWd.Color(1)
GrafWd.DrawTo(300,-50)
GrafWd.PenColor(3)
GrafWd.DrawText(294,50,"Note the automatic clipping")

ViewText.PenColor(2)
ViewText.Print(30,5,"This is a CITView")

WHILE NOT StopKnap.Pressed DO WAIT

ComalScreen.RemObject(Graf)

