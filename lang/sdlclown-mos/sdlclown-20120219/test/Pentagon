// Draws a static pentagon.
// Tweaked October 9, 2011

// Constants
sides = 5.0;
radius = 80.0;
center_x = 150.0;
center_y = 150.0;

// White BG
@DrawRect (0) (0) (640) (480) (255) (255) (255);
@FlipVideo;

// Draw pentagon using trigonometry
prev_x = 0.0;
prev_y = 0.0;
deg = 0.0;

while(deg <= 360)
{
    deg += (360 / sides);
    rad = deg/360 * (2*3.141);
    x = radius * cos(rad);
    y = radius * sin(rad);

    @DrawRect (center_x+x) (center_y+y) (2) (2) (0) (0) (0);

    // Draw a line (easy to do with floats)
    tmp_x = x;
    tmp_y = y;
    x_dist = prev_x - x;
    y_dist = prev_y - y;
    dist = sqrt((x_dist*x_dist)+(y_dist*y_dist));
    x_d = x_dist / dist;
    y_d = y_dist / dist;

    if((prev_x!=0) | (prev_y!=0))
    {
    	count = 0;
    	while(count++<=dist)
    	{
    	    tmp_x += x_d;
    	    tmp_y += y_d;
    	    @DrawRect (center_x+tmp_x) (center_y+tmp_y) (2) (2) (0) (0) (0);
    	}
    }

    prev_x = x;
    prev_y = y;

    @FlipVideo;
}

// Wait for user to quit..
while(1) { }
