®PT5¯®LS1.3¯®OF8¯®RM66¯®FD66¯®TP2¯®PL58,62,56¯®OP4¯®WD4¯®RFA®LS1¯®FC¯-®PN¯-

®FL¯

¯
®FC¯
®MDUL¯AMENDMENT: "A Change for the Better"®MDNM¯
(®MDBR¯The American Heritage Dictionary of the English Language®MDNM¯)

Donald B. McIntyre
Luachmhor, Church Road
Kinfauns, Perth PH2  7LD
Scotland - U.K.
Telephone:  0738-86-726

®FL¯
It used to be that whenever the computer centre manager decided to install a new version of the operating system, the FORTRAN compiler, or the APL interpreter, we were forced to interrupt what we were doing in order to adapt to the changed environment, even though we may have been content and comfortable with the old one.   With a personal computer we change only when we choose to do so.   Moreover, should we want to, we can have several versions of the software immediately available on the hard disk;  I can, for example, call up any one of ten different versions of Iverson and Hui's ®MDBR¯J®MDNM¯ interpreter.   All perform as originally specified and each has with it several executable script files.   It is helpful that ®MDBR¯J®MDNM¯ comes with two files (®MDBR¯status.doc®MDNM¯ and ®MDBR¯xenos.doc®MDNM¯) documenting the changes from all earlier versions.

Because my paper on ®MDBR¯J®MDNM¯'s Boxed Arrays [1] was based on ®MDBR¯J®MDNM¯ Version 3.3 [Reference 2 in the paper], I wish to explain where changes are required in order to execute under PC Version 5 (27 June 1992).   For this purpose we can simulate the 5 by 6 array of nested cells previously used as a simple database:
   ]d=.<"0 i.5 6
ÚÄÄÂÄÄÂÄÄÂÄÄÂÄÄÂÄÄ¿
³0 ³1 ³2 ³3 ³4 ³5 ³
ÃÄÄÅÄÄÅÄÄÅÄÄÅÄÄÅÄÄ´
³6 ³7 ³8 ³9 ³10³11³
ÃÄÄÅÄÄÅÄÄÅÄÄÅÄÄÅÄÄ´
³12³13³14³15³16³17³
ÃÄÄÅÄÄÅÄÄÅÄÄÅÄÄÅÄÄ´
³18³19³20³21³22³23³
ÃÄÄÅÄÄÅÄÄÅÄÄÅÄÄÅÄÄ´
³24³25³26³27³28³29³
ÀÄÄÁÄÄÁÄÄÁÄÄÁÄÄÁÄÄÙ
The numbers identifying the cells can be called ®MDBR¯linear indexes®MDNM¯, a term suggested to me by Eugene McDonnell.   Thus, defining the verb ®MDBR¯li®MDNM¯ (a fork):
   li=. [ { i.@$@]
the linear indices of rows 1 and 4 are given by:
   1 4 li d
 6  7  8  9 10 11
24 25 26 27 28 29

And the linear index of the cell at row 2 and column 5:
   (<2 5) li d
17

The syntax now used for ®MDBR¯amend®MDNM¯ is illustrated by the following examples:

To place the array ®MDBR¯x®MDNM¯ in this cell:
   x=. < 9 8 7 6,:5 4 3 2
   x 17} d
ÚÄÄÂÄÄÂÄÄÂÄÄÂÄÄÂÄÄÄÄÄÄÄ¿
³0 ³1 ³2 ³3 ³4 ³5      ³
ÃÄÄÅÄÄÅÄÄÅÄÄÅÄÄÅÄÄÄÄÄÄÄ´
³6 ³7 ³8 ³9 ³10³11     ³
ÃÄÄÅÄÄÅÄÄÅÄÄÅÄÄÅÄÄÄÄÄÄÄ´
³12³13³14³15³16³9 8 7 6³
³  ³  ³  ³  ³  ³5 4 3 2³
ÃÄÄÅÄÄÅÄÄÅÄÄÅÄÄÅÄÄÄÄÄÄÄ´
³18³19³20³21³22³23     ³
ÃÄÄÅÄÄÅÄÄÅÄÄÅÄÄÅÄÄÄÄÄÄÄ´
³24³25³26³27³28³29     ³
ÀÄÄÁÄÄÁÄÄÁÄÄÁÄÄÁÄÄÄÄÄÄÄÙ
Note that a noun (17) and an adverb (}) result in a verb.

Scattered indexing presents no difficulty:
   (x;'London') ((2 5; 4 2) li d)} d
ÚÄÄÂÄÄÂÄÄÄÄÄÄÂÄÄÂÄÄÂÄÄÄÄÄÄÄ¿
³0 ³1 ³2     ³3 ³4 ³5      ³
ÃÄÄÅÄÄÅÄÄÄÄÄÄÅÄÄÅÄÄÅÄÄÄÄÄÄÄ´
³6 ³7 ³8     ³9 ³10³11     ³
ÃÄÄÅÄÄÅÄÄÄÄÄÄÅÄÄÅÄÄÅÄÄÄÄÄÄÄ´
³12³13³14    ³15³16³9 8 7 6³
³  ³  ³      ³  ³  ³5 4 3 2³
ÃÄÄÅÄÄÅÄÄÄÄÄÄÅÄÄÅÄÄÅÄÄÄÄÄÄÄ´
³18³19³20    ³21³22³23     ³
ÃÄÄÅÄÄÅÄÄÄÄÄÄÅÄÄÅÄÄÅÄÄÄÄÄÄÄ´
³24³25³London³27³28³29     ³
ÀÄÄÁÄÄÁÄÄÄÄÄÄÁÄÄÁÄÄÁÄÄÄÄÄÄÄÙ
To expand the table ®MDNM¯and amend new rows 1 and 4:
   exp=. /:@\:@[ { #@[{.]
   e=. 1 0 1 1 0 1 1 exp d
   t=. e (1 li d)}~ 'Bob';'Bernecky';'Toronto';35;22000; 4 5
   t (4 li d)}~ 'Graham';'Woyka';'U.K.';62;35000;14 31 5 7
ÚÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÂÄÄÂÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄ¿
³0     ³1       ³2      ³3 ³4    ³5        ³
ÃÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÅÄÄÅÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄ´
³Bob   ³Bernecky³Toronto³35³22000³4 5      ³
ÃÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÅÄÄÅÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄ´
³6     ³7       ³8      ³9 ³10   ³11       ³
ÃÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÅÄÄÅÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄ´
³12    ³13      ³14     ³15³16   ³17       ³
ÃÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÅÄÄÅÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄ´
³Graham³Woyka   ³U.K.   ³62³35000³14 31 5 7³
ÃÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÅÄÄÅÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄ´
³18    ³19      ³20     ³21³22   ³23       ³
ÃÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÅÄÄÅÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄ´
³24    ³25      ³26     ³27³28   ³29       ³
ÀÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÁÄÄÁÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÙ
   
y=. ('Graham';'Woyka';'U.K.';1;2;3),:'Vin';'Grannell';'Los Angeles';4;5;6 7 8
   ]z=. e (1 4 li e)}~ 1 0{ y
ÚÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÂÄÄÂÄÄÂÄÄÄÄÄ¿
³0     ³1       ³2          ³3 ³4 ³5    ³
ÃÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÅÄÄÅÄÄÅÄÄÄÄÄ´
³Vin   ³Grannell³Los Angeles³4 ³5 ³6 7 8³
ÃÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÅÄÄÅÄÄÅÄÄÄÄÄ´
³6     ³7       ³8          ³9 ³10³11   ³
ÃÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÅÄÄÅÄÄÅÄÄÄÄÄ´
³12    ³13      ³14         ³15³16³17   ³
ÃÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÅÄÄÅÄÄÅÄÄÄÄÄ´
³Graham³Woyka   ³U.K.       ³1 ³2 ³3    ³
ÃÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÅÄÄÅÄÄÅÄÄÄÄÄ´
³18    ³19      ³20         ³21³22³23   ³
ÃÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÅÄÄÅÄÄÅÄÄÄÄÄ´
³24    ³25      ³26         ³27³28³29   ³
ÀÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÁÄÄÁÄÄÁÄÄÄÄÄÙ
Alternatively:
      v=. 1 4&li
      v e
 6  7  8  9 10 11
24 25 26 27 28 29
      u=. v@]}
      z-: e u~ 1 0{y
1

Although in these examples the indexes for ®MDBR¯amend®MDNM¯ are arbitrarily specified, they will often be computed as some function of the table;  as, for instance, in the computation of eigenvalues by Jacobi's method [2].

®MDUL¯Reference®MDNM¯:
®IP0,6¯®TS6¯
[1]	Donald B. McIntyre, ®MDBR¯Using J's Boxed Arrays®MDNM¯.  Vector, Vol. 9, Number 1 (July 1992) 92-105.

[2]	Donald B. McIntyre, ®MDBR¯Jacobi's Method for Eigenvalues:  an illustration of J®MDNM¯.  Vector, Vol. 9 (1992) In Press.
