
*******************
User Interface Help
*******************

Brief on line help is available for ALL menu and gadget functions, even
within sub-systems of the program e.g. Find/Replace, Colour Selection, and
the Debugger.

This help can be obtained by entering HELP mode and then selecting any
menu or control button.

To enter HELP mode, either:

1. Select the menu Help option.

2. Press the <Help> key.

3. Press the on screen HELP gadget (if it is visible).

To get help on "hidden" control panels such as the "debug control panel",
or the "colour control panel", simply activate the panel and then press
the <Help> key to enter HELP mode.


***************
Vocabulary HELP
***************

HeliOS has very comprehensive user-configurable Vocabulary Help, and
this can be set up either very simply or in relatively complex ways,
depending on how you wish the help system to function.

The basic idea of all HeliOS Vocabulary Help is that you place the text
cursor of the HeliOS interpreter or editor over any word and then press
a key to get Help on that word or run an example program.

The HeliOS Vocabulary Help system uses a special file called a "Vocabulary
Help" file which acts as the source of Vocabulary Help textual information
and also as a configuration file.

In order to activate the advanced Vocabulary Help system it is necessary
to use HeliOS macro key definitions, and you should read the document file
called "HeliOS_Macro_Commands.Doc" for more details on this.


*******************************
A note on Vocabulary Help files
*******************************

Vocabulary Help files are ordinary ASCII files and can be edited in any
text editor (such as the HeliOS editors).

All of the many features of the HeliOS help system are controlled using
these specially formatted Vocabulary Help text files.

Only one Vocabulary Help file can be active at any time, but there are
provisions for swapping or modifying this file as required.

HeliOS can be set up to automatically load any file as a Vocabulary Help
file at system startup time (See "InitialSetup.doc")

Alternatively, there are menu options for loading different Vocabulary
Help files, and there is a HeliOS command word, called "VHELP", which
allows direct access to, and manipulation of, Vocabulary Help files.

A Vocabulary Help file can contain the following elements:

1. Plain ASCII text which can act as a commentary on, or description of,
   the "operational" contents of the Vocabulary Help file.

2. Help texts (one or two pages) which can be associated with any word.

3. Three sets of specially encoded information which can be associated
   with any word.  This information can specify such things as paths
   and filenames to example programs or extended help files.

4. A command file name which allows dynamic pre-processing of the help
   information by running a user defined HeliOS program whenever the
   Vocabulary Help file is loaded.


******************************************************
What you can do with the HeliOS Vocabulary Help system
******************************************************

The basic idea of the HeliOS help system is that the cursor can be placed
over any word within the text in one of the HeliOS editors, or the HeliOS
interpreter command line, and then help can be called up for that word.

The interesting thing is that the help which is called up can have a wide
variety of forms, and is fully user definable.

You can, with a single user-defined keypress, do things like this:

* Present one or two pages of help text in a pop-up requester.

* Display a help file in an external text reader.

* Display and edit on-line a help file in an external text editor.

* Display and edit on-line a help file in one of the HeliOS editors.

* Load into a HeliOS editor a special comprehensive HeliOS help file
  and jump to all references to the specified word.

* Load into a HeliOS editor, for viewing or editing, an example HeliOS
  program file.

* Run an example HeliOS program using the stand-alone HeliOS compiler.

* Load and run an example HeliOS program using the internal interpreter.

* Load and edit a Vocabulary Help file.

* Change or modify the existing on-line Vocabulary Help buffer.

...and much more.

In fact the whole system is so configurable that you can virtually define
your own actions.


**********************
Simple Vocabulary Help
**********************

There is a user definable vocabulary help which, at its simplest level,
brings up short one or two page help texts on the word under the cursor.

The help display is deliberately kept small, with the intention of reducing
verbosity and forcing the help to be short and easily assimilable.  The
idea is not to provide an essay but short and precise useful information.

Single target words are matched with the word under the cursor when
vocabulary help is invoked, and the associated text in the help file is
presented in the HeliOS help display.

Vocabulary help can consist of up to TWO pages.  The HeliOS software will
auto-check and inform the user if a second page of help is available.

The target word matching is NOT case sensitive, and to select the simple
Vocabulary Help function just place the cursor within the word on which
you want help, and either

1. Select the menu option.

2. Press <Ctrl>+<Help> or <Shift>+<Help> on the keyboard.

3. Hold down <Ctrl> or <Shift> while pressing the HELP screen gadget.

The user definable help file is in simple ASCII format, and the startup
default is usually read from a file called "HeliOS_VocabularyHelp" in the
"S:" directory (or the HELIOS: directory if defined).

See the documentaion on InitialSetup for details on setting up a default
file to be auto-loaded at startup.

Note that Vocabulary Help files can be edited in any ASCII text editor.

You may create several help files if you wish, and load each one as
required, but only one Vocabulary Help file may be loaded at any time.

The example help file provided itself contains full instructions for
user additions, but below is a brief description of how to create, or
add to, a simple Vocabulary Help file.


************************************************
Creating or Editing Simple Vocabulary Help files
************************************************

The text below describes the simple on-line Vocabulary Help file format.

More complex additions can be built into the file for specialised
sophisticated help systems, as described in the HeliOS_Macro_Command
doc file, but we discuss here the most basic standard help file format.

Each "Help Entry" in the file must be of the following format:

Firstly, a line starting with "{{" containing the target word....

{{TARGETWORD&
^^
This signifies the start of an entry, and should be followed by the
target word....

{{TARGETWORD&
  ^^^^^^^^^^
This target word will be matched to the word under the cursor when
you invoke vocabulary help.  Only the single SPACE delimited word under
the cursor will be used for matching purposes, so your target word should
also be a single word without spaces.

{{TARGETWORD&
            ^
This "&" signifies the end of a line of the first page of help text, and
should be placed immediately after the target word and at the end of each
subsequent "first page" line.

A "&" as the first character on any line will create a blank line in the
help text "first page".

e.g.

&                                <- A blank line to start with
First line of help text. &
Second line of help text.&
Third line of help text. &
                         &       <- Another blank line - note that the "&"
etc.                                can be anywhere on the line
etc.

Finally, to end each entry...

}}
^^
This signifies the end of an entry, and should be placed after the
last line of the entry. (After the last end-of-line "&" character).


An complete single page example entry might be something like:

{{TARGETWORD&
&
First line of help text.&
&
Second line of help text.&
&
Third line of help text.&
}}


Using the "second page":

The '&' character denotes the end of a help text "first page" line, but you
are free to enter "second page" text after this character on the same line.
This text (everything after the '&') will be presented as a second page of
help by the user pressing the HELP key.

e.g.

{{TARGETWORD&
                         &
First line of help text. &  This is a comment, or note, and
                         &  will be displayed when the user
Second line of help text.&  presses HELP.
                         &
Third line of help text. &
}}

Note that the starting position of "second page" text is determined by
the number of spaces AFTER the "&" character.


Constraints:

There are a few constraints imposed by the limits of the help display.

The maximum displayable line length is 47 characters.

Lines longer than 47 characters will be truncated to 47 charatcters
when displayed on screen.

The maximum number of lines per entry, not including the target word
itself, is 7 lines.

Entries having more than 7 lines will be truncated when displayed
and only 7 lines will be shown.

The limits mentioned above (of 47 characters and 7 lines) will be
automatically imposed when the entry is displayed on screen.  It is
perfectly safe to exceed these limits within the help file, but any
extra text will not be displayed.


************************
Advanced Vocabulary Help
************************

The HeliOS Vocabulary Help system can be expanded by a special set of words
which are used in conjunction with macro keys.

You can set up interactive help systems which run example programs and
allow you to access, browse, and edit on-line full detailed help files.

Please see the file:

 HeliOS:Docs/UserInterface/HeliOS_Macro_Commands.Doc

for details on how the macro key interface commands work.

The information given in that file is vital to the operation of Vocabulary
Help, and is MUST be read in conjunction with the supplementary information
given here.

The idea here is that special macro key commands can be used to run HeliOS
programs and access help information as specified by various file paths
encoded into the Vocabulary Help file and associated with a target word.


************************************************
Advanced control over the Vocabulary Help System
************************************************

***********************
Using the VHELP command
***********************

The above mentioned HeliOS_Macro_Command file, and the Dictionary,doc,
both contain the definition of a word called VHELP, which allows full
access to the HeliOS Vocabulary Help buffer.

Using VHELP you can modify or remove the existing HeliOS help information
residing in the active Vocabulary Help file buffer.

In effect, using VHELP, you can dynamically change and reprogram the
on-line Help file in any way you choose.


***********************************
Vocabulary Help startup programming
***********************************

As well as using the VHELP command, there is another way in which you
can reprogram the on-line Vocabulary Help.

This is by setting up a Vocabulary Help startup command, which is a
HeliOS program whose file name can be specified in a Vocabulary Help
file and which is run as the Vocabulary Help file itself is installed.

In order to specify this startup command program the Vocabulary Help
file can have a special line at the beginning containing the filename
of the HeliOS program file to be be run at Vocabulary Help load time.

The special command line looks like this:

{StartCmd}{HeliOS:VHelpAction}
           ^^^^^^^^^^^^^^^^^^
           Any valid file path

This line, if present, must be placed within the first 400 bytes of the
Vocabulary Help file.

If the line is present, the file specified in the example as:

HeliOS:VHelpAction

will be executed as soon as the Vocabulary Help file has been loaded.

Note that the startup command file is a normal HeliOS source code file,
and will be run by the normal HeliOS interpreter, with the only special
provisos that:

1. No error messages will be given.

2. The program must NOT issue any text output.


Note that if the following line is given:

{StartCmd}{0}

no help file will be loaded.

The "StartCmd" line may also be omitted to achieve the same effect.


*************************************************************
Stack parameters for the Vocabulary Help startup command file
*************************************************************

When the special startup program is launched, HeliOS will place on the
stack two useful parameters:

VHelpBuffer(l)  VHelpBuffSize(l)
  2nd on stack    Top of stack

which allow you instant access to the internal Vocabulary Help buffer.

When the program completes there are further options for you to specify
parameters on the stack telling HeliOS to do various things.

Basically the program must return two parameters, similar to those
which it received at startup:

VHelpBuffer(l)  VHelpBuffSize(l)

If these are exactly the same as it received at startup, HeliOS will
carry on and use the existing Vocabulary Help buffer.

If either of the returned parameters is null, HeliOS will deallocate
the existing Vocabulary Help buffer and switch off Vocabulary Help.

If both of the returned parameters are non-null the new parameters
will be used by HeliOS to define a new internal Vocabulary Help buffer,
and the old buffer will be automatically deallocated.

The startup command file can thus generate its own Vocabulary Help if
required, or do various interesting things to the existing file.

For example:

The Vocabulary Help startup program could, if you wish, deallocate the
existing Vocabulary Help buffer using a code line like this:

DDROP FREEMEMORY      \ Drop Buffsize and free buffer

Note that the help buffer can be deallocated simply using FREEMEMORY.

Then the startup program might perhaps concatenate several Help files
together into a new big buffer, and then it could say:

MyNewVHelpBuff MyNewVHelpBuffSize

before quitting.

This, along with the facility to perform any programmed manipulation you
choose, allows very flexible user-control of the Vocabulary Help system.


***************************************************************
A summary of the Vocabulary Help startup command program useage
***************************************************************

* If this command does not change stack parameters, the existing preloaded
  Vocabulary Help file will be retained.

* If this command does change stack parameters, the returned values will
  be used as those for the internal VHelp file unless either of them is
  null.

* If this command returns a null parameter HeliOS will deallocate the
  existing on-line Vocabulary Help file.

* If this command does return changed stack parameters, it might be best
  if the program itself were to deallocate the old Help buffer before
  allocating a new one.  However, the HeliOS system will also double
  check and close the old buffer if it is still left open.


********************************************************************
Using advanced Vocabulary Help features employing macro command keys
********************************************************************

Please read the file "HeliOS_Macro_Commands.Doc" for details on this.


***********************************************************************
End
***********************************************************************
