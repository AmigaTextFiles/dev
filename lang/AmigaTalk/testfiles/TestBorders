scr <- Screen new: 16r40D20001
scr          open: 'Testing Screen'

win <- Window new: 'TestBorders Window'

win setFlags:       16r1100F
win setIDCMPFlags:  16r240     "IDCMP_CLOSEWINDOW + IDCMP_GADGETUP"
win openOnScreen:   scr

scr screenToFront

b1 <- Border new: 6
b1    registerTo: win

b1 setStartPoint:  100 @ 50
b1 setDrawMode:    1
b1 setBorderPens:  5 @ 2

b1 setBorderPoint: 1 to: 200 @ 50
b1 setBorderPoint: 2 to: 300 @ 50
b1 setBorderPoint: 3 to: 200 @ 150
b1 setBorderPoint: 4 to: 250 @ 0
b1 setBorderPoint: 5 to: 300 @ 150
b1 setBorderPoint: 6 to: 200 @ 50

itxt <- IText new: 'Press Close Gadget when you are done!'  

itxt setPens:        6 @ 1
itxt setITextOrigin: 0 @ 0
itxt setDrawMode:    0       "JAM1 = 0"
itxt registerTo:     win
itxt setDrawMode:    0

win  printIText:  itxt at: 100 @ 390

rval <- b1 getStartPoint
('b1 starting point = ', rval asString ) print

rval <- b1 getDrawMode
('b1 drawmode = ', rval asString ) print

rval <- b1 getCount
('b1 point count = ', rval asString ) print

rval <- b1 getBorderPens
('b1 pens are ', rval asString ) print

b2 <- Border new: 6
b2    registerTo: win

b2 setStartPoint:  350 @ 50
b2 setDrawMode:    0
b2 setBorderPens:  3 @ 7

b2 setBorderPoint: 1 to: 100 @ 50
b2 setBorderPoint: 2 to: 200 @ 50
b2 setBorderPoint: 3 to: 100 @ 150
b2 setBorderPoint: 4 to: 150 @ 0
b2 setBorderPoint: 5 to: 200 @ 150
b2 setBorderPoint: 6 to: 100 @ 50

b1 setNextBorder: b2

rval <- b1 getNextBorder
('b1 next border is ', rval asHex ) print

b1 draw

rval <- win handleIntuition     "Wait for the Close Gadget"

b2   remove
b1   remove

itxt dispose

win  close
scr  close
