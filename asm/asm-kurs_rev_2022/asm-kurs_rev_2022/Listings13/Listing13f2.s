
; Listing13f2.s	Code-Erweiterungstechnik
; Zeile 1549

; 64*2 Bytes=128 Bytes kopieren	- sehr beschleunigte Variante 
; 1272 Zyklen

start:
	move.w #$4000,$dff09a		; Interrupts disable
waitmouse:  
	btst	#6,$bfe001			; left mousebutton?
	bne.s	Waitmouse	

	lea	Table,a2				; Quelle
	lea	Table2,a1				; Ziel
;-------------------------------;
ROUTINE2:
	MOVE.W	(a2),(a1)			; 12 Zyklen
	MOVE.W	8(a2),4(a1)			; 63 * 20 Zyklen = 1260 Zyklen
	MOVE.W	8*2(a2),4*2(a1)		; 12+1260=1272 Zyklen
	MOVE.W	8*3(a2),4*3(a1)
	MOVE.W	8*4(a2),4*4(a1)
	MOVE.W	8*5(a2),4*5(a1)
	MOVE.W	8*6(a2),4*6(a1)
	MOVE.W	8*7(a2),4*7(a1)
	MOVE.W	8*8(a2),4*8(a1)
	MOVE.W	8*9(a2),4*9(a1)

	MOVE.W	8*10(a2),4*10(a1)
	MOVE.W	8*11(a2),4*11(a1)
	MOVE.W	8*12(a2),4*12(a1)
	MOVE.W	8*13(a2),4*13(a1)
	MOVE.W	8*14(a2),4*14(a1)
	MOVE.W	8*15(a2),4*15(a1)
	MOVE.W	8*16(a2),4*16(a1)
	MOVE.W	8*17(a2),4*17(a1)
	MOVE.W	8*18(a2),4*18(a1)
	MOVE.W	8*19(a2),4*19(a1)

	MOVE.W	8*20(a2),4*20(a1)
	MOVE.W	8*21(a2),4*21(a1)
	MOVE.W	8*22(a2),4*22(a1)
	MOVE.W	8*23(a2),4*23(a1)
	MOVE.W	8*24(a2),4*24(a1)
	MOVE.W	8*25(a2),4*25(a1)
	MOVE.W	8*26(a2),4*26(a1)
	MOVE.W	8*27(a2),4*27(a1)
	MOVE.W	8*28(a2),4*28(a1)
	MOVE.W	8*29(a2),4*29(a1)

	MOVE.W	8*30(a2),4*30(a1)
	MOVE.W	8*31(a2),4*31(a1)
	MOVE.W	8*32(a2),4*32(a1)
	MOVE.W	8*33(a2),4*33(a1)
	MOVE.W	8*34(a2),4*34(a1)
	MOVE.W	8*35(a2),4*35(a1)
	MOVE.W	8*36(a2),4*36(a1)
	MOVE.W	8*37(a2),4*37(a1)
	MOVE.W	8*38(a2),4*38(a1)
	MOVE.W	8*39(a2),4*39(a1)

	MOVE.W	8*40(a2),4*40(a1)
	MOVE.W	8*41(a2),4*41(a1)
	MOVE.W	8*42(a2),4*42(a1)
	MOVE.W	8*43(a2),4*43(a1)
	MOVE.W	8*44(a2),4*44(a1)
	MOVE.W	8*45(a2),4*45(a1)
	MOVE.W	8*46(a2),4*46(a1)
	MOVE.W	8*47(a2),4*47(a1)
	MOVE.W	8*48(a2),4*48(a1)
	MOVE.W	8*49(a2),4*49(a1)

	MOVE.W	8*50(a2),4*50(a1)
	MOVE.W	8*51(a2),4*51(a1)
	MOVE.W	8*52(a2),4*52(a1)
	MOVE.W	8*53(a2),4*53(a1)
	MOVE.W	8*44(a2),4*54(a1)
	MOVE.W	8*45(a2),4*55(a1)
	MOVE.W	8*46(a2),4*56(a1)
	MOVE.W	8*47(a2),4*57(a1)
	MOVE.W	8*48(a2),4*58(a1)
	MOVE.W	8*49(a2),4*59(a1)
	
	MOVE.W	8*60(a2),4*60(a1)
	MOVE.W	8*61(a2),4*61(a1)
	MOVE.W	8*62(a2),4*62(a1)
	MOVE.W	8*63(a2),4*63(a1)
;-------------------------------;	
	nop							; an dieser Stelle ist die Aufgabe erledigt
	move.w #$C000,$dff09a		; Interrupts enable
	rts

Table:
	blk.w 1024,$FFFF
		
Table2:
	blk.w 1024,$0000
	end


;------------------------------------------------------------------------------
r
Filename: Listing13f2.s
>a
Pass1
Pass2
No Errors
>j																				; start the programm																				
																				; the program is waiting for the left mouse button
;------------------------------------------------------------------------------
																				; open the Debugger with Shift+F12
																				; task 1 - set breakpoint
>d pc
00024688 66f6                     bne.b #$f6 == $00024680 (T)
0002468a 45f9 0002 481e           lea.l $0002481e,a2
00024690 43f9 0002 501e           lea.l $0002501e,a1
00024696 3292                     move.w (a2) [0000],(a1) [0000]
00024698 336a 0008 0004           move.w (a2,$0008) == $000a3a0e [0000],(a1,$0004) == $00064206 [0000]
0002469e 336a 0010 0008           move.w (a2,$0010) == $000a3a16 [0000],(a1,$0008) == $0006420a [0000]
000246a4 336a 0018 000c           move.w (a2,$0018) == $000a3a1e [0000],(a1,$000c) == $0006420e [0000]
000246aa 336a 0020 0010           move.w (a2,$0020) == $000a3a26 [0000],(a1,$0010) == $00064212 [0000]
000246b0 336a 0028 0014           move.w (a2,$0028) == $000a3a2e [0000],(a1,$0014) == $00064216 [0000]
000246b6 336a 0030 0018           move.w (a2,$0030) == $000a3a36 [0000],(a1,$0018) == $0006421a [0000]
>f 2468a
Breakpoint added.
>fl
0: PC == 0002468a [00000000 00000000]

>

;------------------------------------------------------------------------------
																				; the program is waiting for the left mouse button																			
>g																				; step 3 - run program
Breakpoint 0 triggered.															; step 4 - press now left mousebutton
Cycles: 5305019 Chip, 10610038 CPU. (V=210 H=3 -> V=105 H=32)					; WinUAE-Debugger output
  D0 FFFFFFFF   D1 0000005A   D2 00000010   D3 00000000
  D4 00000000   D5 00000000   D6 00000000   D7 00000000
  A0 0002181C   A1 00064202   A2 000A3A06   A3 00000000
  A4 00000000   A5 00000000   A6 00000000   A7 00C5FED8
USP  00C5FED8 ISP  00C60ED8
T=00 S=0 M=0 X=1 N=0 Z=1 V=0 C=0 IMASK=0 STP=0
Prefetch 45f9 (LEA) 0002 (OR) Chip latch 00000000
0002468a 45f9 0002 481e           lea.l $0002481e,a2
Next PC: 00024690
;------------------------------------------------------------------------------
>t
Cycles: 6 Chip, 12 CPU. (V=105 H=32 -> V=105 H=38)
  D0 FFFFFFFF   D1 0000005A   D2 00000010   D3 00000000
  D4 00000000   D5 00000000   D6 00000000   D7 00000000
  A0 0002181C   A1 00064202   A2 0002481E   A3 00000000
  A4 00000000   A5 00000000   A6 00000000   A7 00C5FED8
USP  00C5FED8 ISP  00C60ED8
T=00 S=0 M=0 X=1 N=0 Z=1 V=0 C=0 IMASK=0 STP=0
Prefetch 43f9 (LEA) 0002 (OR) Chip latch 00000000
00024690 43f9 0002 501e           lea.l $0002501e,a1
Next PC: 00024696
;------------------------------------------------------------------------------
>t
Cycles: 6 Chip, 12 CPU. (V=105 H=38 -> V=105 H=44)
  D0 FFFFFFFF   D1 0000005A   D2 00000010   D3 00000000
  D4 00000000   D5 00000000   D6 00000000   D7 00000000
  A0 0002181C   A1 0002501E   A2 0002481E   A3 00000000
  A4 00000000   A5 00000000   A6 00000000   A7 00C5FED8
USP  00C5FED8 ISP  00C60ED8
T=00 S=0 M=0 X=1 N=0 Z=1 V=0 C=0 IMASK=0 STP=0
Prefetch 3292 (MOVE) 336a (MOVE) Chip latch 00000000
00024696 3292                     move.w (a2) [ffff],(a1) [0000]
Next PC: 00024698
;------------------------------------------------------------------------------
>m 2481e 3
0002481E FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
0002482E FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
0002483E FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
;------------------------------------------------------------------------------
>m 2501e 3
0002501E 0000 0000 0000 0000 0000 0000 0000 0000  ................
0002502E 0000 0000 0000 0000 0000 0000 0000 0000  ................
0002503E 0000 0000 0000 0000 0000 0000 0000 0000  ................
;------------------------------------------------------------------------------
>fi nop
Cycles: 636 Chip, 1272 CPU. (V=105 H=44 -> V=107 H=226)
  D0 FFFFFFFF   D1 0000005A   D2 00000010   D3 00000000
  D4 00000000   D5 00000000   D6 00000000   D7 00000000
  A0 0002181C   A1 0002501E   A2 0002481E   A3 00000000
  A4 00000000   A5 00000000   A6 00000000   A7 00C5FED8
USP  00C5FED8 ISP  00C60ED8
T=00 S=0 M=0 X=1 N=1 Z=0 V=0 C=0 IMASK=0 STP=0
Prefetch 4e71 (NOP) 33fc (MOVE) Chip latch 00000000
00024812 4e71                     nop
Next PC: 00024814
;------------------------------------------------------------------------------
>m 2501e
0002501E FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................				; 4 word * 16 lines = 64 words (or 128 bytes)
0002502E FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
0002503E FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
0002504E FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
0002505E FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
0002506E FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
0002507E FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
0002508E FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
0002509E FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
000250AE FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
000250BE FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
000250CE FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
000250DE FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
000250EE FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
000250FE FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
0002510E FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
0002511E 0000 0000 0000 0000 0000 0000 0000 0000  ................
0002512E 0000 0000 0000 0000 0000 0000 0000 0000  ................
0002513E 0000 0000 0000 0000 0000 0000 0000 0000  ................
0002514E 0000 0000 0000 0000 0000 0000 0000 0000  ................
;------------------------------------------------------------------------------
>fd
All breakpoints removed.
>x











































; start the programm
; the program is waiting for the left mouse button

>d PC
00025FC0 66f6                     BNE.B #$f6 == $00025fb8 (T)
00025FC2 45f9 0002 6156           LEA.L $00026156,A2
00025FC8 43f9 0002 6956           LEA.L $00026956,A1
00025FCE 3292                     MOVE.W (A2) [ffff],(A1) [0000]
00025FD0 336a 0008 0004           MOVE.W (A2,$0008) == $00026686 [ffff],(A1,$0004) == $00026d82 [0000]
00025FD6 336a 0010 0008           MOVE.W (A2,$0010) == $0002668e [ffff],(A1,$0008) == $00026d86 [0000]
00025FDC 336a 0018 000c           MOVE.W (A2,$0018) == $00026696 [ffff],(A1,$000c) == $00026d8a [0000]
00025FE2 336a 0020 0010           MOVE.W (A2,$0020) == $0002669e [ffff],(A1,$0010) == $00026d8e [0000]
00025FE8 336a 0028 0014           MOVE.W (A2,$0028) == $000266a6 [ffff],(A1,$0014) == $00026d92 [0000]
00025FEE 336a 0030 0018           MOVE.W (A2,$0030) == $000266ae [ffff],(A1,$0018) == $00026d96 [0000]
>fd
All breakpoints removed.
>f 25FC2
Breakpoint added.
>m 26156
00026156 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026166 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026176 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026186 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026196 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
000261A6 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
000261B6 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
000261C6 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
000261D6 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
000261E6 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
000261F6 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026206 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026216 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026226 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026236 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026246 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026256 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026266 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026276 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
00026286 FFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF  ................
>m 26956
00026956 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026966 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026976 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026986 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026996 0000 0000 0000 0000 0000 0000 0000 0000  ................
000269A6 0000 0000 0000 0000 0000 0000 0000 0000  ................
000269B6 0000 0000 0000 0000 0000 0000 0000 0000  ................
000269C6 0000 0000 0000 0000 0000 0000 0000 0000  ................
000269D6 0000 0000 0000 0000 0000 0000 0000 0000  ................
000269E6 0000 0000 0000 0000 0000 0000 0000 0000  ................
000269F6 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026A06 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026A16 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026A26 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026A36 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026A46 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026A56 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026A66 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026A76 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026A86 0000 0000 0000 0000 0000 0000 0000 0000  ................
>x

;------------------------------------------------------------------------------
; we are now back on asmone
; press left mousebutton - WinUAE-Debugger reopens
; 1. complete cycle usage

fi 4e71		; ab WinUAE also fi nop
>d PC
00025FC2 45f9 0002 6156           LEA.L $00026156,A2
00025FC8 43f9 0002 6956           LEA.L $00026956,A1
00025FCE 3292                     MOVE.W (A2) [ffff],(A1) [0000]
00025FD0 336a 0008 0004           MOVE.W (A2,$0008) == $00026686 [ffff],(A1,$0004) == $00026d82 [0000]
00025FD6 336a 0010 0008           MOVE.W (A2,$0010) == $0002668e [ffff],(A1,$0008) == $00026d86 [0000]
00025FDC 336a 0018 000c           MOVE.W (A2,$0018) == $00026696 [ffff],(A1,$000c) == $00026d8a [0000]
00025FE2 336a 0020 0010           MOVE.W (A2,$0020) == $0002669e [ffff],(A1,$0010) == $00026d8e [0000]
00025FE8 336a 0028 0014           MOVE.W (A2,$0028) == $000266a6 [ffff],(A1,$0014) == $00026d92 [0000]
00025FEE 336a 0030 0018           MOVE.W (A2,$0030) == $000266ae [ffff],(A1,$0018) == $00026d96 [0000]
00025FF4 336a 0038 001c           MOVE.W (A2,$0038) == $000266b6 [ffff],(A1,$001c) == $00026d9a [0000]
>fi 4e71
Cycles: 648 Chip, 1296 CPU. (V=105 H=29 -> V=107 H=223)
  D0 0000FFFF   D1 00000000   D2 00000000   D3 00000000
  D4 00000000   D5 00000000   D6 00000000   D7 00000000
  A0 00000000   A1 00026956   A2 00026156   A3 00000000
  A4 00000000   A5 00000000   A6 00000000   A7 00C60DB0
USP  00C60DB0 ISP  00C61DB0
T=00 S=0 M=0 X=0 N=1 Z=0 V=0 C=0 IMASK=0 STP=0
Prefetch 33fc (MOVE) 4e71 (NOP) Chip latch 00000000
0002614A 4e71                     NOP
Next PC: 0002614c
>m 26956
00026956 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
00026966 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
00026976 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
00026986 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
00026996 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
000269A6 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
000269B6 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
000269C6 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
000269D6 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
000269E6 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
000269F6 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
00026A06 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
00026A16 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
00026A26 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
00026A36 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
00026A46 FFFF 0000 FFFF 0000 FFFF 0000 FFFF 0000  ................
00026A56 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026A66 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026A76 0000 0000 0000 0000 0000 0000 0000 0000  ................
00026A86 0000 0000 0000 0000 0000 0000 0000 0000  ................
>