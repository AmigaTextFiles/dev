*******************************************************************************
SETUPBITMAP:	LEA		BITMAP,A0	*A0->UNINITIALISED BM STRUCT
		MOVE.L		A0,A3		*STORE A COPY FOR LATER
		MOVEQ.L		#2,D0		*D0=SCREEN DEPTH
		MOVE.L		#320,D1		*D1=SCREEN WIDTH
		MOVE.L		#256,D2		*D2=SCREEN HEIGHT
		MOVE.L		GRAPHBASE,A6    *GRAPHICSBASE ADRESS
		JSR		INITBITMAP(A6)

		MOVE.L		A3,A0		*A0->BITMAP STRUCTURE
		ADD.L		#$8,A0		*A0->ADDR OF PLANE POINTERS
		MOVE.L		#PICTURE,D0	*D0=ADDR OF PICTURE
		MOVE.L		#(320/8)*256,D1	*D1=SIZE OF EACH PLANE
		MOVEQ.L		#1,D2		*D2=NUM OF PLANES - 1
LOOP:		MOVE.L		D0,(A0)+	*ADDR OF NEXT PLANE INTO STRUCT
		ADD.L		D1,D0		*D0=ADDR OF NEXT PLANE
		DBRA		D2,LOOP 	*FOR ALL PLANES
		MOVE.L		D0,A3		*A3->COLOURS
		RTS

COPYCOLORS:	MOVE.L		D0,A0		*A0->SCREEN STRUCTURE
		ADD.L		#$2C,A0 	*A0->SCREENS VIEWPORT STRUCT
		MOVE.L		A3,A1		*A1->COLOURS
		MOVEQ.L		#4,D0		*D0=NUMBER OF COLOURS
		MOVE.L		GRAPHBASE,A6	*GRAPHICSBASEADRESS
		JSR		LOADRGB4(A6)	*LOAD COLORS INTO COL REG
		MOVEQ.L		#1,D1		*NO ERRORS
		RTS
*******************************************************************************
BITMAP:		DS.B	30780
		EVEN
		SECTION PICCY,CODE_C
PICTURE:	INCBIN  source:trog/BITMAPS/MENU
*******************************************************************************

