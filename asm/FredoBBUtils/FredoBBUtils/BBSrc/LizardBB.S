; Bootblock Spécial: CREEPS bootblock
; Un bootblock très rigolo: un petit lézard grimpe sur l'écran !


Start:

	move.l	4.w,a6

	MOVEM.L	D0-A5,-(A7)
	LEA	gfxname(PC),A1
	JSR	-408(A6)
	MOVE.L	D0,A5
	MOVE.W	#320,D0		;Width
	MOVE.W	#280,D1		;Height
	JSR	-492(A5)
	MOVE.L	D0,-(A7)
	MOVE.L	$0026(A5),-(A7)
	MOVE.L	D0,A1
	MOVE.W	#$0AEF,D1
	MOVEQ	#$00,D2
LB_0034	MOVE.L	D2,(A1)+
	DBF	D1,LB_0034
	LEA	LB_02F4(PC),A0
	SUBA.W	#$24AB,A1
	MOVEQ	#$13,D2
LB_0044	MOVEQ	#$0B,D1
LB_0046	MOVE.B	(A0)+,(A1)+
	DBF	D1,LB_0046
	ADDA.W	#$001C,A1
	DBF	D2,LB_0044
	LEA	LB_01D6(PC),A0
	MOVE.W	D0,$0004(A0)
	SWAP	D0
	MOVE.W	D0,(A0)
	MOVE.L	#$00DFF000,A3
	MOVE.W	$001C(A3),-(A7)
	MOVE.W	$0002(A3),-(A7)
	MOVE.L	#$7FFF7FFF,$009A(A3)
	LEA	CopList(PC),A0
	MOVE.L	A0,$0080(A3)
	MOVE.W	#$83A0,$0096(A3)
	MOVE.W	#$26D2,D2
LB_0088	MOVEQ	#$07,D0
LB_008A	BTST	#$00,$0005(A3)
	BNE.B	LB_008A
LB_0092	BTST	#$00,$0005(A3)
	BEQ.B	LB_0092
	CLR.L	$0008(A3)
	LEA	LB_0210(PC),A0
	MOVEQ	#$06,D1
LB_00A4	MOVE.L	A0,$0124(A3)
	ADDQ.W	#4,A3
	DBF	D1,LB_00A4
	SUBA.W	#$001C,A3
	BTST	#$06,$00BFE001
	BEQ.W	LB_0166
	DBF	D0,LB_008A
	LEA	LB_020C(PC),A0
	TST.B	(A0)
	BNE.B	LB_00D2
	BTST	#$02,$0003(A0)
	BEQ.B	LB_0088
LB_00D2	SUBI.L	#$04000400,(A0)
	CMPI.B	#$FC,(A0)
	BNE.B	LB_00E4
	BCHG	#$02,$0003(A0)
LB_00E4	CMPI.B	#$FC,$0002(A0)
	BNE.B	LB_00F4
	ADDQ.W	#1,(A0)
	BCHG	#$01,$0003(A0)
LB_00F4	MOVE.L	(A0),$0074(A0)
	LEA	LB_01FE(PC),A1
	MOVE.W	(A1),D0
	CMP.W	A0,D0
	BNE.B	LB_0108
	ADDA.W	#$0074,A0
	BRA.B	LB_0158
LB_0108	MOVE.L	$0008(A7),A2
	ADDA.W	D2,A2
	ORI.B	#$20,(A2)
	ORI.B	#$A8,$0028(A2)
	ORI.B	#$50,$0050(A2)
	ORI.B	#$04,-$009F(A2)
	ORI.B	#$15,-$0077(A2)
	ORI.B	#$0A,-$004F(A2)
	ORI.B	#$80,$01E0(A2)
	ORI.B	#$50,$0208(A2)
	ORI.W	#$A801,$0230(A2)
	ORI.W	#$200A,$0258(A2)
	ORI.B	#$15,$0281(A2)
	ORI.B	#$04,$02A9(A2)
	SUBI.W	#320,D2
LB_0158	MOVE.L	A0,D0
	MOVE.W	D0,(A1)
	SWAP	D0
	SUBQ.W	#4,A1
	MOVE.W	D0,(A1)
	BRA.W	LB_0088
LB_0166	MOVE.L	#$7FFF7FFF,$009A(A3)
	ORI.L	#$8000C000,(A7)
	MOVE.W	(A7)+,$0096(A3)
	MOVE.W	(A7)+,$009A(A3)
	MOVE.L	(A7)+,$0080(A3)
	MOVE.L	(A7)+,A0
	MOVE.W	#320,D0		;Width
	MOVE.W	#260,D1		;Height
	JSR	-498(A5)
	MOVE.L	A5,A1
	JSR	-414(A6)
	MOVEM.L	(A7)+,D0-A5
	LEA	dosname(PC),A1
	MOVE.W	#"do",(A1)
	JSR	-96(A6)
	MOVE.L	D0,A0
	MOVE.L	$0016(A0),A0
	MOVEQ	#$00,D0
	RTS	

gfxname	dc.b	"graph"
dosname	dc.b	"ics.library",0
	even
; Copper list
CopList:
	DC.w	$0180,$0B96
	dc.w	$0182,$0420
	DC.w	$01A2,$0F00
	dc.w	$01A4,$0050
	DC.w	$01A6,$0070
	dc.w	$00E0
LB_01D6	dc.w	$0000
	DC.w	$00E2,$0000,$0100,$1200
	DC.w	$0102,$0000,$0104,$003F
	dc.w	$0108,$0000
	DC.w	$008E,$2C81,$0090,$2CC1
	DC.w	$0092,$0038,$0094,$00D0
	DC.w	$0120,$0000,$0122
LB_01FE
	DC.w	$0000,$6D07,$FFFE,$0182
	DC.w	$0A85,$FFFF,$FFFE
LB_020C
	DC.B	$20,$88,$3C,$06
LB_0210
	DC.B	$00,$00,$20,$00,$20,$00,$A9,$80
	DC.B	$70,$00,$71,$80,$23,$40,$21,$80
	DC.B	$23,$00,$23,$C4,$23,$04,$23,$D5
	DC.B	$33,$0E,$33,$CE,$3F,$20,$3F,$E4
LB_0230
	DC.B	$1F,$30,$1F,$F4,$0F,$38,$0F,$FC
	DC.B	$07,$1C,$07,$DC,$06,$00,$07,$C0
	DC.B	$06,$00,$07,$80,$06,$00,$07,$80
	DC.B	$06,$00,$07,$80,$06,$00,$07,$80
	DC.B	$06,$00,$07,$C0,$07,$00,$07,$C0
	DC.B	$03,$00,$3F,$F8,$03,$00,$2F,$F8
	DC.B	$43,$0C,$E3,$CC,$71,$84,$71,$84
	DC.B	$21,$86,$A9,$87,$01,$0E,$21,$8E
	DC.B	$01,$04,$01,$95,$00,$00,$01,$84
	DC.B	$00,$00,$01,$00,$00,$00,$01,$00
	DC.B	$20,$88,$3C,$06,$00,$00,$00,$04
	DC.B	$00,$04,$01,$95,$00,$0E,$01,$8E
	DC.B	$03,$44,$01,$84,$03,$04,$23,$C4
	DC.B	$23,$04,$AB,$C4,$73,$00,$73,$CC
	DC.B	$07,$00,$27,$FC,$0F,$00,$2F,$F8
	DC.B	$1F,$00,$3F,$F0,$0B,$00,$1B,$E0
	DC.B	$01,$80,$03,$E0,$01,$80,$01,$E0
	DC.B	$01,$80,$01,$E0,$01,$80,$01,$E0
	DC.B	$01,$80,$01,$E0,$01,$80,$03,$E0
	DC.B	$03,$00,$03,$EC,$0F,$00,$0F,$FC
	DC.B	$1F,$00,$1F,$F4,$13,$02,$13,$C7
	DC.B	$11,$8E,$11,$8E
LB_02DC
	DC.B	$31,$84,$71,$95,$38,$80,$39,$84
	DC.B	$10,$80,$55,$80,$00,$00,$11,$80
	DC.B	$00,$00,$00,$80,$00,$00,$00,$80
LB_02F4
	DC.B	$03,$FB,$3F,$FC,$3F,$FF,$9F,$FF
	DC.B	$DF,$FC,$07,$F6,$04,$04,$C0,$02
	DC.B	$40,$00,$60,$00,$20,$02,$08,$09
	DC.B	$08,$00,$C0,$01,$40,$00,$60,$00
	DC.B	$20,$01,$10,$01,$10,$F0,$A0,$70
	DC.B	$A0,$78,$50,$3C,$30,$30,$A3,$E1
	DC.B	$21,$08,$90,$88,$50,$84,$48,$42
	DC.B	$28,$48,$44,$11,$41,$04,$90,$88
	DC.B	$50,$9A,$48,$4D,$28,$48,$44,$09
	DC.B	$42,$03,$10,$88,$50,$A5,$88,$52
	DC.B	$C8,$48,$43,$86,$82,$00,$10,$88
	DC.B	$50,$A4,$08,$52,$08,$48,$40,$60
	DC.B	$82,$00,$10,$88,$50,$C4,$08,$62
	DC.B	$08,$48,$60,$1C,$82,$00,$10,$70
	DC.B	$90,$04,$08,$02,$08,$30,$98,$02
	DC.B	$82,$00,$10,$03,$10,$C4,$08,$62
	DC.B	$08,$03,$07,$01,$82,$00,$10,$00
LB_037C
	DC.B	$90,$A4,$08,$52,$08,$7C,$00,$C1
	DC.B	$82,$00,$10,$70,$90,$A4,$08,$52
	DC.B	$08,$40,$30,$21,$42,$00,$10,$88
	DC.B	$50,$99,$88,$4C,$C8,$40,$48,$11
	DC.B	$41,$03,$10,$88,$50,$82,$48,$41
	DC.B	$28,$40,$48,$11,$21,$0C,$90,$88
	DC.B	$50,$84,$48,$42,$28,$40,$44,$11
	DC.B	$10,$F1,$10,$88,$50,$88,$48,$44
	DC.B	$28,$40,$43,$E2,$10,$01,$20,$48
	DC.B	$20,$78,$50,$3C,$30,$30,$40,$02
	DC.B	$0C,$06,$40,$24,$00,$00,$60,$00
	DC.B	$20,$08,$4C,$0C,$03,$F8,$3F,$C3
	DC.B	$FF,$FF,$9F,$FF,$DF,$F0,$33,$F0
	DC.B	$20,$20,$A9,$20,$31,$39,$39,$32
	DC.B	$20,$20,$43,$6F,$6D,$65,$64,$69
	DC.B	$61,$6E,$20,$6F,$66,$20,$43,$52
	DC.B	$45,$45,$50,$53
