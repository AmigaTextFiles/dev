(set intro
(cat "\n PPC680x0 Installation\n\n"
     "© 2004 Coyote Flux\n"
))

(if (< (/ (getversion) 65536) 37)
(
 (abort "\n\n\nThis program requires at least Kickstart 2.04")
))

(welcome intro)

(set @default-dest "SYS:")

(set dest2 "SYS:")

(complete 0)

(set dest2 (askdir  (prompt "Where would you like to install the PPC680x0 drawer?")
                    (default @default-dest)
                    (help "At this point, you should select the path" 
                          "where PPC680x0 has to be installed... "
                          "A directory WILL be created!!!"
                    )
            )
)

(set dest1 (tackon dest2 "PPC680x0"))
(set installDir dest1)


(set @default-dest dest1)
(message "PPC680x0 will be installed to " 
          dest1
)

(complete 10)

(if (= (exists @default-dest) 0)
    (makedir @default-dest)
)

(copyfiles (source "PPC680x0.info")
           (dest   dest2)
)


(copyfiles (source "PPC680x0/")
           (dest   @default-dest)
           (all)
)

(complete 60)

(message "The Floating Point ROM file will be copied to s:")

(copyfiles (source "PPC680x0/s/fprom.s")
           (dest   "s:")
         
)
(complete 70)
(message "The font will be copied to Fonts:")

(copyfiles (source "PPC680x0/fonts/")
           (dest   "fonts:")
           (all)
         
)

(complete 80)

(set dest3 (cat "assign PPC680x0: " dest1 ))

(startup "PPC680x0"
   (prompt ("%s\n%s\n\n%s\n%s\n"
            "The following assign is required."
            "Do you want the assign added to your user-startup?"
            dest3
            )
   )
   (command 
           ("") dest3
   )
   (help "The assign is required to run PPC680x0 from its location. "
         "Without the assign, no on-line help will be available and "
         "certain functions may not work properly. "
   )
)


(complete 100)
