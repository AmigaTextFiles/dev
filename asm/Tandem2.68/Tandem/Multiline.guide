@database Multiline.guide
@author "Ken Shillito"
@$VER: Multiline.guide 0.00 (15.4.99)
@index xxx

@node main "Multiline Guide"
@{b}Multiline.guide Version 0.00  April 15, 1999@{ub}

© 1999      Ken Shillito      25 Barwon Tce., Winchelsea 3241 Australia

                                Email:       shillito@tpg.com.au
                                Home page:   www2:tpg.com.au/users/shillito

The "Multiline" text editor is built into the tandem.library user interface
for Amiga programs. Any program using amiga.library may attach the text
editor to any window for the purpose of loading, editing and saving lines of
text.

  @{"The Multiline Text Editor - Introduction" link edit}
  @{"The Keyboard                            " link keys}
  @{"The Menu - Menu Items                   " link menu}
@endnode

@node xxx
@{b}Index to Multiline.guide@{ub}



@endnode

@node edit
@{b}The Multiline Text Editor - Introduction@{ub}

The "Multiline" text editor is part of the tandem.library general user
interface (GUI) for the Amiga computer. Any window which is opened in any
program which uses tandem.library can attach a Multiline text editor to any
window, either temporarily or permanently.

A text editor is a window where you can load and save lines of text from and
to disk. While in the text editor, you can edit the text, print it out if
you want, save it to disk, insert other files into it, and so on.

Since Multiline is very general in its capabilites, particular programs will
perhaps disable some of its abilities, for example, the program you are
using might be using Multiline simply to allow you to view some text, but
not edit it.

Multiline is basically designed for editing text, with some limited page
formatting and insertion of pictures. It is simple and intuitive enough that
you can (I hope) just start typing, and not worry about this manual.
@endnode

@node keys
@{b}Use of the Keyboard@{ub}

If the text you are looking at does not have a cursor anywhere then the
text is "locked". In that case, you can peruse the text, but not change it.
Only those keyboard options below which are for moving through the text
(such as up and down arrow keys) will be operative.

But if the cursor is visible, then you can type text into the memory, and
of course edit what is already present.

Particular keyboard options below may well be disabled by the program you
are running. For example, if you are editing text which is strictly plain-
text, then options like  Ctrl+b (for bold text) will be disabled. If you
look at the menu items, the ghosted-out items are the inoperative ones.

@{b}General Use of the Keyboard@{ub}

If the window containing Multiline has sizing, drag, zoom, close and depth
gadgets, they will work in the usual way. (It might be that the particular
program you are using will simply stop editing if you click the close
gadget, rather than actually closing the window).

If the window containing Multiline has scroll bars, then you can use the
vertical scroll bar to scroll through the text vertically. But the
horizontal scroll bar will only be operative if the text is locked, when
you can use the horizontal scroller to scroll the text sideways. If the
text is unlocked, the the text will scroll sideways automatically to
keep the cursor visible.

Providing that a cursor is visible, you can type text in the usual way,
using the <Return>, <Backspace>, <Del>, <Up Arrow> and <Down Arrow> keys
in the usual way. Also, if you click the text anywhere on the window, the
cursor will move there.

You can insert lines by pressing <Return>, or by pressing <Right Amiga)
with <i>. You can delete lines by pressing <Right Amiga> with <d>.

The <tab> key will jump the cursor 8 characters at a time sideways across
the text.

@{b}The Help Key@{ub}

If you press the <Help> key, you will see a table of the keyboard options
available. You can then click the "OK" button on that table to resume
from where you were before you pressed the <Help> key.


@{a}Correcting@{ub}

Press <Right Amiga> with <d> to @{b}d@{ub}elete a line.
Press <Right Amiga> with <i> to @{b}i@{ub}nsert a line.
Press <Return> to insert a line.
Press <Ctrl> with <x> to erase ("@{b}x@{ub}-out") a line.
Press <Shift> with <Ctrl> with <S> to jump all characters right of the
          cursor to the end of a line (by inserting @{b}S@{ub}paces).
Press <Shift> with <Ctrl> with <U> to @{b}U@{ub}ndo the effect of the previous
          keystroke (even if it was <Shift><Ctrl><U>).
Press <Shift> with <Ctrl> with <R> to @{b}R@{ub}estore a line to how it was when
          the cursor first came onto it.
Press <Backspace> to delete a character and move the cursor left.
Press <Shift> with <Backspace> to delete all characters left of the cursor.
Press <Del> to delete the character under the cursor.
Press <Shift> with <Del> to delete all characters right from the cursor.


@{a}Navigating through the Text@{ub}

Press <Ctrl> with <a> to go to the first line of text.
Press <Ctrl> with <z> to go to the last line of text.
Press <Up arrow> to move the cursor up a line.
Press <Down arrow> to move the cursor down a line.
Press <Shift> with <Up arrow> to move up a window-full of text.
Press <Shift> with <Down arrow> to move down a window-full of text.
Press the <tab> key (left of the <q> key) to jump the cursor to alternate
      sides of the line.
Press <Shift> with <Left arrow> to jump the cusor to the left of the line.
Press <Shift> with <Right arrow> to jump the cursor to the right of the
      line.


@{b}Text Style@{ub}

(the program you are using may disable some or all of the options below).

Press <Ctrl> with <b> to switch @{b}b@{ub}old text on and off.
Press <Ctrl> with <i> to switch @{b}i@{ub}talic text on and off.
Press <Ctrl> with <u> to switch @{b}u@{ub}nderline text on and off (see menu
                      for double underline, overline)
Press <Ctrl> with <o> to switch d@{b}o@{ub}tted underline on and off.
Press <Ctrl> with <w> to switch double width (@{b}w@{ub}ide) text on &off.
Press <Ctrl> with <s> to switch @{b}s@{ub}hadow text on and off.
Press <Ctrl> with <up arrow> to switch superscript on and off.
Press <Ctrl> with <down arrow> to switch subscript on and off.


@{b}Line Justification@{ub}

(the program you are using may disable these).

Press <Ctrl> with <l> to @{b}l@{ub}eft justify a line (the usual case).
Press <Ctrl> with <c> to @{b}c@{ub}enter a line.
Press <Ctrl> with <r> to @{b}r@{ub}ight justify a line.
Press <Ctrl> with <f> to @{b}f@{ub}ull justify a line.

@{i}Right justification@{ui} If you are typing a right to left font (e.g.
Hebrew), press right justification for each line. Multiline is not
designed for right-to-left typing, but with right justification you can
fudge it, more-or-less.

@{i}Full justification@{ui} This causes lines to be spaced out to both left
and right margins.


@{b}Cut and Paste@{ub}

Multiline does cut and paste line-by-line, not character-by-character. It
does @{b}not@{ub} use highlighting with the left mouse button.

You select a range as follows:

1. Place the cursor on the first line of the range, and press
   <Shift> with <Ctrl> with <A>.  (or, use the menu)

2. Place the cursor on the last line of the range, and press
   <Shift> with <Ctrl> with <Z>.  (or, use the menu)

A range is then marked. If you do anything to change the number of lines
in the text, the range may become unmarked.

There are quite a few menu things you can do with a marked range, but in
particular:

1. Place the cursor on a line @{i}not@{ui} in the range, and press
   <Shift> with <Ctrl> with <I> to @{b}I@{ub}nsert a duplicate copy of the
   range above the cursor line. (note: the range remains marked after the
   insertion, at its old position).

2. Press <Shift> with <Ctrl> with <D> to @{b}D@{ub}elete the range.
   Multiline warns you first, since you can't reverse this. (note: you will
   often do this immediately after inserting, to delete text from its old
   position after duplicating it at it new position).

@endnode

@node menu
@{b}The Menu - Menu Items@{ub}

The various menu items are selected with the right mouse key in the usual
Amiga way. Keyboard bypasses exist for the commonest items.

   @{"The Project Menu         " link proj}
   @{"The Go to Menu           " link goto}
   @{"The Cut & Paste Menu     " link ctps}
   @{"The Page Format Menu     " link pfrm}
   @{"The Line Format/Edit Menu" link lfrm}
@endnode

@node proj
@{b}The Project Menu@{ub}


@{b}Load@{ub}

Puts up a requester to load a text file. This completely replaces whatever
was in memory  before.


@{b}Save@{ub}

Saves the text to wherever it was loaded from, or last saved to, without
putting up a file name requester. You should select this regularly if you
are typing a lot of text, in case of pawer failure, &c.


@{b}Save as@{ub}

Puts up an ASL file requester to save text to a file.


@{b}Print@{ub}

Prints out the text in memory. Various options are available, which
Multiline takes you through with a series of requesters. Each of these
is hopfully self-explanatory, but if not, you can press the <Help> key
for assistance.


@{b}About@{ub}

Tells which version of Multiline / tandem.library you have installed.


@{b}GUI Preferences@{ub}

Allows you to specify preferences for the screen colour palette and
the appearance of requesters.

If you choose GUI Preferences, you will be taken step by step through the
process, with explanations & context sensitive help, available by pressing
the <Help> key. Also, on the preferences window, you will see a button:

   @{b}View AmigaGuide@{ub}

If you click that, you will see a guide to setting GUI preferences, with
more detailed explanations.


@{b}View AmigaGuide@{ub}

Puts up the AmigaGuide you are currently reading.


@{b}Lock/Unlock text@{ub}

Text is normally unlocked, when a cursor appears, and you can edit it.
The program under which Multiline runs may sometimes lock the text, so
you can read it, and possibly save or print it, but not edit it.

Alternately, you may wish to temporarily lock the text, lest you
inadvertantly amend it by a careless keystroke, if you want it to stay
unaltered. In that case, select "Lock" to lock the text, and "Unlock" to
make it alterable again.

If you are merely wanting to peruse the text, it runs slightly faster and
smoother in its window if it is locked.


@{b}Stop Editing@{ub}

Select this (or press the <Esc> key or the close window gadget) to stop
editing. (i.e. to exit from Multiline)

@endnode

@node goto
@{b}The Go to Menu@{ub}


@{b}First line@{ub}

Choose "First line" to go quickly to the first line of text.


@{b}Last line@{ub}

Choose "Last line" to go quickly to the last line of text.


@{b}Seek forward@{ub}

If you choose "Seek forward", Multiline puts up a requester asking you to
input a string of characters to seek. e.g. you may input the string

  fred

Multiline will then search through all lines after the line with the cursor
(of if there is no cursor, the topline of the window) until it finds a line
containing "fred".

If you input a null input for the string sought, Multiline will assume the
same string as the previous input (making it easier to find all instances
of a particular string.

The seeking is case significant, so seeking "fred" will not find "Fred" or
"fRed". But, to make the seeking case blind, prepend a | character to the
string you seek. e.g. if you input  "|fred"  then Multiline @{i}will@{ui} find
"Fred" and "fRed".


@{b}Seek back@{ub}

If you choose "Seek back", Multiline puts up a requester asking you to
input a string of characters to seek. e.g. you may input the string

  fred

Multiline will then search through all lines before  the line with the
cursor (of if there is no cursor, the topline of the window) until it finds
a line containing "fred".

If you input a null input for the string sought, Multiline will assume the
same string as the previous input (making it easier to find all occurences
of a particular string.

The seeking is case significant, so seeking "fred" will not find "Fred" or
"fRed". But, to make the seeking case blind, prepend a | character to the
string you seek. e.g. if you input  "|fred"  then Multiline @{i}will@{ui} find
"Fred" and "fRed".


@{b}Seek at line start@{ub}

If you choose "Seek at line start", Multiline puts up a requester asking
you to input a string of characters to seek. e.g. you may input the string

  fred

Multiline will then search through all lines from the beginning of the text
until it finds a line starting with those characters. This is useful if
say you are editing a program, and want to find a line with a particular
label.

If you input a null input for the string sought, Multiline will assume the
same string as the previous input.

The seeking is case significant, so seeking "fred" will not find "Fred" or
"fRed". But, to make the seeking case blind, prepend a | character to the
string you seek. e.g. if you input  "|fred"  then Multiline @{i}will@{ui} find
"Fred" and "fRed".


@{b}Fwd a window-full@{ub}

If you choose "Fwd a window-full", Multiline will move down a window full,
so the bottom line on the window becomes the top line.


@{b}Back a window-full@{ub}

If you choose "Back a window-full", Multiline will move up a window full, so
the top line before becomes the bottom line after.


@{b}Go to line number@{ub}

If you choose "Go to line number", Multiline will put up a requester asking
you to input a line number. If, say, you input 5700, then Multiline will
show line 5700 on the window (if there is one, of course).


@{b}Info about text@{ub}

If you choose "Info about text", Multiline puts up a requester with the
following data on it, for your perusal:

  Lines in memory
  Maximum characters in a line
  Words in memory
  Number of paragraphs in memory
  Current line number
  Bytes used
  Bytes unused

The number of words cabn be useful if you are writing an essay.

@endnode

@node ctps
@{b}The Cut & Paste Menu@{ub}

@{b}Insert line@{ub}

Inserts a blank line before the line containing the cursor.


@{b}Delete line@{ub}

Deletes the line containing the cursor.


@{b}Mark start of range@{ub}

Multiline does cut and paste line-by-line, not character-by-character. You
select a range as follows:

1. Place the cursor on the first line of the range, and choose "Mark
   start of range". (or, press <Shift> with <Ctrl> with <A>).

2. Place the cursor on the last line of the range, and choose "Mark
   end of range". (or, press <Shift> with <Ctrl> with <Z>).

A range is then marked. If you do anything to change the number of lines
in the text, the range will become unmarked.

There are quite a few menu things you can do with a marked range, namely:

     Insert the range somewhere else
     Delete the range
     Save the range
     Rewrap the range
     Spell check the range (provided kspell.library is available)


@{b}Mark end of range@{ub}

Multiline does cut and paste line-by-line, not character-by-character. You
select a range as follows:

1. Place the cursor on the first line of the range, and choose "Mark
   start of range". (or, press <Shift> with <Ctrl> with <A>).

2. Place the cursor on the last line of the range, and choose "Mark
   end of range". (or, press <Shift> with <Ctrl> with <Z>).

A range is then marked. If you do anything to change the number of lines
in the text, the range will become unmarked.

There are quite a few menu things you can do with a marked range, namely:

     Insert the range somewhere else
     Delete the range
     Save the range
     Rewrap the range
     Spell check the range (provided kspell.library is available)


@{b}Insert range@{ub}

If you have marked a range, you can place the cursor on any line OUTside
the range, and choose "Insert range". The marked range will then be
duplicated before the line with the cursor. (you can also accomplish
insert range by pressing <shift> with <Ctrl> with <I>).

n.b. Inserting the range still leaves the original range marked!! This means
you can:

  1. Immediately choose "Delete range" (or press <Shift> with <Ctrl> with
     <D> to delete it from its original position). (more often than not,
     you will in fact do so).

  2. Make multiple copies of the range.


@{b}Delete range@{ub}

If you have marked a range, you can choose "Delete range" (or press
<Shift> with <Ctrl> with <D>) to delete the range. n.b. this can be
"invisible" if the range is not currently showing on the window.

Before the deletion takes place, Multiline gives you a chance to Cancel
(in case you chose it by mistake).


@{b}Save range@{ub}

If you choose "Save range", Multiline will put up an ASL requester, allowing
you to save to a diskfile. For example, you may wish to export some text
to a file called "RAM:Temp", and then load another file, and import what
you saved.


@{b}Insert file@{ub}

If you choose "Insert file", Multiline will put up an ASL requester,
allowing you to specify a diskfile. Multiline will then insert that file
before the line with the cursor on it.


@{b}Rewrap@{ub}

"Rewrap" is a very powerful option. Rewrapping is a process where a number
of lines are combined together, and allocated to memory in such a way that
they are all made as long as possible.

{b}Example:@{ub}

Suppose you have these lines:

Now is the time for all good men to come to the aid of the party. In fact,
it always has been the time.

You then deecide that you want to move the cursor after the word "the",
and insert "definitely", in which case after you finish typing
"definitely" your paragraph will look like this:

Now is definitely the time for all good men to come to the aid of the party.
In
fact,
it always has been the time.

Well, all you have to do, is to choose "Rewrap" in the menu. Multiline
will put up a requester with the following options:

   Rewrap from cursor to the end of the current paragraph
   Rewrap the marked range
   Rewrap everything in memory
   Cancel

You would then select the first option, and the text would then read:

Now is definitely the time for all good men to come to the aid of the party.
In fact, it always has been the time.

Nice, eh? try getting a typewriter to do that!

Multiline defines "paragraphs" to end when there is a blank line, or a line
starts with a space, or a line has three or more spaces in a row in it.
If a line has a different font, character spacing, or justification than the
one before, it will also start a ne paragraph.

Lines that are blank, or start with a space, or contain 3 or more
consecutive spaces, cannot begin or be in paragraphs, and are never
re-wrapped.

If lines being re-wrapped have italics, bold etc., the italics bold etc
data for them is also re-wrapped. It is theoretically possible to run out
of memory when re-wrapping (but very unlikely). If it happens, Multiline
will put up a requester reporting it, and stop re-wrapping at that point.

In general, the above rules avoid mucking up carefully formatted lines,
however you can still get tables and insets mucked up by re-wrapping. So
until you get some experience with its vagueries, I suggest you don't
re-wrap large amounts of text all in one go.


@{b}Change max line length@{ub}

Text in Multiline has a particular maximum line length. Typically, this is
76. You can choose "Change maximum line length" to alter the maximum. If
you do, note the following:

1. If you specify a longer line length, Multiline leaves all the text
   alone. You may then want to re-wrap it, however.

2. the problems arise if you specify a shorter line length. Presumably, that
   will cause some lines to become too long to fit.

So, when Multiline is changing maximum line length to a shorter value, it
re-wraps everything as it goes. If it comes across un-rewrappable lines
that are too long, it splits them into 2 lines where they become too long.
Theoretically, this can cause Multiline to run out of memory. If it does,
it will leave everything as it is so far, and adopt the smallest maximum
line length consistent with the way the memory now is. Hardly a satisfactory
outcome, so make sure you don't shorten the maximum line length if there
is hardly any memory to spare.


@{b}Spell check range@{ub}

This is normally not available, unless you have kspell.library installed.
If you do, refer to the docs for kspell.library.


@{b}Erase all (careful!)@{ub}

The is traditionally called "New"ing the memory. ALL lines in memory are
erased! So, if you choose this, Multiline gives you a chance to cancel, in
case you have invoked it in error.
@endnode

@node pfrm
@{b}The Page Formatting Menu@{ub}

(Many applications will disable the Page Formatting Menu)


@{b}Font select@{ub}

Multiline maintains a set of 10 fonts. If you select "Font select",
Multiline will put up a table of the 10 fonts. Note that font 0 is always
Topaz/8, and it cannot be changed.

You can click "Load" for any of the blank fonts, in order to open a new
font. If you do, Multiline will put up an ASL requester, to allow you to
open a font, and then attach it to that font number.

You should be more careful about clicking "Load" for a font already exists.
If you do, Multiline will warn you that the font already there will be
closed, and so any lines currently using it will instead use whatever font
you load in its place.

You can also click "Use" for any non-blank font. That will cause that font
to be attached to the line which currently has the cursor on it.


@{b}Page turn@{ub}

If you print text out, Multiline will insert page turns automatically. This
is obviously not always satisfactory, and you may well wish to over-ride
Multiline's page turning calculations.

To do so, place the cursor on the very first page. This will cause Multiline
to keep your text divided up into pages. Wherever you want a forced page
turn, place the cursor on that line, and choose "Page turn". But you MUST
first put a forced page turn on the vert first line, before you put forced
page turns elsewhere.

If the first page thus has forced page turns, Multiline will calculate
where non-forced page turns must be put, i.e. after any page has filled up
with lines.

When 1 or more forced page turns exist, the window title will show the
page number, block number, and line number within the block that the cursor
is on. (see next heading for blocks - normally there is only 1 block on a
page). If the page turn is forced, it will show as "Forced". If the block
turn is forced, it will also show as "forced".

Text normally flows from page to page, but of course it does not flow from
before a forced page turn to after it.

To remove a forced page turn, simply choose "Page turn" again, and the
forced page turn will disappear. This will most likely cause re-assignment
of subsequent unforced page turns, until another forced page turn is
encountered.


@{b}Block turn (Advanced Usage)@{ub}

Multline allows you to divide a page up into blocks. To do so, you must
have page turns, and any page which contains blocks must have a forced
page turn.

To divide a page into blocks, you must first make sure its page turn is
compulsory. Then, you must put a block turn on its first line.

To insert a block turn, choose "Block turn". To remove it, re-choose "Block
turn" and it will disappear.

When a block fills up, if there are no further blocks, Multiline will insert
a non-forced page turn. Text does not automatically flow between blocks, so
to remove text from one block to another, you would have to move the clock
turn, or use cut and paste.

Normally, a page consists of just 1 big block. You would use blocks if you
want the page to be formatted - e.g. to have columns, or banners, &c.

You would often also use blocks if you want a picture on the page.


@{b}Page/Block shape@{ub}

You can specify the shape of a page (i.e. its margins and page length) by
choosing "Page/Block shape". It is possible, but perhaps not really good
practice, to have different pages of different shape all within the one
file.

If you want blocks in a page, also choose "Page/Block shape", and Multiline
will put up a diagram, allowing you to set up your block shapes, and/or
copy the block shapes of another page, or use various presets, &c. I have
tried to make it as easy as possible. It is desirable to specify the shape
of a block before you type anything in it, or else the text already in it
when you reshape it may get muddled up.


@{b}Line spacing@{ub}

Select "Line spacing" to force Multiline to use line spacing other than the
font height of whatever font you are typing.


@{b}Character spacing@{ub}

Select "Character spacing" to force Multiline to spread characters out. This
may especially be desirable for large fonts.

If you have a full justified line, Multiline will first use the character
spacing you specify, and to fully justify the line, will insert further
pixels as required.


@{b}Full justify limit@{ub}

If oyu select "Full justification" for a line, Multiline will adjust the
character spacing to make the characters spread across the block you are
typing.


If the characters spread too far, Multiline will refuse to spread the line
out any further. You canchange the limit, by specifying "Full justify
limit".


@{b}Text Pens@{ub}

You can set text pens fo a line by selecting "Text Pens".




@{b}Graphics@{ub}


@{b}Line rendering@{ub}


@endnode

@node lfrm
@{b}The Line Formatting/Editing Menu@{ub}

@{b}Font style@{ub}


@{b}Under/Overlining@{ub}


@{b}Justification@{ub}


@{b}Complement@{ub}


@{b}Erase (x-out)@{ub}


@{b}Undo@{ub}


@{b}Restore@{ub}


@{b}Space fill@{ub}


@endnode
