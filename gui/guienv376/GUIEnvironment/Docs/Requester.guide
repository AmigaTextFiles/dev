@DATABASE "requester.guide"

@REMARK "$VER: Requester.guide 37.6 (15.12.94)"

@NODE Main "GUIEnvironment/Requester Guide"


                                GUIEnvironment

                                Requester Guide

 =========================================================================

                       © 1994   Carsten Ziegeler
                                Augustin-Wibbelt-Str.7
                                D-33106 Paderborn
                                Germany

 =========================================================================


  @{" Displaying requesters " LINK RE-Display}

  @{" Localizing requesters " LINK RE-Locale}

  @{" ReqTools requesters " LINK RE-ReqTools}

  @{" The requester kinds " LINK RE-ReqKinds}

  @{" The requester tags " LINK RE-ReqTags}



@ENDNODE

@NODE RE-Display "Displaying requesters"

Using the GUIRequest function, GUIEnvironment provides an easy interface
to a lot of requesters.
All this requester use the window of the GUI as reference window.

Using standard requesters

GUIEnvironment uses the intuition EasyRequest function for standard
requesters.

<Not yet written - But this is very easy, see RKRMs>

Using asl requesters

GUIEnvironment offers an interface to the asl file and dir requester.
The text parameter of GUIRequest contains the title of the window.
For asl requesters you can use the following tags:

 GER_NameBuffer

  This is a pointer to a buffer, which will contain the complete filename
  after the user selection.
  You can specify here a complete filename which will be displayed when
  the requester opens.
  Keep this buffer big enough. A value of 512 bytes or even more is
  advised. GUIEnvironment doesn't check this size !
  Don't use this tag together GER_DirBuffer or GER_FileBuffer.

 GER_FileBuffer

  Points to a buffer which will contain only the filename without the
  path.
  Don't use this tag together with GER_NameBuffer.

 GER_DirBuffer

  Points to a buffer which will contain only the path without the
  filename. Don't use this tag together with GER_NameBuffer.

 GER_Pattern

  Pointer to a file pattern. If you don't want a file pattern gadget to
  be displayed set this tag data to NULL.

 GER_Save

  This boolean tag says if the requester is for saving something or not.
  The default is FALSE.

GUIEnvironment uses automatically a new IDCMP port for the requester.
You can also define all tags (defined in AslD) for asl requesters.
But notice, GUIRequest uses the following tags, which you should not use,
use the requester tags instead:

  ASLFR_Window, ASLFR_TitleText, ASLFR_InitialFile, ASLFT_InitialDrawer
  and ASLFR_InitialPattern.

Also the ASLFR_Flags1 and ASLFR_Flags2 tags. are used. If you need these
tags, please notice that you have to specify again the FRF_DOPATTERNS,
FRF_DOSAVEMODE, FRF_DRAWERSONLY and FRF_PRIVATEIDCMP flags which are
usually set by using the requester tags !
Don't use the GER_FileBuffer tag together with the GER_DirKind requester,
because this requester is only for directories.

If you want to display a requester, where the user should choose
the best shared library, you could do this:

To help the user choosing, you use the pattern '#?.library' and
you make of course the suggestion of 'sys:libs/guienv.library'. But
the silly user chooses 'sys:libs/asl.library' !

You have generally these two possibilities:

   - First possibility :

       char file[256], dir[256]; /* two different variables
                                    one for the path and
                                    one for the filename */
         ...

       file = "guienv.library";
       dir  = "sys:libs";

       GUIRequest(GUIINFO, "Choose the best Library", GER_FileKind,
                  GER_FileBuffer, &file,
                  GER_DirBuffer, &dir,
                  GER_Pattern, "'#?.library",
                  NULL);

     The result is :

       file == "asl.library";
       dir  == "sys:libs";

   - Second possibility :

       char buffer[512]; /* the full filename with the whole path */
         ...

       name = "sys:libs/guienv.library";

       GUIRequest(GUIINFO, "Choose the best library", GER_FileKind,
                  GER_Pattern, "#?.library",
                  GER_NameBuffer, &name, NULL);

     The result is:

       name == "sys:libs/asl.library";


In the current version it is NOT (yet) possible to use the multiselect
function ! If you need this, please use the asl.library instead.

SEE ALSO

    @{" The requester kinds " LINK RE-ReqKinds}
    @{" The requester tags " LINK RE-ReqTags}

@ENDNODE

@NODE RE-Locale "Localizing requesters"

By using the GER_LocaleID tag it is possible to localize even requesters.
This tag gets the string number of the catalog file.
The gadgets of the integrated requesters are automatically localized.
For custom requesters use the GER_Gadgets tag for passing a localized
string.

@ENDNODE

@NODE RE-ReqTools "ReqTools (© Nico François) Requester"

GUIEnvironment offers the possibility to use ReqTools requesters instead
of intuition and asl ones.
These requesters can be handled in the same way as the "usual" GUIEnv
requester explained before, e.g. you can use the same tags defined
for GUIEnvironment and you can also specify all tags directly for
ReqTools. But have in mind, that GUIEnvironment sets some of them for
you (e.g the window, locale, text), so if you redefine them, you
overwrite the settings of GUIEnvironment !

The next problem is the return value. If you use IDCMP messages to
satisfy the requester, the return code of ReqTools differs from the one
of the Intuition EasyRequest function !
This is usually no problem, if you know which function is used to display
the requester, BUT if ReqTools is not available GUIEnvironment uses
automatically the "old" ones instead, so there will always appear a
requester ! So when checking the return code of IDCMP messages, you should
first check, if ReqTools is available or not !

@ENDNODE

@NODE RE-ReqKinds "The requester kinds"

GUIEnvironment provides the following predefined requesters:

 GER_OKKind

  This requester contains only one gadget with an OK text. It returns
  always GER_CANCEL.

 GER_RTOKKind

  Same as GER_OKKind, but uses ReqTools requester.

 GER_DoItKind

  This requester has two gadgets. One labeled YES and the other one
  labeled NO. Depending on the user input it returns GER_Cancel for
  NO or GER_Yes for YES.

 GER_RTDoItKind

  Same as GER_DoItKind, but uses ReqTools requester.

 GER_YNCKind

  This requester has three gadgets: YES, NO, CANCEL.
  It will return GER_Cancel for CANCEL, GER_Yes for YES and of course
  GER_No for NO !

 GER_RTYNCKind

  Same as GER_YNCKind, but uses ReqTools requester.

 GER_FileKind

  This is the asl file requester. It returns GER_Cancel or GER_Yes.

 GER_RTFileKind

  Same as GER_FileKind, but uses ReqTools requester.

 GER_DirKind

  This is the asl dir requester. It returns GER_Cancel or GER_Yes.

 GER_RTDirKind

  Same as GER_DirKind, but uses ReqTools requester.

With this predefined requesters you don't have to use the GER_Gadgets
tag, but you can use it e.g. to display the text in a different language.

For a total different custom requester use:

 GER_GeneralKind

  For this requester the intuition EasyRequestArgs function is used.
  With the requester tags you can reach every field of the EasyStruct
  structure !

 GER_RTKind

  This requester is build using ReqTools, you can define all tags from
  both, GUIEnvironment and ReqTools to define the requester.

SEE ALSO

    @{" The requester tags " LINK RE-ReqTags}
    @{" The ReqTools Requesters " LINK RE-ReqTools}

@ENDNODE

@NODE RE-ReqTags "The requester tags"


 GER_Gadgets

  Pointer to gadgets' texts which are separated by '|'. This pointer is
  only required for your own requester kind or to localize the requester.
  Don't use this tag with asl requesters.
  The integrated requesters are localized, so use this tag only with
  custom requesters !

 GER_Args

  Pointer to an array of argument pointers if required. Don't use this
  tag with asl requesters.

 GER_Flags

  Currently unused ! So don't use it either !

 GER_Title

  Pointer to the title string. Usually this pointer is NULL, so the
  requester gets the title of the reference window.
  Don't use this tag with asl requesters !

 GER_IDCMP

  Pointer to set of IDCMP flags. If you are specifying this, the
  requester will disappear if one of these events occur. Then the
  requester function will return -1 and then the IDCMP flag set will
  contain the event !
  Don't use this tag with asl requesters !

 GER_Pattern

  A pointer to a pattern. Use this only with asl requesters !

 GER_NameBuffer

  Pointer to a buffer to save the full file name. Use this tag only
  with asl requesters. But don't use it together with GER_FileBuffer
  or GER_DirBuffer

 GER_FileBuffer

  Pointer to a buffer to save only the file name. Don't use this tag
  together with GER_NameBuffer, but it is advised to use GER_DirBuffer
  together with it. Use this tag only for asl requesters.

 GER_DirBuffer

  Pointer to a buffer to save only the path. Don't use this tag together
  with GER_NameBuffer, but it is advised to use GER_FileBuffer together
  with it. Use this tag only for asl requesters.

 GER_Save

  Only for asl requesters. Indicates if this is a save requester or not.

 GER_LocaleID

  String number in the catalog file for localization.

@ENDNODE

@NODE RCS

$RCSfile: Requester.guide $

$Revision: 1.7 $
    $Date: 1994/12/16 21:23:35 $

  GUIEnvironment Requester Guide

  Copyright © 1994, Carsten Ziegeler
                    Augustin-Wibbelt-Str.7, 33106 Paderborn, Germany

@ENDNODE
