# Link Libraries for Triton
# Adapted for the DICE compiler on 25-May-95 by Michael Bauer
# (michael.bauer@zdv.uni-tuebingen.de)

TMPDIR  = T:
SRCS    = regs.a stubs.c opentriton.c boopsi.c
OBJS    = regs.o stubs.o opentriton.o boopsi.o tritonfd.o
LLIBS   = tritons.lib tritonsr.lib tritonl.lib tritonlr.lib
CFLAGS  = -3.0 -mi -//
LIBS    = tritons.lib tritonsr.lib tritonl.lib tritonlr.lib copy
FTLOPTS = /fd/triton_lib.fd -h /include/clib/triton_protos.h -o tritonfd.o \
          -auto triton.library -IDINCLUDE:amiga31
all : $(LIBS)

tritons.lib : $(SRCS)
        dcc $(CFLAGS) -o %(left) -c %(right) -md
        fdtolib $(FTLOPTS) -md
        join $(OBJS) as tritons.lib
        delete #?.o

tritonsr.lib : $(SRCS)
        dcc $(CFLAGS) -o %(left) -c %(right) -md -mRR
        fdtolib $(FTLOPTS) -md -mRR
        join $(OBJS) as tritonsr.lib
        delete #?.o

tritonl.lib : $(SRCS)
        dcc $(CFLAGS) -o %(left) -c %(right) -mD
        fdtolib $(FTLOPTS) -mD
        join $(OBJS) as tritonl.lib
        delete #?.o

tritonlr.lib : $(SRCS)
        dcc $(CFLAGS) -o %(left) -c %(right) -mD -mRR
        fdtolib $(FTLOPTS) -mD -mRR
        join $(OBJS) as tritonlr.lib
        delete #?.o

copy : $(LLIBS)
        copy %(right) dlib:

new :
      DMake clean
      DMake all

