#
# DMakeFile for GenGTXSource.
#
OD     = dtmp:GenGTXSource/
EXE    = GenGTXSource
CFLAGS = -mRR -proto -ms -I$(OD) -Ht:gengtxsource.m=gengtxsource.h
PROTOS = $(OD)gengtxprotos.h

SRCS  = main.c globals.c sourcestrings.c support.c generate.c dupstrings.c localestrings.c
OBJS  = $(SRCS:"*.c":"$(OD)*.o")

all: $(PROTOS) $(EXE)

$(EXE) : $(OBJS)
    dcc $(CFLAGS) %(right) -o %(left) -lnofrag -lreqtools -lamigasr20 -lamigas20 -lgtx -llocale
    bump globals.c increv quiet

$(OBJS) : $(SRCS)
    dcc $(CFLAGS) %(right) -o %(left) -c

$(PROTOS) : $(SRCS)
    -delete t:gengtxsource.m
    makeproto -o %(left) %(right)

