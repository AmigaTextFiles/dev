@database "guitools.guide"

@REMARK "$VER: GUITools.guide 38.1 (11.05.94)"

@NODE Main "GUITools.guide"


                                   GUITools

                                 Version 38.1

                                 General Guide

 =========================================================================

                                  Copyright

                       Mar 1994   Carsten Ziegeler
                                  Augustin-Wibbelt-Str.7
                                  D-33106 Paderborn
                                  Germany

                            All rights reserved

                                   FREEWARE

 =========================================================================


                               Table of Contents
                               =================


@{" What is GUITools ? " LINK GCHAP-1}

      @{" Introduction " LINK GCHAP-Introduction}
      @{" A brief overview " LINK GCHAP-Overview}
      @{" The sourcecode " LINK GCHAP-Sourcecode}
      @{" History " LINK GCHAP-History}

@{" Copyright / Disclaimer " LINK GCHAP-2}

      @{" Copyright " LINK GCHAP-Copyright}
      @{" Disclaimer " LINK GCHAP-Disclaimer}
      @{" Contents of V38.1 " LINK GCHAP-Contents}

@{" Installation " LINK GCHAP-3}

      @{" Requirements " LINK GCHAP-Requirements}
      @{" Installation " LINK GCHAP-3-2}

@{" Bugs / Problems " LINK GCHAP-4}

      @{" Known Bugs " LINK GCHAP-KnownBugs}

@{" The Future " LINK GCHAP-5}

      @{" Plans / Ideas " LINK GCHAP-Plans}
      @{" What is missing in V38.1 " LINK GCHAP-Missing}
      @{" Author / Final Words " LINK GCHAP-Author}

@ENDNODE

@NODE GCHAP-1 "What is GUITools ?"

This chapter gives a short description of what GUITools can do and why YOU
should use it in your own programs.

   @{" Introduction " LINK GCHAP-Introduction}

   @{" A brief overview " LINK GCHAP-Overview}

   @{" The sourcecode " LINK GCHAP-Sourcecode}

   @{" History " LINK GCHAP-History}

If you are familar with older versions of GUITools and you only want to
have a look what's new in version 38.1, see chapter @{" History " LINK GCHAP-History}.
@ENDNODE

@NODE GCHAP-Introduction "Introduction"

GUITools is a library which simplifies the creating and interacting with
GUIs (Graphical User Interfaces). It even does it lot of work by itself.
The developer must only implement the important part of a program, the
interactiong with the input events is nearly completly done by GUITools.
GUITools supports the whole gadtools.library with all gadget kinds of
the operating system 2.04 (beginning with GUITools version 38.0).
E.g. gadgets like cycle kind, mx kind or string kind are handled automa-
tically by GUITools. The developer only has to care for "action" gadgets
linke button gadgets or menus.
There are some powerful functions for creating and removing gadgets and
menus and also for screens, windows and fonts.

Because GUITools was designed as a real shared amiga library you can use
it by (nearly) every programming language.

In the current version GUITools is only able to add gadgets and menus
to windows which are already opened.
Starting with version 38.0 key equivalents for all gadgets are created
and handled automatically by GUITools. It makes no difference in handling
events if the gadget was activated by the mouse or the key, because
the IDCMP messages are always converted into gadget messages (only if
wished !).

It is also possible (beginning with version 38.0) to resize all gadgets
or to give them a new position. To avoid having a BIG library which can
really everything, but does although costs a lot of memory and cpu time,
GUITools can not calculate the new sizes and positions of gadgets if for
example the window is resized.
Starting with version 38.1 GUITools can use some object orientated
descriptions for the positions and sizes of the gadgets. Using this
method GUITools CAN NOW do the resizing of gadgets without any help !

The aim while creating the functions was an easy handling, so that
everything is done without any work of the developer. But it should
also be possible to make complicated things with GUITools to satisfy
all imagenable applications.

The main idea is that every gadget is connected with a variable to store
it's status. A string gadget has an array of char, a integer kind an
integer, a cycle kind an integer, too and so on.
So when creating a gadget you specify together with the standard attri-
butes an address of an appropriate variable to store the status.
For example if your are writting a configuration editor, you need a lot
of cycle gadgets, mx gadgets, string gadgets and checkbox gadgets.
There will also be two button gadgets for using or cancelling.
When NOT using GUITools you have to check EVERY gadget and remember the
its status. But WITH GUITools you say while creating the gadgets this
variable belongs to this gadgets and all gadgets you have to check
are the two button gadgets. Using the appropriate variables which will
be automatically updated by GUITools, you can easily get the values
and states of all the other gadgets !

@ENDNODE

@NODE GCHAP-Overview "A brief overview"

Here a some "headlines" which illustrate the possibilities and features
of GUITools. This list is NOT complete, but it gives a brief overview !

Features of GUITools V38.1 :

  - Supports all gadgets kinds of gadtools.library
  - Simplified handling of screens, windows, gadgets and menus
  - Indipendent handling of IDCMP messages, e.g.

     - do refreshing automatically
     - notify changes of gadgets

  - Supports automatically key equivalents
  - Access to all important structures dealing with GUIs
  - Own gadget kinds like a progress indicator or bevel boxes
  - Resizable gadgets possible (with and without application's help)
  - Object orientated description of the GUI

Furthermore, you don't have to do the annoying demands for visualinfo or
drawinfo structures !

@ENDNODE

@NODE GCHAP-Sourcecode "The sourcecode"

GUITools was developed using the M2Amiga-Modula2-Compiler V4.1.
Originally it was created to solve the problem with entry gadgets:
If a user activates a string or integer gadget, makes an entry and
then clicks e.g. a button gadget without hitting RETURN, you get no
message by intuition. So everytime someone chooses a button gadget you
have to update all your information about every entry gadget.
To solve this problem the notify function was build. During the work
on this, I recognized that this is possible for nearly all gadget kinds.
And so GUITools grew and grew. The next step were the key equivalents
and then the new gadget kinds.
And the rest is history ...

GUITools was converted into a shared library using the modula2 library
converter M2LMC version 1.0.1 (© 1993 C.Ziegeler).

@ENDNODE

@NODE GCHAP-History "History"

This is a short extract of the developing history of GUITools. Every
version explains the differences to the preciding version.

Version 37.0
------------
- Window, screen and font handling
- GUIInfo structure
- Notify for string and integer gadgets

Version 37.3
------------
- Notify for some more gadget kinds
- Some bugs fixed
First public release.

Version 38.0
------------
- Key equivalents support
- GUIGadgetInfo structure
- Support for all gadtools gadgets
- New extended functions for screens and windows
- Possibility of resizable gadgets
- New memory management, hook functions
- Requesters
- Some minor bugs fixed, code optimized
Second release.

Version 38.1
------------
- Rewrote and rearranged documentation
- Converted documentation to AmigaGuide format
- Translated documention into english language
- The sourcecode belongs no longer to the package
- The Modula2 linker modules belong no longer to the package
- Fixed some possible problems handling tag lists
- Added file and directory requester
- Changed gadget creating routines, all gadget kinds can be creating
  using all gadget creation routines without any exceptions
- Added the object orientated description of gadgets
- Ability to resize the GUI without application's help
- New hook functions with user data
- Extended the GUIInfo structure
- Extended the installing script
- Some bugs handling listview gadgets fixed. See @{" Known Bugs " LINK GCHAP-KnownBugs}
- Bug in WaitIntMsg fixed. See @{" KnownBugs " LINK GCHAP-KnownBugs}
- Some misspellings in the SASC header file corrected
Third release.

@ENDNODE

@NODE GCHAP-2 "Copyright / Disclaimer"

   @{" Copyright " LINK GCHAP-Copyright}

   @{" Disclaimer " LINK GCHAP-Disclaimer}

   @{" Contents of V38.1 " LINK GCHAP-Contents}

@ENDNODE

@NODE GCHAP-Copyright "Copyright"

GUITools software and documentation are ©1994 by Carsten Ziegeler.
All rights reserved.
This package is freeware, this means that you can copy it freely as long
as you don't ask any more money for it than a nominal fee for copying
and as long as the complete GUITools distribution is included. (See
chapter @{" Contents of V38.1 " LINK GCHAP-Contents}).
This program cannot be used for commercial purposes without the written
permission from the author.
Also commercial distribution of the GUITools package is not allowed
without written permissiom from the @{" author " LINK GCHAP-Author}.
None of the files of the GUITools package may be modified. Crunching or
achiving is allowed only if none of the GUITools files get modified by it.
If you use GUITools please include a remark into your program, that
shows that the program uses GUITools which is © by C.Ziegeler.

It is allowed and highly welcomed to include interface-modules for
other languages/compilers. This files may be added to the package. Also
it is allowed to add documentation for other languages. But it is
NOT allowed to charge extra for this "new" documentation or interface-
modules !
It would be very nice, if you could send me such work to include it in
the next version of GUITools. (see chapter @{" The Future " LINK GCHAP-5})

@ENDNODE

@NODE GCHAP-Disclaimer "Disclaimer"

The @{" author " LINK GCHAP-Author} cannot be held liable for the suitability or accuracy of this
manual and/or the  program(s) it describes.  Any damage directly or in-
directly caused by the use or misuse of this manual and/or the program(s)
it describes is the sole responsibility of the user himself.
The author is not responsible for any loss of data, damages to software
or hardware that may result directly or indirectly from the use of this
package. The author reserves the right to make changes to the software
and/or documentation without notice.

@ENDNODE

@NODE GCHAP-Contents "Contents of V38.1"

The whole GUITools package version 38.1 consists of the following files.
If some of these files in your package are missing, please contact the
deliverer immediately. It may be possible that there are some additional
files which are not listed below.

    GUITools.guide            This general documentation
    GUITools-Install          Installation program for the CBM installer
    Read.Me                   Some additional information

    M2Amiga                   Drawer for M2Amiga
      GUITools_M2Amiga.guide    GUITools' documentation for M2Amiga
      txt                       Drawer with sourcecode
        GUIToolsD.def             Source of the interface modules
        GUIToolsL.def
        GUIToolsMacros.def
        GUIToolsMacros.mod
      sym                       Drawer with compiled definition modules
        GUIToolsD.sym
        GUIToolsL.sym
        GUIToolsMacros.sym
      obj                       Drawer with compiled linker modules
        GUIToolsL.obj
        GUIToolsMacros.obj

    SASC                      Drawer for SASC
      GUITools_SASC.guide       GUITools' documentation for SASC
      guitools.h                Header file

    libs                      Library-Drawer
      guitools.library          The shared library
      GUITools_lib.fd           FD file for GUITools

All files must have icons to use them with the workbench. Notice that, if
you use the @{" installing script " LINK GCHAP-3-2-1}, the icons are not copied ! The default
tool for all text files (source files, documentation) is the AmigaGuide !
Only the icons for the real AmigaGuide files are copied !

@ENDNODE

@NODE GCHAP-3 "Installation"

   @{" Requirements " LINK GCHAP-Requirements}

   @{" Installation " LINK GCHAP-3-2}

@ENDNODE

@NODE GCHAP-Requirements "Requirements"

GUITools requires at least OS2.04. It was designed as a real amiga shared
library, so you can use it with nearly every compiler / languages which
is able to use the standard libaries.
This package includes the interface modules (header files) for the
M2Amiga-Modula2-Compiler (version 4.0 or above) and the SASC-Compiler
(version 6.5 or higher).
Despite the fact that the current version of GUITools is 38.1 it was
designed for the operating system version 37. All functions and options
are usable under this version !

@ENDNODE

@NODE GCHAP-3-2 "Installation"

   Choose the chapter for your compiler / language :

   @{" The installing script " LINK GCHAP-3-2-1}

   @{" GUITools with M2Amiga " LINK GCHAP-3-2-2}

   @{" GUITools with SASC / C in general " LINK GCHAP-3-2-3}

   @{" Other compilers / programming languages " LINK GCHAP-3-2-4}

@ENDNODE

@NODE GCHAP-3-2-1 "The installing script"

If you have the commodore installer (which is NOT part of this package)
simply click on the installing script to install GUITools.
During the installation the latest version of the guitools.library will be
placed in the libs: drawer and you are allowed to install the appropriate
interface modules whereever you want.
You can install the modules for the @{" M2Amiga-Modula2-Compiler " LINK GCHAP-3-2-2} or the
@{" SASC-Compiler " LINK GCHAP-3-2-3}.
Perhaps it it possible to use the delivered header files with
@{" Other C-Compilers " LINK GCHAP-3-2-3} as well. Refer to your compiler manual.
This package includes the FD-File for @{" different compilers " LINK GCHAP-3-2-4}.

@ENDNODE

@NODE GCHAP-3-2-2 "GUITools with M2Amiga"

If you have the M2Amiga-Modula2-Compiler (version 4.0 or above) you are
able to use GUITools in the same way you deal with the usual standard
amiga libraries like intuition or graphics.
The file GUIToolsD contains all the constants, tags and stuctures, whereas
the declarations of the functions are stored in GUIToolsL.
You need the guitools.library which must be located in the libs: drawer.
The document GUITools_M2Amiga.guide (which is placed in the M2Amiga drawer)
contains a complete description of all functions and structures.
The Module GUIToolsMacros contains some useful macros for the object
orientated description of gadgets.

Using the @{" installing script " LINK GCHAP-3-2-1} you have the choice to install
or copy the following parts:

  - interface modules : This includes the files GUIToolsD.sym,
                        GUIToolsL.sym, GUIToolsL.obj, GUIToolsMacros.sym
                        and GUIToolsMacros.obj. They were compiled using
                        the M2Amiga-Modula2-Compiler V4.1. These are the
                        required files to use GUITools. You can place
                        them together with the other library interfaces
                        in the M2:Modules drawer.
  - definition modules: The sourcecode GUIToolsD.def, GUIToolsL.def,
                        GUIToolsMacros.def and GUIToolsMacros.mod
  - documentation: Choose a good place for the complete documentation file
                   GUITools_M2Amiga.guide, because during the programming
                   of GUITools you probably will have some looks at this !

@ENDNODE

@NODE GCHAP-3-2-3 "GUITools with SASC / C in general"

With the SASC-Compiler you can use the header file guitools.h. If you have
a different C compiler you probably have to modify guitools.h a little bit.

The document GUITools_SASC.guide which is located in the SASC drawer
contains a complete description of all functions and structures.
Using the @{" installing script " LINK GCHAP-3-2-1} you can install the latest version
of the needed guitools.library into the libs: drawer. You have also the
possibility to copy the header file guitools.h (e.g. into the standard
INCLUDE:Libraries drawer) and the documentation GUITools_SASC.guide which
is very important programming GUITools !

WARNING: guitools.h is only a strict translation of the modula2 interface
         modules. Nearly all identifiers have the same name as under
         modula2.
         Due to this guitools.h does not follow the convention of naming
         structures and constants as it is done in the commodore include
         files !
         Furthermore, some declarations are very "longwinded", but they
         work ! (And that's most important, isn't it ?)
         You can call every function and use every structures without any
         problems.

@ENDNODE

@NODE GCHAP-3-2-4 "Other compilers / programming languages"

For different progamming languages or compilers you need the library file
guitools.library in the libs: drawer and appropriate interface modules ,
which are unfortunately not (yet) part of GUITools.
You can find in the libs drawer of this package a FD file for GUITools
which could be important for some compilers to create interface modules.
(Or perhaps you could use GUITools with BASIC ! - No, only a joke !)
You have to choose which document (M2Amiga or SASC) is better for your
compiler (e.g. for Oberon: M2Amiga and for GNU-C or DICE: SASC).
You can install and copy all these files with the @{" installing script " LINK GCHAP-3-2-1}.

@ENDNODE

@NODE GCHAP-4 "Bugs / Problems"

   @{" Known Bugs " LINK GCHAP-KnownBugs}

@ENDNODE

@NODE GCHAP-KnownBugs "Known Bugs"

Bugs under V38.0

- The RedrawGadgets function of version 38.0 is not able to resize a list-
  view gadget which uses a custom string kind gadget to display the selected
  entry ! Set RedrawGadgets function will usually return an error when
  trying to resize !
  This bug is fixed in version 38.1.
- When resizing a listview gadget with RedrawGadgets always the last entry
  in the list will be always displayed as selected !
  This bug is fixed in version 38.1.
- The contents of entry gadgets will disappear resp set to the default
  when they are resized with RedrawGadgets.
  This is also fixed in version 38.1.
- The WaitIntMsg function isn't able to handle several events which will
  appear at the same point of time ! Usually this doesn't happen with
  gadtools, but nevertheless this bug is fixed in version 38.1.

Bugs under V38.1

- There is still a problem with RedrawGadgets and listview gadgets. If the
  listview gadget has a custom string gadget to display the contents, and
  the user has first selected an entry, and then changed this in the
  string gadget and now resizes, the contents in the string gadget is set
  to the first choosen entry !

Unkown Bugs

I am using GUITools every day in a lot of different programs without
complaining.
Of course this does not mean, that there are no more bugs, but I hope
that I have found all of the REAL BIG BUGS.
If you stick to the guidelines and read the manual very closely, every-
thing should be alright.
But if you have nevertheless a problem or found a bug, please, do the
following steps:

 1.  Locate the bug as precise as possible.
 2.  Please leave the @{" author " LINK GCHAP-Author} a not with a precise bug description and
     perhaps if possible mention the cause or a solution !

If I get to know a bug, I will try to correct it as soon as possible !

@ENDNODE

@NODE GCHAP-5 "The Future of GUITools"

   @{" Plans / Ideas " LINK GCHAP-Plans}

   @{" What is missing in V38.1 " LINK GCHAP-Missing}

   @{" Author / Final Words " LINK GCHAP-Author}

@ENDNODE

@NODE GCHAP-Plans "Plans / Ideas"

Here are some plans and ideas for the future which would require too many
time and thinking to be included in the version 38.1:

  - GUITools should be capable to adjust itselfs to every font and resolu-
    tion, so you need not to worry about these things any more and your
    GUI won't stick to any specific font or resolution.
  - BOOPSI gadgets support. It would be possible to design the library
    in that way that you don't have to make any distinction between
    BOOPSI or GadTools gadgets.
  - locale.library support. Every text will be automatically displayed
    in the appropriate language.
  - amigaguide.library support. If you press help over a gadget or menu-
    item you will be displayed the belonging help text using the amiga-
    guide.
  - Using all ASL requester with ShowRequester.
  - A sourcecode-generator for GUIs which creates sourcecode directly
    used by GUITools from the output of the GadToolsBox.

I am not sure, which of these WILL be included in a new release, because
at the moment nobody knows what will be with the Amiga in the future.
Perhaps the new operating system is capable of all these features !?!
I am just writing the functions to access all the BOOPSI gadgets. But
still there are some problems of making classes public and of handling
them. I hope, that soon (perhaps july 94) I have fixed all these
problems and the new release with access to ALL gadget kinds in the
same way will be out. There will also be the long awaited function for
getting gadget attributes.

@ENDNODE

@NODE GCHAP-Missing "What is missing in V38.1 ?"

Ok, you are right, GUITools is still NOT (yet ?) perfect. The following
extensions are VERY useful and necessary, but still missing:

  - interface modules for @{" other languages " LINK GCHAP-3-2-4},
    e.g. Oberon, E, Pascal, Assembler...
  - a real english documentation everybody can understand
  - an autodocs-style like function-description

At the moment unfortunately I have not enough time to do such work. So
please, if somebody of YOU has created something of that kind, please
leave me note and if possible mail it to me ! (Thank you !)
If you have some nice little demos, you can it include together with
the sourcecode ! (See @{" Author " LINK GCHAP-Author} for the address.)

@ENDNODE

@NODE GCHAP-Author "Author / Final Words"

Before you are delivered from this boring documentation, I have to do
some apologies:
The whole documentation is not entitled to be complete, without any
mistakes or at least understandable, although I worked really very
hard on it.
If you don't know how to program an Amiga, you can throw the documenta-
tion away. In many cases I left some explanations you can find in the
RKRMs. If you are familar with them, you will probably have no problems.

To reach a "wider audience" I tried to translate the definitions and
the documentation into the english language. I hope you can understand
it and that there will be noone who died by laughing at these texts !

Suggestions, bug reports, improvements, extensions and of course
appreciation, too, can be send to the following address:

    Carsten Ziegeler
    Augustin-Wibbelt-Str. 7
    D-33106 Paderborn
    Germany


ATTENTION: There will be no warranty or responsibility for posted goods.
           If you want to have your work back, you must include enough
           return postage I can use here in germany (e.g. german money
           or german stamps, but not e.g. english stamps or french food).
           All posting will be at your own risk and of your own free will.

You can reach me also under the following EMail-Address:

         tarot@uni-paderborn.de

So please, if possible use electronic mail to avoid any problems !


    Enjoy it !

@ENDNODE
