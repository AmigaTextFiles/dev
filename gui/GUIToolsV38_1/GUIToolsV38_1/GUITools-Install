; Install-Script to install GUITools V38.1 for the commodore installer V1.24

(welcome "Welcome to the GUITools-Installing-Script for V38.1")

; copy guitools.library

(copylib
         (prompt "Installing guitools.library")
         (help @copylib-help)
         (source "libs/guitools.library")
         (dest "libs:")
         (confirm)
)

; copy fd-File

(set fd (askbool
                (prompt "Do you want to copy the fd-file "
                        "of GUITools V38.1 ?")
                (help   "Click yes to copy the fd-file !\n"
                        "The fd-file is only usefull for those "
                        "who need it to create interface modules "
                        "for their compiler which is currently not "
                        "supported by this GUITools-package !")
             )
)
(if (= fd 1)
  (copyfiles
         (prompt "Copying FD-File")
         (help @copyfiles-help)
         (source "libs/GUITools_Lib.fd")
         (infos)
         (dest "libs:")
         (confirm)
  )
)

; ------------------------------------------------------------------
;                                M2Amiga
; ------------------------------------------------------------------


(set m2amiga (askbool
                (prompt "Do you want to install the M2Amiga-Modula2-Compiler "
                        "version of GUITools V38.1 ?")
                (help   "Click yes to proceed with the installation of "
                        "GUITools V38.1 for the M2Amiga-Modula2-Compiler !")
             )
)

(if (= m2amiga 1)
    ( (set m2amigaOpt (askoptions
                           (prompt "Which parts of GUITools do you want to install ?")
                           (help   "Interface modules: The compiled interface modules\n"
                                   " - GUIToolsD.sym\n"
                                   " - GUIToolsL.sym\n"
                                   " - GUIToolsL.obj\n"
                                   " - GUIToolsMacros.obj\n"
                                   " - GUIToolsMacros.sym\n"
                                   "Definiton modules : The source of the "
                                   "interface modules\n"
                                   " - GUIToolsD.def\n"
                                   " - GUIToolsL.def\n"
                                   " - GUIToolsMacros.def\n"
                                   " - GUIToolsMacros.mod\n"
                                   "Documentation: The complete documentation of all "
                                   "functions and structures\n"
                                   " - GUITools_M2Amiga.guide\n"
                                   " - GUITools_M2Amiga.guide.info\n\n"
                                   "WARNING: NO version-check is done !\n\n"
                                   @askoptions-help
                           )
                           (choices "Interface modules"
                                    "Definition modules"
                                    "Documentation"
                           )
                      )
      )

; copy interface modules

      (if (IN m2amigaOpt 0)
          ( (set m2amigaIDir (askdir
                                (prompt "Where do you want to copy the interface modules to ?")
                                (help   "Usually these files are copied to M2:Modules !\n"
                                        "Use only the main directory. Do not specify "
                                        "the subdirectories as sym or obj !\n\n"
                                        @askdir-help)
                                (default "M2:Modules")
                                (newpath)
                             )
            )
            (set m2amigaISDir (tackon m2amigaIDir "sym") )
            (if (<> (exists m2amigaISDir) 2)
                (set m2amigaISDir m2amigaIDir)
            )
            (set m2amigaIODir (tackon m2amigaIDir "obj") )
            (if (<> (exists m2amigaIODir) 2)
                (set m2amigaIODir m2amigaIDir)
            )
            (copyfiles
                (prompt "Copying M2Amiga-Interface-Modules")
                (help   @copyfiles-help)
                (source "M2Amiga/sym")
                (dest   m2amigaISDir)
                (pattern "#?.sym")
            )
            (copyfiles
                (prompt "Copying M2Amiga-Interface-Modules")
                (help   @copyfiles-help)
                (source "M2Amiga/obj")
                (dest   m2amigaIODir)
                (pattern "#?.obj")
            )
          )
      )

; copy definition modules

      (if (IN m2amigaOpt 1)
          ( (set m2amigaIDir (askdir
                                (prompt "Where do you want to copy the defintion modules to ?")
                                (help   "Usually these files are copied to M2:Defs !\n"
                                        "Use only the main directory. Do not specify "
                                        "the subdirectory txt !\n\n"
                                        @askdir-help)
                                (default "M2:Defs")
                                (newpath)
                             )
            )
            (copyfiles
                (prompt "Copying M2Amiga-Definition-Modules")
                (help   @copyfiles-help)
                (source "M2Amiga/txt")
                (dest   m2amigaIDir)
                (pattern "GUITools?.def")
            )
            (copyfiles
                (prompt "Copying M2Amiga-Definition-Modules")
                (help   @copyfiles-help)
                (source "M2Amiga/txt")
                (dest   m2amigaIDir)
                (pattern "GUIToolsMacros.#?")
            )
          )
      )

; copy documentation

      (if (IN m2amigaOpt 2)
          ( (set m2amigaIDir (askdir
                                (prompt "Where do you want to copy the documentation to ?")
                                (help   "Usually this file is copied to HELP: !\n\n"
                                        @askdir-help)
                                (default "HELP:")
                                (newpath)
                             )
            )
            (copyfiles
                (prompt "Copying M2Amiga-Documentation")
                (help   @copyfiles-help)
                (source "M2Amiga/GUITools_M2Amiga.guide")
                (dest   m2amigaIDir)
                (infos)
            )
          )
      )
    )
)

; ------------------------------------------------------------------
;                               SASC
; ------------------------------------------------------------------

(set sasc (askbool
                (prompt "Do you want to install the SASC-Compiler version "
                        "of GUITools V38.1 ?")
                (help   "Click yes to proceed with the installation of "
                        "GUITools V38.1 for the SASC-Compiler !")
          )
)

(if (= sasc 1)
    ( (set sascOpt (askoptions
                           (prompt "Which parts of GUITools do you want to install ?")
                           (help   "Interface module: The header file\n"
                                   " - guitools.h\n"
                                   "Documentation: The complete documentation of all "
                                   "functions and structures\n"
                                   " - GUITools_SASC.guide\n"
                                   " - GUITools_SASC.guide.info\n\n"
                                   "WARNING: NO version-check is done !\n\n"
                                   @askoptions-help
                           )
                           (choices "Interface module"
                                    "Documentation"
                           )
                      )
      )

; copy interface module

      (if (IN sascOpt 0)
          ( (set sascIDir (askdir
                                (prompt "Where do you want to copy the interface modul to ?")
                                (help   "Usually this file is copied to SC:INCLUDE/libraries !\n\n"
                                        @askdir-help)
                                (default "SC:INCLUDE/Libraries")
                                (newpath)
                             )
            )
            (copyfiles
                (prompt "Copying SASC-Interface-Module")
                (help   @copyfiles-help)
                (source "SASC/guitools.h")
                (dest   sascIDir)
            )
          )
      )

; copy documentation

      (if (IN sascOpt 1)
          ( (set sascIDir (askdir
                                (prompt "Where do you want to copy the documentation to ?")
                                (help   "Usually this file is copied to HELP: !\n\n"
                                        @askdir-help)
                                (default "HELP:")
                                (newpath)
                             )
            )
            (copyfiles
                (prompt "Copying SASC-Documentation")
                (help   @copyfiles-help)
                (source "SASC/GUITools_SASC.guide")
                (dest   sascIDir)
                (infos)
            )
          )
      )
    )
)

; ----------------- END Compiler Installation ----------------------------

(exit (quiet) )
