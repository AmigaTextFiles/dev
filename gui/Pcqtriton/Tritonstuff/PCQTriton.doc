
    This is a tritoninterface for PCQ Pascal 1.2d.

    What's here?

    Two demos.
    Gadgetdemo.p and Main.p. Read those to see how to
    use triton with pcq.

    Two includes.
    Libraries/triton.i This is the main headerfile
    for triton.
    PCQUtils/triton.i This one I use when I test
    if the gui is working. If you have a slow Amiga
    (as I, A2000) then use this one for testing.

    Lib.
    Triton.lib The linklib for pcq.
    to use: Blink your.o lib PCQLib:pcq.lib PCQLib:triton.lib

    Rexx.
    MakePCQTags.rexx A utility to translate macros to taglists.

    Macros.
    triton.macros This are the macros that MakePCQTags use.

    To use this macros you must have a c preprocessor, I use
    dcpp from the free dice, you can also use cpp. Cpp is
    on Aminet.

    You also need TRI14DEV.LHA from Aminet in dev/gui.

    One remark about the compiled demos. They are assembled
    with an alpha version of PhxAss v4.32. So any PhxAss
    with a version >=4.32 will handle the output from pcq.

    I asked Frank Wille why PhxAss couldn't assemble pcq output
    he replyed with this alpha version.:)

    One final remark before I write a small tutorial.
    As I only have an A2000, wb2.1, I don't know about
    any enforser sushi or whatever. Use at your own risk.
    Any problems let me know.

    Oh! one thing more.

    TO USE THE TAGLIST FOR TRITON YOU HAVE TO CHANGE ONE LINE
    IN Include:Utils/TagUtils.i OR WRITE A NEW TAGUTILS.
    CHANGE THIS.

    CONST   MaxNumTags   =  40;
    TO
    CONST   MaxNumTags   =  400; or something like that.

    You will get information from MakePCQTags how many tags are used.
    So far I have had a taglist of 298 tags.

    SMALL TUTORIAL:

    I use tritonrexx for prototyping my guis so I will show you how
    to change a tritonrexx to pcq.

    Bellow is a rexxprogram from the tritonrexx archive.
    One point to make is that when you test with tritonrexx
    always use """ for strings and not "'".

/* CheckBox.rexx */


windowtags =   WindowID(1),
               WindowTitle('CheckBox'),   <- change to "
                  'VertGroupA',
                     'Space',
                     'HorizGroupAC',
                        'Space',
                        TextID('_CheckBox',10),  <- change to "
                        'Space',
                        CheckBox(10),
                        'Space',
                     'EndGroup',
                     'Space',
                  'EndGroup',
               'EndProject'


 ---------------------------------------------------------------------

 Now in order to use this macros for pcq do like this,
 remove  <windowtags = > and write a new line first of all.
 ProjectDefinition(yourtaglist)

 Like this:
               ProjectDefinition(yourtaglist)
               WindowID(1),
               WindowTitle("CheckBox"),  <-quote
                  'VertGroupA',
                     'Space',
                     'HorizGroupAC',
                        'Space',
                        TextID("_CheckBox",10), <-quote
                        'Space',
                        CheckBox(10),
                        'Space',
                     'EndGroup',
                     'Space',
                  'EndGroup',
               'EndProject'

 ------------------------------------------------------------------------

 Next step is to remove all "'" from the macros.
 Now you know why we shall use """ for the strings.:-)
 Just do a search/replace with your editor. Search for '
 and replace with nothing.

 This is how it looks:

---BLOCK START-----

#include "pcq:macros/triton.macros"    <- you need this for the preprocessor

               ProjectDefinition(yourtaglist)
               WindowID(1),
               WindowTitle("CheckBox"),
                  VertGroupA,
                     Space,
                     HorizGroupAC,
                        Space,
                        TextID("_CheckBox",10),
                        Space,
                        CheckBox(10),
                        Space,
                     EndGroup,
                     Space,
                  EndGroup,
               EndProject

---BLOCK END--------

Now we are ready to make a taglist.
Mark the macros as a block and save that block.
Let's say as checkbox.macros.

rx MakePCQTags checkbox.macros

--------------------------------------------------------------------------

This is what MakePCQTags produce.

(*
**
** Note: TagList created by MakePCQTags.rexx 
**
**       @ MapMead SoftWare, Nils Sjoholm
**       nils.sjoholm@mailbox.swipnet.se
**
** Date: 02 May 1996
**
**       There were 32 commas in the file
**       So you need a taglist with a value of at least 16 tags
**
*)

     yourtaglist := CreateTagList(
          TRWI_ID,(1),
          TRWI_Title,("CheckBox"),
          TRGR_Vert,TRGR_ALIGN,
          TROB_Space,TRST_NORMAL,
          TRGR_Horiz,TRGR_ALIGN + TRGR_CENTER,
          TROB_Space,TRST_NORMAL,
          TROB_Text,0,
          TRAT_Text,"_CheckBox",
          TRAT_ID,10,
          TROB_Space,TRST_NORMAL,
          TROB_CheckBox,0,
          TRAT_ID,10,
          TROB_Space,TRST_NORMAL,
          TRGR_End,0,
          TROB_Space,TRST_NORMAL,
          TRGR_End,0,
          TAG_END);

nice eh? Just insert this code in the proper place.
Check the demosource, I have both the macros and the taglist
in the source.

That's all folks, read the demosource and rexxscript to find out more.

Have fun!!

Nils Sjoholm

nils.sjoholm@mailbox.swipnet.se


