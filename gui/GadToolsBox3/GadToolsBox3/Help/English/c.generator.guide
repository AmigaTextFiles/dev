@database c.generator.guide
@rem $VER: c.generator.guide_English 3.0 (27.5.98)
@rem Language: english
@wordwrap

@node MAIN "C.generator Help"

                     @{b}c.generator v1.0@{ub}

                       User's Manual

    (c) Copyright 1996-98 by Tomasz Muszynski (Thom/Union)

                       - FreeWare -

Introduction...

    @{" Requirements   " link REQUIREMENTS}
    @{" Usage          " link USAGE}

Using c.generator...

    @{" Preferences     " link PREFERENCES} 
    @{" Source code     " link SOURCECODE} 

Other topics...

    @{" Copyrights     " link COPYRIGHTS}
    @{" Disclaimer     " link DISCLAIMER}
    @{" History        " link HISTORY}
    @{" Author         " link AUTHOR}

=======================================================

                       ¶ ¶ ¶\\¶ ¶ /\\ ¶\\¶
                       |_| | | | \\/ | |

@endnode




@rem /************************************************************************/



@rem /*
@rem ** Usage 
@rem */
@node USAGE "Usage"

@{b}Usage@{ub}
@{b}=====@{ub}

To generate source code you must have selected in GadToolsBox preferences window c.generator and then Project/Save Source As...

C.generator can also be run from CLI, GadToolsBox must be running and have loaded resource file:

  FILE=<filename> - base file name to generate source
  SEMAPHORE=<semaphore> - public GadToolsBox semaphore name
  SETPREFS - only open preferences window
@endnode

@rem /*
@rem ** Requirements
@rem */
@node REQUIREMENTS "Requirements"

@{b}Requirements@{ub}
@{b}============@{ub}

C.Generator requires to run:

@{i}OS:@{ui}
  AmigaOS 3.0+

@{i}Processor:@{ui}
  MC680x0

@{i}Software:@{ui}
  GadToolsBox must be running!
@endnode

@rem /*
@rem ** Preferences
@rem */
@node PREFERENCES "Preferences"

@{b}Preferences@{ub}
@{b}===========@{ub}

@{i}Gadgets:@{ui}

@{i}Template@{ui}
Tells generator to create <basename>_temp.c file with templates of called functions.

@{i}Screen@{ui}
Source code will have SetupScreen() function and all other screen releated functions.

@{i}GUI Functions@{ui}
Source code will have all gui creation routines like CreateGadgetEx().

@{i}Localize@{ui}
Source code will be localized. <basename>.cd file will be created.
@endnode

@rem /*
@rem ** Source code
@rem */
@node SOURCECODE "Source code"

@{b}Source code@{ub}
@{b}===========@{ub}

@{"Variables" link VARIABLES}
@{"Functions" link FUNCTIONS}

@endnode

@rem /*
@rem ** Functions
@rem */
@node FUNCTIONS "Functions"

@{b}Functions@{ub}
@{b}=========@{ub}

<basename>.c/@{"AdaptX" link ADAPTX}
<basename>.c/@{"AdaptY" link ADAPTY}
<basename>.c/@{"CalcAdaptivity" link CALCADAPTIVITY}
<basename>.c/@{"CalcLeftTop" link CALCLEFTTOP}
<basename>.c/@{"CalcRightBottom" link CALCRIGHTBOTTOM}
<basename>.c/@{"CloseDownScreen" link CLOSEDOWNSCREEN}
<basename>.c/@{"CloseWindow_#?" link CLOSEWINDOW}
<basename>.c/@{"CloseWindowEx" link CLOSEWINDOWEX}
<basename>.c/@{"CreateGadgetExA" link CREATEGADGETEXA}
<basename>.c/@{"DeleteGadgetExA" link DELETEGADGETEXA}
<basename>.c/@{"FixGadgetTags" link FIXGADGETTAGS}
<basename>.c/@{"FixMenus" link FIXMENUS}
<basename>.c/@{"FixWindowTags" link FIXWINDOWTAGS}
<basename>.c/@{"FreeApplication" link FREEAPPLICATION}
<basename>.c/@{"GetCatString" link GETCATSTRING}
<basename>.c/@{"HandleIDCMP_#?" link HANDLEIDCMP}
<basename>.c/@{"InitApplication" link INITAPPLICATION}
<basename>.c/@{"OpenWindow_#?" link OPENWINDOW}
<basename>.c/@{"OpenWindowTagsEx" link OPENWINDOWTAGSEX}
<basename>.c/@{"Render_#?" link RENDER}
<basename>.c/@{"SetupScreen" link SETUPSCREEN}
@endnode

@rem /*
@rem ** Variables
@rem */
@node VARIABLES "Variables"

@{b}Variables@{ub}
@{b}=========@{ub}

<basename>.c/@{"#?Gadgets" link GADGETS}
<basename>.c/@{"#?GTags" link GTAGS}
<basename>.c/@{"#?Menus" link MENUS}
<basename>.c/@{"#?Msg" link MSG}
<basename>.c/@{"#?NewMenu" link NEWMENU}
<basename>.c/@{"#?WApp" link WAPP}
<basename>.c/@{"#?Wnd" link WND}
<basename>.c/@{"#?WTags" link WTAGS}
<basename>.c/@{"DrawInfo" link DRAWINFO}
<basename>.c/@{"Scr" link SCR}
<basename>.c/@{"ScrDepth" link SCRDEPTH}
<basename>.c/@{"ScrDisplayID" link SCRDISPLAYID}
<basename>.c/@{"ScrHeight" link SCRHEIGHT}
<basename>.c/@{"ScrPubName" link SCRPUBNAME}
<basename>.c/@{"ScrTitle" link SCRTITLE}
<basename>.c/@{"ScrWidth" link SCRWIDTH}
@endnode



@rem /************************************************************************/




@rem /*
@rem ** Copyrights
@rem */
@node COPYRIGHTS "Copyrights"

@{b}Copyrights@{ub}
@{b}==========@{ub}

@{i}C.generator@{ui}

C.generator is Copyright (C) 1996-98 by Tomasz Muszynski.
This program is @{b}FREEWARE@{ub}. Generator can be freely distributed but only in original archive.
@endnode

@rem /*
@rem ** Disclaimer
@rem */
@node DISCLAIMER "Disclaimer"

@{b}Disclaimer@{ub}
@{b}==========@{ub}

C.GENERATOR IS A FREEWARE PRODUCT.  USE IT AT YOUR OWN RISK.  THERE IS NO WARRANTY FOR RELIABLE FUNCTIONING OF THIS PROGRAM.
@endnode

@rem /*
@rem ** History
@rem */
@node HISTORY "History"

@{b}History@{ub}
@{b}=======@{ub}

27.5.98  - v1.0
  - initial release.
@endnode

@rem /*
@rem ** Author
@rem */
@node AUTHOR "How to contact"

@{b}Author@{ub}
@{b}======@{ub}

This program was developed and tested on my Amiga 4000/040/28MHz/16MB and SAS/C v6.58.

If you have new ideas, bug reports, catalog translations or something other - write to me:

smail:
  Tomasz Muszynski
  ul. Orzycka 4 m138
  02-695 Warszawa
  POLAND

mailto:thom@union.org.pl
http://thom.union.org.pl
@endnode






@rem /************************************************************************/





@node AdaptX "AdaptX"


   NAME
        AdaptX -- Calculate new horizontal dimension.

   SYNOPSIS
        x = AdaptX(value);

        UWORD AdaptX(UWORD);

   FUNCTION
        Converts horizontal value in internal dimensions to new dimensions
        based on current font size.
        Before this function you must call @{"CalcAdativity()" link CALCADAPTIVITY}.

   INPUTS
        value - value to convert

   RESULT
        x - new horizontal value

   BUGS
        This function has problems with proportional fonts.

   SEE ALSO
        @{"AdaptY()" link ADAPTY}, @{"CalcAdaptivity()" link CALCADAPTIVITY}

@endnode AdaptY
@node AdaptY "AdaptY"


   NAME
        AdaptY -- Calculate new vertical dimension.

   SYNOPSIS
        x = AdaptY(value);

        UWORD AdaptY(UWORD);

   FUNCTION
        Converts vertical value in internal dimensions to new dimensions
        based on current font size.
        Before this function you must call @{"CalcAdativity()" link CALCADAPTIVITY}.

   INPUTS
        value - value to convert

   RESULT
        x - new vertical value

   BUGS
        This function has problems with proportional fonts.

   SEE ALSO
        @{"AdaptX()" link ADAPTY}, @{"CalcAdaptivity()" link CALCADAPTIVITY}

@endnode AdaptY
@node CalcAdaptivity "CalcAdaptivity"


   NAME
        CalcAdaptivity -- Calculate new dimensions and select proper font.

   SYNOPSIS
        CalcAdaptivity(width,height);

        void CalcAdaptivity(UWORD,UWORD);

   FUNCTION
        This function checks passed width and height to fit on screen. If
        new dimensions will be to big, topaz.font/8 will be used instead of
        screen font.

   INPUTS
        width - max width (usually width of window)
        height - max height (usually height of window)

   RESULT
        Global variable Font will be set to new font.

   SEE ALSO
        @{"AdaptX()" link ADAPTX}, @{"AdaptY()" link ADAPTY}

@endnode CalcAdaptivity
@node CalcLeftTop "CalcLeftTop"


   NAME
        CalcLeftTop -- Calculate left and top window border.

   SYNOPSIS
        CalcLeftTop(offx, offy, tags);

        void ClacLeftTop(UWORD *,UWORD *,struct TagItem *);

   FUNCTION
        Calculates left and top border of closed window basing on tags. 

   INPUTS
        offx - pointer to store new value in
        offy - pointer to store new value in
        tags - window tags

   RESULT
        offx - left border of window
        offy - top border of window

   SEE ALSO
        @{"CalcRightBottom()" link CALCRIGHTBOTTOM}

@endnode CalcLeftTop
@node CalcRightBottom "CalcRightBottom"


   NAME
        CalcRightBottom -- Calculate right and bottom window border.

   SYNOPSIS
        CalcRightBottom(offx, offy, tags);

        void CalcRightBottom(UWORD *,UWORD *,struct TagItem *);

   FUNCTION
        Calculates right and bottom border of closed window basing on tags. 

   INPUTS
        offx - pointer to store new value in
        offy - pointer to store new value in
        tags - window tags

   RESULT
        offx - right border of window
        offy - bottom border of window

   SEE ALSO
        @{"CalcLeftTop()" link CALCLEFTTOP}

@endnode CalcRightBottom
@node CloseDownScreen "CloseDownScreen"


   NAME
        CloseDownScreen -- close opened screen.

   SYNOPSIS
        CloseDownScreen();

        void CloseDownScreen(void);

   FUNCTION
        Closes screen opened by @{"SetupScreen()" SETUPSCREEN}.

   SEE ALSO
        @{"SetupScreen()" link SetupScreen}

@endnode CloseDownScreen
@node CloseWindow "CloseWindow_#?"


   NAME
        CloseWindow_#? -- close opened window.

   SYNOPSIS
        CloseWindow_#?();

        void CloseWindow_#?(void);

   FUNCTION
        Close window opened by @{"OpenWindow_#?()" link OPENWINDOW}.

   SEE ALSO
        @{"OpenWindow_#?()" link OPENWINDOW}

@endnode CloseWindow
@node CloseWindowEx "CloseWindowEx"


   NAME
        CloseWindowEx -- close opened window.

   SYNOPSIS
        CloseWindowEx(window);

        void CloseWindowEx(struct Window *);

   FUNCTION
        Closes window opened by @{"OpenWindowTagsEx()" link OPENWINDOWTAGSEX}.

   INPUTS
	window - pointer to opened window

   SEE ALSO
	@{"OpenWindowTagsEx()" link OPENWINDOWTAGSEX}

@endnode CloseWindowEx
@node CreateGadgetExA "CreateGadgetExA"


   NAME
        CreateGadgetExA -- Create gadtools or BOOPSI gadget.

   SYNOPSIS
        gad = CreateGadgetExA(offx,offy,offr,offb,prev,tags);

        struct Gadget *CreateGadgetExA(UWORD,UWORD,UWORD,UWORD,
                               struct Gadget *, struct TagItem *);

   FUNCTION
        Create gadget, calculate it's position using offx, offy,
        offr and offb.

   INPUTS
        offx - left border returned by @{"CalcLeftTop()" link CalcLeftTop}
        offy - top border returned by @{"CalcLeftTop()" link CalcLeftTop}
        offr - right border returned by @{"CalcRightBottom()" link CalcRightBottom}
        offb - bottom border returned by @{"CalcRightBottom()" link CalcRightBottom}
        prev - pointer to previous gadget
        tags - pointer to tagitems. First tag is KIND of gadget and first
               data is gadtools placement.

   RESULT
        gad - pointer to created gadget

   SEE ALSO
        @{"DeleteGadgetEx()" link DeleteGadgetEx}

@endnode DeleteGadgetEx
@node DeleteGadgetEx "DeleteGadgetEx"


   NAME
        DeleteGadgetEx -- delete gadget

   SYNOPSIS
        DeleteGadgetEx(gad);

        void DeleteGadgetEx(struct Gadget *);

   FUNCTION
        Delete gadget created by @{"CreateGadgetExA()" link CreateGadgetExA}.

   INPUTS
        gad - pointer to gadget

   SEE ALSO
        @{"CreateGadgetExA()" link CreateGadgetExA}

@endnode DeleteGadgetEx
@node FixGadgetTags "FixGadgetTags"


   NAME
        FixGadgetTags -- fixes all gadgets to use locale.

   SYNOPSIS
        FixGadgetTags(tags);

        void FixGadgetTags(struct TagItem *);

   FUNCTION
        Finds all strings in tagitems and localizes them.

   INPUTS
        tags - pointer to tags to fix

   SEE ALSO

@endnode FixGadgetTags
@node FixMenus "FixMenus"


   NAME
        FixMenus -- fixes menu to use locale.

   SYNOPSIS
        FixMenus(menu);

        void FixMenus(struct NewMenu *);

   FUNCTION
        Finds all strings in menu and localizes them.

   INPUTS
        menu - pointer to menu to fix

   SEE ALSO

@endnode FixMenus
@node FixWindowTags "FixWindowTags"


   NAME
        FixWindowTags -- fixes window to use locale.

   SYNOPSIS
        FixWindowTags(tags);

        void FixWindowTags(struct TagItem *);

   FUNCTION
        Finds all strings in tagitems and localizes them.

   INPUTS
        tags - pointer to tags to fix

   SEE ALSO

@endnode FixWindowTags
@node FreeApplication "FreeApplication"


   NAME
        FreeApplication -- frees all opened libraries.

   SYNOPSIS
        FreeApplication();

        void FreeApplication(void);

   FUNCTION
        Closes all libraries opened by @{"InitApplication()" link InitApplication}.

   SEE ALSO
        @{"InitApplication()" link InitApplication}

@endnode FreeApplication
@node GetCatString "GetCatString"


   NAME
        GetCatString -- gets localized string from catalog.

   SYNOPSIS
        str = GetCatString(id);

        STRPTR GetCatString(APTR);

   FUNCTION
        Gets localized string from catalog table. This function also works
        if source code is not localized.

   INPUTS
        id - id of string to get

   RESULT
        str - pointer to localized string

   SEE ALSO

@endnode GetCatString
@node HandleIDCMP "HandleIDCMP_#?"


   NAME
        HandleIDCMP_#? -- handles idcmp messages of given window.

   SYNOPSIS
        retval = HandleIDCMP_#?();

        int HandleIDCMP_#?(void);

   FUNCTION
        Handles all IDCMP messages of given window. When IDCMP is handled it
        calls a callback function and returns value returned by callback. When
        0 was returned program wants to quit and close all windows at the end of
        program. When 1 was returned program countinues normally. When higher
        values are returned it means that IDCMP window was closed and
        HandleIDCMP_#?() shouldn't get next messages from list.

   RESULT
        retval - value returned by callback function

   SEE ALSO

@endnode HandleIDCMP
@node InitApplication "InitApplication"


   NAME
        InitApplication -- initializes new application.

   SYNOPSIS
      locale version

        error = InitApplication(language);

        UWORD InitApplication(STRPTR);

      non-locale version

        error = InitApplication();

        UWORD InitApplication(void);

   FUNCTION
        Opens all libraries required by GUI.

   INPUTS
        language - language to use

   RESULT
        error - error. See <basename>.h/GTBERR_#? defines to see what
                goes wrong.

   SEE ALSO
        @{"FreeApplication()" link FreeApplication}

@endnode InitApplication
@node OpenWindow "OpenWindow_#?"


   NAME
        OpenWindow_#? -- open defined window.

   SYNOPSIS
        error = OpenWindow_#?();

        UWORD OpenWindow_#?(void);

   FUNCTION
        Creates all gadgets, menus and opens window.

   RESULT
        error - error. See <basename>.h/GTBERR_#? defines to see what
                goes wrong.

   SEE ALSO
        @{"CloseWindow_#?()" link CloseWindow}

@endnode OpenWindow
@node OpenWindowTagsEx "OpenWindowTagsEx"


   NAME
        OpenWindowTagsEx -- open window.

   SYNOPSIS
        window = OpenWindowTagsEx(tags, ...);

        UWORD OpenWindowTagsEx(ULONG, ...);

   FUNCTION
        Open window with given tags. This window has expanded features
        to old intuition.library/OpenWindowTags(). You can create appwindow,
        make new dragbars, open it at special dimensions (eg. centered), etc.

   INPUTS
        tags - a list of tags

   RESULT
        window - pointer to opened window

   SEE ALSO
        @{"CloseWindowEx()" link CloseWindowEx}

@endnode OpenWindowTagsEx
@node Render "Render_#?"


   NAME
        Render_#? -- make all window renderings

   SYNOPSIS
        Render_#?();

        void Render_#?(void);

   FUNCTION
        Do all renderings on window.

   SEE ALSO

@endnode Render
@node SetupScreen "SetupScreen"


   NAME
        SetupScreen -- open and setup screen

   SYNOPSIS
        error = SetupScreen(num);

        UWORD SetupScreen(UBYTE);

   FUNCTION
        Opens screen and initializes GUI (eg. creates image objects, menus, etc).

   INPUTS
        num - number of screen to open. This number will be used for all ports
              that this program uses (eg. Arexx port, public screen name). Also
              screen title can contain that number.

   RESULT
        error - error. See <basename>.h/GTBERR_#? defines to see what
                goes wrong.

   SEE ALSO
        @{"CloseDownScreen()" link CloseDownScreen}

@endnode SetupScreen





@rem /************************************************************************/





@node Gadgets "#?Gadgets"


   NAME
        #?Gadgets -- table of created gadgets

   SYNOPSIS
        struct Gadget *#?Gadgets[];

   DESCRIPTION
        This is table of initialized gadgets. It's only valid beetween
        @{"OpenWindow_#?()" link OpenWindow} and @{"CloseWindow_#?()" link CloseWindow}.
        Use GD_#? defines to access to this table.

   SEE ALSO

@endnode Gadgets

@node GTags "#?GTags"


   NAME
        #?GTags -- tags of gadgets

   SYNOPSIS
        ULONG #?GTags[];

   DESCRIPTION
        This is table of tags for gadgets.

   SEE ALSO

@endnode GTags

@node Menus "#?Menus"


   NAME
        #?Menus -- created menu

   SYNOPSIS
        struct Menu *#?Menus;

   DESCRIPTION
        This is initialized menu. It's only valid beetween
        @{"OpenWindow_#?()" link OpenWindow} and @{"CloseWindow_#?()" link CloseWindow}.

   SEE ALSO

@endnode Menus

@node Msg "#?Msg"


   NAME
        #?Msg -- messages structure

   SYNOPSIS
        struct IntuiMessage #?Msg;

   DESCRIPTION
        This is IntuiMessage structure returned by exec.library/GetMsg().
        This is copy of original message, so verify messages will not work.
        It's only valid after @{"HandleIDCMP_#?()" link HandleIDCMP}.

   SEE ALSO

@endnode Msg

@node NewMenu "#?NewMenu"


   NAME
        #?NewMenu -- table of menu defines

   SYNOPSIS
        struct NewMenu #?NewMenu[];

   DESCRIPTION
        Table of menu defines to create menu.

   SEE ALSO

@endnode NewMenu

@node WApp "#?WApp"


   NAME
        #?WApp -- appwindow data

   SYNOPSIS
        APTR #?WApp;

   DESCRIPTION
        Data returned by workbench.library/AddAppWindow().

   SEE ALSO

@endnode WApp

@node Wnd "#?Wnd"


   NAME
        #?Wnd -- pointer to opened window

   SYNOPSIS
        struct Window *#?Wnd;

   DESCRIPTION
        This is window structure. It's only valid beetween
        @{"OpenWindow_#?()" link OpenWindow} and @{"CloseWindow_#?()" link CloseWindow}.

   SEE ALSO

@endnode Wnd

@node WTags "#?WTags"


   NAME
        #?WTags -- tags of window

   SYNOPSIS
        ULONG #?WTags[];

   DESCRIPTION
        This is table of tags for window.

   SEE ALSO

@endnode WTags

@node DrawInfo "DrawInfo"


   NAME
        DrawInfo -- draw information

   SYNOPSIS
        struct DrawInfo *DrawInfo;

   DESCRIPTION
        This is drawinfo structure. It's only valid beetween
        @{"SetupScreen()" link SetupScreen} and @{"CloseDownScreen()" link CloseDownScreen}.

   SEE ALSO

@endnode DrawInfo

@node Scr "Scr"


   NAME
        Scr -- screen structure

   SYNOPSIS
        struct Screen *Scr;

   DESCRIPTION
        This is screen structure. It's only valid beetween
        @{"SetupScreen()" link SetupScreen} and @{"CloseDownScreen()" link CloseDownScreen}.

   SEE ALSO

@endnode Scr

@node ScrDepth "ScrDepth"


   NAME
        ScrDepth -- screen depth to open

   SYNOPSIS
        UBYTE ScrDepth;

   DESCRIPTION
        Depth of screen to open.

   SEE ALSO

@endnode ScrDepth

@node ScrDisplayID "ScrDisplayID"


   NAME
        ScrDisplayID -- screen displayid to open

   SYNOPSIS
        UBYTE ScrDisplayID;

   DESCRIPTION
        DisplayID of screen to open.

   SEE ALSO

@endnode ScrDisplayID

@node ScrHeight "ScrHeight"


   NAME
        ScrHeight -- screen height to open

   SYNOPSIS
        UWORD ScrHeight;

   DESCRIPTION
        Height of screen to open.

   SEE ALSO

@endnode ScrHeight

@node ScrPubName "ScrPubName"


   NAME
        ScrPubName -- screen public name to open

   SYNOPSIS
        UBYTE ScrPubName[30];

   DESCRIPTION
        Name of public screen to create. If %d exists in that string it will be
        filled with screen number (name of public screen should look eg: EXAMLE.1).
        All public ports should be also created with that string.

   SEE ALSO

@endnode ScrPubName

@node ScrTitle "ScrTitle"


   NAME
        ScrTitle -- screen title to open

   SYNOPSIS
        UBYTE ScrTitle[256];

   DESCRIPTION
        Name of public screen to create. If %d exists in that string it will be
        filled with screen number (name of public screen should look eg: EXAMLE.1).
        All public ports should be also created with that string.

   SEE ALSO

@endnode ScrTitle

@node ScrWidth "ScrWidth"


   NAME
        ScrWidth -- screen width to open

   SYNOPSIS
        UWORD ScrWidth;

   DESCRIPTION
        Width of screen to open.

   SEE ALSO

@endnode ScrWidth
