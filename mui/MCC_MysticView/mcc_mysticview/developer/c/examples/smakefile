# © 1999 Steve Quartly
#
# use smake <option> for the following build options:
#   clean - to delete built files
#   all - to rebuild everything (except release)
#
#   the default is to build only the library
#
NAME = MysticView-Demo

CFLG = NOSTACKCHECK STRINGMERGE CPU=68000 #DEBUG=F 
LFLG = SMALLCODE SMALLDATA BATCH NOICONS STRIPDEBUG
LIBS = lib:sc.lib lib:amiga.lib
OBJ1 = main.o
LOBJ = lib:c.o

# Build the library (default)
$(NAME): $(OBJ1) smakefile
	slink <WITH <
	FROM $(LOBJ)
	FROM $(OBJ1)
	LIB $(LIBS)
	TO $(NAME)
	$(LFLG)
	<

# Build everything
all:
	smake clean
	smake

# Delete built files, ignoring any errors
clean:
	-Delete >NIL: \#?.o $(NAME)

# Smake default transform
.c.o:
	sc $(CFLG) $*

# Module dependencies
main.o: main.c
