|##########|
|#MAGIC   #|FDLAGNDM
|#PROJECT #|"Mui"
|#PATHS   #|"StdProject"
|#FLAGS   #|xx---x-xxx--x-x-----------------
|#USERSW  #|--------------------------------
|#USERMASK#|--------------------------------
|#SWITCHES#|xx---xxxxx-xx---
|##########|
DEFINITION MODULE MuiClassface;

(*------------------------------------------

  :Module.      MuiClassface.mod
  :Author.      Henning Thielemann
  :Address.     Veilchenweg 34, 06118 Halle, Germany
  :EMail.       henning.thielemann@student.uni-halle.de
  :Version.     $VER: MuiClassface.mod 8.0 (01.06.95)
  :Copyright.   Henning Thielemann
  :Language.    Cluster
  :Translator.  Amiga Cluster V2.0
  :Contents.    All things you need to implemented custom classes & hooks
  :Bugs.
  :Usage.
  :History.     2.1   [ht]  01-Jun-1995 : Translated to Cluster
  :History.     0.0   [awn] 13-Jun-1993 : Created in Oberon by Albert Weinert

--------------------------------------------*)


$$StackChk  := FALSE
$$NilChk    := FALSE
$$ReturnChk := FALSE

FROM Exec         IMPORT LibraryPtr;
FROM Intuition    IMPORT IClassPtr, Msg;
FROM MuiO         IMPORT MuiTags, MuiTagAPtr, Object, AreaObject,
			 CustomClassPtr, DeleteCustomClass;
FROM System       IMPORT Regs, SysStringPtr;
FROM Utility AS u IMPORT Hook, HookPtr;

PROCEDURE InstData (cl IN A0 : IClassPtr; o IN A1 : Object) : ANYPTR;
PROCEDURE SizeOfInstance (cl IN A0 : IClassPtr) : LONGINT;
PROCEDURE OClass (o IN A0 : Object) : IClassPtr;

PROCEDURE CoerceMethodA ( cl IN A0      : IClassPtr;
			 obj IN A2      : Object;
			 msg IN A1      : Msg);

PROCEDURE CoerceMethod  ( cl IN A0      : IClassPtr;
			 obj IN A2      : Object;
			 msg            : LIST OF LONGINT);  | wenn msg in A1, findet Compiler Bezeichner in Implementation nicht wieder

PROCEDURE DoMethodA     (obj IN A2      : Object;
			 msg IN A1      : Msg): ANYPTR;

PROCEDURE DoMethod      (obj IN A2      : Object;
			 msg            : LIST OF LONGINT): ANYPTR;

PROCEDURE DoSuperMethodA( cl IN A0      : IClassPtr;
			 obj IN A2      : Object;
			 msg IN A1      : Msg): ANYPTR;

PROCEDURE DoSuperMethod ( cl IN A0      : IClassPtr;
			 obj IN A2      : Object;
			 msg            : LIST OF LONGINT): ANYPTR;

PROCEDURE SetSuperAttrsA( cl IN A0      : IClassPtr;
			 obj IN A2      : Object;
			tags            : MuiTagAPtr): ANYPTR;

PROCEDURE SetSuperAttrs ( cl IN A0      : IClassPtr;
			 obj IN A2      : Object;
			tags            : LIST OF MuiTags): ANYPTR;


PROCEDURE IsInObject (obj : AreaObject; x, y : INTEGER) : BOOLEAN;

TYPE
  MuiHookCall    = PROCEDURE (hook    : HookPtr;
			      object  : Object;
			      message : ANYPTR) : ANYPTR;

  MuiClassDispatcher = PROCEDURE (cl      : IClassPtr;
				  object  : Object;
				  message : Msg) : ANYPTR;

PROCEDURE InitMuiHook    (VAR hook : Hook; call : MuiHookCall);
PROCEDURE InitMuiHookPtr (VAR hook : Hook; call : MuiHookCall) : HookPtr;

PROCEDURE CreateCustomClass (dispfunc  : MuiClassDispatcher;
			     datasize  : LONGINT;
			     supername : SysStringPtr;
			     supermcc  : CustomClassPtr := NIL;
			     base      : LibraryPtr     := NIL) : CustomClassPtr;

GROUP
  CustomClassGrp = CustomClassPtr,    MuiClassDispatcher,
		   CreateCustomClass, DeleteCustomClass;


END MuiClassface.
