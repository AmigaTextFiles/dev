|##########|
|#MAGIC   #|GMGFGEIP
|#PROJECT #|"MCCWheelLib"
|#PATHS   #|"StdProject"
|#LINK    #|""
|#GUIDE   #|""
|#STACK   #|"4096"
|#FLAGS   #|xx---x-xxxx--xx-----------------
|#USERSW  #|--------------------------------
|#USERMASK#|--------------------------------
|#SWITCHES#|x----xxxxx-xx---
|##########|
DEFINITION MODULE MCCWheel;

(*------------------------------------------

  :Module.      MCCWheel.mod
  :Author.      Henning Thielemann
  :Address.     Veilchenweg 34, 06118 Halle, Germany
  :EMail.       henning.thielemann@student.uni-halle.de
  :Version.     $VER: MCCWheel.mod 1.0 (29.12.1999)
  :Copyright.   Henning Thielemann
  :Language.    Cluster
  :Translator.  Amiga Cluster V2.0
  :Contents.    Wheel like the Modulation Wheel on synthesizers
  :Usage.       See MCCWheelDemo.mod
  :History.     0.1    [ht]  29-Dec-1999 : initial definition

--------------------------------------------*)

FROM MuiO      IMPORT MuiTags, CustomClassPtr, AreaObject, GroupObject, PenSpecPtr, CBOOLEAN;
FROM Intuition IMPORT IntuitionBase, MethodID, MsgRoot;
FROM System    IMPORT Regs;


CONST
  cWheel = "Wheel.mcc";

TYPE
  PoolHeaderPtr     = DEFERRED POINTER Exec39     .PoolHeaderPtr;

  WheelTags = TAGS OF MuiTags;   | NumericTags
    wheelBackgroundPenSpec = $F9F80206 : PenSpecPtr;        |  V1 isg    background pen for the wheel
    wheelBounceBack        = $F9F80205 : CBOOLEAN;          |  V1 isg    bounce back if the user release the wheel
    wheelBuffered          = $F9F8020D : CBOOLEAN;          |  V1 isg    buffered display (less flickering)
    wheelEventPri          = $F9F8020C : LONGINT;           |  V1 i.g    priority of the wheel's event handler (important for key redefinement)
    wheelHalfTurns         = $F9F8020A : LONGCARD;          |  V1 i.g    number of half turns to get from numericMin to numericMax
    wheelHollow            = $F9F80204 : CBOOLEAN;          |  V1 i.g    show a hollow at zero position
    wheelHoriz             = $F9F80200 : CBOOLEAN;          |  V1 i.g    horizontal or vertical direction
    wheelInfinit           = $F9F8020B : CBOOLEAN;          |  V1 i.g    jump to numericMin when reaching numericMax and vice versa
    wheelNotches           = $F9F80201 : LONGCARD;          |  V1 isg    number of visible notches
    wheelNotchPenSpec      = $F9F80209 : PenSpecPtr;        |  V1 isg    pen for the notch tops
    wheelNotchWidth        = $F9F80202 : LONGCARD;          |  V1 isg    width of a notch as fraction of the space left by the slants, $10000 = 1.0
    wheelShadowPenSpec     = $F9F80208 : PenSpecPtr;        |  V1 isg    shadow pen for the notches
    wheelShinePenSpec      = $F9F80207 : PenSpecPtr;        |  V1 isg    shine pen for the notches
    wheelSlantWidth        = $F9F80203 : LONGCARD;          |  V1 isg    width of both notch slants as fraction of one notch pattern, $10000 = 1.0
  END;

  WheelTagAPtr = POINTER TO WheelTagA;
  WheelTagA    = ARRAY OF WheelTags;


PROCEDURE MakeWheelObject (tags : LIST OF WheelTags) : GroupObject;

LIBRARY IntuitionBase BY -648
  PROCEDURE SetWheelAttrs (object IN A0 : GroupObject;
			   tags   IN A1 : LIST OF WheelTags);

GROUP
  ClassGrp =
    MakeWheelObject, cWheel;

  TagGrp =
    WheelTagA, WheelTagAPtr,
    WheelTags, SetWheelAttrs;

  All = ClassGrp, TagGrp;

END MCCWheel.

