;$VER: MUIRexx Installer Script © 1997 Russell Leighton

(if (exists "muirexx:" (noreq)) 
    (set @default-dest "muirexx:")
    (set @default-dest "Work:")
)
(set #adir 
    (askdir 
        (prompt "Where do you wish to install the MUIRexx demos and documentation?\n(A drawer will NOT be created!!!)")
        (help @askdir-help)
        (default @default-dest)
    )
)

(set @default-dest #adir)
(makeassign 'muirexx' @default-dest (safe))

(complete 10)
(copyfiles 
	(help "Installing MUIRexx...")
    (prompt "Installing MUIRexx...")
	(confirm)
    (source "MUIRexx")
	(dest "SYS:Utilities")
)
(complete 20)
(copyfiles 
	(help "Installing MUIRexx Documentation...")
    (prompt "Installing MUIRexx Documentation...")
    (source "docs")
    (all)
    (infos)
	(dest "MUIREXX:docs")
    (optional)
)
(copyfiles (source "docs.info") (dest "MUIREXX:"))
(complete 50)
(copyfiles 
	(help "Installing MUIRexx Demos...")
    (prompt "Installing MUIRexx Demos...")
    (source "demos")
    (all)
    (infos)
	(dest "MUIREXX:demos")
    (optional)
)
(copyfiles (source "demos.info") (dest "MUIREXX:"))
(complete 80)

(if (exists "sys:Names")
    (textfile
        (prompt "Creating assignment in sys:Names...")
        (help "Since it appears you are using Dave Haynie's 'BindNames' the assignment will be made in 'sys:Names' in a file called 'MUIRexx'")
        (dest "sys:Names/MUIRexx")
        (append "muirexx: " @default-dest)
        (confirm)
    )
    (startup "MUIRexx"
        (prompt "Inserting assignment into s:user-startup...")
        (help @startup-help)
        (command "assign muirexx: " @default-dest)
        (confirm)
    )
)
(complete 100)

(exit)
