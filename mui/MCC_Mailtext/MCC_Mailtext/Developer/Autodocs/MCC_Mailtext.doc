TABLE OF CONTENTS

Mailtext.mcc/---Mailtext.mcc---
Mailtext.mcc/---Programming Guidelines---
Mailtext.mcc/MUIA_Mailtext_ActionEMail
Mailtext.mcc/MUIA_Mailtext_ActionURL
Mailtext.mcc/MUIA_Mailtext_DisplayRaw
Mailtext.mcc/MUIA_Mailtext_ForbidContextMenu
Mailtext.mcc/MUIA_Mailtext_IncPercent
Mailtext.mcc/MUIA_Mailtext_QuoteChars
Mailtext.mcc/MUIA_Mailtext_Text
Mailtext.mcc/MUIA_Mailtext_Wordwrap
Mailtext.mcc/MUIM_Mailtext_CopyToClip
Mailtext.mcc/---Mailtext.mcc---               Mailtext.mcc/---Mailtext.mcc---

   ABSTRACT
       Mailtext class is a subclass of NList.mcc. The NList package is
       written and (C) by Gilles Masson.

       Mailtext is especially designed to display electronic messages. Its
       main features cover:

       - handling of font attributes: *bold*, /italics/, _underline_ and
           #coloured#. The text between the attribute characters '*', '/',
           '_' and '#' will be printed with the repective style. To
           accomplish this, Mailtext has a powerful analysis engine that
           handles many special cases to obtain best results. Also,
           processing can be switched off for certain passages of text,
           i.e. uuencoded binaries, signatures, PGP messages.

       - highlighting of quoted textpasses: Mailtext is able to display up
           to five levels of quoted text in different colours. Quote are
           recognised by specifying the quote characters that may be used
           to introduce a quoted textpassage. The most common quote
           character is '>'. be introduced by a given set of quote
           characters, the most common is '>'.

       - highlighting and handling of URLs: Uniform Resource Locators
           (URLs) may be highlighted. Also, an AmigaDOS command can be
           triggered whenever an URL is double clicked with the clicked
           URL as an argument. By using an ARexx script you could handle
           http:// URLs to your web, mailto: URLs back to your Mailer and
           ftp:// URLs to your FTP client. Mailtext supports all URL types
           specified in RFC 1738 "Uniform Resource Locators", Section 3.

       As of NList, Mailtext also supports

       - mark & copy to clipboard: use the mouse to mark text and have it
           copied to the clipboard.

       Mailtext v3.1 needs MUI v3.6 (muimaster.library v17) and the NList
       package to work.

   NOTE
       To clear things up while speaking about attributes note the
       following convention:

       *Text*
       ^    ^
       |    the terminating char
       the introducing char

       So speaking of "the introducing char" means the character switching
       on a certain textattribute while "the terminating char" means the
       character that switches off a certain textattribute.

   AUTHOR
       Mailtext.mcc/Mailtext.mcp is written and © 1996-1998 by Olaf Peters

       eMail: olf@gmx.de
              op@hb2.maus.de (no mails larger than 16 KB, please!)

       Snail: Kulmer Str. 7 - D-28237 Bremen - Germany

   USAGE RESTRICTIONS
       Permission for COMMERCIAL USE (including Shareware!) is only given
       by an extra available commercial license that must be validated!
       Contact me directly for this license, because it will be
       individually handed out per your needs!

       Permission is hereby granted, without written agreement and without
       license, to USE this software and its documentation for any
       NON-COMMERCIAL (including Giftware) purpose, provided that the
       above copyright notice (see AUTHOR) appears in all copies of that
       software.

       Please send me a full version of your product at no cost including
       free updates. You can also send me an email or postcard and tell me
       where I may obtain a copy via FTP.

Mailtext.mcc/---Programming Guidelines---Mailtext.mcc/---Programming Guidelines---

   GUIDELINES

       Here are some guidelines that should be considered when using MCC
       Mailtext in your own programs:

       - use MUIA_NList_Font or MUIA_Font with i.e. MUIV_Font_Fixed when
           initializing the Mailtext object, so you can be sure which kind
           of font will be used by the Mailtext object.

       - you should consider copying (parts of) Mailtext's contextmenu
           into your application's menu. Here are the necessary
           notifications:


           Trigger "Copy To Clipboard":

             DoMethod(<menuitem>, MUIM_Notify, MUIA_Menuitem_Trigger,
                                  MUIV_EveryTime, <mailtextobject>, 1,
                                  MUIM_Mailtext_CopyToClip) ;

           Trigger "Display raw":

             DoMethod(<menuitem>, MUIM_Notify, MUIA_Menuitem_Checked,
                                  MUIV_EveryTime, <mailtextobject>, 3,
                                  MUIM_Set, MUIA_Mailtext_DisplayRaw,
                                            MUIV_TriggerValue) ;

           Trigger "Wordwrap":

             DoMethod(<menuitem>, MUIM_Notify, MUIA_Menuitem_Checked,
                                  MUIV_EveryTime, <mailtextobject>, 3,
                                  MUIM_Set, MUIA_Mailtext_Wordwrap,
                                            MUIV_TriggerValue) ;

Mailtext.mcc/MUIA_Mailtext_ActionEMail Mailtext.mcc/MUIA_Mailtext_ActionEMail

   NAME
       MUIA_Mailtext_ActionEMail -- (V19) [..G], STRPTR

   FUNCTION

       Whenever the user doubleclicks an eMail address (Usenet-style),
       this attribute will be set to the clicked address string.

       You can also set up a notification on this attribute.

Mailtext.mcc/MUIA_Mailtext_ActionURL     Mailtext.mcc/MUIA_Mailtext_ActionURL

   NAME
       MUIA_Mailtext_ActionURL -- (V18) [..G], STRPTR

   FUNCTION
       Whenever the user doubleclicks an URL, this attribute will be set
       to the clicked URL string.

       You can also set up a notification on this attribute.

Mailtext.mcc/MUIA_Mailtext_DisplayRaw   Mailtext.mcc/MUIA_Mailtext_DisplayRaw

   NAME
       MUIA_Mailtext_DisplayRaw -- (V18) [.SG], BOOL

   FUNCTION
       By setting this attribute to TRUE, you can disable Mailtext's
       attribute engine: Mailtext will forward the text directly to
       NFloattext, without processing it.

       You can use this attribute to temporarily disable processing on the
       user's request, i.e. by providing an appropriate menuitem:
       Mailtext's context menuitem 'Display plain text' is directly
       connected to this attribute, so you should mainly use it, if you
       want to provide an own contextmenu and still offer the
       functionality of Mailtext's internal menu.

       Default value for MUIA_Mailtext_DisplayRaw is FALSE.

   SEE ALSO
       MUIA_Mailtext_ForbidContextMenu

Mailtext.mcc/MUIA_Mailtext_ForbidContextMenuMailtext.mcc/MUIA_Mailtext_ForbidContextMenu

   NAME
       MUIA_Mailtext_ForbidContextMenu -- (V18) [I..], BOOL

   FUNCTION
       Starting with Mailtext.mcc v18 (Release 3.0), every Mailtext object
       can have its own contextmenu by default (configurable in
       Mailtext.mcp).

       If you want to use an own contextmenu for the Mailtext object in
       your application, you must initialise the Mailtext object with
       MUIA_Mailtext_ForbidContextMenu set to TRUE.

       This will override the settings the user has made in Mailtext.mcp
       and the Mailtext object will not try to create its own contextmenu.

       Default value for MUIA_Mailtext_ForbidContextMenu is FALSE.

   NOTE
       If you set MUIA_Mailtext_ForbidContextMenu to TRUE, the checkmark
       in Mailtext.mcp will simply do nothing, i.e. it can *not* be used
       to switch *your* contextmenu.

Mailtext.mcc/MUIA_Mailtext_IncPercent   Mailtext.mcc/MUIA_Mailtext_IncPercent

   NAME
       MUIA_Mailtext_IncPercent -- (V10) [ISG], LONG

   FUNCTION
       Mailtext.mcc's internal textbuffer has to be larger than the
       textlength of the text you set with MUIA_Mailtext_Text depending on
       the number of attributes used in the text.

       So Mailtext.mcc allocates a buffer that is x percent larger than
       the textlength, x being the value of MUIA_Mailtext_IncPercent.

       So if you think that the default of 20 percent is not sufficient
       (or overkill) you may configure a different value.

       If the formatted text does not fit into the private textbuffer, no
       formatting will be done and the orgininal text will be displayed
       instead.

   NOTE
       With Mailtext 3.0, the behaviour of this option changed a bit: the
       buffer is now *always* at least 2 KB larger than the original text.

Mailtext.mcc/MUIA_Mailtext_QuoteChars   Mailtext.mcc/MUIA_Mailtext_QuoteChars

   NAME
       MUIA_Mailtext_QuoteChars -- (V10) [ISG], STRPTR

   FUNCTION
       Set the characters that should be considered introducers of quoted
       textpassages.

       I.e. the string ">:" means lines having '>' or ':' in their first x
       chars (x is configurable by using the distances page of
       Mailtext.mcp) will be highlighted.

       Default is ">", if you set MUIA_Mailtext_QuoteChars to NIL or "" no
       highlighting will be done.

       You may specify up to 8 quotechars. If you specify more, only the 8
       leftmost chars of your string will be considered.

       When getting this attributes, the pointer returned is READ ONLY.
       You are not allowed to change the string!

   NOTE
       In Mailtext.mcp the user can decide to override an application's
       quotechars by checking the Override checkmark in the Chars page and
       setting her own quotechars. Any change to MUIA_Mailtext_QuoteChars
       will have no effect then.

Mailtext.mcc/MUIA_Mailtext_Text               Mailtext.mcc/MUIA_Mailtext_Text

   NAME
       MUIA_Mailtext_Text -- (V10) [ISG], STRPTR

   FUNCTION
       String of characters to be displayed as messsagetext.

       The text will be copied to a private buffer so you may free your
       buffer after setting MUIA_Mailtext_Text.

       Setting this attribute to NULL means clearing the current text.

       When getting this attribute, you will just get back the pointer to
       the textblock. You are NOT ALLOWED to change the text.

   SEE ALSO
       Floattext.mui/MUIA_Floattext_Text,
       NFloattext.mcc/MUIA_NFloattext_Text

Mailtext.mcc/MUIA_Mailtext_Wordwrap       Mailtext.mcc/MUIA_Mailtext_Wordwrap

   NAME
       MUIA_Mailtext_Wordwrap -- (V18) [.SG], BOOL

   FUNCTION
       When this attribute is set to FALSE, Mailtext will not wordwrap
       long lines but display a horizontal scrollbar instead.

       Note that this will *only* work, if the Mailtext object is
       contained in an NListview object.

       For compatibility reasons with Floattext.mui and Listview.mui,
       the default value for MUIA_Mailtext_Wordwrap is TRUE.

Mailtext.mcc/MUIM_Mailtext_CopyToClip   Mailtext.mcc/MUIM_Mailtext_CopyToClip

   NAME
       MUIM_Mailtext_CopyToClip

   FUNCTION

       Oops, still undocumented! Complain to olf!


