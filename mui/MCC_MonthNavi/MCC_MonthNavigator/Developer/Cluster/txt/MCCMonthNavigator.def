|##########|
|#MAGIC   #|FDLAGNAC
|#PROJECT #|""
|#PATHS   #|"StdProject"
|#LINK	  #|""
|#GUIDE   #|""
|#STACK   #|"4096"
|#FLAGS   #|-x---x-xxxx-x-x-----------------
|#USERSW  #|--x-----------------------------
|#USERMASK#|--------------------------------
|#SWITCHES#|xx---xxxxx-xx---
|##########|

DEFINITION MODULE MCCMonthNavigator;

(*
**
** Copyright © 1996-1997,1999 Dipl.-Inform. Kai Hofmann. All rights reserved.
** Registered MUI custom class!
**
** $VER: MCCMonthNavigator.def 16.7 (06.06.99)
**
** Experimental version, please report bugs/improvements!
**
** Cluster interface model by henning.thielemann@student.uni-halle.de
*)

FROM SYSTEM    IMPORT SysStringPtr;
FROM Intuition IMPORT MsgRoot;
FROM Utility   IMPORT HookPtr;
FROM MuiO      IMPORT CBOOLEAN, InputModes, ObjectRec, GroupRec, MuiTags, MethodID;


CONST
  cMonthNavigator		      = "MonthNavigator.mcc"

TYPE
  MonthNavigatorRec    = RECORD OF GroupRec END;
  MonthNavigatorObject = POINTER TO MonthNavigatorRec;

  Layouts = (American,European);

  ShowMDays = (No,OnlyFillUp,Yes);


  MarkDay =
    RECORD
      version	 : LONGCARD;
      year	 : LONGINT;
      month	 : CARDINAL;
      day	 : CARDINAL;

      preParse	 : SysStringPtr;
      background : LONGCARD;
      shortHelp  : SysStringPtr;
      disabled	 : CBOOLEAN;
    END;


  MonthNavigatorTags = TAGS OF MuiTags
    monthnavigatorShowWeekdayNames	= $81EE0005 : CBOOLEAN;
    monthnavigatorShowWeekNumbers	= $81EE0006 : CBOOLEAN;
    monthnavigatorInputMode		= $81EE0009 : [InputModes.none..immediate];  | Subrange of InputModes
    monthnavigatorUseFrames		= $81EE000A : CBOOLEAN;
    monthnavigatorShowInvisibles	= $81EE000B : CBOOLEAN;
    monthnavigatorWeekdayNamesSpacing	= $81EE000C : LONGCARD;
    monthnavigatorWeekNumbersSpacing	= $81EE000D : LONGCARD;
    monthnavigatorLineWeekdayNames	= $81EE000E : CBOOLEAN;
    monthnavigatorLineWeekNumbers	= $81EE000F : CBOOLEAN;
    monthnavigatorDraggable		= $81EE0012 : CBOOLEAN;
    monthnavigatorMarkHook		= $81EE0013 : HookPtr;
    monthnavigatorDropable		= $81EE0014 : CBOOLEAN;
    monthnavigatorDragQueryHook 	= $81EE0015 : HookPtr;
    monthnavigatorDragDropHook		= $81EE0016 : HookPtr;
    monthnavigatorShowLastMonthDays	= $81EE0017 : ShowMDays;
    monthnavigatorShowNextMonthDays	= $81EE0018 : ShowMDays;
    monthnavigatorMonthAdjust		= $81EE0019 : INTEGER;
    monthnavigatorFixedTo6Rows		= $81EE0033 : CBOOLEAN;
    monthnavigatorLayout		= $81EE0034 : Layouts;

    cfgmonthnavigatorTodayUnderline   = $81EE002C
    cfgmonthnavigatorTodayBold	      = $81EE002D
    cfgmonthnavigatorTodayItalic      = $81EE002E
    cfgmonthnavigatorTodayAlignment   = $81EE002F
    cfgmonthnavigatorTodayBackground  = $81EE001D
    cfgmonthnavigatorTodayPen	      = $81EE001E
    cfgmonthnavigatorTodayShortHelp   = $81EE001F
  END;

  MonthNavigatorTagAPtr = POINTER TO ARRAY OF MonthNavigatorTags;


CONST
  markHookHiToday = 1;
  markDayVersion  = 1;

  mMonthNavigatorUpdate 	      = MethodID($81EE0010);
  mMonthNavigatorMark		      = MethodID($81EE0030);
  mMonthNavigatorDragQuery	      = MethodID($81EE0031);
  mMonthNavigatorDragDrop	      = MethodID($81EE0032);

TYPE
  Object     = POINTER TO ObjectRec;

  DayObject  = POINTER TO Object;
  DragObject = POINTER TO Object;

  pMonthNavigatorUpdate 	      = RECORD OF MsgRoot
					END;

  pMonthNavigatorMark		      = RECORD OF MsgRoot
					  year	 : LONGINT;
					  month  : LONGCARD;
					  day	 : LONGCARD;
					  dayobj : DayObject;
					END;

  pMonthNavigatorDragQuery	      = RECORD OF MsgRoot
					  year	 : LONGINT;
					  month  : LONGCARD;
					  day	 : LONGCARD;
					  dayobj : DayObject;
					  obj	 : DragObject;
					END;

  pMonthNavigatorDragDrop	      = RECORD OF MsgRoot
					  year	 : LONGINT;
					  month  : LONGCARD;
					  day	 : LONGCARD;
					  dayobj : DayObject;
					  obj	 : DragObject;
					END;

METHOD Update(o : MonthNavigatorObject);
METHOD Mark(o : MonthNavigatorObject);
METHOD DragQuery(o : MonthNavigatorObject);
METHOD DragDrop(o : MonthNavigatorObject);


PROCEDURE MakeMonthNavigatorObjectA(tags : MonthNavigatorTagAPtr) : MonthNavigatorObject;
PROCEDURE MakeMonthNavigatorObject(tags : LIST OF MonthNavigatorTags) : MonthNavigatorObject;

GROUP
  TypeGrp =
    MarkDay,
    markHookHiToday,
    markDayVersion;

  EssentialGrp =
    cMonthNavigator,
    MonthNavigatorRec,	      MonthNavigatorObject,
    MonthNavigatorTags,       MonthNavigatorTagAPtr,
    mMonthNavigatorUpdate,    mMonthNavigatorMark,
    mMonthNavigatorDragQuery, mMonthNavigatorDragDrop,
    pMonthNavigatorUpdate,    pMonthNavigatorMark,
    pMonthNavigatorDragQuery, pMonthNavigatorDragDrop,
    MakeMonthNavigatorObject, MakeMonthNavigatorObjectA;

  All = EssentialGrp;

END MCCMonthNavigator.
