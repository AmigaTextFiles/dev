;
; manual installation:
; - copy libs/compactwindow.mcc MUI:Libs/mui
; - copy images/hvdragbar.image SYS:Classes/Images
;

(set @default-dest "MUI:Libs/mui")

(copylib
	(prompt "Installing CompactWindow MUI Class")
	(confirm)
	(source "libs/CompactWindow.mcc")
	(dest "MUI:Libs/MUI")
	(help @copylib-help)
)

(copylib
	(prompt "Installing CompactWindow MUI Preferences")
	(confirm)
	(source "libs/CompactWindow.mcp")
	(dest "MUI:Libs/MUI")
	(help @copylib-help)
)

(set #imagedest 
	(select
		(= 2 (exists "sys:Classes" (noreq)))
		"Libs:Images"
		"Sys:Classes/Images"
	)
)

(if (<> 2 (exists #imagedest (noreq))) 
	(makedir #imagedest (confirm)
   	(help "Your system doesn't contain a directory for images."))
)

(copylib
	(prompt "Installing hvdragbar.image")
	(confirm)
	(source "Images/hvdragbar.image")
	(dest #imagedest)
	(help @copylib-help)
)

(if (askbool (prompt "Do you want to start the demo now?")
       (help "The demo is not needed for anything, just for your pleasure!")
       (default 1))
	(run "run demo/CompactWindowDemo")
)

(message "This script doesn't copy the demo program. If you think you will need it in the future, please install it by yourself.")
