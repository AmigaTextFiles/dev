<HTML>
<HEAD>
<title>General MUI Programming notes</title>
<!-- Changed by: Steven Vermeulen, 23-Jul-1996 -->
<link rev=made href=mailto:svermeulen@ragnarok.mtroyal.ab.ca>
</HEAD>
<BODY>
<pre>

From: "Stefan Stuntz" <stuntz@informatik.tu-muenchen.de>
Date:   Thu, 04 Apr 1996 12:06:04 +0100
X-Mailer: IntuiNews 1.3b Beta 7 (2.2.96)
Subject: Re: How to make Popobject's Object Disapear ?
Message-Id: <81320878@magic.informatik.tu-muenchen.de>
Organization: Home of MUI
Resent-Message-Id: <"xXOX53.0.mH5.NzvOn"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/923
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
Content-Type: text
Content-Length: 671
X-Lines: 18
Status: RO

Radek "Chyras" Chyra wrote

> Suppose there is an popobject with Listview object as Object child. Then
> it's connected with Cycle gadget, and when cycle is cycled :) then
> contents of list displayed with listview changes. But when someone pops
> listview, and then cycles, I'd like to hide listview. I've tried
> to set (listview, MUIA_ShowMe, FALSE) but didn't work. The same with
> MUIM_Hide method ... Is this possible at all ?

Hu? What? This is all completely crazy. Never ever issue one of MUIs
methods (like setup, hide, etc.) yourself !!!

If you want to close a popup, use the MUIM_Popstring_Close method.
Nothing more simple than that.

--
Greetings, Stefan




From: "Stefan Stuntz" <stuntz@informatik.tu-muenchen.de>
Date:   Thu, 04 Apr 1996 12:06:04 +0100
X-Mailer: IntuiNews 1.3b Beta 7 (2.2.96)
Subject: Re: custom class attributes
Message-Id: <81320877@magic.informatik.tu-muenchen.de>
Organization: Home of MUI
Resent-Message-Id: <"7Ah2w1.0.wH5.TzvOn"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/924
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
Content-Type: text
Content-Length: 871
X-Lines: 21
Status: RO

Gilles Masson wrote in article <199604031242.OAA05581@ogpsrv.unice.fr>:

>         To avoid these conditions, MUI always checks new
>         attribute values against the current state and
>         cancels notification when both values are equal.
>         Thus, setting MUIA_Prop_First to 42 if the prop
>         gadgets first position is already 42 won't trigger
>         any notification event.
>
> I can't see any way for MUI to test that for custom class without
> making a get(), but perhaps Stefan will give more explain about it...

No get() is involved. In fact, if you set some attribute to some value,
the set() method of the destination object checks if the thing it should
store is already stored. If it is, it overwrites ti_Data with TAG_IGNORE
which prevents future notification triggers when the set method reaches
notify class.

--
Greetings, Stefan

From: "Stefan Stuntz" <stuntz@informatik.tu-muenchen.de>
Date:   Thu, 04 Apr 1996 18:30:54 +0100
X-Mailer: IntuiNews 1.3b Beta 7 (2.2.96)
Subject: Re: MUIA_Draggable bug?
Message-Id: <81320885@magic.informatik.tu-muenchen.de>
Organization: Home of MUI
Resent-Message-Id: <"E3_aT1.0.187.7c_On"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/932
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
Content-Type: text
Content-Length: 1253
X-Lines: 28
Status: RO

Johan Ostling wrote in article <955.6668T707T2009@mailbox.swipnet.se>:

> On 04-Apr-96 03:03:48, Hans Henrik Happe <ccc6004@cybercity.dk> wrote:
> >Below is a piece of code thats opens a window containing an object of
> >a subclass of text class. The dispatcher for this subclass does nothing
> >but sending messages on to its superclass. To see if this dispatcher really
> >were called I put a Printf("something") before the "DoSuperMethodA". All
> >this worked fine until I made the object Draggable. Now the program
> >crashes when the Printf() is include and works fine without.
>
> >Any suggestions???
>
> My guess is that when the object is draggable, the dispatcher is
> sometimes called on Intuitions task, and then all DOS IO will fail.
> Replace the Printf() with DisplayBeep() and see if it works better.

Almost. During drag operations, the screen is obviously locked. Doing
stdio here will freeze the system. If you need to output debug info
during D&D, write to a file or use kprintf & sushi or something like
that.

MUI does try to avoid calling dispatchers from different task contexts
as much as possible. Nevertheless, dispatchers should be reentrant and
forward unknown methods to their superclass immediately.

--
Greetings, Stefan

From: "Gilles.MASSON" <masson@alto.unice.fr>
Message-Id: <199604040942.LAA04736@alto.unice.fr>
X-Authentication-Warning: alto.unice.fr: Host localhost [127.0.0.1] didn't use HELO protocol
X-Mailer: exmh version 1.6.5 12/11/95
To: mui@sunsite.Informatik.RWTH-Aachen.DE
Cc: masson@alto.unice.fr
Subject: Re: BOBs in MUI possibility
In-Reply-To: Your message of "Wed, 03 Apr 96 20:15:11 +0200."
             <Pine.A32.3.91.960403200552.80845A-100000@asterix.uni-muenster.de>
Content-Type: text
Content-Length: 1570
X-Lines: 41
Status: RO


Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Date: Thu, 04 Apr 96 11:42:58 +0200
X-Mts: smtp
Resent-Message-Id: <"iB9LG1.0.t95.kcvOn"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/920
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE

> On Wed, 3 Apr 1996, Marcin Orlowski wrote:
> >
> >  I'd like to ask if anyone tried implementing BOBs within MUI app? Hey
> >  Stefan, I hope that is it possible without too much pain, isn't it?
> >
> >  Marcin
> It is possible, but I do not think that it is compatible. You must
> write a customclass if you want to draw directly into the window, but
> even then you cannot change anything permanently in the rastport, but
> bobs need to be linked permanently into the rastport ...
> Anyway, since bobs are slow and do not have much to offer, you should
> consider writing your own routines (and do not use hw-sprites, please).

I succeeded in using bobs in a custom class, but it's not very nice
the way i've done it...
If you're interested, you can look at my cbob.c exemple in mui_gcc_tests.lha
which can be found on ftp://bibliut.unice.fr/amiga/mui

Gilles MASSON

From: "Stefan Stuntz" <stuntz@informatik.tu-muenchen.de>
Date:   Thu, 04 Apr 1996 21:03:03 +0100
X-Mailer: IntuiNews 1.3b Beta 7 (2.2.96)
Subject: Re: custom class attributes
Message-Id: <81320891@magic.informatik.tu-muenchen.de>
Organization: Home of MUI
Resent-Message-Id: <"FnAzi1.0.5w.Sq1Pn"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/935
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
Content-Type: text
Content-Length: 1057
X-Lines: 24
Status: RO

Ellis Pritchard wrote in article <9604041030.AA11071@cam-ani.co.uk>:

> > No get() is involved. In fact, if you set some attribute to some
> > value, the set() method of the destination object checks if the
> > thing it should store is already stored. If it is, it overwrites
> > ti_Data with TAG_IGNORE which prevents future notification triggers
> > when the set method reaches notify class.
>
> Is this the sort of behavior we should be putting in our custom classes,
> or is all this performed automatically?

This must be implemented by the custom class and cannot be done
automatically. However, only very few attributes actually need this
special care. A "normal" attribute isnt very likely do be used in a
notify context which might result in endless-loops.

Also, its sufficient to prevent endless loops if one of the involved
attributes breaks the chain. Thus, if you e.g. link something to a
scrollbar and the scrollbar back to something, you neednt take any
special care since the scrollbar will break notification loops.

--
Greetings, Stefan

From: "Stefan Stuntz" <stuntz@informatik.tu-muenchen.de>
Date:   Thu, 04 Apr 1996 21:03:02 +0100
X-Mailer: IntuiNews 1.3b Beta 7 (2.2.96)
Subject: Re: MUIA_Draggable bug?
Message-Id: <81320890@magic.informatik.tu-muenchen.de>
Organization: Home of MUI
Resent-Message-Id: <"ndXxu2.0.rv.Rq1Pn"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/934
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
Content-Type: text
Content-Length: 774
X-Lines: 19
Status: RO

Jens Boenisch wrote

> > Below is a piece of code thats opens a window containing an object of
> > a subclass of text class. The dispatcher for this subclass does nothing
> > but sending messages on to its superclass. To see if this dispatcher really
> > were called I put a Printf("something") before the "DoSuperMethodA". All
> > this worked fine until I made the object Draggable. Now the program
> > crashes when the Printf() is include and works fine without.
>
> Oh no ! Dragging is executed by the input.device and this is only a Task
> and can't therefore do any DOS-calls.

Dragging has nothing to do with input.device and is not executed in a
different task context. The only special thing is that layers are
locked during a D&D operation.

--
Greetings, Stefan


From: "Stefan Stuntz" <stuntz@informatik.tu-muenchen.de>
Date:   Tue, 09 Apr 1996 21:02:38 +0100
X-Mailer: IntuiNews 1.3b Beta 7 (2.2.96)
Subject: Re: MUIA_Background question
Message-Id: <81321025@magic.informatik.tu-muenchen.de>
Organization: Home of MUI
Resent-Message-Id: <"GUpGY2.0.Ez1.hHhQn"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/986
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
Content-Type: text
Content-Length: 224
X-Lines: 9
Status: RO

Kai Hofmann wrote in article <60805404@informatik.uni-bremen.de>:

> What is the default setting for MUIA_Background for a TextObject?

Default backgrounds are always inherited from the parent object.

--
Greetings, Stefan

From: ccc6004@cybercity.dk (Hans Henrik Happe)
To: mui@sunsite.Informatik.RWTH-Aachen.DE ("Stefan Stuntz")
Date: Sat, 13 Apr 1996 17:08:01
Message-Id: <yam6677.102870.123671096@vip.cybercity.dk>
In-Reply-To: <81321066@magic.informatik.tu-muenchen.de>
X-Mailer: YAM 1.2 by Marcel Beck
Subject: Re: _rp(obj)'s BitMap
Resent-Message-Id: <"eqMQ02.0.c22.6QyRn"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/1030
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
Content-Type: text
Content-Length: 777
X-Lines: 31
Status: RO

On 13-Apr-96, "Stefan Stuntz" wrote:

> Hans Henrik Happe wrote
> 
> > Is it possible/allowed to use the BitMap in the _rp(obj) RastPort as long
> > as you keep inside _mleft()... _mheight()?
> 
> You can never use a rastports bitmap in a layered environment.

Okay!

> > I need this because BitMapScale() needs a BitMap as destination, and
> > it's a waste of time to:
> >
> >     BitMapScale([src, dest]);
> >     BltBitMapRastPort([dest, _rp(obj)]);
> 
> Thats no waste of time, that ensures correct clipping if your window is
> covered (partially) by some other windows.

I know. I'll have to make AT make a BitMapScaleRPort().

     Hans Henrik Happe

<sb>
EMail:           ccc6004@cybercity.dk
FidoNet:         2:238/127.9@fidonet
AmiNet:          39:140/136.9@aminet

From: "Stefan Stuntz" <stuntz@informatik.tu-muenchen.de>
Date: 	Tue, 16 Apr 1996 01:07:18 +0100
X-Mailer: IntuiNews 1.3b Beta 7 (2.2.96)
Subject: Re: _rp(obj)'s BitMap
Message-Id: <81321165@magic.informatik.tu-muenchen.de>
Organization: Home of MUI
Resent-Message-Id: <"1VXFR3.0.jV6.JfhSn"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/1064
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
Content-Type: text
Content-Length: 813
X-Lines: 25
Status: RO

KEIR JAMES (ugrad) wrote

> On Thu, 11 Apr 1996, Hans Henrik Happe wrote:
>
> > Is it possible/allowed to use the BitMap in the _rp(obj) RastPort as long
> > as you keep inside _mleft()... _mheight()?
>
> It seems so, but note that the bitmap appears to be the screen's bitmap,
> not the window's. I've got round this by getting the MUIA_Window
> attribute and adding the window's top left coordinates to the destination
> of the blit (or whatever).

What the hell are you guys doing here? You're not working on some
copper/blitter/supercool fancy demo or whatever, we're talking about an
object oriented GUI system!

You *CANNOT* blit into the screens bitmap during a Draw method of some
MUI object. You've got your rastport, render there or dont render at
all!

Please stop this rubbish!

--
Greetings, Stefan

From: per.ostling@mailbox.swipnet.se (Johan Ostling)
To: mui@sunsite.Informatik.RWTH-Aachen.DE
Subject: Re: _rp(obj)'s BitMap
In-Reply-To: <Pine.SUN.3.91.960417110729.1436B-100000@diana28>
Message-Id: <600.6681T809T1350@mailbox.swipnet.se>
Mime-Version: 1.0
X-Mailer: THOR 2.22 (Amiga;TCP/IP) *UNREGISTERED*
Lines: 18
Content-Transfer-Encoding: quoted-printable
Resent-Message-Id: <"I8dib.0.aj2.eCITn"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/1085
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
X-Lines: 20
Status: RO
Content-Type: text/plain; charset="iso-8859-1"
Content-Length: 605

On 17-Apr-96 11:10:42, ugrad <com40048@diana1.paisley.ac.uk> wrote:

>Could I just say that the 'supercool fancy demo' is actually a
>graph-drawing object class, in which I wanted to blit the entire graph
>display a pixel to the left, rather that redraw every line of every grap=
h
>attached to it every time it is updated.

I suggest you use ScrollRaster() for that purpose.

>I'll assume you hadn't read my next message, in which I said I made a
>mistake.

>Greetings, Jamie Keir (com40048@diana2.paisley.ac.uk)

Subject: Re: MUIA_Gauge_InfoText
Message-Id: <81322358@magic.informatik.tu-muenchen.de>
Organization: Home of MUI
Resent-Message-Id: <"RwMvc2.0.2B.vLPgn"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/1410
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
Content-Type: text
Content-Length: 475
X-Lines: 12
Status: RO

Massimiliano Origgi wrote in article <495AF85A@intui.nervous.com>:

> If I set MUIA_Gauge_InfoText with the method MUIM_SetAsString I get a correct
> string displayed only once. When the object has to redraw itself, I only get
> garbage or nothing at all. It seems that the gauge class does not copy the
> string into an internal buffer. If I use a static string everything works
> well.

*NO* class copies strings unless explicitly documented otherwise!

Greetings, Stefan

From: "Stefan Stuntz" <stuntz@informatik.tu-muenchen.de>
Date: 	Wed, 29 May 1996 00:34:06 +0100
X-Mailer: IntuiNews 1.3b Beta 7 (2.2.96)
Subject: Re: MUI & 3D Software
Message-Id: <81322391@magic.informatik.tu-muenchen.de>
Organization: Home of MUI
Resent-Message-Id: <"nEjRt.0.Le4.f-tgn"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/1421
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
Content-Type: text
Content-Length: 1059
X-Lines: 26
Status: RO

Stephane Barbaray wrote

> - I've heard somewhere of a possible static C library, is it True/Done?

No its not. Its not even planned to make MUI a link library. Even after
a few years of MUI, I still cant see a reason for this.

> - Some (stupid french) editors don't want MUI based applications because
> "it's a shareware, an the MUI author could change the terms for use of its
> library in commercial programs at any time". So, is there a way to proove
> them that you (Stefan) will not change ?

I dont know what you mean with "change". My licencing scheme for
commercial applications is very flexible. Different applications might
get different contracts depending on their type and complexity. MUI
might even become cheaper some day, or maybe it becomes more
expensive... who knows...

However, once we agreed on a licencing scheme for a program, it will of
course remain valid forever. I.e. if we agreed on a one-time fee of DM X
for a program, you can always use and redistribute any version of MUI
together with your program.

--
Greetings, Stefan

Subject: Re: MUI settings
Resent-Message-Id: <"ciyYL1.0.Ei4.LLKin"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/1456
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
Content-Type: text
Content-Length: 546
X-Lines: 18
Status: RO

Hello Johnny,
 In a message dated 01 Jun 96 Johnny Tevessen wrote to All :

 JT> How can I popup the MUI settings program (MUI:MUI)  from  within  my
 JT> application?  I  haven't found anything in the developer files. Lots of

>From Mui 3 on: MUIM_Application_OpenConfigWindow

You need just a:
    DoMethod(app,MUIM_Application_OpenConfigWindow,0);

Really simple!

Bye /|/|    max@intui.nervous.com  2:335/533.14@fidonet
   / / |AX  Member of Team AMIGA   39:102/12.14@amiganet
            Home of Localizer      localizer@intui.nervous.com


Subject: Re: Stack
Message-Id: <81322445@magic.informatik.tu-muenchen.de>
Organization: Home of MUI
Resent-Message-Id: <"NC_hv3.0.Qc1.BvWin"@sunsite>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.DE
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.DE
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/1466
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.DE
Content-Type: text
Content-Length: 284
X-Lines: 12
Status: RO


Joerg Essmann wrote

> Please tell me the minimum stacksize for mui based aklications.
> With a 4K stack my aplications crashes if I try to select a
> window pattern in mui-setup with 10K stack it works.

8k should be sufficient for everything concerning MUI.

--
Greetings, Stefan


From: "Stefan Stuntz" <stuntz@informatik.tu-muenchen.de>
Date: Mon, 22 Jul 1996 17:04:56 +0100
X-Mailer: IntuiNews 1.4 (28.6.96)
Subject: Re: floattext
Message-Id: <81323565@magic.informatik.tu-muenchen.de>
Organization: Home of MUI
Resent-Message-ID: <"aceWg.0.SW3.Davyn"@susi>
Resent-From: mui@sunsite.Informatik.RWTH-Aachen.de
Reply-To: mui@sunsite.Informatik.RWTH-Aachen.de
X-Mailing-List: <mui@sunsite.informatik.rwth-aachen.de> archive/latest/1976
X-Loop: mui@sunsite.informatik.rwth-aachen.de
Precedence: list
Resent-Sender: mui-request@sunsite.Informatik.RWTH-Aachen.de
Content-Type: text
Content-Length: 955
X-Lines: 28
Status: RO


crayor wrote in article <1678.6775T1438T2668@zedat.fu-berlin.de>:

> I want to display a formatted ansi text that is 80 chars wide in a
> floattextobject but the esc-codes for the colors etc trash the output. \r is
> not ignored either but makes some strange chars appear.

Floattext is no general ANSI text viewer and theres is no way to make it
one.

> *******************
> Another problem:
>
> If I include a pop object in the tab-cycle-chain the rest of the chain is
> ignored.

Dont include the pop object, include the string object.

> I start a procedure with a button that can take a lot of time and that will
> display some text in a floattextobject. How do I have to code my program that
> it will enable the user to scroll the floattextobject, resize the window etc
> during the procedure that can take a lot of time? Is there a simple way?

You should use a separate thread for the complicated work. See Subtask demo.

--
Greetings, Stefan

