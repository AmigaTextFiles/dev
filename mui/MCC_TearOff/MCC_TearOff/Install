;
; MANUAL INSTALLATION:
;
; copy libs/#? MUI:Libs/mui
; copy sysimages/#? SYS:Classes/Images
; copy images/#? MUI:Images/ ALL
; copy TearOff.guide MUI:Docs/English/
;

(set @default-dest "MUI:")

(copylib
	(prompt "Installing TearOffPanel Class")
	(confirm)
	(source "libs/TearOffPanel.mcc")
	(dest "MUI:Libs/MUI")
	(help @copylib-help)
)

(copylib
	(prompt "Installing TearOffBay Class")
	(confirm)
	(source "libs/TearOffBay.mcc")
	(dest "MUI:Libs/MUI")
	(help @copylib-help)
)

(copylib
	(prompt "Installing TearOff Prefereces module")
	(confirm)
	(source "libs/TearOff.mcp")
	(dest "MUI:Libs/MUI")
	(help @copylib-help)
)

(copyfiles
	(prompt "Installing TearOff MUI images")
	(confirm)
	(source "Images")
	(dest "MUI:Images")
	(all)
	(help @copyfiles-help)
)

(copyfiles
	(prompt "Installing TearOff on-line help")
	(confirm)
	(source "TearOff.guide")
	(dest "MUI:Docs/English")
	(all)
	(help @copyfiles-help)
)

(copylib
	(prompt "Installing CompactWindow Class")
	(confirm)
	(source "libs/CompactWindow.mcc")
	(dest "MUI:Libs/MUI")
	(help @copylib-help)
)

(copylib
	(prompt "Installing CompactWindow Preferences module")
	(confirm)
	(source "libs/CompactWindow.mcp")
	(dest "MUI:Libs/MUI")
	(help @copylib-help)
)

(set #imagedest 
	(select
		(= 2 (exists "sys:Classes" (noreq)))
		"Libs:Images"
		"Sys:Classes/Images"
	)
)

(if (<> 2 (exists #imagedest (noreq))) 
	(makedir #imagedest (confirm)
   	(help "Your system doesn't contain a directory for images."))
)

(copylib
	(prompt "Installing hvdragbar.image")
	(confirm)
	(source "sysimages/hvdragbar.image")
	(dest #imagedest)
	(help @copylib-help)
)

(if (askbool (prompt "Do you want to start the demo now?")
       (help "The demo is not needed for anything, just for your pleasure!")
       (default 1))
	(run "run demo/TearOffDemo")
)

(message "This script doesn't copy the demo program. If you think you will need it in the future, please install it by yourself.")
