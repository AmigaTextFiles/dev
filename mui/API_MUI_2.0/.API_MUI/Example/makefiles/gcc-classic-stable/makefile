# makefile for GNU make (automatically generated by makemake)
# NOTE: indent with TAB in GNU makefiles!

# paths are relative to the project directory (current directory during make)
OUTFILE=.API_MUI

EXE    = bin/gcc-classic-stable/Example
OBJDIR = o/gcc-classic-stable/

# target 'all' (default target)

all : $(EXE)

$(OBJDIR)main.o : main.c
	gcc $(shell gccprefs) -c -o $(OBJDIR)main.o main.c

OBJS = $(OBJDIR)main.o

$(EXE) : $(OBJS)
	gcc $(shell gccprefs) -o $(EXE) $(OBJS) -lmui

# target 'strip'

strip:
	strip --remove-section=.comment $(EXE)

# target 'clean'

clean:
	-delete $(EXE)
	-delete $(OBJDIR)\*.o

dist:
	-delete ram:$(OUTFILE)* all
	-delete o/gcc-classic-stable/*
	-delete o/gcc-morphos-stable/*
	-delete bin/gcc-classic-stable/*
	-delete bin/gcc-morphos-stable/*
	copy /os-include/ ram:$(OUTFILE)/os-include all
	copy /Example/ ram:$(OUTFILE)/Example all
	copy /API_MUI.readme ram:$(OUTFILE)/
	lha a -r -e ram:$(OUTFILE)_beta.lha ram:$(OUTFILE)
	@echo done.
