
                             Bugs of MUI v1.0
                             ----------------

                 Alessandro Zummo, azummo@ita,flashnet.it


 Hi folks!

 That's a little doc to remember to Stefan waht are the bugs
 fo the current MUI version.

 However this isn't a cospiracy againist MUI nor againist his author,
 but rather an help to all MUI programmers and to Stefan itself.

 When a new version of MUI will be released, who had contributed
 to this doc should check if the bugs are still present.
 
 This doc was suggested to me by Allan Odgaard. Thanks Allan!


    Sincerely,
       Alessandro Zummo (azummo@ita.flashnet.it)


Current MUI version: 19



Class    : Area.mui
Sended by: Gilless Masson <masson@iutsoph.unice.fr>

In simple refresh mode while the MUIM_ContextMenuChoice method
the object rasport is still clipped to the just cleared context
menu area, making any complete object redraw impossible.
-------------------------------------------------------------------------


Class    : muipop.library (?)
Sended by: Steffen Gutmann <gutmann@informatik.uni-freiburg.de>

Popup listview bug:

Click on any popup button that opens a popup containing
a listview object (e.g. MUI:MUI System - Screen).
Double click on an item of the listview.
Again, click on the popup button.
Now click on an arrow button of the listview's scroller group
and you will see the items of the listview becoming activated
one by one. Strange!
This also happens if you click on any other button in the popup window,
e.g. if you have a "Delete" button then you may delete a random
chosen item when pressing it!
-------------------------------------------------------------------------

Class    : Area.mui
Sended by: Steffen Gutmann <gutmann@informatik.uni-freiburg.de>

Font size problem:

font handling seems to have been changed from MUI V2.3 to V3.x.
When you open a window that doesn't fit on the screen
then the font size is changed to a smaller one. In V3.x 
this results to a font size change of the whole application, 
which means that other new windows are also opened with this 
smaller font. In V2.3 only the font of a window which does 
not fit on the screen is changed to a smaller one, other windows 
are not affected.
I suggest to use the old behaviour (that of V2.3) in future
MUI versions.  Programs like MUIBuilder (2.x), where the user 
can create his own GUI (which may be too big to fit on the screen),
benfit from it.
-------------------------------------------------------------------------

Class    ; Application.mui, Window.mui
Sended by: Steffen Gutmann <gutmann@informatik.uni-freiburg.de>

After doing the last matching set(app, MUIA_Application_Sleep, FALSE)
all windows will redraw the box around their active object.  This is

a) a bug as only the active window should display a box
   around its active object.

b) quite annoying if you have many windows with active objects
   and several pairs of set(app, MUIA_Application_Sleep, TRUE),
   set(app, MUIA_Application_Sleep, FALSE) because of display
   flickering.
-------------------------------------------------------------------------

Class    : Text.mui
Sended by: Steffen Gutmann <gutmann@informatik.uni-freiburg.de>

It seems that this tag has only an effect when creating the
text object.  When setting MUIA_Text_Contents later, it forgets
about MUIA_Text_HiCharIdx.  Even using

        SetAttr(obj,
            MUIA_Text_HiCharIdx, '_',
            MUIA_Text_Contents, "F_oo",
            TAG_DONE);

has no effect (it displays "F_oo")!

Also TextObject forgets about MUIA_Text_SetVMax!
I have set it to FALSE on object creation for vertical
centering of the text which works well.  If I then set
a new text by MUIA_Text_Contents, the new text is displayed
non-centered.
-------------------------------------------------------------------------

Class    : Window.mui
Sended by: Steffen Gutmann <gutmann@informatik.uni-freiburg.de>

I discovered a small bug in the Window class.

Create a new window object without a MUIA_Window_ID and
set MUIA_Window_{LeftEdge,TopEdge,Width,Height} to some values.

Open the window and let the user resize it.

Get the values for MUIA_Window_{LeftEdge,TopEdge,Width,Height}
and see that they are really changed to the new dimensions.

Now rerun the same experiment but get the values after
closing the window.

Now the values for MUIA_Window_{LeftEdge,TopEdge,Width,Height}
are the old ones.
-------------------------------------------------------------------------

Class    : Group.mui
Sended by: Jacek Trzmiel <sc0rpion@polbox.com>


set(obj, MUIA_FillArea, FALSE) doesn't work for Group.mui class and 
all classes derived from it (e.g. Virtualgroup.mui).  In other words
MUIA_Background is still rendered.

When you supply custom LayoutHook for any group derived from Group.mui
(direct or indirect, i.e. same for e.g. Virtualgroup.mui),
MUIA_Background is drawn over all area covered by this group, also
inside every child's area (causes display flashing, because same area
is drawn twice).
-------------------------------------------------------------------------

Class    : Area.mui
Sended by: Jacek Trzmiel <sc0rpion@polbox.com>

MUI internally doesn't call MUIM_DrawBackground thru object's class
dispatcher (means you can call it, but you can't overload it in you CC).
-------------------------------------------------------------------------

Class    : MUI Docs
Sended by: Jacek Trzmiel <sc0rpion@polbox.com>


In mui.h macros:
        _left(obj), _top(obj), _width(obj), _height(obj),
        _right(obj), _bottom(obj), _addleft(obj), _addtop(obj),
        _subwidth(obj) _subheight(obj), _mleft(obj), _mtop(obj), 
        _mwidth(obj), _mheight(obj), _mright(obj), _mbottom(obj)
   are declared to be valid only during MUIM_Draw.
   But all of them should be valid during MUIM_HandleInput also.
   Documentation bug?
-------------------------------------------------------------------------

Class    : Window.mui
Sended by: Allan Odgaard <Duff@DIKU.DK>

Resizing a window which contains a pressed togglebutton, that uses the XEN frame. Causes
the gadget to be redrawn at a wrong position. (one pixel up/left) Also if you pass a
pressed togglebutton with the tabframe, then some of the gadget gets erased when the frame
is removed.

Pressing a windows zip-gadget, launcing MUIPrefs (from the app) and closing it again,
causes the window to be "zipped" back to the original size/position. Pressing the zip
gadget again resizes the window, but the contents isn't relayouted.

-------------------------------------------------------------------------

Class    : Balance.mui
Sended by: Allan Odgaard <Duff@DIKU.DK>

Adding/removing eventhandlers in MUIM_Show/MUIM_Hide causes the Balance.mui to stop
balancing after one or two "moves".
-------------------------------------------------------------------------

Class    : Virtgroup.mui
Sended by: Allan Odgaard <Duff@DIKU.DK>

If your customclass is inside a virtualgroup, then setting (MUIA_Window_ActiveObject,
MUIV_Window_ActiveObject_None) in your MUIM_Draw before calling your superclass. Will make
the virtualgroup go into an endless scroll-loop.
Perhaps you can't do that sort of stuff, but I have asked at the mailinglist a couple of
times, and Stefan never commented it ;(
-------------------------------------------------------------------------

Class    : Group.mui
Sended by: Allan Odgaard <Duff@DIKU.DK>

If you have a group with several pages (not registerpages), and the tabframe is around one
of the objects in the active page. And parts of the tabframe goes outside the page. Then
changing page will "leave some marks" after the tabframe.
-------------------------------------------------------------------------


