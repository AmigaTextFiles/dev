@database HTMLtext_mcc.guide
@rem Source: Autodocs.c
@rem Generated with RoboDoc v3.0i (Jul 10 1996)
@rem RoboDoc is copyright 1994--1996 by Maverick Software Development
@node Main HTMLtext_mcc.guide
@{jcenter}
@{fg highlight}@{b}TABLE OF CONTENTS@{ub}@{fg text}

@{"HTMLtext.mcc/HTMLtext.mcc              " Link "HTMLtext.mcc"}
@{"HTMLtext.mcc/MUIA_HTMLtext_Block       " Link "MUIA_HTMLtext_Block"}
@{"HTMLtext.mcc/MUIA_HTMLtext_Clicked     " Link "MUIA_HTMLtext_Clicked"}
@{"HTMLtext.mcc/MUIA_HTMLtext_CloseURLHook" Link "MUIA_HTMLtext_CloseURLHook"}
@{"HTMLtext.mcc/MUIA_HTMLtext_Contents    " Link "MUIA_HTMLtext_Contents"}
@{"HTMLtext.mcc/MUIA_HTMLtext_DoubleClick " Link "MUIA_HTMLtext_DoubleClick"}
@{"HTMLtext.mcc/MUIA_HTMLtext_ElementList " Link "MUIA_HTMLtext_ElementList"}
@{"HTMLtext.mcc/MUIA_HTMLtext_LoadImages  " Link "MUIA_HTMLtext_LoadImages"}
@{"HTMLtext.mcc/MUIA_HTMLtext_OpenURLHook " Link "MUIA_HTMLtext_OpenURLHook"}
@{"HTMLtext.mcc/MUIA_HTMLtext_Path        " Link "MUIA_HTMLtext_Path"}
@{"HTMLtext.mcc/MUIA_HTMLtext_Title       " Link "MUIA_HTMLtext_Title"}
@{"HTMLtext.mcc/MUIA_HTMLtext_URL         " Link "MUIA_HTMLtext_URL"}
@{"HTMLtext.mcc/MUIA_HTMLtext_VLinkHook   " Link "MUIA_HTMLtext_VLinkHook"}
@{"HTMLtext.mcc/MUIM_HTMLtext_Jump        " Link "MUIM_HTMLtext_Jump"}
@{"HTMLtext.mcc/MUIM_HTMLtext_Mark        " Link "MUIM_HTMLtext_Mark"}
@{"HTMLtext.mcc/MUIM_HTMLtext_Reload      " Link "MUIM_HTMLtext_Reload"}
@{jleft}
@endnode
@Node "HTMLtext.mcc" "HTMLtext.mcc/HTMLtext.mcc"
@{fg shine}HTMLtext.mcc/HTMLtext.mcc@{fg text}

@{b}COPYRIGHT@{ub}

     @{b}HTMLtext.mcc@{ub}
     (C)opyright by Dirk Holtwick, 1997

     This product is SHAREWARE and the source is available from
     the author only if you are a registred user.

     The HTMLtext class may be used in every SHAREWARE project
     without paying any fee. For comercial applications you need
     a written permission of the author.


@{b}DESCRIPTION@{ub}
     The HTMLtext class for MUI dispalys a subset of HTML in a virtual
     group. You may put it into a ScrollgroupObject to move easier
     through the text.


@{b}AUTHOR@{ub}
@{b}     Dirk Holtwick
     Grenzdicker Str. 13
     D-47665 Sonsbeck
     dirco\@uni-duisburg.de
     http://fsrinfo.uni-duisburg.de/~dirk/

@{ub}
@endnode
@Node "MUIA_HTMLtext_Block" "HTMLtext.mcc/MUIA_HTMLtext_Block"
@{fg shine}HTMLtext.mcc/MUIA_HTMLtext_Block@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIA_HTMLtext_Block@{ub} -- [..G], char *

@{fg text}
@{b}FUNCTION@{ub}
     Get a pointer to the marked text. The text will be stripped of any
     HTML informations.


@{b}EXAMPLE@{ub}
     moreHTML.c


@{b}SEE ALSO@{ub}
     @{"MUIA_HTMLtext_DoubleClick" Link "MUIA_HTMLtext_DoubleClick"}


@endnode
@Node "MUIA_HTMLtext_Clicked" "HTMLtext.mcc/MUIA_HTMLtext_Clicked"
@{fg shine}HTMLtext.mcc/MUIA_HTMLtext_Clicked@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIA_HTMLtext_Clicked@{ub} -- [..G], BOOL

@{fg text}
@{b}FUNCTION@{ub}
     Indicates wether the recent displayed document was choosen by
     clicking on a link (result is TRUE) in a document or by setting
     @{"MUIA_HTMLtext_Contents" Link "MUIA_HTMLtext_Contents"} or @{"MUIA_HTMLtext_URL" Link "MUIA_HTMLtext_URL"} (result is FALSE).


@endnode
@Node "MUIA_HTMLtext_CloseURLHook" "HTMLtext.mcc/MUIA_HTMLtext_CloseURLHook"
@{fg shine}HTMLtext.mcc/MUIA_HTMLtext_CloseURLHook@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIA_HTMLtext_CloseURLHook@{ub} -- [IS.], struct Hook *

@{fg text}
@{b}FUNCTION@{ub}
     This hook will be called, always when the local copy of an URL
     is not longer needed. You may delete this file if you want,
     otherwise it will never be deleted.


@{b}EXAMPLE@{ub}
     moreHTML.c


@{b}SEE ALSO@{ub}
     @{"MUIA_HTMLtext_URL" Link "MUIA_HTMLtext_URL"}, @{"MUIA_HTMLtext_OpenURLHook" Link "MUIA_HTMLtext_OpenURLHook"}


@endnode
@Node "MUIA_HTMLtext_Contents" "HTMLtext.mcc/MUIA_HTMLtext_Contents"
@{fg shine}HTMLtext.mcc/MUIA_HTMLtext_Contents@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIA_HTMLtext_Contents@{ub} -- (V1 ) [ISG], STRPTR

@{fg text}
@{b}FUNCTION@{ub}
     HTML text to be displayed in the HTMLtext object.

     This string may content HTML tags and the equivalent
     closing tags (e.g. <b>..</b>. Not supported tags will not have any
     effect to the output. The structure defined by the HTML specifications
     have to be respected. See example for a simple HTML demo text.
     To know about the supported tags and attributes please refer to
     the documentation of the HTMLtext class.

     See also further documentations of the HTML language.


@{b}EXAMPLE@{ub}
     @{b}MUIA_HTMLtext_Contents@{ub},
        "<html>"
        "  <head>"
        "     <title>Example</title>"
        "  </head>"
        "  <body>"
        "     <p>A simple example for the HTML class</p>"
        "  </body>"
        "</html>"

   BUG
      If you set a text with background pattern in a not opened
      window the background may appear crippled. (Don't ask me why!)


@{b}SEE ALSO@{ub}
      @{"MUIA_HTMLtext_URL" Link "MUIA_HTMLtext_URL"}, @{"MUIA_HTMLtext_Path" Link "MUIA_HTMLtext_Path"}, @{"MUIA_HTMLtext_Title" Link "MUIA_HTMLtext_Title"}


@endnode
@Node "MUIA_HTMLtext_DoubleClick" "HTMLtext.mcc/MUIA_HTMLtext_DoubleClick"
@{fg shine}HTMLtext.mcc/MUIA_HTMLtext_DoubleClick@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIA_HTMLtext_DoubleClick@{ub} -- [..G], BOOL

@{fg text}
@{b}FUNCTION@{ub}
     This attribute is set to TRUE whenever the user
     double clicks on an object in the text.


@{b}SEE ALSO@{ub}
     @{"MUIA_HTMLtext_Block" Link "MUIA_HTMLtext_Block"}


@endnode
@Node "MUIA_HTMLtext_ElementList" "HTMLtext.mcc/MUIA_HTMLtext_ElementList"
@{fg shine}HTMLtext.mcc/MUIA_HTMLtext_ElementList@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIA_HTMLtext_ElementList@{ub} -- [..G], struct MUIS_HTMLtext_Element *

@{fg text}
@{b}FUNCTION@{ub}
     Gets a pointer to the first element of the list created by @{"HTMLtext.mcc" Link "HTMLtext.mcc"}
     to handle the text objects.

     The structure MUIS_HTMLtext_Element looks like this:

        struct MUIS_HTMLtext_Element
        {
           struct   MUIS_HTMLtext_Element *next;
           UWORD    type;
           UWORD    x,y,dx,dy;
           Object   *obj;
           char     *text;
        };

     You can walk through the list by following 'next' until it is NULL.
     'x','y' contain the eventually coords of the related MUI object
     relatively to the upper left corner of the HTML object. 'dx' and 'dy'
     contain the width and height of the object.
     'type' can contain the various values of them only the followings
     are public:

        MUIV_HTMLtext_Element_Text:
           You may find a pointer to the text in 'text' and in 'obj'
           a pointer to a MUI object of an internal custom class of
           @{"HTMLtext.mcc" Link "HTMLtext.mcc"}.

        MUIV_HTMLtext_Element_Image:
           'obj' contains a pointer to the MUI object of an internal
           custom class of @{"HTMLtext.mcc" Link "HTMLtext.mcc"}.

        MUIV_HTMLtext_Element_HorizRule:
           'obj' contains a pointer to the MUI object of 'Rectangle Class'.

     You may also use some macros defined in the include files. (See example)


@{b}EXAMPLE@{ub}
     // Print active text of 'obj' (an HTMLtext object)

     struct MUIS_HTMLtext_Element *el;

     set(app, MUIA_Application_Sleep, TRUE);      // Better, to avoid confusion
     get(obj, @{b}MUIA_HTMLtext_ElementList@{ub}, &el);
     while(el)
     {
        printf("%s", MACRO_HTMLtext_GetText(el));
        el = el->next;
     }
     set(app, MUIA_Application_Sleep, FALSE);


@endnode
@Node "MUIA_HTMLtext_LoadImages" "HTMLtext.mcc/MUIA_HTMLtext_LoadImages"
@{fg shine}HTMLtext.mcc/MUIA_HTMLtext_LoadImages@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIA_HTMLtext_LoadImages@{ub} -- [IS.], BOOL

@{fg text}
@{b}FUNCTION@{ub}
     Override the users configuration reguarding the loading of images in
     the HTML document. This may be usefull, if you use the @{"HTMLtext.mcc" Link "HTMLtext.mcc"}
     to display informations in which the image is a very important part.
     In all other cases it might be better to let the user choose.


@{b}EXAMPLE@{ub}
     moreHTML.c


@endnode
@Node "MUIA_HTMLtext_OpenURLHook" "HTMLtext.mcc/MUIA_HTMLtext_OpenURLHook"
@{fg shine}HTMLtext.mcc/MUIA_HTMLtext_OpenURLHook@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIA_HTMLtext_OpenURLHook@{ub} -- [IS.], struct Hook *

@{fg text}
@{b}FUNCTION@{ub}
     This hook will be called, always when an URL has to be loaded
     whose protocol is not supported. These URL's may come from
     hyperlinks, images or else.
     The hook function will receive a pointer to a structure described bellow
     in the register a1. In a0 is a pointer to the calling hook and in a2
     a pointer to the calling object.

        struct
        {
           char *URL;
           char *TmpFilename;
        };

     The member 'URL' contains the full name of the URL. 'TmpFilename' is an
     array of char where to the calling hook copies the name of a local file
     that contains the data coming from the URL. The default name already
     standing in 'TmpFilename' will be a file in "T:". (Created by SAS/C
     tmpnam() function).
     However, you may change the name as you like as long as it is not long
     than 256 bytes.

     The class will test if the temporary file exists or not. If not will
     follow an ordinary error message, that the file has not been found.

     FUTURE:

     For the future I plan to do file notification, that means that you may
     launch a process to load data from the URL in a file. Then you leave the
     function called by the Hook but returning TRUE and the name of the file.
     Once the file is loaded comletely, @{"HTMLtext.mcc" Link "HTMLtext.mcc"} will refresh the display.
     Due to some technical problems it will take some time, before everything
     works fine :(


@{b}EXAMPLE@{ub}
     moreHTML.c


@{b}SEE ALSO@{ub}
     @{"MUIA_HTMLtext_URL" Link "MUIA_HTMLtext_URL"}, @{"MUIA_HTMLtext_CloseURLHook" Link "MUIA_HTMLtext_CloseURLHook"}


@endnode
@Node "MUIA_HTMLtext_Path" "HTMLtext.mcc/MUIA_HTMLtext_Path"
@{fg shine}HTMLtext.mcc/MUIA_HTMLtext_Path@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIA_HTMLtext_Path@{ub} -- (V1 ) [ISG], STRPTR

@{fg text}
@{b}FUNCTION@{ub}
     Sets the path to the used document. This value will be used, if
     there are images to load or links to follow and they not have
     a full path. If you use MUIA_HTMLtext_LoadContents, the path will
     be automatically set.


@{b}SEE ALSO@{ub}
     @{"MUIA_HTMLtext_URL" Link "MUIA_HTMLtext_URL"}


@endnode
@Node "MUIA_HTMLtext_Title" "HTMLtext.mcc/MUIA_HTMLtext_Title"
@{fg shine}HTMLtext.mcc/MUIA_HTMLtext_Title@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIA_HTMLtext_Title@{ub} -- (V1 ) [..G], STRPTR

@{fg text}
@{b}FUNCTION@{ub}
     Gets the title of the document currently active. The title has
     to be specified in the text between <title> and </title> tags.


@{b}SEE ALSO@{ub}
     @{"MUIA_HTMLtext_Contents" Link "MUIA_HTMLtext_Contents"}


@endnode
@Node "MUIA_HTMLtext_URL" "HTMLtext.mcc/MUIA_HTMLtext_URL"
@{fg shine}HTMLtext.mcc/MUIA_HTMLtext_URL@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIA_HTMLtext_URL@{ub} -- [ISG], STRPTR

@{fg text}
@{b}FUNCTION@{ub}
     Name of an URL to be loaded. If the URL is of an not supported
     protocol, the @{"MUIA_HTMLtext_OpenURLHook" Link "MUIA_HTMLtext_OpenURLHook"} will be called.

     The only supported protocol, yet, is "file://". Names without
     any protocol specification will be handled as normal local filenames.


@{b}SEE ALSO@{ub}
      @{"MUIA_HTMLtext_OpenURLHook" Link "MUIA_HTMLtext_OpenURLHook"}, @{"MUIA_HTMLtext_Path" Link "MUIA_HTMLtext_Path"}, @{"MUIA_HTMLtext_Title" Link "MUIA_HTMLtext_Title"}


@endnode
@Node "MUIA_HTMLtext_VLinkHook" "HTMLtext.mcc/MUIA_HTMLtext_VLinkHook"
@{fg shine}HTMLtext.mcc/MUIA_HTMLtext_VLinkHook@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIA_HTMLtext_VLinkHook@{ub} -- [IS.], struct Hook *

@{fg text}
@{b}FUNCTION@{ub}
     This hook will always be called, when the parser finds an A tag with
     a HREF attribute. As argument the URL of this link will be passed and
     the function has to return TRUE if this URL was already visited or
     FALSE if not.


@{b}EXAMPLE@{ub}
     HTMLtext-Demo.c


@endnode
@Node "MUIM_HTMLtext_Jump" "HTMLtext.mcc/MUIM_HTMLtext_Jump"
@{fg shine}HTMLtext.mcc/MUIM_HTMLtext_Jump@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIM_HTMLtext_Jump@{ub}

@{fg text}
@{b}SYNOPSIS@{ub}
     DoMethod(obj,@{b}MUIM_HTMLtext_Jump@{ub}, struct MUIS_HTMLtext_Element *el);


@{b}FUNCTION@{ub}
     Jump to position of an element to make it visible to the user.


@{b}INPUTS@{ub}
     el   - The element to be jumped to


@{b}RESULT@{ub}
     If for some resons it was impossible to jump, FALSE is returned.


@{b}BUGS@{ub}
@{fg shine}     Function may crash if element passed are not in element list.

@{fg text}
@{b}SEE ALSO@{ub}
     @{"MUIA_HTMLtext_ElementList" Link "MUIA_HTMLtext_ElementList"}, MUIA_Virtgroup_Top


@endnode
@Node "MUIM_HTMLtext_Mark" "HTMLtext.mcc/MUIM_HTMLtext_Mark"
@{fg shine}HTMLtext.mcc/MUIM_HTMLtext_Mark@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIM_HTMLtext_Mark@{ub}

@{fg text}
@{b}SYNOPSIS@{ub}
     DoMethod(obj,@{b}MUIM_HTMLtext_Mark@{ub},
        struct MUIS_HTMLtext_Element *first,
        struct MUIS_HTMLtext_Element *last);


@{b}FUNCTION@{ub}
     Mark a part of the HTML text. Use list from @{"MUIA_HTMLtext_ElementList" Link "MUIA_HTMLtext_ElementList"}


@{b}INPUTS@{ub}
     first  - The first element to be marked
     last   - The last  element to be marked


@{b}RESULT@{ub}
     The result value is currently undefined.


@{b}BUGS@{ub}
@{fg shine}     Function may crash if element passed are not in element list.

@{fg text}
@{b}SEE ALSO@{ub}
     @{"MUIA_HTMLtext_ElementList" Link "MUIA_HTMLtext_ElementList"}


@endnode
@Node "MUIM_HTMLtext_Reload" "HTMLtext.mcc/MUIM_HTMLtext_Reload"
@{fg shine}HTMLtext.mcc/MUIM_HTMLtext_Reload@{fg text}

@{b}NAME@{ub}
@{fg shine}     @{b}MUIM_HTMLtext_Reload@{ub}

@{fg text}
@{b}SYNOPSIS@{ub}
     DoMethod(obj,@{b}MUIM_HTMLtext_Reload@{ub});


@{b}FUNCTION@{ub}
     Reloads the current page. Use this, if you know that the documents
     contents have changed, because @{"MUIA_HTMLtext_URL" Link "MUIA_HTMLtext_URL"} will not reload
     the document, if the URL given is the same as the one currently
     displayed.


@{b}SEE ALSO@{ub}
     @{"MUIA_HTMLtext_URL" Link "MUIA_HTMLtext_URL"}


@endnode

