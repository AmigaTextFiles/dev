@database HYPER:Modula-2/InputEvent
@node Main "HYPER:Modula-2/InputEvent"

Konstanten

   @{" asciiDel " link Modul 51}                    @{" asciiFirst " link Modul 49}                  @{" asciiLast " link Modul 50}
   @{" c0First " link Modul 47}                     @{" c0Last " link Modul 48}                      @{" c1First " link Modul 52}
   @{" c1Last " link Modul 53}                      @{" classMax " link Modul 16}                    @{" commCodeFirst " link Modul 45}
   @{" commCodeLast " link Modul 46}                @{" keyCodeFirst " link Modul 43}                @{" keyCodeLast " link Modul 44}
   @{" lButton " link Modul 56}                     @{" latin1First " link Modul 54}                 @{" latin1Last " link Modul 55}
   @{" mButton " link Modul 58}                     @{" newActive " link Modul 60}                   @{" newSize " link Modul 61}
   @{" noButton " link Modul 59}                    @{" rButton " link Modul 57}                     @{" refresh " link Modul 62}
   @{" reqClear " link Modul 63}                    @{" reqSet " link Modul 64}                      @{" subClassCompatible " link Modul 19}
   @{" subClassPixel " link Modul 20}               @{" subClassTablet " link Modul 21}              @{" upPrefix " link Modul 41}


Typ-Deklarationen

   @{" Class " link Modul 7}                       @{" InputEvent " link Modul 76}                  @{" InputEventPtr " link Modul 75}
   @{" PointerPixel " link Modul 28}                @{" PointerPixelPtr " link Modul 32}             @{" PointerTablet " link Modul 34}
   @{" PointerTabletPtr " link Modul 39}            @{" QualifierSet " link Modul 72}                @{" Qualifiers " link Modul 66}
   @{" ShortQualifierSet " link Modul 73}           @{" Vec2 " link Modul 23}                     

@endnode
@node Modul "HYPER:Modula-2/InputEvent.def.guide"
DEFINITION MODULE @{" InputEvent " link HYPER:Modula-2/InputEvent.def.guide/Modul 76}; (*$ Implementation:=FALSE *)
(* 17-Apr-1992/cn *)

FROM SYSTEM IMPORT ADDRESS;

FROM Timer IMPORT @{" TimeVal " link HYPER:Modula-2/Timer.def.guide/Modul 19};

TYPE
 @{" Class " link HYPER:Modula-2/InputEvent.def.guide/Modul 7}=(
  null,rawkey,rawmouse,event,pointerpos,cl5,timer,gadgetdown,
  gadgetup,requester,menulist,closewindow,sizewindow,
  refreshwindow,newprefs,diskremoved,diskinserted,
  activewindow,inactivewindow,
  (*36*)newpointerpos,(*36*)menuhelp,(*36*)changewindow
 );

CONST
 classMax=ORD(MAX(@{" Class " link HYPER:Modula-2/InputEvent.def.guide/Modul 7}));

 (*36*)subClassCompatible=@{" Class " link HYPER:Modula-2/InputEvent.def.guide/Modul 7}(0);
 (*36*)subClassPixel=@{" Class " link HYPER:Modula-2/InputEvent.def.guide/Modul 7}(1);
 (*36*)subClassTablet=@{" Class " link HYPER:Modula-2/InputEvent.def.guide/Modul 7}(2);

TYPE
 (*36*)@{" Vec2 " link HYPER:Modula-2/InputEvent.def.guide/Modul 23}=RECORD
        x,y:CARDINAL;
       END;

 (*36*)@{" PointerPixel " link HYPER:Modula-2/InputEvent.def.guide/Modul 28}=RECORD
        screen:ADDRESS;
        position:@{" Vec2 " link HYPER:Modula-2/InputEvent.def.guide/Modul 23};
       END;
 (*36*)@{" PointerPixelPtr " link HYPER:Modula-2/InputEvent.def.guide/Modul 32}=POINTER TO @{" PointerPixel " link HYPER:Modula-2/InputEvent.def.guide/Modul 28};

 (*36*)@{" PointerTablet " link HYPER:Modula-2/InputEvent.def.guide/Modul 34}=RECORD
        range:@{" Vec2 " link HYPER:Modula-2/InputEvent.def.guide/Modul 23};
        value:@{" Vec2 " link HYPER:Modula-2/InputEvent.def.guide/Modul 23};
        pressure:INTEGER;
       END;
 (*36*)@{" PointerTabletPtr " link HYPER:Modula-2/InputEvent.def.guide/Modul 39}=POINTER TO @{" PointerTablet " link HYPER:Modula-2/InputEvent.def.guide/Modul 34};

CONST
 upPrefix=080H;
 keyCodeFirst=00H;
 keyCodeLast=077H;
 commCodeFirst=078H;
 commCodeLast=07FH;
 c0First=00H;
 c0Last=01FH;
 asciiFirst=020H;
 asciiLast=07EH;
 asciiDel=07FH;
 c1First=080H;
 c1Last=09FH;
 latin1First=0A0H;
 latin1Last=0FFH;
 lButton=068H;
 rButton=069H;
 mButton=06AH;
 noButton=0FFH;
 (*36*)newActive=01H;
 (*36*)newSize=02H;
 (*36*)refresh=03H;
 reqClear=00H;
 reqSet=01H;

TYPE
 @{" Qualifiers " link HYPER:Modula-2/InputEvent.def.guide/Modul 66}=(
  lShift,rShift,capsLock,control,lAlt,rAlt,lCommand,rCommand,
  numericPad,repeat,interrupt,multiBroadcast,midButton,
  rightButton,leftButton,relativeMouse
 );
 @{" QualifierSet " link HYPER:Modula-2/InputEvent.def.guide/Modul 72}=SET OF @{" Qualifiers " link HYPER:Modula-2/InputEvent.def.guide/Modul 66};
 @{" ShortQualifierSet " link HYPER:Modula-2/InputEvent.def.guide/Modul 73}=SET OF [lShift..rCommand]; (* 1 Byte *)

 @{" InputEventPtr " link HYPER:Modula-2/InputEvent.def.guide/Modul 75}=POINTER TO @{" InputEvent " link HYPER:Modula-2/InputEvent.def.guide/Modul 76};
 @{" InputEvent " link HYPER:Modula-2/InputEvent.def.guide/Modul 76}=RECORD
  nextEvent:@{" InputEventPtr " link HYPER:Modula-2/InputEvent.def.guide/Modul 75};
  class:@{" Class " link HYPER:Modula-2/InputEvent.def.guide/Modul 7};
  subClass:@{" Class " link HYPER:Modula-2/InputEvent.def.guide/Modul 7};
  code:CARDINAL;
  qualifier:@{" QualifierSet " link HYPER:Modula-2/InputEvent.def.guide/Modul 72};
  CASE :INTEGER OF
  | 0:
   x,y:INTEGER;
  | 1:
   eventAddress:ADDRESS;
  | 2:
   prev1DownCode:SHORTCARD;
   prev1DownQual:@{" ShortQualifierSet " link HYPER:Modula-2/InputEvent.def.guide/Modul 73};
   prev2DownCode:SHORTCARD;
   prev2DownQual:@{" ShortQualifierSet " link HYPER:Modula-2/InputEvent.def.guide/Modul 73};
  END;
  timeStamp:@{" TimeVal " link HYPER:Modula-2/Timer.def.guide/Modul 19}
 END;

END @{" InputEvent " link HYPER:Modula-2/InputEvent.def.guide/Modul 76}.noimp

@endnode
