@database HYPER:Modula-2/DiskFontL
@node Main "HYPER:Modula-2/DiskFontL"

Prozeduren

   @{" AvailFonts " link Modul 21}                  @{" DisposeFontContents " link Modul 26}         @{" NewFontContents " link Modul 29}
   @{" NewScaledDiskFont " link Modul 34}           @{" OpenDiskFont " link Modul 39}             

Konstanten

   @{" diskfontMinVersion " link Modul 17}          @{" diskfontName " link Modul 19}             

Variablen

   @{" diskfontBase " link Modul 15}                @{" diskfontVersion " link Modul 13}          

@endnode
@node Modul "HYPER:Modula-2/DiskFontL.def.guide"
DEFINITION MODULE DiskFontL{"diskfont.library",33};

FROM SYSTEM IMPORT ADDRESS;

FROM DosD IMPORT
 @{" FileLockPtr " link HYPER:Modula-2/DosD.def.guide/Modul 206};

FROM GraphicsD IMPORT
 @{" TextFontPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 61},@{" TTextAttrPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 63};

IMPORT
 d:DiskFontD,R,ExecD;

VAR
 diskfontVersion:INTEGER;
 diskfontBase:ExecD.@{" LibraryPtr " link HYPER:Modula-2/ExecD.def.guide/Modul 412};

CONST
 diskfontMinVersion=33;
 diskfontName="diskfont.library";

PROCEDURE @{" AvailFonts " link HYPER:Autodocs/diskfont/AvailFonts() }(
           buffer{R.A0}:ADDRESS;
           bufBytes{R.D0}:LONGINT;
           flags{R.D1}:d.@{" AvailFontsSet " link HYPER:Modula-2/DiskFontD.def.guide/Modul 31}):LONGINT; CODE -36;

PROCEDURE (*34*)@{" DisposeFontContents " link HYPER:Autodocs/diskfont/DisposeFontContents() }(
                 fontContHdr{R.A1}:d.@{" FontContentsHeaderPtr " link HYPER:Modula-2/DiskFontD.def.guide/Modul 53}); CODE -48;

PROCEDURE (*34*)@{" NewFontContents " link HYPER:Autodocs/diskfont/NewFontContents() }(
                 fontsLock{R.A0}:@{" FileLockPtr " link HYPER:Modula-2/DosD.def.guide/Modul 206};
                 fontName{R.A1}:ADDRESS
                ):d.@{" FontContentsHeaderPtr " link HYPER:Modula-2/DiskFontD.def.guide/Modul 53}; CODE -42;

PROCEDURE (*36*)@{" NewScaledDiskFont " link HYPER:Autodocs/diskfont/NewScaledDiskFont() }(
                 sourceFont{R.A0}:@{" TextFontPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 61};
                 destTextAttr{R.A1}:@{" TTextAttrPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 63}
                ):d.@{" DiskFontHeaderPtr " link HYPER:Modula-2/DiskFontD.def.guide/Modul 66}; CODE -54;

PROCEDURE @{" OpenDiskFont " link HYPER:Autodocs/diskfont/OpenDiskFont() }(
           textAttr{R.A0}:ADDRESS):@{" TextFontPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 61}; CODE -30;

END DiskFontL.lib33

@endnode
