@database HYPER:Modula-2/LayersL
@node Main "HYPER:Modula-2/LayersL"

Prozeduren

   @{" BeginUpdate " link Modul 20}                 @{" BehindLayer " link Modul 23}                 @{" CreateBehindHookLayer " link Modul 27}
   @{" CreateBehindLayer " link Modul 38}           @{" CreateUpfrontHookLayer " link Modul 48}      @{" CreateUpfrontLayer " link Modul 59}
   @{" DeleteLayer " link Modul 69}                 @{" DisposeLayerInfo " link Modul 73}            @{" EndUpdate " link Modul 75}
   @{" FattenLayerInfo " link Modul 79}             @{" InitLayers " link Modul 81}                  @{" InstallClipRegion " link Modul 83}
   @{" InstallLayerHook " link Modul 87}            @{" LockLayer " link Modul 91}                   @{" LockLayerInfo " link Modul 95}
   @{" LockLayers " link Modul 97}                  @{" MoveLayer " link Modul 99}                   @{" MoveLayerInFrontOf " link Modul 105}
   @{" MoveSizeLayer " link Modul 109}               @{" NewLayerInfo " link Modul 116}                @{" ScrollLayer " link Modul 118}
   @{" SizeLayer " link Modul 124}                   @{" SwapBitsRastPortClipRect " link Modul 130}    @{" ThinLayerInfo " link Modul 134}
   @{" UnlockLayer " link Modul 136}                 @{" UnlockLayerInfo " link Modul 138}             @{" UnlockLayers " link Modul 140}
   @{" UpfrontLayer " link Modul 142}                @{" WhichLayer " link Modul 146}               

Konstanten

   @{" layersMinVersion " link Modul 16}            @{" layersName " link Modul 18}               

Variablen

   @{" layersBase " link Modul 14}                  @{" layersVersion " link Modul 12}            

@endnode
@node Modul "HYPER:Modula-2/LayersL.def.guide"
DEFINITION MODULE LayersL{"layers.library",33};
(* 18-Apr-1992/cn *)

FROM GraphicsD IMPORT
 @{" ClipRectPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 27},@{" BitMapPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 24},@{" LayerFlagSet " link HYPER:Modula-2/GraphicsD.def.guide/Modul 754},@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44},@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43},@{" RastPortPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 51},
 @{" RegionPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 54};

FROM UtilityD IMPORT @{" HookPtr " link HYPER:Modula-2/UtilityD.def.guide/Modul 47};

IMPORT
 R,ExecD;

VAR
 layersVersion:INTEGER;
 layersBase:ExecD.@{" LibraryPtr " link HYPER:Modula-2/ExecD.def.guide/Modul 412};

CONST
 layersMinVersion=33;
 layersName="layers.library";

PROCEDURE @{" BeginUpdate " link HYPER:Autodocs/layers/BeginUpdate() }(
           l{R.A0}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43}):BOOLEAN; CODE -78;

PROCEDURE @{" BehindLayer " link HYPER:Autodocs/layers/BehindLayer() }(
           (* dummy{R.A0}:LONGINT; *)
           layer{R.A1}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43}):BOOLEAN; CODE -54;

PROCEDURE(*36*) @{" CreateBehindHookLayer " link HYPER:Autodocs/layers/CreateBehindHookLayer() }(
                 li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44};
                 bm{R.A1}:@{" BitMapPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 24};
                 x0{R.D0}:LONGINT;
                 y0{R.D1}:LONGINT;
                 x1{R.D2}:LONGINT;
                 y1{R.D3}:LONGINT;
                 flags{R.D4}:@{" LayerFlagSet " link HYPER:Modula-2/GraphicsD.def.guide/Modul 754};
                 hook{R.A3}:@{" HookPtr " link HYPER:Modula-2/UtilityD.def.guide/Modul 47};
                 superbm{R.A2}:@{" BitMapPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 24}):@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43}; CODE -192;

PROCEDURE @{" CreateBehindLayer " link HYPER:Autodocs/layers/CreateBehindLayer() }(
           li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44};
           bm{R.A1}:@{" BitMapPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 24};
           x0{R.D0}:LONGINT;
           y0{R.D1}:LONGINT;
           x1{R.D2}:LONGINT;
           y1{R.D3}:LONGINT;
           flags{R.D4}:@{" LayerFlagSet " link HYPER:Modula-2/GraphicsD.def.guide/Modul 754};
           superbm{R.A2}:@{" BitMapPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 24}):@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43}; CODE -42;

PROCEDURE(*36*) @{" CreateUpfrontHookLayer " link HYPER:Autodocs/layers/CreateUpfrontHookLayer() }(
                 li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44};
                 bm{R.A1}:@{" BitMapPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 24};
                 x0{R.D0}:LONGINT;
                 y0{R.D1}:LONGINT;
                 x1{R.D2}:LONGINT;
                 y1{R.D3}:LONGINT;
                 flags{R.D4}:@{" LayerFlagSet " link HYPER:Modula-2/GraphicsD.def.guide/Modul 754};
                 hook{R.A3}:@{" HookPtr " link HYPER:Modula-2/UtilityD.def.guide/Modul 47};
                 superbm{R.A2}:@{" BitMapPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 24}):@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43}; CODE -186;

PROCEDURE @{" CreateUpfrontLayer " link HYPER:Autodocs/layers/CreateUpfrontLayer() }(
           li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44};
           bm{R.A1}:@{" BitMapPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 24};
           x0{R.D0}:LONGINT;
           y0{R.D1}:LONGINT;
           x1{R.D2}:LONGINT;
           y1{R.D3}:LONGINT;
           flags{R.D4}:@{" LayerFlagSet " link HYPER:Modula-2/GraphicsD.def.guide/Modul 754};
           superbm{R.A2}:@{" BitMapPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 24}):@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43}; CODE -36;

PROCEDURE @{" DeleteLayer " link HYPER:Autodocs/layers/DeleteLayer() }(
           (* dummy{R.A0}:LONGINT; *)
           layer{R.A1}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43}):BOOLEAN; CODE -90;

PROCEDURE @{" DisposeLayerInfo " link HYPER:Autodocs/layers/DisposeLayerInfo() }(li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44}); CODE -150;

PROCEDURE @{" EndUpdate " link HYPER:Autodocs/layers/EndUpdate() }(
           layer{R.A0}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43};
           completed{R.D0}:BOOLEAN); CODE -84;

PROCEDURE @{" FattenLayerInfo " link HYPER:Autodocs/layers/FattenLayerInfo() }(li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44}); CODE -156;

PROCEDURE @{" InitLayers " link HYPER:Autodocs/layers/InitLayers() }(li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44}); CODE -30;

PROCEDURE @{" InstallClipRegion " link HYPER:Autodocs/layers/InstallClipRegion() }(
           layer{R.A0}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43};
           region{R.A1}:@{" RegionPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 54}):@{" RegionPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 54}; CODE -174;

PROCEDURE(*36*) @{" InstallLayerHook " link HYPER:Autodocs/layers/InstallLayerHook() }(
                 layer{R.A0}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43};
                 hook{R.A1}:@{" HookPtr " link HYPER:Modula-2/UtilityD.def.guide/Modul 47}):@{" HookPtr " link HYPER:Modula-2/UtilityD.def.guide/Modul 47}; CODE -198;

PROCEDURE @{" LockLayer " link HYPER:Autodocs/layers/LockLayer() }(
           (* dummy{R.A0}:LONGINT; *)
           layer{R.A1}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43}); CODE -96;

PROCEDURE @{" LockLayerInfo " link HYPER:Autodocs/layers/LockLayerInfo() }(li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44}); CODE -120;

PROCEDURE @{" LockLayers " link HYPER:Autodocs/layers/LockLayers() }(li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44}); CODE -108;

PROCEDURE @{" MoveLayer " link HYPER:Autodocs/layers/MoveLayer() }(
           (* dummy{R.A0}:LONGINT; *)
           layer{R.A1}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43};
           dx{R.D0}:LONGINT;
           dy{R.D1}:LONGINT):BOOLEAN; CODE -60;

PROCEDURE @{" MoveLayerInFrontOf " link HYPER:Autodocs/layers/MoveLayerInFrontOf() }(
           layerToMove{R.A0}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43};
           otherLayer{R.A1}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43}):BOOLEAN; CODE -168;

PROCEDURE(*36*) @{" MoveSizeLayer " link HYPER:Autodocs/layers/MoveSizeLayer() }(
                 layer{R.A0}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43};
                 dx{R.D0}:LONGINT;
                 dy{R.D1}:LONGINT;
                 dw{R.D2}:LONGINT;
                 dh{R.D3}:LONGINT):BOOLEAN; CODE -180;

PROCEDURE @{" NewLayerInfo " link HYPER:Autodocs/layers/NewLayerInfo() }():@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44}; CODE -144;

PROCEDURE @{" ScrollLayer " link HYPER:Autodocs/layers/ScrollLayer() }(
           (* dummy{R.A0}:LONGINT; *)
           layer{R.A1}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43};
           dx{R.D0}:LONGINT;
           dy{R.D1}:LONGINT); CODE -72;

PROCEDURE @{" SizeLayer " link HYPER:Autodocs/layers/SizeLayer() }(
           (* dummy{R.A0}:LONGINT; *)
           layer{R.A1}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43};
           dx{R.D0}:LONGINT;
           dy{R.D1}:LONGINT):BOOLEAN; CODE -66;

PROCEDURE @{" SwapBitsRastPortClipRect " link HYPER:Autodocs/layers/SwapBitsRastPortClipRect() }(
           rp{R.A0}:@{" RastPortPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 51};
           cr{R.A1}:@{" ClipRectPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 27}); CODE -126;

PROCEDURE @{" ThinLayerInfo " link HYPER:Autodocs/layers/ThinLayerInfo() }(li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44}); CODE -162;

PROCEDURE @{" UnlockLayer " link HYPER:Autodocs/layers/UnlockLayer() }(layer{R.A0}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43}); CODE -102;

PROCEDURE @{" UnlockLayerInfo " link HYPER:Autodocs/layers/UnlockLayerInfo() }(li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44}); CODE -138;

PROCEDURE @{" UnlockLayers " link HYPER:Autodocs/layers/UnlockLayers() }(li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44}); CODE -114;

PROCEDURE @{" UpfrontLayer " link HYPER:Autodocs/layers/UpfrontLayer() }(
           (* dummy{R.A0}:LONGINT; *)
           layer{R.A1}:@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43}):BOOLEAN; CODE -48;

PROCEDURE @{" WhichLayer " link HYPER:Autodocs/layers/WhichLayer() }(
           li{R.A0}:@{" LayerInfoPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 44};
           x{R.D0}:LONGINT;
           y{R.D1}:LONGINT):@{" LayerPtr " link HYPER:Modula-2/GraphicsD.def.guide/Modul 43}; CODE -132;

END LayersL.

@endnode
