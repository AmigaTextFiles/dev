@database HYPER:Modula-2/KeyMapL
@node Main "HYPER:Modula-2/KeyMapL"

Prozeduren

   @{" AskKeyMapDefault " link Modul 20}            @{" MapANSI " link Modul 22}                     @{" MapRawKey " link Modul 29}
   @{" SetKeyMapDefault " link Modul 35}         

Konstanten

   @{" keymapMinVersion " link Modul 13}            @{" keymapName " link Modul 15}               

Variablen

   @{" keymapBase " link Modul 11}                  @{" keymapVersion " link Modul 9}            

Typ-Deklarationen

   @{" StrPtr " link Modul 17}                   

@endnode
@node Modul "HYPER:Modula-2/KeyMapL.def.guide"
DEFINITION MODULE KeyMapL{"keymap.library",36};

FROM SYSTEM IMPORT ADDRESS;

FROM @{" InputEvent " link HYPER:Modula-2/InputEvent.def.guide/Modul 76}	IMPORT @{" InputEventPtr " link HYPER:Modula-2/InputEvent.def.guide/Modul 75};

IMPORT
 d:KeyMapD,R,ExecD;

VAR
 keymapVersion:INTEGER;
 keymapBase:ExecD.@{" LibraryPtr " link HYPER:Modula-2/ExecD.def.guide/Modul 412};

CONST
 keymapMinVersion=36;
 keymapName="keymap.library";

TYPE
 @{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20}=ADDRESS;

PROCEDURE @{" AskKeyMapDefault " link HYPER:Autodocs/keymap/AskKeyMapDefault() }():d.@{" KeyMapPtr " link HYPER:Modula-2/KeyMapD.def.guide/Modul 58}; CODE -36;

PROCEDURE @{" MapANSI " link HYPER:Autodocs/keymap/MapANSI() }(
           string{R.A0}:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
           count{R.D0}:LONGINT;
           buffer{R.A1}:ADDRESS;
           length{R.D1}:LONGINT;
           keyMap{R.A2}:d.@{" KeyMapPtr " link HYPER:Modula-2/KeyMapD.def.guide/Modul 58}):LONGINT; CODE -48;

PROCEDURE @{" MapRawKey " link HYPER:Autodocs/keymap/MapRawKey() }(
           event{R.A0}:@{" InputEventPtr " link HYPER:Modula-2/InputEvent.def.guide/Modul 75};
           buffer{R.A1}:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
           length{R.D1}:INTEGER;
           keyMap{R.A2}:d.@{" KeyMapPtr " link HYPER:Modula-2/KeyMapD.def.guide/Modul 58}):INTEGER; CODE -42;

PROCEDURE @{" SetKeyMapDefault " link HYPER:Autodocs/keymap/SetKeyMapDefault() }(keyMap{R.A0}:d.@{" KeyMapPtr " link HYPER:Modula-2/KeyMapD.def.guide/Modul 58}); CODE -30;

END KeyMapL.lib36

@endnode
