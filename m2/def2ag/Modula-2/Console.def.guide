@database HYPER:Modula-2/Console
@node Main "HYPER:Modula-2/Console"

Prozeduren

   @{" CDInputHandler " link Modul 81}              @{" RawKeyConvert " link Modul 86}            

Konstanten

   @{" askDefaultKeyMap " link Modul 21}            @{" askKeyMap " link Modul 19}                   @{" black " link Modul 33}
   @{" blackBg " link Modul 42}                     @{" blue " link Modul 37}                        @{" blueBg " link Modul 46}
   @{" bold " link Modul 25}                        @{" clr0 " link Modul 51}                        @{" clr0Bg " link Modul 59}
   @{" clr1 " link Modul 52}                        @{" clr1Bg " link Modul 60}                      @{" clr2 " link Modul 53}
   @{" clr2Bg " link Modul 61}                      @{" clr3 " link Modul 54}                        @{" clr3Bg " link Modul 62}
   @{" clr4 " link Modul 55}                        @{" clr4Bg " link Modul 63}                      @{" clr5 " link Modul 56}
   @{" clr5Bg " link Modul 64}                      @{" clr6 " link Modul 57}                        @{" clr6Bg " link Modul 65}
   @{" clr7 " link Modul 58}                        @{" clr7Bg " link Modul 66}                      @{" consoleName " link Modul 16}
   @{" ctcHClrTab " link Modul 71}                  @{" ctcHClrTabsAll " link Modul 72}              @{" ctcHSetTab " link Modul 70}
   @{" cyan " link Modul 39}                        @{" cyanBg " link Modul 48}                      @{" default " link Modul 41}
   @{" defaultBg " link Modul 50}                   @{" dsrCpr " link Modul 68}                      @{" green " link Modul 35}
   @{" greenBg " link Modul 44}                     @{" italic " link Modul 26}                      @{" mAsm " link Modul 78}
   @{" mAwm " link Modul 79}                        @{" mLnm " link Modul 77}                        @{" magenta " link Modul 38}
   @{" magentaBg " link Modul 47}                   @{" negative " link Modul 28}                    @{" normal " link Modul 29}
   @{" notitalic " link Modul 30}                   @{" notunderscore " link Modul 31}               @{" positive " link Modul 32}
   @{" primary " link Modul 24}                     @{" red " link Modul 34}                         @{" redBg " link Modul 43}
   @{" setDefaultKeyMap " link Modul 22}            @{" setKeyMap " link Modul 20}                   @{" tbcHClrTab " link Modul 74}
   @{" tbcHClrTabsAll " link Modul 75}              @{" underscore " link Modul 27}                  @{" white " link Modul 40}
   @{" whiteBg " link Modul 49}                     @{" yellow " link Modul 36}                      @{" yellowBg " link Modul 45}


@endnode
@node Modul "HYPER:Modula-2/Console.def.guide"
DEFINITION MODULE Console; (*$ Implementation:=FALSE *)
(* 07-May-1992/cn *)

FROM SYSTEM IMPORT ADDRESS;

FROM ExecD IMPORT
 nonstd;

FROM @{" InputEvent " link HYPER:Modula-2/InputEvent.def.guide/Modul 76} IMPORT
 @{" InputEventPtr " link HYPER:Modula-2/InputEvent.def.guide/Modul 75};

FROM KeyMapD IMPORT
 @{" KeyMapPtr " link HYPER:Modula-2/KeyMapD.def.guide/Modul 58};

IMPORT R;

CONST
 consoleName="console.device";

 askKeyMap=nonstd+0;
 setKeyMap=nonstd+1;
 askDefaultKeyMap=nonstd+2;
 setDefaultKeyMap=nonstd+3;

 primary=0;
 bold=1;
 italic=3;
 underscore=4;
 negative=7;
 normal=22;
 notitalic=23;
 notunderscore=24;
 positive=27;
 black=30;
 red=31;
 green=32;
 yellow=33;
 blue=34;
 magenta=35;
 cyan=36;
 white=37;
 default=39;
 blackBg=40;
 redBg=41;
 greenBg=42;
 yellowBg=43;
 blueBg=44;
 magentaBg=45;
 cyanBg=46;
 whiteBg=47;
 defaultBg=49;
 clr0=30;
 clr1=31;
 clr2=32;
 clr3=33;
 clr4=34;
 clr5=35;
 clr6=36;
 clr7=37;
 clr0Bg=40;
 clr1Bg=41;
 clr2Bg=42;
 clr3Bg=43;
 clr4Bg=44;
 clr5Bg=45;
 clr6Bg=46;
 clr7Bg=47;

 dsrCpr=6;

 ctcHSetTab=0;
 ctcHClrTab=2;
 ctcHClrTabsAll=5;

 tbcHClrTab=0;
 tbcHClrTabsAll=3;

 mLnm=20;
 mAsm=">1";
 mAwm="?7";

PROCEDURE @{" CDInputHandler " link HYPER:Autodocs/console/CDInputHandler() }(
           device0{R.A6}:ADDRESS;
           events{R.A0}:@{" InputEventPtr " link HYPER:Modula-2/InputEvent.def.guide/Modul 75};
           device1{R.A1}:ADDRESS):@{" InputEventPtr " link HYPER:Modula-2/InputEvent.def.guide/Modul 75}; CODE -42;

PROCEDURE @{" RawKeyConvert " link HYPER:Autodocs/console/RawKeyConvert() }(
           device0{R.A6}:ADDRESS;
           events{R.A0}:@{" InputEventPtr " link HYPER:Modula-2/InputEvent.def.guide/Modul 75};
           buffer{R.A1}:ADDRESS;
           length{R.D1}:LONGINT;
           keyMap{R.A2}:@{" KeyMapPtr " link HYPER:Modula-2/KeyMapD.def.guide/Modul 58}):LONGINT; CODE -48;

END Console.noimp

@endnode
