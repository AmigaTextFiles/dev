@database HYPER:Modula-2/LocaleD
@node Main "HYPER:Modula-2/LocaleD"

Konstanten

   @{" abday1 " link Modul 126}                      @{" abday2 " link Modul 127}                      @{" abday3 " link Modul 128}
   @{" abday4 " link Modul 129}                      @{" abday5 " link Modul 130}                      @{" abday6 " link Modul 131}
   @{" abday7 " link Modul 132}                      @{" abmon1 " link Modul 145}                      @{" abmon10 " link Modul 154}
   @{" abmon11 " link Modul 155}                     @{" abmon12 " link Modul 156}                     @{" abmon2 " link Modul 146}
   @{" abmon3 " link Modul 147}                      @{" abmon4 " link Modul 148}                      @{" abmon5 " link Modul 149}
   @{" abmon6 " link Modul 150}                      @{" abmon7 " link Modul 151}                      @{" abmon8 " link Modul 152}
   @{" abmon9 " link Modul 153}                      @{" amstr " link Modul 159}                       @{" closequote " link Modul 164}
   @{" cspPrecedes " link Modul 56}                 @{" cspSucceeds " link Modul 57}                 @{" ct7FRI " link Modul 41}
   @{" ct7MON " link Modul 37}                      @{" ct7SAT " link Modul 42}                      @{" ct7SUN " link Modul 36}
   @{" ct7THU " link Modul 40}                      @{" ct7TUE " link Modul 38}                      @{" ct7WED " link Modul 39}
   @{" day1 " link Modul 118}                        @{" day2 " link Modul 120}                        @{" day3 " link Modul 121}
   @{" day4 " link Modul 122}                        @{" day5 " link Modul 123}                        @{" day6 " link Modul 124}
   @{" day7 " link Modul 125}                        @{" hardhyphen " link Modul 162}                  @{" localeName " link Modul 13}
   @{" maxstrmsg " link Modul 165}                   @{" mon1 " link Modul 133}                        @{" mon10 " link Modul 142}
   @{" mon11 " link Modul 143}                       @{" mon12 " link Modul 144}                       @{" mon2 " link Modul 134}
   @{" mon3 " link Modul 135}                        @{" mon4 " link Modul 136}                        @{" mon5 " link Modul 137}
   @{" mon6 " link Modul 138}                        @{" mon7 " link Modul 139}                        @{" mon8 " link Modul 140}
   @{" mon9 " link Modul 141}                        @{" msAmerican " link Modul 31}                  @{" msBritish " link Modul 33}
   @{" msImperial " link Modul 32}                  @{" msIso " link Modul 28}                       @{" nostr " link Modul 158}
   @{" ocBuiltInCodeSet " link Modul 170}            @{" ocBuiltInLanguage " link Modul 169}           @{" ocLanguage " link Modul 172}
   @{" ocTagBase " link Modul 168}                   @{" ocVersion " link Modul 171}                   @{" openquote " link Modul 163}
   @{" pmstr " link Modul 160}                       @{" scAscii " link Modul 175}                     @{" scCollate1 " link Modul 176}
   @{" scCollate2 " link Modul 177}                  @{" softhyphen " link Modul 161}                  @{" spParens " link Modul 49}
   @{" spPrecAll " link Modul 50}                   @{" spPrecCurr " link Modul 52}                  @{" spSuccAll " link Modul 51}
   @{" spSuccCurr " link Modul 53}                  @{" ssNoSpace " link Modul 45}                   @{" ssSpace " link Modul 46}
   @{" yesstr " link Modul 157}                   

Typ-Deklarationen

   @{" Catalog " link Modul 180}                     @{" CatalogPtr " link Modul 16}                  @{" Locale " link Modul 59}
   @{" LocaleBase " link Modul 23}                  @{" LocaleBasePtr " link Modul 18}               @{" LocalePtr " link Modul 19}
   @{" StrPtr " link Modul 20}                      @{" UbytePtr " link Modul 21}                 

@endnode
@node Modul "HYPER:Modula-2/LocaleD.def.guide"
DEFINITION MODULE LocaleD;(*$Implementation:=FALSE*)
(* 04-Sep-92/bp *)

(* V38 *)

FROM SYSTEM IMPORT
  LONGSET;
FROM ExecD IMPORT
  @{" Library " link HYPER:Modula-2/ExecD.def.guide/Modul 400},@{" Node " link HYPER:Modula-2/ExecD.def.guide/Modul 18};
FROM UtilityD IMPORT
  tagUser;


CONST
  localeName="locale.library";

TYPE
  @{" CatalogPtr " link HYPER:Modula-2/LocaleD.def.guide/Modul 16}=POINTER TO @{" Catalog " link HYPER:Modula-2/LocaleD.def.guide/Modul 180};
  @{" LocaleBasePtr " link HYPER:Modula-2/LocaleD.def.guide/Modul 18}=POINTER TO @{" LocaleBase " link HYPER:Modula-2/LocaleD.def.guide/Modul 23};
  @{" LocalePtr " link HYPER:Modula-2/LocaleD.def.guide/Modul 19}=POINTER TO @{" Locale " link HYPER:Modula-2/LocaleD.def.guide/Modul 59};
  @{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20}=POINTER TO ARRAY [0..511] OF CHAR;
  @{" UbytePtr " link HYPER:Modula-2/LocaleD.def.guide/Modul 21}=POINTER TO ARRAY [0..511] OF SHORTCARD;

  @{" LocaleBase " link HYPER:Modula-2/LocaleD.def.guide/Modul 23}=RECORD
    libNode: @{" Library " link HYPER:Modula-2/ExecD.def.guide/Modul 400};
    sysPatches: INTEGER; (* BOOL *)
  END;

CONST
(* measuringSystem *)
  msIso=0;
  msAmerican=1;
  msImperial=2;
  msBritish=3;

(* calendarType *)
  ct7SUN=0;
  ct7MON=1;
  ct7TUE=2;
  ct7WED=3;
  ct7THU=4;
  ct7FRI=5;
  ct7SAT=6;

(* monPositiveSpaceSep, monNegativeSpaceSep *)
  ssNoSpace=0;
  ssSpace=1;

(* monPositiveSignPos, monNegativeSignPos *)
  spParens=0;
  spPrecAll=1;
  spSuccAll=2;
  spPrecCurr=3;
  spSuccCurr=4;

(* monPositiveCSPos, monNegativeCSPos *)
  cspPrecedes=0;
  cspSucceeds=1;

TYPE
  @{" Locale " link HYPER:Modula-2/LocaleD.def.guide/Modul 59}=RECORD
    localeName:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    languageName:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    prefLanguages:ARRAY [0..9] OF @{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    flags:LONGSET;

    codeSet:LONGCARD;
    countryCode:LONGCARD;
    telephoneCode:LONGCARD;
    gmtOffset:LONGINT;
    measuringSystem:SHORTCARD;
    calendarType:SHORTCARD;
    reserved01:SHORTCARD;
    reserved02:SHORTCARD;

    dateTimeFormat:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    dateFormat:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    timeFormat:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};

    shortDateTimeFormat:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    shortDateFormat:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    shortTimeFormat:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};

    decimalPoint:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    groupSeparator:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    fracGroupSeparator:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    grouping:@{" UbytePtr " link HYPER:Modula-2/LocaleD.def.guide/Modul 21};
    fracGrouping:@{" UbytePtr " link HYPER:Modula-2/LocaleD.def.guide/Modul 21};

    monDecimalPoint:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    monGroupSeparator:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    monFracGroupSeparator:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    monGrouping:@{" UbytePtr " link HYPER:Modula-2/LocaleD.def.guide/Modul 21};
    monFracGrouping:@{" UbytePtr " link HYPER:Modula-2/LocaleD.def.guide/Modul 21};
    monFracDigits:SHORTCARD;
    monIntFracDigits:SHORTCARD;
    reserved10:SHORTCARD;
    reserved11:SHORTCARD;

    monCS:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    monSmallCS:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    monIntCS:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};

    monPositiveSign:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    monPositiveSpaceSep:SHORTCARD;
    monPositiveSignPos:SHORTCARD;
    monPositiveCSPos:SHORTCARD;
    reserved2:SHORTCARD;

    monNegativeSign:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    monNegativeSpaceSep:SHORTCARD;
    monNegativeSignPos:SHORTCARD;
    monNegativeCSPos:SHORTCARD;
    reserved3:SHORTCARD;
  END;


(* GetLocaleStr(): *)
CONST
  day1=1;
  day2=2;
  day3=3;
  day4=4;
  day5=5;
  day6=6;
  day7=7;
  abday1=8;
  abday2=9;
  abday3=10;
  abday4=11;
  abday5=12;
  abday6=13;
  abday7=14;
  mon1=15;
  mon2=16;
  mon3=17;
  mon4=18;
  mon5=19;
  mon6=20;
  mon7=21;
  mon8=22;
  mon9=23;
  mon10=24;
  mon11=25;
  mon12=26;
  abmon1=27;
  abmon2=28;
  abmon3=29;
  abmon4=30;
  abmon5=31;
  abmon6=32;
  abmon7=33;
  abmon8=34;
  abmon9=35;
  abmon10=36;
  abmon11=37;
  abmon12=38;
  yesstr=39;
  nostr=40;
  amstr=41;
  pmstr=42;
  softhyphen=43;
  hardhyphen=44;
  openquote=45;
  closequote=46;
  maxstrmsg=47;

(* OpenCatalog() *)
  ocTagBase=tagUser+90000H;
  ocBuiltInLanguage=ocTagBase+1;
  ocBuiltInCodeSet=ocTagBase+2;
  ocVersion=ocTagBase+3;
  ocLanguage=ocTagBase+4;

(* StrnCmp() *)
  scAscii=0;
  scCollate1=1;
  scCollate2=2;


TYPE
  @{" Catalog " link HYPER:Modula-2/LocaleD.def.guide/Modul 180}=RECORD
    link:@{" Node " link HYPER:Modula-2/ExecD.def.guide/Modul 18};
    pad:CARDINAL;
    language:@{" StrPtr " link HYPER:Modula-2/Arts.def.guide/Modul 20};
    codeSet:LONGCARD;
    version:CARDINAL;
    revision:CARDINAL;
  END;

END LocaleD.noimp

@endnode
