@database HYPER:Modula-2/Hardware
@node Main "HYPER:Modula-2/Hardware"

Konstanten

   @{" aMaxBytesPerRow " link Modul 158}             @{" aORb " link Modul 38}                        @{" aORc " link Modul 40}
   @{" aTOd " link Modul 42}                        @{" aXORc " link Modul 41}                       @{" aul " link Modul 54}
   @{" blitReverse " link Modul 53}                 @{" bplCon2ZdBpEn " link Modul 83}               @{" bplCon2ZdBpSel1 " link Modul 85}
   @{" bplCon2ZdBpSel2 " link Modul 86}             @{" bplCon2ZdCtEn " link Modul 81}               @{" bplcon2ZdBpSel0 " link Modul 84}
   @{" cleanme " link Modul 108}                     @{" cleanup " link Modul 106}                     @{" crbInCnt " link Modul 317}
   @{" crbInCntTA " link Modul 319}                  @{" crbInPhi2 " link Modul 315}                   @{" crbInTA " link Modul 318}
   @{" dmaAll " link Modul 145}                      @{" hSizeBits " link Modul 152}                   @{" hSizeMask " link Modul 155}
   @{" ir " link Modul 299}                          @{" octant1 " link Modul 57}                     @{" octant2 " link Modul 58}
   @{" octant3 " link Modul 59}                     @{" octant4 " link Modul 60}                     @{" octant5 " link Modul 61}
   @{" octant6 " link Modul 62}                     @{" octant7 " link Modul 63}                     @{" octant8 " link Modul 64}
   @{" oneDot " link Modul 51}                      @{" pre000ns " link Modul 15}                    @{" pre140ns " link Modul 17}
   @{" pre280ns " link Modul 18}                    @{" pre560ns " link Modul 19}                    @{" sMaxBytesPerRow " link Modul 160}
   @{" sMinBytesPerRow " link Modul 159}             @{" sud " link Modul 56}                         @{" sul " link Modul 55}
   @{" vSizeBits " link Modul 154}                   @{" vSizeMask " link Modul 156}                

Variablen

   @{" ciaa " link Modul 378}                        @{" ciab " link Modul 380}                        @{" custom " link Modul 292}


Typ-Deklarationen

   @{" AdkFlagSet " link Modul 13}                  @{" AdkFlags " link Modul 7}                    @{" AudioChannels " link Modul 30}
   @{" AudioInfo " link Modul 21}                   @{" BC0FlagSet " link Modul 36}                  @{" BC0Flags " link Modul 32}
   @{" BC1FlagSet " link Modul 49}                  @{" BC1Flags " link Modul 44}                    @{" BPLC0FlagSet " link Modul 79}
   @{" BPLC0Flags " link Modul 75}                  @{" BPLC3FlagSet " link Modul 93}                @{" BPLC3Flags " link Modul 88}
   @{" BeamConFlagSet " link Modul 73}              @{" BeamConFlags " link Modul 66}                @{" Bltnode " link Modul 97}
   @{" BltnodePtr " link Modul 95}                  @{" CIAA " link Modul 341}                        @{" CIAB " link Modul 359}
   @{" CiaCraFlagSet " link Modul 307}               @{" CiaCraFlags " link Modul 302}                 @{" CiaCrbFlagSet " link Modul 313}
   @{" CiaCrbFlags " link Modul 309}                 @{" CiaIcrFlagSet " link Modul 297}               @{" CiaIcrFlags " link Modul 295}
   @{" CiaaPraFlagSet " link Modul 325}              @{" CiaaPraFlags " link Modul 321}                @{" CiaaPrbFlagSet " link Modul 328}
   @{" CiaaPrbFlags " link Modul 327}                @{" CiabPraFlagSet " link Modul 333}              @{" CiabPraFlags " link Modul 330}
   @{" CiabPrbFlagSet " link Modul 338}              @{" CiabPrbFlags " link Modul 335}                @{" CollisionControlFlagSet " link Modul 118}
   @{" CollisionControlFlags " link Modul 110}       @{" CollisionFlagSet " link Modul 126}            @{" CollisionFlags " link Modul 119}
   @{" Coord " link Modul 128}                       @{" Custom " link Modul 189}                      @{" DiskFlagSet " link Modul 133}
   @{" DiskFlags " link Modul 132}                   @{" DiskInfo " link Modul 134}                    @{" DmaFlagSet " link Modul 143}
   @{" DmaFlags " link Modul 139}                    @{" IntFlagSet " link Modul 150}                  @{" IntFlags " link Modul 148}
   @{" Pad " link Modul 340}                         @{" PotFlagSet " link Modul 167}                  @{" PotFlags " link Modul 162}
   @{" SerialFlagSet " link Modul 170}               @{" SerialFlags " link Modul 169}                 @{" SerialInfo " link Modul 171}
   @{" SpriteControlFlagSet " link Modul 177}        @{" SpriteControlFlags " link Modul 176}          @{" SpriteControlInfo " link Modul 178}
   @{" SpriteInfo " link Modul 182}                  @{" Sprites " link Modul 187}                  

@endnode
@node Modul "HYPER:Modula-2/Hardware.def.guide"
DEFINITION MODULE Hardware; (*$ Implementation:=FALSE *)
(* 10-Mar-1992/cn *)

FROM SYSTEM IMPORT ADDRESS,BITSET,SHORTSET;

IMPORT ExecD;

TYPE
 @{" AdkFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 7}=(
  use0v1,use1v2,use2v3,use3vn,use0p1,use1p2,use2p3,use3pn,
  fast,msbSync,wordSync,uartBrk,mfmPrec,preComp0,preComp1,
  adkSet
 );
 @{" AdkFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 13}=SET OF @{" AdkFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 7};

CONST
 pre000ns=@{" AdkFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 13}{};
 pre140ns=@{" AdkFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 13}{preComp0};
 pre280ns=@{" AdkFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 13}{preComp1};
 pre560ns=@{" AdkFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 13}{preComp0,preComp1};

TYPE
 @{" AudioInfo " link HYPER:Modula-2/Hardware.def.guide/Modul 21}=RECORD
  acptr:ADDRESS;
  aclen:CARDINAL;
  acper:CARDINAL;
  acvol:CARDINAL;
  acdat:CARDINAL;
  acpad:ARRAY [0..1] OF CARDINAL;
 END;
 @{" AudioChannels " link HYPER:Modula-2/Hardware.def.guide/Modul 30}=ARRAY [0..3] OF @{" AudioInfo " link HYPER:Modula-2/Hardware.def.guide/Modul 21};

 @{" BC0Flags " link HYPER:Modula-2/Hardware.def.guide/Modul 32}=(
  nanbnc,nanbc,nabnc,nabc,anbnc,anbc,abnc,abc,
  dest,srcC,srcB,srcA,ash1,ash2,ash4,ash8
 );
 @{" BC0FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 36}=SET OF @{" BC0Flags " link HYPER:Modula-2/Hardware.def.guide/Modul 32};

CONST
 aORb=@{" BC0FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 36}{abc,anbc,nabc,abnc,anbnc,nabnc};
 aORc=@{" BC0FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 36}{abc,nabc,abnc,anbc,nanbc,anbnc};
 aXORc=@{" BC0FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 36}{nabc,abnc,nanbc,anbnc};
 aTOd=@{" BC0FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 36}{abc,anbc,abnc,anbnc};

TYPE
 @{" BC1Flags " link HYPER:Modula-2/Hardware.def.guide/Modul 44}=(
  lineMode,desc,fillCarryIn,fillOr,fillXor,ovFlag,signFlag,
  bf7,bf8,bf9,bf10,bf11,bsh1,bsh2,bsh4,bsh8
 );
 @{" BC1FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 49}=SET OF @{" BC1Flags " link HYPER:Modula-2/Hardware.def.guide/Modul 44};

CONST
 oneDot=desc;
 blitReverse=desc;
 aul=@{" BC1FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 49}{fillCarryIn};
 sul=@{" BC1FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 49}{fillOr};
 sud=@{" BC1FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 49}{fillXor};
 octant1=sud;
 octant2=@{" BC1FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 49}{};
 octant3=sul;
 octant4=aul+sud;
 octant5=aul+sul+sud;
 octant6=aul+sul;
 octant7=aul;
 octant8=sul+sud;

TYPE
 @{" BeamConFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 66}=(
  hSyncTrue,vSyncTrue,cSyncTrue,cSBlank,
  varCSync,displayPal,displayDual,varBeam,
  varHSync,varVSync,cSBlankEn,lolDis,
  varVBlank,bcf13,bcf14,bcf15
 );
 @{" BeamConFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 73}=SET OF @{" BeamConFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 66};

 @{" BPLC0Flags " link HYPER:Modula-2/Hardware.def.guide/Modul 75}=(
  useBPLCon3,ersy,lace,lpen,bp4,bp5,bp6,bp7,
  gaud,color,dblpf,homod,bpu0,bpu1,bpu2,hires
 );
 @{" BPLC0FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 79}=SET OF @{" BPLC0Flags " link HYPER:Modula-2/Hardware.def.guide/Modul 75};

CONST
 bplCon2ZdCtEn=0400H;
 bplCon2ZdBpEn=0800H;
 bplcon2ZdBpSel0=1000H;
 bplCon2ZdBpSel1=2000H;
 bplCon2ZdBpSel2=4000H;

TYPE
 @{" BPLC3Flags " link HYPER:Modula-2/Hardware.def.guide/Modul 88}=(
  extBlnkEn,extBlkZd,zdClkEn,bpl33,brdnTran,brdnBlnk,bpl36,bpl37,
  bpl38,blp39,bpl310,bpl311,bpl312,bpl313,bpl314,bpl315
 );
 @{" BPLC3FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 93}=SET OF @{" BPLC3Flags " link HYPER:Modula-2/Hardware.def.guide/Modul 88};

TYPE
 @{" BltnodePtr " link HYPER:Modula-2/Hardware.def.guide/Modul 95}=POINTER TO @{" Bltnode " link HYPER:Modula-2/Hardware.def.guide/Modul 97};
 @{" Bltnode " link HYPER:Modula-2/Hardware.def.guide/Modul 97}=RECORD
  n:@{" BltnodePtr " link HYPER:Modula-2/Hardware.def.guide/Modul 95};
  function:ADDRESS;
  stat:CHAR;
  blitsize:INTEGER;
  beamsync:INTEGER;
  cleanup:ADDRESS;
 END;

CONST
 cleanup=40H;
 cleanme=cleanup;

TYPE
 @{" CollisionControlFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 110}=(
  plane1,plane2,plane3,plane4,plane5,plane6,
  enablePlane1,enablePlane2,enablePlane3,
  enablePlane4,enablePlane5,enablePlane6,
  enableSprite01,enableSprite23,
  enableSprite45,enableSprite67
 );
 @{" CollisionControlFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 118}=SET OF @{" CollisionControlFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 110};
 @{" CollisionFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 119}=(
  play1toPlay2,
  play1toSprite01,play1toSprite23,play1toSprite45,play1toSprite67,
  play2toSprite01,play2toSprite23,play2toSprite45,play2toSprite67,
  sprite01toSprite23,sprite01toSprite45,sprite01toSprite67,
  sprite23toSprite45,sprite23toSprite67,sprite45toSprite67
 );
 @{" CollisionFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 126}=SET OF @{" CollisionFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 119};

 @{" Coord " link HYPER:Modula-2/Hardware.def.guide/Modul 128}=RECORD
  v,h:SHORTINT;
 END;

 @{" DiskFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 132}=(df0,df1,df2,df3,wordEqual,diskWrite,dmaOn,dskByte);
 @{" DiskFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 133}=SET OF @{" DiskFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 132};
 @{" DiskInfo " link HYPER:Modula-2/Hardware.def.guide/Modul 134}=RECORD
  flags:@{" DiskFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 133};
  data:SHORTCARD;
 END;

 @{" DmaFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 139}=(
  aud0,aud1,aud2,aud3,disk,sprite,blitter,copper,
  raster,master,blithog,df11,df12,bltnzero,bltdone,dmaSet
 );
 @{" DmaFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 143}=SET OF @{" DmaFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 139};

CONST
 dmaAll=@{" DmaFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 143}{aud0..raster};

TYPE
 @{" IntFlags " link HYPER:Modula-2/ExecD.def.guide/Modul 47}=ExecD.@{" IntFlags " link HYPER:Modula-2/ExecD.def.guide/Modul 47};
 @{" IntFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 150}=SET OF @{" IntFlags " link HYPER:Modula-2/ExecD.def.guide/Modul 47};

CONST
 hSizeBits=6;
 vSizeBits=16-hSizeBits;
 hSizeMask=03FH;
 vSizeMask=03FFH;

 aMaxBytesPerRow=128;
 sMinBytesPerRow=128;
 sMaxBytesPerRow=4096;

TYPE
 @{" PotFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 162}=(
  start,pf1,pf2,pf3,pf4,pf5,pf6,pf7,
  datalx,outlx,dataly,outly,datarx,outrx,datary,outry
 );
 @{" PotFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 167}=SET OF @{" PotFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 162};

 @{" SerialFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 169}=(d8,stop,sf2,rxd,tsre,tbe,rbf,ovrun);
 @{" SerialFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 170}=SET OF @{" SerialFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 169};
 @{" SerialInfo " link HYPER:Modula-2/Hardware.def.guide/Modul 171}=RECORD
  flags:@{" SerialFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 170};
  data:CHAR;
 END;

 @{" SpriteControlFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 176}=(sho,ev8,sv8,sct3,sct4,sct5,sct6,att);
 @{" SpriteControlFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 177}=SET OF @{" SpriteControlFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 176};
 @{" SpriteControlInfo " link HYPER:Modula-2/Hardware.def.guide/Modul 178}=RECORD
  ev:SHORTCARD;
  flags:@{" SpriteControlFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 177};
 END;
 @{" SpriteInfo " link HYPER:Modula-2/Hardware.def.guide/Modul 182}=RECORD
  pos:CARDINAL;
  ctl:@{" SpriteControlInfo " link HYPER:Modula-2/Hardware.def.guide/Modul 178};
  data:LONGCARD;
 END;
 @{" Sprites " link HYPER:Modula-2/Hardware.def.guide/Modul 187}=ARRAY [0..7] OF @{" SpriteInfo " link HYPER:Modula-2/Hardware.def.guide/Modul 182};

 @{" Custom " link HYPER:Modula-2/Hardware.def.guide/Modul 189}=RECORD
  bltddat:CARDINAL;
  dmaconr:@{" DmaFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 143};
  vposr:LONGCARD;
  dskdatr:CARDINAL;
  joy0dat:@{" Coord " link HYPER:Modula-2/Hardware.def.guide/Modul 128};
  joy1dat:@{" Coord " link HYPER:Modula-2/Hardware.def.guide/Modul 128};
  clxdat:@{" CollisionFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 126};
  adkconr:@{" AdkFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 13};
  pot0dat:@{" Coord " link HYPER:Modula-2/Hardware.def.guide/Modul 128};
  pot1dat:@{" Coord " link HYPER:Modula-2/Hardware.def.guide/Modul 128};
  potinp:@{" PotFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 167};
  serdatr:@{" SerialInfo " link HYPER:Modula-2/Hardware.def.guide/Modul 171};
  dskbytr:@{" DiskInfo " link HYPER:Modula-2/Hardware.def.guide/Modul 134};
  intenar:@{" IntFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 150};
  intreqr:@{" IntFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 150};
  dskpt:ADDRESS;
  dsklen:CARDINAL;
  dskdat:CARDINAL;
  refptr:CARDINAL;
  vposw:LONGCARD;
  copcon:BITSET;
  serdat:@{" SerialInfo " link HYPER:Modula-2/Hardware.def.guide/Modul 171};
  serper:CARDINAL;
  potgo:@{" PotFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 167};
  joytest:@{" Coord " link HYPER:Modula-2/Hardware.def.guide/Modul 128};
  strequ:CARDINAL;
  strvbl:CARDINAL;
  strhor:CARDINAL;
  strlong:CARDINAL;
  bltcon0:@{" BC0FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 36};
  bltcon1:@{" BC1FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 49};
  bltafwm:BITSET;
  bltalwm:BITSET;
  bltcpt:ADDRESS;
  bltbpt:ADDRESS;
  bltapt:ADDRESS;
  bltdpt:ADDRESS;
  bltsize:CARDINAL;
  pad2d:SHORTCARD;
  bltcon0l:SHORTCARD;
  bltsizv:CARDINAL;
  bltsizh:CARDINAL;
  bltcmod:CARDINAL;
  bltbmod:CARDINAL;
  bltamod:CARDINAL;
  bltdmod:CARDINAL;
  pad34:ARRAY [0..3] OF CARDINAL;
  bltcdat:CARDINAL;
  bltbdat:CARDINAL;
  bltadat:CARDINAL;
  pad3b:ARRAY [0..2] OF CARDINAL;
  deniseid:CARDINAL;
  dsksync:CARDINAL;
  cop1lc:ADDRESS;
  cop2lc:ADDRESS;
  copjmp1:CARDINAL;
  copjmp2:CARDINAL;
  copins:CARDINAL;
  diwstrt:@{" Coord " link HYPER:Modula-2/Hardware.def.guide/Modul 128};
  diwstop:@{" Coord " link HYPER:Modula-2/Hardware.def.guide/Modul 128};
  ddfstrt:@{" Coord " link HYPER:Modula-2/Hardware.def.guide/Modul 128};
  ddfstop:@{" Coord " link HYPER:Modula-2/Hardware.def.guide/Modul 128};
  dmacon:@{" DmaFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 143};
  clxcon:@{" CollisionControlFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 118};
  intena:@{" IntFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 150};
  intreq:@{" IntFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 150};
  adkcon:@{" AdkFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 13};
  aud:@{" AudioChannels " link HYPER:Modula-2/Hardware.def.guide/Modul 30};
  bplpt:ARRAY [0..7] OF ADDRESS;
  bplcon0:@{" BPLC0FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 79};
  bplcon1:CARDINAL;
  bplcon2:CARDINAL;
  bplcon3:@{" BPLC3FlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 93};
  bpl1mod:CARDINAL;
  bpl2mod:CARDINAL;
  bplhmod:CARDINAL;
  pad86:ARRAY [0..0] OF CARDINAL;
  bpldat:ARRAY [0..7] OF CARDINAL;
  sprpt:ARRAY [0..7] OF ADDRESS;
  spr:@{" Sprites " link HYPER:Modula-2/Hardware.def.guide/Modul 187};
  color:ARRAY [0..31] OF CARDINAL;
  htotal:CARDINAL;
  hsstop:CARDINAL;
  hbstrt:CARDINAL;
  hbstop:CARDINAL;
  vtotal:CARDINAL;
  vsstop:CARDINAL;
  vbstrt:CARDINAL;
  vbstop:CARDINAL;
  sprhstrt:CARDINAL;
  sprhstop:CARDINAL;
  bplhstrt:CARDINAL;
  bplhstop:CARDINAL;
  hhposw:CARDINAL;
  hhposr:CARDINAL;
  beamcon0:@{" BeamConFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 73};
  hsstrt:CARDINAL;
  vsstrt:CARDINAL;
  hcenter:CARDINAL;
  diwhigh:CARDINAL;
 END;

VAR
 custom[0DFF000H]:@{" Custom " link HYPER:Modula-2/Hardware.def.guide/Modul 189};

TYPE
 @{" CiaIcrFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 295}=(ta,tb,alrm,sp,flg,if5,if6,setclr);
 @{" CiaIcrFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 297}=SET OF @{" CiaIcrFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 295};

CONST
 ir=setclr; (* On read setclr has the meaning of ir *)

TYPE
 @{" CiaCraFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 302}=(
  craStart,craPbon,craOutmode,craRunmode,
  craLoad,craInmode,craSpmode,craTodin
 );
 @{" CiaCraFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 307}=SET OF @{" CiaCraFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 302};

 @{" CiaCrbFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 309}=(
  crbStart,crbPbon,crbOutmode,crbRunmode,
  crbLoad,crbInmode0,crbInmode1,crbAlarm
 );
 @{" CiaCrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 313}=SET OF @{" CiaCrbFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 309};

CONST
 crbInPhi2=@{" CiaCrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 313}{};
 crbInCnt=@{" CiaCrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 313}{crbInmode0};
 crbInTA=@{" CiaCrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 313}{crbInmode1};
 crbInCntTA=@{" CiaCrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 313}{crbInmode0,crbInmode1};

TYPE
 @{" CiaaPraFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 321}=(
  overlay,led,dskChange,dskProt,dskTrack0,dskRdy,gamePort0,gamePort1
 );
 @{" CiaaPraFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 325}=SET OF @{" CiaaPraFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 321};

 @{" CiaaPrbFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 327}=[0..7];
 @{" CiaaPrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 328}=SET OF @{" CiaaPrbFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 327};

 @{" CiabPraFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 330}=(
  prtrBusy,prtrPOut,prtrSel,comDSR,comCTS,comCD,comRTS,comDTR
 );
 @{" CiabPraFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 333}=SET OF @{" CiabPraFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 330};

 @{" CiabPrbFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 335}=(
  dskStep,dskDirec,dskSide,dskSel0,dskSel1,dskSel2,dskSel3,dskMotor
 );
 @{" CiabPrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 338}=SET OF @{" CiabPrbFlags " link HYPER:Modula-2/Hardware.def.guide/Modul 335};

 @{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340}=ARRAY [0..253] OF SHORTSET;
 @{" CIAA " link HYPER:Modula-2/Hardware.def.guide/Modul 341}=RECORD
  pra:@{" CiaaPraFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 325}; pad0:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  prb:@{" CiaaPrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 328}; pad1:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  ddra:@{" CiaaPraFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 325}; pad2:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  ddrb:@{" CiaaPrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 328}; pad3:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  talo:SHORTCARD; pad4:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  tahi:SHORTCARD; pad5:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  tblo:SHORTCARD; pad6:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  tbhi:SHORTCARD; pad7:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  todlow:SHORTCARD; pad8:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  todmid:SHORTCARD; pad9:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  todhi:SHORTCARD; pad10:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  unusedreg:SHORTSET; pad11:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  sdr:SHORTSET; pad12:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  icr:@{" CiaIcrFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 297}; pad13:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  cra:@{" CiaCraFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 307}; pad14:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  crb:@{" CiaCrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 313};
 END;
 @{" CIAB " link HYPER:Modula-2/Hardware.def.guide/Modul 359}=RECORD
  pra:@{" CiabPraFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 333}; pad0:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  prb:@{" CiabPrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 338}; pad1:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  ddra:@{" CiabPraFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 333}; pad2:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  ddrb:@{" CiabPrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 338}; pad3:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  talo:SHORTCARD; pad4:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  tahi:SHORTCARD; pad5:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  tblo:SHORTCARD; pad6:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  tbhi:SHORTCARD; pad7:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  todlow:SHORTCARD; pad8:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  todmid:SHORTCARD; pad9:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  todhi:SHORTCARD; pad10:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  unusedreg:SHORTSET; pad11:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  sdr:SHORTSET; pad12:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  icr:@{" CiaIcrFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 297}; pad13:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  cra:@{" CiaCraFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 307}; pad14:@{" Pad " link HYPER:Modula-2/Hardware.def.guide/Modul 340};
  crb:@{" CiaCrbFlagSet " link HYPER:Modula-2/Hardware.def.guide/Modul 313};
 END;

VAR
 ciaa[0BFE001H]:@{" CIAA " link HYPER:Modula-2/Hardware.def.guide/Modul 341};
 ciab[0BFD000H]:@{" CIAB " link HYPER:Modula-2/Hardware.def.guide/Modul 359};

END Hardware.

@endnode
