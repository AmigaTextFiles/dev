@database HYPER:Modula-2/CommoditiesD
@node Main "HYPER:Modula-2/CommoditiesD"

Konstanten

   @{" cbdDescrlen " link Modul 21}                 @{" cbdNamelen " link Modul 18}                  @{" cbdTitlelen " link Modul 20}
   @{" cberrDup " link Modul 25}                    @{" cberrOk " link Modul 23}                     @{" cberrSyserr " link Modul 24}
   @{" cberrVersion " link Modul 26}                @{" cmdeNobroker " link Modul 91}                @{" cmdeNomem " link Modul 93}
   @{" cmdeNoport " link Modul 92}                  @{" cmdeOk " link Modul 90}                      @{" cofShowHide " link Modul 61}
   @{" commoditiesName " link Modul 11}             @{" cxBroker " link Modul 73}                    @{" cxCustom " link Modul 75}
   @{" cxDebug " link Modul 74}                     @{" cxFilter " link Modul 68}                    @{" cxInvalid " link Modul 66}
   @{" cxSend " link Modul 70}                      @{" cxSignal " link Modul 71}                    @{" cxTranslate " link Modul 72}
   @{" cxTypefilter " link Modul 69}                @{" cxZero " link Modul 76}                      @{" cxcmdAppear " link Modul 84}
   @{" cxcmdDisable " link Modul 82}                @{" cxcmdDisappear " link Modul 85}              @{" cxcmdEnable " link Modul 83}
   @{" cxcmdKill " link Modul 86}                   @{" cxcmdListChg " link Modul 88}                @{" cxcmdUnique " link Modul 87}
   @{" cxmCommand " link Modul 80}                  @{" cxmIevent " link Modul 79}                   @{" cxmUnique " link Modul 78}
   @{" ixNormalquals " link Modul 129}               @{" ixVersion " link Modul 102}                   @{" ixsymAlt " link Modul 123}
   @{" ixsymAltmask " link Modul 127}                @{" ixsymCaps " link Modul 122}                   @{" ixsymCapsmask " link Modul 126}
   @{" ixsymShift " link Modul 120}                  @{" ixsymShiftmask " link Modul 125}              @{" nbVersion " link Modul 28}
   @{" nbuDuplicate " link Modul 56}                @{" nbuNotify " link Modul 59}                   @{" nbuUnique " link Modul 58}


Typ-Deklarationen

   @{" CoError " link Modul 95}                     @{" CoErrorSet " link Modul 100}                  @{" CxMsgPtr " link Modul 16}
   @{" CxObjPtr " link Modul 14}                    @{" IX " link Modul 115}                          @{" IXPtr " link Modul 118}
   @{" InputXpression " link Modul 105}              @{" InputXpressionPtr " link Modul 117}           @{" NewBroker " link Modul 43}
   @{" NewBrokerFlagSet " link Modul 41}            @{" NewBrokerFlags " link Modul 37}              @{" NewBrokerPtr " link Modul 54}
   @{" PFL " link Modul 63}                         @{" UniqueFlagSet " link Modul 35}               @{" UniqueFlags " link Modul 30}


@endnode
@node Modul "HYPER:Modula-2/CommoditiesD.def.guide"
DEFINITION MODULE CommoditiesD; (*$ Implementation:=FALSE *)
(* 17-Apr-1992/cn *)

FROM SYSTEM IMPORT ADDRESS,BITSET;

FROM @{" InputEvent " link HYPER:Modula-2/InputEvent.def.guide/Modul 76} IMPORT
 @{" Qualifiers " link HYPER:Modula-2/InputEvent.def.guide/Modul 66}, @{" QualifierSet " link HYPER:Modula-2/InputEvent.def.guide/Modul 72}, @{" Class " link HYPER:Modula-2/InputEvent.def.guide/Modul 7};

FROM ExecD IMPORT
 @{" MsgPortPtr " link HYPER:Modula-2/ExecD.def.guide/Modul 375};

CONST
 commoditiesName="commodities.library";

TYPE
  @{" CxObjPtr " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 14}; (* system private! *)
  @{" CxMsgPtr " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 16};

CONST
 cbdNamelen=24;
 cbdTitlelen=40;
 cbdDescrlen=40;

 cberrOk=0;
 cberrSyserr=1;
 cberrDup=2;
 cberrVersion=3;

 nbVersion=5;

TYPE
 @{" UniqueFlags " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 30}=(
  unique,notify,uf2,uf3,uf4,uf5,uf6,uf7
  ,uf8,uf9,uf10,uf11,uf12,uf13,uf14,uf15
 );
 @{" UniqueFlagSet " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 35}=SET OF @{" UniqueFlags " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 30};

 @{" NewBrokerFlags " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 37}=(
  nbf0,nbf1,showHide,nbf3,nbf4,nbf5,nbf6,nbf7
  ,nbf8,nbf9,nbf10,nbf11,nbf12,nbf13,nbf14,nbf15
 );
 @{" NewBrokerFlagSet " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 41}=SET OF @{" NewBrokerFlags " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 37};

 @{" NewBroker " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 43}=RECORD
  version:SHORTINT;
  name:ADDRESS;
  title:ADDRESS;
  descr:ADDRESS;
  unique:@{" UniqueFlagSet " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 35};
  flags:@{" NewBrokerFlagSet " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 41};
  pri:SHORTINT;
  port:@{" MsgPortPtr " link HYPER:Modula-2/ExecD.def.guide/Modul 375};
  reservedChannel:CARDINAL;
 END;
 @{" NewBrokerPtr " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 54}=POINTER TO @{" NewBroker " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 43};

CONST
 nbuDuplicate=@{" UniqueFlagSet " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 35}{};
 nbuUnique=@{" UniqueFlagSet " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 35}{unique};
 nbuNotify=@{" UniqueFlagSet " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 35}{notify};

 cofShowHide=showHide;

TYPE
 @{" PFL " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 63}=POINTER TO PROCEDURE():LONGINT;

CONST
 cxInvalid=0;
 cxFilter=1;
 cxTypefilter=2;
 cxSend=3;
 cxSignal=4;
 cxTranslate=5;
 cxBroker=6;
 cxDebug=7;
 cxCustom=8;
 cxZero=9;

 cxmUnique=16;
 cxmIevent=32;
 cxmCommand=64;

 cxcmdDisable=15;
 cxcmdEnable=17;
 cxcmdAppear=19;
 cxcmdDisappear=21;
 cxcmdKill=23;
 cxcmdUnique=25;
 cxcmdListChg=27;

 cmdeOk=0;
 cmdeNobroker=-1;
 cmdeNoport=-2;
 cmdeNomem=-3;

TYPE
 @{" CoError " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 95}=(
  isNull,nullAttach,badFilter,badType,ce4,ce5,ce6,ce7
  ,ce8,ce9,ce10,ce11,ce12,ce13,ce14,ce15,ce16
 );
 @{" CoErrorSet " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 100}=SET OF @{" CoError " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 95};

CONST
 ixVersion=2;

TYPE
 @{" InputXpression " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 105}=RECORD
  version:SHORTCARD;
  class:@{" Class " link HYPER:Modula-2/InputEvent.def.guide/Modul 7};
  code:CARDINAL;
  codeMask:CARDINAL;
  qualifier:@{" QualifierSet " link HYPER:Modula-2/InputEvent.def.guide/Modul 72};
  qualMask:@{" QualifierSet " link HYPER:Modula-2/InputEvent.def.guide/Modul 72};
  qualSame:CARDINAL;
 END;
 @{" IX " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 115}=@{" InputXpression " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 105};

 @{" InputXpressionPtr " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 117}=POINTER TO @{" InputXpression " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 105};
 @{" IXPtr " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 118}=POINTER TO @{" IX " link HYPER:Modula-2/CommoditiesD.def.guide/Modul 115};

CONST
 ixsymShift=1;
 ixsymCaps=2;
 ixsymAlt=4;

 ixsymShiftmask=@{" QualifierSet " link HYPER:Modula-2/InputEvent.def.guide/Modul 72}{lShift,rShift};
 ixsymCapsmask=ixsymShiftmask+@{" QualifierSet " link HYPER:Modula-2/InputEvent.def.guide/Modul 72}{capsLock};
 ixsymAltmask=@{" QualifierSet " link HYPER:Modula-2/InputEvent.def.guide/Modul 72}{lAlt,rAlt};

 ixNormalquals=@{" QualifierSet " link HYPER:Modula-2/InputEvent.def.guide/Modul 72}{lShift..leftButton};

END CommoditiesD.noimp

@endnode
