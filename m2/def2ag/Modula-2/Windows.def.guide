@database HYPER:Modula-2/Windows
@node Main "HYPER:Modula-2/Windows"

Prozeduren

   @{" Clear " link Modul 39}                       @{" ClearEOL " link Modul 40}                    @{" CloseWindow " link Modul 15}
   @{" GetPos " link Modul 26}                      @{" GetSize " link Modul 22}                     @{" ModifyWindow " link Modul 16}
   @{" OpenWindow " link Modul 12}                  @{" Scroll " link Modul 34}                      @{" SetClip " link Modul 55}
   @{" SetColor " link Modul 28}                    @{" SetMode " link Modul 33}                     @{" SetPos " link Modul 25}
   @{" SetScreen " link Modul 51}                   @{" WriteC " link Modul 43}                      @{" WriteL " link Modul 44}
   @{" WriteS " link Modul 42}                      @{" XYtoPos " link Modul 23}                  

Typ-Deklarationen

   @{" Mode " link Modul 9}                        @{" ModeSet " link Modul 10}                     @{" WinGad " link Modul 7}
   @{" WinGadSet " link Modul 8}                   @{" Window " link Modul 5}                   

@endnode
@node Modul "HYPER:Modula-2/Windows.def.guide"
DEFINITION MODULE Windows; (* jr/1jan88 *)
(*$ LargeVars:=FALSE NameChk:=FALSE *)

IMPORT IntuitionD;

TYPE
  @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443}=IntuitionD.@{" WindowPtr " link HYPER:Modula-2/IntuitionD.def.guide/Modul 82};
  @{" WinGad " link HYPER:Modula-2/Windows.def.guide/Modul 7}=(sizing, moving, arranging, closing, scrolling);
  @{" WinGadSet " link HYPER:Modula-2/Windows.def.guide/Modul 8}=SET OF @{" WinGad " link HYPER:Modula-2/Windows.def.guide/Modul 7};
  @{" Mode " link HYPER:Modula-2/Windows.def.guide/Modul 9}=(replMd, xorMd, invMd);
  @{" ModeSet " link HYPER:Modula-2/Windows.def.guide/Modul 10}=SET OF @{" Mode " link HYPER:Modula-2/Windows.def.guide/Modul 9};     (* ModeSet{}=orMd *)

PROCEDURE @{" OpenWindow " link HYPER:Autodocs/intuition/OpenWindow() }(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443}; x, y, w, h: INTEGER;
                     title: ARRAY OF CHAR;
                     gad: @{" WinGadSet " link HYPER:Modula-2/Windows.def.guide/Modul 8});
PROCEDURE @{" CloseWindow " link HYPER:Autodocs/intuition/CloseWindow() }(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443});
PROCEDURE ModifyWindow(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443};
                       newX, newY, newW, newH: INTEGER);
(*
 * if a parameter is -1 then that parameter won't change
 *)

PROCEDURE GetSize(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443}; VAR l, c: INTEGER);
PROCEDURE XYtoPos(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443}; xx, yy: INTEGER;
                  VAR l, c: INTEGER);
PROCEDURE SetPos(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443}; l, c: INTEGER);
PROCEDURE GetPos(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443}; VAR l, c: INTEGER);

PROCEDURE SetColor(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443}; fg, bg: INTEGER);
(*
 * no change if fg/bg=-1
 *)

PROCEDURE @{" SetMode " link HYPER:Autodocs/dos/SetMode() }(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443}; m: @{" ModeSet " link HYPER:Modula-2/Windows.def.guide/Modul 10});
PROCEDURE Scroll(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443}; nr: INTEGER);
(*
 * nr: # of lines;  nr<0: scroll up  nr>0: scroll down
 *)

PROCEDURE Clear(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443});
PROCEDURE @{" ClearEOL " link HYPER:Autodocs/graphics/ClearEOL() }(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443});

PROCEDURE WriteS(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443}; s: ARRAY OF CHAR);
PROCEDURE WriteC(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443}; c: CHAR);
PROCEDURE WriteL(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443});
(*
 * deletes to end of line
 *)

(* --------------- advanced use ------------------ *)

PROCEDURE SetScreen(scr: IntuitionD.@{" ScreenPtr " link HYPER:Modula-2/IntuitionD.def.guide/Modul 77});
(*
 * default: NIL=Workbench Screen
 *)
PROCEDURE SetClip(VAR u: @{" Window " link HYPER:Modula-2/IntuitionD.def.guide/Modul 443}; on: BOOLEAN);

END Windows.def

@endnode
