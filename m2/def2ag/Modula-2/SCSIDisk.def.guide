@database HYPER:Modula-2/SCSIDisk
@node Main "HYPER:Modula-2/SCSIDisk"

Konstanten

   @{" BadStatus " link Modul 41}                   @{" DMA " link Modul 37}                         @{" NoBoard " link Modul 42}
   @{" Parity " link Modul 39}                      @{" Phase " link Modul 38}                       @{" SelTimeout " link Modul 40}
   @{" SelfUnit " link Modul 36}                    @{" autoSense " link Modul 33}                   @{" noSense " link Modul 32}
   @{" oldAutoSense " link Modul 34}                @{" read " link Modul 31}                        @{" scsiCmd " link Modul 5}
   @{" write " link Modul 29}                    

Typ-Deklarationen

   @{" SCSICmd " link Modul 14}                     @{" SCSICmdPtr " link Modul 27}                  @{" SCSIFlagSet " link Modul 12}
   @{" SCSIFlags " link Modul 8}                

@endnode
@node Modul "HYPER:Modula-2/SCSIDisk.def.guide"
DEFINITION MODULE SCSIDisk; (*$Implementation:=FALSE*)
(* 10-May-1992/cn *)

FROM SYSTEM IMPORT ADDRESS;

CONST
 scsiCmd=28;

TYPE
 @{" SCSIFlags " link HYPER:Modula-2/SCSIDisk.def.guide/Modul 8}=(
  readWriteB,autoSenseB,oldAutoSenseB,scf3,scf4,scf5,scf6,scf7
 );
 @{" SCSIFlagSet " link HYPER:Modula-2/SCSIDisk.def.guide/Modul 12}=SET OF @{" SCSIFlags " link HYPER:Modula-2/SCSIDisk.def.guide/Modul 8};

 @{" SCSICmd " link HYPER:Modula-2/SCSIDisk.def.guide/Modul 14}=RECORD
  data:ADDRESS;
  length:LONGCARD;
  actual:LONGCARD;
  command:ADDRESS;
  cmdLength:CARDINAL;
  cmdActual:CARDINAL;
  flags:@{" SCSIFlagSet " link HYPER:Modula-2/SCSIDisk.def.guide/Modul 12};
  status:SHORTCARD;
  senseData:ADDRESS;
  senseLength:CARDINAL;
  senseActual:CARDINAL;
 END;
 @{" SCSICmdPtr " link HYPER:Modula-2/SCSIDisk.def.guide/Modul 27}=POINTER TO @{" SCSICmd " link HYPER:Modula-2/SCSIDisk.def.guide/Modul 14};

CONST
 write=@{" SCSIFlagSet " link HYPER:Modula-2/SCSIDisk.def.guide/Modul 12}{};
 read=@{" SCSIFlagSet " link HYPER:Modula-2/SCSIDisk.def.guide/Modul 12}{readWriteB};
 noSense=@{" SCSIFlagSet " link HYPER:Modula-2/SCSIDisk.def.guide/Modul 12}{};
 autoSense=@{" SCSIFlagSet " link HYPER:Modula-2/SCSIDisk.def.guide/Modul 12}{autoSenseB};
 oldAutoSense=@{" SCSIFlagSet " link HYPER:Modula-2/SCSIDisk.def.guide/Modul 12}{autoSenseB,oldAutoSenseB};

 SelfUnit=40;
 DMA=41;
 Phase=42;
 Parity=43;
 SelTimeout=44;
 BadStatus=45;
 NoBoard=50;

END SCSIDisk.noimp

@endnode
