@database HYPER:Modula-2/WorkbenchSupport
@node Main "HYPER:Modula-2/WorkbenchSupport"

Prozeduren

   @{" AddAppIconA " link Modul 17}              

@endnode
@node Modul "HYPER:Modula-2/WorkbenchSupport.def.guide"
DEFINITION MODULE WorkbenchSupport;

FROM SYSTEM	IMPORT	ADDRESS;
FROM ExecD	IMPORT	@{" MsgPortPtr " link HYPER:Modula-2/ExecD.def.guide/Modul 375};
FROM DosD	IMPORT	@{" FileLockPtr " link HYPER:Modula-2/DosD.def.guide/Modul 206};
FROM UtilityD	IMPORT	@{" TagItemPtr " link HYPER:Modula-2/UtilityD.def.guide/Modul 22};
IMPORT R, d:WorkbenchD;

(* Nur für Library-Version>=36! *)

(* Diese Prozedur stammt aus WorkbenchL. Sie muß eine
   Implementation erhalten, weil das Register A4 als
   Parameter benutzt wird, was in M2Amiga nicht möglich
   ist. Die Implementation benutzt WorkbenchL und NICHT
   OptWorkbenchL! Bei anderem Bedarf kopieren Sie die
   Prozedur in ihr eigenes Programm und passen sie an.
 *)
PROCEDURE @{" AddAppIconA " link HYPER:Autodocs/wb/AddAppIconA() }(
		id{R.D0}:LONGCARD;
		userdata{R.D1}:LONGINT;
		text{R.A0}:ADDRESS;
		msgport{R.A1}:@{" MsgPortPtr " link HYPER:Modula-2/ExecD.def.guide/Modul 375};
		lock{R.A2}:@{" FileLockPtr " link HYPER:Modula-2/DosD.def.guide/Modul 206};
		diskobj{R.A3}:d.@{" DiskObjectPtr " link HYPER:Modula-2/WorkbenchD.def.guide/Modul 91};
		taglist{R.D2}:@{" TagItemPtr " link HYPER:Modula-2/UtilityD.def.guide/Modul 22} (* D2 statt A4! *)
		):d.@{" AppIconPtr " link HYPER:Modula-2/WorkbenchD.def.guide/Modul 96};

END WorkbenchSupport.def

@endnode
