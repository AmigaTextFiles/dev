@database expansionL
@node Main "expansionL"

Procedures

   @{" AddBootNode " link Modul 22}                 @{" AddConfigDev " link Modul 20}                @{" AddDosNode " link Modul 60}
   @{" AllocBoardMem " link Modul 24}               @{" AllocConfigDev " link Modul 26}              @{" AllocExpansionMem " link Modul 28}
   @{" ConfigBoard " link Modul 30}                 @{" ConfigChain " link Modul 32}                 @{" FindConfigDev " link Modul 34}
   @{" FreeBoardMem " link Modul 36}                @{" FreeConfigDev " link Modul 38}               @{" FreeExpansionMem " link Modul 40}
   @{" GetCurrentBinding " link Modul 56}           @{" MakeDosNode " link Modul 58}                 @{" ObtainConfigBinding " link Modul 50}
   @{" ReadExpansionByte " link Modul 42}           @{" ReadExpansionRom " link Modul 44}            @{" ReleaseConfigBinding " link Modul 52}
   @{" RemConfigDev " link Modul 46}                @{" SetCurrentBinding " link Modul 54}           @{" WriteExpansionByte " link Modul 48}


Constants

   @{" expansionMinVersion " link Modul 14}         @{" expansionName " link Modul 17}            

Variables

   @{" ExpansionBase " link Modul 10}            

@endnode
@node Modul "am2:ModuleRefs/expansionL.def"
DEFINITION MODULE ExpansionL {"expansion.library",33};

(*$ Implementation- *)

(* Generated with FDToM2 by M. Timmermans *)

FROM SYSTEM IMPORT ADDRESS;
IMPORT ed:ExecD,Reg;


VAR
 ExpansionBase : ed.LibraryPtr;


CONST

 expansionMinVersion=33;
 expansionName="expansion.library";


PROCEDURE AddConfigDev(configDev{Reg.A0}:ADDRESS):LONGINT; CODE -30;

PROCEDURE AddBootNode(bootPri{Reg.D0},flags{Reg.D1}:LONGINT;deviceNode{Reg.A0},configDev{Reg.A1}:ADDRESS):LONGINT; CODE -36;

PROCEDURE AllocBoardMem(slotSpec{Reg.D0}:LONGINT):LONGINT; CODE -42;

PROCEDURE AllocConfigDev():LONGINT; CODE -48;

PROCEDURE AllocExpansionMem(numSlots{Reg.D0},slotAlign{Reg.D1}:LONGINT):LONGINT; CODE -54;

PROCEDURE ConfigBoard(board{Reg.A0},configDev{Reg.A1}:ADDRESS):LONGINT; CODE -60;

PROCEDURE ConfigChain(baseAddr{Reg.A0}:ADDRESS):LONGINT; CODE -66;

PROCEDURE FindConfigDev(oldConfigDev{Reg.A0}:ADDRESS;manufacturer{Reg.D0},product{Reg.D1}:LONGINT):LONGINT; CODE -72;

PROCEDURE FreeBoardMem(startSlot{Reg.D0},slotSpec{Reg.D1}:LONGINT):LONGINT; CODE -78;

PROCEDURE FreeConfigDev(configDev{Reg.A0}:ADDRESS):LONGINT; CODE -84;

PROCEDURE FreeExpansionMem(startSlot{Reg.D0},numSlots{Reg.D1}:LONGINT):LONGINT; CODE -90;

PROCEDURE ReadExpansionByte(board{Reg.A0}:ADDRESS;offset{Reg.D0}:LONGINT):LONGINT; CODE -96;

PROCEDURE ReadExpansionRom(board{Reg.A0},configDev{Reg.A1}:ADDRESS):LONGINT; CODE -102;

PROCEDURE RemConfigDev(configDev{Reg.A0}:ADDRESS):LONGINT; CODE -108;

PROCEDURE WriteExpansionByte(board{Reg.A0}:ADDRESS;offset{Reg.D0},byte{Reg.D1}:LONGINT):LONGINT; CODE -114;

PROCEDURE ObtainConfigBinding():LONGINT; CODE -120;

PROCEDURE ReleaseConfigBinding():LONGINT; CODE -126;

PROCEDURE SetCurrentBinding(currentBinding{Reg.A0}:ADDRESS;bindingSize{Reg.D0}:LONGINT):LONGINT; CODE -132;

PROCEDURE GetCurrentBinding(currentBinding{Reg.A0}:ADDRESS;bindingSize{Reg.D0}:LONGINT):LONGINT; CODE -138;

PROCEDURE MakeDosNode(parmPacket{Reg.A0}:ADDRESS):LONGINT; CODE -144;

PROCEDURE AddDosNode(bootPri{Reg.D0},flags{Reg.D1}:LONGINT;deviceNode{Reg.A0}:ADDRESS):LONGINT; CODE -150;


END ExpansionL.

@endnode
