@database ModulaLib
@node Main "ModulaLib"

Procedures

   @{" Assert " link Modul 40}                      @{" BreakPoint " link Modul 44}                  @{" Dispose " link Modul 34}
   @{" Divs32 " link Modul 32}                      @{" Divu32 " link Modul 31}                      @{" Exit " link Modul 45}
   @{" Halt " link Modul 46}                        @{" LoadA4 " link Modul 28}                      @{" Muls32 " link Modul 30}
   @{" Mulu32 " link Modul 29}                      @{" New " link Modul 33}                         @{" Raise " link Modul 47}
   @{" SFix " link Modul 35}                        @{" StackChk " link Modul 27}                    @{" StoredA4 " link Modul 36}
   @{" TermOpenLib " link Modul 43}                 @{" Terminate " link Modul 42}                   @{" TerminateRequester " link Modul 41}
   @{" easystartup " link Modul 26}              

Variables

   @{" ExceptNr " link Modul 20}                    @{" ExceptStck " link Modul 21}                  @{" dosCmdBuf " link Modul 13}
   @{" dosCmdLen " link Modul 14}                   @{" kickVersion " link Modul 9}                 @{" returnVal " link Modul 10}
   @{" saveA7 " link Modul 22}                      @{" thisTask " link Modul 8}                    @{" wbStarted " link Modul 6}
   @{" wbenchMsg " link Modul 17}                

@endnode
@node Modul "am2:ModuleRefs/ModulaLib.def"
DEFINITION MODULE ModulaLib;

(* (C) Copyright 1993 Marcel Timmermans. All rights reserved. *)

FROM SYSTEM IMPORT ADDRESS;

VAR 
    wbStarted   : BOOLEAN;
    thisTask    : ADDRESS;
    kickVersion : INTEGER;
    returnVal   : LONGINT;

(* Needed for cli-startup *)
    dosCmdBuf: ADDRESS;
    dosCmdLen: LONGINT;

(* workbench startup message *)
    wbenchMsg : ADDRESS;

(* needed for exception handling *)
   ExceptNr:LONGINT;
   ExceptStck:ADDRESS;
   saveA7,saveA5:ADDRESS;


(******* Privit procedures; DO NOT USE *********)
PROCEDURE easystartup;
PROCEDURE StackChk(space{0}:LONGINT);
PROCEDURE LoadA4;
PROCEDURE Mulu32(x{0},y{1}:LONGINT):LONGINT;
PROCEDURE Muls32(x{0},y{1}:LONGINT):LONGINT;
PROCEDURE Divu32(x{0},y{1}:LONGINT):LONGINT;
PROCEDURE Divs32(x{0},y{1}:LONGINT):LONGINT;
PROCEDURE New(VAR adr:ADDRESS;size:LONGINT);
PROCEDURE Dispose(VAR adr: ADDRESS);
PROCEDURE SFix(x{0}:REAL):LONGINT; 
PROCEDURE StoredA4; 


(* Runtime support procedures *)
PROCEDURE Assert(cc: BOOLEAN; Msg:ADDRESS);
PROCEDURE TerminateRequester(Msg:ADDRESS);
PROCEDURE Terminate;
PROCEDURE TermOpenLib(Msg{9}:ADDRESS);
PROCEDURE BreakPoint(data : ADDRESS);
PROCEDURE Exit(returnCode{0}:LONGINT);
PROCEDURE Halt;
PROCEDURE Raise(i{0}:LONGINT);


END ModulaLib.
@endnode
