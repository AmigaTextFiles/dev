@database ExecSupport
@node Main "ExecSupport"

Procedures

   @{" AbortIO " link Modul 16}                     @{" AllocVecPooled " link Modul 30}              @{" BeginIO " link Modul 15}
   @{" CreateExtIO " link Modul 24}                 @{" CreatePort " link Modul 17}                  @{" CreateStdIO " link Modul 27}
   @{" CreateTask " link Modul 20}                  @{" DeleteExtIO " link Modul 25}                 @{" DeletePort " link Modul 18}
   @{" DeleteStdIO " link Modul 28}                 @{" DeleteTask " link Modul 22}                  @{" FreeVecPooled " link Modul 33}
   @{" NewList " link Modul 13}                  

Type-Declarations

   @{" VecPool " link Modul 5}                     @{" VecPoolPtr " link Modul 10}               

@endnode
@node Modul "am2:ModuleRefs/ExecSupport.def"
DEFINITION MODULE ExecSupport;

FROM SYSTEM IMPORT ADDRESS;
IMPORT ExecD,Reg;

TYPE VecPool = RECORD
                 pool : ADDRESS;
                 fullSize : LONGCARD;
                 (** mem follows **)
               END;
     VecPoolPtr = POINTER TO VecPool;


PROCEDURE NewList(list{Reg.A0}:ExecD.ListPtr);

PROCEDURE BeginIO(ioRequest{9}:ADDRESS);
PROCEDURE AbortIO(ioRequest{9}:ADDRESS);
PROCEDURE CreatePort(portName:ADDRESS;priority:SHORTINT):ExecD.MsgPortPtr;
PROCEDURE DeletePort(port:ExecD.MsgPortPtr);

PROCEDURE CreateTask(taskName: ADDRESS; priority: SHORTINT;
                     initPC: ADDRESS; stackSize: LONGINT): ExecD.TaskPtr;
PROCEDURE DeleteTask(t: ExecD.TaskPtr);

PROCEDURE CreateExtIO(ioReplyPort: ExecD.MsgPortPtr; size: INTEGER): ADDRESS;
PROCEDURE DeleteExtIO(extIOReq: ADDRESS);

PROCEDURE CreateStdIO(ioReplyPort: ExecD.MsgPortPtr): ExecD.IOStdReqPtr;
PROCEDURE DeleteStdIO(ioStdReq: ExecD.IOStdReqPtr);

PROCEDURE AllocVecPooled(memPool : ADDRESS;
                         size : LONGCARD):ADDRESS;

PROCEDURE FreeVecPooled(mem : ADDRESS);



END ExecSupport.

@endnode
