@database Cia
@node Main "Cia"

Procedures

   @{" AbleICR " link Modul 31}                     @{" AddICRVector " link Modul 25}                @{" RemICRVector " link Modul 28}
   @{" SetICR " link Modul 33}                   

Constants

   @{" ciaaName " link Modul 19}                    @{" ciabName " link Modul 22}                 

@endnode
@node Modul "am2:ModuleRefs/Cia.def"
(*
**	Cyclone Modula-2 Interface module:
**	$VER: cia.h 36.4 (9.1.91)
**	Includes Release 40.15
**
**      Interface module by Marcel Timmermans
**      (C) Copyright 1995-1996 Marcel Timmermans
**          All Rights Reserved
*)

(*$ Implementation- *)
DEFINITION MODULE Cia;

FROM SYSTEM   IMPORT ADDRESS;
FROM ExecD    IMPORT InterruptPtr;
FROM Hardware IMPORT CiaIcrFlags,CiaIcrFlagSet;

IMPORT Reg;

CONST

  ciaaName = "ciaa.resource";
  ciabName = "ciab.resource";


PROCEDURE AddICRVector(cia{Reg.A6}:ADDRESS;icrBit{Reg.D0}:CiaIcrFlags;
                       interrupt{Reg.A1}:InterruptPtr):InterruptPtr; CODE -6;

PROCEDURE RemICRVector(cia{Reg.A6}:ADDRESS;icrBit{Reg.D0}:CiaIcrFlags;
                       interrupt{Reg.A1}:InterruptPtr); CODE -12;

PROCEDURE AbleICR(cia{Reg.A6}:ADDRESS;mask{Reg.D0}:CiaIcrFlagSet):CiaIcrFlagSet; CODE -18;

PROCEDURE SetICR(cia{Reg.A6}:ADDRESS;mask{Reg.D0}:CiaIcrFlagSet):CiaIcrFlagSet; CODE -24;

END Cia.

@endnode
