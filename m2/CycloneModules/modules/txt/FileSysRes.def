(*
**	Cyclone Modula-2 Interface module:
**	$VER: filesysres.h 36.4 (3.5.90)
**	Includes Release 40.15
**
**	FileSystem.resource description
**
**	(C) Copyright 1988-1993 Commodore-Amiga, Inc.
**	    All Rights Reserved
**
**      Interface module by Marcel Timmermans
**      (C) Copyright 1995-1996 Marcel Timmermans
**          All Rights Reserved
*)

(*$ Implementation- *)
DEFINITION MODULE FileSysRes;

FROM SYSTEM   IMPORT ADDRESS,LONGSET;
FROM ExecD    IMPORT Node,TaskPtr,BPTR,List;
FROM DosD     IMPORT FileLockPtr,BSTR;

CONST
  fsrName = "FileSystem.resource";

TYPE
 FileSysResource = RECORD
  node          : Node;         (* on resource list *)
  creator       : ADDRESS;      (* name of creator of this resource *)
  fileSysEntries: List;         (* list of FileSysEntry structs *)    
 END;

 FileSysEntry = RECORD
  node       : Node;
                                (* on fsr_FileSysEntries list *)
                                (* ln_Name is of creator of this entry *)
  dosType    : LONGCARD;        (* DosType of this FileSys *)
  version    : LONGCARD;        (* Version of this FileSys *)
  patchFlags : LONGSET;         (* bits set for those of the following that *)
                                (*   need to be substituted into a standard *)
                                (*   device node for this file system: e.g. *)
                                (*   0x180 for substitute SegList & GlobalVec *)
  type       : LONGCARD;        (* device node type: zero *)
  task       : TaskPtr;         (* standard dos "task" field *)
  lock       : FileLockPtr;     (* not used for devices: zero *)
  handler    : BSTR;            (* filename to loadseg (if SegList is null) *)
  stackSize  : LONGCARD;        (* stacksize to use when starting task *)
  priority   : LONGINT;         (* task priority when starting task *)
  startup    : BPTR;            (* startup msg: FileSysStartupMsg for disks *)
  segList    : BPTR;            (* code to run to start new task *)
  globalVec  : BPTR;            (* BCPL global vector when starting task *)              
    (* no more entries need exist than those implied by fse_PatchFlags *)
 END;


END FileSysRes.
