<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual is for RngStreams, a package for generating 
multiple independent streams of pseudo-random numbers.

Copyright (C) 2003 Pierre L'Ecuyer, DIRO, University of Montreal.

Permission is granted to make and distribute verbatim
copies of this manual provided the copyright notice and
this permission notice are preserved on all copies. -->
<!-- Created by GNU Texinfo 6.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>RngStreams User Manual: Interface</title>

<meta name="description" content="RngStreams User Manual: Interface">
<meta name="keywords" content="RngStreams User Manual: Interface">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="index.html#Top" rel="up" title="Top">
<link href="Example.html#Example" rel="next" title="Example">
<link href="Install.html#Install" rel="prev" title="Install">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Interface"></a>
<div class="header">
<p>
Next: <a href="Example.html#Example" accesskey="n" rel="next">Example</a>, Previous: <a href="Install.html#Install" accesskey="p" rel="prev">Install</a>, Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
</div>
<hr>
<a name="Interface-to-the-package-RngStreams"></a>
<h2 class="chapter">2 Interface to the package RngStreams</h2>


<dl>
<dt><a name="index-RngStream"></a>Data type: <strong>RngStream</strong></dt>
<dd><p>Contains the state of a stream from the present module.
It is defined as
</p>
<pre class="verbatim">typedef struct RngStream_InfoState * RngStream;

struct RngStream_InfoState {
   double Cg[6], Bg[6], Ig[6];
   int Anti;
   int IncPrec;
   char *name;
};
</pre>
<p>The arrays <code>Ig</code>, <code>Bg</code>, and <code>Cg</code> contain the initial state, 
the starting point of the current substream,
and the current state, respectively.
This stream generates antithetic variates if 
<code>Anti</code> 
 != 0.
The precision of the output numbers is increased if 
<code>IncPrec</code>
 != 0.
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fSetPackageSeed"></a>Library Function: <em>void</em> <strong>RngStream_SetPackageSeed</strong> <em>(unsigned long <var>seed</var>[6])</em></dt>
<dd><p>Sets the initial seed of the package <tt>RngStreams</tt> to the 
six integers in the vector <var>seed</var>.
This will be the seed (initial state) of the first stream.
If this procedure is not called, the default initial seed
is <code>{12345, 12345, 12345, 12345, 12345, 12345}</code>.
If it is called, the first 3 values of the seed must all be
less than <code>m_1 = 4294967087</code>, and not all <code>0</code>;
and the last 3 values 
must all be less than <code>m_2 = 4294944443</code>, and not all <code>0</code>.
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fCreateStream"></a>Library Function: <em>RngStream</em> <strong>RngStream_CreateStream</strong> <em>(const char <var>name</var>[])</em></dt>
<dd><p>Creates and returns a new stream with identifier <var>name</var>,
whose state variable is of type <code>RngStream_InfoState</code>.
This procedure reserves space to keep the information relative to
the <code>RngStream</code>, initializes its seed <code>Ig</code>,
sets <code>Bg</code> and <code>Cg</code> equal to <code>Ig</code>, sets its antithetic and
precision  switches to <code>0</code>.
The seed <code>Ig</code> is equal to the initial seed of the package given by 
<code>RngStream_SetPackageSeed</code> if this is the first stream created,
otherwise it is <code>Z</code> steps ahead of that of the most recently
created stream.
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fDeleteStream"></a>Library Function: <em>void</em> <strong>RngStream_DeleteStream</strong> <em>(RngStream *<var>pg</var>)</em></dt>
<dd><p>Deletes the stream <var>*pg</var> created previously 
by <code>RngStream_CreateStream</code>, and recovers its memory.
Otherwise, does nothing. 
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fResetStartStream"></a>Library Function: <em>void</em> <strong>RngStream_ResetStartStream</strong> <em>(RngStream <var>g</var>)</em></dt>
<dd><p>Reinitializes the stream <var>g</var> to its initial state:
<code>Cg</code> and <code>Bg</code> are set to <code>Ig</code>.
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fResetStartSubstream"></a>Library Function: <em>void</em> <strong>RngStream_ResetStartSubstream</strong> <em>(RngStream <var>g</var>)</em></dt>
<dd><p>Reinitializes the stream <var>g</var> to the beginning of its current
substream: <code>Cg</code> is set to <var>Bg</var>.
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fResetNextSubstream"></a>Library Function: <em>void</em> <strong>RngStream_ResetNextSubstream</strong> <em>(RngStream <var>g</var>)</em></dt>
<dd><p>Reinitializes the stream <var>g</var> to the beginning of its next
substream: <code>Ng</code> is computed, and
<code>Cg</code> and <code>Bg</code> are set to <code>Ng</code>.
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fSetAntithetic"></a>Library Function: <em>void</em> <strong>RngStream_SetAntithetic</strong> <em>(RngStream <var>g</var>, int <var>a</var>)</em></dt>
<dd><p>If <var>a</var>
 != 0,
 the stream  <var>g</var> will start generating 
antithetic variates, i.e., <i>1-U</i> instead of <i>U</i>, until this method is
called again with <var>a</var> = 0.
By default, the streams are created with <var>a</var> = 0.
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fIncreasedPrecis"></a>Library Function: <em>void</em> <strong>RngStream_IncreasedPrecis</strong> <em>(RngStream <var>g</var>, int <var>incp</var>)</em></dt>
<dd><p>After calling this procedure with <var>incp</var> 
 != 0,
 each call 
 (direct or indirect) to <code>RngStream_RandU01</code> for stream  <var>g</var>
will advance the state of the stream by 2 steps instead of 1, and will 
return a number with (roughly) 53 bits of precision instead of 32 bits.
More specifically, in the non-antithetic case,
when the precision is increased, the instruction
<code>x = RngStream_RandU01(g)</code>
is equivalent to
<code>x = (RngStream_RandU01(g) + RngStream_RandU01(g) * fact) % 1.0</code>
where the constant <code>fact</code> is equal to 
2^(-24).
This also applies when calling <code>RngStream_RandU01</code> indirectly
(e.g., by calling <code>RngStream_RandInt</code>, etc.).
By default, or if this procedure is called again with <var>incp</var> = 0, 
each call to <code>RngStream_RandU01</code> for stream <var>g</var> 
advances the state by 1 step and returns a 
number with 32 bits of precision.
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fSetSeed"></a>Library Function: <em>void</em> <strong>RngStream_SetSeed</strong> <em>(RngStream <var>g</var>, unsigned long <var>seed</var>[6])</em></dt>
<dd><p>Sets the initial seed <code>Ig</code> of stream  <var>g</var>
to the vector <var>seed</var>.  This vector must satisfy the same 
conditions as in <code>RngStream_SetPackageSeed</code>.
The stream is then reset to this initial seed.
The states and seeds of the other streams are not modified.
As a result, after calling this procedure, the initial seeds
of the streams are no longer spaced <code>Z</code> values apart.
We discourage the use of this procedure.  
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fAdvanceState"></a>Library Function: <em>void</em> <strong>RngStream_AdvanceState</strong> <em>(RngStream <var>g</var>, long <var>e</var>, long <var>c</var>)</em></dt>
<dd><p>Advances the state of stream  <var>g</var> by <i>k</i> values,
without modifying the states of other streams (as in <code>RngStream_SetSeed</code>),
nor the values of <code>Bg</code> and <code>Ig</code> associated with this stream.
If <var>e</var> &gt; 0, then <i>k</i> = <em>2^{e}</em> + <var>c</var>; 
if <var>e</var> &lt; 0, then <i>k</i> =<em>-2^{-e}</em> + <var>c</var>;
and if <var>e</var> = 0,  then <i>k</i> = <var>c</var>.
Note: <var>c</var> is allowed to take negative values.
We discourage the use of this procedure.
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fGetState"></a>Library Function: <em>void</em> <strong>RngStream_GetState</strong> <em>(RngStream <var>g</var>, unsigned long <var>seed</var>[6])</em></dt>
<dd><p>Returns in <var>seed</var>[] the current state <code>Cg</code> of stream  <var>g</var>.
This is convenient if we want to save the state for subsequent use.  
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fWriteState"></a>Library Function: <em>void</em> <strong>RngStream_WriteState</strong> <em>(RngStream <var>g</var>)</em></dt>
<dd><p>Prints (to standard output) the current state of stream <var>g</var>.
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fWriteStateFull"></a>Library Function: <em>void</em> <strong>RngStream_WriteStateFull</strong> <em>(RngStream <var>g</var>)</em></dt>
<dd><p>Prints (to standard output) the name of stream <var>g</var> and the values
of all its internal variables.
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fRandU01"></a>Library Function: <em>double</em> <strong>RngStream_RandU01</strong> <em>(RngStream <var>g</var>)</em></dt>
<dd><p>Returns a (pseudo)random number from the uniform distribution
over the interval (0,1), using stream <var>g</var>, 
after advancing the state by one step.  
The returned number has 32 bits of precision in the sense that it is
always a multiple of 
1/(2^32-208),
unless <code>RngStream_IncreasedPrecis</code> has been called for this stream.
</p></dd></dl>


<dl>
<dt><a name="index-RngStream_005fRandInt"></a>Library Function: <em>long</em> <strong>RngStream_RandInt</strong> <em>(RngStream <var>g</var>, long <var>i</var>, long <var>j</var>)</em></dt>
<dd><p>Returns a (pseudo)random number from the discrete uniform 
distribution over the integers { <var>i</var>, <var>i</var>+1, &hellip;, <var>j</var> },
using stream <var>g</var>.  
Makes one call to <code>RngStream_RandU01</code>.
</p></dd></dl>



<hr>
<div class="header">
<p>
Next: <a href="Example.html#Example" accesskey="n" rel="next">Example</a>, Previous: <a href="Install.html#Install" accesskey="p" rel="prev">Install</a>, Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
</div>



</body>
</html>
