# Note: It doesn't do any good to try to define prefix or local_prefix
# in the host overrides because configure will just change them back.
# You either have to give an appropriate option to configure or live with
# an Amiga specific patch to configure.  See the note in configure.  -fnf

# Building under amigados almost certainly requires an already working gcc.
# Use gccv, which is a gcc compiled with AMIGADOS_FORK_GCC so "-pipe" will
# work and get exercised.  To bootstrap with the regular gcc just do
# "make CC=gcc".  To bootstrap without "-pipe" do "make PIPE=".

CC = gccv $(PIPE)

# Disable -pipe for now since I had problems bootstrapping gcc 2.5.5 with
# it. (fnf)
#PIPE = -pipe

# Allow the user to override the default host optimization with gcc, or if the
# host compiler is not gcc and doesn't understand -O<N>.

X_OPTIMIZE = -O2

# The standard additional host flags for the compiler.

X_CFLAGS = $(X_OPTIMIZE)

# Man pages get a wierd suffix...

manext = .0

# We really shouldn't specify CFLAGS from here, but there's no other way
# to get rid of the `-g' indoctrinated by Makefile.in.  Note this becomes
# part of both the host compilation CFLAGS and the target compilation
# CFLAGS.

CFLAGS =

# Ranlib does exist, but may not be in a path where the default RANLIB_TEST
# expects it, so just force it to true.

RANLIB_TEST = true

# Until we can make sure no cross-device hardlinks are tried, and until
# symlinks can be made in canonical amigados format (dev:path/file), just
# use copy with timestamp preservation.  This only wastes some disk space
# and means you have to reconfigure if you change any of the files that
# would normally be linked to.  -fnf

HARDLINK = cp -p
SYMLINK = cp -p

# Build supplimentary Amiga host support file.
amigasup.o: amigasup.c
