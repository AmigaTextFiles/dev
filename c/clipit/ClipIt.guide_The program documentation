@DATABASE ClipIt.guide
@REM Source: ClipIt.c ClipItReq.c ClipFuncs.c
@REM Copyright (C)2005 by J.T. Steichen.  All Rights Reserved.

@NODE "PgmIndex" "ClipIt! Program Table Of Contents:"
@{FG HIGHLIGHT}@{B}TABLE OF CONTENTS@{UB}@{FG TEXT}

   @{"ClipIt.c   " LINK "Main"}
      @{" How do I work this??          " LINK "Tutorial"}
      @{" Icon ToolTypes                " LINK "ToolTypes"} -- How to customize the program.
      @{" Keyboard access               " LINK "Keystrokes"}
      @{" Program Menus                 " LINK "MenuItems"}
      @{" What are Clip Numbers?        " LINK "clipnumbers"}	
      @{" Who wrote this great program? " LINK "Author"} -- (C'est moi!)

   @{"ClipItReq.c" LINK "ClipItReq.c"}
@{FG SHINE}
   NOTE:  Very few of these functions are actually used by ClipIt: @{FG TEXT}
   
   @{"ClipFuncs.c" LINK "ClipFuncs.c"}
      @{"CBGetIFFError()     " LINK "CBGetIFFError()"}
      @{"CBReadFTXT_IFF()    " LINK "CBReadFTXT_IFF()"}
      @{"CBWriteFTXT_IFF()   " LINK "CBWriteFTXT_IFF()"}
      @{"CBClose()           " LINK "CBClose()"}
      @{"CBFreeBuf()         " LINK "CBFreeBuf()"}
      @{"CBQueryFTXT()       " LINK "CBQueryFTXT()"}
      @{"CBReadCHRS()        " LINK "CBReadCHRS()"}
      @{"CBReadDone()        " LINK "CBReadDone()"}
      @{"CBUpdate()          " LINK "CBUpdate()"}
      @{"CBWriteFTXT()       " LINK "CBWriteFTXT()"}
      @{"FTXTToFile()        " LINK "FTXTToFile()"}
      @{"FileToFTXT()        " LINK "FileToFTXT()"}
      @{"FillCBData()        " LINK "FillCBData()"}
      @{"FindCurrentReadID() " LINK "FindCurrentReadID()"}
      @{"FindCurrentWriteID()" LINK "FindCurrentWriteID()"}
      @{"ReadLong()          " LINK "ReadLong()"}
      @{"WriteFTXTHeader()   " LINK "WriteFTXTHeader()"}
      @{"ClipToFile()        " LINK "ClipToFile()"}

      @{"FTXTFileToClip()    " LINK "FTXTFileToClip()"}
      @{"ILBMFileToClip()    " LINK "ILBMFileToClip()"}

      @{"ChangeHookFunctions " LINK "ChangeHookFunctions"}
      @{"CloseHookedCB()     " LINK "CloseHookedCB()"}
      @{"OpenHookedCB()      " LINK "OpenHookedCB()"}

   @{" Author Information " LINK "Author"}

@ENDNODE

@NODE "MAIN" "ClipIt! Program Documentation:"
@{FG SHINE}ClipIt.c@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    @{B}ClipIt.c@{UB}

@{FG TEXT}
@{B}DESCRIPTION@{UB}
    @{B}ClipIt.c@{UB} is a GUI for accessing all 256 clipboard units in the
    clipboard device.  This help guide documents all of the source code
    that comes in the distribution.  After you un-archive the program, the first
    thing you should do is place it somewhere safe.  Next edit the Icon @{" ToolTypes " LINK "ToolTypes"}
    to reflect your choices for Editors, Viewers & where your clipboards are located. 

    @{" How do I work this?? " LINK "Tutorial"} -- A brief tutorial.

@{B}HISTORY@{UB}
    02-Nov-2005 - Started re-write for PowerPC, AmigaOS4 & gcc.
    Jul-10-2005 - Created this file.

@{B}COPYRIGHT@{UB}
    @{B}ClipIt.c@{UB} Jul-10-2005(C) by J.T. Steichen

@{B}NOTES@{UB}
    @{" Warranty? " LINK "Warranty"} (yeah, right!)
@{FG TEXT}
    Program set up to compile with gcc & AmigaOS4 also.

    $VER: @{B}ClipIt.c@{UB} 2.0 (02-Nov-2005) by J.T. Steichen

@{B}SEE ALSO@{UB}
    @{" Table of Contents " LINK "PgmIndex"}, @{" ToolTypes " LINK "ToolTypes "}
    @{" Menus " LINK "MenuItems"}

@ENDNODE

@NODE "MenuItems" "ClipIt Menu Items:"

   The Program has the following menu items available to the User:
   @{FG SHINE}   
   PROJECT @{FG TEXT}

    @{B}Load...        A-L@{UB} - Load a clip into a @{" Viewer or Editor " LINK "ToolTypes"}.
    @{B}Save           A-S@{UB} - Save a @{" clip number " LINK "ClipNumbers"} to a file.
    ~~~~~~~~~~~~~~~~~~~~~~
    @{B}Edit Text...@{UB}       - Translate the currently-selected clip into something your editor
	                          can understand, then activate the @{" Text Editor " LINK "ToolTypes"}.
    @{B}Edit Image...@{UB}      - Activate your @{" Image editor " LINK "ToolTypes"} for the currently-selected clip.
    ~~~~~~~~~~~~~~~~~~~~~~
    @{B}About..        A-I@{UB} - Display some information about the program.
    @{B}Help...        A-H@{UB} - Display this AmigaGuide file.
    @{B}Quit           A-Q@{UB} - Exit the Program.
@{B}
    SEE ALSO@{UB} @{" Keyboard actions " LINK "Keystrokes"}

@ENDNODE

@NODE "ToolTypes" "ToolsTypes used by the Program:"

    The program uses the values you define in your ToolTypes (located in the Icon)
    to control important functions of the program.  The name of the ToolType 
    explains what the ToolType is for.  The most important ToolType is the 
    ClipPath ToolType, it tells the prgoram where to find the clipboards on
    your PC.  For AmigaOS4, that location is @{B}Clips:@{UB}, which is defined in
    the startup-sequence as @{B}Assign >NIL: CLIPS: RAM:clipboards@{UB}.  For 
    older Amiga systems, there is no such Assignment, so I would recommend that
    you add something to your startup scripts to perform it.  Usually the clipboards
    will be located in RAM:clipboards also, although they could be in Devs;clipboards
    as well.
    
    Defined ToolTypes & their default values are:
@{FG SHINE}
       CLIPPATH    = CLIPS:        - Where the System places your clipboards.
       TEXTEDITOR  = C:Ed          - The program that edits you text-type clips. 
       TEXTVIEWER  = MultiView     - The program that displays your text-type clips.
       IMAGEEDITOR = PPaint:ppaint - The program that edits your image-type clips.
       IMAGEVIEWER = MultiView     - The program that displays your image-type clips.
       PROGRAMPATH = ClipIt:       - Where the ClipIt program is located. 
       HELPFILE    = ClipIt.guide  - The name of the file you're currently reading.
       HELPVIEWER  = MultiView     - The program that displays AmigaGuide files to you.
@{FG TEXT}
@ENDNODE

@NODE "ClipNumbers" "Clip numbers, a brief description:"

   The Amiga OS allows you to have up to 256 different clips in the clipboard
   directory.  The clipboard.device expects only 0 through 255 for these different
   clips.  There are no restrictions on the size of each clip however.

   This program does not care what else is in the clipbards directory, so you could
   also place other FTXT or ILBM-type clips in the clipboards directory for ClipIt
   to find & use!
      
@ENDNODE

@NODE "Tutorial" "ClipIt Tutorial:"
@PREV "Main"
@NEXT "PgmIndex" @{FG SHINE}
    NOTE:  You will only find instructions here, NOT Wisdom! @{FG TEXT}

    First of all, keep in mind that ClipIt only recognizes the two types
    of clips documented in the RKM Devices Manual, 3Rd Edition.  Those are
    FTXT & ILBM.  FTXT is for text-only clips (usually generated by a 
    Copy or Cut operation in a text editor). ILBM clips are for graphic-
    type clips (usually generated by a paint-type program).
    
    The Button gadgets in the @{" GUI " LINK "ClipIt.iff/Main"} are self-explanatory (at least to me they are!),
    so I'm only going to explain how to do some of the tasks.

    1. Viewing a clip:
       a. In order to view a clip, first clip on a @{" clip number " LINK "ClipNumbers"} in the @{B}Clips List@{UB} Gadget.
       b. The clip number will appear in the Text Gadget below the ListView gadget and the
          Clip Type, Size & Number Text Gadgets will reflect the parameters of the clip you've
	  selected.
       c. Press & release the @{B}View Clip@{UB} Button gadget.

    2. Editing a clip:
       a. Select either the @{B}@{I}Edit Text@{UB}@{UI} or @{B}@{I}Edit Image@{UB}@{UI} menutiem.

    3. Editing ToolTypes:
       a. Select the ToolType you wish to change in the ToolTypes ListView Gadget.
       b. Edit the ToolType in the String Gadget underneath the ToolTypes ListView Gadget.
       c. When it has the value you want press the ENTER key.
       d. Your changed ToolType will be copied back into the ToolTypes ListView Gadget.
          The actual update to the Icon will not occur until you exit the program.

    4. Make a Clip:
       a. Making an FTXT-type clip will be dependent on how your editor saves files.
          The way I generate FTXT-type clips with the SAS-C editor SE is to click on the
	  @{B}Make Clip@{UB} button, then enter the text in the SAS-C editor.  Next I mark the
	  text & select the @{B}Output to clip@{UB} menuitem in the SAS-C editor.  This will
	  send my clip to @{" clip number " LINK "ClipNumbers"} 0 only, so if I want more than one clip, I have to rename
	  @{" clip number " LINK "ClipNumbers"} 0 to another unused number.
	  
       b. Clicking on @{B}Make Clip@{UB} will also generate an ILBM-type clip, but you have to save
	  your picture from your Image Editor into a @{" clip number " LINK "ClipNumbers"}.

    If you are doing some other task, such as editing a text file & you save some text to a clip,
    press & release the @{B}Update Clip List@{UB} Button Gadget in order to reflect your 
    changes into the ClipIt program.@{FG SHINE}  NOTE:  Most Text-editors only use @{" clip number " LINK "ClipNumbers"} 0, so don't
    expect the clip list to grow unless your editor uses more than the 0 clipboard! @{FG TEXT} 

    @{B}SEE ALSO@{UB}
        @{" Keyboard operations " LINK "Keystrokes"}, @{" ToolTypes " LINK "ToolTypes"}

@ENDNODE

@NODE "Keystrokes" "Keyboard-Equivalent operations for the Program:"

   The following keystrokes can also be used to operate some parts of the program:
   
   h, H or @{B}Help@{UB} - Display the program documentation.
    
   l or L - Load in a clip (for either viewing or editing).
   s or S - Save a clip to the CLIPS: directory.
   u or U - Update the Clips ListView Gadget
   m or M - Make a clip.
   v or V - View the selected clip number.
   i or I - Display some information about the program.
   q or Q - Exit the program.

@ENDNODE

@NODE "ClipItReq.c" "ClipItReq.c Documentation:"
@{FG SHINE}ClipItReq.c@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    @{B}ClipItReq.c@{UB}

@{FG TEXT}
@{B}DESCRIPTION@{UB}
    @{B}ClipItReq.c@{UB} is a GUI for Obtaining a clipboard
   @{" clip number " LINK "ClipNumbers"} from the User via a Requester.

@{B}SYNOPSIS@{UB}
    int clipNum = GetClipNumber( int CurrentClipNumber );

@{B}RETURN VALUE@{UB}
    The @{" clip number " LINK "ClipNumbers"} the user entered or ERROR_ON_OPENING_WINDOW
    if the GUI could NOT be opened for some reason.

@{B}COPYRIGHT@{UB}
    @{B}ClipItReq.c@{UB} 02-Nov-2005(C) by J.T. Steichen

@{B}SEE ALSO@{UB}
    @{" Table of Contents " LINK "PgmIndex"}

@ENDNODE

@NODE "CBGetIFFError()" "CBGetIFFError()"
@{FG SHINE}CBGetIFFError()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    CBGetIFFError()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    char *errMsg = CBGetIFFError( int errornum );

@{B}DESCRIPTION@{UB}
    Return an error message for the given error number.

@ENDNODE

@NODE "CBReadFTXT_IFF()" "CBReadFTXT_IFF()"
@{FG SHINE}CBReadFTXT_IFF()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    CBReadFTXT_IFF()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    int errnum = CBReadFTXT_IFF( ULONG unit, char *buffer, int readsize );

@{B}DESCRIPTION@{UB}
    Read a clip that is (hopefully) in FTXT-format.

@ENDNODE

@NODE "CBWriteFTXT_IFF()" "CBWriteFTXT_IFF()"
@{FG SHINE}CBWriteFTXT_IFF()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    CBWriteFTXT_IFF()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    int errnum = CBWriteFTXT_IFF( ULONG unit, char *text );

@{B}DESCRIPTION@{UB}
    Write the given text to an FTXT-type clip.

@ENDNODE

@NODE "ChangeHookFunctions" "ChangeHookFunctions"
@{FG SHINE}ChangeHookFunctions@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    @{B}ChangeHookFunctions@{UB}

@{FG TEXT}
@{B}NOTES@{UB}
@{FG SHINE}    Modified the ChangeHook_Test.c file from RKM Devices manual,
    pgs. 48-49.

 The DEBUG code will set a hook & wait for the clipboard data to
 change.  You must put something in the clipboard in order for
 it to return.  Run from the CLI only!

@{FG TEXT}
@ENDNODE

@NODE "ClipFuncs.c" "ClipFuncs.c"
@{FG SHINE}ClipFuncs.c@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    @{B}ClipFuncs.c@{UB}

@{FG TEXT}
@{B}DESCRIPTION@{UB}
    A collection of functions to make it easier to use the clipboard
    device from User programs.  You may use these functions to create your
    own clipboard programs, just do NOT change these functions without letting @{" me " LINK "Author"} 
    know.

@{B}AUTHOR@{UB} @{FG SHINE}
@{B}    J.T. Steichen
@{UB} @{FG TEXT}
@{B}COPYRIGHT@{UB}
    @{B}ClipFuncs.c@{UB} (c)1999 by J.T. Steichen, All Rights Reserved.

@{B}HISTORY@{UB}
    02-Nov-2005 - Updated the function documentation.

@{B}NOTES@{UB} @{FG SHINE}
    Entered from RKM Devices manual, pgs. 50-56.  Provide 
    standard clipboard device interface routines such as
    Open, Close, Post, Read, Write, etc.

    These functions are useful for writing & reading simple
    FTXT.  Writing & reading complex FTXT, ILBM, etc., requires
    more work & usage of the iffparse.library. @{FG TEXT}

@{B}   FUNCTIONAL INTERFACE:@{UB}

   PUBLIC char *CBGetIFFError( int errornum );

   PUBLIC struct IOClipReq *CBOpen( ULONG unit );

   PUBLIC char *FillCBData( struct IOClipReq *ior, ULONG size );
   PUBLIC char *CBReadCHRS( struct IOClipReq *ior );

   PUBLIC int   FTXTFileToClip( char *filename, int clipnumber );
   PUBLIC int   ILBMFileToClip( char *filename, int clipnumber );

   PUBLIC int   FileToFTXT( int clipunitnum, char *filename );

   PUBLIC int   ClipToFile( int clipnumber,  char *filename );
   PUBLIC int   FTXTToFile( int clipunitnum, char *filename );

   PUBLIC int   WriteFTXTHeader( struct IOClipReq *ior, int textlength );

   PUBLIC void  CBClose(     struct IOClipReq *ior );
   PUBLIC int   ReadLong(    struct IOClipReq *ior, ULONG *ldata );
   PUBLIC int   CBWriteFTXT( struct IOClipReq *ior, char *string );
   PUBLIC void  CBReadDone(  struct IOClipReq *ior );
   PUBLIC int   CBQueryFTXT( struct IOClipReq *ior );
   PUBLIC int   CBUpdate(    struct IOClipReq *ior );
   PUBLIC void  CBFreeBuf(   char *buf             );

   PUBLIC ULONG FindCurrentWriteID( void );
   PUBLIC ULONG FindCurrentReadID( void );

   PUBLIC int   PostFTXTClip( int unitnum, char *buffer );

   PUBLIC struct IOClipReq 
          *OpenHookedCB( LONG unit,  
                         ULONG(*hookfunc)( struct Hook *, 
                                           void *, 
                                           void * 
                                         )
                       );

   PUBLIC void CloseHookedCB( struct IOClipReq *clipIO );

   PRIVATE void ClearBuffer( char *buffer, int length );
   PRIVATE int  WriteLong( struct IOClipReq *ior, long  *ldata );

   PRIVATE ULONG __asm hookEntry( register __a0 struct Hook *h, 
                                  register __a2 void *obj, 
                                  register __a1 void *msg
                                );

   PRIVATE void InitHook( struct Hook *h, 
                          ULONG (*func)( struct Hook *, 
                                         void *, 
                                         void *
                                       ), 
                          void *data
                        );
@{FG SHINE}
   $VER: @{B}ClipFuncs.c@{UB} 2.0 (10-Jul-2005) by J.T. Steichen
@{B}SEE ALSO@{UB}
    @{" Table of Contents " LINK "PgmIndex"}

@{FG TEXT}

@ENDNODE

@NODE "CBClose()" "CBClose()"
@{FG SHINE}ClipFuncs/CBClose()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    CBClose()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    void CBClose( struct IOClipReq *ior )

@{B}DESCRIPTION@{UB}
    Close the clipboard device unit which was opened via CBOpen().

@ENDNODE

@NODE "CBFreeBuf()" "CBFreeBuf()"
@{FG SHINE}ClipFuncs/CBFreeBuf()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    CBFreeBuf()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    void CBFreeBuf( char *spentBuffer );

@{B}DESCRIPTION@{UB}
    Frees a buffer allocated by CBReadCHRS() or FillCBData().

@ENDNODE

@NODE "CBQueryFTXT()" "CBQueryFTXT()"
@{FG SHINE}ClipFuncs/CBQueryFTXT()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    CBQueryFTXT()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    int result = CBQueryFTXT( struct IOClipReq *ior );

@{B}DESCRIPTION@{UB}
    Check to see if the clipboard contains FTXT.  If so, call
    CBReadCHRS() one or more times until all CHRS chunks have
    been read.

@{B}SEE ALSO@{UB}
    @{" CBReadDone() " LINK "CBReadDone()"}

@ENDNODE

@NODE "CBReadCHRS()" "CBReadCHRS()"
@{FG SHINE}ClipFuncs/CBReadCHRS()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    CBReadCHRS()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    char *newBuffer = CBReadCHRS( struct IOClipReq *ior );


@{B}DESCRIPTION@{UB}
    Read & return the text in the next CHRS chunk (if any)
    from the clipboard.  Allocates memory to hold data in the
    next CHRS chunk.


@{B}NOTES@{UB}
@{FG SHINE}    The caller MUST free the returned buffer when done with the
    data by calling CBFreeBuf().
@{FG TEXT}
@ENDNODE

@NODE "CBReadDone()" "CBReadDone()"
@{FG SHINE}ClipFuncs/CBReadDone()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    CBReadDone()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    void CBReadDone( struct IOClipReq *ior );

@{B}DESCRIPTION@{UB}
    Reads the clipboard file until io_Actual is zero.

    THIS TELLS THE CLIPBOARD THAT WE ARE DONE READING!
 
@{B}SEE ALSO@{UB}
    @{" CBQueryFTXT() " LINK "CBQueryFTXT()"}

@ENDNODE

@NODE "CBUpdate()" "CBUpdate()"
@{FG SHINE}ClipFuncs/CBUpdate()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    CBUpdate()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    int success = CBUpdate( struct IOClipReq *ior )

@{B}DESCRIPTION@{UB}
    Send a CMD_UPDATE command to the clipboard device.

@ENDNODE

@NODE "CBWriteFTXT()" "CBWriteFTXT()"
@{FG SHINE}ClipFuncs/CBWriteFTXT()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    CBWriteFTXT()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    int success = CBWriteFTXT( struct IOClipReq *ior, char *string );

@{B}DESCRIPTION@{UB}
    Write a NULL-terminated string of text to the clipboard.
    The string will be written in simple FTXT format.  Note that
    this function pads odd length strings automatically to
    conform to the IFF standard.

@ENDNODE

@NODE "FTXTToFile()" "FTXTToFile()"
@{FG SHINE}ClipFuncs/FTXTToFile()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    FTXTToFile()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    int errnum = FTXTToFile( int unitnum, char *filename );

@{B}DESCRIPTION@{UB}
    Sends the FTXT in the Clipboard to an ASCII file.  This is
    a means to translate an FTXT Clip to ASCII.

@{B}RETURN VALUE@{UB}
    RETURN_OK if all is ok, < 0 on error.

@{B}WARNINGS@{UB}
    This function assumes that there is only one simple CHRS-type
    chunk in the clip.

@ENDNODE

@NODE "FileToFTXT()" "FileToFTXT()"
@{FG SHINE}ClipFuncs/FileToFTXT()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    FileToFTXT()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    int errnum = FileToFTXT( int unitnum, char *filename );

@{B}DESCRIPTION@{UB}
    Sends ASCII file to the Clipboard as FTXT.  This is basically
    a means to translate ASCII to a clip.

@{B}RETURN VALUE@{UB}
    RETURN_OK if all is okay, or < 0 if there was an error.

@ENDNODE

@NODE "FillCBData()" "FillCBData()"
@{FG SHINE}ClipFuncs/FillCBData()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    FillCBData()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    char *newBuffer = FillCBData( struct IOClipReq *ior, ULONG size );

@{B}DESCRIPTION@{UB}
    Allocate & fill a buffer from the current clip settings
    with 'size' bytes.

@ENDNODE

@NODE "FindCurrentReadID()" "FindCurrentReadID()"
@{FG SHINE}ClipFuncs/FindCurrentReadID()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    FindCurrentReadID()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    ULONG clipReadID = FindCurrentReadID( void );

@{B}DESCRIPTION@{UB}
    Return the current clip Number we're reading from.

@ENDNODE

@NODE "FindCurrentWriteID()" "FindCurrentWriteID()"
@{FG SHINE}ClipFuncs/FindCurrentWriteID()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    FindCurrentWriteID()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    ULONG clipWriteID = FindCurrentWriteID( void );

@{B}DESCRIPTION@{UB}
    Return the current clip Number we're writing to.

@ENDNODE

@NODE "ReadLong()" "ReadLong()"
@{FG SHINE}ClipFuncs/ReadLong()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    ReadLong()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    int success = ReadLong( struct IOClipReq *ior, ULONG *ldata );

@{B}DESCRIPTION@{UB}
    Read a 4-byte string from the Clipboard. 

@{B}RETURN VALUE@{UB}
    TRUE if all is well, else returns FALSE.

@{B}WARNINGS@{UB}
    Be sure that ldata parameter is longer than or equal to 4 bytes,
    NO checking is done in here! 

@ENDNODE

@NODE "WriteFTXTHeader()" "WriteFTXTHeader()"
@{FG SHINE}ClipFuncs/WriteFTXTHeader()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    WriteFTXTHeader()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    int success = WriteFTXTHeader( struct IOClipReq *ior, int textlen );

@{B}DESCRIPTION@{UB}
    Write the IFF identification header to the clipboard.

@ENDNODE

@NODE "ClipToFile()" "ClipToFile()"
@{FG SHINE}ClipToFile()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    ClipToFile()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    int success = ClipToFile( int clipNumber, char *fileName );

@{B}DESCRIPTION@{UB}
    Read a clipboard & send its contents to an FTXT file.


@{B}RETURN VALUE@{UB}
    RETURN_OK if all was okay or < 0 if there was an error.

@ENDNODE

@NODE "CloseHookedCB()" "CloseHookedCB()"
@{FG SHINE}CloseHookedCB()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    CloseHookedCB()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    void CloseHookedCB( struct IOClipReq *clipIO );

@{B}DESCRIPTION@{UB}
    Close the clipboard & kill the change hook.

@ENDNODE

@NODE "FTXTFileToClip()" "FTXTFileToClip()"
@{FG SHINE}FTXTFileToClip()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    FTXTFileToClip()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    int errnum = FTXTFileToClip( char *filename, int clipnumber );

@{B}DESCRIPTION@{UB}
    Read an FTXT file & send its contents to the clipboard.

@ENDNODE

@NODE "ILBMFileToClip()" "ILBMFileToClip()"
@{FG SHINE}ILBMFileToClip()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    ILBMFileToClip()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    int errnum = ILBMFileToClip( char *fileName, int clipNumber );

@{B}DESCRIPTION@{UB}
    Read an ILBM file & send its contents to the clipboard.

@ENDNODE

@NODE "OpenHookedCB()" "OpenHookedCB()"
@{FG SHINE}OpenHookedCB()@{FG TEXT}

@{B}NAME@{UB}
@{FG SHINE}    OpenHookedCB()

@{FG TEXT}
@{B}SYNOPSIS@{UB}
    struct IOClipReq *ior = OpenHookedCB( LONG unit,  
                                          ULONG(*hookfunc)( struct Hook *, 
                                                            void *, 
                                                            void * 
                                                          ) );


@{B}DESCRIPTION@{UB}
    Open the clipboard with a change hook.

@ENDNODE

@NODE "Author" "Author Information (What a hoopy guy!):"
@PREV main

  If your conscience is bugging you to contribute some cash for my
  programming efforts, please send $15 or more for the program to:
  
  The Author:
  
  James T. Steichen    @{FG SHINE}(A real cool frood!)@{FG TEXT}
  2217 N. Tamarack Dr. 
  Slayton, Mn. 56172-1155 (USA)

  email: @{FG SHINE} jimbot\@frontiernet.net @{FG TEXT} (best place to send bug reports)

  ClipIt was written in C using the SAS-C compiler V6.58.
  It was later re-written & compiled for the AmigaOne PowerPC &
  AmigaOS4 with gcc V3.4.4. 

@ENDNODE

@NODE "Warranty" "NO warranty for ClipIt:"
@PREV main

   @{B}NO WARRANTY
   ~~~~~~~~~~~@{UB}
   There is no warranty for this software package. Although the @{" Author " LINK "Author"}
   has tried to prevent errors, he can't guarantee that the software 
   package described in this document is 100% reliable.  In fact, I can
   certainly guarantee that there are some problems in the code.  You are
   therefore using this material at your own risk.  The author cannot be
   held responsible for any damage which is caused by using this software
   package.  So if your Amiga jumps up & has sex with your cat, you should
   keep the cat away from the Amiga!  @{FG SHINE}Hey, what do you want for free?@{FG TEXT}

   (See @{" Disclaimers " LINK "Disclaimers"})

   I would appreciate any bug reports & I would suggest that you send them
   via e-mail to my attention:  @{B}jimbot\@frontiernet.net@{UB}
@ENDNODE


@NODE Disclaimers "If it don't work, you're to blame:"
@PREV warranty

@{FG SHINE}
   You get to figure out which ones apply to this program ;) @{FG TEXT}

   No other warranty expressed or implied.
   List was current at time of printing.
   This supersedes all previous notices.
   This information is subject to change without notice.
   All rights reserved.
   Do not purchase if seal has been tampered with.
   Contents under pressure.  Do NOT incinerate.
   Some assembly required.
   List each check separately by bank number.
   Batteries not included.
   Some settling of contents may occur during shipping.
   Use only as directed.
   Do not use while operating a motor vehicle or heavy equipment.
   This product is meant for educational purposes only.
   Postage will be paid by addressee.
   This is not an offer to sell securities.
   Apply only to affected area.
   May be too intense for some viewers.
   Do not stamp.
   For recreational use only.
   All models over 18 years of age.
   If condition persists, consult your physician.
   No user-serviceable parts inside.
   Times approximate.
   Simulated picture.
   Breaking seal constitutes acceptance of agreement.
   One size fits all.
   Contains a substantial amount of non-tobacco ingredients.
   Colors may, in time, fade.
   We have sent the forms which seem to be right for you.
   Slippery when wet.
   Parental guidance suggested.
   Do not bend, fold, spindle, or mutilate.
   We reserve the right to refuse service to anyone.
   Use unleaded fuel only.
   Not affiliated with the American Red Cross.
   Drop in any mailbox.
   Edited for television.
   Keep cool; process promptly.
   Post office will not deliver without postage.

   Not responsible for direct, indirect, incidental or consequential 
   damages resulting from any defect, error or failure to perform.

   No part of this publication may be reproduced in any form or by any 
   means without the prior written permission of the publisher.

   Some of the trademarks mentioned in this product appear for identi-
   fication purposes only.

   At participating locations only.
   Your mileage may vary.
   Substantial penalty for early withdrawal.
   Lost ticket pays maximum rate.
   Your cancelled check is your receipt.
   Avoid contact with skin.
   Be sure each item is properly endorsed.
   Sign here without admitting guilt.
   Other items sold separately.
   Slightly higher in California.
   Employees and their families are not eligible.
   Limited time offer, call now to insure prompt delivery.
   No passes accepted for this engagement.
   Use only in well-ventilated area.
   Keep away from fire or flame.
   Replace with same type.
   Approved for veterans.
   Booths for two or more.
   Some equipment shown is optional.
   Don't try this at home.
   Dispose of properly.
   Prerecorded for this time zone.
   Reproduction strictly prohibited.
   Do not immerse.
   No solicitors.
   No alcohol, dogs, or horses.
   List at least two alternate dates.
   Record additional transactions on back of previous stub.
   Price does not include taxes, title, or destination charges.
   This is not a competition, it is only an exhibition.
   No wagering.

@ENDNODE