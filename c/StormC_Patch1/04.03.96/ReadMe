StormC Compilerpatch vom 21.2.96
Version 1.05 (21.2.96) (leider keine Versions- und Datumsänderung)

StormLink Linkerpatch vom 20.2.96
Version 1.051 (04.03.96)

Vorgehensweise zum Patchen:
***************************

Klicken Sie doppelt auf das Piktogramm StormC-Patch1.BAT.
Daraufhin wird ICONX und das Patch-Bat gestartet, welches ein 
Ausgabefenster öffnet über das Sie über eventuell aufgetretene 
Fehler informiert werden. Vor dem Patchen werden Ihre alten StormC-
und StormLINK Versionen umbenannt und sind nach dem Patchen unter 
dem Namen StormC.backup und StormLink.backup in der Schublade 
STORMC:STORMSYS vorhanden.

Der Patcher geht davon aus, daß er die Dateien StormC und StormLink in 
der Schublade STORMC:STORMSYS findet. Andernfalls wird eine 
Fehlermeldung ausgegeben.

Fehlermeldungen:
****************

Nach erfolgreichem Patchen erscheint KEINE Nachricht. Wird ein Fehler
während des Patchens festgestellt, erscheint eine Fehlermeldung wie 
Beispielsweise: 

"Sorry, this is not the correct Version of xx to patch!"

In dem Fall kann es sich nur um eine bereits gepatchte Version der 
jeweiligen Datei handeln.


Behobene Fehler:
****************

LINKER
======

*  StormLink wurde mit kleinem Daten und kleinem Codemodell
   kompiliert.

*  Der automatisch generierte Versionsstring einer Library hatte kein
   Datum.

*  Dateinamen werden jetzt absolut in den .link files angegeben.

*  Eine Library, die direkt in das libs: Verzeichness geschrieben wird,
   hatte als Namen in ROMTAG libs:xxx.library.

*  Das MODEL Schlüsselwort war nicht mehr ganz in Ordnung.
   Ursache : Neue sscanf() aus der Storm.lib.

*  ALV Generator ist erheblich schneller geworden.
	Reihenfolge der Symbolsuche wurde geändert, die Symboltables wurden
	in 2 Pools gespalten, den User Pool und den Library Pool.
	Symbole werden zuerst im User Pool und danach erst im Data Pool
	gesucht. In jedem Pool werden zuerst alle Code, danach Data und
	Bss bereiche durchsucht.

COMPILER
========

*  Erzeugen von vorcompilierten Header-Dateien war ganz plötzlich
   quälend langsam geworden

*  Addition zwischen Pointer und int: Wenn (durch wildes Casten etc.)
   der Pointeroperand in einem Datenregister lag, konnte es zu
   falschen Ergebnissen durch Register-Doppelbenutzung kommen.

*  Parameterübergabe in Registern: Mußte eine Funktion die ihr
   übergebenen Registerparameter in andere Register verschieben und
   dabei zwei Register vertauschen, so war diese Vertauschoperation
   grob falsch codiert (Umweg über Stack mit Push, aber ohne Pop).
   Wurde berichtigt, und mit EXG-Anweisung implementiert.

*  Parameterübergabe in Registern bei FPU-Code: Wird ein
   Fließkommaparameter in einem bzw. zwei Datenregistern übergeben
   und zwecks Optimierung in ein FPU-Register verschoben, dann wurde
   der Wert im falschen Datenformat (.L) verschoben

*  Bei allen "double"-Operatoren: Im kleinen Codemodell wurde auf
   die "_MathIeeeDoubBasBase" PC-relativ zugegriffen.


Bei Fragen wenden Sie sich bitte an:

	HAAGE & PARTNER Computer GmbH
	Mainzer Straße 10A
	61191 Rosbach v.d.H.

	06007/930051 (15:00 - 19:00 Uhr)

	Compuserve: 100654,3133
	Internet:	100654.3133@compuserve.com
	Web-Page:	http://home.pages.de/~haage


© HAAGE & PARTNER Computer GmbH