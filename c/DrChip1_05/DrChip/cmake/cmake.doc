        Dr. Chip's Cmake V1.30 Copyright 1995 Charles E. Campbell, Jr
       ----------------------------------------------------------------------

Copyright:

    This program (cmake) and associated documents are copyrighted 1995
    by Charles E. Campbell, Jr, PhD.


Restrictions:

    All rights to cmake and its documents are reserved, except for those
    explicitly granted herein.

    No representation or warranties are made with respect to the accuracy,
    reliability, performance, or operation of this software, and all such
    use is at your own risk.  The author does not assume any responsiblity
    or liability whatsoever with respect to your use of this software.

    Cmake may not be included with any commercial product nor may it be
    sold for profit either separately or as part of a compilation without
    the permission of Dr. Charles E. Campbell, Jr.  It may be included in
    non-profit disk collections such as the Fred Fish collection.  It may
	be archived and uploaded to electronic bulletin board systems so long
    as all files remain together and unaltered.  It may be copied to and used on
    individuals' computer systems.


Author : Dr. Charles E. Campbell, Jr.
Contact: cec@gryphon.gsfc.nasa.gov
Version: 1.30


Usage

	cmake [-{s|l}enpqrt] [-f makefile] file1 [file2...]


Options

	e: ignore errors while performing commands
	E: report on error level in progress
	f: makefile is the name of a makefile
	l: list commands but don't execute them
	n: notify user when make is finished
	p: print out macros, entries, and rules
	q: query make about what files are out of date
	r: don't use cmake.init's built-in rules
	s: silent about commands to be executed
	t: touch (update) files
	v: verbose, give target:pre-req in process
	file#: use the directions in makefile to make
		file if it is out-of-date

    *Note that -l and -s cannot be chosen simultaneously*

Explanation


	Substitutable Parameters:
	
	A `$' followed by a (*,@,<,?) has special meaning:
	
		  $*: target name without its suffix
		  $@: complete target name
		  $<: complete list of pre-requisites
		  $?: out-of-date pre-requisites
		  $%: (library rule only) source file
	
	Explanation:
	
	Cmake is intended to help manage multi-file programs.  It examines
	a makefile which is primarily composed of sets of lines of the following
	format:
	
		target [target2 ...] :[:] [pre-req1 [pre-req2  ...]] [; command ...]
			[command1]
			[command2]
			[  ...   ]
	
	The file-dates of the target files are compared with those of their
	pre-requisite files and, if any pre-requisite is more recent than a target,
	the target will be updated using the command(s) which follow the
	target/dependency line.  The leading <TAB> character tells make which lines
	are commands and which are target/dependency lines.
	
	A double colon instead of a single colon in a target/dependency line
	tells make not to check pre-requisites to see if they are themselves out
	of date.
	
	Commands may begin with a - or @:
	
	   - : ignore any errors resulting from command
	   @ : do not print command
	
	The two command modifiers may be put together in either order: -@ or @-.
	
	    Macros:
	
	Make supports macros in makefiles and on the command line.  Macros
	have the form
	
			FROM=[=]TO
	
	where FROM and TO are strings.  The "==" form retains any white space
	surrounding the TO string, whereas the "=" form first elides any such
	white space.  Macro substitution will occur wherever $FROM, ${FROM}, or
	$(FROM) is found in subsequent text.
	
	    The Environment:
	
	Macro substitution with environment variables (VAR below) is accomplished
	with the forms
	
			${VAR}   -or-   $(VAR)
	
	The environment variable CMAKEOPTS can hold a string of the user's
	preferred cmake options.
	
	The cmake.init file's location should be entered into the ChipData
	environment variable.  Failing that, the <cmake.init> file should
	be located on the PATH.
	
	    Stackable Macros:
	
	Make also supports "stackable" macros.  These are single letter
	macros (a-z, A-Z) which may appear as a "pre-requisite".  They are
	in effect only while the target associated with them is being made.
	As an example:
	
		target : C=a.h a.c b.c C=d.h d.c
	
	Stackable macros are expanded dynamically as are substitutable
	parameters ($A, $c, etc.).  Each of the 52 stackable macros possesses
	a LIFO stack.  The top-of-stack for each macro retains the current
	definition.  Stackable macros are in effect for those pre-requisites
	which follow the definition.  Each target pushes macro definitions
	on top of other target's definitions of macros and overwrites their
	own macro definitions.  After a target is made, its macro definitions
	are popped off the stack(s).
	
	    Macro Modifiers:
	
	Both stackable macros and substitutable parameters may also be used
	when surrounded by curly braces: ${a}, ${<}.  Furthermore, in this format
	the parameter/macro can be trailed by a D or F which respectively
	causes only the directory or filename portion(s) of the filespecs to be
	used: ${<D}, $,{<D}, ${aD}, etc.
	
	    Library Support:
	
	To support libraries better, a pre-requisite of the form:
	
		pre-req>libname
	
	implies that the target has <libname> for a pre-requisite but to use
	the date of <pre-req>.  Thus, if the target is out of date with respect
	to the <pre-req>, then (as needed) the library <libname> will be updated
	and used to generate the target.
	
	    Rules:
	
	Rules are typically found in the file <cmake.init> (see "The Environment" above).
	Cmake also allows rules in makefiles.
	
	A "rule" entry has the form
	
		.suf1.suf2 : [optional additional pre-reqs] ; commands
	
	If no explicit rule for making a target is present in the user's makefile,
	then cmake will attempt to infer one.  The inferrence process involves
	a macro of the form
	
		SUFFIX = .suf1 .suf2 .suf3 ...
	
	and the following algorithm:
	
	   basefile= basename of filename (ie. no suffix)
	   sfx     = suffix of filename
	   IF <sfx> is in the SUFFIX list:
	     FOR every suffix "isfx" in SUFFIX following <sfx>:
	       IF a rule <isfx.sfx> is present:
	         Attempt to make <basefile.sfx> with the following rule:
	           basefile.sfx : basefile.isfx [optional pre-reqs] ; commands
	         If successful, break out of for loop
	       END-FOR-LOOP
	
	Note that the attempt to make <basefile.isfx> will use the inference process itself
	as necessary.
	
	    Miscellaneous:
	
	1. Comments follow "#" (ie. subsequent text is ignored).
	2. Characters with special meanings (such as ";" in commands)
	   can be included in a token (ie. target, pre-req, command, etc)
	   by two methods:
	
	    single quoting:  '...'   ->   ...
	    escaping      :  ..\?..  ->   ..?..
	
	    The cmake program was compiled with Aztec C on an A3000 with the following
	    options: CCOPTS=-qf -wp -c2 -f8.
	
	    Good luck, and let me know of any problems you encounter, and any attaboys
	    will be appreciated :)
