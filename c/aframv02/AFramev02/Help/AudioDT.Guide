@database 07a51280-1
@master HeddleyCreation
@$VER: 1.0
@author "Deryk Robosson"
@(c) "1995, 1996 Synthetic Input"
@index Main
@remark Created with Heddley v1.1 (c) Edd Dumbill 1994

@node "Main" "AFAudioDT"

                      ***********************************

                        AFAudioDT C++ Object

                        AFrame Version 1.0
                        AFAudioDT Object Version 1.0

                        (c) 1995,1996 Jeffry A Worth
                                      Deryk B Robosson

                      ***********************************

@{"AFObject" link "aframe:help/Object.Guide/main" 0}
  @{"AFDataType" link "aframe:help/DataType.Guide/main" 0}
    AFAudioDT

@{b}TABLE OF CONTENTS@{ub}

  @{"Object Information" link "Object_Information" 0}

  Methods:
    @{"AFAudioDT" link "Constructor" 0}
    @{"~AFAudioDT" link "Destructor" 0}

    @{"PlaySample" link "PlaySample" 0}
    @{"PlayFile" link "PlayFile" 0}
    @{"LoadSample" link "LoadSample" 0}
    @{"SetVolume" link "SetVolume" 0}
    @{"SetBuffer" link "SetBuffer" 0}
    @{"SignalTask" link "SignalTask" 0}
    @{"GetBuffer" link "GetBuffer" 0}
    @{"GetBufferSize" link "GetBufferSize" 0}

    @{"Includes" link "Includes" 0}
    @{"History" link "History" 0}
    @{"Distribution" link "Distribution" 0}
@endnode

@node "Object_Information" "Object Information"
AFAudioDT/Object Information

  This is a subclass of AFDataType.  It provides easy access to audio through system
  methods.  Due to the constraints on the sound.datatype, channel selection is not
  available at this time.
@endnode

@node "Constructor" "AFAudioDT"
AFAudioDT/AFAudioDT

  void = AFAudioDT()

  DESCRIPTION
    Default class constructor.

  INPUTS
    none

  RESULT
    none

  BUGS
    none known

  SEE ALSO
    @{"~AFAudioDT" link "Destructor" 0}
@endnode

@node "Destructor" "~AFAudioDT"
AFAudioDT/~AFAudioDT

  void = ~AFAudioDT()

  DESCRIPTION
    Default class destructor.

  INPUTS
    none

  RESULT
    none

  BUGS
    none known

  SEE ALSO
    @{"AFAudioDT" link "Constructor" 0}
@endnode

@node "PlaySample" "PlaySample"
AFAudioDT/PlaySample

  BOOL = PlaySample()

  DESCRIPTION
    Plays current object if one has been loaded

  INPUTS
    none

  RESULT
    TRUE - if success
    FALSE - if failure

  BUGS
    none known

  SEE ALSO
    @{"PlayFile" link "PlayFile" 0}
@endnode

@node "PlayFile" "PlayFile"
AFAudioDT/PlayFile

  BOOL = PlayFile(char *filename)

  DESCRIPTION
    Plays a file from disk

  INPUTS
    filename - pointer to a filename

  RESULT
    TRUE - if success
    FALSE - if failure

  BUGS
    none known

  SEE ALSO
    @{"PlaySample" link "PlaySample" 0}
@endnode

@node "LoadSample" "LoadSample"
AFAudioDT/LoadSample

  BOOL = LoadSample(char *filename)

  DESCRIPTION
    Loads a sample from disk

  INPUTS
    filename - pointer to a filename

  RESULT
    TRUE - if success
    FALSE - if failure

  BUGS
    none known

  SEE ALSO
    none
@endnode

@node "SetVolume" "SetVolume"
AFAudioDT/SetVolume

  BOOL = SetVolume(int volume)
  BOOL = SetVolume(ULONG volume)

  DESCRIPTION
    Sets the volume for the current datatype object

  INPUTS
    volume - int or ulong, depends on what you need

  RESULT
    TRUE - if success
    FALSE - if failure

  BUGS
    none known

  SEE ALSO
    none
@endnode

@node "SetBuffer" "SetBuffer"
AFAudioDT/SetBuffer

  BOOL = SetBuffer(UBYTE *buffer, ULONG size)

  DESCRIPTION
    Sets the buffer for the current datatype object

  INPUTS
    buffer - UBYTE pointer to sample data
    size   - size of sample data

  RESULT
    TRUE - if success
    FALSE - if failure

  BUGS
    none known

  SEE ALSO
    @{"GetBuffer" link "GetBuffer" 0}
    @{"GetBufferSize" link "GetBufferSize" 0}
@endnode

@node "SignalTask" "SignalTask"
AFAudioDT/SignalTask

  BOOL = SignalTask(struct Task *task)

  DESCRIPTION
    Sets the task to notify when sample has ended or the buffer needs
    to be filled again

  INPUTS
    task - task pointer

  RESULT
    TRUE - if success
    FALSE - if failure

  BUGS
    none known

  SEE ALSO
    none
@endnode

@node "GetBuffer" "GetBuffer"
AFAudioDT/GetBuffer

  UBYTE* = GetBuffer(UBYTE *buffer)

  DESCRIPTION
    Gets the buffer for the current datatype object

  INPUTS
    buffer - UBYTE pointer to sample data

  RESULT
    returns a pointer to the sample data

  BUGS
    none known

  SEE ALSO
    @{"SetBuffer" link "SetBuffer" 0}
@endnode

@node "GetBufferSize" "GetBufferSize"
AFAudioDT/GetBufferSize

  ULONG = GetBufferSize()

  DESCRIPTION
    Gets the buffer size for the current datatype object

  INPUTS
    none

  RESULT
    returns size of sample data

  BUGS
    none known

  SEE ALSO
    @{"SetBuffer" link "SetBuffer" 0}
@endnode

@node "Includes" "Includes"
  //////////////////////////////////////////////////////////////////////////////
  // AudioDT.hpp
  //
  // Deryk Robosson
  // March 16, 1996
  //////////////////////////////////////////////////////////////////////////////

  #ifndef __AUDIODT_HPP__
  #define __AUDIODT_HPP__

  //////////////////////////////////////////////////////////////////////////////
  // INCLUDES
  #include "aframe:include/aframe.hpp"
  #include "aframe:include/datatype.hpp"

  //////////////////////////////////////////////////////////////////////////////
  // Definitions

  typedef struct {
      struct VoiceHeader  *vhdr;          // voice header pointer
      struct dtTrigger    dtt;            // datatype trigger struct
      ULONG               samplelength;   // sample length
      ULONG               cycles;         // sample cycles
      ULONG               period;         // sample period
      ULONG               volume;         // sample volume
      ULONG               clock;          // sample clock rate
      BYTE                *buffer;        // sample buffer
  } AUDIODT;

  //////////////////////////////////////////////////////////////////////////////
  // AudioDT Class

  class AFAudioDT : public AFDataType
  {
  public:

      AFAudioDT();
      ~AFAudioDT();

      virtual char *ObjectType() { return "AudioDT"; };

      BOOL PlaySample();
      BOOL PlayFile(char* file_name);
      BOOL LoadSample(char* file_name);
      BOOL SetVolume(int volume);
      BOOL SetVolume(ULONG volume);
      BOOL SetBuffer(UBYTE *buffer, ULONG size);
      BOOL SignalTask(struct Task *task);
      UBYTE* GetBuffer(UBYTE* buffer);
      ULONG GetBufferSize();

      AUDIODT m_dtAudio;
  };

  //////////////////////////////////////////////////////////////////////////////
  #endif // __AUDIODT_HPP__
@endnode

@node "History" "History"
                    ***HISTORY***

 ***********************************************************
  AFAudioDT Object v1.0

  Created March 16, 1996
  Release March 16, 1996

   - Created class with all functionality
 ***********************************************************
@endnode

@node "Distribution" "Distribution"
Distribution

  The programs and files in this distribution are freely distributable, but are also Copyright (c) Jeff Worth and
Deryk Robosson. They may be freely distributed as long as no more than a nominal fee is charged to cover time and
copying costs. AFrame is distributed as non-crippled shareware, it is fully functional.

Commercial Distribution

Commercial usage is allowed if the following conditions are met:

    a) You state in your documentation that your program uses aframe.library
       and that AFrame is Copyright (c) Jeff Worth and Deryk Robosson.

    b) You send us a copy of your finished product(s) using aframe.library.

  If these conditions are met you are allowed to include the Kickstart 2.0 or higher version of aframe.library and
the installation script(s) with your commercial product.



Freely Distibutable Products

  All of the files copyrighted by the authors must remain unmodified.  None of these files may be distributed on its
own, the entire package must be distributed as one whole.  'demo.cpp' is full public domain and can be used in any
way you like.

  There is one exception to the above.  If you plan to release a freely distributable program (either public domain,
freeware or shareware), you may include 'libs/aframe.library', the installation scripts (with icon), the
documentation (with icons) with your distribution.

If you include AFrame with a crippled shareware program I'd like to ask you to send us a full working version.

  Whether your program is freely distributable or commercial, you must state in your documentation that your program
uses aframe.library and that AFrame is Copyright (c) Jeff Worth and Deryk Robosson
@endnode

