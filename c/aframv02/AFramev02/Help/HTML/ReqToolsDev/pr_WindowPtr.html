<HTML>
<HEAD>
<TITLE>pr_WindowPtr</TITLE></HEAD><BODY><H6><A href=main.html>Contents page</A></H6><P>
<H6><A href=Main.html>Index</A></H6><P>
<H1>pr_WindowPtr</H1>
<HR>
<P>

All requesters in the Requester Toolkit check the pr_WindowPtr of your process to find the screen they should open
on.<P>

These code fragments show you how to set/restore the pr_WindowPtr of your process.<P>

-----------------------------------------------------------------------------<P>

... struct Window *win; struct Process *myproc; APTR oldwinptr;<P>

main() {<PRE>
   myproc = (struct Process *)FindTask (NULL);
   /* get old window pointer */
   oldwinptr = myproc-&gt;pr_WindowPtr;
   ...
   /* Open your screen */
   ...
   /* Open window on your screen */
   win = OpenWindow (&amp;newwindow);
   if (!win) FreeExit();
   /* change the window pointer */
   myproc-&gt;pr_WindowPtr = win;
   ...
   /* now all requesters from the Requester Toolkit will appear
      on the screen your window is on. */
   ... }<P>
</PRE>
----------------------------------------------------------------------------- In 'FreeExit()' you MUST restore the
old windowptr before closing your window and exiting!
-----------------------------------------------------------------------------<P>

FreeExit() {<PRE>
   ...
   /* restore old window pointer before closing window */
   myproc-&gt;pr_WindowPtr = oldwinptr;
   if (win) CloseWindow (win);
   ...
   exit (0); }
<HR>
