<HTML>
<HEAD>
<TITLE>Source</TITLE></HEAD><BODY><H6><A href=main.html>Contents page</A></H6><P>
<H6><A href=Main.html>Index</A></H6><P>
<H1>Source</H1>
<HR>
  //////////////////////////////////////////////////////////////////////////////<PRE>
  // IButton.cpp
  //
  // Deryk B Robosson
  // Jeffry A Worth
  // December 4, 1995
  //////////////////////////////////////////////////////////////////////////////<P>

  //////////////////////////////////////////////////////////////////////////////
  // INCLUDES
  #include &quot;AFrame:include/ImageButton.hpp&quot;<P>

  //////////////////////////////////////////////////////////////////////////////
  //<P>

  AFImageButton::AFImageButton()
  {
    //Do nothing as default constructor;
  }<P>

  AFImageButton::~AFImageButton()
  {
    DestroyObject();
  }<P>

  void AFImageButton::DestroyObject()
  {
    AFGadget::DestroyObject();
  }<P>

  void AFImageButton::Create(AFWindow* pwindow, AFRect* rect, ULONG id, LPImage image, LPImage select)
  {
    Create(pwindow, rect, id, image, select, NULL);
  }<P>

  void AFImageButton::Create(AFWindow* pwindow, AFRect* rect, ULONG id, LPImage image, LPImage select, LPImage</PRE>
disabled)<PRE>
  {
    AFRastPort rp(pwindow);<P>

    // Store the imagery imformation
    m_pRender = image;
    m_pSelect = select;
    m_pDisabled = disabled;<P>

    // Create the gadget
    AFGadget::Create(pwindow,rect,id);<P>

    // Attach ImageStruct to Gadget Struct
    m_pgadget-&gt;Activation = GACT_RELVERIFY | GACT_IMMEDIATE;
    m_pgadget-&gt;GadgetType = GTYP_BOOLGADGET;
    m_pgadget-&gt;GadgetRender = m_pRender;<P>

    if(select == NULL) {
      m_pgadget-&gt;SelectRender = NULL;
      m_pgadget-&gt;Flags = GFLG_GADGHIMAGE | GFLG_GADGIMAGE;
    } else {
        m_pgadget-&gt;SelectRender = m_pSelect;
        m_pgadget-&gt;Flags = GFLG_GADGHIMAGE | GFLG_GADGIMAGE;
    }<P>

    m_pgadget-&gt;GadgetText = NULL;
    m_pgadget-&gt;MutualExclude = NULL;
    m_pgadget-&gt;SpecialInfo = NULL;
  }<P>

  // December 19, 1995 - Jeffry A Worth
  void AFImageButton::SizeToFit()
  {
    m_pgadget-&gt;Width = m_pRender-&gt;Width;
    m_pgadget-&gt;Height = m_pRender-&gt;Height;
  }
<HR>
