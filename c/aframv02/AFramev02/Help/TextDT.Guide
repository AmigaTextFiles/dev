@database 07a51280-2
@master HeddleyCreation
@$VER: 1.0
@author "Deryk Robosson"
@(c) "1995, 1996 Synthetic Input"
@index Main
@remark Created with Heddley v1.1 (c) Edd Dumbill 1994

@node "Main" "AFTextDT"

                      ***********************************

                        AFTextDT C++ Object

                        AFrame Version 1.0
                        AFTextDT Object Version 1.0

                        (c) 1995,1996 Jeffry A Worth
                                      Deryk B Robosson

                      ***********************************

@{"AFObject" link "aframe:help/Object.Guide/main" 0}
  @{"AFDataType" link "aframe:help/DataType.Guide/main" 0}
    AFTextDT

TABLE OF CONTENTS

  @{"Object Information" link "Object_Information" 0}

  Methods:
    @{"AFTextDT" link "Constructor" 0}
    @{"~AFTextDT" link "Destructor" 0}

    @{"LoadText" link "LoadText" 0}
    @{"GetBuffer" link "GetBuffer" 0}
    @{"GetBufferSize" link "GetBufferSize" 0}
    @{"SetBuffer" link "SetBuffer" 0}
    @{"SetDTFont" link "SetDTFont" 0}
    @{"SetDTFontAttr" link "SetDTFontAttr" 0}

    @{"Includes" link "Includes" 0}
    @{"History" link "History" 0}
    @{"Distribution" link "Distribution" 0}
@endnode

@node "Object_Information" "Object Information"
AFTextDT/Object Information

  This is a subclass of AFDataType.  It provides easy access to Text through system
  methods.  Word selection is also supported, but you must dertermine how to get the
  word that was selected and what to do with it (you will be notified if you so select).
@endnode

@node "Constructor" "AFTextDT"
AFTextDT/AFTextDT

  void = AFTextDT()

  DESCRIPTION
    Default class constructor.

  INPUTS
    none

  RESULT
    none

  BUGS
    none known

  SEE ALSO
    @{"~AFTextDT" link "Destructor" 0}
@endnode

@node "Destructor" "~AFTextDT"
AFTextDT/~AFTextDT

  void = ~AFTextDT()

  DESCRIPTION
    Default class destructor.

  INPUTS
    none

  RESULT
    none

  BUGS
    none known

  SEE ALSO
    @{"AFTextDT" link "Constructor" 0}
@endnode

@node "LoadText" "LoadText"
AFTextDT/LoadText

  BOOL = LoadText(char *filename, struct Screen *screen)

  DESCRIPTION
    Loads a file from disk.  If a screen parameter is passed, default values
    for font and font attributes will be used from the screen, otherwise the
    default pubscreen (most likely Workbench) will be used to attain these
    values.

  INPUTS
    filename - pointer to a filename
    screen   - screen pointer

  RESULT
    TRUE  - if success
    FALSE - if failure

  BUGS
    none known

  SEE ALSO
    none
@endnode

@node "GetBuffer" "GetBuffer"
AFTextDT/GetBuffer

  UBYTE* = GetBuffer(UBYTE *buffer)

  DESCRIPTION
    Gets the buffer for the current datatype object

  INPUTS
    buffer - UBYTE pointer to text data

  RESULT
    returns a pointer to the text data

  BUGS
    none known

  SEE ALSO
    @{"SetBuffer" link "SetBuffer" 0}
@endnode

@node "GetBufferSize" "GetBufferSize"
AFTextDT/GetBufferSize

  ULONG = GetBufferSize()

  DESCRIPTION
    Gets the buffer size for the current datatype object

  INPUTS
    none

  RESULT
    returns size of text data

  BUGS
    none known

  SEE ALSO
    @{"SetBuffer" link "SetBuffer" 0}
@endnode

@node "SetBuffer" "SetBuffer"
AFTextDT/SetBuffer

  BOOL = SetBuffer(UBYTE *buffer, ULONG size)

  DESCRIPTION
    Sets the buffer for the current datatype object

  INPUTS
    buffer - UBYTE pointer to text data
    size   - size of text data

  RESULT
    TRUE - if success
    FALSE - if failure

  BUGS
    none known

  SEE ALSO
    @{"GetBuffer" link "GetBuffer" 0}
    @{"GetBufferSize" link "GetBufferSize" 0}
@endnode

@node "SetDTFont" "SetDTFont"
AFTextDT/SetDTFont

  BOOL = SetDTFont(struct TextFont *textfont)

  DESCRIPTION
    Sets the default font for the datatype object

  INPUTS
    textfont - textfont struct

  RESULT
    TRUE  - if success
    FALSE - if failure

  BUGS
    none known

  SEE ALSO
    @{"SetDTFontAttr" link "SetDTFontAttr" 0}
@endnode

@node "SetDTFontAttr" "SetDTFontAttr"
AFTextDT/SetDTFontAttr

  BOOL = SetDTFontAttr(TEXTATTR ta)

  DESCRIPTION
    Sets the default font attributes for the datatype object

  INPUTS
    ta - text attribute structure

  RESULT
    TRUE  - if success
    FALSE - if failure

  BUGS
    none known

  SEE ALSO
    @{"SetDTFont" link "SetDTFont" 0}
@endnode

@node "Includes" "Includes"
  //////////////////////////////////////////////////////////////////////////////
  // TextDT.hpp
  //
  // Deryk Robosson
  // March 17, 1996
  //////////////////////////////////////////////////////////////////////////////

  #ifndef __TEXTDT_HPP__
  #define __TEXTDT_HPP__

  //////////////////////////////////////////////////////////////////////////////
  // INCLUDES
  #include "aframe:include/aframe.hpp"
  #include "aframe:include/datatype.hpp"

  //////////////////////////////////////////////////////////////////////////////
  // Definitions

  typedef struct
  {
      STRPTR              buffer;     // buffer pointer
      ULONG               bufferlen;  // buffer length
      AFString            fontname;   // font name
      struct  List        *linelist;  // line list pointer
      struct  TextFont    *tf;        // textfont pointer
      TEXTATTR            ta;         // text attributes
  } TEXTDT;

  //////////////////////////////////////////////////////////////////////////////
  // TextDT Class

  class AFTextDT : public AFDataType
  {
  public:

      AFTextDT();
      ~AFTextDT();

      virtual char *ObjectType() { return "TextDT"; };

      BOOL LoadText(char *file_name,struct Screen*);
      UBYTE* GetBuffer(UBYTE *buffer);
      ULONG GetBufferSize();
      BOOL SetBuffer(UBYTE *buffer,ULONG size);
      BOOL SetDTFont(struct TextFont *textfont);
      BOOL SetDTFontAttr(TEXTATTR ta);

      TEXTDT    m_dtText;
  };

  //////////////////////////////////////////////////////////////////////////////
  #endif // __TEXTDT_HPP__
@endnode

@node "History" "History"
                    ***HISTORY***

 ***********************************************************
  AFTextDT Object v1.0

  Created March 17, 1996
  Release March 17, 1996

   - Created class with all functionality
 ***********************************************************
@endnode

@node "Distribution" "Distribution"
Distribution

  The programs and files in this distribution are freely distributable, but are also Copyright (c) Jeff Worth and
Deryk Robosson. They may be freely distributed as long as no more than a nominal fee is charged to cover time and
copying costs. AFrame is distributed as non-crippled shareware, it is fully functional.

Commercial Distribution

Commercial usage is allowed if the following conditions are met:

    a) You state in your documentation that your program uses aframe.library
       and that AFrame is Copyright (c) Jeff Worth and Deryk Robosson.

    b) You send us a copy of your finished product(s) using aframe.library.

  If these conditions are met you are allowed to include the Kickstart 2.0 or higher version of aframe.library and
the installation script(s) with your commercial product.



Freely Distibutable Products

  All of the files copyrighted by the authors must remain unmodified.  None of these files may be distributed on its
own, the entire package must be distributed as one whole.  'demo.cpp' is full public domain and can be used in any
way you like.

  There is one exception to the above.  If you plan to release a freely distributable program (either public domain,
freeware or shareware), you may include 'libs/aframe.library', the installation scripts (with icon), the
documentation (with icons) with your distribution.

If you include AFrame with a crippled shareware program I'd like to ask you to send us a full working version.

  Whether your program is freely distributable or commercial, you must state in your documentation that your program
uses aframe.library and that AFrame is Copyright (c) Jeff Worth and Deryk Robosson
@endnode

