@database 07ac5810-0
@master HeddleyCreation
@$VER: 1.0
@author "Deryk Robosson"
@(c) "1995, 1996 Synthetic Input"
@remark Created with Heddley v1.1 (c) Edd Dumbill 1994

@node "Main" "AFAppMenu"

                      ***********************************

                        AppMenu C++ Object

                        AFrame Version 1.0
                        AFAppMenu Object Version 1.0

                        (c) 1995,1996 Jeffry A Worth
                                      Deryk B Robosson

                      ***********************************

@{"AFObject" link "aframe:help/Object.Guide/main" 0}
  AFAppMenu

TABLE OF CONTENTS

  @{"Object Information" link "Object_Information" 0}

  Methods:
    @{"AFAppMenu" link "Constructor" 0}
    @{"~AFAppMenu" link "Destructor" 0}

    @{"AddItem" link "AddItem" 0}
    @{"RemoveItem" link "RemoveItem" 0}

    @{"Misc Members" link "MiscMembers" 0}

    @{"Includes" link "Includes" 0}
    @{"History" link "History" 0}
    @{"Distribution" link "Distribution" 0}
@endnode

@node "Object_Information" "Object Information"
AFAppMenu/Object Information

  The AppMenu Class allows easy access to the Tools menu on the Workbench
  screen.  Items can be added and removed on the fly, but support for sorted
  or inserted items is not ready yet.
@endnode

@node "Constructor" "AFAppMenu"
AFAppMenu/AFAppMenu

  void = AFAppMenu()

  DESCRIPTION
    Default class constructor.

  INPUTS
    none

  RESULT
    none

  BUGS
    none known

  SEE ALSO
    @{"~AFAppMenu" link "Destructor" 0}
@endnode

@node "Destructor" "~AFAppMenu"
AFAppMenu/~AFAppMenu

  void = ~AFAppMenu()

  DESCRIPTION
    Default class destructor.

  INPUTS
    none

  RESULT
    none

  BUGS
    none known

  SEE ALSO
    @{"AFAppMenu" link "Constructor" 0}
@endnode

@node "AddItem" "AddItem"
AFAppMenu/AddItem

  BOOL = AddItem(AFWindow *window, UBYTE *name, ULONG menuid, LPMsgPort appmsgport)

  DESCRIPTION
    This member allows you to add a menuitem to the Tools menu on the Workbench

  INPUTS
    window     - AFWindow pointer to the window to be notified when menu item is selected
    name       - pointer to the menu name
    menuit     - menuid
    appmsgport - pointer to the msgport to be notified when menu item is selected (can be
                 used for non-standard message dispatching

  RESULT
    TRUE  - if success
    FALSE - if failure

  BUGS
    none known

  SEE ALSO
    @{"RemoveItem" link "RemoveItem" 0}
@endnode

@node "RemoveItem" "RemoveItem"
AFAppMenu/RemoveItem

  void = RemoveItem()

  DESCRIPTION
    This member allows you to remove a menuitem from the Tools menu on the Workbench

  INPUTS
    none

  RESULT
    none

  BUGS
    none known

  SEE ALSO
    @{"AddItem" link "AddItem" 0}
@endnode

@node "MiscMembers" "Misc Members"
AFAppMenu/Misc Members

  Private:
    @{"WorkbenchBase" link "WorkbenchBase" 0}
    @{"IconBase" link "IconBase" 0}
    @{"am" link "am" 0}
    @{"argptr" link "argptr" 0}
    @{"m_pwindow" link "m_pwindow" 0}
    @{"m_menuid" link "m_menuid" 0}
    @{"m_itemname" link "m_menuname" 0}
@endnode

@node "Includes" "Includes"
  //////////////////////////////////////////////////////////////////////////////
  // AppMenu.hpp
  //
  // Deryk B Robosson
  // May 9, 1996
  //////////////////////////////////////////////////////////////////////////////

  #ifndef __APPMENU_HPP__
  #define __APPMENU_HPP__

  //////////////////////////////////////////////////////////////////////////////
  // INCLUDES
  #include "aframe:include/aframe.hpp"
  #include "aframe:include/object.hpp"
  #include "aframe:include/window.hpp"
  #include <workbench/startup.h>
  #include <workbench/workbench.h>

  #include <clib/icon_protos.h>
  #include <clib/wb_protos.h>

  //////////////////////////////////////////////////////////////////////////////
  // Definitions

  //////////////////////////////////////////////////////////////////////////////
  // AppMenu Class

  class AFAppMenu : public AFObject
  {
  public:
      AFAppMenu();
      ~AFAppMenu();

      virtual char *ObjectType() { return "AppMenu"; };

      virtual BOOL AddItem(AFWindow *window, UBYTE* name, ULONG menuid, LPMsgPort appmsgport);
      virtual void RemoveItem();

  private:
      struct WorkbenchBase    *WorkbenchBase;
      struct IconBase         *IconBase;
      struct AppMenuItem      *am;
      struct AppMessage       *amsg;
      struct WBArg            *argptr;

      AFWindow                *m_pwindow;
      ULONG                   m_menuid;
      UBYTE                   *m_itemname;
  };

  //////////////////////////////////////////////////////////////////////////////
  #endif // __APPMENU_HPP__
@endnode

@node "History" "History"
                    ***HISTORY***

 ***********************************************************
  AFAppMenu Object v1.0

  Created May 9, 1996
  Release May 9, 1996

   - Created class with all functionality
 ***********************************************************
@endnode

@node "Distribution" "Distribution"
Distribution

  The programs and files in this distribution are freely distributable, but are also Copyright (c) Jeff Worth and
Deryk Robosson. They may be freely distributed as long as no more than a nominal fee is charged to cover time and
copying costs. AFrame is distributed as non-crippled shareware, it is fully functional.

Commercial Distribution

Commercial usage is allowed if the following conditions are met:

    a) You state in your documentation that your program uses aframe.library
       and that AFrame is Copyright (c) Jeff Worth and Deryk Robosson.

    b) You send us a copy of your finished product(s) using aframe.library.

  If these conditions are met you are allowed to include the Kickstart 2.0 or higher version of aframe.library and
the installation script(s) with your commercial product.



Freely Distibutable Products

  All of the files copyrighted by the authors must remain unmodified.  None of these files may be distributed on its
own, the entire package must be distributed as one whole.  'demo.cpp' is full public domain and can be used in any
way you like.

  There is one exception to the above.  If you plan to release a freely distributable program (either public domain,
freeware or shareware), you may include 'libs/aframe.library', the installation scripts (with icon), the
documentation (with icons) with your distribution.

If you include AFrame with a crippled shareware program I'd like to ask you to send us a full working version.

  Whether your program is freely distributable or commercial, you must state in your documentation that your program
uses aframe.library and that AFrame is Copyright (c) Jeff Worth and Deryk Robosson
@endnode

@node "WorkbenchBase" "WorkbenchBase"
AFAppMenu/WorkbenchBase

  Library pointer to an open workbench.library
@endnode

@node "IconBase" "IconBase"
AFAppMenu/IconBase

  Library pointer to an open icon.library
@endnode

@node "am" "am"
AFAppMenu/am

  AppMenuItem structure pointer
@endnode

@node "argptr" "argptr"
AFAppMenu/argptr

  WBArg structure pointer
@endnode

@node "m_pwindow" "m_pwindow"
AFAppMenu/m_pwindow

  AFWindow pointer that keeps track of what window to notify if a menuitem is selected
@endnode

@node "m_menuid" "m_menuid"
AFAppMenu/m_meunid

  A ULONG menu id specific to this menu item
@endnode

@node "m_menuname" "m_itemname"
AFAppMenu/m_itemname

  A (UBYTE*) pointer to the menu item name
@endnode

