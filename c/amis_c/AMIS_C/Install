(welcome)

(set dest2 (tackon
    (askdir
        (prompt "Please select your AMIS directory...")
        (help "The main directory where the AMIS programme is located is called 'AMIS'. Select this drawer once.")
        (default "")
    )"Viewers")
)
(set destprefs (tackon dest2 "Prefs"))
(set destsources (tackon dest2 "Sources"))

(set @source-dir (tackon (pathonly @icon)"C_Viewer"))
(if (not (exists dest2))
(abort "\nThe AMIS programme wasn't found in this directory. Please try again.")
(
(copyfiles
  (prompt "Copying the C viewer to the Viewers directory...")
  (source @source-dir)
  (help "The C viewer and additional files will now be copied into the Viewers directory, overwriting the old C viewer.")
  (dest dest2)
  (files)
  (all)
  (confirm)
)
(set @source-dir (tackon (pathonly @icon)"Prefs"))
(copyfiles
  (source @source-dir)
  (dest destprefs)
  (files)
  (all)
)
(set @source-dir (tackon (pathonly @icon)"Sources"))
(copyfiles
  (source @source-dir)
  (dest destsources)
  (files)
  (all)
)
)
)

(complete 100)
