@database Amiga_C_List.guide
@width 70

@node "Introduction" "Introduction"
@wordwrap

                         Amiga-C Mailing List Guide
                         ==========================

This guide is intended as an easy reference to the Amiga C mailing list.

It contains messages posted to the Amiga C mailing list during the month shown on the main page.

To subscribe to the Amiga C mailing list, search for amiga-c at Onelist.

http://www.onelist.com

This AmigaGuide was created using GuideMaker.rexx © Roger Light 1999
@endnode

@node "Main" "Amiga C Mailing List Guide"
                    @{b}Amiga C Mailing List Guide
                    ==========================@{ub}

                          Oct 1999

@{" Introduction " link Introduction } Introduction to the guide.

@{" Search " SYSTEM "RUN <>NIL: Searchguide FINAME"} Search this file (requres SearchGuide)

 ------------------------------------------------------------------- 

@{" Sub-Processes " Link "Mail_0"}      David Arbuthnot
@{" Re: Sub-Processes " Link "Mail_1"}      Colin Wenzel
@{" Re: Sub-Processes " Link "Mail_2"}      Allan Odgaard
@{" Storm C (v3.0) disk problem " Link "Mail_3"}      cdoty@pcisys.net
@{" VBCC: void pointers. " Link "Mail_4"}      Tim Hanson
@{" Re: VBCC: void pointers. " Link "Mail_5"}      Allan Odgaard
@{" Re: Re: VBCC: void pointers. " Link "Mail_6"}      Ben Hutchings
@{" Re: VBCC: void pointers. " Link "Mail_7"}      Andrew Bell
@{" Re: Re: VBCC: void pointers. " Link "Mail_8"}      Volker Barthelmann
@{" Re: VBCC: void pointers. " Link "Mail_9"}      Andrew Bell
@{" Re: Re: fooling boot " Link "Mail_10"}      Radoslav Hodnicak
@{" Re: Re: fooling boot " Link "Mail_11"}      Radoslav Hodnicak
@{" this is a test message, don't read this please. " Link "Mail_12"}      Fabrice Rousselot
@{" Re: VBCC: void pointers. " Link "Mail_13"}      Tim Hanson
@{" More Vbcc troubles " Link "Mail_14"}      Tim Hanson
@{" Key repeat " Link "Mail_15"}      Tim Hanson
@{" Re: Key repeat " Link "Mail_16"}      Ben Hutchings
@{" Yet more Vbcc stuff " Link "Mail_17"}      Tim Hanson
@{" Re: Re: VBCC: void pointers. " Link "Mail_18"}      Volker Barthelmann
@{" Re: Key repeat " Link "Mail_19"}      Allan Odgaard
@{" Re: VBCC: void pointers. " Link "Mail_20"}      Allan Odgaard
@{" Re: More Vbcc troubles " Link "Mail_21"}      Volker Barthelmann
@{" Re: VBCC: void pointers. " Link "Mail_22"}      Andrew Bell
@{" Re: Key repeat " Link "Mail_23"}      Emanuele Cesaroni
@{" OT: Team Amiga ML " Link "Mail_24"}      Allan Odgaard
@{" Re: More Vbcc troubles " Link "Mail_25"}      Tim Hanson
@{" Re: Key repeat " Link "Mail_26"}      Tim Hanson
@{" Re: More Vbcc troubles " Link "Mail_27"}      Tim Hanson
@{" Re: VBCC: void pointers. " Link "Mail_28"}      Tim Hanson
@{" Mixed binaries and EGCS " Link "Mail_29"}      Jesper Svennevid
@{" Re: Mixed binaries and EGCS " Link "Mail_30"}      Yves Grabowsky
@{" Re: Team Amiga ML " Link "Mail_31"}      Jack York
@{" RE: Re: Mixed binaries and EGCS " Link "Mail_32"}      Jesper Svennevid
@{" Re: Yet more Vbcc stuff " Link "Mail_33"}      Ben Hutchings
@{" Re: Re: VBCC: void pointers. " Link "Mail_34"}      Ben Hutchings
@{" Miami/AmiTCP examples " Link "Mail_35"}      Martyn Capewell
@{" Re: VBCC: void pointers. " Link "Mail_36"}      Allan Odgaard
@{" FTP protocol " Link "Mail_37"}      Yves Grabowsky
@{" Re: Re: VBCC: void pointers. " Link "Mail_38"}      Ben Hutchings
@{" Re: FTP protocol " Link "Mail_39"}      Steve
@{" Re: FTP protocol " Link "Mail_40"}      Ben Hutchings
@{" Re: VBCC: void pointers. " Link "Mail_41"}      Allan Odgaard
@{" Re: Re: More Vbcc troubles " Link "Mail_42"}      Volker Barthelmann
@{" Re: Yet more Vbcc stuff " Link "Mail_43"}      Volker Barthelmann
@{" Picasso96 and Storm C 3.0 " Link "Mail_44"}      cdoty@pcisys.net
@{" Re: FTP protocol " Link "Mail_45"}      Yves Grabowsky
@{" Re: FTP protocol " Link "Mail_46"}      Olaf Barthel
@{" RE: FTP protocol " Link "Mail_47"}      Jesper Svennevid
@{" Beginners Questions. " Link "Mail_48"}      DrBrainDamage@angelfire.com
@{" Re: FTP protocol " Link "Mail_49"}      Yves Grabowsky
@{" Re: FTP protocol " Link "Mail_50"}      Yves Grabowsky
@{" Re: FTP protocol " Link "Mail_51"}      Yves Grabowsky
@{" RE: Re: FTP protocol " Link "Mail_52"}      Jesper Svennevid
@{" Re: Picasso96 and Storm C 3.0 " Link "Mail_53"}      Allan Odgaard
@{" RE: Re: FTP protocol " Link "Mail_54"}      Jesper Svennevid
@{" RE: Re: FTP protocol " Link "Mail_55"}      Jesper Svennevid
@{" Inverse matrix " Link "Mail_56"}      Tim Hanson
@{" [3DWorld] Inverse matrix " Link "Mail_57"}      Tim Hanson
@{" AmiTCP-SDK & Dice " Link "Mail_58"}      David Arbuthnot
@{" RE: AmiTCP-SDK & Dice " Link "Mail_59"}      Jesper Svennevid
@{" Re: Beginners Questions. " Link "Mail_60"}      Dirk Harlaar
@{" RE: AmiTCP-SDK & Dice " Link "Mail_61"}      "Ole J. Røtne"
@{" Re: Beginners Questions. " Link "Mail_62"}      Adrien HEMERY
@{" Re: Re: Picasso96 and Storm C 3.0 " Link "Mail_63"}      cdoty@pcisys.net
@{" Re: Picasso96 and Storm C 3.0 " Link "Mail_64"}      Allan Odgaard
@{" Re: FTP protocol " Link "Mail_65"}      Yves Grabowsky
@{" Re: Inverse matrix " Link "Mail_66"}      Ben Hutchings
@{" Re: Inverse matrix " Link "Mail_67"}      Damir Arh
@{" Re: FTP protocol " Link "Mail_68"}      Ben Hutchings
@{" Re: FTP protocol " Link "Mail_69"}      Andrew Bell
@{" AmiFTPd v2.1 released " Link "Mail_70"}      Ray Akey
@{" Re: Re: FTP protocol " Link "Mail_71"}      Ben Hutchings
@{" Re: FTP protocol " Link "Mail_72"}      Rod_MacLean@uk.ibm.com
@{" Processes vs. Tasks " Link "Mail_73"}      Jesper Svennevid
@{" Re: FTP protocol " Link "Mail_74"}      Andrew Bell
@{" Re: FTP protocol " Link "Mail_75"}      Andrew Bell
@{" Re: Amiga Developer CD's " Link "Mail_76"}      John Jans
@{" Re: Processes vs. Tasks " Link "Mail_77"}      Ben Hutchings
@{" SetFunction() " Link "Mail_78"}      Tim Hanson
@{" OT: Aminet. " Link "Mail_79"}      Tim Hanson
@{" Guru:8000000B " Link "Mail_80"}      Tim Hanson
@{" Re: Aminet. " Link "Mail_81"}      Yves Grabowsky
@{" Re: SetFunction() " Link "Mail_82"}      Andrew Bell
@{" within a tri " Link "Mail_83"}      Linus McCabe
@{" MUI " Link "Mail_84"}      Adrien HEMERY
@{" Re: MUI " Link "Mail_85"}      Andrew Bell
@{" Re: Guru:8000000B " Link "Mail_86"}      alan fullarton
@{" Re: Re: Aminet. " Link "Mail_87"}      "Andrzej J. Debicki"
@{" Re: Guru:8000000B " Link "Mail_88"}      Olaf Barthel
@{" VBCC and rand() bug ? " Link "Mail_89"}      Grzegorz Fitrzyk
@{" RE: Processes vs. Tasks " Link "Mail_90"}      Jesper Svennevid
@{" RE: Guru:8000000B " Link "Mail_91"}      Jesper Svennevid
@{" RE: Processes vs. Tasks " Link "Mail_92"}      Allan Odgaard
@{" RE: Processes vs. Tasks " Link "Mail_93"}      Jesper Svennevid
@{" Re: within a tri " Link "Mail_94"}      Steffen
@{" Re: SetFunction() " Link "Mail_95"}      Tim Hanson
@{" Re: VBCC and rand() bug ? " Link "Mail_96"}      Rod Schnell
@{" Re: within a tri " Link "Mail_97"}      Linus McCabe
@{" Re: Guru:8000000B " Link "Mail_98"}      Ben Hutchings
@{" Re: within a tri " Link "Mail_99"}      Ben Hutchings
@{" Re: Guru:8000000B " Link "Mail_100"}      Tim Hanson
@{" Re: within a tri " Link "Mail_101"}      Linus McCabe
@{" Re: VBCC and rand() bug ? " Link "Mail_102"}      Grzegorz Fitrzyk
@{" RE: Re: VBCC and rand() bug ? " Link "Mail_103"}      Jesper Svennevid
@{" Re: Re: VBCC and rand() bug ? " Link "Mail_104"}      Laura Vance
@{" Re: SetFunction() " Link "Mail_105"}      Andrew Bell
@{" MUI & Private Custom/SubClasses " Link "Mail_106"}      David Arbuthnot
@{" Re: Guru:8000000B " Link "Mail_107"}      Emanuele Cesaroni
@{" ASL Filerequester problems " Link "Mail_108"}      DonaldWM@stonelawdrive.freeserve.co.uk
@{" Re: ASL Filerequester problems " Link "Mail_109"}      Rod Schnell
@{" Re: ASL Filerequester problems " Link "Mail_110"}      Christian Hattemer
@{" Re: Re: Guru:8000000B " Link "Mail_111"}      Ben Hutchings
@{" Re: within a tri " Link "Mail_112"}      Allan Odgaard
@{" Re: MUI & Private Custom/SubClasses " Link "Mail_113"}      Allan Odgaard
@{" Re: MUI & Private Custom/SubClasses " Link "Mail_114"}      David Arbuthnot
@{" Re: Re: within a tri " Link "Mail_115"}      Ben Hutchings
@{" Re: within a tri " Link "Mail_116"}      Steffen
@{" Re: ASL Filerequester Problems " Link "Mail_117"}      DonaldWM@stonelawdrive.freeserve.co.uk
@{" Re: ASL Filerequester Problems " Link "Mail_118"}      Linus McCabe
@{" Re: ASL Filerequester Problems " Link "Mail_119"}      Allan Odgaard
@{" Re: ASL Filerequester Problems " Link "Mail_120"}      Rod Schnell
@{" zero page " Link "Mail_121"}      troy silvey
@{" Re: ASL filerequester problems " Link "Mail_122"}      Donald W Millican
@{" Re: zero page " Link "Mail_123"}      troy silvey
@{" Re:zero page " Link "Mail_124"}      troy silvey
@{" Re: within a tri " Link "Mail_125"}      Allan Odgaard
@{" Re: zero page " Link "Mail_126"}      Allan Odgaard
@{" Re: zero page " Link "Mail_127"}      Nicholas Clarke
@{" Re: Re: within a tri " Link "Mail_128"}      Ben Hutchings
@{" Re: Re: ASL filerequester problems " Link "Mail_129"}      Ben Hutchings
@{" Re: within a tri " Link "Mail_130"}      Steffen
@{" Re: Re:zero page " Link "Mail_131"}      Steffen
@{" Re: within a tri " Link "Mail_132"}      Linus McCabe
@{" Datatype Problem " Link "Mail_133"}      Fritsch Alexander
@{" Re: ASL Filerequester problems " Link "Mail_134"}      Donald W Millican
@{" Re: zero page " Link "Mail_135"}      troy silvey
@{" Re: zero page " Link "Mail_136"}      troy silvey
@{" Re: Datatype Problem " Link "Mail_137"}      Allan Odgaard
@{" Re: ASL Filerequester problems " Link "Mail_138"}      Allan Odgaard
@{" Re: within a tri " Link "Mail_139"}      Allan Odgaard
@{" Re: Re:zero page " Link "Mail_140"}      Allan Odgaard
@{" Re: ASL Filerequester problems " Link "Mail_141"}      Linus McCabe
@{" AW: Re: Datatype Problem " Link "Mail_142"}      Fritsch Alexander
@{" Re: AW: Re: Datatype Problem " Link "Mail_143"}      Gregory Roberts II
@{" Re: Re: within a tri " Link "Mail_144"}      Gregory Roberts II
@{" Re: ASL filerequester problems " Link "Mail_145"}      Donald W Millican
@{" Re: ASL filerequester problems " Link "Mail_146"}      Andrew Bell
@{" ImageManager.library " Link "Mail_147"}      Allan Odgaard
@{" Re: ASL filerequester problems " Link "Mail_148"}      Donald W Millican
@{" Re: NTSC - PAL and the clock speed " Link "Mail_149"}      Jonathan Adamczewski
@{" NTSC - PAL and the clock speed " Link "Mail_150"}      Fritsch Alexander
@{" Sound Datatypes " Link "Mail_151"}      Rod_MacLean@uk.ibm.com
@{" Re: NTSC - PAL and the clock speed " Link "Mail_152"}      Olaf Barthel
@{" Re: Sound Datatypes " Link "Mail_153"}      Olaf Barthel
@{" Re: Vbcc again " Link "Mail_154"}      Volker Barthelmann
@{" AW: NTSC - PAL and the clock speed " Link "Mail_155"}      Fritsch Alexander
@{" NG WebCam? " Link "Mail_156"}      Dr Brain Damage
@{" iff parse " Link "Mail_157"}      Adrien HEMERY
@{" Re: iff parse " Link "Mail_158"}      Tim Hanson
@{" Re: iff parse " Link "Mail_159"}      Allan Odgaard
@{" Not a C-problem, but developement related... " Link "Mail_160"}      Fritsch Alexander
@{" Not a C-problem, but developement related... " Link "Mail_161"}      Fritsch Alexander
@{" Re: Not a C-problem, but developement related... " Link "Mail_162"}      Allan Odgaard
@{" Re: iff parse " Link "Mail_163"}      Adrien HEMERY
@{" Re: iff parse " Link "Mail_164"}      Allan Odgaard
@{" lowlevel.library " Link "Mail_165"}      Tim Hanson
@{" Re: lowlevel.library " Link "Mail_166"}      Ben Hutchings
@{" Re: lowlevel.library " Link "Mail_167"}      Tim Hanson
@{" Re: Not a C-problem, but developement related... " Link "Mail_168"}      alan fullarton
@{" Re: lowlevel.library " Link "Mail_169"}      Allan Odgaard
@{" Re: Re: lowlevel.library " Link "Mail_170"}      Ben Hutchings
@{" Re: lowlevel.library " Link "Mail_171"}      Andrew Bell
@{" Re: iff parse " Link "Mail_172"}      Adrien HEMERY
@{" Re: lowlevel.library " Link "Mail_173"}      Adrien HEMERY
@{" Re: lowlevel.library " Link "Mail_174"}      Tim Hanson
@{" Re: Re: iff parse " Link "Mail_175"}      Allan Odgaard
@{" Re: iff parse " Link "Mail_176"}      Adrien HEMERY
@{" Re: Re: lowlevel.library " Link "Mail_177"}      Ben Hutchings
@{" Re: lowlevel.library " Link "Mail_178"}      Tim Hanson
@{" Re: lowlevel.library " Link "Mail_179"}      Laura Vance
@{" Datatypes " Link "Mail_180"}      Adrien HEMERY
@{" OT: mem loss with 3.5 " Link "Mail_181"}      Jack York
@{" Re: mem loss with 3.5 " Link "Mail_182"}      Rod Schnell
@{" Re: mem loss with 3.5 " Link "Mail_183"}      Adrien HEMERY
@{" Re: iff parse " Link "Mail_184"}      Allan Odgaard
@{" Re: mem loss with 3.5 " Link "Mail_185"}      Jack York
@{" Re: mem loss with 3.5 " Link "Mail_186"}      Jack York
@ENDNODE
@NODE "Mail_0" " Sub-Processes "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 10-01-99 12:11:45
Subject: @{b}Sub-Processes@{ub}

Hello, All
    I'm having some problems trying to create a sub-process with the
CreateNewProcTags routine. My code is attached and I know i can't use
dos.library functions from a task but using CreateNewProcTags i should be
able to use dos functions shouldn't i ???. Also i open the dos.library in
my code because without that I can't use dos functions (no library base)
and according with RKM Libraries the only library base that can be shared
between a task and sub-task is exec so i assume (that could be a bad idea)
that this also applies to dos processes.

Please help me.

Kind regards,
    Trebor
@ENDNODE
@NODE "Mail_1" " Re: Sub-Processes "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 10-01-99 16:18:55
Subject: @{b}Re: Sub-Processes@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 01-Oct-99, you wrote:

> Hello, All
>    I'm having some problems trying to create a sub-process with the
> CreateNewProcTags routine. My code is attached and I know i can't use
> dos.library functions from a task but using CreateNewProcTags i should be
> able to use dos functions shouldn't i ???. Also i open the dos.library in
> my code because without that I can't use dos functions (no library base)
> and according with RKM Libraries the only library base that can be shared
> between a task and sub-task is exec so i assume (that could be a bad idea)
> that this also applies to dos processes.
> 
> Please help me.
> 
> Kind regards,
>    Trebor
Regards
-- snip--

int main()
{
    struct Process  *pr;
    UBYTE    *prname;   

// "prname" is a *POINTER* to a buffer, it is *NOT* the actual buffer.
// It should be:   #UBYTE prname[ space_required ];#
// Other wise it will overwrite stuff where ever  it happened to 
// be initialised to....  Probably 0 or random memory.....
// Also, this does not have to be copied, as it is already allocated
// in your string space....
// Just passing it litterally instead is fine:   
//#  CreateNewProcTags(NP_Entry,SubTask,NP_Name, "Name",TAG_DONE)) #

      
    strcpy(prname,"Writer - SP Sub-Process");
    
    if(pr = CreateNewProcTags(NP_Entry,SubTask,NP_Name,prname,TAG_DONE))
    {
        printf("Task Started\n");
    }
    else
    {
        Cleanup("Failed to create Sub-Process\n",20);
    }
}
        
//Be also aware that *ANY* data segment relative storage is generally
//referenced via register A4,  this is *NOT* initialized by CreateProc()
//even system calls  eg:  OpenLibrary()  is usually a jump via a stub.
//The jump table is *IN* the data segment and referenced relative to A4.
//You need to setup register A4 before you do *ANYTHING* in the new
//process, unfortunately I do not know your compiler specifics,
//but my one requires a call to "*getA4()*"  before any data references
//can be made...

//Maybe someone else here who knows about your particular compiler,
//can give you more specific info...



-------------------------------------
Colin Wenzel. Australia.

Email:  colstv@hotkey.net.au
URL:    http://www.hotkey.net.au/~colstv/
ICQ:    17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_2" " Re: Sub-Processes "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-02-99 04:10:53
Subject: @{b}Re: Sub-Processes@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 01-Oct-99, David Arbuthnot wrote:

>    I'm having some problems trying to create a sub-process with the
> CreateNewProcTags routine. My code is attached and I know i can't use
> dos.library functions from a task but using CreateNewProcTags i should be
> able to use dos functions shouldn't i ???.

Correct.

> Also i open the dos.library in
> my code because without that I can't use dos functions (no library base)
> and according with RKM Libraries the only library base that can be shared
> between a task and sub-task is exec so i assume (that could be a bad idea)
> that this also applies to dos processes.

Well, most library bases are identical no matter who opens them (only a few
differs, such as socket.library and one of the math libs AFAIRC) so you can
share the bases among tasks - though tasks which have nothing to do with each
other shouldn't, because one may close the lib while the other task is using
it, and the open count of the various libraries should also try to match the
real situation. But as long as you're only dealing with sub-processes then I
see no reason for you to open the library for each sub-process, unless your
main process is closing the library, while sub-processes are running.

Now for your code:

   UBYTE *prname;
   strcpy(prname,"Writer - SP Sub-Process");

This is very bad, prname is a dangling pointer, and you write to the (random)
memory that it points to.
Instead try something like:

   STRPTR prname = "Writer - SP Sub-Process";

And also:

   if(pr = CreateNewProcTags(NP_Entry,SubTask,NP_Name,prname,TAG_DONE))
   {
      ...

After starting your sub-process then you must wait for its termination, before
you quit from your main process, otherwise the memory that your sub-process is
using will be freed, while it's executing instructions from it...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Don't worry about people stealing your ideas. If your ideas are any good,
you'll have to ram them down people's throats.
-- Howard Aiken

@ENDNODE
@NODE "Mail_3" " Storm C (v3.0) disk problem "
From: cdoty@pcisys.net
Date: 10-03-99 02:38:32
Subject: @{b}Storm C (v3.0) disk problem@{ub}

From: cdoty@pcisys.net

I purchased Storm C V3.0 Non commercial (through an auction), and am having 
problems with the stormshell.lha. Has anyone else had this
problem?

---------------------------------------------
This message was sent using Endymion MailMan.
http://www.endymion.com/products/mailman/

@ENDNODE
@NODE "Mail_4" " VBCC: void pointers. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-03-99 14:29:28
Subject: @{b}VBCC: void pointers.@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,
    I`ve just started using vbcc and am compiling some code that works fine
under DICE. However whenever I try to assign a void * to any sort of pointer
I get "invalid types for assignment". This means that all calls to AllocVec
etc have to be cast to the type of the actual pointer which seems a bit
wierd. It also means I can`t use NULL as defined in the includes as it is of
type void *.
To confuse things more calls to OpenLibrary() also give a "invalid type..."
unless I explicitly cast them to struct Libary *. intuition_protos.h defines
the function as returning struct Library * so why the need for the cast.
As I understand it the stubs for the OS calls are in amiga.lib and the
clib/..._protos.h should be enough to satisfy the preproccesor so I can`t see
what`s wrong. 
Any pointers from experienced vbcc users greatly apreciated.

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_5" " Re: VBCC: void pointers. "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-03-99 16:24:11
Subject: @{b}Re: VBCC: void pointers.@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 03-Oct-99, Tim Hanson wrote:

>    I`ve just started using vbcc and am compiling some code that works fine
> under DICE. However whenever I try to assign a void * to any sort of pointer
> I get "invalid types for assignment".

hmm... isn't VBCC an ANSI-C compiler? I thought strong type checking was first
introduced for C++.

> This means that all calls to AllocVec
> etc have to be cast to the type of the actual pointer which seems a bit
> wierd.

C++ introduces the 'new' operator, which I'd recommend to use for allocating
memory - this one needs no typecasts. but I don't know if it is present in
VBCC.

> It also means I can`t use NULL as defined in the includes as it is of
> type void *.

Not here:

exec/types.h:
#define NULL        0L

This shouldn't give any problems.

> To confuse things more calls to OpenLibrary() also give a "invalid type..."
> unless I explicitly cast them to struct Libary *. intuition_protos.h defines
> the function as returning struct Library *

OpenLibrary is not defined in intuition_protos.h but exec_protos.h - which
includes are you using?

> so why the need for the cast.

Some library bases are not defined as 'struct Library *', e.g. DOS library, so
here you'd need to cast it like this:

   DOSBase = (DosLibrary *)OpenLibrary(...);

But not '(Library *)' - however, I'd recommend getting hold of a link library
that auto opens needed libraries, if such one exists for VBCC.

> As I understand it the stubs for the OS calls are in amiga.lib and the

hmm... do you need these stubs for VBCC? I think it supports Amiga libraries
just fine, but I have only tested it one time, so I may be mistaking...

Btw: Have anyone figured the idea with the stub for 'StackSwap()'? If used,
you'll just get a crash, when the stub return, because the stack has been
changed and so the return address is lost...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
It is better to have tried and failed than to have failed to try, but the
result's the same.
-- Mike Dennison

@ENDNODE
@NODE "Mail_6" " Re: Re: VBCC: void pointers. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-03-99 17:51:49
Subject: @{b}Re: Re: VBCC: void pointers.@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, Oct 03, 1999 at 05:24:11PM +0200, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 03-Oct-99, Tim Hanson wrote:
> 
> >    I`ve just started using vbcc and am compiling some code that works fine
> > under DICE. However whenever I try to assign a void * to any sort of pointer
> > I get "invalid types for assignment".
> 
> hmm... isn't VBCC an ANSI-C compiler? I thought strong type checking
> was first introduced for C++.

ANSI C strengthens it a bit.  However, it still allows implicit casts
from void * to any non-const pointer type.

> > This means that all calls to AllocVec
> > etc have to be cast to the type of the actual pointer which seems a bit
> > wierd.
> 
> C++ introduces the 'new' operator, which I'd recommend to use for allocating
> memory - this one needs no typecasts. but I don't know if it is present in
> VBCC.

VBCC doesn't support C++/

> > It also means I can`t use NULL as defined in the includes as it is of
> > type void *.
> 
> Not here:
> 
> exec/types.h:
> #define NULL        0L
> 
> This shouldn't give any problems.

That definition is illegal and should be removed.  NULL is supposed
to be defined in standard header files, either as 0 or as (void*)0.

<snip> 
> Btw: Have anyone figured the idea with the stub for 'StackSwap()'? If used,
> you'll just get a crash, when the stub return, because the stack has been
> changed and so the return address is lost...

Don't call StackSwap from C code.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Computers are not intelligent.	They only think they are.

@ENDNODE
@NODE "Mail_7" " Re: VBCC: void pointers. "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 10-03-99 22:28:18
Subject: @{b}Re: VBCC: void pointers.@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Tim,

On 03-Oct-99, you wrote:

>    I`ve just started using vbcc and am compiling some code that
> works fine under DICE. However whenever I try to assign a void * to
> any sort of pointer I get "invalid types for assignment". This means
> that all calls to AllocVec etc have to be cast to the type of the
> actual pointer which seems a bit wierd. It also means I can`t use
> NULL as defined in the includes as it is of type void *.

I tried compiling a few of my sources with VBCC once (I used DICE at
the time too), and I got hundreds of these errors. I think your include files may be clashing.

The AmigaOS include exec/types.h defines it as:

#ifndef NULL
#define NULL        0L
#endif

The stddef.h file provided with DICE defines it like this:

#ifndef NULL
#define NULL    ((void *)0L)
#endif

And the stddef.h file provided with VBCC does this (which is a bit
odd, since it doesn't like it):

#undef NULL
#define NULL ((void *)0)

At the end of the day I just put this at the top of my source (after
the #include statements) and it worked fine:

#undef NULL
#define NULL 0L

> To confuse things more calls to OpenLibrary() also give a "invalid
> type..." unless I explicitly cast them to struct Libary *.
> intuition_protos.h defines the function as returning struct Library
> * so why the need for the cast.

I've noticed that DICE is not very strict in this area. When I started
using Hisoft C++, converting most of my DICE sources to work with the
Maxon compiler was a nightmare. I was getting many errors similar to
the ones you describe above.

Compared to DICE, Maxon is very strict, IMHO. VBCC is also very strict.
I guess you'll have to add a lot of type casting to your sources (like
I did).

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
I may look busy,but I'm just confused!

@ENDNODE
@NODE "Mail_8" " Re: Re: VBCC: void pointers. "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 10-04-99 00:39:50
Subject: @{b}Re: Re: VBCC: void pointers.@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Sun, 3 Oct 1999, Andrew Bell wrote:

> On 03-Oct-99, you wrote:
> 
> >    I`ve just started using vbcc and am compiling some code that
> > works fine under DICE. However whenever I try to assign a void * to
> > any sort of pointer I get "invalid types for assignment". This means
> > that all calls to AllocVec etc have to be cast to the type of the
> > actual pointer which seems a bit wierd. It also means I can`t use
> > NULL as defined in the includes as it is of type void *.

vbcc should allow all implicit type conversions which are permitted in C.
This includes conversions between void * and all object pointers.
The error "invalid types for assignment" suggests you are assigning a
pointer to an integer or vice versa. Perhaps the functions have not been
declared correctly.

You could try to activate warnings 161/162 which will warn you whenever a
function is implicitly declared/called without a prototype in scope.

[...]
> And the stddef.h file provided with VBCC does this (which is a bit
> odd, since it doesn't like it):
> 
> #undef NULL
> #define NULL ((void *)0)
> 
> At the end of the day I just put this at the top of my source (after
> the #include statements) and it worked fine:
> 
> #undef NULL
> #define NULL 0L

The macro NULL must only be used in a pointer context. Assigning/comparing
NULL with an integer is not allowed. The idea behind defining NULL as
((void *)0) is to detect such incorrect uses of NULL.

If your program works only with the second version it most likely
contains such an illegal use of NULL. If it worked with DICE you either
had different includes or DICE did not emit a diagnostic required by the C
standard.

Volker

@ENDNODE
@NODE "Mail_9" " Re: VBCC: void pointers. "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 10-04-99 07:02:48
Subject: @{b}Re: VBCC: void pointers.@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Volker,

On 04-Oct-99, you wrote:

> If your program works only with the second version it most likely
> contains such an illegal use of NULL.

Correct. Thanks for clearing that up. Until now, I though that NULL was only used for clarity and could be used on both pointers and integers.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
Quantum physicist DO IT on time.

@ENDNODE
@NODE "Mail_10" " Re: Re: fooling boot "
From: Radoslav Hodnicak <rh@c0re.hysteria.sk>
Date: 10-04-99 13:40:36
Subject: @{b}Re: Re: fooling boot@{ub}

From: Radoslav Hodnicak <rh@c0re.hysteria.sk>

On Thu, 30 Sep 1999, BlackMael wrote:

hiho...

> What you need is a wee program which changes the boot priority of your
> partitions and then resets, booting up from the HD with the highest
> priority.
> Probably not too difficult to write.

And write to RDB every time? No thanks, too much hazard (You know, I like
my data quite a lot :))

I think the best solution would be some reset resident program, but nobody
can tell me how the boot menu is actually working (how is this boot
selection made...), this lack of documantation really stinks ;-)

rh

@ENDNODE
@NODE "Mail_11" " Re: Re: fooling boot "
From: Radoslav Hodnicak <rh@c0re.hysteria.sk>
Date: 10-04-99 13:43:06
Subject: @{b}Re: Re: fooling boot@{ub}

From: Radoslav Hodnicak <rh@c0re.hysteria.sk>

On Thu, 30 Sep 1999, Steffen wrote:

> From: Steffen <steffen.mars@stenloese.mail.telia.com>
> 
> Hello Radoslav
> 
> Try defsys.lha from aminet.
> 

I have, but it only does what I can do from shell too (to change assigns),
maybe faster than shell, but...

rh

@ENDNODE
@NODE "Mail_12" " this is a test message, don't read this please. "
From: Fabrice Rousselot <reboot@multimania.com>
Date: 10-04-99 16:44:33
Subject: @{b}this is a test message, don't read this please.@{ub}

From: "Fabrice Rousselot" <reboot@multimania.com>

thank you



Fabrice Rousselot

Who care about us ? God
And who care about God ?

______________________________________________________
E-mail gratuit - MultiMania - http://www.multimania.fr

@ENDNODE
@NODE "Mail_13" " Re: VBCC: void pointers. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-04-99 21:18:59
Subject: @{b}Re: VBCC: void pointers.@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Volker Barthelmann wrote this on 04-Oct-99 at 00:39:50
 Hi Volker 

-> vbcc should allow all implicit type conversions which are permitted in C.
-> This includes conversions between void * and all object pointers.
-> The error "invalid types for assignment" suggests you are assigning a
-> pointer to an integer or vice versa. Perhaps the functions have not been
-> declared correctly.
-> 
-> You could try to activate warnings 161/162 which will warn you whenever a
-> function is implicitly declared/called without a prototype in scope.

As I said the functions causing trouble are exec.library like AllocVec() and
I`ve included "clib/exec_protos.h" (sorry I said intuition_protos.h before.
brain not working).

-> The macro NULL must only be used in a pointer context. Assigning/comparing
-> NULL with an integer is not allowed. The idea behind defining NULL as
-> ((void *)0) is to detect such incorrect uses of NULL.


Yes I understand this. But when I write:
struct foobar *fooPtr=NULL;
I get the error.

-> If your program works only with the second version it most likely
-> contains such an illegal use of NULL. If it worked with DICE you either
-> had different includes or DICE did not emit a diagnostic required by the C
-> standard.

Actually this problem only shows up when I try to compile with +warpos which
makes sense for AllocVec to some extent as I shouldn`t use it with warpup but
use AllocVecPPC() or AllocVec32() but it also occurs with OpenLibrary() for
which there is no PowerPC.library equivelent.


-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_14" " More Vbcc troubles "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-04-99 21:57:31
Subject: @{b}More Vbcc troubles@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,

Ta to all who answered my last query. I think this is going to keep me busy
for a while and annoy the f*** out of everyone on this list.


Ok I`ve managed to get some code to compile for 68k using VBCC. However every
time I run it it crashes. Here`s the command I`m using for vc:

vc dh1:space/#?.c -+ -lmieee -lw3d_vbcc68k -lcgfx -liff -Idh1:space -Idinclude
-Idinclude/amiga30 -k -o dh1:space/space.vbcc
 
The -l .lib files should be ok as they were either supplied with the libraries
as compatible for vbcc or were made with fd2lib according to the
instructions. If I remove almost everything from main() then slowly add it
back in I find that functions that should produce a result appear to do
nothing. All very wierd.

I`ve also tried this line:
vc dh1:space/#?.c -+ -lmieee -lw3d_vbcc68k -lcgfx -liff -lautos -Idh1:space
-Idinclude -Idinclude/amiga30 -k -o dh1:space/space.vbcc

The annoying thing is that vbcc produces no debugging output so I can`t step
through to find out whats going on.

Any advice gratefully recieved.

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_15" " Key repeat "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-04-99 22:00:40
Subject: @{b}Key repeat@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,
On an unrelated not: Is there a way to set the key repeat rate from within a
program? 
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_16" " Re: Key repeat "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-04-99 22:26:27
Subject: @{b}Re: Key repeat@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Oct 04, 1999 at 10:00:40PM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> On an unrelated not: Is there a way to set the key repeat rate from within a
> program? 

That's a global setting, not one you can set for an individual
program.  You may want to consider whether you really want to do this.

You can set this directly using the IND_SETPERIOD command of
input.device.  However, you should really set it through the Intuition
preferences system.  You can use the old-style GetPrefs/SetPrefs
calls.  If you want to do things the modern way you can read and write
ENV:sys/input.prefs - which is an IFF PREF file containing one chunk
in the format defined in prefs/input.h.

Ben.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
To err is human; to really foul things up requires a computer.

@ENDNODE
@NODE "Mail_17" " Yet more Vbcc stuff "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-04-99 23:56:31
Subject: @{b}Yet more Vbcc stuff@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,
"suspicious format string" ? What is wrong with this:
printf("time=%d\n",timePtr->time);
VBCC seems to dislike any printf statements I use.
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_18" " Re: Re: VBCC: void pointers. "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 10-05-99 00:41:59
Subject: @{b}Re: Re: VBCC: void pointers.@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Mon, 4 Oct 1999, Tim Hanson wrote:

> Yes I understand this. But when I write:
> struct foobar *fooPtr=NULL;
> I get the error.

There must be another problem. This clearly works with vbcc. Please send
a complete small example and the exact command line you used to reproduce
this behaviour.

Volker

@ENDNODE
@NODE "Mail_19" " Re: Key repeat "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-05-99 00:42:01
Subject: @{b}Re: Key repeat@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 04-Oct-99, Tim Hanson wrote:

> On an unrelated not: Is there a way to set the key repeat rate from within a
> program? 

I don't think so - why do you want to change it? There's a reason why such
things are setable only by the user ;-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Reality is for people who lack imagination.

@ENDNODE
@NODE "Mail_20" " Re: VBCC: void pointers. "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-05-99 00:47:14
Subject: @{b}Re: VBCC: void pointers.@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 03-Oct-99, Ben Hutchings wrote:

>> #define NULL        0L
>> [...]
> That definition is illegal and should be removed.  NULL is supposed
> to be defined in standard header files, either as 0 or as (void*)0.

But it is not here, so I prefer to keep it, and also defined as 0L, as the
Amiga is using ULONG a lot of places where you're actually dealing with
pointers, tag lists, var. arg. functions like DoMethod() etc.

>> Btw: Have anyone figured the idea with the stub for 'StackSwap()'? [...]
> Don't call StackSwap from C code.

Please do, if your program needs more stack than normal (unless your compiler
can add this automatically) - as I said, it's only a problem if you use the
stub-functions, and I think most compilers no longer do.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
"One World, One Web, One Program" - Microsoft Promotional Ad
"Ein Volk, Ein Reich, Ein Fuehrer" - Adolf Hitler

@ENDNODE
@NODE "Mail_21" " Re: More Vbcc troubles "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 10-05-99 00:48:21
Subject: @{b}Re: More Vbcc troubles@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Mon, 4 Oct 1999, Tim Hanson wrote:

> Ok I`ve managed to get some code to compile for 68k using VBCC. However every
> time I run it it crashes.

Well, there are a lot of possible reasons for that...

> vc dh1:space/#?.c -+ -lmieee -lw3d_vbcc68k -lcgfx -liff -Idh1:space -Idinclude
> -Idinclude/amiga30 -k -o dh1:space/space.vbcc

What is dinclude? You are not using DICE include with vbcc, are you?

> The -l .lib files should be ok as they were either supplied with the libraries
> as compatible for vbcc or were made with fd2lib according to the
> instructions. If I remove almost everything from main() then slowly add it
> back in I find that functions that should produce a result appear to do
> nothing. All very wierd.

Try to isolate the problem and create small compilable pieces of code
which reproduce it.

> I`ve also tried this line:
> vc dh1:space/#?.c -+ -lmieee -lw3d_vbcc68k -lcgfx -liff -lautos -Idh1:space
> -Idinclude -Idinclude/amiga30 -k -o dh1:space/space.vbcc

autos.lib is a small-data library which will not work together with
large-data code. Use -lauto. Btw., you did not have -lauto in the
first line. Does your code open the libraries?

Volker

@ENDNODE
@NODE "Mail_22" " Re: VBCC: void pointers. "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 10-05-99 06:55:48
Subject: @{b}Re: VBCC: void pointers.@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Ben,

On 03-Oct-99, you wrote:

> Don't call StackSwap from C code.

It's perfectly safe to call it from C just as long as the stack pointer hasn't changed. Just avoid linking in stubs.

Sometimes you may need to swap the stack, for example MUI applications
require about 8-10K (IIRC) of it.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
I feel like putting spam on my head and cucumbers up my nose.

@ENDNODE
@NODE "Mail_23" " Re: Key repeat "
From: Emanuele Cesaroni <emacesa@tin.it>
Date: 10-05-99 13:28:47
Subject: @{b}Re: Key repeat@{ub}

From: Emanuele Cesaroni <emacesa@tin.it>

Hello Tim

On 04-Ott-99, you wrote:

> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> On an unrelated not: Is there a way to set the key repeat rate from within
a
> program? 
Regards

Yes, using  the input.device or directly the keyboard.device.
Open its, after doing an IoReq, with OpenDevice(),  and then do as this asm
piece code.

    
    move.l   ioreq,a1                    ;IoStdReq.
    move.l    a1,a2
    move.w    #IND_SETPERIOD,IO_COMMAND(a1)
    clr.b    IO_FLAGS(a1)
    clr.l    IO_DATA(a1)               
    clr.l    IO_LENGTH(a1)
    add.l    #IO_SIZE,a2
    clr.l    TV_SECS(a2)        ;no seconds, only 200000 micro (1/5sec).
    move.l    #200000,TV_MICRO(a2)   ;set the period between key's repeat 
    jsr    DoIO(a6)    

    move.l    ioreq,a1
    move.l    a1,a2                    ;IoStdReq.
    move.w    #IND_SETTHRESH,IO_COMMAND(a1)
    clr.b    IO_FLAGS(a1)
    clr.l    IO_DATA(a1)                
    clr.l    IO_LENGTH(a1)
    add.l    #IO_SIZE,a2
    clr.l    TV_SECS(a2)
    move.l    #100000,TV_MICRO(a2)    ;set the delay of first key action.
    jsr    DoIO(a6)

Pay attention because it will modify workbench's preferences, after your
program exits.
So on exit redo this to restore old values, which you can get, at the
beginning, with Intuition/GetPrefs().
It isn't a very good way, if your program works in multitasking (if user can
use other progs, during). 

Bye.
Emanuele.

@ENDNODE
@NODE "Mail_24" " OT: Team Amiga ML "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-05-99 15:38:29
Subject: @{b}OT: Team Amiga ML@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

Hi there, sorry for being off topic - but where can I find info about the Team
Amiga mailinglist?

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Success is like a fart - only your own smells nice.
-- James P. Hogan

@ENDNODE
@NODE "Mail_25" " Re: More Vbcc troubles "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-05-99 18:18:21
Subject: @{b}Re: More Vbcc troubles@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Tim Hanson wrote this on 04-Oct-99 at 21:57:31
Replying to my own mail again: 

-> The -l .lib files should be ok as they were either supplied with the
-> libraries as compatible for vbcc or were made with fd2lib according to the
-> instructions. 

As it goes I double checked the .libs and found that cgfx.lib was wrong. Don`t
know why but it works now and it was this that caused the problem.

-> The annoying thing is that vbcc produces no debugging output so I can`t

I checked the VBCCM68k.doc and it says that the -g option will produce
debugging output. However I can`t get it to work. Does anyone know how to
enable this?

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_26" " Re: Key repeat "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-05-99 18:26:29
Subject: @{b}Re: Key repeat@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Allan Odgaard wrote this on 05-Oct-99 at 00:42:01
 Hi Allan 

->> On an unrelated not: Is there a way to set the key repeat rate from within
->> a program?
-> 
-> I don't think so - why do you want to change it? There's a reason why such
-> things are setable only by the user ;-)

Pure laziness. I wanted a simpler routine for reading keys from an IDCMP for a
game. Probly a bad idea anyway.

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_27" " Re: More Vbcc troubles "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-05-99 19:08:46
Subject: @{b}Re: More Vbcc troubles@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Volker Barthelmann wrote this on 05-Oct-99 at 00:48:21
 Hi Volker 

->> vc dh1:space/#?.c -+ -lmieee -lw3d_vbcc68k -lcgfx -liff -Idh1:space
->> -Idinclude -Idinclude/amiga30 -k -o dh1:space/space.vbcc
-> 
-> What is dinclude? You are not using DICE include with vbcc, are you?

I`m afraid so. Is this likely to be a problem? I`m only using the OS includes
from dice.

-> Try to isolate the problem and create small compilable pieces of code
-> which reproduce it.

I`ve found the problem there it`s called coder stupidity. Please ignore.

-> autos.lib is a small-data library which will not work together with
-> large-data code. Use -lauto. 

Cheers for that. BTW should I be using the option for small data model? I`ve
never understood that. I think dice defaults to small data.

->Btw., you did not have -lauto in the
-> first line. Does your code open the libraries?

Yeah, but I thought I`d try it just in case.

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_28" " Re: VBCC: void pointers. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-05-99 19:12:32
Subject: @{b}Re: VBCC: void pointers.@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Volker Barthelmann wrote this on 05-Oct-99 at 00:41:59

->> Yes I understand this. But when I write:
->> struct foobar *fooPtr=NULL;
->> I get the error.
-> 
-> There must be another problem. This clearly works with vbcc. Please send
-> a complete small example and the exact command line you used to reproduce
-> this behaviour.

The actual line I think was:

W3D_Vertex *drawVertesG=NULL;

As I said this only showed up with +warpos and the code is not setup to use
warpup so it`s probly irrelevent. I`ll get back to you with more on this when
I port the code to warp.

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_29" " Mixed binaries and EGCS "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 10-05-99 19:15:44
Subject: @{b}Mixed binaries and EGCS@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

I've been setting up a compiler-system so that I can easily
compile for m68k and ppc(both PowerUP and WarpOS), using the
latest ppc egcs-compile from paladin(2.91.66), and I've now
reached the state where I want to use the 68k-gcc to compile
the needed 68k-code and link this into the rest of the
binary, as in effect creating a mixed binary.

I've managed to do this writing the 68k-code in pure
assembler, assembling with PhxAss and using vlink to convert
the resulting hunk-object into a elf-object file. What I'm
looking for is some way of linking the output object-file
from 68k-egcs, instead of having to write all my code in
assembler. Is there any utility out there that can cope with
converting aout to elf, or should I compile a elf-generating
GAS that'll be used instead of the normal one? I'm open to
all alternatives :)

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_30" " Re: Mixed binaries and EGCS "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 10-05-99 19:33:26
Subject: @{b}Re: Mixed binaries and EGCS@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello Jesper,

On 05-Okt-99 wrote Jesper Svennevid (jesper@fxrealm.com):
> From: "Jesper Svennevid" <jesper@fxrealm.com>
> 
> I've been setting up a compiler-system so that I can easily
> compile for m68k and ppc(both PowerUP and WarpOS), using the
> latest ppc egcs-compile from paladin(2.91.66), and I've now
> reached the state where I want to use the 68k-gcc to compile
> the needed 68k-code and link this into the rest of the
> binary, as in effect creating a mixed binary.
> 
> I've managed to do this writing the 68k-code in pure
> assembler, assembling with PhxAss and using vlink to convert
> the resulting hunk-object into a elf-object file. What I'm
> looking for is some way of linking the output object-file
>> from 68k-egcs, instead of having to write all my code in
> assembler. Is there any utility out there that can cope with
> converting aout to elf, or should I compile a elf-generating
> GAS that'll be used instead of the normal one? I'm open to
> all alternatives :)
> 

AFAIK mixed binarys are not supported by PowerUp, only by WarpOS. And
the only way I know to create mixed binarys for WOS is StormC 3.x.

Cu,
-- 
Yves Grabowsky
*ICQ:* 18762984
<tsb>*AmiURLRequester 2.0 out now! Go and get it!*
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!

@ENDNODE
@NODE "Mail_31" " Re: Team Amiga ML "
From: Jack York <jyork@voyager.net>
Date: 10-05-99 21:47:14
Subject: @{b}Re: Team Amiga ML@{ub}

From: Jack York <jyork@voyager.net>

Hello Allan

On 05-Oct-99, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> Hi there, sorry for being off topic - but where can I find info about the
> Team Amiga mailinglist?

If by info you mean how to join you do that by sending a subscribe TeamAmiga
message to MajorDomo@thule.no.

Jack

@ENDNODE
@NODE "Mail_32" " RE: Re: Mixed binaries and EGCS "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 10-05-99 21:59:16
Subject: @{b}RE: Re: Mixed binaries and EGCS@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> AFAIK mixed binarys are not supported by PowerUp, only by WarpOS. And
> the only way I know to create mixed binarys for WOS is StormC 3.x.

Well, I use it, even though it might not be supported :) Mixing 68k
and ppc-code is not a problem, and that was not the case, I just wanted
to use a c-compiler instead of writing the code directly in assembler.

I think I'll have a look on how MAME mixes the ppc & 68k-code, so
it might not be a problem afterall :)

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_33" " Re: Yet more Vbcc stuff "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-06-99 00:46:42
Subject: @{b}Re: Yet more Vbcc stuff@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Oct 04, 1999 at 11:56:31PM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> "suspicious format string" ? What is wrong with this:
> printf("time=%d\n",timePtr->time);
> VBCC seems to dislike any printf statements I use.

Is timePtr->time really a plain int, or is it perhaps long or
unsigned?

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
If God had intended Man to program,
we'd have been born with serial I/O ports.

@ENDNODE
@NODE "Mail_34" " Re: Re: VBCC: void pointers. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-06-99 00:51:42
Subject: @{b}Re: Re: VBCC: void pointers.@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Tue, Oct 05, 1999 at 01:47:14AM +0200, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 03-Oct-99, Ben Hutchings wrote:
> 
> >> #define NULL        0L
> >> [...]
> > That definition is illegal and should be removed.  NULL is supposed
> > to be defined in standard header files, either as 0 or as (void*)0.
> 
> But it is not here, so I prefer to keep it, and also defined as 0L, as the
> Amiga is using ULONG a lot of places where you're actually dealing with
> pointers, tag lists, var. arg. functions like DoMethod() etc.
> 
> >> Btw: Have anyone figured the idea with the stub for 'StackSwap()'? [...]
> > Don't call StackSwap from C code.
> 
> Please do, if your program needs more stack than normal (unless your compiler
> can add this automatically)

Your startup code should deal with this.  If it doesn't, you can
change it to do so.  (You do have source for the startup code, don't
you?)

> - as I said, it's only a problem if you use the stub-functions, and
> I think most compilers no longer do.

StackSwap modifies your running environment in a way which you cannot
expect C/C++ compilers to cope with.  After you call it, your local
variables will have disappeared, and exception handling will crash the
machine.  Why not work with your compiler, rather than against it?

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
If God had intended Man to program,
we'd have been born with serial I/O ports.

@ENDNODE
@NODE "Mail_35" " Miami/AmiTCP examples "
From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
Date: 10-06-99 12:09:34
Subject: @{b}Miami/AmiTCP examples@{ub}

From: Martyn Capewell <mmc28@hermes.cam.ac.uk>

Hello,

Does anyone know where I can get some simple examples of writing programs
that use TCP for communication? I've had a quick search through Aminet, but
found nothing helpful.

Thanks
-- 
- Martyn Capewell
    {   Compsci, University of Cambridge   }
    { http://members.xoom.com/legerdemain0 }

@ENDNODE
@NODE "Mail_36" " Re: VBCC: void pointers. "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-06-99 13:57:12
Subject: @{b}Re: VBCC: void pointers.@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 06-Oct-99, Ben Hutchings wrote:

>>> Don't call StackSwap from C code.
>> Please do, if your program needs more stack [...]
> Your startup code should deal with this.  If it doesn't, you can
> change it to do so.  (You do have source for the startup code, don't
> you?)

No, I don't have the source. I think the startup-code which comes with
StormAmiga.lib supports stack-expansion - but as I'm often developing "shared
modules" then I don't need startup code, and must expand the stack myself, if
neccesary (for example a "complex" boopsi-dispatcher invoked by input.device)

>> - as I said, it's only a problem if you use the stub-functions, and
>> I think most compilers no longer do.
> StackSwap modifies your running environment in a way which you cannot
> expect C/C++ compilers to cope with.  After you call it, your local
> variables will have disappeared

Not the compilers I know. These start each function with "link" to allocate the
stack space needed, and then access all local variables through a4 or a5,
depending on the register given to the link instruction.
So changing a7 to point at a new stack-segment causes no problems.

> and exception handling will crash the machine. 

It may be possible to make a stack-extension class, which you stack allocate as
the first in your function. Cause the destructor of this class will then be
called (which changes back the stack) when an exception is thrown from a
deeper function, which doesn't get catched. However, I have not tried this,
nor would I - I didn't say that you should call StackSwap() in all sorts of
sub-functions. Just remember to extend the stack, if you need more stack than
you get, and generally place the call in your main function.

> Why not work with your compiler, rather than against it?

I only said you should call StackSwap() if your compiler didn't. Mine doesn't,
and I don't work against it... You make quite a lot of assumptions about my
compiler system, don't you?

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Some people hope to achieve immortality through their works or their children. 
I would prefer to achieve it by not dying.
-- Woody Allen

@ENDNODE
@NODE "Mail_37" " FTP protocol "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 10-06-99 17:00:20
Subject: @{b}FTP protocol@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hi, 
I'm currently writing an application with a ftp implementation, but I have
some troubles. Do you know where I can find example source for the ftp
protocol or the source to a ftp client?

Cu,
-- 
Yves Grabowsky
*ICQ:* 18762984
<tsb>*AmiURLRequester 2.0 out now! Go and get it!*
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!

@ENDNODE
@NODE "Mail_38" " Re: Re: VBCC: void pointers. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-06-99 22:06:46
Subject: @{b}Re: Re: VBCC: void pointers.@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Oct 06, 1999 at 02:57:12PM +0200, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 06-Oct-99, Ben Hutchings wrote:
<snip>
> >> - as I said, it's only a problem if you use the stub-functions, and
> >> I think most compilers no longer do.
> > StackSwap modifies your running environment in a way which you cannot
> > expect C/C++ compilers to cope with.  After you call it, your local
> > variables will have disappeared
> 
> Not the compilers I know. These start each function with "link" to allocate the
> stack space needed, and then access all local variables through a4 or a5,
> depending on the register given to the link instruction.
> So changing a7 to point at a new stack-segment causes no problems.

gcc -fomit-frame-pointer

and I thought there was an option to do this with SAS/C too.

<snip>
> I only said you should call StackSwap() if your compiler didn't. Mine doesn't,
> and I don't work against it... You make quite a lot of assumptions about my
> compiler system, don't you?

I don't.  You're the one making assumptions.  What happens when you
get a new version of the compiler that works a little differently?

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Design a system any fool can use, and only a fool will want to use it.

@ENDNODE
@NODE "Mail_39" " Re: FTP protocol "
From: Steve <stevei@firewall.co.uk>
Date: 10-06-99 22:52:01
Subject: @{b}Re: FTP protocol@{ub}

From: Steve <stevei@firewall.co.uk>

> From: YvesGrabowsky@t-online.de (Yves Grabowsky)
> 
> Hi, 
> I'm currently writing an application with a ftp implementation, but I have
> some troubles. Do you know where I can find example source for the ftp
> protocol or the source to a ftp client?
> 
> Cu,

Go to http:///www.freshmeat.net and do a search for "ftp"

Freshmeat is a clearing house for new UNIX software (a bit like Aminet I
suppose). As UNIX comes in many varieties, inclusion of source is usually
guaranteed.

PS. what is it you're having problems with? Is it  the protocol itself,
or the Amiga bits?

Steve

@ENDNODE
@NODE "Mail_40" " Re: FTP protocol "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-06-99 22:52:35
Subject: @{b}Re: FTP protocol@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Oct 06, 1999 at 06:00:20PM +0200, Yves Grabowsky wrote:
> From: YvesGrabowsky@t-online.de (Yves Grabowsky)
> 
> Hi, 
> I'm currently writing an application with a ftp implementation, but I have
> some troubles. Do you know where I can find example source for the ftp
> protocol or the source to a ftp client?

Try looking for the source to one of the BSD FTP clients on
ftp.cdrom.com.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Design a system any fool can use, and only a fool will want to use it.

@ENDNODE
@NODE "Mail_41" " Re: VBCC: void pointers. "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-06-99 23:37:25
Subject: @{b}Re: VBCC: void pointers.@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 06-Oct-99, Ben Hutchings wrote:

> [...] What happens when you get a new version of
> the compiler that works a little differently?

You mean, something that will crash if the stack pointer is changed? I gues
then I have a real problem, because as I've pointed out this is neccesary to
do, and cannot always be completely handled by the compiler - so I gues I'd
drop that compiler system, because it wouldn't really support all
functionality of the Amiga ;-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
e World, One Web, One Program" - Microsoft Promotional Ad
"Ein Volk, Ein Reich, Ein Fuehrer" - Adolf Hitler

@ENDNODE
@NODE "Mail_42" " Re: Re: More Vbcc troubles "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 10-07-99 00:00:22
Subject: @{b}Re: Re: More Vbcc troubles@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Tue, 5 Oct 1999, Tim Hanson wrote:

> -> What is dinclude? You are not using DICE include with vbcc, are you?
> 
> I`m afraid so. Is this likely to be a problem? I`m only using the OS includes
> from dice.

As long as you only use the OS includes (and they have not been modified
for DICE) it should not be a problem. But you must not use the includes
for the standard C library (stdio, stdlib etc.).

> Cheers for that. BTW should I be using the option for small data model? I`ve
> never understood that. I think dice defaults to small data.

In small data mode the accesses to static variables are done relativ to a
base register which makes the executables somewhat smaller (depending on
the number of such accesses). However, you have to be careful not to call
small data code from large data code. Also, the space for small data is
limited to 64k and you loose one register.

Volker

@ENDNODE
@NODE "Mail_43" " Re: Yet more Vbcc stuff "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 10-07-99 00:02:12
Subject: @{b}Re: Yet more Vbcc stuff@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Mon, 4 Oct 1999, Tim Hanson wrote:

> "suspicious format string" ? What is wrong with this:
> printf("time=%d\n",timePtr->time);

timePtr->time has a type differing from int (e.g. long, unsigned int
etc.).

Volker

@ENDNODE
@NODE "Mail_44" " Picasso96 and Storm C 3.0 "
From: cdoty@pcisys.net
Date: 10-07-99 02:20:32
Subject: @{b}Picasso96 and Storm C 3.0@{ub}

From: cdoty@pcisys.net

Is there any source code available (for Storm C) that deals with Picasso96 
programming?

---------------------------------------------
This message was sent using Endymion MailMan.
http://www.endymion.com/products/mailman/

@ENDNODE
@NODE "Mail_45" " Re: FTP protocol "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 10-07-99 06:56:16
Subject: @{b}Re: FTP protocol@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello Steve,

On 06-Okt-99 wrote Steve (stevei@firewall.co.uk):
> From: Steve <stevei@firewall.co.uk>
> 
>> From: YvesGrabowsky@t-online.de (Yves Grabowsky)
>> 
>> Hi,
>> I'm currently writing an application with a ftp implementation, but I
>> have some troubles. Do you know where I can find example source for the
>> ftp protocol or the source to a ftp client?
>> 
>> Cu,
> 
> Go to http:///www.freshmeat.net and do a search for "ftp"
> 
> Freshmeat is a clearing house for new UNIX software (a bit like Aminet I
> suppose). As UNIX comes in many varieties, inclusion of source is usually
> guaranteed.
> 
> PS. what is it you're having problems with? Is it  the protocol itself,
> or the Amiga bits?
> 

I'm having trouble problems with establishing the data transfer connection.
I always get the "Couldn't create data connection: connection refused"
message. 

> Steve

Cu,
-- 
Yves Grabowsky
*ICQ:* 18762984
<tsb>*AmiURLRequester 2.0 out now! Go and get it!*
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!

@ENDNODE
@NODE "Mail_46" " Re: FTP protocol "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 10-07-99 08:54:16
Subject: @{b}Re: FTP protocol@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Oct 06 Yves (Yves Grabowsky) wrote:

> From: YvesGrabowsky@t-online.de (Yves Grabowsky)
> 
> Hi, 
> I'm currently writing an application with a ftp implementation, but I have
> some troubles. Do you know where I can find example source for the ftp
> protocol or the source to a ftp client?

   If you just want a simple implementation without all the sophisticated bits,
I would recommend you take a look at the old Mosaic source code (which later mutated
into NetScape and Microsoft Internet Explorer). I found a copy readily available
at <ftp://ftp.leo.org/pub/comp/general/infosys/www/browsers/Mosaic/ncsa/Unix/source>.
You could of course try the BSD ftp client source code, but, well, I wasn't too
enthusiastic about it. Definitely worth a look are the rfcs which define the ftp
protocol, such as rfc959 (which you can find at <ftp://ftp.isi.edu/in-notes>).

-- 
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

@ENDNODE
@NODE "Mail_47" " RE: FTP protocol "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 10-07-99 11:22:27
Subject: @{b}RE: FTP protocol@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> From: YvesGrabowsky@t-online.de (Yves Grabowsky)
>
> Hi,
> I'm currently writing an application with a ftp implementation, but I have
> some troubles. Do you know where I can find example source for the ftp
> protocol or the source to a ftp client?

Go to www.rfc-editor.org and fetch the RFC (Request For Comments) that
specifies the FTP protocol. I did this for the FTP-implementation in my
program, and even though the document is very complex, it really describes
everything you need to know about it :)

--
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_48" " Beginners Questions. "
From: DrBrainDamage@angelfire.com
Date: 10-07-99 12:28:26
Subject: @{b}Beginners Questions.@{ub}

From: DrBrainDamage@angelfire.com

I Have tried to learn C++ for 1.5 years by now and i just dont understand how to use those libraries or what ever they are and therefore am desperately in need of help. It really seems that C++ isnt mine strong point...


So could someone please give me as simple examples as possible of these few simple things.


How do i open a screen?


If it isnt very much harder, then hopefully OS Leagle so that it would work even on future Amigas.


How do i get a bob or sprite or something similar and am able to use it.


If it isnt too hard it would be nice to have example where bob would be moving for example from point 100,100 to 200,200.


And if not too hard, Bob image would be taken from picture.


However if there comes lot of text instead of less when bob taken from picture, use rather that lesser text one.


And could someone do me an example of random generator which could be done so, that i could choose which numbers are randomised, for example so, that if i choose A to be 10, then if A is randomed it would be number between 0 and 10.


And if someone knows a good book which is very easy, so that i can understand and is about getting bits and bobs etc. working on amiga, i would like to know that books name and where to get.


Oh.. And does anyone know where to get ROM Kernel Manual?


Thank you very much already from your help.



          - Dr.BrainDamage



DrBrainDamage@Angelfire.com

@ENDNODE
@NODE "Mail_49" " Re: FTP protocol "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 10-07-99 14:49:28
Subject: @{b}Re: FTP protocol@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello Jesper,

On 07-Okt-99 wrote Jesper Svennevid (jesper@fxrealm.com):
> From: "Jesper Svennevid" <jesper@fxrealm.com>
> 
>> From: YvesGrabowsky@t-online.de (Yves Grabowsky)
>> 
>> Hi,
>> I'm currently writing an application with a ftp implementation, but I
>> have
>> some troubles. Do you know where I can find example source for the ftp
>> protocol or the source to a ftp client?
> 
> Go to www.rfc-editor.org and fetch the RFC (Request For Comments) that
> specifies the FTP protocol. I did this for the FTP-implementation in my
> program, and even though the document is very complex, it really describes
> everything you need to know about it :)
> 

I already read the rfc, but I still have troubles. The problem is: I want to
create a data transfer connection, the first time my program listens to port
1025 and it works, data is received, but the second time my program listens
to port 1026 and if I try to request something, lets say a LIST, I get the 
"Connection refused" message from the ftp server. I really don't understand
why this doesn't work. 

Cu,
-- 
Yves Grabowsky
*ICQ:* 18762984
<tsb>*AmiURLRequester 2.0 out now! Go and get it!*
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!

@ENDNODE
@NODE "Mail_50" " Re: FTP protocol "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 10-07-99 15:53:23
Subject: @{b}Re: FTP protocol@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello Jesper,

On 07-Okt-99 wrote Jesper Svennevid (jesper@fxrealm.com):
> From: "Jesper Svennevid" <jesper@fxrealm.com>
> 
>> I already read the rfc, but I still have troubles. The problem 
>> is: I want to
>> create a data transfer connection, the first time my program 
>> listens to port
>> 1025 and it works, data is received, but the second time my 
>> program listens
>> to port 1026 and if I try to request something, lets say a LIST, 
>> I get the 
>> "Connection refused" message from the ftp server. I really don't 
>> understand
>> why this doesn't work. 
> 
> Ah, well, then there are 2 solutions:
> 
> 1. The FTP-server is the listening part. You accomplish this
>   with sending a PASV command, which gives you in response the
>   IP and port to connect to (the port is divided in 2 values, and
>   you need to multiply the first by 256 and add the lower part to
>   get which port number)
> 
> 2. You serve as the listening connection, and tell the FTP-server
>   what data-port you are listening to. (I think you can use the
>   PORT command for this, not 100% sure though) ... You supply
>   which IP and port just as the response from the PASV-command.
> 
> This should solve your problem.
> 

I act as the listening connection, I send the following (a little example):

- my program listens to port 1025 and then sends:
PORT 127,0,0,1,4,0 (I use my local server)
220 Port command successfull
LIST
- I get the list, then I want a file, lets say /foo.bar
- my program drops the old sockets and listens now to port 1026, now I send:
PORT 127,0,0,1,4,1
220 Port command successful.
RETR /foo.bar
441 Couldn't create data connection: connection refused. 

Thats what I mean, the first time it works, but the second time not.

Cu,
-- 
Yves Grabowsky
*ICQ:* 18762984
<tsb>*AmiURLRequester 2.0 out now! Go and get it!*
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!

@ENDNODE
@NODE "Mail_51" " Re: FTP protocol "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 10-07-99 16:37:23
Subject: @{b}Re: FTP protocol@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello Jesper,

On 07-Okt-99 wrote Jesper Svennevid (jesper@fxrealm.com):
> From: "Jesper Svennevid" <jesper@fxrealm.com>
> 
>> I act as the listening connection, I send the following (a little 
>> example):
>> 
>> - my program listens to port 1025 and then sends:
>> PORT 127,0,0,1,4,0 (I use my local server)
>> 220 Port command successfull
>> LIST
>> - I get the list, then I want a file, lets say /foo.bar
>> - my program drops the old sockets and listens now to port 1026, 
>> now I send:
>> PORT 127,0,0,1,4,1
>> 220 Port command successful.
>> RETR /foo.bar
>> 441 Couldn't create data connection: connection refused. 
>> 
>> Thats what I mean, the first time it works, but the second time not.
> 
> Hm, have you tried running a net-logging utility reporting connections?
> then you could see which port the ftp-server is trying to connect to...

Nope, do you know a good one?

> 
> When I wrote the FTP-support for my application I did not have these
> problems atleast. Which ftp-server software are you using?

wu-ftpd. 

> And can you
> use 'normal' ftp-clients that don't use passive connection to the server?
> 

I tried out AmFTP and mFTP, both worked. 

Cu,
-- 
Yves Grabowsky
*ICQ:* 18762984
<tsb>*AmiURLRequester 2.0 out now! Go and get it!*
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!

@ENDNODE
@NODE "Mail_52" " RE: Re: FTP protocol "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 10-07-99 16:41:14
Subject: @{b}RE: Re: FTP protocol@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> I already read the rfc, but I still have troubles. The problem 
> is: I want to
> create a data transfer connection, the first time my program 
> listens to port
> 1025 and it works, data is received, but the second time my 
> program listens
> to port 1026 and if I try to request something, lets say a LIST, 
> I get the 
> "Connection refused" message from the ftp server. I really don't 
> understand
> why this doesn't work. 

Ah, well, then there are 2 solutions:

1. The FTP-server is the listening part. You accomplish this
   with sending a PASV command, which gives you in response the
   IP and port to connect to (the port is divided in 2 values, and
   you need to multiply the first by 256 and add the lower part to
   get which port number)

2. You serve as the listening connection, and tell the FTP-server
   what data-port you are listening to. (I think you can use the
   PORT command for this, not 100% sure though) ... You supply
   which IP and port just as the response from the PASV-command.

This should solve your problem.

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_53" " Re: Picasso96 and Storm C 3.0 "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-07-99 16:44:12
Subject: @{b}Re: Picasso96 and Storm C 3.0@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 07-Oct-99, cdoty@pcisys.net wrote:

> Is there any source code available (for Storm C) that deals with Picasso96 
> programming?

Which aspects of P96 programming are you interested in?

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Everything should be made as simple as possible, but not simpler.
-- Albert Einstein

@ENDNODE
@NODE "Mail_54" " RE: Re: FTP protocol "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 10-07-99 17:22:44
Subject: @{b}RE: Re: FTP protocol@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> I act as the listening connection, I send the following (a little 
> example):
> 
> - my program listens to port 1025 and then sends:
> PORT 127,0,0,1,4,0 (I use my local server)
> 220 Port command successfull
> LIST
> - I get the list, then I want a file, lets say /foo.bar
> - my program drops the old sockets and listens now to port 1026, 
> now I send:
> PORT 127,0,0,1,4,1
> 220 Port command successful.
> RETR /foo.bar
> 441 Couldn't create data connection: connection refused. 
> 
> Thats what I mean, the first time it works, but the second time not.

Hm, have you tried running a net-logging utility reporting connections?
then you could see which port the ftp-server is trying to connect to...

When I wrote the FTP-support for my application I did not have these
problems atleast. Which ftp-server software are you using? And can you
use 'normal' ftp-clients that don't use passive connection to the server?

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_55" " RE: Re: FTP protocol "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 10-07-99 18:06:06
Subject: @{b}RE: Re: FTP protocol@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> > Hm, have you tried running a net-logging utility reporting connections?
> > then you could see which port the ftp-server is trying to connect to...
> 
> Nope, do you know a good one?

Hm, nope, I haven't needed any, my socket-programming works as it should
for me :)

> > 
> > When I wrote the FTP-support for my application I did not have these
> > problems atleast. Which ftp-server software are you using?
> 
> wu-ftpd. 

Oki, I use the same server-software, so it should work. :)

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_56" " Inverse matrix "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-07-99 18:35:21
Subject: @{b}Inverse matrix@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,
According to a text book I was just looking at making an inverse matrix ie.
m^-1 is a lengthy process involving much calculation. Does anyone have a
method for finding the reverse of a matrix multiplication on a vector?
IE. if vector.matrix=newvector how do I find the original vector given matrix
and newvector. 

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_57" " [3DWorld] Inverse matrix "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-07-99 18:35:21
Subject: @{b}[3DWorld] Inverse matrix@{ub}

Hi All,
According to a text book I was just looking at making an inverse matrix ie.
m^-1 is a lengthy process involving much calculation. Does anyone have a
method for finding the reverse of a matrix multiplication on a vector?
IE. if vector.matrix=newvector how do I find the original vector given matrix
and newvector. 

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



@ENDNODE
@NODE "Mail_58" " AmiTCP-SDK & Dice "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 10-07-99 19:15:34
Subject: @{b}AmiTCP-SDK & Dice@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello,
    I'm writing an application and I need some help. In the DICE-C 3.16
documentation (bug-list) it says that the AmiTCP-SDK does not work with 
DICE so I need to know if there are any other ways that I could implement
internet support in my implementation (I could program my own TCP/IP stack
but as my application is almost finised that would mean re-writing the
application, or at least making major changes). I have the RFC's so I need
no help implementing some common protocols (FTP,HTTP,NNTP,SMTP,etc) but i
cannot test my internet code without actually having some way of openning a
TCP/IP connection.

Kind regards
    Trebor (Dave Arbuthnot)

@ENDNODE
@NODE "Mail_59" " RE: AmiTCP-SDK & Dice "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 10-07-99 19:23:02
Subject: @{b}RE: AmiTCP-SDK & Dice@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
>
> Hello,
>     I'm writing an application and I need some help. In the DICE-C 3.16
> documentation (bug-list) it says that the AmiTCP-SDK does not work with
> DICE so I need to know if there are any other ways that I could implement
> internet support in my implementation (I could program my own TCP/IP stack
> but as my application is almost finised that would mean re-writing the
> application, or at least making major changes). I have the RFC's so I need
> no help implementing some common protocols (FTP,HTTP,NNTP,SMTP,etc) but i
> cannot test my internet code without actually having some way of
> openning a
> TCP/IP connection.

Try adapting for example the Miami SDK... It's only the include-files that
need modifying, you do not need to write a new stack :)

---
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_60" " Re: Beginners Questions. "
From: Dirk Harlaar <D.Harlaar@ping.de>
Date: 10-07-99 19:53:33
Subject: @{b}Re: Beginners Questions.@{ub}

From: Dirk Harlaar <D.Harlaar@ping.de>

Hello DrBrainDamage@angelfire.com

Answering to your questions in a private mail. First, with a braindamage,
programming in C++ can become kinda hard. The Rom-Kernals can not be found in
print anymore, they are on the Amiga Developers CD 1.2. Since I have two
copies, I could .lha them for you and email them, this would make for a pretty
lengthy mail though, let me know if you want this. (Don't think the CD is
still being sold).

Your questions concerning opening a screen etc.: Basically, all those
questions are answered in them Kernals, but you need to know where to look. I
could take you through all your questions step by step, explaining about the
different TAGS etc you would need (since you want to use bobs, and the random
generator, I take it you aim to do something game-like, so you would need a
double buffered screen. This can all be done in a system legal way. The RKM's
all have example source in C, which can work in C++ as well, with slight
modifications. Problem is, I'll be away from the keyboard for a week as of
sunday, and could only start helping you after that. I could tell you how to
open a screen etc, but it wouldn't help you much, if you don't understand the
underlying library workings, so I think I would have to give you some more
information (maybe a personal tutorial?). I could start in a week from now, if
you're interested. Just let me know.

If you're interested in the RKM's as amigaguide, let me know. I hesitate to
mail them to you without asking your permission, because it would be a
laaaaaaaarge e-mail, making for a very long download time.

Yours,

Dirk

@ENDNODE
@NODE "Mail_61" " RE: AmiTCP-SDK & Dice "
From: "Ole J. Røtne" <olejr@online.no>
Date: 10-07-99 20:53:50
Subject: @{b}RE: AmiTCP-SDK & Dice@{ub}

From: "=?iso-8859-1?Q?Ole_J._R=F8tne?=" <olejr@online.no>

> From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
> 
> Hello,
>     I'm writing an application and I need some help. In the DICE-C 3.16
> documentation (bug-list) it says that the AmiTCP-SDK does not work with 
> DICE so I need to know if there are any other ways that I could implement
> internet support in my implementation (I could program my own TCP/IP stack
> but as my application is almost finised that would mean re-writing the
> application, or at least making major changes). I have the RFC's so I need
> no help implementing some common protocols (FTP,HTTP,NNTP,SMTP,etc) but i
> cannot test my internet code without actually having some way of openning a
> TCP/IP connection.

Take a look at: http://www.nebulas.demon.co.uk
There you will find what you are looking for.. 
I don't know if it works, haven't tried it..

Ole J. R.

@ENDNODE
@NODE "Mail_62" " Re: Beginners Questions. "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 10-07-99 22:31:08
Subject: @{b}Re: Beginners Questions.@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hello DrBrainDamage@angelfire.com

On 07-Oct-99, you wrote:


> Thank you very much already from your help.

hehe try CManual.lha on aminet. A llittle bit old, but gives all the
knowledge you need :)
Regards

@ENDNODE
@NODE "Mail_63" " Re: Re: Picasso96 and Storm C 3.0 "
From: cdoty@pcisys.net
Date: 10-07-99 23:34:07
Subject: @{b}Re: Re: Picasso96 and Storm C 3.0@{ub}

From: cdoty@pcisys.net

> Which aspects of P96 programming are you interested in?

Well, initially just getting the samples to compile under Storm C. the pragmas 
are incorrect. And, then I would like to move on to port a game engine that I 
worte to the Amiga. It can be seen at
http://www.pcisys.net/~cdoty/gadget

---------------------------------------------
This message was sent using Endymion MailMan.
http://www.endymion.com/products/mailman/

@ENDNODE
@NODE "Mail_64" " Re: Picasso96 and Storm C 3.0 "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-08-99 08:18:35
Subject: @{b}Re: Picasso96 and Storm C 3.0@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 08-Oct-99, cdoty@pcisys.net wrote:

> Well, initially just getting the samples to compile under Storm C. the
> pragmas are incorrect.

In the P96 SDK you should be able to find a file named 'Picasso96API_lib.fd' -
and StormC comes with 'fd2pragma'. So use this to generate a StormC compatible
pragma file.

Or I can send you my pragma file, if you prefer that :-)

> And, then I would like to move on to port a game
> engine that I worte to the Amiga. [...]

For true colour support? Then you probably want to use 'p96WriteTrueColorData'.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Don't worry about people stealing your ideas. If your ideas are any good,
you'll have to ram them down people's throats.
-- Howard Aiken

@ENDNODE
@NODE "Mail_65" " Re: FTP protocol "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 10-08-99 17:08:34
Subject: @{b}Re: FTP protocol@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello Jesper,

On 07-Okt-99 wrote Jesper Svennevid (jesper@fxrealm.com):
> From: "Jesper Svennevid" <jesper@fxrealm.com>
> 
>> > Hm, have you tried running a net-logging utility reporting connections?
>> > then you could see which port the ftp-server is trying to connect to...
>> 
>> Nope, do you know a good one?
> 
> Hm, nope, I haven't needed any, my socket-programming works as it should
> for me :)
> 

Could you send me a piece of your code for the ftp-part? This would be helpful. 
(I would give you a free keyfile for AmiURLRequester...)

Cu,
-- 
Yves Grabowsky
*ICQ:* 18762984
<tsb>*AmiURLRequester 2.0 out now! Go and get it!*
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!

@ENDNODE
@NODE "Mail_66" " Re: Inverse matrix "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-08-99 22:14:43
Subject: @{b}Re: Inverse matrix@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Oct 07, 1999 at 06:35:21PM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> According to a text book I was just looking at making an inverse matrix ie.
> m^-1 is a lengthy process involving much calculation. Does anyone have a
> method for finding the reverse of a matrix multiplication on a vector?
> IE. if vector.matrix=newvector how do I find the original vector given matrix
> and newvector.

I don't believe there are any short-cuts.  You have to calculate that
inverse matrix.  This is easy for 2x2 matrices, and not too complex
for 3x3 matrices.  If you want to handle arbitrary numbers of
dimensions it's tougher.  There may well be a free matrix maths
library that you could use.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
I haven't lost my mind; it's backed up on tape somewhere.

@ENDNODE
@NODE "Mail_67" " Re: Inverse matrix "
From: Damir Arh <damir.arh@guest.arnes.si>
Date: 10-09-99 12:03:04
Subject: @{b}Re: Inverse matrix@{ub}

From: "Damir Arh" <damir.arh@guest.arnes.si>

Hello

> According to a text book I was just looking at making an inverse matrix
ie.
> m^-1 is a lengthy process involving much calculation. Does anyone have a
> method for finding the reverse of a matrix multiplication on a vector?
> IE. if vector.matrix=newvector how do I find the original vector given
matrix
> and newvector.

You could always solve it as a system of linear equasions:

x * A = y

where you now vector y and matrix A, and calculate the vector x. This
problem is less mathematically intensive and can be even simplified if you
have to solve more than one 'equasion' with the same matrix and different
vector y (in this case you can use the A=L*U decomposition (not sure that
it's the right word in English)).

Here is a short algorithm for solving such a system (not tested, I've just
written it of the top of my head). But I could always write you the complete
algorithm (a working one), even for LU decomposition, if you want.

for (k=0;k<n-1;k++)
  for (i=k+1;i<n;i++)
    for (j=i;j<n;j++)
        a[i][j]-=a[i][k]*a[k][i]/a[k][k];
x[n-1]=y[n-1]/a[n-1][n-1];
for (k=n-2;k>=0;k--)
{
  sum=y[k];
  for (i=n-1;i>k;k--)
    sum+=a[i][i]*y[i];
  x[k]/=sum;
}

Hope it helps.

Kind regards

                    Damir Arh <damir.arh@guest.arnes.si>
                      http://www2.arnes.si/~gkrjes12/
--
               Student | Programmer | Translator | Webmaster
--
            Owner of A1200T/030 Amiga and Celeron 300A based PC

@ENDNODE
@NODE "Mail_68" " Re: FTP protocol "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-09-99 13:34:09
Subject: @{b}Re: FTP protocol@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Oct 07, 1999 at 08:54:16AM +0100, Olaf Barthel wrote:
> From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>
> 
> On Oct 06 Yves (Yves Grabowsky) wrote:
> 
> > From: YvesGrabowsky@t-online.de (Yves Grabowsky)
> > 
> > Hi, 
> > I'm currently writing an application with a ftp implementation, but I have
> > some troubles. Do you know where I can find example source for the ftp
> > protocol or the source to a ftp client?
> 
>    If you just want a simple implementation without all the
> sophisticated bits, I would recommend you take a look at the old
> Mosaic source code (which later mutated into NetScape and Microsoft
> Internet Explorer).
<snip>

MSIE is based on Spyglass Mosaic, which is based on Mosaic.  Netscape
Navigator (Mozilla) was written from scratch, but with knowledge of
the Mosaic source.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Who are all these weirdos? - David Bowie, about L-Space IRC channel #afp

@ENDNODE
@NODE "Mail_69" " Re: FTP protocol "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 10-09-99 19:13:22
Subject: @{b}Re: FTP protocol@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Ben,

On 09-Oct-99, you wrote:

> MSIE is based on Spyglass Mosaic, which is based on Mosaic. Netscape
> Navigator (Mozilla) was written from scratch, but with knowledge of
> the Mosaic source.

IIRC, Mosaic was created by Marc Andressen, the co-founder of
Netscape Communications Corp. when he was working for the NCSA.
 
Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
The book Understanding DBase IV is an oxymoron.

@ENDNODE
@NODE "Mail_70" " AmiFTPd v2.1 released "
From: Ray Akey <rakey@cnetbbs.net>
Date: 10-09-99 19:38:45
Subject: @{b}AmiFTPd v2.1 released@{ub}

From: "Ray Akey" <rakey@cnetbbs.net>

AmiFTPd v2.1 is now available on our FTP site.  You can download this
release from:

http://www.cnetbbs.net/amiftpd/
ftp://ftp.cnetbbs.net/amiftpd/

I was going to place it on aminet but it seems most of the aminet server are
dead or down..  When I can get a decent connection to an aminet server, it
will be available in comm/tcp there as well.

For a list of changes, please see http://www.cnetbbs.net/amiftpd/changes/

--
Ray Akey -- ZenMetal Software / HMetalSoft
Web designer & Developer of CNet BBS, AmiFTPd and Base0 Message Board.
Send custom programming/contract inquiries, sales inquiries by E-Mail or
FAX.
mailto:rakey@cnetbbs.net  http://www.cnetbbs.net  FAX: (630) 604-6050

@ENDNODE
@NODE "Mail_71" " Re: Re: FTP protocol "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-10-99 20:54:26
Subject: @{b}Re: Re: FTP protocol@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sat, Oct 09, 1999 at 07:13:22PM +0100, Andrew Bell wrote:
> From: Andrew Bell <andrew.ab2000@bigfoot.com>
> 
> Hi Ben,
> 
> On 09-Oct-99, you wrote:
> 
> > MSIE is based on Spyglass Mosaic, which is based on Mosaic. Netscape
> > Navigator (Mozilla) was written from scratch, but with knowledge of
> > the Mosaic source.
> 
> IIRC, Mosaic was created by Marc Andressen, the co-founder of
> Netscape Communications Corp. when he was working for the NCSA.

He was one of the main programmers of Mosaic.  That's why I say that
Mozilla was written with knowledge of the Mosaic source.  Even though
it was originally called `Mosaic Communications', I don't think
Netscape ever got a license to use the Mosaic source.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Nothing is ever a complete failure; it can always serve as a bad example.

@ENDNODE
@NODE "Mail_72" " Re: FTP protocol "
From: Rod_MacLean@uk.ibm.com
Date: 10-11-99 11:32:35
Subject: @{b}Re: FTP protocol@{ub}

From: Rod_MacLean@uk.ibm.com




>> MSIE is based on Spyglass Mosaic, which is based on Mosaic. Netscape
>> Navigator (Mozilla) was written from scratch, but with knowledge of
>> the Mosaic source.
>
> IIRC, Mosaic was created by Marc Andressen, the co-founder of
> Netscape Communications Corp. when he was working for the NCSA.

So where did Lynx spring from then?

     Rod

--
Rod MacLean - IT Specialist
L2L, IBM Perth (tel 01738 894135)
IEA GBIB1S3U @ IBMMAIL    (rod_maclean@uk.ibm.com)

@ENDNODE
@NODE "Mail_73" " Processes vs. Tasks "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 10-11-99 11:45:27
Subject: @{b}Processes vs. Tasks@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

I've been writing on a mini-thread library for a larger application I'm
working on, and I've gotten myself a little problem. I'm writing a
Kill() function for a thread, but as I operate on processes instead of
tasks, I'm not sure I can use RemTask() to delete the started thread.

Can I safely use RemTask() or do I have to rely on my process exiting
peacefully?

My current implementation send SIGBREAKF_CTRL_C to the thread, and then
waits for a field in a thread-specific structure to become NULL, and
then return. This forces me to check for ctrl-c signals rather often
inside the thread to allow for swift exits.

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_74" " Re: FTP protocol "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 10-11-99 14:16:46
Subject: @{b}Re: FTP protocol@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Rod_MacLean@uk.ibm.com,

On 11-Oct-99, you wrote:


>> IIRC, Mosaic was created by Marc Andressen, the co-founder of
>> Netscape Communications Corp. when he was working for the NCSA.
> 
> So where did Lynx spring from then?

IIRC, The University of Kansas.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
Don't sweat the petty things, just pet the sweaty things.

@ENDNODE
@NODE "Mail_75" " Re: FTP protocol "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 10-11-99 14:18:52
Subject: @{b}Re: FTP protocol@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Rod_MacLean@uk.ibm.com,

On 11-Oct-99, you wrote:

> So where did Lynx spring from then?

Here's a link you might be interested in:

http://www.cc.ukans.edu/~grobe/early-lynx.html

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
Oxymoron: Completely Unfinished.

@ENDNODE
@NODE "Mail_76" " Re: Amiga Developer CD's "
From: John Jans <jjans@telusplanet.net>
Date: 10-12-99 05:52:30
Subject: @{b}Re: Amiga Developer CD's@{ub}

From:   "John Jans" <jjans@telusplanet.net>


----- Original Message ----- 
From: Kevin Bewley <kevin.bewley@camr.org.uk>
To: <amiga-c@onelist.com>
Sent: August 26, 1999 1:42 AM
Subject: [amiga-c] Amiga Developer CD's
Try this address, I purchased the same a year ago from him
http://www.schatztruhe.de/order.html.



> From: "Kevin Bewley" <kevin.bewley@camr.org.uk>
> 
> Hi all,
>    Does anyone know where I can get a copy of Amiga Dev CD 1.2? 
> I've phoned around and I've been told they don't make it anymore! :-(
> 
> Can anyone tell me where I can get a copy or can anyone sell me 
> a copy they don't use anymore. (I did have NDUK but disk one is 
> now corrupt and I have lost my autodocs!)
> 
> Cheers,
> Kevin
> --------
> A1200 Kick 3.0 '060/50MHz + SCSI 50Mb RAM 
> 1.3Gb Hitachi HD 2x SCSI CD-ROM
> 
> >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 

@ENDNODE
@NODE "Mail_77" " Re: Processes vs. Tasks "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-12-99 09:17:26
Subject: @{b}Re: Processes vs. Tasks@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Oct 11, 1999 at 11:45:27AM +0100, Jesper Svennevid wrote:
> From: "Jesper Svennevid" <jesper@fxrealm.com>
> 
> I've been writing on a mini-thread library for a larger application I'm
> working on, and I've gotten myself a little problem. I'm writing a
> Kill() function for a thread, but as I operate on processes instead of
> tasks, I'm not sure I can use RemTask() to delete the started thread.
> 
> Can I safely use RemTask() or do I have to rely on my process exiting
> peacefully?

You must never use RemTask on a process, because this will not free
the memory associated with me.  Furthermore, you must not RemTask
another task unless you know that it is in a state where no other
task/interrupt will signal it.  Normally, tasks will RemTask
themselves.

> My current implementation send SIGBREAKF_CTRL_C to the thread, and then
> waits for a field in a thread-specific structure to become NULL, and
> then return.

Ugh, busy waiting?

> This forces me to check for ctrl-c signals rather often inside the
> thread to allow for swift exits.

Checking for signals is the only correct way to do this in AmigaOS.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Absolutum obsoletum. (If it works, it's out of date.) - Stafford Beer

@ENDNODE
@NODE "Mail_78" " SetFunction() "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-12-99 13:18:22
Subject: @{b}SetFunction()@{ub}

Hi All,
I`m trying to use SetFunction() to patch ASL.library. I`ve never used it
before. Here`s the simplified source designed to do nothing. Am I barking up
the wrong tree? It crashes everytime I try to use the changed function
(AslRequest()).
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_79" " OT: Aminet. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-12-99 13:42:09
Subject: @{b}OT: Aminet.@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,
Does anyone know whats going on with the Aminet? I`ve taken over producing the
monthly guide for this list from Roger Light but the Aminet seems to be down
atm. I`m not sure if Roger managed to upload the guide for sept before he
went.
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_80" " Guru:8000000B "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-12-99 13:51:32
Subject: @{b}Guru:8000000B@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,
Guru no 8000000B is EXCPT11: line 1111 emulator. What in gods name does it
mean. I thought this guru and 8000000A line 1010 emulator were caused by
trying to use FPU instructions on a machine with no FPU. How come I get them
on my 040?
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_81" " Re: Aminet. "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 10-12-99 19:57:18
Subject: @{b}Re: Aminet.@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello Tim,

On 12-Okt-99 wrote Tim Hanson (msinister@connectfree.co.uk):
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> Does anyone know whats going on with the Aminet? I`ve taken over producing
> the monthly guide for this list from Roger Light but the Aminet seems to
> be down atm. I`m not sure if Roger managed to upload the guide for sept
> before he went.

The Aminet main site (Paderborn) has been hacked by some dudes and is currently 
being reinstalled.
Afaik not even new uploads appear.

Cu,
-- 
Yves Grabowsky
*ICQ:* 18762984
<tsb>*AmiURLRequester 2.0 out now! Go and get it!*
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!

@ENDNODE
@NODE "Mail_82" " Re: SetFunction() "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 10-12-99 20:04:14
Subject: @{b}Re: SetFunction()@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Tim,

On 12-Oct-99, you wrote:

> Hi All,
> I`m trying to use SetFunction() to patch ASL.library. I`ve never
> used it before. Here`s the simplified source designed to do nothing.
> Am I barking up the wrong tree? It crashes everytime I try to use
> the changed function (AslRequest()).

You need to specify the CPU registers (parameters) of the function you are patching, else the compiler will try to pull them off the stack:

Here's how you would do it in Maxon:

BOOL newFunc( register __a0 APTR requester, register __a1 struct TagItem *tagItemPtr)
{     
 return func(requester,tagItemPtr);
}

It would be also a good idea to call the original ASL code after you
do your magic, unless you plan to replace the whole function.

The registers are given in the autodocs.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
California makes the best wine, New York the best whine.

@ENDNODE
@NODE "Mail_83" " within a tri "
From: Linus McCabe <sparkle@hehe.com>
Date: 10-12-99 22:13:45
Subject: @{b}within a tri@{ub}

From: Linus McCabe <sparkle@hehe.com>


Hello.. Is there a good algorithm to find out wether a point is within
a triangle?
I have the triangle cornerpoint coords and obviously the point coord. 

Right now I'm checking wether the angle between the line from a
cornerpoint to the point is within the angles of the lines from
corner point to the other cornerpoints. 
/Linus

-- 
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://sparkle.amiga.tm

@ENDNODE
@NODE "Mail_84" " MUI "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 10-12-99 23:23:04
Subject: @{b}MUI@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hi

is there a way to set a specfic screen ID (a 16bits depth) in a MUI app ? I
mean, set it up directly in the source code, or something like a hook in
asl screenmodeselect() ...

bye

@ENDNODE
@NODE "Mail_85" " Re: MUI "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 10-12-99 23:58:42
Subject: @{b}Re: MUI@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Adrien,

On 12-Oct-99, you wrote:

> is there a way to set a specfic screen ID (a 16bits depth) in a MUI
> app ? I mean, set it up directly in the source code, or something
> like a hook in asl screenmodeselect() ...

Have you tried the Public Screen Inspector? If you're trying to force
an MUI app onto it's own screen, then this is what you're looking for.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
I got a gun for my wife. Pretty good trade huh?

@ENDNODE
@NODE "Mail_86" " Re: Guru:8000000B "
From: alan fullarton <alan_fullarton@hotmail.com>
Date: 10-13-99 01:38:46
Subject: @{b}Re: Guru:8000000B@{ub}

From: "alan fullarton" <alan_fullarton@hotmail.com>

I'm wondering about this error as I get it once in a while
(line 1111 emulator). I was writing a ray casting game and
using WritePixelArray8() and WriteChunkyPixels() made me think
it was the cause of the my errors, I think I was putting in bad
data but I don't know for sure.

Alan Fullarton


>From: Tim Hanson <msinister@connectfree.co.uk>
>Reply-To: amiga-c@onelist.com
>To: amiga-c@onelist.com
>Subject: [amiga-c] Guru:8000000B
>Date: Tue, 12 Oct 1999 13:51:32 +0100
>
>Hi All,
>Guru no 8000000B is EXCPT11: line 1111 emulator. What in gods name does it
>mean. I thought this guru and 8000000A line 1010 emulator were caused by
>trying to use FPU instructions on a machine with no FPU. How come I get 
>them
>on my 040?
>--
>
>Tim Hanson,
>by the River,Canterbury, Kent.
>Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
>170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
>Don`t waste  your time by visiting
>http://www.sinister67.freeserve.co.uk
>
>
>
>------------------------------------------------------------------------
>      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <-
><< text3.html >>

@ENDNODE
@NODE "Mail_87" " Re: Re: Aminet. "
From: "Andrzej J. Debicki" <denbi@softsystem.pl>
Date: 10-13-99 07:25:29
Subject: @{b}Re: Re: Aminet.@{ub}

From: "Andrzej J. Debicki" <denbi@softsystem.pl>

Hello Yves,

Tuesday, Tuesday, October 12, 1999, you wrote:
> The Aminet main site (Paderborn) has been hacked by some dudes and is currently
> being reinstalled.
> Afaik not even new uploads appear.

US mirror seems to be working a little.

-- 
Andrzej J. Debicki
denbi@softsystem.pl
http://republika.pl/denbi
------------------------------------------
A1200T 060-50/603e-240, BVision, 34 MB RAM

@ENDNODE
@NODE "Mail_88" " Re: Guru:8000000B "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 10-13-99 08:49:59
Subject: @{b}Re: Guru:8000000B@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Oct 12 Tim (Tim Hanson) wrote:

> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> Guru no 8000000B is EXCPT11: line 1111 emulator. What in gods name does it
> mean.

   It means that your computer has crashed. Nothing more, nothing less.
Really, I'm not joking. The "guru meditations" we get on the Amiga are triggered
by so-called "traps". Every such trap has a meaning, such as the line 1010 emulator
you mentioned. But that doesn't mean that the reason why the processor ended up
in a trap and the meaning of the trap will match. As experience shows, practically
any type of software error (illegal instructions, invalid data, etc.) can trigger
any kind of trap. The only trap that's closely associated with its cause is
trap #5: division by zero. For all the others, don't even hope to locate the reason
that caused the trap. If you want to do that, use Enforcer and SegTracker.

-- 
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

@ENDNODE
@NODE "Mail_89" " VBCC and rand() bug ? "
From: Grzegorz Fitrzyk <grzes@centrum.pasjo.net.pl>
Date: 10-13-99 10:03:35
Subject: @{b}VBCC and rand() bug ?@{ub}

From: Grzegorz Fitrzyk <grzes@centrum.pasjo.net.pl>

Hi.

I tried to compile Layout.c from MUI examples and I've got a strange
effect. All buttons created by LayoutFunc hook are placed in the same
level. I tried to compile it with SAS C and everything seems good.
After spending some time with it I found why. In orginal source the
line with rand() functions looks like this:

LONG l = rand() % (lm->lm_Layout.Width  - mw);
LONG t = rand() % (lm->lm_Layout.Height - mh);

I don't know why t variable is'nt changing. But after exchange l with t:

LONG t = rand() % (lm->lm_Layout.Height - mh);
LONG l = rand() % (lm->lm_Layout.Width  - mw);

everything is working. Can someone explain me why ?

-- 
Regards, *Grzegorz Fitrzyk SP9WUN*.
<tsb>
<sb>grzes@centrum.pasjo.net.pl  http://centrum.pasjo.net.pl/~grzes

@ENDNODE
@NODE "Mail_90" " RE: Processes vs. Tasks "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 10-13-99 11:30:12
Subject: @{b}RE: Processes vs. Tasks@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> > Can I safely use RemTask() or do I have to rely on my process exiting
> > peacefully?
> 
> You must never use RemTask on a process, because this will not free
> the memory associated with me.  Furthermore, you must not RemTask
> another task unless you know that it is in a state where no other
> task/interrupt will signal it.  Normally, tasks will RemTask
> themselves.

Yes, that was what I wanted to avoid :) The current method works just
fine, so I just was a bit curious about how bad a RemTask() would
trash a process. :P

> > My current implementation send SIGBREAKF_CTRL_C to the thread, and then
> > waits for a field in a thread-specific structure to become NULL, and
> > then return.
> 
> Ugh, busy waiting?

Well, technically, but the check looks like this:

while(NULL != p_thread -> pProcess) Delay(1);

so the real loop does not have any significant CPU-load :)
I cannot wait for a signal in this state, as other threads may signal
me using those signals,(I use SIGBREAKF_CTRL_E/SIGBREAKF_CTRL_F for
simple thread-communication, as I don't need to allocate any signals,
and messages when it get a bit more complex) and allocating one
signal per thread would be costly. One thing I _COULD_ do is wait for
a message to be replied (I send a message to the thread at startup,
and that message is replied when the thread dies), and maintain the
list in a asynchronous way instead of the synchronous method I use
now, but I'd rather like it to lock up now instead of having a
thread that misses a signal going havoc :)

> > This forces me to check for ctrl-c signals rather often inside the
> > thread to allow for swift exits.
> 
> Checking for signals is the only correct way to do this in AmigaOS.

Yes, and that's what I do right now :) The entire project is filled with
IPC-communication, so keeping in sync is dead important :)

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_91" " RE: Guru:8000000B "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 10-13-99 11:30:14
Subject: @{b}RE: Guru:8000000B@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> From: "alan fullarton" <alan_fullarton@hotmail.com>
> 
> I'm wondering about this error as I get it once in a while
> (line 1111 emulator). I was writing a ray casting game and
> using WritePixelArray8() and WriteChunkyPixels() made me think
> it was the cause of the my errors, I think I was putting in bad
> data but I don't know for sure.

Most probably you trash your code, or do a bad jump to an
address that doesn't contain code.

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_92" " RE: Processes vs. Tasks "
From: Allan Odgaard <duff@diku.dk>
Date: 10-13-99 11:49:09
Subject: @{b}RE: Processes vs. Tasks@{ub}

From: Allan Odgaard <duff@diku.dk>

On Wed, 13 Oct 1999, Jesper Svennevid wrote:

> > Ugh, busy waiting?
> Well, technically, but the check looks like this:
> while(NULL != p_thread -> pProcess) Delay(1);

How about having a semaphore pr. thread. Obtain this when you enter the
thread, and release it when you leave.
Then your 'control-task' can simply try to obtain a threads semaphore, and
the execution of this will then be delayed till the thread has quited.

> > > This forces me to check for ctrl-c signals rather often inside the
> > > thread to allow for swift exits.
> > Checking for signals is the only correct way to do this in AmigaOS.
> Yes, and that's what I do right now :) [...]

You could setup ctrl-c to trigger a process exception, and setup exception
code to deal with it. But the cycles gained is minimal, as you'd probably
still have to check something in the actual code of your thread (but a
boolean value rather than the signal-state)

Regards Allan

@ENDNODE
@NODE "Mail_93" " RE: Processes vs. Tasks "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 10-13-99 14:55:09
Subject: @{b}RE: Processes vs. Tasks@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> From: Allan Odgaard <duff@diku.dk>
>
> On Wed, 13 Oct 1999, Jesper Svennevid wrote:
>
> > > Ugh, busy waiting?
> > Well, technically, but the check looks like this:
> > while(NULL != p_thread -> pProcess) Delay(1);
>
> How about having a semaphore pr. thread. Obtain this when you enter the
> thread, and release it when you leave.
> Then your 'control-task' can simply try to obtain a threads semaphore, and
> the execution of this will then be delayed till the thread has quited.

Hmm, yes, that's a good idea indeed :) I already have a semaphore declared
in the structure that every thread gets their own version of, but one more
shouldn't hurt :)

> > > > This forces me to check for ctrl-c signals rather often inside the
> > > > thread to allow for swift exits.
> > > Checking for signals is the only correct way to do this in AmigaOS.
> > Yes, and that's what I do right now :) [...]
>
> You could setup ctrl-c to trigger a process exception, and setup exception
> code to deal with it. But the cycles gained is minimal, as you'd probably
> still have to check something in the actual code of your thread (but a
> boolean value rather than the signal-state)

Well, I could change the PC of the task to point directly at the exit-code
inside that exception, but I really don't want to operate in
supervisor-state
and mess with the task-structures... But maybe that can be a solution, I
didn't know I could change signals to generate exceptions, so I didn't
consider this solution :) But then again, I'd need to add a 'safe-flag'
around every OS-call I do, as I don't want my program to kill the thread
just when it is doing a write to disk or is opening a socket...

--
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_94" " Re: within a tri "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 10-13-99 16:55:52
Subject: @{b}Re: within a tri@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

Hello Linus

1. Find the left, middle and right points of the triangle, let's call them C1, C2 and C3. They consist of coordinates : (x1,y1) (x2,y2) (x3,y3).
2. Between the points there are lines, lets call them L12, L23 and L13.
3. Calculate the formulas for the lines:
L12=y1+x*((y2-y1)/(x2-x1))
L23=y2+x*((y3-y2)/(x3-x2))
L13=y1+x*((y3-y1)/(x3-x1))

4. Check if point (x,y) is within triangle:
if (y>MAX(y1,y2,y3) || y<MIN(y1,y2,y3)) OutsideTriangle();
if (x<x1 || x>x3) OutsideTriangle(); // Remember x1 is leftmost and x3 is rightmost

if (x>x2)
    if (PointIsNotBetween(y,L23,L13) OutsideTriangle();
else
    if (PointIsNotBetween(y,L12,L13) OutsideTriangle();
InsideTriangle();

It is my 'reinvention of the wheel' so there is probably a easier/ quicker way. Also, i haven't tested it.

CYA

On 12-Oct-99, Linus McCabe claimed:
> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> Hello.. Is there a good algorithm to find out wether a point is within
> a triangle?

> I have the triangle cornerpoint coords and obviously the point coord. 
> 
> Right now I'm checking wether the angle between the line from a
> cornerpoint to the point is within the angles of the lines from
> corner point to the other cornerpoints. 
> /Linus
> 
> -- 
> Linus McCabe * Sparkle@hehe.com              
>             * Sparkle, #Amiga, DalNet
>             * http://sparkle.amiga.tm
> 
> >     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 
Regards

@ENDNODE
@NODE "Mail_95" " Re: SetFunction() "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-13-99 17:56:59
Subject: @{b}Re: SetFunction()@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Andrew Bell wrote this on 12-Oct-99 at 20:04:14
 Hi Andrew 
-> From: Andrew Bell <andrew.ab2000@bigfoot.com>
-> 
-> Hi Tim,
-> 
-> On 12-Oct-99, you wrote:
-> 

-> You need to specify the CPU registers (parameters) of the function you are
-> patching, else the compiler will try to pull them off the stack:
-> 
-> Here's how you would do it in Maxon:
-> 
-> BOOL newFunc( register __a0 APTR requester, register __a1 struct TagItem
-> *tagItemPtr) {
-> return func(requester,tagItemPtr);
-> }

It`s the same in Dice. More or less.

 
-> It would be also a good idea to call the original ASL code after you
-> do your magic, unless you plan to replace the whole function.

It`s this thats giving me the problems. The function is definetily patched as
if I define the new function as just returning FALSE anything that uses
ASLRequest behaves as if the user had pressed cancel. However I thought that
SetFunction() returned the address of the original function. Is this the case
or not?
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_96" " Re: VBCC and rand() bug ? "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 10-13-99 19:29:05
Subject: @{b}Re: VBCC and rand() bug ?@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello Grzegorz

On 13-Oct-99, Grzegorz Fitrzyk wrote:
> From: Grzegorz Fitrzyk <grzes@centrum.pasjo.net.pl>
> 
> LONG l = rand() % (lm->lm_Layout.Width  - mw);
> LONG t = rand() % (lm->lm_Layout.Height - mh);
> 
> I don't know why t variable is'nt changing. 

Are you using srand() to seed the random number generator?

  Rod

@ENDNODE
@NODE "Mail_97" " Re: within a tri "
From: Linus McCabe <sparkle@hehe.com>
Date: 10-13-99 20:17:26
Subject: @{b}Re: within a tri@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 13-Oct-99, Steffen wrote:

> From: Steffen <steffen.mars@stenloese.mail.telia.com>
> 
> Hello Linus
> 
> 1. Find the left, middle and right points of the triangle, let's
> etc etc


thanks! Ill try it out and tell you how well it works!

/Linus

-- 
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://sparkle.amiga.tm

Tell me true, tell me why, was Jesus crucified.  Was it for this that
daddy died?  Was is you, was it me, did I watch too much TV?  Is that
hint of accusation in your eyes?

@ENDNODE
@NODE "Mail_98" " Re: Guru:8000000B "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-13-99 22:24:49
Subject: @{b}Re: Guru:8000000B@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Tue, Oct 12, 1999 at 01:51:32PM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> Guru no 8000000B is EXCPT11: line 1111 emulator. What in gods name does it
> mean. I thought this guru and 8000000A line 1010 emulator were caused by
> trying to use FPU instructions on a machine with no FPU. How come I get them
> on my 040?

Opcodes beginning with 1010 ($A) have never been valid.  MacOS/68K
uses them for system calls.  Opcodes beginning with 1111 ($F) are only
valid if the co-processor field of the opcode is 0000 (for the MMU) or
0001 (for the FPU).

If you corrupt the stack or certain other structures, you can cause
the processor to jump to a wrong address later on, where it finds
invalid opcodes.  This is the usual cause of exceptions 4, 10 and 11
(alert numbers $80000004, $8000000A, $8000000B).

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
friends: People who know you well, but like you anyway.

@ENDNODE
@NODE "Mail_99" " Re: within a tri "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-13-99 23:18:45
Subject: @{b}Re: within a tri@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Tue, Oct 12, 1999 at 11:13:45PM +0200, Linus McCabe wrote:
> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> Hello.. Is there a good algorithm to find out wether a point is within
> a triangle?
> I have the triangle cornerpoint coords and obviously the point coord. 
> 
> Right now I'm checking wether the angle between the line from a
> cornerpoint to the point is within the angles of the lines from
> corner point to the other cornerpoints. 

Here's a general solution for a polygon:

Consider a straight line from outside the polygon to the point, and
work out how many of the polygon's edges it crosses.  If the number is
odd, the point is inside the polygon.  (In the case of a triangle, you
just need to test whether the number is 1.)

For simplicity, the straight line can be a semi-infinite horizontal
line from negative infinity.  Suppose the point to be tested is at
(x,y), and you need to test whether this straight line crosses an edge
of the polygon joining (x1,y1) and (x2,y2), arranged so that y1 > y2.
Then the condition is:

    y1 > y && y > y2 && (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)

The last inequality is derived from a calculation of the X co-ordinate
at which the lines would cross if the semi-infinite line was extended
to be infinite.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
friends: People who know you well, but like you anyway.

@ENDNODE
@NODE "Mail_100" " Re: Guru:8000000B "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-13-99 23:34:47
Subject: @{b}Re: Guru:8000000B@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Ben Hutchings wrote this on 13-Oct-99 at 22:24:49
 Hi Ben 

-> Opcodes beginning with 1010 ($A) have never been valid.  MacOS/68K
-> uses them for system calls.  Opcodes beginning with 1111 ($F) are only
-> valid if the co-processor field of the opcode is 0000 (for the MMU) or
-> 0001 (for the FPU).

That was what I wanted to know. I knew it was generally caused by a
misdirected branch or jump. Now how about 80000003 address error, which
should only occur on 68000/010 according to my documentation? I get this one
on my 040 as well. I only ask out of general interest.
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_101" " Re: within a tri "
From: Linus McCabe <sparkle@hehe.com>
Date: 10-14-99 06:28:58
Subject: @{b}Re: within a tri@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 14-Oct-99, Ben Hutchings wrote:

> Here's a general solution for a polygon:
> etc

thanks!

even better and simpler... thanks!

/Linus

-- 
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://sparkle.amiga.tm

With Gates, Windows and Walls there is no freedom

@ENDNODE
@NODE "Mail_102" " Re: VBCC and rand() bug ? "
From: Grzegorz Fitrzyk <grzes@centrum.pasjo.net.pl>
Date: 10-14-99 08:08:14
Subject: @{b}Re: VBCC and rand() bug ?@{ub}

From: Grzegorz Fitrzyk <grzes@centrum.pasjo.net.pl>

On 13-Oct-99, you wrote:

>> LONG l = rand() % (lm->lm_Layout.Width  - mw);
>> LONG t = rand() % (lm->lm_Layout.Height - mh);
>> 
>> I don't know why t variable is'nt changing. 
> 
> Are you using srand() to seed the random number generator?

Yes. In main is the line:

srand(time(0));

So it seems correct. Strange is that VBCC have problem with it but
SASC don't. I found something else with this. I put printf after t
variables:

printf("Height=%ld Width=%ld\n",t,l);

and it was working but when I remove printf line no matter is t or l
first the t variable is constant :( Maybe I'm a fool but I don't
understand it.

-- 
Regards, *Grzegorz Fitrzyk SP9WUN*.
<tsb>
<sb>grzes@centrum.pasjo.net.pl  http://centrum.pasjo.net.pl/~grzes

@ENDNODE
@NODE "Mail_103" " RE: Re: VBCC and rand() bug ? "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 10-14-99 11:24:00
Subject: @{b}RE: Re: VBCC and rand() bug ?@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>


> From: Grzegorz Fitrzyk <grzes@centrum.pasjo.net.pl>
> 
> On 13-Oct-99, you wrote:
> 
> >> LONG l = rand() % (lm->lm_Layout.Width  - mw);
> >> LONG t = rand() % (lm->lm_Layout.Height - mh);
> >> 
> >> I don't know why t variable is'nt changing. 
> > 
> > Are you using srand() to seed the random number generator?
> 
> Yes. In main is the line:
> 
> srand(time(0));
> 
> So it seems correct. Strange is that VBCC have problem with it but
> SASC don't. I found something else with this. I put printf after t
> variables:
> 
> printf("Height=%ld Width=%ld\n",t,l);
> 
> and it was working but when I remove printf line no matter is t or l
> first the t variable is constant :( Maybe I'm a fool but I don't
> understand it.

Have you inspected the output-assembler source? If not, generate two
copies, one where it works(by perhaps swapping the statements), and
one where the bugs appear.. Then it should be rather easy to spot the
bug, and where it originates from... (Check the help on vc to see
how to stop at the source-generation and skip assembling&linking)

(I could check that out if you're low on assembler-language knowledge,
just send me both generated sources(reduced as much as possible ofcoz
and I'll hopefully spot what's wrong :))

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_104" " Re: Re: VBCC and rand() bug ? "
From: Laura Vance <vancel@amiga.nols.com>
Date: 10-14-99 14:21:13
Subject: @{b}Re: Re: VBCC and rand() bug ?@{ub}

From: Laura Vance <vancel@amiga.nols.com>

On Thu, 14 Oct 1999 09:08:14 +0200,
Grzegorz Fitrzyk <grzes@centrum.pasjo.net.pl> wrote about [amiga-c] Re:
VBCC and rand() bug ?:
>From: Grzegorz Fitrzyk <grzes@centrum.pasjo.net.pl>
>
>On 13-Oct-99, you wrote:
>
>>> LONG l = rand() % (lm->lm_Layout.Width  - mw);
>>> LONG t = rand() % (lm->lm_Layout.Height - mh);
>>> 
>>> I don't know why t variable is'nt changing. 
>> 
>> Are you using srand() to seed the random number generator?
>
>Yes. In main is the line:
>
>srand(time(0));
>
>So it seems correct. Strange is that VBCC have problem with it but SASC
>don't. I found something else with this. I put printf after t variables:
>
>printf("Height=%ld Width=%ld\n",t,l);
>
>and it was working but when I remove printf line no matter is t or l first
>the t variable is constant :( Maybe I'm a fool but I don't understand it.
>

I had a problem like that at one point, it was a while back, but I ended up
changing the way that I seeded the srand() function.  I changed from using
the compiler specific time() function to using the CurrentTime() function
from the Intuition.library.  The section of code is similar to the
following.


ULONG rndx, bogus;


CurrentTime(&rndx,&bogus);

srand(rndx);


This sequence also causes no enforcer hits and the number that sets the
seed is always different.  The reason that the seed has to be different is
that if you seed it with the same number, the sequence will be the same....
but I'm pretty sure that you already knew that.  (c;

Laura


-- 
      \|/
     (o o)
---ooO(_)Ooo---
   Peekaboo!!

@ENDNODE
@NODE "Mail_105" " Re: SetFunction() "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 10-14-99 15:00:54
Subject: @{b}Re: SetFunction()@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Tim,

On 13-Oct-99, you wrote:

> It`s this thats giving me the problems. The function is definetily
> patched as if I define the new function as just returning FALSE
> anything that uses ASLRequest behaves as if the user had pressed
> cancel. However I thought that SetFunction() returned the address of
> the original function. Is this the case or not?

This is correct, I've just checked the autodocs and this is what it
says:

 RESULT
     oldFunc    - pointer to the old function that was just replaced


Don't forget that your patch must be thread safe.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
Handcuffs.... for a truely binding relationship.

@ENDNODE
@NODE "Mail_106" " MUI & Private Custom/SubClasses "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 10-14-99 16:39:57
Subject: @{b}MUI & Private Custom/SubClasses@{ub}

Hello,
    I'm working on a program which uses numerous custom/subclasses that i've
created (I use dice-c 3.16) however my problem arises when using MUI-Prefs
to change settings. At first all my custom class methods (New,Dispose,etc)
where just declareds a ULONG mNew(...., but the MUI-prefs crashed as soon
as i clicked any buttton within a group (selecting a section from the
listview worked fine). Then I put __geta4 (equivalent of __saveds in other
compilers, i think) and the prefs work ok until i try to save them or use
them. And this happens with every class i create. Ive tried everthing i can
think of such as increasing the stack size but it just doenst seem to make
any difference. I was wondering if there are any methods that a custom
class recieves when prefs are changed but i can't find any mention of this
in the MUI-Dev.guide or the MUI Autodocs.

Kind regards
    Trebor

BTW: tbr_mui.h includes DoSuperNew() and a few support routines for making
@ENDNODE
@NODE "Mail_107" " Re: Guru:8000000B "
From: Emanuele Cesaroni <emacesa@tin.it>
Date: 10-14-99 17:38:38
Subject: @{b}Re: Guru:8000000B@{ub}

From: Emanuele Cesaroni <emacesa@tin.it>

Hello alan

On 13-Ott-99, you wrote:

> From: "alan fullarton" <alan_fullarton@hotmail.com>
> 
> I'm wondering about this error as I get it once in a while
> (line 1111 emulator). I was writing a ray casting game and
> using WritePixelArray8() and WriteChunkyPixels() made me think
> it was the cause of the my errors, I think I was putting in bad
> data but I don't know for sure.
> 
> Alan Fullarton
> 
> 

I don' t know if this can solve your problem, but some time ago i fell in an
error due by graphics.library/WriteChunkyPixel() function.
If graphics.library is <= v40 it has not a pointer to an hardware/software
system conversion, so on v3.0 this function does nothing, leaving the bitmap
intact.
On v3.1 this exists and the conversion is well done. 

Be sure of you graphics.library's version.

Bye.
Emanuele.

@ENDNODE
@NODE "Mail_108" " ASL Filerequester problems "
From: DonaldWM@stonelawdrive.freeserve.co.uk
Date: 10-14-99 19:39:45
Subject: @{b}ASL Filerequester problems@{ub}

From: DonaldWM@stonelawdrive.freeserve.co.uk

I have written a program which displays a window and when a menu item is chosen, opens an ASL filerequester and loads the selected file if it is the correct format. Until yesterday it worked but now the program crashes. The Guru produced(if run from workbench) is 8000000B (using FPU opcodes without having an FPU). Problem is that I do have an FPU and I am not using any FPU instructions.
If the program is run from within StormC 3.0 then the debugger informs me that my program caused 'Exception 11'. Does anyone know what that means?

This program is in fact a combination of two programs both of which loaded the file in the same way. Both worked when they were seperate. I have checked the code of the amalgamated program's load function against the same function in one of the seperate programs and it is 100% identical.
Here's a bit of my source:

// My Load function

// All of these includes are necessary
#include <exec/types.h>
#include <exec/memory.h>
#include <clib/asl_protos.h>
#include <clib/dos_protos.h>
#include <clib/exec_protos.h>
#include <clib/intuition_protos.h>
#include <clib/gadtools_protos.h>
#include <clib/graphics_protos.h>
#include <graphics/gfxmacros.h>
#include <graphics/GfxBase.h>
#include <intuition/gadgetclass.h>
#include <intuition/intuition.h>
#include <intuition/IntuitionBase.h>
#include <libraries/asl.h>
#include <libraries/dos.h>
#include <libraries/gadtools.h>
#include <string.h>
#include <stdlib.h>
#include <stdio.h>

// This is the file requester

struct TagItem frtags[] =
{
    ASLFR_TitleText,         (ULONG)"CycleDataBase File Requester",
    ASLFR_InitialHeight,     MYHEIGHT,
    ASLFR_InitialWidth,      MYWIDTH,
    ASLFR_InitialLeftEdge,   MYLEFTEDGE,
    ASLFR_InitialTopEdge,    MYTOPEDGE,
    ASLFR_PositiveText,      (ULONG)"Okay",
    ASLFR_NegativeText,      (ULONG)"Cancel",
    ASLFR_DoPatterns,        TRUE,
    ASLFR_InitialPattern,    (ULONG)"#?.cdb",
    TAG_DONE
};

/*
** Function for loading the database from a file.
*/

/* The only difference from past uses of this function is that the second parameter has not been passed to this function before.*/

int load(struct Window *mywin, struct Gadget *my_gads[])
{
// Various variables
    struct FileHandle *file_handle;
    struct FileRequester *fr;
    char destbuf[100];
    char datebuf[8];
    char path[255];
    int rec_count = 0;
    char header[7];
    int other_data[14];
    int count;
    int recors = 0;

    // Open file requester and use returned name as filename
    if (AslBase = OpenLibrary("asl.library", 37L))
    {
// The program crashes when executing the next line
        if (fr = (struct FileRequester *)
            AllocAslRequest(ASL_FileRequest, frtags))
// Program has crashed.
        {
            if (AslRequest(fr, NULL))
            {
                strcpy(path, fr->rf_Dir);
                AddPart(path, fr->rf_File, 255);
            }
            FreeAslRequest(fr);
        }
        else
        {
            CloseLibrary(AslBase);

            // Display Requester - Cannot open file requester
            EasyRequest(NULL, &nofilerequester, NULL);

            return(0);
        }

        CloseLibrary(AslBase);
    }
    else
    {
        // Display Requester - Cannot open Asl Library
        EasyRequest(NULL, &noasl, NULL);

        return(0);
    }

// The Load function continues...

Any ideas, anyone?

@ENDNODE
@NODE "Mail_109" " Re: ASL Filerequester problems "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 10-14-99 22:11:25
Subject: @{b}Re: ASL Filerequester problems@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello DonaldWM@stonelawdrive.freeserve.co.uk

On 14-Oct-99, DonaldWM@stonelawdrive.freeserve.co.uk wrote:
> From: DonaldWM@stonelawdrive.freeserve.co.uk
> 
> I have written a program which displays a window and when a menu item is
> chosen, opens an ASL filerequester and loads the selected file if it is the
> correct format. Until yesterday it worked but now the program crashes.
> 
> This program is in fact a combination of two programs both of which loaded
> the file in the same way. Both worked when they were seperate. I have
> checked the code of the amalgamated program's load function against the same
> function in one of the seperate programs and it is 100% identical.

Sounds like a stack problem. Try raising the stack and see if it works then.

long __stack = 32768;

  Rod

@ENDNODE
@NODE "Mail_110" " Re: ASL Filerequester problems "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 10-14-99 23:53:04
Subject: @{b}Re: ASL Filerequester problems@{ub}

From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>

On 14-Okt-99 DonaldWM@stonelawdrive.freeserve.co.uk wrote:

> The Guru produced(if run from workbench) is 8000000B (using FPU opcodes
> without having an FPU). Problem is that I do have an FPU and I am not
> using any FPU instructions. If the program is run from within StormC 3.0
> then the debugger informs me that my program caused 'Exception 11'. Does
> anyone know what that means?

Exception 11 and Guru 8000000B is the same.

Bye, Chris

-- 
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Computer-BILD:
"Sollte Ihr Monitor nichts anzeigen, schalten Sie Ihn bitte ein."

@ENDNODE
@NODE "Mail_111" " Re: Re: Guru:8000000B "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-15-99 00:29:13
Subject: @{b}Re: Re: Guru:8000000B@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Oct 13, 1999 at 11:34:47PM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Ben Hutchings wrote this on 13-Oct-99 at 22:24:49
>  Hi Ben 
> 
> -> Opcodes beginning with 1010 ($A) have never been valid.  MacOS/68K
> -> uses them for system calls.  Opcodes beginning with 1111 ($F) are only
> -> valid if the co-processor field of the opcode is 0000 (for the MMU) or
> -> 0001 (for the FPU).
> 
> That was what I wanted to know. I knew it was generally caused by a
> misdirected branch or jump. Now how about 80000003 address error, which
> should only occur on 68000/010 according to my documentation? I get this one
> on my 040 as well. I only ask out of general interest.

Your documentation is wrong.  Although the 68020 and later processors
do not require data accesses to be word-aligned, they do require
instructions to be word-aligned.  If an odd address gets loaded into
the program counter (which, again, would usually be the result of
stack corruption) then you will get this error.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Win95 and Win98 are not the systems to use if you are in a hostile security
environment... the Internet is a hostile environment. - Paul Leach, Microsoft

@ENDNODE
@NODE "Mail_112" " Re: within a tri "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-15-99 15:51:01
Subject: @{b}Re: within a tri@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 14-Oct-99, Ben Hutchings wrote:

>> Hello.. Is there a good algorithm to find out wether a point is within
>> a triangle? [...]
> Here's a general solution for a polygon:
> [...]
> y1 > y && y > y2 && (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)

You probably wanted to write:

  y1 > y && y >= y2 && (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)

So that the uppermost point of the polygons line is also taken into
considuration, otherwise the total count of passed lines will be zero, when
the semi-infinite line leaves in the joining of two polygon lines...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
I think that God in creating man somewhat overestimated his ability.
-- Oscar Wilde

@ENDNODE
@NODE "Mail_113" " Re: MUI & Private Custom/SubClasses "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-15-99 22:13:23
Subject: @{b}Re: MUI & Private Custom/SubClasses@{ub}

On 14-Oct-99, David Arbuthnot wrote:

> [...] the prefs work ok until i try to save them or use
> them. And this happens with every class i create.

SHould the attached source show this problem? I compiled it with StormC and
everything works fine here. I attached the executable.

> [...] I was wondering if there are any methods that a custom
> class recieves when prefs are changed [...]

No - MUI simply invokes Hide, Cleanup (change settings) and then Setup, Show.
So just retrieve your config in MUIM_Setup and everything should work fine.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Reality is for people who lack imagination.
@ENDNODE
@NODE "Mail_114" " Re: MUI & Private Custom/SubClasses "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 10-16-99 01:52:56
Subject: @{b}Re: MUI & Private Custom/SubClasses@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello Allan

On 15-Oct-99, you wrote:

> On 14-Oct-99, David Arbuthnot wrote:
> 
>> [...] the prefs work ok until i try to save them or use
>> them. And this happens with every class i create.
> 
> SHould the attached source show this problem? I compiled it with StormC
> and everything works fine here. I attached the executable.
> 
> Regards Allan

Thanks for your help but I have figured out my problem and to be honest it's
quite embarassing :-). My stack size in my icons was not large enough it
was 8k but changing it to 16k means it works fine. I figured this out after
downloading the NList0_89.lha archive from aminet and trying to run the
demo (I got a requester saying the stack was not large enough. Also i
thought that the LONG __stack = 8912 set the stack size for the program
whatever the stacksize the icon had.

Regards
    Dave `Trebor' Arbuthnot

@ENDNODE
@NODE "Mail_115" " Re: Re: within a tri "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-16-99 05:34:31
Subject: @{b}Re: Re: within a tri@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Oct 15, 1999 at 04:51:01PM +0200, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 14-Oct-99, Ben Hutchings wrote:
> 
> >> Hello.. Is there a good algorithm to find out wether a point is within
> >> a triangle? [...]
> > Here's a general solution for a polygon:
> > [...]
> > y1 > y && y > y2 && (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)
> 
> You probably wanted to write:
> 
>   y1 > y && y >= y2 && (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)
> 
> So that the uppermost point of the polygons line is also taken into
> considuration, otherwise the total count of passed lines will be zero, when
> the semi-infinite line leaves in the joining of two polygon lines...

Ah yes, I did briefly think about the case of equality, and then
forgot to deal with it.  That solves the main problem.  I hope it
doesn't matter whether points on the perimeter of the polygon are
counted in or out.  At the present time I'm too tired to figure out
what the result of this test will be for such points.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
The two most common things in the universe are hydrogen and stupidity.

@ENDNODE
@NODE "Mail_116" " Re: within a tri "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 10-16-99 15:27:17
Subject: @{b}Re: within a tri@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

Hello Ben

On 16-Oct-99, Ben Hutchings claimed:
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> On Fri, Oct 15, 1999 at 04:51:01PM +0200, Allan Odgaard wrote:
>> From: Allan Odgaard <Duff@DIKU.DK>
>> 
>> On 14-Oct-99, Ben Hutchings wrote:
>> 
>>>> Hello.. Is there a good algorithm to find out wether a point is within
>>>> a triangle? [...]
>>> Here's a general solution for a polygon:
>>> [...]
>>> y1 > y && y > y2 && (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)
>> 
>> You probably wanted to write:
>> 
>>   y1 > y && y >= y2 && (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)
>> 
>> So that the uppermost point of the polygons line is also taken....
> 
> Ah yes, I did briefly think about the case of equality....

Hmm, didn't know that one (smart:). It seems to work allthough i'm not sure why. However, wouldn't it be:
y1 > =y && y >= y2 && (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)    ?

Also, as far as i can see, the formula is used to determine wether a point is 'below' or 'above' a line. If the lines (triangle in this case) is static, it seems to me that it would be faster to first calculate the formula of the line replacing the
 (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)
with
x*a+o<y
where a and o would be constants (as long as the line doesn't change, and not ment as a storage class ):
a= (y2-y1)/(x2-x1)
o= y1-x1*a

Or did i miss the point ?


CYA

@ENDNODE
@NODE "Mail_117" " Re: ASL Filerequester Problems "
From: DonaldWM@stonelawdrive.freeserve.co.uk
Date: 10-16-99 19:19:43
Subject: @{b}Re: ASL Filerequester Problems@{ub}

From: DonaldWM@stonelawdrive.freeserve.co.uk

I have tried using the stack increasing line (as suggested here several days ago) in my program and have also increased the stack from workbench before running the program, but it still crashes. Nevertheless, my own investigations suggest the stack may have something to do with it.

I have installed and used Enforcer for the first time in my life and if I have decifered the output correctly then this is what it said:

When the line in my program which attempts to create the file requester is called, the requester taglist (a longword) is moved onto the stack (pointed to by Register A7). At this point the crash occurs. Enforcer says that the program counter is invalid.
My program generates more enforcer hits than can be tracked before the 8000000B Guru.

Does this help at all?

@ENDNODE
@NODE "Mail_118" " Re: ASL Filerequester Problems "
From: Linus McCabe <sparkle@hehe.com>
Date: 10-16-99 20:20:24
Subject: @{b}Re: ASL Filerequester Problems@{ub}

From: Linus McCabe <sparkle@hehe.com>


I compiled your load() function and it worked without crash and
without any other problems... 
Get stackwatch or similar from aminet and check your stack usage...
what compiler are you using?

are you sure thats where the crash occurs?

/Linus

-- 
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://sparkle.amiga.tm

Not until the last tree is gone, the last river is poisoned
and the last fish have died will you understand that you can't eat
money

@ENDNODE
@NODE "Mail_119" " Re: ASL Filerequester Problems "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-17-99 00:24:55
Subject: @{b}Re: ASL Filerequester Problems@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 16-Oct-99, DonaldWM@stonelawdrive.freeserve.co.uk wrote:

> When the line in my program which attempts to create the file requester is
> called [...]
> Does this help at all?

I think seeing the code is the easiest way to help you :-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
People will pay *big bucks* for the luxury of ignorance.

@ENDNODE
@NODE "Mail_120" " Re: ASL Filerequester Problems "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 10-17-99 00:33:52
Subject: @{b}Re: ASL Filerequester Problems@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello DonaldWM@stonelawdrive.freeserve.co.uk

On 16-Oct-99, DonaldWM@stonelawdrive.freeserve.co.uk wrote:
> From: DonaldWM@stonelawdrive.freeserve.co.uk
> 
> I have tried using the stack increasing line (as suggested here several days
> ago) in my program and have also increased the stack from workbench before
> running the program, but it still crashes. Nevertheless, my own
> investigations suggest the stack may have something to do with it.
> 

You did declare __stack as a global variable initialized at compile time,
right? It's also possible that __stack isn't supported by compilers other
than SAS/C and it wouldn't work with SAS/C either if you're using custom
startup code that doesn't support it.

  Rod

@ENDNODE
@NODE "Mail_121" " zero page "
From: troy silvey <tbsilvey@juno.com>
Date: 10-17-99 16:32:07
Subject: @{b}zero page@{ub}

From: troy silvey <tbsilvey@juno.com>

Way back in my asm days when 2 mhz was fast, zero page
addressing was a big deal. Is it still easily possible with
C/C++ to take advantage of zero page addressing technics?


troy

___________________________________________________________________
Get the Internet just the way you want it.
Free software, free e-mail, and free Internet access for a month!
Try Juno Web: http://dl.www.juno.com/dynoget/tagj.

@ENDNODE
@NODE "Mail_122" " Re: ASL filerequester problems "
From: Donald W Millican <DonaldWM@stonelawdrive.freeserve.co.uk>
Date: 10-17-99 17:31:51
Subject: @{b}Re: ASL filerequester problems@{ub}

As suggested I am making my source code available to this discussion group. I did not intend for it to be freely available and so I am only giving the readers of this message the URL to download the source.
The URL is: http://amigacomputer.cjb.net/programs/source.html - enter it exactly and do not try to navigate to the page via my website as you can't. I would appreciate if whoever downloads this source doesn't spread it.
My compiler is StormC 3.0 and I compile for the 68020 processor.
I actually have a 68060, but if I compile for the '020 then most people can run the executable.

The code is somewhat large but (I hope) well commented. The load function is in the CycleDBaseWindow.c file.
As a reference I will also include the source for my Advanced Search program. It too contains the load function (with a few changes), but this program doesn't crash.
The crashes came about when I merged this program with the Aminet version of CycleDBse.

Good luck to those who take up the challenge of understanding my code.
If you have any questions then email me at: DonaldWM@stonelawdrive.freeserve.co.uk
I can't promise an immediate response but I'll try to keep up to date with developments on this topic.

@ENDNODE
@NODE "Mail_123" " Re: zero page "
From: troy silvey <tbsilvey@juno.com>
Date: 10-17-99 20:41:52
Subject: @{b}Re: zero page@{ub}

From: troy silvey <tbsilvey@juno.com>

>Zero pages dont exist on amy, the closest thing is probably using
>disp.w(An) which most compilers do anyway.
>
>Addr.w is prob faster than Addr.l ~= zero page, but using the first 
>64k directly would most likely invoke severe bitchslapping from most 
>readers on this list...

:} thanks for the warning and info. This mainly concerns using C
instead of ASM on a 65xx emulator. Hence the zero page question. 
A bit off topic, but it envoles using a c64 emulator on the ami.
Allan O. gave me a chuckel by asking "what is zero page" :)
Yup, I have been away that long.
For those who need clarification...
Zero page is address space 0 - 256 addressed by a 65xx processor.
On a 32 bit machine like the ami it is the first 64k area. But I don't
know
if it is still called zero page in the newer machines.
Operations performed on this space takes fewer cycles to execute,
speeding up your code a bit.
I was just curious how this special area could be handled by C code.
In ASM it is easy to do. But I'm no expert at C.

thanks
troy

___________________________________________________________________
Get the Internet just the way you want it.
Free software, free e-mail, and free Internet access for a month!
Try Juno Web: http://dl.www.juno.com/dynoget/tagj.

@ENDNODE
@NODE "Mail_124" " Re:zero page "
From: troy silvey <tbsilvey@juno.com>
Date: 10-17-99 20:44:24
Subject: @{b}Re:zero page@{ub}

From: troy silvey <tbsilvey@juno.com>

>> Way back in my asm days when 2 mhz was fast, zero page
>> addressing was a big deal [...]
>
>What is zero page addressing?

Guess I have been away longer than I thought :)
A bit off topic, but it envoles using a c64 emulator on the ami.
For those who need clarification...
Zero page is address space 0 - 256 addressed by a 65xx or other 8 bit
processors. The first 256 bytes.
On a 32 bit machine like the ami it is the first 64k area. But I
don't know if it is still called zero page in the newer CPU's
Operations performed on this space takes fewer cycles to execute,
speeding up your code a bit. On the 65xx's anyway, not sure on other
CPU's.
I don't recall if this was useful on things like the Z80's or 8088's
Don't think so. It think it was a motorolla and MOS thing.
I was just curious how this special area could be handled by C code.
In ASM it is easy to do. But I'm no expert at C.

thanks
troy

___________________________________________________________________
Get the Internet just the way you want it.
Free software, free e-mail, and free Internet access for a month!
Try Juno Web: http://dl.www.juno.com/dynoget/tagj.

@ENDNODE
@NODE "Mail_125" " Re: within a tri "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-17-99 20:46:14
Subject: @{b}Re: within a tri@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 16-Oct-99, Steffen wrote:

>> [...]
> Hmm, didn't know that one (smart:). It seems to work allthough i'm not sure
> why. However, wouldn't it be: y1 > =y && y >= y2 && (x1*(y-y2) + x2*(y1-y)) <
> x*(y1-y2) ?

No. Then you'd take both the upper and lower point of each line into your
calculation, so when the virtual line leaves exactly where two lines join,
you'd count both of them, giving an even end-result. You only want to count
one of them.

> [...] If the lines (triangle in this case) is static, it seems to me that it
> would be faster to first calculate [...]
> a= (y2-y1)/(x2-x1)
> o= y1-x1*a
> Or did i miss the point ?

I'm not sure how you obtained that result. Though if it's correct then there's
the problem that you've introduced a division in the constant 'a', which will
give you a round off error in the end result. If you really need the extra
cycles then it should be possible to reduce the expression, using dx & dy.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
The only thing that stops God from sending another flood is that the first one
was useless.
-- Chamfort

@ENDNODE
@NODE "Mail_126" " Re: zero page "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-17-99 21:05:53
Subject: @{b}Re: zero page@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 17-Oct-99, troy silvey wrote:

> Way back in my asm days when 2 mhz was fast, zero page
> addressing was a big deal [...]

What is zero page addressing?

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Man will occasionally stumble over the truth, but most times he will pick
himself up and carry on...
-- Winston Churchill

@ENDNODE
@NODE "Mail_127" " Re: zero page "
From: Nicholas Clarke <nclarke@diku.dk>
Date: 10-17-99 22:43:29
Subject: @{b}Re: zero page@{ub}

From: Nicholas Clarke <nclarke@diku.dk>

On Sun, 17 Oct 1999, troy silvey wrote:

> From: troy silvey <tbsilvey@juno.com>
> 
> Way back in my asm days when 2 mhz was fast, zero page
> addressing was a big deal. Is it still easily possible with
> C/C++ to take advantage of zero page addressing technics?

Zero pages dont exist on amy, the closest thing is probably using
disp.w(An) which most compilers do anyway.

Addr.w is prob faster than Addr.l ~= zero page, but using the first 64k
directly would most likely invoke severe bitchslapping from most readers
on this list...

/ngc

@ENDNODE
@NODE "Mail_128" " Re: Re: within a tri "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-18-99 00:31:21
Subject: @{b}Re: Re: within a tri@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sat, Oct 16, 1999 at 04:27:17PM +0200, Steffen wrote:
> From: Steffen <steffen.mars@stenloese.mail.telia.com>
> 
> Hello Ben
> 
> On 16-Oct-99, Ben Hutchings claimed:
> > From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> > 
> > On Fri, Oct 15, 1999 at 04:51:01PM +0200, Allan Odgaard wrote:
> >> From: Allan Odgaard <Duff@DIKU.DK>
> >> 
> >> On 14-Oct-99, Ben Hutchings wrote:
> >> 
> >>>> Hello.. Is there a good algorithm to find out wether a point is within
> >>>> a triangle? [...]
> >>> Here's a general solution for a polygon:
> >>> [...]
> >>> y1 > y && y > y2 && (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)

This gets no intersections if the point has the same y co-ordinate
as a vertex.

> >> You probably wanted to write:
> >> 
> >>   y1 > y && y >= y2 && (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)
> >> 
> >> So that the uppermost point of the polygons line is also taken....

This gets one (which is what we want).

> > Ah yes, I did briefly think about the case of equality....
> 
> Hmm, didn't know that one (smart:). It seems to work allthough i'm
> not sure why. However, wouldn't it be: y1 > =y && y >= y2 &&
> (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2) ?

This gets two intersections - just as bad as getting none.

> Also, as far as i can see, the formula is used to determine wether a
> point is 'below' or 'above' a line.

OK, full explanation here.

Here are the four possible configurations of the three points (point
being tested and two vertices of the polygon):

(a)
_______.(x, y)

    . (x1, y1)
     \
      \
       \. (x2, y2)

    Our test point is too far `up'.  We can eliminate this by
    testing that  y1 > y.

(b) . (x1, y1)
     \
      \
       \. (x2, y2)

_____.(x, y)

    Our test point is too far `down'.  We can eliminate this by
    testing that y >= y2.

(c)    . (x1, y1)
        \ 
_______. \
 (x, y)   \. (x2, y2)

    Our test point is too far to the `left'.

(d) . (x1, y1)
     \ 
______\__. (x, y)
       \. (x2, y2)

We distinguish between cases (c) and (d) by calculating where the
infinite extension of our imaginary line would cross the side of the
polygon, and testing whether this point is within the part of the line
we're considering (i.e. to the `left' of (x, y)).  The condition I
wrote comes from simple linear interpolation and then rearrangement
to avoid divison (which is an inexact and expensive operation).

> If the lines (triangle in this case) is static, it seems to me that
> it would be faster to first calculate the formula of the line
> replacing the

I don't think they're likely to be static.

>  (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)
> with
> x*a+o<y
> where a and o would be constants (as long as the line doesn't
> change, and not ment as a storage class ):
> a= (y2-y1)/(x2-x1)
> o= y1-x1*a
> Or did i miss the point ?

You may be thinking too much like a mathematician and forgetting some
of the problems of computer arithmetic. ;-)

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Man invented language to satisfy his deep need to complain. - Lily Tomlin

@ENDNODE
@NODE "Mail_129" " Re: Re: ASL filerequester problems "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-18-99 00:36:12
Subject: @{b}Re: Re: ASL filerequester problems@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, Oct 17, 1999 at 05:31:51PM +0100, Donald W Millican wrote:
> As suggested I am making my source code available to this discussion
> group. I did not intend for it to be freely available and so I am
> only giving the readers of this message the URL to download the
> source.
<snip>

FFS, who do you think wants to steal your code?  You're already told
us it's broken!

Furthermore, you shouldn't expect us to look through it and do all
your work for you.  Isolate the part that's going wrong, and post that
instead.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Man invented language to satisfy his deep need to complain. - Lily Tomlin

@ENDNODE
@NODE "Mail_130" " Re: within a tri "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 10-18-99 07:08:24
Subject: @{b}Re: within a tri@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

Hello Ben

On 18-Oct-99, Ben Hutchings claimed:
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> On Sat, Oct 16, 1999 at 04:27:17PM +0200, Steffen wrote:
>> From: Steffen <steffen.mars@stenloese.mail.telia.com>
>> 
>> Hello Ben
>> 
>> On 16-Oct-99, Ben Hutchings claimed:
>>> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
>>> 
>>> On Fri, Oct 15, 1999 at 04:51:01PM +0200, Allan Odgaard wrote:
>>>> From: Allan Odgaard <Duff@DIKU.DK>
>>>> 
>>>> On 14-Oct-99, Ben Hutchings wrote:
>>>> 
>>>>>> Hello.. Is there a good algorithm to find out wether a point is within
>>>>>> a triangle? [...]
>>>>> Here's a general solution for a polygon:
>>>>> [...]
>>>>> y1 > y && y > y2 && (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)
> 
> This gets no intersections if the point has the same y co-ordinate
> as a vertex.
> 
>>>> You probably wanted to write:
>>>> 
>>>>   y1 > y && y >= y2 && (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)
>>>> 
>>>> So that the uppermost point of the polygons line is also taken....
> 
> This gets one (which is what we want).
> 
>>> Ah yes, I did briefly think about the case of equality....
>> 
>> Hmm, didn't know that one (smart:). It seems to work allthough i'm
>> not sure why. However, wouldn't it be: y1 > =y && y >= y2 &&
>> (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2) ?
> 
> This gets two intersections - just as bad as getting none.

Ah so. Because we are working with multiple lines.

>> Also, as far as i can see, the formula is used to determine wether a
>> point is 'below' or 'above' a line.
> 
> OK, full explanation here.
>......

Thanks for a full explanation, allthough you could have skipped a and b (y1 > y && y >= y2). I might be a dimwit but not moronic (IMHO) ;-) 

> The condition I
> wrote comes from simple linear interpolation and then rearrangement
> to avoid divison (which is an inexact and expensive operation).

Ofcourse....With your formula, int might even suffice. I  certainly didn't take that into consideration.

>> If the lines (triangle in this case) is static, it seems to me that
>> it would be faster to first calculate the formula of the line
>> replacing the
> 
> I don't think they're likely to be static.

I wouldn't know. How would you know ? (retoric)

>>  (x1*(y-y2) + x2*(y1-y)) < x*(y1-y2)
>> with
>> x*a+o<y
>> where a and o would be constants (as long as the line doesn't
>> change, and not ment as a storage class ):
>> a= (y2-y1)/(x2-x1)
>> o= y1-x1*a
>> Or did i miss the point ?
> 
> You may be thinking too much like a mathematician and forgetting some
> of the problems of computer arithmetic. ;-)

You're absolutely right. Floating point would be needed for my routine, and thats a type that's not 100% precise, and also slower than int.
I suppose for a polygon, you would run your formula on all lines, counting the times a TRUE statement occurs, and if (times%2) then we're inside of the polygon (My formula would not be usefull with polygons more complex than a tri. .)


Until next time.....
O:-Q

@ENDNODE
@NODE "Mail_131" " Re: Re:zero page "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 10-18-99 07:38:08
Subject: @{b}Re: Re:zero page@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

Hello troy,

On 17-Oct-99, troy silvey claimed:
> From: troy silvey <tbsilvey@juno.com>
> 
>>> Way back in my asm days when 2 mhz was fast, zero page
>>> addressing was a big deal [...]
>> 
>> What is zero page addressing?
> 
> Guess I have been away longer than I thought :)
> A bit off topic, but it envoles using a c64 emulator on the ami.
> For those who need clarification...
> Zero page is address space 0 - 256 addressed by a 65xx or other 8 bit
> processors. The first 256 bytes.
> On a 32 bit machine like the ami it is the first 64k area. But I
> don't know if it is still called zero page in the newer CPU's
> Operations performed on this space takes fewer cycles to execute,
> speeding up your code a bit. On the 65xx's anyway, not sure on other
> CPU's.
> I don't recall if this was useful on things like the Z80's or 8088's

No such thing on a Z80. Wasn't it used on the 65xx because it had difficulties working with 16bit ? On Z80 (which  used 16bit internaly), the 8bit method is used for relative jumps (quick) and relative addressing (v.slow), but no real paging (register I was refering to 256b pages though)

> Don't think so. I think it was a motorolla and MOS thing.
> I was just curious how this special area could be handled by C code.
> In ASM it is easy to do. But I'm no expert at C.
> 
> thanks
> troy

I think you could just specify CODE=NEAR and DATA=NEAR (using SAS). I think this allows the addresses to be declared relatively to the PC reg, needing only 16bit instead of 32bit. This only goes for CISC, *NOT* RISC, as all operations takes the same amount of clockcycles on a RISC (like 603e). Btw., isn't it called mem-paging ?


CYA.

P.S. C=64 sux, CPC rules ;-)

@ENDNODE
@NODE "Mail_132" " Re: within a tri "
From: Linus McCabe <sparkle@hehe.com>
Date: 10-18-99 08:14:54
Subject: @{b}Re: within a tri@{ub}

From: Linus McCabe <sparkle@hehe.com>


I'd like to thank those of you who replied to my question it's been
interesting to read all the different answers and points of view.. I
find algorithm discussions in general interesting, does anyone know
of a newsgroup, mailinglist or homepage on the topic?

/Linus

-- 
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://sparkle.amiga.tm

I remember the good old days when there were still Led Zeppelin cds I
had not heard

@ENDNODE
@NODE "Mail_133" " Datatype Problem "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 10-18-99 09:21:01
Subject: @{b}Datatype Problem@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

Hello,
today I have a new problem with datatypes. I use the following function to
read a picture and to convert it to 24 Bit. The function works nicely on my
C=A4000T with CyberVision64 CyberGfx V3 and the V43 picture-datatype. I
tested with 8Bit GIF, 24 Bit JPeg and 4 Bit IFF-files.
On saturday I tried my program on my C=A1200 (OS3.0, only 2MB chip) My
program crashed.  ( I used the 8Bit GIF-picture on the A1200)
I found the reason was the line

       Pen=ReadPixel(&RastPort,x,y);  // get the Pennumber for each Pixel

because RastPort.BitMap is NULL.
I get this NULL in the line

 if(GetDTAttrs(dt, PDTA_BitMapHeader, &header, 
                    PDTA_BitMap,&BitMap,
                    PDTA_ColorRegisters,&ColorRegisters,
                    PDTA_ModeID,&DisplayID,        
                    TAG_DONE)==4)            // we requested 4 attributes


So why the hell I get NULL for PDTA_BitMap here? Why does it work on the
A4000 but dont work on the A1200? I tried to load the pictures with
multiview to test whether the datatypes are correctly installed and
multiview can display the pictures on the A1200.

Does anybody see the mistake here?



typedef struct
{
    UBYTE Alpha;
    UBYTE Rot;
    UBYTE Gruen;
    UBYTE Blau;
} TPixel;

TPixel *GetPicture (char *filename)
{
 Object *dt;
 TPixel *data=NULL;


 /* load picture */
 if(dt = NewDTObject(filename, DTA_GroupID, GID_PICTURE, PDTA_DestMode,
MODE_V43, TAG_DONE))
 {
  ULONG width, height, depth;
  struct BitMapHeader *header;
  struct BitMap *BitMap;
  ULONG DisplayID;
  struct ColorRegister *ColorRegisters;

  /* get the bitmap header(which contain dimension of picture and more */
  /* get the BitMap, ColorTable and DisplayID as well. We need it for
pictures <= 8 Bit */

  if(GetDTAttrs(dt, PDTA_BitMapHeader, &header, 
                    PDTA_BitMap,&BitMap,
                    PDTA_ColorRegisters,&ColorRegisters,
                    PDTA_ModeID,&DisplayID,        
                    TAG_DONE)==4)            // we requested 4 attributes
  {
   width = header->bmh_Width, height = header->bmh_Height,
depth=header->bmh_Depth;

  printf("%ld*%ld*%ld\n",width,height,depth);

   /* allocate some space for our 24 bit picture */

   if((data = (TPixel*)malloc(sizeof(TPixel)*width*height))!=NULL)
   {
    if(depth<=8)   // not Hight/True-Color
    {
     // We have to convert the Picture to 24-Bit 

     ULONG x,y,Pen;
     struct RastPort RastPort;    // ReadPixel needs a RastPort...
     InitRastPort (&RastPort);
     RastPort.BitMap=BitMap;      // the  BitMap of the DataType

     for(y=0;y<height;y++)
     {
      for(x=0;x<width;x++)
      {
       Pen=ReadPixel(&RastPort,x,y);  // get the Pennumber for each Pixel
       data[x+y*width].Alpha = 0;     // now we write the Colors to the
24-Bit data
       data[x+y*width].Rot   = ColorRegisters[Pen].red;
       data[x+y*width].Gruen = ColorRegisters[Pen].green;
       data[x+y*width].Blau  = ColorRegisters[Pen].blue;
      }
     } 
    }
    else           // Ok, Hight/True-Color
    {     
     /* copy the picture to our buffer, using colour format ARGB */
     const ULONG left = 0, top = 0, modulo=width*sizeof(TPixel);
     DoMethod(dt,DTM_READPIXELARRAY, data, RECTFMT_ARGB, modulo, left, top,
width, height);
    }
    /* you now have the picture in RGB format in the data-array */
  

     return (data);
   }
   else
   {
    printf("Malloc Data failed\n");
   }
  }
  else
  {
   printf(" GetDTAttrs failed\n"););
  }
  DisposeDTObject(dt);
 }
 else
 {
  printf("NewDTObject failed!\n");
  }
 return NULL;
}




Kind regards Alexander Fritsch

@ENDNODE
@NODE "Mail_134" " Re: ASL Filerequester problems "
From: Donald W Millican <DonaldWM@stonelawdrive.freeserve.co.uk>
Date: 10-18-99 21:18:03
Subject: @{b}Re: ASL Filerequester problems@{ub}

The function listed below is the one which is crashing, although the problem seems to be with using ASL filerequesters in general. When I attempt to create one in my program for loading or saving, the program crashes.
I know which line is causing the problem because in StormC 3.0, I placed a breakpoint on each of the first few lines and advanced one line at a time when debugging the program. When the computer attempted to execute the line:

if (fr = (struct FileRequester *) AllocAslRequest(ASL_FileRequest, frtags))

it crashed. This applies in both the Load and Save functions (which are identical apart from the fact that one loads and the other saves).
The Load function in CycleDBase is mostly the same as the load function in my seperate program  - Advanced Search. The Advanced Search function doesn't put record data into requesters and has only one parameter - the window.

struct TagItem frtags[] =

{

ASLFR_TitleText, (ULONG)"CycleDataBase File Requester",

ASLFR_InitialHeight, MYHEIGHT,

ASLFR_InitialWidth, MYWIDTH,

ASLFR_InitialLeftEdge, MYLEFTEDGE,

ASLFR_InitialTopEdge, MYTOPEDGE,

ASLFR_PositiveText, (ULONG)"Okay",

ASLFR_NegativeText, (ULONG)"Cancel",

ASLFR_DoPatterns, TRUE,

ASLFR_InitialPattern, (ULONG)"#?.cdb",

TAG_DONE

};

/*

** Function for loading the database from a file.

*/

int load(struct Window *mywin, struct Gadget *my_gads[])

{

struct FileHandle *file_handle;

struct FileRequester *fr;

char destbuf[100];

char datebuf[8];

char path[255];

int rec_count = 0;

char header[7];

int other_data[14];

int count;

int recors = 0;

// Clear arrays used for emptying destination and date fields

for(count=0; count<DESTLENGTH; count++)

destbuf[count] = '\0';

for(count=0; count<DATELENGTH; count++)

datebuf[count] = '\0';

// Open file requester and use returned name as filename

if (AslBase = OpenLibrary("asl.library", 37L))

{

if (fr = (struct FileRequester *)

AllocAslRequest(ASL_FileRequest, frtags))

{

if (AslRequest(fr, NULL))

{

strcpy(path, fr->rf_Dir);

AddPart(path, fr->rf_File, 255);

}

FreeAslRequest(fr);

}

else

{

CloseLibrary(AslBase);

// Display Requester - Cannot open file requester

EasyRequest(NULL, &nofilerequester, NULL);

return(0);

}

CloseLibrary(AslBase);

}

else

{

// Display Requester - Cannot open Asl Library

EasyRequest(NULL, &noasl, NULL);

return(0);

}

/* Try to open file chosen: */

file_handle = (struct FileHandle *)

Open( path, MODE_OLDFILE );

/* Have we opened the file successfully? */

if( file_handle == NULL )

{

// Display Requester - Error while loading

EasyRequest(NULL, &loadfail, NULL);

return(0);

}

// Check that file is a CycleDBase file

// Set pointer to beginning of file

Seek( (BPTR)file_handle, 0, OFFSET_BEGINNING );

// Read file header string

Read( (BPTR)file_handle, (APTR)header, sizeof( headerdata.file_id ) );

// Check that file header string and program header match

if(strncmp(header, headerdata.file_id, DEFLENGTH) == 0) // if match confirmed

{

// Load number of actual records

Read( (BPTR)file_handle, (APTR)records.recs, sizeof( records.recs ) );

// Clearing array of records

for(count=0; count<TRIPS; count++)

{

strcpy(cycledata[count].destination, destbuf);

strcpy(cycledata[count].date, datebuf);

cycledata[count].cycledist1 = 0;

cycledata[count].cycledist2 = 0;

cycledata[count].cycleouth = 0;

cycledata[count].cycleoutm = 0;

cycledata[count].cyclebackh = 0;

cycledata[count].cyclebackm = 0;

cycledata[count].train = FALSE;

cycledata[count].trainouth = 0;

cycledata[count].trainoutm = 0;

cycledata[count].trainbackh = 0;

cycledata[count].trainbackm = 0;

cycledata[count].totalh = 0;

cycledata[count].totalm = 0;

}

// Reset gadgets

GT_SetGadgetAttrs(my_gads[MYGAD_RECCOUNT], mywin, NULL, GTNM_Number, 1, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_DESTGAD], mywin, NULL, GTST_String, cycledata[0].destination, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_DATEGAD], mywin, NULL, GTST_String, cycledata[0].date, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_DIST1], mywin, NULL, GTIN_Number, cycledata[0].cycledist1, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_DIST2], mywin, NULL, GTIN_Number, cycledata[0].cycledist2, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_CYCLEOUTH], mywin, NULL, GTIN_Number, cycledata[0].cycleouth, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_CYCLEOUTM], mywin, NULL, GTIN_Number, cycledata[0].cycleoutm, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_CYCLEBACKH], mywin, NULL, GTIN_Number, cycledata[0].cyclebackh, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_CYCLEBACKM], mywin, NULL, GTIN_Number, cycledata[0].cyclebackm, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TRAINTICK], mywin, NULL, GTCB_Checked, cycledata[0].train, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TRAINOUTH], mywin, NULL, GTIN_Number, cycledata[0].trainouth, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TRAINOUTM], mywin, NULL, GTIN_Number, cycledata[0].trainoutm, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TRAINBACKH], mywin, NULL, GTIN_Number, cycledata[0].trainbackh, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TRAINBACKM], mywin, NULL, GTIN_Number, cycledata[0].trainbackm, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TOTTIMEH], mywin, NULL, GTIN_Number, cycledata[0].totalh, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TOTTIMEM], mywin, NULL, GTIN_Number, cycledata[0].totalm, TAG_END);

for(count=0; count<records.recs[0]; count++)

{

Read( (BPTR)file_handle, (APTR)cycledata[count].destination, sizeof( cycledata[count].destination ) );

Read( (BPTR)file_handle, (APTR)cycledata[count].date, sizeof( cycledata[count].date ) );

Read( (BPTR)file_handle, (APTR)other_data, sizeof( other_data ) );

cycledata[count].cycledist1 = other_data[0];

cycledata[count].cycledist2 = other_data[1];

cycledata[count].cycleouth = other_data[2];

cycledata[count].cycleoutm = other_data[3];

cycledata[count].cyclebackh = other_data[4];

cycledata[count].cyclebackm = other_data[5];

if(other_data[6] == 1)

cycledata[count].train = TRUE;

else

cycledata[count].train = FALSE;

cycledata[count].trainouth = other_data[7];

cycledata[count].trainoutm = other_data[8];

cycledata[count].trainbackh = other_data[9];

cycledata[count].trainbackm = other_data[10];

cycledata[count].totalh = other_data[11];

cycledata[count].totalm = other_data[12];

if(other_data[13] == 1)

cycledata[count].changed = TRUE;

else

cycledata[count].changed = FALSE;

}

// Enter record one data into gadgets

GT_SetGadgetAttrs(my_gads[MYGAD_DESTGAD], mywin, NULL, GTST_String, cycledata[0].destination, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_DATEGAD], mywin, NULL, GTST_String, cycledata[0].date, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_DIST1], mywin, NULL, GTIN_Number, cycledata[0].cycledist1, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_DIST2], mywin, NULL, GTIN_Number, cycledata[0].cycledist2, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_CYCLEOUTH], mywin, NULL, GTIN_Number, cycledata[0].cycleouth, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_CYCLEOUTM], mywin, NULL, GTIN_Number, cycledata[0].cycleoutm, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_CYCLEBACKH], mywin, NULL, GTIN_Number, cycledata[0].cyclebackh, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_CYCLEBACKM], mywin, NULL, GTIN_Number, cycledata[0].cyclebackm, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TRAINTICK], mywin, NULL, GTCB_Checked, cycledata[0].train, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TRAINOUTH], mywin, NULL, GTIN_Number, cycledata[0].trainouth, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TRAINOUTM], mywin, NULL, GTIN_Number, cycledata[0].trainoutm, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TRAINBACKH], mywin, NULL, GTIN_Number, cycledata[0].trainbackh, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TRAINBACKM], mywin, NULL, GTIN_Number, cycledata[0].trainbackm, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TOTTIMEH], mywin, NULL, GTIN_Number, cycledata[0].totalh, TAG_END);

GT_SetGadgetAttrs(my_gads[MYGAD_TOTTIMEM], mywin, NULL, GTIN_Number, cycledata[0].totalm, TAG_END);

/* Close the file: */

Close( (BPTR)file_handle );

return(1);

}

else // if no match

{

/* Close the file: */

Close( (BPTR)file_handle );

// Display Requester - Cannot open file requester

EasyRequest(NULL, &invalidfile, NULL);

return(0);

}

}



@ENDNODE
@NODE "Mail_135" " Re: zero page "
From: troy silvey <tbsilvey@juno.com>
Date: 10-18-99 21:39:58
Subject: @{b}Re: zero page@{ub}

From: troy silvey <tbsilvey@juno.com>

>No such thing on a Z80. Wasn't it used on the 65xx because it had 
>difficulties working with 16bit ? On Z80 (which  used 16bit 

I always like using the Z80 the best. It really had tons of cool
tricks and instructions. And those registers were powerful.
 don't think the 65xx's were ever really ment to deal with 16 bit.
They were made as cheaply as possible as 8 bit cpus.
My guess anyway. I like motorolla cpu's but they seem
to really tangle some tricky instruction. Cool in there own way also.
But not as strait forward as the ol' Z80. Honeslty I would stay
ASM and ML, but so much code is C/C++ and other portalble
higher level stufff that you almost don't have a choice if you want
to work in this area. Used to be you were a wimp if you wern't 
working in asm. Not so anymore.

>I think you could just specify CODE=NEAR and DATA=NEAR (using SAS). I 

Hmm.... I'll have a look. thanks.

>a RISC (like 603e). Btw., isn't it called mem-paging ?

If it isn't, it should be, 'cause that is what it is isn't it?

>P.S. C=64 sux, CPC rules ;-)

Hey go pick on a cpu you own size! Big bully.... :)

troy

___________________________________________________________________
Get the Internet just the way you want it.
Free software, free e-mail, and free Internet access for a month!
Try Juno Web: http://dl.www.juno.com/dynoget/tagj.

@ENDNODE
@NODE "Mail_136" " Re: zero page "
From: troy silvey <tbsilvey@juno.com>
Date: 10-18-99 21:45:21
Subject: @{b}Re: zero page@{ub}

From: troy silvey <tbsilvey@juno.com>

>You generally shouldn't worry about such things in C. This is a job 
>for the compiler, which (in an ideal world) will make use of all known 
>optimization techniques ;-)

I do remember now reading about the register assignments for C.
you can request you data be handled this way and if space is 
available, it will be used. Thanks for the reminder.

troy


___________________________________________________________________
Get the Internet just the way you want it.
Free software, free e-mail, and free Internet access for a month!
Try Juno Web: http://dl.www.juno.com/dynoget/tagj.

@ENDNODE
@NODE "Mail_137" " Re: Datatype Problem "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-18-99 23:55:49
Subject: @{b}Re: Datatype Problem@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 18-Oct-99, Fritsch Alexander wrote:

> today I have a new problem with datatypes. I use the following function to
> read a picture and to convert it to 24 Bit. [...]

You may want to use this instead:

   DTM_READPIXELARRAY -- V43
      This method is used to transfer pixel data from the
      picture.datatype object in the specified format.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Always remember that you are unique.  Just like everyone else.

@ENDNODE
@NODE "Mail_138" " Re: ASL Filerequester problems "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-18-99 23:56:58
Subject: @{b}Re: ASL Filerequester problems@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 18-Oct-99, Donald W Millican wrote:

> The function listed below is the one which is crashing [...]
> if (fr = (struct FileRequester *) AllocAslRequest(ASL_FileRequest, frtags))

Maybe a stupid question, but do you open ASL.library?

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
People will pay *big bucks* for the luxury of ignorance.

@ENDNODE
@NODE "Mail_139" " Re: within a tri "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-19-99 00:16:14
Subject: @{b}Re: within a tri@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 18-Oct-99, Linus McCabe wrote:

> [...] does anyone know of a newsgroup, mailinglist
> or homepage on the topic?

Sorry - I can recommend a book which describes a great deal of algorithms, but
there are thosands of them, and they are rarely related, so a homepage or
similar would be like a homepage dedicated to math.
I can however recommend http://www.google.com/ which is a search engine, but
definitely the best one I know, when it comes to finding technical material on
the net.

For a mailinglist, how about starting one at OneList? :-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Don't worry about people stealing your ideas. If your ideas are any good,
you'll have to ram them down people's throats.
-- Howard Aiken

@ENDNODE
@NODE "Mail_140" " Re: Re:zero page "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-19-99 00:18:05
Subject: @{b}Re: Re:zero page@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 17-Oct-99, troy silvey wrote:

>>> [...] zero page addressing was a big deal [...]
>> What is zero page addressing?
> On a 32 bit machine like the ami it is the first 64k area. But I
> don't know if it is still called zero page in the newer CPU's
> Operations performed on this space takes fewer cycles to execute,

Yes, you can address this space with a shorter op-code, but since the Amiga is
a memory-sharing system, without any MMU-interaction, then you normally don't
make assumptions about where your code is placed in memory. But for example the
exec library pointer is placed at address $4, and thus fetched as move.l
$4.w,a6 (instr: $2C780004) rather tham move.l $4,a6 (instr: $2C7900000004)

> speeding up your code a bit. On the 65xx's anyway, not sure on other
> CPU's.

As Nick said, then it's more normal to access data relative to an address
register, which always points at the base of the data segment - or sometimes
relative to the program counter. Both ways save you a word in the length of
the instruction code, but you can only reach ±32 Kb.

> I was just curious how this special area could be handled by C code.
> In ASM it is easy to do. But I'm no expert at C.

You generally shouldn't worry about such things in C. This is a job for the
compiler, which (in an ideal world) will make use of all known optimization
techniques ;-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Man will occasionally stumble over the truth, but most times he will pick
himself up and carry on...
-- Winston Churchill

@ENDNODE
@NODE "Mail_141" " Re: ASL Filerequester problems "
From: Linus McCabe <sparkle@hehe.com>
Date: 10-19-99 07:09:32
Subject: @{b}Re: ASL Filerequester problems@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 19-Oct-99, Allan Odgaard wrote:

>> The function listed below is the one which is crashing [...] if (fr
>> = (struct FileRequester *) AllocAslRequest(ASL_FileRequest,
>> frtags))
> 
> Maybe a stupid question, but do you open ASL.library?

He does.
I compiled the first piece of code he sent, with the crahsing
function, and it worked just fine here, without any changes made. I
also wrote a mail to the list about it, but noone seemed to notice :)

Anyway, since it works here I guess it could be stack related,
compiler related (im using sas btw) or something else non-code
related (not the realted to the famous load() function anyway)?

/Linus

> Regards Allan
-- 
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://sparkle.amiga.tm

There will always be unexplored Pink Floyd lyrics

@ENDNODE
@NODE "Mail_142" " AW: Re: Datatype Problem "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 10-19-99 09:24:54
Subject: @{b}AW: Re: Datatype Problem@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

Hallo Allan,
thank you for the answer but let me repeat my problem again:

> > today I have a new problem with datatypes. I use the following function
> to
> > read a picture and to convert it to 24 Bit. [...]
> 
> You may want to use this instead:
> 
>    DTM_READPIXELARRAY -- V43
>       This method is used to transfer pixel data from the
>       picture.datatype object in the specified format.
> 
	The line
    Pen=ReadPixel(&RastPort,x,y);  // get the Pennumber for each Pixel
	works perfectly on my A4000T but fails on the A1200. It fails
because RastPort.BitMap is Zero. It is Zero because  

  if(GetDTAttrs(dt, PDTA_BitMapHeader, &header, 
                    PDTA_BitMap,&BitMap,
                    PDTA_ColorRegisters,&ColorRegisters,
                    PDTA_ModeID,&DisplayID,        
                    TAG_DONE)==4)            // we requested 4 attributes

	writes a Zero to Bitmap ( PDTA_BitMap,&BitMap)...
	Do you have an idea why I get the Zero-Pointer here? Multiview can
display the testpicture on the A1200, so I think the datatypes are installed
correctely...
	(The A1200 is plain OS3.0) Is there an additional command required
to fill the Bitmap in the old datatypes from OS3.0?

> Regards Allan
	Kind regards Alexander 

@ENDNODE
@NODE "Mail_143" " Re: AW: Re: Datatype Problem "
From: Gregory Roberts II <gregr@en.com>
Date: 10-19-99 10:43:31
Subject: @{b}Re: AW: Re: Datatype Problem@{ub}

From: Gregory Roberts II <gregr@en.com>

On Tue, 19 Oct 1999, Fritsch Alexander wrote:

>     Pen=ReadPixel(&RastPort,x,y);  // get the Pennumber for each Pixel
> 	works perfectly on my A4000T but fails on the A1200. It fails
> because RastPort.BitMap is Zero. It is Zero because  
> 
>   if(GetDTAttrs(dt, PDTA_BitMapHeader, &header, 
>                     PDTA_BitMap,&BitMap,
>                     PDTA_ColorRegisters,&ColorRegisters,
>                     PDTA_ModeID,&DisplayID,        
>                     TAG_DONE)==4)            // we requested 4 attributes
> 
> 	writes a Zero to Bitmap ( PDTA_BitMap,&BitMap)...
> 	Do you have an idea why I get the Zero-Pointer here? Multiview can

Hi,

Maybe it's just because it's early in the morning, but is your BitMap
really called BitMap as in your example?   Isn't the structure also called
BitMap, causing some weird name collision?  I'm surprised your not getting
some kind of compiler warning/error, but you might try renaming BitMap.
The fact that it works on one machine and not the other could be pure
coincidence....

Of course, maybe I just need more caffeine... :-)

Greg

-- 
gregr@en.com
KC8BGC
Amiga Enthusiast  :)
IBM programmer    :(

@ENDNODE
@NODE "Mail_144" " Re: Re: within a tri "
From: Gregory Roberts II <gregr@en.com>
Date: 10-19-99 10:55:58
Subject: @{b}Re: Re: within a tri@{ub}

From: Gregory Roberts II <gregr@en.com>


On 18-Oct-99, Linus McCabe wrote:

> [...] does anyone know of a newsgroup, mailinglist
> or homepage on the topic?
> 

For graphics algorithms, there's these newsgroups:

comp.graphics.algorithms
comp.graphics.rendering.raytracing

I haven't followed them for awhile, but both groups used to have an
excellent FAQ (which covers the within a triangle question, as well as
many others).

Greg

-- 
gregr@en.com
KC8BGC
Amiga Enthusiast  :)
IBM programmer    :(

@ENDNODE
@NODE "Mail_145" " Re: ASL filerequester problems "
From: Donald W Millican <DonaldWM@stonelawdrive.freeserve.co.uk>
Date: 10-19-99 21:43:38
Subject: @{b}Re: ASL filerequester problems@{ub}

I do indeed open ASL library as my previous post in Digest 178 will testify. Would it make any difference where I open it (in a later function as opposed to main() )?

As someone suggested a while ago, I have downloaded StackCheck and used it to check the stack usage of my program - CycleDBase. According to the program, the system stack size was 4000. When I started my program, it used 644 of the stack. When it crashed trying to create an ASL filerequester and StormC3.0 killed the task, CycleDBase was using 748 of the stack. So that seems to rule out a stack overflow.

On a different note: I know that the load function for my seperate Advanced Search program works and so I removed CycleDBase's load function and all lines in my header file related to it to a temporary file. I then copied in the working load function from the Advanced Search function. I modified the function call in CycleDBase to accept this function (it takes one parameter instead of two). So CycleDBase now loaded a file but did not update the gadgets in the window. I tested the program and it crashed in the same place and in the same way.
I also noticed that the Advanced Search had all its defines, etc., for its load function in one header file whereas CycleDBase used two. I therefore temporarily moved all related defines, etc., to one file and recompiled CycleDBase. Again, this had no difference - the crash happened as usual.
All my tests on the source of the crash point to the line AllocASLRequest(parameters here) which allocates memory for the file requester and passes on the taglist.
I can't explain why one program containing the load function works but another program with virtually the exact same function does not. The only difference is that when my two programs CycleDBase and Advanced Search were separate, they were smaller. When I joined the two together, the program size increased (obviously). I have run out of ideas to investigate the problem further. Any more help?


@ENDNODE
@NODE "Mail_146" " Re: ASL filerequester problems "
From: Andrew Bell <andrew@ab2000.prestel.co.uk>
Date: 10-19-99 23:02:13
Subject: @{b}Re: ASL filerequester problems@{ub}

From: Andrew Bell <andrew@ab2000.prestel.co.uk>

Hi Donald,

On 19-Oct-99, you wrote:

> I do indeed open ASL library as my previous post in Digest 178 will
> testify. Would it make any difference where I open it (in a later
> function as opposed to main() )?

Where you open it is up to you. Just make sure that AslBase is valid
before you call any asl functions.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
All stressed out, and no-one to choke!

@ENDNODE
@NODE "Mail_147" " ImageManager.library "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-21-99 02:41:27
Subject: @{b}ImageManager.library@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

Hi there,

I've uploaded a beta version of my ImageManager.library to my homepage.
It's basically a library for decoding and processing images progressively.

I welcome any feedback!

Btw: If anyone is interested in alpha-testing my Betterlayers patch then please
write me (privately!) - I say ALPHA testing as it currently only supports
simple-refresh, and I have a problem with a deadlock (which I can't reproduce,
which is why I need your help!) - you should preferably use P96. Please give
me your system details and tell me why you think you'd be a good test person!

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Common sense is the collection of prejudices acquired by age eighteen.
-- Albert Einstein

@ENDNODE
@NODE "Mail_148" " Re: ASL filerequester problems "
From: Donald W Millican <DonaldWM@stonelawdrive.freeserve.co.uk>
Date: 10-21-99 11:38:13
Subject: @{b}Re: ASL filerequester problems@{ub}

All of you will no doubt be relieved that I have found a solution to my problem. Someone asked recently if I was opening the ASL library before trying to create a requester. My immediate answer was - yes, I was opening it in the Load function, creating, interacting with and closing the requester, and then closing the library again.
I decided to try opening the ASL library at the start of the program where I was opening other libraries like intuition, gadtools, etc., and then closing it when the program ended. Voila! - it worked.
I used the opening and closing of ASL library in the middle of the program, in CycleDBase and Advanced Search when they were seperate, smaller, programs. But it didn't work any more when I combined the two into one larger program. Strange, or what?

Thank you all very much for your assistance and comments relating to my various postings on this topic.

@ENDNODE
@NODE "Mail_149" " Re: NTSC - PAL and the clock speed "
From: Jonathan Adamczewski <jadamcze@utas.edu.au>
Date: 10-23-99 21:44:08
Subject: @{b}Re: NTSC - PAL and the clock speed@{ub}

From: Jonathan Adamczewski <jadamcze@utas.edu.au>


Hmm.  I think it's got to do with the oscillator on the mobo - on a pal
system regardless of screenmode, the mobo oscillator is still at
7093790 (I think)  This is just a guess.  Give your program to a person
with a ntsc system to check.

Jonathan.

(Ok, so it's a guess - it might be right)

On Mon, 25 Oct 1999, Fritsch Alexander wrote:

> Hello again.
> Here is a new question:
> My program plays a sample via the audio.device. The sample has been
> calculated by the program before.
> The timing of the playback needs to be very accurate for my application. My
> Samplerate should be about 8000 Hz.
> So I calculated 3546895/8000= 443.36188. That means I have to use 443 as
> value for the audio.device. That gives me a real playback-samplingrate of
> 3546895/443=8006 Hz.So I calculate a sample with the rate of 8006 Hz...
> 
> The program should also work in NTSC countries. So I calculated
> 3579545/8000=447.44313
> 3579545/447=8008
> So I calculate a sample for with the rate of 8008 Hz for NTSC playback.
> 
> To test wether it works or not I hold down the mouse buttons while booting
> and selected NTSC in the early startup menu. The program below shows shows
> than 60Hz and NTSC-Display, but according to my measurements I must still
> use 3546895 (the PAL-clock) to get the desired timing. If I use the
> NTSC-clock (3579545)  the timing seems to be wrong.
> 
> So here the question:
> Do I change the clock be selecting NTSC in the early startup-menu or not?
> Can I test my timing for NTSC if I live here in PAL area?
> 
> Any explainations would be very welcome!
> 
> Kind regards Alexander Fritsch
> 
> 
> 
> 
> 
> 
>   VBlankFrequency      = SysBase->VBlankFrequency;
>   printf("VBlankFrequency is %d Hz\n",VBlankFrequency);
> 
>   if ((GfxBase->DisplayFlags & PAL))
>   {
>    printf("Display is PAL\n");
>   }
>   else
>   {
>    printf("Display in NTSC\n");
>   }
> 
>  
>   if (50==VBlankFrequency)
>   {
>    clock=3546895L;        /* PAL clock  */
>   }
>   else
>   {
>    clock=3579545L;        /* NTSC clock */
>   }
> 
> >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 

@ENDNODE
@NODE "Mail_150" " NTSC - PAL and the clock speed "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 10-25-99 09:27:32
Subject: @{b}NTSC - PAL and the clock speed@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

Hello again.
Here is a new question:
My program plays a sample via the audio.device. The sample has been
calculated by the program before.
The timing of the playback needs to be very accurate for my application. My
Samplerate should be about 8000 Hz.
So I calculated 3546895/8000= 443.36188. That means I have to use 443 as
value for the audio.device. That gives me a real playback-samplingrate of
3546895/443=8006 Hz.So I calculate a sample with the rate of 8006 Hz...

The program should also work in NTSC countries. So I calculated
3579545/8000=447.44313
3579545/447=8008
So I calculate a sample for with the rate of 8008 Hz for NTSC playback.

To test wether it works or not I hold down the mouse buttons while booting
and selected NTSC in the early startup menu. The program below shows shows
than 60Hz and NTSC-Display, but according to my measurements I must still
use 3546895 (the PAL-clock) to get the desired timing. If I use the
NTSC-clock (3579545)  the timing seems to be wrong.

So here the question:
Do I change the clock be selecting NTSC in the early startup-menu or not?
Can I test my timing for NTSC if I live here in PAL area?

Any explainations would be very welcome!

Kind regards Alexander Fritsch






  VBlankFrequency      = SysBase->VBlankFrequency;
  printf("VBlankFrequency is %d Hz\n",VBlankFrequency);

  if ((GfxBase->DisplayFlags & PAL))
  {
   printf("Display is PAL\n");
  }
  else
  {
   printf("Display in NTSC\n");
  }

 
  if (50==VBlankFrequency)
  {
   clock=3546895L;        /* PAL clock  */
  }
  else
  {
   clock=3579545L;        /* NTSC clock */
  }

@ENDNODE
@NODE "Mail_151" " Sound Datatypes "
From: Rod_MacLean@uk.ibm.com
Date: 10-25-99 13:45:59
Subject: @{b}Sound Datatypes@{ub}

From: Rod_MacLean@uk.ibm.com




What is the recommended way of calculating how long a datatype sample
will take to play?

None of the data returned from the datatype seems to be right.

I've also tried looking in the docs and I've tried messing about with
sample rate vs. length of sample but to no avail.

I'll post the code if no-one can think of anything obvious which I may have
overlooked.

     Rod

--
Rod MacLean - IT Specialist
L2L, IBM Perth (tel 01738 894135)
IEA GBIB1S3U @ IBMMAIL    (rod_maclean@uk.ibm.com)

@ENDNODE
@NODE "Mail_152" " Re: NTSC - PAL and the clock speed "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 10-25-99 18:55:45
Subject: @{b}Re: NTSC - PAL and the clock speed@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Oct 25 Fritsch (Fritsch Alexander) wrote:

> From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
> 
> Hello again.
> Here is a new question:
> My program plays a sample via the audio.device. The sample has been
> calculated by the program before.
> The timing of the playback needs to be very accurate for my application. My
> Samplerate should be about 8000 Hz.
> So I calculated 3546895/8000= 443.36188. That means I have to use 443 as
> value for the audio.device. That gives me a real playback-samplingrate of
> 3546895/443=8006 Hz.So I calculate a sample with the rate of 8006 Hz...
> 
> The program should also work in NTSC countries. So I calculated
> 3579545/8000=447.44313
> 3579545/447=8008
> So I calculate a sample for with the rate of 8008 Hz for NTSC playback.
> 
> To test wether it works or not I hold down the mouse buttons while booting
> and selected NTSC in the early startup menu. The program below shows shows
> than 60Hz and NTSC-Display, but according to my measurements I must still
> use 3546895 (the PAL-clock) to get the desired timing. If I use the
> NTSC-clock (3579545)  the timing seems to be wrong.
> 
> So here the question:
> Do I change the clock be selecting NTSC in the early startup-menu or not?
> Can I test my timing for NTSC if I live here in PAL area?

   If you are developing your application to run under Kickstart 2.04 and
beyond, you should use the SysBase->ex_EClockFrequency member to calculate
the clock value you need. Multiply that value by 5 and you will arrive
at the clock value you need. That is, for a PAL machine 5*SysBase->ex_EClockFrequency
is around 3546895 and for an NTSC machine 5*SysBase->ex_EClockFrequency is about
3579545. This approach will work even if the machine has been switched into
NTSC mode (such as via the boot menu or a motherboard jumper).

-- 
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

@ENDNODE
@NODE "Mail_153" " Re: Sound Datatypes "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 10-25-99 19:00:18
Subject: @{b}Re: Sound Datatypes@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Oct 25 Rod_MacLean (Rod_MacLean) wrote:

> From: Rod_MacLean@uk.ibm.com
> 
> 
> 
> 
> What is the recommended way of calculating how long a datatype sample
> will take to play?

   Here is a short code snippet which demonstrates how to do it:

----------------------------------8<---------------------------------

Object *
LoadSound(STRPTR name,struct timeval * tv)
{
    Object * soundObject;

    soundObject = NewDTObject(name,
        DTA_SourceType, DTST_FILE,
        DTA_GroupID,    GID_SOUND,
        SDTA_Volume,    64,
        SDTA_Cycles,    1,
    TAG_DONE);
    if(soundObject != NULL)
    {
        struct VoiceHeader * vh;
        ULONG sampleLength;

        if(GetDTAttrs(soundObject,
            SDTA_SampleLength,  &sampleLength,
            SDTA_VoiceHeader,   &vh,
        TAG_DONE) == 2)
        {
            if(sampleLength > 0)
            {
                ULONG period;

                period = vh->vh_SamplesPerSec;

                tv->tv_secs     = sampleLength / period;
                tv->tv_micro    = (1000000 / period) * (sampleLength % period);

                return(soundObject);
            }
        }

        DisposeDTObject(soundObject);
    }

    return(NULL);
}

-- 
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

@ENDNODE
@NODE "Mail_154" " Re: Vbcc again "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 10-25-99 22:53:10
Subject: @{b}Re: Vbcc again@{ub}



Hi,

sorry for the late reply.

On Fri, 15 Oct 1999, Tim Hanson wrote:

> No. I can`t find my DICE manual atm. Actually I think I`m the only person in
> the world who owns a DICE manual. Did anyone else buy diceV3 before it went
> freeware?

Not too many probably. Otherwise, it wouldn't have gone freeware, I guess.

> -> Yes, there was a bug introduced to the debug-output some time ago (you
> -> see, I don't really use it :-/). I can send you a fix if you need it (and
> -> if you haven't already received it from Frank).
> 
> After I sent this it occured to me that optimising and source level debugging
> are incompatible to an extent anyway. Espec if you use the scheduler but also
> with unrolled loops and inline code...?

That's true. The source-line information doesn't make much sense for
optimized code.

> I`d like to see the fix if you could send it.

In machines/m68k/machine.c, replace the code

    for(;p;pr(f,p),p=p->next){
        if(dbout){
        /*  Hier soll spaeter mal das Sourcefile angegeben werden.  */
            if(p->file&&p->file!=act_file) ierror(0);
            if(p->line&&p->line!=act_line){
                act_line=p->line;
                if(!gas) fprintf(f,"\tdebug\t%d\n",act_line);
            }
        }
        c=p->code;t=p->typf;

by

    for(;p;pr(f,p),p=p->next){
        if(dbout){
          if(p->file&&p->file!=act_file){
            act_file=p->file;
            if(!gas) fprintf(f,"\tdsource\t\"%s\"\n",act_file);
          }
          if(p->line&&p->line!=act_line){
            act_line=p->line;
            if(!gas) fprintf(f,"\tdebug\t%d\n",act_line);
          }
        }
        c=p->code;t=p->typf;

and rebuild vbccm68k.

> PS I found this in the DICE_debugger.doc. If this means anything to you:
>  
>  First and foremost, the DICE compiler now supports level 1 DEBUG hunks,
>  as does the SAS compiler and many available assemblers.  In order to
>  enable source-level debugging capabilities of DD, you need to compile
>  with the -d1 option to generate these hunks.  You can then use DICE
>  or any other debugger that supports the -d1 hunk format to do source
>  level debugging.
> 
>  The DICE compiler also generates the standard Amiga SYMBOL hunks.  These
>  are used by DD to provide you with symbolic debugging capability.  When
>  these symbols are found in the executable by DD, you will be able to
>  use your symbolic names to reference subroutines, variables, and so on.
>  To cause DICE to generate the symbol hunks, you must use the -s option
>  when compiling.

I think these are the standard debug-infos which are also supported by
vbcc. However, they do not provide full source-level debugging. They
basically tell which source line a machine instruction corresponds to and
which external symbols are available. However, they do not contain
information on static or local variables as well as any type-information.

Volker


@ENDNODE
@NODE "Mail_155" " AW: NTSC - PAL and the clock speed "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 10-26-99 08:59:32
Subject: @{b}AW: NTSC - PAL and the clock speed@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

> From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>
> 
>    If you are developing your application to run under Kickstart 2.04 and
> beyond, you should use the SysBase->ex_EClockFrequency member to calculate
> the clock value you need. Multiply that value by 5 and you will arrive
> at the clock value you need. That is, for a PAL machine
> 5*SysBase->ex_EClockFrequency
> is around 3546895 and for an NTSC machine 5*SysBase->ex_EClockFrequency is
> about
> 3579545. This approach will work even if the machine has been switched
> into
> NTSC mode (such as via the boot menu or a motherboard jumper).
> 
	Thank you for that info! I will change my code immediately. 

	Kind regards Alexander Fritsch

@ENDNODE
@NODE "Mail_156" " NG WebCam? "
From: Dr Brain Damage <drbraindamage@angelfire.com>
Date: 10-27-99 08:23:23
Subject: @{b}NG WebCam?@{ub}

From: "Dr Brain Damage" <drbraindamage@angelfire.com>

This actually isnt directly about c, but i think that you might be able to answer, and perhaps even do this to amiga.

Now i was looking those webcams. I dont know very much of them, but it seemed that they are very slow.

So i was thinking, that would it be possible to do so, that first camera would record, lets say 20 seconds of image and voice, and then immediatelly transfer it to computer, and after that it would pack, both sound and picture, and then send to computer which is looking that web cam.
And when it gets on that web cam watching computer, it would depack it, and then play it.

Now i was thinking this, because i noticed, that in this place where i write this, is so fast connection, that it gets 1mb in something like less than 5 seconds perhaps. So it would give computer 15 seconds of time to do depacking etc.

And as todays computers are very fast, for example Phase 5:s G4. I was wondering if it would be possible to really do it.

Of course there would be that 40 seconds delay on picture and voice, but i dont think it would be so bad on everything they use those webcams, for example some live broadcast of for example World of Amiga.

So tell me if it is possible, and even better, someone program it on C, as i dont understand too much of c++ yet :(

             
             - Dr.BrainDamage


Angelfire for your free web-based e-mail. http://www.angelfire.com

@ENDNODE
@NODE "Mail_157" " iff parse "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 10-27-99 18:25:49
Subject: @{b}iff parse@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

hi

can some1 gimme/send ex on how to use iffparse.library ?

i want to read an iff file (ilbm) and catch its CMAP chunk (the palette) and
the BODY chunk (the picture)

thanx

regards

@ENDNODE
@NODE "Mail_158" " Re: iff parse "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-27-99 21:01:13
Subject: @{b}Re: iff parse@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Adrien 
Adrien HEMERY wrote this on 27-Oct-99 at 18:25:49
-> From: Adrien HEMERY <iliak_@club-internet.fr>
-> 
-> hi
-> 
-> can some1 gimme/send ex on how to use iffparse.library ?
-> 
-> i want to read an iff file (ilbm) and catch its CMAP chunk (the palette)
-> and the BODY chunk (the picture)

The RKM tutorial on iifparse is totally unreadable so I`ve always avoided it.
I use iff.library (on aminet). Better still use datatypes.library for forward
compat. 
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_159" " Re: iff parse "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-28-99 00:10:24
Subject: @{b}Re: iff parse@{ub}

On 27-Oct-99, Adrien HEMERY wrote:

> can some1 gimme/send ex on how to use iffparse.library ?

The attached source is what I use to extract the two pointer images from an
IFF/PNTR file.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Your mouse has moved. WinNT must be restarted for the change to take effect.
@ENDNODE
@NODE "Mail_160" " Not a C-problem, but developement related... "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 10-28-99 12:43:20
Subject: @{b}Not a C-problem, but developement related...@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>


I am looking for some information and got the following  answer:


"If you just cant find the information then send me 5 IRC's and I
will photo copy my timing diagrams..."

What are IRC's?


Sorry for this of off topic question but ist really important.

Kind regards Alexander Fritsch

@ENDNODE
@NODE "Mail_161" " Not a C-problem, but developement related... "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 10-28-99 12:43:20
Subject: @{b}Not a C-problem, but developement related...@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>


I am looking for some information and got the following  answer:


@ENDNODE
@NODE "Mail_162" " Re: Not a C-problem, but developement related... "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-28-99 13:11:13
Subject: @{b}Re: Not a C-problem, but developement related...@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 28-Oct-99, Fritsch Alexander wrote:

> I am looking for some information and got the following  answer:
> "If you just cant find the information then send me 5 IRC's and I
> will photo copy my timing diagrams..."

It sounds like a joke. How about providing us with the context? What was your
question, who wrote the answer, which information are you looking for?

> What are IRC's?

Besides InternetRelayChat? I have no idea, but you may try to look it up at:

       http://www.chemie.fu-berlin.de/cgi-bin/acronym
   or  http://www.dictionary.com/ 

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Don't worry about people stealing your ideas. If your ideas are any good,
you'll have to ram them down people's throats.
-- Howard Aiken

@ENDNODE
@NODE "Mail_163" " Re: iff parse "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 10-28-99 16:10:55
Subject: @{b}Re: iff parse@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hello Allan

> The attached source is what I use to extract the two pointer images from
> an IFF/PNTR file.

hmm, you piece of code didn't worked for me :(

Hmm as suggested, now i use Datatype library and it seems to work fine :)

BTW, is there an easy way to get the screen where a MUI app is ?

Thanks

Regards

@ENDNODE
@NODE "Mail_164" " Re: iff parse "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-28-99 18:27:28
Subject: @{b}Re: iff parse@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 28-Oct-99, Adrien HEMERY wrote:

> BTW, is there an easy way to get the screen where a MUI app is ?

If you're a part of the application tree (i.e. an object) then you can get the
screen pointer (between MUIM_Setup/MUIM_Cleanup) through the RenderInfo. E.g.

   printf("Scr: %p\n", muiRenderInfo(obj)->mri_Screen);

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Man invented language to satisfy his deep need to complain.
-- Lily Tomlin

@ENDNODE
@NODE "Mail_165" " lowlevel.library "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-28-99 20:03:13
Subject: @{b}lowlevel.library@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,
Someone mentioned lowlevel.library as a way to access joystick and pads in a
system friendly (future compatible way). Does anyone know where I can find
docs for it. It doesn`t appear to be on aminet.
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_166" " Re: lowlevel.library "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-28-99 23:18:30
Subject: @{b}Re: lowlevel.library@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Oct 28, 1999 at 08:03:13PM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> Someone mentioned lowlevel.library as a way to access joystick and pads in a
> system friendly (future compatible way). Does anyone know where I can find
> docs for it. It doesn`t appear to be on aminet.

It's a standard part of OS 3.1.  Read lowlevel.doc.

Ben.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Asking whether machines can think is like
asking whether submarines can swim.

@ENDNODE
@NODE "Mail_167" " Re: lowlevel.library "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-28-99 23:21:58
Subject: @{b}Re: lowlevel.library@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Tim 
Tim Hanson wrote this on 28-Oct-99 at 20:03:13

-> Someone mentioned lowlevel.library as a way to access joystick and pads in
-> a system friendly (future compatible way). Does anyone know where I can
-> find docs for it. It doesn`t appear to be on aminet.

But I then found it in my docs drawer having spent half an hour on line trying
to find it. Doh! Please ignore me. It`s not what I need anyway. 

Does anyone have a system friendly way to read joypad/stick?
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_168" " Re: Not a C-problem, but developement related... "
From: alan fullarton <alan_fullarton@hotmail.com>
Date: 10-29-99 01:23:19
Subject: @{b}Re: Not a C-problem, but developement related...@{ub}

From: "alan fullarton" <alan_fullarton@hotmail.com>

IRC's? International Reply Coupon. You probably got the reply
outside your country and this person want's you to pay postage
for the photo copies.

I have gotten information from Canada and the United Kingdom
so I would use IRC's because they can't use American stamps.
They cost about 1 U.S. dollar each.

Hope this helps.

Alan Fullarton


>From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
>Reply-To: amiga-c@onelist.com
>To: amiga-c@onelist.com
>Subject: [amiga-c] Not a C-problem, but developement related...
>Date: Thu, 28 Oct 1999 13:43:20 +0200
>
>
>I am looking for some information and got the following  answer:
>
>
>"If you just cant find the information then send me 5 IRC's and I
>will photo copy my timing diagrams..."
>
>What are IRC's?
>
>
>Sorry for this of off topic question but ist really important.
>
>Kind regards Alexander Fritsch
>
>------------------------------------------------------------------------
>      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <-
><< text3.html >>

@ENDNODE
@NODE "Mail_169" " Re: lowlevel.library "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-29-99 01:29:43
Subject: @{b}Re: lowlevel.library@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 29-Oct-99, Tim Hanson wrote:

> Does anyone have a system friendly way to read joypad/stick?

Have you looked at gameport.device? (I haven't... ;-) )

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Your mouse has moved. WinNT must be restarted for the change to take effect.

@ENDNODE
@NODE "Mail_170" " Re: Re: lowlevel.library "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-29-99 01:51:21
Subject: @{b}Re: Re: lowlevel.library@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Oct 28, 1999 at 11:21:58PM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi Tim 
> Tim Hanson wrote this on 28-Oct-99 at 20:03:13
> 
> -> Someone mentioned lowlevel.library as a way to access joystick and pads in
> -> a system friendly (future compatible way). Does anyone know where I can
> -> find docs for it. It doesn`t appear to be on aminet.
> 
> But I then found it in my docs drawer having spent half an hour on line trying
> to find it. Doh! Please ignore me. It`s not what I need anyway. 
> 
> Does anyone have a system friendly way to read joypad/stick?

That's what gameport.device is for.  However, this only supports 2
buttons.  To read all the buttons on a CD-32 pad, I think you have to
use lowlevel.library.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Asking whether machines can think is like
asking whether submarines can swim.

@ENDNODE
@NODE "Mail_171" " Re: lowlevel.library "
From: Andrew Bell <andrew@ab2000.prestel.co.uk>
Date: 10-29-99 05:26:03
Subject: @{b}Re: lowlevel.library@{ub}

From: Andrew Bell <andrew@ab2000.prestel.co.uk>

Hi Tim,

On 28-Oct-99, you wrote:

> Someone mentioned lowlevel.library as a way to access joystick and
> pads in a system friendly (future compatible way). Does anyone know
> where I can find docs for it. It doesn`t appear to be on aminet.

The autodocs for it are part of the Native Developer Kit 3.1.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
*  <-- Tribble  **  <-- tribble calling for police

@ENDNODE
@NODE "Mail_172" " Re: iff parse "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 10-29-99 13:13:26
Subject: @{b}Re: iff parse@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hello Allan


>> BTW, is there an easy way to get the screen where a MUI app is ?
> 
> If you're a part of the application tree (i.e. an object) then you can get
> the screen pointer (between MUIM_Setup/MUIM_Cleanup) through the
> RenderInfo. E.g.
> 
>   printf("Scr: %p\n", muiRenderInfo(obj)->mri_Screen);
> 

hmm i looked in the MUI Dev kit, and i didnt found any text about
muiRenderInfo.... What is this ?
Could you give me a piece of code ? I just want to know on which screen is
my app turning on. But the prob is that windows maybe closed at any time,
so must i get screen info through window ? Is there a way through app info
or by checking the config file ?

Regards

@ENDNODE
@NODE "Mail_173" " Re: lowlevel.library "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 10-29-99 13:19:38
Subject: @{b}Re: lowlevel.library@{ub}

Hello Tim

> Does anyone have a system friendly way to read joypad/stick?

Enjoy :)

Regards
@ENDNODE
@NODE "Mail_174" " Re: lowlevel.library "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-29-99 14:24:23
Subject: @{b}Re: lowlevel.library@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Ben 
Ben Hutchings wrote this on 28-Oct-99 at 23:18:30

->> From: Tim Hanson <msinister@connectfree.co.uk>
->> 
->> Hi All,
->> Someone mentioned lowlevel.library as a way to access joystick and pads in
->> a system friendly (future compatible way). Does anyone know where I can
->> find docs for it. It doesn`t appear to be on aminet.
-> 
-> It's a standard part of OS 3.1.  Read lowlevel.doc.

Curious. I`ve got 3.0 here and it`s in my libs: drawer and I`ve got the docs.
God knows where I got it from.

What I haven`t got however is all the includes. I`ve got the clib/..._Protos.h
and the libraries/....h but I need the pragmas and/or the link library to get
it working with DICE. Anyone know where I can get them? Would it be illegal
for someone to send them to me?
I`d like to see what SystemControl() does. It looks a bit fearsome.
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_175" " Re: Re: iff parse "
From: Allan Odgaard <duff@diku.dk>
Date: 10-29-99 14:44:07
Subject: @{b}Re: Re: iff parse@{ub}

From: Allan Odgaard <duff@diku.dk>

On Fri, 29 Oct 1999, Adrien HEMERY wrote:

> >   printf("Scr: %p\n", muiRenderInfo(obj)->mri_Screen);
> hmm i looked in the MUI Dev kit, and i didnt found any text about
> muiRenderInfo.... What is this ?

The renderinfo associated with each gadget/object.
The structure is defined in libraries/mui.h and I think a deeper 
explanation can be found in MUIdev.Guide.

> Could you give me a piece of code ? I just want to know on which screen is

The above was a piece of code, just insert an object pointer (of one of
your objects) where I typed 'obj' - though it must be derived from 
Area.mui (all 'visual' classes are, except Winow.mui)

> my app turning on. But the prob is that windows maybe closed at any time,
> so must i get screen info through window ? Is there a way through app info
> or by checking the config file ?

As you correctly say, a window may be closed (and so the screen) and the
app may also jump from screen to screen (on request from the user) so you
can't (safely) peek in the renderinfo, without being part of the
application (which implies you're told about screen changes etc.)

I don't know what it is you want to do, but if you want to display a
picture (and for some reason don't want to use the MUI objects for this)
then the best way is to do an Area.mui subclass, which remaps the picture
in MUIM_Setup, blits it in MUIM_Draw and not much more. You can then
create an object from this class, and add it to your application, just
like a normal MUI gadget.

Regards Allan

@ENDNODE
@NODE "Mail_176" " Re: iff parse "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 10-29-99 18:56:13
Subject: @{b}Re: iff parse@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hello Allan


> I don't know what it is you want to do, but if you want to display a
> picture (and for some reason don't want to use the MUI objects for this)
> then the best way is to do an Area.mui subclass, which remaps the picture
> in MUIM_Setup, blits it in MUIM_Draw and not much more. You can then
> create an object from this class, and add it to your application, just
> like a normal MUI gadget.

I'm the owner of the proc and i want to get the screen where my MUI app is
running on, 'cause i want to open windows and display some pictures with
the help of the datatype.library. 

Regards

@ENDNODE
@NODE "Mail_177" " Re: Re: lowlevel.library "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 10-30-99 02:40:45
Subject: @{b}Re: Re: lowlevel.library@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Oct 29, 1999 at 02:19:38PM +0200, Adrien HEMERY wrote:
> Hello Tim
> 
> > Does anyone have a system friendly way to read joypad/stick?
> 
> Enjoy :)
<snip code>

That's `system-friendly' only in that it doesn't impair the operation
of the OS.  It's still not legal - it bypasses any patches to support
alternative input devices.

Ben.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Asking whether machines can think is like
asking whether submarines can swim.

@ENDNODE
@NODE "Mail_178" " Re: lowlevel.library "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 10-30-99 11:51:45
Subject: @{b}Re: lowlevel.library@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Adrien 
Adrien HEMERY wrote this on 29-Oct-99 at 13:19:38
-> Hello Tim
-> 
->> Does anyone have a system friendly way to read joypad/stick?
-> 
-> Enjoy :)
[code ]

Cheers for that mate but that`s more or less the code I`m using. What I really
want is something from the OS that will be forward compatible if someone
builds an amiga without the same custom chip addresses. Don`t say it will
never happen.
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_179" " Re: lowlevel.library "
From: Laura Vance <vancel@amiga.nols.com>
Date: 10-30-99 15:09:12
Subject: @{b}Re: lowlevel.library@{ub}

I don't know if this is what you were looking for, but I have attached the text for a function in lowlevel.library called "ReadJoyPort()"  It seems to be exactly what you need, but I can't guarantee it.

Laura



-----Original Message-----
Sent: Fri, 29 Oct 1999 14:24:23 +0100,
From: Tim Hanson <msinister@connectfree.co.uk>
Subject:  [amiga-c] Re: lowlevel.library


From: Tim Hanson <msinister@connectfree.co.uk>

Hi Ben  Ben Hutchings wrote this on 28-Oct-99 at 23:18:30

->> From: Tim Hanson <msinister@connectfree.co.uk>
->> 
->> Hi All,
->> Someone mentioned lowlevel.library as a way to access joystick and pads in
->> a system friendly (future compatible way). Does anyone know where I can
->> find docs for it. It doesn`t appear to be on aminet.
-> 
-> It's a standard part of OS 3.1.  Read lowlevel.doc.

Curious. I`ve got 3.0 here and it`s in my libs: drawer and I`ve got the docs. God knows where I got it from.

What I haven`t got however is all the includes. I`ve got the clib/..._Protos.h and the libraries/....h but I need the pragmas and/or the link library to get it working with DICE. Anyone know where I can get them? Would it be illegal for someone to send them to me? I`d like to see what
SystemControl() does. It looks a bit fearsome.
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 



-- 
      \|/
     (o o)
---ooO(_)Ooo---
   Peekaboo!!
@ENDNODE
@NODE "Mail_180" " Datatypes "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 10-30-99 18:58:51
Subject: @{b}Datatypes@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

hi

why this piece of code return bm==NULL ?

        GetDTAttrs(dto, //PDTA_ModeID,    &modeID,
                                PDTA_CRegs,        &colorreg,
                                PDTA_BitMap,    &bm,
                                TAG_END);

(dto is a picture object, and i want to have access to the bitmap (bm) and
the colormap (colorreg))

colorreg returns good but bm is always a 0 !!!

regards

@ENDNODE
@NODE "Mail_181" " OT: mem loss with 3.5 "
From: Jack York <jyork@voyager.net>
Date: 10-30-99 22:28:33
Subject: @{b}OT: mem loss with 3.5@{ub}

From: Jack York <jyork@voyager.net>

Hello,

This isn't really a coding problem (I hope) but maybe someone
can help me.  If I run my program under OS 3.1 I don't lose
any memory.  If I switch to 3.5 and run again I can lose 15 K
just by starting and stoping the program.  I'm using Dice and
Classact as a gui.  Does anyone know why this is happening?  Could
the program be at fault?  I would prefer not tearing it apart to
find a problem that doesn't exist.;(

Jack

@ENDNODE
@NODE "Mail_182" " Re: mem loss with 3.5 "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 10-31-99 07:45:04
Subject: @{b}Re: mem loss with 3.5@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello Jack

On 30-Oct-99, Jack York wrote:
> From: Jack York <jyork@voyager.net>
> 
> Hello,
> 
> This isn't really a coding problem (I hope) but maybe someone
> can help me.  If I run my program under OS 3.1 I don't lose
> any memory.  If I switch to 3.5 and run again I can lose 15 K
> just by starting and stoping the program.  I'm using Dice and
> Classact as a gui.  Does anyone know why this is happening?  Could
> the program be at fault?  I would prefer not tearing it apart to
> find a problem that doesn't exist.;(
> 

Do you lose 15k every time you run it, or just the first time? If it's just
the first time, it's probably just classes loaded in memory. Classes are
libraries and will remain loaded in memory after the program that loaded them
exists just like any other library.

  Rod

@ENDNODE
@NODE "Mail_183" " Re: mem loss with 3.5 "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 10-31-99 10:37:45
Subject: @{b}Re: mem loss with 3.5@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hello Rod


> 
> Do you lose 15k every time you run it, or just the first time? If it's
> just the first time, it's probably just classes loaded in memory. Classes
> are libraries and will remain loaded in memory after the program that
> loaded them exists just like any other library.
> 

Yep, test the mem with something like (in a shell cession) : *avail FLUSH*

before you start your app and after...

Regards

@ENDNODE
@NODE "Mail_184" " Re: iff parse "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 10-31-99 12:21:05
Subject: @{b}Re: iff parse@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 29-Oct-99, Adrien HEMERY wrote:

> I'm the owner of the proc and i want to get the screen where my MUI app is
> running on, 'cause i want to open windows and display some pictures with
> the help of the datatype.library. 

Why don't you add a MUI window to your application, which contain a
DtPic-object (which can load & display pictures, using datatypes)? Then your
window will use the applications screen (incl. when the user jumps from screen
to screen) and iconify when the user wish to do so... and you'll also save
some coding... :-)

You can disable all 'MUI stuff' if that's whats holding you back. You can even
subclass the window, to get full control over what ever you may want to
control...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
It is actually very difficult for most people to understand how critical the
difference is between "doing it right" and "getting it done".
-- Allan Havemose

@ENDNODE
@NODE "Mail_185" " Re: mem loss with 3.5 "
From: Jack York <jyork@voyager.net>
Date: 10-31-99 19:08:50
Subject: @{b}Re: mem loss with 3.5@{ub}

From: Jack York <jyork@voyager.net>

Hello Rod

On 31-Oct-99, Rod Schnell wrote:
> From:   Rod Schnell <rodsch@telusplanet.net>
> 
> Hello Jack
> 
> On 30-Oct-99, Jack York wrote:
>> From: Jack York <jyork@voyager.net>
>> 
>> Hello,
>> 
>> This isn't really a coding problem (I hope) but maybe someone
>> can help me.  If I run my program under OS 3.1 I don't lose
>> any memory.  If I switch to 3.5 and run again I can lose 15 K
>> just by starting and stoping the program.  I'm using Dice and
>> Classact as a gui.  Does anyone know why this is happening?  Could
>> the program be at fault?  I would prefer not tearing it apart to
>> find a problem that doesn't exist.;(
>> 
> 
> Do you lose 15k every time you run it, or just the first time? If it's
> just the first time, it's probably just classes loaded in memory. Classes
> are libraries and will remain loaded in memory after the program that
> loaded them exists just like any other library.

I lose some memory everytime.  The first time it is probably mostly the
libraries.  But after that I continue to lose it.  The amount varies,
depending on what I do with the program.  If I switch to OS 3.1, I will
lose the intial amount but none after that.

Jack

@ENDNODE
@NODE "Mail_186" " Re: mem loss with 3.5 "
From: Jack York <jyork@voyager.net>
Date: 10-31-99 19:09:44
Subject: @{b}Re: mem loss with 3.5@{ub}

From: Jack York <jyork@voyager.net>

Hello Adrien

On 31-Oct-99, Adrien HEMERY wrote:
> From: Adrien HEMERY <iliak_@club-internet.fr>
> 
> Hello Rod
> 
> 
>> 
>> Do you lose 15k every time you run it, or just the first time? If it's
>> just the first time, it's probably just classes loaded in memory. Classes
>> are libraries and will remain loaded in memory after the program that
>> loaded them exists just like any other library.
>> 
> 
> Yep, test the mem with something like (in a shell cession) : *avail FLUSH*
> 
> before you start your app and after...

I use the program memleak.

Jack

@ENDNODE
