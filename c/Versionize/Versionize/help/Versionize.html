<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content="GoldED Studio/Webworld">

  <title>Versionize</title>
</head>

<body>
  <div align="center">
    <big>Versionize</big>
  </div><br>

  <p><b>Introduction</b></p>

  <p>Versionize is a simple tool that automatically updates the build number and/or the date and time of compilation of a project.</p>

  <p>Usually you'll have a file where you define the version number, the build number, and the date and time of compilation. When you program in C/C++ language, this is usually a header file
  containing a number of macros defined with the "#define" preprocessor command.</p>

  <p>These macro definitions can be recognized by Versionize which can update them as directed by the user.</p>

  <p>If Versionize is controlled by the compilation tools, you can have the desired macros automatically updated when the project is being built.</p>

  <p>Usually you would want to launch Versionize at the start of the build process to update time and date of compilation and launch it again at the end of the process, so that the build number is
  updated if the compilation was successful.</p>

  <p><b>Usage</b></p>

  <p>Usage: versionize [opt1...]</p>

  <table border="1" cellspacing="0" cellpadding="3" summary="">
    <tr>
      <td><b>Option</b></td>

      <td><b>Description</b></td>
    </tr>

    <tr>
      <td>-b</td>

      <td>keep backup copy of old header file (default: simply overwrite)</td>
    </tr>

    <tr>
      <td>-c</td>

      <td>specify the command, as defined by the programming language, used to define macros (default: #define)</td>
    </tr>

    <tr>
      <td>-d datemacro</td>

      <td>specify macro used for compilation date (default: BUILD_DATE)</td>
    </tr>

    <tr>
      <td>-f filename</td>

      <td>specify version header file (default: version.h)</td>
    </tr>

    <tr>
      <td>-h</td>

      <td>help on this command; no operation is executed</td>
    </tr>

    <tr>
      <td>-l localefile</td>

      <td>read month and week day names from localefile</td>
    </tr>

    <tr>
      <td>-m M</td>

      <td>M=a update all, M=n build number, M=t date &amp; time (default: M=a)</td>
    </tr>

    <tr>
      <td>-n buildmacro</td>

      <td>specify macro used for build number (default: BUILD_NUMBER)</td>
    </tr>

    <tr>
      <td>-t timemacro</td>

      <td>specify macro used for compilation time (default: BUILD_TIME)</td>
    </tr>

    <tr>
      <td>-v</td>

      <td>specify verbose behaviour (default: no verbose)</td>
    </tr>
    
    <tr>
      <td>-!</td>

      <td>use '!' char to identify tokens (default: '%' char)</td>
    </tr>

    <tr>
      <td>-D template</td>

      <td>format of date string (default: %x, or !x if -! option is used)</td>
    </tr>

    <tr>
      <td>-T template</td>

      <td>format of time string (default: %X, or !X if -! option is used)</td>
    </tr>
  </table>

  <p><b>Basic operations</b></p>

  <p>If you don't specify any option when launching Versionize, Versionize tries to open the file version.h in the current path; if Versionize manages to open it, it looks for macros defined with the
  C preprocessor command #define. In particular it looks for the macros BUILD_NUMBER, BUILD_TIME and BUILD_DATE.</p>

  <p>If Versionize can find the BUILD_NUMBER macro, the following characters in that line are interpreted as a number and replaced by that number incremented by one. If Versionize detect that the
  macro was defined between double quotes, it replicates them so that the string format is preserved. For example if the file version.h contains the line:</p>

  <p>#define BUILD_NUMBER 1</p>this line is replaced with:

  <p>#define BUILD_NUMBER 2</p>

  <p>If the file version.h contains the line:</p>

  <p>#define BUILD_NUMBER "103"</p>this line is replaced with:

  <p>#define BUILD_NUMBER "104"</p>

  <p>If Versionize can find the BUILD_TIME macro, the following characters in that line are deleted and replaced by the current time in local format. The local format of time is statically decided at
  Versionize compilation time (usually it is in hh:mm:ss format). If Versionize detects that the macro was defined between double quotes, it replicates them so that the string format is preserved.
  For example if the file version.h contains the line:</p>

  <p>#define BUILD_TIME 10:23:12</p>this line is replaced with:

  <p>#define BUILD_TIME 10:25:37</p>

  <p>if Versionize was launched at around 10:25. If the file version.h contains the line:</p>

  <p>#define BUILD_TIME "10:23:12"</p>this line is replaced with:

  <p>#define BUILD_TIME "10:25:37"</p>

  <p>If Versionize can find the BUILD_DATE macro, the following characters in that line are deleted and replaced by the current date in local format. The local format of date is statically decided at
  Versionize compilation time (usually it is in mm/dd/yy format). If Versionize detect that the macro was defined between double quotes, it replicates them so that the string format is preserved. For
  example if the file version.h contains the line:</p>

  <p>#define BUILD_DATE 07/03/04</p>this line is replaced with:

  <p>#define BUILD_DATE 07/05/04</p>

  <p>if Versionize was launched on the 5th of July in 2004. If the file version.h contains the line:</p>

  <p>#define BUILD_DATE "07/03/04"</p>this line is replaced with:

  <p>#define BUILD_DATE "07/05/04"</p>

  <p><b>Customizing Versionize behaviour</b></p>

  <p>You can specify a number of options to change the default behaviour of Versionize.</p>

  <p>You can make Versionize to update macros in a file other than version.h. Just specify the file name (and path, if needed) with the -f option. We suggest to include the macros in a short file to
  avoid Versionize wasting significative time while processing the file.</p>

  <p>You can change the name of the macros that Versionize is trying to update. Just specify any or all of the build number, time and date macros with the -n, -t and -d options.</p>

  <p>You can force Versionize to update the build number only or the time and date of compilation only instead of both. Use the "-m n" option to update the build number only and the "-m t" option to
  update time and date only.</p>

  <p>You can change the format in which time and date are displayed. Just specify the desired template strings with the -T and -D options. These strings can contain any number of tokens (see the
  table below) to customize the output format. The only limit is the size of the template that can be of 256 characters maximum.</p>

  <p>You can provide a file that specifies localized names for months, week day and AM/PM equivalent. Use the "-l localefile" option to specify the file name (and path, if needed). See "Localization
  of Versionize" paragrah if you need details on locale file format.</p>

  <p>For example, if we have the file version_defines.h with the following (partial) code:</p>#define VERSION_BUILDNUMBER "13"<br>
  #define VERSION_BUILDDATE "any"<br>
  #define VERSION_BUILDTIME "any"<br>

  <p>If, on the 7th of July in 2004 at 11:13:27, we execute Versionize with the following command:</p>

  <p>versionize -f version_defines.h -m t -d VERSION_BUILDDATE -t VERSION_BUILDTIME -D "Built on %a. %-d %B %Y" -T "%I:%M %p"</p>

  <p>the file version_defines.h is modified as following:</p>#define VERSION_BUILDNUMBER "13"<br>
  #define VERSION_BUILDDATE "Built on Wed. 7 July 2004"<br>
  #define VERSION_BUILDTIME "11:13 AM"<br>

  <p>If soon after we execute Versionize with the following command:</p>

  <p>versionize -f version_defines.h -m n -n VERSION_BUILDNUMBER</p>

  <p>the file version_defines.h is modified as following:</p>#define VERSION_BUILDNUMBER "14"<br>
  #define VERSION_BUILDDATE "Built on Wed. 7 July 2004"<br>
  #define VERSION_BUILDTIME "11:13 AM"<br>

  <p>If, on the 7th of July in 2004 at 11:13:27, we execute Versionize on the original version_defines.h with the following command:</p>

  <p>versionize -f version_defines.h -m t -d VERSION_BUILDDATE -t VERSION_BUILDTIME -D "Compilato %A %-d %B %Y" -T "%H:%M" -l italian</p>

  <p>where italian is the example locale file provided with Versionize, the file version_defines.h is modified as following:</p>#define VERSION_BUILDNUMBER "13"<br>
  #define VERSION_BUILDDATE "Compilato mercoled&igrave; 7 luglio 2004"<br>
  #define VERSION_BUILDTIME "11:13"<br>

  <p><b>Templates</b></p>

  <p>You can use the following tokens in date and time templates:</p>

  <table border="1" cellspacing="0" cellpadding="3" summary="">
    <tr>
      <td><b>Token</b></td>

      <td><b>Meaning</b></td>
    </tr>

    <tr>
      <td>%a</td>

      <td>short week day name</td>
    </tr>

    <tr>
      <td>%A</td>

      <td>complete week day name</td>
    </tr>

    <tr>
      <td>%b</td>

      <td>short month name</td>
    </tr>

    <tr>
      <td>%B</td>

      <td>complete month name</td>
    </tr>

    <tr>
      <td>%c</td>

      <td>local date and time</td>
    </tr>

    <tr>
      <td>%d</td>

      <td>month day</td>
    </tr>

    <tr>
      <td>%H</td>

      <td>hour (00-23)</td>
    </tr>

    <tr>
      <td>%I</td>

      <td>hour (01-12)</td>
    </tr>

    <tr>
      <td>%j</td>

      <td>year day (001-366)</td>
    </tr>

    <tr>
      <td>%m</td>

      <td>month (01-12)</td>
    </tr>

    <tr>
      <td>%M</td>

      <td>minutes (00-59)</td>
    </tr>

    <tr>
      <td>%p</td>

      <td>local AM/PM equivalent</td>
    </tr>

    <tr>
      <td>%S</td>

      <td>seconds (00-61)</td>
    </tr>

    <tr>
      <td>%U</td>

      <td>week number starting on Sunday (00-53)</td>
    </tr>

    <tr>
      <td>%w</td>

      <td>week day (00-06)</td>
    </tr>

    <tr>
      <td>%W</td>

      <td>week number starting on Monday (00-53)</td>
    </tr>

    <tr>
      <td>%x</td>

      <td>local date</td>
    </tr>

    <tr>
      <td>%X</td>

      <td>local time</td>
    </tr>

    <tr>
      <td>%y</td>

      <td>year number (00-99)</td>
    </tr>

    <tr>
      <td>%Y</td>

      <td>year number (yyyy)</td>
    </tr>

    <tr>
      <td>%Z</td>

      <td>time zone name</td>
    </tr>

    <tr>
      <td>%%</td>

      <td>%</td>
    </tr>

    <tr>
      <td>%!</td>

      <td>!</td>
    </tr>

    <tr>
      <td>%_</td>

      <td>space</td>
    </tr>
  </table>

  <p>Use the %-t format for any token t to prevent zero padding. For example, put %-d in the date template to output the month day from 1 to 31 without zero padding. This behaviour applies for %d,
  %H, %I, %j, %m, %M, %S, %w, %y and %Y tokens only; using the %-t format on other tokens produces the same result that the %t format produces.</p>

  <p>The tokens %a, %A, %b, %B and %p will produce localized output when the "-l localefile" option is used, as specified in the file localefile.</p>

  <p>If the option -! is used, you must write the tokens with a leading '!' char instead of the '%' char (!a, !A, !b, !B, ...). This can be useful
  to avoid the overloading of the '%' char: as the '%' char is widely used as a special char, this can lead to errors when calling versionize from other programs or IDEs.</p>

  <p><b>Localization of Versionize</b></p>

  <p>You can provide a file that specifies localized names for months, week day and AM/PM equivalent with the "-l localefile" option. In this file, the following line must be used to define the
  localized name of nth month (with n between 1 and 12):</p>

  <p>COMPLETEMONTH&lt;any spaces&gt;n&lt;any spaces&gt;"localized month name"</p>

  <p>The following line must be used to define the localized short name of nth month (with n between 1 and 12):</p>

  <p>SHORTMONTH&lt;any spaces&gt;n&lt;any spaces&gt;"localized month short name"</p>

  <p>The following line must be used to define the localized name of nth week day (with n between 1 and 7):</p>

  <p>COMPLETEWEEKDAY&lt;any spaces&gt;n&lt;any spaces&gt;"localized week day name"</p>

  <p>The following line must be used to define the localized short name of nth week day (with n between 1 and 7):</p>

  <p>SHORTWEEKDAY&lt;any spaces&gt;n&lt;any spaces&gt;"localized week day short name"</p>

  <p>The following line must be used to define the localized name of AM equivalent:</p>

  <p>AMEQUIVALENT&lt;any spaces&gt;"localized AM equivalent"</p>

  <p>The following line must be used to define the localized name of PM equivalent:</p>

  <p>PMEQUIVALENT&lt;any spaces&gt;"localized PM equivalent"</p>

  <p>These lines of text can be in any order and interposed with text and comments. Provide ALL the localized strings that you are going to use, because, otherwise, empty strings will replace the
  tokens. The file italian is provided as example:</p>COMPLETEMONTH1 "gennaio"<br>
  COMPLETEMONTH2 "febbraio"<br>
  COMPLETEMONTH3 "marzo"<br>
  COMPLETEMONTH4 "aprile"<br>
  COMPLETEMONTH5 "maggio"<br>
  COMPLETEMONTH6 "giugno"<br>
  COMPLETEMONTH7 "luglio"<br>
  COMPLETEMONTH8 "agosto"<br>
  COMPLETEMONTH9 "settembre"<br>
  COMPLETEMONTH10 "ottobre"<br>
  COMPLETEMONTH11 "novembre"<br>
  COMPLETEMONTH12 "dicembre"<br>
  SHORTMONTH1 "gen"<br>
  SHORTMONTH2 "feb"<br>
  SHORTMONTH3 "mar"<br>
  SHORTMONTH4 "apr"<br>
  SHORTMONTH5 "mag"<br>
  SHORTMONTH6 "giu"<br>
  SHORTMONTH7 "lug"<br>
  SHORTMONTH8 "ago"<br>
  SHORTMONTH9 "set"<br>
  SHORTMONTH10 "ott"<br>
  SHORTMONTH11 "nov"<br>
  SHORTMONTH12 "dic"<br>
  COMPLETEWEEKDAY1 "domenica"<br>
  COMPLETEWEEKDAY2 "luned&igrave;"<br>
  COMPLETEWEEKDAY3 "marted&igrave;"<br>
  COMPLETEWEEKDAY4 "mercoled&igrave;"<br>
  COMPLETEWEEKDAY5 "gioved&igrave;"<br>
  COMPLETEWEEKDAY6 "venerd&igrave;"<br>
  COMPLETEWEEKDAY7 "sabato"<br>
  SHORTWEEKDAY1 "dom"<br>
  SHORTWEEKDAY2 "lun"<br>
  SHORTWEEKDAY3 "mar"<br>
  SHORTWEEKDAY4 "mer"<br>
  SHORTWEEKDAY5 "gio"<br>
  SHORTWEEKDAY6 "ven"<br>
  SHORTWEEKDAY7 "sab"<br>
  AMEQUIVALENT "AM"<br>
  PMEQUIVALENT "PM"<br>
</body>
</html>
