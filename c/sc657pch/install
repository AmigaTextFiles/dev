.bra [
.ket ]

echo ""
echo "This script will apply the 6.57 patch for the"
echo "SAS/C Development System. This patch will read"
echo "from the original 6.50 system disks, but you "
echo "should have 6.56 installed on your system since"
echo "this patch does not update all of the files that"
echo "6.55 and 6.56 did."
echo ""
echo "Check the read.me file for a list of fixed bugs."
echo ""
ask "Continue with patch?"

if warn

if exists sc:c/smake
echo Patching SMAKE
decompress SASC_6.50_Disk_1:Compiler/c_files t: smake
spatch -osc:c/smake -psmake.pch t:smake
delete t:smake quiet
endif

if exists sc:c/scopts
echo Patching SCOPTS
decompress SASC_6.50_Disk_1:Compiler/c_files t: scopts
spatch -osc:c/scopts -pscopts.pch t:scopts
delete t:scopts quiet
endif

if exists sc:c/sc
echo Patching SC
decompress SASC_6.50_Disk_1:Compiler/c_files t: sc
spatch -osc:c/sc -psc.pch t:sc
delete t:sc quiet
endif

if exists sc:c/se
echo Patching SE
decompress SASC_6.50_Disk_1:Compiler/c_files t: se
spatch -osc:c/se -pse.pch t:se
delete t:se quiet
endif

if exists sc:c/slink
echo Patching slink
decompress SASC_6.50_Disk_1:Compiler/c_files t: slink
spatch -osc:c/slink -pslink.pch t:slink
delete t:slink quiet
endif

if exists sc:libs/sc2.library
echo Patching SC2.LIBRARY
decompress SASC_6.50_Disk_1:Compiler/libs_files t: sc2.library
spatch -osc:libs/sc2.library -psc2.pch t:sc2.library
delete t:sc2.library quiet
endif

if exists sc:libs/sc1.library
echo Patching SC1.LIBRARY
decompress SASC_6.50_Disk_1:Compiler/libs_files t: sc1.library
spatch -osc:libs/sc1.library -psc1.pch t:sc1.library
delete t:sc1.library quiet
endif

if exists sc:libs/scdebug.library
echo Patching SCDEBUG.LIBRARY
decompress SASC_6.50_Disk_1:Compiler/libs_files t: scdebug.library
spatch -osc:libs/scdebug.library -pscdebug.pch t:scdebug.library
delete t:scdebug.library quiet
endif

if exists sc:include/exec/execbase.h
echo Patching EXECBASE.H
decompress SASC_6.50_Disk_2:compiler/include/exec_files t: execbase.h
spatch -osc:include/exec/execbase.h -pexecbase.pch t:execbase.h 
delete t:execbase.h quiet
endif

if exists sc:cxxinclude/iostream.h
echo Patching IOSTREAM.H
decompress SASC_6.50_Disk_3:C_Plus_Plus/cxxinclude_files t: iostream.h
spatch -osc:cxxinclude/iostream.h -piostream.pch t:iostream.h
delete t:iostream.h quiet
endif

if exists sc:libs/scgo.library
echo Patching SCGO.LIBRARY
decompress SASC_6.50_Disk_3:optimizers/libs_files t: scgo.library
spatch -osc:libs/scgo.library -pscgo.pch t:scgo.library
delete t:scgo.library quiet
endif

if exists sc:libs/scpeep.library
echo Patching SCPEEP.LIBRARY
decompress SASC_6.50_Disk_3:optimizers/libs_files t: scpeep.library
spatch -osc:libs/scpeep.library -pscpeep.pch t:scpeep.library
delete t:scpeep.library quiet
endif

if exists sc:c/asm
echo Patching ASM
decompress SASC_6.50_Disk_3:Assembler/c_files t: asm
spatch -osc:c/asm -pasm.pch t:asm
delete t:asm quiet
endif


if exists sc:c/cpr
echo Patching CPR
decompress SASC_6.50_Disk_4:Debugger/c_files t: cpr
spatch -osc:c/cpr -pcpr.pch t:cpr
delete t:cpr quiet
endif

if exists sc:libs/schi.library
echo Patching SCHI.LIBRARY
decompress SASC_6.50_Disk_4:Debugger/libs_files t: schi.library
spatch -osc:libs/schi.library -pschi.pch t:schi.library
delete t:schi.library quiet
endif

if exists sc:c/cprx
echo Patching CPRX
decompress SASC_6.50_Disk_4:Cross_Debugger/c_files t: cprx
spatch -osc:c/cprx -pcprx.pch t:cprx
delete t:cprx quiet
endif

if exists sc:c/omd
echo Patching OMD
decompress SASC_6.50_Disk_5:Extra_Utilities/c_files t: omd
spatch -osc:c/omd -pomd.pch t:omd
delete t:omd quiet
endif

if exists sc:source/_tzset.c
echo Replacing _tzset.c
copy _tzset.c sc:source/_tzset.c
endif


if exists sc:lib/sc.lib
echo Replacing functions in SC.LIB
oml sc:lib/sc.lib r _sf.osc _sfmt.osc fdopen.osc _iob.osc ctime.osc _stackext.osc fseek.osc getclk.osc chgclk.osc mktime.osc gmtime.osc fputc.osc fwrite.osc llspopel.cxx.o llisget0.cxx.o llisget1.cxx.o llisget2.cxx.o llisget3.cxx.o llisget4.cxx.o llisget5.cxx.o llisgtl0.cxx.o llisigno.cxx.o llispeek.cxx.o llisred0.cxx.o timedelay.osc
endif


if exists sc:lib/scs.lib
echo Replacing functions in SCS.LIB
oml sc:lib/scs.lib r _sf.oscs _sfmt.oscs fdopen.oscs _iob.oscs ctime.oscs _stackext.oscs fseek.oscs getclk.oscs chgclk.oscs mktime.oscs gmtime.oscs  fputc.oscs fwrite.oscs timedelay.oscs
endif

if exists sc:lib/scnb.lib
echo Replacing functions in SCNB.LIB
oml sc:lib/scnb.lib r _sf.oscnb _sfmt.oscnb fdopen.oscnb _iob.oscnb ctime.oscnb _stackext.oscnb fseek.oscnb getclk.oscnb chgclk.oscnb mktime.oscnb gmtime.oscnb  fputc.oscnb fwrite.oscnb  llspopel.cxxnb.o llisget0.cxxnb.o llisget1.cxxnb.o llisget2.cxxnb.o llisget3.cxxnb.o llisget4.cxxnb.o llisget5.cxxnb.o llisgtl0.cxxnb.o llisigno.cxxnb.o llispeek.cxxnb.o llisred0.cxxnb.o timedelay.oscnb
endif

if exists sc:lib/scsnb.lib
echo Replacing functions in SCSNB.LIB
oml sc:lib/scsnb.lib r _sf.oscsnb _sfmt.oscsnb fdopen.oscsnb _iob.oscsnb ctime.oscsnb _stackext.oscsnb fseek.oscsnb getclk.oscsnb chgclk.oscsnb mktime.oscsnb gmtime.oscsnb fputc.oscsnb fwrite.oscsnb timedelay.oscsnb
endif

if exists sc:lib/scm.lib
echo Replacing functions in SCM.LIB
oml sc:lib/scm.lib r _sfmt.oscm
endif

if exists sc:lib/scms.lib
echo Replacing functions in SCMS.LIB
oml sc:lib/scms.lib r _sfmt.oscms
endif

if exists sc:lib/scmnb.lib
echo Replacing functions in SCMNB.LIB
oml sc:lib/scmnb.lib r _sfmt.oscmnb
endif

if exists sc:lib/scmsnb.lib
echo Replacing functions in SCMSNB.LIB
oml sc:lib/scmsnb.lib r _sfmt.oscmsnb
endif

if exists sc:lib/scmieee.lib
echo Replacing functions in SCMIEEE.LIB
oml sc:lib/scmieee.lib r _sfmt.oscmieee
endif

if exists sc:lib/scm881.lib
echo Replacing functions in SCM881.LIB
oml sc:lib/scm881.lib r _sfmt.oscm881
endif

if exists sc:lib/scmffp.lib
echo Replacing functions in SCMFFP.LIB
oml sc:lib/scmffp.lib r _sfmt.oscmffp
endif


echo "Adding new 68040 math library (scm040.lib)"
copy scm040.lib sc:lib


endif
