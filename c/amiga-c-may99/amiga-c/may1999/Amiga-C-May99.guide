@database Amiga_C_List.guide
@width 70

@node "Introduction" "Introduction"
@wordwrap

                         Amiga-C Mailing List Guide
                         ==========================

This guide is intended as an easy reference to the Amiga C mailing list.

It contains messages posted to the Amiga C mailing list during the month shown on the main page.

To subscribe to the Amiga C mailing list, go to the address below.



This AmigaGuide was created using GuideMaker.rexx © Roger Light 1999
@endnode

@node "Main" "Amiga C Mailing List Guide"
                    @{b}Amiga C Mailing List Guide
                    ==========================@{ub}


                          May 1999

@{" Introduction " link Introduction } Introduction to the guide.

@{" Search " SYSTEM "RUN <>NIL: Searchguide test.guide"} Search this file (requres SearchGuide)

 ------------------------------------------------------------------- 

@{" a few questions :( " Link "Mail_0"}      Oliver Marks
@{" Re: a few questions :( " Link "Mail_1"}      Daithi O'Cuinn
@{" Re: a few questions :( " Link "Mail_2"}      Ben Hutchings
@{" Re: a few questions :( " Link "Mail_3"}      Ben Hutchings
@{" Re: a few questions :( " Link "Mail_4"}      Laurent FAILLIE
@{" add events " Link "Mail_5"}      Linus McCabe
@{" Re: add events " Link "Mail_6"}      Ben Hutchings
@{" Re: add events " Link "Mail_7"}      John Niclasen
@{" Re: add events " Link "Mail_8"}      Linus McCabe
@{" Re: add events " Link "Mail_9"}      Mike Carter
@{" Re: add events " Link "Mail_10"}      Linus McCabe
@{" Re: add events " Link "Mail_11"}      Olaf Barthel
@{" Re: add events " Link "Mail_12"}      Linus McCabe
@{" Re: add events " Link "Mail_13"}      Olaf Barthel
@{" Re: add events " Link "Mail_14"}      Ben Hutchings
@{" add menu event " Link "Mail_15"}      Linus McCabe
@{" Re: add menu event " Link "Mail_16"}      Olaf Barthel
@{" Re: add menu event " Link "Mail_17"}      Jarno van der Linden
@{" Re: add menu event " Link "Mail_18"}      Linus McCabe
@{" Re: add menu event " Link "Mail_19"}      Linus McCabe
@{" Re: add menu event " Link "Mail_20"}      Olaf Barthel
@{" Re: add menu event " Link "Mail_21"}      Linus McCabe
@{" AddPart() " Link "Mail_22"}      Bob Lanham
@{" AW: [amiga-c] AddPart() " Link "Mail_23"}      Alfred Schwarz
@{" Re: AddPart() " Link "Mail_24"}      DenJS
@{" Re: AddPart() " Link "Mail_25"}      Tim Hanson
@{" Amiga C Compiler exe's " Link "Mail_26"}      Mike Carter
@{" Re: Amiga C Compiler exe's " Link "Mail_27"}      Tim Hanson
@{" Amiga C guide " Link "Mail_28"}      Roger Light
@{" Re: Amiga C guide " Link "Mail_29"}      Mike Carter
@{" Re: Amiga C guide " Link "Mail_30"}      Roger Light
@{" Re: Amiga C guide " Link "Mail_31"}      Mike Carter
@{" Re: Amiga C guide " Link "Mail_32"}      Roger Light
@{" Re: AmigaDOS limits " Link "Mail_33"}      BlackMael
@{" Re: AmigaDOS limits " Link "Mail_34"}      "Alfred P. Schwarz"
@{" Antwort: [amiga-c] GCC - preinstallation worries " Link "Mail_35"}      Raimund Dold
@{" Assign Qu " Link "Mail_36"}      mark harman
@{" Re: Assign Qu " Link "Mail_37"}      Ben Hutchings
@{" Aztec (manx) C Compiler. " Link "Mail_38"}      Colin Wenzel
@{" Beginner question, subrutines etc " Link "Mail_39"}      TigerGutt
@{" Re: Beginner question, subrutines etc " Link "Mail_40"}      Linus McCabe
@{" Re: Beginner question, subrutines etc " Link "Mail_41"}      Malcolm Campbell
@{" Re: Beginner question, subrutines etc " Link "Mail_42"}      "William W. Toner II (amigabill)"
@{" Re: Beginner question, subrutines etc " Link "Mail_43"}      Niels de Koning
@{" Re: Beginner question, subrutines etc " Link "Mail_44"}      Christoph Krakowski
@{" BitMap24 class " Link "Mail_45"}      Jarno van der Linden
@{" Bob collisions? " Link "Mail_46"}      Darryl Hartwig
@{" Re: Bob collisions? " Link "Mail_47"}      John Niclasen
@{" Re: Bob collisions? " Link "Mail_48"}      Darryl Hartwig
@{" Re: BSD Sockets " Link "Mail_49"}      Fredrik Söderberg
@{" Re: C and C++ (was: String handling in C) " Link "Mail_50"}      Andrew Markwell
@{" C IDE " Link "Mail_51"}      Mike Carter
@{" C-code in Microdot... ARGH! " Link "Mail_52"}      "Richard F. Smit"
@{" Re: C-code in Microdot... ARGH! " Link "Mail_53"}      John Niclasen
@{" Re: C-code in Microdot... ARGH! " Link "Mail_54"}      Daithi O'Cuinn
@{" Re: C-code in Microdot... ARGH! " Link "Mail_55"}      "Richard F. Smit"
@{" cd drives " Link "Mail_56"}      Oliver Marks
@{" Re: cd drives " Link "Mail_57"}      Roger Light
@{" Re: cd drives " Link "Mail_58"}      Mike Carter
@{" Chip Mem & Picture.datatype " Link "Mail_59"}      Mike Carter
@{" Re: Chip Mem & Picture.datatype " Link "Mail_60"}      Linus McCabe
@{" Re: Chip Mem & Picture.datatype " Link "Mail_61"}      Olaf Barthel
@{" cloning an image " Link "Mail_62"}      Linus McCabe
@{" Re: cloning an image " Link "Mail_63"}      Tim Hanson
@{" Re: cloning an image " Link "Mail_64"}      Linus McCabe
@{" Collecting Tips (was: Re: StormC vs SAS/C, exe file size) " Link "Mail_65"}      Christian Hattemer
@{" collections " Link "Mail_66"}      Bob Lanham
@{" AW: [amiga-c] collections " Link "Mail_67"}      Fritsch Alexander
@{" Re: collections " Link "Mail_68"}      Laurent FAILLIE
@{" Re: collections " Link "Mail_69"}      Andrew Markwell
@{" Re: collections " Link "Mail_70"}      Steven Solie
@{" Re: collections " Link "Mail_71"}      Bob Lanham
@{" Re: collections " Link "Mail_72"}      Christoph Krakowski
@{" Re: collections " Link "Mail_73"}      Christoph Krakowski
@{" Re: collections " Link "Mail_74"}      Laurent FAILLIE
@{" Re: collections " Link "Mail_75"}      Ben Hutchings
@{" colortable a mess " Link "Mail_76"}      Bob Lanham
@{" Re: colortable a mess " Link "Mail_77"}      John Niclasen
@{" Config file read, write, modify " Link "Mail_78"}      Fritsch Alexander
@{" Re: Config file read, write, modify " Link "Mail_79"}      Christian Hattemer
@{" AW: [amiga-c] Config file read, write, modify " Link "Mail_80"}      Fritsch Alexander
@{" Re: Config file read, write, modify " Link "Mail_81"}      Christian Hattemer
@{" Re: Config file read, write, modify " Link "Mail_82"}      Mike Carter
@{" AW: [amiga-c] Config file read, write, modify " Link "Mail_83"}      Fritsch Alexander
@{" Counting the bits in a long " Link "Mail_84"}      Niels de Koning
@{" DataType Color Tables " Link "Mail_85"}      Bob Lanham
@{" Datatype CRegs " Link "Mail_86"}      Bob Lanham
@{" Re: Datatype Picture " Link "Mail_87"}      Fredrik Söderberg
@{" Re: Datatype Picture " Link "Mail_88"}      Stephan Lichtendahl
@{" Re: Datatype Picture " Link "Mail_89"}      Bob Lanham
@{" Re: Datatype Picture " Link "Mail_90"}      Mike Carter
@{" Re: Datatype Picture " Link "Mail_91"}      Bob Lanham
@{" Re: Datatype Picture " Link "Mail_92"}      Linus McCabe
@{" Re: Datatype Picture " Link "Mail_93"}      Mike Carter
@{" Re: DataType Question - 24bit pictures " Link "Mail_94"}      Steven Solie
@{" DataType Question - 24bit pictures " Link "Mail_95"}      Niels de Koning
@{" Re: DataType Question - 24bit pictures " Link "Mail_96"}      Ben Hutchings
@{" Re: DataType Question - 24bit pictures " Link "Mail_97"}      "Alfred P. Schwarz"
@{" Datatype question - again..... " Link "Mail_98"}      Niels de Koning
@{" Re: Datatype question - again..... " Link "Mail_99"}      Olaf Barthel
@{" Re: Datatype question - again..... " Link "Mail_100"}      Niels de Koning
@{" Datatypes support alpha channel? " Link "Mail_101"}      Jonas Hulten
@{" Re: Digest Number 11 " Link "Mail_102"}      Stephan Lichtendahl
@{" equ " Link "Mail_103"}      Mike Carter
@{" Fake Transparency " Link "Mail_104"}      Mike Carter
@{" Re: Fake Transparency " Link "Mail_105"}      Jarno van der Linden
@{" Re: Fake Transparency " Link "Mail_106"}      Olaf Barthel
@{" Finding line of code memory was allocated on ?? " Link "Mail_107"}      Dominic Clifton
@{" Re: Finding line of code memory was allocated on ?? " Link "Mail_108"}      Christian Hattemer
@{" Re: Finding line of code memory was allocated on ?? " Link "Mail_109"}      Olaf Barthel
@{" Re: Finding line of code memory was allocated on ?? " Link "Mail_110"}      Christoph Krakowski
@{" FitText with IntuiTextLength " Link "Mail_111"}      Luiz Gustavo Castelan Póvoas
@{" Re: FitText with IntuiTextLength " Link "Mail_112"}      Ben Hutchings
@{" Re: Gadtools TextFont " Link "Mail_113"}      Ben Hutchings
@{" Gadtools TextFont " Link "Mail_114"}      Luiz Gustavo Castelan Póvoas
@{" Re: GCC - preinstallation worries " Link "Mail_115"}      James McArthur
@{" GCC - preinstallation worries " Link "Mail_116"}      Ade
@{" Re: GCC - preinstallation worries " Link "Mail_117"}      James McArthur
@{" Re: GCC - preinstallation worries " Link "Mail_118"}      Ade
@{" Re: GCC - preinstallation worries " Link "Mail_119"}      Jesper Svennevid
@{" generating pragmas " Link "Mail_120"}      Linus McCabe
@{" How do you Backfill a window ? " Link "Mail_121"}      Dominic Clifton
@{" Re: How do you Backfill a window ? " Link "Mail_122"}      Olaf Barthel
@{" Re: How do you Backfill a window ? " Link "Mail_123"}      Dominic Clifton
@{" Re: How do you Backfill a window ? " Link "Mail_124"}      Olaf Barthel
@{" Re: How do you Backfill a window ? " Link "Mail_125"}      Dominic Clifton
@{" Re: How do you Backfill a window ? " Link "Mail_126"}      Dominic Clifton
@{" Re: How do you Backfill a window ? " Link "Mail_127"}      Olaf Barthel
@{" Re: How do you Backfill a window ? " Link "Mail_128"}      Olaf Barthel
@{" Re: How do you Backfill a window ? " Link "Mail_129"}      Mike Carter
@{" Re: How do you Backfill a window ? " Link "Mail_130"}      Olaf Barthel
@{" ImagePool.library " Link "Mail_131"}      Linus McCabe
@{" Re: ImagePool.library " Link "Mail_132"}      Mike Carter
@{" ImageStudioNG " Link "Mail_133"}      Dave Humphreys
@{" Re: IntuiText Lenght " Link "Mail_134"}      Ben Hutchings
@{" Re: IntuiText Lenght " Link "Mail_135"}      Ben Hutchings
@{" Intuition Bug/Limitation or a bug of mine ? " Link "Mail_136"}      Felix Schwarz
@{" Re: Intuition Info " Link "Mail_137"}      Olaf Barthel
@{" kprintf and libraries " Link "Mail_138"}      Linus McCabe
@{" Re: kprintf and libraries " Link "Mail_139"}      Olaf Barthel
@{" Re: kprintf and libraries " Link "Mail_140"}      Linus McCabe
@{" Re: kprintf and libraries " Link "Mail_141"}      Olaf Barthel
@{" Re: kprintf and libraries " Link "Mail_142"}      Laurent FAILLIE
@{" Re: kprintf and libraries " Link "Mail_143"}      Linus McCabe
@{" Re: kprintf and libraries " Link "Mail_144"}      Olaf Barthel
@{" Re: kprintf and libraries " Link "Mail_145"}      Olaf Barthel
@{" Re: kprintf and libraries " Link "Mail_146"}      Linus McCabe
@{" Learning C " Link "Mail_147"}      4-0
@{" Re: Learning C " Link "Mail_148"}      Mike Carter
@{" Re: Learning C " Link "Mail_149"}      Daniel Schwill
@{" Re: Learning C " Link "Mail_150"}      4-0
@{" library " Link "Mail_151"}      Linus McCabe
@{" Re: library " Link "Mail_152"}      Ben Hutchings
@{" Re: library " Link "Mail_153"}      Linus McCabe
@{" Re: library " Link "Mail_154"}      Olaf Barthel
@{" Re: library " Link "Mail_155"}      Linus McCabe
@{" mem handler " Link "Mail_156"}      Linus McCabe
@{" Re: mem handler " Link "Mail_157"}      Olaf Barthel
@{" Re: mem handler " Link "Mail_158"}      Linus McCabe
@{" AW: [amiga-c] mem handler " Link "Mail_159"}      Fritsch Alexander
@{" Re: mem handler " Link "Mail_160"}      Laurent FAILLIE
@{" mem handler " Link "Mail_161"}      Linus McCabe
@{" Re: mem handler " Link "Mail_162"}      Linus McCabe
@{" Re: mem handler " Link "Mail_163"}      Laurent FAILLIE
@{" mem handler again " Link "Mail_164"}      Linus McCabe
@{" Re: mem handler again " Link "Mail_165"}      Olaf Barthel
@{" Re: mem handler again " Link "Mail_166"}      Linus McCabe
@{" Re: mem handler again " Link "Mail_167"}      Linus McCabe
@{" Re: mem handler again " Link "Mail_168"}      Olaf Barthel
@{" Re: mem handler again " Link "Mail_169"}      Ben Hutchings
@{" Re: mem handler again " Link "Mail_170"}      Linus McCabe
@{" Re: mem handler again " Link "Mail_171"}      Ben Hutchings
@{" Re: mem handler again " Link "Mail_172"}      Olaf Barthel
@{" Re: mem handler again " Link "Mail_173"}      Linus McCabe
@{" Re: mem handler again " Link "Mail_174"}      Linus McCabe
@{" Mooooooooo :8 " Link "Mail_175"}      Mike Carter
@{" Re: Mooooooooo :8 " Link "Mail_176"}      Christian Hattemer
@{" Re: Mooooooooo :8 " Link "Mail_177"}      Linus McCabe
@{" Re: Mooooooooo :8 " Link "Mail_178"}      Mike Carter
@{" Re: Mooooooooo :8 " Link "Mail_179"}      Mike Carter
@{" Motorola manuals " Link "Mail_180"}      Daniel Schwill
@{" MUI balooey. " Link "Mail_181"}      Mike Carter
@{" Re: MUI balooey. " Link "Mail_182"}      Linus McCabe
@{" Re: MUI balooey. " Link "Mail_183"}      Daniel Schwill
@{" Re: MUI cycle " Link "Mail_184"}      Daniel Schwill
@{" Re: MUI cycle " Link "Mail_185"}      Mike Carter
@{" Re: MUI cycle " Link "Mail_186"}      Linus McCabe
@{" Re: MUI cycle " Link "Mail_187"}      Daniel Schwill
@{" Re: MUI cycle " Link "Mail_188"}      DenJS
@{" Re: MUI cycle " Link "Mail_189"}      Christian Hattemer
@{" Re: MUI cycle " Link "Mail_190"}      Mike Carter
@{" Re: MUI cycle " Link "Mail_191"}      Christian Hattemer
@{" Re: MUI cycle " Link "Mail_192"}      Gregory Roberts II
@{" multi menus " Link "Mail_193"}      Bob Lanham
@{" Re: multi menus " Link "Mail_194"}      Olaf Barthel
@{" Re: New C user " Link "Mail_195"}      Stephen Williams
@{" os3.5 " Link "Mail_196"}      Mike Carter
@{" Re: os3.5 " Link "Mail_197"}      Olaf Barthel
@{" Palettes " Link "Mail_198"}      Duncan Strand
@{" Re: Palettes " Link "Mail_199"}      Tim Hanson
@{" Re: Parallel I/O? " Link "Mail_200"}      Jonas Hulten
@{" PCD files " Link "Mail_201"}      Felix Schwarz
@{" PCMCIA " Link "Mail_202"}      DenJS
@{" Re: PCMCIA " Link "Mail_203"}      Ben Hutchings
@{" picture.datatype remap to static colour palette " Link "Mail_204"}      Steven Solie
@{" Re: picture.datatype remap to static colour palette " Link "Mail_205"}      Olaf Barthel
@{" plugins " Link "Mail_206"}      Mike Carter
@{" Re: plugins " Link "Mail_207"}      Christian Hattemer
@{" Re: plugins " Link "Mail_208"}      Linus McCabe
@{" Re: PointerVariables or variables?? " Link "Mail_209"}      Jarno van der Linden
@{" Re: PointerVariables or variables?? " Link "Mail_210"}      Jesper Svennevid
@{" Re: PointerVariables or variables?? " Link "Mail_211"}      BlackMael
@{" Re: PointerVariables or variables?? " Link "Mail_212"}      Ben Hutchings
@{" printf and stuff " Link "Mail_213"}      Linus McCabe
@{" Re: printf and stuff " Link "Mail_214"}      Mike Carter
@{" printf code " Link "Mail_215"}      Linus McCabe
@{" Re: printf code " Link "Mail_216"}      John Niclasen
@{" Re: printf code " Link "Mail_217"}      Stephen Williams
@{" Re: printf code " Link "Mail_218"}      Ben Hutchings
@{" printf() " Link "Mail_219"}      Christian Hattemer
@{" Re: printf() " Link "Mail_220"}      Ben Hutchings
@{" Re: printf() " Link "Mail_221"}      Ben Hutchings
@{" Re: printf() " Link "Mail_222"}      "Richard F. Smit"
@{" Re: printf() " Link "Mail_223"}      Christian Hattemer
@{" Re: printf() " Link "Mail_224"}      "Richard F. Smit"
@{" Progress bar image class " Link "Mail_225"}      Ben Hutchings
@{" RastPorts and BitMaps and CyberGFX " Link "Mail_226"}      Tim Hanson
@{" Re: RastPorts and BitMaps and CyberGFX " Link "Mail_227"}      ROBERT MEYERS
@{" Re: RastPorts and BitMaps and CyberGFX " Link "Mail_228"}      Tim Hanson
@{" remapping datatype pictures " Link "Mail_229"}      Bob Lanham
@{" RunCommand " Link "Mail_230"}      Mike Carter
@{" Re: RunCommand " Link "Mail_231"}      BlackMael
@{" Re: SAS-C GST " Link "Mail_232"}      BlackMael
@{" Saving tooltypes? " Link "Mail_233"}      Yves Grabowsky
@{" Re: Serial device troubles " Link "Mail_234"}      Jonas Hulten
@{" Re: Serial port speed " Link "Mail_235"}      Mike Carter
@{" Re: Serial port speed " Link "Mail_236"}      Stephan Lichtendahl
@{" Re: Serial port speed " Link "Mail_237"}      Dominic Clifton
@{" Sound libraries " Link "Mail_238"}      Mike Carter
@{" Re: Sound libraries " Link "Mail_239"}      Ben Hutchings
@{" Speech Recognition " Link "Mail_240"}      John Haubrich
@{" Spreadsheet MUI " Link "Mail_241"}      Mike Carter
@{" Re: Spreadsheet MUI " Link "Mail_242"}      Daniel Schwill
@{" Re: StormC vs SAS/C, exe file size " Link "Mail_243"}      Mike Carter
@{" Re: StormC vs SAS/C, exe file size " Link "Mail_244"}      Stephen Williams
@{" Re: StormC vs SAS/C, exe file size " Link "Mail_245"}      Stephen Williams
@{" Re: StormC vs SAS/C, exe file size " Link "Mail_246"}      Christian Hattemer
@{" Re: StormC vs SAS/C, exe file size " Link "Mail_247"}      Mike Carter
@{" Re: StormC vs SAS/C, exe file size " Link "Mail_248"}      Ben Hutchings
@{" SystemTags() " Link "Mail_249"}      Mike Carter
@{" Re: SystemTags() " Link "Mail_250"}      Olaf Barthel
@{" Re: SystemTags() " Link "Mail_251"}      Ben Hutchings
@{" Re: SystemTags() " Link "Mail_252"}      Mike Carter
@{" Re: SystemTags() " Link "Mail_253"}      Olaf Barthel
@{" Re: SystemTags() " Link "Mail_254"}      Mike Carter
@{" Re: SystemTags() " Link "Mail_255"}      Olaf Barthel
@{" Re: SystemTags() " Link "Mail_256"}      BlackMael
@{" Tag lines " Link "Mail_257"}      Tim Hanson
@{" Re: Tag lines " Link "Mail_258"}      Linus McCabe
@{" tapedeck.gadget " Link "Mail_259"}      Joakim Nordström
@{" unix emulation " Link "Mail_260"}      Mike Carter
@{" Re: unix emulation " Link "Mail_261"}      Richard Drummond
@{" using define " Link "Mail_262"}      jack york
@{" Re: using define " Link "Mail_263"}      Christian Hattemer
@{" Re: using define " Link "Mail_264"}      Laurent FAILLIE
@{" Re: using define " Link "Mail_265"}      Ben Hutchings
@{" Re: using define " Link "Mail_266"}      Tim Hanson
@{" Re: using define " Link "Mail_267"}      Christoph Krakowski
@{" Re: using define " Link "Mail_268"}      "Richard F. Smit"
@{" Re: using define " Link "Mail_269"}      Tim Hanson
@{" Re: using define " Link "Mail_270"}      Christoph Krakowski
@{" Re: using define " Link "Mail_271"}      Alfred Schwarz
@{" Re: using define " Link "Mail_272"}      Christian Hattemer
@{" Re: using define " Link "Mail_273"}      Christoph Krakowski
@{" Re: using define " Link "Mail_274"}      Ben Hutchings
@{" Re: using define " Link "Mail_275"}      Christian Hattemer
@{" Re: using define " Link "Mail_276"}      Tim Hanson
@{" Re: using define " Link "Mail_277"}      Ben Hutchings
@{" Re: using define " Link "Mail_278"}      Ben Hutchings
@{" Re: using define " Link "Mail_279"}      Tim Hanson
@{" using define - THANKS " Link "Mail_280"}      jack york
@{" V39 Triple Buffering in a window " Link "Mail_281"}      Tim Hanson
@{" Re: V39 Triple Buffering in a window " Link "Mail_282"}      Olaf Barthel
@{" Re: V39 Triple Buffering in a window " Link "Mail_283"}      Tim Hanson
@{" Re: V39 Triple Buffering in a window " Link "Mail_284"}      Fabrice Rousselot --Paris
@{" when a screen closes " Link "Mail_285"}      Linus McCabe
@{" Re: when a screen closes " Link "Mail_286"}      Tim Hanson
@{" Re: when a screen closes " Link "Mail_287"}      Colin Wenzel
@{" Re: when a screen closes " Link "Mail_288"}      Linus McCabe
@{" Yet another beginner question :D " Link "Mail_289"}      TigerGutt
@{" Yet another beginner question :D " Link "Mail_290"}      TigerGutt
@{" Re: Yet another beginner question :D " Link "Mail_291"}      Ben Hutchings
@{" ZModem cancelling and XPR Versions (attn: olaf) " Link "Mail_292"}      Dominic Clifton
@{" Re: ZModem cancelling and XPR Versions (attn: olaf) " Link "Mail_293"}      Olaf Barthel
@{" Re: ZModem cancelling and XPR Versions (attn: olaf) " Link "Mail_294"}      Dominic Clifton
@{" Re: ZModem cancelling and XPR Versions (attn: olaf) " Link "Mail_295"}      Olaf Barthel
@ENDNODE
@NODE "Mail_0" " a few questions :( "
From: Oliver Marks <oly@enterprise.net>
Date: 05-08-99 12:07:12
Subject: @{b}a few questions :(@{ub}

From: "Oliver Marks" <oly@enterprise.net>

Hi,

I have been exsperimenting with c and have to questions what is void
and is there anyway you can use .b .w .l and so obn like in blitz and
assembler i am using vbcc.
-----------------------------------------------------------
ICQ#:  33315204
Url :  http://www.homepages.enterprise.net/oly/games/index.htm



------------------------------------------------------------------------
Join the Star Wars craze!
http://www.onelist.com
Set up your Star Wars list at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_1" " Re: a few questions :( "
From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
Date: 05-08-99 21:06:42
Subject: @{b}Re: a few questions :(@{ub}

From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

Hello Oliver

On 08-May-99, Oliver Marks wrote:
> From: "Oliver Marks" <oly@enterprise.net>
> 
> Hi,
> 
> I have been exsperimenting with c and have to questions what is void
> and is there anyway you can use .b .w .l and so obn like in blitz and
> assembler i am using vbcc.

.b, .l and .w are just data types, to tell the compiler how much space to
allocate for storage. In C, this roughly translates :

.b is char type
.w is int type
.l is long type

So, instead of i.w = 0

int i = 0;

Of course, if i wanted to confuse you I could tell you that long and int are
the same size on the Amiga... ;)

void means that you don't want to declare a type at all.

So

void main(void)

means you declare a function main and say to the compiler that it isn't to
expect any params or return value.

Regards
-----------------------------------------------------------
Daithi O'Cuinn
docuinn@cluke.demon.co.uk


------------------------------------------------------------------------
Want to learn more about your list users?
http://www.onelist.com
Now you can with our new User Survey Tool - see homepage for details
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_2" " Re: a few questions :( "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-08-99 21:12:49
Subject: @{b}Re: a few questions :(@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sat, May 08, 1999 at 11:07:12AM +0000, Oliver Marks wrote:
> From: "Oliver Marks" <oly@enterprise.net>
> 
> Hi,
> 
> I have been exsperimenting with c and have to questions what is void

As the dictionary will tell you, `void' means `nothing'.  If a
function is defined as returning `void', that means that it does
not return a value (so it is really a procedure).  If a function
is defined as taking `void' as arguments, that means that it does
not take any arguments.

A pointer to void (written `void *') is a pointer to some data of
unspecified type.  You can't do look up data through it until you know
what type of data it really points to, and convert (`cast' in C
terminology) it into the right sort of pointer.  It's used in some
situations where code is dealing with blocks of memory rather than
particular types of data.  It's also used where a pointer to one of
two or more different types of data may be accepted.  The information
about which type of data it really points to must be stored
separately.

> and is there anyway you can use .b .w .l and so obn like in blitz and
> assembler i am using vbcc.

Put this line near the top of your source file:

    #include <exec/types.h>

That defines the types BYTE, WORD and LONG corresponding to the 68000
types selected by .b, .w and .l.  It also defines UBYTE, UWORD and
ULONG for unsigned versions.  You have to decide which ones to use so
that the comparison operators (<, <=, >, >=) will work correctly.  In
assembly language you specify which kind of comparison to use each
time; in C the compiler selects it for you.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_3" " Re: a few questions :( "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-08-99 23:46:12
Subject: @{b}Re: a few questions :(@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sat, May 08, 1999 at 08:06:42PM +0000, Daithi O'Cuinn wrote:
> From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
> 
> Hello Oliver
> 
> On 08-May-99, Oliver Marks wrote:
> > From: "Oliver Marks" <oly@enterprise.net>
> > 
> > Hi,
> > 
> > I have been exsperimenting with c and have to questions what is void
> > and is there anyway you can use .b .w .l and so obn like in blitz and
> > assembler i am using vbcc.
> 
> .b, .l and .w are just data types, to tell the compiler how much space to
> allocate for storage. In C, this roughly translates :
> 
> .b is char type
> .w is int type
> .l is long type

No, they are BYTE, WORD and LONG which currently happen to be defined
as char, short and long.  The uppercase typedefs are actually intended
to correspond to those 68000 data types, while the others may change.

> So, instead of i.w = 0
> 
> int i = 0;
> 
> Of course, if i wanted to confuse you I could tell you that long and int are
> the same size on the Amiga... ;)

Usually.  But some old C compilers had 16-bit ints, and SAS/C and GNU
C support this as an option.

> void means that you don't want to declare a type at all.
> 
> So
> 
> void main(void)
> 
> means you declare a function main and say to the compiler that it isn't to
> expect any params or return value.

This is a bad example, because void main(void) is not allowed in
Standard C and is not properly supported by most Amiga compilers
(it results in a garbage return code that breaks shell scripts).

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
Did you know that
http://www.ONElist.com
More than 3.5 million people are using ONElist?
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_4" " Re: a few questions :( "
From: Laurent FAILLIE <l_faillie@yahoo.com>
Date: 05-10-99 12:15:29
Subject: @{b}Re: a few questions :(@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>

--- Daithi O'Cuinn <docuinn@cluke.demon.co.uk> wrote:
> From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
> 
> .b is char type
> .w is int type
> .l is long type
> 

No, on the Amiga, 'int' is only a 16 bits word for the
old Aztec compiler ! In fact, it's no garanti about
'int' size. For a word, use 'short' type.

    short my16b;

    Laurent
===
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


------------------------------------------------------------------------
To unsubscribe from this mailing list, or to change your subscription
to digest, go to the ONElist web site, at http://www.onelist.com and
select the Member Center link from the menu bar on the left.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_5" " add events "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-07-99 21:43:10
Subject: @{b}add events@{ub}

From: Linus McCabe <sparkle@hehe.com>


I wonder if there is a way to trick programs to make them think they get
mouseclicks or menu-choices?

Any hints for me?

/Linus

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Now you better stop, and rebuild all your ruins, cause peace and trust can
win the day despite of all your losings



------------------------------------------------------------------------
ONElist:  Where Star Wars fans unite!
http://www.onelist.com
Find your Star Wars list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_6" " Re: add events "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-08-99 04:17:24
Subject: @{b}Re: add events@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, May 07, 1999 at 10:43:10PM +0200, Linus McCabe wrote:
> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> I wonder if there is a way to trick programs to make them think they get
> mouseclicks or menu-choices?

See input.device/IND_WRITEEVENT.  There's an example program in the
RKRM Companion which demonstrates this.

You might do better to send IntuiMessages to the window's UserPort,
but you would need to take a lot of care to simulate these things
properly.  You should probably use LockIBase/UnlockIBase around
PutMsg calls to ensure synchronisation with Intuition operations.
You really shouldn't do this in an ordinary application.

Ben.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
Always wanted to set up a book club, but can't find the time?
http://www.onelist.com
Create an online book club through ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_7" " Re: add events "
From: John Niclasen <Niclasen@bigfoot.com>
Date: 05-08-99 12:05:46
Subject: @{b}Re: add events@{ub}

From: John Niclasen <Niclasen@bigfoot.com>

Hi Linus!

On 07-May-99, Linus McCabe wrote:
> I wonder if there is a way to trick programs to make
> them think they get mouseclicks or menu-choices?

You generate mouseclicks (and any other input event) by
using the IND_WRITEEVENT I/O command in the input device.
A menu-choice is generated by setting ie_Class to
IECLASS_MENULIST. (The menu number goes into ie_Code.)

Bye
John.


------------------------------------------------------------------------
Wanting to get back in touch with old friends?
http://www.onelist.com
Reunite through a ONElist community.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_8" " Re: add events "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-08-99 14:26:43
Subject: @{b}Re: add events@{ub}

From: Linus McCabe <sparkle@hehe.com>

Hello John

> You generate mouseclicks (and any other input event) by
> using the IND_WRITEEVENT I/O command in the input device.
> A menu-choice is generated by setting ie_Class to
> IECLASS_MENULIST. (The menu number goes into ie_Code.)

Thanks alot, John!

/Linus

 
> Bye
> John.
> 
> 
> ------------------------------------------------------------------------
> Wanting to get back in touch with old friends?
> http://www.onelist.com
> Reunite through a ONElist community.
> ------------------------------------------------------------------------
> * Don't forget to tell your 'C' coding buddies to join up!! *
> 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Women constitute half the worlds population, perfom nearly two thirds of
it's work hours, recieve one tenth of the world's income and own less than
one hundreth of the worlds's property.



------------------------------------------------------------------------
Looking for a fun, easy way to stay in touch with family members?
http://www.onelist.com
Create a ONElist community just for your family!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_9" " Re: add events "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-08-99 15:27:32
Subject: @{b}Re: add events@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Technically Linus McCabe was waffling about [amiga-c] add events.  But anyway...

> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> I wonder if there is a way to trick programs to make them think they get
> mouseclicks or menu-choices?

Check the commodities.library for commands to simulate input events.

Dinky do,


Mike C

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Always wanted to set up a book club, but can't find the time?
http://www.onelist.com
Create an online book club through ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_10" " Re: add events "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-09-99 08:12:49
Subject: @{b}Re: add events@{ub}

From: Linus McCabe <sparkle@hehe.com>

> See input.device/IND_WRITEEVENT.  There's an example program in the
> RKRM Companion which demonstrates this.

rkrm companion? I have the rkm's, but I never heard of a companion?
Is it availible online, by any chance?

> You really shouldn't do this in an ordinary application.

Is there any problems to use input.dev in normal apps? Cause I really want
to ba able to do this in a system friendly way...

/Linus
 
> Ben.
> 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

You can't have the blues in an office or a shopping mall, the lighting is
wrong.



------------------------------------------------------------------------
Who offers the richest group communications tools on the Internet?
http://www.onelist.com
Answer:  ONElist.  Check out our homepage for details!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_11" " Re: add events "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-09-99 15:57:36
Subject: @{b}Re: add events@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 09 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> > See input.device/IND_WRITEEVENT.  There's an example program in the
> > RKRM Companion which demonstrates this.
> 
> rkrm companion? I have the rkm's, but I never heard of a companion?

   That's the archive with all the example source code used in the
RKMs.

> Is it availible online, by any chance?

   The archive should be on Aminet. Of course, it's also found on
the Amiga Developer CD 1.x.

> > You really shouldn't do this in an ordinary application.
> 
> Is there any problems to use input.dev in normal apps?

   Yes: you cannot safely predict where the input will go to since
the input focus might change by the time your events are delivered.

> Cause I really want
> to ba able to do this in a system friendly way...

   No problem there, the input might just not hit the application's
window you intended it to go to.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Do you know how many communities live at ONElist?
http://www.ONElist.com
More than 140,000 with nearly 1,000 new ones joining each day!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_12" " Re: add events "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-09-99 18:42:32
Subject: @{b}Re: add events@{ub}

From: Linus McCabe <sparkle@hehe.com>


>> Cause I really want
>> to ba able to do this in a system friendly way...
> 
>   No problem there, the input might just not hit the application's
> window you intended it to go to.

Ok. I plan to make fake menu selections, I guess if it does not reach the
window it's supposed to reach it because of some installed inputhandler?
Nothing will depend on wether the mesage reaches it's destination
correctly, so I guess it doesent matter. (At least I dont htink so at this
point)

Thanks for the info!


/Linus
 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

A metal heart is hard to tear apart



------------------------------------------------------------------------
Join the Star Wars craze!
http://www.onelist.com
Set up your Star Wars list at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_13" " Re: add events "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-09-99 22:52:11
Subject: @{b}Re: add events@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 09 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> >> Cause I really want
> >> to ba able to do this in a system friendly way...
> > 
> >   No problem there, the input might just not hit the application's
> > window you intended it to go to.
> 
> Ok. I plan to make fake menu selections, I guess if it does not reach the
> window it's supposed to reach it because of some installed inputhandler?
> Nothing will depend on wether the mesage reaches it's destination
> correctly, so I guess it doesent matter. (At least I dont htink so at this
> point)

   Think about the following case: you send a message to call menu #1, item #1
which in your intended case should invoke the "Open" menu. But for some other
reason, the event goes to a different program which has a menu item "Delete"
in menu #1, item #1. Not only would you trigger the wrong functionality, you'd
also trigger destructive functionality!

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
To unsubscribe from this mailing list, or to change your subscription
to digest, go to the ONElist web site, at http://www.onelist.com and
select the Member Center link from the menu bar on the left.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_14" " Re: add events "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-09-99 23:43:02
Subject: @{b}Re: add events@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

Olaf, it's good to see you on this list.

On Sun, May 09, 1999 at 03:57:36PM +0100, Olaf Barthel wrote:
<snip>
> > > See input.device/IND_WRITEEVENT.  There's an example program in the
> > > RKRM Companion which demonstrates this.
> > 
> > rkrm companion? I have the rkm's, but I never heard of a companion?
> 
>    That's the archive with all the example source code used in the
> RKMs.
> 
> > Is it availible online, by any chance?
> 
>    The archive should be on Aminet. Of course, it's also found on
> the Amiga Developer CD 1.x.
<snip>

The Aminet archives are:

RKRM_Devices.lha   dev/misc   326K 300+Part 1 of 4 of Amiga ROM Kernel 
RKRM_Lib1.lha      dev/misc   294K 300+Part 2 of 4 of Amiga ROM Kernel
RKRM_Lib2.lha      dev/misc   229K 300+Part 3 of 4 of Amiga ROM Kernel Manuals
RKRM_Lib3.lha      dev/misc   183K 300+Part 4 of 4 of Amiga ROM Kernel Manuals

I wonder, can this sort of stuff be added to a FAQ or introductory
message for the list?  I'm not familiar with the features of OneList.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
Did you know ONElist has over 300 Star Wars lists?
http://www.onelist.com
Join one today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_15" " add menu event "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-09-99 20:09:10
Subject: @{b}add menu event@{ub}

From: Linus McCabe <sparkle@hehe.com>


I've now experimented a bit with input device and IND_WRITEEVEN after
altering set_mouse.c a bit.
It works quite OK, but is there a way of specifying what window will get the
fake menu choice? I've tried a few different ways, but the active window
always gets the choice (which seems quite logical, since you cant choose
menus unless a window is selected)

Therefore, I do the following:

i have the pointer to the window in 'win'

Forbid();
ActiveWindow(win);
DoIO;  //Send my fake event
Permit();

The forbidding/permiting is to prevent the user from changing windows after
the 'activewindow' command, and later on I guess it will be needed to
ensure the window isnt closed after the windowpointer is obtained.

Does this seem like a reasonable method, or is there a better way?

Also, I can choose all menus just fine, except for sub menues! The program
(that gets the fake menuselection) starts reading (long) from 00000000 if I
specify a submenu!?

/Linus


-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    




------------------------------------------------------------------------
Get "in synch!"
http://www.onelist.com
With the ONElist Shared Calendar Feature.  See homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_16" " Re: add menu event "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-09-99 22:48:48
Subject: @{b}Re: add menu event@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 09 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> I've now experimented a bit with input device and IND_WRITEEVEN after
> altering set_mouse.c a bit.
> It works quite OK, but is there a way of specifying what window will get the
> fake menu choice? I've tried a few different ways, but the active window
> always gets the choice (which seems quite logical, since you cant choose
> menus unless a window is selected)
> 
> Therefore, I do the following:
> 
> i have the pointer to the window in 'win'
> 
> Forbid();
> ActiveWindow(win);
> DoIO;  //Send my fake event
> Permit();
> 
> The forbidding/permiting is to prevent the user from changing windows after
> the 'activewindow' command, and later on I guess it will be needed to
> ensure the window isnt closed after the windowpointer is obtained.
> 
> Does this seem like a reasonable method, or is there a better way?

   Sorry, but this is not going to work reliably:

   1) ActivateWindow() is an asynchronous function; Intuition puts a kind
      of "internal" input event into a queue when you call it. That event
      will rattle down the Intuition state machine and eventually cause
      some sort of action. Since this function is asynchronous, the window
      may close before the event arrives there, in which case that event
      does nothing.

   2) There is no guarantee that the window you wanted to activate will
      in fact become the active one. For example, it may be closed before
      it has a chance to become active. Or another window may become
      active instead.

   3) Intuition may break a Forbid() once you call ActivateWindow()
      since it temporarily locks a set of semaphores when it generates
      that "internal" input event.

   4) The DoIO() may yet again break a Forbid().

The point is, an ActivateWindow() placed within Forbid()..Permit() does not
guarantee that the window will be the active one when you leave the Permit().

I'm sorry to say that what you intend to do is pretty much impossible
to implement reliably.

> Also, I can choose all menus just fine, except for sub menues! The program
> (that gets the fake menuselection) starts reading (long) from 00000000 if I
> specify a submenu!?

   Check your menu numbers, make sure that they are consistent. Intuition
may well generate a NULL ItemAddress() for menu codes that are not MENUNULL.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
To unsubscribe from this mailing list, or to change your subscription
to digest, go to the ONElist web site, at http://www.onelist.com and
select the Member Center link from the menu bar on the left.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_17" " Re: add menu event "
From: Jarno van der Linden <jarno@kcbbs.gen.nz>
Date: 05-10-99 07:47:16
Subject: @{b}Re: add menu event@{ub}

From: Jarno van der Linden <jarno@kcbbs.gen.nz>

> From: Linus McCabe <sparkle@hehe.com>
> 
> Does this seem like a reasonable method, or is there a better way?

I faked menu messages in my BOGL blanker by creating IntuiMessages
and sending them to a window's UserPort.
WHOOP! WHOOP! WARNING! WARNING! This is a great big hack, as only
Intuition knows how to really send proper messages.

In the fake IntuiMessages I also set the reply port to a private
port, so that I can free them.

It also does sub-menus. I'll put the source code up on AmiNet.

---JvdL---

------------------------------------------------------------------------
To unsubscribe from this mailing list, or to change your subscription
to digest, go to the ONElist web site, at http://www.onelist.com and
select the Member Center link from the menu bar on the left.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_18" " Re: add menu event "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-11-99 05:31:19
Subject: @{b}Re: add menu event@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 09-May-99, Olaf Barthel wrote:

> The point is, an ActivateWindow() placed within Forbid()..Permit() does
> not guarantee that the window will be the active one when you leave the
> Permit().
> 
> I'm sorry to say that what you intend to do is pretty much impossible
> to implement reliably.

I see your point. Do you think sending fake idcmp messages diectly to the
window would be a better solution? (As suggested by Jarno van der Linden
and someone else a while ago)
This way the message would get to the destination the way I make it, but how
safe is it to create my own messages?
 
>> Also, I can choose all menus just fine, except for sub menues! The
>> program (that gets the fake menuselection) starts reading (long) from
>> 00000000 if I specify a submenu!?
> 
>   Check your menu numbers, make sure that they are consistent. Intuition
> may well generate a NULL ItemAddress() for menu codes that are not
> MENUNULL.

I use the macro FULLMENUNUM(menu, item, sub) to get the menu numbers. Maybe
this is not fully reliable? (It selects the right choice for all menues
except sub's.)

/Linus

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

I wish I was the substance of that needle you're injecting, cause I wanna be
inside of you



------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_19" " Re: add menu event "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-11-99 05:32:39
Subject: @{b}Re: add menu event@{ub}

From: Linus McCabe <sparkle@hehe.com>


> I faked menu messages in my BOGL blanker by creating IntuiMessages
> and sending them to a window's UserPort.
> WHOOP! WHOOP! WARNING! WARNING! This is a great big hack, as only
> Intuition knows how to really send proper messages.
> 
> In the fake IntuiMessages I also set the reply port to a private
> port, so that I can free them.
> 
> It also does sub-menus. I'll put the source code up on AmiNet.

Would be great to have a look at it!
Can you notify me when you put it online?

/Linus

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    




------------------------------------------------------------------------
ONElist:  bringing the world together.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_20" " Re: add menu event "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-11-99 08:07:10
Subject: @{b}Re: add menu event@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 11 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 09-May-99, Olaf Barthel wrote:
> 
> > The point is, an ActivateWindow() placed within Forbid()..Permit() does
> > not guarantee that the window will be the active one when you leave the
> > Permit().
> > 
> > I'm sorry to say that what you intend to do is pretty much impossible
> > to implement reliably.
> 
> I see your point. Do you think sending fake idcmp messages diectly to the
> window would be a better solution? (As suggested by Jarno van der Linden
> and someone else a while ago)

   It's definitely safer. But you have to make sure that the window does
not go away and that the window's UserPort is non-NULL. All this can be
done within a Forbid()..Permit() pair and some checking. I would also
recommend that you check the menu's IDCMP flags to see whether the window
"expects" IDCMP_MENUPICK messages. Also take a look at window->FirstMenu
member to check if there is a menu attached to the window in the first
place.

> This way the message would get to the destination the way I make it, but how
> safe is it to create my own messages?

   It's safe; you will have to fill in the entire IntuiMessage structure
with meaningful data and you must (!) set the SpecialLink member to NULL.
There could be trouble, though: due to how multiple menu selection
works, a "regular" IDCMP_MENUPICK event may have placed link codes in
the single menu items. These codes are cleaned up and reinitialized
only before new IDCMP_MENUPICK events are generated; you'd either
have to fix the items up yourself or you might end up triggering
menu items you did not expect to be invoked.

> >> Also, I can choose all menus just fine, except for sub menues! The
> >> program (that gets the fake menuselection) starts reading (long) from
> >> 00000000 if I specify a submenu!?
> > 
> >   Check your menu numbers, make sure that they are consistent. Intuition
> > may well generate a NULL ItemAddress() for menu codes that are not
> > MENUNULL.
> 
> I use the macro FULLMENUNUM(menu, item, sub) to get the menu numbers. Maybe
> this is not fully reliable? (It selects the right choice for all menues
> except sub's.)

   The macro should be Ok, but perhaps the program you send the message
to does not interpret the codes properly.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_21" " Re: add menu event "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-11-99 20:18:24
Subject: @{b}Re: add menu event@{ub}

From: Linus McCabe <sparkle@hehe.com>


hi again

> There could be trouble, though: due to how multiple menu selection
> works, a "regular" IDCMP_MENUPICK event may have placed link codes in
> the single menu items. These codes are cleaned up and reinitialized
> only before new IDCMP_MENUPICK events are generated; you'd either
> have to fix the items up yourself or you might end up triggering
> menu items you did not expect to be invoked.

OK.. I didnt know this (hehe.. like everything else). I'll keep it in mind
an make a ago on creating my own idcmp messages.
Thanks for your help and your patiente! (SP?) I might be back with more
questions as development proceeds :)

>> I use the macro FULLMENUNUM(menu, item, sub) to get the menu numbers.
>> Maybe this is not fully reliable? (It selects the right choice for all
>> menues except sub's.)
> 
>   The macro should be Ok, but perhaps the program you send the message
> to does not interpret the codes properly.

Maybe not, but since it's menues work it should !?
Anyway, maybe it will magically solve when I try the other method.. Stranger
things have happened :)

/Linus
 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

A metal heart is hard to tear apart



------------------------------------------------------------------------
Got an opinion?
http://www.onelist.com
Make it count!  Sign up for the ONElist Weekly Survey now.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_22" " AddPart() "
From: Bob Lanham <BobL@leading.net>
Date: 05-05-99 13:54:39
Subject: @{b}AddPart()@{ub}

From: Bob Lanham <BobL@leading.net>

Thanks to the person who explained how to fix my file requester!  Now
that I use AddPart(), I can load any filename.

if (AslRequest(fr, NULL))
{
    sprintf(filepath,"%s",fr->fr_Drawer);
    AddPart(filepath,fr->fr_File,sizeof(filepath));
    LoadPic(filepath);
}

------------------------------------------------------------------------
ONElist:  Where Star Wars fans unite!
http://www.onelist.com
Find your Star Wars list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_23" " AW: [amiga-c] AddPart() "
From: Alfred Schwarz <Alfred.P.Schwarz@kerckhoff.med.uni-giessen.de>
Date: 05-05-99 14:14:35
Subject: @{b}AW: [amiga-c] AddPart()@{ub}

From: "Alfred Schwarz" <Alfred.P.Schwarz@kerckhoff.med.uni-giessen.de>

> From: Bob Lanham <BobL@leading.net>
>
> Thanks to the person who explained how to fix my file requester!  Now

:-)

> that I use AddPart(), I can load any filename.
>
> if (AslRequest(fr, NULL))
> {
>     sprintf(filepath,"%s",fr->fr_Drawer);
>     AddPart(filepath,fr->fr_File,sizeof(filepath));
>     LoadPic(filepath);
> }

Don't forget that filepath must be big enough to hole filepath + fr_File +
terminnation-byte + entually one more byte ("/").
And don't forget that dos.library allows filename length from 108 bytes.

This is why I would prefer to change current directory with CurrentDir() and
then LoadPic(fr->fr_File) as I described in my other posting (and
CurrentDir() to switch back to last dir). So you will never have a buffer
that will be too short!

Ciao, Alfred


------------------------------------------------------------------------
Join the Star Wars craze!
http://www.onelist.com
Set up your Star Wars list at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_24" " Re: AddPart() "
From: DenJS <denjs@mail.ru>
Date: 05-06-99 17:52:19
Subject: @{b}Re: AddPart()@{ub}

From: DenJS <denjs@mail.ru>

Hello Bob

On 05-íÁÊ-99, you wrote:

>    sprintf(filepath,"%s",fr->fr_Drawer);
>    AddPart(filepath,fr->fr_File,sizeof(filepath));
>    LoadPic(filepath);

What do you think about this:

UBYTE  NewFile[512];

stccpy  (NewFile, MyReq->fr_Drawer, sizeof(NewFile));
AddPart (NewFile, MyReq->fr_File,   sizeof(NewFile));

I always do that ;)


Regards
-----------------------------------------------------------

Everybody is talking about the weather but nobody does anything about it.
-- Mark Twain



------------------------------------------------------------------------
Wanting to get back in touch with old friends?
http://www.onelist.com
Reunite through a ONElist community.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_25" " Re: AddPart() "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-19-99 12:20:41
Subject: @{b}Re: AddPart()@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Bob Lanham discovered that the date was 05-May-99 and wrote about [amiga-c]
AddPart() 
 Watcha Bob
->From: Bob Lanham <BobL@leading.net>

->Thanks to the person who explained how to fix my file requester!  Now
->that I use AddPart(), I can load any filename.

->if (AslRequest(fr, NULL))
->{
->    sprintf(filepath,"%s",fr->fr_Drawer);
->    AddPart(filepath,fr->fr_File,sizeof(filepath));
->    LoadPic(filepath);
->}

   AAARRGGHH! I`ve just finished writting a routine to do exactly what
AddPart() does. What a waste of time.

-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_26" " Amiga C Compiler exe's "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-27-99 16:19:39
Subject: @{b}Amiga C Compiler exe's@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Hi,

Has anybody ever done a test to compare the different sizes of
executables generated by the different 'C' compilers available for the
Amiga.

Maybe it has already been done - if so where could I find the results
as I'd like to know.

As far as I know there's Storm C, SAS-C, GCC, VBCC, DICE compilers
available.  I thought it would be best to create a standard 'C'
program which was based entirely on Amiga ROM calls - that way stdio.h
etc. would not be taken into account as they may be implemented
differently between compilers resulting in different sizes.  At least
using ROM calls all exes should be doing the same.  And the exe size
would reflect on how good the compiler is.

If it hasn't been done before maybe some body would be interesting in
knocking up a test program that uses completely ROM calls (except for
keywords such as for, while etc.) and then maybe 2 people who use a
certain compiler can compile and return the results to the list?

Dinky do,




Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_27" " Re: Amiga C Compiler exe's "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-30-99 19:06:03
Subject: @{b}Re: Amiga C Compiler exe's@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Mike Carter discovered that the date was 27-May-99 and wrote about [amiga-c]
Amiga C Compiler exe's 
 Watcha Mike
->From: "Mike Carter" <mike.carter@bigfoot.com>

->Hi,

->Has anybody ever done a test to compare the different sizes of
->executables generated by the different 'C' compilers available for the
->Amiga.

->Maybe it has already been done - if so where could I find the results
->as I'd like to know.

->As far as I know there's Storm C, SAS-C, GCC, VBCC, DICE compilers
->available.  I thought it would be best to create a standard 'C'

->If it hasn't been done before maybe some body would be interesting in
->knocking up a test program that uses completely ROM calls (except for
->keywords such as for, while etc.) and then maybe 2 people who use a
->certain compiler can compile and return the results to the list?

   Cool idea. I`d like to see some speed results as well. I`ll compile it with
DICE if someone writes it.

   All compilers are not born equal. I`d written a 3D tank engine with dice.
It worked ok but I got the idea to get it compiled for PPC. I sent it to a
buddy who tried to compile it with Storm. He couldn`t get it to work at all
PPC but he sent me back a 68K version. The exe was twice the size but ran
quicker. It also was as bugged as hell and trashed the display completely from
time to time and crashed after a few mins. He had not change the source at
all.



-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 150,000 e-mail communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_28" " Amiga C guide "
From: Roger Light <rogerlight@mindless.com>
Date: 05-15-99 18:34:48
Subject: @{b}Amiga C guide@{ub}

From: Roger Light <rogerlight@mindless.com>

Hi everyone,

I've been working for a little while on a script that will convert YAM
messages into an AmigaGuide file for use with this list. 

First of all, if anyone wants to have a look at a preliminary guide that
I've created please feel free to go to
http://www.angelfire.com/vt/ralight/images/guide.lha 

If there's anything anybody thinks should be included in such a guide,
I'd be interested to hear your thoughts.

Another point - what do people think about leaving the sender's email
addresses in the guide? Is this a problem or not?

Thanks for your time,

Roger
-----------------------------------------------------------
-------------------
UK University Email Search - Find undergraduate email addresses!
http://start.at/uksearch


------------------------------------------------------------------------
Are you hogging all the fun?
http://www.onelist.com
Friends tell friends about ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_29" " Re: Amiga C guide "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-17-99 00:47:01
Subject: @{b}Re: Amiga C guide@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Technically Roger Light was waffling about [amiga-c] Amiga C guide.  But anyway...

> From: Roger Light <rogerlight@mindless.com>
> 
> Hi everyone,
> 
> I've been working for a little while on a script that will convert YAM
> messages into an AmigaGuide file for use with this list. 

Brilliant!  Thank goodness somebody decided to do it.  I was
considering knocking upa program to convert the digest mails you can
download/receive from OneList and converting them to a guide.  But I
suppose mails are just as good.

> First of all, if anyone wants to have a look at a preliminary guide that
> I've created please feel free to go to
> http://www.angelfire.com/vt/ralight/images/guide.lha 

I'll check it next time I'm on-line.

 
> Another point - what do people think about leaving the sender's email
> addresses in the guide? Is this a problem or not?

I personally don't think it's a problem.  If it's in guide format then
no SPAMmers can file though it.  And coders wishing to get more info
from the poster of an old message can e-mail them direct too.

Will you be mainlaining a .guide to all mail each month and uploading
it to Aminet as done with AmigaE, Blitz and AMOS?

Dinky do all!


Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_30" " Re: Amiga C guide "
From: Roger Light <rogerlight@mindless.com>
Date: 05-19-99 20:35:21
Subject: @{b}Re: Amiga C guide@{ub}

From: Roger Light <rogerlight@mindless.com>

>> Another point - what do people think about leaving the sender's email
>> addresses in the guide? Is this a problem or not?
> 
> I personally don't think it's a problem.  If it's in guide format then
> no SPAMmers can file though it.  And coders wishing to get more info
> from the poster of an old message can e-mail them direct too.

Jolly good, that was kind of what I thought too ;)

> Will you be mainlaining a .guide to all mail each month and uploading
> it to Aminet as done with AmigaE, Blitz and AMOS?

I'm intending doing as long as I can do. I'm going to Germany to study in
september and won't have my Amiga, but I'll upload the script to the Aminet
so that someone else can take over when I can't do it anymore. 

Unfortunately, the earliest email I've got is the 26th of april ;)

I'll hopefully upload a short guide to april when I have some time (what
with exams and all that lot ;))

Cheers,

Roger
-----------------------------------------------------------
-------------------
UK University Email Search - Find undergraduate email addresses!
http://start.at/uksearch


------------------------------------------------------------------------
How many communities do you think join ONElist each day?
http://www.onelist.com
More than 1,000!  Create yours now!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_31" " Re: Amiga C guide "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-21-99 13:41:04
Subject: @{b}Re: Amiga C guide@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Technically Roger Light was waffling about Re: [amiga-c] Amiga C guide.  But anyway...

Hi Roger,

> > Will you be mainlaining a .guide to all mail each month and uploading
> > it to Aminet as done with AmigaE, Blitz and AMOS?
> 
> I'm intending doing as long as I can do. I'm going to Germany to study in
> september and won't have my Amiga, but I'll upload the script to the Aminet
> so that someone else can take over when I can't do it anymore. 
> 
> Unfortunately, the earliest email I've got is the 26th of april ;)

You can grab all postings ever to the list from http://www.onelist.com
site.  Just find the amiga-c mailing list page and check the Archive
section to get all the digests.  You might have to make a script which
parses the e-mail digest format to create the guide and keep it in a
nice consistent format.

The list has not been running that long anyway so should not be too
much work.


> I'll hopefully upload a short guide to april when I have some time (what
> with exams and all that lot ;))

I know how it is!  I've only got 2 out of 8 exams left now though. 
After this I start work as a professional C++ coder :) and then it's
off to Ibiza for two weeks <paid> :) holiday!!

Dinky do,



Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
How many communities do you think join ONElist each day?
http://www.onelist.com
More than 1,000!  Create yours now!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_32" " Re: Amiga C guide "
From: Roger Light <rogerlight@mindless.com>
Date: 05-31-99 21:37:57
Subject: @{b}Re: Amiga C guide@{ub}

From: Roger Light <rogerlight@mindless.com>

The Guide for April is now on Aminet and I'll do May soon.

Cheers,

Roger 
-----------------------------------------------------------
-------------------
UK University Email Search - Find undergraduate email addresses!
http://start.at/uksearch


------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_33" " Re: AmigaDOS limits "
From: BlackMael <harrism@ihug.co.nz>
Date: 05-01-99 01:23:50
Subject: @{b}Re: AmigaDOS limits@{ub}

From: BlackMael <harrism@ihug.co.nz>

Greetings and Salutations, Mike.

On 30-Apr-99, *Mike* was saying...

> What include contains #defines for the MAX_ limits for things such as
> filename length etc.

> I did once come across it but now I can't find it anyway and am going
> crazy blurred eye!  Please help...

dos/dos.h states in a comment for the FileInfoBlock struct that a filename
length is at most 30 characters. Although there seems to be room for 108.
I don't know of any MAX_ type #defines for this though.


Yours, etc etc.
   _Martin_

-----------------------------------------------------------
Give me some chocolate and no one gets hurt!
-----------------------------------------------------------
<sb>*BlackMael*
<sb>UIN 12938250
<sb>Team *AMIGA*
<sb>BF A3 81 72 E8 54 C6 01  F7 EF E7 5C 63 3B CF 37
-----------------------------------------------------------



------------------------------------------------------------------------
New hobbies? New curiosities? New enthusiasms?
http://www.onelist.com
Sign up for a new e-mail list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_34" " Re: AmigaDOS limits "
From: "Alfred P. Schwarz" <Alfred.P.Schwarz@kerckhoff.med.uni-giessen.de>
Date: 05-02-99 00:09:24
Subject: @{b}Re: AmigaDOS limits@{ub}

From: "Alfred P. Schwarz" <Alfred.P.Schwarz@kerckhoff.med.uni-giessen.de>

> From: BlackMael <harrism@ihug.co.nz>
>> What include contains #defines for the MAX_ limits for things such as
>> filename length etc.

> dos/dos.h states in a comment for the FileInfoBlock struct that a filename
> length is at most 30 characters. Although there seems to be room for 108.
> I don't know of any MAX_ type #defines for this though.

To be exact:

AmigaDOS uses 108 chars for file-/dirname (defined in FileInfoBlock) but the
original filesystems use only 30 chars.
Other filesystems (SFS, PFS) use all possible chars (and some programs have
problems to handle this).

But does anybody know what the max length of a file with complete is? I
think I read somewhere about such a limit.

Ciao, Alfred


------------------------------------------------------------------------
Did you know that ONElist hosts some of the largest lists on the Internet?
http://www.ONElist.com
Our scaleable system is the most reliable free e-mail service on the Internet!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_35" " Antwort: [amiga-c] GCC - preinstallation worries "
From: Raimund Dold <Raimund.Dold@bgt.de>
Date: 05-25-99 12:04:58
Subject: @{b}Antwort: [amiga-c] GCC - preinstallation worries@{ub}

From: "Raimund Dold" <Raimund.Dold@bgt.de>

Hi,

do not worry downloading the aminet version of gcc, use the egcs1.1.2
archive from ftp.ninemoons.com/geekgadgets/amiga/alpha/misc instead. Do not
forget to download the ixemul and
maybe the libnix package (probably somewhere in snapshots). If you do not
have an untgz tool download
boot.lha.
There are some tools which may ease your work. There is sploiner
(split/joiner) which can create disk images
and maybe pcrestore (restores a ms-dos backup on Amiga) could be useful.

Raimund






"Ade" <A.J.Tucker1@student.derby.ac.uk> on 25.05.99 11:54:18

Bitte antworten an amiga-c@onelist.com

An:   amiga-c@onelist.com
Kopie:     (Blindkopie: Raimund Dold/FK/BGT)
Thema:    [amiga-c] GCC - preinstallation worries




From: "Ade" <A.J.Tucker1@student.derby.ac.uk>
Hi,
I think this is on topic, please forgive if not.
I'm trying to install GCC (2.7 from aminet).  I have to do this by
downloading to a PC at uni then via 720k floppy to my Amiga.  Quite a
bit of the installation is in bits bigger than 720k so I have to
extract onto the PC then re-archive into 720k bits.  My question:
Is this going to affect the installation as I read in the FAQ that
certain bits need preserving in a particular way
Thanks lots, hopefully will be getting down with C by the weekend!
Ade
------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *







------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_36" " Assign Qu "
From: mark harman <mdwh2@cam.ac.uk>
Date: 05-06-99 09:16:39
Subject: @{b}Assign Qu@{ub}

From: mark harman <mdwh2@cam.ac.uk>

I'm using the AssignLock command to set up an assign to my program, as
follows:

    lock=Lock("PROGDIR:",ACCESS_READ);
    if(lock)
    {
        if(!AssignLock("NewsCoaster",lock))
            UnLock(lock);
        lock=NULL;
    }

Which works fine, but how do I cancel this assign (and thus free the
Lock)? I try:
    AssignLock("NewsCoaster",NULL)

But this does crashes. I try this:

    lock=Lock("PROGDIR:",ACCESS_READ);
    if(lock)
    {
        RemAssignList("NewsCoaster",lock); // <- returns 0
        UnLock(lock);
        lock=NULL;
    }

But RemAssignList does nothing, returning zero.

Okay, I could leave the assign in there, but it's annoying having StormC
complain everytime about the Lock not being freed (and I've always hated
resorting to Assigns in s:user-startup). Any ideas?

Thanks,

Mark Harman
-----------------------------------------------------------
http://members.xoom.com/dc_home
http://members.tripod.com/~Mark_Harman


------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_37" " Re: Assign Qu "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-08-99 03:54:12
Subject: @{b}Re: Assign Qu@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, May 06, 1999 at 09:16:39AM +0100, mark harman wrote:
> From: mark harman <mdwh2@cam.ac.uk>
> 
> I'm using the AssignLock command to set up an assign to my program, as
> follows:
> 
>     lock=Lock("PROGDIR:",ACCESS_READ);
>     if(lock)
>     {
>         if(!AssignLock("NewsCoaster",lock))
>             UnLock(lock);
>         lock=NULL;
>     }
> 
> Which works fine, but how do I cancel this assign (and thus free the
> Lock)? I try:
>     AssignLock("NewsCoaster",NULL)
> 
> But this does crashes.
<snip>

That's the documented way to do it.  I guess that you made the mistake
of unlocking the lock that you passed into AssignLock.  That would
cause DOS to try to unlock it a second time when you remove the
assignment, which might explain the crash.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_38" " Aztec (manx) C Compiler. "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 05-26-99 10:38:56
Subject: @{b}Aztec (manx) C Compiler.@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

Hi everybody,  this is my first posting here.


I would like to know if anyone else here is still using Aztec-C  v5.2  
environment.

If so,  does anyone know what happened to them ?

Have there been any later versions since 5.2  ?

Does anyone here  have an 060  (like me)  that caused Aztec programs to
'break'.
   (I fixed my stuff for 060 use.)

--------------------------------------------------
Colin Wenzel. Australia.   colstv@hotkey.net.au
URL:    http://www.hotkey.net.au/~colstv/      
                                               
'AMIGA' 4000T With  CS-III 68060/50 150Mb RAM. 
--------------------------------------------------


------------------------------------------------------------------------
Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_39" " Beginner question, subrutines etc "
From: TigerGutt <warewulf@geocities.com>
Date: 05-01-99 15:59:30
Subject: @{b}Beginner question, subrutines etc@{ub}

From: TigerGutt <warewulf@geocities.com>

Hello,

I'm starting to get the hang of the basic C now.
I'm writing a simple text game in basic ANSI style.

How do I use subrutines ?

Like I want to have an rutine that prints out the score like

printf("Your score is %d");

How do I make this to a small subrutine I can call whenever needed ?
Like in basic I would

gosub print_score

Also
hwo do I use more if after eash other ?

Like

if (c == 3)
    printf("you died");
else (?)
if (s>10)
    exit (0)
...
etc

it seems I can realy understand how this works in C.

Cheers !
Ulf


------------------------------------------------------------------------
Did you know that ONElist hosts some of the largest lists on the Internet?
http://www.ONElist.com
Our scaleable system is the most reliable free e-mail service on the Internet!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_40" " Re: Beginner question, subrutines etc "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-01-99 21:43:29
Subject: @{b}Re: Beginner question, subrutines etc@{ub}

From: Linus McCabe <sparkle@hehe.com>

Hello TigerGutt

> How do I use subrutines ?
> Like I want to have an rutine that prints out the score like

for example write:

printscore(long score)
{
    printf("Ya score is %ld\n", score);
} 

and you have a subroutine.
call it by writing:

printscore(sc);

where 'sc' is the variable holding the score, but it could also be a
directly specified integer like:

printscore(5);

however, this might be a bit useless in the 'score' example.

/Linus


-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Very simple, yet very complicated calculations



------------------------------------------------------------------------
Attention small business owners:
http://www.onelist.com
Did you know that ONElist is a great way for small business owners
to stay in touch with their customers?
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_41" " Re: Beginner question, subrutines etc "
From: Malcolm Campbell <malcolm@workmail.com>
Date: 05-02-99 12:28:02
Subject: @{b}Re: Beginner question, subrutines etc@{ub}

From: Malcolm Campbell <malcolm@workmail.com>

Hi TigerGutt,

On 01-May-99, you wrote:

> for example write:
> 
> printscore(long score)
> {
>    printf("Ya score is %ld\n", score);
> } 
> 
> and you have a subroutine.
> call it by writing:
> 
> printscore(sc);
> 
> where 'sc' is the variable holding the score, but it could also be a
> directly specified integer like:
> 
> printscore(5);

Since you're a beginner remember that it's a good idea to declare the
function just below the includes such as:

void printscore(long);

All the best,

Malc.


------------------------------------------------------------------------
Start a new hobby.  Meet a new friend.
http://www.onelist.com
ONElist:  The leading provider of free e-mail list services!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_42" " Re: Beginner question, subrutines etc "
From: "William W. Toner II (amigabill)" <wwt5491@ritvax.isc.rit.edu>
Date: 05-02-99 16:44:59
Subject: @{b}Re: Beginner question, subrutines etc@{ub}

From: "William W. Toner II (amigabill)" <wwt5491@ritvax.isc.rit.edu>

Hello TigerGutt

On 01-May-99, TigerGutt wrote:
> From: TigerGutt <warewulf@geocities.com>
> 
> Hello,
> 
> I'm starting to get the hang of the basic C now.
> I'm writing a simple text game in basic ANSI style.
> 
> How do I use subrutines ?
> 
> Like I want to have an rutine that prints out the score like
> 
> printf("Your score is %d");
> 
> How do I make this to a small subrutine I can call whenever needed ?
> Like in basic I would
> 
> gosub print_score

I would suggest using a method where you pass your print score function the
new score, as shown below:

void print_score( int new_score)
{
    printf("Your score is %d", new_score);
}

You can also more directly translate your gosub concept using a gloabl
variable, but you've probably seen global variables frowned upon in this
newsgroup already. I don't see your situation as an unusual case where global
variables are necessary, but it's your decision, and here's sortof what that
would look like. I've never done a game, so maybe the score is something that
should be more open than parameter passing, but global vars wig me out... :)

int score = 0;        /* global var declaration, yuck ;) */

main function...

void print_score(void)
{
    printf("Your score is %d", score);
}


One thing I learned about printf that doesn't have a newline at the end of the
output ("\n"), the string you want may not get printed to screen right away.
If you don't want a newline there, you may have to use fflush(stdout) to get
it done. I don't understand exactly why this is so, but it affected a program
I was working on about 6 months ago. Just something to keep in mind if you
don't use a linefeed and your output doesn't get outputted they way you want
when you want... If you need to use this it would look something like:

void print_score(int new_score)
{
   printf("Your score is %d", new_score);
   fflush(stdout);
}

Or any following printf that has a newline should put the previously
undisplayed printf string as well, the newline char seems to do the same
thing as fflush for printf functions.


> Also
> hwo do I use more if after eash other ?

I'm not really sure what you meant, but have a look at the switch statement,
that might be what you're looking for. Switch only works on one variable for
multiple value comparison checks, so you can check say variable x ==1, else
if x == 2, else if x == 3, etc. without the "else if" type stuff. If you want
to do comparisons on other variables, then you're probably stuck with if,
else if, else if, etc... At least I don't know another way to do that.

switch (x)
{
    case 1:        /* like if (x == 1) */
    {
        /* your code for this condition */
      break;
    }

   case 2:        /* like else if (x == 2) */
   {
      /* your code here */
      break;
   }
   default:
   {
      /* this code executed if x has value not checked above */
   }
}


Or the collection of "if"s if you need to check variables other than x also:

if (x == 1)
{
   /* code for this condition */
}
else if (y <= 4)
{
   /* code for this condition */
}
else if (lives_remaining == 0)
{
   /* code for this condition */
}

etc...

Hopefully this helps a little.

Bill


------------------------------------------------------------------------
Start a new hobby.  Meet a new friend.
http://www.onelist.com
ONElist:  The leading provider of free e-mail list services!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_43" " Re: Beginner question, subrutines etc "
From: Niels de Koning <ndk@pop.bart.nl>
Date: 05-03-99 19:40:15
Subject: @{b}Re: Beginner question, subrutines etc@{ub}

From: "Niels de Koning" <ndk@pop.bart.nl>

> One thing I learned about printf that doesn't have a newline at the end of the
> output ("\n"), the string you want may not get printed to screen right away.
> If you don't want a newline there, you may have to use fflush(stdout) to get
> it done. I don't understand exactly why this is so, but it affected a program
> I was working on about 6 months ago. Just something to keep in mind if you
> don't use a linefeed and your output doesn't get outputted they way you want
> when you want

Although I am a real novice in C (read: I can still count the number of 
days I am programming C on my fingers ;-) I think I can answer that:
( I hope you can forgive me if my terminology is a bit off....)

C has two ways of doing input and output: buffered and unbuffered
Unbuffered means that everything you send to the output channel is 
immediately outputted. (And the same goes for input)
Buffered is NOT outputted immediately, but the output is held back until 
there is a reason to actually perform the output (And the same goes for 
input)

Buffered is also split in two types: Blockbuffered and linebuffered.
Linebuffered means that the buffered stuff is send to the output channel 
as soon as a linefeed has been encountered. (And the same goes for input)
This is why the Printf-command did not show any output until you forced it 
to send the output with the fflush command.
Blockbuffered is exactly as it says. As soon as a block of data is filled 
it is outputted....  This is for example what happens when you read a few 
bytes from a file. C does not read that few bytes from the file but it 
actually reads an entire block. I don't know the exact size of such a 
block.

I hope somebody had some use for this info ;-)
  Niels de Koning
 

------------------------------------------------------------------------
Did you know that we add over 1,000 new e-mail communities every day?
http://www.ONElist.com
Explore a new hobby, discover a new friend, laugh at a new joke!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_44" " Re: Beginner question, subrutines etc "
From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>
Date: 05-04-99 18:36:16
Subject: @{b}Re: Beginner question, subrutines etc@{ub}

From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>

Hello William

On 02-Mai-99, you wrote:

> I would suggest using a method where you pass your print score function
> the new score, as shown below:

> void print_score( int new_score)
> {
>    printf("Your score is %d", new_score);
> }

> You can also more directly translate your gosub concept using a gloabl
> variable, but you've probably seen global variables frowned upon in this
> newsgroup already. I don't see your situation as an unusual case where
> global variables are necessary, but it's your decision, and here's sortof
> what that would look like. I've never done a game, so maybe the score is
> something that should be more open than parameter passing, but global vars
> wig me out... :)

For a game and such a thing like a highscore it is easier to make this
variable global, so you can update it from every function without passing
variables through.

> int score = 0;        /* global var declaration, yuck ;) */

> main function...

> void print_score(void)
> {
>    printf("Your score is %d", score);
> }

Good idea.

> One thing I learned about printf that doesn't have a newline at the end of
> the output ("\n"), the string you want may not get printed to screen right
> away. If you don't want a newline there, you may have to use
> fflush(stdout) to get it done. I don't understand exactly why this is so,
> but it affected a program I was working on about 6 months ago. Just
> something to keep in mind if you don't use a linefeed and your output
> doesn't get outputted they way you want when you want... If you need to
> use this it would look something like:

printf works on Amiga or at any compiler like the same. Because C has its
sources in UNIX, the input and output ia always buffered. And so the buffer
is only emptied by a newline or by fflush.

> void print_score(int new_score)
> {
>   printf("Your score is %d", new_score);
>   fflush(stdout);
> }

> Or any following printf that has a newline should put the previously
> undisplayed printf string as well, the newline char seems to do the same
> thing as fflush for printf functions.

This is normal behaviour.

[snip]

Regards

-----------------------------------------------------------
    Christoph Krakowski

Be careful of reading health books, you might die of a misprint.
-- Mark Twain



------------------------------------------------------------------------
ONElist:  bringing the world together.
http://www.onelist.com
Join today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_45" " BitMap24 class "
From: Jarno van der Linden <jarno@kcbbs.gen.nz>
Date: 05-07-99 09:15:36
Subject: @{b}BitMap24 class@{ub}

From: Jarno van der Linden <jarno@kcbbs.gen.nz>

I've just uploaded a C++ class for simple 24 bit bitmaps to AmiNet
(BitMap24.lha in dev/c). It also does reading and writing of 24 bit
ILBM IFF files, using the IFFParse library. This might be of use
to whoever wanted an example of using IFFParse.

---JvdL---

------------------------------------------------------------------------
Who offers the richest group communications tools on the Internet?
http://www.onelist.com
Answer:  ONElist.  Check out our homepage for details!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_46" " Bob collisions? "
From: Darryl Hartwig <darrylh@powerup.com.au>
Date: 05-21-99 08:47:29
Subject: @{b}Bob collisions?@{ub}

From: Darryl Hartwig <darrylh@powerup.com.au>

Hello,
Is there anyone out there who has had some success with BOB
collisions?

Anyone at all?

-----------------------------------------------------------
Seeya
<tsb>
<sb>Darryl Hartwig
<sb>Buccan, QLD
<sb>BTW, the Amiga is back for the future!
<sb>Member of USANA
<tsb>


------------------------------------------------------------------------
What was YOUR favorite part?!
http://www.onelist.com
Tell other Star Wars fans at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_47" " Re: Bob collisions? "
From: John Niclasen <Niclasen@bigfoot.com>
Date: 05-21-99 12:37:56
Subject: @{b}Re: Bob collisions?@{ub}

From: John Niclasen <Niclasen@bigfoot.com>

Darryl Hartwig wrote:
> Is there anyone out there who has had some success with BOB
> collisions?

Using the gel system as described in Amiga Rom Kernel Ref. Manual,
you can do it in two ways.

One way is using a mask (shadow) for every bob. The mask is like
one bitplane describing the shape of the bob. This way is very
accurate.

The other way use a mask collapsed down to one line. This way is
faster than using a whole mask, but less accurate.

I think, both these ways use the blitter for the check.

But I use my own way (which I hope is a lot faster and doesn't
load the blitter). I simply compare the X- and Y-coordinates of
the bobs. If the distance between one of my bullets and an enemy
is below a defined value, the enemy is hit. Same way with the
enemy bullets and my bob. The same method can be used to find out,
if 2 bobs run into each other. If I want a more precise way to
check collision, I simply compare more than one point. When I
drive my tank, I check 3 points in front of the tank to see, if I
run into a wall or something like that. Of course the more points
I'd check, the longer it will take, but one crucial thing is, that
this checking is done by the cpu, and the blitter can draw
graphics meanwhile (if you have other than only chip ram).

I hope this help.
Bye
John.

------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_48" " Re: Bob collisions? "
From: Darryl Hartwig <darrylh@powerup.com.au>
Date: 05-22-99 06:19:09
Subject: @{b}Re: Bob collisions?@{ub}

From: Darryl Hartwig <darrylh@powerup.com.au>

Hello John

On 21-May-99, John Niclasen wrote:
> From: John Niclasen <Niclasen@bigfoot.com>
> 
> Darryl Hartwig wrote:
>> Is there anyone out there who has had some success with
>> BOB collisions?
> 
> Using the gel system as described in Amiga Rom Kernel Ref.
> Manual, you can do it in two ways.
> 
> One way is using a mask (shadow) for every bob. The mask
> is like one bitplane describing the shape of the bob. This
> way is very accurate.
> 
> The other way use a mask collapsed down to one line. This
> way is faster than using a whole mask, but less accurate.

The structure handles both, I think, when you set up the Gel
list.  Using InitGels() sets this up, I believe.

But that's not really the problem.  I get a guru (#8000000B,
sometimes #80000004) when DoCollision() is executed.  I
think I've got some problem with the way I set up the
collision handling routines.

Here is the routine I use to set up the collision table.

VOID    SetupCollisionRoutines(VOID)
{
    SetCollision(BORDERHIT, BorderCheck, gInfo);
    SetCollision(1, AsteroidCollision,    gInfo);
    SetCollision(2, NmeShipCollision,    gInfo);
    SetCollision(3, NmeBulletCollision,    gInfo);
    SetCollision(4, ShipCollision,    gInfo);
    SetCollision(5, ShipBulletCollision,gInfo);
for (int i=0;i<6;i++)
    printf("%d\n",gInfo->collHandler->collPtrs[i]);
printf("%d\n",BorderCheck);
printf("%d\n",AsteroidCollision);
}

The printf statements come out with valid addresses (I
believe).  The first
routine (BorderCheck) has a prototype as follows:

VOID    BorderCheck(struct VSprite *, ULONG);*

and the others as follows:

VOID    AsteroidNMECollision(struct VSprite *, struct
VSprite *);

I've got the hitmask and memask set correctly (again, I
believe) for each of
the appropriate Bobs.

It's just when I get to the DoCollision() routine, I get a
#8000000B guru. 
Does anyone have any ideas?  Or could send me some working
code?

A second problem is a little weirder.  When my large Bobs
(read asteroids)
reach almost to the bottom of the screen, the whole gameplay
slows down
temporarily until the large asteroid starts showing at the
top of the
screen.  I can't notice any slowdown with the smaller
asteroids - but that
might be because they are smaller.  All these bobs are set
up the same. 
Again, any ideas?

I'm using double buffering.  Anything else you need to know?

-----------------------------------------------------------
Seeya
<tsb>
<sb>Darryl Hartwig
<sb>Buccan, QLD
<sb>BTW, the Amiga is back for the future!
<sb>Member of USANA
<tsb>


------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_49" " Re: BSD Sockets "
From: Fredrik Söderberg <mcdrill@hem.passagen.se>
Date: 05-01-99 16:40:50
Subject: @{b}Re: BSD Sockets@{ub}

From: Fredrik =?iso-8859-1?Q?S=F6derberg?= <mcdrill@hem.passagen.se>

On 29-Apr-99, Jesper Svennevid wrote:
>> Does anyone know about receiving data via sockets? I know I'm supposed to
>> use the recv function, but I read that this doesn't always read the
>> amount of data you ask it too. With TCP:, you can just read a single line
>> with FGets, but I'm not sure on the equivalent with sockets programming.
>> 
>> I'm attempting to write a newsreader, but my program just hangs when it
>> gets to downloading a message (though it worked okay when using TCP:
>> device instead of bsdsockets.library).

> There is a flag for the recv()-function (I can't remember it right now as
> I don't have my socket-programming docs here) that forces recv() to read
> all the bytes you request before returning, otherwise it can return after
> only reading a part of it. RTFM :)

(Yo Jesper ;D)

I can add that the flag name is MSG_WAITALL.
And this was the flag MiamiDX had a bug with, but the newest one has this
fixed.

Regards
-----------------------------------------------------------
        /             Fredrik "McDrill" Söderberg          \
       / /mcdrill@hem.passagen.se || hem.passagen.se/mcdrill \\
"Life sucks, you can't live with it and you can't live without it"

------------------------------------------------------------------------
Grow your list the most and receive a $5000 donation
to the charity of your choice.
http://www.onelist.com
See our homepage for details on our new ONEreach incentive programs.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_50" " Re: C and C++ (was: String handling in C) "
From: Andrew Markwell <andrewmarkwell@hotmail.com>
Date: 05-01-99 15:52:03
Subject: @{b}Re: C and C++ (was: String handling in C)@{ub}

From: "Andrew Markwell" <andrewmarkwell@hotmail.com>

>From: Stephen Williams <sw@nysa.u-net.com>
>
>Andrew Markwell <andrewmarkwell@hotmail.com> wrote:
> >> AmigaOS 1.x had one important subsystem (dos.library) written in BCPL
> >> instead of C.  Didn't mean that dos.library wasn't accessible from
> >> non-BCPL programs, (although much of the API was very stinky and
> >> assumed it had been called from BCPL).
> >
> > You are right, but if the new includes have predominantly classes in
> > them, then it will be difficult to use anything other than C++.
>
>I _really_ hope they keep using structures.  I think it'd make more
>sense, as structures have analogs in other languages (e.g. "records"
>in Pascal), and can be got at more easily from assembly language if
>you have to.  Locking the OS tightly to one language means you
>alienate talented programmers who (for whatever reason) can't get on
>with that language.
>
Then again, I'm not sure it matters.  Classes and structs are the same, the 
only difference is that by default all items in a class are private, but in 
a struct they are public.  You can still use tehcniques such as polymorphism 
on structs.  You can still put functions in structs... although I'm not sure 
that is the case for C.

-Andy


------------------------------------------------------------------------
Do you know why...
"The Closer" picked ONElist to host their baseball humor community?
http://www.onelist.com
Because of ONElist's reliable service and live customer support!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_51" " C IDE "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-01-99 00:03:48
Subject: @{b}C IDE@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Hi 2 any C beginners,

For anybody trying to set-up a text editor for use with a command line
C compiler such as DICE, VBCC, EGCS etc. then I recommend having a
look at PManager on Aminet which gives you a nice MUI interface to
manage your projects and do 'stuff' with your compiler etc.  And it's
fully configurable through text config files so you can add your own
menu options!

I'm no way connected with the program but think it makes it a lof
easier to get started, take a look!

Dinky do,



Mike.

-----------------------------------------------------------
.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD&HD FD,5 CD-ROMS,CDRW,EZ135,  \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_ v_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

------------------------------------------------------------------------
What does Public Radio's "Ask Dr. Science Show" know that you don't...?
http://www.onelist.com
...That ONElist hosts the largest free e-mail lists on the Internet today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_52" " C-code in Microdot... ARGH! "
From: "Richard F. Smit" <derick@rfsmit.freeserve.co.uk>
Date: 05-08-99 11:31:50
Subject: @{b}C-code in Microdot... ARGH!@{ub}

From: "Richard F. Smit" <derick@rfsmit.freeserve.co.uk>

Hi all

Slightly OT, but I'm getitng annoyed with MicroDot-II v1.3 - anyone
know how to stop the stupid behaviour of: asterisk means bold, slash
means italic? C comments come out looking pretty weird! Or recommend
me a different mailer...

cheers,
Derick.

------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_53" " Re: C-code in Microdot... ARGH! "
From: John Niclasen <Niclasen@bigfoot.com>
Date: 05-08-99 13:58:07
Subject: @{b}Re: C-code in Microdot... ARGH!@{ub}

From: John Niclasen <Niclasen@bigfoot.com>

Hi Richard!

On 08-May-99, Richard F. Smit wrote:
> Slightly OT, but I'm getitng annoyed with MicroDot-II
> v1.3 - anyone know how to stop the stupid behaviour of:
> asterisk means bold, slash means italic? C comments come
> out looking pretty weird! Or recommend me a different
> mailer...

I use YAM (http://www.yam.ch) for mails, and NewsRog looks
like an ok news-reader.

Bye
John.


------------------------------------------------------------------------
What's "Grow to Give"?
http://www.onelist.com
It's a new incentive program at ONElist.  See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_54" " Re: C-code in Microdot... ARGH! "
From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
Date: 05-08-99 21:01:10
Subject: @{b}Re: C-code in Microdot... ARGH!@{ub}

From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

Hello Richard

On 08-May-99, Richard F. Smit wrote:
> From: "Richard F. Smit" <derick@rfsmit.freeserve.co.uk>
> 
> Hi all
> 
> Slightly OT, but I'm getitng annoyed with MicroDot-II v1.3 - anyone
> know how to stop the stupid behaviour of: asterisk means bold, slash
> means italic? C comments come out looking pretty weird! Or recommend
> me a different mailer...

There is no way to disable this in the message viewer. However, if you go to
the little box in the upper right hand corner in which it shows the content
type of the mail message and click on the 'view' button, it will open the
message up in multiview (or whatever you configure).

Regards
-----------------------------------------------------------
Daithi O'Cuinn
docuinn@cluke.demon.co.uk


------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_55" " Re: C-code in Microdot... ARGH! "
From: "Richard F. Smit" <derick@rfsmit.freeserve.co.uk>
Date: 05-11-99 10:34:27
Subject: @{b}Re: C-code in Microdot... ARGH!@{ub}

From: "Richard F. Smit" <derick@rfsmit.freeserve.co.uk>



> [...] if you go to
> the little box in the upper right hand corner in which it shows the content
> type of the mail message and click on the 'view' button, it will open the
> message up in multiview (or whatever you configure).

Cheers Daitha! Dunno how I missed that one... my brain must be full.
And thanks for the YAM recommendation, John - I'll give it a go.

cheers,
Derick.

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_56" " cd drives "
From: Oliver Marks <oly@enterprise.net>
Date: 05-15-99 14:10:55
Subject: @{b}cd drives@{ub}

From: "Oliver Marks" <oly@enterprise.net>

Hi,

Can anyone direct me to cd file so that i can access computer cds and
music cds and any information on how music is stored on a cd coz i
would like to try and write a simple program that lets me record
music onto my hard disk.
-----------------------------------------------------------
ICQ#:  33315204
Url :  http://www.homepages.enterprise.net/oly/games/index.htm



------------------------------------------------------------------------
Congratulations to "Trail Rider," our latest ONElist of the Week.  
http://www.ONElist.com
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_57" " Re: cd drives "
From: Roger Light <rogerlight@mindless.com>
Date: 05-15-99 18:43:23
Subject: @{b}Re: cd drives@{ub}

From: Roger Light <rogerlight@mindless.com>

> Can anyone direct me to cd file so that i can access computer cds and
> music cds and any information on how music is stored on a cd coz i
> would like to try and write a simple program that lets me record
> music onto my hard disk.

Try:-

http://nikko.simplenet.com/goldentime/cdterm14.htm
http://www.ee.washington.edu/conselec/CE/kuhn/cdmulti/95x7/qchannel.htm
http://www.ee.washington.edu/conselec/CE/kuhn/cdaudio2/95x7.htm
http://www.disctronics.co.uk/cdref/cdaudio/cdaudio4.htm

I can't remember what they all are now, but it should give you some ideas.
I've not managed to get any information outof my cd rom, so if you do I'd
appreciate any pointers you could give. (I haven't spent much time with
it...)

Cheers,

Roger
-----------------------------------------------------------
-------------------
UK University Email Search - Find undergraduate email addresses!
http://start.at/uksearch


------------------------------------------------------------------------
With more than 14 million emails exchanged daily...
http://www.onelist.com
...ONElist IS the place where the world talks!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_58" " Re: cd drives "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-19-99 18:05:52
Subject: @{b}Re: cd drives@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Technically Oliver Marks was waffling about [amiga-c] cd drives.  But anyway...

> From: "Oliver Marks" <oly@enterprise.net>
> 
> Hi,
> 
> Can anyone direct me to cd file so that i can access computer cds and
> music cds and any information on how music is stored on a cd coz i
> would like to try and write a simple program that lets me record
> music onto my hard disk.

and have the option to then call Lamer to encode the CDDA stream into
an mp3 too - cool!

Dinky do,

Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_59" " Chip Mem & Picture.datatype "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-20-99 18:13:03
Subject: @{b}Chip Mem & Picture.datatype@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Is a picture.datatype loaded file always put into CHIP mem?  Does the
v43 mind if the bitmap is in chip or fast memory?  Or does it just ask
for MEMF_PUBLIC and use what it gets?

Dinky do,


Mike.



-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
How many communities do you think join ONElist each day?
http://www.onelist.com
More than 1,000!  Create yours now!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_60" " Re: Chip Mem & Picture.datatype "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-21-99 06:07:03
Subject: @{b}Re: Chip Mem & Picture.datatype@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 20-May-99, Mike Carter wrote:

> Is a picture.datatype loaded file always put into CHIP mem?  Does the
> v43 mind if the bitmap is in chip or fast memory?  Or does it just ask
> for MEMF_PUBLIC and use what it gets?

AFAIK the file might not be in chipmem, if cgfx or any other system is used.
For example, I have 1.9m free chip, and my screen is very colourful ;)

/Linus
 
> Dinky do,
> 
> 
> Mike.
> 
> 
> 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Now you better stop, and rebuild all your ruins, cause peace and trust can
win the day despite of all your losings



------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_61" " Re: Chip Mem & Picture.datatype "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-21-99 22:19:08
Subject: @{b}Re: Chip Mem & Picture.datatype@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 20 Mike (Mike Carter) wrote:

> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> Is a picture.datatype loaded file always put into CHIP mem?

   No, you cannot rely upon this.

> Does the v43 mind if the bitmap is in chip or fast memory?

   The picture.datatype need not bother about the storage method
and layout of the picture data as long as the operating system
knows how to handle it.

> Or does it just ask for MEMF_PUBLIC and use what it gets?

   It doesn't even do that. The picture.datatype merely receives
a BitMap from its subclass and then might end up allocating a new
BitMap which the subclass BitMap is then copied to.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_62" " cloning an image "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-21-99 16:42:09
Subject: @{b}cloning an image@{ub}

From: Linus McCabe <sparkle@hehe.com>


Hello.

I'm trying to clone a bitmap with the following piece of code:

<sb>
struct BitMap* cloneBitMap(struct BitMap* bitmap, struct Screen* screen)
{
    struct BitMap* newbitmap;
    long w, h, d, f;

    KPrintF("Clone bitmap %lx\n", bitmap);

    if(!bitmap)
        return(NULL);
    
    KPrintF("    getting attributes\n");
    w=GetBitMapAttr(bitmap, BMA_WIDTH);
    h=GetBitMapAttr(bitmap, BMA_HEIGHT);
    d=GetBitMapAttr(bitmap, BMA_DEPTH);
    f=GetBitMapAttr(bitmap, BMA_FLAGS);

    KPrintF("    allocating bitmap, %ld, %ld, %ld, %lx\n",w,h,d,f);
    newbitmap=AllocBitMap(w, h, d, f, screen->RastPort.BitMap);
    if(newbitmap)
    {
        BltBitMap(bitmap, 0, 0, newbitmap, 0, 0, w, h, 0xc0, 0xff,NULL);
        return(newbitmap);
    }
    
    return(NULL);
}
<sb>

It works fine, except that the new bitmap is not a clone of the original
one.
I've tried different friendbitmap for the Allocations and different flags
too, but no combination works for all screens. (even BMF_STANDARD & no
friend does not work always, but it seem to work best)

I've read the BltBitmap might not always work between different kind of
bitmaps?

Is there a better way to clone a bitmap? What am I doing wrong??

/Linus

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

I am not what you think I am, I am so much less than that



------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_63" " Re: cloning an image "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-21-99 20:20:13
Subject: @{b}Re: cloning an image@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Linus McCabe discovered that the date was 21-May-99 and wrote about [amiga-c]
cloning an image 
 Watcha Linus
->From: Linus McCabe <sparkle@hehe.com>


->It works fine, except that the new bitmap is not a clone of the original
->one.
->I've tried different friendbitmap for the Allocations and different flags
->too, but no combination works for all screens. (even BMF_STANDARD & no
->friend does not work always, but it seem to work best)
->Is there a better way to clone a bitmap? What am I doing wrong??

   I`m not sure but couldn`t you use the original bitmap as the friend bitmap?
That should work? I only discovered AllocBitMap about a month ago so don`t
take my word for it.

-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
How many communities do you think join ONElist each day?
http://www.onelist.com
More than 1,000!  Create yours now!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_64" " Re: cloning an image "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-22-99 10:14:28
Subject: @{b}Re: cloning an image@{ub}

From: Linus McCabe <sparkle@hehe.com>

Hello Tim

>   I`m not sure but couldn`t you use the original bitmap as the friend
> bitmap? That should work? I only discovered AllocBitMap about a month ago
> so don`t take my word for it.

This was the first way I tried it, but it didnt work :/

/linus

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

You're never too old to rock'n'roll and still too young to die.



------------------------------------------------------------------------
Are you hogging all the fun?
http://www.onelist.com
Friends tell friends about ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_65" " Collecting Tips (was: Re: StormC vs SAS/C, exe file size) "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-03-99 19:35:36
Subject: @{b}Collecting Tips (was: Re: StormC vs SAS/C, exe file size)@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 03-Mai-99 Mike Carter wrote:

> Clever tip!  Anybody keeping arecord of all the decent mails.  Maybe
> we could put them into an Amiga Guide like they do for Blitz, AMOS and
> E mailing lists.  Not sure if Onelist keeps an archive anyway??

I have an unsorted collection of Tips from various MLs.

If somebody wants to make then into a Guide mail me and I'll send them.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Bill Gates: "640 kB RAM ought to be enough for anybody..."


------------------------------------------------------------------------
Star Wars fans are using ONElist to share the fun.
http://www.ONElist.com
Are you?
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_66" " collections "
From: Bob Lanham <BobL@leading.net>
Date: 05-17-99 14:01:54
Subject: @{b}collections@{ub}

From: Bob Lanham <BobL@leading.net>

When you need something like an array, but you don't know how many items
you will need to hold, what do you use in the C language?  In Java
there's the Vector, Hashtable, and some other collections, which
automatically resize themselves.

In a related question, I wanted to define a structure something like
this:
struct Pixel_Info {
    char bw;       /* which color? black or white? */
    char checked;  /* have we looked at it?*/
    char critical; /* is it important? */
};

Then I thought I would do ReadPixel() calls and keep it all in an array
for some image processing:
struct Pixel_Info pix[640][480];  /* columns and rows */

But the compiler says the maximum storage size is exceeded.  As you can
see, I'm over my head, and need a more sophisticated technique.

------------------------------------------------------------------------
The Final Countdown is here!
http://www.ONElist.com
Join the "Star Wars" craze at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_67" " AW: [amiga-c] collections "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 05-17-99 14:20:42
Subject: @{b}AW: [amiga-c] collections@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>


> In a related question, I wanted to define a structure something like
> this:
> struct Pixel_Info {
>     char bw;       /* which color? black or white? */
>     char checked;  /* have we looked at it?*/
>     char critical; /* is it important? */
> };
> 
> Then I thought I would do ReadPixel() calls and keep it all in an array
> for some image processing:
> struct Pixel_Info pix[640][480];  /* columns and rows */
> 
> But the compiler says the maximum storage size is exceeded.  As you can
> see, I'm over my head, and need a more sophisticated technique.
> 
> 
    You  would have to allocate the buffer dynamically. The stack is
only for small data/variables.

    struct Pixel_Info *pix  = malloc(640*480*sizeof(struct Pixel_Info));

    if(!pix)
    {
     printf(" allocation of pixel buffer failed...\n");
     /* abort */
    } 


    /* do what ever you want here ... */
    pix[320][240].checked=1; 

    /* dont forget to return the memory to system at the end */
    free(pix);    


    Kind regards Alexander Fritsch

------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_68" " Re: collections "
From: Laurent FAILLIE <l_faillie@yahoo.com>
Date: 05-17-99 16:06:44
Subject: @{b}Re: collections@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>


Bob Lanham <BobL@leading.net> wrote:
>
> From: Bob Lanham <BobL@leading.net>
> 
> When you need something like an array, but you don't know how many
items
> you will need to hold, what do you use in the C language?  In Java
> there's the Vector, Hashtable, and some other collections, which
> automatically resize themselves.

In standard C library, you have realloc() function but for array it's
not easy. Standard C++ library have their own collections classes ...

> 
> In a related question, I wanted to define a structure something like
> this:
> struct Pixel_Info {
>     char bw;       /* which color? black or white? */
>     char checked;  /* have we looked at it?*/
>     char critical; /* is it important? */
> };

First, you should save bytes by using bitfields (1 bytes by pixel
instead of 4 -- 3 + 1 padding).

struct Pixel_Info {
    unsigned bw : 1;
    unsigned checked : 1;
    unsigned critical : 1;
};

> 
> Then I thought I would do ReadPixel() calls and keep it all in an
array
> for some image processing:
> struct Pixel_Info pix[640][480];  /* columns and rows */
> 
> But the compiler says the maximum storage size is exceeded.  As you
can
> see, I'm over my head, and need a more sophisticated technique.
> 

I think this error is caused because this array overflow the 64k
limits of small data adressing. Try using long data instead.

    Laurent
==
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_69" " Re: collections "
From: Andrew Markwell <andrewmarkwell@hotmail.com>
Date: 05-17-99 16:39:34
Subject: @{b}Re: collections@{ub}

From: "Andrew Markwell" <andrewmarkwell@hotmail.com>

>From: Bob Lanham <BobL@leading.net>
>Reply-To: amiga-c@onelist.com
>To: "amiga-c@onelist.com" <amiga-c@onelist.com>
>Subject: [amiga-c] collections
>Date: Mon, 17 May 1999 09:01:54 -0400
>
>From: Bob Lanham <BobL@leading.net>
>
>When you need something like an array, but you don't know how many items
>you will need to hold, what do you use in the C language?  In Java
>there's the Vector, Hashtable, and some other collections, which
>automatically resize themselves.

you can do this:

int *array=NULL;

// get x from somewhere

array=new int[x];

then you can access the array in the normal manner: array[7]=6; etc.

This is a C++ thing though, you'll need iostream.h and compiling in C++ mode 
for it to work.

-Andy


------------------------------------------------------------------------
Got an opinion?
http://www.onelist.com
Make it count!  Sign up for the ONElist Weekly Survey now.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_70" " Re: collections "
From: Steven Solie <ssolie@home.com>
Date: 05-17-99 16:53:56
Subject: @{b}Re: collections@{ub}

> From: Bob Lanham <BobL@leading.net>
> 
> When you need something like an array, but you don't know how many
> items you will need to hold, what do you use in the C language? In
> Java there's the Vector, Hashtable, and some other collections, which
> automatically resize themselves.

Attached is a small C++ template I wrote a while back which implements
a Vector of pointers for StormC 3.  The same technique can be applied
to implement a vector of pointers in C (see the AddItem method).

Cheers,
-----------------------------------------------------------
Steven Solie, Software Evolution
ssolie@home.com, http://members.home.net/ssolie
Phone: 403-912-1402, Fax: 403-912-1403, Team AMIGA
===========================================================2: Vector.h
[1mContent-Type:[0m plain text   [1mSize:[0m 2867 bytes
-----------------------------------------------------------
#ifndef VECTOR_H
#define VECTOR_H
/*
 * Vector.h -- Vector class template header file
 *
 * The Vector class template is used to replace a standard array.  It will
 * grow automatically to accomodate its members.  Random access to members
 * of a Vector is efficient.  Inserting and removing members of a Vector is
 * expensive.
 */

#include <exec/memory.h>
#include <proto/exec.h>


const ULONG INIT_VECTOR_CAPACITY        = 16;    // initial capacity
const ULONG VECTOR_CAPACITY_INCREMENT    = 16;    // capacity increment


template<class T> class Vector {
public:
    Vector(ULONG init_capacity = INIT_VECTOR_CAPACITY) throw (bad_alloc);
    ~Vector();
    ULONG GetSize() const;
    void AddItem(T* data) throw (bad_alloc);
    void RemoveItem(T* data);
    void RemoveItem(ULONG i);
    T* operator [](ULONG i);
    void ClearVector();
private:
    T** vector;
    ULONG capacity;
    ULONG size;
};


/*
 * Vector -- Constructor
 *
 * Initializes the object to its default state.  The initial capacity
 * of the vector can be specified if it can be anticipated.
 */
template<class T> Vector<T>::Vector(ULONG init_capacity)
{
    vector = (T**)AllocMem(init_capacity * sizeof(T*), MEMF_ANY);
    if ( vector == NULL )
        throw bad_alloc();

    size = 0;
    capacity = init_capacity;
}


/*
 * ~Vector -- Destructor
 *
 * Frees any object allocated resources.
 */
template<class T> Vector<T>::~Vector()
{
    FreeMem((APTR)vector, capacity * sizeof(T*));
}


/*
 * GetSize -- Get size
 *
 * Returns the size or number of elements in the vector.
 */
template<class T> ULONG Vector<T>::GetSize()
{
    return size;
}


/*
 * AddItem -- Add item
 *
 * Adds an item to the vector.  The vector size will be increased as
 * required.
 */
template<class T> void Vector<T>::AddItem(T* data)
{
    if ( size == capacity )  {
        const ULONG new_capacity = capacity + VECTOR_CAPACITY_INCREMENT;
        T** new_vector = (T**)AllocMem(new_capacity * sizeof(T*), MEMF_ANY);
        if ( new_vector == NULL )
            throw bad_alloc();

        CopyMemQuick((APTR)vector, (APTR)new_vector, capacity * sizeof(T*));
        FreeMem((APTR)vector, capacity * sizeof(T*));
        vector = new_vector;
        capacity = new_capacity;
    }

    vector[size] = data;
    size++;
}


/*
 * RemoveItem -- Remove item
 *
 * Removes an item from the vector.
 */
template<class T> void Vector<T>::RemoveItem(T* data)
{
    for ( ULONG i = 0; i < size; ++i )  {
        if ( vector[i] == data )
            break;
    }

    RemoveItem(i);
}

template<class T> void Vector<T>::RemoveItem(ULONG i)
{
    if ( i >= size )
        return;

    while ( i < size - 1 )  {
        vector[i] = vector[i + 1];
        ++i;
    }

    --size;
}


/*
 * operator [] -- Subscript item
 *
 * Returns an object pointer to the subscripted item.
 */
template<class T> T* Vector<T>::operator [](ULONG i)
{
    return vector[i];
}


/*
 * Clear -- Clear vector
 *
 * Clears the vector of its all items.
 */
template<class T> void Vector<T>::ClearVector()
{
    size = 0;
}


#endif
@ENDNODE
@NODE "Mail_71" " Re: collections "
From: Bob Lanham <BobL@leading.net>
Date: 05-18-99 12:11:35
Subject: @{b}Re: collections@{ub}

From: Bob Lanham <BobL@leading.net>

>
>         You  would have to allocate the buffer dynamically. The stack is
> only for small data/variables.
> 
>         struct Pixel_Info *pix  = malloc(640*480*sizeof(struct Pixel_Info));
> 
Thanks, Alexander. I think this is what I needed to know.


> 
> First, you should save bytes by using bitfields (1 bytes by pixel
> instead of 4 -- 3 + 1 padding).
> 
> struct Pixel_Info {
>         unsigned bw : 1;
>         unsigned checked : 1;
>         unsigned critical : 1;
> };
>         Laurent
Good idea!  I need to stop wasting memory that way.

------------------------------------------------------------------------
Are you hogging all the fun?
http://www.onelist.com
Friends tell friends about ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_72" " Re: collections "
From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>
Date: 05-18-99 16:28:35
Subject: @{b}Re: collections@{ub}

From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>

Hello Bob

On 17-Mai-99, you wrote:

> From: Bob Lanham <BobL@leading.net>

> When you need something like an array, but you don't know how many items
> you will need to hold, what do you use in the C language?  In Java
> there's the Vector, Hashtable, and some other collections, which
> automatically resize themselves.

> In a related question, I wanted to define a structure something like
> this:
> struct Pixel_Info {
>    char bw;       /* which color? black or white? */
>    char checked;  /* have we looked at it?*/
>    char critical; /* is it important? */
> };

> Then I thought I would do ReadPixel() calls and keep it all in an array
> for some image processing:
> struct Pixel_Info pix[640][480];  /* columns and rows */

> But the compiler says the maximum storage size is exceeded.  As you can
> see, I'm over my head, and need a more sophisticated technique.

I don´t know how your compiler handles this, but I would say you got a stack
overflow.

It is easier to avoid this by using pointers. You can use this:

struct Pixel_Info *pixelmatrix;

Then to get memory:

pixelmatrix = (Pixel_Info *) malloc( (640*480) * sizeof(Pixel_Info) );

To access every point you can use:

*(pixelmatrix + i); /* i is the index, 0 for first */

I know this not such beutiful like a two dimensional array, but withsome
arithmetics you can get every line and every pixel on the same.
So *(pixelmatrix + 640) is the first pixel in the second row...

Regards

-----------------------------------------------------------
    Christoph Krakowski

We are Windows of Borg. Speed is irrelevant, reliability is futile.



------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_73" " Re: collections "
From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>
Date: 05-18-99 16:36:30
Subject: @{b}Re: collections@{ub}

From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>

Hello Bob

On 18-Mai-99, you wrote:

> From: Bob Lanham <BobL@leading.net>


>>         You  would have to allocate the buffer dynamically. The stack is
>> only for small data/variables.
>> 
>>         struct Pixel_Info *pix = malloc(640*480*sizeof(struct
>> Pixel_Info));
>> 

> Thanks, Alexander. I think this is what I needed to know.

>> 
>> First, you should save bytes by using bitfields (1 bytes by pixel
>> instead of 4 -- 3 + 1 padding).
>> 
>> struct Pixel_Info {
>>         unsigned bw : 1;
>>         unsigned checked : 1;
>>         unsigned critical : 1;
>> };
>>         Laurent

> Good idea!  I need to stop wasting memory that way.

As far a I can remember vbcc don´t support bitfields, so you may be careful.

Regards

-----------------------------------------------------------
    Christoph Krakowski

I like pigs. Dogs look up to us. Cats look down on us. Pigs treat
us as equals.
-- Winston Churchill



------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_74" " Re: collections "
From: Laurent FAILLIE <l_faillie@yahoo.com>
Date: 05-19-99 08:26:24
Subject: @{b}Re: collections@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>

--- Christoph Krakowski 
> Hello Bob
> 
> On 18-Mai-99, you wrote:
> 
> > From: Bob Lanham <BobL@leading.net>
> 
> >> First, you should save bytes by using bitfields
> (1 bytes by pixel
> >> instead of 4 -- 3 + 1 padding).
> >> 
> >> struct Pixel_Info {
> >>         unsigned bw : 1;
> >>         unsigned checked : 1;
> >>         unsigned critical : 1;
> >> };
> >>         Laurent
> 
> > Good idea!  I need to stop wasting memory that
> way.
> 
> As far a I can remember vbcc don´t support
> bitfields, so you may be careful.
> 

In this case, using #define is the answer :

#define COLOR(x,c)     {(x) &= ~1; (x) |= (c) ? 1:0; }
#define CHECKED(x,c)    {(x) &= ~2; (x) |= (c) ? 2:0; }
#define CRITICAL(x,c)    {(x) &= ~4; (x) |= (c) ? 4:0; }

#define GETCOLOR(x)    ((x) & 1)
#define GETCHECKED(x)    (((x) & 2) ? 1:0)
#define GETCRITICAL(x)    (((x) & 4) ? 1:0)

typedef BYTE Pixel_Info;

So for changing the critical flag of [10,15], the code
should be

CRITICAL( tab[10][15], 1 );

Note : I don't have the time to test this code so be
carfull but the spirit is here ...

    Laurent
===
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
_____________________________________________________________
Do You Yahoo!?
Free instant messaging and more at http://messenger.yahoo.com

------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_75" " Re: collections "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-20-99 00:55:13
Subject: @{b}Re: collections@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Tue, May 18, 1999 at 07:11:35AM -0400, Bob Lanham wrote:
<snip>
> > First, you should save bytes by using bitfields (1 bytes by pixel
> > instead of 4 -- 3 + 1 padding).
> > 
> > struct Pixel_Info {
> >         unsigned bw : 1;
> >         unsigned checked : 1;
> >         unsigned critical : 1;
> > };
> >         Laurent
> Good idea!  I need to stop wasting memory that way.

This example is wrong.  In standard C, consecutive bitfield members of
the same type are packed into one or more elements of that type.
`unsigned' is short for unsigned int, which typically uses 4 bytes.
You should use unsigned char if you want to use just 1 byte for the
bitfield.  However, the structure as a whole might still be padded to
2 bytes to meet normal 68000 alignment rules.  Check your compiler's
documentation to find out exactly what it does.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Death is a nonmaskable interrupt.

------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_76" " colortable a mess "
From: Bob Lanham <BobL@leading.net>
Date: 05-03-99 14:15:23
Subject: @{b}colortable a mess@{ub}

From: Bob Lanham <BobL@leading.net>

I am trying to load a picture and its pallette, but my method makes a
mess of the color registers.  Basically what I tried to do was:

1. Open a 32-color screen with my own colortable,
   UWORD colortable[] = {0x777, etc ....}

2. Load a picture (32 or less colors) and GetDTAttrs -
   PDTA_ColorTable,&colortab,
   PDTA_NumColors,&numcolors,

3. then I changed the colortable[] array -
   for(i=0;i<numcolors;i++) colortable[i]=colortab[i];

4. LoadRGB4(&screen1->ViewPort,colortable,32);

Thanks if anybody can help.  Psychedelic was not what I wanted!

------------------------------------------------------------------------
You can now easily share photos and documents with your fellow list members
http://www.ONElist.com
Check out our homepage for details on how to use our new shared files feature!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_77" " Re: colortable a mess "
From: John Niclasen <Niclasen@bigfoot.com>
Date: 05-03-99 19:23:58
Subject: @{b}Re: colortable a mess@{ub}

From: John Niclasen <Niclasen@bigfoot.com>

Hi Bob!

On 03-May-99, Bob Lanham wrote:
> From: Bob Lanham <BobL@leading.net>
> 
> I am trying to load a picture and its pallette, but my
> method makes a mess of the color registers. Basically

The color table is in another format. Try this:

                GetDTAttrs(myPic,
                        PDTA_CRegs, &cRegs,
                        PDTA_NumColors, &numColors,
                        TAG_DONE);

                for(i=0; i<numColors; i++)
                {
                        r = cRegs[i * 3];
                        g = cRegs[i * 3 + 1];
                        b = cRegs[i * 3 + 2];
                        SetRGB32(&myscreen->ViewPort, i,
r, g, b);
                }

Bye
John.


------------------------------------------------------------------------
Share the wealth!
http://www.ONElist.com
Tell a friend about ONElist's 130,000 free e-mail communities!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_78" " Config file read, write, modify "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 05-25-99 10:11:07
Subject: @{b}Config file read, write, modify@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

Hello,
in my current project I want to use a config file. I want to save/load
window positions and dimensions, paths, default names and so on to/from a
config file.
So I could simple define a structure containing all my parameters and
load/save it. That would be a binary file. To ensure compatibility with
future versions of my program I could add new members at the end of the
structure and I must never change the size/position of old members. That
would be not so difficult. OK, but I am lazy.

A collegue of mine (linux user) suggested to use always human
readable/editable ascii-files if possible, such as many linux programs
win.ini... But this would be much more work than a simply binary structure
as the user could edit the file. So I would have to do much parsing, keyword
searching and error checking
Is there a somewere a ready to use source for such a configfile-handling? Or
what would you suggest?

Kind regards Alexander Fritsch

------------------------------------------------------------------------
How many communities do you think join ONElist each day?
http://www.onelist.com
More than 1,000!  Create yours now!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_79" " Re: Config file read, write, modify "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-25-99 13:36:26
Subject: @{b}Re: Config file read, write, modify@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 25-Mai-99 Fritsch Alexander wrote:

> A collegue of mine (linux user) suggested to use always human
> readable/editable ascii-files if possible, such as many linux programs
> win.ini... But this would be much more work than a simply binary structure
> as the user could edit the file. So I would have to do much parsing,
> keyword searching and error checking Is there a somewere a ready to use
> source for such a configfile-handling? Or what would you suggest?

There is a working Source.
Get comm/mail/ML-Support.lha from Aminet and look at Config.c.

You should be able to work out how to use it. It's a much improved Version
of config101.lha (also from Aminet), I'll write some Docs and upload it some
day.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Computers are like airconditioned rooms, so do not open WINDOWS!


------------------------------------------------------------------------
Congratulations to "M-K-ROSES," our latest ONElist of the Week.
http://www.onelist.com
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_80" " AW: [amiga-c] Config file read, write, modify "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 05-26-99 09:56:46
Subject: @{b}AW: [amiga-c] Config file read, write, modify@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>


> There is a working Source.
> Get comm/mail/ML-Support.lha from Aminet and look at Config.c.
> 
> You should be able to work out how to use it. It's a much improved Version
> of config101.lha (also from Aminet), I'll write some Docs and upload it
> some
> day.
> 
> Bye, Chris
> 
    Thank you for the answer. I looked at the source but I have to look
much closer. If you want to improve this piece of code to be THE solution
for configfile handling I had 2 suggestions:

    - What about C instead of C++ (or additional)? So much more
programmers could use it. Yes I know the advantages  of C++ but there are
still many C only developers...
    - It would be nice if you could aviod using AMIGA-specific functions
such as the list functions. It is such a general problem so it would be nice
if the solution were platform independent. (IMHO) I often use BorlandC for
developing/debugging on a PC because the compiler is so much faster. (And I
can write some lines of code here at work ;) )

    But it looks very interesting. 

    What do the others on the list think about this topic? 
    Lets make some re-usable standard solutions for the most common
problems!

    Kind regards Alexander Fritsch

------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_81" " Re: Config file read, write, modify "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-26-99 18:19:43
Subject: @{b}Re: Config file read, write, modify@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 26-Mai-99 Fritsch Alexander wrote:

>     - What about C instead of C++ (or additional)? So much more
> programmers could use it. Yes I know the advantages  of C++ but there are
> still many C only developers...

It's C++? That would be news to me...

>     - It would be nice if you could aviod using AMIGA-specific functions such
> as the list functions. It is such a general problem so it would be nice if

I didn't want to write the List Handling myself, but if somebody wants to...

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

We are Windows of Borg. Speed is irrelevant, reliability is futile.


------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_82" " Re: Config file read, write, modify "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-26-99 20:52:32
Subject: @{b}Re: Config file read, write, modify@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Technically Fritsch Alexander was waffling about [amiga-c] Config file read, write, modify.  But anyway...

> in my current project I want to use a config file. I want to save/load
> readable/editable ascii-files if possible, such as many linux programs
> Is there a somewere a ready to use source for such a configfile-handling? Or
> what would you suggest?

Look at prefs-2000.lha on aminet.  It is in blitz basic but easy
enough to convert I imagine.

Dinky do,


Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has over 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_83" " AW: [amiga-c] Config file read, write, modify "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 05-27-99 07:12:30
Subject: @{b}AW: [amiga-c] Config file read, write, modify@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>



> >     - What about C instead of C++ (or additional)? So much more
> > programmers could use it. Yes I know the advantages  of C++ but there
> are
> > still many C only developers...
> 
> It's C++? That would be news to me...
> 
    Sorry I had to look at another source as same same time, so I mixed
things a bit... 
      
    Kind regards Alexander Fritsch

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 150,000 e-mail communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_84" " Counting the bits in a long "
From: Niels de Koning <ndk@bart.nl>
Date: 05-31-99 21:39:31
Subject: @{b}Counting the bits in a long@{ub}

From: Niels de Koning <ndk@bart.nl>

Hello!

I am trying to find the fastest way to count the number of bits that
are not 0 in a LONG.

Currently the only way I can think of is to use the '&' (bitwise AND)
operator for each bit in the LONG. But this means that I have to a
lot of operations for each LONG. ;-(

This could maybe be done a bit faster if I use the bitwise AND on a
group of bits first. I mean I divide the LONG in groups of 8 bits and
only process the group of 8 bits if the bitwise AND shows that one (or
more) of these 8 bits are set. The downside of this is ofcourse that
it could also slow down my calculation if a lot of bits in the LONG
are set......

Does anybody know what I am talking about? ;-)

Can anybody think of a better solution?

Best regards,
     Niels de Koning

------------------------------------------------------------------------
With more than 17 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is THE place where the world talks!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_85" " DataType Color Tables "
From: Bob Lanham <BobL@leading.net>
Date: 05-23-99 13:16:07
Subject: @{b}DataType Color Tables@{ub}

From: Bob Lanham <BobL@leading.net>


> Would you be willing to share you fully working code to splat a DT
> bitmap to window?  Just the datatype code nothing extras.  please.
> Maybe upload it to Aminet as an example in the C/ section??
> 

You probably saw that I just posted that very thing.  I now use
AddDTObject, rather than BlitBitMapRastPort, because it seems more the
intended usage of DataTypes.  Putting it on Aminet sounds like a good
idea, but I'd better wait a while until some more "field-testing" is
done.

Since this list is going into an archive, I need to make a correction.
Earlier I posted something about "extracting" the palette from a
DataType picture, and copying it into your screen's ColorTable.  Well,
that method had trouble with some pictures.  Here's the better way. 
(Somebody showed me this before, but I was too dense to make it work.)

/*******************************************************************/
    Object *mypic=NULL;
    ULONG c,r,g,b,i;   /* make sure these are ULONG */
    LONG *cregs;

if(mypic = NewDTObject(filename,
    DTA_GroupID,     GID_PICTURE,
    PDTA_Remap,      FALSE,       /* FALSE for this example */
    TAG_DONE))
    {

    /* get attributes we are interested in */
    GetDTAttrs(mypic,
        PDTA_CRegs,           &cregs,  /* color registers */
        PDTA_NumColors,       &c,
        TAG_DONE);

    /* First, make sure your screen can handle this many colors. */

    /* load new colortable */
    for(i=0;i<c;i++)
        {
        r=cregs[i*3+0];
        g=cregs[i*3+1];
        b=cregs[i*3+2];
        SetRGB32(&screen1->ViewPort,i,r,g,b);
        }
/***********************************************************************/

------------------------------------------------------------------------
It's finally here!  What's your opinion?
http://www.onelist.com
Create a Star Wars discussion group at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_86" " Datatype CRegs "
From: Bob Lanham <BobL@leading.net>
Date: 05-05-99 13:49:46
Subject: @{b}Datatype CRegs@{ub}

From: Bob Lanham <BobL@leading.net>

Thanks to John for heading me in the right direction.  My palette comes
in right, but I did it a little different, like the following: (leaving
out a lot)

/*********************************************************************/
    struct ColorRegister *cm;
    ULONG r,g,b,numcolors,i;

    GetDTAttrs(mypic,
        PDTA_ColorRegisters,&cm,
        PDTA_NumColors,&numcolors,
        TAG_DONE);

        for(i=0;i<numcolors;i++,cm++)
        {
            r=((ULONG)(cm->red))  *0x01010101UL; /* for 32-bit colors */
            g=((ULONG)(cm->green))*0x01010101UL; /* switch low-order
to*/
            b=((ULONG)(cm->blue)) *0x01010101UL; /* high-order bytes */
            SetRGB32(&screen1->ViewPort,i,r,g,b);
        }
/***********************************************************************/

Only after multiplying the r,g,b by 0x01010101 did the palette colors
look right.  Why this works is beyond me, but I got the idea from some
code on Aminet by Roland Mainz.

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_87" " Re: Datatype Picture "
From: Fredrik Söderberg <mcdrill@hem.passagen.se>
Date: 05-01-99 16:21:43
Subject: @{b}Re: Datatype Picture@{ub}

From: Fredrik =?iso-8859-1?Q?S=F6derberg?= <mcdrill@hem.passagen.se>

On 30-Apr-99, Bob Lanham wrote:

> Thanks to this list I am loading pics the datatype way!  When loading
> the 1st picture, after the window resizes, the bitmap blits into the
> window just fine.

> The problem is the next picture loaded into the same window only blits
> into the part of the window that was previously showing imagery.  I
> think I need to clear the bitmap memory somehow, but I don't know the
> function.  See code fragment below:

I noticed this also, when playing with the blitting...
The problem, at least my guess, is that ChangeWindowBox() takes some time.
So changing the window size and blitting directly after results to the
window
didn't have time to resize before the blit.

That's why I used the IDCMP_REFRESHWINDOW, which is called when the resizing
is done.

I don't know if there are some other ways, but anyway, checking for
IDCMP_REFRESHWINDOW
after the resize should work.

Regards
-----------------------------------------------------------
        /             Fredrik "McDrill" Söderberg          \
       / /mcdrill@hem.passagen.se || hem.passagen.se/mcdrill \\
"Life sucks, you can't live with it and you can't live without it"

------------------------------------------------------------------------
Share the wealth!
http://www.ONElist.com
Tell a friend about ONElist's 130,000 free e-mail communities!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_88" " Re: Datatype Picture "
From: Stephan Lichtendahl <S.E.M.Lichtendahl@ITS.TUDelft.NL>
Date: 05-01-99 17:29:07
Subject: @{b}Re: Datatype Picture@{ub}

From: Stephan Lichtendahl <S.E.M.Lichtendahl@ITS.TUDelft.NL>

> Thanks to this list I am loading pics the datatype way!  When loading
> the 1st picture, after the window resizes, the bitmap blits into the
> window just fine.

Hm, it is easier to let datatypes do the rendering for you:
if you use AddDTObject and then RefreshDTObjects, the picture is
drawn in the window for you. You then only need to use
RefreshDTObjects again when the window needs refreshing.
Directly blitting is only necessary when you use a scrollable window.

--
Greetinx, Stephan.            http://elektron.et.tudelft.nl/~stephanl
Amiga 1200 with 166MHz PowerPC, Permedia2 Gfx, 34MB Mem, 2GB HD, ISDN
 We are Windows of Borg. Speed is irrelevant, reliability is futile.

------------------------------------------------------------------------
Cooking, health, entertainment, travel, politics, business...
http://www.onelist.com
Whatever your interest, ONElist has something for everyone!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_89" " Re: Datatype Picture "
From: Bob Lanham <BobL@leading.net>
Date: 05-03-99 01:26:43
Subject: @{b}Re: Datatype Picture@{ub}

From: Bob Lanham <BobL@leading.net>

> I noticed this also, when playing with the blitting...
> The problem, at least my guess, is that ChangeWindowBox() takes some time.
> So changing the window size and blitting directly after results to the
> window
> didn't have time to resize before the blit.
> 
> That's why I used the IDCMP_REFRESHWINDOW, which is called when the resizing
> is done.
> 
Thanks, Fredrick!
This worked, but I may have found even a better way: the
IDCMP_CHANGEWINDOW message.
The docs say that this is meant to go with the ChangeWindowBox()
function, and it works like a charm.
Bob Lanham

------------------------------------------------------------------------
Has ONElist changed your life?
http://www.ONElist.com
Visit our homepage and share with us your experiences at ONElist of the Week!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_90" " Re: Datatype Picture "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-19-99 20:55:39
Subject: @{b}Re: Datatype Picture@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Technically Bob Lanham was waffling about [amiga-c] Datatype Picture.  But anyway...

> From: Bob Lanham <BobL@leading.net>
> 
> Thanks to this list I am loading pics the datatype way!  When loading
> the 1st picture, after the window resizes, the bitmap blits into the
> window just fine.
> 
> The problem is the next picture loaded into the same window only blits
> into the part of the window that was previously showing imagery.  I
> think I need to clear the bitmap memory somehow, but I don't know the
> function.  See code fragment below:
<SNIP>

Did the datatype code to load a picture into a window ever work
completely?  Is a good example available anywhere as I didn't follow
the DT thread a while back...

Dinky do,



Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
How many communities do you think join ONElist each day?
http://www.onelist.com
More than 1,000!  Create yours now!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_91" " Re: Datatype Picture "
From: Bob Lanham <BobL@leading.net>
Date: 05-20-99 13:56:13
Subject: @{b}Re: Datatype Picture@{ub}

From: Bob Lanham <BobL@leading.net>


>Did the datatype code to load a picture into a window ever work
>completely?  Is a good example available anywhere as I didn't follow
>the DT thread a while back...
>
>Dinky do,
>Mike C.

Yes, I got it working.  I had to WaitPort() for IDCMP_CHANGEWINDOW, to
make sure the window had resized; then you can blit the BitMap into the
window.

However, I'm still having trouble extracting the ColorTable information
from the loaded picture, and getting it to properly update my program's
color registers with SetRGB32().

There's another way to put the picture into the window without using
BlitBitMapRastPort().  AddDTObject() is supposed to do it for you, but
so far I haven't been successful with it.  But I think this is more the
way datatypes were meant to be added to windows.  There is an example on
the Developer's CD 1.2:

ndk/ndk_3.1/examples2/datatypes/src/dto.c

Another question:
Should I use OpenLibrary("datatypes.library",0L) to use datatypes?  I've
seen some examples that open it and others that do not.  My code works
without opening the library.

Thanks,
Bob L.

------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_92" " Re: Datatype Picture "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-20-99 16:42:34
Subject: @{b}Re: Datatype Picture@{ub}

From: Linus McCabe <sparkle@hehe.com>

Hello Bob

> Should I use OpenLibrary("datatypes.library",0L) to use datatypes?  I've
> seen some examples that open it and others that do not.  My code works
> without opening the library.

Your compiler must automatically open and close it for you then.

/Linus
 
> Thanks,
> Bob L.
> 
> ------------------------------------------------------------------------
> ONElist:  where real people with real interests get connected.
> http://www.onelist.com
> Join a new list today!
> ------------------------------------------------------------------------
> * Don't forget to tell your 'C' coding buddies to join up!! *
> 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

You can't have the blues in an office or a shopping mall, the lighting is
wrong.



------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_93" " Re: Datatype Picture "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-21-99 13:46:34
Subject: @{b}Re: Datatype Picture@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Technically Bob Lanham was waffling about Re: [amiga-c] Datatype Picture.  But anyway...

Hello Bob,

> Yes, I got it working.  I had to WaitPort() for IDCMP_CHANGEWINDOW, to
> make sure the window had resized; then you can blit the BitMap into the
> window.

Would you be willing to share you fully working code to splat a DT
bitmap to window?  Just the datatype code nothing extras.  please. 
Maybe upload it to Aminet as an example in the C/ section??


> Another question:
> Should I use OpenLibrary("datatypes.library",0L) to use datatypes?  I've
> seen some examples that open it and others that do not.  My code works
> without opening the library.

Maybe you have your compiler set to open the library for you as part
of init code?  Does SAS-C do this as I've noticed the same thingand
presumed this is what was happening?!

Dinky do,


Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
ONElist:  bringing the world together.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_94" " Re: DataType Question - 24bit pictures "
From: Steven Solie <ssolie@home.com>
Date: 05-03-99 18:21:04
Subject: @{b}Re: DataType Question - 24bit pictures@{ub}

From: Steven Solie <ssolie@home.com>

On 03-May-99, Niels de Koning wrote:
> And one more question: If I load a 24 bit picture to memory (once I am
> finally able to ;-) by using the datatypes, what format does the
> picture in memory have?
> 
> I would be very happy if somebody could help me with these things, or
> point me towards some documents that contain information in this 
> area.

Check out these Aminet archives from TEK:
 dev/misc/RenderLib.lha
 dev/misc/GuiGFXLib.lha

The libs add an extra layer between your app and your graphics and they
give you many powerful features.

The TEK web pages have been down for a while but they promise to
have them back up real soon now...
-----------------------------------------------------------
Steven Solie, ssolie@home.com, ssolie@ieee.org
http://members.home.net/ssolie/, Team AMIGA


------------------------------------------------------------------------
Share the wealth!
http://www.ONElist.com
Tell a friend about ONElist's 130,000 free e-mail communities!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_95" " DataType Question - 24bit pictures "
From: Niels de Koning <ndk@pop.bart.nl>
Date: 05-03-99 19:41:35
Subject: @{b}DataType Question - 24bit pictures@{ub}

From: "Niels de Koning" <ndk@pop.bart.nl>

Hi all amiga-c people!

A few days ago I read a few mails about picture loading through 
datatypes. I fiddled around with this a little bit and I actually got it 
to work ;-)
But I can't get 24 bit stuff to work. (I did use the latest version of
picture.datatype)

I expected to get 24 as depth of a picture if I asked the bmh_Depth tag 
from the BitMapHeader structure, but the only thing I can get out of it so 
far is 8. This probably means that all my pictures are remapped to 8 bits. 
What is the trick to loading 24 bit pictures?

And another related question: Is it possible by using the datatypes to 
load every picture as a 24 bit picture? (So even if it is an 8-bit PNG 
file I want to have a 24 bit image in memory, it does not necessarily have 
to be displayed)

And one more question: If I load a 24 bit picture to memory (once I am 
finally able to ;-) by using the datatypes, what format does the picture 
in memory have?

I would be very happy if somebody could help me with these things, or
point me towards some documents that contain information in this 
area.

Thanks!
  Niels de Koning

------------------------------------------------------------------------
Start a new hobby.  Meet a new friend.
http://www.onelist.com
ONElist:  The leading provider of free e-mail list services!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_96" " Re: DataType Question - 24bit pictures "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-03-99 20:11:57
Subject: @{b}Re: DataType Question - 24bit pictures@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, May 03, 1999 at 06:42:35PM +0000, Niels de Koning wrote:
> From: "Niels de Koning" <ndk@pop.bart.nl>
> 
> Hi all amiga-c people!
> 
> A few days ago I read a few mails about picture loading through 
> datatypes. I fiddled around with this a little bit and I actually got it 
> to work ;-)
> But I can't get 24 bit stuff to work. (I did use the latest version of
> picture.datatype)
> 
> I expected to get 24 as depth of a picture if I asked the bmh_Depth tag 
> from the BitMapHeader structure, but the only thing I can get out of it so 
> far is 8. This probably means that all my pictures are remapped to 8 bits. 
> What is the trick to loading 24 bit pictures?

The original picture.datatype API doesn't support direct-mapped
colour, so all pictures end up as between 1 and 8 bitplanes with
a palette.  You have to use the version 43 extensions.

<snip>
> I would be very happy if somebody could help me with these things, or
> point me towards some documents that contain information in this 
> area.

I think you need this:

PictDT43.lha       util/dtype 182K  74+Picture.datatype V43.762 for CGraphX

though I don't know whether that includes all the developer info.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
Tired of empty chat rooms and out of date bulletin boards?
http://www.ONElist.com 
ONElist: Making the Internet Intimate
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_97" " Re: DataType Question - 24bit pictures "
From: "Alfred P. Schwarz" <Alfred.P.Schwarz@kerckhoff.med.uni-giessen.de>
Date: 05-04-99 22:38:29
Subject: @{b}Re: DataType Question - 24bit pictures@{ub}

From: "Alfred P. Schwarz" <Alfred.P.Schwarz@kerckhoff.med.uni-giessen.de>

> From: "Niels de Koning" <ndk@pop.bart.nl>

> But I can't get 24 bit stuff to work. (I did use the latest version of
> picture.datatype)

Do you have a 24 Bit picture.datatype installed? (V43+)

> I expected to get 24 as depth of a picture if I asked the bmh_Depth tag
> from the BitMapHeader structure, but the only thing I can get out of it so
> far is 8. This probably means that all my pictures are remapped to 8 bits.
> What is the trick to loading 24 bit pictures?

To enable truecolor you have to provide "PDTA_DESTMODE,PMODE_V43" when
creating the datatype.
But if you do it right you will get the right depth in bitmapheader.

> And another related question: Is it possible by using the datatypes to
> load every picture as a 24 bit picture? (So even if it is an 8-bit PNG
> file I want to have a 24 bit image in memory, it does not necessarily have
> to be displayed)

Nope. You will have to handle truecolor bitmaps different from <=256 colors.
You have to do conversion yourself.

> And one more question: If I load a 24 bit picture to memory (once I am 
> finally able to ;-) by using the datatypes, what format does the picture 
> in memory have?

You will never know. Use the PDTM_READPIXELARRAY method to read
truecolor-pixels.

The CGX V43 picture.datatype archive contains developer information. But you
are not allowed to use this datatype if you do not use CGX. But you can use
the compatible datatype from Picasso96.

Be warned: The example in the CGX developer archive contains something like
an error: after NewDTObject() there is no DTM_PROCLAYOUT method. This works
for the CGX picture.datatype but not for Picasso!

Ciao, Alfred


------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_98" " Datatype question - again..... "
From: Niels de Koning <ndk@pop.bart.nl>
Date: 05-13-99 22:18:16
Subject: @{b}Datatype question - again.....@{ub}

Hello Amiga-C people!

A few days ago I asked a couple of hints on using datatypes to load 
pictures. I got a couple of good hints, but I still can not get it to work 
as expected. I want to get the depth of a picture I load, but the maximum 
depth I can get is 8 ;-((
I hope somebody here can help me, I have only just begun programming and C 
and I have stared at this problem for hours and hours, but I can't get it 
to work.....

I have all the basic requirements covered. I have a 24 bit picture 
datatype (the latest) and a 24 bit datatype for the pictures I am trying 
to load (png). What else is required?

This is the important part of the code I am using. It is really 
straightforward. If anybody wants to compile it on their own system (I 
used SAS-C), I have also attached the sourcecode to this email (it is a 
very small file, I hope nobody minds....)


   if( dto = NewDTObject( argv[1],
            DTA_SourceType,         DTST_FILE,
            DTA_GroupID,            GID_PICTURE,
            PDTA_DestMode,          MODE_V43,
            TAG_DONE) )
   {
      if( (GetDTAttrs ( dto,
             PDTA_BitMapHeader, &bmhd,
             TAG_DONE ) ) == 1 )
      {
         printf( "\nBitMapHeader Struct:\n");
         printf( "Width: %d\n", bmhd->bmh_Width);
         printf( "Height: %d\n", bmhd->bmh_Height);
         printf( "Depth: %d\n", bmhd->bmh_Depth);
      }


Can somebody tell me what I am doing wrong? I am about to go insane 
over this problem ;-)))

In the picture.datatype archive I found an example in the Source/API-Demo 
directory. This example loads a picture by using the datatype system, but 
this example also does not load 24bit pictures for me. According to what I 
see in the code this should happen.......

Best regards,
  Niels 'desperate' de Koning
===========================================================2: 
[1mContent-Type:[0m plain text   [1mSize:[0m 475 bytes
[1mDescription:[0m Attachment information.
-----------------------------------------------------------
The following section of this message contains a file attachment
prepared for transmission using the Internet MIME message format.
If you are using Pegasus Mail, or any another MIME-compliant system,
you should be able to save it or view it from within your mailer.
If you cannot, please ask your system administrator for assistance.

   ---- File information -----------
     File:  PicTest.c
     Date:  13 May 1999, 21:03
     Size:  967 bytes.
     Type:  Program-source
===========================================================3: PicTest.c
[1mContent-Type:[0m binary file   [1mSize:[0m 1086 bytes
@ENDNODE
@NODE "Mail_99" " Re: Datatype question - again..... "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-14-99 17:34:48
Subject: @{b}Re: Datatype question - again.....@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 13 Niels (Niels de Koning) wrote:

> Hello Amiga-C people!
> 
> A few days ago I asked a couple of hints on using datatypes to load 
> pictures. I got a couple of good hints, but I still can not get it to work 
> as expected. I want to get the depth of a picture I load, but the maximum 
> depth I can get is 8 ;-((
> I hope somebody here can help me, I have only just begun programming and C 
> and I have stared at this problem for hours and hours, but I can't get it 
> to work.....
> 
> I have all the basic requirements covered. I have a 24 bit picture 
> datatype (the latest) and a 24 bit datatype for the pictures I am trying 
> to load (png). What else is required?

   A 24 bit picture? You did check the version numbers of the
picture.datatype and the subclass responsible for png pictures?

> This is the important part of the code I am using. It is really 
> straightforward. If anybody wants to compile it on their own system (I 
> used SAS-C), I have also attached the sourcecode to this email (it is a 
> very small file, I hope nobody minds....)
> 
> 
>    if( dto = NewDTObject( argv[1],
>             DTA_SourceType,         DTST_FILE,
>             DTA_GroupID,            GID_PICTURE,
>             PDTA_DestMode,          MODE_V43,
>             TAG_DONE) )
>    {
>       if( (GetDTAttrs ( dto,
>              PDTA_BitMapHeader, &bmhd,
>              TAG_DONE ) ) == 1 )
>       {
>          printf( "\nBitMapHeader Struct:\n");
>          printf( "Width: %d\n", bmhd->bmh_Width);
>          printf( "Height: %d\n", bmhd->bmh_Height);
>          printf( "Depth: %d\n", bmhd->bmh_Depth);
>       }
> 
> 
> Can somebody tell me what I am doing wrong? I am about to go insane 
> over this problem ;-)))

   This should accurately report the properties of the picture.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has over 145,000 email communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_100" " Re: Datatype question - again..... "
From: Niels de Koning <ndk@pop.bart.nl>
Date: 05-16-99 00:38:08
Subject: @{b}Re: Datatype question - again.....@{ub}

From: "Niels de Koning" <ndk@pop.bart.nl>

> > I have all the basic requirements covered. I have a 24 bit picture 
> > datatype (the latest) and a 24 bit datatype for the pictures I am trying 
> > to load (png). What else is required?
> 
>    A 24 bit picture? You did check the version numbers of the
> picture.datatype and the subclass responsible for png pictures?

First of all: Thank you very much for the reply. I already suspected that 
it was something else than the program code, but because I am still a 
beginner in C I was not absolutely sure about this.

Because of your mail I started looking at external factors for this and I 
finally found it..... I just am too ashamed to admit it ;-)
It seemed that my datatypes for PNG and JPG (I used the ak-datatypes for 
this test) had V40 mode saved in their preferences......

I think I'll go hide in a corner now.....

Thanks people for the hints you gave me!
   Niels de Koning

------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_101" " Datatypes support alpha channel? "
From: Jonas Hulten <bjonte@hem2.passagen.se>
Date: 05-10-99 19:15:58
Subject: @{b}Datatypes support alpha channel?@{ub}

From: Jonas Hulten <bjonte@hem2.passagen.se>

I want to know if the datatypes system supports loading of alpha channels.

I also would like to know if it is possible to load a picture to some 24bit
bitmap (non-displayed) that I can process and copy from later.

/Jonas

-----------------------------------------------------------
0 "MEAT IS MURDER  " GRRRL
48   "JETPAC"           PRG
20   "JELLY MONSTERS"   PRG
32   "µBEE"             REL
42   "VECTREX"          REL
604  "A4000"            L?<
64 BLOCKS FREE.


------------------------------------------------------------------------
With more than 14 million emails exchanged daily...
http://www.onelist.com
...ONElist IS the place where the world talks!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_102" " Re: Digest Number 11 "
From: Stephan Lichtendahl <S.E.M.Lichtendahl@ITS.TUDelft.NL>
Date: 05-01-99 17:16:42
Subject: @{b}Re: Digest Number 11@{ub}

From: Stephan Lichtendahl <S.E.M.Lichtendahl@ITS.TUDelft.NL>

>    Date: Thu, 29 Apr 1999 21:19:39 +0200
>    From: "Alfred P. Schwarz" <Alfred.P.Schwarz@kerckhoff.med.uni-giessen.de>
> Subject: Re: Digest Number 9
> > 
> BltBitMapRastPort works for pictures with depth greater 8?
> I did`t know that...

Yup, even ScrollRaster works. I've used it to make a fast-scrolling
replacement for MultiView with pictures.
 
> What RTG-software do you use?

Cybergraphics v3.

I finally got the <=8bit bitmaps problem solved:
I forgot to specify the screen with PDTA_Screen and you also need a
DoDTMethod call to actually perform the remapping...

--
Greetinx, Stephan.            http://elektron.et.tudelft.nl/~stephanl
Amiga 1200 with 166MHz PowerPC, Permedia2 Gfx, 34MB Mem, 2GB HD, ISDN
 We are Windows of Borg. Speed is irrelevant, reliability is futile.

------------------------------------------------------------------------
Do you know why...
"The Closer" picked ONElist to host their baseball humor community?
http://www.onelist.com
Because of ONElist's reliable service and live customer support!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_103" " equ "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-19-99 19:44:19
Subject: @{b}equ@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Does anybody have source code or a place I can find out about how to
do a *fast* equaliser routine for a sound which is playing?

Dinky do,




Mike .

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_104" " Fake Transparency "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-19-99 19:43:26
Subject: @{b}Fake Transparency@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

I've seen it done before but not always perfectly.  What am I on
about?  Windows with transparent bits!  I'd like to have a window with
an image on it.  But around the image I'd like to copy the contents of
the screen under window to make it look like a non-standard window.

I presume I should be looking at the screens rastport and copying bits
to the window rastport??

The reason I'm asking this question is that some programs I've seen
doing this have failed badly on my GFX card but work fine on AGA. 
When they try to copy a 16/24-bit screen the (what should be
transparent) appears to be just coloured lines.  Do I need to cater
for two different routines to grab screen from behind window??

If anybody has already done this it would be great it you could send
the source of the bit which copies the screen to window everytime the
window is moved.  I presume this would be simply a case of re-calling
the copy fromscreen everytime the window move IDCMP arrives?

Dinky do,




Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
How many communities do you think join ONElist each day?
http://www.onelist.com
More than 1,000!  Create yours now!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_105" " Re: Fake Transparency "
From: Jarno van der Linden <jarno@kcbbs.gen.nz>
Date: 05-20-99 22:21:24
Subject: @{b}Re: Fake Transparency@{ub}

From: Jarno van der Linden <jarno@kcbbs.gen.nz>

> about?  Windows with transparent bits!  I'd like to have a window with
> an image on it.  But around the image I'd like to copy the contents of
> the screen under window to make it look like a non-standard window.

You mean like the MUI help balloons? Those are fairly easy to do. You
make a borderless window, and set its backfill hook to be the null
backfill hook.

This way, no borders will be rendered, and no background will be filled,
so the window appears completely invisible.

Things get rather tricky if another window partially overlapping your
window is moved, as your background doesn't get updated. I've been
playing around with a simple transparent window hack, and have that
problem. A possible solution would be to write a backfill hook that
copies the data in the layers beneath it, but I have no idea how to
do that.

---JvdL---

------------------------------------------------------------------------
ONElist:  bringing the world together.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_106" " Re: Fake Transparency "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-21-99 22:10:02
Subject: @{b}Re: Fake Transparency@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 19 Mike (Mike Carter) wrote:

> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> I've seen it done before but not always perfectly.  What am I on
> about?  Windows with transparent bits!  I'd like to have a window with
> an image on it.  But around the image I'd like to copy the contents of
> the screen under window to make it look like a non-standard window.
> 
> I presume I should be looking at the screens rastport and copying bits
> to the window rastport??

   This is not always possible. What may be behind your window is not
necessarily suitable to copy from. For example, trying to copy data from
an obscured simple refresh window won't copy anything because there is
no data to copy. And the other attempt won't work either: copying
straight from the screen's RastPort will copy the contents of the
screen bitmap, and that one contains your window.

> The reason I'm asking this question is that some programs I've seen
> doing this have failed badly on my GFX card but work fine on AGA. 
> When they try to copy a 16/24-bit screen the (what should be
> transparent) appears to be just coloured lines.  Do I need to cater
> for two different routines to grab screen from behind window??
> 
> If anybody has already done this it would be great it you could send
> the source of the bit which copies the screen to window everytime the
> window is moved.  I presume this would be simply a case of re-calling
> the copy fromscreen everytime the window move IDCMP arrives?

   Could be that what happens here is just that the window being
move has no backfill hook, or rather, has a no-op backfill hook.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_107" " Finding line of code memory was allocated on ?? "
From: Dominic Clifton <dominicc@barrysworld.co.uk>
Date: 05-20-99 01:21:37
Subject: @{b}Finding line of code memory was allocated on ??@{ub}

From: Dominic Clifton <dominicc@barrysworld.co.uk>


Right, say you're developing a program with SAS/C 6.58 and you've set
DEBUG=FULL and ADDSYMBOLS and you can use CPR to step through the code...

Now, my program is allocating, but not freeing some memory somewhere, and
due to the size an complexity of the program (and the libraries it uses)
I'm finding it very hard to find where this is happening in the code..

So, my question is this:

How can I find the exact line of code (in the C source) that memory was 
allocated by, using external tools ? (Example comand lines would be very 
helpful)

I've played around with mungwall and munglist in combination with a memory
monitor program and I've found quite a few strings that weren't being freed
but I can't figure out what what some of the other allocations are..

is it possible to tag each memory allocation with a counter and then trace
the call by counting through memory allocations in the program ?

-----------------------------------------------------------

[Dominic Clifton - aka Hydra/CRoSS POiNT ]=-  -=[ Oh my god, it's an email]
[DreamCast, C++, DV, Sports Cars, Snowboarding, South Park, Placebo, Amiga]


------------------------------------------------------------------------
It's finally here!  What's your opinion?
http://www.onelist.com
Create a Star Wars discussion group at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_108" " Re: Finding line of code memory was allocated on ?? "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-20-99 22:39:13
Subject: @{b}Re: Finding line of code memory was allocated on ??@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 20-Mai-99 Dominic Clifton wrote:

> How can I find the exact line of code (in the C source) that memory was 
> allocated by, using external tools ? (Example comand lines would be very 
> helpful)

There are a lot of Tools for this on Aminet.

What you are looking for is SafeMem which is some code you compile into your
Program. 

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Amiga makes IT possible, Mac makes it expensive
and Win95 just makes Bill Gates rich...


------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_109" " Re: Finding line of code memory was allocated on ?? "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-21-99 22:14:19
Subject: @{b}Re: Finding line of code memory was allocated on ??@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 20 Dominic (Dominic Clifton) wrote:

> From: Dominic Clifton <dominicc@barrysworld.co.uk>
> 
> 
> Right, say you're developing a program with SAS/C 6.58 and you've set
> DEBUG=FULL and ADDSYMBOLS and you can use CPR to step through the code...
> 
> Now, my program is allocating, but not freeing some memory somewhere, and
> due to the size an complexity of the program (and the libraries it uses)
> I'm finding it very hard to find where this is happening in the code..
> 
> So, my question is this:
> 
> How can I find the exact line of code (in the C source) that memory was 
> allocated by, using external tools ? (Example comand lines would be very 
> helpful)
> 
> I've played around with mungwall and munglist in combination with a memory
> monitor program and I've found quite a few strings that weren't being freed
> but I can't figure out what what some of the other allocations are..
> 
> is it possible to tag each memory allocation with a counter and then trace
> the call by counting through memory allocations in the program ?

   While you could place memory debugging stubs in your own code, you
might want to try SegTracker+Wipeout+Sashimi from Aminet. Wipeout can
tag and trace memory allocations. In conjunction with SegTracker it will
even be able to pinpoint the program location the allocation was
done from.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_110" " Re: Finding line of code memory was allocated on ?? "
From: Christoph Krakowski <christo@monte-christo.de>
Date: 05-22-99 16:05:40
Subject: @{b}Re: Finding line of code memory was allocated on ??@{ub}

From: Christoph Krakowski <christo@monte-christo.de>

Hello Dominic

On 20-Mai-99, you wrote:

[...]

> is it possible to tag each memory allocation with a counter and then trace
> the call by counting through memory allocations in the program ?

If you do not write portable code and your program runs just under kick3.1
or kick3.0, you can take a look on memory pools or the remeber functios in
exec lib.

Regards

-----------------------------------------------------------
    Christoph Krakowski

KITTY.CAT virus found. MOUSE.COM deleted.



------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_111" " FitText with IntuiTextLength "
From: Luiz Gustavo Castelan Póvoas <lpovoas@zaz.com.br>
Date: 01-18-78 21:10:02
Subject: @{b}FitText with IntuiTextLength@{ub}

From: Luiz Gustavo Castelan =?iso-8859-1?Q?P=F3voas?= <lpovoas@zaz.com.br>

here is the code of the function that I did, it gets the text that will be
in a Width - it
reduces the string length (putting ... on the end) until it reaches a
fittable width
the problem is the missuse of the textAttr given to the function, it goes
back to default..




UBYTE *FitText( UBYTE *T, long width,struct TextAttr *ta_)
{ UBYTE *text; text = (UBYTE*)strcpy(new char[strlen((const char*)T)],(const
char*)T) ;

  UBYTE *finalText;

  struct IntuiText IT;
  IT.IText = text;
  IT.ITextFont = ta_;
  IT.NextText = NULL;
  IT.LeftEdge = 0;
  IT.TopEdge = 0;   IT.FrontPen = 1; IT.BackPen = 0;

  int nchar = strlen((const char *)text);
  int index;

  while(IntuiTextLength(&IT) > width)
    {   index = nchar - 5;
        text[index] = '.';
        text[index+1] = '.';
        text[index+2] = '.';
        text[index+3] = '\0';
        IT.IText = text;
        nchar--;
    }
  finalText = (UBYTE*)strcpy(new char[nchar],(const char*)text);
  delete[] text;
  return (finalText);

} 


I would appreciate any help 8)

        Luiz




------------------------------------------------------------------------
Want to learn more about your list users?
http://www.onelist.com
Now you can with our new User Survey Tool - see homepage for details
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_112" " Re: FitText with IntuiTextLength "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-08-99 23:29:20
Subject: @{b}Re: FitText with IntuiTextLength@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Jan 18, 1978 at 05:10:02PM -0300, Luiz Gustavo Castelan Póvoas wrote:
> From: Luiz Gustavo Castelan =?iso-8859-1?Q?P=F3voas?= <lpovoas@zaz.com.br>
> 
> here is the code of the function that I did, it gets the text that
> will be in a Width - it reduces the string length (putting ... on
> the end) until it reaches a fittable width the problem is the
> missuse of the textAttr given to the function, it goes back to
> default..

There is actually a graphics.library function that does most of this
for you.  It will be much faster.

> UBYTE *FitText( UBYTE *T, long width,struct TextAttr *ta_)
> { UBYTE *text; text = (UBYTE*)strcpy(new char[strlen((const char*)T)],(const
> char*)T) ;

Oh yuck.  Your first mistake here is not adding one to the array
length.

The other is screwing around with UBYTE *.  Don't make the same stupid
mistakes that Commodore-Amiga did; always use const char * and char *
as appropriate, and cast to (UBYTE *) when storing pointers into
standard structures or passing them into OS functions.

In fact you might be better off using std::string.

This might be a good point for me to ask for help in writing a good
set of C++ class definitions and wrappers that replace the headers
from the standard NDK.  Write to my personal address if you think
you can help.

>   UBYTE *finalText;
> 
>   struct IntuiText IT;
>   IT.IText = text;
>   IT.ITextFont = ta_;
>   IT.NextText = NULL;
>   IT.LeftEdge = 0;
>   IT.TopEdge = 0;   IT.FrontPen = 1; IT.BackPen = 0;
> 
>   int nchar = strlen((const char *)text);
>   int index;
> 
>   while(IntuiTextLength(&IT) > width)
>     {   index = nchar - 5;
>         text[index] = '.';
>         text[index+1] = '.';
>         text[index+2] = '.';
>         text[index+3] = '\0';

But nchar may be less than 5.

>         IT.IText = text;

Why are you repeating this?

>         nchar--;
>     }
>   finalText = (UBYTE*)strcpy(new char[nchar],(const char*)text);

Again you fail to add 1 to the array length.

>   delete[] text;
>   return (finalText);
> 
> } 

Since the behaviour of this function is undefined, I'm not going
to try to figure out *exactly* why it doesn't work.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
Want to learn more about your list users?
http://www.onelist.com
Now you can with our new User Survey Tool - see homepage for details
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_113" " Re: Gadtools TextFont "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-03-99 20:22:12
Subject: @{b}Re: Gadtools TextFont@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Jan 18, 1978 at 05:00:10PM -0300, Luiz Gustavo Castelan Póvoas wrote:
> Hello,
> 
>         How can I find a pointer to the Font used by gadtools on
> the Gadgets?? it can be a struct Font *, but I prefer to get a 
> struct TextAttr*.

You should have specified this when creating the gadgets.  If you
can actually find the gadget you're interested in, though, you can
just use gadget->GadgetText->ITextFont or, if that's NULL,
window->WScreen->Font.

Ben.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
Join the Star Wars craze!
http://www.onelist.com
Set up your Star Wars list at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_114" " Gadtools TextFont "
From: Luiz Gustavo Castelan Póvoas <lpovoas@zaz.com.br>
Date: 05-03-99 22:12:23
Subject: @{b}Gadtools TextFont@{ub}

From: Luiz Gustavo Castelan =?iso-8859-1?Q?P=F3voas?= <lpovoas@zaz.com.br>

Hello,

        How can I find a pointer to the Font used by gadtools on
the Gadgets?? it can be a struct Font *, but I prefer to get a 
struct TextAttr*.


        toolshed




------------------------------------------------------------------------
Attention Star Wars fans!
http://www.onelist.com
ONElist is the best place for your Star Wars list!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_115" " Re: GCC - preinstallation worries "
From: James McArthur <jamesm@it.ntu.edu.au>
Date: 05-25-99 11:02:08
Subject: @{b}Re: GCC - preinstallation worries@{ub}

From: James McArthur <jamesm@it.ntu.edu.au>

Hi,

> Is this going to affect the installation as I read in the FAQ that 
> certain bits need preserving in a particular way
> 
> Thanks lots, hopefully will be getting down with C by the weekend!

There shouldnt be any problem if you split the *archives* and place them
onto floppies.

This is how I installed gcc when I didnt have a modem..

-----------------------------------------------------------
James McArthur
Amiga 4000/060 CSPPC 150 CyberVision64/3D 4Mb 50Mb
jamesm@it.ntu.edu.au

------------------------------------------------------------------------
How many communities do you think join ONElist each day?
http://www.onelist.com
More than 1,000!  Create yours now!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_116" " GCC - preinstallation worries "
From: Ade <A.J.Tucker1@student.derby.ac.uk>
Date: 05-25-99 11:54:18
Subject: @{b}GCC - preinstallation worries@{ub}

From: "Ade" <A.J.Tucker1@student.derby.ac.uk>

Hi,
I think this is on topic, please forgive if not.

I'm trying to install GCC (2.7 from aminet).  I have to do this by 
downloading to a PC at uni then via 720k floppy to my Amiga.  Quite a 
bit of the installation is in bits bigger than 720k so I have to 
extract onto the PC then re-archive into 720k bits.  My question:

Is this going to affect the installation as I read in the FAQ that 
certain bits need preserving in a particular way

Thanks lots, hopefully will be getting down with C by the weekend!

Ade

------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_117" " Re: GCC - preinstallation worries "
From: James McArthur <jamesm@it.ntu.edu.au>
Date: 05-25-99 12:17:24
Subject: @{b}Re: GCC - preinstallation worries@{ub}

From: James McArthur <jamesm@it.ntu.edu.au>

Hi,

> Any suggestions as to anything I can use to do this that will split 
> on PC and restore on Amiga?  This was my original intention but I 
> don't think pkunzip for the Amiga supports volume spanning..

I used "sploiner" which worked really well; it lets you select the
size of the split file, and even gives you the chance for error recovery
if something goes wrong.

PC and Amiga versions are included, archive is on Aminet.

-----------------------------------------------------------
James McArthur
Amiga 4000/060 CSPPC 150 CyberVision64/3D 4Mb 50Mb
jamesm@it.ntu.edu.au

------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_118" " Re: GCC - preinstallation worries "
From: Ade <A.J.Tucker1@student.derby.ac.uk>
Date: 05-25-99 13:05:21
Subject: @{b}Re: GCC - preinstallation worries@{ub}

From: "Ade" <A.J.Tucker1@student.derby.ac.uk>

> There shouldnt be any problem if you split the *archives* and place them
> onto floppies.

Any suggestions as to anything I can use to do this that will split 
on PC and restore on Amiga?  This was my original intention but I 
don't think pkunzip for the Amiga supports volume spanning..

Thanks lots again!

------------------------------------------------------------------------
Congratulations to "M-K-ROSES," our latest ONElist of the Week.
http://www.onelist.com
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_119" " Re: GCC - preinstallation worries "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 05-25-99 13:21:32
Subject: @{b}Re: GCC - preinstallation worries@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> From: "Ade" <A.J.Tucker1@student.derby.ac.uk>
> 
> Hi,
> I think this is on topic, please forgive if not.
> 
> I'm trying to install GCC (2.7 from aminet).  I have to do this by 
> downloading to a PC at uni then via 720k floppy to my Amiga.  Quite a 
> bit of the installation is in bits bigger than 720k so I have to 
> extract onto the PC then re-archive into 720k bits.  My question:
> 
> Is this going to affect the installation as I read in the FAQ that 
> certain bits need preserving in a particular way
> 
> Thanks lots, hopefully will be getting down with C by the weekend!

Don't use the gcc-versions that's on aminet, they sucks imho. Rather
download the needed files from ftp.ninemoons.com, which is a much
more stable and up-to-date port. (as you can replace the compiler-core
with a newer version very easily) It also has support for both PowerUP
and WarpOS development with a few additional files installed.

As for the splitting, you can download everything, archive them
as one large zip-file(or whatever :) and then use a tool like 'sploiner'
on aminet to split them on the PC-side and join them on the amiga-side.

-----------------------------------------------------------
// Jesper Svennevid : jesper@fxrealm.com

------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_120" " generating pragmas "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-31-99 08:13:08
Subject: @{b}generating pragmas@{ub}

From: Linus McCabe <sparkle@hehe.com>


Hellow

In a library I'm developing, I'm building the arguments on stack, with the
prototype:
__asm __saveds struct IP_Image* LIBIP_RequestImage(register __a0 char *
name, register __a1 unsigned long tag1Type, ...);

My fd entry is defined like
IP_RequestImage(Name, Screen)(a0/a1)

and  my pragma entry _should_ be defined as
#pragma tagcall ImagePoolBase IP_RequestImage 1e 9802

However, everytime I change in the fd file, my makefile runs fd2pragma
utility that comes with sas/c and it will remake my pragma line to 
#pragma libcall ImagePoolBase IP_RequestImage 1e 9802

which is a bit annoying, since i manually have to change from lib- to
tagcall everytime.
Is there a was of specifying in the fd file that this is a tagcall, or is
there any other way to solve my problem?

(I know I can generate the pragma file myself, but I like the idea of having
it done for me)


/Linus





-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

I remember the good old days when there were still Led Zeppelin cds I had
not heard



------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_121" " How do you Backfill a window ? "
From: Dominic Clifton <dominicc@barrysworld.co.uk>
Date: 05-13-99 20:40:11
Subject: @{b}How do you Backfill a window ?@{ub}

From: Dominic Clifton <dominicc@barrysworld.co.uk>


I have been trying, without sucess to create a callback hook for a window
so that I can backfill a window with a colour other than palette index 0.

Could someone provide me with an example of how this works ?

This is for my HydraBBS program again, the reason I want to do it is this:

the console.device uses palette number 0-8 for ANSI coloured text.  I want
to be able to display the window and it's gadgets in the correct colours
(which I can do by changing the pens) on a 16 colour screen, and I also
want the ansi colours to be correct.  Without a backfill everything is fine
except for the background of the window and the background of listview
and slider gadgets, they appear in black (0) instead of grey (8).

Here's what I've written for a test of using a backfill hook on a workbench
screen with 16 or more colours.  When the window opens it is correctly
backfilled with colour 8, but if you resize the window and make it LARGER
my machine hangs completly.

I use SAS/C 6.58 with all the DEFAULT compiler options.

#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <exec/types.h>
#include <exec/memory.h>
#include <exec/tasks.h>

#include <clib/exec_protos.h>

#include <intuition/intuition.h>
#include <clib/intuition_protos.h>

#include <graphics/gfx.h>
#include <clib/graphics_protos.h>

#include <graphics/layers.h>
#include <clib/layers_protos.h>

#include <libraries/gadtools.h>
#include <clib/gadtools_protos.h>

struct LayerMsg
{
    struct Layer    *Layer;
    struct Rectangle Bounds;
    LONG             OffsetX;
    LONG             OffsetY;
};

void __saveds __asm WindowPatternBackFillFunc(register __a0 struct Hook
*hook,
                                              register __a2 struct RastPort
*rp,
                                              register __a1 struct LayerMsg
*bfm)
{
    struct RastPort copy;

    CopyMem(rp,&copy,sizeof(struct RastPort));
    copy.Layer=NULL;

    rp = &copy;

    SetABPenDrMd(rp,8,0,JAM2);
    RectFill(rp, bfm->Bounds.MinX, bfm->Bounds.MinY,
bfm->Bounds.MaxX,bfm->Bounds.MaxY);
}


void main( void )
{
  struct Library *IntuitionBase,*GadToolsBase,*GfxBase;
  struct Window *mywindow;
  struct IntuiMessage *imsg;
  struct Hook backfillhook;

  BOOL Done=FALSE;

  if (IntuitionBase = OpenLibrary("intuition.library",34))
  {
    if (GadToolsBase = OpenLibrary("gadtools.library",34))
    {
      if (GfxBase = OpenLibrary("graphics.library",34))
      {

        backfillhook.h_Entry    = (HOOKFUNC)WindowPatternBackFillFunc;
        backfillhook.h_Data = NULL;

        if (mywindow = OpenWindowTags(NULL,WA_Top,11,
                                           WA_Left,100,
                                           WA_Width,200,
                                           WA_Height,100,
                                          
WA_Flags,WFLG_ACTIVATE|WFLG_DRAGBAR|WFLG_DEPTHGADGET|WFLG_CLOSEGADGET|WFLG_SIZEGADGET,
                                           WA_IDCMP,IDCMP_CLOSEWINDOW,
                                           WA_MinWidth,60,
                                           WA_MaxWidth,400,
                                           WA_MinHeight,30,
                                           WA_MaxHeight,200,
                                           WA_BackFill,&backfillhook,
                                           (TAG_END)))
        {
          do
          {
            Wait(1L << mywindow->UserPort->mp_SigBit);

            while (imsg=GT_GetIMsg(mywindow->UserPort))
            {
              switch(imsg->Class)
              {
                case IDCMP_CLOSEWINDOW :
                  Done=TRUE;
                  break;
              }
              GT_ReplyIMsg(imsg);
            }
          } while (!Done);



          CloseWindow(mywindow);
        }

        CloseLibrary((struct Library *)GfxBase);
      }
      CloseLibrary((struct Library *)GadToolsBase);
    }
    CloseLibrary((struct Library *)IntuitionBase);
  }
}

Again, I have used the source code from Term 4.7 to figure out
most of what I'm doing here.  I've read all the autodocs that
mention the word "backfill" but to no avail! *ARGH*

Apologies for the length of this message, but this is a long time
outstanding thing that I *really* need to get working.

Thanks in advance to anyone that can show me how to get this to
work properly!


------------------------------------------------------------------------
Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_122" " Re: How do you Backfill a window ? "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-14-99 17:42:29
Subject: @{b}Re: How do you Backfill a window ?@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 13 Dominic (Dominic Clifton) wrote:

> From: Dominic Clifton <dominicc@barrysworld.co.uk>
> 
> 
> I have been trying, without sucess to create a callback hook for a window
> so that I can backfill a window with a colour other than palette index 0.
> 
> Could someone provide me with an example of how this works ?
> 
> This is for my HydraBBS program again, the reason I want to do it is this:
> 
> the console.device uses palette number 0-8 for ANSI coloured text.  I want
> to be able to display the window and it's gadgets in the correct colours
> (which I can do by changing the pens) on a 16 colour screen, and I also
> want the ansi colours to be correct.  Without a backfill everything is fine
> except for the background of the window and the background of listview
> and slider gadgets, they appear in black (0) instead of grey (8).
> 
> Here's what I've written for a test of using a backfill hook on a workbench
> screen with 16 or more colours.  When the window opens it is correctly
> backfilled with colour 8, but if you resize the window and make it LARGER
> my machine hangs completly.
> 
> I use SAS/C 6.58 with all the DEFAULT compiler options.
> [..]

   If you're doing that, make sure to *enable* the NOSTACKCHECK option, or
your backfill hook code may bomb. Also, I would recommend that you replace
the GT_GetIMsg()..GT_ReplyIMsg() code with plain GetMsg()..ReplyMsg() calls
if there are no GadTools object attached to the window.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_123" " Re: How do you Backfill a window ? "
From: Dominic Clifton <dominicc@barrysworld.co.uk>
Date: 05-17-99 17:39:03
Subject: @{b}Re: How do you Backfill a window ?@{ub}

From: Dominic Clifton <dominicc@barrysworld.co.uk>


>> I use SAS/C 6.58 with all the DEFAULT compiler options.
>> [..]
>
>   If you're doing that, make sure to *enable* the NOSTACKCHECK option, or
> your backfill hook code may bomb.

Right, well I enabled the NOSTACKCHECK option and it was fine. But....

When I'm using the same backfill function with the SA_BackFill tag when
opening a custom screen the following happens:

The screen opens but the background is using palette index 0 but my back
fill function is using palette index 8, so it appears BLACK instead of
GREY.

If you drag a window around, the area where the window WAS is backfilled
by my function correctly.  So you can move the window around leaving
little grey areas behind it!

Makes a nice paint program though, but not quite what I wanted :-))

So, how do you get the screen to call the backfill function during
or after opening the screen, or do you have to call it manually ?

If so how ?

> Also, I would recommend that you replace
> the GT_GetIMsg()..GT_ReplyIMsg() code with plain GetMsg()..ReplyMsg()
> calls if there are no GadTools object attached to the window.

I just cut and pasted the IDCMP loop from my other code, the window in
my main program DOES have gadgets.  But well spotted!

--

[Dominic Clifton - aka Hydra/CRoSS POiNT ]=-  -=[ Oh my god, it's an email]
[DreamCast, C++, DV, Sports Cars, Snowboarding, South Park, Placebo, Amiga]


------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_124" " Re: How do you Backfill a window ? "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-18-99 22:52:25
Subject: @{b}Re: How do you Backfill a window ?@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Dominic (Dominic Clifton) wrote:

> From: Dominic Clifton <dominicc@barrysworld.co.uk>
> 
> 
> >> I use SAS/C 6.58 with all the DEFAULT compiler options.
> >> [..]
> >
> >   If you're doing that, make sure to *enable* the NOSTACKCHECK option, or
> > your backfill hook code may bomb.
> 
> Right, well I enabled the NOSTACKCHECK option and it was fine. But....
> 
> When I'm using the same backfill function with the SA_BackFill tag when
> opening a custom screen the following happens:

   Take care, the screen backfill hook code is invoked without a proper
Layer parameter, so you'd better ignore it.

> The screen opens but the background is using palette index 0 but my back
> fill function is using palette index 8, so it appears BLACK instead of
> GREY.
> 
> If you drag a window around, the area where the window WAS is backfilled
> by my function correctly.  So you can move the window around leaving
> little grey areas behind it!
> 
> Makes a nice paint program though, but not quite what I wanted :-))
> 
> So, how do you get the screen to call the backfill function during
> or after opening the screen, or do you have to call it manually ?
> 
> If so how ?

   Say, are you running Kickstart 3.0? There are a bunch of bugs in
the V39 layers.library, one of which affects screen backfill hooks.
At least in this case, you might want to EraseRect() the screen's
background before you open the first window on it.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
How many communities do you think join ONElist each day?
http://www.onelist.com
More than 1,000!  Create yours now!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_125" " Re: How do you Backfill a window ? "
From: Dominic Clifton <dominicc@barrysworld.co.uk>
Date: 05-19-99 19:40:24
Subject: @{b}Re: How do you Backfill a window ?@{ub}

From: Dominic Clifton <dominicc@barrysworld.co.uk>

>   Say, are you running Kickstart 3.0? There are a bunch of bugs in
>the V39 layers.library, one of which affects screen backfill hooks.
>At least in this case, you might want to EraseRect() the screen's
>background before you open the first window on it.

I'm running 3.1 roms and 3.1 WB.

So you're saying just EraseRect() on the screen's rastport rather that
bothering with the SA_Backfill at all ?  

If so is that only because I want a single colour as the background ?  

If I wanted a pattern would I still have to use a backfill ?  
(I don't, but I'm just curious...)

-----------------------------------------------------------

[Dominic Clifton - aka Hydra/CRoSS POiNT ]=-  -=[ Oh my god, it's an email]
[DreamCast, C++, DV, Sports Cars, Snowboarding, South Park, Placebo, Amiga]


------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_126" " Re: How do you Backfill a window ? "
From: Dominic Clifton <dominicc@barrysworld.co.uk>
Date: 05-19-99 20:51:07
Subject: @{b}Re: How do you Backfill a window ?@{ub}

From: Dominic Clifton <dominicc@barrysworld.co.uk>

 
> So you're saying just EraseRect() on the screen's rastport rather that
> bothering with the SA_Backfill at all ?  

ok, I read the docs abit and realised that EraseRect() used the backfill
so, I installed the backfill on the oponscreen() call and called

EraseRect(EraseRect(&NewScrn->RastPort,0,0,BBSGlobal->ScreenInfo->ScrWidth,BBSGlobal->ScreenInfo->ScrHeight);

And yet the screen STILL comes up BLACK! Argh.. (note, the above call 
overwrote the screen title, so I know the backfill hook was called.
In the finished code I will allow for the screen title.

So now I'm doing this instead:

SetABPenDrMd(&NewScrn->RastPort,BBSGlobal->ScreenInfo->ScrPens[BACKGROUNDPEN],0,JAM1);
RectFill(&NewScrn->RastPort,0,NewScrn->BarHeight+1,BBSGlobal->ScreenInfo->ScrWidth,BBSGlobal->ScreenInfo->ScrHeight);

And with the SA_Backfill tag set to my backfill hook it works fine (i.e.
the screen appears grey and when you move a window the area where 
there window was is filled in correctly..

Although this works, I'd like to know why the backfill doesn't work to 
start with and then starts to work later..

Any ideas ?

Just as a test, I tried opening a window and then using EraseRect() on the
screen's rastport and it still cleared the screen using BLACK. 

-----------------------------------------------------------

[Dominic Clifton - aka Hydra/CRoSS POiNT ]=-  -=[ Oh my god, it's an email]
[DreamCast, C++, DV, Sports Cars, Snowboarding, South Park, Placebo, Amiga]


------------------------------------------------------------------------
Are you hogging all the fun?
http://www.onelist.com
Friends tell friends about ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_127" " Re: How do you Backfill a window ? "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-21-99 22:13:06
Subject: @{b}Re: How do you Backfill a window ?@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 19 Dominic (Dominic Clifton) wrote:

> From: Dominic Clifton <dominicc@barrysworld.co.uk>
> 
> >   Say, are you running Kickstart 3.0? There are a bunch of bugs in
> >the V39 layers.library, one of which affects screen backfill hooks.
> >At least in this case, you might want to EraseRect() the screen's
> >background before you open the first window on it.
> 
> I'm running 3.1 roms and 3.1 WB.
> 
> So you're saying just EraseRect() on the screen's rastport rather that
> bothering with the SA_Backfill at all ?  

   No, the EraseRect() should be used to clean up the screen background
before you open the first window. Once the windows are open, your backfill
hook should be able to keep the screen background updated. Chasing the
windows and trying to update the background manually would be too tough
to handle.

> If so is that only because I want a single colour as the background ?  

   No, I reckon there is a very simple bug behind all this. Did you
check whether your backfill hook gets called in the first place?

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
What was YOUR favorite part?!
http://www.onelist.com
Tell other Star Wars fans at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_128" " Re: How do you Backfill a window ? "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-21-99 22:15:45
Subject: @{b}Re: How do you Backfill a window ?@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 19 Dominic (Dominic Clifton) wrote:

> From: Dominic Clifton <dominicc@barrysworld.co.uk>
> 
>  
> > So you're saying just EraseRect() on the screen's rastport rather that
> > bothering with the SA_Backfill at all ?  
> 
> ok, I read the docs abit and realised that EraseRect() used the backfill
> so, I installed the backfill on the oponscreen() call and called
> 
> EraseRect(EraseRect(&NewScrn->RastPort,0,0,BBSGlobal->ScreenInfo->ScrWidth,BBSGlobal->ScreenInfo->ScrHeight);
> 
> And yet the screen STILL comes up BLACK! Argh.. (note, the above call 
> overwrote the screen title, so I know the backfill hook was called.

   Not necessarily. If you backfill hook is not being called, the default
hook would take over and fill the screen with colour #0.

> In the finished code I will allow for the screen title.
> 
> So now I'm doing this instead:
> 
> SetABPenDrMd(&NewScrn->RastPort,BBSGlobal->ScreenInfo->ScrPens[BACKGROUNDPEN],0,JAM1);
> RectFill(&NewScrn->RastPort,0,NewScrn->BarHeight+1,BBSGlobal->ScreenInfo->ScrWidth,BBSGlobal->ScreenInfo->ScrHeight);
> 
> And with the SA_Backfill tag set to my backfill hook it works fine (i.e.
> the screen appears grey and when you move a window the area where 
> there window was is filled in correctly..
> 
> Although this works, I'd like to know why the backfill doesn't work to 
> start with and then starts to work later..
> 
> Any ideas ?

   Could be a bug in layers.library, which wouldn't surprise me a bit.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_129" " Re: How do you Backfill a window ? "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-27-99 16:38:15
Subject: @{b}Re: How do you Backfill a window ?@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Re: [amiga-c] How do you Backfill a window ? interested me.  Here's some more to think about...

> > Although this works, I'd like to know why the backfill doesn't work to 
> > start with and then starts to work later..
> > 
> > Any ideas ?
> 
>    Could be a bug in layers.library, which wouldn't surprise me a bit.

I wonder how much bug testing and fixing is being done for OS3.5 by
H&P??

Dinky do,


Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_130" " Re: How do you Backfill a window ? "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-30-99 21:26:29
Subject: @{b}Re: How do you Backfill a window ?@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 27 Mike (Mike Carter) wrote:

> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> Re: [amiga-c] How do you Backfill a window ? interested me.  Here's some more to think about...
> 
> > > Although this works, I'd like to know why the backfill doesn't work to 
> > > start with and then starts to work later..
> > > 
> > > Any ideas ?
> > 
> >    Could be a bug in layers.library, which wouldn't surprise me a bit.
> 
> I wonder how much bug testing and fixing is being done for OS3.5 by
> H&P??

   Don't expect miracles. There are only so many ROM operating system
modules that can be updated without doing a reboot.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_131" " ImagePool.library "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-21-99 13:34:12
Subject: @{b}ImagePool.library@{ub}

From: Linus McCabe <sparkle@hehe.com>


Hello.

I've started development of ImagePool.library, a library to load and cache
images in memory.

Currently, I've got the following functions implemented

RequestImage(name, screen)
FreeImage(bitmap)

requestImage loads and remaps (unless screen is NULL) an image and returns a
bitmap.
freeimage tells the library the program no longer uses the bitmap.

If no program uses an image, it remains loaded until memory needs to be
flushed.

One reason to why I started developing this library is for my mui
customclass TransferAnim.mcc, which loads and displays transferanims in mui
programs. The benefit of using ImagePool library would be that if many
programs uses the same image (anim in this case), or if a program is closed
and opened again, remapping only has to be done once, and one image only
have to be loaded once no matter how many programs are using it.

Anyway, the reason I'm taking up bandwidth with this that, since I plan to
release the library for public use, I wonder if there are any other
functions anyone would like too see in such a library.

Comments or ideas, anyone?

/Linus



-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

I am not what you think I am, I am so much less than that



------------------------------------------------------------------------
What was YOUR favorite part?!
http://www.onelist.com
Tell other Star Wars fans at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_132" " Re: ImagePool.library "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-22-99 11:30:41
Subject: @{b}Re: ImagePool.library@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Technically Linus McCabe was waffling about [amiga-c] ImagePool.library.  But anyway...

> Anyway, the reason I'm taking up bandwidth with this that, since I plan to
> release the library for public use, I wonder if there are any other
> functions anyone would like too see in such a library.
> 
> Comments or ideas, anyone?

Sounds like a really nice idea!  Can't think of a use for me ATM but
I'm sure it could be useful.  As for extra functions - I'd have to be
using it and think of something :)

Dinky do,


Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
How many communities do you think join ONElist each day?
http://www.onelist.com
More than 1,000!  Create yours now!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_133" " ImageStudioNG "
From: Dave Humphreys <newky@ukonline.co.uk>
Date: 05-26-99 00:37:24
Subject: @{b}ImageStudioNG@{ub}

From: Dave Humphreys <newky@ukonline.co.uk>

Hello,

We all know that Imagestudio has been out of developement for the last
couple of years.  However it is still one of the easiest and fastest
programs for converting between filetypes, cropping, scalling and various
other image processing effects.
But, it is begining to show it's age.  For example there is no sliding gauge
for jpeg quality, you can't open it on a workbench screen, no powerpc
support.


The reason i am saying this is that i would like to re-start developement of
this package.  Having spoken to Andy Dean(co-creator of Imagestudio) i've
found that the source code will not be released. He has also said that we
can not use the name so a new name must always be found and that any
developement would need to be started from scratch.  I would however like
to keep it 100% compatible with imageStudio.

What i'm looking for is programmers to make this project become reality. 
The aim is to bring Imagestudio up-to-date and add some of the following
features to it.

PowerPC Support
Better CyberGraphics Support
Updated GUI
More optimized versions of loaders for 040 and 060
Scanner Support
Workbench Screen support
Better compatibility with visualprefs.
Extended arexx interface.
Progressive JPEG support.

If you are interested in helping with this project and are fluent in C++
than please let me know.

This is going to be a totally freeware project.

I would like a project manager to co-ordinate the programming of the
program.  

Thanks for your time
BYe


-----------------------------------------------------------
                                           Dave 'Newky' Humphreys
             E-Mail: newky@ukonline.co.uk or dave@anewky.freeserve.co.uk
              ICQ: 26979212 Web Site:
http://web.ukonline.co.uk/newky/index.html

*** End of forwarded message ***

-----------------------------------------------------------
                                           Dave 'Newky' Humphreys
             E-Mail: newky@ukonline.co.uk or dave@anewky.freeserve.co.uk
              ICQ: 26979212 Web Site:
http://web.ukonline.co.uk/newky/index.html



------------------------------------------------------------------------
Congratulations to "M-K-ROSES," our latest ONElist of the Week.
http://www.onelist.com
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_134" " Re: IntuiText Lenght "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-06-99 01:58:43
Subject: @{b}Re: IntuiText Lenght@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Jan 18, 1978 at 05:07:18PM -0300, Luiz Gustavo Castelan Póvoas wrote:
> From: Luiz Gustavo Castelan =?iso-8859-1?Q?P=F3voas?= <lpovoas@zaz.com.br>
> 
>         I just did a function that takes a string, finds the Font used by
> gadtools
> and modifies the string in order to it fit in a certain Width, 
> 
> UBYTE *FitText( UBYTE *T, long width,struct TextAttr *ta);  

You should use char *, not UBYTE *.  The Amiga includes unfortunately
define TEXT and STRPTR wrongly so it's easy to get into this bad
habit. :-(

> and returns a string of 'fittable' caracters.
> 
> The problem is that this funcion uses IntuiTextLenght(), and it seems to
> work properly only if the ScreenTextFont and the SystemDefaultFont are
> set to the same font :/
> or the funcion IntuiTextLenght() is using the System Default Font, ignoring
> the Text Attributes set for the IntuiText created inside the funcion.
<snip>

Is it possible that the TextAttr refers to a font that hasn't been
loaded yet?  That would result in the behaviour you describe.  Make
sure to open the font you want (OpenDiskFont) before doing these
calculations.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_135" " Re: IntuiText Lenght "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-06-99 21:58:07
Subject: @{b}Re: IntuiText Lenght@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Jan 18, 1978 at 05:04:10PM -0300, Luiz Gustavo Castelan Póvoas wrote:
<snip>
>  well, I am using the font gotten by Screen->Font, that i think that it is
> already oppened
> by WB (or gadtools) since the gadgets are already there.  do I still have to
> open them?

No, that must have been loaded!  I think you possibly made a mistake
and didn't actually set the ITextFont pointer.  Perhaps you should
post some of the actual code.

Ben.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_136" " Intuition Bug/Limitation or a bug of mine ? "
From: Felix Schwarz <bs168@fen.baynet.de>
Date: 05-22-99 11:46:52
Subject: @{b}Intuition Bug/Limitation or a bug of mine ?@{ub}

From: Felix Schwarz <bs168@fen.baynet.de>

Hello!

I have a quite "spicy" problem with my current project.
I want my program to be able to open unlimited number
of project-windows at once, but also want the user to
paint and erase in them, so use the left and right mouse-
button. At the same time, I want to provide the user with
a pulldown-menu, when he`s outside the paint-area.

What I do, and what seems to crash randomly is:

I do one 

struct NewMenu menu_entrys[] =
{
        { NM_TITLE, "Project",     0 , 0, 0, 0,},
        {  NM_ITEM, "New"    ,     0 , 0, 0, 0,},

        {   NM_END, 0,            0 , 0, 0, 0,},
};

at startup time. This structure is "cloned" (allocate CHIP-memory
and copied) for every new window using get_newmenu, and I do a 

if (new_menu = get_newmenu())
{
    if (the_menu = CreateMenus(new_menu, TAG_DONE))
    {
        /* NOTE: my_vi is created ONCE for ALL windows, menus and gadgets .. hope this is ok .. however, I tried a
            GetVisualInfo for every menu, too, but same unstable mystery result :-9 */

        if (LayoutMenus(the_menu, my_vi, GTMN_TextAttr, screen->Font, GTMN_NewLookMenus, TRUE, TAG_END, 0))
        {
            SetMenuStrip(workwins[win]->win, the_menu);
        }
        workwins[win]->ge.the_menu = the_menu;
        workwins[win]->ge.new_menu = new_menu;
    }
}

after the window was created this way:

        if (workwins[win]->win=OpenWindowTags(    NULL,
                                                        WA_Top,  0,
                                                        WA_Left, 0,
                                                        WA_Width, 100,
                                                        WA_Height, 100,

                                                        WA_Activate,     TRUE,
                                                        WA_DragBar,      TRUE,
                                                        WA_DepthGadget,  TRUE,
                                                        WA_CloseGadget,  TRUE,
                                                        WA_SizeGadget,   TRUE,
                                                        WA_SmartRefresh, TRUE,
                                                        WA_AutoAdjust,  TRUE,
                                                        WA_ReportMouse, TRUE,
                                                        WA_MouseQueue,  2,
                                                        WA_MaxWidth   ,~0,
                                                        WA_MaxHeight  ,~0,

                                                        WA_SizeBRight, TRUE,
                                                        WA_SizeBBottom, TRUE,
                                                        WA_GimmeZeroZero, TRUE,
                                                        WA_NoCareRefresh, TRUE,
                                                        WA_MinWidth,  100,
                                                        WA_MinHeight, 100,
                                                        WA_Title,     "Window",
                                                        WA_CustomScreen,fxp_sc,
                                                        WA_Gadgets, &(workwins[win]->ge.SideGad),
                                                        WA_NewLookMenus, TRUE,
                                                        TAG_DONE,     0
                                                   ))
        {
                if (workwins[win]->win->UserPort)
                {
                        /* Change Messageport */
                        Forbid();
                        while (imsg=(struct IntuiMessage *) GetMsg(workwins[win]->win->UserPort))
                        {
                                ReplyMsg((struct Message *) imsg);
                        }
                        DeleteMsgPort(workwins[win]->win->UserPort);
                        Permit();
                }

                fx_workwins[win]->fx_win->UserPort=win_port;
                ModifyIDCMP(fx_workwins[win]->fx_win, IDCMP_CLOSEWINDOW | IDCMP_ACTIVEWINDOW | IDCMP_MOUSEBUTTONS | IDCMP_MOUSEMOVE | IDCMP_NEWSIZE | IDCMP_GADGETUP | IDCMP_GADGETDOWN | IDCMP_VANILLAKEY | IDCMP_MENUVERIFY | IDCMP_MENUPICK);


I have to change the messageport due to the limitation of the AmigaOS .. however, this works fine till I close
the window using this code:


void closewin (long win, BOOL selectnext)
{
        long i;
        struct IntuiMessage *imsg;
        BOOL fnd;

        if (workwins[win])
        {
                if (workwins[win]->win!=NULL)
                {
                        ClearMenuStrip(workwins[win]->win);

                        /* Reset msgport to NULL */
                        Forbid();
                        while (imsg=GetMsg(win_port))
                        {
                                ReplyMsg(imsg);
                        }
                        workwins[win]->win->UserPort =NULL;
                        ModifyIDCMP(workwins[win]->win, 0L);
                        Permit();

                        CloseWindow(workwins[win]->win);
                        workwins[win]->win=NULL;

                        FreeMenus(workwins[win]->ge.the_menu);

                        free_newmenu(workwins[win]->ge.new_menu);
                        workwins[win]->ge.the_menu = NULL;
                        workwins[win]->ge.new_menu = NULL;
                }
}

Hope you can help me .. however, I can`t see, where a bug could hide ?! Is it due to me using one
port for several windows ?? I do this port-using as I found it in an article on Amiga Dev CD 1.1 ..

Yours sincerly,
  Felix Schwarz

-----------------------------------------------------------
Developer at Innovative

Innovative
c/o Felix Schwarz
Am Gründla 3
D-91074 Herzogenaurach
Germany

EMail: felix@innovative-web.de
WWW:   http://innovative.in-tec.de/ (MOVING SOON!)
Phone: +(0)049 (0)9132/3400



------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_137" " Re: Intuition Info "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-11-99 18:30:31
Subject: @{b}Re: Intuition Info@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jan 18 Luiz (Luiz Gustavo Castelan Póvoas) wrote:

> From: Luiz Gustavo Castelan =?iso-8859-1?Q?P=F3voas?= <lpovoas@zaz.com.br>
> 
>         I would like to know if Intuition's Input(or output?) Handler
> broadcasts
> messages when windows/Screens get oppened or closed by the user.

   No. The only effect triggered when windows are closed is that previously
obscured windows may get refreshed. Mind you, this doesn't always happen.

> Would that be accessible by the CommoditiesExchange lib??

   No.

> I prefer doing this way if its possible, since hacking system functions
> with
> SetFuncion is a pain in the head, and (at least my tests) seem not to work
> properly (GURU!!).

   Tough luck :-/

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Get involved. Share your thoughts!
http://www.onelist.com
Join the ONElist Weekly Survey.  Go to homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_138" " kprintf and libraries "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-15-99 15:42:39
Subject: @{b}kprintf and libraries@{ub}

From: Linus McCabe <sparkle@hehe.com>


Is it possible to use kprintf in libraries? I can't get it to work...
Or is there any other way to output debug data?

/Linus

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

With Gates, Windows and Walls there is no freedom



------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of the 145,000 email communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_139" " Re: kprintf and libraries "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-15-99 18:46:34
Subject: @{b}Re: kprintf and libraries@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 15 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> Is it possible to use kprintf in libraries?

   Yes, that's what it was made to :)

> I can't get it to work...

   How that?

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of the 145,000 email communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_140" " Re: kprintf and libraries "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-16-99 15:22:03
Subject: @{b}Re: kprintf and libraries@{ub}

From: Linus McCabe <sparkle@hehe.com>


>> Is it possible to use kprintf in libraries?
> 
>   Yes, that's what it was made to :)

Hmm.. Thats what I thought too..
Anyway... If I use kprintf, i need debug.lib?
For debug.lib i need rawdofmt, which is in amiga.lib?
if i try to link with amiga.lib, i get about a million errors, missing
symbols etc, that i don't know where to find...

What do I need to include for amiga.lib? I thought clib/alib_protos.h, but
it doesent help much, neither does proto/all.h. 

I've been using this in other programs without problems, i just cant see
what I'm doing there, that I'm not doing now..

Any hints are ofcourse appreciated..
 
/Linus

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

There will always be unexplored Pink Floyd lyrics



------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of the 145,000 email communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_141" " Re: kprintf and libraries "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-17-99 08:55:36
Subject: @{b}Re: kprintf and libraries@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 16 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> >> Is it possible to use kprintf in libraries?
> > 
> >   Yes, that's what it was made to :)
> 
> Hmm.. Thats what I thought too..
> Anyway... If I use kprintf, i need debug.lib?

   Yes.

> For debug.lib i need rawdofmt, which is in amiga.lib?

   No. debug.lib just needs a bunch of LVOs, and these are available
in small.lib, too.

> if i try to link with amiga.lib, i get about a million errors, missing
> symbols etc, that i don't know where to find...

   Hold it. The order in which you link with the libraries affects
the output. I would recommend that you put sc.lib (or whatever variant
of it you use) first into the linker command line and amiga.lib last.
Some symbols referenced by your code may be defined both in sc.lib and
amiga.lib. If you link with the libraries in the wrong order, the linker
will attempt to pull in code from the wrong library. In most cases,
this will go horribly wrong.

> What do I need to include for amiga.lib? I thought clib/alib_protos.h, but
> it doesent help much, neither does proto/all.h. 

   Keep in mind that these header files just provide for function
protype definitions. At best, they affect the way the compiler does
error checking on your source code. They don't have any direct effect
on the linker behaviour.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Did you know ONElist has over 300 Star Wars lists?
http://www.ONElist.com
Join one today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_142" " Re: kprintf and libraries "
From: Laurent FAILLIE <l_faillie@yahoo.com>
Date: 05-17-99 12:06:15
Subject: @{b}Re: kprintf and libraries@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>


Linus McCabe <sparkle@hehe.com> wrote:
>
> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> Is it possible to use kprintf in libraries? I can't get it to work...
> Or is there any other way to output debug data?
>

No, you can't use kprintf() in shared libraries because this function
is mainly a glue code in debug.lib and some needed global symboles
isn't initialised.

kprintf() is based on private function of exec and, I think, you could
easely make your own function based on reverse-engenering of debug.lib.

    Laurent
==
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_143" " Re: kprintf and libraries "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-17-99 12:47:09
Subject: @{b}Re: kprintf and libraries@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 17-May-99, Olaf Barthel wrote:

>   Hold it. The order in which you link with the libraries affects
> the output. I would recommend that you put sc.lib (or whatever variant
> of it you use) first into the linker command line and amiga.lib last.
> Some symbols referenced by your code may be defined both in sc.lib and
> amiga.lib. If you link with the libraries in the wrong order, the linker
> will attempt to pull in code from the wrong library. In most cases,
> this will go horribly wrong.

I had put debug.lib etc before the lib argument, so i guess this had
something to do with it.

If you have time, could you do a short explanation of the difference between
.lib files and .o files?

I would appreciate it highly!

/Linus

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Persons with names like Sierra or Sequoia will not be permitted to sing the
blues no matter how many men they shoot in Memphis.



------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_144" " Re: kprintf and libraries "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-17-99 13:49:48
Subject: @{b}Re: kprintf and libraries@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Laurent (Laurent FAILLIE) wrote:

> From: Laurent FAILLIE <l_faillie@yahoo.com>
> 
> 
> Linus McCabe <sparkle@hehe.com> wrote:
> >
> > From: Linus McCabe <sparkle@hehe.com>
> > 
> > 
> > Is it possible to use kprintf in libraries? I can't get it to work...
> > Or is there any other way to output debug data?
> >
> 
> No, you can't use kprintf() in shared libraries because this function
> is mainly a glue code in debug.lib and some needed global symboles
> isn't initialised.

   No, that is not correct. The code in debug.lib does not depend upon
any global symbol data to be initialized. It just references a few constants
off amiga.lib which are also present in small.lib (which is basically an
amiga.lib without the glue code and the `C' runtime library).

> kprintf() is based on private function of exec and, I think, you could
> easely make your own function based on reverse-engenering of debug.lib.

   This isn't that easy either... Believe me, I tried and had my share
of troubles with my Sashimi program.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Get involved. Share your thoughts!
http://www.onelist.com
Join the ONElist Weekly Survey.  Go to homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_145" " Re: kprintf and libraries "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-18-99 22:47:47
Subject: @{b}Re: kprintf and libraries@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 17-May-99, Olaf Barthel wrote:
> 
> >   Hold it. The order in which you link with the libraries affects
> > the output. I would recommend that you put sc.lib (or whatever variant
> > of it you use) first into the linker command line and amiga.lib last.
> > Some symbols referenced by your code may be defined both in sc.lib and
> > amiga.lib. If you link with the libraries in the wrong order, the linker
> > will attempt to pull in code from the wrong library. In most cases,
> > this will go horribly wrong.
> 
> I had put debug.lib etc before the lib argument, so i guess this had
> something to do with it.

   Not necessarily, but it might have made your program quite a bit
larger than necessary. Anything following the LIB keyword will be scanned
for references between the object modules preceding the LIB keyword and
the other libraries. Only those parts of the library will be included
in your program which really need to be linked into the program. If
you put the library in front of the LIB keyword, the entire library will
be pulled into your program.

> If you have time, could you do a short explanation of the difference between
> .lib files and .o files?

   The .lib files are a collection of object files. In fact, you can create
an object code library by joining a bunch of object files together. There
is a bit more to this with the SAS/C compiler, which uses an extended library
file format with index tables (to speed up the linking process).

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_146" " Re: kprintf and libraries "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-19-99 07:54:50
Subject: @{b}Re: kprintf and libraries@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 17-May-99, Olaf Barthel wrote:
> 
> >   Hold it. The order in which you link with the libraries affects
> > the output. I would recommend that you put sc.lib (or whatever variant
> > of it you use) first into the linker command line and amiga.lib last.
> > Some symbols referenced by your code may be defined both in sc.lib and
> > amiga.lib. If you link with the libraries in the wrong order, the linker
> > will attempt to pull in code from the wrong library. In most cases,
> > this will go horribly wrong.
> 
> I had put debug.lib etc before the lib argument, so i guess this had
> something to do with it.

   Not necessarily, but it might have made your program quite a bit
larger than necessary. Anything following the LIB keyword will be scanned
for references between the object modules preceding the LIB keyword and
the other libraries. Only those parts of the library will be included
in your program which really need to be linked into the program. If
you put the library in front of the LIB keyword, the entire library will
be pulled into your program.

> If you have time, could you do a short explanation of the difference between
> .lib files and .o files?

   The .lib files are a collection of object files. In fact, you can create
an object code library by joining a bunch of object files together. There
is a bit more to this with the SAS/C compiler, which uses an extended library
file format with index tables (to speed up the linking process).

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_147" " Learning C "
From: 4-0 <4-0@beamer.u-net.com>
Date: 05-23-99 02:05:34
Subject: @{b}Learning C@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 17-May-99, Olaf Barthel wrote:
> 
> >   Hold it. The order in which you link with the libraries affects
> > the output. I would recommend that you put sc.lib (or whatever variant
> > of it you use) first into the linker command line and amiga.lib last.
> > Some symbols referenced by your code may be defined both in sc.lib and
> > amiga.lib. If you link with the libraries in the wrong order, the linker
> > will attempt to pull in code from the wrong library. In most cases,
> > this will go horribly wrong.
> 
> I had put debug.lib etc before the lib argument, so i guess this had
> something to do with it.

   Not necessarily, but it might have made your program quite a bit
larger than necessary. Anything following the LIB keyword will be scanned
for references between the object modules preceding the LIB keyword and
the other libraries. Only those parts of the library will be included
in your program which really need to be linked into the program. If
you put the library in front of the LIB keyword, the entire library will
be pulled into your program.

> If you have time, could you do a short explanation of the difference between
> .lib files and .o files?

   The .lib files are a collection of object files. In fact, you can create
an object code library by joining a bunch of object files together. There
is a bit more to this with the SAS/C compiler, which uses an extended library
file format with index tables (to speed up the linking process).

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_148" " Re: Learning C "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-23-99 04:13:23
Subject: @{b}Re: Learning C@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 17-May-99, Olaf Barthel wrote:
> 
> >   Hold it. The order in which you link with the libraries affects
> > the output. I would recommend that you put sc.lib (or whatever variant
> > of it you use) first into the linker command line and amiga.lib last.
> > Some symbols referenced by your code may be defined both in sc.lib and
> > amiga.lib. If you link with the libraries in the wrong order, the linker
> > will attempt to pull in code from the wrong library. In most cases,
> > this will go horribly wrong.
> 
> I had put debug.lib etc before the lib argument, so i guess this had
> something to do with it.

   Not necessarily, but it might have made your program quite a bit
larger than necessary. Anything following the LIB keyword will be scanned
for references between the object modules preceding the LIB keyword and
the other libraries. Only those parts of the library will be included
in your program which really need to be linked into the program. If
you put the library in front of the LIB keyword, the entire library will
be pulled into your program.

> If you have time, could you do a short explanation of the difference between
> .lib files and .o files?

   The .lib files are a collection of object files. In fact, you can create
an object code library by joining a bunch of object files together. There
is a bit more to this with the SAS/C compiler, which uses an extended library
file format with index tables (to speed up the linking process).

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_149" " Re: Learning C "
From: Daniel Schwill <MCDan@t-online.de>
Date: 05-23-99 17:42:15
Subject: @{b}Re: Learning C@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 17-May-99, Olaf Barthel wrote:
> 
> >   Hold it. The order in which you link with the libraries affects
> > the output. I would recommend that you put sc.lib (or whatever variant
> > of it you use) first into the linker command line and amiga.lib last.
> > Some symbols referenced by your code may be defined both in sc.lib and
> > amiga.lib. If you link with the libraries in the wrong order, the linker
> > will attempt to pull in code from the wrong library. In most cases,
> > this will go horribly wrong.
> 
> I had put debug.lib etc before the lib argument, so i guess this had
> something to do with it.

   Not necessarily, but it might have made your program quite a bit
larger than necessary. Anything following the LIB keyword will be scanned
for references between the object modules preceding the LIB keyword and
the other libraries. Only those parts of the library will be included
in your program which really need to be linked into the program. If
you put the library in front of the LIB keyword, the entire library will
be pulled into your program.

> If you have time, could you do a short explanation of the difference between
> .lib files and .o files?

   The .lib files are a collection of object files. In fact, you can create
an object code library by joining a bunch of object files together. There
is a bit more to this with the SAS/C compiler, which uses an extended library
file format with index tables (to speed up the linking process).

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_150" " Re: Learning C "
From: 4-0 <4-0@beamer.u-net.com>
Date: 05-26-99 23:03:09
Subject: @{b}Re: Learning C@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 17-May-99, Olaf Barthel wrote:
> 
> >   Hold it. The order in which you link with the libraries affects
> > the output. I would recommend that you put sc.lib (or whatever variant
> > of it you use) first into the linker command line and amiga.lib last.
> > Some symbols referenced by your code may be defined both in sc.lib and
> > amiga.lib. If you link with the libraries in the wrong order, the linker
> > will attempt to pull in code from the wrong library. In most cases,
> > this will go horribly wrong.
> 
> I had put debug.lib etc before the lib argument, so i guess this had
> something to do with it.

   Not necessarily, but it might have made your program quite a bit
larger than necessary. Anything following the LIB keyword will be scanned
for references between the object modules preceding the LIB keyword and
the other libraries. Only those parts of the library will be included
in your program which really need to be linked into the program. If
you put the library in front of the LIB keyword, the entire library will
be pulled into your program.

> If you have time, could you do a short explanation of the difference between
> .lib files and .o files?

   The .lib files are a collection of object files. In fact, you can create
an object code library by joining a bunch of object files together. There
is a bit more to this with the SAS/C compiler, which uses an extended library
file format with index tables (to speed up the linking process).

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_151" " library "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-15-99 12:12:40
Subject: @{b}library@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 17-May-99, Olaf Barthel wrote:
> 
> >   Hold it. The order in which you link with the libraries affects
> > the output. I would recommend that you put sc.lib (or whatever variant
> > of it you use) first into the linker command line and amiga.lib last.
> > Some symbols referenced by your code may be defined both in sc.lib and
> > amiga.lib. If you link with the libraries in the wrong order, the linker
> > will attempt to pull in code from the wrong library. In most cases,
> > this will go horribly wrong.
> 
> I had put debug.lib etc before the lib argument, so i guess this had
> something to do with it.

   Not necessarily, but it might have made your program quite a bit
larger than necessary. Anything following the LIB keyword will be scanned
for references between the object modules preceding the LIB keyword and
the other libraries. Only those parts of the library will be included
in your program which really need to be linked into the program. If
you put the library in front of the LIB keyword, the entire library will
be pulled into your program.

> If you have time, could you do a short explanation of the difference between
> .lib files and .o files?

   The .lib files are a collection of object files. In fact, you can create
an object code library by joining a bunch of object files together. There
is a bit more to this with the SAS/C compiler, which uses an extended library
file format with index tables (to speed up the linking process).

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_152" " Re: library "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-15-99 13:11:08
Subject: @{b}Re: library@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 17-May-99, Olaf Barthel wrote:
> 
> >   Hold it. The order in which you link with the libraries affects
> > the output. I would recommend that you put sc.lib (or whatever variant
> > of it you use) first into the linker command line and amiga.lib last.
> > Some symbols referenced by your code may be defined both in sc.lib and
> > amiga.lib. If you link with the libraries in the wrong order, the linker
> > will attempt to pull in code from the wrong library. In most cases,
> > this will go horribly wrong.
> 
> I had put debug.lib etc before the lib argument, so i guess this had
> something to do with it.

   Not necessarily, but it might have made your program quite a bit
larger than necessary. Anything following the LIB keyword will be scanned
for references between the object modules preceding the LIB keyword and
the other libraries. Only those parts of the library will be included
in your program which really need to be linked into the program. If
you put the library in front of the LIB keyword, the entire library will
be pulled into your program.

> If you have time, could you do a short explanation of the difference between
> .lib files and .o files?

   The .lib files are a collection of object files. In fact, you can create
an object code library by joining a bunch of object files together. There
is a bit more to this with the SAS/C compiler, which uses an extended library
file format with index tables (to speed up the linking process).

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_153" " Re: library "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-15-99 13:19:36
Subject: @{b}Re: library@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 17-May-99, Olaf Barthel wrote:
> 
> >   Hold it. The order in which you link with the libraries affects
> > the output. I would recommend that you put sc.lib (or whatever variant
> > of it you use) first into the linker command line and amiga.lib last.
> > Some symbols referenced by your code may be defined both in sc.lib and
> > amiga.lib. If you link with the libraries in the wrong order, the linker
> > will attempt to pull in code from the wrong library. In most cases,
> > this will go horribly wrong.
> 
> I had put debug.lib etc before the lib argument, so i guess this had
> something to do with it.

   Not necessarily, but it might have made your program quite a bit
larger than necessary. Anything following the LIB keyword will be scanned
for references between the object modules preceding the LIB keyword and
the other libraries. Only those parts of the library will be included
in your program which really need to be linked into the program. If
you put the library in front of the LIB keyword, the entire library will
be pulled into your program.

> If you have time, could you do a short explanation of the difference between
> .lib files and .o files?

   The .lib files are a collection of object files. In fact, you can create
an object code library by joining a bunch of object files together. There
is a bit more to this with the SAS/C compiler, which uses an extended library
file format with index tables (to speed up the linking process).

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_154" " Re: library "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-15-99 18:48:33
Subject: @{b}Re: library@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 17-May-99, Olaf Barthel wrote:
> 
> >   Hold it. The order in which you link with the libraries affects
> > the output. I would recommend that you put sc.lib (or whatever variant
> > of it you use) first into the linker command line and amiga.lib last.
> > Some symbols referenced by your code may be defined both in sc.lib and
> > amiga.lib. If you link with the libraries in the wrong order, the linker
> > will attempt to pull in code from the wrong library. In most cases,
> > this will go horribly wrong.
> 
> I had put debug.lib etc before the lib argument, so i guess this had
> something to do with it.

   Not necessarily, but it might have made your program quite a bit
larger than necessary. Anything following the LIB keyword will be scanned
for references between the object modules preceding the LIB keyword and
the other libraries. Only those parts of the library will be included
in your program which really need to be linked into the program. If
you put the library in front of the LIB keyword, the entire library will
be pulled into your program.

> If you have time, could you do a short explanation of the difference between
> .lib files and .o files?

   The .lib files are a collection of object files. In fact, you can create
an object code library by joining a bunch of object files together. There
is a bit more to this with the SAS/C compiler, which uses an extended library
file format with index tables (to speed up the linking process).

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_155" " Re: library "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-16-99 15:22:46
Subject: @{b}Re: library@{ub}

From: Linus McCabe <sparkle@hehe.com>


>   Actually, that would be taking advantage of a side-effect. If possible,
> I would recommend that a memory handler is used instead of the expunge
> mechanism (see exec.library/AddMemHandler). Note that the memory handler
> code requires exec.library V39+.

This seems to be more like it! 
Thanks!'

/Linus
 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

You're never too old to rock'n'roll and still too young to die.



------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_156" " mem handler "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-17-99 07:26:00
Subject: @{b}mem handler@{ub}

From: Linus McCabe <sparkle@hehe.com>


I'm having problems adding a memhandler.
this is what i do, and everytime i try to flush memory, the machine freezes:

int __asm __saveds __UserLibInit(register __a6 struct MyLibrary*libbase)
{
    KPrintF("Init\n");
    
    if(memClean=AllocMem(sizeof(struct Interrupt), MEMF_CLEAR|MEMF_PUBLIC))
    {
        KPrintF("    Adding memhandler\n");

        memClean->is_Node.ln_Pri=50;
        memClean->is_Node.ln_Name="ImagePool Resource watch";
        memClean->is_Data=(APTR)NULL;
        memClean->is_Code=(void *)memCleanCode;
        AddMemHandler(memClean);
    }
    
    return(0);
}

void __asm __saveds __UserLibCleanup(register __a6 struct MyLibrary*libbase)
{
    KPrintF("CleanUp\n");

    if(memClean)
    {
        KPrintF("    Freeing memhandler\n");
        RemMemHandler(memClean);
        FreeMem(memClean, sizeof(struct Interrupt));
    }
    
}

__asm __saveds int memCleanCode(register __a0 struct MemHandlerData* mhdata,
register __a1 APTR isData)
{

    KPrintF("Freeing resources!\n");
    
    return(1);
}


Anyone have a clue what I'm doing wrong?

/Linus

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

This would have been a great day to be free, but still we're stuck in this
hierarchy



------------------------------------------------------------------------
With more than 14 million emails exchanged daily...
http://www.onelist.com
...ONElist IS the place where the world talks!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_157" " Re: mem handler "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-17-99 12:48:53
Subject: @{b}Re: mem handler@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 17 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> I'm having problems adding a memhandler.
> this is what i do, and everytime i try to flush memory, the machine freezes:
> [..]
> 
> __interrupt __asm __saveds int memCleanCode(register __a0 struct MemHandlerData* mhdata,
  ^^^^^^^^^^^
> register __a1 APTR isData)
> {
> 
>     KPrintF("Freeing resources!\n");
>     
>     return(1);
> }

   Add the __interrupt keyword I have highlighted above and see what
happens. If your code suddenly starts working, you shouldn't have
turned on stack checking in your compiler options.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
With more than 14 million emails exchanged daily...
http://www.onelist.com
...ONElist IS the place where the world talks!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_158" " Re: mem handler "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-17-99 13:12:39
Subject: @{b}Re: mem handler@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 17-May-99, Olaf Barthel wrote:

>   Add the __interrupt keyword I have highlighted above and see what
> happens. If your code suddenly starts working, you shouldn't have
> turned on stack checking in your compiler options.

It didnt help, and i already had nostackcheck enabled..

Something else I'm wondering...

In the code I have

memClean->is_Code=(void *)memCleanCode;

how does the compiler know I want the pointer to the function, and not the
value the function returns?

The above line gives sas warning 147,  conversion between function and data
pointers

Does it seem like my functions/structures are properly set up?

/Linus
 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

If there is a god.... 
    It's gotta be Neil Young!



------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_159" " AW: [amiga-c] mem handler "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 05-17-99 13:21:23
Subject: @{b}AW: [amiga-c] mem handler@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>


> Something else I'm wondering...
> 
> In the code I have
> 
> memClean->is_Code=(void *)memCleanCode;
> 
> how does the compiler know I want the pointer to the function, and not the
> value the function returns?
> 
    [Fritsch Alexander]  
    You have the name of the function without the  ( ), so the compiler
knows that it should be the pointer to the code and not the return value of
the function.

    Kind regards Alexander Fritsch



------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_160" " Re: mem handler "
From: Laurent FAILLIE <l_faillie@yahoo.com>
Date: 05-17-99 15:38:17
Subject: @{b}Re: mem handler@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>

Linus McCabe <sparkle@hehe.com> wrote:

> [...]
> 
> Something else I'm wondering...
> 
> In the code I have
> 
> memClean->is_Code=(void *)memCleanCode;
> 
> how does the compiler know I want the pointer to the function, and
not the
> value the function returns?
> 

Because :

(void *)memCleanCode;

means the pointer to your code, casted to a void *, whereas

memClean->is_Code=(void *)memCleanCode();

means you call the function and then you cast the result to a void *.

    Laurent
==
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_161" " mem handler "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-18-99 06:17:19
Subject: @{b}mem handler@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>

Linus McCabe <sparkle@hehe.com> wrote:

> [...]
> 
> Something else I'm wondering...
> 
> In the code I have
> 
> memClean->is_Code=(void *)memCleanCode;
> 
> how does the compiler know I want the pointer to the function, and
not the
> value the function returns?
> 

Because :

(void *)memCleanCode;

means the pointer to your code, casted to a void *, whereas

memClean->is_Code=(void *)memCleanCode();

means you call the function and then you cast the result to a void *.

    Laurent
==
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_162" " Re: mem handler "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-19-99 07:57:40
Subject: @{b}Re: mem handler@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>

Linus McCabe <sparkle@hehe.com> wrote:

> [...]
> 
> Something else I'm wondering...
> 
> In the code I have
> 
> memClean->is_Code=(void *)memCleanCode;
> 
> how does the compiler know I want the pointer to the function, and
not the
> value the function returns?
> 

Because :

(void *)memCleanCode;

means the pointer to your code, casted to a void *, whereas

memClean->is_Code=(void *)memCleanCode();

means you call the function and then you cast the result to a void *.

    Laurent
==
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_163" " Re: mem handler "
From: Laurent FAILLIE <l_faillie@yahoo.com>
Date: 05-20-99 08:09:44
Subject: @{b}Re: mem handler@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>

Linus McCabe <sparkle@hehe.com> wrote:

> [...]
> 
> Something else I'm wondering...
> 
> In the code I have
> 
> memClean->is_Code=(void *)memCleanCode;
> 
> how does the compiler know I want the pointer to the function, and
not the
> value the function returns?
> 

Because :

(void *)memCleanCode;

means the pointer to your code, casted to a void *, whereas

memClean->is_Code=(void *)memCleanCode();

means you call the function and then you cast the result to a void *.

    Laurent
==
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_164" " mem handler again "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-21-99 12:56:59
Subject: @{b}mem handler again@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>

Linus McCabe <sparkle@hehe.com> wrote:

> [...]
> 
> Something else I'm wondering...
> 
> In the code I have
> 
> memClean->is_Code=(void *)memCleanCode;
> 
> how does the compiler know I want the pointer to the function, and
not the
> value the function returns?
> 

Because :

(void *)memCleanCode;

means the pointer to your code, casted to a void *, whereas

memClean->is_Code=(void *)memCleanCode();

means you call the function and then you cast the result to a void *.

    Laurent
==
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_165" " Re: mem handler again "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-21-99 22:31:20
Subject: @{b}Re: mem handler again@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>

Linus McCabe <sparkle@hehe.com> wrote:

> [...]
> 
> Something else I'm wondering...
> 
> In the code I have
> 
> memClean->is_Code=(void *)memCleanCode;
> 
> how does the compiler know I want the pointer to the function, and
not the
> value the function returns?
> 

Because :

(void *)memCleanCode;

means the pointer to your code, casted to a void *, whereas

memClean->is_Code=(void *)memCleanCode();

means you call the function and then you cast the result to a void *.

    Laurent
==
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_166" " Re: mem handler again "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-22-99 10:31:20
Subject: @{b}Re: mem handler again@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>

Linus McCabe <sparkle@hehe.com> wrote:

> [...]
> 
> Something else I'm wondering...
> 
> In the code I have
> 
> memClean->is_Code=(void *)memCleanCode;
> 
> how does the compiler know I want the pointer to the function, and
not the
> value the function returns?
> 

Because :

(void *)memCleanCode;

means the pointer to your code, casted to a void *, whereas

memClean->is_Code=(void *)memCleanCode();

means you call the function and then you cast the result to a void *.

    Laurent
==
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_167" " Re: mem handler again "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-23-99 12:00:37
Subject: @{b}Re: mem handler again@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>

Linus McCabe <sparkle@hehe.com> wrote:

> [...]
> 
> Something else I'm wondering...
> 
> In the code I have
> 
> memClean->is_Code=(void *)memCleanCode;
> 
> how does the compiler know I want the pointer to the function, and
not the
> value the function returns?
> 

Because :

(void *)memCleanCode;

means the pointer to your code, casted to a void *, whereas

memClean->is_Code=(void *)memCleanCode();

means you call the function and then you cast the result to a void *.

    Laurent
==
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_168" " Re: mem handler again "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-23-99 13:27:44
Subject: @{b}Re: mem handler again@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 22 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 21-May-99, Olaf Barthel wrote:
> 
> >> I have a semaphore defined globally and I'm trying to obtain it when the
> >> program crashes with some enforcer hit (the program who needs memory and
> >> makes the mem handler go off)
> > 
> >   Bad idea, ObtainSemaphore() may call Wait() until the semaphore is
> > available. If you really need that semaphore try calling
> > AttemptSemaphore(). This one will not wait, but there is a risk in that it
> > might not be able to lock the semaphore for you.
> 
> Ok, I guess this was the big error..
>  
> >   You'll probably deadlock the machine. Not a nice thing to do, they say
> > ;)
> 
> Yeah, but noone ever told me why ;)

   It's in the autodocs, but admittedly, you have to look very, very
closely. Mike Sinz, who was responsible for the exec kernal when the
memory handler code was introduced, wrote a paper on its use and
operation. Sadly, that paper never found its way into an NDK...

> >> Does multitasking continue as normal when handlers like
> >> this are called, or will it result in a lockup?
> > 
> >   Guess ;)  Unfortunately, the memory handler documentation is none too
> > verbose, but it says in the code example:
> 
> So I take it multitasking is stopped and thats the reason not to break
> forbid.. 
> 
> This makes it kind of tricky to clear out instances of a linked list, since
> another program might be adding or removing instances at the very first
> time.
> 
> I guess I could just use attemptsemaphore as you suggested and do nothing if
> the list is busy. Maybe if the list IS busy I could return MEM_TRY_AGAIN,
> and get called again and again until the list is free.

   Not a good idea. If you tell the allocator to try again, you don't give
the task which currently holds the semaphore (and didn't want you to have
it) enough time to let go of it. Consequently, the allocator will invoke
your code again and again without much of an interruption: the operating
system will appear to hang.

> I guess this would be a bad idea since it might result in a loop slowing the
> system down and I might not even be sure the semaphore using program is
> executed to continue its work between the calls of the memhandler. (?)

   This is it. If you cannot get a hold of the semaphore, better
return MEM_DID_NOTHING instead.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of the nearly 150,000 e-mail communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_169" " Re: mem handler again "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-23-99 16:49:39
Subject: @{b}Re: mem handler again@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, May 23, 1999 at 01:00:37PM +0200, Linus McCabe wrote:
<snip>
> Are you certain I can use global vars in a memhandler, because if I set up a
> simple variable like this:
> 
> long debug=0;
> 
> and in my memhandler do a 
> 
> debug=666;
> 
> 'debug' will still be 0.
<snip>

__saveds (aka __geta4) is your friend.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
I haven't lost my mind; it's backed up on tape somewhere.

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of the nearly 150,000 e-mail communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_170" " Re: mem handler again "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-23-99 17:29:37
Subject: @{b}Re: mem handler again@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 23-May-99, Ben Hutchings wrote:

> __saveds (aka __geta4) is your friend.

using it already..

/linus
 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

If there is a god.... 
    It's gotta be Neil Young!



------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of the nearly 150,000 e-mail communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_171" " Re: mem handler again "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-23-99 20:20:51
Subject: @{b}Re: mem handler again@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, May 23, 1999 at 06:29:37PM +0200, Linus McCabe wrote:
> From: Linus McCabe <sparkle@hehe.com>
> 
> On 23-May-99, Ben Hutchings wrote:
> 
> > __saveds (aka __geta4) is your friend.
> 
> using it already..

Well that's odd.  Is your program pure (re-entrant, meant to be
resident-able)?  That would mean __saveds didn't work.  In that
case you should set is_Data to the correct value of a4 (geta4()
may give you that) and use an assembly stub for is_Code that
copies that into a4 for your handler.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
I haven't lost my mind; it's backed up on tape somewhere.

------------------------------------------------------------------------
What was YOUR favorite part?!
http://www.onelist.com
Tell other Star Wars fans at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_172" " Re: mem handler again "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-23-99 21:22:12
Subject: @{b}Re: mem handler again@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, May 23, 1999 at 06:29:37PM +0200, Linus McCabe wrote:
> From: Linus McCabe <sparkle@hehe.com>
> 
> On 23-May-99, Ben Hutchings wrote:
> 
> > __saveds (aka __geta4) is your friend.
> 
> using it already..

Well that's odd.  Is your program pure (re-entrant, meant to be
resident-able)?  That would mean __saveds didn't work.  In that
case you should set is_Data to the correct value of a4 (geta4()
may give you that) and use an assembly stub for is_Code that
copies that into a4 for your handler.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
I haven't lost my mind; it's backed up on tape somewhere.

------------------------------------------------------------------------
What was YOUR favorite part?!
http://www.onelist.com
Tell other Star Wars fans at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_173" " Re: mem handler again "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-23-99 22:26:23
Subject: @{b}Re: mem handler again@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, May 23, 1999 at 06:29:37PM +0200, Linus McCabe wrote:
> From: Linus McCabe <sparkle@hehe.com>
> 
> On 23-May-99, Ben Hutchings wrote:
> 
> > __saveds (aka __geta4) is your friend.
> 
> using it already..

Well that's odd.  Is your program pure (re-entrant, meant to be
resident-able)?  That would mean __saveds didn't work.  In that
case you should set is_Data to the correct value of a4 (geta4()
may give you that) and use an assembly stub for is_Code that
copies that into a4 for your handler.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
I haven't lost my mind; it's backed up on tape somewhere.

------------------------------------------------------------------------
What was YOUR favorite part?!
http://www.onelist.com
Tell other Star Wars fans at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_174" " Re: mem handler again "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-24-99 10:01:28
Subject: @{b}Re: mem handler again@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 23-May-99, Olaf Barthel wrote:

>   Are you using the SAS/C library creation facilities, i.e. are you
> compiling with the LIBCODE option? If so, you'll have a problem: in this
> particular case the __saveds keyword will cause the global data to
> be referenced off register A6 -- which for the memory handler will point
> to SysBase rather than your library's base adress.

i managed to solve the problem by putting a4 in isData, then 
putreg(isdata, reg a4)
in the memhandler.

I dont know if its neccessary, but i also preserve the old a4 value before i
leave te memhandler.

Thanks for all the help!

/Linus
 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Not until the last tree is gone, the last river is poisoned
and the last fish have died will you understand that you can't eat money



------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_175" " Mooooooooo :8 "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-20-99 18:35:08
Subject: @{b}Mooooooooo :8@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Calling all MUI experts.  How can I make a simple button with a
picture on it?

I have a standard *Image structure with the bitmap defined in (created
using PPaint).  I can display this image in a MUI application using
code to the effect of:

BT_CLI = ImageObject,
  MUIA_Image_OldImage, &cli_image,
  ButtonFrame,
End, //ImageObject

It works great and looks like a button - but as you can see it's not!
:)  So what do I need to add?  I presume it *is* possible to make a
button with a user defined image on it?  Or do I have to resort to a
MCC such as IconButton? nonono.

Regards,



Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_176" " Re: Mooooooooo :8 "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-21-99 00:18:59
Subject: @{b}Re: Mooooooooo :8@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 20-Mai-99 Mike Carter wrote:

> BT_CLI = ImageObject,
>  MUIA_Image_OldImage, &cli_image,
>  ButtonFrame,
> End, //ImageObject

> It works great and looks like a button - but as you can see it's not!

It doesn't behave like a Button (can't be pressed)?

According to the AutoDocs you can turn everything into a Button, have a look
at MUIA_InputMode.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Wieviele Mechaniker braucht man um eine Glühbirne zu wechseln?
6. Einen der die Birne mit dem Hammer reinschlägt, und 5 die neue
Birnen aus dem Lager holen.


------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_177" " Re: Mooooooooo :8 "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-21-99 06:09:15
Subject: @{b}Re: Mooooooooo :8@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 20-May-99, Mike Carter wrote:


> It works great and looks like a button - but as you can see it's not!
> :)  So what do I need to add?  I presume it *is* possible to make a
> button with a user defined image on it?  Or do I have to resort to a
> MCC such as IconButton? nonono.

ANy mui object can be made into a button by adding inputmode. try adding
MUIA_InputMode, MUIA_InputMode_RelVerify
to the above code.

(See autodocs/mui/MUIA_Area for more info)

/Linus

> Regards,
> 
> 
> 
> Mike C.
> 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Death makes angels of us all and put wings where we had shoulders,
smooth as raven's claw



------------------------------------------------------------------------
Are you hogging all the fun?
http://www.onelist.com
Friends tell friends about ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_178" " Re: Mooooooooo :8 "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-24-99 00:32:10
Subject: @{b}Re: Mooooooooo :8@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Technically Linus McCabe was waffling about Re: [amiga-c] Mooooooooo :8.  But anyway...

> ANy mui object can be made into a button by adding inputmode. try adding
> MUIA_InputMode, MUIA_InputMode_RelVerify
> to the above code.
> 
> (See autodocs/mui/MUIA_Area for more info)

Thanks for the pointer!  Didn't see that autodoc for some reason?!
Stupid me as it has many important MUI tags in!  doh!

Dinky do,



Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_179" " Re: Mooooooooo :8 "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-24-99 00:41:26
Subject: @{b}Re: Mooooooooo :8@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Technically Linus McCabe was waffling about Re: [amiga-c] Mooooooooo :8.  But anyway...

> ANy mui object can be made into a button by adding inputmode. try adding
> MUIA_InputMode, MUIA_InputMode_RelVerify
> to the above code.
> 
> (See autodocs/mui/MUIA_Area for more info)

Thanks for the pointer!  Didn't see that autodoc for some reason?!
Stupid me as it has many important MUI tags in!  doh!

Dinky do,



Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_180" " Motorola manuals "
From: Daniel Schwill <MCDan@t-online.de>
Date: 05-31-99 13:49:39
Subject: @{b}Motorola manuals@{ub}

From: MCDan@t-online.de (Daniel Schwill)

Hello!

Sorry for this off topic question, but how long does
the delivery of manuals from motorola to germany take?

Bye.

   Dan.


------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_181" " MUI balooey. "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-24-99 01:26:11
Subject: @{b}MUI balooey.@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

I'm getting to like the way MUI apps are structured but it is
difficult to find out how to do some simple things.  I have all the
autodocs but it takes ages to trawl through them.  SO here are a
couple of questions that somebody might be able to answer straight
away (hopefully)...

* How can I make a gadget automatically select when the window opens. 
Such as a string gadget?  I've tried set() of MUI_Selected, TRUE but
this is wrong thing.  I want the text cursor to be in string gadget
for example.

* If defining a button using the TextObject and adding Input event
rather than using SimpleButton() macro, how can I set the keyboard key
and have it underlined?  I read something about MUIA_Text_HiChar and
MUIA_ControlChar.

* Is it possible to set what _order_ gadgets are chained in? 
Currently I only have them in the order that they are added to the GUI
which is not what I want.

Thanx in advance!  Anybody know what the GUI programming is like for
the new OS 3.5 style?

Dinky do,



Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_182" " Re: MUI balooey. "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-27-99 17:30:33
Subject: @{b}Re: MUI balooey.@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 24-May-99, Mike Carter wrote:

> I'm getting to like the way MUI apps are structured but it is
> difficult to find out how to do some simple things.  I have all the

The mui mailinglist is a good place to be :)

> Such as a string gadget?  I've tried set() of MUI_Selected, TRUE but

This is something completely different; you'd use this for enabling
checkmarks, etc.

> this is wrong thing.  I want the text cursor to be in string gadget
> for example.

Check MUIA_Window_ActiveObject in window.doc

 
> * If defining a button using the TextObject and adding Input event
> rather than using SimpleButton() macro, how can I set the keyboard key
> and have it underlined?  I read something about MUIA_Text_HiChar and
> MUIA_ControlChar.

Yes, why didnt you just try it??
This should work!

> * Is it possible to set what _order_ gadgets are chained in? 
> Currently I only have them in the order that they are added to the GUI
> which is not what I want.

maybe MUIM_Window_SetCycleChain, but I'm not sure

> Mike.

pinky toe

/Linus
 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Tell me true, tell me why, was Jesus crucified.  Was it for this that daddy
died?  Was is you, was it me, did I watch too much TV?  Is that hint of
accusation in your eyes?



------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_183" " Re: MUI balooey. "
From: Daniel Schwill <MCDan@t-online.de>
Date: 05-27-99 18:37:39
Subject: @{b}Re: MUI balooey.@{ub}

From: MCDan@t-online.de (Daniel Schwill)

Am 23-Mai-99 schrieb Mike Carter:

>From: "Mike Carter" <mike.carter@bigfoot.com>

>I'm getting to like the way MUI apps are structured but it is
>difficult to find out how to do some simple things.  I have all the
>autodocs but it takes ages to trawl through them.  SO here are a
>couple of questions that somebody might be able to answer straight
>away (hopefully)...

>* How can I make a gadget automatically select when the window opens. 
>Such as a string gadget?  I've tried set() of MUI_Selected, TRUE but
>this is wrong thing.  I want the text cursor to be in string gadget
>for example.

Use:

set(window,MUIA_Window_ActiveObject,stringgadget);

(The object has to be in the cycle chain for this command to work!).

>* If defining a button using the TextObject and adding Input event
>rather than using SimpleButton() macro, how can I set the keyboard key
>and have it underlined?  I read something about MUIA_Text_HiChar and
>MUIA_ControlChar.

With MUIA_ControlChar you set the keyboard key to control the object.
With MUIA_Text_HiChar you set the character that will be underlined.

>* Is it possible to set what _order_ gadgets are chained in? 
>Currently I only have them in the order that they are added to the GUI
>which is not what I want.

I don't really know this, but try:

DoMethod(window,MUIM_Window_SetCycleChain, str1, str2, ...);

I don't know whether this work. This is old style and is considered
obsolete, but MUIA_CycleChain seems not to offer a custom ordered
chain.

BTW: Ask these questions in the mui mailinglist. I suppose there are
    more mui experts than in this list.

>Thanx in advance!  Anybody know what the GUI programming is like for
>the new OS 3.5 style?

The new GUI system with the resource files sounds terrible to me.
Does anyone know a way to get the new developer docs before
the OS 3.5 launch?

>Dinky do,

>Mike.

Bye.

   Dan.


------------------------------------------------------------------------
What was YOUR favorite part?!
http://www.onelist.com
Tell other Star Wars fans at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_184" " Re: MUI cycle "
From: Daniel Schwill <MCDan@t-online.de>
Date: 05-01-99 18:50:26
Subject: @{b}Re: MUI cycle@{ub}

From: MCDan@t-online.de (Daniel Schwill)

Am 29-Apr-99 schrieb Mike Carter:

>From: "Mike Carter" <mike.carter@bigfoot.com>

>Hi all!

>Can a MUI guru help me with a minor problem I got.  I've looked at
>many different source codes and everybody seems to be defining their
>MUI GUIs different.  I've opted for the one I liked the most but
>cannot work out how to implement the 'CycleObject' for a specific
>gadget.

>A bit of my interface definition looks like this:

>   Child, HGroup,
>    Child, Label2("Command:"),
>    Child,
>      ST_Execute = StringObject,
>        StringFrame,
>        MUIA_String_Format, MUIV_String_Format_Left,
>        MUIA_String_MaxLen, 128,
>        MUIA_Weight, 1500,
>        MUIA_CycleChain, TRUE,
>      End,
>   End,

>Where abouts in the above gadget definition do I stick the CycleObject
>item?  I've tried putting it before the ST_Execute = StringObject line
>and also inside the StringObject definition.  Both produce different
>errors when compiling in completely unrelated procedures?!  But I
>guess that's C...

>Do I have to define anything to do with Cycle groups at the start of
>my interface definition, maybe I've missed something?

Try this:

static const char *cycle_entries[]=
{
   "Command 1",
   "Command 2",
   "Command n",
   NULL
};

   ...
   Child, HGroup,
      Child, Label2("Command:"),
      Child, ST_Execute = CycleObject,
         MUIA_Cycle_Entries, cycle_entries,
      End,
   End,
   ...

>Also where can I find info about a MUI programmers mailing list?

I don't know an URL for information about the MUI mailinglist.
To subscribe to the MUI mailinglist, send a message with the word "subscribe"
in the Subject: field to "mui-request@Star.Informatik.RWTH-Aachen.DE".

>Dinky do,
>Mike c.

Bye.

   Dan.


------------------------------------------------------------------------
Start a new hobby.  Meet a new friend.
http://www.onelist.com
ONElist:  The leading provider of free e-mail list services!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_185" " Re: MUI cycle "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-03-99 17:13:21
Subject: @{b}Re: MUI cycle@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

I was bored but Daniel Schwill said something I can't just forget about!

> Try this:
>    Child, HGroup,
>       Child, Label2("Command:"),
>       Child, ST_Execute = CycleObject,
>          MUIA_Cycle_Entries, cycle_entries,
>       End,
>    End,

OOps!  Nope not that - I mean how do I add a number of gadgets into
the gadget cycle chain.  The thing that happens when the TAB key is
pressed in a MUI application and different parts of the GUi are
highlighted for keyboard control.  How's that done?

Dinky do,


Mike Carter

-----------------------------------------------------------

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,4 HDD,   __/\__  bUDDa oF|
| DD&HD FD,5 CD-ROMS,CDRW,EZ135,SCSI    \ o0 /  pROgREsS|
| 56kModem,BVGfX,19"VDU,Melody comming! /_ -_\   Ex-NFA |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597


------------------------------------------------------------------------
Start a new hobby.  Meet a new friend.
http://www.onelist.com
ONElist:  The leading provider of free e-mail list services!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_186" " Re: MUI cycle "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-03-99 21:42:27
Subject: @{b}Re: MUI cycle@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 03-May-99, Mike Carter wrote:

> OOps!  Nope not that - I mean how do I add a number of gadgets into
> the gadget cycle chain.  The thing that happens when the TAB key is
> pressed in a MUI application and different parts of the GUi are
> highlighted for keyboard control.  How's that done?

Isnt it just to specify 

... , ... ,
MUIA_CycleChain, 1,
..., ...,

??

I think I remember the piece of sourcecode you sent with your question, and
you put this attribute to TRUE, and not to '1' which the mui autodoc tells
you to use.
(Not sure this matters)

/Linus
 
> Dinky do,
> 
> 
> Mike Carter
> 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Tell me true, tell me why, was Jesus crucified.  Was it for this that daddy
died?  Was is you, was it me, did I watch too much TV?  Is that hint of
accusation in your eyes?



------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_187" " Re: MUI cycle "
From: Daniel Schwill <MCDan@t-online.de>
Date: 05-05-99 03:00:01
Subject: @{b}Re: MUI cycle@{ub}

From: MCDan@t-online.de (Daniel Schwill)

Am 03-Mai-99 schrieb Mike Carter:

>From: Mike Carter <mike.carter@bigfoot.com>

>I was bored but Daniel Schwill said something I can't just forget about!

>> Try this:
>>    Child, HGroup,
>>       Child, Label2("Command:"),
>>       Child, ST_Execute = CycleObject,
>>          MUIA_Cycle_Entries, cycle_entries,
>>       End,
>>    End,

>OOps!  Nope not that - I mean how do I add a number of gadgets into
>the gadget cycle chain.  The thing that happens when the TAB key is
>pressed in a MUI application and different parts of the GUi are
>highlighted for keyboard control.  How's that done?

Ups, sorry. Now I get it.

> ...
> ST_Execute = StringObject,
>    StringFrame,
>    MUIA_String_Format, MUIV_String_Format_Left,
>    MUIA_String_MaxLen, 128,
>    MUIA_Weight, 1500,               
>    MUIA_CycleChain, TRUE,
     ^^^^^^^^^^^^^^^^^^^^^
I don't know what should be wrong here.

> End,
> ...

Have you used MUIM_Window_SetCycleChain, too?

>Dinky do,

>Mike Carter

Bye.

  Dan.


------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_188" " Re: MUI cycle "
From: DenJS <denjs@mail.ru>
Date: 05-06-99 17:15:03
Subject: @{b}Re: MUI cycle@{ub}

From: DenJS <denjs@mail.ru>

Hello Mike

On 03-íÁÊ-99, you wrote:

> the gadget cycle chain.  The thing that happens when the TAB key is
> pressed in a MUI application and different parts of the GUi are
> highlighted for keyboard control.  How's that done?

In my own programm i do it like this:

  DoMethod(TemplateST, MUIM_Set, MUIA_CycleChain, AddressST);
  DoMethod(AddressST,  MUIM_Set, MUIA_CycleChain, SysopST);
  DoMethod(SysopST,    MUIM_Set, MUIA_CycleChain, TemplateST);

When i pressing TAB key then first it activate TemplateST object, second
AddressST and so on ;)
Maybe it's bad method but it works well ;)


Regards
-----------------------------------------------------------

Everybody is talking about the weather but nobody does anything about it.
-- Mark Twain



------------------------------------------------------------------------
Always wanted to set up a book club, but can't find the time?
http://www.onelist.com
Create an online book club through ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_189" " Re: MUI cycle "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-06-99 19:54:54
Subject: @{b}Re: MUI cycle@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 06-Mai-99 DenJS wrote:

>  DoMethod(TemplateST, MUIM_Set, MUIA_CycleChain, AddressST);
>  DoMethod(AddressST,  MUIM_Set, MUIA_CycleChain, SysopST);
>  DoMethod(SysopST,    MUIM_Set, MUIA_CycleChain, TemplateST);

> Maybe it's bad method but it works well ;)

Do this, it's a better way...

DoMethod(obj, MUIM_MultiSet,                                  
         MUIA_CycleChain, 1,                                  
         Temp.CY_Command, Temp.STR_Custom, Temp.BT_Write, NULL
        );                                                    


The best, but not always possible way is to specify MUIA_CycleChain, 1
directly when creating the Object.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

"Diese bunten Oberflächen mit ihren verschwenderischen Animationen sind
 was für einfache Gemüter, die sich auch vor 'ne laufende Waschmaschine
   setzten und darauf warten, dass die rote Socke wieder vorbeikommt"
                     (Jürgen Wahlmann über Windows'95)


------------------------------------------------------------------------
Wanting to get back in touch with old friends?
http://www.onelist.com
Reunite through a ONElist community.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_190" " Re: MUI cycle "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-06-99 23:07:46
Subject: @{b}Re: MUI cycle@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Technically Daniel Schwill was waffling about [amiga-c] Re: MUI cycle.  But anyway...

> > ...
> > ST_Execute = StringObject,
> >    StringFrame,
> >    MUIA_String_Format, MUIV_String_Format_Left,
> >    MUIA_String_MaxLen, 128,
> >    MUIA_Weight, 1500,               
> >    MUIA_CycleChain, TRUE,
>      ^^^^^^^^^^^^^^^^^^^^^
> I don't know what should be wrong here.

It should be 1 rather than TRUE.  Thanks to the geezer who suggested
it - works great, thanks!!  I always though TRUE was 1 anyway but who
cares - it works fine :)

> > End,
> > ...
> 
> Have you used MUIM_Window_SetCycleChain, too?

What does that do? :)  Does it provide the border around each gadget
as you cycle through the chain?  Currently mine GUI doesn't have that.
 Will have to dig out MUI docs or look at examples.

Dinky do,


MIke C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Want to learn more about your list users?
http://www.onelist.com
Now you can with our new User Survey Tool - see homepage for details
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_191" " Re: MUI cycle "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-07-99 10:25:56
Subject: @{b}Re: MUI cycle@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 07-Mai-99 Mike Carter wrote:

>>>    MUIA_CycleChain, TRUE,
>>      ^^^^^^^^^^^^^^^^^^^^^
>> I don't know what should be wrong here.

> It should be 1 rather than TRUE.  Thanks to the geezer who suggested
> it - works great, thanks!!  I always though TRUE was 1 anyway but who
> cares - it works fine :)

For the Compiler there's no difference, both TRUE and 1 have the Value 1.

But the AutoDoc said you should set it to 1, then do it this way. Maybe one
day a new Feature allows to specify 2 also, then it's irritating to have
TRUE and 2 mixed.


It's also no difference for the Compiler if you write 0, NULL or '\0', but
for you when you read the Source. A 0 is the numeric Value zero, NULL is a
Pointer which points nowhere, '\0' is the terminating 0-Byte for a String.

This way you can see the Datatype of your Variable by only looking at the
Value.

>> Have you used MUIM_Window_SetCycleChain, too?

> What does that do? :)  Does it provide the border around each gadget
> as you cycle through the chain?  Currently mine GUI doesn't have that.

It's the old way to set the CycleChain. You don't need it if you created
every Object with MUIA_CycleChain, 1 like in the Example above.

If you use MUI_MakeObject() or some Macros you can't specify
MUIA_CycleChain, so you need to do it with this Method.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Windows 95 Fehlermeldung:
+--------------------------------------------+
|  Fehler 104B - Mausinitalisierungsfehler!  |
|     Maustreiber ist nicht installiert.     |
|                                            |
|  Linke Maustaste drücken um Fortzufahren.  |
+--------------------------------------------+


------------------------------------------------------------------------
Did you know ONElist has over 300 Star Wars lists?
http://www.onelist.com
Join one today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_192" " Re: MUI cycle "
From: Gregory Roberts II <gregr@en.com>
Date: 05-07-99 14:18:21
Subject: @{b}Re: MUI cycle@{ub}

From: Gregory Roberts II <gregr@en.com>


On Fri, 7 May 1999, Christian Hattemer wrote:

> From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>
> 
> For the Compiler there's no difference, both TRUE and 1 have the Value 1.

Maybe, maybe not.  Consider this:

#define FALSE    0
#define TRUE     (!FALSE)

In this case, TRUE is -1.  Any non-zero value will be considered TRUE in
conditional statements, so this is a prefectly reasonable thing to do.

So, it's always a good idea to say 1 when you mean 1, and TRUE when you
mean TRUE.


> It's also no difference for the Compiler if you write 0, NULL or '\0', but
> for you when you read the Source. A 0 is the numeric Value zero, NULL is a
> Pointer which points nowhere, '\0' is the terminating 0-Byte for a String.
> 

The compiler might care depending on how you're using it and compiling
options relating to type checking.

0 is an int (with normal promotion rules)
NULL is often defined as ((void *)0L), which makes it a pointer type.
'\0' is a character type.

So, depending on your usage, you might get warnings related to the
compiler's type checking.  

> Bye, Chris
> 
> 

This concludes today's lesson in pedantic type checking. :-)

Greg

-----------------------------------------------------------
gregr@en.com
KC8BGC
Amiga Enthusiast  :)
IBM programmer    :(


------------------------------------------------------------------------
What's "Grow to Give"?
http://www.onelist.com
It's a new incentive program at ONElist.  See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_193" " multi menus "
From: Bob Lanham <BobL@leading.net>
Date: 05-10-99 14:30:50
Subject: @{b}multi menus@{ub}

From: Bob Lanham <BobL@leading.net>

Suppose you want 3 different windows to have the same menu strip.  The
example below works great with MENUPICK messages.  But the question is,
could just one menustrip be set with SetMenuStrip() to all 3 windows?

/*************************************************************/

BOOL setup_menu(void)
{
    APTR *vinfo;

    struct NewMenu mynewmenu[] = {
           { NM_TITLE, "Project",       0 , 0, 0, 0},
           {  NM_ITEM, "New",          "N", 0, 0, 0},
           {  NM_ITEM, "Open Picture", "O", 0, 0, 0},
           {  NM_ITEM, "Save IFF",     "S", 0, 0, 0},
           {  NM_ITEM, NM_BARLABEL,     0 , 0, 0, 0},
           {  NM_ITEM, "About",         0 , 0, 0, 0},
           {  NM_ITEM, "Quit",         "Q", 0, 0, 0},
           {   NM_END, NULL,            0 , 0, 0, 0},
    };

    menuStrip1 = CreateMenus(mynewmenu, TAG_END);
    menuStrip2 = CreateMenus(mynewmenu, TAG_END);    
    menuStrip3 = CreateMenus(mynewmenu, TAG_END);
    vinfo = GetVisualInfo(screen1, TAG_END);
    LayoutMenus(menuStrip1, vinfo, TAG_END);
    LayoutMenus(menuStrip2, vinfo, TAG_END);
    LayoutMenus(menuStrip3, vinfo, TAG_END);
    FreeVisualInfo(vinfo);

    if(SetMenuStrip(window1, menuStrip1))
        {
        if(SetMenuStrip(window2, menuStrip2))
            {
            if(SetMenuStrip(window3, menuStrip3)) return TRUE;
            }
        }
    return FALSE;
}
/*************************************************************/

------------------------------------------------------------------------
With more than 14 million emails exchanged daily...
http://www.onelist.com
...ONElist IS the place where the world talks!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_194" " Re: multi menus "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-10-99 18:30:08
Subject: @{b}Re: multi menus@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 10 Bob (Bob Lanham) wrote:

> From: Bob Lanham <BobL@leading.net>
> 
> Suppose you want 3 different windows to have the same menu strip.  The
> example below works great with MENUPICK messages.  But the question is,
> could just one menustrip be set with SetMenuStrip() to all 3 windows?

   The answer is "yes", provided that the window is exactly the same
for all three menus (Workbench does this, for example; there's just this
single menu shared by all Workbench windows).

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_195" " Re: New C user "
From: Stephen Williams <sw@nysa.u-net.com>
Date: 05-01-99 12:14:16
Subject: @{b}Re: New C user@{ub}

From: Stephen Williams <sw@nysa.u-net.com>

Mike Carter <mike.carter@bigfoot.com> wrote:
> I was bored but John Niclasen said something I can't just forget about!
> 
>> What I see as a must for a C programmer is the book "The C
>> Programming Language" (I have second edition, ANSI C) by
>> Brian W: Kernighan and Dennis M. Ritchie. It's very basic
>> and tells a lot (everything?) about the language.
> 
> But that book teaches old ways...  dodgy.

The second edition teaches ANSI C.

Many people consider this book to be the definitive C reference.
It was co-authored by Dennis Ritchie, who specified the language
in the first place, so it's not going to contain anything wrong
(unlike "C for Dummies", which I'm told assumes you're using
MS-LOSS and teaches stuff specific to that "operating system" as
if it were standard C).

-Stephen



------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend?
http://www.onelist.com
Come join one of the 130,000 e-mail communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_196" " os3.5 "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-27-99 22:34:06
Subject: @{b}os3.5@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

is anybody here a beta tester for the new os3.5 upgrade?  And do they
have anydeveloper docs yet?

DInky do,



Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_197" " Re: os3.5 "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-30-99 21:18:13
Subject: @{b}Re: os3.5@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 27 Mike (Mike Carter) wrote:

> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> is anybody here a beta tester for the new os3.5 upgrade?  And do they
> have anydeveloper docs yet?

   No developer documentation for the OS 3.5 update is available yet.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
With more than 17 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is THE place where the world talks!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_198" " Palettes "
From: Duncan Strand <dstrand@zebs1.freeserve.co.uk>
Date: 05-30-99 23:16:15
Subject: @{b}Palettes@{ub}

From: Duncan Strand <dstrand@zebs1.freeserve.co.uk>


Does anyone have a program that can load a iff, and display/save the
palette as text that is suitalbe for SetRGB, or similar?

Thanks.

-----------------------------------------------------------
-------------------------------------------------------------
Duncan Strand  ICQ: 16966914
http://www.geocities.com/TelevisionCity/5744  Sci-fi pictures
http://www.geocities.com/enchantedforest/8132 Lion Software
-------------------------------------------------------------
(A)bort, (R)etry, (F)ind another line of work.......?

------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_199" " Re: Palettes "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-31-99 03:47:04
Subject: @{b}Re: Palettes@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Duncan Strand discovered that the date was 30-May-99 and wrote about [amiga-c]
Palettes 
 Watcha Duncan
->From: Duncan Strand <dstrand@zebs1.freeserve.co.uk>


->Does anyone have a program that can load a iff, and display/save the
->palette as text that is suitalbe for SetRGB, or similar?

   I`ve got a prog here called PicCon which will do this and loads more. I`ll
send it to the list if noone objects as I tink a lot of ppl might find it
useful. The archive is 71501 Bytes. Alternatively get IFF.library from Aminet.
It`s old but does the job.

-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
ONElist:  bringing the world together.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_200" " Re: Parallel I/O? "
From: Jonas Hulten <bjonte@hem2.passagen.se>
Date: 05-01-99 19:21:26
Subject: @{b}Re: Parallel I/O?@{ub}

From: Jonas Hulten <bjonte@hem2.passagen.se>

Den 30-Apr-99, skrev Zubin Sethna:

>> Ahh. I had no idea about that Acknowledge-pin. However, my hardware is
>> not (yet) able to confirm any data sent to it, so I guess you have to go
>> for the hardware banging method. I've got very little documentation in
>> this area, so I'd appreciate the help!

>> Hardware bang like this:
>> ...

> If your going to poke the parallel port hardware directly, don't you have
> to take control of the parallel port resource first?

Yes, that is correct. I just saw this as a temporary solution since Erik
wrote "...not (yet) able to confirm data...". When the hardware uses the
acknowledge pin the hardware bang is just bad and unnecessary.

/Jonas

-----------------------------------------------------------
0 "MEAT IS MURDER  " GRRRL
48   "JETPAC"           PRG
20   "JELLY MONSTERS"   PRG
32   "µBEE"             REL
42   "VECTREX"          REL
604  "A4000"            L?<
64 BLOCKS FREE.


------------------------------------------------------------------------
Have you visited the new ONElist home page lately?
http://www.ONElist.com
ONElist: The Leading e-mail list and community service on the Internet!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_201" " PCD files "
From: Felix Schwarz <bs168@fen.baynet.de>
Date: 05-18-99 21:15:25
Subject: @{b}PCD files@{ub}

From: Felix Schwarz <bs168@fen.baynet.de>

Hi all!

Does anybody know, where I can download PCD-files ? I could need some to
test my PCD-loader :) Thanks in advance ..

Yours sincerly,
  Felix Schwarz

-----------------------------------------------------------
Developer at Innovative

Innovative
c/o Felix Schwarz
Am Gründla 3
D-91074 Herzogenaurach
Germany

EMail: felix@innovative-web.de
WWW:   http://innovative.in-tec.de/ (MOVING SOON!)
Phone: +(0)049 (0)9132/3400



------------------------------------------------------------------------
What was YOUR favorite part?!
http://www.onelist.com
Tell other Star Wars fans at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_202" " PCMCIA "
From: DenJS <denjs@mail.ru>
Date: 05-06-99 17:01:34
Subject: @{b}PCMCIA@{ub}

From: DenJS <denjs@mail.ru>

Hello,

Can anyone help with programming device for pcmcia modems?
I using pcmser.device now, but it's very slow... (030@40) Then i downloading
files at 28800 then my ammy working VERY slow :-(( But then i uploading
everything looks ok. I think that problem is in device :(
I looking for more information about pcmcia port. I have only RKRM short
overview :(

Kind regards
-----------------------------------------------------------

Everybody is talking about the weather but nobody does anything about it.
-- Mark Twain



------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_203" " Re: PCMCIA "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-08-99 04:02:13
Subject: @{b}Re: PCMCIA@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, May 06, 1999 at 11:01:34PM +0700, DenJS wrote:
> From: DenJS <denjs@mail.ru>
> 
> Hello,
> 
> Can anyone help with programming device for pcmcia modems?
> I using pcmser.device now, but it's very slow... (030@40) Then i downloading
> files at 28800 then my ammy working VERY slow :-(( But then i uploading
> everything looks ok. I think that problem is in device :(
> I looking for more information about pcmcia port. I have only RKRM short
> overview :(

Get the Amiga Developer CD.  That has a lot more information about the
Amiga's implementation of the PCMCIA 2.0 draft (*not* the final
standard - that's part of the reason why most PC peripherals don't
work with it).  You will need to look elsewhere for information on
`standard' PCMCIA modems.  I suspect that most of their registers are
mapped to look like a PC ISA serial port, so you may find
documentation of the 16550 chip useful.  Of course you will find the
source of pcmser.device useful, too, if you can get it.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
Attention Star Wars fans!
http://www.onelist.com
ONElist is the best place for your Star Wars list!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_204" " picture.datatype remap to static colour palette "
From: Steven Solie <ssolie@home.com>
Date: 05-21-99 19:00:29
Subject: @{b}picture.datatype remap to static colour palette@{ub}

From: Steven Solie <ssolie@home.com>

How do I use picture.datatype to remap a picture to a static colour
palette?

I have several ILBM pictures with different colour palettes I want
remapped to a fixed Screen ColorMap.  I've tried using the
PDTA_ColorMap, etc. tags but the lack of good documenation makes things
very difficult.

Thanks,
 Steven Solie


------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 150,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_205" " Re: picture.datatype remap to static colour palette "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-23-99 13:37:07
Subject: @{b}Re: picture.datatype remap to static colour palette@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 21 Steven (Steven Solie) wrote:

> From: Steven Solie <ssolie@home.com>
> 
> How do I use picture.datatype to remap a picture to a static colour
> palette?
> 
> I have several ILBM pictures with different colour palettes I want
> remapped to a fixed Screen ColorMap.  I've tried using the
> PDTA_ColorMap, etc. tags but the lack of good documenation makes things
> very difficult.

   PDTA_ColorMap is read-only; it won't help you here to get the
colour remapped. This is where the colours will go once they are
remapped, but until then, you need someting different: try opening
a screen with "SA_SharePens,TRUE,", set your palette by allocating
all its colours via ObtainBestPenA() and then have all pictures
remapped to the screen.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
What was YOUR favorite part?!
http://www.onelist.com
Tell other Star Wars fans at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_206" " plugins "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-20-99 02:15:51
Subject: @{b}plugins@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

I'd like to make my program more openended.  To this I presume I'd use
the idea of plugins.  My guess is they work by loading the plugin into
memory and BRAnching to the memory location to run that code.

But this is just the idea.  How do I implement such a system in my 'C'
program?  How should I load my plugin into memory and run the code at
the mem location?

And how should I compile my individual plugins using 'C'?  Or do I
have to get down to assembler level for some of this coding? yuk.

Dinky do,


Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
It's finally here!  What's your opinion?
http://www.onelist.com
Create a Star Wars discussion group at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_207" " Re: plugins "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-21-99 00:23:28
Subject: @{b}Re: plugins@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 20-Mai-99 Mike Carter wrote:

> But this is just the idea.  How do I implement such a system in my 'C'
> program?  How should I load my plugin into memory and run the code at
> the mem location?

I've done a tiny Plugin Interface for my MUI App, you may get the Source to
have a look.

> And how should I compile my individual plugins using 'C'?  Or do I

Compile them as a Library.

I can't help you more than showing my implementation with MUI, sorry...

> have to get down to assembler level for some of this coding? yuk.

No, you can use C.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Microsoft is not the answer!!!  It is the question!!!
The answer is:  N O  ! ! !


------------------------------------------------------------------------
How many communities do you think join ONElist each day?
http://www.onelist.com
More than 1,000!  Create yours now!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_208" " Re: plugins "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-21-99 06:11:12
Subject: @{b}Re: plugins@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 21-May-99, Christian Hattemer wrote:


>> But this is just the idea.  How do I implement such a system in my 'C'
>> program?  How should I load my plugin into memory and run the code at
>> the mem location?
> 
> I've done a tiny Plugin Interface for my MUI App, you may get the Source
> to have a look.

could i have them too?

thanks

/Linus

> Bye, Chris
> 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    




------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_209" " Re: PointerVariables or variables?? "
From: Jarno van der Linden <jarno@kcbbs.gen.nz>
Date: 05-05-99 06:58:01
Subject: @{b}Re: PointerVariables or variables??@{ub}

From: Jarno van der Linden <jarno@kcbbs.gen.nz>

> 
> From: Luiz Gustavo Castelan =?iso-8859-1?Q?P=F3voas?= <lpovoas@zaz.com.br>
> 
>     Code1:
>         struct NewGadget ng;
>     Code2:
>         struct Newgadget *ng; 
>         ng = (struct NewGadget*) Allocmem();

I personally prefer the first. The main reason is that it makes error
handling a lot easier. With AllocMem() you would have to check and
recover or cleanup if it fails.

---JvdL---

------------------------------------------------------------------------
ONElist:  Where Star Wars fans unite!
http://www.onelist.com
Find your Star Wars list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_210" " Re: PointerVariables or variables?? "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 05-05-99 09:37:33
Subject: @{b}Re: PointerVariables or variables??@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>



> From: Jarno van der Linden <jarno@kcbbs.gen.nz>
> > 
> > From: Luiz Gustavo Castelan =?iso-8859-1?Q?P=F3voas?= 
> <lpovoas@zaz.com.br>
> > 
> >     Code1:
> >         struct NewGadget ng;
> >     Code2:
> >         struct Newgadget *ng; 
> >         ng = (struct NewGadget*) Allocmem();
> 
> I personally prefer the first. The main reason is that it makes error
> handling a lot easier. With AllocMem() you would have to check and
> recover or cleanup if it fails.
> 

Well, using the dynamic method(nr 2 :) is more preferrably in my opinion,
as you can easily pass around pointers and build semi-dynamic guis, as you
can redesign them using a simple linked list, and you don't need to have a
lot of either static or global variables in your code.

And the AllocMem() issue, use memory-pools! There's a very easy interface
for pooled allocations in exec, which allows you to free all the memory
allocated in one single function-call.

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_211" " Re: PointerVariables or variables?? "
From: BlackMael <harrism@ihug.co.nz>
Date: 05-05-99 15:05:34
Subject: @{b}Re: PointerVariables or variables??@{ub}

From: BlackMael <harrism@ihug.co.nz>

Greetings and Salutations, Luiz.

On 19-Jan-78, *Luiz* was saying...

>    Hello, I would like to know which of the following code segments are
> more recomendable
> to amiga programming:

>    Code1:
>        struct NewGadget ng;
>        ng.ng_Width = 21; .......
>        glist = CreateGadget(KIND,glist,&ng,TAG_END);
>        glist->Nextgadget = CreateGadget(Kind,glist,&ng,Tahend....)


>    Code2:
>        struct Newgadget *ng; 
>        ng = (struct NewGadget*) Allocmem();
>        blablablah;
>        Freemem(ng,sizeof(newGadget);

> of course this is pseudocode, but which of them is better?? or Clean??

IIRC, the NewGadget struct is only used temporarily to define a gadget to be
created with CreateGadget(). The above variable /ng/ can be reused to create
other gadgets with CreateGadget().
So, it's really a waste of time going out of your way to allocate memory
yourself since once you've created all your gadgets you can freely forget
all about /ng/.
So declaring /ng/ as a local variable, on the stack, would be the better
solution.

> I dont use pointers and AllocMem that much on my programs, and I always
> get some garbage
> on the ram, would that problem be reduced by using Alloc/FreeMem()?

Of course, when you declare a local variable the data associated with it is
allocated from your programs stack. During the execution of your program
changes quite a bit. So when a local variable first becomes "active", the
dataspace this variable is given from the stack is initially "garbage". So
generally you would have to initailize any local variables yourself.
Of course, you can get a similar problem with Alloc(). Basically, memory from Alloc() contains garbage
too. It's just that Alloc() is usually called with the MEMF_CLEAR flag so
that it will zero the memory before returning you a pointer to it.


Yours, etc etc.
   _Martin_

-----------------------------------------------------------
 Back burners not fully operating.
-----------------------------------------------------------
<sb>*BlackMael*
<sb>UIN 12938250
<sb>Team *AMIGA*
<sb>BF A3 81 72 E8 54 C6 01  F7 EF E7 5C 63 3B CF 37
-----------------------------------------------------------



------------------------------------------------------------------------
Looking for a fun, easy way to stay in touch with family members?
http://www.onelist.com
Create a ONElist community just for your family!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_212" " Re: PointerVariables or variables?? "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-06-99 01:56:04
Subject: @{b}Re: PointerVariables or variables??@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Jan 18, 1978 at 06:44:50PM -0300, Luiz Gustavo Castelan Póvoas wrote:
> From: Luiz Gustavo Castelan =?iso-8859-1?Q?P=F3voas?= <lpovoas@zaz.com.br>
> 
>     Hello, I would like to know which of the following code segments are
> more recomendable
> to amiga programming:
> 
>     Code1:
>         struct NewGadget ng;
>         ng.ng_Width = 21; .......
>         glist = CreateGadget(KIND,glist,&ng,TAG_END);
>         glist->Nextgadget = CreateGadget(Kind,glist,&ng,Tahend....)
> 
> 
>     Code2:
>         struct Newgadget *ng; 
>         ng = (struct NewGadget*) Allocmem();
>         blablablah;
>         Freemem(ng,sizeof(newGadget);
> 
> of course this is pseudocode, but which of them is better?? or Clean??

For small objects (not in the OOP sense) that aren't needed beyond the
end of a function or block, use automatic variables (like in Code1),
which go on the stack.  For large or variable-size objects, or objects
that need to exist outside the function or block they are created in,
use dynamic allocation (like in Code2).

These rules aren't Amiga-specific, though Unix and Windows let you get
away with putting a lot more on the stack because they can do
stack-extension safely.  (Amiga compilers can generate stack-checking
code, but this doesn't guarantee that there will be enough stack space
for the external functions you call.)

It's generally not necessary to use AllocMem - pools let you allocate
and free memory more quickly, and they result in less memory
fragmentation.

> I dont use pointers and AllocMem that much on my programs, and I always get
> some garbage
> on the ram, would that problem be reduced by using Alloc/FreeMem()?

That problem would be reduced by writing correct code.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
The possibilities are endless!
http://www.onelist.com
ONElist has something for everyone!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_213" " printf and stuff "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-04-99 06:03:50
Subject: @{b}printf and stuff@{ub}

From: Linus McCabe <sparkle@hehe.com>


I'd like to thank those who cleared out my %c printf problem.
Also I wonder if anyone could resend me (privately) the mail where someone
explained how to turn a gadget into the windows drag-gadget. Stupid me
erased it my mistake :/

/Linus

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

If there is a god.... 
    It's gotta be Neil Young!



------------------------------------------------------------------------
With more than 14 million emails exchanged monthly.
http://www.ONElist.com
ONElist is truly helping connect the world!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_214" " Re: printf and stuff "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-06-99 22:30:46
Subject: @{b}Re: printf and stuff@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

I was bored but Linus McCabe said something I can't just forget about!
> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> I'd like to thank those who cleared out my %c printf problem.
> Also I wonder if anyone could resend me (privately) the mail where someone
> explained how to turn a gadget into the windows drag-gadget. Stupid me
> erased it my mistake :/

Check the mail archive on http://www.onelist.com for old e-mails. 
There's also a file area to upload filesfor others to access - could
be useful!

Dinky do,


Mike C.

-----------------------------------------------------------
.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD&HD FD,5 CD-ROMS,CDRW,EZ135,  \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_ v_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

------------------------------------------------------------------------
Wanting to get back in touch with old friends?
http://www.onelist.com
Reunite through a ONElist community.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_215" " printf code "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-02-99 13:47:09
Subject: @{b}printf code@{ub}

From: Linus McCabe <sparkle@hehe.com>


I must be wrong, but I recall the printf code %c to print out the ascii
character of the given variable.

KPrintF("%c\n", 65);

would then print an 'A'.

But this does not work. What is the correct code to print chars??

/Linus

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

I am not what you think I am, I am so much less than that



------------------------------------------------------------------------
Has ONElist changed your life?
http://www.ONElist.com
Visit our homepage and share with us your experiences at ONElist of the Week!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_216" " Re: printf code "
From: John Niclasen <Niclasen@bigfoot.com>
Date: 05-02-99 23:34:48
Subject: @{b}Re: printf code@{ub}

From: John Niclasen <Niclasen@bigfoot.com>

Hi Linus!

On 02-May-99, Linus McCabe wrote:
> I must be wrong, but I recall the printf code %c to
> print out the ascii character of the given variable.
> 
> KPrintF("%c\n", 65);
> 
> would then print an 'A'.
> 
> But this does not work. What is the correct code to
> print chars??

printf("%c\n", 65);
prints an 'A' here, so it must be your KPrintF function.

Bye
John.


------------------------------------------------------------------------
Share the wealth!
http://www.ONElist.com
Tell a friend about ONElist's 130,000 free e-mail communities!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_217" " Re: printf code "
From: Stephen Williams <sw@nysa.u-net.com>
Date: 05-03-99 12:14:10
Subject: @{b}Re: printf code@{ub}

From: Stephen Williams <sw@nysa.u-net.com>

Linus McCabe <sparkle@hehe.com> wrote:
> I must be wrong, but I recall the printf code %c to print out the ascii
> character of the given variable.
> 
> KPrintF("%c\n", 65);
> 
> would then print an 'A'.
> 
> But this does not work. What is the correct code to print chars??

If it's anything like dos.library Printf(), it operates on 16-bit
operands by default.  Your char is being passed as a 32-bit operand.
Try

  KPrintf("%lc\n", 65);

You need to do this with dos.library Printf() as well.

-Stephen



------------------------------------------------------------------------
Congratulations to TOWERSHIGH, our latest ONElist of the Week.  
http://www.onelist.com
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_218" " Re: printf code "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-03-99 19:55:47
Subject: @{b}Re: printf code@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, May 02, 1999 at 11:34:48PM +0100, John Niclasen wrote:
> From: John Niclasen <Niclasen@bigfoot.com>
> 
> Hi Linus!
> 
> On 02-May-99, Linus McCabe wrote:
> > I must be wrong, but I recall the printf code %c to
> > print out the ascii character of the given variable.
> > 
> > KPrintF("%c\n", 65);
> > 
> > would then print an 'A'.
> > 
> > But this does not work. What is the correct code to
> > print chars??
> 
> printf("%c\n", 65);
> prints an 'A' here, so it must be your KPrintF function.

KPrintF is possibly using exec's RawDoFmt.  That assumes use of 16-bit
ints, whereas virtually all Amiga C compilers use 32-bit ints.  This
means you must always put an `l' before format codes `c', `d', `o',
`u', and `x'.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
Looking for the perfect gift for a friend?
http://www.onelist.com
Tell them about ONElist's 130,000 free e-mail communities!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_219" " printf() "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-03-99 22:20:52
Subject: @{b}printf()@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

Hi,

is it okay to use something like this?

printf("Test1", "Test2");

I have two Messages which should use the same printf Statement.
The first contains the %s while the second doesn't have it.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Error #0526: Coffee.sys failure. Please remove CD-ROM from Cup Holder.


------------------------------------------------------------------------
ONElist:  Where Star Wars fans unite!
http://www.onelist.com
Find your Star Wars list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_220" " Re: printf() "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-04-99 02:26:11
Subject: @{b}Re: printf()@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, May 03, 1999 at 11:20:52PM +0200, Christian Hattemer wrote:
> From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>
> 
> Hi,
> 
> is it okay to use something like this?
> 
> printf("Test1", "Test2");
> 
> I have two Messages which should use the same printf Statement.
> The first contains the %s while the second doesn't have it.

This will work on most systems, but I don't know whether it will work
on *all* of them - it may not be totally portable.

Some C implementations might conceivably end up with the stack pointer
set wrongly if the called function does not read all the arguments
given to it (using va_start, va_arg, va_end).

Does anyone have a copy of the C standard?  If not, I could look this
up in the copy at work.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
The possibilities are endless!
http://www.onelist.com
ONElist has something for everyone!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_221" " Re: printf() "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-08-99 00:32:57
Subject: @{b}Re: printf()@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, May 03, 1999 at 11:20:52PM +0200, Christian Hattemer wrote:
> From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>
> 
> Hi,
> 
> is it okay to use something like this?
> 
> printf("Test1", "Test2");
<snip>

I've checked a copy of the ANSI C standard now, and there's nothing
there about supplying more variable arguments than the called
function looks at.  So I conclude that there is nothing wrong with
doing this.

(Also, consider the case where printf fails due to an error in writing
to stdout before it has finished reading the arguments.  It must be
able to return safely without looking at all of them.)

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_222" " Re: printf() "
From: "Richard F. Smit" <derick@rfsmit.freeserve.co.uk>
Date: 05-08-99 11:15:25
Subject: @{b}Re: printf()@{ub}

From: "Richard F. Smit" <derick@rfsmit.freeserve.co.uk>

Hi

On Sat, 8 May 1999, Ben Hutchings wrote about Re: printf()
> On Mon, May 03, 1999 at 11:20:52PM +0200, Christian Hattemer wrote:
> > is it okay to use something like this?
> > 
> > printf("Test1", "Test2");
> <snip>
> 
> I've checked a copy of the ANSI C standard now, and there's nothing
> there about supplying more variable arguments than the called
> function looks at.  So I conclude that there is nothing wrong with
> doing this.

True, there's nothing wrong with it, but it won't print the second
string, right? I may be missing the point, but is this what you
wanted, Christian? If so, just miss out the comma, because 
whitespace separated string constants are concatenated at compile
time. If the strings are variables, you'll need to use printf()'s '%s'
placeholder.

"Test1" "Test2" becomes "Test1Test2". This is handy when you have a
banner message to print:

printf("Welcome\n" /* only whitespace and comments between strings */
       "~~~~~~~\n\n") ;

Using %s:

char stringvar1[] = "Test1" ;
char stringvar2[] = "Test2" ;
printf("%s%s", "Test1", "Test2") ;
printf("%s%s", stringvar1, stringvar2) ;

Cheers,
Derick.

------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_223" " Re: printf() "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-11-99 20:42:13
Subject: @{b}Re: printf()@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 08-Mai-99 Richard F. Smit wrote:

>>> printf("Test1", "Test2");
>> 
>> I've checked a copy of the ANSI C standard now, and there's nothing
>> there about supplying more variable arguments than the called
>> function looks at.  So I conclude that there is nothing wrong with
>> doing this.

> True, there's nothing wrong with it, but it won't print the second

Some People (not only Ben, also some People on IRC) told me it wouldn't be a
too good Idea. What about that?

> string, right? I may be missing the point, but is this what you
> wanted, Christian? If so, just miss out the comma, because 

This is what I wanted. I have two Errormessages which should use the same
printf statement (actually sprintf inside a MUI_Request()), but only one of
the Messages has the %s while the second String is specified always.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Windows: engl. 'Windeier'


------------------------------------------------------------------------
Got an opinion?
http://www.onelist.com
Make it count!  Sign up for the ONElist Weekly Survey now.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_224" " Re: printf() "
From: "Richard F. Smit" <derick@rfsmit.freeserve.co.uk>
Date: 05-12-99 11:23:43
Subject: @{b}Re: printf()@{ub}

From: "Richard F. Smit" <derick@rfsmit.freeserve.co.uk>

The subject was Re: [amiga-c] printf(), and Christian Hattemer said:
> From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>
> 
> On 08-Mai-99 Richard F. Smit wrote:
> 
> >>> printf("Test1", "Test2");
> >> 
> >> I've checked a copy of the ANSI C standard now, and there's nothing
> >> there about supplying more variable arguments than the called
> >> function looks at.  So I conclude that there is nothing wrong with
> >> doing this.
> 
> > True, there's nothing wrong with it, but it won't print the second
> 
> Some People (not only Ben, also some People on IRC) told me it wouldn't be a
> too good Idea. What about that?
> 
> > string, right? I may be missing the point, but is this what you
> > wanted, Christian? If so, just miss out the comma, because 
> 
> This is what I wanted. I have two Errormessages which should use the same
> printf statement (actually sprintf inside a MUI_Request()), but only one of
> the Messages has the %s while the second String is specified always.
> 

Um... printf() and its siblings only care if you give 'em less
arguments than the format string specifies. I can't imagine any
problem with giving too many. Especially in this case - if it's the
most concise form, go for it!


-----------------------------------------------------------
cheers,
Derick.


------------------------------------------------------------------------
The Final Countdown is here!
http://www.ONElist.com
Join the "Star Wars" craze at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_225" " Progress bar image class "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-08-99 00:48:11
Subject: @{b}Progress bar image class@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

I want to create a progress bar image class for my Format replacement,
just like the one in Format v 40.  I can see that this is based on
frameiclass, since it is affected by MCP's frameihack.  So I suppose
that I can make a subclass of frameihack and render a progress bar
over the interior of the image area.

However, there are problems with this:
(1) I've never done a BOOPSI class before, and I don't have any complete
    examples of an image class.
(2) I think that I have to know how thick the frame that frameiclass
    draws is.  I don't know how to find that out - and the official
    documentation of frameiclass is useless.

I suspect that creating a subclass is doing this the wrong way, and
that it might be better to create an image class whose instances
contain pointers to a separate frameiclass object.

Or I could just render the frame myself, which might be a lot easier.
But that makes me wonder what the use of frameiclass is?

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
Join the Star Wars craze!
http://www.onelist.com
Set up your Star Wars list at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_226" " RastPorts and BitMaps and CyberGFX "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-18-99 12:36:02
Subject: @{b}RastPorts and BitMaps and CyberGFX@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>


   Hi All,
      Can anyone tell me what is wrong with this code fragment:

   InitRastPort(&rPort);

   bitMap=AllocBitMap(64,64,15,0,friendBM);
   rPort.BitMap=bitMap;


   WriteRGBPixel(&rPort,x,y,rgb);

   I`m sure it`s okay but the WriteRGBPixel does nothing. It still returns 0
for success but no actual writing occurs. If I substitute another rastport in
that line (like a screen->RastPort) it works okay so it must be something in
the set up of the rastport.bitmap. What though?

   Help!
   

-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_227" " Re: RastPorts and BitMaps and CyberGFX "
From: ROBERT MEYERS <meyersrl@songs.sce.com>
Date: 05-18-99 12:48:35
Subject: @{b}Re: RastPorts and BitMaps and CyberGFX@{ub}

From: "ROBERT MEYERS"<meyersrl@songs.sce.com>

From: Tim Hanson <msinister@connectfree.co.uk>
     
   Hi All,
      Can anyone tell me what is wrong with this code fragment:
     
   InitRastPort(&rPort);
     
   bitMap=AllocBitMap(64,64,15,0,friendBM); 
   rPort.BitMap=bitMap;
     
   WriteRGBPixel(&rPort,x,y,rgb);
     
   I`m sure it`s okay but the WriteRGBPixel does nothing. It still returns 0
for success but no actual writing occurs. If I substitute another rastport in 
that line (like a screen->RastPort) it works okay so it must be something in 
the set up of the rastport.bitmap. What though?
     

Not seeing the rest of the declarations, my *guess* would be that it's 
related to this note in the CGX autodoc for WriteRGBPixel():

   NOTES
        This function should only be used on screens depths > 8 bits. Use
        WritePixel() on 8 bit screens!

Also, the friendBM variable should be a (struct BitMap *). I'm sure it is, 
you just didn't list it.

>From the Graphics Autodoc:
======================================================================
Good arguments to pass for the friend_bitmap are your window's
RPort->BitMap, and your screen's RastPort->BitMap.
Do NOT pass &(screenptr->BitMap)!

BitMaps not allocated with BMF_DISPLAYABLE may not be used as
Intuition Custom BitMaps or as RasInfo->BitMaps.  They may be blitted
to a BMF_DISPLAYABLE BitMap, using one of the BltBitMap() family of
functions.
======================================================================



In addition, you may want to check your flags in the AllocBitMap() call.
>From the NDK3.1 gfx.h file:

========================================================================
struct BitMap
{
    UWORD   BytesPerRow;
    UWORD   Rows;
    UBYTE   Flags;
    UBYTE   Depth;
    UWORD   pad;
    PLANEPTR Planes[8];
};
     
/* flags for AllocBitMap, etc. */
#define BMB_CLEAR 0
#define BMB_DISPLAYABLE 1
#define BMB_INTERLEAVED 2
#define BMB_STANDARD 3
#define BMB_MINPLANES 4

#define BMF_CLEAR (1l<<BMB_CLEAR)
#define BMF_DISPLAYABLE (1l<<BMB_DISPLAYABLE)
#define BMF_INTERLEAVED (1l<<BMB_INTERLEAVED)
#define BMF_STANDARD (1l<<BMB_STANDARD)
#define BMF_MINPLANES (1l<<BMB_MINPLANES)

========================================================================

Bob Meyers


------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_228" " Re: RastPorts and BitMaps and CyberGFX "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-19-99 00:16:35
Subject: @{b}Re: RastPorts and BitMaps and CyberGFX@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

ROBERT MEYERS" discovered that the date was 18-May-99 and wrote about Re:
[amiga-c] RastPorts and BitMaps and CyberGFX 
 Watcha ROBERT
->From: "ROBERT MEYERS"<meyersrl@songs.sce.com>
->   InitRastPort(&rPort);
->     
->   bitMap=AllocBitMap(64,64,15,0,friendBM); 
->   rPort.BitMap=bitMap;
->     
->   WriteRGBPixel(&rPort,x,y,rgb);
->     
->Not seeing the rest of the declarations, my *guess* would be that it's 
->related to this note in the CGX autodoc for WriteRGBPixel():
->     
->/* flags for AllocBitMap, etc. */
->#define BMB_CLEAR 0
->#define BMB_DISPLAYABLE 1
->#define BMB_INTERLEAVED 2
->#define BMB_STANDARD 3
->#define BMB_MINPLANES 4

->#define BMF_CLEAR (1l<<BMB_CLEAR)
->#define BMF_DISPLAYABLE (1l<<BMB_DISPLAYABLE)
->#define BMF_INTERLEAVED (1l<<BMB_INTERLEAVED)
->#define BMF_STANDARD (1l<<BMB_STANDARD)
->#define BMF_MINPLANES (1l<<BMB_MINPLANES)

   I was just about to write back to thank you for your guess but say it was
no help when I looked at this bit and thought: theres some flags I haven`t
tried. It was BMF_MINPLANES that did the trick. Cheers mate.

-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_229" " remapping datatype pictures "
From: Bob Lanham <BobL@leading.net>
Date: 05-22-99 14:10:33
Subject: @{b}remapping datatype pictures@{ub}

From: Bob Lanham <BobL@leading.net>

> 
> I have several ILBM pictures with different colour palettes I want
> remapped to a fixed Screen ColorMap.  I've tried using the
> PDTA_ColorMap, etc. tags but the lack of good documenation makes things
> very difficult.
> 
> Thanks,
>  Steven Solie

This code will remap it to your screen's colors.  But it may not be
what you need, because the default remapping does some heavy ordered
dithering.

/****************************************************************/
void LoadPic(char *filename)
{
    Object *mypic=NULL;
    ULONG w,h;

    if(mypic = NewDTObject(filename,
        DTA_SourceType,        DTST_FILE,   /* source is a file */
        DTA_GroupID,           GID_PICTURE, /* must be a picture */
        PDTA_Remap,            TRUE,        /* remap is TRUE by default
*/
        PDTA_Screen,           screen1,     /* screen to remap to */
        TAG_DONE))
        {

        /* get attributes we are interested in */
        GetDTAttrs(mypic,
            DTA_NominalHoriz,  &w,
            DTA_NominalVert,   &h,
            TAG_DONE);

        /* here you would open a window, or resize an existing one */

        /* set the attributes of our datatype object*/
        SetDTAttrs(mypic,NULL,NULL,
            GA_Left,    window1->BorderLeft,
            GA_Top,     window1->BorderTop,
            GA_Width,   w,
            GA_Height,  h,
            TAG_DONE);

        AddDTObject(window1,NULL,mypic,-1);
        Delay(10); /* Delay probably not the best way to wait. */
        RefreshDTObjects(mypic,window1,NULL,NULL);
        RemoveDTObject(window1,mypic);
        }
    DisposeDTObject(mypic);
}
/****************************************************************/

------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_230" " RunCommand "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-07-99 01:53:29
Subject: @{b}RunCommand@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Hi all,

I'm banging me head with this RunCommand in dos.library.

I've read the autodocs and can't understand what it really, really
wants.

My code has a string init like so for this example:

command[] = "list sort=name";

I then find out how many arguments are in string using a custom
function (is there a proper AmigaDOS function call?).  It basically
counts the spaces and returns value into my variable 'argcount';

I then call the function in dos.library like so:

RunCommand(xxx, ssize, command, argcount);

But don't know what is expected as the first parameter as nothing
seems to work:(  It requires a BPTR seglist.  So do I use LoadSeg or
InternalLoadSeg?  And what do these functions actually do?

The purpose of the above code is to launch an executable with a set
stacksize.  Am I on the right tracks??

Regards,

M!ke C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Join the Star Wars craze!
http://www.onelist.com
Set up your Star Wars list at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_231" " Re: RunCommand "
From: BlackMael <harrism@ihug.co.nz>
Date: 05-08-99 02:25:26
Subject: @{b}Re: RunCommand@{ub}

From: BlackMael <harrism@ihug.co.nz>

Greetings and Salutations, Mike.

On 07-May-99, *Mike* was saying...

> I'm banging me head with this RunCommand in dos.library.
> I've read the autodocs and can't understand what it really, really
> wants.

Maybe I can shed a little light on the matter for you.

> My code has a string init like so for this example:

> command[] = "list sort=name";

For RunCommand() you supply a string of the arguments you want to pass to
the command you want to run. So...

argsort[] = "sort=name";

Hmm.. Or is it suppose to be...

char *argsort = "sort=name";

...is any case, the string is "sort=name"

> I then find out how many arguments are in string using a custom
> function (is there a proper AmigaDOS function call?).  It basically
> counts the spaces and returns value into my variable 'argcount';

You don't need to know the argcount for RunCommand(). You don't need to know
the number of arguments your passing to the command.

> I then call the function in dos.library like so:

> RunCommand(xxx, ssize, command, argcount);

The synopsis for RunCommand()...

rc = RunCommand( seglist, stacksize, argptr, argsize)

the inputs of this command are.. the seglist of the command you want to run,
the stacksize for the command, a pointer to the string of argument for the
command, and the size of that string.

> But don't know what is expected as the first parameter as nothing
> seems to work:(  It requires a BPTR seglist.  So do I use LoadSeg or
> InternalLoadSeg?  And what do these functions actually do?

Yessiree. *LoadSeg() loads an executable file into memory and sorts out all
the relocatable references in the code so they point to where they should.
 
> The purpose of the above code is to launch an executable with a set
> stacksize.  Am I on the right tracks??

Yep. Its just you were trying to pass the number of args (including the name
of the command), instead of the size of the string of arguments.

So for a brief snippet of an example..


 BPTR seglist;
 char *commandname = "C:list";        // Or whatever command your have
 char *argstring = "sort=name";       // The arguments to give the command
 LONG rc;                             // The RETURN CODE from command

   seglist = LoadSeg( commandname);
   if (seglist)
   {
      rc = RunCommand( seglist, 4096, argstring, strlen( argstring));
      UnLoadSeg( seglist);
   }


Also, you may want to check other similar functions such as Execute(),
System(), and SystemTagsList(), and maybe even CreateNewProc().


Yours, etc etc.
   _Martin_

-----------------------------------------------------------
"Mulder, if this is monkey pee, you're on your own." - Scully
-----------------------------------------------------------
<sb>*BlackMael*
<sb>UIN 12938250
<sb>Team *AMIGA*
<sb>BF A3 81 72 E8 54 C6 01  F7 EF E7 5C 63 3B CF 37
-----------------------------------------------------------



------------------------------------------------------------------------
The possibilities are endless!
http://www.onelist.com
ONElist has something for everyone!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_232" " Re: SAS-C GST "
From: BlackMael <harrism@ihug.co.nz>
Date: 05-01-99 01:28:18
Subject: @{b}Re: SAS-C GST@{ub}

From: BlackMael <harrism@ihug.co.nz>

Greetings and Salutations, Mike.

On 01-May-99, *Mike* was saying...

> What is the GST?  Is it a way of compiling all the most used includes
> into a single file for faster file access?

*G*lobal *S*ymbol *T*able. Precompiles any includes you happen to# #include when
you make a GST file. For example, check out sc:source/all.c


Yours, etc etc.
   _Martin_

-----------------------------------------------------------
A banana, some chocolate syrup, and thou.
-----------------------------------------------------------
<sb>*BlackMael*
<sb>UIN 12938250
<sb>Team *AMIGA*
<sb>BF A3 81 72 E8 54 C6 01  F7 EF E7 5C 63 3B CF 37
-----------------------------------------------------------



------------------------------------------------------------------------
Did you know that you can now set up a shared calendar to
post events of interest to your community?
http://www.onelist.com
Check out our homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_233" " Saving tooltypes? "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 05-06-99 22:19:41
Subject: @{b}Saving tooltypes?@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hi,
I need your help. I'm currently writing an amiga clock that displays the
Swatch internet time, maybe you heard of this. I have a problem, I have a
tooltype called "TIMEOFFSET=" and a LONG variable offset that contains, lets
assume "-1", the problem is, how can I paste these two things togehter and
how do I save it as tooltype. With PutDiskObject()? How do I fill out the
DiskObject structure with my new values? Can you help me?

Cu,
-----------------------------------------------------------
Yves Grabowsky
*ICQ:* 18762984
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!


------------------------------------------------------------------------
Looking for a fun, easy way to stay in touch with family members?
http://www.onelist.com
Create a ONElist community just for your family!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_234" " Re: Serial device troubles "
From: Jonas Hulten <bjonte@hem2.passagen.se>
Date: 05-01-99 19:32:30
Subject: @{b}Re: Serial device troubles@{ub}

From: Jonas Hulten <bjonte@hem2.passagen.se>

Den 30-Apr-99, skrev BlackMael:

>>> What then do you use as a timing source for 64bit accuracy? Does a SMF
>>> allow 64bit timestamps?

>> E-clock. What is SMF?

> A Standard Midi File - The standard file format for MIDI compositions.

Oh, you mean THAT file format. No, actually it uses at most 28 bits to store
timestamps. I have to use a new format to store music without loss.

/Jonas

-----------------------------------------------------------
0 "MEAT IS MURDER  " GRRRL
48   "JETPAC"           PRG
20   "JELLY MONSTERS"   PRG
32   "µBEE"             REL
42   "VECTREX"          REL
604  "A4000"            L?<
64 BLOCKS FREE.


------------------------------------------------------------------------
Has ONElist changed your life?
http://www.ONElist.com
Visit our homepage and share with us your experiences at ONElist of the Week!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_235" " Re: Serial port speed "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-01-99 02:07:16
Subject: @{b}Re: Serial port speed@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

I was bored but Zubin Sethna said something I can't just forget about!
> From: Zubin Sethna <nbsethna@zeta.org.au>
> 
> Hi all
> 
> I'm wondering what speeds a standard Amiga serial port can handle? Is it
> possible to reliably transmit and receive characters at speeds of 115200
> bits/second on a fast Amiga (060 @ 50Mhz)?

Yes.  This is what I use to connect to the internet all the time.

Dinky do,

Mike C
-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
Available to discuss programming on weekends -> ICQ: 29173597

------------------------------------------------------------------------
Are you hogging all the fun?
http://www.ONElist.com
Friends tell friends about ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_236" " Re: Serial port speed "
From: Stephan Lichtendahl <S.E.M.Lichtendahl@ITS.TUDelft.NL>
Date: 05-01-99 17:35:26
Subject: @{b}Re: Serial port speed@{ub}

From: Stephan Lichtendahl <S.E.M.Lichtendahl@ITS.TUDelft.NL>

> 
> I'm wondering what speeds a standard Amiga serial port can handle? Is it
> possible to reliably transmit and receive characters at speeds of 115200
> bits/second on a fast Amiga (060 @ 50Mhz)?

It maybe is possible with a good serial driver (like the internal one
of Miami), but remember the standard serial port has no buffer, so for
every byte send or received the OS is interrupted and sometimes isn't
fast enough to handle the data. At the least the standard serial port
consumes very much CPU time, where a better serial port
(Hypercomm/IOBlix) hardly consumes any CPU time at all.
(my Hypercomm just broke down, so I notice the difference)...


--
Greetinx, Stephan.            http://elektron.et.tudelft.nl/~stephanl
Amiga 1200 with 166MHz PowerPC, Permedia2 Gfx, 34MB Mem, 2GB HD, ISDN
 We are Windows of Borg. Speed is irrelevant, reliability is futile.

------------------------------------------------------------------------
Attention small business owners:
http://www.onelist.com
Did you know that ONElist is a great way for small business owners
to stay in touch with their customers?
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_237" " Re: Serial port speed "
From: Dominic Clifton <hydrasmail@usa.net>
Date: 05-04-99 17:59:00
Subject: @{b}Re: Serial port speed@{ub}

From: Dominic Clifton <hydrasmail@usa.net>

> From: Zubin Sethna <nbsethna@zeta.org.au>
> 
> Hi all
> 
> I'm wondering what speeds a standard Amiga serial port can handle? Is it
> possible to reliably transmit and receive characters at speeds of 115200
> bits/second on a fast Amiga (060 @ 50Mhz)?

depends...

If you've got a GFX card then the serial port can hog the DMA usage
instead of having to fight with a AGA chipset..

Also, on my A4000T/060/50/PPC/604+/233 I couldn't x-fer about 38400 to my
digital camera until I quit VirusChecker (latest version..)  

Weird huh!

Dom


------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_238" " Sound libraries "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-19-99 19:53:36
Subject: @{b}Sound libraries@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

What is the best library to use when playing tracker modules in 'C'? 
I have got ptreplay.library, player61.library, playsid.library,
medplayer.library, octamixplayer.library, octaplayer.library,
THXplay.library all hiding on my HDD.  Is there a library that covers
all these and saves the hassle of interfacing withthem all
individually??  And what *is* the difference between all them octaMED
libraries?  As you may guess I'm not an expert in the music area - I
just want to support as much as possible in a new funcky player
comming your way in the future.  Skin compatible (not AMP though).

Anybody know what 'dbplayer.library' is thats on my HDD? :)

Lastly...
Which is best for interfacing with a CD-ROM to play the discs?
I have the following libraries:

cdplay
cdplayer
atapiplayer

Hmm??!?!  I've yet to get developer docs but maybe somebody can
recommend the most reliable and compatible to use?

I look forward to some explinations!!!

Dinky do,



Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
What was YOUR favorite part?!
http://www.onelist.com
Tell other Star Wars fans at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_239" " Re: Sound libraries "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-22-99 02:44:48
Subject: @{b}Re: Sound libraries@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, May 19, 1999 at 07:53:36PM +0100, Mike Carter wrote:
> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> What is the best library to use when playing tracker modules in 'C'? 
> I have got ptreplay.library, player61.library, playsid.library,
> medplayer.library, octamixplayer.library, octaplayer.library,
> THXplay.library all hiding on my HDD.  Is there a library that covers
> all these and saves the hassle of interfacing withthem all
> individually??

Ahahahahahaha.  You wish.  These libraries seem to be intended for
playing music for a game or demo; if you want to provide full user
control then you will probably have to customise the code and include
it in your player.  Look at EaglePlayer and Delitracker - they don't
use any of these except playsid.library (which emulates the 6510 and
SID chips, if I remember correctly).

> And what *is* the difference between all them octaMED
> libraries?
<snip>

medplayer.library contains the original 4-channel & MIDI player;
octaplayer.library contains the 5-8-channel mixing player;
octamixplayer.library contains the new more flexible mixing player.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
I haven't lost my mind; it's backed up on tape somewhere.

------------------------------------------------------------------------
With more than 17 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is THE place where the world talks!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_240" " Speech Recognition "
From: John Haubrich <johnh@kc.net>
Date: 05-15-99 16:49:36
Subject: @{b}Speech Recognition@{ub}

From: John Haubrich <johnh@kc.net>

Greetings, Earth Creatures!

FYI
Nuance Communications is releasing its natural-language
speech-recognition source code along with dev tools at
www.speechcentral.com

I'm currently busy on another project but if someone would like to port it
to Amiga, that could be a good thing.


Bye!
John Haubrich
johnh@kc.net
www.kc.net/~johnhkc/


------------------------------------------------------------------------
Star Wars fans are using ONElist to share the fun.
http://www.ONElist.com
Are you?
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_241" " Spreadsheet MUI "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-27-99 16:22:54
Subject: @{b}Spreadsheet MUI@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Today the sun has gone to my head and I started thinking how to
implement a spreadsheet.  Not all the complex maths function stuff -
but just the basic cell sheet.

I asume it would be best to use MUi as opposed to Gadtools.  As yet
I've not tested and ideas but would it be sensible and efficent to
just use a virtual window and fill it's contents with string gadgets? 
Or would this slow down refresh etc?

How does Micro$lop Excel (and TurboCalc I suppose) mange a spreadsheet
as they seem to be of a humungous size in both X and Y directions!

Maybe it would be a better idea to implement a spreadsheet.mcc custom
class so that other applications could embed a spreadsheet into their
own doce!  Taht would be cool... especiallyfor Wordprocessors :) !!

And ideas on how it's done?

Regards,



Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_242" " Re: Spreadsheet MUI "
From: Daniel Schwill <MCDan@t-online.de>
Date: 05-31-99 13:49:42
Subject: @{b}Re: Spreadsheet MUI@{ub}

From: MCDan@t-online.de (Daniel Schwill)

Am 27-Mai-99 schrieb Mike Carter:

>From: "Mike Carter" <mike.carter@bigfoot.com>

>Today the sun has gone to my head and I started thinking how to
>implement a spreadsheet.  Not all the complex maths function stuff -
>but just the basic cell sheet.

>I asume it would be best to use MUi as opposed to Gadtools.  As yet
>I've not tested and ideas but would it be sensible and efficent to
>just use a virtual window and fill it's contents with string gadgets? 
>Or would this slow down refresh etc?

>How does Micro$lop Excel (and TurboCalc I suppose) mange a spreadsheet
>as they seem to be of a humungous size in both X and Y directions!

>Maybe it would be a better idea to implement a spreadsheet.mcc custom
>class so that other applications could embed a spreadsheet into their
>own doce!  Taht would be cool... especiallyfor Wordprocessors :) !!

>And ideas on how it's done?

I have started a spreadsheet.mcc some time ago, but the
development is on hold, because I had problems with zooming.
Zooming the cells is not a real problem, but zooming text seems
to be unsolvable with the current amigaos font engine.

If someone know a good font engine which allow zooming I will
continue the development of spreadsheet.mcc.

>Regards,

>Mike C.

BTW: I have replied this mail to the MUI mailing list, too!

Bye.

   Dan.


------------------------------------------------------------------------
ONElist:  bringing the world together.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_243" " Re: StormC vs SAS/C, exe file size "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-01-99 02:04:30
Subject: @{b}Re: StormC vs SAS/C, exe file size@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

I was bored but TigerGutt said something I can't just forget about!
> From: TigerGutt <warewulf@geocities.com>
> 
> Anyone have a good tips for how to setup StormC to create smaller exe
> files.
> I'm just learing basic prinf() stuff.

Use Printf() with capital 'P.  It made my exes in SAS-C a lot smaller
by removing the need for stdio.h because it uses ROm call.

Dinky do,


Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
Available to discuss programming on weekends -> ICQ: 29173597

------------------------------------------------------------------------
Attention small business owners:
http://www.onelist.com
Did you know that ONElist is a great way for small business owners
to stay in touch with their customers?
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_244" " Re: StormC vs SAS/C, exe file size "
From: Stephen Williams <sw@nysa.u-net.com>
Date: 05-01-99 12:05:18
Subject: @{b}Re: StormC vs SAS/C, exe file size@{ub}

From: Stephen Williams <sw@nysa.u-net.com>

>> Anyone have a good tips for how to setup StormC to create smaller exe
>> files.  I'm just learing basic prinf() stuff.
> 
> Use Printf() with capital 'P.  It made my exes in SAS-C a lot smaller
> by removing the need for stdio.h because it uses ROm call.

Excellent advice, I do that as well :-)  Two points though:

1/  Printf() can't print floating-point numbers, only integers.
2/  Printf() was added in dos.library V36.  If you need compatibility
    with AmigaOS 1.x for any reason, you can't use it.  This is
    unlikely to be a concern though, these days :-)

-Stephen



------------------------------------------------------------------------
Tired of empty chat rooms and out of date bulletin boards?
http://www.ONElist.com 
ONElist: Making the Internet Intimate
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_245" " Re: StormC vs SAS/C, exe file size "
From: Stephen Williams <sw@nysa.u-net.com>
Date: 05-01-99 12:08:35
Subject: @{b}Re: StormC vs SAS/C, exe file size@{ub}

From: Stephen Williams <sw@nysa.u-net.com>

>> Anyone have a good tips for how to setup StormC to create smaller exe
>> files.  I'm just learing basic prinf() stuff.

> Additionaly you could set near Code/Data in the compiler Options.
> This is only possible for small Progs and may lead to Problems on exit due
> to a Bug in stormamiga.lib, use far Code/Data then.

I've not used Storm C, but I would imagine that this bug is a
near data problem.  If you encounter it, try disabling near data
but leave near code on.  All near code does is do program-counter
relative jumps instead of absolute jumps.  (If you didn't understand
that then don't worry, all it means is that jumps are specified
relative to their position rather than to an absolute address in
the program; this makes them smaller and faster).

-Stephen



------------------------------------------------------------------------
What does Public Radio's "Ask Dr. Science Show" know that you don't...?
http://www.onelist.com
...That ONElist hosts the largest free e-mail lists on the Internet today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_246" " Re: StormC vs SAS/C, exe file size "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-02-99 20:45:24
Subject: @{b}Re: StormC vs SAS/C, exe file size@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 01-Mai-99 Stephen Williams wrote:

>>> Anyone have a good tips for how to setup StormC to create smaller exe
>>> files.  I'm just learing basic prinf() stuff.
>> 
>> Use Printf() with capital 'P.  It made my exes in SAS-C a lot smaller
>> by removing the need for stdio.h because it uses ROm call.

> Excellent advice, I do that as well :-)  Two points though:

Third Point: To keep your Programm portable use

#define printf Printf

and write printf() in your Source. This way you can easily go back to
stdio.h, if you want.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Just got a new car for my wife.... Great Trade!


------------------------------------------------------------------------
What does Public Radio's "Ask Dr. Science Show" know that you don't...?
http://www.onelist.com
...That ONElist hosts the largest free e-mail lists on the Internet today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_247" " Re: StormC vs SAS/C, exe file size "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-03-99 17:12:34
Subject: @{b}Re: StormC vs SAS/C, exe file size@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

I was bored but Christian Hattemer said something I can't just forget about!

> >> Use Printf() with capital 'P.  It made my exes in SAS-C a lot smaller
> >> by removing the need for stdio.h because it uses ROm call.
> Third Point: To keep your Programm portable use
> 
> #define printf Printf
> 
> and write printf() in your Source. This way you can easily go back to
> stdio.h, if you want.

Clever tip!  Anybody keeping arecord of all the decent mails.  Maybe
we could put them into an Amiga Guide like they do for Blitz, AMOS and
E mailing lists.  Not sure if Onelist keeps an archive anyway??

Dinky do,


Mike.

-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
Available to discuss programming on weekends -> ICQ: 29173597


------------------------------------------------------------------------
Have you visited the new ONElist home page lately?
http://www.ONElist.com
ONElist: The Leading e-mail list and community service on the Internet!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_248" " Re: StormC vs SAS/C, exe file size "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-03-99 20:01:05
Subject: @{b}Re: StormC vs SAS/C, exe file size@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, May 02, 1999 at 09:45:24PM +0200, Christian Hattemer wrote:
> From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>
> 
> On 01-Mai-99 Stephen Williams wrote:
> 
> >>> Anyone have a good tips for how to setup StormC to create smaller exe
> >>> files.  I'm just learing basic prinf() stuff.
> >> 
> >> Use Printf() with capital 'P.  It made my exes in SAS-C a lot smaller
> >> by removing the need for stdio.h because it uses ROm call.
> 
> > Excellent advice, I do that as well :-)  Two points though:
> 
> Third Point: To keep your Programm portable use
> 
> #define printf Printf
> 
> and write printf() in your Source. This way you can easily go back to
> stdio.h, if you want.

No, that won't work.  Printf is very restricted and does not support
ints correctly.  If you need portability, use the real printf.  If you
don't, feel free to use Printf.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
You can now easily share photos and documents with your fellow list members
http://www.ONElist.com
Check out our homepage for details on how to use our new shared files feature!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_249" " SystemTags() "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-20-99 01:45:30
Subject: @{b}SystemTags()@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Executing an AmigaDOS program... help needed.

When I run a program using the SystemTags function it doesn't seem to
take into account any paths that have been defined.

For example, if I type 'Date' into the CLI it finds and runsthe
command.  However doing the same from within my program produces
nothing - I have to explicitly provide a path 'C:date' in order to get
output.

My code looks like this (extracted from proggy so variables not
defined here):

/*
command = "date"
ssize = 10000
*/

if(seglist = NewLoadSegTags( command, TAG_END ))
                {
                    command[count-1]=' ';             // convert command to one big string;
                    
                    // --- Attempt To Get A Standard Console Output
                    if(fd_con = Open(conname, MODE_NEWFILE))
                    {
                        // --- Spawn A New Process & Run Code
                        SystemTags(command, NP_Seglist, seglist,
                                    NP_FreeSeglist, TRUE,
                                    NP_StackSize, ssize,
                                    NP_Output, fd_con,
                                    SYS_Asynch, NULL, TAG_END);
                        
                        Close(fd_con);
                    }
                }

Have I missed something out?  A TAG maybe?  Please help I'm stuck -
maybe it's possible - because the Workbench Execute Command works
fine.

Ideas or info appreciated :)

Dinky do,


Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
What was YOUR favorite part?!
http://www.onelist.com
Tell other Star Wars fans at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_250" " Re: SystemTags() "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-21-99 22:23:39
Subject: @{b}Re: SystemTags()@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 20 Mike (Mike Carter) wrote:

> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> Executing an AmigaDOS program... help needed.
> 
> When I run a program using the SystemTags function it doesn't seem to
> take into account any paths that have been defined.
> 
> For example, if I type 'Date' into the CLI it finds and runsthe
> command.  However doing the same from within my program produces
> nothing - I have to explicitly provide a path 'C:date' in order to get
> output.
> 
> My code looks like this (extracted from proggy so variables not
> defined here):
> 
> /*
> command = "date"
> ssize = 10000
> */
> 
> if(seglist = NewLoadSegTags( command, TAG_END ))
>                 {
>                     command[count-1]=' ';             // convert command to one big string;
>                     
>                     // --- Attempt To Get A Standard Console Output
>                     if(fd_con = Open(conname, MODE_NEWFILE))
>                     {
>                         // --- Spawn A New Process & Run Code
>                         SystemTags(command, NP_Seglist, seglist,
>                                     NP_FreeSeglist, TRUE,
>                                     NP_StackSize, ssize,
>                                     NP_Output, fd_con,
>                                     SYS_Asynch, NULL, TAG_END);
>                         
>                         Close(fd_con);
>                     }
>                 }
> 
> Have I missed something out?  A TAG maybe?  Please help I'm stuck -
> maybe it's possible - because the Workbench Execute Command works
> fine.

   What a weird way to launch a program ;)  The reason why your program isn't
found unless you provide an absolute path is that NewLoadSegTagList() does not
search the Shell path list. It doesn't have to and would probably be quite a
nuisance if it did. If what you want is just to launch a Shell program, try
this:

    BPTR fhout;

    fhout = Open("CON:0/11//200/Output window/AUTO/WAIT", MODE_NEWFILE);
    if(fhout != ZERO)
    {
        if(SystemTags("date",
            SYS_Input,    fhout,
            SYS_Output,    NULL,
            SYS_Asynch,    TRUE,
            SYS_UserShell,    TRUE,
            NP_StackSize,    ssize,
        TAG_DONE) != 0)
        {
            Close(fhout);
        }
    }

(This is the code Workbench uses).

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
It's finally here!  What's your opinion?
http://www.onelist.com
Create a Star Wars discussion group at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_251" " Re: SystemTags() "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-22-99 02:48:03
Subject: @{b}Re: SystemTags()@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, May 20, 1999 at 01:45:30AM +0100, Mike Carter wrote:
> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> Executing an AmigaDOS program... help needed.
> 
> When I run a program using the SystemTags function it doesn't seem to
> take into account any paths that have been defined.
<snip>

That's probably because they *aren't* defined unless your program is
being run from the CLI.  If you want to use the Workbench's path,
take a look at dospath.library.

DOSPath.lha        util/libs   29K  98+Handle AmigaDOS path lists (V1.0)

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
I haven't lost my mind; it's backed up on tape somewhere.

------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_252" " Re: SystemTags() "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-24-99 01:15:45
Subject: @{b}Re: SystemTags()@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Technically Olaf Barthel was waffling about Re: [amiga-c] SystemTags().  But anyway...

> If what you want is just to launch a Shell program, try
> this:
> 
>     BPTR fhout;
> 
>     fhout = Open("CON:0/11//200/Output window/AUTO/WAIT", MODE_NEWFILE);
>     if(fhout != ZERO)
>     {
>         if(SystemTags("date",
>             SYS_Input,    fhout,
>             SYS_Output,    NULL,
>             SYS_Asynch,    TRUE,
>             SYS_UserShell,    TRUE,
>             NP_StackSize,    ssize,
>         TAG_DONE) != 0)
>         {
>             Close(fhout);
>         }
>     }
> 
> (This is the code Workbench uses).

Thanks this is good but not perfect.  How are CLI command parameters
handled?  Say the command = "list sort=name".  Currently, using the
above routine, I just get a standard list displayed as if the
parameters are not even being looked at.

Regards,



Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_253" " Re: SystemTags() "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-27-99 11:43:10
Subject: @{b}Re: SystemTags()@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 24 Mike (Mike Carter) wrote:

> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> Technically Olaf Barthel was waffling about Re: [amiga-c] SystemTags().  But anyway...
> 
> > If what you want is just to launch a Shell program, try
> > this:
> > 
> >     BPTR fhout;
> > 
> >     fhout = Open("CON:0/11//200/Output window/AUTO/WAIT", MODE_NEWFILE);
> >     if(fhout != ZERO)
> >     {
> >         if(SystemTags("date",
> >             SYS_Input,    fhout,
> >             SYS_Output,    NULL,
> >             SYS_Asynch,    TRUE,
> >             SYS_UserShell,    TRUE,
> >             NP_StackSize,    ssize,
> >         TAG_DONE) != 0)
> >         {
> >             Close(fhout);
> >         }
> >     }
> > 
> > (This is the code Workbench uses).
> 
> Thanks this is good but not perfect.  How are CLI command parameters
> handled?  Say the command = "list sort=name".  Currently, using the
> above routine, I just get a standard list displayed as if the
> parameters are not even being looked at.

   Just replace "date" with "list sort=name".

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_254" " Re: SystemTags() "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-27-99 22:31:55
Subject: @{b}Re: SystemTags()@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Re: [amiga-c] SystemTags() interested me.  Here's some more to think about...

> > Thanks this is good but not perfect.  How are CLI command parameters
> > handled?  Say the command = "list sort=name".  Currently, using the
> > above routine, I just get a standard list displayed as if the
> > parameters are not even being looked at.
> 
>    Just replace "date" with "list sort=name".

that's too obvious!  Anyhow it didn't work.  It just ran list as
normal without sorting.

Dinky do,


Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
It's finally here!  What's your opinion?
http://www.onelist.com
Create a Star Wars discussion group at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_255" " Re: SystemTags() "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-30-99 21:27:25
Subject: @{b}Re: SystemTags()@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 27 Mike (Mike Carter) wrote:

> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> Re: [amiga-c] SystemTags() interested me.  Here's some more to think about...
> 
> > > Thanks this is good but not perfect.  How are CLI command parameters
> > > handled?  Say the command = "list sort=name".  Currently, using the
> > > above routine, I just get a standard list displayed as if the
> > > parameters are not even being looked at.
> > 
> >    Just replace "date" with "list sort=name".
> 
> that's too obvious!

   And it's the way it should work (since this is the code Workbench uses;
what do you get when you enter "list sort=name" in "Execute Command..."?)

> Anyhow it didn't work.  It just ran list as
> normal without sorting.

   Then there must be a different reason.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 150,000 e-mail communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_256" " Re: SystemTags() "
From: BlackMael <harrism@ihug.co.nz>
Date: 05-31-99 22:11:10
Subject: @{b}Re: SystemTags()@{ub}

From: BlackMael <harrism@ihug.co.nz>

Greetings and Salutations, Olaf.

On 31-May-99, *Olaf* was saying...

>> Re: [amiga-c] SystemTags() interested me. Here's some more to think
>> about...

>>>> Thanks this is good but not perfect.  How are CLI command parameters
>>>> handled?  Say the command = "list sort=name".  Currently, using the
>>>> above routine, I just get a standard list displayed as if the
>>>> parameters are not even being looked at.
>>> 
>>>    Just replace "date" with "list sort=name".

>> that's too obvious!

>   And it's the way it should work (since this is the code Workbench uses;
> what do you get when you enter "list sort=name" in "Execute Command..."?)

>> Anyhow it didn't work.  It just ran list as
>> normal without sorting.

>   Then there must be a different reason.

One problem I have with "list sort=name" is the original list command
doesn't have a "sort" argument. I at least gather someone isn't using this
list since mine returns an error code cos "sort" doesn't exist. 

So I guess SystemTags is in fact working, but someone seems to have a rogue
list command.


Yours, etc etc.
   _Martin_

-----------------------------------------------------------
Everybody is talking about the weather but nobody does anything about it.
-- Mark Twain
-----------------------------------------------------------
<sb>*BlackMael*
<sb>UIN 12938250
<sb>Team *AMIGA*
<sb>BF A3 81 72 E8 54 C6 01  F7 EF E7 5C 63 3B CF 37
-----------------------------------------------------------



------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_257" " Tag lines "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-19-99 12:34:50
Subject: @{b}Tag lines@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Linus McCabe discovered that the date was 11-May-99 and wrote about Re:
[amiga-c] add menu event 
 Watcha Linus
->From: Linus McCabe <sparkle@hehe.com>

->I wish I was the substance of that needle you're injecting, cause I wanna be
->inside of you

   Hey heroin is so cool. For christ sake can you change your tagline please.
Sorry if I seem to have had a sense of humour bypass but this is something I
just don`t find funny.
-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_258" " Re: Tag lines "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-19-99 21:03:45
Subject: @{b}Re: Tag lines@{ub}

From: Linus McCabe <sparkle@hehe.com>

Hello Tim

> ->I wish I was the substance of that needle you're injecting, cause I
> wanna be ->inside of you
> 
>   Hey heroin is so cool. For christ sake can you change your tagline
> please. Sorry if I seem to have had a sense of humour bypass but this is
> something I just don`t find funny.

I'm sorry if I offended you, but I am in no way promoting the use of heroin
or any other drugs. The line is from a song about the hopelessness of being
in love with a drug addict.

/Linus

(Hope you like this tag better ;)

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

No one will believe it's the blues if you wear a suit, unless you happen to
be an old black man.



------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_259" " tapedeck.gadget "
From: Joakim Nordström <joakim.nordstrom@2.sbbs.se>
Date: 05-08-99 11:14:54
Subject: @{b}tapedeck.gadget@{ub}

From: Joakim =?iso-8859-1?Q?Nordstr=F6m?= <joakim.nordstrom@2.sbbs.se>

Hejsan

How the heck are you supposed to know what tapedeckbutton you have pressed,
which IDCMP does tapedeck 'use'?

Regards/
Jaokim


------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_260" " unix emulation "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 05-07-99 15:52:34
Subject: @{b}unix emulation@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Is there an ixemul.library available running under WarpUP rather than
PowerUp PPC kernal? I don't want to make code that needs
the manky Phase5 ppc.library! :p

Dinky do,

Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
ScalOS add-ons suite  [##-------------------] slowly does it!
OS Task Bar           [---------------------] preparing
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Want to learn more about your list users?
http://www.onelist.com
Now you can with our new User Survey Tool - see homepage for details
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_261" " Re: unix emulation "
From: Richard Drummond <richard.drummond@futurenet.co.uk>
Date: 05-08-99 11:33:29
Subject: @{b}Re: unix emulation@{ub}

From: "Richard Drummond" <richard.drummond@futurenet.co.uk>

Hello Mike

On 07-May-99, you wrote:

> Is there an ixemul.library available running under WarpUP rather than
> PowerUp PPC kernal? I don't want to make code that needs
> the manky Phase5 ppc.library! :p

The ixemul.library seems to work fine on my machine under PowerUp emulation
and WarpOS4.0. I haven't done any really serious testing yet, though.


Cheers,
Richard

-----------------------------------------------------------
Richard Drummond
Staff Writer, Amiga Format

mailto: richard.drummond@futurenet.co.uk
pgp   : http://www.drummond.u-net.com/download/richards_key.asc
phone : +44 (0)1225 442244 ext 2417


------------------------------------------------------------------------
ONElist:  Where Star Wars fans unite!
http://www.onelist.com
Find your Star Wars list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_262" " using define "
From: jack york <jyork@voyager.net>
Date: 05-16-99 18:26:13
Subject: @{b}using define@{ub}

From: jack york <jyork@voyager.net>

Hello,

I have a program that uses something like

 sprintf (str, "%s %9.2f %3.2f %10.2f", a, b, c, d)

many times.  If I have to change something in the format, like 9.2 to
8.2 it takes quite a long time.  Is there a way to use #define for this? 
Somehthing along the line of
 
 #define format %9.2 %3.2 %9.2
then
 sprintf (str, format, 

I have tried several ways but can't find a solution.
 

Jack


------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of the 145,000 email communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_263" " Re: using define "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-16-99 19:43:49
Subject: @{b}Re: using define@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 16-Mai-99 jack york wrote:

> sprintf (str, "%s %9.2f %3.2f %10.2f", a, b, c, d)

> many times.  If I have to change something in the format, like 9.2 to
> 8.2 it takes quite a long time.  Is there a way to use #define for this? 
> Somehthing along the line of
> 
> #define format %9.2 %3.2 %9.2
> then
> sprintf (str, format, 

You have to add quotes around it, than it should work.
#define format "%9.2 %3.2 %9.2"

You have to specify for #define exactly the same as if you would type it by
hand everywhere.

I also recommand to write #define'd words in uppercase to be able to
recognize them easily.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Oh no! More Windows!


------------------------------------------------------------------------
The Final Countdown is here!
http://www.ONElist.com
Join the "Star Wars" craze at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_264" " Re: using define "
From: Laurent FAILLIE <l_faillie@yahoo.com>
Date: 05-17-99 13:22:17
Subject: @{b}Re: using define@{ub}

From: Laurent FAILLIE <l_faillie@yahoo.com>


jack york <jyork@voyager.net> wrote:
>
> From: jack york <jyork@voyager.net>
> 
> Hello,
> 
> I have a program that uses something like
> 
>  sprintf (str, "%s %9.2f %3.2f %10.2f", a, b, c, d)
> 
> many times.  If I have to change something in the format, like 9.2 to
> 8.2 it takes quite a long time.  Is there a way to use #define for
this? 
> Somehthing along the line of
>  
>  #define format %9.2 %3.2 %9.2
> then
>  sprintf (str, format, 
> 

#define format "%s %9.2f %3.2f %10.2f"

should work better ;-D

    Laurent
==
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /    100 % Dictionnary Free !
/________/ /         
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_265" " Re: using define "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-18-99 01:08:36
Subject: @{b}Re: using define@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, May 16, 1999 at 12:26:13PM -0500, jack york wrote:
> From: jack york <jyork@voyager.net>
> 
> Hello,
> 
> I have a program that uses something like
> 
>  sprintf (str, "%s %9.2f %3.2f %10.2f", a, b, c, d)
> 
> many times.  If I have to change something in the format, like 9.2 to
> 8.2 it takes quite a long time.  Is there a way to use #define for this? 
> Somehthing along the line of
>  
>  #define format %9.2 %3.2 %9.2
> then
>  sprintf (str, format, 
> 
> I have tried several ways but can't find a solution.

You have to put it in speech marks!

    #define format "%9.2f %3.2f %10.2f"
then
    sprintf (str, "%s " format, a, b, c, d)

If you use the format string on its own (without concatenating it onto
things like "%s ") then it might really be better to have the format
string as a global variable.  Then you only have one copy of it even
if your compiler isn't clever enough to eliminate duplicate strings.

I suggest that you generally use all-caps for pre-processor macros, to
avoid name clashes that result in nasty bugs that are hard to track
down.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Humans are not rational beings; they are rationalizing beings.

------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_266" " Re: using define "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-18-99 01:26:15
Subject: @{b}Re: using define@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

jack york discovered that the date was 16-May-99 and wrote about [amiga-c]
using define 
 Watcha jack
->From: jack york <jyork@voyager.net>

->Hello,

->I have a program that uses something like

-> sprintf (str, "%s %9.2f %3.2f %10.2f", a, b, c, d)

->many times.  If I have to change something in the format, like 9.2 to
->8.2 it takes quite a long time.  Is there a way to use #define for this? 
->Somehthing along the line of
-> 
-> #define format %9.2 %3.2 %9.2
->then
-> sprintf (str, format, 

->I have tried several ways but can't find a solution.
-> 

   I haven`t tried this but


BYTE formatStr[]="%s %9.2f %3.2f %10,2f";

...

 sprintf(str,formatStr,a,b,c,d);


should work. At least I can`t see why not.

-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_267" " Re: using define "
From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>
Date: 05-18-99 10:35:55
Subject: @{b}Re: using define@{ub}

From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>

Tim Hanson wrote:
> 
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> jack york discovered that the date was 16-May-99 and wrote about [amiga-c]
> using define
>  Watcha jack
> ->From: jack york <jyork@voyager.net>
> 
> ->Hello,
> 
> ->I have a program that uses something like
> 
> -> sprintf (str, "%s %9.2f %3.2f %10.2f", a, b, c, d)
> 
> ->many times.  If I have to change something in the format, like 9.2 to
> ->8.2 it takes quite a long time.  Is there a way to use #define for this?
> ->Somehthing along the line of
> ->
> -> #define format %9.2 %3.2 %9.2
> ->then
> -> sprintf (str, format,
> 
> ->I have tried several ways but can't find a solution.
> ->
> 
>    I haven`t tried this but
> 
> BYTE formatStr[]="%s %9.2f %3.2f %10,2f";
> 
> ...
> 
>  sprintf(str,formatStr,a,b,c,d);
> 
> should work. At least I can`t see why not.

I think 
char formatStr[]=... 
should be better for strings? Never used BYTE for character.

    Christoph

------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_268" " Re: using define "
From: "Richard F. Smit" <derick@rfsmit.freeserve.co.uk>
Date: 05-18-99 13:39:58
Subject: @{b}Re: using define@{ub}

From: "Richard F. Smit" <derick@rfsmit.freeserve.co.uk>

The subject was Re: [amiga-c] using define, and Christoph Krakowski said:
> From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>
> 
> Tim Hanson wrote:
> >    I haven`t tried this but
> > 
> > BYTE formatStr[]="%s %9.2f %3.2f %10,2f";
> > 
> > ...
> > 
> >  sprintf(str,formatStr,a,b,c,d);
> > 
> > should work. At least I can`t see why not.
> 
> I think 
> char formatStr[]=... 
> should be better for strings? Never used BYTE for character.

Use char for character - BYTE for bytes.

Explicit initialisation of BYTE would look like this:

BYTE formatStr[] = { 0x20, 0x25, 0x2a, 0x22 }

...anything else is mismatching types.

For a string, Christoph is right.

You could also use string constants, and just keep the pointers to
them:

const char *formatStr = "%9.2f %10.2f" ;

You use formatStr in exactly the same way as before. The address of
the constant (that's the quoted bit) is passed to formatStr.
formatStr is now a constant pointer-to-char.


-----------------------------------------------------------
cheers,
Derick.


------------------------------------------------------------------------
Are you hogging all the fun?
http://www.onelist.com
Friends tell friends about ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_269" " Re: using define "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-18-99 19:51:53
Subject: @{b}Re: using define@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Christoph Krakowski discovered that the date was 18-May-99 and wrote about Re:
[amiga-c] using define 
 Watcha Christoph
->From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>

->Tim Hanson wrote:
->> 
->> BYTE formatStr[]="%s %9.2f %3.2f %10,2f";

->I think 
->char formatStr[]=... 
->should be better for strings? Never used BYTE for character.

   Your probably right but I always use exec/types.h style type definitions.
Just a habit hopefully not a bad one.

-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Are you hogging all the fun?
http://www.onelist.com
Friends tell friends about ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_270" " Re: using define "
From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>
Date: 05-19-99 11:44:55
Subject: @{b}Re: using define@{ub}

From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>

Tim Hanson wrote:
> 
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Christoph Krakowski discovered that the date was 18-May-99 and wrote about Re:
> [amiga-c] using define
>  Watcha Christoph
> ->From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>
> 
> ->Tim Hanson wrote:
> ->>
> ->> BYTE formatStr[]="%s %9.2f %3.2f %10,2f";
> 
> ->I think
> ->char formatStr[]=...
> ->should be better for strings? Never used BYTE for character.
> 
>    Your probably right but I always use exec/types.h style type definitions.
> Just a habit hopefully not a bad one.

But if want (someday) to port your programm to another platform, you
have to
rewrite the whole source... Not a goog idea.

    Christoph

------------------------------------------------------------------------
What was YOUR favorite part?!
http://www.onelist.com
Tell other Star Wars fans at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_271" " Re: using define "
From: Alfred Schwarz <Alfred.P.Schwarz@kerckhoff.med.uni-giessen.de>
Date: 05-19-99 11:55:21
Subject: @{b}Re: using define@{ub}

From: "Alfred Schwarz" <Alfred.P.Schwarz@kerckhoff.med.uni-giessen.de>

> From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>
> > From: Tim Hanson <msinister@connectfree.co.uk>
> >    Your probably right but I always use exec/types.h style
> type definitions.
>
> But if want (someday) to port your programm to another platform, you
> have to
> rewrite the whole source... Not a goog idea.

...or you have to write a new exec/types.h
Isn't too much work IMHO, but should make programs look better as long as
they are still Amiga?!

Ciao, Alfred


------------------------------------------------------------------------
It's finally here!  What's your opinion?
http://www.onelist.com
Create a Star Wars discussion group at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_272" " Re: using define "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-19-99 15:20:03
Subject: @{b}Re: using define@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 18-Mai-99 Tim Hanson wrote:

> ->> BYTE formatStr[]="%s %9.2f %3.2f %10,2f";

> ->I think 
> ->char formatStr[]=... 
> ->should be better for strings? Never used BYTE for character.

>   Your probably right but I always use exec/types.h style type
> definitions. Just a habit hopefully not a bad one.

How about using TEXT then?

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Error #0069: File not found. Loading something that looks similar.


------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_273" " Re: using define "
From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>
Date: 05-19-99 18:09:45
Subject: @{b}Re: using define@{ub}

From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>

Hello Richard

On 18-Mai-99, you wrote:

> From: "Richard F. Smit" <derick@rfsmit.freeserve.co.uk>

> The subject was Re: [amiga-c] using define, and Christoph Krakowski said:
>> From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>
 
>> Tim Hanson wrote:
>>>    I haven`t tried this but
 
>>> BYTE formatStr[]="%s %9.2f %3.2f %10,2f";
>>> 
>>> ...
>>> 
>>>  sprintf(str,formatStr,a,b,c,d);
>>> 
>>> should work. At least I can`t see why not.
 
>> I think 
>> char formatStr[]=... 
>> should be better for strings? Never used BYTE for character.

> Use char for character - BYTE for bytes.

> Explicit initialisation of BYTE would look like this:

> BYTE formatStr[] = { 0x20, 0x25, 0x2a, 0x22 }

> ...anything else is mismatching types.

> For a string, Christoph is right.

:-) I also think porting programs with standard C types is also easier.

> You could also use string constants, and just keep the pointers to
> them:

> const char *formatStr = "%9.2f %10.2f" ;

> You use formatStr in exactly the same way as before. The address of
> the constant (that's the quoted bit) is passed to formatStr.
> formatStr is now a constant pointer-to-char.

If you want to use some (older) C code in your new C++ programs it is alway
easier to use const variables instead of #define.

Regards

-----------------------------------------------------------
    Christoph Krakowski

KITTY.CAT virus found. MOUSE.COM deleted.



------------------------------------------------------------------------
Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_274" " Re: using define "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-20-99 00:48:40
Subject: @{b}Re: using define@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Tue, May 18, 1999 at 06:51:53PM -0000, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Christoph Krakowski discovered that the date was 18-May-99 and wrote about Re:
> [amiga-c] using define 
>  Watcha Christoph
> ->From: Christoph Krakowski <christo@Pool.Informatik.RWTH-Aachen.DE>
> 
> ->Tim Hanson wrote:
> ->> 
> ->> BYTE formatStr[]="%s %9.2f %3.2f %10,2f";
> 
> ->I think 
> ->char formatStr[]=... 
> ->should be better for strings? Never used BYTE for character.
> 
>    Your probably right but I always use exec/types.h style type definitions.
> Just a habit hopefully not a bad one.

It *is* a bad habit.  In Standard C (and ANSI C++), string literals
have type char *, and you can use them to initialise variables of
types char *, const char *, char[], and const char[].  In C++ you may
define conversion operators or constructors that allow you to
initialise other types of object with them.  In C you cannot do this,
and I see no sense in using non-standard type names that must be
defined to be the same as char.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Death is a nonmaskable interrupt.

------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_275" " Re: using define "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 05-24-99 15:32:42
Subject: @{b}Re: using define@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 22-Mai-99 Ben Hutchings wrote:

>>>   Your probably right but I always use exec/types.h style type
>>> definitions. Just a habit hopefully not a bad one.
>> 
>> How about using TEXT then?

> Even worse - TEXT is incorrectly defined to mean unsigned char!

What's wrong about that? You use TEXT only with Strings which contain
normal unsigned ASCII Values.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Semmelbrösel in den Socken hält den ärgsten Schweissfuß trocken!


------------------------------------------------------------------------
Are you hogging all the fun?
http://www.onelist.com
Friends tell friends about ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_276" " Re: using define "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-24-99 19:52:37
Subject: @{b}Re: using define@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Ben Hutchings discovered that the date was 19-May-99 and wrote about Re:
[amiga-c] using define 
 Watcha Ben
->From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

->>    Your probably right but I always use exec/types.h style type
definitions.
->> Just a habit hopefully not a bad one.

->It *is* a bad habit.  In Standard C (and ANSI C++), string literals
->have type char *, and you can use them to initialise variables of
->types char *, const char *, char[], and const char[].  In C++ you may
->define conversion operators or constructors that allow you to
->initialise other types of object with them.  In C you cannot do this,
->and I see no sense in using non-standard type names that must be
->defined to be the same as char.

   I don`t see a problem while coding for the Amiga. I almost always need some
definition from exec/types.h anyway so I always include it. (I`m usually
typing it into the text editor before I`ve decided what the code is for.) I
agree that it would be a problem when (if) I move to another machine but there
are several amiga files I would use on other machines just because I like the
way things have been done on the miggy.
 
-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
How many communities do you think join ONElist each day?
http://www.onelist.com
More than 1,000!  Create yours now!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_277" " Re: using define "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-25-99 23:19:39
Subject: @{b}Re: using define@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, May 24, 1999 at 04:32:42PM +0200, Christian Hattemer wrote:
> From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>
> 
> On 22-Mai-99 Ben Hutchings wrote:
> 
> >>>   Your probably right but I always use exec/types.h style type
> >>> definitions. Just a habit hopefully not a bad one.
> >> 
> >> How about using TEXT then?
> 
> > Even worse - TEXT is incorrectly defined to mean unsigned char!
> 
> What's wrong about that? You use TEXT only with Strings which contain
> normal unsigned ASCII Values.

String literals normally have type char * (though they are stored as
if const char []) and can be used to initialise arrays of char or
const char.

As for the Amiga character set, that is ISO 8859-1 (a super-set
ASCII), which defines character codes 0-255.  So it would make sense
for the char type to be unsigned (which does *not* make it the same
type as unsigned char).  All Amiga C compilers that I am aware of make
the char type signed, presumably for compatibility with older
programs.  I suppose that this is an archaic misfeature of the C
language.  It doesn't mean that any compiler has to accept mixing of
pointers to unsigned char and char.  In Standard C and C++ you need to
use explicit casts to convert between these two types.

> ------------------------------------------------------------------------
> Are you hogging all the fun?
> http://www.onelist.com
> Friends tell friends about ONElist!
> ------------------------------------------------------------------------

This at least makes a change from advertising discussion of US
elections which have nothing to do with me...

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
I haven't lost my mind; it's backed up on tape somewhere.

------------------------------------------------------------------------
ONElist:  bringing the world together.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_278" " Re: using define "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-25-99 23:31:35
Subject: @{b}Re: using define@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, May 24, 1999 at 06:52:37PM -0000, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Ben Hutchings discovered that the date was 19-May-99 and wrote about Re:
> [amiga-c] using define 
>  Watcha Ben
> ->From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> ->>    Your probably right but I always use exec/types.h style type
> definitions.
> ->> Just a habit hopefully not a bad one.
> 
> ->It *is* a bad habit.  In Standard C (and ANSI C++), string literals
> ->have type char *, and you can use them to initialise variables of
> ->types char *, const char *, char[], and const char[].  In C++ you may
> ->define conversion operators or constructors that allow you to
> ->initialise other types of object with them.  In C you cannot do this,
> ->and I see no sense in using non-standard type names that must be
> ->defined to be the same as char.
> 
>    I don`t see a problem while coding for the Amiga. I almost always need some
> definition from exec/types.h anyway so I always include it.

Well, fine - include it.  Don't forget that it defines NULL
incorrectly, though.  You might want to #include <stdlib.h> before
including it, as that should pull in a correct definition.  Don't use
TEXT or STRPTR though, as they are defined wrongly.  I think most
Amiga C compilers have kluges to work around these breakages, but
that doesn't mean that they aren't bad style.

There is simply no point in using any type other than char to support
plain old strings, because char is what C compilers use for string
literals.

On platforms that support wide characters, wchar_t may be defined to
be some other type (and in Standard C++ it is supposed to be a
built-in type).  You can write wide character string literals in the
form L"text".  AmigaOS doesn't support wide characters, so Amiga
programmers can ignore that for now.  So all strings are made of char,
and there is no point at all in using a different name for this!

> (I`m usually typing it into the text editor before I`ve decided what
> the code is for.) I agree that it would be a problem when (if) I
> move to another machine but there are several amiga files I would
> use on other machines just because I like the way things have been
> done on the miggy.

The OS header files are a prime example of ignorance of Standard C.
I'm hoping that I can ignore that rubbish if and when I complete a set
of C++ header files.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
I haven't lost my mind; it's backed up on tape somewhere.

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.ONElist.com
See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_279" " Re: using define "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-26-99 16:34:02
Subject: @{b}Re: using define@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Ben Hutchings discovered that the date was 25-May-99 and wrote about Re:
[amiga-c] using define 
 Watcha Ben
->From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

->There is simply no point in using any type other than char to support
->plain old strings, because char is what C compilers use for string
->literals.

   Cool. You`ve changed my mind on this one. Thanx.

-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_280" " using define - THANKS "
From: jack york <jyork@voyager.net>
Date: 05-18-99 18:51:02
Subject: @{b}using define - THANKS@{ub}

From: jack york <jyork@voyager.net>

In an effort to keep the list free of duplicate messages I would like to say
thanks to all of you that answered my question on using the #define.  I
appreciate the help.

Jack


------------------------------------------------------------------------
Got an opinion?
http://www.onelist.com
Make it count!  Sign up for the ONElist Weekly Survey now.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_281" " V39 Triple Buffering in a window "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-14-99 17:08:54
Subject: @{b}V39 Triple Buffering in a window@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>


Hi All,
   Does anyone know how to do triple buffering in a window? I presume the code
looks something like this:

   winPtr->RPort->BitMap=winBMPtr[whichDisplay];

   whichDisplay++;
   if(whichDisplay>2)
         whichDisplay=0;


   but somewhere there must be an OS call to update the way the graphics card
draws the screen. Is it just LoadView() or is there a way to do this more
quickly under V39?

   Alternatively I could be barking up the wrong tree again.

   Cheers.


-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_282" " Re: V39 Triple Buffering in a window "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-15-99 12:41:38
Subject: @{b}Re: V39 Triple Buffering in a window@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 14 Tim (Tim Hanson) wrote:

> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> 
> Hi All,
>    Does anyone know how to do triple buffering in a window? I presume the code
> looks something like this:
> 
>    winPtr->RPort->BitMap=winBMPtr[whichDisplay];
> 
>    whichDisplay++;
>    if(whichDisplay>2)
>          whichDisplay=0;

   Sorry, but you can't do that. For one thing, you should not directly modify
the contents of the RastPort data structure. And the other thing is that Windows,
since they are built on top of Layers, generally don't consist of a single BitMap
that could be easily replaced.

>    but somewhere there must be an OS call to update the way the graphics card
> draws the screen. Is it just LoadView() or is there a way to do this more
> quickly under V39?

   Try ChangeScreenBuffer() and its kin.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Got an opinion?
http://www.onelist.com
Make it count!  Sign up for the ONElist Weekly Survey now.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_283" " Re: V39 Triple Buffering in a window "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-15-99 15:42:39
Subject: @{b}Re: V39 Triple Buffering in a window@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Olaf Barthel discovered that the date was 15-May-99 and wrote about Re:
[amiga-c] V39 Triple Buffering in a window 
 Watcha Olaf
->From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

->On May 14 Tim (Tim Hanson) wrote:

->>    Does anyone know how to do triple buffering in a window? I presume the

->   Sorry, but you can't do that. For one thing, you should not directly
modify
->the contents of the RastPort data structure. And the other thing is that
->Windows,
->since they are built on top of Layers, generally don't consist of a single
->BitMap
->that could be easily replaced.

   Yep. Cheers mate. Sussed it now. I`ll have to blit the animation in from an
off-screen bitmap. Or not as the case may be.

-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_284" " Re: V39 Triple Buffering in a window "
From: Fabrice Rousselot --Paris <faro@sybase.com>
Date: 05-17-99 08:35:14
Subject: @{b}Re: V39 Triple Buffering in a window@{ub}

From: Fabrice Rousselot --Paris <faro@sybase.com>

Have a look on awin code, you can find it on Aminet :
dev/c/awin.lha

All is already coded in C for Picasso96, CyberGFX and i think for other systems
without gfx card (didn't test that).
Thanks to Harry "Piru" Sintonen, GREAT JOB !!!! :)

Bye
Fabrice.

Tim Hanson wrote:

> From: Tim Hanson <msinister@connectfree.co.uk>
>
> Hi All,
>    Does anyone know how to do triple buffering in a window? I presume the code
> looks something like this:
>
>    winPtr->RPort->BitMap=winBMPtr[whichDisplay];
>
>    whichDisplay++;
>    if(whichDisplay>2)
>          whichDisplay=0;
>
>    but somewhere there must be an OS call to update the way the graphics card
> draws the screen. Is it just LoadView() or is there a way to do this more
> quickly under V39?
>
>    Alternatively I could be barking up the wrong tree again.
>
>    Cheers.
>
> --
> Tim Hanson,
> in the Basement,London.
> Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
> 170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
> http://www.sinister67.freeserve.co.uk
>
> ------------------------------------------------------------------------
> ONElist:  where the world talks!
> http://www.onelist.com
> Join a new list today.
> ------------------------------------------------------------------------
> * Don't forget to tell your 'C' coding buddies to join up!! *

--
Fabrice Rousselot
System Administrator
Sybase, France
Phone : (+33) 1 41 90 42 94
Fax : (+33) 1 41 90 40 01



------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_285" " when a screen closes "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-27-99 18:15:29
Subject: @{b}when a screen closes@{ub}

From: Linus McCabe <sparkle@hehe.com>


yo

Is there a way to get notified when a screen closes?
If not, is there a way to check if a (old) struct Screen* is still valid?

/Linus

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Very simple, yet very complicated calculations



------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_286" " Re: when a screen closes "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 05-28-99 01:50:22
Subject: @{b}Re: when a screen closes@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Linus McCabe discovered that the date was 27-May-99 and wrote about [amiga-c]
when a screen closes 
 Watcha Linus
->From: Linus McCabe <sparkle@hehe.com>
->If not, is there a way to check if a (old) struct Screen* is still valid?

Try:

   SetRast(&Screen->RastPort,0);

If the puter doesn`t crash it`s still a valid screen.


Sorry.



   I`d actually like to know the answer to this one.


-----------------------------------------------------------
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_287" " Re: when a screen closes "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 05-28-99 02:56:34
Subject: @{b}Re: when a screen closes@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 28-May-99, Linus McCabe wrote:
>From: Linus McCabe <sparkle@hehe.com>

>yo
>Is there a way to get notified when a screen closes?
Who closed it ??

>If not, is there a way to check if a (old) struct Screen* is still valid?
>/Linus

If you close the screen, then you should 'NULL'  out the screen pointer
so that you know the state of it when you cleanup().

Otherwise if it is someone elses screen - Yes,  but you have to be carefull...

DO NOT CLOSE SOMEONE ELSES SCREEN.
(If the task is still running, that is.)




STRUCT Screen *screenisopen( scr )
STRUCT Screen *scr;
{
  LONG ib_lock, LockIBase();
  STRUCT Screen *s;
  extern STRUCT IntuitionBase *IntuitionBase;
  VOID UnlockIBase();


  ib_lock = LockIBase(NULL);

  for(s=IntuitionBase->FirstScreen; s; s=s->NextScreen){
     if( s == scr )
          break;
  }

  UnlockIBase(ib_lock);
  return(s);
}





Now here is the cruncher,   if you call this function you MAY get a valid
screen ptr,
but the screen could have closed AFTER you returned from the function.....

So if you must do this, then I would suggest you use it within a Forbid() /
Permit() pair.

EG:    

  Forbid();
  if(   screenisopen( ascreen ) ){
           do_stuff();
           do_more_stuff();
  }
  Permit();


Hopefully, under these circumstances, the screen should not be able to close
until
you have completed whatever you want to do....

But either way, it is messy & horrid,   I would avoid it like the plague....

...colin.

--------------------------------------------------
Colin Wenzel. Australia.   colstv@hotkey.net.au
URL:    http://www.hotkey.net.au/~colstv/      
                                               
'AMIGA' 4000T With  CS-III 68060/50 150Mb RAM. 
--------------------------------------------------


------------------------------------------------------------------------
Congratulations to "M-K-ROSES," our latest ONElist of the Week.
http://www.onelist.com
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_288" " Re: when a screen closes "
From: Linus McCabe <sparkle@hehe.com>
Date: 05-28-99 06:24:31
Subject: @{b}Re: when a screen closes@{ub}

From: Linus McCabe <sparkle@hehe.com>

Hello Colin

>> Is there a way to get notified when a screen closes?
> Who closed it ??

anyone. It's not my screen, but I've been given a pointer to it...
 
>> If not, is there a way to check if a (old) struct Screen* is still valid?
>> /Linus

> Otherwise if it is someone elses screen - Yes, but you have to be
> carefull...
> 
> DO NOT CLOSE SOMEONE ELSES SCREEN.
> (If the task is still running, that is.)

This is not what I plan to do, I'd simply like to know if it's still open,
or even betterm get notified or signalled somehow when the screen closes. I
Don't wannapatch closescreen though, although that could be a less nice way
to solve it...

Thanks for the piece of code, it seems fine. I guess it's wont be to slow
neither, since there is usually not so many screens in the list.
 
> Now here is the cruncher,   if you call this function you MAY get a valid
> screen ptr,
> but the screen could have closed AFTER you returned from the function.....

This doesent matter, cause I'm not going to do anything with the screen.
Just free some resources IF the screen is closed.

Thanks for the help!!

/Linus
 
> ...colin.
> 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Tell me true, tell me why, was Jesus crucified.  Was it for this that daddy
died?  Was is you, was it me, did I watch too much TV?  Is that hint of
accusation in your eyes?



------------------------------------------------------------------------
With more than 17 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is THE place where the world talks!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_289" " Yet another beginner question :D "
From: TigerGutt <warewulf@geocities.com>
Date: 05-03-99 22:29:35
Subject: @{b}Yet another beginner question :D@{ub}

From: TigerGutt <warewulf@geocities.com>

Hello again,

I'm back again with another question for you.
I think I got the hang of "subrutines" in C now, somewhat at least ;).

Yet, I'm confused in how to use them "correctly"
I think should learn how to use them correctly now, as
might not learn bad habbits as I did in basic i.e use of goto :)

Have a look at this code pice:

I've defined it in the start, as I got tips I should.
void p_score(int, int);
void c_dead(int,int);
void pos_1(void);
void pos_2(void);
void pos_3(void);
void pos_4(void);
void pos_5(void);
void pos_6_1(void);
void pos_6_2(void);
void pos_6_3(void);
void pos_7(void);
void slutt2(void);


        int score;
        int foe;
        int ply;
        char in;

in = getchar();
        while   ((in = getchar()) != '\n')

        switch(in)
                {
                case '1':
                        foe=foe-5;
                        ply=ply-2;
                        c_dead(ply,foe);
                        pos_2();
                        break;
                case '2':
                        foe=foe-2;
                        pos_3();
                        break;
                case '3':
                        pos_4();
                        break;
                case '4':
                        slutt2();
                default:printf("You din't press anything\n");
                }

void pos_3()
{
        printf("A wise precaution.\n");
        printf("You shield off GURAKs attack and give him a good
hit\n");
        printf("He falls back.\n");
        printf("Again you stand before each other.\n");
        pos_7();
}

Like if I press the key '2' it should "goto/gosub" pos3(), yett I don't
use any variables in here, so I don't need to pass it in the () ?

Have I've missunderstood anything (again..hehe)?
How should one code here ?

Cheers !
Ulf






------------------------------------------------------------------------
What's "Grow to Give"?
http://www.onelist.com
It's a new incentive program at ONElist.  See homepage for details.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_290" " Yet another beginner question :D "
From: TigerGutt <warewulf@geocities.com>
Date: 05-03-99 22:40:45
Subject: @{b}Yet another beginner question :D@{ub}

From: TigerGutt <warewulf@geocities.com>

Hello again,

I'm back again with another question for you.
I think I got the hang of "subrutines" in C now, somewhat at least ;).

Yet, I'm confused in how to use them "correctly"
I think should learn how to use them correctly now, as
might not learn bad habbits as I did in basic i.e use of goto :)

Have a look at this code pice:

I've defined it in the start, as I got tips I should.
void p_score(int, int);
void c_dead(int,int);
void pos_1(void);
void pos_2(void);
void pos_3(void);
void pos_4(void);
void pos_5(void);
void pos_6_1(void);
void pos_6_2(void);
void pos_6_3(void);
void pos_7(void);
void slutt2(void);


        int score;
        int foe;
        int ply;
        char in;

in = getchar();
        while   ((in = getchar()) != '\n')

        switch(in)
                {
                case '1':
                        foe=foe-5;
                        ply=ply-2;
                        c_dead(ply,foe);
                        pos_2();
                        break;
                case '2':
                        foe=foe-2;
                        pos_3();
                        break;
                case '3':
                        pos_4();
                        break;
                case '4':
                        slutt2();
                default:printf("You din't press anything\n");
                }

void pos_3()
{
        printf("A wise precaution.\n");
        printf("You shield off GURAKs attack and give him a good
hit\n");
        printf("He falls back.\n");
        printf("Again you stand before each other.\n");
        pos_7();
}

Like if I press the key '2' it should "goto/gosub" pos3(), yett I don't
use any variables in here, so I don't need to pass it in the () ?

Have I've missunderstood anything (again..hehe)?
How should one code here ?

Cheers !
Ulf






------------------------------------------------------------------------
Who offers the richest group communications tools on the Internet?
http://www.onelist.com
Answer:  ONElist.  Check out our homepage for details!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_291" " Re: Yet another beginner question :D "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 05-04-99 02:36:17
Subject: @{b}Re: Yet another beginner question :D@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, May 03, 1999 at 11:29:35PM +0200, TigerGutt wrote:
> From: TigerGutt <warewulf@geocities.com>
> 
> Hello again,
> 
> I'm back again with another question for you.
> I think I got the hang of "subrutines" in C now, somewhat at least ;).

C has functions, not subroutines.  However, functions returning void
are equivalent to subroutines.

> Yet, I'm confused in how to use them "correctly"
> I think should learn how to use them correctly now, as
> might not learn bad habbits as I did in basic i.e use of goto :)

It's OK to use goto sometimes.  The principle of structured
programming is that a program is easier to read and understand if the
flow of execution is controlled mainly by higher-level constructs,
such as while loops.  In some cases you may find that restricting
yourself to these constructs will result in code that is actually
harder to understand and maintain.  In those cases, use of goto may
be justified.  Do think hard before using it, though.

> Have a look at this code pice:
> 
> I've defined it in the start, as I got tips I should.
> void p_score(int, int);
> void c_dead(int,int);
> void pos_1(void);
> void pos_2(void);
> void pos_3(void);
> void pos_4(void);
> void pos_5(void);
> void pos_6_1(void);
> void pos_6_2(void);
> void pos_6_3(void);
> void pos_7(void);
> void slutt2(void);

These are declarations (and more specifically, prototypes) rather
than definitions.

>         int score;
>         int foe;
>         int ply;
>         char in;

The variable `in' needs to be an int.

> in = getchar();
>         while   ((in = getchar()) != '\n')

You need to check for the case of EOF.

>         switch(in)
>                 {
>                 case '1':
>                         foe=foe-5;
>                         ply=ply-2;
>                         c_dead(ply,foe);
>                         pos_2();
>                         break;
>                 case '2':
>                         foe=foe-2;
>                         pos_3();
>                         break;
>                 case '3':
>                         pos_4();
>                         break;
>                 case '4':
>                         slutt2();

You need a break in here.

>                 default:printf("You din't press anything\n");
>                 }
> 
> void pos_3()
> {
>         printf("A wise precaution.\n");
>         printf("You shield off GURAKs attack and give him a good
> hit\n");
>         printf("He falls back.\n");
>         printf("Again you stand before each other.\n");
>         pos_7();
> }
> 
> Like if I press the key '2' it should "goto/gosub" pos3(), yett I don't
> use any variables in here, so I don't need to pass it in the () ?
> 
> Have I've missunderstood anything (again..hehe)?
> How should one code here ?

I don't see what you're trying to do.  Why don't you give a complete
compilable example, with some comments?

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Sturgeons's Law: Ninety percent of everything is crud.

------------------------------------------------------------------------
Have you visited the new ONElist home page lately?
http://www.ONElist.com
ONElist: The Leading e-mail list and community service on the Internet!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_292" " ZModem cancelling and XPR Versions (attn: olaf) "
From: Dominic Clifton <dominicc@barrysworld.co.uk>
Date: 05-12-99 19:29:43
Subject: @{b}ZModem cancelling and XPR Versions (attn: olaf)@{ub}

From: Dominic Clifton <dominicc@barrysworld.co.uk>


I'm writing a BBS program (HydraBBS, http://come.to/hydrabbs) and I'm
after some code that shows how you can properly cancel a ZModem file
transfer while one is in progress.  (i.e. the sysop clicks the "cancel"
button on the XPR trasfer window in my program)

UBYTE ZModemCancel[] =
{
    24,24,24,24,24,24,24,24,24,24,
     8, 8, 8, 8, 8, 8, 8, 8, 8, 8
};

VOID CancelZModem()
{
    if(UsesZModem)                                         
        DoSerialWrite(ZModemCancel,20);
}

The example from Term 4.7 source code doesn't work when I try it in 
my code...

Does this have to be acknowledged ? does it have to be sent repeatedly
until it is acknowledged ?

I am using the XPR libraries.

Also, Olaf, as you read this mailing list you might be able to tell me
what the latest version of xprzmodem.library is, and what differences
there are between these ones:

FileSize: 22856 Version: 3.1
FileSize: 26956 Version: 3.51
FileSize: 23004 Version: 2.56

The most reliable one I have found is the 2.56 version.


--

[Dominic Clifton - aka Hydra/CRoSS POiNT ]=-  -=[ Oh my god, it's an email]
[DreamCast, C++, DV, Sports Cars, Snowboarding, South Park, Placebo, Amiga]


------------------------------------------------------------------------
Are you hogging all the fun?
http://www.onelist.com
Friends tell friends about ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_293" " Re: ZModem cancelling and XPR Versions (attn: olaf) "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-12-99 22:21:38
Subject: @{b}Re: ZModem cancelling and XPR Versions (attn: olaf)@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 12 Dominic (Dominic Clifton) wrote:

> From: Dominic Clifton <dominicc@barrysworld.co.uk>
> 
> I'm writing a BBS program (HydraBBS, http://come.to/hydrabbs) and I'm
> after some code that shows how you can properly cancel a ZModem file
> transfer while one is in progress.  (i.e. the sysop clicks the "cancel"
> button on the XPR trasfer window in my program)
> 
> UBYTE ZModemCancel[] =
> {
>     24,24,24,24,24,24,24,24,24,24,
>      8, 8, 8, 8, 8, 8, 8, 8, 8, 8
> };
> 
> VOID CancelZModem()
> {
>     if(UsesZModem)                                         
>         DoSerialWrite(ZModemCancel,20);
> }
> 
> The example from Term 4.7 source code doesn't work when I try it in 
> my code...

The ZModem specification says:

   If the receiver is receiving data in streaming mode, the Attn
   sequence is executed to interrupt data transmission before the Cancel
   sequence is sent.  The Cancel sequence consists of eight CAN
   characters and ten backspace characters.  ZMODEM only requires five
   Cancel characters, the other three are "insurance".

   The trailing backspace characters attempt to erase the effects of the
   CAN characters if they are received by a command interpreter.

     static char canistr[] = {
       24,24,24,24,24,24,24,24,8,8,8,8,8,8,8,8,8,8,0
     };

And with regard to the Attn sequence ("Attention sequence"):

   The default Attn string value is empty (no Attn sequence).  The
   receiving program resets Attn to the empty default before each
   transfer session.

Something has to happen when you send these characters. Might be your
modem is buffering this data (sending a break might help). Might be
the remote program does not interpret the cancel sequence correctly.

> Does this have to be acknowledged ? does it have to be sent repeatedly
> until it is acknowledged ?

   No, according to the ZModem specification, once should be enough.

> I am using the XPR libraries.
> 
> Also, Olaf, as you read this mailing list you might be able to tell me
> what the latest version of xprzmodem.library is, and what differences
> there are between these ones:
> 
> FileSize: 22856 Version: 3.1
> FileSize: 26956 Version: 3.51
> FileSize: 23004 Version: 2.56
> 
> The most reliable one I have found is the 2.56 version.

   I wish I knew; several strains of xprzmodem.library exist. Some
with more documentation, some with less. Right now I believe that
xprzmodem.library should be retired. Too many people (including
myself) fixed up too many things without providing good reasons or
release notes, the zmodem specification is very hard to come
by, accurate documentation is scarce to non-existant and Chuck
Forsberg's original code (which our xprzmodem.library implementation
stems from) is "a little" obscure. I wrote a complete, free zmodem
implementation from scratch for my company (which we have been using
for more than a year; it's rather mature by now). I wish I could find
the time to turn this one into a shared library :-/

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_294" " Re: ZModem cancelling and XPR Versions (attn: olaf) "
From: Dominic Clifton <dominicc@barrysworld.co.uk>
Date: 05-13-99 14:49:12
Subject: @{b}Re: ZModem cancelling and XPR Versions (attn: olaf)@{ub}

From: Dominic Clifton <dominicc@barrysworld.co.uk>

>> The example from Term 4.7 source code doesn't work when I try it in
>> my code...
>
> The ZModem specification says:

thanks for that.  do you know where I might actually obtain the ZModem
spec from ?

> Something has to happen when you send these characters. Might be your
> modem is buffering this data (sending a break might help). Might be
> the remote program does not interpret the cancel sequence correctly.

well you know what, I put the line xpr_swrite(zmodemcancel,20) back in
my program and it works now..  argh...

maybe another feature of different versions of the libraries, still
I've not got the time to investigate that problem further as my todo list
and ideas list for HydraBBS gets bigger by the day..

> I wish I knew; several strains of xprzmodem.library exist. Some
> with more documentation, some with less.

Tell me about it, it's only now in these open sourcecode times that we
start getting all the problems...

> Right now I believe that xprzmodem.library should be retired.

well, that's not an option until someone writes a new one.  we can't
get rid of the ZModem prototol, it's here to stay.

> I wrote a complete, free zmodem
> implementation from scratch for my company (which we have been using
> for more than a year; it's rather mature by now). I wish I could find
> the time to turn this one into a shared library :-/

The amiga community (well, me actually) needs it!!! do it!! :-)

thanks for the info.
--

[Dominic Clifton - aka Hydra/CRoSS POiNT ]=-  -=[ Oh my god, it's an email]
[DreamCast, C++, DV, Sports Cars, Snowboarding, South Park, Placebo, Amiga]


------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_295" " Re: ZModem cancelling and XPR Versions (attn: olaf) "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 05-14-99 17:40:24
Subject: @{b}Re: ZModem cancelling and XPR Versions (attn: olaf)@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On May 13 Dominic (Dominic Clifton) wrote:

> From: Dominic Clifton <dominicc@barrysworld.co.uk>
> 
> >> The example from Term 4.7 source code doesn't work when I try it in
> >> my code...
> >
> > The ZModem specification says:
> 
> thanks for that.  do you know where I might actually obtain the ZModem
> spec from ?

   I got mine off a local BBS, about ten years ago when ZModem was
still new. What you can get today, such as from Chuck Forsberg's
web site ("www.omen.com", if I remember correctly), is only a stripped
down version of the original specification, if at all. As a matter of
fact, current source code available from that site has a significant
number of features removed, such as the famous "crash recovery feature",
i.e. the ability to resume a file transfer after it was aborted.
   Anyway, I could send you the specification files I have.

> > Something has to happen when you send these characters. Might be your
> > modem is buffering this data (sending a break might help). Might be
> > the remote program does not interpret the cancel sequence correctly.
> 
> well you know what, I put the line xpr_swrite(zmodemcancel,20) back in
> my program and it works now..  argh...

   Might be a coincidence. I recommend you send a break signal to the
modem before you send the cancel characters (via SDCMD_BREAK). This
will flush the modem buffers and make the cancel characters stand out.

> [..]
> > Right now I believe that xprzmodem.library should be retired.
> 
> well, that's not an option until someone writes a new one.  we can't
> get rid of the ZModem prototol, it's here to stay.

   But we can get rid of the library that implements it...

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Got an opinion?
http://www.onelist.com
Make it count!  Sign up for the ONElist Weekly Survey now.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@ENDNODE 

