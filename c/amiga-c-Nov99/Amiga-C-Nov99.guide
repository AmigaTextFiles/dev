@database Amiga_C_List.guide
@width 70

@node "Introduction" "Introduction"
@wordwrap

                         Amiga-C Mailing List Guide
                         ==========================

This guide is intended as an easy reference to the Amiga C mailing list.

It contains messages posted to the Amiga C mailing list during the month shown on the main page.

To subscribe to the Amiga C mailing list, search for amiga-c at Onelist.

http://www.onelist.com

This AmigaGuide was created using GuideMaker.rexx © Roger Light 1999
@endnode

@node "Main" "Amiga C Mailing List Guide"
                    @{b}Amiga C Mailing List Guide
                    ==========================@{ub}

                          Nov 1999

@{" Introduction " link Introduction } Introduction to the guide.

@{" Search " SYSTEM "RUN <>NIL: Searchguide FINAME"} Search this file (requres SearchGuide)

 ------------------------------------------------------------------- 

@{" Re: Re: lowlevel.library " Link "Mail_0"}      Ben Hutchings
@{" Keyboard reading for games. " Link "Mail_1"}      Tim Hanson
@{" Re: postscript " Link "Mail_2"}      Michael_Sage@May-Co.com
@{" Re: mem loss with 3.5 " Link "Mail_3"}      Rod_MacLean@uk.ibm.com
@{" Re: Keyboard reading for games. " Link "Mail_4"}      Ben Hutchings
@{" AW: Not a C-problem, but developement related... " Link "Mail_5"}      Fritsch Alexander
@{" AW: Datatypes " Link "Mail_6"}      Fritsch Alexander
@{" Re: lowlevel.library " Link "Mail_7"}      Richard Drummond
@{" Re: Datatypes " Link "Mail_8"}      Adrien HEMERY
@{" Re: Datatypes " Link "Mail_9"}      Allan Odgaard
@{" Re: Keyboard reading for games. " Link "Mail_10"}      Gavin Kinsey
@{" main() " Link "Mail_11"}      Adrien HEMERY
@{" Re: Keyboard reading for games. " Link "Mail_12"}      Martyn Capewell
@{" Re: main() " Link "Mail_13"}      Michael_Sage@May-Co.com
@{" RE: main() " Link "Mail_14"}      Rod_MacLean@uk.ibm.com
@{" Re: RE: main() " Link "Mail_15"}      B Subhash Chandra Yadhav
@{" StormC and bitfields " Link "Mail_16"}      Matthias Wild
@{" Re: StormC and bitfields " Link "Mail_17"}      Ben Hutchings
@{" Re: RE: main() " Link "Mail_18"}      Ben Hutchings
@{" Re: StormC and bitfields " Link "Mail_19"}      Matthias Wild
@{" Re: StormC and bitfields " Link "Mail_20"}      peter mysliwy
@{" Notification on CloseLibrary() " Link "Mail_21"}      Jesper Svennevid
@{" Joy reading " Link "Mail_22"}      Adrien HEMERY
@{" Re: Notification on CloseLibrary() " Link "Mail_23"}      Allan Odgaard
@{" AslRequest. " Link "Mail_24"}      Emanuele Cesaroni
@{" VBCC newbie question " Link "Mail_25"}      Gudi
@{" RE: main() " Link "Mail_26"}      "Page, Luke"
@{" RE: Re: Notification on CloseLibrary() " Link "Mail_27"}      Jesper Svennevid
@{" AW: VBCC newbie question " Link "Mail_28"}      Fritsch Alexander
@{" Re: VBCC newbie question " Link "Mail_29"}      Gudi
@{" Re: AW: VBCC newbie question " Link "Mail_30"}      Jarno van der Linden
@{" VBCC " Link "Mail_31"}      Micha³ Bartczak
@{" SAS-C compiler & OS3.5 " Link "Mail_32"}      JSteic1957@aol.com
@{" Re: Re: VBCC newbie question " Link "Mail_33"}      Jarno van der Linden
@{" WB Startup " Link "Mail_34"}      Adrien HEMERY
@{" Re: VBCC newbie question " Link "Mail_35"}      Gavin Kinsey
@{" Re: lowlevel.library " Link "Mail_36"}      Daithi O'Cuinn
@{" Re: VBCC newbie question " Link "Mail_37"}      Martyn Capewell
@{" Re: VBCC newbie question " Link "Mail_38"}      Gudi
@{" Re: WB Startup " Link "Mail_39"}      Laura Vance
@{" Re: VBCC newbie question " Link "Mail_40"}      Rod Schnell
@{" Re: VBCC " Link "Mail_41"}      Volker Barthelmann
@{" Re: VBCC " Link "Mail_42"}      Micha³ Bartczak
@{" Re: WB Startup " Link "Mail_43"}      Adrien HEMERY
@{" OT:Editing samples " Link "Mail_44"}      Tim Hanson
@{" Re: Re: WB Startup " Link "Mail_45"}      Roger Light
@{" Re: OT:Editing samples " Link "Mail_46"}      Roger Light
@{" Re: WB Startup " Link "Mail_47"}      Nicholas Clarke
@{" Re: WB Startup " Link "Mail_48"}      Rod Schnell
@{" Re: WB Startup " Link "Mail_49"}      Jesper Svennevid
@{" Copying files " Link "Mail_50"}      Tim Hanson
@{" How do you get a .device name from a Volume: name " Link "Mail_51"}      Dominic Clifton
@{" VBCC Ctrl-C " Link "Mail_52"}      Martyn Capewell
@{" VBCC Bad Points " Link "Mail_53"}      Mike Carter
@{" SAS-C Link Error " Link "Mail_54"}      Mike Carter
@{" Re: Re: VBCC " Link "Mail_55"}      Volker Barthelmann
@{" Re: Copying files " Link "Mail_56"}      Ben Hutchings
@{" Re: How do you get a .device name from a Volume: name " Link "Mail_57"}      Ben Hutchings
@{" Re: How do you get a .device name from a Volume: name " Link "Mail_58"}      Colin Wenzel
@{" Re: VBCC " Link "Mail_59"}      Micha³ Bartczak
@{" Re: SAS-C Link Error " Link "Mail_60"}      Rod Schnell
@{" Re: VBCC Ctrl-C " Link "Mail_61"}      Andrew Bell
@{" RE: SAS-C Link Error " Link "Mail_62"}      mike.carter@bigfoot.com
@{" Re: RE: SAS-C Link Error " Link "Mail_63"}      Laurent FAILLIE
@{" AW: Re: SAS-C Link Error " Link "Mail_64"}      Fritsch Alexander
@{" RE: SAS-C Link Error " Link "Mail_65"}      mike.carter@bigfoot.com
@{" Re: VBCC Ctrl-C " Link "Mail_66"}      Martyn Capewell
@{" Re: SAS-C Link Error " Link "Mail_67"}      Rod Schnell
@{" Re: Re: SAS-C Link Error " Link "Mail_68"}      Gregory Roberts II
@{" Re: Copying files " Link "Mail_69"}      Tim Hanson
@{" Re: Re: VBCC " Link "Mail_70"}      Volker Barthelmann
@{" Re: VBCC Bad Points " Link "Mail_71"}      "Alastair M. Robinson"
@{" Re: VBCC Ctrl-C " Link "Mail_72"}      "Alastair M. Robinson"
@{" VBCC and .lib files (reqtools) " Link "Mail_73"}      Dominic Clifton
@{" Re: VBCC " Link "Mail_74"}      Micha³ Bartczak
@{" Re: VBCC and .lib files (reqtools) " Link "Mail_75"}      "M.M. Capewell"
@{" Re: Copying files " Link "Mail_76"}      Andrew Bell
@{" Re: VBCC " Link "Mail_77"}      Tim Hanson
@{" Re: unsubscribe " Link "Mail_78"}      Andrew Bell
@{" Re: Re: Copying files " Link "Mail_79"}      Ben Hutchings
@{" unsubscribe " Link "Mail_80"}      Lloyd Rosen
@{" Re: Copying files " Link "Mail_81"}      Tim Hanson
@{" Re: VBCC and .lib files (reqtools) " Link "Mail_82"}      Micha³ Bartczak
@{" Re: VBCC " Link "Mail_83"}      Micha³ Bartczak
@{" Opening device " Link "Mail_84"}      Jack York
@{" Re: Opening device " Link "Mail_85"}      Andrew Bell
@{" Re: Opening device " Link "Mail_86"}      Jack York
@{" Re: Opening device " Link "Mail_87"}      Andrew Bell
@{" gfx-coding tutorials " Link "Mail_88"}      Michael Schulze
@{" Re: Opening device " Link "Mail_89"}      Jack York
@{" Re: Re: VBCC " Link "Mail_90"}      Volker Barthelmann
@{" Re: Opening device " Link "Mail_91"}      Colin Wenzel
@{" Re: Opening device " Link "Mail_92"}      Ben Hutchings
@{" Re: gfx-coding tutorials " Link "Mail_93"}      Micha³ Bartczak
@{" Message 68k<->PPC WOS. " Link "Mail_94"}      Grzegorz Fitrzyk
@{" Re: Opening device " Link "Mail_95"}      Jack York
@{" Re: Opening device " Link "Mail_96"}      Jack York
@{" Re: gfx-coding tutorials " Link "Mail_97"}      pclar7@yahoo.co.uk
@{" Re: Re: Opening device " Link "Mail_98"}      Ben Hutchings
@{" Re: Re: VBCC Ctrl-C " Link "Mail_99"}      Volker Barthelmann
@{" Re: Opening device " Link "Mail_100"}      Colin Wenzel
@{" Re: VBCC Ctrl-C " Link "Mail_101"}      Colin Wenzel
@{" Re: gfx-coding tutorials " Link "Mail_102"}      Michael Schulze
@{" Re: Message 68k<->PPC WOS. " Link "Mail_103"}      Micha³ Bartczak
@{" Re: Opening device " Link "Mail_104"}      Jack York
@{" Re: Opening device " Link "Mail_105"}      Jack York
@{" SystemTags Missing Path " Link "Mail_106"}      Mike Carter
@{" Joypad test. " Link "Mail_107"}      Tim Hanson
@{" Re: Re: VBCC Ctrl-C " Link "Mail_108"}      Volker Barthelmann
@{" Re: VBCC Ctrl-C " Link "Mail_109"}      Colin Wenzel
@{" Re: SystemTags Missing Path " Link "Mail_110"}      Laurent FAILLIE
@{" What is tm_IDST on time.h? " Link "Mail_111"}      Dr Brain Damage
@{" Re: SystemTags Missing Path " Link "Mail_112"}      Richard Drummond
@{" Re: SystemTags Missing Path " Link "Mail_113"}      Allan Odgaard
@{" Interrupt Server - Z flag usage " Link "Mail_114"}      ROBERT MEYERS
@{" Re: SystemTags Missing Path " Link "Mail_115"}      Richard Drummond
@{" Re: Re: SystemTags Missing Path " Link "Mail_116"}      Oliver Roberts
@{" Re: Re: SystemTags Missing Path " Link "Mail_117"}      Oliver Roberts
@{" Re: SystemTags Missing Path " Link "Mail_118"}      Mike Carter
@{" Re: Message 68k<->PPC WOS. " Link "Mail_119"}      Mike Carter
@{" Re: SystemTags Missing Path " Link "Mail_120"}      Allan Odgaard
@{" Re: SystemTags Missing Path " Link "Mail_121"}      Ben Hutchings
@{" building .libs using FD2Lib " Link "Mail_122"}      Michael Schulze
@{" Re: building .libs using FD2Lib " Link "Mail_123"}      Michal Bartczak
@{" Re: building .libs using FD2Lib " Link "Mail_124"}      Michael Schulze
@{" Picture loading/saving " Link "Mail_125"}      Roger Light
@{" Re: Picture loading/saving " Link "Mail_126"}      Adrien HEMERY
@{" Re: Picture loading/saving " Link "Mail_127"}      Adrien HEMERY
@{" Re: Re: Picture loading/saving " Link "Mail_128"}      Roger Light
@{" Re: building .libs using FD2Lib " Link "Mail_129"}      Tim Hanson
@{" Re: Picture loading/saving " Link "Mail_130"}      Tim Hanson
@{" MCC's & Serial Numbers " Link "Mail_131"}      David Arbuthnot
@{" Re: MCC's & Serial Numbers " Link "Mail_132"}      Allan Odgaard
@{" Re: Picture loading/saving " Link "Mail_133"}      Allan Odgaard
@{" Re: Picture loading/saving " Link "Mail_134"}      Micha³ Bartczak
@{" Re: SystemTags Missing Path " Link "Mail_135"}      Micha³ Bartczak
@{" Re: What is tm_IDST on time.h? " Link "Mail_136"}      Steffen
@{" Re: SystemTags Missing Path " Link "Mail_137"}      Mike Carter
@{" Re: building .libs using FD2Lib " Link "Mail_138"}      Mike Carter
@{" Re: Re: Picture loading/saving " Link "Mail_139"}      Ben Hutchings
@{" Re: Joypad test. " Link "Mail_140"}      Mike Carter
@{" Setting a Shell to open... " Link "Mail_141"}      Mike Carter
@{" Re: building .libs using FD2Lib " Link "Mail_142"}      Micha³ Bartczak
@{" Re: Message 68k<->PPC WOS. " Link "Mail_143"}      Micha³ Bartczak
@{" Re: Setting a Shell to open... " Link "Mail_144"}      Dominic Clifton
@{" Re: Re: Picture loading/saving " Link "Mail_145"}      Roger Light
@{" Icon Tooltypes " Link "Mail_146"}      Martyn Capewell
@{" Re: Icon Tooltypes " Link "Mail_147"}      Rod Schnell
@{" Re: Joypad test. " Link "Mail_148"}      "Alastair M. Robinson"
@{" Re: Picture loading/saving " Link "Mail_149"}      "Alastair M. Robinson"
@{" Re: Joypad test. " Link "Mail_150"}      Tim Hanson
@{" Re: Icon Tooltypes " Link "Mail_151"}      Stephan Huebner
@{" Re: building .libs using FD2Lib " Link "Mail_152"}      Volker Barthelmann
@{" Needing help in changing int to char. " Link "Mail_153"}      Dr Brain Damage
@{" Re: Needing help in changing int to char. " Link "Mail_154"}      Andrew Ballard
@{" Re: Icon Tooltypes " Link "Mail_155"}      Adrien HEMERY
@{" AW: Needing help in changing int to char. " Link "Mail_156"}      Fritsch Alexander
@{" Reading/ writing icons " Link "Mail_157"}      Rod_MacLean@uk.ibm.com
@{" Converting ASCII Decimal codes to char " Link "Mail_158"}      David Arbuthnot
@{" Re: Setting a Shell to open... " Link "Mail_159"}      David Arbuthnot
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_160"}      Michal Bartczak
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_161"}      Andrew Bell
@{" Displaying floats " Link "Mail_162"}      Donald W Millican
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_163"}      Rod Schnell
@{" Re: Displaying floats " Link "Mail_164"}      Gregory Roberts II
@{" Re: Needing help in changing int to char. " Link "Mail_165"}      Tim Hanson
@{" RE: Displaying floats " Link "Mail_166"}      Jesper Svennevid
@{" M68k<->PPC WOS messages troubles SOLVED " Link "Mail_167"}      Micha³ Bartczak
@{" Re: Re: Needing help in changing int to char. " Link "Mail_168"}      Gregory Roberts II
@{" Re: Re: Needing help in changing int to char. " Link "Mail_169"}      Gregory Roberts II
@{" Re: VBCC Ctrl-C " Link "Mail_170"}      "Alastair M. Robinson"
@{" Re: Needing help in changing int to char. " Link "Mail_171"}      Ben Hutchings
@{" Re: Re: Needing help in changing int to char. " Link "Mail_172"}      Ben Hutchings
@{" Re: Re: Needing help in changing int to char. " Link "Mail_173"}      Ben Hutchings
@{" Re: Needing help in changing int to char. " Link "Mail_174"}      Laura Vance
@{" Re: Needing help in changing int to char. " Link "Mail_175"}      Laura Vance
@{" Re: Displaying floats " Link "Mail_176"}      Laura Vance
@{" Re: Re: Converting ASCII Decimal codes to char " Link "Mail_177"}      Ben Hutchings
@{" transparent drawing " Link "Mail_178"}      Adrien HEMERY
@{" It's that time again..... " Link "Mail_179"}      Colin Wenzel
@{" ReadPixel() problem " Link "Mail_180"}      Bob Lanham
@{" Re: ReadPixel() problem " Link "Mail_181"}      Martin McKenzie
@{" Re: It's that time again..... " Link "Mail_182"}      Rod Schnell
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_183"}      Rod Schnell
@{" Re: VBCC Ctrl-C " Link "Mail_184"}      Rod Schnell
@{" Shared Libraries and Calling own functions " Link "Mail_185"}      David Arbuthnot
@{" Re: It's that time again..... " Link "Mail_186"}      troy silvey
@{" Re: It's that time again..... " Link "Mail_187"}      Colin Wenzel
@{" Re: It's that time again..... " Link "Mail_188"}      Tim Hanson
@{" Re: Shared Libraries and Calling own functions " Link "Mail_189"}      Allan Odgaard
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_190"}      Allan Odgaard
@{" Re: transparent drawing " Link "Mail_191"}      Allan Odgaard
@{" Ni-Cd batteries. " Link "Mail_192"}      Lee Atkins
@{" Re: Re: Converting ASCII Decimal codes to char " Link "Mail_193"}      Ben Hutchings
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_194"}      Rod Schnell
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_195"}      Rod Schnell
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_196"}      Allan Odgaard
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_197"}      Rod_MacLean@uk.ibm.com
@{" Flood fill " Link "Mail_198"}      Lee Atkins
@{" Re: Joypad test. " Link "Mail_199"}      Mike Carter
@{" Re: Re: Converting ASCII Decimal codes to char " Link "Mail_200"}      Ben Hutchings
@{" Re: Ni-Cd batteries. " Link "Mail_201"}      Colin Wenzel
@{" Re: Re: Converting ASCII Decimal codes to char " Link "Mail_202"}      "James S. Adelman"
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_203"}      Rod Schnell
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_204"}      Rod Schnell
@{" Re: Little maths problem. " Link "Mail_205"}      Jonathan Adamczewski
@{" Re: Little maths problem. " Link "Mail_206"}      Jonathan Adamczewski
@{" Re: Re: Little maths problem. " Link "Mail_207"}      Jonathan Adamczewski
@{" Re: Setting a Shell to open... " Link "Mail_208"}      Mike Carter
@{" Re: Setting a Shell to open... " Link "Mail_209"}      Mike Carter
@{" Re: Setting a Shell to open... " Link "Mail_210"}      Rod_MacLean@uk.ibm.com
@{" Little maths problem. " Link "Mail_211"}      Tim Hanson
@{" Re: Flood fill " Link "Mail_212"}      Ben Hutchings
@{" Re: Re: Converting ASCII Decimal codes to char " Link "Mail_213"}      Ben Hutchings
@{" Re: Re: Converting ASCII Decimal codes to char " Link "Mail_214"}      Ben Hutchings
@{" Re: Re: Converting ASCII Decimal codes to char " Link "Mail_215"}      "James S. Adelman"
@{" Re: Re: Converting ASCII Decimal codes to char " Link "Mail_216"}      Ben Hutchings
@{" Re: Little maths problem. " Link "Mail_217"}      "James S. Adelman"
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_218"}      Allan Odgaard
@{" QNX " Link "Mail_219"}      Allan Odgaard
@{" Re: Little maths problem. " Link "Mail_220"}      Allan Odgaard
@{" using offsets " Link "Mail_221"}      Jack York
@{" Re: It's that time again..... " Link "Mail_222"}      Colin Wenzel
@{" Re: using offsets " Link "Mail_223"}      Allan Odgaard
@{" Re: QNX " Link "Mail_224"}      Colin Wenzel
@{" Re: Little maths problem. " Link "Mail_225"}      Allan Odgaard
@{" Re: using offsets " Link "Mail_226"}      Jack York
@{" Re: Converting ASCII Decimal codes to char " Link "Mail_227"}      Rod Schnell
@{" RE: Little maths problem. " Link "Mail_228"}      "Page, Luke"
@{" RE: QNX " Link "Mail_229"}      mike.carter@bigfoot.com
@{" RE: QNX " Link "Mail_230"}      Jesper Svennevid
@{" Re: Flood fill " Link "Mail_231"}      Lee Atkins
@{" Re: using offsets " Link "Mail_232"}      Allan Odgaard
@{" Re: QNX " Link "Mail_233"}      Allan Odgaard
@{" Re: QNX " Link "Mail_234"}      Colin Wenzel
@{" Re: using offsets " Link "Mail_235"}      Jack York
@{" Re: Re: Flood fill " Link "Mail_236"}      Michal Bartczak
@{" Re: TCP/IP Programming. " Link "Mail_237"}      Yves Grabowsky
@{" Re: using offsets " Link "Mail_238"}      Allan Odgaard
@{" Re: QNX " Link "Mail_239"}      Allan Odgaard
@{" TCP/IP Programming. " Link "Mail_240"}      DenJS
@{" Re: TCP/IP Programming. " Link "Mail_241"}      Rod Schnell
@{" VBCC Threads " Link "Mail_242"}      "Alastair M. Robinson"
@{" Getting desperate! " Link "Mail_243"}      Nuno Trancoso
@{" How do I write a handler? " Link "Mail_244"}      Allan Odgaard
@{" Re: Getting desperate! " Link "Mail_245"}      Allan Odgaard
@{" Re: Getting desperate! " Link "Mail_246"}      Stephen Illingworth
@{" Re: Re: It's that time again..... " Link "Mail_247"}      Michael_Sage@May-Co.com
@{" Re: Reading/ writing icons " Link "Mail_248"}      "Alastair M. Robinson"
@{" Re: Getting desperate! " Link "Mail_249"}      Nuno Trancoso
@{" Re: It's that time again..... " Link "Mail_250"}      Colin Wenzel
@{" Little maths problem " Link "Mail_251"}      "Alastair M. Robinson"
@{" What's up with VBCC's getc()? " Link "Mail_252"}      "Alastair M. Robinson"
@{" Re: It's that time again..... " Link "Mail_253"}      Nuno Trancoso
@{" Re: Getting desperate! " Link "Mail_254"}      Allan Odgaard
@{" Re: NULL definitions (was: Converting ASCII Decimal codes to char) " Link "Mail_255"}      Rod_MacLean@uk.ibm.com
@{" SuperBitMap Window " Link "Mail_256"}      Bob Lanham
@{" Re: Getting desperate! " Link "Mail_257"}      Nuno Trancoso
@{" Re: SuperBitMap Window " Link "Mail_258"}      Allan Odgaard
@{" Re: Getting desperate! " Link "Mail_259"}      Allan Odgaard
@{" Re: Re: Getting desperate! " Link "Mail_260"}      Volker Barthelmann
@{" Re: Compiler Problems " Link "Mail_261"}      Rod Schnell
@{" Re: Compiler Problems " Link "Mail_262"}      Rod Schnell
@{" creating makefiles " Link "Mail_263"}      Micha!?
@{" Optimizing (was : Re: getting desperate!) " Link "Mail_264"}      Nuno Trancoso
@ENDNODE
@NODE "Mail_0" " Re: Re: lowlevel.library "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-01-99 02:01:52
Subject: @{b}Re: Re: lowlevel.library@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Oct 29, 1999 at 02:24:23PM +0100, Tim Hanson wrote:
<snip>
> Curious. I`ve got 3.0 here and it`s in my libs: drawer and I`ve got the docs.
> God knows where I got it from.
> 
> What I haven`t got however is all the includes. I`ve got the clib/..._Protos.h
> and the libraries/....h but I need the pragmas and/or the link library to get
> it working with DICE. Anyone know where I can get them? Would it be illegal
> for someone to send them to me?
> I`d like to see what SystemControl() does. It looks a bit fearsome.

If I remember correctly, DICE comes with two programs called FD2Pragma
and FD2Lib which you can use to generate those files from the FD file
(realtime.fd) and prototype header (realtime_protos.h).

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Asking whether machines can think is like
asking whether submarines can swim.

@ENDNODE
@NODE "Mail_1" " Keyboard reading for games. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-01-99 11:24:15
Subject: @{b}Keyboard reading for games.@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,
I`m trying to write some keyboard code for an action game. The problem is that
when I hold down any key then press any other key the first key apears to be
released. This happens whether I use IDCMP rawkeys or lowlevel library
QueryKeys(). The result is that I can`t have two keys pressed at the same
time.

I think I remember reading somewhere that this is a problem with cheap Windows
keyboards and will not occur on a proper Amiga keyboard but as the game is
designed to run on graphics cards (particularly BVision) I`m sure a lot of
its target audience will have these cheap s**te keyboards.

    Can anyone think of a work around?



-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_2" " Re: postscript "
From: Michael_Sage@May-Co.com
Date: 11-01-99 14:43:25
Subject: @{b}Re: postscript@{ub}

From: Michael_Sage@May-Co.com



You want Ghostscript.  It's on Aminet.



> There is somebody who can help me about reading postscripts documents
> (text+pics).
> There is any programs able in on Aminet?

@ENDNODE
@NODE "Mail_3" " Re: mem loss with 3.5 "
From: Rod_MacLean@uk.ibm.com
Date: 11-01-99 14:51:08
Subject: @{b}Re: mem loss with 3.5@{ub}

From: Rod_MacLean@uk.ibm.com




>>> This isn't really a coding problem (I hope) but maybe someone
>>> can help me.  If I run my program under OS 3.1 I don't lose
>>> any memory.  If I switch to 3.5 and run again I can lose 15 K
>>> just by starting and stoping the program.  I'm using Dice and
>>> Classact as a gui.  Does anyone know why this is happening?  Could
>>> the program be at fault?  I would prefer not tearing it apart to
>>> find a problem that doesn't exist.;(
>>>
>>
>> Do you lose 15k every time you run it, or just the first time? If it's
>> just the first time, it's probably just classes loaded in memory. Classes
>> are libraries and will remain loaded in memory after the program that
>> loaded them exists just like any other library.
>
> I lose some memory everytime.  The first time it is probably mostly the
> libraries.  But after that I continue to lose it.  The amount varies,
> depending on what I do with the program.  If I switch to OS 3.1, I will
> lose the intial amount but none after that.

Are you using datatypes? I found that certain combinations of datatypes/
datatypes.library caused me to lose around 15k each time I ran my program...

The solution was to use another datatypes.library while testing for memory
leaks - my prog didn't leak with certain versions of datatypes.library, so
I just wrote the leaks off as being due to someone elses code ;)

--
Rod MacLean - IT Specialist
L2L, IBM Perth (tel 01738 894135)
IEA GBIB1S3U @ IBMMAIL    (rod_maclean@uk.ibm.com)

@ENDNODE
@NODE "Mail_4" " Re: Keyboard reading for games. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-02-99 00:32:34
Subject: @{b}Re: Keyboard reading for games.@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Nov 01, 1999 at 11:24:15AM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> I`m trying to write some keyboard code for an action game. The problem is that
> when I hold down any key then press any other key the first key apears to be
> released. This happens whether I use IDCMP rawkeys or lowlevel library
> QueryKeys(). The result is that I can`t have two keys pressed at the same
> time.
> 
> I think I remember reading somewhere that this is a problem with cheap Windows
> keyboards and will not occur on a proper Amiga keyboard but as the game is
> designed to run on graphics cards (particularly BVision) I`m sure a lot of
> its target audience will have these cheap s**te keyboards.

The A1200 keyboard controller cannot detect multiple keys pressed
on the same row of the main keyboard area.  It can, however, detect
any combination of cursor keys.

The problem with PC keyboards is not just with the keyboards but with
the various adapters.  I have two identical keyboards for my PC and my
A1200.  The Amiga doesn't even get combinations of cursor keys through
that adapter, but the PC does - so I know the problem is with the
adapter.

The A1000 keyboard controller has a bug - if you press 2 keys in the
same row and another in the same column as one of the others, it can't
tell which column the third key is in and it reports two new key-
presses!

>     Can anyone think of a work around?

You should be OK if you pick keys that are not in the same row or
column of the keyboard matrix.  However, this may be tricky since PC
and Amiga keyboards won't use the same matrix and PC-to-A1200 keyboard
interfaces are quite weird.

Remember that the qualifier keys are wired so that they can each be
detected independently of any other keys.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Asking whether machines can think is like
asking whether submarines can swim.

@ENDNODE
@NODE "Mail_5" " AW: Not a C-problem, but developement related... "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 11-02-99 08:07:25
Subject: @{b}AW: Not a C-problem, but developement related...@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>


> From: "alan fullarton" <alan_fullarton@hotmail.com>
> 
> IRC's? International Reply Coupon. You probably got the reply
> outside your country and this person want's you to pay postage
> for the photo copies.
> 
> I have gotten information from Canada and the United Kingdom
> so I would use IRC's because they can't use American stamps.
> They cost about 1 U.S. dollar each.
> 
> Hope this helps.
> 
> Alan Fullarton
> 
	Yes, that seems to be the right answer.
	Thank you very much!

	Alexander Fritsch 

@ENDNODE
@NODE "Mail_6" " AW: Datatypes "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 11-02-99 08:42:32
Subject: @{b}AW: Datatypes@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>



> -----Ursprüngliche Nachricht-----
> Von:	Adrien HEMERY [SMTP:iliak_@club-internet.fr]
> Gesendet am:	Samstag, 30. Oktober 1999 19:59
> An:	amiga-c@onelist.com
> Betreff:	[amiga-c] Datatypes
> 
> From: Adrien HEMERY <iliak_@club-internet.fr>
> 
> hi
> 
> why this piece of code return bm==NULL ?
> 
>         GetDTAttrs(dto, //PDTA_ModeID,    &modeID,
>                                 PDTA_CRegs,        &colorreg,
>                                 PDTA_BitMap,    &bm,
>                                 TAG_END);
> 
> (dto is a picture object, and i want to have access to the bitmap (bm) and
> the colormap (colorreg))
> 
> colorreg returns good but bm is always a 0 !!!
> 
> regards
> 
	  

      I have just learned from Andreas Kleinert that we have to call 
              DoMethod(dto, DTM_PROCLAYOUT, NULL, TRUE);
      before there is a valid bitmap. 

      Without this command the bitmap CAN be valid (depends on the datatype)
but is not guaranted.
	Hope this helps a little bit. 
	Datatypes are great! 
	  
	Kind regards
	Alexander Fritsch 

@ENDNODE
@NODE "Mail_7" " Re: lowlevel.library "
From: Richard Drummond <richard.drummond@futurenet.co.uk>
Date: 11-02-99 10:53:34
Subject: @{b}Re: lowlevel.library@{ub}

From: "Richard Drummond" <richard.drummond@futurenet.co.uk>

Hello Ben

On 01-Nov-99, you wrote:
 
>> What I haven`t got however is all the includes. I`ve got the
>> clib/..._Protos.h and the libraries/....h but I need the pragmas and/or
>> the link library to get it working with DICE. Anyone know where I can get
>> them? Would it be illegal for someone to send them to me? I`d like to see
>> what SystemControl() does. It looks a bit fearsome.
> 
> If I remember correctly, DICE comes with two programs called FD2Pragma
> and FD2Lib which you can use to generate those files from the FD file
> (realtime.fd) and prototype header (realtime_protos.h).

I built a OS31 version of amiga.lib for DICE which has the stubs for
lowlevel.library (and fixes a couple of bugs).

You can get a copy from:
http://www.drummond.u-net.com/dice/download/amiga31.lha

If you want to do inline library calls, you'll have to make the pragma file,
though.
 
Cheers,
Rich

-- 
Richard Drummond
Staff Writer, Amiga Format

mailto: richard.drummond@futurenet.co.uk
pgp   : http://www.drummond.u-net.com/download/richards_key.asc
phone : +44 (0)1225 442244 ext 2417

@ENDNODE
@NODE "Mail_8" " Re: Datatypes "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 11-02-99 11:22:03
Subject: @{b}Re: Datatypes@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hello Fritsch

> .....
>      Without this command the bitmap CAN be valid (depends on the
> datatype) but is not guaranted.
>     Hope this helps a little bit. 
>     Datatypes are great! 
>      
thx :)
 

Regards

@ENDNODE
@NODE "Mail_9" " Re: Datatypes "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-02-99 12:49:22
Subject: @{b}Re: Datatypes@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 02-Nov-99, Fritsch Alexander wrote:

>      I have just learned from Andreas Kleinert that we have to call 
>              DoMethod(dto, DTM_PROCLAYOUT, NULL, TRUE);
>      before there is a valid bitmap. 

This will cause the picture to be remapped (and dithered) to the specified
screen, which is AFAIK not what Adrien wants.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Error: Keyboard not found! Press F1 to resume.

@ENDNODE
@NODE "Mail_10" " Re: Keyboard reading for games. "
From: Gavin Kinsey <gavin@kinsey.u-net.com>
Date: 11-02-99 18:50:50
Subject: @{b}Re: Keyboard reading for games.@{ub}

From: Gavin Kinsey <gavin@kinsey.u-net.com>

I received a message from Tim Hanson, a reply follows,
> 
> Hi All,
> I`m trying to write some keyboard code for an action game. The problem is
> that when I hold down any key then press any other key the first key
> apears to be released. This happens whether I use IDCMP rawkeys or
> lowlevel library QueryKeys(). The result is that I can`t have two keys
> pressed at the same time.
> 
> I think I remember reading somewhere that this is a problem with cheap
> Windows keyboards and will not occur on a proper Amiga keyboard but as the
> game is designed to run on graphics cards (particularly BVision) I`m sure
> a lot of its target audience will have these cheap s**te keyboards.
> 
>    Can anyone think of a work around?

It is a hardware problem to do with the pc kb interface AFAIK, so nothing
you can do about it I'm afraid.

-- 
The severity of the itch is inversely proportional to the ability to reach
it.

Gavin Kinsey

@ENDNODE
@NODE "Mail_11" " main() "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 11-02-99 20:07:49
Subject: @{b}main()@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

hi

my app is crasing the wb (guru 0x8000 0008)when i quit my app, if my main() is like that :

int main(int argc, char **argv)
{
}

but if i set it up as 

void main(int argc, char **argv)

everything rulez....
But if i use it under cli everything goes right, but if i run it under wb,
boum !

ps : I use SasC 6.57 (4040@25, 16Mo, CV64,OS3.5)


regards

@ENDNODE
@NODE "Mail_12" " Re: Keyboard reading for games. "
From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
Date: 11-02-99 21:16:50
Subject: @{b}Re: Keyboard reading for games.@{ub}

From: Martyn Capewell <mmc28@hermes.cam.ac.uk>

Hello Gavin

On 02-Nov-99, you wrote:

> From: Gavin Kinsey <gavin@kinsey.u-net.com>
> 
> I received a message from Tim Hanson, a reply follows,
>> 
>> Hi All,
>> I`m trying to write some keyboard code for an action game. The problem is
>> that when I hold down any key then press any other key the first key
>> apears to be released. This happens whether I use IDCMP rawkeys or
>> lowlevel library QueryKeys(). The result is that I can`t have two keys
>> pressed at the same time.

>>   Can anyone think of a work around?
> 
> It is a hardware problem to do with the pc kb interface AFAIK, so nothing
> you can do about it I'm afraid.
>

The only "workaround" is, as someone else suggested, to use qualifier keys.
There's LSHIFT, RSHIFT, LALT, RALT, LAMIGA, RAMIGA and any other normal key
usable simultaneously (I think). But don't use CTRL for a couple of reasons:

a) On my keyboard interface, an EZKey, CTRL is on the caps lock key, and
pressing it with things like shift can cause all sorts of problems, like
shift lock that's difficult to disable, or the dreaded alt lock.

b) On some systems, the combination CTRL, RAMIGA, LAMIGA can enable some
undocumented features. ;)
 
Regards
-- 
- Martyn Capewell
    {   Compsci, University of Cambridge   }
    { http://members.xoom.com/legerdemain0 }

@ENDNODE
@NODE "Mail_13" " Re: main() "
From: Michael_Sage@May-Co.com
Date: 11-02-99 22:20:14
Subject: @{b}Re: main()@{ub}

From: Michael_Sage@May-Co.com



Do you explicitly return a value back to the OS (like:  return 0;)?  If not,
maybe SAS is generating implicit code that returns a bogus value for an int but
a good value for void.





Adrien HEMERY <iliak_@club-internet.fr> on 11/02/99 02:07:49 PM


Please respond to amiga-c@onelist.com

To:   amiga-c@onelist.com
cc:    (bcc: Michael Sage/GLDC/MAYCO)
Subject:  [amiga-c] main()




From: Adrien HEMERY <iliak_@club-internet.fr>

hi

my app is crasing the wb (guru 0x8000 0008)when i quit my app, if my main() is
like that :

int main(int argc, char **argv)
{
}

but if i set it up as

void main(int argc, char **argv)

everything rulez....
But if i use it under cli everything goes right, but if i run it under wb,
boum !

ps : I use SasC 6.57 (4040@25, 16Mo, CV64,OS3.5)


regards

     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <-

@ENDNODE
@NODE "Mail_14" " RE: main() "
From: Rod_MacLean@uk.ibm.com
Date: 11-03-99 13:54:47
Subject: @{b}RE: main()@{ub}

From: Rod_MacLean@uk.ibm.com




>  Adrien HEMERY <iliak_@club-internet.fr> writes:
> my app is crasing the wb (guru 0x8000 0008)when i quit my app, if my main() is
> like that :
>
> int main(int argc, char **argv)
>
> but if i set it up as
>
> void main(int argc, char **argv)
>
> everything rulez....
> But if i use it under cli everything goes right, but if i run it under wb,
> boum !

Are you checking that argc !=0 ????
If argc == 0 then you've started from WB and you should really be looking for
WB startup messages...


> ps : I use SasC 6.57 (4040@25, 16Mo, CV64,OS3.5)

I think that SASC has startup code for this - it'll be documented somewhere.

but IIRC, you can use the argarray stuff to check your parameters and it
will work under CLI _and_ WB. You can assume that any parameters that
aren't matched are filenames...

I don't know if this is OS legal...

     Rod

--
Rod MacLean - IT Specialist
L2L, IBM Perth (tel 01738 894135)
IEA GBIB1S3U @ IBMMAIL    (rod_maclean@uk.ibm.com)

@ENDNODE
@NODE "Mail_15" " Re: RE: main() "
From: B Subhash Chandra Yadhav <ysubhash@miel.mot.com>
Date: 11-03-99 14:02:55
Subject: @{b}Re: RE: main()@{ub}

From: B Subhash Chandra Yadhav <ysubhash@miel.mot.com>

Hi Adrien,
    Well There could be another error as well.In your code it might so happen that
you are doing some operation on argv.Note that sice you have declared char ** argv
can be operated on .Try changing it to char * argv[].I feel this implimentationis
always safe to work on.
Bye
regards
Subhash

Rod_MacLean@uk.ibm.com wrote:

> From: Rod_MacLean@uk.ibm.com
>
> >  Adrien HEMERY <iliak_@club-internet.fr> writes:
> > my app is crasing the wb (guru 0x8000 0008)when i quit my app, if my main() is
> > like that :
> >
> > int main(int argc, char **argv)
> >
> > but if i set it up as
> >
> > void main(int argc, char **argv)
> >
> > everything rulez....
> > But if i use it under cli everything goes right, but if i run it under wb,
> > boum !
>
> Are you checking that argc !=0 ????
> If argc == 0 then you've started from WB and you should really be looking for
> WB startup messages...
>
> > ps : I use SasC 6.57 (4040@25, 16Mo, CV64,OS3.5)
>
> I think that SASC has startup code for this - it'll be documented somewhere.
>
> but IIRC, you can use the argarray stuff to check your parameters and it
> will work under CLI _and_ WB. You can assume that any parameters that
> aren't matched are filenames...
>
> I don't know if this is OS legal...
>
>      Rod
>
> --
> Rod MacLean - IT Specialist
> L2L, IBM Perth (tel 01738 894135)
> IEA GBIB1S3U @ IBMMAIL    (rod_maclean@uk.ibm.com)
>
> >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <-

@ENDNODE
@NODE "Mail_16" " StormC and bitfields "
From: Matthias Wild <M.W.Tissi@t-online.de>
Date: 11-03-99 19:32:49
Subject: @{b}StormC and bitfields@{ub}

hi,

I have some problems with the following structure from /netinet/ip.h  


struct ip {
#if BYTE_ORDER == LITTLE_ENDIAN
        u_char  ip_hl:4,                /* header length */
                ip_v:4;                 /* version */
#endif
#if BYTE_ORDER == BIG_ENDIAN
        u_char  ip_v:4,                 /* version */
                ip_hl:4;                /* header length */
#endif
        u_char  ip_tos;                 /* type of service */
        short   ip_len;                 /* total length */
        u_short ip_id;                  /* identification */
        short   ip_off;                 /* fragment offset field */
#define IP_DF 0x4000                    /* dont fragment flag */
#define IP_MF 0x2000                    /* more fragments flag */
#define IP_OFFMASK 0x1fff               /* mask for fragmenting bits */
        u_char  ip_ttl;                 /* time to live */
        u_char  ip_p;                   /* protocol */
        u_short ip_sum;                 /* checksum */
        struct  in_addr ip_src,ip_dst;  /* source and dest address */
};                                                                 


If i try to compile a sourcecode wich uses this structure i get this
errormessage:

" Error: Illegal use of bitfields. "
" ...e/netinet/ip.h, line 42: u_char ip_tos;  /* type of service */ "
" Error: Illegal use of bitfields. "
" ...e/netinet/ip.h, line 119: u_char ipt_oflw:4,  /* overflow counter */ "

I have no problems with gnu C, so i think it`s StormC specific.
I hope someone can help me.

cu

@ENDNODE
@NODE "Mail_17" " Re: StormC and bitfields "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-03-99 21:51:25
Subject: @{b}Re: StormC and bitfields@{ub}

On Wed, Nov 03, 1999 at 07:32:49PM +0100, Matthias Wild wrote:
<snip>
> If i try to compile a sourcecode wich uses this structure i get this
> errormessage:
> 
> " Error: Illegal use of bitfields. "
> " ...e/netinet/ip.h, line 42: u_char ip_tos;  /* type of service */ "
> " Error: Illegal use of bitfields. "
> " ...e/netinet/ip.h, line 119: u_char ipt_oflw:4,  /* overflow counter */ "
> 
> I have no problems with gnu C, so i think it`s StormC specific.
> I hope someone can help me.

If I remember correctly, Standard C only provides for bitfields of
signed integer types, so StormC is not wrong to disallow them.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Asking whether machines can think is like
asking whether submarines can swim.

@ENDNODE
@NODE "Mail_18" " Re: RE: main() "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-03-99 22:02:33
Subject: @{b}Re: RE: main()@{ub}

On Wed, Nov 03, 1999 at 06:32:55PM +0530, B Subhash Chandra Yadhav wrote:
> From: B Subhash Chandra Yadhav <ysubhash@miel.mot.com>
> 
> Hi Adrien,

>     Well There could be another error as well.In your code it might
> so happen that you are doing some operation on argv.Note that sice
> you have declared char ** argv can be operated on .Try changing it
> to char * argv[].I feel this implimentationis always safe to work
> on.
<snip>

These declarations are equivalent.  In the early days of C, array
variables were just pointers that the compiler initialised to point to
arrays.  This meant that there was no difference in the treatment of
values of pointer or array type.  This is no longer true, but you are
still allowed to use [] in some places such as argument types where
the compiler can tell that you mean a pointer to an array rather than
an array.  I tend to use char **, to be consistent.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Asking whether machines can think is like
asking whether submarines can swim.

@ENDNODE
@NODE "Mail_19" " Re: StormC and bitfields "
From: Matthias Wild <M.W.Tissi@t-online.de>
Date: 11-03-99 22:20:20
Subject: @{b}Re: StormC and bitfields@{ub}


> On Wed, Nov 03, 1999 at 07:32:49PM +0100, Matthias Wild wrote:
> <snip>
>> If i try to compile a sourcecode wich uses this structure i get this
>> errormessage:
>> 
>> " Error: Illegal use of bitfields. " " ...e/netinet/ip.h, line 42: u_char
>> ip_tos; /* type of service */ " " Error: Illegal use of bitfields. " "
>> ...e/netinet/ip.h, line 119: u_char ipt_oflw:4, /* overflow counter */ "
>> 
>> I have no problems with gnu C, so i think it`s StormC specific.
>> I hope someone can help me.
> 
> If I remember correctly, Standard C only provides for bitfields of
> signed integer types, so StormC is not wrong to disallow them.

no sorry it doesen`t work

cu 

@ENDNODE
@NODE "Mail_20" " Re: StormC and bitfields "
From: peter mysliwy <pamiga@channel1.com>
Date: 11-03-99 22:55:12
Subject: @{b}Re: StormC and bitfields@{ub}

Hello Matthias
I got this from the storm list and it odes work.

Try amending the include file to the following:

struct tcphdr {
        u_short th_sport;               /* source port */
        u_short th_dport;               /* destination port */
        tcp_seq th_seq;                 /* sequence number */
        tcp_seq th_ack;                 /* acknowledgement number */

        struct {
#if BYTE_ORDER == LITTLE_ENDIAN
        u_char  sth_x2:4,                /* (unused) */
                sth_off:4;               /* data offset */
#endif
#if BYTE_ORDER == BIG_ENDIAN
        u_char  sth_off:4,               /* data offset */
                sth_x2:4;                /* (unused) */
#endif
        } x2off;
#define th_off x2off.sth_off
#define th_x2 x2off.sth_x2

On 03-Nov-99, you wrote:

> hi,
> 
> I have some problems with the following structure from /netinet/ip.h  
> 
> 
> struct ip {
> #if BYTE_ORDER == LITTLE_ENDIAN
>        u_char  ip_hl:4,                /* header length */
>                ip_v:4;                 /* version */
> #endif
> #if BYTE_ORDER == BIG_ENDIAN
>        u_char  ip_v:4,                 /* version */
>                ip_hl:4;                /* header length */
> #endif
>        u_char  ip_tos;                 /* type of service */
>        short   ip_len;                 /* total length */
>        u_short ip_id;                  /* identification */
>        short   ip_off;                 /* fragment offset field */
> #define IP_DF 0x4000                    /* dont fragment flag */
> #define IP_MF 0x2000                    /* more fragments flag */
> #define IP_OFFMASK 0x1fff               /* mask for fragmenting bits */
>        u_char  ip_ttl;                 /* time to live */
>        u_char  ip_p;                   /* protocol */
>        u_short ip_sum;                 /* checksum */
>        struct  in_addr ip_src,ip_dst;  /* source and dest address */
> };                                                                 
> 
> 
> If i try to compile a sourcecode wich uses this structure i get this
> errormessage:
> 
> " Error: Illegal use of bitfields. " " ...e/netinet/ip.h, line 42: u_char
> ip_tos; /* type of service */ " " Error: Illegal use of bitfields. " "
> ...e/netinet/ip.h, line 119: u_char ipt_oflw:4, /* overflow counter */ "
> 
> I have no problems with gnu C, so i think it`s StormC specific.
> I hope someone can help me.
> 
> cu
> 
> >     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 
Regards
-- 
Whenever you find that you are on the side of the majority, it is
time to reform.
-- Mark Twain

@ENDNODE
@NODE "Mail_21" " Notification on CloseLibrary() "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 11-04-99 01:04:34
Subject: @{b}Notification on CloseLibrary()@{ub}

I'm creating a shared library directly in memory in a application
I'm working on, and I now have a small problem. I need to
know if it's safe to notify the process owning the library
that a program is closing it(Using Signal() for example)?

Currently the program enters a loop and waits until
LibNode.lib_ OpenCnt turns zero, and programs
that call any of the  library-function after my process
enters this loop will lock up.

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_22" " Joy reading "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 11-04-99 10:56:05
Subject: @{b}Joy reading@{ub}

hi

somtime ago, some1 wanted a ex of how to read joy, so here's a simple ex of
it (even CD32 ones).

Sorry to be so late :)

regards
@ENDNODE
@NODE "Mail_23" " Re: Notification on CloseLibrary() "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-05-99 01:49:33
Subject: @{b}Re: Notification on CloseLibrary()@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 04-Nov-99, Jesper Svennevid wrote:

> I'm creating a shared library directly in memory in a application
> I'm working on, and I now have a small problem. I need to
> know if it's safe to notify the process owning the library
> that a program is closing it(Using Signal() for example)?

I don't see why it shouldn't work - but what on earth are you doing? All
library implementations so far have worked without such strange tricks... ;-)

> Currently the program enters a loop and waits until
> LibNode.lib_ OpenCnt turns zero, and programs

Similar for the guy who was using a loop to wait for all his threads to quit
then you can obtain a shared semaphore for each LibOpen, and then obtain it as
exclusive when you want to wait for everybody to call LibClose (which would
release the semaphore)

> that call any of the  library-function after my process
> enters this loop will lock up.

What does that mean?

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Common sense is the collection of prejudices acquired by age eighteen.
-- Albert Einstein

@ENDNODE
@NODE "Mail_24" " AslRequest. "
From: Emanuele Cesaroni <emacesa@tin.it>
Date: 11-05-99 06:49:04
Subject: @{b}AslRequest.@{ub}

From: Emanuele Cesaroni <emacesa@tin.it>


Hello.

Can anybody help me with this problem ?

I have written a program which opens a screen, a custom screen, and a
window, of the same size, to read inputs from mouse etc.

Then i call asl.AlsRequest() and it opens well the requester's window, but
when i exit from the requester (a file requester) the image
of requester (the image of its window) remains on screen, altering the
screen's data. 

This on 060 machines with cgx >= v4.0, and also on AGA screens.
On a 4000 + PicassoIV + Picasso96 it never happens.
The systems with that problem have one of two new P5's graphics boards, as
the BVision.

There is anybody who got the same problem ?

Thank you.
Emanuele.

 

@ENDNODE
@NODE "Mail_25" " VBCC newbie question "
From: Gudi <master_gudi@gmx.de>
Date: 11-05-99 13:19:12
Subject: @{b}VBCC newbie question@{ub}

From: Gudi <master_gudi@gmx.de>

Hi There..

I'm currently making my first steps in programming the Amiga in 'C'. I'm
using vbcc and a "platform independent" tutorial for that. According to my
tutorial, the following expression is standard ANSI-C:



#include <stdio.h>

void main()
{
 short input;
 scanf("%d",&input)
 printf("%d",input)
}



But when I try to compile that program with vbcc, the compiler complains
about a "suspicious expression" (at the "scanf(...)" line). An executable is
created, but the "scanf" does not work correctly...
The same expression, but with the "long" datatype ("...long input;...
scanf("%ld",&input);...") is working fine.

What's my mistake (or even worse: vbcc's mistake) ?

Thanks in advance, 

Chris

@ENDNODE
@NODE "Mail_26" " RE: main() "
From: "Page, Luke" <L.Page@worthing.ac.uk>
Date: 11-05-99 14:24:24
Subject: @{b}RE: main()@{ub}

From: "Page, Luke" <L.Page@worthing.ac.uk>

if the program is running through wb and the cli, surely you should
use 
void wbmain()
{
	/* get  wb variables */
	main(var,vary);
}
int main(

etc...
so when called by the cli, it returns (main() called) , but it does not on
the wb. (different procedure called).
Luke

@ENDNODE
@NODE "Mail_27" " RE: Re: Notification on CloseLibrary() "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 11-05-99 15:01:57
Subject: @{b}RE: Re: Notification on CloseLibrary()@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> > I'm creating a shared library directly in memory in a application
> > I'm working on, and I now have a small problem. I need to
> > know if it's safe to notify the process owning the library
> > that a program is closing it(Using Signal() for example)?
> 
> I don't see why it shouldn't work - but what on earth are you doing? All
> library implementations so far have worked without such strange 
> tricks... ;-)

This library is created as a interface to a program, so the library
only exists when the program itself it running. I needed some way
of notifying the program that a 'client' had closed the library,
and then quitting the program had gotten a ctrl-c request before that.

> > Currently the program enters a loop and waits until
> > LibNode.lib_ OpenCnt turns zero, and programs
> 
> Similar for the guy who was using a loop to wait for all his 
> threads to quit
> then you can obtain a shared semaphore for each LibOpen, and then 
> obtain it as
> exclusive when you want to wait for everybody to call LibClose 
> (which would
> release the semaphore)

(That was me aswell btw :P)

This would work badly as the program needs to process requests
posted thru the library. The library itself never executes
any important code, it just does something like this:

long __asm TMFUNC_TransferCreate(register __a0 char* uri)
{
	long ret;

	ObtainSemaphore(&ClientLock);

	RequestType = TMREQ_TRANSFERCREATE; // create a new transfer
	RequestArguments[0] = uri; // Uniform Resource Identifier

	pClientTask = FindTask(NULL);
	Signal(pLibraryTask,1<<LibrarySignal); // send request
	Wait(SIGF_SINGLE);

	ret = RequestCode;
	RelaseSemaphore(&ClientLock);
	return RequestCode;
}

I resolved th by the Signal() from LibClose(), as then I could
continue the main-loop processing all the signals, and such
process all requests even after I got the SIGBREAKF_CTRL_C signal.
When all clients have closed the library I can then silently exit
without any fuzz.:)

(The library gets removed from the library-list when I get ctrl-c, so
no new clients can open the library then.)

> > that call any of the  library-function after my process
> > enters this loop will lock up.
> 
> What does that mean?

above :)

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_28" " AW: VBCC newbie question "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 11-05-99 16:31:23
Subject: @{b}AW: VBCC newbie question@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>



> From: Gudi <master_gudi@gmx.de>
> 
> Hi There..
> 
> I'm currently making my first steps in programming the Amiga in 'C'. I'm
> using vbcc and a "platform independent" tutorial for that. According to my
> tutorial, the following expression is standard ANSI-C:
> 
> 
> 
> #include <stdio.h>
> 
> void main()
> {
>  short input;
>  scanf("%d",&input)
>  printf("%d",input)
> }
> 
	Your tutorial may not be absolutely right here. The %d means "int"
in scanf and printf.
	int and short used to be of the same length (16bits) on PCs. 

	The correct definition is

	sizeof(short) <= sizeof(int)

	On the Amiga and int is 32 bit but a short just 16 bit long.
	So you try to write an 32Bit-Value to an 16Bit variable in your
example.

	%d   -> use int variables
	%ld  -> use long variables.

	(long and int are of the same length on Amigas but that can be
different on other computers as again the definition is
	sizeof(int) <= sizeof (long)

	So use the correct data types to be compatible.

	Kind regards Alexander Fritsch

@ENDNODE
@NODE "Mail_29" " Re: VBCC newbie question "
From: Gudi <master_gudi@gmx.de>
Date: 11-05-99 20:40:15
Subject: @{b}Re: VBCC newbie question@{ub}

From: Gudi <master_gudi@gmx.de>

Thanks for the info!

>     Your tutorial may not be absolutely right here. The %d means "int"
> in scanf and printf.
>     int and short used to be of the same length (16bits) on PCs. 
> 
>     The correct definition is
> 
>     sizeof(short) <= sizeof(int)
> 
>     On the Amiga and int is 32 bit but a short just 16 bit long.
>     So you try to write an 32Bit-Value to an 16Bit variable in your
> example.
> 
>     %d   -> use int variables
>     %ld  -> use long variables.
> 
>     (long and int are of the same length on Amigas but that can be
> different on other computers as again the definition is
>     sizeof(int) <= sizeof (long)
> 
>     So use the correct data types to be compatible.
> 
>     Kind regards Alexander Fritsch

So is there a way to "scanf" or "printf" short variables ? Is there a
"placeholder" (sorry, don't know the exact english expression) for the
"short" datatype ? Not that I _really_ need that, I'm just curious :)

Chris

@ENDNODE
@NODE "Mail_30" " Re: AW: VBCC newbie question "
From: Jarno van der Linden <jarno@kcbbs.gen.nz>
Date: 11-05-99 23:18:55
Subject: @{b}Re: AW: VBCC newbie question@{ub}

From: Jarno van der Linden <jarno@kcbbs.gen.nz>

> From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
> > From: Gudi <master_gudi@gmx.de>
> > 
> > #include <stdio.h>
> > 
> > void main()
> > {
> >  short input;
> >  scanf("%d",&input)
> >  printf("%d",input)
> > }
> > 
> 	Your tutorial may not be absolutely right here. The %d means "int"
> in scanf and printf.

Not only that, but main() must return an int. Whatever the tutorial is
teaching, it's not standard C. To quote the comp.lang.c faq:

11.15:  The book I've been using, _C Programing for the Compleat Idiot_,
        always uses void main().

A:      Perhaps its author counts himself among the target audience.
        Many books unaccountably use void main() in examples.  They're
        wrong.


---JvdL---

@ENDNODE
@NODE "Mail_31" " VBCC "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-06-99 08:04:02
Subject: @{b}VBCC@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>

Sorry for bothering everyone ;)

I'm currently working on my custom distribution of VBCC.

It will be available via:
http://ihh.pi.com.pl/mikerro

For now it is not really available through www pages, because I've found
some nasty bugs in my version (namely: I used obsolete vc.lib for 68k
compiled compilers, and found a bug in ppc powerup compiled compilers. If
someone needs only warpup compiled version, it is available on
http://ihh.pi.com.pl/mikerro/stuff/VBCC_Install.lha and works 100% fine
(because it was the version I used for compilation ;)

I've traced all bug and now I'm compiling working distribution, will be
available soon (soon = as fast as I'll be able to transfer it into my work
machine ;) Probably in monday.

Changes done to original archive:

* Installer script created ;)
* Docs turned into guide
* multiple-add (those fmadd) instruction and single precision floating
points for PPC target
* fixed vbcc sources, makefiles and so on
* fixed standard libraries
* added ai includes ;)

Michal Bartczak

@ENDNODE
@NODE "Mail_32" " SAS-C compiler & OS3.5 "
From: JSteic1957@aol.com
Date: 11-06-99 08:21:09
Subject: @{b}SAS-C compiler & OS3.5@{ub}

From: JSteic1957@aol.com

I thought everyone might like to know that there's some sort of 
incompatibility between SAS-C (V6.58) & the new OS3.5.  Specifically, 
catch.o, a startup code that gets linked with your program crashes the 
machine.  I'm still investigating just how this is happening.

"Time flies like an arrow, fruit flies like a banana!"

@ENDNODE
@NODE "Mail_33" " Re: Re: VBCC newbie question "
From: Jarno van der Linden <jarno@kcbbs.gen.nz>
Date: 11-06-99 08:54:46
Subject: @{b}Re: Re: VBCC newbie question@{ub}

From: Jarno van der Linden <jarno@kcbbs.gen.nz>

> So is there a way to "scanf" or "printf" short variables ? Is there a

Yes, with the h "placeholder" (don't know how it's called either):

  short v;
  printf("A short value: %hd\n",v);

---JvdL---

@ENDNODE
@NODE "Mail_34" " WB Startup "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 11-06-99 11:52:16
Subject: @{b}WB Startup@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

hi

could someone explain me how to handler WB/CLI Startup code by
giving some source plz ? 

bye

@ENDNODE
@NODE "Mail_35" " Re: VBCC newbie question "
From: Gavin Kinsey <gavin@kinsey.u-net.com>
Date: 11-06-99 16:51:04
Subject: @{b}Re: VBCC newbie question@{ub}

From: Gavin Kinsey <gavin@kinsey.u-net.com>

I received a message from Gudi, a reply follows,
> 
> #include <stdio.h>
> 
> void main()
> {
> short input;
> scanf("%d",&input)
> printf("%d",input)
> }
> 
> What's my mistake (or even worse: vbcc's mistake) ?

Wrong type in the scanf format string, "%d" is an int.  I would also suggest
making the return type of main int as otherwise your program may foul up on
exit depending on the OS and compiler used.  If the code below doesn't work
then there is something wrong with your setup.

#include <stdio.h>

int main()
{
   int input;

   scanf("%d", &input);
   printf("%d", input);

   return(0);
}


-- 
Experience is directly proportional to the value of equipment destroyed.
-  Carolyn Scheppner

Gavin Kinsey

@ENDNODE
@NODE "Mail_36" " Re: lowlevel.library "
From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
Date: 11-06-99 18:39:42
Subject: @{b}Re: lowlevel.library@{ub}

From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

Hello Tim

On 30-Oct-99, Tim Hanson wrote:
> Cheers for that mate but that`s more or less the code I`m using. What I
> really want is something from the OS that will be forward compatible if
> someone builds an amiga without the same custom chip addresses. Don`t say it
> will never happen.

And why not aim for programming perfection anyhow? ;)
As you say though, forward compatibility is everything. Although it may be
unlikely that a new Amiga with different custom chips is ever built, hardware
innovations like Blittersoft's playstation controller adapter will be broken
with any non-OS code. (It uses the parallel port and a modified
lowlevel.library, AFAIK)

Regards
-- 
Daithi O'Cuinn
docuinn@cluke.demon.co.uk

@ENDNODE
@NODE "Mail_37" " Re: VBCC newbie question "
From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
Date: 11-06-99 20:17:56
Subject: @{b}Re: VBCC newbie question@{ub}

From: Martyn Capewell <mmc28@hermes.cam.ac.uk>

Hello Gudi

On 06-Nov-99, you wrote:

> From: Gudi <master_gudi@gmx.de>
> 
> Thanks for all the infos!
> 
> But now a new problem appeared: Whenever I try to use th datatype
> "floating point", vbcc complains about a "undefined reference to
> __ieeeaddl" or "undefined reference to __ieees2d". Error number is 21.
> What does that mean?

It's looking for a function it needs to do printf() with floating point
numbers. You need to link the math library with your program:

    vc -lmieee <your prog>
 
Regards
-- 
- Martyn Capewell
    {   Compsci, University of Cambridge   }
    { http://members.xoom.com/legerdemain0 }

@ENDNODE
@NODE "Mail_38" " Re: VBCC newbie question "
From: Gudi <master_gudi@gmx.de>
Date: 11-06-99 20:21:57
Subject: @{b}Re: VBCC newbie question@{ub}

From: Gudi <master_gudi@gmx.de>

Thanks for all the infos!

But now a new problem appeared: Whenever I try to use th datatype "floating
point", vbcc complains about a "undefined reference to __ieeeaddl" or
"undefined reference to __ieees2d". Error number is 21.
What does that mean?
Here's an example:

#include <stdio.h>

int main()
 {
 float x=10.0;
  printf("X is now: %g\n",x);
 return(0);
 }

Without the "printf" statement everything works fine. What's my fault (or
better: my tutorial's fault) ?

Chris

@ENDNODE
@NODE "Mail_39" " Re: WB Startup "
From: Laura Vance <vancel@amiga.nols.com>
Date: 11-06-99 21:17:09
Subject: @{b}Re: WB Startup@{ub}

From: Laura Vance <vancel@amiga.nols.com>

The way that I've always handled determining if a program starts from WB or CLI is to check for the number of arguments passed to the program.  If the argument count is 0, it was started from WB.  If there is anything more than 0, it was started from CLI.  I'll include the snip of code that does this in one of my programs.

    void main(int argc, char *argv[])
    {
        // initialize variables, do some code...blah blah...

        if(!argc)
       {
           GT_SetGadgetAttrs(statgad,statuswindow,NULL,GTTX_Text,"Program started from Workbench",TAG_END);
        
        // more stuff happens than just this, but it gives you the idea.
       }



that may or may not help, but it's what I use and it hadn't caused any problems.  It's also what they recommend to use in the Amiga C Encyclopedia.

later,
Laura

      

-----Original Message-----
Sent: Sat, 06 Nov 1999 12:52:16 +0200,
From: Adrien HEMERY <iliak_@club-internet.fr>
Subject:  [amiga-c] WB Startup


From: Adrien HEMERY <iliak_@club-internet.fr>

hi

could someone explain me how to handler WB/CLI Startup code by giving some source plz ? 

bye


     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 



-- 
      \|/
     (o o)
---ooO(_)Ooo---
   Peekaboo!!

@ENDNODE
@NODE "Mail_40" " Re: VBCC newbie question "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-06-99 21:51:10
Subject: @{b}Re: VBCC newbie question@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello Gudi

On 06-Nov-99, Gudi wrote:
> From: Gudi <master_gudi@gmx.de>
> 
> Thanks for all the infos!
> 
> But now a new problem appeared: Whenever I try to use th datatype "floating
> point", vbcc complains about a "undefined reference to __ieeeaddl" or
> "undefined reference to __ieees2d". Error number is 21.
> What does that mean?
> Here's an example:
> 

Change your compiler options to link with floating point math . With SAS/C
you just set the MATH option to anything other than MATH=NONE, dunno how
vbcc handles it.

  Rod

@ENDNODE
@NODE "Mail_41" " Re: VBCC "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 11-07-99 02:31:11
Subject: @{b}Re: VBCC@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Sat, 6 Nov 1999, [iso-8859-2] Micha³ Bartczak wrote:

> I'm currently working on my custom distribution of VBCC.

Please do not do that, it is not allowed!

Note that vbcc is neither public-domain nor GPL. The current license only
allows distribution of the unmodified archive free of charge, as well as
non-commercial usage.

You may write an installer-script or additional add-ons and distribute
them separately. You may also modify and distribute the parts of vbcc
which are under a different license (e.g. vc.lib is PD). However, I do not
want any vbcc-distributions out there which have not been compiled by
myself.

Please understand that I have put a lot of work into vbcc and I have never
demanded shareware-fees for it. But I do not want to give it out of my
hands and I want to keep all my options for the future. Also, if everybody
would distribute his personal vbcc-versions, that would create a lot
of confusion and I could not reliably help people with vbcc-problems
anymore.

Of course I really appreciate if people are using vbcc or want to
contribute to it. But for the key-parts of vbcc the only way is to send me
any suggestions/features etc. you'd like to have incorporated. I know that
I do not implement all of those and that it takes quite some time until I
release updates (which will not be better now that Phase5 demands their
PPC-board back), but nevertheless this procedure has IMHO produced a
competitive compiler-system which has been well-accepted.

Sorry if this prevents some of your efforts, but please understand my
position on this topic.

Volker

@ENDNODE
@NODE "Mail_42" " Re: VBCC "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-07-99 07:16:28
Subject: @{b}Re: VBCC@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>


> Please do not do that, it is not allowed!
> 
> Note that vbcc is neither public-domain nor GPL. The current license only
> allows distribution of the unmodified archive free of charge, as well as
> non-commercial usage.
> 
> You may write an installer-script or additional add-ons and distribute
> them separately. You may also modify and distribute the parts of vbcc
> which are under a different license (e.g. vc.lib is PD). However, I do not
> want any vbcc-distributions out there which have not been compiled by
> myself.
Ok. I removed archive from my server and I won't spread it anymore.
 
> Of course I really appreciate if people are using vbcc or want to
> contribute to it. But for the key-parts of vbcc the only way is to send me
> any suggestions/features etc. you'd like to have incorporated. I know that
> I do not implement all of those and that it takes quite some time until I
> release updates (which will not be better now that Phase5 demands their
> PPC-board back), but nevertheless this procedure has IMHO produced a
> competitive compiler-system which has been well-accepted.
Hmm.. the really changes in vbcc I did were singles (which I'm sure I sent
you) and  
some unmatched fclose's in vsc.c. I know they should be handled by vc.lib
but it seems that vc.lib in powerup case is unable to do so... (dunno why,
I hadn't changed THAT much)

rest changes is in vc.lib

> Sorry if this prevents some of your efforts, but please understand my
> position on this topic.
That's ok, you are the boss there ;)

But please, at last try try to check what I did. It seems that your updates
are really unfrequent, and IMHO this version is cleaned a bit. Yes, i know
it isn't that portable anymore, but I wanted VBCC amiga specific.

I've got working version now, and I can send it to you. I'm also writting
this in public, just to ask if anyone want my work. If not, I won't bother
and just recompile vbcc for my needs and that's it ;) [this is what I done
looong time ago]

> Volker

Regards

Michal

@ENDNODE
@NODE "Mail_43" " Re: WB Startup "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 11-07-99 12:14:14
Subject: @{b}Re: WB Startup@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hello Laura

> that may or may not help, but it's what I use and it hadn't caused any
> problems.

yes, but how do i manage the WB startup ? AFAIK, WB send some message(s) and
i have to answer them and at the end of my proc, if it was run from the wb,
i have to send 'the final message'.

I speak about the 'final message', cause when i quit my app, the WB crash
with the guru :
     AN_WBBadIOMsg      0x3100 0003   /* Hacker code?*/

But what is strange is that it doesnt do it all the time. I mean if i
execute only a (small, only 3 lines) part of proc, then it crashes...

> It's also what they recommend to use in the Amiga C
> Encyclopedia.

Hmmmm, Amiga C Encyclopedia is it 'little' bit 'very' old, 'cause it deals
about the 1.3 and and few about 2.x and not at all about 3.x.....


BTW, is there any develloper docs about the OS 3.5 and where can i buy, get
them ???


Regards

@ENDNODE
@NODE "Mail_44" " OT:Editing samples "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-07-99 12:18:18
Subject: @{b}OT:Editing samples@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,
Very OT but can anyone recommend a nice simple freeware sample editor. All I
need is cut and paste and some simple fade in/out functions etc. I`d write it
myself but I`m sure someone has done a good version of it somewhere. All I
can find are things done in AMOS which ignore my gfx-card or just jam the
machine.
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_45" " Re: Re: WB Startup "
From: Roger Light <rogerlight@mindless.com>
Date: 11-07-99 13:26:40
Subject: @{b}Re: Re: WB Startup@{ub}

From: Roger Light <rogerlight@mindless.com>

> BTW, is there any develloper docs about the OS 3.5 and where can i buy, get
> them ???

The new Developer CD will be available from November 15th - see
http://www.haage-partner.com/news/news_991104_e.htm for more info.

Roger
--
UK University Email Search
http://www.angelfire.com/vt/ralight/search.html
-----------------------------------------------
GetCDDB Support Page
http://www.angelfire.com/vt/ralight/getcddb.html

@ENDNODE
@NODE "Mail_46" " Re: OT:Editing samples "
From: Roger Light <rogerlight@mindless.com>
Date: 11-07-99 13:51:41
Subject: @{b}Re: OT:Editing samples@{ub}

From: Roger Light <rogerlight@mindless.com>

> Very OT but can anyone recommend a nice simple freeware sample editor.

Not sure how good it is, but you there are sample editing features in
Octamed SS which is now freely distributable.

Regards,

Roger

@ENDNODE
@NODE "Mail_47" " Re: WB Startup "
From: Nicholas Clarke <nclarke@diku.dk>
Date: 11-07-99 15:25:35
Subject: @{b}Re: WB Startup@{ub}

From: Nicholas Clarke <nclarke@diku.dk>

On Sat, 6 Nov 1999, Adrien HEMERY wrote:

> From: Adrien HEMERY <iliak_@club-internet.fr>
> 
> hi
> 
> could someone explain me how to handler WB/CLI Startup code by
> giving some source plz ? 

Using autodocs/includes you should be able to convert this to c yourself.

Suffice to say if you dont perform a getmsg from the wb before doing
library calls esp dos, the system kicks your ass!

** -- CLI/WB -- **

 sub.l a1,a1
 move.l 4.w,a6
 jsr _LVOFindTask(a6)
 move.l d0,a5
; move.l d0,rbv_taskptr(a5)
 moveq #0,d0
 tst.l 172(a5)   ; pr_CLI
 bne.s .rb_FromCLI
 lea 92(a5),a0  ; pr_MsgPort
 jsr _LVOWaitPort(a6)
 lea 92(a5),a0
 jsr _LVOGetMsg(a6)
.rb_FromCLI
 move.l d0,d7

rest of program

** -- Exit First Hunk/Task -- **

.rb_exit
 tst.l d7
 beq.s .rb_exitcli
 move.l 4.w,a6
 jsr _LVOForbid(a6)
 move.l d7,a1
 jsr _LVOReplyMsg(a6)
.rb_exitcli
 moveq #0,d0
 rts

--
                 e-mail: nclarke@diku.dk                          __:::__
                  http://come.to/parcon                          |       |
           http://www.diku.dk/students/nclarke                   | O   O |
                                                               __||_____||__
                      /| ________________                     |  |_______|  |
                O|===|* >________________>                    |__:       :__|
                      \|                                         :  (R)  :
                                                                _:__ _ __:_
                     ParCon Software                           |    | |    |
         BigBrother, AsmOneTNG, LogicBBS, DMS2.0x              |_ __| |__ _|
       AR-IV, SafeCopyII, OWS, BHC and loads more...           |____| |____|

@ENDNODE
@NODE "Mail_48" " Re: WB Startup "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-07-99 19:50:12
Subject: @{b}Re: WB Startup@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello Adrien

On 07-Nov-99, Adrien HEMERY wrote:
> From: Adrien HEMERY <iliak_@club-internet.fr>
> 
> Hello Laura
> 
>> that may or may not help, but it's what I use and it hadn't caused any
>> problems.
> 
> yes, but how do i manage the WB startup ? AFAIK, WB send some message(s) and
> i have to answer them and at the end of my proc, if it was run from the wb,
> i have to send 'the final message'.
> 
> I speak about the 'final message', cause when i quit my app, the WB crash
> with the guru :
>     AN_WBBadIOMsg      0x3100 0003   /* Hacker code?*/
> 
> But what is strange is that it doesnt do it all the time. I mean if i
> execute only a (small, only 3 lines) part of proc, then it crashes...
> 

You must be linking with no or custom startup code. Link with standard
startup code and don't worry about handling process->pr_MsgPort.

  Rod

@ENDNODE
@NODE "Mail_49" " Re: WB Startup "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 11-07-99 20:31:23
Subject: @{b}Re: WB Startup@{ub}

From: Jesper Svennevid <jesper@fxrealm.com>

Hello Adrien

On 07-Nov-99, you wrote:

> yes, but how do i manage the WB startup ? AFAIK, WB send some message(s)
> and i have to answer them and at the end of my proc, if it was run from
> the wb, i have to send 'the final message'.
> 
> I speak about the 'final message', cause when i quit my app, the WB crash
> with the guru :
>     AN_WBBadIOMsg      0x3100 0003   /* Hacker code?*/
> 
> But what is strange is that it doesnt do it all the time. I mean if i
> execute only a (small, only 3 lines) part of proc, then it crashes...

Seems like your C-compiler doesn't fetch the wb-message at all. These
snippets
should solve it, but you really need to look into why the compiler doesn't
check
if it's running from WB...

struct Message* gpWBMessage = NULL;

--- init

struct Task* p_task = FindTask(NULL);

if(NULL != p_task -> pr_CLI)
{
    WaitPort(p_task -> pr_MsgPort);
    gpWBMessage = GetMsg(p_task -> pr_MsgPort);
}

--- exit

if(NULL != gpWBMessage)
    ReplyMsg(gpWBMessage);

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_50" " Copying files "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-08-99 11:06:03
Subject: @{b}Copying files@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,
Is there a dos library or ANSI function to copy a file from one disk to
another or do I have to handle the allocation of a buffer and the reading and
writing myself. 
I just want to write a simple cli command that duplicates 'copy' but checks if
the copy will overwrite a file at the destination and renames the file in a
systematic way if it does.

It seems like a lot of time wasting to allocate buffers for the job when dos
has buffers already there.



-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_51" " How do you get a .device name from a Volume: name "
From: Dominic Clifton <dom@dsltd.force9.co.uk>
Date: 11-08-99 13:11:48
Subject: @{b}How do you get a .device name from a Volume: name@{ub}

From: Dominic Clifton <dom@dsltd.force9.co.uk>


Given the volume name DH0: how do I 

a) get the device name (e.g. ISDH0:)
b) get the .device name (e.g. cybppc.device)

?

This has been bugging me for years, please help!

@ENDNODE
@NODE "Mail_52" " VBCC Ctrl-C "
From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
Date: 11-08-99 20:50:31
Subject: @{b}VBCC Ctrl-C@{ub}

From: Martyn Capewell <mmc28@hermes.cam.ac.uk>

Hello,

Just a short request. Could anyone tell me how to detect a Ctrl-C in a shell  using VBCC?

Thanks.
-- 
- Martyn Capewell
    {   Compsci, University of Cambridge   }
    { http://members.xoom.com/legerdemain0 }

@ENDNODE
@NODE "Mail_53" " VBCC Bad Points "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 11-08-99 21:52:23
Subject: @{b}VBCC Bad Points@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

Hi guys,

Apart from the crap installation, does VBCC have any
bad points as a compiler - APART from not supporting
C++.

Just trying to remind myself of why I should swap to
using it, AND base my 'C' IDE around it.

Dinky do,

M!ke C.

-- 

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD FD,5 CD-ROMS,CDrW,ZiP250     \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_'-_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

@ENDNODE
@NODE "Mail_54" " SAS-C Link Error "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 11-08-99 22:21:37
Subject: @{b}SAS-C Link Error@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

Help, please :-(  Can some SAS/C guy/gal tell me why
I'm all of a sudden getting the following errors
chucked up durin' linking.  I;m not sure what I've
twiddled in the Options.  But now it will not compile
:-(  ANd I've never experimented before with them!  It
seems even resetting to SAS defaults has not fixed my
problem??!

What other possible cause could it be?  Ideas in an
email...


Slink - Version 6.58
Copyright (c) 1988-1995 SAS Institute, Inc.  All Rights Reserved.

ERROR: Multiply defined symbol '_cli_imagePaletteRGB4'.
       First defined in file 'cli_image.o'.
        Type = RELOCATABLE   Value = 0
       Redefined in file 'Execute_Command.module.o'.
        Type = RELOCATABLE   Value = 0
ERROR: Multiply defined symbol '_cli_imagePaletteRGB32'.
       First defined in file 'cli_image.o'.
        Type = RELOCATABLE   Value = 16
       Redefined in file 'Execute_Command.module.o'.
        Type = RELOCATABLE   Value = 16
ERROR: Multiply defined symbol '_cli_image'.
       First defined in file 'cli_image.o'.
        Type = RELOCATABLE   Value = 120
       Redefined in file 'Execute_Command.module.o'.
        Type = RELOCATABLE   Value = 120
ERROR: Multiply defined symbol '_cli_imageData'.
       First defined in file 'cli_image.o'.
        Type = RELOCATABLE   Value = 0
       Redefined in file 'Execute_Command.module.o'.
        Type = RELOCATABLE   Value = 0

SLINK Complete - Maximum code size = 8212 ($00002014) bytes


Regards,



M!Ke C.

-- 

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD FD,5 CD-ROMS,CDrW,ZiP250     \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_'-_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

@ENDNODE
@NODE "Mail_55" " Re: Re: VBCC "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 11-08-99 23:42:28
Subject: @{b}Re: Re: VBCC@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Sun, 7 Nov 1999, [iso-8859-2] Micha³ Bartczak wrote:

> Hmm.. the really changes in vbcc I did were singles (which I'm sure I sent
> you) and  

Yes, and there's a good chance they will be implemented some time.
However, I will have to check exactly what has to be changed and I can't
just incorporate your changes because my current sources have changed a
lot from the distributed sources.

> some unmatched fclose's in vsc.c. I know they should be handled by vc.lib
> but it seems that vc.lib in powerup case is unable to do so... (dunno why,
> I hadn't changed THAT much)

Files opened with fopen have to be closed automatically according to the C
standard. vc.lib should do this and I have not received any bug-reports
concerning this.

> But please, at last try try to check what I did.

I really try.

> It seems that your updates
> are really unfrequent, and IMHO this version is cleaned a bit.

Every update requires a significant amount of time and increases the
chance of peple skipping an update. Therefore, I usually only make updates
if there are significant new features or bug-fixes which I consider
relevant for many people.

This practice led to a very low fraction of vbcc-users not using the most
current version and even leaves me with some spare-time sometimes. ;-)

> Yes, i know
> it isn't that portable anymore, but I wanted VBCC amiga specific.

Unfortunately I try to keep vbcc as portable as possible. :-)

> I've got working version now, and I can send it to you.

Just send me diffs to the sources you changed with explanations why you
changed something.

Volker

@ENDNODE
@NODE "Mail_56" " Re: Copying files "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-09-99 02:19:06
Subject: @{b}Re: Copying files@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Nov 08, 1999 at 11:06:03AM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> Is there a dos library or ANSI function to copy a file from one disk to
> another

No, there isn't.

> or do I have to handle the allocation of a buffer and the reading and
> writing myself.

Right.

> I just want to write a simple cli command that duplicates 'copy' but checks if
> the copy will overwrite a file at the destination and renames the file in a
> systematic way if it does.
> 
> It seems like a lot of time wasting to allocate buffers for the job when dos
> has buffers already there.

It doesn't.

Ben.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
73.46% of all statistics are made up.

@ENDNODE
@NODE "Mail_57" " Re: How do you get a .device name from a Volume: name "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-09-99 03:02:00
Subject: @{b}Re: How do you get a .device name from a Volume: name@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Nov 08, 1999 at 12:11:48PM +0000, Dominic Clifton wrote:
> From: Dominic Clifton <dom@dsltd.force9.co.uk>
> 
> 
> Given the volume name DH0: how do I 
> 
> a) get the device name (e.g. ISDH0:)

You need to start with a lock on the volume (or any file or directory
on it).  Then you look up its volume node and search for a device node
that matches the task.

#include <dosextens.h>

struct DosList *pdlDeviceFromBpfl(BPTR bpflVolume)
{
    /* this has to be aligned on a long-word boundary; the way
       to do this varies from compiler to compiler */
    static struct InfoData dinf __attribute__((aligned (4)));

    struct FileLock *pflVolume;
    struct DosList *pdl, *pdlVolume;

    /* make sure it's mounted before looking for its device */
    if( !Info( bpflVolume, &dinf ) )
    {
	SetIoErr(ERROR_DEVICE_NOT_MOUNTED);
	return 0;
    }

    pflVolume = (struct FileLock *)BADDR(bpflVolume);
    pdlVolume = (struct DosList *)BADDR(pflVolume->fl_Volume);

    /* search for the device the volume is in */
    pdl = LockDosList( LDF_DEVICES | LDF_READ );
    do
	pdl = NextDosEntry( pdlDevice, LDF_DEVICES | LDF_READ );
    while( pdl != 0 && pdl->dol_Task != pflVolume->fl_Task );
    UnLockDosList( LDF_DEVICES | LDF_READ );
    if( pdl == 0 )
	/* this shouldn't happen, but be defensive */
	SetIoErr(ERROR_DEVICE_NOT_MOUNTED);

    return pdl;
}

The DosList entry will remain valid as long as you hold the lock.

> b) get the .device name (e.g. cybppc.device)

This is stored in the FileSysStartupMsg of the DOS device.  You can
find this in the dol_Startup field of the DosList structure.
Unfortunately, some handlers get integers here (e.g. port-handler),
and some get strings, instead of an FSSM.  There is no totally
reliable way to tell which is being used, but with a few heuristics
you should be pretty safe.

#include <dosextens.h>

const char *pszExecDevNameFromPdl(struct DosList *pdlDevice)
{
    struct FileSysStartupMsg *pfssm;
    struct DosEnvec *pdenDevice;

    /* Find startup message. Use TypeOfMem to protect against devices
       that use integer or string startup values. */
    if( (pfssm = (struct FileSysStartupMsg *)
	 BADDR(pdlDevice->dol_misc.dol_handler.dol_Startup)) == 0
	|| TypeOfMem(pfssm) == 0
	|| pfssm->fssm_Device == 0
	|| (pdenDevice = (struct DosEnvec *)BADDR(pfssm->fssm_Environ)) == 0
	|| TypeOfMem(pdenDevice) == 0 )
    {
	SetIoErr(ERROR_OBJECT_WRONG_TYPE);
	return 0;
    }

    return (const char *)BADDR(pfssm->fssm_Device)+1;
}

I've adapted this from some of my own code where I used Hungarian
notation for variable names.  I haven't tested it, but I think it
should work properly.  Tell me if you have any remaining questions.

Ben.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
73.46% of all statistics are made up.

@ENDNODE
@NODE "Mail_58" " Re: How do you get a .device name from a Volume: name "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 11-09-99 03:09:56
Subject: @{b}Re: How do you get a .device name from a Volume: name@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 08-Nov-99, Dominic Clifton wrote:
> From: Dominic Clifton <dom@dsltd.force9.co.uk>
> Given the volume name DH0: how do I 
> a) get the device name (e.g. ISDH0:)
> b) get the .device name (e.g. cybppc.device)
> This has been bugging me for years, please help!


( DOS )   GetDeviceProc(),  FreeDeviceProc()

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_59" " Re: VBCC "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-09-99 06:45:50
Subject: @{b}Re: VBCC@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>

>> some unmatched fclose's in vsc.c. I know they should be handled by vc.lib
>> but it seems that vc.lib in powerup case is unable to do so... (dunno
>> why, I hadn't changed THAT much)
> Files opened with fopen have to be closed automatically according to the C
> standard. vc.lib should do this and I have not received any bug-reports
> concerning this.
I analysed vc.lib source and it does it's magick on 68k and warpup versions,
but doesn't close files in ppc one. Dunno why. Maybe it is my fault after
changing sources, but I didn't touched powerup at all ;) [/me prefers
warpup]
 
>> It seems that your updates
>> are really unfrequent, and IMHO this version is cleaned a bit.
> Every update requires a significant amount of time and increases the
> chance of peple skipping an update. Therefore, I usually only make updates
> if there are significant new features or bug-fixes which I consider
> relevant for many people.
Well, yes, but one update at last once per 6 mouths could be a nice idea
anyway ;)
 
>> Yes, i know
>> it isn't that portable anymore, but I wanted VBCC amiga specific.
> Unfortunately I try to keep vbcc as portable as possible. :-)

I know whay you want ;) And I don't try to force you to do so, but please
please please _add_ some amiga specific data into vbcc ^^; Like guides,
installer script and so on. I saw on today's posts a letter with words
'crap instalation' ;).
 
>> I've got working version now, and I can send it to you.
> Just send me diffs to the sources you changed with explanations why you
> changed something.
Ok, I'll do them, and send you private tomorrow

Michal

@ENDNODE
@NODE "Mail_60" " Re: SAS-C Link Error "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-09-99 07:30:39
Subject: @{b}Re: SAS-C Link Error@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello Mike

On 08-Nov-99, Mike Carter wrote:
> From: Mike Carter <mike.carter@bigfoot.com>
> 
> Help, please :-(  Can some SAS/C guy/gal tell me why
> I'm all of a sudden getting the following errors
> chucked up durin' linking.  I;m not sure what I've
> twiddled in the Options.  But now it will not compile
> :-(  ANd I've never experimented before with them!  It
> seems even resetting to SAS defaults has not fixed my
> problem??!
> 
> What other possible cause could it be?  Ideas in an
> email...
> 
> 
> Slink - Version 6.58
> Copyright (c) 1988-1995 SAS Institute, Inc.  All Rights Reserved.
> 
> ERROR: Multiply defined symbol '_cli_imagePaletteRGB4'.
>       First defined in file 'cli_image.o'.
>        Type = RELOCATABLE   Value = 0
>       Redefined in file 'Execute_Command.module.o'.
>        Type = RELOCATABLE   Value = 0

You've defined _cli_imagePaletteRGB4 twice, once in each object module. The
linker doesn't know which one to use.

  Rod

@ENDNODE
@NODE "Mail_61" " Re: VBCC Ctrl-C "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 11-09-99 09:09:23
Subject: @{b}Re: VBCC Ctrl-C@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Martyn,

On 08-Nov-99 this ASCII block fell out of your virtual mouth: [amiga-c] VBCC Ctrl-C

> Just a short request. Could anyone tell me how to detect a Ctrl-C in
> a shell using VBCC?

If a compiler doesn't support Ctrl+C handling, you can use
dos.library/CheckSignal().

For example, you could put this in your main program loop:

if (CheckSignal(SIGBREAKF_CTRL_C) & SIGBREAKF_CTRL_C)
{
    printf("CTRL+C has been detected, bye bye!...\n");
    AbortFlag = TRUE;
    break;
}

All of the break bits (SIGBREAKF_CTRL_*) are defined in dos/dos.h

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
"They have weapons.  You have weapons.  Everyone has weapons."

@ENDNODE
@NODE "Mail_62" " RE: SAS-C Link Error "
From: mike.carter@bigfoot.com
Date: 11-09-99 11:50:05
Subject: @{b}RE: SAS-C Link Error@{ub}

From: mike.carter@bigfoot.com

On Mon, 08 Nov 1999 23:30:39 -0700, Rod Schnell 
<rodsch@telusplanet.net> wrote:

> > Slink - Version 6.58
> > Copyright (c) 1988-1995 SAS Institute, Inc.  All Rights Reserved.
> > 
> > ERROR: Multiply defined symbol '_cli_imagePaletteRGB4'.
> >       First defined in file 'cli_image.o'.
> >        Type = RELOCATABLE   Value = 0
> >       Redefined in file 'Execute_Command.module.o'.
> >        Type = RELOCATABLE   Value = 0
> 
> You've defined _cli_imagePaletteRGB4 twice, once in each object modul
> e. The
> linker doesn't know which one to use.

I've not changed anything to do with modules?  I just flipped something 
in the settings AFAIK and it all went pear shaped.

Regards,

M!Ke C.

@ENDNODE
@NODE "Mail_63" " Re: RE: SAS-C Link Error "
From: Laurent FAILLIE <l_faillie@yahoo.com>
Date: 11-09-99 12:08:12
Subject: @{b}Re: RE: SAS-C Link Error@{ub}

From: =?iso-8859-1?q?Laurent=20FAILLIE?= <l_faillie@yahoo.com>

> > > Slink - Version 6.58
> > > Copyright (c) 1988-1995 SAS Institute, Inc.  All
> Rights Reserved.
> > > 
> > > ERROR: Multiply defined symbol
> '_cli_imagePaletteRGB4'.
> > >       First defined in file 'cli_image.o'.
> > >        Type = RELOCATABLE   Value = 0
> > >       Redefined in file
> 'Execute_Command.module.o'.
> > >        Type = RELOCATABLE   Value = 0
> > 
> > You've defined _cli_imagePaletteRGB4 twice, once
> in each object modul
> > e. The
> > linker doesn't know which one to use.
> 
> I've not changed anything to do with modules?  I
> just flipped something 
> in the settings AFAIK and it all went pear shaped.
> 

Checks if a prototypes to elsewhere defined functions
are "extern" qualified ...

   Laurent


=====
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /	100 % Dictionnary Free !
/________/ /		 
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
@ENDNODE
@NODE "Mail_64" " AW: Re: SAS-C Link Error "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 11-09-99 12:16:47
Subject: @{b}AW: Re: SAS-C Link Error@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

> >
> > 
> > Help, please :-(  Can some SAS/C guy/gal tell me why
> > I'm all of a sudden getting the following errors
> > chucked up durin' linking.  I;m not sure what I've
> > twiddled in the Options.  But now it will not compile
> > :-(  ANd I've never experimented before with them!  It
> > seems even resetting to SAS defaults has not fixed my
> > problem??!
> > 
> > What other possible cause could it be?  Ideas in an
> > email...
> > 
> > 
> > Slink - Version 6.58
> > Copyright (c) 1988-1995 SAS Institute, Inc.  All Rights Reserved.
> > 
> > ERROR: Multiply defined symbol '_cli_imagePaletteRGB4'.
> >       First defined in file 'cli_image.o'.
> >        Type = RELOCATABLE   Value = 0
> >       Redefined in file 'Execute_Command.module.o'.
> >        Type = RELOCATABLE   Value = 0
> 
> You've defined _cli_imagePaletteRGB4 twice, once in each object module.
> The
> linker doesn't know which one to use.
> 
>   Rod
> 
	There are some possibilities to generate such an error. 
	If you have global variables with the same name in different C-files
this is no problem as they are global only in their C-File. (modul-global)
	If you now declare a extern variable with the same name you tell the
compiler to use such a module globale variable outside its module. But now
the problem is that the linker does not know witch of these variables you
want him to take. (if there are more than one with the same name)

	Another possible case is that you have either two functions with the
same name (functions are program-global to the linker by default) or that
you wrote your function-body into an include-file and include this file in
more than one C-File. (Witch produces in fact two functions with the same
name...)

	So check whether you have a function body in an include-file! (As
this is the most probable case) It is better to put just the prototypes into
include-files.

	If you have really two different functions with the name  you can
restrict one function to the C-file were it resides by using the keyword
"static".

	Kind regards Alexander Fritsch

@ENDNODE
@NODE "Mail_65" " RE: SAS-C Link Error "
From: mike.carter@bigfoot.com
Date: 11-09-99 14:24:15
Subject: @{b}RE: SAS-C Link Error@{ub}

From: mike.carter@bigfoot.com

On Tue, 9 Nov 1999 12:16:47 +0100, Fritsch Alexander 
<Alexander.Fritsch@icn.siemens.de> wrote:

> 	There are some possibilities to generate such an error. 
> 	If you have global variables with the same name in different C-
files
> 
> this is no problem as they are global only in their C-File. (modul-gl
> obal)
> 	If you now declare a extern variable with the same name you 
tell the
> 
> compiler to use such a module globale variable outside its module. Bu
> t now
> the problem is that the linker does not know witch of these variables
>  you
> want him to take. (if there are more than one with the same name)
> 
> 	Another possible case is that you have either two functions 
with the
> 
> same name (functions are program-global to the linker by default) or 
> that
> you wrote your function-body into an include-file and include this fi
> le in
> more than one C-File. (Witch produces in fact two functions with the 
> same
> name...)
> 
> 	So check whether you have a function body in an include-file! 
(As
> this is the most probable case) It is better to put just the prototyp
> es into
> include-files.
> 
> 	If you have really two different functions with the name  you 
can
> restrict one function to the C-file were it resides by using the keyw
> ord
> "static".

The funny thing is my code compiled fine literally one minute - after 
fiddling with compiler options it stopped!!! :-(  And my whole project 
is just one 'C' source file, no multiple declares etc.

Ideas anybody?? please.

M!Ke C.

@ENDNODE
@NODE "Mail_66" " Re: VBCC Ctrl-C "
From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
Date: 11-09-99 16:36:37
Subject: @{b}Re: VBCC Ctrl-C@{ub}

From: Martyn Capewell <mmc28@hermes.cam.ac.uk>

Hello Andrew

On 09-Nov-99, you wrote:

>> Just a short request. Could anyone tell me how to detect a Ctrl-C in
>> a shell using VBCC?
> 
> If a compiler doesn't support Ctrl+C handling, you can use
> dos.library/CheckSignal().

Thanks. This list is great.

Regards
-- 
- Martyn Capewell
    {   Compsci, University of Cambridge   }
    { http://members.xoom.com/legerdemain0 }

@ENDNODE
@NODE "Mail_67" " Re: SAS-C Link Error "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-09-99 19:23:21
Subject: @{b}Re: SAS-C Link Error@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello mike.carter@bigfoot.com

On 09-Nov-99, mike.carter@bigfoot.com wrote:
> From: mike.carter@bigfoot.com
> 
> The funny thing is my code compiled fine literally one minute - after 
> fiddling with compiler options it stopped!!! :-(  And my whole project 
> is just one 'C' source file, no multiple declares etc.
> 

>From the original error message you posted...

> >       First defined in file 'cli_image.o'.
> >        Type = RELOCATABLE   Value = 0
> >       Redefined in file 'Execute_Command.module.o'.
> >        Type = RELOCATABLE   Value = 0

cli_image.o and Execute_Command.module.o are both object modules, which
implies two C source files, though I suppose one of them may have been
precompiled.


> Ideas anybody?? please.
> 

Set the no multiple includes option. If that fixes it, then the problem
declaration is likely in a header file that's included in both object modules.
This is why declarations should allways be in *.c files, not *.h files.

  Rod

@ENDNODE
@NODE "Mail_68" " Re: Re: SAS-C Link Error "
From: Gregory Roberts II <gregr@en.com>
Date: 11-10-99 07:12:55
Subject: @{b}Re: Re: SAS-C Link Error@{ub}

From: Gregory Roberts II <gregr@en.com>

On Tue, 9 Nov 1999, Rod Schnell wrote:

> From:   Rod Schnell <rodsch@telusplanet.net>
> 
> Hello mike.carter@bigfoot.com
> 
> On 09-Nov-99, mike.carter@bigfoot.com wrote:
> > From: mike.carter@bigfoot.com
> > 
> > The funny thing is my code compiled fine literally one minute - after 
> > fiddling with compiler options it stopped!!! :-(  And my whole project 
> > is just one 'C' source file, no multiple declares etc.
> > 
> 
> >From the original error message you posted...
> 
> > >       First defined in file 'cli_image.o'.
> > >        Type = RELOCATABLE   Value = 0
> > >       Redefined in file 'Execute_Command.module.o'.
> > >        Type = RELOCATABLE   Value = 0
> 
> cli_image.o and Execute_Command.module.o are both object modules, which
> implies two C source files, though I suppose one of them may have been
> precompiled.
> 


Sounds like maybe you renamed (or created a new) file?  Try deleting all
the .o files in the directory and try to build it again.  I've seen SAS/C
Build get confused you you change files around behind its back.  Let it
get a fresh start and see if that fixes it.

Greg

-- 
gregr@en.com
KC8BGC
Amiga Enthusiast  :)
IBM programmer    :(

@ENDNODE
@NODE "Mail_69" " Re: Copying files "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-10-99 19:22:44
Subject: @{b}Re: Copying files@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Ben 
Ben Hutchings wrote this on 09-Nov-99 at 02:19:06

->> It seems like a lot of time wasting to allocate buffers for the job when
->> dos has buffers already there.
-> 
-> It doesn't.

Hmm. I misunderstand again. I thought disk access via Open()-Read()-Close()
worked like this: Program asks for data from disk, DMA copies data to buffer
in chip ram, dos.library copies data to supplied buffer.

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_70" " Re: Re: VBCC "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 11-10-99 23:13:15
Subject: @{b}Re: Re: VBCC@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Tue, 9 Nov 1999, [iso-8859-2] Micha³ Bartczak wrote:

> > Files opened with fopen have to be closed automatically according to the C
> > standard. vc.lib should do this and I have not received any bug-reports
> > concerning this.
> I analysed vc.lib source and it does it's magick on 68k and warpup versions,
> but doesn't close files in ppc one. Dunno why. Maybe it is my fault after
> changing sources, but I didn't touched powerup at all ;) [/me prefers
> warpup]

The source which closes opened files upon exiting should be the same in
all three versions. Can anybody confirm whether files are correctly closed
in the original PowerUp-distribution?

> I know whay you want ;) And I don't try to force you to do so, but please
> please please _add_ some amiga specific data into vbcc ^^; Like guides,
> installer script and so on.

There are already several amiga-specific things like the message browser
or the project manager. It's not that bad.

If you want to do e.g. an installer-script, you can make them use the
original archives and put them on aminet in an extra archive. For the next
release, I could probably add them to the main archives, if you want.

> I saw on today's posts a letter with words
> 'crap instalation' ;).

Well, the installation is basically lha -xamp vbcc<target>.lha.
Personally, I think it's not that crappy. :-)

Volker

@ENDNODE
@NODE "Mail_71" " Re: VBCC Bad Points "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 11-11-99 00:28:19
Subject: @{b}Re: VBCC Bad Points@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi Mike,

> Apart from the crap installation, does VBCC have any
> bad points as a compiler - APART from not supporting
> C++.

Not being part of an IDE could be considered a bad point ;^>
I can't find any way of turning off its ctrl-c handling, but this is more
a problem with the link-libraries than the compiler itself.
Other than that I can't think of any seriously bad points - most of the
downsides I can think of just require better supporting tools to put right.
(Anyone want to write an FD2Inline68k tool?)

I use VBCC myself for the following reasons:
»  While it doesn't yet have a decent installer, It's not that hard to install.
»  It's nice and fussy - it complains about about carelessly written code
    that works for the wrong reasons!  (i.e. it's a good compiler to use
    while learning C).
»  With care, it is possible to compile 68K, PPC and WarpUp versions of
    a project from a single source-tree.

All the best,
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

It is a real waste of time taking kids to a zoo that is without a vacancy.

@ENDNODE
@NODE "Mail_72" " Re: VBCC Ctrl-C "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 11-11-99 01:02:30
Subject: @{b}Re: VBCC Ctrl-C@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi,

>>> Just a short request. Could anyone tell me how to detect a Ctrl-C in
>>> a shell using VBCC?
>> 
>> If a compiler doesn't support Ctrl+C handling, you can use
>> dos.library/CheckSignal().

VBCC does check for ctrl-c, but only when stdio functions are called.
When it detects a ctrl-c, it just does an exit(20); pulling the rug out
from under your program.

This is fine for shell utilities, but not so great for more ambitious
projects.  A program of mine runs on a custom screen, and loads and saves
JPEGs using the Independent JPEG Group's library, which in turn uses
stdio.  If my program gets a ctrl-c while loading or saving a JPEG, it quits
back to the shell, leaving the screen and windows orphaned in memory.

In short, I need to *disable* VBCC's ctrl-c handling, but I don't think
it's possible without recompiling vc.lib and killing the _chkabort()
function.  Please, someone, prove me wrong!

All the best,
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

We're here to give you a computer, not a religion.
 - attributed to Bob Pariseau, at the introduction of the Amiga

@ENDNODE
@NODE "Mail_73" " VBCC and .lib files (reqtools) "
From: Dominic Clifton <dom@dsltd.force9.co.uk>
Date: 11-11-99 04:13:42
Subject: @{b}VBCC and .lib files (reqtools)@{ub}

From: Dominic Clifton <dom@dsltd.force9.co.uk>


Erm, how do i get VBCC to correctly compile and use reqtools requesters ?

reqtools comes with .lib files for sas/c, gcc etc but these don't work (not
suprisingly) with VBCC.  Here's the linker output that I get..

Error 21: t_15_0.o (.text+0x4c): Undefined reference to _rtEZRequest.

Here's the command I'm using to compile (and link) it..

vc -v test.c -o test_wos +vbcc:machines/amiga/warpos_wos -lamiga

Here's the source code:

#include <exec/exec.h>
#include <clib/exec_protos.h>

#include <libraries/reqtools.h>
#include <clib/reqtools_protos.h>

struct ReqToolsBase *ReqToolsBase;

int main(int argc, char *argv[])
{
  if (ReqToolsBase = (struct ReqToolsBase *) OpenLibrary (REQTOOLSNAME, REQTOOLSVERSION))
  {
    rtEZRequest("Test","OK!",NULL,NULL,NULL);

    CloseLibrary ((struct Library *)ReqToolsBase);
  }
  return(0);
}


This compiles and links fine under SAS/C 6.58 with the command:

"SC Test.c link lib lib:reqtools.lib"

What do I need to do ?  Is it something to do with calling library stuff
inline ? or....?


-- 

[Dominic Clifton - aka Hydra/CRoSS POiNT ]=-  -=[ Oh my god, it's an email]
[DreamCast, C++, DV, Sports Cars, Snowboarding, South Park, Placebo, Amiga]

@ENDNODE
@NODE "Mail_74" " Re: VBCC "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-11-99 06:39:00
Subject: @{b}Re: VBCC@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>


> The source which closes opened files upon exiting should be the same in
> all three versions. Can anybody confirm whether files are correctly closed
> in the original PowerUp-distribution?
Frank Wille can confirm that ;) He tried to reproduce an error, but it
worked OK on his machine. 
 
>> I know whay you want ;) And I don't try to force you to do so, but please
>> please please _add_ some amiga specific data into vbcc ^^; Like guides,
>> installer script and so on.
> There are already several amiga-specific things like the message browser
> or the project manager. It's not that bad.

> If you want to do e.g. an installer-script, you can make them use the
> original archives and put them on aminet in an extra archive. For the next
> release, I could probably add them to the main archives, if you want.
Well, I splitted whole VBCC into some separate archives, they are in LZX
format because of size, but it can be LHA too. Just to simplify installing
- installing one archive adds one thing into installed vbcc. And my
installer checks what components are available, and so on. I don't want to
force you on anything, but please sniff into included script, it shows what
I have in mind.

(BTW, I've got a version that installs higher 68K targets from diffs between
base 68k and them - it reduces archive size too, but it is longer ;)
 
>> I saw on today's posts a letter with words
>> 'crap instalation' ;).
> Well, the installation is basically lha -xamp vbcc<target>.lha.
> Personally, I think it's not that crappy. :-)
Yes, I don't mind that too, but I know that most people won't even touch
anything that smells like unix ;) 
Maybe instead of trying to destroy your compiler I should do a graphical
interface for them? <yuck - i hate anything that smells windooze visual
c--> :)

Regards
Michal

@ENDNODE
@NODE "Mail_75" " Re: VBCC and .lib files (reqtools) "
From: "M.M. Capewell" <mmc28@hermes.cam.ac.uk>
Date: 11-11-99 15:03:59
Subject: @{b}Re: VBCC and .lib files (reqtools)@{ub}

From: "M.M. Capewell" <mmc28@hermes.cam.ac.uk>

On Thu, 11 Nov 1999, Dominic Clifton wrote:

> From: Dominic Clifton <dom@dsltd.force9.co.uk>
> 
> 
> Erm, how do i get VBCC to correctly compile and use reqtools requesters ?
> 
> reqtools comes with .lib files for sas/c, gcc etc but these don't work (not
> suprisingly) with VBCC.  Here's the linker output that I get..
> 
> Error 21: t_15_0.o (.text+0x4c): Undefined reference to _rtEZRequest.
> 
> Here's the command I'm using to compile (and link) it..
> 
> vc -v test.c -o test_wos +vbcc:machines/amiga/warpos_wos -lamiga
> 

You don't appear to specify the reqtool link lib. If your lib is called
req.lib, then use:

vc -v test.c -o test_wos +vbcc:machines/amiga/warpos_wos -lamiga -lreq

You may be specifying things in the wrong order too. I seem to remember
something about that in the docs, but don't have them to hand, atm.

- Martyn Capewell

@ENDNODE
@NODE "Mail_76" " Re: Copying files "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 11-11-99 15:17:16
Subject: @{b}Re: Copying files@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Tim,

On 10-Nov-99 this ASCII block fell out of your virtual mouth: [amiga-c] Re: Copying files

> Hmm. I misunderstand again. I thought disk access via
> Open()-Read()-Close() worked like this: Program asks for data from
> disk, DMA copies data to buffer in chip ram, dos.library copies data
> to supplied buffer.

You're getting a bit low level there just for a copy routine. Open(),
Read(), Close() and so on dispatch DOS packets to the filesystem handler, which in turn calls the *.device that controls the underlying hardware that the file resides on.

Applications should provide their own buffer when calling Read() or
Write(). Any IO buffers allocated at the filesystem handler or device level are out of the application's scope.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
If men got pregnant abortion would be safe, legal, & available forever.

@ENDNODE
@NODE "Mail_77" " Re: VBCC "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-11-99 19:16:28
Subject: @{b}Re: VBCC@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Volker 
Volker Barthelmann wrote this on 10-Nov-99 at 23:13:15

->> I saw on today's posts a letter with words
->> 'crap instalation' ;).
-> 
-> Well, the installation is basically lha -xamp vbcc<target>.lha.
-> Personally, I think it's not that crappy. :-)

That was probly written by someone who hasn`t looked at VBCC for a while. My
first attempts with it floundered but now it`s a breeze. The tricky thing is
getting it to use third party libraries but once you`ve read the docs that`s
not so hard.

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_78" " Re: unsubscribe "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 11-11-99 19:56:52
Subject: @{b}Re: unsubscribe@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Lloyd,

On 12-Nov-99 this ASCII block fell out of your virtual mouth: [amiga-c] unsubscribe

> From: "Lloyd Rosen" <seasons@softhome.net>
> 
> UNSUBSCRIBE

Not quite. :)

mailto:amiga-c-unsubscribe@ONElist.com

or you could goto http://www.onelist.com and edit your profile.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
Smoke me a kipper, I'll be back for breakfast.

@ENDNODE
@NODE "Mail_79" " Re: Re: Copying files "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-11-99 22:06:09
Subject: @{b}Re: Re: Copying files@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Nov 10, 1999 at 07:22:44PM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi Ben 
> Ben Hutchings wrote this on 09-Nov-99 at 02:19:06
> 
> ->> It seems like a lot of time wasting to allocate buffers for the job when
> ->> dos has buffers already there.
> -> 
> -> It doesn't.
> 
> Hmm. I misunderstand again. I thought disk access via Open()-Read()-Close()
> worked like this: Program asks for data from disk, DMA copies data to buffer
> in chip ram, dos.library copies data to supplied buffer.

The program asks for data from a *file*.  The file-system or handler
may copy that data from a cache, or call on a device driver to read
it, or may generate it some other way.  The device driver may copy
from a cache, or may read directly from disk into your buffer, or may
use an intermediate buffer.  trackdisk.device may use an intermediate
track buffer in chip RAM.  This is an implementation detail that
should not concern you.

DOS does *no* buffering for Read/Write.  It does use per-file buffers
for FRead/FWrite.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
DNRC Motto:  I can please only one person per day.
Today is not your day.  Tomorrow isn't looking good either.

@ENDNODE
@NODE "Mail_80" " unsubscribe "
From: Lloyd Rosen <seasons@softhome.net>
Date: 11-12-99 01:11:50
Subject: @{b}unsubscribe@{ub}

From: "Lloyd Rosen" <seasons@softhome.net>

UNSUBSCRIBE

@ENDNODE
@NODE "Mail_81" " Re: Copying files "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-12-99 01:20:31
Subject: @{b}Re: Copying files@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Ben 
Ben Hutchings wrote this on 11-Nov-99 at 22:06:09

->  This is an implementation detail that
-> should not concern you.

Agreed. I just hoped there was an advantage to be gained by asking a 'device'
to transfer data directly rather than through a buffer I`ve allocated. I
expected the (de)allocation to take longer than it does so it`s irrelevent 

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_82" " Re: VBCC and .lib files (reqtools) "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-12-99 07:52:39
Subject: @{b}Re: VBCC and .lib files (reqtools)@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>

> vc -v test.c -o test_wos +vbcc:machines/amiga/warpos_wos -lamiga
Whosh. You are using warpos, ne ;) You'll need special .lib file then.

First - sniff into VBCC docs, next learn how to use FD2LibWos, and then
you'll be able to do working .lib file.

You'r source looks fine for me, you only need FD file for reqtools.
 
Regards
Michal Bartczak

@ENDNODE
@NODE "Mail_83" " Re: VBCC "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-12-99 07:55:49
Subject: @{b}Re: VBCC@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>

> -> Well, the installation is basically lha -xamp vbcc<target>.lha.
> -> Personally, I think it's not that crappy. :-)
> 
> That was probly written by someone who hasn`t looked at VBCC for a while.
> My first attempts with it floundered but now it`s a breeze. The tricky
> thing is getting it to use third party libraries but once you`ve read the
> docs that`s not so hard.
Well, in fact it was written by someone who created VBCC ;)

That's why I did installer.
 
Regards
Michal Bartczak

@ENDNODE
@NODE "Mail_84" " Opening device "
From: Jack York <jyork@voyager.net>
Date: 11-12-99 19:30:39
Subject: @{b}Opening device@{ub}

From: Jack York <jyork@voyager.net>

Hello,

I have a program which opens the printer.device with
 OpenDevice ("printer.device", ...
and it works fine.

I just installed a HyperCom board with a printer port and would like
to use it so I changed the above to 
 OpenDevice ("sys:devs/HyperPAR.device", ...
and it fails.  SnoopDos says the device was loaded ok.

Can someone explain to me how I access a printer using this port?

Jack

@ENDNODE
@NODE "Mail_85" " Re: Opening device "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 11-12-99 19:40:31
Subject: @{b}Re: Opening device@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Jack,

On 12-Nov-99 you dislocated you fingers typing: [amiga-c] Opening device

> I just installed a HyperCom board with a printer port and would like
> to use it so I changed the above to 
> OpenDevice ("sys:devs/HyperPAR.device", ...
> and it fails.  SnoopDos says the device was loaded ok.
> 
> Can someone explain to me how I access a printer using this port?

Are you sure you're checking for the right result? OpenDevice()
returns 0 when successful.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
I am Elmew of Bowg.  Pwepawe to be assimiwlated.  Huh-huh-huh-huh.

@ENDNODE
@NODE "Mail_86" " Re: Opening device "
From: Jack York <jyork@voyager.net>
Date: 11-12-99 19:49:51
Subject: @{b}Re: Opening device@{ub}

From: Jack York <jyork@voyager.net>

Hello Andrew

On 12-Nov-99, Andrew Bell wrote:
> From: Andrew Bell <andrew.ab2000@bigfoot.com>
> 
> Hi Jack,
> 
> On 12-Nov-99 you dislocated you fingers typing: [amiga-c] Opening device
> 
>> I just installed a HyperCom board with a printer port and would like
>> to use it so I changed the above to 
>> OpenDevice ("sys:devs/HyperPAR.device", ...
>> and it fails.  SnoopDos says the device was loaded ok.
>> 
>> Can someone explain to me how I access a printer using this port?
> 
> Are you sure you're checking for the right result? OpenDevice()
> returns 0 when successful.
>

Yeah. This is working code.  All I did was go in and change the above
few letters.  I changed them back and it works again (once I switch
the printer cable to the parallel port of course).

Jack

@ENDNODE
@NODE "Mail_87" " Re: Opening device "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 11-12-99 20:00:09
Subject: @{b}Re: Opening device@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Jack,

On 12-Nov-99 you dislocated you fingers typing: [amiga-c] Re: Opening device

> Yeah. This is working code. All I did was go in and change the above
> few letters. I changed them back and it works again (once I switch
> the printer cable to the parallel port of course).

OK. When it fails, what happens? Does OpenDevice() return a non-0
value?

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
Another Recipe Kidnapped! Suspect Fido Ate It! GIFs at Eleven!

@ENDNODE
@NODE "Mail_88" " gfx-coding tutorials "
From: Michael Schulze <Schulze_Michael@t-online.de>
Date: 11-13-99 00:01:23
Subject: @{b}gfx-coding tutorials@{ub}

From: Schulze_Michael@t-online.de (Michael Schulze)

First a big hello to all, 'cause I am new to this list :)

Are there any coding-tutorials for c and especially gfx-related.
ViewPort and stuff? Maybe some downloadable AmigaGuides in the WWW?
Or should I explain all problems/questions I have in this ML?? ;)

A CGFX-coding-tutorial would be great!

Thanks in advance...

Regards,

     Micha
-- 
  
    "The quiet ones are the ones who change the universe.
     The loud ones only take the credit."

    Londo Mollari, "BABYLON 5: In The Beginning"

@ENDNODE
@NODE "Mail_89" " Re: Opening device "
From: Jack York <jyork@voyager.net>
Date: 11-13-99 00:43:57
Subject: @{b}Re: Opening device@{ub}

From: Jack York <jyork@voyager.net>

Hello Andrew

On 12-Nov-99, Andrew Bell wrote:
> From: Andrew Bell <andrew.ab2000@bigfoot.com>
> 
> Hi Jack,
> 
> On 12-Nov-99 you dislocated you fingers typing: [amiga-c] Re: Opening
> device
> 
>> Yeah. This is working code. All I did was go in and change the above
>> few letters. I changed them back and it works again (once I switch
>> the printer cable to the parallel port of course).
> 
> OK. When it fails, what happens? Does OpenDevice() return a non-0
> value?

It returns -1.

Jack

@ENDNODE
@NODE "Mail_90" " Re: Re: VBCC "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 11-13-99 02:57:39
Subject: @{b}Re: Re: VBCC@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Fri, 12 Nov 1999, [iso-8859-2] Micha³ Bartczak wrote:

> > -> Well, the installation is basically lha -xamp vbcc<target>.lha.
> > -> Personally, I think it's not that crappy. :-)
> > 
> > That was probly written by someone who hasn`t looked at VBCC for a while.
> > My first attempts with it floundered but now it`s a breeze. The tricky
> > thing is getting it to use third party libraries but once you`ve read the
> > docs that`s not so hard.
> Well, in fact it was written by someone who created VBCC ;)

I guess he was referring to the poster mentioning the "crappy 
installation". :-)

Volker

@ENDNODE
@NODE "Mail_91" " Re: Opening device "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 11-13-99 03:33:16
Subject: @{b}Re: Opening device@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 13-Nov-99, Jack York wrote:
> From: Jack York <jyork@voyager.net>
> Hello,
> 
> I have a program which opens the printer.device with
> OpenDevice ("printer.device", ...
> and it works fine.
> 
> I just installed a HyperCom board with a printer port and would like
> to use it so I changed the above to 
> OpenDevice ("sys:devs/HyperPAR.device", ...
> and it fails.  SnoopDos says the device was loaded ok.
> 
> Can someone explain to me how I access a printer using this port?
> Jack

If the device driver is in the DEVS:  drawer,  you do not have to
specify the path.

Exec lists are case sensitive & you may have a case difference in your
spelling.  I would suggest you loose the path info,
if the driver is already in the devs: drawer & check the 
case of the name.

PS:    
error = OpenDevice()    
not success....    It must return 0 to be successful.
 
-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_92" " Re: Opening device "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-13-99 03:33:50
Subject: @{b}Re: Opening device@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Nov 12, 1999 at 01:30:39PM -0500, Jack York wrote:
> From: Jack York <jyork@voyager.net>
> 
> Hello,
> 
> I have a program which opens the printer.device with
>  OpenDevice ("printer.device", ...
> and it works fine.
> 
> I just installed a HyperCom board with a printer port and would like
> to use it so I changed the above to 
>  OpenDevice ("sys:devs/HyperPAR.device", ...
> and it fails.  SnoopDos says the device was loaded ok.

It fails, because it's a parallel port driver, not the printer driver.

> Can someone explain to me how I access a printer using this port?

Through printer.device, as before.  I think you will need to use an
extended printer preferences program (which should have come with
the board) to tell printer.device to use the non-standard parallel
driver.

Ben.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Klipstein's 4th Law of Prototyping and Production:
                                    A fail-safe circuit will destroy others.

@ENDNODE
@NODE "Mail_93" " Re: gfx-coding tutorials "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-13-99 06:36:15
Subject: @{b}Re: gfx-coding tutorials@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>

> First a big hello to all, 'cause I am new to this list :)
That's ok, /me too :)
 
> Are there any coding-tutorials for c and especially gfx-related.
> ViewPort and stuff? Maybe some downloadable AmigaGuides in the WWW?
> Or should I explain all problems/questions I have in this ML?? ;)
> A CGFX-coding-tutorial would be great!
Well, you can talk to me in private, I'm quite experienced in this area. 

Hmpf... cgfx-coding tutorial was a part of my vbcc distribution, maybe I
should send it to Volker anyway (hi Volker ^^)

Just because most of people are trying to code 'under' cgfx, while the only
problem really is the direct mem access, rest is simple.

Regards
Michal

@ENDNODE
@NODE "Mail_94" " Message 68k<->PPC WOS. "
From: Grzegorz Fitrzyk <grzes@centrum.pasjo.net.pl>
Date: 11-13-99 11:30:27
Subject: @{b}Message 68k<->PPC WOS.@{ub}

From: Grzegorz Fitrzyk <grzes@centrum.pasjo.net.pl>

Hi.

I need example source in C which will send message to PPC and 
will wait for reply. I need both sources (68k and PPC WarpOS).
I have example source msgtest (for ppclibemu) but it don't work
(it's hanging). Can someone help, please ?

-- 
Regards, *Grzegorz Fitrzyk SP9WUN*.

@ENDNODE
@NODE "Mail_95" " Re: Opening device "
From: Jack York <jyork@voyager.net>
Date: 11-13-99 13:17:13
Subject: @{b}Re: Opening device@{ub}

From: Jack York <jyork@voyager.net>

Hello Colin

On 12-Nov-99, Colin Wenzel wrote:
> From: Colin Wenzel <colstv@hotkey.net.au>
> 
> On 13-Nov-99, Jack York wrote:
>> From: Jack York <jyork@voyager.net>
>> Hello,
>> 
>> I have a program which opens the printer.device with
>> OpenDevice ("printer.device", ...
>> and it works fine.
>> 
>> I just installed a HyperCom board with a printer port and would like
>> to use it so I changed the above to 
>> OpenDevice ("sys:devs/HyperPAR.device", ...
>> and it fails.  SnoopDos says the device was loaded ok.
>> 
>> Can someone explain to me how I access a printer using this port?
>> Jack
> 
> If the device driver is in the DEVS:  drawer,  you do not have to
> specify the path.

Originally I just put in the name of the device but when that didn't
work I tried the full path to be safe.
 

> Exec lists are case sensitive & you may have a case difference in your
> spelling.  I would suggest you loose the path info,
> if the driver is already in the devs: drawer & check the 
> case of the name.

That's the correct spelling/case.  The driver does work from workbench
so it would seem from the driver->board->printer is working fine.

> PS:    
> error = OpenDevice()    
> not success....    It must return 0 to be successful.

Right.  I didn't change the working existing code except for the driver
name.

Jack

@ENDNODE
@NODE "Mail_96" " Re: Opening device "
From: Jack York <jyork@voyager.net>
Date: 11-13-99 13:32:17
Subject: @{b}Re: Opening device@{ub}

From: Jack York <jyork@voyager.net>

Hello Ben

On 12-Nov-99, Ben Hutchings wrote:
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> On Fri, Nov 12, 1999 at 01:30:39PM -0500, Jack York wrote:
>> From: Jack York <jyork@voyager.net>
>> 
>> Hello,
>> 
>> I have a program which opens the printer.device with
>>  OpenDevice ("printer.device", ...
>> and it works fine.
>> 
>> I just installed a HyperCom board with a printer port and would like
>> to use it so I changed the above to 
>>  OpenDevice ("sys:devs/HyperPAR.device", ...
>> and it fails.  SnoopDos says the device was loaded ok.
> 
> It fails, because it's a parallel port driver, not the printer driver.
> 
>> Can someone explain to me how I access a printer using this port?
> 
> Through printer.device, as before.  I think you will need to use an
> extended printer preferences program (which should have come with
> the board) to tell printer.device to use the non-standard parallel
> driver.


The only thing I can see that's like this is a program called SetPUNT
which sets the device for printer.prefs under 3.1 since it can't be
done from the printer.prefs program.  I did set this.  But the program
also fails under 3.5 and I can set that from the prefs program.  Is 
this what you mean or did I miss your point?

Jack

@ENDNODE
@NODE "Mail_97" " Re: gfx-coding tutorials "
From: pclar7@yahoo.co.uk
Date: 11-13-99 14:18:33
Subject: @{b}Re: gfx-coding tutorials@{ub}

From: pclar7@yahoo.co.uk

Hi Micha,

> Are there any coding-tutorials for c and especially gfx-related.
> ViewPort and stuff?

Erm, are you already fairly advanced in C or just starting
out? If the latter, you can find a brilliant (if slightly
old) set of tutorials on Aminet - these include loads
of stuff on graphics programming.
See:
	dev/c/ACM.lha, CManual.lzh, CManual2.lzh, etc.

From:
Matt (fellow newbie)

@ENDNODE
@NODE "Mail_98" " Re: Re: Opening device "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-13-99 22:32:26
Subject: @{b}Re: Re: Opening device@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sat, Nov 13, 1999 at 07:32:17AM -0500, Jack York wrote:
> From: Jack York <jyork@voyager.net>
> 
> Hello Ben
> 
> On 12-Nov-99, Ben Hutchings wrote:
> > From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> > 
> > On Fri, Nov 12, 1999 at 01:30:39PM -0500, Jack York wrote:
> >> From: Jack York <jyork@voyager.net>
> >> 
> >> Hello,
> >> 
> >> I have a program which opens the printer.device with
> >>  OpenDevice ("printer.device", ...
> >> and it works fine.
> >> 
> >> I just installed a HyperCom board with a printer port and would like
> >> to use it so I changed the above to 
> >>  OpenDevice ("sys:devs/HyperPAR.device", ...
> >> and it fails.  SnoopDos says the device was loaded ok.
> > 
> > It fails, because it's a parallel port driver, not the printer driver.
> > 
> >> Can someone explain to me how I access a printer using this port?
> > 
> > Through printer.device, as before.  I think you will need to use an
> > extended printer preferences program (which should have come with
> > the board) to tell printer.device to use the non-standard parallel
> > driver.
> 
> 
> The only thing I can see that's like this is a program called SetPUNT
> which sets the device for printer.prefs under 3.1 since it can't be
> done from the printer.prefs program.  I did set this.  But the program
> also fails under 3.5 and I can set that from the prefs program.  Is 
> this what you mean or did I miss your point?

Your program should *always* use printer.device.  Does your program
fail to open printer.device if you set the printer to use
HyperPAR.device using SetPUNT or the 3.5 printer prefs program?

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
It is easier to change the specification to fit the program than vice versa.

@ENDNODE
@NODE "Mail_99" " Re: Re: VBCC Ctrl-C "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 11-14-99 02:02:53
Subject: @{b}Re: Re: VBCC Ctrl-C@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Thu, 11 Nov 1999, Alastair M. Robinson wrote:

> In short, I need to *disable* VBCC's ctrl-c handling, but I don't think
> it's possible without recompiling vc.lib and killing the _chkabort()
> function.  Please, someone, prove me wrong!

Just add

void _chkabort(){}

to your code.

Volker

@ENDNODE
@NODE "Mail_100" " Re: Opening device "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 11-14-99 05:51:22
Subject: @{b}Re: Opening device@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

-snip-
> That's the correct spelling/case.  **
*The driver does work from workbench*
> so it would seem from the driver->board->printer is working fine.
> 

What does  "*The driver does work from workbench*"    mean ???

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_101" " Re: VBCC Ctrl-C "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 11-14-99 06:11:49
Subject: @{b}Re: VBCC Ctrl-C@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

> Just add
> void _chkabort(){}
> to your code.
> Volker


maybe that should be:

void _chkabort(void)
{
  return(0)
}


Although I suspect there should be a cleanup() vector or something to
direct your program flow on an abort...

With aztec-c  there is a variable called   ENABLE_ABORT.
You set it true or false....

Also,  there is a cleanup vector called   _cln

You equate a function pointer to it,  it gets called in the exit() 
early on,   im sure there must be a way to do it for you,
without having to redefine the checkabort function...

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_102" " Re: gfx-coding tutorials "
From: Michael Schulze <Schulze_Michael@t-online.de>
Date: 11-14-99 14:01:58
Subject: @{b}Re: gfx-coding tutorials@{ub}

From: Schulze_Michael@t-online.de (Michael Schulze)

Hello,

>> Are there any coding-tutorials for c and especially gfx-related.
>> ViewPort and stuff?
> 
> Erm, are you already fairly advanced in C or just starting
> out? If the latter, you can find a brilliant (if slightly
> old) set of tutorials on Aminet - these include loads
> of stuff on graphics programming.
> See:
>     dev/c/ACM.lha, CManual.lzh, CManual2.lzh, etc.

I am not *that* new to C. But still pretty new in Amiga-specific
programming...
The archives you list I know already, but aren't they a bit old?
And ACM was crippled IIRC, it was such a shareware-tutorial...
The really interesting codes I missed. :(

Anyway, thanks!
 
Regards,

    Micha

-- 
  
    "The quiet ones are the ones who change the universe.
     The loud ones only take the credit."

    Londo Mollari, "BABYLON 5: In The Beginning"

@ENDNODE
@NODE "Mail_103" " Re: Message 68k<->PPC WOS. "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-14-99 15:21:30
Subject: @{b}Re: Message 68k<->PPC WOS.@{ub}


Heh ;) /me too. I tried to write it by my own, but I've found that someone
forgot to add FindPortPPC command for 68k side. The only solution for now
is to call PPC task that finds a port and returns to 68k. Grrrrr..

Maybe someone DO know how to do this?

Because _for me_ the only solution is:

---- Of course, putting message to PPC side sucks because it isn't safe
anymore. (and I'm affraid that PPC semaphores are as compatible with 68k
semaphores as 68k messages are with ppc ones >.<

there are 3 possibilities now:
a) I'm too dumb to do it myself, delete this message and forget what I said.
b) Someone should really rethink warpup again, and do some changes ;).
  b.1: I wish I could see: FindPPCMsgPort68k() and CreatePublicMsgPortPPC(),
with automagically added name.
 
c) We should bother Frank more, because it looks like he did it in ppc.lib
emu :)

This example ALMOST works. Almost because 68k<->ppc msg sending/replying is
just fine, but FreeXMsg trashes memory and causes guru alert.

... for smaller bugs: includes for warpup are buggy (I THINK)
/* snipsnap from clib/powerpc_protos.h */
VOID PutXMsg(struct MsgPortPPC, struct Message *);

shouldn't it be:
VOID PutXMsg(struct MsgPortPPC *, struct Message *); 

???


Maybe someone can trace bug in my source code -  why the #$#^!@ it is
trashing memory?

Michal


@ENDNODE
@NODE "Mail_104" " Re: Opening device "
From: Jack York <jyork@voyager.net>
Date: 11-14-99 20:26:54
Subject: @{b}Re: Opening device@{ub}

From: Jack York <jyork@voyager.net>

Hello Ben

On 13-Nov-99, Ben Hutchings wrote:
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> On Sat, Nov 13, 1999 at 07:32:17AM -0500, Jack York wrote:

>>> 
>>>> Can someone explain to me how I access a printer using this port?
>>> 
>>> Through printer.device, as before.  I think you will need to use an
>>> extended printer preferences program (which should have come with
>>> the board) to tell printer.device to use the non-standard parallel
>>> driver.
>> 
>> 
>> The only thing I can see that's like this is a program called SetPUNT
>> which sets the device for printer.prefs under 3.1 since it can't be
>> done from the printer.prefs program.  I did set this.  But the program
>> also fails under 3.5 and I can set that from the prefs program.  Is 
>> this what you mean or did I miss your point?
> 
> Your program should *always* use printer.device.  Does your program
> fail to open printer.device if you set the printer to use
> HyperPAR.device using SetPUNT or the 3.5 printer prefs program?

 
Ok, I was looking at the results wrong.  The printer.device does open
when I use the hyperPAR.device, it just doesn't work after that.  But
I think that is a different problem since I can't get the card to work
with any program now.  That's one reason I was changing the code - to
test it with something I know works.

Jack

@ENDNODE
@NODE "Mail_105" " Re: Opening device "
From: Jack York <jyork@voyager.net>
Date: 11-14-99 20:29:36
Subject: @{b}Re: Opening device@{ub}

From: Jack York <jyork@voyager.net>

Hello Colin

On 13-Nov-99, Colin Wenzel wrote:
> From: Colin Wenzel <colstv@hotkey.net.au>
> 
> -snip-
>> That's the correct spelling/case.  **
> *The driver does work from workbench*
>> so it would seem from the driver->board->printer is working fine.
>> 
> 
> What does  "*The driver does work from workbench*"    mean ???

Well, it did mean that I could highlight a file in a DOpus lister
and print it.  But now, for some reason, even that doesn't work.  Seems
I have gotten myself into a hole and can't seem to stop digging. ;)

Jack

@ENDNODE
@NODE "Mail_106" " SystemTags Missing Path "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 11-14-99 23:54:14
Subject: @{b}SystemTags Missing Path@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

Hi,

Small problem.  I execute a command using the
following code:-

                                                                if(SystemTags(command,                                                                        NP_StackSize,  ssize,                                                          SYS_Output,      NULL,                                                         SYS_Input,       fd_con,                                                       SYS_UserShell,  TRUE,                                                          SYS_Asynch,      TRUE,                                                         TAG_DONE) != 0)


However it is not taking into account the PATH set up
in the start-up sequence.  So it the command =
"Multiview" forexample it doesn't find it :-(
How can I clone the path or something so that my call
to SystemTags will find the program?

Regards,


M!Ke C.

-- 

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD FD,5 CD-ROMS,CDrW,ZiP250     \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_'-_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

@ENDNODE
@NODE "Mail_107" " Joypad test. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-15-99 22:45:12
Subject: @{b}Joypad test.@{ub}

Hi All,
Please find attached a v.small bit of code. Can someone with a CD32 joypad (in
port 1) run it and tell me if it works. It should print to console the name
of the button(s) you are pressing. I just need to know if it`s my joypad is
broken or I`ve missed the point about lowlevel.library. 

Thanks in advance.

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_108" " Re: Re: VBCC Ctrl-C "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 11-15-99 23:14:12
Subject: @{b}Re: Re: VBCC Ctrl-C@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Sun, 14 Nov 1999, Colin Wenzel wrote:

> maybe that should be:
> 
> void _chkabort(void)
> {
>   return(0)
> }

No. You can't return a value in a void function.

> Although I suspect there should be a cleanup() vector or something to
> direct your program flow on an abort...

I'm not sure I understand. If you do something on CTRL-C you could add
code in _chkabort of course.

> Also,  there is a cleanup vector called   _cln
> 
> You equate a function pointer to it,  it gets called in the exit() 
> early on,   im sure there must be a way to do it for you,
> without having to redefine the checkabort function...

If you want functions to be called by exit() then there's the standard
function atexit().

Volker

@ENDNODE
@NODE "Mail_109" " Re: VBCC Ctrl-C "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 11-16-99 03:11:22
Subject: @{b}Re: VBCC Ctrl-C@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 16-Nov-99, Volker Barthelmann wrote:
> From: Volker Barthelmann <volker@vb.franken.de>
> On Sun, 14 Nov 1999, Colin Wenzel wrote:
>> maybe that should be:
>> void _chkabort(void)
>> {
>>   return(0)
>> }
> 
> No. You can't return a value in a void function.


Oops,  that cut & paste will get you every time.....   (:>
I mean....   

long   _checkabort(void)
{  return(0L); }

But this is a moot point now, because you informed him of the
mechanism for him to cleanup()  with....

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_110" " Re: SystemTags Missing Path "
From: Laurent FAILLIE <l_faillie@yahoo.com>
Date: 11-16-99 09:42:05
Subject: @{b}Re: SystemTags Missing Path@{ub}

From: =?iso-8859-1?q?Laurent=20FAILLIE?= <l_faillie@yahoo.com>


> Hi,
Hi,

[ ... ]

> However it is not taking into account the PATH set
> up
> in the start-up sequence.  So it the command =
> "Multiview" forexample it doesn't find it :-(
> How can I clone the path or something so that my
> call
> to SystemTags will find the program?

Have a look, on aminet for LFSystemBinder. I think I
had put source code for a tool called LFGrabPath for
doing what you need.

Unfortunatly, I live my current work this week-end, I
already move my Ami, and i can't touch my email for
some weeks, so ...

An other solution is to have a look on CSH source's
code ...

   Laurent

=====
The misspelling master is on the Web.
   _________
  /        /(
 /  Dico  / /	100 % Dictionnary Free !
/________/ /		 
(#######( /

Quoi, des fautes d'orthographe! Pas possible ;-D.
@ENDNODE
@NODE "Mail_111" " What is tm_IDST on time.h? "
From: Dr Brain Damage <drbraindamage@angelfire.com>
Date: 11-16-99 09:49:57
Subject: @{b}What is tm_IDST on time.h?@{ub}

From: "Dr Brain Damage" <drbraindamage@angelfire.com>

I was finally able to understand how those libraries work, and tried Time.h include. There are tm_wday, tm_yday etc for week day number and year day number, but what does that tm_IDST mean?

i tried it, and it replayed me -1?

so what is it?

       - Dr.BrainDamage



Angelfire for your free web-based e-mail. http://www.angelfire.com

@ENDNODE
@NODE "Mail_112" " Re: SystemTags Missing Path "
From: Richard Drummond <richard.drummond@futurenet.co.uk>
Date: 11-16-99 14:38:01
Subject: @{b}Re: SystemTags Missing Path@{ub}

From: "Richard Drummond" <richard.drummond@futurenet.co.uk>

Hi Mike

On 14-Nov-99, you wrote:
                                                      
if(SystemTags(command,
> NP_StackSize, ssize, SYS_Output, NULL, SYS_Input, fd_con, SYS_UserShell,
> TRUE, SYS_Asynch, TRUE, TAG_DONE) != 0)
> 
> 
> However it is not taking into account the PATH set up
> in the start-up sequence.  So it the command =
> "Multiview" forexample it doesn't find it :-(
> How can I clone the path or something so that my call
> to SystemTags will find the program?

You attach a CLI to your process and clone Workbench's path list. You can
find code to do this, for instance, in the VMake source.

Other alternatives: use dospath.library or the WBCTRLA_DuplicateSearchPath
attribute of the WorkbenchControl() function in OS3.5


Cheers,
Rich

-- 
Richard Drummond
Staff Writer, Amiga Format

mailto: richard.drummond@futurenet.co.uk
pgp   : http://www.drummond.u-net.com/download/richards_key.asc
phone : +44 (0)1225 442244 ext 2417

@ENDNODE
@NODE "Mail_113" " Re: SystemTags Missing Path "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-16-99 15:39:31
Subject: @{b}Re: SystemTags Missing Path@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 16-Nov-99, Richard Drummond wrote:

> [...] or the WBCTRLA_DuplicateSearchPath
> attribute of the WorkbenchControl() function in OS3.5

But I don't think this will work when the Workbench is closed, i.e. when Opus
is running :-(

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
I've never forgot my 1st Windows installation. But I'm still trying...

@ENDNODE
@NODE "Mail_114" " Interrupt Server - Z flag usage "
From: ROBERT MEYERS <meyersrl@songs.sce.com>
Date: 11-16-99 18:00:58
Subject: @{b}Interrupt Server - Z flag usage@{ub}

From: "ROBERT MEYERS"<meyersrl@songs.sce.com>

I'm currently working on an interrupt server for a Z2/Z3 card.

My question is when my server has been called by Exec, if I 
have determined that the interrupt was generated by my card 
driving INT6, should I clear the Z flag just prior to RTS of 
my server?

I would like to be as CPU efficient as possible and eliminate 
further propagation of this interrupt down the chain if I know 
that it was generated by "my" hardware.  I am worried that if 
another INTB_EXTER server is linked into the chain it will 
possibly miss an interrupt it needs if I clear the Z flag.

The RKM (Libraries and Devices pgs. 525-526) appears to say 
that I should leave the Z flag set *unless* this is a VERTB 
server.  The *system* will clear the Z flag as required.  
Unless this is a VERTB server, then you should use the Z flag 
to speed things up a slightly.

I am using SAS/C 6.58 and had planned on using the __interrupt 
keyword on the server function and as well as keeping the 
function as short as possible, basically a quick check of my 
cards interrupt status register then if required, a Signal() 
of the driver task, and that's all.

It looks like the __interrupt keyword in SAS/C suspends stack 
checking and sets the Z flag on RTS, so for my INTB_EXTER 
server, I shouldn't even mess with the Z flag at all.  Is this 
correct?

--
Bob Meyers

@ENDNODE
@NODE "Mail_115" " Re: SystemTags Missing Path "
From: Richard Drummond <richard.drummond@futurenet.co.uk>
Date: 11-16-99 18:10:22
Subject: @{b}Re: SystemTags Missing Path@{ub}

From: "Richard Drummond" <richard.drummond@futurenet.co.uk>

Hello Allan

On 16-Nov-99, you wrote:

>> [...] or the WBCTRLA_DuplicateSearchPath
>> attribute of the WorkbenchControl() function in OS3.5
> 
> But I don't think this will work when the Workbench is closed, i.e. when
> Opus is running :-(

Not being a DOpus user, I hadn't considered that. :(

How does DOpus do AppIcons, etc.? Does it replace workbench.library with its
own version or what?

If Workbench is closed and there's no Workbench process, you would not be
able to clone its command path, anyway.

Cheers,
Rich

-- 
Richard Drummond
Staff Writer, Amiga Format

mailto: richard.drummond@futurenet.co.uk
pgp   : http://www.drummond.u-net.com/download/richards_key.asc
phone : +44 (0)1225 442244 ext 2417

@ENDNODE
@NODE "Mail_116" " Re: Re: SystemTags Missing Path "
From: Oliver Roberts <oliver.roberts@iname.com>
Date: 11-16-99 19:53:23
Subject: @{b}Re: Re: SystemTags Missing Path@{ub}

From: "Oliver Roberts" <oliver.roberts@iname.com>

On 16-Nov-99 13:38:01 GMT, Richard Drummond wrote:

> if(SystemTags(command,
>> NP_StackSize, ssize, SYS_Output, NULL, SYS_Input, fd_con, SYS_UserShell,
>> TRUE, SYS_Asynch, TRUE, TAG_DONE) != 0)
>> 
>> 
>> However it is not taking into account the PATH set up
>> in the start-up sequence.  So it the command =
>> "Multiview" forexample it doesn't find it :-(
>> How can I clone the path or something so that my call
>> to SystemTags will find the program?

> You attach a CLI to your process and clone Workbench's path list. You can
> find code to do this, for instance, in the VMake source.
>
> Other alternatives: use dospath.library or the
> WBCTRLA_DuplicateSearchPath attribute of the WorkbenchControl() function
> in OS3.5

Or Ralph Babel's wbpath (it's on the Dev CD, and on Aminet).

-- 
 *Oliver Roberts*  -  Norwich, UK  -  Software Developer & Web Designer
 /oliver.roberts@iname.com/  |  /oliver@amigaf1.freeserve.co.uk/
 http://www.nanunanu.org/~oliver/  -  ICQ: 34640231
-- 
 Pace 56 Solo mailing list ==>  http://www.egroups.com/group/56solo/
<tsb>

@ENDNODE
@NODE "Mail_117" " Re: Re: SystemTags Missing Path "
From: Oliver Roberts <oliver.roberts@iname.com>
Date: 11-16-99 20:26:05
Subject: @{b}Re: Re: SystemTags Missing Path@{ub}

From: "Oliver Roberts" <oliver.roberts@iname.com>

Hi Richard,

On 16-Nov-99 17:10:22 GMT, Richard Drummond wrote:

>>> [...] or the WBCTRLA_DuplicateSearchPath
>>> attribute of the WorkbenchControl() function in OS3.5
>> 
>> But I don't think this will work when the Workbench is closed, i.e. when
>> Opus is running :-(

> Not being a DOpus user, I hadn't considered that. :(

Allan's right - that feature doesn't work with DOpus in WBR mode :(  I
found that out today after adding support for WorkbenchControl() to
AFCDView :)

> How does DOpus do AppIcons, etc.? Does it replace workbench.library with
> its own version or what?

I was wondering the same thing the other day.  I would guess that it
just SetFunction()s the AppIcon routines of workbench.library.

> If Workbench is closed and there's no Workbench process, you would not be
> able to clone its command path, anyway.

Indeed, although using Ralph Babel's wbpath, for example, an app can also
obtain the search path if Opus is in use.

-- 
 *Oliver Roberts*  -  Norwich, UK  -  Software Developer & Web Designer
 /oliver.roberts@iname.com/  |  /oliver@amigaf1.freeserve.co.uk/
 http://www.nanunanu.org/~oliver/  -  ICQ: 34640231
-- 
 Amiga F1GP Webring  ==>  http://www.nanunanu.org/~oliver/f1gpring/
<tsb>

@ENDNODE
@NODE "Mail_118" " Re: SystemTags Missing Path "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 11-16-99 20:40:05
Subject: @{b}Re: SystemTags Missing Path@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

Hi Allan thanks for your mail that I got on 16-Nov-99
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 16-Nov-99, Richard Drummond wrote:
> 
>> [...] or the WBCTRLA_DuplicateSearchPath attribute
>> of the WorkbenchControl() function in OS3.5
> 
> But I don't think this will work when the Workbench
> is closed, i.e. when Opus is running :-(

And I'm writing for Scalos, which means I don't want
to make OS3.5 be a requirement!!

Bye,

M!Ke C.

-- 

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD FD,5 CD-ROMS,CDrW,ZiP250     \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_'-_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

@ENDNODE
@NODE "Mail_119" " Re: Message 68k<->PPC WOS. "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 11-16-99 20:45:26
Subject: @{b}Re: Message 68k<->PPC WOS.@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

Hi Micha³ thanks for your mail that I got on 14-Nov-99

> ---- Of course, putting message to PPC side sucks
> because it isn't safe anymore. (and I'm affraid that
> PPC semaphores are as compatible with 68k semaphores
>> .<
> 
> there are 3 possibilities now: a) I'm too dumb to do
> it myself, delete this message and forget what I
> said. b) Someone should really rethink warpup again,
> and do some changes ;).
>  b.1: I wish I could see: FindPPCMsgPort68k() and
> CreatePublicMsgPortPPC(), with automagically added
> name.
> 
> c) We should bother Frank more, because it looks like
> he did it in ppc.lib emu :)

Have you let Sam Jordan know?  He is usually willing to
take ideas from people to decide if theyare worth
implementing.  GO email him!

I think there's an update for WarpUP & Warp3D next
month maybe - along with the release of "Heretic 2"
game.

Bye 4 now,


M!Ke C.

-- 

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD FD,5 CD-ROMS,CDrW,ZiP250     \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_'-_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

@ENDNODE
@NODE "Mail_120" " Re: SystemTags Missing Path "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-16-99 21:04:24
Subject: @{b}Re: SystemTags Missing Path@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 16-Nov-99, Richard Drummond wrote:

> How does DOpus do AppIcons, etc.? Does it replace workbench.library with its
> own version or what?

Yes - it patches most, if not all, functions of workbench.library.

> If Workbench is closed and there's no Workbench process, you would not be
> able to clone its command path, anyway.

What you must do is look at
"startup_message->sm_Message.mn_ReplyPort->mp_SigTask", this is the task which
launched your process (usually Workbench, but could e.g. be Opus) and clone
the path list of this process.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Your mouse has moved. WinNT must be restarted for the change to take effect.

@ENDNODE
@NODE "Mail_121" " Re: SystemTags Missing Path "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-16-99 21:34:41
Subject: @{b}Re: SystemTags Missing Path@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, Nov 14, 1999 at 11:54:14PM +0100, Mike Carter wrote:
> From: Mike Carter <mike.carter@bigfoot.com>
> 
> Hi,
> 
> Small problem.  I execute a command using the
> following code:-
> 
>                                                                 if(SystemTags(command,                                                                        NP_StackSize,  ssize,                                                          SYS_Output,      NULL,                                                         SYS_Input,       fd_con,                                                       SYS_UserShell,  TRUE,                                                          SYS_Asynch,      TRUE,                                                         TAG_DONE) != 0)
> 
> 
> However it is not taking into account the PATH set up
> in the start-up sequence.
<snip>

I'd guess that the process you're calling it from was started by
Workbench.  A processes only has a path if it has a CLI structure,
and it can only inherit it from its parent process (which of course
must also have a CLI structure).

There is a dospath.library that helps with path management and allows
you to clone the Workbench's path.  On Aminet:

DOSPath.lha        util/libs   29K  98+Handle AmigaDOS path lists (V1.0)

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Life would be so much easier if we could look at the source code.

@ENDNODE
@NODE "Mail_122" " building .libs using FD2Lib "
From: Michael Schulze <Schulze_Michael@t-online.de>
Date: 11-16-99 23:56:26
Subject: @{b}building .libs using FD2Lib@{ub}

From: Schulze_Michael@t-online.de (Michael Schulze)

Hello,

How exactly can I build .lib-files out of FD-files? Do I have to build
different versions for WarpOS and 68k-programs?
I tried like it is described in the fd2lib.doc but join don't want to
join ;)

What are these .lib-files? When I link them (with VBCC), is it then
not necessary to open the librarys in the code with OpenLibrary?

Regards,

     Micha
-- 
  
    "The quiet ones are the ones who change the universe.
     The loud ones only take the credit."

    Londo Mollari, "BABYLON 5: In The Beginning"

@ENDNODE
@NODE "Mail_123" " Re: building .libs using FD2Lib "
From: Michal Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-17-99 10:50:22
Subject: @{b}Re: building .libs using FD2Lib@{ub}

From: Michal Bartczak <mikerro@ihh.pi.com.pl>

> How exactly can I build .lib-files out of FD-files? Do I have to build
> different versions for WarpOS and 68k-programs?
> I tried like it is described in the fd2lib.doc but join don't want to
> join ;)
Join DO want to join ;)
type amigaos command: join #?.o as ram:shit.lib
 
You have to do different versions for all target.

> What are these .lib-files? When I link them (with VBCC), is it then
> not necessary to open the librarys in the code with OpenLibrary?

Not quite. It depends of how you did them.

It is basicaly a stub routine, that loads registers with required parameters,
load libbase variable and runs OS (either by direct jump on 68k or by calling
68k on PPC ones)

If you want autoopen feature, you have to use auto generator (it IS in vbcc, at
last in the version I have ;P), and it will generate 2 additional objects,
which you should simply add into library file.

Those stubs are constructors/destructors, and they are handled by vlink linker
- they are called on startup and opens libraries, and on program terminate
there are called their destructors. 

Gdamnit, Volker should allow me to distribute my stuff ;P I did stubs like
needed by you for all needed libs :P

and maybe I should write a 'begginers.guide'.

Michal

@ENDNODE
@NODE "Mail_124" " Re: building .libs using FD2Lib "
From: Michael Schulze <Schulze_Michael@t-online.de>
Date: 11-17-99 12:57:50
Subject: @{b}Re: building .libs using FD2Lib@{ub}

From: Schulze_Michael@t-online.de (Michael Schulze)

Hello, Michal

> 
>> How exactly can I build .lib-files out of FD-files? Do I have to build
>> different versions for WarpOS and 68k-programs?
>> I tried like it is described in the fd2lib.doc but join don't want to
>> join ;)
> Join DO want to join ;)
> type amigaos command: join #?.o as ram:shit.lib

It's okay, my shell started that join from the geekgadget-package :/
With that one in SYS:c everything works fine...
Sorry for this stupidity ;)

> You have to do different versions for all target.

Okay, I have to do that...

> Gdamnit, Volker should allow me to distribute my stuff ;P I did stubs like
> needed by you for all needed libs :P

That would be great.

> and maybe I should write a 'begginers.guide'.

That would be greater. Not just for me but for all those people who want
to code for AMIGA.

Anyway, *BIG THANKS* for your help!

Regards,

    Micha

-- 
  
    "The quiet ones are the ones who change the universe.
     The loud ones only take the credit."

    Londo Mollari, "BABYLON 5: In The Beginning"

@ENDNODE
@NODE "Mail_125" " Picture loading/saving "
From: Roger Light <rogerlight@mindless.com>
Date: 11-17-99 13:24:16
Subject: @{b}Picture loading/saving@{ub}

From: Roger Light <rogerlight@mindless.com>

Hi all,

In one of my uni courses they have been looking at some picture
manipulation ideas that I want to try out for myself, but I really have
no interest in writing functions for loading/saving pictures. So does
anybody have any *portable* functions for loading/saving jpgs, gifs,
pngs, etc.

Cheers,

Roger

@ENDNODE
@NODE "Mail_126" " Re: Picture loading/saving "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 11-17-99 13:35:22
Subject: @{b}Re: Picture loading/saving@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hello Roger

On 17-nov-99, you wrote:

> From: Roger Light <rogerlight@mindless.com>
> 
> Hi all,
> 
> In one of my uni courses they have been looking at some picture
> manipulation ideas that I want to try out for myself, but I really have
> no interest in writing functions for loading/saving pictures. So does
> anybody have any *portable* functions for loading/saving jpgs, gifs,
> pngs, etc.


use datatype.library !!!

@ENDNODE
@NODE "Mail_127" " Re: Picture loading/saving "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 11-17-99 13:48:23
Subject: @{b}Re: Picture loading/saving@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hello Roger

On 17-nov-99, you wrote:


> That wouldn't really work as I need portable functions. I've actually
> got no access to an amiga at the moment but thought that the helpful
> people on the list wouldn't mind answering a question even if I am going
> to be doing the programming on a PC... ;)

check for RFC on many ftp so

Regards

@ENDNODE
@NODE "Mail_128" " Re: Re: Picture loading/saving "
From: Roger Light <rogerlight@mindless.com>
Date: 11-17-99 14:45:50
Subject: @{b}Re: Re: Picture loading/saving@{ub}

From: Roger Light <rogerlight@mindless.com>

> > So does anybody have any *portable* functions for loading/saving jpgs, gifs,
> > pngs, etc.
> 
> use datatype.library !!!

That wouldn't really work as I need portable functions. I've actually
got no access to an amiga at the moment but thought that the helpful
people on the list wouldn't mind answering a question even if I am going
to be doing the programming on a PC... ;)

Cheers,

Roger

@ENDNODE
@NODE "Mail_129" " Re: building .libs using FD2Lib "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-17-99 18:16:59
Subject: @{b}Re: building .libs using FD2Lib@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Michal 
Michal Bartczak wrote this on 17-Nov-99 at 10:50:22

-> Gdamnit, Volker should allow me to distribute my stuff ;P I did stubs like
-> needed by you for all needed libs :P

Would Volker object if you uploaded a set of libs to aminet for use with VBCC?
You needn`t distribute a reworked VBCC archive.

-> and maybe I should write a 'begginers.guide'.

I`d like to see that.

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_130" " Re: Picture loading/saving "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-17-99 18:18:42
Subject: @{b}Re: Picture loading/saving@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Roger 
Roger Light wrote this on 17-Nov-99 at 14:45:50

-> got no access to an amiga at the moment but thought that the helpful
-> people on the list wouldn't mind answering a question even if I am going
-> to be doing the programming on a PC... ;)

Hmm.

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_131" " MCC's & Serial Numbers "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 11-17-99 20:02:25
Subject: @{b}MCC's & Serial Numbers@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello,
    I was wondering if it is possible to use the first four numbers (or the
last four) for public custom class tags as I have mailed mccreg@sasg.com an
I have not had a reply

Kind regards
    David Arbuthnot

@ENDNODE
@NODE "Mail_132" " Re: MCC's & Serial Numbers "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-17-99 21:22:45
Subject: @{b}Re: MCC's & Serial Numbers@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 17-Nov-99, David Arbuthnot wrote:

>    I was wondering if it is possible to use the first four numbers (or the
> last four) for public custom class tags as I have mailed mccreg@sasg.com an
> I have not had a reply

The reason why you need a unique base is to ensure that your tags'n'methods
won't conflict with those of your superclass(es) nor future subclasses.  So it
generally would be safe for you to pick some unused number, but how to pick
this number is probably difficult without knowing the IDs given to all other
MUI developers, and which will be given in the future - so I'd recommend
simply using KMels base, till you get your own, as should there arise
problems, then it's the fault of Kmel (since he hasn't given you your own
base)...  ;-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
"One World, One Web, One Program" - Microsoft Promotional Ad
"Ein Volk, Ein Reich, Ein Fuehrer" - Adolf Hitler

@ENDNODE
@NODE "Mail_133" " Re: Picture loading/saving "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-17-99 21:24:23
Subject: @{b}Re: Picture loading/saving@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 17-Nov-99, Roger Light wrote:

>> use datatype.library !!!
> That wouldn't really work as I need portable functions. I've actually

Portable? Must be a joke... ;-)

Well, the source for libpng (and the required libzlib) and libjpeg are free,
and can easily be found through a searchengine (e.g. http://www.google.com/) -
an en/decoder for GIF is probably not that easily found, as the compression
method is now patented. But I think the source for the PPM-kit is publicly
available, and includes a GIF decoder - infact you may learn that the PPM-kit
is exactly what you're looking for. It's a suite of programs, where a lot of
them are <some format>2PPM and another part are PPM2<some format>. A lot of
operators then exist, which operate on the simple PPM format.  So you may want
to implement your filters in a similar way...

Regards Allan

P.S. It may not be called PPM, but something similar - I can't really
remember... but I know the Amiga port is on Aminet! :-)
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
MS-DOS Multitasking: Crashing both hard-drives at once...

@ENDNODE
@NODE "Mail_134" " Re: Picture loading/saving "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-17-99 21:33:25
Subject: @{b}Re: Picture loading/saving@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>

> In one of my uni courses they have been looking at some picture
> manipulation ideas that I want to try out for myself, but I really have
> no interest in writing functions for loading/saving pictures. So does
> anybody have any *portable* functions for loading/saving jpgs, gifs,
> pngs, etc.
You are thinking about portable ways, ne?

So try to download unix libjpeg, libpng, and so on. They are very easy to
compile on amee, and they are working. And they are portable - is it good
answer? :)

If you don't feel like recompiling dozens of libraries, ask me, I can
provide you recompiled libjpeg, which contains gif load/save routines too
:P I've got libpng some days ago, but I've lost it somehow... [strange
things can happen if you let 9-years old girl play quake on your machine
^.^]

Or, you can try to implement ppm type of images, they are just 10 lines of
code :P [if you stick to 24 bit ones, which should be enough for most of
test purposes]

Regards
-- 
Mikerek

@ENDNODE
@NODE "Mail_135" " Re: SystemTags Missing Path "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-17-99 21:38:14
Subject: @{b}Re: SystemTags Missing Path@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>

>> [...] or the WBCTRLA_DuplicateSearchPath
>> attribute of the WorkbenchControl() function in OS3.5
> 
> But I don't think this will work when the Workbench is closed, i.e. when
> Opus is running :-(
Sorry for stupid question, but isn't that whole discusion about getting
stanard shell comands paths for clonning a shell that would execute a
command?

Isn't stdlib.h system("run <NIL: >NIL: shit.exe"); easier?

Regards
-- 
Mikerek

@ENDNODE
@NODE "Mail_136" " Re: What is tm_IDST on time.h? "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 11-18-99 00:14:30
Subject: @{b}Re: What is tm_IDST on time.h?@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

int tm_isdst;        /* Daylight Savings Time flag */



On 16-Nov-99, Dr Brain Damage wrote:

> From: "Dr Brain Damage" <drbraindamage@angelfire.com>
> 
> I was finally able to understand how those libraries work, and tried Time.h include. There are tm_wday, tm_yday etc for week day number and year day number, but what does that tm_IDST mean?
> 
> i tried it, and it replayed me -1?
> 
> so what is it?
> 
>       - Dr.BrainDamage
> 
> 
> 
> Angelfire for your free web-based e-mail. http://www.angelfire.com
> 
> >     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 
Regards

@ENDNODE
@NODE "Mail_137" " Re: SystemTags Missing Path "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 11-18-99 00:34:07
Subject: @{b}Re: SystemTags Missing Path@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

Hi Oliver thanks for your mail that I got on 16-Nov-99
> From: "Oliver Roberts" <oliver.roberts@iname.com>
> 
> Hi Richard,
> 
> On 16-Nov-99 17:10:22 GMT, Richard Drummond wrote:
> 
>>>> [...] or the WBCTRLA_DuplicateSearchPath attribute
>>>> of the WorkbenchControl() function in OS3.5
>>> 
>>> But I don't think this will work when the Workbench
>>> is closed, i.e. when Opus is running :-(
> 
>> Not being a DOpus user, I hadn't considered that. :(
> 
> Allan's right - that feature doesn't work with DOpus
> in WBR mode :( I found that out today after adding
> support for WorkbenchControl() to AFCDView :)

Luckily this doesn't *need* to work with either of those
desktop replacements as it's for Scalos - yet another
replacement :-)


>> If Workbench is closed and there's no Workbench
>> process, you would not be able to clone its command
>> path, anyway.
> 
> Indeed, although using Ralph Babel's wbpath, for
> example, an app can also obtain the search path if
> Opus is in use.

I've used this solution which is neat, easy and worked
a treat first time!  Thanks to all who suggested
ideas!!

M!Ke C.

-- 

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD FD,5 CD-ROMS,CDrW,ZiP250     \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_'-_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

@ENDNODE
@NODE "Mail_138" " Re: building .libs using FD2Lib "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 11-18-99 00:36:06
Subject: @{b}Re: building .libs using FD2Lib@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

Hi Michal thanks for your mail that I got on 17-Nov-99

> Gdamnit, Volker should allow me to distribute my
> stuff ;P I did stubs like needed by you for all
> needed libs :P
> 
> and maybe I should write a 'begginers.guide'.
> 
> Michal

What's stopping you then??? :o)  Do it, do it!


M!Ke C.

-- 

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD FD,5 CD-ROMS,CDrW,ZiP250     \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_'-_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

@ENDNODE
@NODE "Mail_139" " Re: Re: Picture loading/saving "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-18-99 00:40:41
Subject: @{b}Re: Re: Picture loading/saving@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Nov 17, 1999 at 09:24:23PM +0100, Allan Odgaard wrote:
[about image decoding/encoding]
<snip>
> P.S. It may not be called PPM, but something similar - I can't really
> remember... but I know the Amiga port is on Aminet! :-)

The name is NetPBM.  Look in the gfx/pbm directory of Aminet.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Experience is directly proportional to the value of equipment destroyed.
                                                         - Carolyn Scheppner

@ENDNODE
@NODE "Mail_140" " Re: Joypad test. "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 11-18-99 00:41:51
Subject: @{b}Re: Joypad test.@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

Hi Tim thanks for your mail that I got on 15-Nov-99

> Please find attached a v.small bit of code. Can
> someone with a CD32 joypad (in port 1) run it and
> tell me if it works. It should print to console the
> name of the button(s) you are pressing. I just need
> to know if it`s my joypad is broken or I`ve missed
> the point about lowlevel.library.

Yes it all works fine.  ALthough no direction and no
pause/play buttons responded.

Regards,

M!Ke C.

-- 

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD FD,5 CD-ROMS,CDrW,ZiP250     \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_'-_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

@ENDNODE
@NODE "Mail_141" " Setting a Shell to open... "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 11-18-99 01:15:59
Subject: @{b}Setting a Shell to open...@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

Hi,

Now I solved my PATh problem I'd like to be able to
create a new shell process with a certain path as
default.

Currently I just do a Execute(...) using a string read
in from the environment variable NEWCLI. If runs
something like "NewShell WINDOW=CON:////" forexample. 
But how can I set it to open say with the default path
being C: ???

Will I have to create a new Shell some other way,
rather than executing a simple command to do it?

Regards,


M!Ke C.


-- 

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD FD,5 CD-ROMS,CDrW,ZiP250     \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_'-_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

@ENDNODE
@NODE "Mail_142" " Re: building .libs using FD2Lib "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-18-99 08:16:09
Subject: @{b}Re: building .libs using FD2Lib@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>


>> and maybe I should write a 'begginers.guide'.
> What's stopping you then??? :o)  Do it, do it!
Yup. I started ^^; It might take some time, I'm quite busy person
[spliting my time between school, work, kawaii-huggable girl, and the time
for amee I'm getting from time for sleep]
 
Regards
-- 
Mikerek

@ENDNODE
@NODE "Mail_143" " Re: Message 68k<->PPC WOS. "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-18-99 08:20:30
Subject: @{b}Re: Message 68k<->PPC WOS.@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>

>> [WarpOS bugs, and other thingies]
> Have you let Sam Jordan know?  He is usually willing to
> take ideas from people to decide if theyare worth
> implementing.  GO email him!
I did. Frank Wille was able to reproduce an error - it seems that there _is_
a bug in warpup messages system ^.-, and there is no better 68k way to find
ppc msg port than running ppc task... <grr>
 
> I think there's an update for WarpUP & Warp3D next
> month maybe - along with the release of "Heretic 2"
> game.
I hope. Warp3D is full of errors too.
 
Regards
-- 
Mikerek

@ENDNODE
@NODE "Mail_144" " Re: Setting a Shell to open... "
From: Dominic Clifton <dom@dsltd.force9.co.uk>
Date: 11-18-99 15:26:17
Subject: @{b}Re: Setting a Shell to open...@{ub}

From: Dominic Clifton <dom@dsltd.force9.co.uk>


It runs something like "NewShell WINDOW=CON:////" for example. 
But how can I set it to open say with the default path
being C: ???

use the FROM option of the NewShell command to run a script after the shell
opens. then add your "path" and "cd" commands in that script.  no problem!

see also s:Shell-Startup
 
-- 

[Dominic Clifton - aka Hydra/CRoSS POiNT ]=-  -=[ Oh my god, it's an email]
[DreamCast, C++, DV, Sports Cars, Snowboarding, South Park, Placebo, Amiga]

@ENDNODE
@NODE "Mail_145" " Re: Re: Picture loading/saving "
From: Roger Light <rogerlight@mindless.com>
Date: 11-18-99 15:51:48
Subject: @{b}Re: Re: Picture loading/saving@{ub}

From: Roger Light <rogerlight@mindless.com>

Allan Odgaard wrote:

> Well, the source for libpng (and the required libzlib) and libjpeg are free,

Cheers Allan and Micha that looks exactly what I need.

Regards,

Roger

@ENDNODE
@NODE "Mail_146" " Icon Tooltypes "
From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
Date: 11-18-99 16:27:09
Subject: @{b}Icon Tooltypes@{ub}

From: Martyn Capewell <mmc28@hermes.cam.ac.uk>

Hello,

Could anyone point me in the direction of some example code to read and
write tooltypes?

Thanks,
-- 
- Martyn Capewell
    {   Compsci, University of Cambridge   }
    { http://members.xoom.com/legerdemain0 }

@ENDNODE
@NODE "Mail_147" " Re: Icon Tooltypes "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-18-99 16:48:36
Subject: @{b}Re: Icon Tooltypes@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello Martyn

On 18-Nov-99, Martyn Capewell wrote:
> From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
> 
> Hello,
> 
> Could anyone point me in the direction of some example code to read and
> write tooltypes?
> 
> Thanks,

This code does the job...

BOOL getWBArgs(struct WBStartup *args)
{
   BOOL result = FALSE;
   struct WBArg *wbArg;
   struct DiskObject *diskObj;
   STRPTR arg;
   BPTR oldDir;

   if(args)
   {
      wbArg = args->sm_ArgList;
      oldDir = CurrentDir(wbArg->wa_Lock);
      gd->diskobj_name = wbArg->wa_Name;
      if(diskObj = GetDiskObject(gd->diskobj_name))
      {
         if(arg = FindToolType(diskObj->do_ToolTypes, "CX_PRIORITY"))
         {
            StrToLong(arg, (LONG*)&(gd->gd_cxPriority));
         }
         else
         {
            gd->gd_cxPriority = 0;
         }

         if(arg = FindToolType(diskObj->do_ToolTypes, "CX_POPUP"))
         {
            gd->gd_cxPopUp = !MatchToolValue(arg, "NO");
         }

         if(arg = FindToolType(diskObj->do_ToolTypes, "CX_POPKEY"))
         {
            strncpy(gd->gd_cxPopKey, (STRPTR)arg, 31);
         }
         else
         {
            strncpy(gd->gd_cxPopKey, "ctrl alt r", 31);
         }

         if(arg = FindToolType(diskObj->do_ToolTypes, "AREXXPORT"))
         {
            strncpy(gd->gd_ARexxPort, (STRPTR)arg, 31);
         }
         else
         {
            strncpy(gd->gd_ARexxPort, "SIMPLECOMMODITY.1", 31);
         }

         if(arg = FindToolType(diskObj->do_ToolTypes, "QUIET"))
         {
            gd->gd_quiet = !MatchToolValue(arg, "NO");
         }

         result = TRUE;
         FreeDiskObject(diskObj);
      }
      CurrentDir(oldDir);
   }
   return(result);
}

VOID saveToolTypes()
{
   char **ttypes;
   char **new;
   STRPTR bufs[12] = { NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,
NULL, NULL, NULL };
   ULONG total, len, i;
   struct DiskObject *diskObj = NULL;

   for(i = 0 ; i < 12 ; i++)
   {
      if(!(bufs[i] = (STRPTR)AllocVec(368, MEMF_ANY | MEMF_CLEAR)))
      {
         int t;

         for(t = 0 ; t < i ; t++)
         {
            FreeVec(bufs[i]);
         }
         requestUser(GetString(MSG_NO_RESOURCE));
         return;
      }
   }

   BusyWin(gd->gd_Objects[OID_MAIN], TRUE);

   total = 0;
   if(diskObj = GetDiskObject(gd->diskobj_name))
   {
      ttypes = diskObj->do_ToolTypes;

      if(gd->gd_quiet)
      {
         strncpy(bufs[7], "QUIET=YES", 367);
      }
      else
      {
         strncpy(bufs[7], "(QUIET=NO)", 367);
      }

      if(gd->gd_cxPopUp)
      {
         strncpy(bufs[8], "CX_POPUP=YES", 367);
      }
      else
      {
         strncpy(bufs[8], "CX_POPUP=NO", 367);
      }

      sprintf(bufs[9], "CX_POPKEY=%s", gd->gd_cxPopKey);
      sprintf(bufs[10], "CX_PRIORITY=%ld", gd->gd_cxPriority);
      sprintf(bufs[11], "AREXXPORT=%s", gd->gd_ARexxPort);
      total = 12;

      if(new = (char**)AllocVec((total - 1) * 6, MEMF_CLEAR | MEMF_ANY))
      {
         i = 0;
         while(i < total)
         {
            len = strlen(bufs[i]) + 2;
            if(new[i] = (char*)AllocVec(len, MEMF_CLEAR | MEMF_ANY))
            {
               strncpy(new[i], bufs[i], len);
            }
            i++;
         }

         diskObj->do_ToolTypes = new;
         PutDiskObject(gd->diskobj_name, diskObj);
         diskObj->do_ToolTypes = ttypes;

         i = 0;
         while(i < total)
         {
            FreeVec(new[i]);
            i++;
         }
         FreeVec(new);
      }

      FreeDiskObject(diskObj);
   }

   for(i = 0 ; i < total ; i++)
   {
      if(bufs[i])
      {
         FreeVec(bufs[i]);
      }
   }

   BusyWin(gd->gd_Objects[OID_MAIN], FALSE);
}

@ENDNODE
@NODE "Mail_148" " Re: Joypad test. "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 11-18-99 19:51:36
Subject: @{b}Re: Joypad test.@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi Tim

> Please find attached a v.small bit of code. Can someone with a CD32 joypad
> (in port 1) run it and tell me if it works. It should print to console the
> name of the button(s) you are pressing. I just need to know if it`s my

Works fine for me, both with C= Pad and Competition Pro Pad!  It doesn't
respond to the play/pause button though.

> joypad is broken or I`ve missed the point about lowlevel.library.

Your joypad might not be broken - it might just be a timing problem.
Remember that lowlevel.library was written for the CD32, which had an
'020 and no fast RAM.  My machine is a 25MHz '030, and lowlevel works
fine on that too, but I seem to remember reading that it has problems with
'060s (and maybe fast '040s too). 

I think there's some (assembler) source on Aminet which will read a CD32
pad successfully on 060s.

All the best,
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

keyboard not connected -- press F1 to continue

@ENDNODE
@NODE "Mail_149" " Re: Picture loading/saving "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 11-18-99 19:51:52
Subject: @{b}Re: Picture loading/saving@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi Roger

On 17-Nov-99, you wrote:

> anybody have any *portable* functions for loading/saving jpgs, gifs,
> pngs, etc.

Check out Aminet gfx/conv/jpegV6src.lha  It's basically the Independent JPEG
group's source code, and I've had it compiled on the office PC.  It also
comes with conversion programs which can handle several other common
formats.  (There's probably also a newer version of the IJG code out there
somewhere!)

Also, send your favourite search engine looking for libPNG, which again,
I've had compiled on the office PC.  You'll need ZLib (a compression
library) to go with it though.

You might also want to check out the Aminet gfx/pbm directory.  I've not
tried it myself, but I've heard that there's some good stuff there!

Good luck,
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

Seen on the East side of the Berlin Wall just before its demise:
"Don't worry. Baldrick has a cunning plan."

@ENDNODE
@NODE "Mail_150" " Re: Joypad test. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-18-99 22:27:30
Subject: @{b}Re: Joypad test.@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Mike 
Mike Carter wrote this on 18-Nov-99 at 00:41:51

-> Yes it all works fine.  ALthough no direction and no
-> pause/play buttons responded.

Cheers mate that`s as it should be. I`ll have to get the screwdriver out and
take my pad apart.

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_151" " Re: Icon Tooltypes "
From: Stephan Huebner <StephanHuebner@swol.de>
Date: 11-18-99 23:32:37
Subject: @{b}Re: Icon Tooltypes@{ub}

From: Stephan Huebner <StephanHuebner@swol.de>

Hello Martyn

On 18-Nov-99, you wrote:

> Could anyone point me in the direction of some example code to read and
> write tooltypes?

There seem to be some nice functions for that in one of the new
OS3.5-libs... :)


Greetings,

Stephan
-- 

Flirt: A game in which you don't know wether you're still in the
qualification or already in the finale
-- Ernst Stankovski

@ENDNODE
@NODE "Mail_152" " Re: building .libs using FD2Lib "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 11-19-99 03:11:18
Subject: @{b}Re: building .libs using FD2Lib@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Wed, 17 Nov 1999, Michal Bartczak wrote:

> Gdamnit, Volker should allow me to distribute my stuff ;P I did stubs like
> needed by you for all needed libs :P

You do not need my permission to distribute *your* stuff. Of course you're
allowed to distribute libraries, guides etc. However, I object to
distribution of modified versions of *my* stuff.

Volker

@ENDNODE
@NODE "Mail_153" " Needing help in changing int to char. "
From: Dr Brain Damage <drbraindamage@angelfire.com>
Date: 11-19-99 09:18:26
Subject: @{b}Needing help in changing int to char.@{ub}

From: "Dr Brain Damage" <drbraindamage@angelfire.com>

i am currently doing simple program which opens a window and shows time on it, however, i have encountered a problem.

how do i change int to char, so that char would show me the number of int when printed?

i would need to get "tm_mday" etc. as a char?

so how am i able to put "tm_mday" for example on "char text" so that if "tm_mday" is "12" it would when i print out "char text" print "12"?

and by the way, no one has answered what that "tm_IDST" means yet?



       - Dr.BrainDamage



Angelfire for your free web-based e-mail. http://www.angelfire.com

@ENDNODE
@NODE "Mail_154" " Re: Needing help in changing int to char. "
From: Andrew Ballard <andyb@ncc.co.uk>
Date: 11-19-99 10:51:52
Subject: @{b}Re: Needing help in changing int to char.@{ub}

From: Andrew Ballard <andyb@ncc.co.uk>

>
>how do i change int to char, so that char would show me the number of int when 
printed?
>
>i would need to get "tm_mday" etc. as a char?
>
>so how am i able to put "tm_mday" for example on "char text" so that if 
"tm_mday" is "12" it would when i print out "char text" print "12"?
>

You can use itoa (IntegerTOAscii) which is related to atoi for converting the 
other way.

Unfortunately, itoa isn't ANSI compatible so it may not be available (I use VBCC 
and it doesn't work).  If you do have it available, you pass it three 
parameters, the number, the string to put it in, and the base (use 10 for 
decimal, 16 for hex, etc).  It also returns the string too.

If thats no good, you can always use the sprintf method.  Its the same as 
printf, but outputs it to a string.  This is convenient if you have lots of 
numbers strings and stuff to put together, this example may be usful for what 
your doing:

sprintf (string, "%d:%d:%d\n", tm_hour, tm_minute, tm_second);

all done in one line!

>
>and by the way, no one has answered what that "tm_IDST" means yet?
>

I*** Daylight Saving Time, at a guess?  I though this was something to do with 
British Summer Time, but it doesn't work if it is, as I always have to change it 
myself.  

Hopes thats of some help,

Andrew Ballard.

@ENDNODE
@NODE "Mail_155" " Re: Icon Tooltypes "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 11-19-99 11:01:05
Subject: @{b}Re: Icon Tooltypes@{ub}

Hello Martyn


> Could anyone point me in the direction of some example code to read and
> write tooltypes?

it's really easy. You have to use the icon.library. I dont have the autodoc
around, but functions are REALLY easy to understand...

Regards
@ENDNODE
@NODE "Mail_156" " AW: Needing help in changing int to char. "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 11-19-99 11:02:12
Subject: @{b}AW: Needing help in changing int to char.@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

> From: "Dr Brain Damage" <drbraindamage@angelfire.com>
> 
> 
> how do i change int to char, so that char would show me the number of int
> when printed?
> 
> i would need to get "tm_mday" etc. as a char?
> 
> so how am i able to put "tm_mday" for example on "char text" so that if
> "tm_mday" is "12" it would when i print out "char text" print "12"?
> 
	  
	Its not clear to me what you want to do here.
	Do you want to print a date? Do you have that date in a tm
structure? How did you get that date?


	If you just want to print an int value, you must use %d in a
printf-function.

	int Variable;
	Variable=12;
	printf ("The value is %d\n",Variable);

	That  will give you the following output to the shell:
	The value is 12

	If you want to output the text into a window you need string. You
can  use sprintf() to print your text into a string and then you can display
this string in the window.

> and by the way, no one has answered what that "tm_IDST" means yet?
> 
int tm_isdst;        /* Daylight Savings Time flag */
This flag is zero if we have "normal" time (winter time) and not zero if we
have daylight saving time (summer time)
>  
> 
	Kind regards Alexander Fritsch 

@ENDNODE
@NODE "Mail_157" " Reading/ writing icons "
From: Rod_MacLean@uk.ibm.com
Date: 11-19-99 12:40:59
Subject: @{b}Reading/ writing icons@{ub}

From: Rod_MacLean@uk.ibm.com




My program needs to read in two icons and copy the images from the first icon
into the second.
It's got to leave all the tool types etc intact.

I've got an "almost working" version but it always adds a lot of NULL tooltypes
at the end of the list.

Has anyone got any working code for this? [Failing that I'll post my own but 3
or 4 others have
already checked the code and none of us found the bug so far ;(

     Rod

--
Rod MacLean - IT Specialist
L2L, IBM Perth (tel 01738 894135)
IEA GBIB1S3U @ IBMMAIL    (rod_maclean@uk.ibm.com)

@ENDNODE
@NODE "Mail_158" " Converting ASCII Decimal codes to char "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 11-19-99 12:51:18
Subject: @{b}Converting ASCII Decimal codes to char@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello,
    I am trying to read some text from the keyboard using a window with
IDCMP_VANILLAKEYS (and IDCMP_RAWKEYS) but i can't seem to convert the
decimal number that the IDCMP messages return in the code member of an
IntuiMessage struct to a char that can be output using Text(). I could use
a switch to test for each char but that would be a major slowdown for my
program i.e switch(code) ..... case 'a': do somthing case 'b':do somthing
else ..... case 'z': i cant be arsed typing any more
Kind regards

@ENDNODE
@NODE "Mail_159" " Re: Setting a Shell to open... "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 11-19-99 12:54:18
Subject: @{b}Re: Setting a Shell to open...@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello Mike

On 18-Nov-99, you wrote:

> From: Mike Carter <mike.carter@bigfoot.com>
> 
> Hi,
> 
> Now I solved my PATh problem I'd like to be able to
> create a new shell process with a certain path as
> default.
> 
> Currently I just do a Execute(...) using a string read
> in from the environment variable NEWCLI. If runs
> something like "NewShell WINDOW=CON:////" forexample. 
> But how can I set it to open say with the default path
> being C: ???
> 
> Will I have to create a new Shell some other way,
> rather than executing a simple command to do it?
> 
> Regards,
> 
> 
> M!Ke C.
> 
> 
Regards

Just use Stefan Becker's dospath.library it allows you to create a new path
for a shell (I think the function you should use is called somthing like
BuildPathList() ) it allows you to copy a path from one shell to another
etc...

@ENDNODE
@NODE "Mail_160" " Re: Converting ASCII Decimal codes to char "
From: Michal Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-19-99 15:14:38
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From: Michal Bartczak <mikerro@ihh.pi.com.pl>


> Hello,
>     I am trying to read some text from the keyboard using a window with
> IDCMP_VANILLAKEYS (and IDCMP_RAWKEYS) but i can't seem to convert the
> decimal number that the IDCMP messages return in the code member of an
> IntuiMessage struct to a char that can be output using Text(). I could use
> a switch to test for each char but that would be a major slowdown for my
> program i.e switch(code) ..... case 'a': do somthing case 'b':do somthing
> else ..... case 'z': i cant be arsed typing any more
> Kind regards

Gosh :) Try this:

char convert[] = {'d','c','b','a','1',8'];
printf("%d\n", convert[3]);

... got the idea?

You are doing conversion table, insert into char convert[] ascii codes on
corresponding vanillakeys positions. And voila.

PS: Sorry for mental shortcuts :P

michal

@ENDNODE
@NODE "Mail_161" " Re: Converting ASCII Decimal codes to char "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 11-19-99 16:34:18
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi David,

On 19-Nov-99 you wrote: [amiga-c] Converting ASCII Decimal codes to char

>    I am trying to read some text from the keyboard using a window
> with IDCMP_VANILLAKEYS (and IDCMP_RAWKEYS) but i can't seem to
> convert the decimal number that the IDCMP messages return in the
> code member of an IntuiMessage struct to a char that can be output
> using Text(). I could use a switch to test for each char but that
> would be a major slowdown for my program i.e switch(code) ..... case
> 'a': do somthing case 'b':do somthing else ..... case 'z': i cant be
> arsed typing any more

Regarding IDCMP_VANILLAKEY messages, you could type cast IntuiMessage->Code, for example:

char TmpChar = (char) IntuiMessage->Code; /* Convert the UWORD to a char */
Move(YourRP, YourX, YourY);
Text(YourRP, &TmpChar, 1);

Hope that helps.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
"You talk funny, Nash. Where you from?" "Lots of places."

@ENDNODE
@NODE "Mail_162" " Displaying floats "
From: Donald W Millican <DonaldWM@stonelawdrive.freeserve.co.uk>
Date: 11-19-99 19:56:20
Subject: @{b}Displaying floats@{ub}

From: "Donald W Millican" <DonaldWM@stonelawdrive.freeserve.co.uk>

I am writing a simple application using StormC 3.0 which converts one value
to another, (e.g. miles to km). I have the problem that I cannot find a way
of using gadtools to display the answer as floating point.
I am reading in the value (float or int) using a string gadget. I then then
perform an ascii to float conversion to obtain the input. My conversion
formulas work fine but when I try to display the result (which may have
several decimal places), I run into problems.

As I see it, I have one of two options to display my result:

I use the string gadget to display the floating point number:
If I pass a float to a string gadget then a lot of rubbish is displayed in
the gadget.

I display the result by calling an EasyRequest structure and passing the
result to it:
The EasyRequest structure seems incapable of displaying anything other than
integers. In the structure I cannot define the displayed number as %f as the
'f' is displayed rather than what it represents. If I use %d or %ld then I
also get rubbish.

As neither of these options appear to work, is there a gadget in gadtools
which can handle floats AS floats, rather than strings of text as I cannot
convert a float to a text string?

Is there a way of telling an EasyRequest to display a float?

Or do I have to do this a different way?

Please help.

@ENDNODE
@NODE "Mail_163" " Re: Converting ASCII Decimal codes to char "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-19-99 19:58:55
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello Michal

On 19-Nov-99, Michal Bartczak wrote:
> From: Michal Bartczak <mikerro@ihh.pi.com.pl>
> 
> 
>> Hello,
>>     I am trying to read some text from the keyboard using a window with
>> IDCMP_VANILLAKEYS (and IDCMP_RAWKEYS) but i can't seem to convert the
>> decimal number that the IDCMP messages return in the code member of an
>> IntuiMessage struct to a char that can be output using Text(). I could use
>> a switch to test for each char but that would be a major slowdown for my
>> program i.e switch(code) ..... case 'a': do somthing case 'b':do somthing
>> else ..... case 'z': i cant be arsed typing any more
>> Kind regards
> 
> Gosh :) Try this:
> 
> char convert[] = {'d','c','b','a','1',8'];
> printf("%d\n", convert[3]);

IIRC code contains the decimal value of the char. A cast would therefore be
much faster than a lookup table.

sprintf( buffer, "%c", (char)code )
Text(rport, buffer, strlen(buffer));

  Rod

@ENDNODE
@NODE "Mail_164" " Re: Displaying floats "
From: Gregory Roberts II <gregr@en.com>
Date: 11-19-99 20:19:24
Subject: @{b}Re: Displaying floats@{ub}

From: Gregory Roberts II <gregr@en.com>

On Fri, 19 Nov 1999, Donald W Millican wrote:

> As neither of these options appear to work, is there a gadget in gadtools
> which can handle floats AS floats, rather than strings of text as I cannot
> convert a float to a text string?

Sure you can:

char    buffer[21];
float   f;

f=355.0/113.0;		/* easy as pi :-) */

sprintf(buffer,"%-20.9f",f);

BTW, the - makes it left justified and the 20 limits it to 20 chars max
(the size of the buffer I declared -1 for null terminator). The .9
specifies how many decimal places.

Greg

-- 
gregr@en.com
KC8BGC
Amiga Enthusiast  :)
IBM programmer    :(

@ENDNODE
@NODE "Mail_165" " Re: Needing help in changing int to char. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-19-99 21:05:33
Subject: @{b}Re: Needing help in changing int to char.@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Fritsch 
Fritsch Alexander wrote this on 19-Nov-99 at 11:02:12

->     If you just want to print an int value, you must use %d in a
-> printf-function.
-> 
->     int Variable;
->     Variable=12;
->     printf ("The value is %d\n",Variable);
-> 

The question I want answered (and it may be the original question as well) is
what should the formay string be in this example:

BYTE variable;
 variabable=10;
 printf("the value is %d\n",variable);    
?


-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_166" " RE: Displaying floats "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 11-19-99 21:13:16
Subject: @{b}RE: Displaying floats@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> From: "Donald W Millican" <DonaldWM@stonelawdrive.freeserve.co.uk>
>
> I am writing a simple application using StormC 3.0 which converts
> one value
> to another, (e.g. miles to km). I have the problem that I cannot
> find a way
> of using gadtools to display the answer as floating point.
> I am reading in the value (float or int) using a string gadget. I
> then then
> perform an ascii to float conversion to obtain the input. My conversion
> formulas work fine but when I try to display the result (which may have
> several decimal places), I run into problems.
>
> As I see it, I have one of two options to display my result:
>
> I use the string gadget to display the floating point number:
> If I pass a float to a string gadget then a lot of rubbish is displayed in
> the gadget.
>
> I display the result by calling an EasyRequest structure and passing the
> result to it:
> The EasyRequest structure seems incapable of displaying anything
> other than
> integers. In the structure I cannot define the displayed number
> as %f as the
> 'f' is displayed rather than what it represents. If I use %d or %ld then I
> also get rubbish.
>
> As neither of these options appear to work, is there a gadget in gadtools
> which can handle floats AS floats, rather than strings of text as I cannot
> convert a float to a text string?
>
> Is there a way of telling an EasyRequest to display a float?
>
> Or do I have to do this a different way?

One easy solution would be to use the standard ANSI-C function sprintf() to
convert your float into a string, and then display it with any of the
functions you described. Like:

float f = 0.3755f;
char buffer[256];

sprintf(buffer,"%f",f);
MyFunctionThatDisplaysAString(buffer);

... As you are using sprintf(), you would probably like to add formatting
to the string, so for example %.4f (a float with 4 decimals) would be a
good value. But that's entirely up to the needs of your code.

--
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_167" " M68k<->PPC WOS messages troubles SOLVED "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-19-99 21:34:24
Subject: @{b}M68k<->PPC WOS messages troubles SOLVED@{ub}

I've traced down a (stupid as usual ;) bug in m68k<->ppc wos messages
example I did. Well, I didn't too much bugs, except forgetting one
deleteport, but it wasn't the cause of hangup - the real trouble are
includes from WarpUP-warpos ;) They are wrong - fd file is buggy.

I did vbcc link-lib from them - it seems that in fd FreeXMsg() needs
parameter in A1, while it should get it in A0.

And it was why Frank Wille had same troubles

Now, this example works. 

Try it, and have fun

(Sorry Sam for sending this message to you again, but you might want to add
it as an example source somewhere in next (??) WarpUP release)

-- 
Mikerek

@ENDNODE
@NODE "Mail_168" " Re: Re: Needing help in changing int to char. "
From: Gregory Roberts II <gregr@en.com>
Date: 11-19-99 22:52:08
Subject: @{b}Re: Re: Needing help in changing int to char.@{ub}

From: Gregory Roberts II <gregr@en.com>

On Fri, 19 Nov 1999, Tim Hanson wrote:

> 
> The question I want answered (and it may be the original question as well) is
> what should the formay string be in this example:
> 
> BYTE variable;
>  variabable=10;
>  printf("the value is %d\n",variable);    
> ?
> 

How about this?  :-)

BYTE	variable;
variable = 10;
printf("this value is %d\n",(int)variable);

Greg


-- 
gregr@en.com
KC8BGC
Amiga Enthusiast  :)
IBM programmer    :(

@ENDNODE
@NODE "Mail_169" " Re: Re: Needing help in changing int to char. "
From: Gregory Roberts II <gregr@en.com>
Date: 11-19-99 22:56:48
Subject: @{b}Re: Re: Needing help in changing int to char.@{ub}

From: Gregory Roberts II <gregr@en.com>

On Fri, 19 Nov 1999, Gregory Roberts II wrote:

> How about this?  :-)
> 
> BYTE	variable;
> variable = 10;
> printf("this value is %d\n",(int)variable);
> 
> Greg
>

(replying to myself... guess I should finish before I send...)

basically, the only format specifier for BYTE sized vars is %c, which I
don't think is what you want.  Therefore,  you must use %d and promote the
BYTE to an int with a cast.

Greg
 
-- 
gregr@en.com
KC8BGC
Amiga Enthusiast  :)
IBM programmer    :(

@ENDNODE
@NODE "Mail_170" " Re: VBCC Ctrl-C "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 11-19-99 23:11:23
Subject: @{b}Re: VBCC Ctrl-C@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi Volker

> Just add
> void _chkabort(){}
> to your code.

Doh!  I've just finished re-compiling vc.lib!  I guess this shows the
peril of self-teaching a programming-language!  It never ocurred to me
that you could override library functions like that!

I needed to re-compile vc.lib anyway, 'cause I need it (or part of it)
to be thread-safe, so the time wasn't wasted!  My experiments with threads
were another reason why I wanted _chkabort() muzzled; the possibility
of a sub-thread calling exit() is a spectacularly Bad Thing!

While I'm talking about threads, I don't think my first question to this list
got through, so here it is again:

I'm exploring the possibility of adding Multi-Threading to a project of
mine, but there are a number of problems, the most tricky of which is that
the mathieee#?.library bases can't be shared between multiple tasks.
Since library bases are global variables, and since (on machines with no
FPU) these libraries are used for C's floating point operations, how on
earth do I go about using floating-point math from within a sub-task?

Any suggestions?

All the best,
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

A politician is a man who stands for what he thinks the voters will fall for.

@ENDNODE
@NODE "Mail_171" " Re: Needing help in changing int to char. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-20-99 03:36:00
Subject: @{b}Re: Needing help in changing int to char.@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Nov 19, 1999 at 10:18:26AM +0200, Dr Brain Damage wrote:
> From: "Dr Brain Damage" <drbraindamage@angelfire.com>
> 
> i am currently doing simple program which opens a window and shows
> time on it, however, i have encountered a problem.
> 
> how do i change int to char, so that char would show me the number
> of int when printed?

You can't.  A char is a single character.  If you have an int, i,
between 0 and 9, you can do:

    char c = '0'+i;

but I don't think this is really what you're asking.

> i would need to get "tm_mday" etc. as a char?

You can't.

> so how am i able to put "tm_mday" for example on "char text" so that
> if "tm_mday" is "12" it would when i print out "char text" print
> "12"?

Read about the printf and sprintf functions.

> and by the way, no one has answered what that "tm_IDST" means yet?

That doesn't sound like a standard member at all.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Life is like a sewer:
what you get out of it depends on what you put into it.

@ENDNODE
@NODE "Mail_172" " Re: Re: Needing help in changing int to char. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-20-99 03:39:07
Subject: @{b}Re: Re: Needing help in changing int to char.@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Nov 19, 1999 at 09:05:33PM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi Fritsch 
> Fritsch Alexander wrote this on 19-Nov-99 at 11:02:12
> 
> ->     If you just want to print an int value, you must use %d in a
> -> printf-function.
> -> 
> ->     int Variable;
> ->     Variable=12;
> ->     printf ("The value is %d\n",Variable);
> -> 
> 
> The question I want answered (and it may be the original question as well) is
> what should the formay string be in this example:
> 
> BYTE variable;
>  variabable=10;
>  printf("the value is %d\n",variable);    
> ?

The format string is "the value is %d\n".  The output text should be
"the value is 10\n".  Please RTFM.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Life is like a sewer:
what you get out of it depends on what you put into it.

@ENDNODE
@NODE "Mail_173" " Re: Re: Needing help in changing int to char. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-20-99 03:42:39
Subject: @{b}Re: Re: Needing help in changing int to char.@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Nov 19, 1999 at 04:56:48PM -0500, Gregory Roberts II wrote:
> From: Gregory Roberts II <gregr@en.com>
> 
> On Fri, 19 Nov 1999, Gregory Roberts II wrote:
> 
> > How about this?  :-)
> > 
> > BYTE	variable;
> > variable = 10;
> > printf("this value is %d\n",(int)variable);
> > 
> > Greg
> >
> 
> (replying to myself... guess I should finish before I send...)
> 
> basically, the only format specifier for BYTE sized vars is %c, which I
> don't think is what you want.  Therefore,  you must use %d and promote the
> BYTE to an int with a cast.

No.  BYTE (assuming that it is typedef'd to char) will always be
promoted to int when used in an expression.  The %c format specifier
corresponds to an int argument, just like %d.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Life is like a sewer:
what you get out of it depends on what you put into it.

@ENDNODE
@NODE "Mail_174" " Re: Needing help in changing int to char. "
From: Laura Vance <vancel@amiga.nols.com>
Date: 11-20-99 03:52:44
Subject: @{b}Re: Needing help in changing int to char.@{ub}

From: Laura Vance <vancel@amiga.nols.com>

On 19-Nov-99, Dr Brain Damage wrote:
>From: "Dr Brain Damage" <drbraindamage@angelfire.com>

>i am currently doing simple program which opens a window and shows time on
it,
>however, i have encountered a problem.

>how do i change int to char, so that char would show me the number of int
when
>printed?

I'm sure that someone has answered this before I got home tonight, but the
simplest way, and it's a standard ANSI way to do it (not just amiga specific)
is the function atoi()  very simple, does exactly that.


>i would need to get "tm_mday" etc. as a char?

>so how am i able to put "tm_mday" for example on "char text" so that if
>"tm_mday" is "12" it would when i print out "char text" print "12"?

>and by the way, no one has answered what that "tm_IDST" means yet?



>       - Dr.BrainDamage

later,

Laura



-- 
     \|/
    (o o)
--ooO(_)Ooo--
  Peekaboo!

@ENDNODE
@NODE "Mail_175" " Re: Needing help in changing int to char. "
From: Laura Vance <vancel@amiga.nols.com>
Date: 11-20-99 03:53:52
Subject: @{b}Re: Needing help in changing int to char.@{ub}

From: Laura Vance <vancel@amiga.nols.com>

On 19-Nov-99, Laura Vance wrote:
>From: Laura Vance <vancel@amiga.nols.com>

>On 19-Nov-99, Dr Brain Damage wrote:
>>From: "Dr Brain Damage" <drbraindamage@angelfire.com>

>>i am currently doing simple program which opens a window and shows time on
>it,
>>however, i have encountered a problem.

>>how do i change int to char, so that char would show me the number of int
>when
>>printed?

>I'm sure that someone has answered this before I got home tonight, but the
>simplest way, and it's a standard ANSI way to do it (not just amiga specific)
>is the function atoi()  very simple, does exactly that.

oops.. sorry, meant itoa()  *blush*  


>>i would need to get "tm_mday" etc. as a char?

>>so how am i able to put "tm_mday" for example on "char text" so that if
>>"tm_mday" is "12" it would when i print out "char text" print "12"?

>>and by the way, no one has answered what that "tm_IDST" means yet?



>>       - Dr.BrainDamage

>later,

>Laura



>-- 
>     \|/
>    (o o)
>--ooO(_)Ooo--
>  Peekaboo!

>>     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 

-- 
     \|/
    (o o)
--ooO(_)Ooo--
  Peekaboo!

@ENDNODE
@NODE "Mail_176" " Re: Displaying floats "
From: Laura Vance <vancel@amiga.nols.com>
Date: 11-20-99 04:11:40
Subject: @{b}Re: Displaying floats@{ub}

From: Laura Vance <vancel@amiga.nols.com>

On 19-Nov-99, Donald W Millican wrote:
>From: "Donald W Millican" <DonaldWM@stonelawdrive.freeserve.co.uk>

>I am writing a simple application using StormC 3.0 which converts one value
>to another, (e.g. miles to km). I have the problem that I cannot find a way
>of using gadtools to display the answer as floating point.
>I am reading in the value (float or int) using a string gadget. I then then
>perform an ascii to float conversion to obtain the input. My conversion
>formulas work fine but when I try to display the result (which may have
>several decimal places), I run into problems.

The way that I have re-converted floating point numbers into strings is to use
the sprintf() function.   It's really handy to do things like that, since I
don't believe that there is an "ftoa()" function.

length = sprintf(char *result, char *format, arg1, arg2, arg3,...);



>As I see it, I have one of two options to display my result:

>I use the string gadget to display the floating point number:
>If I pass a float to a string gadget then a lot of rubbish is displayed in
>the gadget.

>I display the result by calling an EasyRequest structure and passing the
>result to it:
>The EasyRequest structure seems incapable of displaying anything other than
>integers. In the structure I cannot define the displayed number as %f as the
>'f' is displayed rather than what it represents. If I use %d or %ld then I
>also get rubbish.

>As neither of these options appear to work, is there a gadget in gadtools
>which can handle floats AS floats, rather than strings of text as I cannot
>convert a float to a text string?

>Is there a way of telling an EasyRequest to display a float?

>Or do I have to do this a different way?

>Please help.

>>     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 

-- 
     \|/
    (o o)
--ooO(_)Ooo--
  Peekaboo!

@ENDNODE
@NODE "Mail_177" " Re: Re: Converting ASCII Decimal codes to char "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-20-99 04:12:32
Subject: @{b}Re: Re: Converting ASCII Decimal codes to char@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Nov 19, 1999 at 11:58:55AM -0700, Rod Schnell wrote:
> From:   Rod Schnell <rodsch@telusplanet.net>
> 
> Hello Michal
> 
> On 19-Nov-99, Michal Bartczak wrote:
> > From: Michal Bartczak <mikerro@ihh.pi.com.pl>
> > 
> > 
> >> Hello,
> >>     I am trying to read some text from the keyboard using a window with
> >> IDCMP_VANILLAKEYS (and IDCMP_RAWKEYS) but i can't seem to convert the
> >> decimal number that the IDCMP messages return in the code member of an
> >> IntuiMessage struct to a char that can be output using Text(). I could use
> >> a switch to test for each char but that would be a major slowdown for my
> >> program i.e switch(code) ..... case 'a': do somthing case 'b':do somthing
> >> else ..... case 'z': i cant be arsed typing any more
> >> Kind regards
> > 
> > Gosh :) Try this:
> > 
> > char convert[] = {'d','c','b','a','1',8'];
> > printf("%d\n", convert[3]);
> 
> IIRC code contains the decimal value of the char.

No, strangely enough, it's binary.

> A cast would therefore be much faster than a lookup table.
> 
> sprintf( buffer, "%c", (char)code )
> Text(rport, buffer, strlen(buffer));

Oh, please think before posting code.  That code does this:

1. Casts code from UWORD (I think) to char.
2. Casts the result of (1) to int.
3. Calls sprintf, which parses the format string, reads the result of
   (2), casts it back to char, and writes it to buffer,
4. Calls strlen(buffer) - even though we know the result will be 1.
5. Calls Text.

Steps 2-4 are pointless.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Life is like a sewer:
what you get out of it depends on what you put into it.

@ENDNODE
@NODE "Mail_178" " transparent drawing "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 11-20-99 10:42:32
Subject: @{b}transparent drawing@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

hi there,

Now can i draw (lines, text) and 'delete' it wihtout altering the
background, ie, with PPaint, when you draw lines or when you enter some text, the
background is not altered (you can move the line, erase the written text) ?

I think, i should use some OR operation, but how ? Someone have some example
plz ?

regards

@ENDNODE
@NODE "Mail_179" " It's that time again..... "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 11-20-99 14:40:24
Subject: @{b}It's that time again.....@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

It's that time again folks,   time to check your clock batteries.

In the last 8 weeks several of my customers have lost
a total of:  1x A2000, 3 x  A3000's  &  2 x 4000's  
due to leaky ni-cads.

This is no joke,  it will kill them permanently   !!!!!!!!!!
It gets into the plated through holes on the
multi-layer boards & eats the guts out of them.

Check your nicads now,   
if they are leaking  AT ALL...   do something now....   

Just remove the batteries if you are too-lazy,
or get them replaced immediately....  

Just don't leave them in there.... !

ONLY  A4000Tower  owners don't have to worry,  
they use lithium cells.

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_180" " ReadPixel() problem "
From: Bob Lanham <bobl@jaxproductions.com>
Date: 11-20-99 14:44:44
Subject: @{b}ReadPixel() problem@{ub}

From: Bob Lanham <bobl@jaxproductions.com>

Is there a known problem with ReadPixel() and graphics boards?

A program I wrote, which worked under plain AGA, now doesn't work with
the Pixel64.  I inserted a printf, and the ReadPixel() seems to return
all zeros.  It also gets stuck in a loop, so it could be another
mistake.

Any info would be greatly appreciated!
Bob Lanham

@ENDNODE
@NODE "Mail_181" " Re: ReadPixel() problem "
From: Martin McKenzie <marty@cadtech.demon.co.uk>
Date: 11-20-99 17:20:33
Subject: @{b}Re: ReadPixel() problem@{ub}

From: Martin McKenzie <marty@cadtech.demon.co.uk>

Hello Bob,

On 20-Nov-99, Bob Lanham wrote:
> Is there a known problem with ReadPixel() and graphics boards?

If the screenmode is a high/true colour display, then you will need to use a
function within Cybergraphics or Picasso96 to read the pixel.
For Cybergraphics, it is "ReadRGBPixel" and for Picasso96 it is
"p96ReadPixel ".
ReadPixel should work ok on 8Bit screeens though.

-- 
Cheerio,
Martin McKenzie
Imagine support: http://www.cadtech.demon.co.uk/

@ENDNODE
@NODE "Mail_182" " Re: It's that time again..... "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-20-99 22:46:49
Subject: @{b}Re: It's that time again.....@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello Colin

On 20-Nov-99, Colin Wenzel wrote:
> From: Colin Wenzel <colstv@hotkey.net.au>
> 
> It's that time again folks,   time to check your clock batteries.
> 

speaking of clock batteries, mine is dying, got a part number for an A4000
battery?

  Rod

@ENDNODE
@NODE "Mail_183" " Re: Converting ASCII Decimal codes to char "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-20-99 23:07:32
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello Ben

On 19-Nov-99, Ben Hutchings wrote:
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
>> 
>> sprintf( buffer, "%c", (char)code )
>> Text(rport, buffer, strlen(buffer));
> 
> Oh, please think before posting code.  That code does this:
> 
> 1. Casts code from UWORD (I think) to char.
> 2. Casts the result of (1) to int.

dunno where you see a cast to int there...

> 3. Calls sprintf, which parses the format string, reads the result of
>   (2), casts it back to char, and writes it to buffer,
> 4. Calls strlen(buffer) - even though we know the result will be 1.
> 5. Calls Text.
> 
> Steps 2-4 are pointless.
> 

Obviously, if length is a known fixed value, the strlen() can be skipped, but
depending on exactly what the original poster wants to do with it, it may not
be fixed. For instance, he might wind up with something like this:

sprintf("%s %c", GetString(loc_strid), (char)code);

Besides that, Text() takes STRPTR as input, ie, a NULL terminated string, not
not just a single unterminated char.

  Rod

@ENDNODE
@NODE "Mail_184" " Re: VBCC Ctrl-C "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-20-99 23:30:44
Subject: @{b}Re: VBCC Ctrl-C@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello Alastair

On 19-Nov-99, Alastair M. Robinson wrote:
> From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
> 
> Hi Volker
> 
> I'm exploring the possibility of adding Multi-Threading to a project of
> mine, but there are a number of problems, the most tricky of which is that
> the mathieee#?.library bases can't be shared between multiple tasks.
> Since library bases are global variables, and since (on machines with no
> FPU) these libraries are used for C's floating point operations, how on
> earth do I go about using floating-point math from within a sub-task?
> 
> Any suggestions?
> 

You should be able to open local library bases in each task. Works fine
with other libraries. Then you pass the local bases for that specific task
into all functions it calls.


void taskmain(void)
{
 struct LocalData *ld;
 struct Library   *SocketBase;

 ld = AllocVec(sizeof(struct LocalData), MEMF_ANY | MEMF_CLEAR);

 ld->SocketBase = OpenLibrary("bsdsocket.library", 4);

 open other libs...

 dosomething(ld, othervars, ...)
}

dosomething(struct LocalData *ld, ...)
{
 struct Library   *SocketBase;

 SocketBase = ld->SocketBase;

 ...
}


  Rod

@ENDNODE
@NODE "Mail_185" " Shared Libraries and Calling own functions "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 11-20-99 23:35:20
Subject: @{b}Shared Libraries and Calling own functions@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello, All
    I was just wondering is it possible for a shared library to call its own
functions or would i have to open another copy of the library to access the
functions
Kind regards
    Dave `Trebor' Arbuthnots
    

@ENDNODE
@NODE "Mail_186" " Re: It's that time again..... "
From: troy silvey <tbsilvey@juno.com>
Date: 11-21-99 03:26:40
Subject: @{b}Re: It's that time again.....@{ub}

From: troy silvey <tbsilvey@juno.com>

>In the last 8 weeks several of my customers have lost
>a total of:  1x A2000, 3 x  A3000's  &  2 x 4000's  
>due to leaky ni-cads.

Check the battery if you havn't already !!!
If it looks bad get it pulled. I have seen 2
friends lose a 3000 and a 4000 by waiting.
Though I wouldn't try this unless your a hardware
techie, you can bend and break the offending
battery off the board before it eats it away.
Non of my 3 amigas have batteries any more.

thanks for reminding every one Colin.

troy


___________________________________________________________________
Get the Internet just the way you want it.
Free software, free e-mail, and free Internet access for a month!
Try Juno Web: http://dl.www.juno.com/dynoget/tagj.

@ENDNODE
@NODE "Mail_187" " Re: It's that time again..... "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 11-21-99 09:35:21
Subject: @{b}Re: It's that time again.....@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 21-Nov-99, Martin wrote:
>> From the enquiries I've made it's an alkaline paste that leaks out.
>> Ordinary
> vinegar on a cotton swab will neutralize it (watch it bubble for
> about 5 minutes) then swab it down, and keep applying the vinegar
> until it stop's fizzing/bubbling.
> Mop up the excess, and finally use warm, soapy water on a cotton bud
> to get rid of the left over vinegar. Let it dry before turning it on
> obviously.
> 
> Regards...Martin
> 

I personally would just prefer to see a solvent used to wash the
area down, with a stiff brush,  my preference is acetone.

Water has an unfortunate tendancy to hide in difficult to dry places.
It could be weeks before it dries properly.

...colin.




> 
>> 
>> -------------------------------------
>> Colin Wenzel. Australia.
> 
> 
> 
> ------------------------------------------------------------------------
> et the most popular downloads on the Web. They¹re new! They¹re hot!
> They re FREE! Utilities, drivers, games. It s all here.
> http://clickhere.egroups.com/click/1610
> 
> 
> 
> -- 20 megs of disk space in your group's Document Vault
> -- http://www.egroups.com/docvault/ugn-talk/?m=1
> 
> 
Regards
-- 

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_188" " Re: It's that time again..... "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-21-99 12:17:48
Subject: @{b}Re: It's that time again.....@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Colin 
Colin Wenzel wrote this on 20-Nov-99 at 14:40:24

-> Check your nicads now,   
-> if they are leaking  AT ALL...   do something now....   

How often do you recommend checking them?

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_189" " Re: Shared Libraries and Calling own functions "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-21-99 13:31:31
Subject: @{b}Re: Shared Libraries and Calling own functions@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 20-Nov-99, David Arbuthnot wrote:

>    I was just wondering is it possible for a shared library to call its own
> functions or would i have to open another copy of the library [...]

It's perfectly legal and recommended! :-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
I like work... I can sit and watch it for hours.

@ENDNODE
@NODE "Mail_190" " Re: Converting ASCII Decimal codes to char "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-21-99 13:31:37
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 20-Nov-99, Rod Schnell wrote:

> [...]
> Besides that, Text() takes STRPTR as input, ie, a NULL terminated string, not
> not just a single unterminated char.

Sorry, but Text() does not require that the given string is terminated.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Life begins at '040...  Impotence starts at '86...

@ENDNODE
@NODE "Mail_191" " Re: transparent drawing "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-21-99 13:32:50
Subject: @{b}Re: transparent drawing@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 20-Nov-99, Adrien HEMERY wrote:

> Now can i draw (lines, text) and 'delete' it wihtout altering the background,
> ie, with PPaint, when you draw lines or when you enter some text, the
> background is not altered (you can move the line, erase the written text) ?

This is only possible by keeping a copy of what you delete.

> I think, i should use some OR operation, but how ? Someone have some example
> plz ?

You could set the draw mode to COMPLEMENT - which eors the lines'n'text, so
they can be removed by re-drawing them (still in COMPLEMENT mode) but then
your lines'n'text won't have a solid colour. But it's good for e.g. a
selection box...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
"One World, One Web, One Program" - Microsoft Promotional Ad
"Ein Volk, Ein Reich, Ein Fuehrer" - Adolf Hitler

@ENDNODE
@NODE "Mail_192" " Ni-Cd batteries. "
From: Lee Atkins <lee@loonyjuicesoftware.freeserve.co.uk>
Date: 11-21-99 16:07:34
Subject: @{b}Ni-Cd batteries.@{ub}

From: Lee Atkins <lee@loonyjuicesoftware.freeserve.co.uk>

Hello,
Dont forget that you just cant replace a Ni-Cd battery with a lithium cell.
Lithium cells are not rechargeable where as Ni-Cd are.
You could go for the newer Ni-Mh batteries which are a direct replacement
for the Ni-Cd.  They are also less likely to leak!

Lee.

@ENDNODE
@NODE "Mail_193" " Re: Re: Converting ASCII Decimal codes to char "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-21-99 21:17:54
Subject: @{b}Re: Re: Converting ASCII Decimal codes to char@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sat, Nov 20, 1999 at 03:07:32PM -0700, Rod Schnell wrote:
> From:   Rod Schnell <rodsch@telusplanet.net>
> 
> Hello Ben
> 
> On 19-Nov-99, Ben Hutchings wrote:
> > From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> > 
> >> 
> >> sprintf( buffer, "%c", (char)code )
> >> Text(rport, buffer, strlen(buffer));
> > 
> > Oh, please think before posting code.  That code does this:
> > 
> > 1. Casts code from UWORD (I think) to char.
> > 2. Casts the result of (1) to int.
> 
> dunno where you see a cast to int there...

Sorry, I should have said `promotes'.

<snip>
> Besides that, Text() takes STRPTR as input, ie, a NULL terminated string, not
> not just a single unterminated char.

No, the length of the string is given as a separate argument.  No null
terminator is required.  Oh, and don't forget that NULL is not the
same as null (in C, at least).

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
If God had intended Man to program,
we'd have been born with serial I/O ports.

@ENDNODE
@NODE "Mail_194" " Re: Converting ASCII Decimal codes to char "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-21-99 23:48:23
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello Ben

On 21-Nov-99, Ben Hutchings wrote:
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
>> Besides that, Text() takes STRPTR as input, ie, a NULL terminated string,
>> not not just a single unterminated char.
> 
> No, the length of the string is given as a separate argument.  No null
> terminator is required.  Oh, and don't forget that NULL is not the
> same as null (in C, at least).
>

Dunno about you, but I prefer my code to compile with no errors or warnings,
so when a function expects an STRPTR, I give it an STRPTR.

Regardless of what Text() can handle, an STRPTR by definition (see
exec/types.h) is a NULL (yes it's NULL, not null) terminated string. I don't
like surprises when I change the code either, so I terminate my strings.

Considering what a bothersome nitpicker you are, I'm astounded to see you
suggest using unterminated strings and passing anything as input to a
function other than exactly what the prototype calls for.

  Rod

@ENDNODE
@NODE "Mail_195" " Re: Converting ASCII Decimal codes to char "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-21-99 23:54:42
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From:   Rod Schnell <rodsch@telusplanet.net>

Hello Allan

On 21-Nov-99, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 20-Nov-99, Rod Schnell wrote:
> 
>> [...]
>> Besides that, Text() takes STRPTR as input, ie, a NULL terminated string,
>> not not just a single unterminated char.
> 
> Sorry, but Text() does not require that the given string is terminated.
> 

No but an STRPTR by definition is terminated.

   Regards Rod

@ENDNODE
@NODE "Mail_196" " Re: Converting ASCII Decimal codes to char "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-22-99 01:14:17
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 21-Nov-99, Rod Schnell wrote:

>>> Besides that, Text() takes STRPTR as input, ie, a NULL terminated string,
>> Sorry, but Text() does not require that the given string is terminated.
> No but an STRPTR by definition is terminated.

What's important here is wether or not you have to terminate the string given
to Text(), and you don't have to! Further more the definition of STRPTR is
just a pointer to one or more characters - it's true that the comment (not the
definition) mentions that it's NULL-terminated (which is wrong, it should be
'\0', which isn't the same) but this is just a general assumption, and surely
not the case for all STRPTR's, which is why you have length-limited print,
search and copy functions - as there are no special type defined for
(non-terminated) substrings.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
I think that God in creating man somewhat overestimated his ability.
-- Oscar Wilde

@ENDNODE
@NODE "Mail_197" " Re: Converting ASCII Decimal codes to char "
From: Rod_MacLean@uk.ibm.com
Date: 11-22-99 11:44:32
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From: Rod_MacLean@uk.ibm.com




>> I am trying to read some text from the keyboard using a window with
>> IDCMP_VANILLAKEYS (and IDCMP_RAWKEYS)

> char convert[] = {'d','c','b','a','1',8'];
> printf("%d\n", convert[3]);

That seems to be a good way to break your program for users who have anything
other than
the standard keyboard.

Maybe not though.

--
Rod MacLean - IT Specialist
L2L, IBM Perth (tel 01738 894135)
IEA GBIB1S3U @ IBMMAIL    (rod_maclean@uk.ibm.com)

@ENDNODE
@NODE "Mail_198" " Flood fill "
From: Lee Atkins <lee@loonyjuicesoftware.freeserve.co.uk>
Date: 11-22-99 20:59:29
Subject: @{b}Flood fill@{ub}

From: Lee Atkins <lee@loonyjuicesoftware.freeserve.co.uk>

Hello,
I have a polygon drawn on screen and I specify a point which is inside the
polygon.  What I want to do is a flood fill of this polygon (fill in the
pixels within the polygon).
I need to write my own routine to do this because I need to count the number
of pixels filled (the polygons area).
I have eyeballed at a few books and through the web and have so far come up
with nothing.  Any ideas?

Thanks , Lee.

@ENDNODE
@NODE "Mail_199" " Re: Joypad test. "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 11-22-99 23:53:34
Subject: @{b}Re: Joypad test.@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

Hi Alastair thanks for your mail that I got on 18-Nov-99

> Your joypad might not be broken - it might just be a
> timing problem. Remember that lowlevel.library was
> written for the CD32, which had an '020 and no fast
> RAM. My machine is a 25MHz '030, and lowlevel works
> fine on that too, but I seem to remember reading that
> it has problems with '060s (and maybe fast '040s
> too).

I tested it on my 06 0and it worked fine.

Regards,


M!ke C.

-- 

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD FD,5 CD-ROMS,CDrW,ZiP250     \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_'-_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

@ENDNODE
@NODE "Mail_200" " Re: Re: Converting ASCII Decimal codes to char "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-23-99 01:33:09
Subject: @{b}Re: Re: Converting ASCII Decimal codes to char@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, Nov 21, 1999 at 03:48:23PM -0700, Rod Schnell wrote:
> From:   Rod Schnell <rodsch@telusplanet.net>
> 
> Hello Ben
> 
> On 21-Nov-99, Ben Hutchings wrote:
> > From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> > 
> >> Besides that, Text() takes STRPTR as input, ie, a NULL terminated string,
> >> not not just a single unterminated char.
> > 
> > No, the length of the string is given as a separate argument.  No null
> > terminator is required.  Oh, and don't forget that NULL is not the
> > same as null (in C, at least).
> >
> 
> Dunno about you, but I prefer my code to compile with no errors or warnings,
> so when a function expects an STRPTR, I give it an STRPTR.

The `STRPTR' mnemonic implies (to the human reader) a pointer to a
conventional null-terminated string.  However, the documentation for
Text makes it quite clear that this is not actually what it expects.

> Regardless of what Text() can handle, an STRPTR by definition (see
> exec/types.h) is a NULL (yes it's NULL, not null) terminated string.

No.  There is no way to describe such a thing in C.  A pointer to type
T can point to a single instance of T, or to an array of T whose
length must be given or inferred by some separate convention.  There
is a convention, which the C language supports through string
literals, and which the C library supports through utility functions,
that strings of text are null-terminated arrays of char.

As for the NULL/null distinction, the standard allows NULL to be
defined either as 0, or as (void *)0.  The latter definition is
certainly not usable as a char constant.

> I don't like surprises when I change the code either, so I terminate
> my strings.

But we're talking about a single char here, not a string.

> Considering what a bothersome nitpicker you are, I'm astounded to see you
> suggest using unterminated strings and passing anything as input to a
> function other than exactly what the prototype calls for.

Prototypes are not specifications for functions; they are descriptions
that help the compiler to check for errors.  There are many errors
that they do not help it to detect (such as int arguments out of an
allowed range), and in the case of functions written in or for another
language they can cause quite valid inputs to be flagged as errors
(unless you use ugly and misleading casts).

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
I say we take off; nuke the site from orbit.  It's the only way to be sure.

@ENDNODE
@NODE "Mail_201" " Re: Ni-Cd batteries. "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 11-23-99 02:27:39
Subject: @{b}Re: Ni-Cd batteries.@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 22-Nov-99, Lee Atkins wrote:
> From: Lee Atkins <lee@loonyjuicesoftware.freeserve.co.uk>
> 
> Hello,
> Dont forget that you just cant replace a Ni-Cd battery with a lithium
> cell. Lithium cells are not rechargeable where as Ni-Cd are. You
> could go for the newer Ni-Mh batteries which are a direct replacement
> for the Ni-Cd. They are also less likely to leak!
> 
> Lee.
> 

Providing they add a suitable diode in series with the 
lithium battery to prevent charging, 
it will work just peachy.... 

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_202" " Re: Re: Converting ASCII Decimal codes to char "
From: "James S. Adelman" <j.adelman@ukonline.co.uk>
Date: 11-23-99 02:32:07
Subject: @{b}Re: Re: Converting ASCII Decimal codes to char@{ub}

From: "James S. Adelman" <j.adelman@ukonline.co.uk>

> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> As for the NULL/null distinction, the standard allows NULL to be
> defined either as 0, or as (void *)0.  The latter definition is
> certainly not usable as a char constant.
> 
In Amiga C, NULL is #defined as 0L in exec/types.h, which I very much
doubt is what is meant by NULL terminated string, since that would be
a ridiculous exercise, although it should be automatically cast down. 
In general, I would expect NULL to correspond to a completely zero
register, because this is certainly what it means in the descriptions
of standard library functions.

--
James S. Adelman
Liverpool
--
#Amiga and #C on Buffy-IRC (irc.buffy-irc.net or
sarahlove.buffy-irc.net) are soon to be positively overflowing with
people. (honest)
-- 
James Samuel Adelman
Liverpool
--
#sci.psychology.psychotherapy on DAL.net 
use server viking.dal.net or webbernet.dal.net

@ENDNODE
@NODE "Mail_203" " Re: Converting ASCII Decimal codes to char "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-23-99 05:13:14
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello Ben

People like you are why so many programmers never release sources...

I know how Text() works. You know how Text() works. Most of the people here
probably know how Text() works. Yes, the length of the string is an argument,
and yes, Text() can handle an unterminated string. As a matter of fact, I
allmost wrote the code that way, but I figured -you- would make a big deal
about that.

This is the amiga-c list, it's safe to assume we are talking about Amiga C
when not otherwise specified.. Except of course.. When talking to you..

On the Amiga, NULL == 0L and the convention is to NULL terminate strings.

STRPTR is a typedef, not a #define. How you could possible misinterpret my
usage of the word "definition" is beyond me.

In the C language, all strings are character arrays, but not all character
arrays are strings.

STRPTR is meant to be used as a mnemonic distinction between a pointer to a
character or an array of characters and a pointer to a NULL terminated array
of characters. If it's not NULL terminated, you should use char * rather than
STRPTR even though an STRPTR is actually a char * too.

Stop being obtuse, get a life, and... Well, you figure the rest out...


To everyone else:

Sorry about all this crap, hopefully it's finished now :)

Regards Rod

@ENDNODE
@NODE "Mail_204" " Re: Converting ASCII Decimal codes to char "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-23-99 05:58:29
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello James

On 22-Nov-99, James S. Adelman wrote:
> From: "James S. Adelman" <j.adelman@ukonline.co.uk>
> 
>> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
>> 
>> As for the NULL/null distinction, the standard allows NULL to be
>> defined either as 0, or as (void *)0.  The latter definition is
>> certainly not usable as a char constant.
>> 
> In Amiga C, NULL is #defined as 0L in exec/types.h, which I very much
> doubt is what is meant by NULL terminated string, since that would be
> a ridiculous exercise, although it should be automatically cast down. 
> In general, I would expect NULL to correspond to a completely zero
> register, because this is certainly what it means in the descriptions
> of standard library functions.

That is an excellent point, though I'd guess the compiler generates the same
code in either case. If not, then '\0' would be a better choice than NULL.

I also notice that 'null' isn't even defined in the Amiga includes. Ends that
argument. :)

Regards Rod

@ENDNODE
@NODE "Mail_205" " Re: Little maths problem. "
From: Jonathan Adamczewski <jadamcze@utas.edu.au>
Date: 11-23-99 07:20:02
Subject: @{b}Re: Little maths problem.@{ub}

From: Jonathan Adamczewski <jadamcze@utas.edu.au>



On Wed, 24 Nov 1999, Tim Hanson wrote:

> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> 
> Little maths problem:
> 
> I have a value stored in a FLOAT that lies in the range 0-500000. I need to
> convert it in such a way that it lies in the range 0-1 and so that smaller
> values take up more of the range. (Is that explaination useless?) Here`s what
> I tried but it doesn`t seem to work.
> 
> FLOAT f;
>  f=somevalue;
> 
>  f=500000-f;
>  f*=f;
>  f=(500000*500000)-f;
>  f/=(500000*500000);
> 
> Am i barking up the wrong tree.
> 
Try using log - it will make the big numbers much smaller and the smaller
numbers not so much smaller.  As long as there's no numbers between 0 and
1 - that will give you negative results which probably isn't what you are
after.  And log 0 gives an error.(inf)

Also, this is how I would approach the problem - I haven't really tried to
understand what you've done avove - my brains ache at the moment... :)

try :
f=log(f) //Take log of number(dunno about correct notation where does log live?)
f/=log(5000)  //Normalize - this garuntees number is between zero and one.


Hope it helps.


Use the same technique with different functions to get the distribution
you want - you could try variations on SQRT (I think) as well as log.  If
you have probs, I can think about it further or no doubt someone else here
can give you an answer.

Jonathan.

@ENDNODE
@NODE "Mail_206" " Re: Little maths problem. "
From: Jonathan Adamczewski <jadamcze@utas.edu.au>
Date: 11-23-99 10:14:38
Subject: @{b}Re: Little maths problem.@{ub}

From: Jonathan Adamczewski <jadamcze@utas.edu.au>



On 25 Nov 1999, James S. Adelman wrote:

> From: "James S. Adelman" <j.adelman@ukonline.co.uk>
> 
> The simplest way I can think of off of the top of my head is:
> float myfunction(float f)
> { f+=1; return 1/f;}

This won't quite work (how Tim wants afaicu) This gives large numbers
closer to zero and  small numbers closer to one.  The way round that is to
do the following
f+=1;
return 1-(1/f);

which gives things the right way round

Using part of your method fixes the problem in the one I mentioned
before...

Instead of the last way, do this

f=log(f+1)/log(500001)

Everything ends up where it should be, and it biases things much more
nicely for the lower range.

1-(1/(f+1)) approaches one much faster than lof(f+1)/log(500001)


Hope I've got it right and it helps.

Jonathan.


> 
> > From: Tim Hanson <msinister@connectfree.co.uk>
> > 
> > Hi All,
> > 
> > Little maths problem:
> > 
> > I have a value stored in a FLOAT that lies in the range 0-500000. I need to
> > convert it in such a way that it lies in the range 0-1 and so that smaller
> > values take up more of the range. (Is that explaination useless?) Here`s what
> > I tried but it doesn`t seem to work.
> > 
> > FLOAT f;
> >  f=somevalue;
> > 
> >  f=500000-f;
> >  f*=f;
> >  f=(500000*500000)-f;
> >  f/=(500000*500000);
> > 
> > Am i barking up the wrong tree.
> > 
> >  
> > -- 
> >       
> > Tim Hanson,
> > by the River,Canterbury, Kent.
> > Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
> > 170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
> > Don`t waste  your time by visiting
> > http://www.sinister67.freeserve.co.uk
> > 
> > >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> > 
> 
> -- 
> James Samuel Adelman
> Liverpool
> --
> #sci.psychology.psychotherapy on DAL.net 
> use server viking.dal.net or webbernet.dal.net
> 
> >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 

@ENDNODE
@NODE "Mail_207" " Re: Re: Little maths problem. "
From: Jonathan Adamczewski <jadamcze@utas.edu.au>
Date: 11-23-99 10:40:49
Subject: @{b}Re: Re: Little maths problem.@{ub}

From: Jonathan Adamczewski <jadamcze@utas.edu.au>



On Thu, 25 Nov 1999, Allan Odgaard wrote:

> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 23-Nov-99, Jonathan Adamczewski wrote:
> 
> > [...] As long as there's no numbers between 0 and
> > 1 - that will give you negative results which probably isn't what you are
> > after [...]
> 
> Ups, I forgot this. So my example should be changed to: "f = log(f+1) /
> log(500001);" - but it seems there have been sufficient replies :-)
> 
> > [...] I haven't really tried to understand what you've done avove [...]
> 
> He was basically doing "f² / 500000²".
> 

THat will work, but most range is for larger numbers.  The log solution
looks about the best (at least that's what my calculator tells me :)

@ENDNODE
@NODE "Mail_208" " Re: Setting a Shell to open... "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 11-23-99 22:13:52
Subject: @{b}Re: Setting a Shell to open...@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

Hi Dominic thanks for your mail that I got on 18-Nov-99
> From: Dominic Clifton <dom@dsltd.force9.co.uk>
> 
> 
> It runs something like "NewShell WINDOW=CON:////" for
> example. But how can I set it to open say with the
> default path being C: ???
> 
> use the FROM option of the NewShell command to run a
> script after the shell opens. then add your "path"
> and "cd" commands in that script. no problem!
> 
> see also s:Shell-Startup

Sounds promising!  But...
Is it possible to combine the NewShell command FROM and
script all in the one line which my program can
Execute() ?

-OR- is there another way tocorrectly spawn a shell. 
How does the NewShell command work internally?

Is theredemo source somewhere I can examine?

Regards,


M!Ke C.

-- 

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD FD,5 CD-ROMS,CDrW,ZiP250     \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_'-_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

@ENDNODE
@NODE "Mail_209" " Re: Setting a Shell to open... "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 11-23-99 22:15:01
Subject: @{b}Re: Setting a Shell to open...@{ub}

From: Mike Carter <mike.carter@bigfoot.com>

Hi David thanks for your mail that I got on 19-Nov-99

>> Now I solved my PATh problem I'd like to be able to
>> create a new shell process with a certain path as
>> default.
>> 
>> Currently I just do a Execute(...) using a string
>> read in from the environment variable NEWCLI. If
>> runs something like "NewShell WINDOW=CON:////"
>> forexample. But how can I set it to open say with
>> the default path being C: ???
>> 
>> Will I have to create a new Shell some other way,
>> rather than executing a simple command to do it?

> Just use Stefan Becker's dospath.library it allows
> you to create a new path for a shell (I think the
> function you should use is called somthing like
> BuildPathList() ) it allows you to copy a path from
> one shell to another etc...

No I don't want to set a search path but just the
default directory path that the Shell starts in when I
call NewShell command.

Regards,

M!Ke C.

-- 

.--------------------------------- ---- -    -- --------.
| AMiGA 1200EZT 060/PPC@240Mhz,50Mb RAM __/\__          |
| 4 HDD,DD FD,5 CD-ROMS,CDrW,ZiP250     \ o0 / bUDDa/S^D|
| SCSI+IDE,56kModem,BVGfX,19"VDU        /_'-_\          |
`------------------------------- --- -    \/   -- ------'
  http://fly.to/BuddasWurld               ICQ: 29173597

@ENDNODE
@NODE "Mail_210" " Re: Setting a Shell to open... "
From: Rod_MacLean@uk.ibm.com
Date: 11-24-99 11:42:39
Subject: @{b}Re: Setting a Shell to open...@{ub}

From: Rod_MacLean@uk.ibm.com




Mike Carter wrote:
> I don't want to set a search path but just the
> default directory path that the Shell starts in when I
> call NewShell command.

It's been a long time since I've done anything this but I hope you'll bear with
me.

Just get your program to execute the following:
sprintf(cd_command, "CD %s", pathname);

Now write cd_command to a file, say T:qwertyuiop
Now use Execute() [is it?] and "Newshell from T:qwertyuiop"

[You might want to use a random filename or something instead of qwertyuiop]

And if you do need to change the path, add assigns or run a few commands in the
shell
before the prompt appears then you would just write these commands to
T:qwertyuiop as well.

     Rod

--
Rod MacLean - IT Specialist
L2L, IBM Perth (tel 01738 894135)
IEA GBIB1S3U @ IBMMAIL    (rod_maclean@uk.ibm.com)

@ENDNODE
@NODE "Mail_211" " Little maths problem. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 11-24-99 15:36:28
Subject: @{b}Little maths problem.@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,

Little maths problem:

I have a value stored in a FLOAT that lies in the range 0-500000. I need to
convert it in such a way that it lies in the range 0-1 and so that smaller
values take up more of the range. (Is that explaination useless?) Here`s what
I tried but it doesn`t seem to work.

FLOAT f;
 f=somevalue;

 f=500000-f;
 f*=f;
 f=(500000*500000)-f;
 f/=(500000*500000);

Am i barking up the wrong tree.

 
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_212" " Re: Flood fill "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-24-99 20:01:51
Subject: @{b}Re: Flood fill@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Nov 22, 1999 at 07:59:29PM +0000, Lee Atkins wrote:
> From: Lee Atkins <lee@loonyjuicesoftware.freeserve.co.uk>
> 
> Hello,
> I have a polygon drawn on screen and I specify a point which is inside the
> polygon.  What I want to do is a flood fill of this polygon (fill in the
> pixels within the polygon).
> I need to write my own routine to do this because I need to count the number
> of pixels filled (the polygons area).
> I have eyeballed at a few books and through the web and have so far come up
> with nothing.  Any ideas?

Why use a flood fill for a polygon?  There are more efficient ways to
fill polygons (unless the polygon's edges are only a very few pixels
in length), and calculating the area of a polygon is easy.

Ben.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
One of the nice things about standards is that there are so many of them.

@ENDNODE
@NODE "Mail_213" " Re: Re: Converting ASCII Decimal codes to char "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-24-99 20:29:50
Subject: @{b}Re: Re: Converting ASCII Decimal codes to char@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Nov 22, 1999 at 09:58:29PM -0700, Rod Schnell wrote:
> From: Rod Schnell <rodsch@telusplanet.net>
> 
> Hello James
> 
> On 22-Nov-99, James S. Adelman wrote:
> > From: "James S. Adelman" <j.adelman@ukonline.co.uk>
> > 
> >> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> >> 
> >> As for the NULL/null distinction, the standard allows NULL to be
> >> defined either as 0, or as (void *)0.  The latter definition is
> >> certainly not usable as a char constant.
> >> 
> > In Amiga C, NULL is #defined as 0L in exec/types.h, which I very much

This is actually illegal in standard C; only the standard library is
supposed to define NULL.

> > doubt is what is meant by NULL terminated string, since that would be
> > a ridiculous exercise, although it should be automatically cast down. 
> > In general, I would expect NULL to correspond to a completely zero
> > register, because this is certainly what it means in the descriptions
> > of standard library functions.

Let me quote from the final draft of C9X, which in this area is
basically the same as the current C standard:

"An integer constant expression with the value 0, or such an
expression cast to type void *, is called a null pointer constant.[46])
If a null pointer constant is assigned to or compared for equality to
a pointer, the constant is converted to a pointer of that type."

"46) The macro NULL is defined in <stddef.h> as a null pointer
constant; see 7.17."

You should not assume that NULL has integer type.

Also, "An integer may be converted to any pointer type. The result is
implementation-defined, might not be properly aligned, and might not
point to an entity of the referenced type."

There are some implementations of C in which the representation of C
does not have all zero bits; in these, a non-constant expression which
is evaluated as 0 at run-time and then cast to a pointer type will
*not* be a null pointer.

> That is an excellent point, though I'd guess the compiler generates the same
> code in either case. If not, then '\0' would be a better choice than NULL.
> 
> I also notice that 'null' isn't even defined in the Amiga includes. Ends that
> argument. :)

No, null is a technical term used in the language definition.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
One of the nice things about standards is that there are so many of them.

@ENDNODE
@NODE "Mail_214" " Re: Re: Converting ASCII Decimal codes to char "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-24-99 20:47:19
Subject: @{b}Re: Re: Converting ASCII Decimal codes to char@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Nov 22, 1999 at 09:13:14PM -0700, Rod Schnell wrote:
> From: Rod Schnell <rodsch@telusplanet.net>
> 
> Hello Ben
> 
> People like you are why so many programmers never release sources...
> 
> I know how Text() works. You know how Text() works. Most of the people here
> probably know how Text() works. Yes, the length of the string is an argument,
> and yes, Text() can handle an unterminated string. As a matter of fact, I
> allmost wrote the code that way, but I figured -you- would make a big deal
> about that.
> 
> This is the amiga-c list, it's safe to assume we are talking about Amiga C
> when not otherwise specified.. Except of course.. When talking to you..

What is `Amiga C'?  Is it programming the AmigaOS in C or is it
building C programs with Amiga compilers?  I think it includes both
these things, which are not entirely overlapping.

If you consider the name of the list to imply strict rules on its use,
perhaps you should ask people to stop discussing C++ on it.

> On the Amiga, NULL == 0L and the convention is to NULL terminate strings.

No.  NULL is defined by the C implementation.  If you include
<exec/types.h> before a standard C header that defines it, you will
get this definition.  If you include a standard C header first, you
will probably get the same definition, but I would rather not assume
that.

Besides, it is a C convention that you say NULL for a null pointers, 0
to get a null integer, and possibly '\0' to get a null character -
even though you could use 0 in all three cases.

> STRPTR is a typedef, not a #define. How you could possible misinterpret my
> usage of the word "definition" is beyond me.

In what way did I misinterpret it?

> In the C language, all strings are character arrays, but not all character
> arrays are strings.
> 
> STRPTR is meant to be used as a mnemonic distinction between a pointer to a
> character or an array of characters and a pointer to a NULL terminated array
> of characters. If it's not NULL terminated, you should use char * rather than
> STRPTR even though an STRPTR is actually a char * too.
<snip>

I agree entirely.  This is why the prototype for Text() should say
char * (or, better, const char *).  Unfortunately the AmigaOS
prototype files are machine-generated, and the program that generates
them has a number of bugs and limitations; possibly this is why they
do not say the right thing.  Note also that STRPTR is mis-defined as
unsigned char *.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
One of the nice things about standards is that there are so many of them.

@ENDNODE
@NODE "Mail_215" " Re: Re: Converting ASCII Decimal codes to char "
From: "James S. Adelman" <j.adelman@ukonline.co.uk>
Date: 11-24-99 22:04:15
Subject: @{b}Re: Re: Converting ASCII Decimal codes to char@{ub}

From: "James S. Adelman" <j.adelman@ukonline.co.uk>

> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> On Mon, Nov 22, 1999 at 09:58:29PM -0700, Rod Schnell wrote:
> > From: Rod Schnell <rodsch@telusplanet.net>
> > 
> > Hello James
> > 
> > On 22-Nov-99, James S. Adelman wrote:
> > > From: "James S. Adelman" <j.adelman@ukonline.co.uk>
> > > 
> > >> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> > >> 
> > >> As for the NULL/null distinction, the standard allows NULL to be
> > >> defined either as 0, or as (void *)0.  The latter definition is
> > >> certainly not usable as a char constant.
> > >> 
> > > In Amiga C, NULL is #defined as 0L in exec/types.h, which I very much
> 
> This is actually illegal in standard C; only the standard library is
> supposed to define NULL.
> 
> > > doubt is what is meant by NULL terminated string, since that would be
> > > a ridiculous exercise, although it should be automatically cast down. 
> > > In general, I would expect NULL to correspond to a completely zero
> > > register, because this is certainly what it means in the descriptions
> > > of standard library functions.
> 
> Let me quote from the final draft of C9X, which in this area is
> basically the same as the current C standard:
> 
> "An integer constant expression with the value 0, or such an
> expression cast to type void *, is called a null pointer constant.[46])
> If a null pointer constant is assigned to or compared for equality to
> a pointer, the constant is converted to a pointer of that type."
> 
Which is exactly the same as the promotion that occurs when a pointer
is assigned to or compared to 0L.

> "46) The macro NULL is defined in <stddef.h> as a null pointer
> constant; see 7.17."
> 
Indeed, the Amiga version #defines it as ((void *)0L). It depends on
the order of inlcuding these files, which is used.

> You should not assume that NULL has integer type.
> 
When I am talking about MC680x0 registers I will do exactly that.  And
when an Amiga library function returns NULL, I will assume exactly
that.  And when I want an invalid pointer constant, I will use NULL
without prejudice to its value.  It is a bagatelle in any case,
since...

> Also, "An integer may be converted to any pointer type. The result is
> implementation-defined, might not be properly aligned, and might not
> point to an entity of the referenced type."
> 
> There are some implementations of C in which the representation of C
> does not have all zero bits; in these, a non-constant expression which
> is evaluated as 0 at run-time and then cast to a pointer type will
> *not* be a null pointer.
> 
I assume NULL is zero when it is necessarily zero, in code specific to
the Amiga.

-- 
James Samuel Adelman
Liverpool
--
#sci.psychology.psychotherapy on DAL.net 
use server viking.dal.net or webbernet.dal.net

@ENDNODE
@NODE "Mail_216" " Re: Re: Converting ASCII Decimal codes to char "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 11-24-99 23:20:55
Subject: @{b}Re: Re: Converting ASCII Decimal codes to char@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Nov 24, 1999 at 09:04:15PM +0000, James S. Adelman wrote:
> From: "James S. Adelman" <j.adelman@ukonline.co.uk>
> 
> > From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> > 
> > On Mon, Nov 22, 1999 at 09:58:29PM -0700, Rod Schnell wrote:
> > > From: Rod Schnell <rodsch@telusplanet.net>
> > > 
> > > Hello James
> > > 
> > > On 22-Nov-99, James S. Adelman wrote:
> > > > From: "James S. Adelman" <j.adelman@ukonline.co.uk>
> > > > 
> > > >> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> > > >> 
> > > >> As for the NULL/null distinction, the standard allows NULL to be
> > > >> defined either as 0, or as (void *)0.  The latter definition is
> > > >> certainly not usable as a char constant.
> > > >> 
> > > > In Amiga C, NULL is #defined as 0L in exec/types.h, which I very much
> > 
> > This is actually illegal in standard C; only the standard library is
> > supposed to define NULL.
<snip>
> > "An integer constant expression with the value 0, or such an
> > expression cast to type void *, is called a null pointer constant.[46])
> > If a null pointer constant is assigned to or compared for equality to
> > a pointer, the constant is converted to a pointer of that type."
> > 
> Which is exactly the same as the promotion that occurs when a pointer
> is assigned to or compared to 0L.

Yes - 0L is a null pointer constant.  It's just that the OS headers
shoudn't really define things that are supposed to be part of the
standard library.

> > "46) The macro NULL is defined in <stddef.h> as a null pointer
> > constant; see 7.17."
> > 
> Indeed, the Amiga version #defines it as ((void *)0L). It depends on
> the order of inlcuding these files, which is used.
<snip>

But there is no "Amiga version".  It's up to individual C
implementations to define it.  That's why portability can still be an
issue even for AmigaOS-specific code.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
One of the nice things about standards is that there are so many of them.

@ENDNODE
@NODE "Mail_217" " Re: Little maths problem. "
From: "James S. Adelman" <j.adelman@ukonline.co.uk>
Date: 11-25-99 01:56:21
Subject: @{b}Re: Little maths problem.@{ub}

From: "James S. Adelman" <j.adelman@ukonline.co.uk>

The simplest way I can think of off of the top of my head is:
float myfunction(float f)
{ f+=1; return 1/f;}

> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> 
> Little maths problem:
> 
> I have a value stored in a FLOAT that lies in the range 0-500000. I need to
> convert it in such a way that it lies in the range 0-1 and so that smaller
> values take up more of the range. (Is that explaination useless?) Here`s what
> I tried but it doesn`t seem to work.
> 
> FLOAT f;
>  f=somevalue;
> 
>  f=500000-f;
>  f*=f;
>  f=(500000*500000)-f;
>  f/=(500000*500000);
> 
> Am i barking up the wrong tree.
> 
>  
> -- 
>       
> Tim Hanson,
> by the River,Canterbury, Kent.
> Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
> 170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
> Don`t waste  your time by visiting
> http://www.sinister67.freeserve.co.uk
> 
> >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 

-- 
James Samuel Adelman
Liverpool
--
#sci.psychology.psychotherapy on DAL.net 
use server viking.dal.net or webbernet.dal.net

@ENDNODE
@NODE "Mail_218" " Re: Converting ASCII Decimal codes to char "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-25-99 02:00:51
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 24-Nov-99, Ben Hutchings wrote:

> [...] Note also that STRPTR is mis-defined as unsigned char *.

As some compilers consider 'char' being signed, it will lead to a problem if
STRPTR was defined only as 'char *', for example when using functions from
Locale.library, which takes a character as argument, defined as ULONG, since
'æ' would be treated as -26, which is a problem when the datatype exceeds 8
bits.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Q.  Which is the greater problem in the world today, ignorance or apathy?
A.  I don't know and I couldn't care less.

@ENDNODE
@NODE "Mail_219" " QNX "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-25-99 02:02:30
Subject: @{b}QNX@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

Has anybody on this list been invited to the first QNX beta program?

@ENDNODE
@NODE "Mail_220" " Re: Little maths problem. "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-25-99 02:07:27
Subject: @{b}Re: Little maths problem.@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 24-Nov-99, Tim Hanson wrote:

> I have a value stored in a FLOAT that lies in the range 0-500000. I need to
> convert it in such a way that it lies in the range 0-1 and so that smaller
> values take up more of the range [...]

> FLOAT f = somevalue;

You could try "f = log(f) / log(500000);" - but I don't know why your own code
snip doesn't work, as it looks alright.  What's wrong with it?

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Win Error #05:  Multitasking attempted. System confused.

@ENDNODE
@NODE "Mail_221" " using offsets "
From: Jack York <jyork@voyager.net>
Date: 11-25-99 02:22:53
Subject: @{b}using offsets@{ub}

From: Jack York <jyork@voyager.net>

Hello,

Given the structure below, is it possible to copy another structure (or
more likely, part of a structure) to it using offsets?


struct mystruct
{
  Node     nn_Node;
  WORD     first;
  TEXT     arrayA[100];
  BOOL     on;
  ULONG    size;
  TEXT     arrayB[100];
  struct   List *list;
};

struct mystruct **a, **b;

If a and b were valid structures and I want to copy a to b I currently
do something like

  b->first = a->first;  
  strcpy( b->array, a->array );
  and so on...

I am wondering if it is possible to do something like

 memmove (b + sizeof (Node),
          a + sizeof (Node),
          sizeof (struct mystruct) - sizeof (Node));

Note: The above structure is just an example I came up with while
writing this.  I jumbled the element types to help illustrate
what I want.  For instance, if I want to set a->on to TRUE, (besides
the obvious way) could I do something like

 a + sizeof (Node) + sizeof (WORD) + sizeof TEXT[100] = TRUE;

I ask this since I seem to be running into a number of situations where
I am copying parts of structures.  It would save a lot of code, not to
mention typing if I could do it in one line.

Jack

@ENDNODE
@NODE "Mail_222" " Re: It's that time again..... "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 11-25-99 02:51:39
Subject: @{b}Re: It's that time again.....@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 21-Nov-99, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi Colin 
> Colin Wenzel wrote this on 20-Nov-99 at 14:40:24
> 
> -> Check your nicads now,   
> -> if they are leaking  AT ALL...   do something now....   
> 

> How often do you recommend checking them?


--  I would be checking it once per year,  
       but remember,  you can always replace it
       with a lithium battery (kit)  now, or relocate
       the ni-cad away from the circuit board.
  
      That way, you can forget about it until your
      RT-clock stops.  !!! 

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_223" " Re: using offsets "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-25-99 02:57:29
Subject: @{b}Re: using offsets@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 25-Nov-99, Jack York wrote:

> I am wondering if it is possible to do something like

> memmove (b + sizeof (Node),
>          a + sizeof (Node),
>          sizeof (struct mystruct) - sizeof (Node));

A more elegant semantic, taking any potential alignment-paddings into
consideration, would be:
   memcpy(&b->first, &a->first, sizeof(mystruct) - offsetof(mystruct, first));

> [...] For instance, if I want to set a->on to TRUE, (besides
> the obvious way) could I do something like

> a + sizeof (Node) + sizeof (WORD) + sizeof TEXT[100] = TRUE;

No. There is a type problem and you don't take any potential padding into
considuration. Plus it's REALLY UGLY!!! And a very good source for bugs in
your code - imagine you extend the structure with one field, remove one etc. 
Don't say it won't happen, it will! Or someone may take over your code, and
feel completely lost...

> I ask this since I seem to be running into a number of situations where
> I am copying parts of structures.  It would save a lot of code, not to
> mention typing if I could do it in one line.

It sounds like you could do better - rather than abandon structures you should
try to exploit them, for example by using C++'s ability to create
sub-structures etc.

If you give more details on what you're doing, then I'm sure someone here can
help with some inspiration :-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Common sense is the collection of prejudices acquired by age eighteen.
-- Albert Einstein

@ENDNODE
@NODE "Mail_224" " Re: QNX "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 11-25-99 03:02:58
Subject: @{b}Re: QNX@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 25-Nov-99, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> Has anybody on this list been invited to the first QNX beta program?


I believe you will have a better chance of getting an invite
if you are a member of Phoenix....

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_225" " Re: Little maths problem. "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-25-99 03:04:18
Subject: @{b}Re: Little maths problem.@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 23-Nov-99, Jonathan Adamczewski wrote:

> [...] As long as there's no numbers between 0 and
> 1 - that will give you negative results which probably isn't what you are
> after [...]

Ups, I forgot this. So my example should be changed to: "f = log(f+1) /
log(500001);" - but it seems there have been sufficient replies :-)

> [...] I haven't really tried to understand what you've done avove [...]

He was basically doing "f² / 500000²".

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
It is better to have tried and failed than to have failed to try, but the
result's the same.
-- Mike Dennison

@ENDNODE
@NODE "Mail_226" " Re: using offsets "
From: Jack York <jyork@voyager.net>
Date: 11-25-99 05:22:46
Subject: @{b}Re: using offsets@{ub}

From: Jack York <jyork@voyager.net>

Hello Allan

On 24-Nov-99, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 25-Nov-99, Jack York wrote:
> 
>> I am wondering if it is possible to do something like
> 
>> memmove (b + sizeof (Node),
>>          a + sizeof (Node),
>>          sizeof (struct mystruct) - sizeof (Node));
> 
> A more elegant semantic, taking any potential alignment-paddings into
> consideration, would be:
>   memcpy(&b->first, &a->first, sizeof(mystruct) - offsetof(mystruct,
> first));

Argg...I was hoping to avoid this by explaining this was just an
example to get an idea across.  Although the use of offsetof looks
like what I might need.  I haven't seen it before but from my
book on standard C it sounds like it is giving the number of bytes
the element first is located from the beginning of the structure?  If
this is so then, using my structure example from before which started
with
 struct mystruct
 {
   Node
   TEXT
 
if the structure size if 100 (I am making up numbers here for easier
understanding on my part) and the return from offsetto(mystruct, first)
is 10 (meaning it is located 10 bytes into the structure), then wouldn't
the third argument above result in a sizeof 90?

 
>> [...] For instance, if I want to set a->on to TRUE, (besides
>> the obvious way) could I do something like
> 
>> a + sizeof (Node) + sizeof (WORD) + sizeof TEXT[100] = TRUE;
> 
> No. There is a type problem and you don't take any potential padding into
> considuration. Plus it's REALLY UGLY!!! And a very good source for bugs in
> your code - imagine you extend the structure with one field, remove one
> etc. Don't say it won't happen, it will! Or someone may take over your
> code, and feel completely lost...

Again, that was done on purpose to try to make understaing easier for
me.

>> I ask this since I seem to be running into a number of situations where
>> I am copying parts of structures.  It would save a lot of code, not to
>> mention typing if I could do it in one line.
> 
> It sounds like you could do better - rather than abandon structures you
> should try to exploit them, for example by using C++'s ability to create
> sub-structures etc.

Don't have C++ or any plans to use it in the forseeable feature.
 
 If you give more details on what you're doing, then I'm sure someone here
> can help with some inspiration :-)

Just trying to shorten existing code as explained above.  I don't know
how to transverse a structure other than the standard method.  I thought
I ran across a post once about using offsets to get around structures.
I could be mistaken.  But, here's what I am trying to do in different
words:

Given two structures, can I copy a number of elements from one to the
other in one step?  More like copying a region of memory regardless of the
element types in that region rather than a size which is defined by
a particular element type.  


Jack

@ENDNODE
@NODE "Mail_227" " Re: Converting ASCII Decimal codes to char "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-25-99 10:09:19
Subject: @{b}Re: Converting ASCII Decimal codes to char@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello Ben

On 24-Nov-99, Ben Hutchings wrote:
> 
> What is `Amiga C'?  Is it programming the AmigaOS in C or is it
> building C programs with Amiga compilers?  I think it includes both
> these things, which are not entirely overlapping.
> 
> If you consider the name of the list to imply strict rules on its use,
> perhaps you should ask people to stop discussing C++ on it.
> 

I do not consider the name of the list to imply strict rules on it's use. I
do however, consider you to be an obnoxious, argumentative, hypercritical,
nitpicking, knowitall. I'm talking about Amiga C and I'm quite certain the
original poster was asking about Amiga C too as Text() is an Amiga specific
function.

Regards Rod

@ENDNODE
@NODE "Mail_228" " RE: Little maths problem. "
From: "Page, Luke" <L.Page@worthing.ac.uk>
Date: 11-25-99 12:41:43
Subject: @{b}RE: Little maths problem.@{ub}

From: "Page, Luke" <L.Page@worthing.ac.uk>

As far as i can see the method you are using works. try altering the power
to which you take the number to change the how many small numbers    take up
the range. 

what do you think is wrong with this ?

-----Original Message-----
From: Tim Hanson [mailto:msinister@connectfree.co.uk]
Sent: 24 November 1999 14:36
To: amiga-c@onelist.com
Subject: [amiga-c] Little maths problem.


From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,

Little maths problem:

I have a value stored in a FLOAT that lies in the range 0-500000. I need to
convert it in such a way that it lies in the range 0-1 and so that smaller
values take up more of the range. (Is that explaination useless?) Here`s
what
I tried but it doesn`t seem to work.

FLOAT f;
 f=somevalue;

 f=500000-f;
 f*=f;
 f=(500000*500000)-f;
 f/=(500000*500000);

Am i barking up the wrong tree.

 
-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 

@ENDNODE
@NODE "Mail_229" " RE: QNX "
From: mike.carter@bigfoot.com
Date: 11-25-99 13:58:18
Subject: @{b}RE: QNX@{ub}

From: mike.carter@bigfoot.com

On Thu, 25 Nov 1999 02:02:30 +0100, Allan Odgaard <Duff@DIKU.DK> wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> Has anybody on this list been invited to the first QNX beta program?

I recieved a brochure / magazine recently with some info about 
something?  But as Phase5 still haven't sorted there arse out I'm not 
looking at QNX yet.

M!Ke C.

@ENDNODE
@NODE "Mail_230" " RE: QNX "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 11-25-99 16:49:41
Subject: @{b}RE: QNX@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> From: Allan Odgaard <Duff@DIKU.DK>
> 
> Has anybody on this list been invited to the first QNX beta program?

I've atleast not been invited yet :) And if someone would be, I'm not
sure that the contract that they sign allow them to disclose that
they are testing QNX in public, like on this list.

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_231" " Re: Flood fill "
From: Lee Atkins <lee@loonyjuicesoftware.freeserve.co.uk>
Date: 11-25-99 20:19:54
Subject: @{b}Re: Flood fill@{ub}

From: Lee Atkins <lee@loonyjuicesoftware.freeserve.co.uk>

On 24-Nov-99, you wrote:

> 
> Why use a flood fill for a polygon?  There are more efficient ways to
> fill polygons (unless the polygon's edges are only a very few pixels
> in length), and calculating the area of a polygon is easy.
> 
> Ben.

I know there are better ways of filling a polygon.  These polygons can have
as many sides as they want and I dont know where the edges are.  They are
totaly random.  The only thing I know about them is there is a pixel within
the polygon.  (Oh and one side of the polygon is actualy the edge of the
screen)
So I thought a flood fill would sort that out nicely.

Lee.

@ENDNODE
@NODE "Mail_232" " Re: using offsets "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-25-99 20:24:02
Subject: @{b}Re: using offsets@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 25-Nov-99, Jack York wrote:

> Argg...I was hoping to avoid this by explaining this was just an
> example to get an idea across.

And you can't get the idea by looking at my example? Come on..

> [...] if the structure size if 100 (I am making up numbers here for easier
> understanding on my part) and the return from offsetto(mystruct, first)
> is 10 (meaning it is located 10 bytes into the structure), then wouldn't
> the third argument above result in a sizeof 90?

Yes.

> Again, that was done on purpose to try to make understaing easier for
> me.

No matter how you mutate your example, my comments will still be valid. My
comments are for the idea behind your examples, not the exact typing...

> Don't have C++ or any plans to use it in the forseeable feature.

That's a rather open minded statement...

> Just trying to shorten existing code as explained above.  I don't know
> how to transverse a structure other than the standard method.

And that's indeed how you should traverse it, the standard way!!! Not
calculating offsets yourself etc.

> Given two structures, can I copy a number of elements from one to the
> other in one step? [...]

I'd do something like:

   struct HotData
   {
      ULONG x, y, z;
      UBYTE array[40];
   }

   struct Data
   {
      struct Data *next;
      struct HotData important:
      BOOL dummy;
   }

   struct Data *s1, *s2;

   /* now copy 'hotdata' from s1 */
   s2->important = s1->important;

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
OS/2 - half of operating system

@ENDNODE
@NODE "Mail_233" " Re: QNX "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-25-99 20:28:08
Subject: @{b}Re: QNX@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 25-Nov-99, Colin Wenzel wrote:

>> Has anybody on this list been invited to the first QNX beta program?
> I believe you will have a better chance of getting an invite
> if you are a member of Phoenix....

Is that a fact? That really sucks, unless they have some good arguments like
making use of Phoenix-mailinglists or similar - but it still sucks!!! Both
because I don't want to waste my bandwidth with all that crap one gets from
being subscribed to the Phoenix-lists, just to develop for QNX, and because
QNX loose a lot of talent, since most talented Amiga programmers aren't
wasting their time chatting on the Phoenix-lists... or has things changed for
the better, since I left the list?

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Q.  Which is the greater problem in the world today, ignorance or apathy?
A.  I don't know and I couldn't care less.

@ENDNODE
@NODE "Mail_234" " Re: QNX "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 11-26-99 02:50:54
Subject: @{b}Re: QNX@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 26-Nov-99, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 25-Nov-99, Colin Wenzel wrote:
> 
>>> Has anybody on this list been invited to the first QNX beta
>>> program?
>> I believe you will have a better chance of getting an invite
>> if you are a member of Phoenix....
> 
> Is that a fact? That really sucks, unless they have some good
> arguments like making use of Phoenix-mailinglists or similar - but it
> still sucks!!! Both because I don't want to waste my bandwidth with
> all that crap one gets from being subscribed to the Phoenix-lists,
> just to develop for QNX, and because QNX loose a lot of talent, since
> most talented Amiga programmers aren't wasting their time chatting on
> the Phoenix-lists... or has things changed for the better, since I
> left the list?
> 
> Regards Allan
Regards
-- 

The Phoenix list is very quiet now,  it has less then 
5 emails this week so far as I can recall.

All of the /chatter/  was moved to TeamAmiga list.

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_235" " Re: using offsets "
From: Jack York <jyork@voyager.net>
Date: 11-26-99 05:18:03
Subject: @{b}Re: using offsets@{ub}

From: Jack York <jyork@voyager.net>

Hello Allan

On 25-Nov-99, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 25-Nov-99, Jack York wrote:
> 
>> Argg...I was hoping to avoid this by explaining this was just an
>> example to get an idea across.
> 
> And you can't get the idea by looking at my example? Come on..

Didn't mean to say anything about your example.  I truly appreciate the
time you took to reply.  I did mention in the post that it was on the
fly and jumbled on purpose.  I've posted before and didn't capitalize
part of my example which I always capitalize when I actually use it.
As a result the majority of the replies mentioned that I should
capitalize.  All were meant supportively and I appreciated it being
pointed out to me since no one knew if I was aware of it.  But the
original question got lost in the shuffle.  So, being the bright fellow
that I am ( ;) ), I thought I would avoid that this time.  But turns out
I made things worse.  I'll try harder to make any parts of code I
submit in the future to be more acceptable. 
 
>> [...] if the structure size if 100 (I am making up numbers here for
>> easier understanding on my part) and the return from offsetto(mystruct,
>> first) is 10 (meaning it is located 10 bytes into the structure), then
>> wouldn't the third argument above result in a sizeof 90?
> 
> Yes.

Then wouldn't that make your example of

  memcpy (&b->first, &a->first, sizeof (mystruct) - offsetto (mystruct,
    first))

the same as
 
  memcpy (&b->first, &a->first, 90)?

If so, since the size of first is 100, how will this work?  Shouldn't
it be
  memcpy (&b->first, &a->first, 100)?

 I'm not being flip here.  I don't understand how this works and am
asking so that I can understand.

 
>> Again, that was done on purpose to try to make understaing easier for
>> me.
> 
> No matter how you mutate your example, my comments will still be valid. My
> comments are for the idea behind your examples, not the exact typing...

I agree.

>> Don't have C++ or any plans to use it in the forseeable feature.
> 
> That's a rather open minded statement...

I am in the middle of a big project (for me at least).  I am not a
"c expert" and have never dabbled in c++ nor do I have a c++
compiler.  I need to finish what I am doing before heading off on
new adventures.
 
>> Just trying to shorten existing code as explained above.  I don't know
>> how to transverse a structure other than the standard method.
> 
> And that's indeed how you should traverse it, the standard way!!! Not
> calculating offsets yourself etc.

Sounds like that is the answer I needed.

>> Given two structures, can I copy a number of elements from one to the
>> other in one step? [...]
> 
> I'd do something like:
> 
>   struct HotData
>   {
>      ULONG x, y, z;
>      UBYTE array[40];
>   }
> 
>   struct Data
>   {
>      struct Data *next;
>      struct HotData important:
>      BOOL dummy;
>   }
> 
>   struct Data *s1, *s2;
> 
>   /* now copy 'hotdata' from s1 */
>   s2->important = s1->important;

Maybe this is due to my basic misunderstanding but is s2->important
= s1->important actually copying data or just pointing to it?  If s2
is removed right after this statement is s1->important still valid? 

Jack

@ENDNODE
@NODE "Mail_236" " Re: Re: Flood fill "
From: Michal Bartczak <mikerro@ihh.pi.com.pl>
Date: 11-26-99 10:52:08
Subject: @{b}Re: Re: Flood fill@{ub}

From: Michal Bartczak <mikerro@ihh.pi.com.pl>


> I know there are better ways of filling a polygon.  These polygons can have
> as many sides as they want and I dont know where the edges are.  They are
> totaly random.  The only thing I know about them is there is a pixel within
> the polygon.  (Oh and one side of the polygon is actualy the edge of the
> screen)
> So I thought a flood fill would sort that out nicely.
> 
> Lee.

Do you remember how Blitter is filling a polygon?

It can work on ANY polygon with ANY number of sides, everything you have to do
is a drawline procedure that is able to draw one pixel in row from a line.

Next, you are starting from a point where you are sure, that there is NO
polygon, and flipping in lines from unset/set/unset/set point, when you get
polygon border. It requires additional buffer for polygon filling, if this
thing need to be on complicated screen data,  but it is extremly fast, and can
handle even polygons that have edges crossing themselves.

If you need more help - ask me directly. I can send you whole procedure.

michal

@ENDNODE
@NODE "Mail_237" " Re: TCP/IP Programming. "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 11-26-99 15:14:26
Subject: @{b}Re: TCP/IP Programming.@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello DenJS,

On 26-Nov-99 wrote DenJS (denjs@mail.ru):
> From: DenJS <denjs@mail.ru>
> 
> Hello,
> 
> I have a problem with subj. i need make something like this:
> 
> LONG MySocket
> 
> MySocket = socket(AF_INET, SOCK_RAW, IPPROTO_RAW);
> 
> In that case socket() always return zero :( Is it mean what i can't use
> raw socket on amiga still? Or what?
> 

A 0 socket descriptor is valid. In case of an error the socket() call
returns -1 and you can use Errno() to obtain the error.

> 
> PS
> sorry for bad english.
> 
> Kind regards

Cu,
-- 
Yves Grabowsky
*ICQ:* 18762984
<tsb>*AmiURLRequester 2.0 out now! Go and get it!*
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!

@ENDNODE
@NODE "Mail_238" " Re: using offsets "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-26-99 15:22:15
Subject: @{b}Re: using offsets@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 26-Nov-99, Jack York wrote:

> [...] I'll try harder to make any parts of code I
> submit in the future to be more acceptable. 

I really don't understand this. I didn't comment your coding style, but the
thing the code was doing. I know it wasn't something you used, but an example
of a technique you used...

> Then wouldn't that make your example of
>  memcpy (&b->first, &a->first, sizeof (mystruct) - offsetto (mystruct,
>    first))
> the same as
>  memcpy (&b->first, &a->first, 90)?

Yes.

> If so, since the size of first is 100, how will this work?  Shouldn't
> it be memcpy (&b->first, &a->first, 100)?

No, the size of 'first' is not 100. The size of the entire structure (including
'first') is 100 - the offset into the structure where 'first' is located was
10, so to copy from the 'first' member, to the end of the structure, you need
to copy 90 bytes...

>>> Given two structures, can I copy a number of elements from one to the
>>> other in one step? [...]
>> I'd do something like:
>> 
>>   [...]
>>   s2->important = s1->important;
> Maybe this is due to my basic misunderstanding but is s2->important
> = s1->important actually copying data or just pointing to it? 

It'll copy data.

> If s2 is removed right after this statement is s1->important still valid?

Yes.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Quoting one is plagiarism. Quoting many is research.

@ENDNODE
@NODE "Mail_239" " Re: QNX "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-26-99 15:29:04
Subject: @{b}Re: QNX@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 25-Nov-99, Jesper Svennevid wrote:

> I've atleast not been invited yet :) And if someone would be, I'm not
> sure that the contract that they sign allow them to disclose that
> they are testing QNX in public, like on this list.

Could be - should someone be bound by an NDA then I'd really prefer a private
email, perhaps through an anonymous remailer. I'll keep any reactions secret!

I don't think this would be a violation of the NDA, since QNX have already said
that a small audience will test QNX, so this is public knowledge.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Experience is directly proportional to the value of equipment destroyed.
-- Carolyn Scheppner

@ENDNODE
@NODE "Mail_240" " TCP/IP Programming. "
From: DenJS <denjs@mail.ru>
Date: 11-26-99 18:09:41
Subject: @{b}TCP/IP Programming.@{ub}

From: DenJS <denjs@mail.ru>

Hello,

I have a problem with subj. i need make something like this:

LONG MySocket

MySocket = socket(AF_INET, SOCK_RAW, IPPROTO_RAW);

In that case socket() always return zero :( Is it mean what i can't use raw
socket on amiga still? Or what?


PS
sorry for bad english.

Kind regards
-- 

Sex is hereditary. If your parents never had it, chances are you
won't either.
-- Murphy's laws on sex


  DSS *FingerTip* = 3F7B F842 A848 1C4F 43F5  6542 92BD 1356 D1AB 8136
                  9CB1 820C F9F4 1B2E D8C1  D316 8209 D71C DFE2 CD61 

@ENDNODE
@NODE "Mail_241" " Re: TCP/IP Programming. "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-26-99 18:18:39
Subject: @{b}Re: TCP/IP Programming.@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello DenJS

On 26-Nov-99, DenJS wrote:
> From: DenJS <denjs@mail.ru>
> 
> Hello,
> 
> I have a problem with subj. i need make something like this:
> 
> LONG MySocket
> 
> MySocket = socket(AF_INET, SOCK_RAW, IPPROTO_RAW);
> 
> In that case socket() always return zero :( Is it mean what i can't use raw
> socket on amiga still? Or what?
> 

No, it means it's returned socket 0. 0 is a valid socket descripter,
socket() returns - 1 for failure.

Regards Rod

@ENDNODE
@NODE "Mail_242" " VBCC Threads "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 11-26-99 18:51:21
Subject: @{b}VBCC Threads@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi everyone!

>> Since library bases are global variables, and since (on machines with no
>> FPU) these libraries are used for C's floating point operations, how on
>> earth do I go about using floating-point math from within a sub-task?
>> 
>> Any suggestions?
>> 
>I'm not sure, but AFIR setting good global variable base is enough to do so.
<snip>
>and if this task is set with good base variable register at startup, in
>functions fun1 and fun2 you can acces global variables of main task
>directly.

In the large data model it works this way, and in the small model you just
need a __saveds or geta4() to make global variables accessible from
sub-tasks.  The problem with the math libraries is that it is *illegal*
to open them in one task and access them from another!
If you OpenLibrary() a math library from two different tasks, you will
(according to the RKMs) get two different library bases; each base must
only be used from within the task which obtained it!

On machines with no FPU, a code fragment like
float degtorad(float deg)
{
  return((deg*PI)/180.0);
}  
will generate a whole load of mathieee#?.library calls, taking the library
bases from global variables which are initialised by the startup-code.  

How on earth can I arrange for each task to open its own copy of the
libraries, and have the math link-library use the correct bases for each
task?

>Those are good points of amiga shared memory ^.-;

On other machines, the difference between a task and a thread is that
tasks have their own address space, whilst threads operate in the same
address space as their parent task, just like on the Amiga.

All the best,
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

Daddy, why doesn't this magnet pick up this disk?

@ENDNODE
@NODE "Mail_243" " Getting desperate! "
From: Nuno Trancoso <ng13577a@netc.pt>
Date: 11-26-99 23:59:49
Subject: @{b}Getting desperate!@{ub}


Hya ppl,

I was very pleased to find out that there was an Amiga C mailing list
because after spending a lot of time struggling to get VBCC to work
and a lot of money buying StormC i was getting desperate 'cause
i can't figure out how on Earth pointers work. I've bought a lot of
books on C, mainly ANSI C, and read lots of tutorials and explanation
on the Net, but still can't figure out what is happening. Can someone
please help? I attach two files to the mail. The programs is a vey simple
CA 1D algorithm that calcs the matrix values and dumps it to stdout
in PBM format. The first works nice on VBCC and took me TWO hours
to write/compile/make it work. It also woks on StormC. The second was
an attempt to optimize it. It doesn't work and i can't figure why.

StromC stops compiling at line 18 with a "No assignment to vector function
and void Expressions" error.

VBCC also stops at line 18 with error :

*(a1+x)=(rand()<16000) ? 1 : 0;
error 86 in line 18 of "Work:Prog/VBCC/source/CA-1D_OPT.c": lvalue required for
assignment

Can anyone tell me what's wrong? Please, it's driveng me nutts! 

Cya L8r,

DarkShadow
aka Nuno Trancoso
-- 
Infinity takes it's time.
@ENDNODE
@NODE "Mail_244" " How do I write a handler? "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-27-99 03:32:05
Subject: @{b}How do I write a handler?@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

Hi there, I want to write my own handler.

I'm compilling it as a plain executable, and put the name of it in the
mount-file (under Handler).  When I try to mount my 'device', then my first
call to WaitPkt() never returns.  I have my code in wbmain().

Is there anything special I have to do, in order to create a handler? I mean
linking it in a special way etc???

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Don't worry about people stealing your ideas. If your ideas are any good,
you'll have to ram them down people's throats.
-- Howard Aiken

@ENDNODE
@NODE "Mail_245" " Re: Getting desperate! "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-27-99 03:43:38
Subject: @{b}Re: Getting desperate!@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 26-Nov-99, Nuno Trancoso wrote:

> [...] The second was an attempt to optimize it. It doesn't work
> and i can't figure why.

I'm not sure what you put in 'optimize' - to rewrite your code in a less
readable way may in some cases generate a better output, but not always, as
the compiler does some optimisations itself, a future version of StormC should
be much better at this (CSE, moving constant stuff outside loops etc.)


When declaring a 2D array, then it should be indexed as COLUMM, ROW - you do it
the other way.
If you want to index all rows in a column, then you can get a pointer to that
column like this:

   char *column = a1[y];

And use it in either of these 3 ways: (first line should be repeated for each)

   for(int x = 0; x < ROWS; x++)
      column[x] = ...;
      *(column+x) = ...;
      *column++ = ...;

Which is probably what you want to do, and the last one is most likely to
produce the least amount of code. But a general rule is to keep the code
readable, you'll appreciate this when re-using the code two years from now ;-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Windows has found an unknown device and is installing a driver for it.

@ENDNODE
@NODE "Mail_246" " Re: Getting desperate! "
From: Stephen Illingworth <stevei@firewall.co.uk>
Date: 11-27-99 10:55:03
Subject: @{b}Re: Getting desperate!@{ub}

From: Stephen Illingworth <stevei@firewall.co.uk>

>
> VBCC also stops at line 18 with error :
>
> *(a1+x)=(rand()<16000) ? 1 : 0; error 86 in line 18 of
> "Work:Prog/VBCC/source/CA-1D_OPT.c": lvalue required for assignment
>
> Can anyone tell me what's wrong? Please, it's driveng me nutts!
>

    **(a1+x)=(rand()<16000) ? 1 : 0;

Dereference it twice. Should work.

By the way, this will do nothing to optimize you program.  C array notation
is  shorthand  for  pointer  notation  - nothing more.  The C compiler does
nothig   special   when   you   imagine   the  memory  space  as  an  array
(one-dimensional  or  otherwise),  it  is simply a language costruct to aid
readability.  In other words.

    array[offset]

is exactly the same as

    *array+offset

PS.

For a bit of fun, try accessing arrays like this

    offset[array]


Steve.

@ENDNODE
@NODE "Mail_247" " Re: Re: It's that time again..... "
From: Michael_Sage@May-Co.com
Date: 11-27-99 16:38:17
Subject: @{b}Re: Re: It's that time again.....@{ub}

From: Michael_Sage@May-Co.com



After reviewing the A4K guide and opening my case, I'm now confused.  :-)

The guide says the battery is at bt176.  bt176 appears to be just to the left of
the memory slots (if you look at the A4000 motherboard from the front of the
machine).  There is a battery there but, it's not the one described in the
guide.  The guide says that the stock battery is 3.6v / 40mAH.  I have one that
is blue and looks like:

 _________
|    +    |
|    GP   |
| 3/GP60K |
|   3.6V  |
|  60mAh  |
|    | 1  |
|_________|

I remember getting a new battery after having the machine for about a year.  The
original battery never held a charge (my clock would always be off if I left the
machine off for more than three days).  The store I purchased it from swapped
out the old battery.

I don't know how to identify this new battery.  Am I still susceptible to leaks?
I have no problem pulling it out but, I would like to avoid it.

@ENDNODE
@NODE "Mail_248" " Re: Reading/ writing icons "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 11-27-99 18:22:31
Subject: @{b}Re: Reading/ writing icons@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi Rod

On 19-Nov-99, you wrote:

> My program needs to read in two icons and copy the images from the first
> icon into the second.
> It's got to leave all the tool types etc intact.

Try the following routine.  It returns NULL for success, or a pointer to an
error string.  Bear in mind that it won't work properly with NewIcons; to fix
this you'll need to use newicon.library.

char *CopyIconImage(char *src,char *dest)
{
  char *error=NULL;
  struct DiskObject *do1,*do2;

  if(do1=GetDiskObjectNew(src))
  {
    if(do2=GetDiskObjectNew(dest))
    {
      do2->do_Gadget.Flags=do1->do_Gadget.Flags;
      do2->do_Gadget.LeftEdge=do1->do_Gadget.LeftEdge;
      do2->do_Gadget.TopEdge=do1->do_Gadget.TopEdge;
      do2->do_Gadget.Width=do1->do_Gadget.Width;
      do2->do_Gadget.Height=do1->do_Gadget.Height;
      do2->do_Gadget.GadgetRender=do1->do_Gadget.GadgetRender;
      do2->do_Gadget.SelectRender=do1->do_Gadget.SelectRender;
      if(!(PutDiskObject(dest,do2)))
        error="Can't save destination icon!";
      FreeDiskObject(do2);
    }
    else
      error="Can't get destination icon!";
    FreeDiskObject(do1);
  }
  else
    error="Can't get source icon!";
  return(error);
}

Hope this helps.
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

      Customer :- I'd like to get a mouse mat for my PC.
Shop Assistant :- Yeah, that sounds like a fair deal.

@ENDNODE
@NODE "Mail_249" " Re: Getting desperate! "
From: Nuno Trancoso <ng13577a@netc.pt>
Date: 11-28-99 00:04:40
Subject: @{b}Re: Getting desperate!@{ub}

Hya Stephen

>    **(a1+x)=(rand()<16000) ? 1 : 0;
> Dereference it twice. Should work.

It did. Boy do i fell dumb or what. But why dereference it twice?
Is **(a1+x) = *(*(a1+x)+0)? Though i feel like i just answered my
own question :))

> By the way, this will do nothing to optimize you program.  C array notation

Right again. Sorry, it's just that i thought that C would be like Ba*** or
Pa****, where direct mem manipulation IS faster. 

>    *array+offset

Shouldn't this be **(array+offset) ?* Doesn't  * have a higher precedence than +
? 

BTW: Are there any speed tests across compilers to find out wich is faster?
In the attached program StormC's code is much faster than VBCC's at writing
to the console. Oh, and the litlle mod was to thank you for get it working :)
Have
Fun with CONCA1D. It looks great on a Linux Shell. Big waste of CPU cycles:)

Cya L8r,

DarkShadow
aka Nuno Trancoso
-- 
Infinity takes it's time.
@ENDNODE
@NODE "Mail_250" " Re: It's that time again..... "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 11-28-99 04:51:52
Subject: @{b}Re: It's that time again.....@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

There is only one battery on the A4000, 
it's generally blue & it's right next to the 
memory sockets, on the edge.

It's a ni-cad & yes,  it will leak eventually,
if you want to never have to worry about it, 
get it moved off the board (with wires)
& into a plastic container, (35mm film can)

Another aproach is to have a lithium cell,
& a diode fitted to prevent it being charged.

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------





On 28-Nov-99, Michael_Sage@May-Co.com wrote:

> From: Michael_Sage@May-Co.com
> 
> 
> 
> After reviewing the A4K guide and opening my case, I'm now confused.
> :-)
> 
> The guide says the battery is at bt176. bt176 appears to be just to
> the left of the memory slots (if you look at the A4000 motherboard
> from the front of the machine). There is a battery there but, it's
> not the one described in the guide. The guide says that the stock
> battery is 3.6v / 40mAH. I have one that is blue and looks like:
> 
> _________
> |    +    |
> |    GP   |
> | 3/GP60K |
> |   3.6V  |
> |  60mAh  |
> |    | 1  |
> |_________|
> 
> I remember getting a new battery after having the machine for about a
> year. The original battery never held a charge (my clock would always
> be off if I left the machine off for more than three days). The store
> I purchased it from swapped out the old battery.
> 
> I don't know how to identify this new battery. Am I still susceptible
> to leaks? I have no problem pulling it out but, I would like to avoid
> it.
> 
> --------------------------- ONElist Sponsor
> ----------------------------
> 
>       Thinking about putting your business on the Web? 
> MindSpring Biz has helped over 100,000 businesses get their .com.
>             Join MindSpring Biz and save $50!  
> <a href=" http://clickme.onelist.com/ad/mindspring4 ">Click Here</a>
> 
> ------------------------------------------------------------------------
>     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
Regards
-- 

@ENDNODE
@NODE "Mail_251" " Little maths problem "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 11-28-99 14:46:57
Subject: @{b}Little maths problem@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi Tim,

On 25-Nov-99, you wrote:

> I have a value stored in a FLOAT that lies in the range 0-500000.
<snip>
> FLOAT f;  f=somevalue;
> f=500000-f;  f*=f; f=(500000*500000)-f;  f/=(500000*500000);

I *love* maths problems, so imagine my disappointment when I found out that
yours is actually a compiler problem!

> Am i barking up the wrong tree.

No, your reasoning is fine.  All you need to do is write 500000.0 instead of
500000, otherwise the compiler gets the floats and ints mixed up.
(At least, VBCC did when I tried your code!)

Your function above can be simplified to (f*(1000000.0-f))/(500000.0*500000.0)

You might also want to experiment with the gamma function (as found in your
favourite image processing program):

f=exp(gamma*(log(f)-log(500000.0)));

If gamma is set to 1.0, you'll get a linear transfer.  Set it lower than 1.0
to bias in the direction you want, and higher than 1.0 to bias in the other
direction.

Hope this helps.
--
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

As easy as 1, 2, 3.14159265358979323846264338327950288419716939937510

@ENDNODE
@NODE "Mail_252" " What's up with VBCC's getc()? "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 11-28-99 14:47:05
Subject: @{b}What's up with VBCC's getc()?@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi everyone,

Can someone shed some light on a little mystery regarding VBCC 0.7?

Whenever I compile a program which uses getc(), I get the following warning
at compile time:
>  c=(sizeof(((file))==(FILE*)0),((file)->flags|= 1),--((FILE*)(file))->count>=0?
(unsigned char)*((FILE*)(file))->pointer++:_fillbuf(file));
warning 129 in line 21 of "Ram Disk:test.c": left operand of comma operator has no side-effects

Closer investigation of the stdio.h file reveals that getc() is implemented
as a macro, which is where the code above comes from.

I can follow all but the sizeof(((file))==(FILE*)0) bit. 
Anyone know what this is supposed to do?  I've checked the assembly output,
and the sizeof() thing is ignored completely!  Furthermore, in isolation,
sizeof(((file))==(FILE*)0) just compiles into MOVEQ #4,D<whatever> - presumably
because that's the int size.

I can only imagine that this weird sizeof() thing is supposed to trap the
possibility of file being NULL, to stop the program dereferencing a NULL
pointer after the comma - but if so, it's not working!

Can anyone provide some enlightenment?

All the best,
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

We're here to give you a computer, not a religion.
 - attributed to Bob Pariseau, at the introduction of the Amiga

@ENDNODE
@NODE "Mail_253" " Re: It's that time again..... "
From: Nuno Trancoso <ng13577a@netc.pt>
Date: 11-28-99 15:32:01
Subject: @{b}Re: It's that time again.....@{ub}

From: Nuno Trancoso <ng13577a@netc.pt>

Hya Colin

> It's a ni-cad & yes,  it will leak eventually,
> if you want to never have to worry about it, 
> get it moved off the board (with wires)
> & into a plastic container, (35mm film can)

This is not totally true. Commodore bought a batch of
batteries wich all had the same defect. They would all
leak after a small period of inactivity. They were fitted
to A4000's mostly desktop models, but also some A4000T's.
The A4KT's were the lucky ones, because since the mb's
were flipped, when the battery eventually leaked, most of
the acid fell to the bottom of the case. A4000's were not so
lucky. As it leaked, the acid would corrode the nearby chips
and eventually cut it's way through the motherboard itself,
including some internal mb trails wich can not be repaired.

You'd better get yourself a new battery from an Amiga dealer.
Nowadays batteries are better built and tend to last longer.
And yes, since you're going to need to remove it, better be on the
same side and place it in a container. My battery was from one on the
latest batches and so far as given me no reason to worry, but do it
anyway, just to be on the safe side :)

Also it must be said that most batteries (computer or not) leak mostly
if they remain connected to device and it is turned off for a long time.
A few ppl i know of had the bad batteries on their computers, and
when they found out, they went to see if it had already leaked onto
the mb. Nope. The common factor was that all of them had their
Amigas working round the clock, as Linux servers / Video editors / 3d
renderers. So, IMHO inactivity is a battery worst enemy. Probaly
someone with chemistry/physics knowledge can give more detail on why?

Cya L8r,

DarkShadow
aka Nuno Trancoso
-- 
Infinity takes it's time.

@ENDNODE
@NODE "Mail_254" " Re: Getting desperate! "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-29-99 04:34:52
Subject: @{b}Re: Getting desperate!@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 28-Nov-99, Nuno Trancoso wrote:

> BTW: Are there any speed tests across compilers to find out wich is faster?

I think Amiga format had one where vbcc was the winner. But based on what I
was told about the test, then it didn't sound like a very thorough one.

> In the attached program StormC's code is much faster than VBCC's at writing
> to the console. 

Funny you mention it, as I came across a vbcc-compiled program which did very
slow printing to the console (it wrote to stderr) and Volker told me it was
due to the lack of buffering, which can be set with setvbuf() - so you may
want to try that.  I'm almost certain that vbcc will generate faster or code
equal to that of StormC, with your program.  However, I use StormC due to its
easy-to-use IDE and its support for C++. The quality of the code rarely has a
noticeable impact on the speed of my programs, though I often wish it was a
little better ;-)

> Oh, and the litlle mod was to thank you for get it working :)
> Have
> Fun with CONCA1D. It looks great on a Linux Shell. Big waste of CPU cycles:)

???

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
It is better to have tried and failed than to have failed to try, but the
result's the same.
-- Mike Dennison

@ENDNODE
@NODE "Mail_255" " Re: NULL definitions (was: Converting ASCII Decimal codes to char) "
From: Rod_MacLean@uk.ibm.com
Date: 11-29-99 11:30:35
Subject: @{b}Re: NULL definitions (was: Converting ASCII Decimal codes to char)@{ub}

From: Rod_MacLean@uk.ibm.com




>>> "46) The macro NULL is defined in <stddef.h> as a null pointer
>>> constant; see 7.17."
>>>
>> Indeed, the Amiga version #defines it as ((void *)0L). It depends on
>> the order of inlcuding these files, which is used.
> <snip>
>
> But there is no "Amiga version".  It's up to individual C
> implementations to define it.  That's why portability can still be an
> issue even for AmigaOS-specific code.

The definition of NULL is extremely unlikely to be an issue in Amiga-OS specific
code for a very good reason. All the example programs, autodocs and ROM-Kernal
Manuals assume a certain definition of NULL.

No one would release a compiler that couldn't compile the example programs
(or would they?) Of course, if you're not happy with the definition of NULL then
you can
change the definition to your hearts content. You'll probably just create
portability issues.

     Rod

--
Rod MacLean - IT Specialist
L2L, IBM Perth (tel 01738 894135)
IEA GBIB1S3U @ IBMMAIL    (rod_maclean@uk.ibm.com)

@ENDNODE
@NODE "Mail_256" " SuperBitMap Window "
From: Bob Lanham <bobl@jaxproductions.com>
Date: 11-29-99 12:28:23
Subject: @{b}SuperBitMap Window@{ub}

From: Bob Lanham <bobl@jaxproductions.com>

I need some advice on getting the BitMap to render into a SuperBitMap
window.  The BitMap comes from using DataTypes to load a jpeg off disk. 
My program just shows a solid color instead of the picture.

In the following code, what have I done wrong?

/*****************************************************************/

void setup_display(void)
{
    Object *picture = NULL;
    struct BitMap *bm = NULL;

    /* open the screen  */
    screen1 = OpenScreenTags(NULL,
              SA_Title,     (ULONG)"A-mancala",
              SA_Depth,     screenmode->sm_DisplayDepth,         
              SA_DisplayID, screenmode->sm_DisplayID,
              TAG_DONE);

              if (screen1 == NULL)
              clean_exit("Cannot open screen!",RETURN_FAIL);


    /* use datatypes to load the jpeg background */
    if(picture = NewDTObject("manc_bg1.jpg",
        DTA_GroupID,     GID_PICTURE,
        PDTA_Remap,      FALSE,
        TAG_DONE))
           {
           DoDTMethod(picture,NULL,NULL,DTM_PROCLAYOUT,TAG_DONE);
           GetDTAttrs(picture, PDTA_BitMap, &bm, TAG_DONE);
           DisposeDTObject(picture);
           }
    else clean_exit("Cannot initialize datatype object!",RETURN_FAIL);

    if (bm == NULL)
    clean_exit("Cannot allocate BitMap!",RETURN_FAIL);


    /* open borderless backdrop SuperBitMap window */
    window1 = OpenWindowTags(NULL,
              WA_Width,         800,
              WA_Height,        600,
              WA_Backdrop,      TRUE,
              WA_Borderless,    TRUE,
              WA_Activate,      TRUE,
              WA_SuperBitMap,   bm,
              WA_IDCMP,         IDCMP_MENUPICK,
              WA_CustomScreen, screen1,
              TAG_DONE);

              if (window1 == NULL)
              clean_exit("Cannot open window!",RETURN_FAIL); 
}

/*************************************************************/


Thanks In Advance,
Bob Lanham

@ENDNODE
@NODE "Mail_257" " Re: Getting desperate! "
From: Nuno Trancoso <ng13577a@netc.pt>
Date: 11-29-99 20:34:01
Subject: @{b}Re: Getting desperate!@{ub}

From: Nuno Trancoso <ng13577a@netc.pt>

Hya Allan

> I think Amiga format had one where vbcc was the winner. But based on what I
> was told about the test, then it didn't sound like a very thorough one.

You shouldn't believe a single word from mags, at least nowadays. Ever since
Amiga Shopper went belly up, i've never again read a mag that could review
serious hard/soft in a serious way. At least Amiga Power had the guts to face
the
truth. They never pretended to be more than gameplayers :) But it's not AF's
fault really,
it seems to be the current practice amongst mags. Just look at PC mags. There's
only 1 or 2 wich give you the hard facts about stuff. Most mags are more
concerned
with getting advertisers to put more ads than they care with readers spending
money
in bad products. They keep telling how wonderfull a program is, but forgett to
mention
its flaws :) 

> noticeable impact on the speed of my programs, though I often wish it was a
> little better ;-)

As for me, i'm starting to get disapointed with C :( It's hard to get into and
i'm not
getting that much a speedup than i was getting from BLitzBasic2, wich made code
for 68k only. In my program i don't expect to gain speedups when writing to the
console, but it SHOULD be faster at setting the values in the array. I've heard
about some assembler written hand made replacement libs for StormC, wich are
supposed to be faster than the standard ones. Do you know something about it?

>> Fun with CONCA1D. It looks great on a Linux Shell. Big waste of CPU cycles:)
> ???

It doubles up as a nice shell based screensaver. The problem is that it eats CPU
cycles in an enormous way :)

Cya L8r,

DarkShadow
aka Nuno Trancoso
-- 
Infinity takes it's time.

@ENDNODE
@NODE "Mail_258" " Re: SuperBitMap Window "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-30-99 00:49:29
Subject: @{b}Re: SuperBitMap Window@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 29-Nov-99, Bob Lanham wrote:

> I need some advice on getting the BitMap to render into a SuperBitMap
> window. 

Why do you want to use a SuperBitMapWindow?

> In the following code, what have I done wrong?

You free the datatype object, and expect the bitmap pointer to remain valid. 
But this is not how it works.

Furthermore you use DoDTMethod() which is only for datatypes attached to a
gadgetlist. Use DoMethod() instead.  Though there should be no reason to call
ProcLayout, when you don't want the bitmap remapped (but you probably do,
don't you?)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Man will occasionally stumble over the truth, but most times he will pick
himself up and carry on...
-- Winston Churchill

@ENDNODE
@NODE "Mail_259" " Re: Getting desperate! "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 11-30-99 02:46:09
Subject: @{b}Re: Getting desperate!@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 29-Nov-99, Nuno Trancoso wrote:

>> noticeable impact on the speed of my programs, though I often wish it was a
>> little better ;-)
> As for me, i'm starting to get disapointed with C :( It's hard to get into

C is horrible, but one of the better choices when it comes to OS specific
programs, which must have a good running time.  But have a look at e.g.
http://www.haskell.org/ if you want a nicer, easier, more compact language :-)

> and i'm not getting that much a speedup than i was getting from BLitzBasic2,
> wich made code for 68k only. In my program i don't expect to gain speedups
> when writing to the console, but it SHOULD be faster at setting the values
> in the array.

Well, setting a value in an array can be done with a single assembler
instruction, and here BASIC shouldn't be that bad... so it probably isn't here
you'll find the major speedups.

> I've heard about some assembler written hand made replacement libs for
> StormC, wich are supposed to be faster than the standard ones. Do you know
> something about it?

Yes, info about the StormAmiga.lib is at http://www.cyberdynesystems.de/ - I
use it myself as it generally cuts 10 Kb of the resulting executable, and has
a few extra features, e.g. auto-opening of MUIMaster.library.

But the linker lib is not responsible for the code generation, it supplies the
ANSI-C functions (and a little more) which you don't use in your program
(except printf) - but you could e.g. use bzero() from StormAmiga.lib to clear
your arrays, and then you'd get a little speedup, compared to clearing each
element yourself, using a loop.

FYI: bzero(a, b) is just memset(a, 0, b), but a tad faster, though AFAIK only
available with StormAmiga.lib, as it's a UNIX-thing, not an ANSI-one...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Don't worry about people stealing your ideas. If your ideas are any good,
you'll have to ram them down people's throats.
-- Howard Aiken

@ENDNODE
@NODE "Mail_260" " Re: Re: Getting desperate! "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 11-30-99 03:00:13
Subject: @{b}Re: Re: Getting desperate!@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Mon, 29 Nov 1999, Nuno Trancoso wrote:

> As for me, i'm starting to get disapointed with C :( It's hard to get into and
> i'm not
> getting that much a speedup than i was getting from BLitzBasic2, wich made code
> for 68k only. In my program i don't expect to gain speedups when writing to the
> console, but it SHOULD be faster at setting the values in the array.

The speed of writing to the console never reflects the code-generation of
the compiler. E.g., vbcc flushes the output-buffer after every call to
printf (because there are some programs which print to the console and
expect the output to appear without calling fflush) - replace printf(...) 
by fprintf(stdout,...) and you should notice the difference.

For programs which do real calculations I doubt that BlitzBasic can
compete with a decent optimizing C compiler. While I have never used it,
I'd guess that if you looked at the section on optimizing in vbcc you
would find BlitzBasic does practically none of these optimizations.

However, how much benefit can be gained by such optimizations depends
largely on the programs. There are lots of programs where even the most
highly optimizing compilers cannot gain any significant benefit over
simple ones.

Volker

@ENDNODE
@NODE "Mail_261" " Re: Compiler Problems "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-30-99 13:32:19
Subject: @{b}Re: Compiler Problems@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello Bablos

On 02-Dec-99, Bablos wrote:
> From: Bablos <bablos@cableinet.co.uk>
> 
> Hi There...
> 
> I'm currently using SAS/C, and I'm trying to compile a source file, but
> I get the following error;
> 
> Error: Code section too large to put STRINGS in the code section
> sc failed returncode 20
> 
> I can't find any reference to this error in the docs, and so I don't
> know how to get around this.
> 
> Can anyone help?

Using SCOPTIONS/Code options, set the STRSECT option to something other than
default. For more information, place the pointer over this option and press
'Help'.

Regards Rod

@ENDNODE
@NODE "Mail_262" " Re: Compiler Problems "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 11-30-99 16:44:51
Subject: @{b}Re: Compiler Problems@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello Bablos

> 
> That's not the real problem - the REAL BIIIIG problem is that a 274K
> source file is generating a 12.5Mb object file, hence the above error.
> I haven't a clue why, as gcc/egcs compile a 127K object.
> 
> Help!
> 

Ouch! No idea what might cause that. It might be best to have someone else
try compiling your code and see if they can figure out what's wrong.

  Rod

@ENDNODE
@NODE "Mail_263" " creating makefiles "
From: Micha!? <Schulze_Michael@t-online.de>
Date: 11-30-99 22:51:27
Subject: @{b}creating makefiles@{ub}

From: Schulze_Michael@t-online.de (Micha!?)

Hello,

Is there a tool for creating makefiles? I'm sure there is one,
but what's the name?

Regards,

     Micha
-- 
  
    "The quiet ones are the ones who change the universe.
     The loud ones only take the credit."

    Londo Mollari, "BABYLON 5: In The Beginning"

@ENDNODE
@NODE "Mail_264" " Optimizing (was : Re: getting desperate!) "
From: Nuno Trancoso <ng13577a@netc.pt>
Date: 11-30-99 23:10:03
Subject: @{b}Optimizing (was : Re: getting desperate!)@{ub}

From: Nuno Trancoso <ng13577a@netc.pt>

Hya Allan

> http://www.haskell.org/ if you want a nicer, easier, more compact language :-)

The problem is that i saw no compiler for the Amiga :((

> Well, setting a value in an array can be done with a single assembler
> instruction, and here BASIC shouldn't be that bad... so it probably isn't here
> you'll find the major speedups.

But the values in the array are calculated from previous values, so i guess
that 060 code (more specific and optimized for the target processor) should
be faster than 68000 heneric code.

> (except printf) - but you could e.g. use bzero() from StormAmiga.lib to clear
> your arrays, and then you'd get a little speedup, compared to clearing each

Most of the time i don't clear the array, because usually i set it up with
values
shortly after program start. So, it really doesn't mind if the values are random
or if the memspace is cleared, most of the time.

Cya L8r,

DarkShadow
aka Nuno Trancoso
-- 
Infinity takes it's time.

@ENDNODE
