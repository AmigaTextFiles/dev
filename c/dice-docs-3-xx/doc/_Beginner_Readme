@DATABASE DICE_Manual
@NODE MAIN "The DICE 3.xx Beginners Guide"
@INDEX DICE_Index/MAIN
@TOC dice.guide/MAIN
@prev  main/MAIN
@next  _About_dice/MAIN

                        @{b}BEGINNER'S DOCUMENT FOR DICE@{ub}


  
  Contents: @{" The C Language     " link c}

          @{b}Your First Program, Start-to-Finish@{ub}
            @{" Your first program " link first_1}

          @{b}My first program, (crap calc)@{ub}
            @{" My First Program   " link first_2}

 There are more tutorials and some source code included in the dedicated
 tutorial section, these two simple programs should have got you into the
 basics. These will teach you some of the rest.

 @{" Take me to your tutorials " link dice.guide/Tutor}
  
 Obviously, it is impossible for me or anybody else (despite Matts valiant
 efforts) to teach anyone who is new to C how to code - you would be advised
 to get hold of some books. Mastering Amiga C, by Paul Overaa, for example is
 by no means current but it is available in most libraries and ALL libraries
 should be able to get hold of a copy for you (a small fee is usually
 required). Another good source are magazine tutorials, as I write this
 (22/10/1998) Amiga Format is currently running one and the sadly defunct
 CU Amiga had finished a vast exercise in Amiga programming. Both of these
 are well worth checking out, in addition of a good reference book (ANSI
 remember..., as the WinTel books will teach you nothing important). MJF.

@ENDNODE


@NODE c "The C Language... ANSI Style)
@prev main
@next first_1
                               @{b}THE C LANGUAGE@{ub}

It is not possible to describe the entirety of the C language in a simple 
document file.  If you have no experience with the C language and are 
trying to learn it, the best thing to do is go to your local bookstore
(that has a computer section hopefully) and buy TWO different ANSI C or C++
language books. Yes...TWO! Look for a tutorial style book and for a
reference style book.  The tutorial style book will have many self contained
source examples that you can simply type in and run... and figure things out
by hacking on the examples and seeing the results. The reference style book
will have a comprehensive description of all the standard calls available.
BE SURE YOU GET BOOKS THAT DESCRIBE ANSI C rather than the original K&R C.
DICE is nearly 100% @{i}(and will get better)@{ui} an ANSI C compiler 
including nearly all the standard ANSI C functions.

DME, the editor that comes with DICE, has a quick-reference capability
that allows you to place the cursor over a function name, hit a key, and
have the manual page for that function brought up in a separate window.
As you get familiar with DME, please try out this function.  The key
sequence is control-right_bracket from DME.  If you have your own editor
that is able to generate standard ascii files you may use that instead of
DME.  However, note that DME was designed with programming in mind and
*does* have that quick-reference capability, and so once learned will
probably be more efficient for your purposes.

As I have said, I cannot really *teach* you C in these flimsy manual pages.
I can, however, give you some of the formatting methodology to make your
programs more readable to yourself and to others. Unfortunately, bad habits
tend to stick, so learning the right way to do things from day 1 will go a 
long way.  The file METHODOLOGY section contains this information and 
assumes you already know C basics.
                     
@ENDNODE                     


@NODE first_1 "Your First Program: The Beginning to the End"
@prev c
@next first_2

                       @{b}FIRST PROGRAM FROM START TO END@{ub}

After installing DICE, reboot your system.  If you run from Workbench,
you must open a CLI or Shell window to fool around with DICE.

NOTE:   From Workbench, the path might not be properly set up.  If you:

    1> DCC

and it comes back command not found, and DCC *does* exist on the floppy
or in-memory, then the path may not be properly set up.


@{i}(1)@{ui} Creating the source code.  CD into some scratch directory... I use
T: here.

    1> CD T:

@{i}(2)@{ui} Edit a new file.  You do not have to RUN the editor, but it is always
nice because you can run the compiler without exiting the editor. This
tutorial expects you to RUN the editor:

    1> RUN DME test.c

@{i}(3)@{ui} DME brings up an editor window on the workbench.  Pressing the
right mouse button should bring up a menu (assuming you are not already 
familiar with DME and installed it from the DICE disks). IF DME DOES NOT 
HAVE A MENU, then the right mouse button will probably iconify the window
instead.  This means you forgot to copy DCC:S/.EDRC into S: ... again, this
file already exists if you simply booted with a copy of the distribution 
disk so you should see a menu.

Um, that was just to make sure DME is configured right... you can let go of
the RMB (right mouse button) now.  If you flip through the menu items 
available, you will note that many options have keyboard equivalents.
For further information on mapping keys to your own macros, read the
DCC2:MAN/DME.DOC document.  You can read the document by putting the DCC2: 
floppy into DF0: and selecting the Project/Open-NewWin menu option 
(this brings up a new window so you now have two, though the first one is 
covered.  To use the same window use the Project/Open-Replace menu option).

Type in your program. The cursor keys may be used to move the cursor around.
control-cursor_key skips multiple lines while shift-cursor_key skips to the
top or bottom of the file. Typing RETURN on the last line adds a new line 
to the file. Typing RETURN in general inserts a new line after the current
line.

BASIC DME KEY COMMANDS, REFER TO DCC2:MAN/DME.DOC FOR MORE INFORMATION.  
These comprise only a few of the many commands available. You can construct
your own key macros and menu options to your whim as you get better.

    @{i}<cursor-key>@{ui}        move the cursor around.

    @{i}ctl-<cursor-key>@{ui}    skip around

    @{i}shift-<cursor-key>@{ui}  move to top of text, bottom of text, first
                        column, or end-of-line

    @{i}<del>@{ui}   delete a character. Experiment with <del> and <backspace>
            to determine the differences between the two.

    @{i}shift-<del>@{ui}     delete a LINE

    @{i}ctl-i@{ui}           control-i, go into insert mode
    @{i}ctl-o@{ui}           control-o, go into overwrite mode

    @{i}alt-i@{ui}           ICONIFY WINDOW.  Window becomes iconified (very,
                very small)... un-clutters the workbench screen.
                You may un-iconify by selecting the iconified
                window and hitting the right mouse button.

    @{i}help@{ui}            brings up a new window (as in <f3>) with
                DCC2:MAN/DME.DOC in it.


                FILE LOAD, SAVE
        All of these have equivalent Menu options

    @{i}<f1>@{ui}            Insert a file.  The current filename and file
                in the window stays, but some other file is
                inserted into the current text... experiment
                with this with a few small text files.

    @{i}<f2>@{ui}            Edit a new file... replaces the current window
                with a new file.  The old file is gone (not
                deleted, just not being edited any more).  If
                you made modifications to the current file a
                requester will pop up asking you if you want
                to really throw it away.

    @{i}<f3>@{ui}            Edit a new file... opens up a new window for the
                new file after you type in the file name, the
                previous file window is still there though
                probably obscured... you can move and resize
                the windows however you wish.

    @{i}<f9>@{ui}            save file

    @{i}<f10>@{ui}           save file and close window (exits DME if this is
                the last window)

    @{i}c-q@{ui}         Quit - same as the close window gadget.


@{i}(4) PROGRAM?  What Program?@{ui}  This program:

    -------- top of file (this line not part of file) --------

    #include <stdio.h>
    #include <stdlib.h>

    main()
    {
        puts("Hello World!");
        return(0);
    }

    -------- bottom of file (this line not part of file) -----


@{i}(5) COMPILING THE PROGRAM@{ui}
Write out the file with F9

You can either quit out of the editor or simply bring your CLI window 
forward to compile the program.  Better, iconify the editor window to 
un-clutter your workbench screen!  To compile the program, enter this line:

    1> dcc test.c -o test

This tells DICE to compile and link test.c into an executable. DICE should 
grind on the file and then return another CLI prompt. If any requester comes
up, you are missing an assignment or two:

    DINCLUDE:   you are missing the DINCLUDE: assignment which
            should be set to DCC:INCLUDE.

    DLIB:       you are missing the DLIB: assignment which should
            be set to DCC:DLIB.

    "Unable to open dlib:Amigas13.lib or dlib:dlib:amigas13.lib"

Means that you do not have amigas.lib installed in DLIB: ... Amigas13.LIB 
is Amiga.LIB after being put through the LIBTOS program and comes with the 
registered version of DICE.

Double check that you have 'SETENV DCCOPTS -1.3' and that DLIB: is assigned
and amigas13.lib is in it, as well as other DICE libraries.

@{i}(6) RUN THE PROGRAM@{ui}

    1> test
    Hello World!
    1>

You can make the program so it can be made resident by compiling with the
-r option. A -r compiled program's executable will have the PURE bit set
automatically and may optionally be made resident.  Programs not compiled
with the -r option will not have the Pure bit set and may not be made
resident.

    1> dcc test.c -o test -r
    1> test
    Hello World!
    1> resident test
    1> test
    Hello World!                @{i}<- much faster response!@{ui}


@{i}(7) **** WARNING **** ABOUT RESIDENTED EXECUTABLES@{ui}
It is a COMMON mistake when a programmer is making modifications and 
recompiling a program to forget to REMOVE the program from the resident 
list if it was placed on it.  I.E........

    1> resident test REMOVE

The reason is simple... you make a change and recompile your program.  But,
you have already been the program resident. If you run the program the 'old'
version will be run.  Thus, you want to either remove it from the resident 
list or re-resident the executable.

You can also force a program to be loaded from disk by providing a full path
to it. I.E...........

    1> resident test
    1> test
    Hello World!       @{i}<- uses resident version@{ui}

    1> DF0:test        @{i}(or wherever you compiled test to)@{ui}
    Hello World!       @{i} <- uses disk version@{ui}@{ui}


@{i}(8) PROGRAM EXAMPLES@{ui}
The registered DICE distribution comes with a large number of program
examples that should prove invaluable to a beginner.  Additionally, every 
manual page includes a self-contained program example for the particular 
function the page describes and this also should prove invaluable when 
confusion arises.

Please refer to the README for an overview, and also browse the DICE disks 
from a CLI.  Unfortunately, due to space packing, I sometimes move things
around and forget to update the documentation.  The DME example is the best
of the lot and is on DCC3:
Read the README file on DCC3 for unpacking instructions.

To run a DMakefile type the DMAKE command on the directory containing the 
DMakefile.  I'm afraid the DMake is a huge hack and not much good 
documentation is available for it, but what documentation there is is in 
DCC3:MAN/DMAKE.DOC

@{i}(9)@{ui}
That terminates the tutorial.  Refer to the DCC:DOC and DCC2:MAN directories
for documents describing other executables (use DME to bring these files up
and browse through them).  Note that the top few lines of each file contain
a keyword that gives DME it's quick-reference capability to the file.

@ENDNODE


@NODE first_2 "My First Program (crap calc)"
@prev first_1
@next main


                          @{b}Crap Calc@{ub}


@{i}A Step in the Right Direction, by Matthew J Fletcher, 23/10/1998@{ui}

Now lets try something just a little bit harder. For this, I will presume a
few things. Firstly, you have been to school for at least a few years and are
aware that mathematics exists, and secondly, have a keen desire to make the
computer do something that involves you.

Unlike Matts first tutorial, I will also presume that you are capable of
using a text editor, yes we are onto advanced stuff now.

Here goes then.....

- @{i}(1) Planning@{ui}
Yes, yes. Planning is important and it is good to get you into it at this
very early stage, because when you do this at university, you will spend most
of your time being wined at for being a hacker (in your style of coding) i.e.
you make it up as you go along and fix any problems without checking the
plan of what the program is supposed to be doing.

- A simple ANSI calculator, (i.e. no Amiga or PC, Windows, etc)
- Just simple integer (whole number maths)
- One function only - add (err, the schools still teach this I presume)

So if we right it out in rough @{b}English@{ub} first so we know what we will be
going on...., remember this is not C.


Store Number_1  <-- so if we are going to add two numbers we need to stores
Store Number_2      or variables, and a third for the output from the magic
Store Result        that will go on inside. 

Output "Hello I am Crap Calc"  <-- We are just telling the world we exist

Output "Please enter, your first number" <-- Asking the user first input
Input "Number_1"  <-- we store there choice in here

Output "Please enter, your second number" <-- Asking the user second input
Input "Number-2"  <-- again we store the choice

Number_1 + Number_2 = Result <-- now dot get to excited, I am sure you have
                                 done this before, we are just adding the
                                 numbers that were chosen and then recording
                                 the result in a fresh space.

Output "The Result was", Result <-- all we did there was issue a message and
                                    output was we had worked out together.


Thats it, very tricky i will admit now all we have to do is change it into C

- @{i}(2) Creating the program@{ui}
Before we go any further, you totally understand the last section don't you?
If not, read it again!
We will now create a working C version from the program above.

You can now get you reference book out and check I am doing this properly or
just type it in and hope. Bear mind that you only have to type the stuff in
@{b}bold text@{ub} right....(this is important).


----------- Start of Program (no not this line its not bold, got it) -------

//ough by the way the two forward slashes are a way of putting comments in
//so that C wont mind us using English....

  @{b}//Program Crap Clac@{ub}
  @{b}//By The Readers name@{ub}
  @{b}//On the date read@{ub}

  @{b}#include <stdio.h>@{ub}
  @{b}#include <stdlib.h>@{ub}

These are vital elements of the C language that make to program work, even
one this simple, if you have used the correct assigns then no more path is
required to compile properly.

  @{b}int Number_1;@{ub}  this sets up the first store as an integer
  @{b}int Number_2;@{ub}  the same again, note that the store names must be kept
  @{b}int Result;@{ub}    the same whenever they are used in the program

  @{b}main()@{ub}   main() is the well, main point in the program, more correctly
                  it is the starting point, be that not important now.
  @{b}{@{ub}      this bracket starts the section that will be run

  @{b}printf("Welcome to Crap Calc\\n");@{ub}
  @{b}printf("\\n");@{ub}
  
This just puts a space in to make it look neat. You should be quite familiar
with printf by now shouldn't you.

  @{b}printf("read to do some adding ? \\n");@{ub}
  @{b}printf("\\n");@{ub}
  
You may well be thinking what what the hell are all these \\n things well
they just tell c to go onto a \\(n)ew line, at the end of this one.

  @{b}printf("Please enter your first number...\\n");@{ub}
  @{b}scanf("%d",&Number_1);@{ub} 
  
Now keep calm, this is just how you read a input for the user in C.
%d stands for a decimal storage box, and & is the pointer to the memory
address, rather than the real address, If you didn't understand that, its
OK. I didn't at first either, but hey, you don't have to. Just type it in for now.
                             
  @{b}printf("Please enter your second number...\\n");@{ub}
  @{b}scanf("%d",&Number_2);@{ub}

See we are following the plan and have just told the program to ask the user
for the next number to input.

  @{b}printf("\\n");@{ub}
  @{b}Result = Number_1 + Number_2;@{ub}

Right, this is just the calculation bit. We are adding two numbers from two
locations to make one in one new location, and yes + is the same in C as in
English. You might be wondering why the result is at the wrong end of the
sum? Well C has to have the box ready (Result) to put the result in you see.

  @{b}printf("The total is:= %d \\n",Result);@{ub}
  @{b}return(0);@{ub}

This just outputs the result (Result), in a %d (decimal) format, along in
a line with some text, the return(0) line can be totally ignored at this
stage, as it quite literally does nothing at this level.

  @{b}}@{ub}

--------------- End of Program (no not this line, right...) -------------


- @{i}(3) Compilation Time @{ui}

- You should be able to do this by your self but go on, save out the file
to ram:crapcalc.c then open the shell (Get a new one, KingCON, CornShell,
VincED or any scrolling shell is a must), get to the abin directory mine
is work:dice/abin/ type @{b}dcc ram:crapclac.c -o ram:crapclac@{ub} and the
program should appear after some grinding by dice. WOW! Click on it and
play. Now isn't that a good feeling - your first program that does something.


- @{i}(4) Why doesn't it work ?@{ui}
It does. You have made a mistake or the laws of physics have changed. Its
C Jim but not as DICE knows it..... kind of. Here are some of things you
should check..

- Capitals. C is CASE SENSITIVE. If it has capitals in it, leave it that way,
if it does not, then don't change it either - just check your version is the
same as mine.

- Once again, check that it is exactly the same -  both { } brackets should
exist. If you are quite bright, check the line number that DC1 (I presume)
reports that the error is on, and then check that line in your code TWICE.

- If it cant find the file, check it has a .c on the end, and the path is
correct, bung it in ram: to be sure.

- If you get errors from DCPP, or DAS then you have either gone totally mad,
have got your text editor saving out rich text for ANSI or even some custom
format, these will not work. ASCII text is the way to go.


- @{i}(5) More Advanced Stuff@{ui}

- How about changing int in the vars to float i.e. integer to floating point
so you can use decimal point numbers properly and then try adding numbers
like 3.1 or even 0.1! wow...

- How would you change this to do subtraction? hmm...think about it. Only one
thing needs changing... back to the maths room..... when you have done this
devision and multiplying are but one more step away. Just think, windows
programers can sell stuff like this for money...., cool.

- Try adding more vars, so you can add or devide loads of numbers at once.

- What else? Well not much. Try the next tutorial and get a book on C so
you can do some bedtime reading and maybe hack the examples to get something
more interesting to happen.

@ENDNODE
@ENDNODE
