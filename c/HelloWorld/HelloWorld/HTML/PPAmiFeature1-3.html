<TITLE>Power Programs Amiga Feature I - Multitasking.</TITLE>
<BODY BGCOLOR="#F0F0F0" TEXT="#000066" LINK="#6666FF" VLINK="#CC66CC" ALINK="#FF0000">
<CENTER>
<IMG SRC="pictures/powerfeat.gif" ALT="Amiga Features" WIDTH=303 HEIGHT=82><BR>
<BR>Feature I - Multitasking
</CENTER>
<CENTER><P> <IMG SRC="pictures/line1.gif" HEIGHT=8 WIDTH=640 ALT="---Seperator---">
</CENTER>
<BR><BR>
<TABLE BORDER=0>
<TR><TD>
<H2>Programming details - Tasks</H2>
</TD></TR>
<TR><TD>
The easiest way to create a task is using the amiga.lib CreateProcess() function.
The prototype of this function is:
</TD></TR>
<TR><TD>
struct Task *CreateTask ( STRPTR name , LONG pri, funcEntry initPC, ULONG stackSize );
</TD></TR>
<TR><TD>
The function returns either a task in the Task structure, or 0 if it fails. The first argument is the name of the task to create. It should be unique and have a trailing \0. An example would be "ExampleName\0". The second argument is the task's priority. For most tasks, '0' will suffice. The third is the function entry point, which is to be your new task. This function should have a prototype form of 'void name ( void )'. The last argument is the stacksize, it should be <B>at least</B> 4000 bytes, but your task might need more!
</TD></TR>
<TR><TD>
Example call:
</TD></TR>
<TR><TD>
task = CreateTask ( "ExampleName\0", 0L, name, 4000L );
</TD></TR>
<TR><TD>
The next thing to know is how to stop your task. To stop your task, you either call
'DeleteTask ( 0L )' from the task itself or call 'DeleteTask ( task )' from your main program. Notice that stopping a task is only safe if it is not doing anything at the moment you stop it. You also have to free any allocated memory yourself..
</TD></TR>
<TR><TD>
<H2>Programming details - Processes</H2>
</TD></TR>
<TR><TD>
Creating a process is similar in many ways to creating tasks, so we'll jump straight in the fray with the CreateNewProcTags() function..
</TD></TR>
<TR><TD>
process = CreateNewProcTags(ULONG, ... );
</TD></TR>
<TR><TD>
As this functions uses taglists, it is easy to use. A call to CreateNewProcTags() with 'NP_Entry, funcEntry' as tags is enough to create a new process. The full
example would be 'CreateNewProcTags( NP_Entry, name )'. Where name is the name of your function. Functions for a process have a different form: 'int name ( void )', so keep that in mind when creating a process.
</TD></TR>
<TR><TD>
All the information contained here and more, plus example source code is available
in the lha file that was created to accompany this feature. You can download it below. <I>Note</I>, if you're reading this HTML after you downloaded the program from Aminet or PPArchive, the LHA-file will not be linked correctly.
</TABLE>
<P ALIGN="RIGHT"><IMG SRC="pictures/V.gif" ALT="Check">Download the <A HREF="PParchive/helloworld.lha">extra's</A> now.</P>
<CENTER><P> <IMG SRC="pictures/line1.gif" HEIGHT=12 WIDTH=640 ALT="---Seperator---">
</CENTER>
<I>Updated: 16/01/2000<BR>
<I>E-mail us at <A HREF="mailto:jeroen@infothuis.nl">jeroen@infothuis.nl</A> !</I><BR>
<I> Bring me back to <A HREF="AmigaFeatures.html">Amiga Features</A>, please.</I><BR>
<I> Bring me back to the <A HREF="PowerPrograms.html">Power Programs homepage</A>, please.</I><BR>
<I> (C) 2000, Jeroen Knoester.</I>
</BODY>
</HTML>