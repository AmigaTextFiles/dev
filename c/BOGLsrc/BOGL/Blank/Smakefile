# smakefile for blank output handler

##### MACROS #####

LIBRARYDIR = Program:BOGL/blank

TMP_FILE = T:blankTMP_SCOPTS

QUANTIZEROBJECTS = blank.o

LIBRARYSCFLAGS = idlen=63 nocheckabort

# Features to make and link a shared library for amiga
VERSION = 2
REV = 0
LIBRARYFD = outputhandler.fd
BLANK_LIBRARY = $(LIBRARYDIR)/Blank
MAKELIBRARY = slink WITH lib:utillib.with lib lib:scm881.lib+lib:sc.lib+lib:amiga.lib libversion $(VERSION) librevision $(REV) libfd $(LIBRARYFD) TO $(BLANK_LIBRARY) FROM lib:libent.o lib:libinit.o

CC = sc

##### RULES #####
.a.o:
    $(CC) WITH=$(TMP_File) $*.a

.c.o:
    $(CC) WITH=$(TMP_File) $*.c

##### TARGETS #####

default:
    smake library

library: $(BLANK_LIBRARY)
    @echo "------- FINISHED ------"

$(BLANK_LIBRARY): AmigaLibrary $(QUANTIZEROBJECTS) DeleteTMP
    @echo "------ Making Library -----"
    $(MAKELIBRARY) $(QUANTIZEROBJECTS)


# Makes temporary scoptions to use in global .c.o

AmigaLibrary:
    @echo >$(TMP_FILE) "$(LIBRARYSCFLAGS)"
DeleteTMP:
    @delete $(TMP_FILE)

