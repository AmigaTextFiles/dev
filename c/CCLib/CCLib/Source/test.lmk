#
# Make file for Lattice C test program
#
# --- the directory for the cclib.library include files
DINCLUDE=:include
# --- location of the special main routine
SYSOBJ=lcmain.o
# --- location of the Lattice startup module
COBJ=lib:cc.o
# --- connection routines for cclib.library
CCLIB=lib:lcclib.lib
# --- standard Lattice libraries
LIB=lib:
LATTICECLIB=$(LIB)lcmieee.lib,$(LIB)lc.lib,$(LIB)amiga.lib
# --- name of the compile and link commands
CC=lc
LN=blink
# --- flags for the linker
LNFLAGS1=$(COBJ),$(SYSOBJ)
LNFLAGS2=lib $(CCLIB),$(LATTICECLIB)
# --- flags for the compiler
CFLAGS=-fi -i$(DINCLUDE)
# --- production rule for compiling
.c.o:
   $(CC) $(CFLAGS) $*.c

# *********** specifics for the application *********************

MKFILE=test.lmk
PROGNAME=test
OBJ=test.o

$(PROGNAME): $(SYSOBJ) $(OBJ) $(MKFILE)
   $(LN) $(LNFLAGS1),$(OBJ) to $(PROGNAME) $(LNFLAGS2)




