<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<!-- Converted on 16 Feb 1997 with RexxDoesAmigaGuide2HTML 2.0 by Michael Ranner. -->
<HTML>
<HEAD>
<TITLE>Ultra Cee Door Guide: Usage Ultra Cee Door</TITLE>
</HEAD>
<BODY BACKGROUND="images/bg.gif">

<A HREF="main.htm"><IMG SRC="images/content.gif" ALT="[Contents]" BORDER="0"></A>
<A HREF="installa.htm"><IMG SRC="images/prev.gif" ALT="[Browse &lt;]" BORDER="0"></A>
<A HREF="referenc.htm"><IMG SRC="images/next.gif" ALT="[Browse &gt;]" BORDER="0"></A>
<HR>
<H1 ALIGN=CENTER>USAGE ULTRA CEE DOOR</H1>
<PRE>
   As you suspect the <I>UCDoor.lib</I> is for use with Code option <B>Parms=STACK</B>,
   <I>UCDoorR.lib</I> is Code option <B>Parms=REGISTER</B>. Whichever you prefer.
   
   Just add it : fe. sc myprogram.c lib:ucdoor.lib
   
   Set up your program as follows:
   
        <I>#include "UCDoor.h"
   
        struct Task          *thisTask;
        MDDOOR               *ucd_msg;
        struct MsgPort       *DoorControl;
        struct MsgPort       *DoorReply;
        BOOL                 is_carrierLost;
        int                  udc_result;     
                                  
        void cd_Door(int node)
        {
                /* your door code */
                
                /* check regurarly */
                if(cd_CarrierLost())
                    cd_End();
                    
        }
   
        void main(int argc,char *argv[])
        {
                cd_Main(argv[1]);
                if(udc_result != OK)
                {
                    /* whatever action is needed */
                    /* ERROR_MESSAGE      -> Couldn't allocate message
                       ERROR_CONTROLPORT  -> Couldn't find MAX's port
                       ERROR_REPLYPORT    -> Couldn't create door port
                       ERROR_CARRIERLOST  -> Transm. ended
                    */   
                }    
        }
        </I>

    That's it !
                                                                       
</PRE><HR>
(C)1997 Blue Heaven Software.
</BODY></HTML>
