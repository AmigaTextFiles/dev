.bra [
.ket ]
.key from

if not [from]
   execute install sc:
else

echo ""
echo "This script will patch the following files from version"
echo "6.55 of the SAS/C Development System. You MUST have 6.55"
echo "installed on your system for this patch to work."
echo ""
echo "sc, asm, cpr, se, cprx, cprk, sc1.library, sc2.library, "
echo "scpeep.library, sekeymap.library, sccxx.library, "
echo "scdebug.library, slink, covutil.c."
echo ""
echo "Also, all the libraries in LIB: will be updated."
echo ""
echo "Check the read.me file for a list of fixed bugs."
echo ""
ask "Continue with patch?"

if warn

if exists [from]c/asm
echo Patching ASM
copy [from]c/asm t:asm
spatch -osc:c/asm -pasm.pch t:asm
delete t:asm quiet
endif

if exists [from]c/cpr
echo Patching CPR
copy [from]c/cpr t:cpr
spatch -osc:c/cpr -pcpr.pch t:cpr
delete t:cpr quiet
endif

if exists [from]c/se
echo Patching SE
copy [from]c/se t:se
spatch -osc:c/se -pse.pch t:se
delete t:se quiet
endif

if exists [from]c/sc
echo Patching SC
copy [from]c/sc t:sc
spatch -osc:c/sc -psc.pch t:sc
delete t:sc quiet
endif

if exists [from]c/slink
echo Patching SLINK
copy [from]c/slink t:slink
spatch -osc:c/slink -pslink.pch t:slink
delete t:slink quiet
endif


if exists [from]c/cprk
echo Patching CPRK
copy [from]c/cprk t:cprk
spatch -osc:c/cprk -pcprk.pch t:cprk
delete t:cprk quiet
endif

if exists [from]c/cprx
echo Patching CPRX
copy [from]c/cprx t:cprx
spatch -osc:c/cprx -pcprx.pch t:cprx
delete t:cprx quiet
endif

if exists [from]libs/sc1.library
echo Patching SC1.LIBRARY
copy [from]libs/sc1.library t:sc1.library
spatch -osc:libs/sc1.library -psc1.pch t:sc1.library
delete t:sc1.library quiet
endif

if exists [from]libs/sc2.library
echo Patching SC2.LIBRARY
copy [from]libs/sc2.library t:sc2.library
spatch -osc:libs/sc2.library -psc2.pch t:sc2.library
delete t:sc2.library quiet
endif

if exists [from]libs/scpeep.library
echo Patching SCPEEP.LIBRARY
copy [from]libs/scpeep.library t:scpeep.library
spatch -osc:libs/scpeep.library -pscpeep.pch t:scpeep.library
delete t:scpeep.library quiet
endif

if exists [from]libs/scdebug.library
echo Patching SCDEBUG.LIBRARY
copy [from]libs/scdebug.library t:scdebug.library
spatch -osc:libs/scdebug.library -pscdebug.pch t:scdebug.library
delete t:scdebug.library quiet
endif

if exists [from]libs/sccxx.library
echo Patching SCCXX.LIBRARY
copy [from]libs/sccxx.library t:sccxx.library
spatch -osc:libs/sccxx.library -psccxx.pch t:sccxx.library
delete t:sccxx.library quiet
endif

if exists [from]libs/sekeymap.library
echo Patching SEKEYMAP.LIBRARY
copy [from]libs/sekeymap.library t:sekeymap.library
spatch -osc:libs/sekeymap.library -psekeymap.pch t:sekeymap.library
delete t:sekeymap.library quiet
endif

if exists [from]source/covutil.c
echo Patching COVUTIL.C
copy [from]source/covutil.c t:covutil.c
spatch -osc:source/covutil.c -pcovutil.pch t:covutil.c
delete t:covutil.c quiet
endif


if exists sc:lib/sc.lib
echo Replacing fdopen.o, _iob.o, and _sfmt.o in SC.LIB
oml sc:lib/sc.lib r _sfmt.osc fdopen.osc _iob.osc
endif


if exists sc:lib/scs.lib
echo Replacing fdopen.o, _iob.o, and _sfmt.o in SCS.LIB
oml sc:lib/scs.lib r _sfmt.oscs fdopen.oscs _iob.oscs
endif

if exists sc:lib/scnb.lib
echo Replacing fdopen.o, _iob.o, and _sfmt.o in SCNB.LIB
oml sc:lib/scnb.lib r _sfmt.oscnb fdopen.oscnb _iob.oscnb
endif

if exists sc:lib/scsnb.lib
echo Replacing fdopen.o, _iob.o, and _sfmt.o in SCSNB.LIB
oml sc:lib/scsnb.lib r _sfmt.oscsnb fdopen.oscsnb _iob.oscsnb
endif

if exists sc:lib/scm.lib
echo Replacing _sfmt.o in SCM.LIB
oml sc:lib/scm.lib r _sfmt.oscm
endif

if exists sc:lib/scms.lib
echo Replacing _sfmt.o in SCMS.LIB
oml sc:lib/scms.lib r _sfmt.oscms
endif

if exists sc:lib/scmnb.lib
echo Replacing _sfmt.o in SCMNB.LIB
oml sc:lib/scmnb.lib r _sfmt.oscmnb
endif

if exists sc:lib/scmsnb.lib
echo Replacing _sfmt.o in SCMSNB.LIB
oml sc:lib/scmsnb.lib r _sfmt.oscmsnb
endif

if exists sc:lib/scmieee.lib
echo Replacing _sfmt.o in SCMIEEE.LIB
oml sc:lib/scmieee.lib r _sfmt.oscmieee
endif

if exists sc:lib/scm881.lib
echo Replacing _sfmt.o in SCM881.LIB
oml sc:lib/scm881.lib r _sfmt.oscm881
endif

if exists sc:lib/scmffp.lib
echo Replacing _sfmt.o in SCMFFP.LIB
oml sc:lib/scmffp.lib r _sfmt.oscmffp
endif


endif

endif
