@database Amiga_C_List.guide
@width 70

@node "Introduction" "Introduction"
@wordwrap

                         Amiga-C Mailing List Guide
                         ==========================

This guide is intended as an easy reference to the Amiga C mailing list.

It contains messages posted to the Amiga C mailing list during the month shown on the main page.

To subscribe to the Amiga C mailing list, go to the address below.



This AmigaGuide was created using GuideMaker.rexx © Roger Light 1999
@endnode

@node "Main" "Amiga C Mailing List Guide"
                    @{b}Amiga C Mailing List Guide
                    ==========================@{ub}


                            June 1999

@{" Introduction " link Introduction } Introduction to the guide.

@{" Search " SYSTEM "RUN <>NIL: Searchguide Amiga-C-Jun1999.guide"} Search this file (requres SearchGuide)

 ------------------------------------------------------------------- 

@{" AW:  Counting the bits in a long -> Examples 2 " Link "Mail_0"}      Fritsch Alexander
@{" #define vs. const " Link "Mail_1"}      "Harry J. Miktarian"
@{" Re: #define vs. const " Link "Mail_2"}      John Niclasen
@{" Re: #define vs. const " Link "Mail_3"}      Christian Hattemer
@{" Re: #define vs. const " Link "Mail_4"}      Steffen
@{" Re: #define vs. const " Link "Mail_5"}      Volker Barthelmann
@{" Re: #define vs. const " Link "Mail_6"}      Allan Odgaard
@{" Re: #define vs. const " Link "Mail_7"}      Steffen
@{" Re: #define vs. const " Link "Mail_8"}      Steffen
@{" Re: #define vs. const " Link "Mail_9"}      Tim Corringham
@{" Re: #define vs. const " Link "Mail_10"}      Ben Hutchings
@{" (Fwd) failure notice " Link "Mail_11"}      Mike Carter
@{" (no subject) " Link "Mail_12"}      Tim Hanson
@{" (no subject) " Link "Mail_13"}      Daithi O'Cuinn
@{" Re: (no subject) " Link "Mail_14"}      Daithi O'Cuinn
@{" Re: (no subject) " Link "Mail_15"}      Olaf Barthel
@{" A bit off topic: "File formats" " Link "Mail_16"}      TigerGutt
@{" Re: A bit off topic: "File formats" " Link "Mail_17"}      Peter Carlsson
@{" Re: Amiga C Compiler exe's " Link "Mail_18"}      Mike Carter
@{" Antwort: Re: [amiga-c] AW: [amiga-c] Passing arrays to and from a function.. " Link "Mail_19"}      Raimund Dold
@{" ARQ " Link "Mail_20"}      Darryl Hartwig
@{" Re: ARQ " Link "Mail_21"}      Duncan Strand
@{" Backfilling a window, re-visited. " Link "Mail_22"}      Dominic Clifton
@{" Re: Backfilling a window, re-visited. " Link "Mail_23"}      Allan Odgaard
@{" Re: Backfilling a window, re-visited. " Link "Mail_24"}      Olaf Barthel
@{" Re: Backfilling a window, re-visited. " Link "Mail_25"}      Mike Carter
@{" Re: Backfilling a window, re-visited. " Link "Mail_26"}      Ben Hutchings
@{" Re: Backfilling a window, re-visited. " Link "Mail_27"}      Dominic Clifton
@{" Re: Backfilling a window, re-visited. " Link "Mail_28"}      Olaf Barthel
@{" Beginner's Woes " Link "Mail_29"}      David Crawford
@{" Re: Beginner's Woes " Link "Mail_30"}      John Niclasen
@{" AW: [amiga-c] Beginner's Woes " Link "Mail_31"}      Fritsch Alexander
@{" Re: Beginner's Woes " Link "Mail_32"}      Yves Grabowsky
@{" Re: Beginner's Woes " Link "Mail_33"}      Mike Carter
@{" Re: Beginner's Woes " Link "Mail_34"}      David Crawford
@{" Re: AW: [amiga-c] Beginner's Woes " Link "Mail_35"}      David Crawford
@{" Re: Beginner's Woes " Link "Mail_36"}      Ben Hutchings
@{" Re: Beginner's Woes " Link "Mail_37"}      David Crawford
@{" Re: Beginner's Woes " Link "Mail_38"}      Linus McCabe
@{" Re: Beginner's Woes " Link "Mail_39"}      Johnny T Nielsen
@{" Re: Beginner's Woes " Link "Mail_40"}      Tim Hanson
@{" Re: Beginner's Woes " Link "Mail_41"}      Ben Hutchings
@{" Re: Beginner's Woes " Link "Mail_42"}      Tim Hanson
@{" Re: Beginner's Woes " Link "Mail_43"}      Ben Hutchings
@{" C Newbie " Link "Mail_44"}      Jake Frederick
@{" Re: C Newbie " Link "Mail_45"}      David McMinn
@{" Re: C Newbie " Link "Mail_46"}      Allan Odgaard
@{" Re: C Newbie " Link "Mail_47"}      Volker Barthelmann
@{" Calling the same library function " Link "Mail_48"}      Stuart Kelly
@{" Re: Calling the same library function " Link "Mail_49"}      Andrew Markwell
@{" Re: Calling the same library function " Link "Mail_50"}      Ben Hutchings
@{" Re: Calling the same library function " Link "Mail_51"}      Stuart Kelly
@{" Re: Calling the same library function " Link "Mail_52"}      Stuart Kelly
@{" Re: Calling the same library function " Link "Mail_53"}      Ben Hutchings
@{" Re: Calling the same library function " Link "Mail_54"}      Stuart Kelly
@{" CLI / WB Args " Link "Mail_55"}      Mike Carter
@{" Re: CLI / WB Args " Link "Mail_56"}      Rod Schnell
@{" Re: CLI / WB Args " Link "Mail_57"}      Steffen
@{" Re: CLI / WB Args " Link "Mail_58"}      Ben Hutchings
@{" Re: CLI / WB Args " Link "Mail_59"}      Mike Carter
@{" Re: CLI / WB Args " Link "Mail_60"}      Stephen Williams
@{" code probe is driving me nuts " Link "Mail_61"}      "Harry J. Miktarian"
@{" Re: code probe is driving me nuts " Link "Mail_62"}      Gregory Roberts II
@{" Re: code probe is driving me nuts " Link "Mail_63"}      Wojciech Polak
@{" Coding for piracy... " Link "Mail_64"}      Colin Wenzel
@{" Re: Coding for piracy... " Link "Mail_65"}      Yves Grabowsky
@{" Re: Coding for piracy... " Link "Mail_66"}      Tim Hanson
@{" Re: Coding for piracy... " Link "Mail_67"}      troy silvey
@{" Re: Coding for piracy... " Link "Mail_68"}      Peter Carlsson
@{" Re: Coding for piracy... " Link "Mail_69"}      Jarno van der Linden
@{" Re: Coding for piracy... " Link "Mail_70"}      Ben Hutchings
@{" Conflicting integer sizes :( " Link "Mail_71"}      Fabrice Rousselot -- Paris
@{" AW: [amiga-c] Conflicting integer sizes :( " Link "Mail_72"}      Fritsch Alexander
@{" Re: AW: [amiga-c] Conflicting integer sizes :( " Link "Mail_73"}      Fabrice Rousselot -- Paris
@{" AW: [amiga-c] AW: [amiga-c] Conflicting integer sizes :( " Link "Mail_74"}      Fritsch Alexander
@{" Re: AW: [amiga-c] Conflicting integer sizes :( " Link "Mail_75"}      Jesper Svennevid
@{" Re: Counting the bits in a long " Link "Mail_76"}      Erik Eklund
@{" Re: Counting the bits in a long " Link "Mail_77"}      Colin Wenzel
@{" AW: [amiga-c] Counting the bits in a long " Link "Mail_78"}      Fritsch Alexander
@{" Re: Counting the bits in a long " Link "Mail_79"}      Jesper Svennevid
@{" Re: Counting the bits in a long " Link "Mail_80"}      Niels de Koning
@{" Re: Counting the bits in a long " Link "Mail_81"}      Niels de Koning
@{" Re: Counting the bits in a long " Link "Mail_82"}      Ben Hutchings
@{" Re: Counting the bits in a long " Link "Mail_83"}      Jesper Svennevid
@{" Re: Counting the bits in a long " Link "Mail_84"}      Jesper Svennevid
@{" Re: Counting the bits in a long " Link "Mail_85"}      James Daniels
@{" Re: Counting the bits in a long " Link "Mail_86"}      Niels de Koning
@{" Re: Counting the bits in a long " Link "Mail_87"}      Ben Hutchings
@{" AW: [amiga-c] Counting the bits in a long -> Examples " Link "Mail_88"}      Fritsch Alexander
@{" Re: Counting the bits in a long -> Examples " Link "Mail_89"}      Niels de Koning
@{" Re: Counting the bits in a long -> Examples " Link "Mail_90"}      Ben Hutchings
@{" AW: [amiga-c] Counting the bits in a long -> Examples " Link "Mail_91"}      Fritsch Alexander
@{" AW: [amiga-c] Counting the bits in a long, best cache usage " Link "Mail_92"}      Fritsch Alexander
@{" CreateNewProcTags() problem " Link "Mail_93"}      Gurer Ozen
@{" Re: CreateNewProcTags() problem " Link "Mail_94"}      Ben Hutchings
@{" Re: CreateNewProcTags() problem " Link "Mail_95"}      Gurer Ozen
@{" Re: CreateNewProcTags() problem " Link "Mail_96"}      Mike Carter
@{" Creating a library with SAS/C problem " Link "Mail_97"}      Andrija Antonijevic
@{" CyberGraphX Double Buffering ?!? " Link "Mail_98"}      Lukas Hartmann
@{" Re: Cybergraphx trouble! " Link "Mail_99"}      Daniel Schwill
@{" Cybergraphx trouble! " Link "Mail_100"}      MinuteMan
@{" Debugging " Link "Mail_101"}      andrewmarkwell@ukonline.co.uk
@{" Re: Debugging " Link "Mail_102"}      Ben Hutchings
@{" Debugging relief (Was: My computer`s gone mad) " Link "Mail_103"}      Tim Hanson
@{" Debugging: Thanx " Link "Mail_104"}      Voytek Laniewski
@{" Declaring auto variables " Link "Mail_105"}      Tim Hanson
@{" Re: Declaring auto variables " Link "Mail_106"}      Allan Odgaard
@{" Re: Declaring auto variables " Link "Mail_107"}      Ben Hutchings
@{" Device priorities " Link "Mail_108"}      Steffen
@{" Re: Device priorities " Link "Mail_109"}      Olaf Barthel
@{" Re: Device priorities " Link "Mail_110"}      Steffen
@{" Re: Device priorities " Link "Mail_111"}      Jesper Svennevid
@{" Re: Device priorities " Link "Mail_112"}      Olaf Barthel
@{" Re: Device priorities " Link "Mail_113"}      Olaf Barthel
@{" DisplayBeep " Link "Mail_114"}      Mike Carter
@{" Re: DisplayBeep " Link "Mail_115"}      Linus McCabe
@{" Re: DisplayBeep " Link "Mail_116"}      Tim Hanson
@{" Re: DisplayBeep " Link "Mail_117"}      Daniel Schwill
@{" Re: DisplayBeep " Link "Mail_118"}      Ben Hutchings
@{" DoMethod and PPC problem. " Link "Mail_119"}      Grzegorz Fitrzyk
@{" EasyRequest " Link "Mail_120"}      Darryl Hartwig
@{" Enforcer ?? " Link "Mail_121"}      Tim Hanson
@{" Re: Enforcer ?? " Link "Mail_122"}      Johnny T Nielsen
@{" Re: Enforcer ?? " Link "Mail_123"}      Linus McCabe
@{" Re: Enforcer ?? " Link "Mail_124"}      Ben Hutchings
@{" example.c " Link "Mail_125"}      Voytek Laniewski
@{" Re: example.c " Link "Mail_126"}      Felix Schwarz
@{" Re: example.c " Link "Mail_127"}      Andrew Markwell
@{" Re: example.c " Link "Mail_128"}      Ben Hutchings
@{" Re: example.c " Link "Mail_129"}      Olaf Barthel
@{" Re: example.c " Link "Mail_130"}      Rod Schnell
@{" Re: example.c " Link "Mail_131"}      Voytek Laniewski
@{" Re: example.c " Link "Mail_132"}      Olaf Barthel
@{" Re: example.c " Link "Mail_133"}      Rod Schnell
@{" Re: example.c " Link "Mail_134"}      Colin Wenzel
@{" Re: example.c " Link "Mail_135"}      Voytek Laniewski
@{" Re: example.c " Link "Mail_136"}      Voytek Laniewski
@{" Re: example.c " Link "Mail_137"}      Voytek Laniewski
@{" Re: example.c " Link "Mail_138"}      Linus McCabe
@{" Re: example.c " Link "Mail_139"}      Voytek Laniewski
@{" Re: example.c " Link "Mail_140"}      Olaf Barthel
@{" Re: example.c " Link "Mail_141"}      Daniel Schwill
@{" Re: example.c " Link "Mail_142"}      "Harry J. Miktarian"
@{" Re: example.c " Link "Mail_143"}      Ben Hutchings
@{" Re: example.c: Thanx " Link "Mail_144"}      Voytek Laniewski
@{" Re: example.c: Thanx " Link "Mail_145"}      Olaf Barthel
@{" FindHit that works with SAS/C++ 7? " Link "Mail_146"}      Ray Akey
@{" Finding the device that a volume is in " Link "Mail_147"}      Ben Hutchings
@{" Re: Finding the device that a volume is in " Link "Mail_148"}      jack york
@{" Re: Finding the device that a volume is in " Link "Mail_149"}      Ben Hutchings
@{" Re: Finding the device that a volume is in " Link "Mail_150"}      Olaf Barthel
@{" Re: Finding the device that a volume is in " Link "Mail_151"}      Ben Hutchings
@{" Gamesmith GDS " Link "Mail_152"}      John Jans
@{" GA_RelRight " Link "Mail_153"}      sooozes_guy@hotmail.com
@{" Re: GA_RelRight " Link "Mail_154"}      Daniel Schwill
@{" Getting a list of devices.. " Link "Mail_155"}      Kevin Bewley
@{" Re: Getting a list of devices.. " Link "Mail_156"}      David McMinn
@{" Re: Getting a list of devices.. " Link "Mail_157"}      Colin Wenzel
@{" Re: Getting a list of devices.. " Link "Mail_158"}      Ben Hutchings
@{" Ghost Image Queery " Link "Mail_159"}      Colin Wenzel
@{" Re: Ghost Image Queery " Link "Mail_160"}      Mike Carter
@{" GT_SetGadgetAttrs() Bugged? " Link "Mail_161"}      Tim Hanson
@{" Re: GT_SetGadgetAttrs() Bugged? " Link "Mail_162"}      Daithi O'Cuinn
@{" Highlighting selection in gadtools listview " Link "Mail_163"}      Ben Hutchings
@{" Re: Highlighting selection in gadtools listview " Link "Mail_164"}      Andrija Antonijevic
@{" Re: Highlighting selection in gadtools listview " Link "Mail_165"}      Ben Hutchings
@{" IDCMP_MOUSEBUTTONS and Mungwall " Link "Mail_166"}      Felix Schwarz
@{" ImageManager.library proposal " Link "Mail_167"}      Allan Odgaard
@{" Re: Library pointers " Link "Mail_168"}      Tim Hanson
@{" Library pointers " Link "Mail_169"}      Gabriele Svelto
@{" Re: Library pointers " Link "Mail_170"}      Ben Hutchings
@{" Re: Library pointers " Link "Mail_171"}      Andrew Markwell
@{" Re: Library pointers " Link "Mail_172"}      Allan Odgaard
@{" Re: Library pointers " Link "Mail_173"}      Tim Hanson
@{" Re: Library pointers " Link "Mail_174"}      Allan Odgaard
@{" Re: Library pointers " Link "Mail_175"}      Ben Hutchings
@{" Re: Library pointers " Link "Mail_176"}      Linus McCabe
@{" Re: Library pointers " Link "Mail_177"}      Tim Hanson
@{" linked list " Link "Mail_178"}      Bob Lanham
@{" Re: linked list " Link "Mail_179"}      Steven Solie
@{" Re: linked list " Link "Mail_180"}      Andrew Markwell
@{" Re: linked list " Link "Mail_181"}      Ben Hutchings
@{" Re: linked list " Link "Mail_182"}      Rod Schnell
@{" Re: linked list " Link "Mail_183"}      Bob Lanham
@{" Loading a text file into a textfield " Link "Mail_184"}      Nick Cook
@{" Re: Loading a text file into a textfield " Link "Mail_185"}      Fredrik Söderberg
@{" Re: Loading a text file into a textfield " Link "Mail_186"}      Nick Cook
@{" Make util " Link "Mail_187"}      W1bBle
@{" Re: Make util " Link "Mail_188"}      Volker Barthelmann
@{" Re: Make util " Link "Mail_189"}      James S Perrin
@{" Re: Make util " Link "Mail_190"}      Mike Carter
@{" Re: Make util " Link "Mail_191"}      Allan Odgaard
@{" Max Size of a Pathname " Link "Mail_192"}      Christian Hattemer
@{" Re: Max Size of a Pathname " Link "Mail_193"}      Rod Schnell
@{" Re: Max Size of a Pathname " Link "Mail_194"}      Allan Odgaard
@{" Re: Max Size of a Pathname " Link "Mail_195"}      Christian Hattemer
@{" Re: Max Size of a Pathname " Link "Mail_196"}      Andrew Markwell
@{" Re: Max Size of a Pathname " Link "Mail_197"}      Tim Hanson
@{" Re: Max Size of a Pathname " Link "Mail_198"}      Ben Hutchings
@{" Re: Max Size of a Pathname " Link "Mail_199"}      Ben Hutchings
@{" Re: Max Size of a Pathname " Link "Mail_200"}      Rod Schnell
@{" Re: Max Size of a Pathname " Link "Mail_201"}      Andrew Markwell
@{" Re: Max Size of a Pathname " Link "Mail_202"}      Ben Hutchings
@{" Messages from multiple windows. " Link "Mail_203"}      Tim Hanson
@{" Re: Messages from multiple windows. " Link "Mail_204"}      Ben Hutchings
@{" Re: Messages from multiple windows. " Link "Mail_205"}      Richard Drummond
@{" More Warpos VBCC troubles " Link "Mail_206"}      Daithi O'Cuinn
@{" Re: More Warpos VBCC troubles " Link "Mail_207"}      Daniel Schwill
@{" Re: More Warpos VBCC troubles " Link "Mail_208"}      Daithi O'Cuinn
@{" Re: Motorola manuals " Link "Mail_209"}      Jesper Svennevid
@{" mp3 datatype " Link "Mail_210"}      Mike Carter
@{" Re: mp3 datatype " Link "Mail_211"}      Stephen Williams
@{" Re: mp3 datatype " Link "Mail_212"}      Mike Carter
@{" Re: mp3 datatype " Link "Mail_213"}      Olaf Barthel
@{" Re: mp3 datatype " Link "Mail_214"}      Andrija Antonijevic
@{" Re: mp3 datatype " Link "Mail_215"}      Mike Carter
@{" Re: mp3 datatype " Link "Mail_216"}      Stephen Williams
@{" Re: mp3 datatype " Link "Mail_217"}      Olaf Barthel
@{" Re: MUI balooey. " Link "Mail_218"}      Mike Carter
@{" MUI GUI examples " Link "Mail_219"}      Mike Carter
@{" Re: MUI GUI examples " Link "Mail_220"}      Christian Hattemer
@{" Re: MUI mailing list " Link "Mail_221"}      Mike Carter
@{" MUI mailing list " Link "Mail_222"}      Mike Carter
@{" Re: MUI mailing list " Link "Mail_223"}      Linus McCabe
@{" MUI mailing list (was: [amiga-c] MUI string notify) " Link "Mail_224"}      Daniel Schwill
@{" Re: MUI mailing list (was: [amiga-c] MUI string notify) " Link "Mail_225"}      Mike Carter
@{" MUI string notify " Link "Mail_226"}      Mike Carter
@{" Re: MUI string notify " Link "Mail_227"}      Christian Hattemer
@{" Re: MUI string notify " Link "Mail_228"}      Mike Carter
@{" Re: MUI string notify " Link "Mail_229"}      Christian Hattemer
@{" MUIBuilder & vbcc... " Link "Mail_230"}      "Andrzej J. Debicki"
@{" Re: MUIBuilder & vbcc... " Link "Mail_231"}      Yves Grabowsky
@{" Multithreaded server " Link "Mail_232"}      Felix Schwarz
@{" Re: Multithreaded server " Link "Mail_233"}      Jesper Svennevid
@{" My computer`s gone mad. " Link "Mail_234"}      Tim Hanson
@{" Re: My computer`s gone mad. " Link "Mail_235"}      Yves Grabowsky
@{" Re: My computer`s gone mad. " Link "Mail_236"}      Colin Wenzel
@{" Re: My computer`s gone mad. " Link "Mail_237"}      Linus McCabe
@{" Re: My computer`s gone mad. " Link "Mail_238"}      Tim Hanson
@{" Re: My computer`s gone mad. " Link "Mail_239"}      Tim Hanson
@{" Re: My computer`s gone mad. " Link "Mail_240"}      Andrew Markwell
@{" Re: My computer`s gone mad. " Link "Mail_241"}      Colin Wenzel
@{" Re: My computer`s gone mad. " Link "Mail_242"}      Yves Grabowsky
@{" Off topic but funny " Link "Mail_243"}      ROBERT MEYERS
@{" Off topic: RAM " Link "Mail_244"}      Steffen
@{" oh, no.. more global variable probs " Link "Mail_245"}      Linus McCabe
@{" Re: oh, no.. more global variable probs " Link "Mail_246"}      Olaf Barthel
@{" Re: oh, no.. more global variable probs " Link "Mail_247"}      Jarno van der Linden
@{" Re: oh, no.. more global variable probs " Link "Mail_248"}      Olaf Barthel
@{" Re: oh, no.. more global variable probs " Link "Mail_249"}      Linus McCabe
@{" Re: oh, no.. more global variable probs " Link "Mail_250"}      Daniel Schwill
@{" Re: oh, no.. more global variable probs " Link "Mail_251"}      Linus McCabe
@{" Passing arrays to and from a function.. " Link "Mail_252"}      Kevin Bewley
@{" Re: Passing arrays to and from a function.. " Link "Mail_253"}      Jesper Svennevid
@{" AW: [amiga-c] Passing arrays to and from a function.. " Link "Mail_254"}      Fritsch Alexander
@{" Re: Passing arrays to and from a function.. " Link "Mail_255"}      Jesper Svennevid
@{" AW: [amiga-c] Passing arrays to and from a function.. " Link "Mail_256"}      Fritsch Alexander
@{" Re: AW: [amiga-c] Passing arrays to and from a function.. " Link "Mail_257"}      Jesper Svennevid
@{" Re: Passing arrays to and from a function.. " Link "Mail_258"}      Rod Schnell
@{" Re: Passing arrays to and from a function.. " Link "Mail_259"}      Tim Hanson
@{" Re: AW: [amiga-c] Passing arrays to and from a function.. " Link "Mail_260"}      Steffen
@{" Re: Passing arrays to and from a function.. " Link "Mail_261"}      Ben Hutchings
@{" Re: AW: [amiga-c] Passing arrays to and from a function.. " Link "Mail_262"}      Ben Hutchings
@{" Re: Passing arrays to and from a function.. " Link "Mail_263"}      Rod Schnell
@{" Re: AW: [amiga-c] Passing arrays to and from a function.. " Link "Mail_264"}      Steffen
@{" Re: AW: [amiga-c] Passing arrays to and from a function.. " Link "Mail_265"}      Ben Hutchings
@{" Re: Passing arrays to and from a function.. " Link "Mail_266"}      Steffen
@{" AW: [amiga-c] Passing arrays to and from a function.. " Link "Mail_267"}      Fritsch Alexander
@{" Re: Passing arrays to and from a function.. " Link "Mail_268"}      Ben Hutchings
@{" Re: Passing arrays to and from a function.. " Link "Mail_269"}      Ben Hutchings
@{" Please completely ignore this message testing new mailer " Link "Mail_270"}      Tim Hanson
@{" Q: Debugging " Link "Mail_271"}      Voytek Laniewski
@{" Re: Q: Debugging " Link "Mail_272"}      Andrew Markwell
@{" Re: Q: Debugging " Link "Mail_273"}      Tim Hanson
@{" Re: Q: Debugging " Link "Mail_274"}      Ben Hutchings
@{" Re: Q: Debugging " Link "Mail_275"}      Olaf Barthel
@{" Re: Q: Debugging " Link "Mail_276"}      Olaf Barthel
@{" Re: Q: Debugging " Link "Mail_277"}      Rod Schnell
@{" Re: Q: Debugging " Link "Mail_278"}      Rod Schnell
@{" Re: Q: Debugging " Link "Mail_279"}      Olaf Barthel
@{" Re: Q: Debugging " Link "Mail_280"}      Olaf Barthel
@{" Re: Q: Debugging " Link "Mail_281"}      Rod Schnell
@{" Re: Q: Debugging " Link "Mail_282"}      Rod Schnell
@{" Re: Q: Debugging " Link "Mail_283"}      Tim Hanson
@{" Re: Q: Debugging " Link "Mail_284"}      Voytek Laniewski
@{" Re: Q: Debugging " Link "Mail_285"}      Voytek Laniewski
@{" Re: Q: Debugging " Link "Mail_286"}      Voytek Laniewski
@{" Re: Q: Debugging " Link "Mail_287"}      Voytek Laniewski
@{" Re: Q: Debugging " Link "Mail_288"}      Voytek Laniewski
@{" Re: Q: Debugging " Link "Mail_289"}      Jesper Svennevid
@{" Re: Q: Debugging " Link "Mail_290"}      Allan Odgaard
@{" Re: Q: Debugging " Link "Mail_291"}      Tim Hanson
@{" Re: Q: Debugging " Link "Mail_292"}      Christian Hattemer
@{" Re: Q: Debugging " Link "Mail_293"}      Ben Hutchings
@{" Quake2 " Link "Mail_294"}      Mike Carter
@{" Re: Quake2 " Link "Mail_295"}      Linus McCabe
@{" Re: Quake2 " Link "Mail_296"}      Andrew Markwell
@{" Re: Quake2 " Link "Mail_297"}      Erik Eklund
@{" Re: Quake2 " Link "Mail_298"}      Fabien
@{" Re: Quake2 " Link "Mail_299"}      Mike Carter
@{" redirecting STDOUT " Link "Mail_300"}      Tim Hanson
@{" Re: redirecting STDOUT " Link "Mail_301"}      Linus McCabe
@{" Re: redirecting STDOUT " Link "Mail_302"}      Tim Hanson
@{" Re: redirecting STDOUT " Link "Mail_303"}      Ben Hutchings
@{" Re: Replying " Link "Mail_304"}      Jesper Svennevid
@{" Replying " Link "Mail_305"}      andrewmarkwell@ukonline.co.uk
@{" Re: Replying " Link "Mail_306"}      Steffen
@{" Re: Replying " Link "Mail_307"}      Andrew Markwell
@{" Requesters " Link "Mail_308"}      Mike Carter
@{" Re: Requesters " Link "Mail_309"}      Ben Hutchings
@{" Re: Requesters " Link "Mail_310"}      David McMinn
@{" Re: Requesters " Link "Mail_311"}      Jesper Svennevid
@{" Re: Requesters " Link "Mail_312"}      David McMinn
@{" Re: Requesters " Link "Mail_313"}      Jesper Svennevid
@{" Re: Requesters " Link "Mail_314"}      David McMinn
@{" screenclosing patch " Link "Mail_315"}      Linus McCabe
@{" Re: screenclosing patch " Link "Mail_316"}      Yves Grabowsky
@{" Re: screenclosing patch " Link "Mail_317"}      Linus McCabe
@{" Shells " Link "Mail_318"}      Mike Carter
@{" Re: Shells " Link "Mail_319"}      Stephen Williams
@{" Re: Shells " Link "Mail_320"}      Mike Carter
@{" Re: Shells " Link "Mail_321"}      Stephen Williams
@{" Shells was: Re: Q: Debugging " Link "Mail_322"}      Voytek Laniewski
@{" Re: Shells was: Re: Q: Debugging " Link "Mail_323"}      Jesper Svennevid
@{" Re: Shells was: Re: Q: Debugging " Link "Mail_324"}      Voytek Laniewski
@{" Re: Shells was: Re: Q: Debugging " Link "Mail_325"}      Andrija Antonijevic
@{" Re: Shells was: Re: Q: Debugging " Link "Mail_326"}      Ben Hutchings
@{" Spam? " Link "Mail_327"}      Allan Odgaard
@{" Re: Spam? " Link "Mail_328"}      Steffen
@{" Re: Spam? " Link "Mail_329"}      Rod Schnell
@{" Re: Spam? " Link "Mail_330"}      Stephen Williams
@{" Re: Spam? " Link "Mail_331"}      Allan Odgaard
@{" Re: Spam? " Link "Mail_332"}      Ben Hutchings
@{" Re: Spreadsheet MUI " Link "Mail_333"}      Jarno van der Linden
@{" Re: Spreadsheet MUI " Link "Mail_334"}      Mike Carter
@{" Re: Spreadsheet MUI " Link "Mail_335"}      Linus McCabe
@{" Re: Spreadsheet MUI " Link "Mail_336"}      Jarno van der Linden
@{" Re: Spreadsheet MUI " Link "Mail_337"}      Linus McCabe
@{" Stange problem " Link "Mail_338"}      jack york
@{" Stange problem " Link "Mail_339"}      jack york
@{" Still serial device troubles " Link "Mail_340"}      Jonas Hulten
@{" Re: Still serial device troubles " Link "Mail_341"}      Colin Wenzel
@{" Re: Still serial device troubles " Link "Mail_342"}      Jonas Hulten
@{" Re: Still serial device troubles " Link "Mail_343"}      Mike Carter
@{" Re: Still serial device troubles " Link "Mail_344"}      John Niclasen
@{" Re: Still serial device troubles " Link "Mail_345"}      Steffen
@{" Re: Still serial device troubles " Link "Mail_346"}      Chris Pratt
@{" Re: Still serial device troubles " Link "Mail_347"}      Jonas Hulten
@{" Re: Still serial device troubles " Link "Mail_348"}      Jonas Hulten
@{" Re: Still serial device troubles " Link "Mail_349"}      Ben Hutchings
@{" Re: Still serial device troubles " Link "Mail_350"}      Jonas Hulten
@{" Re: Still serial device troubles " Link "Mail_351"}      Colin Wenzel
@{" AW: [amiga-c] Still serial device troubles " Link "Mail_352"}      Fritsch Alexander
@{" Re: AW: [amiga-c] Still serial device troubles " Link "Mail_353"}      Colin Wenzel
@{" Re: Still serial device troubles " Link "Mail_354"}      Ben Hutchings
@{" Re: Still serial device troubles " Link "Mail_355"}      Ben Hutchings
@{" StormC & Hooks " Link "Mail_356"}      Stuart Kelly
@{" Re: StormC & Hooks " Link "Mail_357"}      Yves Grabowsky
@{" Re: StormC & Hooks " Link "Mail_358"}      Linus McCabe
@{" Re: StormC & Hooks " Link "Mail_359"}      Stuart Kelly
@{" Strange problem " Link "Mail_360"}      Serge Tumanyan
@{" Re: Strange problem " Link "Mail_361"}      Bob Lanham
@{" Re: Strange problem " Link "Mail_362"}      Ben Hutchings
@{" Re: Strange problem " Link "Mail_363"}      Serge Tumanyan
@{" Re: Strange problem " Link "Mail_364"}      Serge Tumanyan
@{" Re: Strange problem " Link "Mail_365"}      Tim Hanson
@{" Re: Strange problem " Link "Mail_366"}      Ben Hutchings
@{" Re: Strange problem " Link "Mail_367"}      Linus McCabe
@{" Re: Strange problem " Link "Mail_368"}      Mike Carter
@{" sub-structure dereferencing " Link "Mail_369"}      ROBERT MEYERS
@{" Re: sub-structure dereferencing " Link "Mail_370"}      Allan Odgaard
@{" sub-structure dereferencing " Link "Mail_371"}      ROBERT MEYERS
@{" Re: sub-structure dereferencing " Link "Mail_372"}      Rod Schnell
@{" Re: sub-structure dereferencing " Link "Mail_373"}      Ben Hutchings
@{" Re: SystemTags() " Link "Mail_374"}      Mike Carter
@{" Text file lines " Link "Mail_375"}      Mike Carter
@{" Re: Text file lines " Link "Mail_376"}      Christian Hattemer
@{" Re: Text file lines " Link "Mail_377"}      Mike Carter
@{" Re: Text file lines " Link "Mail_378"}      Allan Odgaard
@{" Re: Text file lines " Link "Mail_379"}      Ben Hutchings
@{" Re: Text file lines " Link "Mail_380"}      Mike Carter
@{" Re: Text file lines " Link "Mail_381"}      Ray Akey
@{" Re: Text file lines " Link "Mail_382"}      Christian Hattemer
@{" Re: Text file lines " Link "Mail_383"}      Christian Hattemer
@{" Re: Text file lines " Link "Mail_384"}      Rod Schnell
@{" Re: Text file lines " Link "Mail_385"}      Ben Hutchings
@{" Re: Text file lines " Link "Mail_386"}      Allan Odgaard
@{" Re: Text file lines " Link "Mail_387"}      Christian Hattemer
@{" Re: Text file lines " Link "Mail_388"}      Rod Schnell
@{" Re: Text file lines " Link "Mail_389"}      Allan Odgaard
@{" Re: Text file lines " Link "Mail_390"}      Christian Hattemer
@{" Thanks4Helping[was: Beginner's Woes] " Link "Mail_391"}      David Crawford
@{" Re: Thanks4Helping[was: Beginner's Woes] " Link "Mail_392"}      Andrew Markwell
@{" Re: Thanks4Helping[was: Beginner's Woes] " Link "Mail_393"}      Daniel Schwill
@{" Re: Thanks4Helping[was: Beginner's Woes] " Link "Mail_394"}      Felix Schwarz
@{" Re: Thanks4Helping[was: Beginner's Woes] " Link "Mail_395"}      David Crawford
@{" Re: Thanks4Helping[was: Beginner's Woes] " Link "Mail_396"}      Mike Carter
@{" Re: Thanks4Helping[was: Beginner's Woes] " Link "Mail_397"}      Linus McCabe
@{" Re: Thanks4Helping[was: Beginner's Woes] " Link "Mail_398"}      David Crawford
@{" Re: Titlebar " Link "Mail_399"}      Felix Schwarz
@{" Re: titlebar (was example.c) " Link "Mail_400"}      Linus McCabe
@{" troubleshooting help " Link "Mail_401"}      jack york
@{" Re: troubleshooting help " Link "Mail_402"}      Rod Schnell
@{" Re: troubleshooting help " Link "Mail_403"}      Jesper Svennevid
@{" Re: troubleshooting help " Link "Mail_404"}      jack york
@{" Re: troubleshooting help " Link "Mail_405"}      jack york
@{" variable args " Link "Mail_406"}      Duncan Strand
@{" Re: variable args " Link "Mail_407"}      Ben Hutchings
@{" Re: variable args " Link "Mail_408"}      Duncan Strand
@{" VBCC troubles " Link "Mail_409"}      Daithi O'Cuinn
@{" Re: VBCC troubles " Link "Mail_410"}      Jonas Hulten
@{" Re: VBCC troubles " Link "Mail_411"}      Daithi O'Cuinn
@{" Re: VBCC troubles " Link "Mail_412"}      Jonas Hulten
@{" Re: VBCC troubles " Link "Mail_413"}      Daniel Schwill
@{" Re: VBCC troubles " Link "Mail_414"}      Volker Barthelmann
@{" Re: VBCC troubles " Link "Mail_415"}      Daithi O'Cuinn
@{" Won't compile - why? " Link "Mail_416"}      Chris Pratt
@{" Re: Won't compile - why? " Link "Mail_417"}      Volker Barthelmann
@{" WorkBench startup problems " Link "Mail_418"}      Tim Hanson
@{" Re: WorkBench startup problems " Link "Mail_419"}      Tim Hanson
@{" Re: WorkBench startup problems " Link "Mail_420"}      Ben Hutchings
@{" Re: WorkBench startup problems " Link "Mail_421"}      Tim Hanson
@{" Re: WorkBench startup problems " Link "Mail_422"}      Ben Hutchings
@{" Re: WorkBench startup problems " Link "Mail_423"}      Tim Hanson
@{" Re: WorkBench startup problems " Link "Mail_424"}      Ben Hutchings
@ENDNODE
@NODE "Mail_0" " AW:  Counting the bits in a long -> Examples 2 "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 06-03-99 12:12:48
Subject: @{b}AW:  Counting the bits in a long -> Examples 2@{ub}

here is another and propably little better function:


unsigned char LookUpTable64k[0x10000];

void InitLookUpTable64k(void)
{
 unsigned long i;
 unsigned int Value;
 for(i=0;i<0x10000;i++)
 {
  LookUpTable64k[i]=0;
  for( Value=i ; Value; Value>>=1)
  {
   LookUpTable64k[i]+=(Value&0x01);
  }
 }
}



/* Size is the number of longs in the Buffer */

unsigned long CountBits7(unsigned long *Buffer, unsigned long Size)
{
 unsigned long Result=0, Value;
 unsigned long *BufferEnd=Buffer+Size;

 for( ;Buffer < BufferEnd; )
 {
  Value=*Buffer++;
  Result+=LookUpTable64k[   Value&0x0000ffff  ];
  Result+=LookUpTable64k[   Value >> 16 ];
 }
 return Result;
}

Here is the updated example source again:

 <<bitcount.c>> 

Kind Regards Alexander Fritsch
===========================================================2: bitcount.c
[1mContent-Type:[0m binary file   [1mSize:[0m 9768 bytes
@ENDNODE
@NODE "Mail_1" " #define vs. const "
From: "Harry J. Miktarian" <im007@jps.net>
Date: 06-22-99 22:31:13
Subject: @{b}#define vs. const@{ub}

From: "Harry J. Miktarian" <im007@jps.net>

Hello,

  My question is, which is the better choice to declare a constant in a
function?  Is it better to use #define or const.  I'm currently using
#define for a constant that appears only in one function.  


-----------------------------------------------------------
                                     Kind Regards,

                                    Harry Miktarian




--------------------------- ONElist Sponsor ----------------------------

ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_2" " Re: #define vs. const "
From: John Niclasen <Niclasen@bigfoot.com>
Date: 06-23-99 00:19:12
Subject: @{b}Re: #define vs. const@{ub}

From: John Niclasen <Niclasen@bigfoot.com>

Hi Harry!

On 22-Jun-99, Harry J. Miktarian wrote:
>  My question is, which is the better choice to declare
> a constant in a function? Is it better to use #define or
> const. I'm currently using #define for a constant that
> appears only in one function.

Hmmm, that's a feeling. I normally use #define's for
constants, that is kind of generel (appears in more than
one function), but I think you get a feeling about those
after programming in C for a while. It's not very
difficult to learn a new language (if you know a few
other languages), but it take years to really get into
it; to feel the different aspects of the language.

But what the heck! It's not difficult for you to change it
later, since you only use that constant in one function.
Forget it by now and get on with your coding.

Bye
John Niclasen
Denmark.


--------------------------- ONElist Sponsor ----------------------------

Books, music, videos, gifts, e-cards, auctions-find them at AMAZON.COM.
Browse Earth's Biggest Selection!  Enjoy everyday savings of up to 50%!
<a href=" http://clickme.onelist.com/ad/amazon1 ">Click Here</a>

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_3" " Re: #define vs. const "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 06-23-99 00:45:04
Subject: @{b}Re: #define vs. const@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 22-Jun-99 Harry J. Miktarian wrote:

>  My question is, which is the better choice to declare a constant in a
> function?  Is it better to use #define or const.  I'm currently using
> #define for a constant that appears only in one function.  

I don't really know, but I would guess that #define is better.

With #define it's a real constant as if you wrote it there by hand, while a
const variable is still a variable and might need a memory access everytime
it's used.

Any compiler experts here to confirm that?


As a second Point you would have to make a constant variable global if it's
needed in more than one Function. This is no good style, then #define
should be used.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

2B OR NOT 2B = FF


--------------------------- ONElist Sponsor ----------------------------

Congratulations to "Make_A_Child_Smile," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_4" " Re: #define vs. const "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 06-23-99 01:35:47
Subject: @{b}Re: #define vs. const@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

I use #define for the compilation like:

#ifndef  STRINGX_H
#define  STRINGX_H TRUE
#include <stringx.h>
#endif

and const for variables in my program:

const  long double  pi=3.14159;

It makes it possible for me to distinct between what is compiler info,
and what is program info. Otherwise, the constants i use in my
program, would look like compiler info. I advise you to use const for
variables used in your program.
Under all circumstances, using both #define and const gives more
possibilities than just using #define.
For other constant expressions, you might want to use enum instead.



On 22-Jun-99, Harry J. Miktarian claimed:
>From: "Harry J. Miktarian" <im007@jps.net>

>Hello,

>  My question is, which is the better choice to declare a constant in a
>function?  Is it better to use #define or const.  I'm currently using
>#define for a constant that appears only in one function.  


>-- 
>                                     Kind Regards,

>                                    Harry Miktarian


--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
Check out the new "DEFAULT MODERATED STATUS" option.  See homepage.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_5" " Re: #define vs. const "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 06-23-99 01:43:54
Subject: @{b}Re: #define vs. const@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Wed, 23 Jun 1999, Christian Hattemer wrote:

> With #define it's a real constant as if you wrote it there by hand, while a
> const variable is still a variable and might need a memory access everytime
> it's used.
> 
> Any compiler experts here to confirm that?

Using #define every compiler will recognize it as a constant and generate
according code.

For const variables within a function compilers doing global optimizations
will replace it by a constant (usually also if you leave out the 'const').

Only a few compilers replace const variables that are defined outside a
function. vbcc does it and recent versions of egcs/gcc also do it, I
think. The other Amiga compilers didn't do it last time I checked.

Volker


--------------------------- ONElist Sponsor ----------------------------

Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_6" " Re: #define vs. const "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 06-23-99 03:22:06
Subject: @{b}Re: #define vs. const@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 23-Jun-99, Christian Hattemer wrote:

> With #define it's a real constant as if you wrote it there by hand, while a
> const variable is still a variable and might need a memory access everytime
> it's used.

> Any compiler experts here to confirm that?

If my compiler did that, I'd report it as a bug :-)

I'd say that a define is something you use when you want to change the
constant, without really caring about the function, for example if you use a
constant name as the public screen to open upon, then this is probably best to
have as a define, in the top of your source, because you don't want to locate
the function, each time you want to change it. But if you instead have a
constant matrix, which is used in a mathematical computation, then it doesn't
make sense to promote this to a define...

Regards Allan
-----------------------------------------------------------
   Email: Duff@DIKU.DK
     URL: http://www.DIKU.dk/students/duff/


--------------------------- ONElist Sponsor ----------------------------

ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_7" " Re: #define vs. const "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 06-23-99 04:17:58
Subject: @{b}Re: #define vs. const@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

It seems we can just concentrate on the source and let the optimizer
do the optimization.

On 23-Jun-99, Volker Barthelmann claimed:
>From: Volker Barthelmann <volker@vb.franken.de>

>On Wed, 23 Jun 1999, Christian Hattemer wrote:

>> With #define it's a real constant as if you wrote it there by hand, while a
>> const variable is still a variable and might need a memory access everytime
>> it's used.
>> 
>> Any compiler experts here to confirm that?

>Using #define every compiler will recognize it as a constant and generate
>according code.

>For const variables within a function compilers doing global optimizations
>will replace it by a constant (usually also if you leave out the 'const').

>Only a few compilers replace const variables that are defined outside a
>function. vbcc does it and recent versions of egcs/gcc also do it, I
>think. The other Amiga compilers didn't do it last time I checked.

>Volker


--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
We've just added a "NO ATTACHMENTS" option.  See homepage for details.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_8" " Re: #define vs. const "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 06-23-99 04:19:01
Subject: @{b}Re: #define vs. const@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

On 23-Jun-99, Christian Hattemer claimed:
>From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

>On 22-Jun-99 Harry J. Miktarian wrote:

>>  My question is, which is the better choice to declare a constant in a
>> function?  Is it better to use #define or const.  I'm currently using
>> #define for a constant that appears only in one function.  

>I don't really know, but I would guess that #define is better.
>With #define it's a real constant as if you wrote it there by hand, while a
>const variable is still a variable and might need a memory access everytime
>it's used.
>Any compiler experts here to confirm that?
I'm not that expert, but you're probably right. But hey, we're talking
about a couple of clock-cycles. And when you ask questions about
whether to use #define or const, it's pointless to start counting
clock-cycles. Especially as a beginner, you should concentrate on the
source, not the code.

>As a second Point you would have to make a constant variable global if it's
>needed in more than one Function. This is no good style, then #define
>should be used.
But isn't #define just as global as a global const ?

>Bye, Chris
CYA, Steffen


--------------------------- ONElist Sponsor ----------------------------

ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_9" " Re: #define vs. const "
From: Tim Corringham <tim@ramjam.u-net.com>
Date: 06-23-99 12:19:24
Subject: @{b}Re: #define vs. const@{ub}

From: tim@ramjam.u-net.com (Tim Corringham)

Hi Christian

> >  My question is, which is the better choice to declare a constant in a
> > function?  Is it better to use #define or const.  I'm currently using
> > #define for a constant that appears only in one function.
>
> I don't really know, but I would guess that #define is better.
>
> With #define it's a real constant as if you wrote it there by hand, while a
> const variable is still a variable and might need a memory access everytime
> it's used.
>
> Any compiler experts here to confirm that?

<compiler writer mode>

The important distinction to be aware of between #defines and const
items, is that all preprocessor operations are simple textual operations.
The C (and therefore C++) preprocessor is just like a text editor,
it can include other files (#include), it can make textual replacements
(#define), and it can delete text (#if).

The resulting text with the operations specified completed is then
passed to the C (or C++ compiler). The compiler per se never sees
the #defines etc. The defined items are simply replaced in the program
text with the corresponding values.

Now, when you define a variable using const, you tell the compiler
not only the type of the item, but also something about how you intend
it to be used (note that there are subtle differences in the meaning
of const between C and C++). In some cases using a const variable can
result in better executable code than using a literal value.

Personally, when using C, I'd use #defines for constant literals - this
is very portable, while not all C compilers handle const well.

When using C++ however, I'd try to use the preprocessor as little as
possible. It's an anachronism which should be removed from the language
as soon as possible. C++ now contains language features which allow
most of the tricks that the proprocessor is used for to be done in a
more elegant, and safer, way.

For instance an initialised const variable instead of a #define, or
a template instead of a more complex macro.

> As a second Point you would have to make a constant variable global if it's
> needed in more than one Function. This is no good style, then #define
> should be used.

For C++ there should be no problem putting initialised const variables
in a header file which can be included in any file which needs them
(in much the same way as #defines in C). Most compilers will handle
these just as for literal values in almost all cases.

  Tim

--
======================================================================
Tim Corringham                            e-mail: tim@ramjam.u-net.com
Ramjam Consultants Ltd                       tel:  +44 (0)118 946 5940
Reading, England                             fax:  +44 (0)118 946 5941



--------------------------- ONElist Sponsor ----------------------------

Books, music, videos, gifts, e-cards, auctions-find them at AMAZON.COM.
Browse Earth's Biggest Selection!  Enjoy everyday savings of up to 50%!
<a href=" http://clickme.onelist.com/ad/amazon1 ">Click Here</a>

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_10" " Re: #define vs. const "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-24-99 22:30:59
Subject: @{b}Re: #define vs. const@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Jun 23, 1999 at 04:19:01AM +0100, Steffen wrote:
> From: Steffen <steffen.mars@stenloese.mail.telia.com>
> 
> On 23-Jun-99, Christian Hattemer claimed:
<snip>
> >As a second Point you would have to make a constant variable global if it's
> >needed in more than one Function. This is no good style, then #define
> >should be used.
> But isn't #define just as global as a global const ?

Right - and it's even worse, because it's (notionally) processed in
a separate pass which does not obey scoping rules.

Enumerations are useful as an alternative to pre-processor macros that
are just integer constants.

A good compiler should be able to optimise static const integers
inline in the compilation unit they are defined in.  I think that with
C++ you can define them in a header included in multiple compilation
units but only store the value once; that way the value is visible and
can be inlined in all compilation units.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
A free society is one where it is safe to be unpopular. - Adlai Stevenson

--------------------------- ONElist Sponsor ----------------------------

Looking to expand your world?
http://www.onelist.com
ONElist has 175,000 e-mail communities from which to choose!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_11" " (Fwd) failure notice "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-14-99 23:18:49
Subject: @{b}(Fwd) failure notice@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Re: [amiga-c] Quake2 interested me.  Here's some more to think about...

> Presumably it is an illegal copy of the source code, any port would be against
> the law.

Well assumed!  But how can thinks like this happen so much?

DInky do,

Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c


------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of 170,000 e-mail communities at ONElist!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_12" " (no subject) "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-12-99 21:32:29
Subject: @{b}(no subject)@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>


    Hi Ben,
        Just double checked and you`re right about the wb_Name only containing
the actual file name not the path. So cheers for that as well. Back to the old
ironing board.

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_13" " (no subject) "
From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
Date: 06-26-99 20:59:03
Subject: @{b}(no subject)@{ub}

From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

=?iso-8859-1?Q?Date?=
Date: Sat, 26 Jun 1999 20:54:37 +0000
Message-ID: <yam7846.1892.2016593584@post.demon.co.uk>
X-Mailer: YAM 2.0Preview7 [020] - Amiga Mailer by Marcel Beck - http://www.yam.ch
Organization: cluke
Subject: Need WritePixelArray examples
MIME-Version: 1.0
Content-Type: text/plain

Hello,

Does anyone know where I can get some example code for the WPA8 function? I
want to use it in a program, but am getting bogged down at the bit where you
need to create a temporary rastport for it, and also I'm not sure what format
the array needs to be in (what is allocate
(((width+15)>>4)<<1)*(ystop-ystart+1)) bytes all about?)

Thanks,
-----------------------------------------------------------
Daithi O'Cuinn
docuinn@cluke.demon.co.uk


--------------------------- ONElist Sponsor ----------------------------

Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of 175,000 e-mail communities at ONElist!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_14" " Re: (no subject) "
From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
Date: 06-26-99 22:18:31
Subject: @{b}Re: (no subject)@{ub}

From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

Hello Daithi

On 26-Jun-99, Daithi O'Cuinn wrote:
> From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
> 
> =?iso-8859-1?Q?Date?= Date: Sat, 26 Jun 1999 20:54:37 +0000 Message-ID:
> <yam7846.1892.2016593584@post.demon.co.uk> X-Mailer: YAM 2.0Preview7 [020] -
> Amiga Mailer by Marcel Beck - http://www.yam.ch Organization: cluke
> Subject: Need WritePixelArray examples MIME-Version: 1.0
> Content-Type: text/plain

Err, sorry about the strange mail format, YAM seems to have thrown a bit of a
wobbly on me...

Regards
-----------------------------------------------------------
Daithi O'Cuinn
docuinn@cluke.demon.co.uk


--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
We've just added a "NO ATTACHMENTS" option.  See homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_15" " Re: (no subject) "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-27-99 09:53:16
Subject: @{b}Re: (no subject)@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 26 Daithi (Daithi O'Cuinn) wrote:

> Hello,
> 
> Does anyone know where I can get some example code for the WPA8 function? I
> want to use it in a program, but am getting bogged down at the bit where you
> need to create a temporary rastport for it, and also I'm not sure what format
> the array needs to be in (what is allocate
> (((width+15)>>4)<<1)*(ystop-ystart+1)) bytes all about?)

   I could send you some example code if you want.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

--------------------------- ONElist Sponsor ----------------------------

ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_16" " A bit off topic: "File formats" "
From: TigerGutt <warewulf@geocities.com>
Date: 06-14-99 13:26:52
Subject: @{b}A bit off topic: "File formats"@{ub}

From: TigerGutt <warewulf@geocities.com>

Hello fellow Amiga ppl :)

Some of my silly pc friends had an disk crash due to CIS32 virus, and I
promissed that I would help him to try salvge as much data as possible.

Basicly I now have an 3 giga file with an image of the disk.

I've used some pc ripper programs to get out the sound and gfx files.

The problem remaining is word/xl files.

Argh, the file format suxx, I've looked into it with hex editor to try
and figure out how they somewhat saves the crap.

Do anyone know information about word/xl file format ?

I think my first program I will write in plain ANSI c now, after learing
C; is an small tool/ripper to xtract jpg and word files from a file.

Then I would try to make it use soem kind of filetype thing.

Any thoughts ideas is welcome.
-----------------------------------------------------------
  __
 ^  ^                               Amiga Power                      
 |   \_____                       Birra Brothers
 |Rollerbld)    http://www.geocities.com/TimesSquare/Arcade/6820/
 (^)(^)(^)(^)  "Det blir rätt mycket O'boy. Men det gör ingenting."

------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_17" " Re: A bit off topic: "File formats" "
From: Peter Carlsson <peter.carlsson@space.se>
Date: 06-14-99 14:17:32
Subject: @{b}Re: A bit off topic: "File formats"@{ub}

From: Peter Carlsson <peter.carlsson@space.se>

At 14:26 1999-06-14 +0200, you wrote:
>From: TigerGutt <warewulf@geocities.com>
>
>Do anyone know information about word/xl file format ?
>
>Any thoughts ideas is welcome.

Hello!

A good place to start looking for information about
file formats (and other formats too) would be:
http://www.wotsit.org

I hope this could help you a little bit.

Best regards,
Peter Carlsson

----------------------------------------------------------------
Peter Carlsson                          Tel: 031-735 45 26
Saab Ericsson Space AB                  Fax: 031-735 40 00
405 15 Göteborg                         URL: http://www.space.se
----------------------------------------------------------------


------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
Deadline is June 19.  See homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_18" " Re: Amiga C Compiler exe's "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-15-99 20:11:49
Subject: @{b}Re: Amiga C Compiler exe's@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Re: [amiga-c] Amiga C Compiler exe's interested me.  Here's some more to think about...

> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Mike Carter discovered that the date was 27-May-99 and wrote about [amiga-c]
> Amiga C Compiler exe's 
>  Watcha Mike
> ->From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> ->Hi,
> 
> ->Has anybody ever done a test to compare the different sizes of
> ->executables generated by the different 'C' compilers available for the
> ->Amiga.

Amiga Format this month has the test already done so no need to do it
??

Dinky do,

Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c


------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_19" " Antwort: Re: [amiga-c] AW: [amiga-c] Passing arrays to and from a function.. "
From: Raimund Dold <Raimund.Dold@bgt.de>
Date: 06-21-99 10:10:37
Subject: @{b}Antwort: Re: [amiga-c] AW: [amiga-c] Passing arrays to and from a function..@{ub}

From: "Raimund Dold" <Raimund.Dold@bgt.de>

Major project just to install GNU? Only if you have a really slow
connection, otherwise you just have to know how to use lha.

Raimund






Steffen <steffen.mars@stenloese.mail.telia.com> on 21.06.99 05:22:57

Bitte antworten an amiga-c@onelist.com

An:   Ben Hutchings <amiga-c@onelist.com>
Kopie:     (Blindkopie: Raimund Dold/FK/BGT)
Thema:    Re: [amiga-c] AW: [amiga-c] Passing arrays to and from a
      function..




From: Steffen <steffen.mars@stenloese.mail.telia.com>
On 20-Jun-99, Ben Hutchings claimed:
>From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
>On Fri, Jun 18, 1999 at 11:30:22PM +0100, Steffen wrote:
>> From: Steffen <steffen.mars@stenloese.mail.telia.com>
>>
>> I recall some difficulties about returning a complete array in ANSI C.
>You mean `impossibility'.
I was only 99% certain.
>> It's perfectly possible in C++ however. Howabout this sollution:
><snip>
>Yes, that looks like a typical C++ sledgehammer.
I especially liked the main(), compared to a C solution.
>The std::vector template class should be able to do all this for you
>in C++.  If you don't have it, get a real compiler. ;-)
Not to be mistaken for 'get a life' ?
I use SAS, which doesn't support templates, as you might have guessed.
I've considdered GNU, but it seemed a major project just to install.
What do you use, and what other features do templates provide ?

------------------------------------------------------------------------
With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <-







------------------------------------------------------------------------
With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_20" " ARQ "
From: Darryl Hartwig <darrylh@powerup.com.au>
Date: 06-30-99 20:33:48
Subject: @{b}ARQ@{ub}

From: Darryl Hartwig <darrylh@powerup.com.au>

Hello,

I recently sent a mail to this list regarding EasyRequest()
(to which no one replied).  It was to do with my statement
that EasyRequest() seemed to leave a task running.  I
believe this is now ARQ (which I have running in
WBStartup).  When I take this out, the problem stopped
(albeit that my requesters are now nowhere near as pretty
and stay stuck in the top-left corner of the screen).

Anyone had this problem, or can suggest a fix?

-----------------------------------------------------------
Seeya
<tsb>
<sb>Darryl Hartwig
<sb>Buccan, QLD
<sb>BTW, the Amiga is back for the future!
<sb>Member of USANA
<tsb>


--------------------------- ONElist Sponsor ----------------------------

With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_21" " Re: ARQ "
From: Duncan Strand <dstrand@zebs.screaming.net>
Date: 06-30-99 22:07:29
Subject: @{b}Re: ARQ@{ub}

From: "Duncan Strand" <dstrand@zebs.screaming.net>

> From: Darryl Hartwig <darrylh@powerup.com.au>
> 
> WBStartup).  When I take this out, the problem stopped
> (albeit that my requesters are now nowhere near as pretty
> and stay stuck in the top-left corner of the screen).
> 
> Anyone had this problem, or can suggest a fix?

I think MCP or ReqToolsPatch can do this

-------------------------------------------------------------
Duncan Strand  ICQ: 16966914
http://only.at/sci-fi                         Sci-fi pictures
http://www.geocities.com/enchantedforest/8132 Lion Software
-------------------------------------------------------------

Hardware, n.: The parts of a computer system that can be kicked.




--------------------------- ONElist Sponsor ----------------------------

Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_22" " Backfilling a window, re-visited. "
From: Dominic Clifton <dominicc@barrysworld.co.uk>
Date: 06-22-99 00:10:04
Subject: @{b}Backfilling a window, re-visited.@{ub}

From: Dominic Clifton <dominicc@barrysworld.co.uk>

ok, all the backfill stuff works, except for the first time when you use
a backfill function with SA_Backfill, but WA_Backfill is fine.

My program requires stackchecking and stack extending, but in order for
the backfill function not to crash you have to turn it off (Using SAS/C
6.58).

So:

Is it OK to create a program without a stackchecking that has a backfill
function (and initialised Hook structure) that is used by another program
that does have stack checking ?

i.e.  program 1 starts, opens a screen with a backfill function.
program 1 stores Hook structure in memory.

program 1 starts program 2.

program 2 asks program 1 what the address of the Hook structure is

program 2 opens a window on program 1's screen using the WA_BackFill
tag with the address of the Hook function ?


I've implemented this and it seems to be fine, but is it system friendly ?

(I don't see why not, but I just want to check)

-----------------------------------------------------------

[Dominic Clifton - aka Hydra/CRoSS POiNT ]=-  -=[ Oh my god, it's an email]
[DreamCast, C++, DV, Sports Cars, Snowboarding, South Park, Placebo, Amiga]


--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_23" " Re: Backfilling a window, re-visited. "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 06-23-99 16:11:58
Subject: @{b}Re: Backfilling a window, re-visited.@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 22-Jun-99, Dominic Clifton wrote:

[...]
> My program requires stackchecking and stack extending, but in order for
> the backfill function not to crash you have to turn it off (Using SAS/C
> 6.58).

hmm... is the stack check from SAS/C reliable? I had many problems with YAM
beta versions which suddenly exited, claiming there were a stack overflow,
even when it got half a MB of stack, so I finally persuaded Marcel to disable
it...

If you need dynamic stack extension, can't you then set it for that function
explicitly? Or maybe re-write your code to not require it.

Regards Allan
-----------------------------------------------------------
   Email: Duff@DIKU.DK
     URL: http://www.DIKU.dk/students/duff/
<sb>
I have made this letter longer than usual because I lack the time to make it
shorter.
-- Blaise Pascal


--------------------------- ONElist Sponsor ----------------------------

ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_24" " Re: Backfilling a window, re-visited. "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-23-99 18:46:40
Subject: @{b}Re: Backfilling a window, re-visited.@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 21 Dominic (Dominic Clifton) wrote:

> From: Dominic Clifton <dominicc@barrysworld.co.uk>
> 
> ok, all the backfill stuff works, except for the first time when you use
> a backfill function with SA_Backfill, but WA_Backfill is fine.
> 
> My program requires stackchecking and stack extending, but in order for
> the backfill function not to crash you have to turn it off (Using SAS/C
> 6.58).

   No, you don't have to. Leave stack checking and stack extension turned
and add __interrupt to the backfill hook function header. This will
temporarily disable stack checking/stack extension for this very routine.

> So:
> 
> Is it OK to create a program without a stackchecking that has a backfill
> function (and initialised Hook structure) that is used by another program
> that does have stack checking ?
> 
> i.e.  program 1 starts, opens a screen with a backfill function.
> program 1 stores Hook structure in memory.
> 
> program 1 starts program 2.
> 
> program 2 asks program 1 what the address of the Hook structure is
> 
> program 2 opens a window on program 1's screen using the WA_BackFill
> tag with the address of the Hook function ?
> 
> 
> I've implemented this and it seems to be fine, but is it system friendly ?

   Woah! I think you've overdone it a bit.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
We've just added a "NO ATTACHMENTS" option.  See homepage for details.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_25" " Re: Backfilling a window, re-visited. "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-25-99 00:52:49
Subject: @{b}Re: Backfilling a window, re-visited.@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

[amiga-c] Backfilling a window, re-visited. interested me.  Here's some more to think about...

> My program requires stackchecking and stack extending, but in order for
> the backfill function not to crash you have to turn it off (Using SAS/C
> 6.58).

Under what circumstances should stack checking be used/not-used?
Is it available for any other Amigc-C compilers?

Dinky do,



Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#########------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

--------------------------- ONElist Sponsor ----------------------------

ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_26" " Re: Backfilling a window, re-visited. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-26-99 02:26:40
Subject: @{b}Re: Backfilling a window, re-visited.@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Jun 25, 1999 at 12:52:49AM +0100, Mike Carter wrote:
> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> [amiga-c] Backfilling a window, re-visited. interested me.  Here's some more to think about...
> 
> > My program requires stackchecking and stack extending, but in order for
> > the backfill function not to crash you have to turn it off (Using SAS/C
> > 6.58).
> 
> Under what circumstances should stack checking be used/not-used?

Stack-checking can only be used for code that always runs within the
same process as the program's startup code.  That excludes many kinds
of callback hooks, interrupt handlers, libraries, device drivers,
patches, and so on.

I don't use stack-checking, because I don't write code that needs a
lot of stack space.  If you can be sure that you can limit your stack
usage, then you may want to turn it off in production code to increase
the speed and decrease the size of your program.

> Is it available for any other Amigc-C compilers?

DICE does it.  GNU C does it, at least if you use ixemul.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Always try to do things in chronological order;
it's less confusing that way.

--------------------------- ONElist Sponsor ----------------------------

Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_27" " Re: Backfilling a window, re-visited. "
From: Dominic Clifton <dominicc@barrysworld.co.uk>
Date: 06-26-99 13:45:08
Subject: @{b}Re: Backfilling a window, re-visited.@{ub}

From: Dominic Clifton <dominicc@barrysworld.co.uk>


>> My program requires stackchecking and stack extending, but in order for
>> the backfill function not to crash you have to turn it off (Using SAS/C
>> 6.58).

>   No, you don't have to. Leave stack checking and stack extension turned
>and add __interrupt to the backfill hook function header. This will
>temporarily disable stack checking/stack extension for this very routine.

Ahh!  I knew you'd come up with the right answer...

>> I've implemented this and it seems to be fine, but is it system friendly
?

>   Woah! I think you've overdone it a bit.

not really, as my program is a client/server program anyway, with lots of
plugin modules.

If the above is ok, which it seems to be, it means that I don't have to
add a backfill function and hook for each module!  which is GREAT!!!

using the __inturrupt means I can now re-enable stack-checking on the
server part of the program that set's up the backfill function for itself
and the clients to use.

Brilliant..  I love having problems fixed!!

-----------------------------------------------------------

[Dominic Clifton - aka Hydra/CRoSS POiNT ]=-  -=[ Oh my god, it's an email]
[DreamCast, C++, DV, Sports Cars, Snowboarding, South Park, Placebo, Amiga]


--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_28" " Re: Backfilling a window, re-visited. "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-26-99 18:57:30
Subject: @{b}Re: Backfilling a window, re-visited.@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 26 Dominic (Dominic Clifton) wrote:

> From: Dominic Clifton <dominicc@barrysworld.co.uk>
> 
> 
> >> My program requires stackchecking and stack extending, but in order for
> >> the backfill function not to crash you have to turn it off (Using SAS/C
> >> 6.58).
> 
> >   No, you don't have to. Leave stack checking and stack extension turned
> >and add __interrupt to the backfill hook function header. This will
> >temporarily disable stack checking/stack extension for this very routine.
> 
> Ahh!  I knew you'd come up with the right answer...

   Actually, there's another option: you could put all the routines that
shouldn't check their stack size into a separate source code file and
compile just that file with stack checking disabled.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

--------------------------- ONElist Sponsor ----------------------------

How has ONElist changed your life?
Share your story with us at http://www.onelist.com

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_29" " Beginner's Woes "
From: David Crawford <targhan_aga@yahoo.com>
Date: 06-07-99 20:16:24
Subject: @{b}Beginner's Woes@{ub}

From: David Crawford <targhan_aga@yahoo.com>

hi folks,
   I have just gotten into some simple C/C++
programming in school, and decided to take what I have
learned home with me to my Amiga. Well, most of my
code works fairly well; though, I must admit my code
is light and dealing with statistics. I have come to
understand that I know very little, so I joined this
mailing list. Then, I discovered to my surprise that I
know even less than a little! So, I must ask these
annoyingly simple questions...:
1. where can I get a copy of the RKM's ?
2. just what is the stack size (dis-proving the notion
that I knew something in the first place)
3. and How do I write anything as simple as 'hello
world' such that it could be called from the WB ?

Thanks for your time to deal with a novice like me!
Dave
StormC++ / yeah I bought a copy!



_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_30" " Re: Beginner's Woes "
From: John Niclasen <Niclasen@bigfoot.com>
Date: 06-07-99 23:17:17
Subject: @{b}Re: Beginner's Woes@{ub}

From: John Niclasen <Niclasen@bigfoot.com>

Hi David!

On 07-Jun-99, David Crawford wrote:
> 1. where can I get a copy of the RKM's ?

Difficult these days. I think http://www.amazon.com has
them.

> 2. just what is the stack size (dis-proving the notion
> that I knew something in the first place)

A running program use a stack to put data on, when a
function is called from another function. The stack size
is the amount of ram, that can be used for the stack. If
a function calls a function, that calls a function and so
on, you could need a bigger stack. It's sometimes a
problem, when a function calls itself (recursive call).

> 3. and How do I write anything as simple as 'hello
> world' such that it could be called from the WB ?

I use SAS/C, and if I don't write
    DEFINE __mail=__tinymain
to the linker, I get an input/output window on the WB,
when the program runs (I just double-click it's icon). A
printf() writes text to this window.
Maybe there is an option in the StormC package somewhere.

Bye
John.


------------------------------------------------------------------------
With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_31" " AW: [amiga-c] Beginner's Woes "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 06-08-99 07:11:08
Subject: @{b}AW: [amiga-c] Beginner's Woes@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>


> 1. where can I get a copy of the RKM's ?
      
    Nearly impossible, and even amazon wouldnt help you. At least they
did not help me:-(
    The best way IMHO is to by the Amiga Developer CD 1.2. There is an
online edition of the RKRMs in Amiga Guide format. The CD is cheap (about
20DM) and contains some really usefull stuff

    Another hint would be looking at
http://www.redrobe.demon.co.uk/amiga/index.html, there are some essential
thinks...

    Kind regards Alexander Fritsch

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
Deadline is June 19.  See homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_32" " Re: Beginner's Woes "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 06-08-99 16:39:20
Subject: @{b}Re: Beginner's Woes@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello David,

On 07-Jun-99 wrote David Crawford (targhan_aga@yahoo.com):
> From: David Crawford <targhan_aga@yahoo.com>
> 
> hi folks,
>   I have just gotten into some simple C/C++
> programming in school, and decided to take what I have
> learned home with me to my Amiga. Well, most of my
> code works fairly well; though, I must admit my code
> is light and dealing with statistics. I have come to
> understand that I know very little, so I joined this
> mailing list. Then, I discovered to my surprise that I
> know even less than a little! So, I must ask these
> annoyingly simple questions...:
> 1. where can I get a copy of the RKM's ?
> 2. just what is the stack size (dis-proving the notion
> that I knew something in the first place)
> 3. and How do I write anything as simple as 'hello
> world' such that it could be called from the WB ?

Put a function like this in your code:

void wbmain(struct WBStartup *wbs)
{
printf("Hello world!\n");
}

Take a look at the "WB_Start" example, you can find it in StormC:Examples.

Cu,
-----------------------------------------------------------
Yves Grabowsky
*ICQ:* 18762984
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!


------------------------------------------------------------------------
Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_33" " Re: Beginner's Woes "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-08-99 19:34:10
Subject: @{b}Re: Beginner's Woes@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

[amiga-c] Beginner's Woes interested me.  Here's some more to think about...

Hi Dave,


> 1. where can I get a copy of the RKM's ?

I think the developer CD v1.2 has them as HTML files.  At one time
they were also available on the http://www.amiga.com website - but
theyhave been removed.  I have all the HTML from the website.  It's
quite large however! >6mb or more!  Are you interested in a particular
section of the RKM, such as libraries, devices ??

> StormC++ / yeah I bought a copy!

Good on you!

Dinky do,

Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Looking for your kindred spirit?
http://www.onelist.com
Go to ONElist: where kindred spirits connect and stay connected.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_34" " Re: Beginner's Woes "
From: David Crawford <targhan_aga@yahoo.com>
Date: 06-09-99 02:56:54
Subject: @{b}Re: Beginner's Woes@{ub}

From: David Crawford <targhan_aga@yahoo.com>

Thanks John!,
     I see that I have far to go, but I'm glad I have
a chance
to start at all. And, I've heard of a CD with the
RKM's 
on it too. 

later,
DAVe



--- John Niclasen <Niclasen@bigfoot.com> wrote:
> From: John Niclasen <Niclasen@bigfoot.com>
> 
> Hi David!
> 
> On 07-Jun-99, David Crawford wrote:
> > 1. where can I get a copy of the RKM's ?
> 
> Difficult these days. I think http://www.amazon.com
> has
> them.
> 
> > 2. just what is the stack size (dis-proving the
> notion
> > that I knew something in the first place)
> 
> A running program use a stack to put data on, when a
> function is called from another function. The stack
> size
> is the amount of ram, that can be used for the
> stack. If
> a function calls a function, that calls a function
> and so
> on, you could need a bigger stack. It's sometimes a
> problem, when a function calls itself (recursive
> call).
> 
> > 3. and How do I write anything as simple as 'hello
> > world' such that it could be called from the WB ?
> 
> I use SAS/C, and if I don't write
>     DEFINE __mail=__tinymain
> to the linker, I get an input/output window on the
> WB,
> when the program runs (I just double-click it's
> icon). A
> printf() writes text to this window.
> Maybe there is an option in the StormC package
> somewhere.
> 
> Bye
> John.
> 
> 
>
------------------------------------------------------------------------
> With more than 20 million e-mails exchanged daily...
> http://www.onelist.com
> ...ONElist is home to the liveliest discussions on
> the Internet!
>
------------------------------------------------------------------------
> -> Spread the URL:
> http://www.onelist.com/subscribe.cgi/amiga-c <- 
> 

_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_35" " Re: AW: [amiga-c] Beginner's Woes "
From: David Crawford <targhan_aga@yahoo.com>
Date: 06-09-99 03:02:29
Subject: @{b}Re: AW: [amiga-c] Beginner's Woes@{ub}

From: David Crawford <targhan_aga@yahoo.com>

Hey! 
  Thanks Fritsch. I think i will get that CD :) Maybe
I can
get that CD from Software Hut..

Love them Miggy's!!

Dave

_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


------------------------------------------------------------------------
Looking for your kindred spirit?
http://www.onelist.com
Go to ONElist: where kindred spirits connect and stay connected.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_36" " Re: Beginner's Woes "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-10-99 00:21:17
Subject: @{b}Re: Beginner's Woes@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Jun 07, 1999 at 12:16:24PM -0700, David Crawford wrote:
> From: David Crawford <targhan_aga@yahoo.com>
> 
> hi folks,
>    I have just gotten into some simple C/C++
> programming in school, and decided to take what I have
> learned home with me to my Amiga. Well, most of my
> code works fairly well; though, I must admit my code
> is light and dealing with statistics. I have come to
> understand that I know very little, so I joined this
> mailing list. Then, I discovered to my surprise that I
> know even less than a little! So, I must ask these
> annoyingly simple questions...:
> 1. where can I get a copy of the RKM's ?

I think they are on Amiga Developer CD 1.2 in AmigaGuide form.  If
not, you may be able to find it somewhere out there on the web.

> 2. just what is the stack size (dis-proving the notion
> that I knew something in the first place)

Automatic variables (look the term up in a C textbook if you don't
know what this means) are stored on the stack, as is the information
used by the processor to enable functions to return.  The stack grows
when a function is entered and shrinks when a function returns.  The
stack size is the size of the block of memory allocated for the stack.
Since AmigaOS has no memory protection, it is possible for a stack to
grow larger than the allocated size, which may lead to a crash or
other strange behaviour.

> 3. and How do I write anything as simple as 'hello
> world' such that it could be called from the WB ?

Depends on your compiler.  I don't know StormC++, but I think someone
else answered this.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Q.  Which is the greater problem in the world today, ignorance or apathy?
A.  I don't know and I couldn't care less.

------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_37" " Re: Beginner's Woes "
From: David Crawford <targhan_aga@yahoo.com>
Date: 06-10-99 03:35:19
Subject: @{b}Re: Beginner's Woes@{ub}

From: David Crawford <targhan_aga@yahoo.com>

hello again :),

  First, thank you very much for the help. However, I
feel
like smacking myself around a bit! When you answered
my
last question which is:
 
> > 3. and How do I write anything as simple as 'hello
> > world' such that it could be called from the WB ?
> 
> I use SAS/C, and if I don't write
>     DEFINE __mail=__tinymain
> to the linker, I get an input/output window on the
> WB,
> when the program runs (I just double-click it's
> icon). A
> printf() writes text to this window.
> Maybe there is an option in the StormC package
> somewhere.
> 
> Bye
> John.
  Man! I should have looked for a copy of SAS ! I
haven't
run into anything of the such with StormC. I get an 
input/output window no problem, but it's default is a
shell type program with no icon to call from. So, I
guess
it is a specific Storm question, eh? 

Thanks for yor help!
Dave

_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


------------------------------------------------------------------------
Congratulations to "INDIE-GRRL," our latest ONElist of the Week.  
http://www.onelist.com
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_38" " Re: Beginner's Woes "
From: Linus McCabe <sparkle@hehe.com>
Date: 06-10-99 08:05:07
Subject: @{b}Re: Beginner's Woes@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 10-Jun-99, David Crawford wrote:

>  Man! I should have looked for a copy of SAS ! I
> haven't
> run into anything of the such with StormC. I get an 
> input/output window no problem, but it's default is a
> shell type program with no icon to call from. So, I
> guess
> it is a specific Storm question, eh? 

I'm not using storm myself, but I believe I've heards it mentioned here on
the list that storm as a wbmain() function, which get's called instead of
main() if the program is started from wb.
As a beginner, you're probably better of  with storm because of it's
friendlier user interface, etc. And sas is no longer being developed :/
 
> Thanks for yor help!
> Dave

-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Old enough to know better, but still too young to care



------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_39" " Re: Beginner's Woes "
From: Johnny T Nielsen <draco@mail1.stofanet.dk>
Date: 06-10-99 09:14:29
Subject: @{b}Re: Beginner's Woes@{ub}

From: Johnny T Nielsen <draco@mail1.stofanet.dk>

On the 10-Jun-99, David Crawford sat down and punched the keyboard:

>> I use SAS/C, and if I don't write
>>     DEFINE __mail=__tinymain
>> to the linker, I get an input/output window on the
>> WB,
>> when the program runs (I just double-click it's
>> icon). A
>> printf() writes text to this window.
>> Maybe there is an option in the StormC package
>> somewhere.
>> 
>> Bye
>> John.
>  Man! I should have looked for a copy of SAS ! I
> haven't
> run into anything of the such with StormC. I get an 
> input/output window no problem, but it's default is a
> shell type program with no icon to call from. So, I
> guess
> it is a specific Storm question, eh? 

Hi.

I suddenly felt the urge to enlighten you! To make a proper wb-startup under StormC, just do the following:

#include <workbench/startup.h>
#include <workbench/workbench.h>


void wbmain(WBStartup *wbarg)
{
    /*
    your wb-startup function goes here :-)
    */
}

-----------------------------------------------------------
Johnny T Nielsen, draco
using A4000,PPC/233,060/50,CVPPC

Anyone can make mistakes, but only an idiot persists in his error.
-- Cicero


------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_40" " Re: Beginner's Woes "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-10-99 15:01:33
Subject: @{b}Re: Beginner's Woes@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Johnny T Nielsen wrote this on 10-Jun-99 at 09:14:29
 Hi Johnny 

-> void wbmain(WBStartup *wbarg)
-> {
->    /*
->    your wb-startup function goes here :-)

      and could be as simple as */

      main();
->  
-> }
-> 

    Here`s a simple but useful one I use often:

int wbmain(struct WBStartup *wbMsgPtr)
{
BYTE i;
 for(i=0;i<wbMsgPtr->sm_NumArgs;i++)
    {
     args[i]=AllocVec(256L,MEMF_PUBLIC);
     strcpy(args[i],wbMsgPtr->sm_ArgList[i].wa_Name);
    }
return main(wbMsgPtr->sm_NumArgs,args);
}

It works well with DICE so it should be okay with Storm.
You could open a console as a file if you wanted printf style output.

    fp=fopen("con:0/0/320/100","w");

    //later...

    fprintf(fp,"error message %d",errNo);

    //at the end...

    fclose(fp);
-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has over 165,000 e-mail communities from which to choose!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_41" " Re: Beginner's Woes "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-12-99 04:15:18
Subject: @{b}Re: Beginner's Woes@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Jun 10, 1999 at 03:01:33PM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Johnny T Nielsen wrote this on 10-Jun-99 at 09:14:29
>  Hi Johnny 
> 
> -> void wbmain(WBStartup *wbarg)
> -> {
> ->    /*
> ->    your wb-startup function goes here :-)
> 
>       and could be as simple as */
> 
>       main();
> ->  
> -> }
> -> 
> 
>     Here`s a simple but useful one I use often:
> 
> int wbmain(struct WBStartup *wbMsgPtr)
> {
> BYTE i;
>  for(i=0;i<wbMsgPtr->sm_NumArgs;i++)
>     {
>      args[i]=AllocVec(256L,MEMF_PUBLIC);
>      strcpy(args[i],wbMsgPtr->sm_ArgList[i].wa_Name);
>     }
> return main(wbMsgPtr->sm_NumArgs,args);
> }
> 
> It works well with DICE so it should be okay with Storm.
<snip>

It does not.

Workbench arguments are made of a `lock' and `name' part.  For an
unreadable disk icon (WBKICK or possibly WBDEVICE) the lock is 0 and
the name is the device name (sans colon).  For a readable disk icon
(WBDISK) the lock is on the root directory of the disk and the name is
a null string (not a null pointer).  I don't remember what you get for
WBAPPICON; it is a bug in Workbench that you can be given these at
all.  For all other types of icon the lock is on the parent directory
and the name is the name of the icon (for which a file may or may not
exist).

Your code assumes that all your arguments are for files that are in
the current directory.  It also only works for programs that do not
take command-line switches.  It also lacks definition of the args
variable or allocation of the array it should point to.  It is also
a stupid waste of memory, since there is no need to copy those
strings.

Do not use this code.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Q.  Which is the greater problem in the world today, ignorance or apathy?
A.  I don't know and I couldn't care less.

------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_42" " Re: Beginner's Woes "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-12-99 20:29:01
Subject: @{b}Re: Beginner's Woes@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Ben Hutchings wrote this on 12-Jun-99 at 04:15:18
 Hi Ben 

->> int wbmain(struct WBStartup *wbMsgPtr)
->> {
->> BYTE i;
->>  for(i=0;i<wbMsgPtr->sm_NumArgs;i++)
->>     {
->>      args[i]=AllocVec(256L,MEMF_PUBLIC);
->>      strcpy(args[i],wbMsgPtr->sm_ArgList[i].wa_Name);
->>     }
->> return main(wbMsgPtr->sm_NumArgs,args);
->> }
->> 
->> It works well with DICE so it should be okay with Storm.
-> <snip>
-> 
-> It does not.
-> 
-> Workbench arguments are made of a `lock' and `name' part.  For an
-> unreadable disk icon (WBKICK or possibly WBDEVICE) the lock is 0 and
-> the name is the device name (sans colon).  For a readable disk icon
-> (WBDISK) the lock is on the root directory of the disk and the name is
-> a null string (not a null pointer).  I don't remember what you get for
-> WBAPPICON; it is a bug in Workbench that you can be given these at
-> all.  For all other types of icon the lock is on the parent directory
-> and the name is the name of the icon (for which a file may or may not
-> exist).
-> 
-> Your code assumes that all your arguments are for files that are in
-> the current directory.  It also only works for programs that do not
-> take command-line switches.    It is also
-> a stupid waste of memory, since there is no need to copy those
-> strings.
-> 
-> Do not use this code.

    Ben. I`m having trouble understanding your arguements here. The idea of
the code is to give simple WBench file loading capablilities to a program
which was previously CLI only and had the form:
    proggy [[FILE=]filename]        or something similar.

    If the user shift clicks a disk or appicon with the program icon then the
program will fail to open a file of that name. The program when run from CLI
would have to deal with similar situations from typing mistake etc. so I
don`t see a problem. The main point of it is to start the proggy from an icon
that had it as it`s defualt tool anyway. 
    As far as I can workout the wa_Name contains the whole path so it doesn`t
matter what directory the file is in.

-> It also lacks definition of the args
-> variable or allocation of the array it should point to.

    Not sure what you mean by this.

    Cheers for pointing out the string copying error though. I couldn`t work
out what you meant for a while but I see it now:
    args[i]=wbMsgPtr->sm_ArgList[i].wa_Name;
Der    :(

BTW, DICE defines wbmain as returning an int. Do you know what happens to that
int?

Cheers.

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_43" " Re: Beginner's Woes "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-13-99 04:51:32
Subject: @{b}Re: Beginner's Woes@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sat, Jun 12, 1999 at 08:29:01PM +0100, Tim Hanson wrote:
<snip>
>     Ben. I`m having trouble understanding your arguements here. The idea of
> the code is to give simple WBench file loading capablilities to a program
> which was previously CLI only and had the form:
>     proggy [[FILE=]filename]        or something similar.

OK, so my mention of switches is irrelevant.

>     If the user shift clicks a disk or appicon with the program icon then the
> program will fail to open a file of that name. The program when run from CLI
> would have to deal with similar situations from typing mistake etc. so I
> don`t see a problem. The main point of it is to start the proggy from an icon
> that had it as it`s defualt tool anyway.

Then you should display an error message (EasyRequest) and exit if
wbMsgPtr->sm_NumArgs != 2.  It's a very bad idea to write code that
only works in certain conditions but relies on the *user* to satisfy
those conditions.

>     As far as I can workout the wa_Name contains the whole path so it doesn`t
> matter what directory the file is in.

Are you using Workbench, or a Workbench replacement?  Workbench itself
only includes the last component of the name.  I do not know whether
or not WB sets your current directory to that of the second argument,
and I suspect that the initial setting of the current directory is not
documented and cannot be assumed.  Whether or not this is the case,
if there are more than two arguments then the second and subsequent
arguments may correspond to files in different directories.

> -> It also lacks definition of the args
> -> variable or allocation of the array it should point to.
> 
>     Not sure what you mean by this.

You need to use something like:

    char ** args = calloc( wbMsgPtr->sm_NumArgs, sizeof(char *) );
    if( args == 0 )
        return RETURN_FAIL;

>     Cheers for pointing out the string copying error though. I couldn`t work
> out what you meant for a while but I see it now:
>     args[i]=wbMsgPtr->sm_ArgList[i].wa_Name;
> Der    :(
> 
> BTW, DICE defines wbmain as returning an int. Do you know what happens to that
> int?

It's left in d0 at the end of the program, and then AFAIK ignored.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Q.  Which is the greater problem in the world today, ignorance or apathy?
A.  I don't know and I couldn't care less.

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 165,000 e-mail communities at ONElist!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_44" " C Newbie "
From: Jake Frederick <gonzo@acadia.net>
Date: 06-30-99 08:28:55
Subject: @{b}C Newbie@{ub}

From: Jake Frederick <gonzo@acadia.net>

Having been a Blitz and Amos programmer for most of my Amiga days I'm
completely in the dark when it comes to C. I've messed with the Storm C demo
that came on one of the old CU Amigas and followed a few of the tutorials but
that's the extent of my experience. Which C compilers are most recommended? I
would like to keep my spending to a minimum so I was thrilled when I saw the
new AF rated the freeware VBCC higher than the commercial compilers. Has
anyone had experience with VBCC? Is it something that would be easy for a
beginner to come to grips with? What are some good resources for learing C? I
bought a PC oriented book, will this just confuse me? Any suggestions would
be most appreciated.
-----------------------------------------------------------
-If the doors of perception were cleansed everything would appear to man as it
truly is, infinite.-


--------------------------- ONElist Sponsor ----------------------------

ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_45" " Re: C Newbie "
From: David McMinn <dmcminn@house-of-mojo.freeserve.co.uk>
Date: 06-30-99 19:54:19
Subject: @{b}Re: C Newbie@{ub}

From: David McMinn <dmcminn@house-of-mojo.freeserve.co.uk>

Hi Jake

> Having been a Blitz and Amos programmer for most of my Amiga days I'm
> completely in the dark when it comes to C. I've messed with the Storm C demo
> that came on one of the old CU Amigas and followed a few of the tutorials but
> that's the extent of my experience. Which C compilers are most recommended? I
> would like to keep my spending to a minimum so I was thrilled when I saw the
> new AF rated the freeware VBCC higher than the commercial compilers. Has
> anyone had experience with VBCC? Is it something that would be easy for a
> beginner to come to grips with? What are some good resources for learing C? I
> bought a PC oriented book, will this just confuse me? Any suggestions would
> be most appreciated.

I use VBCC (also because I have no money). I found that once it was setup and
installed (no install script), it was a breeze. Admittedly I haven't done any
huge projects yet, but its easy enough to control from the vc frontend program,
which calls all the other programs in order to compile your source.

If the book covers normal C then you will be okay, just don't try to use the DOS
interrupt handlers ;)

Chow f'now
-----------------------------------------------------------
[) /\ \/ ][ [)   |\/| © |\/| ][ |\| |\|
 dmcminn@house-of-mojo.freeserve.co.uk
  http://members.xoom.com/David_McMinn
            ICQ = 16827694

Tell me what you need, and I'll tell you how to get along without it.



--------------------------- ONElist Sponsor ----------------------------

With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_46" " Re: C Newbie "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 06-30-99 22:05:59
Subject: @{b}Re: C Newbie@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 30-Jun-99, Jake Frederick wrote:

> [...] Which C compilers are most recommended? I
> would like to keep my spending to a minimum so I was thrilled when I saw the
> new AF rated the freeware VBCC higher than the commercial compilers.

If you don't want to spend any money, and can live without a neat IDE then VBCC
will probably do just fine. But it does not support C++, so I think it's
unfair to judge it as a better compiler than e.g. StormCPP.

> Has anyone had experience with VBCC? Is it something that 
> would be easy for a beginner to come to grips with?

I downloaded it yesterday, because I heard it was rated that good. It was very
easy to use, but still not as easy as e.g. StormC. And as it didn't support
C++, I dropped it quite fast again.
But it'll definitely work as a starterskit.

> What are some good resources for learing C? I

hmm... "learning by doing" is my motto ;-)

> bought a PC oriented book, will this just confuse me?

Depends on how PC oriented it is. It'll probably do better than a UNIX oriented
book, as they seem to have their own superset of ANSI-C ;-)

Regards Allan
-----------------------------------------------------------
   Email: Duff@DIKU.DK
     URL: http://www.DIKU.dk/students/duff/
<sb>
I think that God in creating man somewhat overestimated his ability.
-- Oscar Wilde


--------------------------- ONElist Sponsor ----------------------------

Looking to expand your world?
http://www.onelist.com
ONElist has 180,000 e-mail communities from which to choose!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_47" " Re: C Newbie "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 06-30-99 22:55:34
Subject: @{b}Re: C Newbie@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Wed, 30 Jun 1999, Jake Frederick wrote:

> Which C compilers are most recommended? I
> would like to keep my spending to a minimum so I was thrilled when I saw the
> new AF rated the freeware VBCC higher than the commercial compilers.

Interesting to hear. Did they do a bigger test? What did they compare?

Is the article available somewhere?

> Has
> anyone had experience with VBCC? Is it something that would be easy for a
> beginner to come to grips with?

I better leave that to others (though I had no problems with it ;-).

> What are some good resources for learing C?

Kernighan & Ritchie: The C programming language

> I bought a PC oriented book, will this just confuse me?

Probably.

Volker


--------------------------- ONElist Sponsor ----------------------------

Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_48" " Calling the same library function "
From: Stuart Kelly <amigac@dkelly1.demon.co.uk>
Date: 06-12-99 00:45:46
Subject: @{b}Calling the same library function@{ub}

From: Stuart Kelly <amigac@dkelly1.demon.co.uk>

Hello Again,

I would like to know if it is possible to call 2 functions
in diffrent libraries with the same name.

Exec does this.

One method suggested was to that you can reference these through the libbase pointer, by using the offsets to call the functions with.

How do you do this?

Thanks, Stuart Kelly


------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_49" " Re: Calling the same library function "
From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>
Date: 06-12-99 02:32:48
Subject: @{b}Re: Calling the same library function@{ub}

From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>

On 11-Jun-99  did write:
> From: Stuart Kelly <amigac@dkelly1.demon.co.uk>
> 
> Hello Again,
> 
> I would like to know if it is possible to call 2 functions
> in diffrent libraries with the same name.
> 
> Exec does this.
> 
> One method suggested was to that you can reference these through the libbase
> pointer, by using the offsets to call the functions with.
> 
> How do you do this?
> 
> Thanks, Stuart Kelly
> 
As long as the functions have different prototypes then you're ok, if they have
the same prototype then you would have to use the LVO.


------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_50" " Re: Calling the same library function "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-12-99 04:50:07
Subject: @{b}Re: Calling the same library function@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Jun 11, 1999 at 11:45:46PM +0000, Stuart Kelly wrote:
> From: Stuart Kelly <amigac@dkelly1.demon.co.uk>
> 
> Hello Again,
> 
> I would like to know if it is possible to call 2 functions
> in diffrent libraries with the same name.
> 
> Exec does this.

Amiga library function names exist only at compile-time and are
statically resolved to vector offsets.  Exec calls certain functions
that are always accessible at standard vector offsets.

Are you thinking of libraries that implement a standard interface
(like XPK modules, for instance), or of libraries that have functions
whose names happen to clash?

> One method suggested was to that you can reference these through the
> libbase pointer, by using the offsets to call the functions with.
> 
> How do you do this?

Essentially you have to call (FUNCTYPE *) ((char *)LibBase + LVOFunc)
where FUNCTYPE is the type of the function and LVOFunc is the vector
offset to the function's entry point.  The hitch is that the function
will normally take arguments in specific registers.  This means that
you need to write some compiler-specific code.  For gcc, egcs or
SAS/C you could specify the registers in the definition of FUNCTYPE.
I think DICE would let you do this too.  The syntax varies between
those compilers.  StormC doesn't allow this, and you would have to
write some glue code for it in assembler.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Q.  Which is the greater problem in the world today, ignorance or apathy?
A.  I don't know and I couldn't care less.

------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_51" " Re: Calling the same library function "
From: Stuart Kelly <amigac@dkelly1.demon.co.uk>
Date: 06-12-99 12:13:26
Subject: @{b}Re: Calling the same library function@{ub}

From: Stuart Kelly <amigac@dkelly1.demon.co.uk>

>> I would like to know if it is possible to call 2
>> functions in diffrent libraries with the same name.
>> 
>> Exec does this.
>> 
>> One method suggested was to that you can reference these
>> through the libbase pointer, by using the offsets to call
>> the functions with.
>> 
>> How do you do this?
>> 
>> Thanks, Stuart Kelly
>> 
> As long as the functions have different prototypes then
> you're ok, if they have the same prototype then you would
> have to use the LVO.
> 
I do not think you can overload function calls in C.  I
think that is C++ only.  

OK Can you give me an example of calling a function using
its LVO.  DisplayBeep would be a good example.  Its LVO is
-60

Thanks Stuart Kelly.


------------------------------------------------------------------------
How many communities do you think join ONElist each week?
http://www.onelist.com
More than 5,000!  Create yours now!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_52" " Re: Calling the same library function "
From: Stuart Kelly <amigac@dkelly1.demon.co.uk>
Date: 06-13-99 01:05:17
Subject: @{b}Re: Calling the same library function@{ub}

From: Stuart Kelly <amigac@dkelly1.demon.co.uk>

>> I would like to know if it is possible to call 2
>> functions in diffrent libraries with the same name.
>> 
>> Exec does this.
> 
> Amiga library function names exist only at compile-time
> and are statically resolved to vector offsets. Exec calls
> certain functions that are always accessible at standard
> vector offsets.
> 
> Are you thinking of libraries that implement a standard
> interface (like XPK modules, for instance), or of
> libraries that have functions whose names happen to clash?
> 

I thinking of libraries that the same function name at the
same position in the function table - eg MCC_Query in MUI
custom classes.
>> One method suggested was to that you can reference these
>> through the libbase pointer, by using the offsets to call
>> the functions with.
>> 
>> How do you do this?
> 
> Essentially you have to call (FUNCTYPE *) ((char *)LibBase
> + LVOFunc) where FUNCTYPE is the type of the function and
> LVOFunc is the vector offset to the function's entry
> point. The hitch is that the function will normally take
> arguments in specific registers. This means that you need
> to write some compiler-specific code. For gcc, egcs or
> SAS/C you could specify the registers in the definition of
> FUNCTYPE. I think DICE would let you do this too. The
> syntax varies between those compilers. StormC doesn't
> allow this, and you would have to write some glue code for
> it in assembler.

so to call Display Beep...

typedef void (FUNCTYPE)(register __d0 struct Screen *screen);

...
(FUNCTYPE *)((char *)IntuitionBase +(-60));

should work.  I have StromC and DICE so If you please provide an
example.

Thanks Stuart.


------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 165,000 e-mail communities at ONElist!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_53" " Re: Calling the same library function "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-13-99 14:31:49
Subject: @{b}Re: Calling the same library function@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, Jun 13, 1999 at 12:05:17AM +0000, Stuart Kelly wrote:
<snip>
> so to call Display Beep...
> 
> typedef void (FUNCTYPE)(register __d0 struct Screen *screen);
> 
> ...
> (FUNCTYPE *)((char *)IntuitionBase +(-60));
> 
> should work.  I have StromC and DICE so If you please provide an
> example.

That's roughly how you'd do it, *but* you need to specify that the
library base goes in a6, and there's little point in using the typedef
in real code.  Oh, and DisplayBeep takes its argument in a0,
actually. ;-)

I would write something like this for DICE:

    extern __far char LVODisplayBeep[];

    ((void (*)( register __a6 struct Library *,
                register __a0 struct Screen * ))
      ((char *)IntuitionBase + (long)LVODisplayBeep))
    ( IntuitionBase, screen );

Note the nasty hack needed to use LVODisplayBeep.  It's probably better
to define it as a pre-processor macro instead.

Ben.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
When in doubt, use brute force. - Ken Thompson

------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_54" " Re: Calling the same library function "
From: Stuart Kelly <amigac@dkelly1.demon.co.uk>
Date: 06-13-99 16:41:50
Subject: @{b}Re: Calling the same library function@{ub}

Hello Again.

Here is some example code on how to Call DisplayBeep using
the LVO in storm.  This code is based on advice from Allan
Odgaard.  

This only works if you link the source with amiga.lib  I
have not yet tried it with pragmas yet. 

Thanks, Stuart Kelly
===========================================================2: testme.c
[1mContent-Type:[0m plain text   [1mSize:[0m 518 bytes
[1mDescription:[0m Calls DisplayBeep with LVO!
-----------------------------------------------------------
#include <stdio.h>

#include <clib/exec_protos.h>
#include <clib/intuition_protos.h>

struct Library *IntuitionBase;

extern __far char LVODisplayBeep[];

#define CallBeep(base, screen) ((void (*)(register __a6 struct Library *, register __a0 struct Screen *))((UBYTE *)base + (long)LVODisplayBeep))(base, screen)

void main(void)
{
 if (IntuitionBase = OpenLibrary("intuition.library", 37L))
  {

   printf("Call DisplayBeep using LVO!!!\n");

   CallBeep(IntuitionBase, NULL);

   CloseLibrary(IntuitionBase);
  }
}
@ENDNODE
@NODE "Mail_55" " CLI / WB Args "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-19-99 17:52:01
Subject: @{b}CLI / WB Args@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

I remember reading somewhere that if your program returns argc == 0 it
means that the program was started from WB and I should check in some
structure (I use SAS-C).  But where or what is this structure?

I'd like to find out what icons where selected also when my program
was started.

I had a quick poke about on the developer CD but could not find
anything.  Does somebody know what I am talking about?  If so if it
*is* on the DevCD can they tell me where or explain what I must do
with some example code?

Thanks.


Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#########------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_56" " Re: CLI / WB Args "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 06-20-99 08:49:35
Subject: @{b}Re: CLI / WB Args@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

Hello Mike

On 19-Jun-99, Mike Carter wrote:
> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> I remember reading somewhere that if your program returns argc == 0 it
> means that the program was started from WB and I should check in some
> structure (I use SAS-C).  But where or what is this structure?
> 
> I'd like to find out what icons where selected also when my program
> was started.
> 
> I had a quick poke about on the developer CD but could not find
> anything.  Does somebody know what I am talking about?  If so if it
> *is* on the DevCD can they tell me where or explain what I must do
> with some example code?

Sounds like your thinking of the code found in sc:source/wbargs.c
This code defines _WBArgc and _WBArgv and contains autoinit routines for
them.

  Rod


------------------------------------------------------------------------
With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_57" " Re: CLI / WB Args "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 06-20-99 17:42:09
Subject: @{b}Re: CLI / WB Args@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

Hello Mike

On 19-Jun-99, Mike Carter wrote:
> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> I remember reading somewhere that if your program returns argc == 0 it
> means that the program was started from WB and I should check in some
> structure (I use SAS-C).  But where or what is this structure?
> 
> I'd like to find out what icons where selected also when my program
> was started.
> 
> I had a quick poke about on the developer CD but could not find
> anything.  Does somebody know what I am talking about?  If so if it
> *is* on the DevCD can they tell me where or explain what I must do
> with some example code?

Sounds like your thinking of the code found in sc:source/wbargs.c
This code defines _WBArgc and _WBArgv and contains autoinit routines for
them.

  Rod


------------------------------------------------------------------------
With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_58" " Re: CLI / WB Args "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-20-99 21:23:47
Subject: @{b}Re: CLI / WB Args@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sat, Jun 19, 1999 at 05:52:01PM +0100, Mike Carter wrote:
> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> I remember reading somewhere that if your program returns argc == 0 it
> means that the program was started from WB and I should check in some
> structure (I use SAS-C).  But where or what is this structure?

With some Amiga C startup routines (including Commodore-Amiga's
general startup code for C programs), when the program is started from
Workbench the first argument to main is 0 and the second is a pointer
to the Workbench startup message.  If you use such startup code you
can make main look something like this:

int main( int argc, char ** argv )
{
    /* do common setup */

    if( argc == 0 )
    {
        struct WBStartup * pwbs = (struct WBStartup *) argv;
        int arg;
        for( arg = 1; arg < pwbs->sm_NumArgs; ++arg )
        {
            /* process argument pwbs->sm_ArgList[arg] */
        }
    }
    else /* argc != 0 */
    {
        int arg;
        for( arg = 1; arg < argc; ++arg )
        {
            /* process argument argv[arg] */
        }
    }

    /* do main work */
}

> I'd like to find out what icons where selected also when my program
> was started.

You don't get exactly that information - you get information about
your own program (argument 0) and everything that you are meant to
work on (arguments 1 to sm_NumArgs).  This is quite similar to the
arguments for a CLI program that only takes filenames as arguments.

The information for each argument is a lock and a name.  For files
(project and tool icons), the lock is on the parent directory and the
name is the name of the file.  For directories (drawer, trashcan and
disk icons), the lock is on the directory and the name is a null
string.  For `unreadable' disks (device and Kickstart icons), the lock
is 0 and the name is the device name without a colon.  I think
app-icons are passed in the same way as `unreadable' disks, which is a
bug. :-(

> I had a quick poke about on the developer CD but could not find
> anything.  Does somebody know what I am talking about?  If so if it
> *is* on the DevCD can they tell me where or explain what I must do
> with some example code?

You can find some information in :NDK_3.1/Includes&Libs/startups37.
The best place to look, though, is in chapter 14 of the RKRM, in the
section `Workbench and the Startup Code Module'.  This should be
included in version 1.2 of the CD.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
friends: People who know you well, but like you anyway.

------------------------------------------------------------------------
Congratulations to "PAFind," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_59" " Re: CLI / WB Args "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-21-99 01:29:03
Subject: @{b}Re: CLI / WB Args@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Re: [amiga-c] CLI / WB Args interested me.  Here's some more to think about...

> On 19-Jun-99, Mike Carter wrote:
> > From: "Mike Carter" <mike.carter@bigfoot.com>
> > 
> > I remember reading somewhere that if your program returns argc == 0 it
> > means that the program was started from WB and I should check in some
> > structure (I use SAS-C).  But where or what is this structure?
>
> Sounds like your thinking of the code found in sc:source/wbargs.c
> This code defines _WBArgc and _WBArgv and contains autoinit routines for
> them.

Yep that's it.  But I just read in an old issue of CU Amiga (April
1998) C tutorial that only SAS-C uses the argc==0 way.  If possible I
want to make my source code work on all compilers.  So I'm adopting
the main() calls wbmain() calls realmain() way which is a little more
long winded but does the job (if it all works okay...) should I move
compiler inthe near future; or release my source code for all.

Dinky do,



Mike C>

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#########------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_60" " Re: CLI / WB Args "
From: Stephen Williams <sw@nysa.u-net.com>
Date: 06-27-99 21:58:22
Subject: @{b}Re: CLI / WB Args@{ub}

From: Stephen Williams <sw@nysa.u-net.com>

Mike Carter <mike.carter@bigfoot.com> wrote:
>>> I remember reading somewhere that if your program returns argc == 0 it
>>> means that the program was started from WB and I should check in some
>>> structure (I use SAS-C).  But where or what is this structure?
>> Sounds like your thinking of the code found in sc:source/wbargs.c
>> This code defines _WBArgc and _WBArgv and contains autoinit routines for
>> them.
> Yep that's it.  But I just read in an old issue of CU Amiga (April
> 1998) C tutorial that only SAS-C uses the argc==0 way.

VBCC does as well.  You can make DICE do it by putting the following
code after main():

#ifdef _DCC
int wbmain(struct WBStartup * WBMsg)
{
  return main(0, (char **)WBMsg);
}
#endif /* _DCC */

That just declares a Workbench entry point which jumps to main() with
argc and argv set up a la SAS/C.  It might work for Storm C as well.

Bear in mind that this is code I wrote myself, as opposed to code
written by someone who knows what they're doing...

-Stephen

-----------------------------------------------------------
[[ http://www.nysa.u-net.com/ ]]


--------------------------- ONElist Sponsor ----------------------------

Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of 175,000 e-mail communities at ONElist!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_61" " code probe is driving me nuts "
From: "Harry J. Miktarian" <im007@jps.net>
Date: 06-16-99 07:26:34
Subject: @{b}code probe is driving me nuts@{ub}

From: "Harry J. Miktarian" <im007@jps.net>

Hello,

   I have a problem that has been ongoing for a few months now.  I've been
too embarrassed to ask because I have a feeling I'm doing something dumb. 
When I use SAS C's code probe to debug a program I get the source in asm! 
I do the opt command and it says that the source mode is "C (temporarily in
asm)".  Why is it temporarily in asm and how do I get it to show in c? 
Looking at asm does nothing for me but make my head hurt :)

Odd thing is that when I create a new project drawer the new projects
display c source for a while and after a bit of coding/compilig/debugging
It will start showing only asm like above.  What am I doing wrong?

By the way it is 6.58

Thanks for any help.

-----------------------------------------------------------
                                     Kind Regards,

                                    Harry Miktarian




------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of 170,000 e-mail communities at ONElist!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_62" " Re: code probe is driving me nuts "
From: Gregory Roberts II <gregr@en.com>
Date: 06-16-99 09:41:24
Subject: @{b}Re: code probe is driving me nuts@{ub}

From: Gregory Roberts II <gregr@en.com>

Hi,

On Tue, 15 Jun 1999, Harry J. Miktarian wrote:

> Hello,
> 
>    I have a problem that has been ongoing for a few months now.  I've been
> too embarrassed to ask because I have a feeling I'm doing something dumb. 
> When I use SAS C's code probe to debug a program I get the source in asm! 
> I do the opt command and it says that the source mode is "C (temporarily in
> asm)".  Why is it temporarily in asm and how do I get it to show in c? 
> Looking at asm does nothing for me but make my head hurt :)

Hate to ask the obvious, but have you turned on debug information in the
compiler and linker options?  DEBUG=FULL under compiler options and AddSym
under the linker options.  (consult the docs for other possible values of
DEBUG=xxxx)

> 
> Odd thing is that when I create a new project drawer the new projects
> display c source for a while and after a bit of coding/compilig/debugging
> It will start showing only asm like above.  What am I doing wrong?
> 

Can't explain this, but I will point out that if you change the options
you'll want to rebuild everything so all your code is compiled with your
new option settings.  Deleting all the .o files is usually a good way to
do this.

> By the way it is 6.58
> 
> Thanks for any help.

Hope this helps,
Greg

-----------------------------------------------------------
gregr@en.com
KC8BGC
Amiga Enthusiast  :)
IBM programmer    :(


------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_63" " Re: code probe is driving me nuts "
From: Wojciech Polak <jpolak@polbox.com>
Date: 06-17-99 14:24:58
Subject: @{b}Re: code probe is driving me nuts@{ub}

From: Wojciech Polak <jpolak@polbox.com>

On 16-Cze-99, you wrote:

> From: "Harry J. Miktarian" <im007@jps.net>
> 
> Odd thing is that when I create a new project drawer the new projects
> display c source for a while and after a bit of coding/compilig/debugging
> It will start showing only asm like above.  What am I doing wrong?
> 

In directory where is your debug-file there should be also your source-file
of that debug-file. (When You delete that source-file then it will only show
asm)
(Remember about DEBUG, I'm using DEBUG=SYMBOLFLUSH)



----------------- [ REKLAMA / ADVERTISEMENT ] -----------------
  Wazne informacje medyczne znajda Panstwo na stronach firmy
farmaceutycznej Schering AG pod adresem http://www.schering.pl
---------------------------------------------------------------



------------------------------------------------------------------------
Got an opinion?
http://www.onelist.com
Make it count!  Sign up for the ONElist Weekly Survey now.
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_64" " Coding for piracy... "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 06-16-99 16:27:56
Subject: @{b}Coding for piracy...@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>


Hello everyone,  I need to discuss a topic that is close to
most of us, at one time or another.  "Piracy of programs."

As we all know, it is virtually impossible to stop it.
I have been on the Amiga since 1986 & have been 
coding for over a decade in various languages..

I have seen schemes come & go,   like games that
come on non-dos disks with extra tracks,  checksumming
of the code segment,  key files & labelling versions
by modifying the executable at install time...

All of which most of us have at one time or another come across.

I would like to hear from all the experienced coders here,
to get their opinion of the various schemes & their merrits or pitfalls.

I have a program I have been writing for over 10 years
called "Complete Service Manager"  (csm).
I run my entire business on it & have about 9 other businesses
using it in my local area.

As we tend to be a bit short of business software on the Amiga
I would like to distribute it, & even port it to the "NEXT Amiga ??"
but I fear dreadfully that it will be simply spread around like the plague.
I have serialized all the versions so-far & encode customer details
in the configuration, but I fear this is insufficient to provide
a dis-incentive to pirates....

I do not want a fortune for it, but given the nature of this 
business, I am afraid to release a single copy until it is
suitably protected, it's my "baby" & I need your help
& advice on how I should go about limiting the piracy.....
 
----------------------------------------------------
Colin Wenzel. Australia.   colstv@hotkey.net.au
URL:    http://www.hotkey.net.au/~colstv/      
                                               
'AMIGA' 4000T With  CS-III 68060 / 50Mhz 150Mb RAM. 
----------------------------------------------------


------------------------------------------------------------------------
Last chance to earn $5000 for your charity of choice!
http://www.onelist.com
Deadline for "GROW TO GIVE" is June 19.  See homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_65" " Re: Coding for piracy... "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 06-16-99 19:29:01
Subject: @{b}Re: Coding for piracy...@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello Colin,

On 16-Jun-99 wrote Colin Wenzel (colstv@hotkey.net.au):
> From: Colin Wenzel <colstv@hotkey.net.au>
> 
> 
> I do not want a fortune for it, but given the nature of this 
> business, I am afraid to release a single copy until it is
> suitably protected, it's my "baby" & I need your help
> & advice on how I should go about limiting the piracy.....
> 

What about developing and implementing a nearly crack safe 
keyfile-system in your programs?

Cu,
-----------------------------------------------------------
Yves Grabowsky
*ICQ:* 18762984
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!


------------------------------------------------------------------------
ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_66" " Re: Coding for piracy... "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-17-99 00:16:43
Subject: @{b}Re: Coding for piracy...@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Colin Wenzel wrote this on 16-Jun-99 at 16:27:56
 Hi Colin 
-> From: Colin Wenzel <colstv@hotkey.net.au>
-> 
-> 
-> Hello everyone,  I need to discuss a topic that is close to
-> most of us, at one time or another.  "Piracy of programs."

    As everyone on this list will testify I`m no expert and forgive me if this
idea has been tried but..
    If hidden in every executable that is ligitematley (god my spelling) sold
is a unique code then at least you can tell who is responsible for
distributing the pirates in the first place. I have a feeling that someones
going to tell me that pirates will find this code and change it. If they are
that clever why the f*** don`t they write there own bloody code. It can`t be
that dificult: I can do it.
    It would be tricky but not impossible to make sure the code was in a
different place in each exe.

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Make your voice heard!
http://www.onelist.com
Sign up for the ONElist Weekly Survey.  Go to homepage for details.
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_67" " Re: Coding for piracy... "
From: troy silvey <tc_silvey@juno.com>
Date: 06-17-99 02:04:39
Subject: @{b}Re: Coding for piracy...@{ub}

From: troy silvey <tc_silvey@juno.com>

>It would be tricky but not impossible to make sure the code was in 
>a different place in each exe.

I think it is a good ideal. Until it is tried, who can say if it will
work though. Here is a thought to go along with your ideal....
Could your code be compiled so that a certain necessary
small functions would reside at a different positions in the code.
The combination of address locations could relate to a serial
number. This would mean that the code could not be altered
easily with out damaging the executable. I think this would make
tracking a pirated copy back to the source possible, but it would
make recompiling your code for each program an interesting
project. I think I might call this "finger printing" your code.
Maybe a util could be written to make changes to your ascii
file before compiling. Another util could scan the code for the
byte hits and address' to read the "print". If this sounds like 
a dumb ideal, sorry. I'm still kind of new to this.

troy

___________________________________________________________________
Get the Internet just the way you want it.
Free software, free e-mail, and free Internet access for a month!
Try Juno Web: http://dl.www.juno.com/dynoget/tagj.

------------------------------------------------------------------------
Make your voice heard!
http://www.onelist.com
Sign up for the ONElist Weekly Survey.  Go to homepage for details.
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_68" " Re: Coding for piracy... "
From: Peter Carlsson <peter.carlsson@space.se>
Date: 06-17-99 08:23:23
Subject: @{b}Re: Coding for piracy...@{ub}

From: Peter Carlsson <peter.carlsson@space.se>

At 01:27 1999-06-17 +1000, you wrote:
>From: Colin Wenzel <colstv@hotkey.net.au>

>I do not want a fortune for it, but given the nature of this 
>business, I am afraid to release a single copy until it is
>suitably protected, it's my "baby" & I need your help
>& advice on how I should go about limiting the piracy.....

I just came to think of this:

Would it be possible to include PGP (Pretty Good Privacy)
into the program?

1. A person register a copy of the program by sending his PUBLIC key.
2. You make a personalized copy by using his/her PUBLIC key
   together with your PRIVATE key.
3. Then it is only possible for the person with the PRIVATE key
   to use the program.

Does anyone have some comments? Would it be useful?

Best regards,
Peter Carlsson

----------------------------------------------------------------
Peter Carlsson                          Tel: 031-735 45 26
Saab Ericsson Space AB                  Fax: 031-735 40 00
405 15 Göteborg                         URL: http://www.space.se
----------------------------------------------------------------


------------------------------------------------------------------------
Congratulations to "PAFind," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_69" " Re: Coding for piracy... "
From: Jarno van der Linden <jarno@kcbbs.gen.nz>
Date: 06-18-99 00:21:39
Subject: @{b}Re: Coding for piracy...@{ub}

From: Jarno van der Linden <jarno@kcbbs.gen.nz>

> Could your code be compiled so that a certain necessary
> small functions would reside at a different positions in the code.
[...]
> project. I think I might call this "finger printing" your code.

You're getting close to Software Watermarking. A good discussion can be
found at:
http://www.cs.arizona.edu/~collberg/Research/Publications/CollbergThomborson99a/

---JvdL---

------------------------------------------------------------------------
Congratulations to "PAFind," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_70" " Re: Coding for piracy... "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-20-99 19:24:39
Subject: @{b}Re: Coding for piracy...@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Jun 17, 1999 at 09:23:23AM +0200, Peter Carlsson wrote:
> From: Peter Carlsson <peter.carlsson@space.se>
> 
> At 01:27 1999-06-17 +1000, you wrote:
> >From: Colin Wenzel <colstv@hotkey.net.au>
> 
> >I do not want a fortune for it, but given the nature of this 
> >business, I am afraid to release a single copy until it is
> >suitably protected, it's my "baby" & I need your help
> >& advice on how I should go about limiting the piracy.....
> 
> I just came to think of this:
> 
> Would it be possible to include PGP (Pretty Good Privacy)
> into the program?
> 
> 1. A person register a copy of the program by sending his PUBLIC key.
> 2. You make a personalized copy by using his/her PUBLIC key
>    together with your PRIVATE key.
> 3. Then it is only possible for the person with the PRIVATE key
>    to use the program.
> 
> Does anyone have some comments? Would it be useful?

It's quite useless.  There's no reason why the person can't pass the
private key along with the program!  It *would* allow you to identify
the person whose legal copy an illegal copy is derived from.  However,
if you encrypt exactly the same `plaintext' and use the same
decryption code for each one, then the smart cracker would just
extract the decrypted code and pass that around.

There is simply no way to defeat illegal copying that does not
penalise legal users of software.  The best you can do is to tag some
part of it, so that you can get some idea of who to chase if and when
it is copied.  (If your software is any good, then the only question
is `when'.)

If you have long-term plans for your software, then you can at least
hope that the people that use your software illegally will go on to
buy legal copies when they have more money to spend, or will recommend
that their employer buys copies.  Unfortunately the latter is very
unlikely with Amiga software.  I think the lack of commercial buyers
is the main reason why illegal copying is such a problem for Amiga
software publishers.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
friends: People who know you well, but like you anyway.

------------------------------------------------------------------------
How many communities do you think join ONElist each week?
http://www.onelist.com
More than 5,000!  Create yours now!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_71" " Conflicting integer sizes :( "
From: Fabrice Rousselot -- Paris <faro@sybase.com>
Date: 06-10-99 09:00:52
Subject: @{b}Conflicting integer sizes :(@{ub}

From: Fabrice Rousselot -- Paris <faro@sybase.com>

Hi,

I need your help 'cause there is something that I can't understand
anymore with my SAS C 6.58.
I have 'Warning 621 : Conflicting integer sizes found' when I compile
and got all integers to 32 bits (long and short !!),
and when I switch to Shortinetgers on in the 'Compiler Options' panel,
then there is no warning but all int are 16 bits (long and short too
!!).
Does anyone see this ?
It's difficult to deal with 16 bits registers when I have 32 bits
variables and to get addresses when I have 16 bits variables :(

TIA
Fabrice.

--
Fabrice Rousselot
System Administrator
Sybase, France
Phone : (+33) 1 41 90 42 94
Fax : (+33) 1 41 90 40 01



------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_72" " AW: [amiga-c] Conflicting integer sizes :( "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 06-10-99 10:06:25
Subject: @{b}AW: [amiga-c] Conflicting integer sizes :(@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>



> From: Fabrice Rousselot -- Paris <faro@sybase.com>
> 
> Hi,
> 
> I need your help 'cause there is something that I can't understand
> anymore with my SAS C 6.58.
> I have 'Warning 621 : Conflicting integer sizes found' when I compile
> and got all integers to 32 bits (long and short !!),
> and when I switch to Shortinetgers on in the 'Compiler Options' panel,
> then there is no warning but all int are 16 bits (long and short too
> !!).
> Does anyone see this ?
> 
    I have no SAS/C here at work, but IIRC 
    short int 16 Bit
    int 32 Bit
    long int32

    and if you use Shortintegers in the option panel
    short int 16 Bit
    int 16 Bit
    long int32

    It's difficult to deal with 16 bits registers when I have 32 bits
    variables 
    OK

    and to get addresses when I have 16 bits variables :(
    ??? 
      
    Make a (very) small example.

    Kind regards Alexander Fritsch

------------------------------------------------------------------------
Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_73" " Re: AW: [amiga-c] Conflicting integer sizes :( "
From: Fabrice Rousselot -- Paris <faro@sybase.com>
Date: 06-14-99 14:03:37
Subject: @{b}Re: AW: [amiga-c] Conflicting integer sizes :(@{ub}

From: Fabrice Rousselot -- Paris <faro@sybase.com>

Hi again,

Fritsch Alexander wrote:

> From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
>
> > From: Fabrice Rousselot -- Paris <faro@sybase.com>
> >
> > Hi,
> >
> > I need your help 'cause there is something that I can't understand
> > anymore with my SAS C 6.58.
> > I have 'Warning 621 : Conflicting integer sizes found' when I compile
> > and got all integers to 32 bits (long and short !!),
> > and when I switch to Shortinetgers on in the 'Compiler Options' panel,
> > then there is no warning but all int are 16 bits (long and short too
> > !!).
> > Does anyone see this ?
> >
>         I have no SAS/C here at work, but IIRC
>         short int 16 Bit
>         int 32 Bit
>         long int32
>
>         and if you use Shortintegers in the option panel
>         short int 16 Bit
>         int 16 Bit
>         long int32

I know that, and that is what doesn't work.

>
>
>         It's difficult to deal with 16 bits registers when I have 32 bits
>         variables
>         OK
>
>         and to get addresses when I have 16 bits variables :(
>         ???

'cause addresses are 32 bits like library addresses.

>
>
>         Make a (very) small example.

main ()
{
    struct Library *IntuitionBase = NULL;
    long a;
    int b;
    short c;

    IntuitionBase = (struct Library *) OpenLibrary ("intuition.library",
39L);

    a = IntuitionBase;
    printf ("%8X\n", a);     // if NoShortIntegers then we see the address
else we only see most significant word.

    b = (int) a;
    printf ("%8X\n", b);    // if NoShortIntegers then we see the address
else we only see most significant word too.

    c = (short) a;
    printf ("%8X\n", c);    // if NoShortIntegers then we see the address
else we only see most significant word again.

    CloseLibrary (IntuitionBase);

    return;
}

When NoShortIntegers is selected, all int types (long, int, short) are 32
bits, whereas with ShortIntegers selected they are all 16 bits. And there is
the warning 621 (that I talked above).
What's wrong with my configuration ? (I mean with SAS' configuration).

TIA for your help.
Fabrice.

>
>
>         Kind regards Alexander Fritsch
>
> ------------------------------------------------------------------------
> Having difficulty getting "in synch" with list members?
> http://www.onelist.com
> Try ONElist's Shared Calendar to organize events, meetings and more!
> ------------------------------------------------------------------------
> -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <-

--
Fabrice Rousselot
System Administrator
Sybase, France
Phone : (+33) 1 41 90 42 94
Fax : (+33) 1 41 90 40 01



------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_74" " AW: [amiga-c] AW: [amiga-c] Conflicting integer sizes :( "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 06-14-99 14:30:07
Subject: @{b}AW: [amiga-c] AW: [amiga-c] Conflicting integer sizes :(@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

> > > Does anyone see this ?
> > >
> >         I have no SAS/C here at work, but IIRC
> >         short int 16 Bit
> >         int 32 Bit
> >         long int32
> >
> >         and if you use Shortintegers in the option panel
> >         short int 16 Bit
> >         int 16 Bit
> >         long int32
> 
> I know that, and that is what doesn't work.
> 
> >         Make a (very) small example.
> 
> main ()
> {
>     struct Library *IntuitionBase = NULL;
>     long a;
>     int b;
>     short c;
> 
>     IntuitionBase = (struct Library *) OpenLibrary ("intuition.library",
> 39L);
> 
>     a = IntuitionBase;
>     printf ("%8X\n", a);     // if NoShortIntegers then we see the address
> else we only see most significant word.
> 
    [Fritsch Alexander]  
    Thats right as on amiga usually int is 32 bits wide (same as long).
printf with %d needs an int parameter to work correctly. In this case the
int has all 32 bits of the address. If you use shortintegrs than you have
only 16 bits in an int. As I said before, printf with an %d or %x wants an
int (regardless of its length)

>     b = (int) a;
>     printf ("%8X\n", b);    // if NoShortIntegers then we see the address
> else we only see most significant word too.
      


>     c = (short) a;
>     printf ("%8X\n", c);    // if NoShortIntegers then we see the address
> else we only see most significant word again.
> 
>     CloseLibrary (IntuitionBase);
> 
>     return;
> }
> 
> When NoShortIntegers is selected, all int types (long, int, short) are 32
> bits, 
     

    Are you sure? Is short really 32bits wide? I doubt that. Try 
    printf("Number of bytes: %d\n",sizeof(short));


> whereas with ShortIntegers selected they are all 16 bits. 
      
    Are you sure? Is long really only 16 bits wide? I doubt that again.
    printf("Number of bytes: %d\n",sizeof(long));
>  
      
> And there is
> the warning 621 (that I talked above).
> What's wrong with my configuration ? (I mean with SAS' configuration).
> 
    If you want to print your address you should use  %lx or %ld in the
printf statemant.

    Kind regards Alexander Fritsch

------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_75" " Re: AW: [amiga-c] Conflicting integer sizes :( "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 06-17-99 12:04:55
Subject: @{b}Re: AW: [amiga-c] Conflicting integer sizes :(@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

> > > Does anyone see this ?
> > >
> >         I have no SAS/C here at work, but IIRC
> >         short int 16 Bit
> >         int 32 Bit
> >         long int32
> >
> >         and if you use Shortintegers in the option panel
> >         short int 16 Bit
> >         int 16 Bit
> >         long int32
> 
> I know that, and that is what doesn't work.
> 
> >         Make a (very) small example.
> 
> main ()
> {
>     struct Library *IntuitionBase = NULL;
>     long a;
>     int b;
>     short c;
> 
>     IntuitionBase = (struct Library *) OpenLibrary ("intuition.library",
> 39L);
> 
>     a = IntuitionBase;
>     printf ("%8X\n", a);     // if NoShortIntegers then we see the address
> else we only see most significant word.
> 
    [Fritsch Alexander]  
    Thats right as on amiga usually int is 32 bits wide (same as long).
printf with %d needs an int parameter to work correctly. In this case the
int has all 32 bits of the address. If you use shortintegrs than you have
only 16 bits in an int. As I said before, printf with an %d or %x wants an
int (regardless of its length)

>     b = (int) a;
>     printf ("%8X\n", b);    // if NoShortIntegers then we see the address
> else we only see most significant word too.
      


>     c = (short) a;
>     printf ("%8X\n", c);    // if NoShortIntegers then we see the address
> else we only see most significant word again.
> 
>     CloseLibrary (IntuitionBase);
> 
>     return;
> }
> 
> When NoShortIntegers is selected, all int types (long, int, short) are 32
> bits, 
     

    Are you sure? Is short really 32bits wide? I doubt that. Try 
    printf("Number of bytes: %d\n",sizeof(short));


> whereas with ShortIntegers selected they are all 16 bits. 
      
    Are you sure? Is long really only 16 bits wide? I doubt that again.
    printf("Number of bytes: %d\n",sizeof(long));
>  
      
> And there is
> the warning 621 (that I talked above).
> What's wrong with my configuration ? (I mean with SAS' configuration).
> 
    If you want to print your address you should use  %lx or %ld in the
printf statemant.

    Kind regards Alexander Fritsch

------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_76" " Re: Counting the bits in a long "
From: Erik Eklund <Erik.Eklund@sdf.se>
Date: 06-01-99 02:03:41
Subject: @{b}Re: Counting the bits in a long@{ub}

From: Erik Eklund <Erik.Eklund@sdf.se>

> Hello!

Hi! =)

> 
> I am trying to find the fastest way to count the number of bits that
> are not 0 in a LONG.
> 
> Currently the only way I can think of is to use the '&' (bitwise AND)
> operator for each bit in the LONG. But this means that I have to a
> lot of operations for each LONG. ;-(
> 
> This could maybe be done a bit faster if I use the bitwise AND on a
> group of bits first. I mean I divide the LONG in groups of 8 bits and
> only process the group of 8 bits if the bitwise AND shows that one (or
> more) of these 8 bits are set. The downside of this is ofcourse that
> it could also slow down my calculation if a lot of bits in the LONG
> are set......
> 
> Does anybody know what I am talking about? ;-)
> 
> Can anybody think of a better solution?

I suggest you make a lookuptable. Make a table with with either
64k or 256 entries, where every entry in the list contains a byte.
That byte contains the number of bits in the word that is used
as index number (boy, that sure sounded a lot more complicated than
it is!). Example: You want to check the number of bits in a word.
The word contains the value 2345. Check MyTable[2345] (or however
you prefere to declare it), and you have the number of bits.
I suggest you make a table for words, since 64k isn't that much mem.
A longword table would take 4 gigs of mem, so I don't recommend it ;).

The table is really easy to build too, so I guess this is the best way.

Well, good luck.

/ Eric

------------------------------------------------------------------------
It's finally here!  What's your opinion?
http://www.onelist.com
Create a Star Wars discussion group at ONElist.
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_77" " Re: Counting the bits in a long "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 06-01-99 03:08:57
Subject: @{b}Re: Counting the bits in a long@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 01-Jun-99, Niels de Koning wrote:
>From: Niels de Koning <ndk@bart.nl>

>Hello!
>I am trying to find the fastest way to count the number of bits that
>are not 0 in a LONG.

>Currently the only way I can think of is to use the '&' (bitwise AND)
>operator for each bit in the LONG. But this means that I have to a
>lot of operations for each LONG. ;-(
-snip-

Unfortunately you say that you want to COUNT the number of 0's.
That's where the problem lies,   if you just want to know if there 
ARE any 0's that's real easy....  but alas.....

You would just have to run the bitstream in a for() loop & increment a
counter..

for(count=0,x=0;x<32;x++){
    if(  !  (longnumber & (1L<<x)))
         count ++;
}

This is the only way that occurs to me right now, other than using a table,
but even that I feel may take more resources than is practical in a function
like this,   it is only 32 loops....

It is far better more efficient than the way people do strlen() all over the
place.....

--------------------------------------------------
Colin Wenzel. Australia.   colstv@hotkey.net.au
URL:    http://www.hotkey.net.au/~colstv/      
                                               
'AMIGA' 4000T With  CS-III 68060/50 150Mb RAM. 
--------------------------------------------------


------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_78" " AW: [amiga-c] Counting the bits in a long "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 06-01-99 07:14:34
Subject: @{b}AW: [amiga-c] Counting the bits in a long@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

    Erik Eklund wrote

> I suggest you make a lookuptable. Make a table with with either
> 64k or 256 entries, where every entry in the list contains a byte.
> That byte contains the number of bits in the word that is used
> as index number (boy, that sure sounded a lot more complicated than
> it is!). Example: You want to check the number of bits in a word.
> The word contains the value 2345. Check MyTable[2345] (or however
> you prefere to declare it), and you have the number of bits.
> I suggest you make a table for words, since 64k isn't that much mem.
> A longword table would take 4 gigs of mem, so I don't recommend it ;).
> 
> The table is really easy to build too, so I guess this is the best way.
> 
> Well, good luck.
> 
> / Eric
> 
    Such a lookup table sounds as a good idea but I would not recommend
to use a 64k table. 
    -First its a little bit to much memory for such a small problem (ok
that might be tolerable) but  
    -Second I guess it will not as fast as you hope because the table
never fits in the cache. So using a smaller table (256bytes) or a loop witch
shifts all bits might be faster.

    Make some tests and tell us your results!

    Kind regards Alexander Fritsch

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 150,000 e-mail communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_79" " Re: Counting the bits in a long "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 06-01-99 09:56:53
Subject: @{b}Re: Counting the bits in a long@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>



> Unfortunately you say that you want to COUNT the number of 0's.
> That's where the problem lies,   if you just want to know if there
> ARE any 0's that's real easy....  but alas.....
>
> You would just have to run the bitstream in a for() loop & increment a
> counter..
>
> for(count=0,x=0;x<32;x++){
>     if(  !  (longnumber & (1L<<x)))
>          count ++;
> }
>

I'd recommend a more static approach, as they often result in better code
from
the optimizer-pass from most compilers: (this code will only run for as long
as there are bits to count)

n  - <longword containg bits to count>
j - <bitcounter>
for(j=0;n!=0;) { j += n&1;n<<=1; }

or for a tightly optimized bitcounter in asm: ;P

    move.l    #<lword to count>,d0
    clr.l        d1    ;counter
    clr.l        d2    ;just a empty register

.bitCount
    lsr.l        #1,d0    ;shift down lword (with a side-effect, the bit shifted out
ends up in X)
    addx.b    d2,d1    ;add the recently shifted out bit (d1 = d1+d2+X)
    tst.l        d0
    bne        .bitCount

(this would result in a uneccesary pass if there are zero bits to count, but
that ain't
so bad :P)

--
// Jesper Svennevid


------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 150,000 e-mail communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_80" " Re: Counting the bits in a long "
From: Niels de Koning <ndk@bart.nl>
Date: 06-01-99 20:47:14
Subject: @{b}Re: Counting the bits in a long@{ub}

From: Niels de Koning <ndk@bart.nl>

>> I am trying to find the fastest way to count the number of bits that
>> are not 0 in a LONG.
[.....]
>> Can anybody think of a better solution?

>I suggest you make a lookuptable. Make a table with with either
>64k or 256 entries, where every entry in the list contains a byte.
>That byte contains the number of bits in the word that is used
>as index number (boy, that sure sounded a lot more complicated than
>it is!). Example: You want to check the number of bits in a word.
>The word contains the value 2345. Check MyTable[2345] (or however
>you prefer to declare it), and you have the number of bits.
>I suggest you make a table for words, since 64k isn't that much mem.
>A longword table would take 4 gigs of mem, so I don't recommend it ;).

The LONGs I am trying to process are already a sort of lookuptable ;-))


This is a better description of what I want to achieve:

I have a 'dataspace' of 2MB that has some bits (spread over that
particular dataspace) set to 1. I want to count all the bits that 
are set in that dataspace.
I decided myself that it would probably be fastest to divide that
dataspace in longwords and process all the longwords one by one.
But I got some pretty good ideas from the mails on this list to
speed my original routine up a bit!!

btw, In this dataspace about 40.000 - 50.000 longwords (in extreme
cases) will have one or more bits set. In these longwords there will
be about 200.000 - 250.000 bits set to 1.



Best regards,
  Niels de Koning

------------------------------------------------------------------------
Congratulations to "M-K-ROSES," our latest ONElist of the Week.
http://www.onelist.com
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_81" " Re: Counting the bits in a long "
From: Niels de Koning <ndk@bart.nl>
Date: 06-01-99 20:49:20
Subject: @{b}Re: Counting the bits in a long@{ub}

From: Niels de Koning <ndk@bart.nl>

> > You would just have to run the bitstream in a for() loop &
> > increment a counter..
> >
> > for(count=0,x=0;x<32;x++){
> >     if(  !  (longnumber & (1L<<x)))
> >          count ++;
> > }
> 
> I'd recommend a more static approach, as they often result in better
> code from the optimizer-pass from most compilers: (this code will
> only run for as long as there are bits to count)
> 
> n  - <longword containg bits to count>
> j - <bitcounter>
> for(j=0;n!=0;) { j += n&1;n<<=1; }

I am a bit of a beginner at C, so I had to split this out over a few
lines and think a few minutes about it before I actually realized why
it worked ;-)


> or for a tightly optimized bitcounter in asm: ;P
> 
>     move.l    #<lword to count>,d0
>     clr.l        d1    ;counter
>     clr.l        d2    ;just a empty register
> 
> .bitCount
>     lsr.l        #1,d0    ;shift down lword (with a side-effect,
>                the bit shifted out ends up in X)
>     addx.b        d2,d1    ;add the recently shifted out
>                     bit (d1 = d1+d2+X)
>     tst.l        d0
>     bne        .bitCount
> 

This was actually easier to understand for me than the C loop ;-)

The only thing that I had to think about was the 'addx' line. At
first I though that it could be even shorter because the d2 had no
real use anyway. But now I realize that this is required for that
addx function. Thanks for the lesson!

But I have a problem here: How do I use assembler code in SAS-C?
I have little experience in (SAS-)C and virtually no experience with
assembler.


In another mail about this subject I was asked to do some test and
send the results to the list. Don't expect this too soon, but I will
do this in the near future.
I already suspect some of the suggestions I got will be faster than
others, but I would like to know how much difference exists between
the solutions. (But I won't use the lookuptable solution ;-)

Thanks to all the people who have made suggestions!

Niels de Koning

------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_82" " Re: Counting the bits in a long "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-01-99 21:04:33
Subject: @{b}Re: Counting the bits in a long@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, May 31, 1999 at 10:39:31PM +0200, Niels de Koning wrote:
> From: Niels de Koning <ndk@bart.nl>
> 
> Hello!
> 
> I am trying to find the fastest way to count the number of bits that
> are not 0 in a LONG.
<snip>

Divide it into bitfields of 4 or 8 bits and use a lookup table indexed
by those bitfields.  Linux is generally pretty well optimised, and its
ext2fs uses 4-bit fields when counting free blocks.  It also uses the
test-for-0 optimisation you suggested.

For bitfields, you should be using a ULONG rather than a LONG.

Example:

    int bits_set_in_long( ULONG bits )
    {
        static const int bits_set[16] = {0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4};
        int count = 0;

        while( bits != 0 )
        {
            count += bits_set[bits & 15];
            /* The >> and >>= operators on unsigned numbers may treat them
               as signed, but we know that on most machines including the
               680x0 they work as expected. */
            bits >>= 4;
        }

       return count;
    }

It might well be faster to use 8-bit slices and an array of 256 chars,
except on a 68030 where there is a 256-byte data cache.  It might be
fastest to use 4-bit slices and an array of 16 chars on some systems.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
In a hierarchy, every employee tends to rise to his level of incompetence.

------------------------------------------------------------------------
Did you know each week we feature a ONElist story?
http://www.onelist.com
How has ONElist changed your life?  Please share your story.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_83" " Re: Counting the bits in a long "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 06-02-99 10:19:37
Subject: @{b}Re: Counting the bits in a long@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>


> > n  - <longword containg bits to count>
> > j - <bitcounter>
> > for(j=0;n!=0;) { j += n&1;n<<=1; }
>
> I am a bit of a beginner at C, so I had to split this out over a few
> lines and think a few minutes about it before I actually realized why
> it worked ;-)

Actually, the code above wouldn't :) I saw the mistake just now :)

for(j=0;n!=0;) { j += n&1;n<<=1; }

should be:

for(j=0;n!=0;) { j += n&1;n>>=1; }

Otherwise j would never be able to count any bit except the first one, as
the
<< operator shifts UP, not down as the code was intended to do :)

--
// Jesper Svennevid : *beating himself senseless because of that bug*


------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 160,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_84" " Re: Counting the bits in a long "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 06-02-99 13:35:04
Subject: @{b}Re: Counting the bits in a long@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

> But I have a problem here: How do I use assembler code in SAS-C?
> I have little experience in (SAS-)C and virtually no experience with
> assembler.

I forgot to add that when writing functions in assembler and then
calling them from C, you'll need to take certain steps if you don't
feel like messing around with the stack. Check on the keywords
'__asm' and 'register'

Here's a small example:

extern __asm MyAsmRoutine( register __d0 var1, register __d1 var2, register
__a0 var3 );

This will inform sasc that the routine referenced is not using the
stack for its parameters, and instead of pushing them, sasc will
insert them into the appropriate registers instead.

--
// Jesper Svennevid


------------------------------------------------------------------------
How has ONElist changed your life?
http://www.onelist.com
Share your story with us at http://www.onelist.com
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_85" " Re: Counting the bits in a long "
From: James Daniels <J.R.Daniels@warwick.ac.uk>
Date: 06-03-99 18:21:20
Subject: @{b}Re: Counting the bits in a long@{ub}

From: James Daniels <J.R.Daniels@warwick.ac.uk>

> n  - <longword containg bits to count>
> j - <bitcounter>
> for(j=0;n!=0;) { j += n&1;n>>=1; }
 
Bit shifts can be fairly slow. I think this *might* be faster:

ULONG testbit[32];
ULONG i, v, j, n, t;

// Initialise (only done once)
v = 1;
for( i = 0; i <= 31; i++ )
{
   testbit[i] = v;
   v <<= 1;
}

// Main routine (done lots of times)
// n  - <longword containg bits to count>
// j - <bitcounter>
j = 0;
for( i = 0; n!= 0; i++)
{
   if ( n & (t = testbit[i]) )
   {
      n &= ~t;
      j++;
   }
}

...Come to think of it, this probably isn't going to be any faster after
all. Overall, I suspect that a lookup table is the best idea.
-----------------------------------------------------------
  /\  apex        |                      James Daniels
 //\\  designs    |          J.R.Daniels@Warwick.ac.uk
//__\\            |    http://welcome.to/apex.designs/

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
Deadline is June 19.  See homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_86" " Re: Counting the bits in a long "
From: Niels de Koning <ndk@bart.nl>
Date: 06-03-99 20:55:52
Subject: @{b}Re: Counting the bits in a long@{ub}

From: Niels de Koning <ndk@bart.nl>

> > But I have a problem here: How do I use assembler code in SAS-C?
> > I have little experience in (SAS-)C and virtually no experience
> > with assembler.
> 
> I forgot to add that when writing functions in assembler and then
> calling them from C, you'll need to take certain steps if you don't
> feel like messing around with the stack. Check on the keywords
> '__asm' and 'register'
> 
> Here's a small example:
> 
> extern __asm MyAsmRoutine( register __d0 var1, register __d1 var2, > > register __a0 var3 );
> 
> This will inform sasc that the routine referenced is not using the
> stack for its parameters, and instead of pushing them, sasc will
> insert them into the appropriate registers instead.

As I told before in some of my mails to this list. I am a beginner. I
basically know what you are talking about here (you explained it pretty
clearly), but to implement this will probably be a little too much for
me at the moment ;-( I am going to fiddle around with it a little bit
though, I feel I owe this to myself ;-) I will keep these textfiles in a
safe place for reference......

The main problem I seem to be having is understanding what steps a
C-compiler needs to convert my C-code to to a runnable executable.
If I understand you correctly the trick to including ASM functions in
your C code is to make .o files of your ASM functions and let the
linking process use these ASM functions.....
If anybody has a textfile that is called "The compilation process for
dummies" or something similar I would be much obliged ;-)

Thanks for the effort!
     Niels de Koning
 ____________________________________________________________________
 Co-editor on 3D Addicts GFXZone               http://www.gfxzone.org

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 160,000 e-mail communities from which to chose!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_87" " Re: Counting the bits in a long "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-04-99 02:48:34
Subject: @{b}Re: Counting the bits in a long@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Tue, Jun 01, 1999 at 03:03:41AM +0200, Erik Eklund wrote:
<snip>
> I suggest you make a table for words, since 64k isn't that much mem.
<snip>

This would be a performance killer on 68030+ as it won't fit into the
data cache.  If the application is really time-critical and needs to
support a variety of processors then different code should be used for
different processors.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
In a hierarchy, every employee tends to rise to his level of incompetence.

------------------------------------------------------------------------
"Congratulations to 'Voice-Diary,' our latest ONElist of the Week. 
http://www.onelist.com 
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_88" " AW: [amiga-c] Counting the bits in a long -> Examples "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 06-03-99 09:10:23
Subject: @{b}AW: [amiga-c] Counting the bits in a long -> Examples@{ub}


> But I have a problem here: How do I use assembler code in SAS-C?
> I have little experience in (SAS-)C and virtually no experience with
> assembler.
> 
> 
    [Fritsch Alexander]  
    As a general rule: Try to avoid assembly parts!! They can be a
faster, but they are not portable. Think of porting your program to AmigaNG
for instance... This FIRST and MAIN way to speed up should always be
optimizing the algorithm!!!

     
> In another mail about this subject I was asked to do some test and
> send the results to the list. Don't expect this too soon, but I will
> do this in the near future.
> I already suspect some of the suggestions I got will be faster than
> others, but I would like to know how much difference exists between
> the solutions. (But I won't use the lookuptable solution ;-)
> 
    [Fritsch Alexander]  
    I made a small example to compare the speed of different
implementations. Have a look on the functions BitCount1() to BitCount5() in
the source.
    The program has been compiled with BorlandC 5 under WindowsNT on a
200MHz Pentiun Pro. The program can also be compiled with SAS/C for 68k or
PPC. I also compiled it with gcc for 68k, no changes in the source are
necessary.
    On the amiga the differenz between the 256byte and 64k table was
bigger. (64k-Table nearly twice as fast as 256Bytes table) All other
variants were far more slowly.


    Test-results (Pentium here at work)


    Allocating buffer for 500000 longs
    Filling buffer with random values...

    Variant 1 = Bit shifted and lowest bit added to result
    Variant 2 = Same as variant 1, but unrolled loop a little
    Variant 3 = 32 AND-Operations
    Variant 4 = simelar to variant 3
    Variant 5 = LockUp-table with 256 entries
    Variant 6 = LockUp-table with 64k entries


    Start bitcounting, I will repeat each job 300 times to increase
timing accuracy.


    Variant 1 Time:   99 seconds.  Found 7999862 Bits set to 1
    Variant 2 Time:   99 seconds.  Found 7999862 Bits set to 1
    Variant 3 Time:  200 seconds.  Found 7999862 Bits set to 1
    Variant 4 Time:  173 seconds.  Found 7999862 Bits set to 1
    Variant 5 Time:   14 seconds.  Found 7999862 Bits set to 1
    Variant 6 Time:   13 seconds.  Found 7999862 Bits set to 1
    press enter to finish

    If someone finds a faster solution I would be interested.
>  
     <<bitcount.c>> Kind regards Alexander Fritsch 
===========================================================2: bitcount.c
[1mContent-Type:[0m binary file   [1mSize:[0m 8064 bytes
@ENDNODE
@NODE "Mail_89" " Re: Counting the bits in a long -> Examples "
From: Niels de Koning <ndk@bart.nl>
Date: 06-03-99 21:00:48
Subject: @{b}Re: Counting the bits in a long -> Examples@{ub}

From: Niels de Koning <ndk@bart.nl>

> > But I have a problem here: How do I use assembler code in SAS-C?
> > I have little experience in (SAS-)C and virtually no experience with
> > assembler.
> > 
> > 
>     [Fritsch Alexander]  
>     As a general rule: Try to avoid assembly parts!! They can be a
> faster, but they are not portable. Think of porting your program to 
> AmigaNG for instance... This FIRST and MAIN way to speed up should
> always be optimizing the algorithm!!!

My main goal is not so much portability. For routines as small as this
one could use assembler because it is little effort to 're-write' a
C-version of the function. But your point is definately valid!

I am convinced though by the rest of your mail(s) that this algorithm
could be optimized a lot more than I thought ;-)


>    [Fritsch Alexander]  
>     I made a small example to compare the speed of different
> implementations. Have a look on the functions BitCount1() to
> BitCount5() in the source.
> The program has been compiled with BorlandC 5 under WindowsNT on a
> 200MHz Pentium Pro. The program can also be compiled with SAS/C for
> 68k or PPC. I also compiled it with gcc for 68k, no changes in the
> source are necessary.
>     On the amiga the differenz between the 256byte and 64k table was
> bigger. (64k-Table nearly twice as fast as 256Bytes table) All other
> variants were far more slowly.

WOW! I am impressed. for starters now I wont have to do the test myself,
but more importantly: I did not expect this much difference between the
various solutions!
And last but not least: It seems I did not understand _at all_ what you
meant by using a lookuptable. Now I understand it and indeed it will be
pretty fast this way! I have one comment though: you did not include the
creation of the lookuptable in the time-measurements you did. But I
guess the time lost here is negligable compared to the time that is
spend counting the bits (especially if this lookuptable can be reused
for multiple 'bitmaps')


>     Test-results (Pentium here at work)
> 
>     Allocating buffer for 500000 longs
>     Filling buffer with random values...
> 
>     Variant 1 = Bit shifted and lowest bit added to result
>     Variant 2 = Same as variant 1, but unrolled loop a little
>     Variant 3 = 32 AND-Operations
>     Variant 4 = simelar to variant 3
>     Variant 5 = LockUp-table with 256 entries
>     Variant 6 = LockUp-table with 64k entries
> 
>     Start bitcounting, I will repeat each job 300 times to increase
> timing accuracy.
> 
>     Variant 1 Time:   99 seconds.  Found 7999862 Bits set to 1
>     Variant 2 Time:   99 seconds.  Found 7999862 Bits set to 1
>     Variant 3 Time:  200 seconds.  Found 7999862 Bits set to 1
>     Variant 4 Time:  173 seconds.  Found 7999862 Bits set to 1
>     Variant 5 Time:   14 seconds.  Found 7999862 Bits set to 1
>     Variant 6 Time:   13 seconds.  Found 7999862 Bits set to 1

Here are the results for my Amiga when I compiled it with SAS-C.
btw, I have an 060/50 and I only repeated the job 100 times.

Variant 1 Time:  141 seconds.  Found 7999995 Bits set to 1
Variant 2 Time:  140 seconds.  Found 7999995 Bits set to 1
Variant 3 Time:  165 seconds.  Found 7999995 Bits set to 1
Variant 4 Time:  173 seconds.  Found 7999995 Bits set to 1
Variant 5 Time:   32 seconds.  Found 7999995 Bits set to 1

I am having a problem with the last 3 examples at the moment. I need a
bit more time to fix that, so the results are not here at the moment.
If you are still interested in the results let me know and I will post
them as soon as I have figured out how to fix this. (weekend)

The problem is (I did not know this) that you can _not_ declare an
unsigned char array in SAS of 2^16 items (unsigned char
LookUpTable64k[0x10000])
The compiler complains that the maximum possible = 2^16 - 1   ;-))


Thanks for the effort, I really have the feeling I learned a lot from
looking at this code! I can't wait for the weekend to do some testing of
the ideas I got from all the emails about this problem ;-)

Niels de Koning
 ____________________________________________________________________
 Co-editor on 3D Addicts GFXZone               http://www.gfxzone.org

------------------------------------------------------------------------
How has ONElist changed your life?
http://www.onelist.com
Share your story with us at http://www.onelist.com
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_90" " Re: Counting the bits in a long -> Examples "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-05-99 03:16:18
Subject: @{b}Re: Counting the bits in a long -> Examples@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Jun 03, 1999 at 10:00:48PM +0200, Niels de Koning wrote:
<snip>
> I am having a problem with the last 3 examples at the moment. I need a
> bit more time to fix that, so the results are not here at the moment.
> If you are still interested in the results let me know and I will post
> them as soon as I have figured out how to fix this. (weekend)
> 
> The problem is (I did not know this) that you can _not_ declare an
> unsigned char array in SAS of 2^16 items (unsigned char
> LookUpTable64k[0x10000])
> The compiler complains that the maximum possible = 2^16 - 1   ;-))
<snip>

This is because you are compiling with a small-data model, which
limits you to 64K static data in total.  If you add the `far' or
`__far' attribute (I forget what SAS/C uses) to this variable then it
should go in a separate segment.  Be sure to add this attribute to any
declarations of the variable too.

If you are going to test these examples for speed, be sure to test
on different processors so that you can find the best one for each
processor.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
In a hierarchy, every employee tends to rise to his level of incompetence.

------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_91" " AW: [amiga-c] Counting the bits in a long -> Examples "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 06-07-99 08:31:45
Subject: @{b}AW: [amiga-c] Counting the bits in a long -> Examples@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>


> And last but not least: It seems I did not understand _at all_ what you
> meant by using a lookuptable. Now I understand it and indeed it will be
> pretty fast this way! I have one comment though: you did not include the
> creation of the lookuptable in the time-measurements you did. But I
> guess the time lost here is negligable compared to the time that is
> spend counting the bits (especially if this lookuptable can be reused
> for multiple 'bitmaps')
> 
> 
    That was my point. The lookuptables are crearet once, and they are
pretty small compared to your 2MByte Buffer. And they can be reused...

> Here are the results for my Amiga when I compiled it with SAS-C.
> btw, I have an 060/50 and I only repeated the job 100 times.
> 
> Variant 1 Time:  141 seconds.  Found 7999995 Bits set to 1
> Variant 2 Time:  140 seconds.  Found 7999995 Bits set to 1
> Variant 3 Time:  165 seconds.  Found 7999995 Bits set to 1
> Variant 4 Time:  173 seconds.  Found 7999995 Bits set to 1
> Variant 5 Time:   32 seconds.  Found 7999995 Bits set to 1
> 
> I am having a problem with the last 3 examples at the moment. I need a
> bit more time to fix that, so the results are not here at the moment.
> If you are still interested in the results let me know and I will post
> them as soon as I have figured out how to fix this. (weekend)
> 
> The problem is (I did not know this) that you can _not_ declare an
> unsigned char array in SAS of 2^16 items (unsigned char
> LookUpTable64k[0x10000])
> The compiler complains that the maximum possible = 2^16 - 1   ;-))
> 
    You are right, I should have allocated a 64k buffer instead of using
a static one.

    unsigned char *Buffer;
    Buffer=malloc(0x10000);
    if(NULL==Buffer)
    {
     printf(Not enough memory\n");
     ....
    }

    /* here you can use the buffer */  


    /* finally free the buffer */
    free(Buffer);

    In SAS/C you _can_ use static 64k buffer like I did. Just set
"DATA=FAR" in SC options.
    With gcc you can use such a buffer without any additional options.

> Thanks for the effort, I really have the feeling I learned a lot from
> looking at this code! I can't wait for the weekend to do some testing of
> the ideas I got from all the emails about this problem ;-)
> 
> Niels de Koning
> 
> 
    You are welcome.

    Kind regards Alexander Fritsch 

------------------------------------------------------------------------
ONElist:  where the world talks!
http://www.onelist.com
Join a new list today.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_92" " AW: [amiga-c] Counting the bits in a long, best cache usage "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 06-07-99 08:43:07
Subject: @{b}AW: [amiga-c] Counting the bits in a long, best cache usage@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>



> -----Ursprüngliche Nachricht-----
> Von:    Ben Hutchings [SMTP:womble@zzumbouk.demon.co.uk]
> Gesendet am:    Freitag, 4. Juni 1999 03:49
> An:    amiga-c@onelist.com
> Betreff:    Re: [amiga-c] Counting the bits in a long
> 
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> On Tue, Jun 01, 1999 at 03:03:41AM +0200, Erik Eklund wrote:
> <snip>
> > I suggest you make a table for words, since 64k isn't that much mem.
> <snip>
> 
> This would be a performance killer on 68030+ as it won't fit into the
> data cache.  If the application is really time-critical and needs to
> support a variety of processors then different code should be used for
> different processors.
> 
    This was my first idea too, but surprizingly the 64k lookup-table
version (have a look at my example in another mail) was nearly as twice as
fast as the 256 byte table version. (on 68060 and an a PPC). Here at work on
my pentium the difference is very small...

    Do you have an idea how to calculate/measure/optimize the _real_
cache usage?

    Kind regards Alexander Fritsch

------------------------------------------------------------------------
Got an opinion?
http://www.onelist.com
Make it count!  Sign up for the ONElist Weekly Survey now.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_93" " CreateNewProcTags() problem "
From: Gurer Ozen <palpa@garanti.net.tr>
Date: 06-20-99 13:42:35
Subject: @{b}CreateNewProcTags() problem@{ub}

Hello,

I've problems with attached code. It launches a process which plays
a sound sample via datatypes.library. Player function works well when
called from main(). But it crashes when called from snd_Spawn().

How can I solve this problem?

thanks in advance!

-----------------------------------------------------------
Gurer Ozen (http://palpa.cjb.net)

Gunter's Airborne Discoveries:
(1) When you are served a meal aboard an aircraft,
    the aircraft will encounter turbulence.
(2) The strength of the turbulence
    is directly proportional to the temperature of your coffee.

===========================================================2: sound.c
[1mContent-Type:[0m plain text   [1mSize:[0m 1011 bytes
-----------------------------------------------------------
/*
** Sample Player
*/

#include <proto/exec.h>
#include <proto/dos.h>
#include <dos/dostags.h>
#include <clib/datatypes_protos.h>
#include <clib/alib_protos.h>
#include <datatypes/datatypes.h>
#include <datatypes/datatypesclass.h>
#include <datatypes/soundclass.h>
    struct Library *DataTypesBase;

void snd_Play(void);
void snd_spawn(void (*func)(void));
void __asm __saveds snd_play(void);


main()
{
snd_Play();
}


void snd_Play(void)
{
    snd_spawn(snd_play);


}


void snd_spawn(void (*func)(void))
{
    CreateNewProcTags(NP_Entry,func,TAG_DONE);
}


void __asm __saveds snd_play(void)
{
    struct Library *DataTypesBase;
    Object *sound;
    struct dtTrigger trigger;

    DataTypesBase = OpenLibrary("datatypes.library",0);



    if ((sound=NewDTObject("PROGDIR:Message.wav", DTA_GroupID, GID_SOUND, TAG_DONE))==0) return;

    trigger.MethodID = DTM_TRIGGER;
    trigger.dtt_GInfo = NULL;
    trigger.dtt_Function = STM_PLAY;
    trigger.dtt_Data = NULL;
    DoDTMethodA(sound,0L,0L,(Msg)&trigger);





    DisposeDTObject(sound);
}
@ENDNODE
@NODE "Mail_94" " Re: CreateNewProcTags() problem "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-21-99 09:20:12
Subject: @{b}Re: CreateNewProcTags() problem@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, Jun 20, 1999 at 03:42:35PM +0300, Gurer Ozen wrote:
> Hello,
> 
> I've problems with attached code. It launches a process which plays
> a sound sample via datatypes.library. Player function works well when
> called from main(). But it crashes when called from snd_Spawn().
> 
> How can I solve this problem?
<snip>

1. You create a new process using your code, but then immediately exit
   the program, causing your code to be unloaded.  Make use of a signal
   to tell the parent task when the child is finished.

2. You probably have stack-checking turned on.  Turn it off.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
We get into the habit of living before acquiring the habit of thinking.
                                                              - Albert Camus

------------------------------------------------------------------------
With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_95" " Re: CreateNewProcTags() problem "
From: Gurer Ozen <palpa@garanti.net.tr>
Date: 06-22-99 19:04:03
Subject: @{b}Re: CreateNewProcTags() problem@{ub}

From: Gurer Ozen <palpa@garanti.net.tr>

Hello Ben

BH->> I've problems with attached code. It launches a process which plays
BH->> a sound sample via datatypes.library. Player function works well when
BH->> called from main(). But it crashes when called from snd_Spawn().

BH-> 1. You create a new process using your code, but then immediately exit
BH-> 2. You probably have stack-checking turned on.  Turn it off.

this solved the problem. thanks.


Regards
-----------------------------------------------------------
Gurer Ozen (http://palpa.cjb.net)

guru, n:  A computer owner who can read the manual.



--------------------------- ONElist Sponsor ----------------------------

Books, music, videos, gifts, e-cards, auctions-find them at AMAZON.COM.
Browse Earth's Biggest Selection!  Enjoy everyday savings of up to 50%!
<a href=" http://clickme.onelist.com/ad/amazon1 ">Click Here</a>

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_96" " Re: CreateNewProcTags() problem "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-23-99 01:09:10
Subject: @{b}Re: CreateNewProcTags() problem@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Re: [amiga-c] CreateNewProcTags() problem interested me.  Here's some more to think about...

> BH-> 1. You create a new process using your code, but then immediately exit
> BH-> 2. You probably have stack-checking turned on.  Turn it off.
> 
> this solved the problem. thanks.

Could you re-post the fixed code snippet as it would be very useful to
have in the archive.  Can be useful to see how to spawn new processes,
or even play sounds using datatypes!!

Dinky do,


Mike C.
-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#########------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

--------------------------- ONElist Sponsor ----------------------------

Books, music, videos, gifts, e-cards, auctions-find them at AMAZON.COM.
Browse Earth's Biggest Selection!  Enjoy everyday savings of up to 50%!
<a href=" http://clickme.onelist.com/ad/amazon1 ">Click Here</a>

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_97" " Creating a library with SAS/C problem "
From: Andrija Antonijevic <TheAntony2@bigfoot.com>
Date: 06-10-99 03:16:15
Subject: @{b}Creating a library with SAS/C problem@{ub}

From: Andrija Antonijevic <TheAntony2@bigfoot.com>

This should be simple but I'm slowly going crazy over it... I'm
just testing something I plan to use: I'm creating a shared library
using SAS/C, second type, the one that copies near data section,
the one that gets linked to libintr.o. According to SAS/C Development
System Library Reference:

"A library that copies the near data section
    With this type, each task that opens the library uses a separate
    near data section, but all openers _share the same far data_
    _section_."

Fine, that's just what I want. Here's code of the "library" for test
purposes:

--- Start of test.c ---
__far unsigned long data[16384];    /* <- 65536 bytes */

__asm __saveds void test(void)
{
}
--- End of test.c ----

It compiles fine, comiler reports that data is stored in UF
(unititialized far) section, but when it comes to linking it
reports:

ERROR: Near data size cannot exceed 32K for a shared library

OK, there clearly is more than 32K, but it's not near data, it's
declared far! If I change the first line to

__far unsigned long data[4000];

it will compile fine, but _whenever_ the library is opened, 4 * 4 = 16K
of memory will be allocated indicating that data didn't go to far
section as I specified since according to the quote above all tasks
should share far section... What am I doing wrong?

Here are other two relevant files:

--- Start of test.fd ---
##base _TestBase
##bias 30
test()
##end
--- End of test.fd ---

--- Start of SMakefile ---
test.library: test.o
      slink WITH <<
LIBFD test.fd 
TO test.library 
FROM lib:libent.o lib:libinitr.o test.o
LIB lib:sc.lib
NOICONS
SD 
LIBVERSION 1 LIBREVISION 0
<

test.o: test.c      
      sc LIBCODE NOSTACKCHECK test.c
--- End of SMakefile ---

-----------------------------------------------------------

     ///  /_\  _ _| |_ ___ _ _ _  _   http://www.bigfoot.com/~TheAntony
__  ///  / _ \| ' \  _/ _ \ ' \ || |   Amiga Translators' Organization
\\\///  /_/ \_\_||_\__\___/_||_\_, |        (*Serbian department*)
 \XX/  TheAntony@bigfoot.com   |__/              Team *AMIGA*

MULTITASKING: Screwing up several things at once!


------------------------------------------------------------------------
How many communities do you think join ONElist each week?
http://www.onelist.com
More than 5,000!  Create yours now!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_98" " CyberGraphX Double Buffering ?!? "
From: Lukas Hartmann <atomatrix@gmx.de>
Date: 06-12-99 13:10:21
Subject: @{b}CyberGraphX Double Buffering ?!?@{ub}

From: Lukas Hartmann <atomatrix@gmx.de>

Hi,

I have big trouble finding a method of doing clean & fast double buffering on
CGX screens while avoiding WritePixelArray().

Can anybody please give me an example of how to do that?

I was fiddling around with AllocScreenBuffer(), but that always returns 0
when using it on a CGX screen while supplying the function with my own CGX 
BitMap.

Thanks in advance,
Regards,
-----------------------------------------------------------
Lukas Hartmann
Project Coordinator / Main Coder - Atomatrix Amiga Software Design
 + Atomatrix - We Design Your Dreams (tm)
 + www.atomatrix.com
--
 + "The programmer, like the poet, works only slightly removed from pure
thought-stuff. He builds his castles in the air, from air, creating by
exertion of the imagination."
 + Frederick P. Brooks, Jr. "The Mythical Man Month"


------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
Deadline is June 19.  See homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_99" " Re: Cybergraphx trouble! "
From: Daniel Schwill <MCDan@t-online.de>
Date: 06-03-99 17:41:02
Subject: @{b}Re: Cybergraphx trouble!@{ub}

From: MCDan@t-online.de (Daniel Schwill)

Am 05-Jun-99 schrieb MinuteMan:

>From: MinuteMan <atomatrix@gmx.de>

>Hi!

>This is the first problem I encountered that I really can't solve, probably
>due to the lack of experience with CGX...

>I'm writing a C&C clone in C++ and it's going to support GFX boards through
>Cybergraphx, but I recently tried out higher resolutions and
WritePixelArray()
>to a RastPort is tooooo slow, and my game runs in 8 bit!

>I then read about direct drawing into the gfx card memory, and it seems like
>that this is the only solution for my speed problems, but I just can't figure
>out how to use it.

>Firstly, I initialize a TagList:

>TagItem CyberLock[]=
>{
>  LBMI_WIDTH,0,
>  LBMI_HEIGHT,0,
>  LBMI_DEPTH,0,
>  LBMI_PIXFMT,0,
>  LBMI_BYTESPERPIX,0,
>  LBMI_BYTESPERROW,0,
>  LBMI_BASEADDRESS,0       // this is what I need for direct rendering!
>};
>APTR CLock=0;

>When I lock my screen's bitmap with 

>  CLock=LockBitMapTagList(MyScreen->RastPort.BitMap,CyberLock)

>all ti_Data entries of CyberLock[] remain 0. But the LockBitMapTagList() call
>returned a valid lock in CLock! Strange.

You have to use a pointer to ULONG for the tag data to work, like:

   ULONG width, height, depth,...;
...
   LBMI_WIDTH, &width,
   LBMI_HEIGHT, &height,
   LBMI_DEPTH, &depth,
...

>Regards,
>Lukas Hartmann

Bye.

  Dan.


------------------------------------------------------------------------
"Congratulations to 'Voice-Diary,' our latest ONElist of the Week. 
http://www.onelist.com 
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_100" " Cybergraphx trouble! "
From: MinuteMan <atomatrix@gmx.de>
Date: 06-05-99 12:28:28
Subject: @{b}Cybergraphx trouble!@{ub}

From: MinuteMan <atomatrix@gmx.de>

Hi!

This is the first problem I encountered that I really can't solve, probably
due to the lack of experience with CGX...

I'm writing a C&C clone in C++ and it's going to support GFX boards through
Cybergraphx, but I recently tried out higher resolutions and WritePixelArray()
to a RastPort is tooooo slow, and my game runs in 8 bit!

I then read about direct drawing into the gfx card memory, and it seems like
that this is the only solution for my speed problems, but I just can't figure
out how to use it.

Firstly, I initialize a TagList:

TagItem CyberLock[]=
{
  LBMI_WIDTH,0,
  LBMI_HEIGHT,0,
  LBMI_DEPTH,0,
  LBMI_PIXFMT,0,
  LBMI_BYTESPERPIX,0,
  LBMI_BYTESPERROW,0,
  LBMI_BASEADDRESS,0       // this is what I need for direct rendering!
};
APTR CLock=0;

When I lock my screen's bitmap with 

  CLock=LockBitMapTagList(MyScreen->RastPort.BitMap,CyberLock)

all ti_Data entries of CyberLock[] remain 0. But the LockBitMapTagList() call
returned a valid lock in CLock! Strange.

Even more strange is, when I do

  GetCyberMapAttr(MyScreen->RastPort.BitMap,CYBRMATTR_ISCYBERGFX)

it returns -1 (TRUE), but doing the same with other tags like CYBRMATTR_WIDTH,
CYBRMATTR_HEIGHT, CYBRMATTR_DEPTH all return -1 !!

I tried the same with MyScreen->BitMap and even with a window opened on
that screen. It's always the same result.

I really have no idea of what I'm doing wrong! Can anyone help me?

Regards,
-----------------------------------------------------------
Lukas Hartmann
Project Coordinator / Main Coder - Atomatrix Amiga Software Design
 + Atomatrix - We Design Your Dreams (tm)
 + www.atomatrix.com
<sb>
 + "The programmer, like the poet, works only slightly removed from pure
thought-stuff. He builds his castles in the air, from air, creating by
exertion of the imagination."
 + Frederick P. Brooks, Jr. "The Mythical Man Month"


------------------------------------------------------------------------
Have you entered ONElist's "Grow to Give" program?
http://www.onelist.com
Deadline is June 19.  Join now to win $5000 for your charity of choice.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_101" " Debugging "
From: andrewmarkwell@ukonline.co.uk
Date: 06-10-99 00:32:30
Subject: @{b}Debugging@{ub}

From: andrewmarkwell@ukonline.co.uk

Hiya,

Does anyone have any tips for debugging a large program ( >10,000 lines), I am looking for bugs that might not normally show up.

Andrew Markwell

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has over 165,000 e-mail communities from which to choose!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_102" " Re: Debugging "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-10-99 01:03:16
Subject: @{b}Re: Debugging@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Jun 09, 1999 at 11:32:30PM -0000, andrewmarkwell@ukonline.co.uk wrote:
> From: andrewmarkwell@ukonline.co.uk
> 
> Hiya,
> 
> Does anyone have any tips for debugging a large program ( >10,000
> lines), I am looking for bugs that might not normally show up.

At work I'm debugging parts of a 300,000 line program to which about
30 people have contributed over the course of the last year.  I'm not
too happy about it!  I've probably rewritten about 10,000 lines that
had too many bugs to be usable.  But enough moaning.

Software engineering practice is to divide a program into modules at
the design stage; to write designs for each modules; and to test each
module against its design in isolation and later together.  If you do
not have a written design (or documentation of what you intend the
program to do) then it is difficult to test whether it behaves
correctly.

Assuming that your program *is* modular, once you have debugged the
individual modules I think the remaining bugs are likely to fall
mainly into these categories:

(1) Making changes to the design of a module's interface without
    changing the way the interface is used.

(2) Assuming one meaing of an ambiguious definition when implementing
    a module, and another when using its interface.

(3) Contradictions in the design of interfaces.

An example of (2) would be that you didn't define whether the module
or its caller takes responsibility for freeing/destroying an object,
so it may get freed twice or not at all.  I can't think of examples
of the others right now.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Q.  Which is the greater problem in the world today, ignorance or apathy?
A.  I don't know and I couldn't care less.

------------------------------------------------------------------------
Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_103" " Debugging relief (Was: My computer`s gone mad) "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-14-99 13:31:53
Subject: @{b}Debugging relief (Was: My computer`s gone mad)@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>


    Hi All,
        Found that pesky bug.
        Just thought I`d say cheers to all who made suggestions. MungWall
found it for me in the end. The cause:
    if(!(ptr=AllocVec(sizeof(struct square)*gridWidth+1,MEMF_ANY)))
instead of
    if(!(ptr=AllocVec(sizeof(struct square)*(gridWidth+1),MEMF_ANY)))

    I said it`d be something stupid.
-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_104" " Debugging: Thanx "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-28-99 02:52:09
Subject: @{b}Debugging: Thanx@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hi!
Thank you for all the information.

Voytek


--------------------------- ONElist Sponsor ----------------------------

Find people who care about what you care about.
http://www.onelist.com
At ONElist:  your connection to community.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_105" " Declaring auto variables "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-30-99 01:32:53
Subject: @{b}Declaring auto variables@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>


    Hi All,
        The 'library pointers' subject thread got me thinking about another
optimisation question.
    In the dice manual it states that putting your auto variable definitions
within your code only at the point they are needed rather than at the top of
a function will allow better optimisation. I presume this means the compiler
will use registers more efficiently but I wonder how often this will be
outweighed by the extra LINK-UNLNKing that will be done. I also find it makes
code look untidy and somehow less readable.
    Again this is a minor point but register usage is important especially on
PPC where memory access is the real bottleneck.
    Does anyone have an opinion?

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_106" " Re: Declaring auto variables "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 06-30-99 21:57:23
Subject: @{b}Re: Declaring auto variables@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 30-Jun-99, Tim Hanson wrote:

> [...] I wonder how often this will be
> outweighed by the extra LINK-UNLNKing that will be done.

It will only create one link/unlink pair.
The compilers advantage of having variables declared only when they're actually
used is so that variables which doesn't overlap (i.e. isn't active at the same
time) can share the same register. This is not that easy to spot, if you start
your function by declaring and initializing all variables.

> I also find it makes
> code look untidy and somehow less readable.

Funny, I think the opposite ;-)

Generally a function shouldn't exceed a page, but if it does, it's nice to have
it splitted up in a few parts, where each part has its variables close. So
that if you e.g. move code around, sculpture it etc. then you're certain to
also involve the variables. I.e. remove those which are no longer used, change
type of some etc. etc.

>    Does anyone have an opinion?

I'm sure we have, but we're probably closer to discussing religion than actual
coding rules ;-)

Regards Allan
-----------------------------------------------------------
   Email: Duff@DIKU.DK
     URL: http://www.DIKU.dk/students/duff/
<sb>
Q.  Which is the greater problem in the world today, ignorance or apathy?
A.  I don't know and I couldn't care less.


--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
Check out the new "DEFAULT MODERATED STATUS" option.  See homepage.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_107" " Re: Declaring auto variables "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-30-99 22:15:08
Subject: @{b}Re: Declaring auto variables@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Wed, Jun 30, 1999 at 01:32:53AM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> 
>     Hi All,
>         The 'library pointers' subject thread got me thinking about another
> optimisation question.
>     In the dice manual it states that putting your auto variable definitions
> within your code only at the point they are needed rather than at the top of
> a function will allow better optimisation.

This is not quite correct.  In Standard C you can only define
variables at the top of a block, before all other statements.  DICE
allows you to define variables at any point within a block, as does
the C++ language.

In C, if you want to use variables for only part of a function, you
must put them in a block within the function.

> I presume this means the compiler will use registers more
> efficiently

Possibly.  It may also reduce stack usage slightly.

> but I wonder how often this will be outweighed by the extra
> LINK-UNLNKing that will be done.

It isn't done.  The compiler works out the maximum stack space
required and allocates that much at the beginning of the function.

> I also find it makes code look untidy and somehow less readable.

The argument I know of is that it is a good thing to allow this
because it means you can always initialise a variable properly at the
point you define it.  In C++ this is essential because assignment can
be very different from initialisation.

>     Again this is a minor point but register usage is important
> especially on PPC where memory access is the real bottleneck.

It's often a bottleneck on the 68040 and 68060 too.

>     Does anyone have an opinion?

See above.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
It is easier to change the specification to fit the program than vice versa.

--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
Check out the new "DEFAULT MODERATED STATUS" option.  See homepage.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_108" " Device priorities "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 06-22-99 16:42:34
Subject: @{b}Device priorities@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

When using artser.device i use xopa to set the priority to +1, so that
when i multitask, it won't affect my connection that much.
I want to make a program that can set the priority of a device, probably
loading it first. I've found that the structure that contains the
information (DevInfo), but haven't found a function that provides me
with that structure. Allso, could i manipulate it manually or is there
some function (probably) that does the trick ?


--------------------------- ONElist Sponsor ----------------------------

How has ONElist changed your life?
Share your story with us at http://www.onelist.com

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_109" " Re: Device priorities "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-23-99 09:30:43
Subject: @{b}Re: Device priorities@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 22 Steffen (Steffen) wrote:

> From: Steffen <steffen.mars@stenloese.mail.telia.com>
> 
> When using artser.device i use xopa to set the priority to +1, so that
> when i multitask, it won't affect my connection that much.
> I want to make a program that can set the priority of a device, probably
> loading it first. I've found that the structure that contains the
> information (DevInfo), but haven't found a function that provides me
> with that structure. Allso, could i manipulate it manually or is there
> some function (probably) that does the trick ?

   Changing the priority of a device does not have the desired
effect you probably expect. Devices are libraries, and the priority of
the task that calls them is what counts.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

--------------------------- ONElist Sponsor ----------------------------

ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_110" " Re: Device priorities "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 06-23-99 12:15:04
Subject: @{b}Re: Device priorities@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

Anyway, i can feel the difference when i do it.
When i use my browser, it freezes when i multitask. Which is not the
case when i change artser.device to +. Allso, my harddisk uses allmost
all the cpu when operating, making my pointer act jerkily. Changing
scsi.device to -1, makes the pointer act more normally.
Furthermore, i don't see why they include a priority in the device
structure, unless it's used (check DevInfo structure). Are you sure what
you are saying is true for KS3.1 ?
Try the trick, and see what happens !

On 23-Jun-99, Olaf Barthel claimed:
>From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

>On Jun 22 Steffen (Steffen) wrote:

>> From: Steffen <steffen.mars@stenloese.mail.telia.com>
>> 
>> When using artser.device i use xopa to set the priority to +1, so that
>> when i multitask, it won't affect my connection that much.
>> I want to make a program that can set the priority of a device, probably
>> loading it first. I've found that the structure that contains the
>> information (DevInfo), but haven't found a function that provides me
>> with that structure. Allso, could i manipulate it manually or is there
>> some function (probably) that does the trick ?

>   Changing the priority of a device does not have the desired
>effect you probably expect. Devices are libraries, and the priority of
>the task that calls them is what counts.


--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_111" " Re: Device priorities "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 06-23-99 12:50:36
Subject: @{b}Re: Device priorities@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>



> From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>
>
> On Jun 22 Steffen (Steffen) wrote:
>
> > From: Steffen <steffen.mars@stenloese.mail.telia.com>
> >
> > When using artser.device i use xopa to set the priority to +1, so that
> > when i multitask, it won't affect my connection that much.
> > I want to make a program that can set the priority of a device, probably
> > loading it first. I've found that the structure that contains the
> > information (DevInfo), but haven't found a function that provides me
> > with that structure. Allso, could i manipulate it manually or is there
> > some function (probably) that does the trick ?
>
>    Changing the priority of a device does not have the desired
> effect you probably expect. Devices are libraries, and the priority of
> the task that calls them is what counts.

Well isn't they also setup to handle packets sent when calling DoIO()
and SendIO()? In that case they ARE the task themselves, as the task
requesting the I/O is just sending a packet to the handling task.

--
// Jesper Svennevid : jesper@fxrealm.com
   Software Developer at FXRealm Studios : http://www.fxrealm.com
   Chip-PwL on IRCNET (#amycoders, #amigaswe)


--------------------------- ONElist Sponsor ----------------------------

Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of 175,000 e-mail communities at ONElist!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_112" " Re: Device priorities "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-23-99 16:30:01
Subject: @{b}Re: Device priorities@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 23 Jesper (Jesper Svennevid) wrote:

> [..]
> >    Changing the priority of a device does not have the desired
> > effect you probably expect. Devices are libraries, and the priority of
> > the task that calls them is what counts.
> 
> Well isn't they also setup to handle packets sent when calling DoIO()
> and SendIO()? In that case they ARE the task themselves, as the task
> requesting the I/O is just sending a packet to the handling task.

   That depends upon the implementation and the type of hardware
involved. You can write a device that does not need a task to back it,
such as serial.device: all the processing is done in interrupt code.
Complex work, such as has to be done for a SCSI device driver, is best
handled by a task and, if necessary, interrupt handler code. As I
wrote above, the priority assigned to a device has no impact on the
performance of said device. Now, if you're changing that device's
task priority, that would be a different story.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

--------------------------- ONElist Sponsor ----------------------------

Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_113" " Re: Device priorities "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-23-99 16:33:52
Subject: @{b}Re: Device priorities@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 23 Steffen (Steffen) wrote:

> From: Steffen <steffen.mars@stenloese.mail.telia.com>
> 
> Anyway, i can feel the difference when i do it.
> When i use my browser, it freezes when i multitask. Which is not the
> case when i change artser.device to +. Allso, my harddisk uses allmost
> all the cpu when operating, making my pointer act jerkily. Changing
> scsi.device to -1, makes the pointer act more normally.
> Furthermore, i don't see why they include a priority in the device
> structure, unless it's used (check DevInfo structure). Are you sure what
> you are saying is true for KS3.1 ?
> Try the trick, and see what happens !

   Nothing. I don't follow you. Are you sure you're not changing the
task priorities? Fiddling with the priorities of devices or libraries
after they have been added will have no effect whatsoever. The
priority field is not used at run time, it is used solely during
initialization when it determines the order in which the device/library
is added to the respective list. This can be helpful for libraries
that are open very often, as a higher priority will put them nearer to
the beginning of the library list (thus, a search for that library will
terminate sooner). But as I wrote, this won't help you when the library/device
has already been added.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

--------------------------- ONElist Sponsor ----------------------------

ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_114" " DisplayBeep "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-02-99 16:42:57
Subject: @{b}DisplayBeep@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

A nice simple command.  Well how can I get the curren screen structure
that my window is on?  It's a MUI application so it would be able to
open on any public screen.

I need the screen struct to pass to DisplayBeep() as, according to the
autodocs, it is bad practice to pass justa NULL which is what I was
going to do.  This causes all screens to flash/beep which may be bad
for colour cycling or palette grabbing that another application may be
doing on its own screen.

Dinky do,


Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 160,000 e-mail communities from which to chose!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_115" " Re: DisplayBeep "
From: Linus McCabe <sparkle@hehe.com>
Date: 06-03-99 06:21:59
Subject: @{b}Re: DisplayBeep@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 02-Jun-99, Mike Carter wrote:

> A nice simple command.  Well how can I get the curren screen structure
> that my window is on?  It's a MUI application so it would be able to
> open on any public screen.

struct Screen* screen;

screen=get(WindowObject, MUIA_Window_Screen, &screen);
DisplayBeep(screen);

Should work fine if WindowObject is your MUI windowobject and it is
currently open.
If you're doing it from a customclass you can do it differently though, I
think _screen(obj) but I'm not certain, can check it out if you want.

/Linus


> Dinky do,
> 
> 
> Mike C.
> 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

I remember the good old days when there were still Led Zeppelin cds I had
not heard



------------------------------------------------------------------------
Have you entered ONElist's "Grow to Give" program?
http://www.onelist.com
Deadline is June 19.  Join now to win $5000 for your charity of choice.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_116" " Re: DisplayBeep "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-03-99 08:29:28
Subject: @{b}Re: DisplayBeep@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Mike Carter was stunned to discover that it was 02-Jun-99 and could not resist
writting about [amiga-c] DisplayBeep after all it was Wednesday.

      Watcha Mike

 This is what you wrote:

-> From: "Mike Carter" <mike.carter@bigfoot.com>
-> 
-> A nice simple command.  Well how can I get the curren screen structure
-> that my window is on?  It's a MUI application so it would be able to
-> open on any public screen.

    The window struct contains a field. WindowPtr->WScreen.

    on a similar note; How do you find your screen`s View? I always use
GfxBase->Actiview but this assumes the user hasn`t changed view in between.
     
-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of nearly 160,000 e-mail communities at ONElist!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_117" " Re: DisplayBeep "
From: Daniel Schwill <MCDan@t-online.de>
Date: 06-03-99 11:56:48
Subject: @{b}Re: DisplayBeep@{ub}

From: MCDan@t-online.de (Daniel Schwill)

Am 02-Jun-99 schrieb Mike Carter:

>From: "Mike Carter" <mike.carter@bigfoot.com>

>A nice simple command.  Well how can I get the curren screen structure
>that my window is on?  It's a MUI application so it would be able to
>open on any public screen.

With:

struct Window *iwin;

get(win,MUIA_Window_Window,&iwin);

you can obtain a pointer to the intuition window structure.
Now you can use iwin->WScreen.

>Dinky do,

>Mike C.

Bye.

  Dan.


------------------------------------------------------------------------
"Congratulations to 'Voice-Diary,' our latest ONElist of the Week. 
http://www.onelist.com 
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_118" " Re: DisplayBeep "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-05-99 03:07:12
Subject: @{b}Re: DisplayBeep@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Jun 03, 1999 at 08:29:28AM +0100, Tim Hanson wrote:
<snip>
>     on a similar note; How do you find your screen`s View? I always use
> GfxBase->Actiview but this assumes the user hasn`t changed view in between.

Intuition only ever uses one view, and AFAIK it re-uses that whenever
it has to change the view rather than creating a new one.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
In a hierarchy, every employee tends to rise to his level of incompetence.

------------------------------------------------------------------------
Got an opinion?
http://www.onelist.com
Make it count!  Sign up for the ONElist Weekly Survey now.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_119" " DoMethod and PPC problem. "
From: Grzegorz Fitrzyk <domagal@uci.agh.edu.pl>
Date: 06-22-99 11:41:09
Subject: @{b}DoMethod and PPC problem.@{ub}

From: Grzegorz Fitrzyk <domagal@uci.agh.edu.pl>

Hi.

I have a problem. I can't to compile my source with MUI for PPC (no
matter ppc or wos). I can do it only for 68k. I tried it on vbcc and
sasc and I thing the problem is in amiga.lib which don't contains DoMethod
function. How can I fix it?

-----------------------------------------------------------
Regards, *Grzegorz Fitrzyk SP9WUN*.


--------------------------- ONElist Sponsor ----------------------------

Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_120" " EasyRequest "
From: Darryl Hartwig <darrylh@powerup.com.au>
Date: 06-27-99 11:28:24
Subject: @{b}EasyRequest@{ub}

From: Darryl Hartwig <darrylh@powerup.com.au>

Hello peoples,

I have a question with EasyRequest().  I'm using it to
display an error on the WB if my program can't create a
screen, etc.

I'm calling it as follows:

LONG r = EasyRequest(NULL, &errorES, NULL);

where errorES is a struct of type EasyStruct.

Now this works.  I'm running DOpus Magellen II (v5.81) and
I've got the number of tasks displayed in the screen title
bar.  Now, when I force the program to terminate and
display a requester via EasyRequest(), this number has
increased by 1.  When the program terminates normally (no
error and no EasyRequest() requester), the task number is
back to what it was before.  It seems to me that the call
doesn't return somehow and is still running.  What
eventually happens, after doing this a few times, is that
my machine gurus.

I don't like this - it also seems to be eating some memory.

Anyone have any ideas what's causing the problem?

-----------------------------------------------------------
Seeya
<tsb>
<sb>Darryl Hartwig
<sb>Buccan, QLD
<sb>BTW, the Amiga is back for the future!
<sb>Member of USANA
<tsb>


--------------------------- ONElist Sponsor ----------------------------

ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_121" " Enforcer ?? "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-10-99 14:36:32
Subject: @{b}Enforcer ??@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

    Hi All,
        I`ve asked this question before and got no reply but it keeps getting
more important to me. Can anyone give me some tips on getting Enforcer to
work? Whenever I run it it just flashes the power light and locks the
computer. I`ve tried most of the CLI options, even ones that don`t make any
sense on my setup. What I want is output to a file, ideally, but output to
serial or console would be ok.
    Is there some incompatablility between Enforcer and BlizzardPPC?
    Any help will be very gratefully recieved.

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_122" " Re: Enforcer ?? "
From: Johnny T Nielsen <draco@mail1.stofanet.dk>
Date: 06-10-99 19:31:24
Subject: @{b}Re: Enforcer ??@{ub}

From: Johnny T Nielsen <draco@mail1.stofanet.dk>

On the 10-Jun-99, Tim Hanson sat down and punched the keyboard:
> From: Tim Hanson <msinister@connectfree.co.uk>

>    Hi All,
>        I`ve asked this question before and got no reply but it
> keeps getting more important to me. Can anyone give me some tips on
> getting Enforcer to work? Whenever I run it it just flashes the
> power light and locks the computer. I`ve tried most of the CLI
> options, even ones that don`t make any sense on my setup. What I
> want is output to a file, ideally, but output to serial or console
> would be ok.
>    Is there some incompatablility between Enforcer and BlizzardPPC?
>    Any help will be very gratefully recieved.

Your problem is actually quite simple: use CyberGuard instead of
enforcer. Enforcer doesn't like the current ppc-boards!

Once you get the archive it's fairly simple to direct the output where
you want it. You still need SegTracker from the enforcer archive
though.

-----------------------------------------------------------
Johnny T Nielsen, draco
using A4000,PPC/233,060/50,CVPPC

I like pigs. Dogs look up to us. Cats look down on us. Pigs treat
us as equals.
-- Winston Churchill


------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has over 165,000 e-mail communities from which to choose!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_123" " Re: Enforcer ?? "
From: Linus McCabe <sparkle@hehe.com>
Date: 06-10-99 20:37:50
Subject: @{b}Re: Enforcer ??@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 10-Jun-99, Tim Hanson wrote:

>    Is there some incompatablility between Enforcer and BlizzardPPC?
>    Any help will be very gratefully recieved.

I'm not sure, but have a look at CyberGuard by Ralph Schmidt instead, it
should work better since it's made for o4o/o6o and ppc systems and it's
very compatible with enforcer. you can find it on phaseV's ftp site, i
believe, it comes with the o6o libs, i think, or maybe in the ppc archive.

/Linus
 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

You can't have the blues in an office or a shopping mall, the lighting is
wrong.



------------------------------------------------------------------------
With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_124" " Re: Enforcer ?? "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-12-99 03:40:13
Subject: @{b}Re: Enforcer ??@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Jun 10, 1999 at 08:31:24PM +0200, Johnny T Nielsen wrote:
> From: Johnny T Nielsen <draco@mail1.stofanet.dk>
> 
> On the 10-Jun-99, Tim Hanson sat down and punched the keyboard:
> > From: Tim Hanson <msinister@connectfree.co.uk>
> 
> >    Hi All,
> >        I`ve asked this question before and got no reply but it
> > keeps getting more important to me. Can anyone give me some tips on
> > getting Enforcer to work? Whenever I run it it just flashes the
> > power light and locks the computer. I`ve tried most of the CLI
> > options, even ones that don`t make any sense on my setup. What I
> > want is output to a file, ideally, but output to serial or console
> > would be ok.
> >    Is there some incompatablility between Enforcer and BlizzardPPC?
> >    Any help will be very gratefully recieved.
> 
> Your problem is actually quite simple: use CyberGuard instead of
> enforcer. Enforcer doesn't like the current ppc-boards!
<snip>

Some of the PPC boards have broken firmware that doesn't add all their
I/O areas to any system list.  This means that when Enforcer builds
the new MMU tree it maps those areas as invalid, and the computer
simply stops working.  There was another problem that caused Enforcer
to slow down 68060s, but that may have been solved.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Q.  Which is the greater problem in the world today, ignorance or apathy?
A.  I don't know and I couldn't care less.

------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_125" " example.c "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-11-99 00:23:16
Subject: @{b}example.c@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hi!
I just got SAS C 6.50 (great thing that Software Hut had them; really worth
the price:-). I tried to compile the example.c but I got an "invalid
lexical token" error (#4). Did anybody get that after installing SAS C
(buggy piece of code right off the bat)? It happened both before and after
upgrading to 6.58. Also when I tried to compile the hello.c all went well
but I got a Guru when I tried to run it. What I did then was to run the
scopts and change the processor type to 68060 (as that's what I have),
compile it again and then it worked fine. Which option do I use if I want
my program to run an any Amiga?

Voytek


------------------------------------------------------------------------
Have you entered ONElist's "Grow to Give" program?
http://www.onelist.com
Deadline is June 19.  Join now to win $5000 for your charity of choice.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_126" " Re: example.c "
From: Felix Schwarz <felix@innovative-web.de>
Date: 06-11-99 15:15:01
Subject: @{b}Re: example.c@{ub}

From: Felix Schwarz <felix@innovative-web.de>

Hello!

Is it possible to replace the titlebar of a window with a BOOPSI-gadget with the
window-titlebar still remaining intact (e.g. for dragging, etc.) ?

CU,
  Felix

-----------------------------------------------------------
Developer at Innovative

Innovative
c/o Felix Schwarz
Am Gründla 3
D-91074 Herzogenaurach
Germany

EMail: felix@innovative-web.de
WWW:   http://innovative.in-tec.de/ (MOVING SOON!)
Phone: +(0)049 (0)9132/3400



------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_127" " Re: example.c "
From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>
Date: 06-12-99 00:20:56
Subject: @{b}Re: example.c@{ub}

From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>

On 11-Jun-99  did write:
> From: Felix Schwarz <felix@innovative-web.de>
> 
> Hello!
> 
> Is it possible to replace the titlebar of a window with a BOOPSI-gadget with
> the window-titlebar still remaining intact (e.g. for dragging, etc.) ?
> 
I have been playing around with the borders recently, it is possible to place
any gadget in any of the 4 borders, the borders will also resize themselves to
accomodate the size of the gadget.  You don't have to use BOOPSI, but it is a
lot simpler then using the Gadget functions from the Intuition library.

The titlebar won't remain intact though, unless you make the gadget very small
so you can click round it.  then there is the system gadgets to think about.  It
is possible though, if you use your gadget to manually move the window using
MoveWindow(), when checking for some ICDMP flags, I haven't got the autodocs
with me right now, but it'd e the MOUSEDOWN, and MOUSEMOVE ones.

Andrew Markwell

------------------------------------------------------------------------
Have you entered ONElist's "Grow to Give" program?
http://www.onelist.com
Deadline is June 19.  Join now to win $5000 for your charity of choice.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_128" " Re: example.c "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-12-99 04:34:26
Subject: @{b}Re: example.c@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Jun 11, 1999 at 03:15:01PM +0100, Felix Schwarz wrote:
> From: Felix Schwarz <felix@innovative-web.de>
> 
> Hello!
> 
> Is it possible to replace the titlebar of a window with a
> BOOPSI-gadget with the window-titlebar still remaining intact
> (e.g. for dragging, etc.) ?

Yes.  If the value of gad.Type & GTYP_SYSTYPEMASK is 0 then Intuition
sends messages about the gadget to the user program; otherwise the
value indicates that the gadget is a particular kind of system gadget
which Intuition should handle itself.  The values are listed in
intuition/intuition.h.  For a window drag bar you need to use the flag
GTYP_WDRAGGING.

There is no need to tell Intuition to create the window drag gadget if
you will create your own; you might as well leave out this window
flag.  The drag gadget is something separate from the title bar.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Q.  Which is the greater problem in the world today, ignorance or apathy?
A.  I don't know and I couldn't care less.

------------------------------------------------------------------------
How many communities do you think join ONElist each week?
http://www.onelist.com
More than 5,000!  Create yours now!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_129" " Re: example.c "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-12-99 12:59:27
Subject: @{b}Re: example.c@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 11 Felix (Felix Schwarz) wrote:

> From: Felix Schwarz <felix@innovative-web.de>
> 
> Hello!
> 
> Is it possible to replace the titlebar of a window with a BOOPSI-gadget with the
> window-titlebar still remaining intact (e.g. for dragging, etc.) ?

   You might be able to retain the dragging feature, but the window title
printing is a feature that's intimately tied to the border at the top of a
window.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
Deadline is June 19.  See homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_130" " Re: example.c "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 06-14-99 03:35:58
Subject: @{b}Re: example.c@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

Hello Voytek

On 10-Jun-99, Voytek Laniewski wrote:
> From: Voytek Laniewski <voytek@cyburban.com>
> 
> Hi!
> I just got SAS C 6.50 (great thing that Software Hut had them; really worth
> the price:-). I tried to compile the example.c but I got an "invalid
> lexical token" error (#4). Did anybody get that after installing SAS C
> (buggy piece of code right off the bat)? It happened both before and after
> upgrading to 6.58. Also when I tried to compile the hello.c all went well
> but I got a Guru when I tried to run it. What I did then was to run the
> scopts and change the processor type to 68060 (as that's what I have),
> compile it again and then it worked fine. Which option do I use if I want
> my program to run an any Amiga?

It should tell you what line number the error is in, post the applicable line
(or if it's not too big, the entire source) and it'd be much easier to help.

  Rod


------------------------------------------------------------------------
Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_131" " Re: example.c "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-14-99 03:42:00
Subject: @{b}Re: example.c@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hello Rod

On 13-Jun-99, Rod Schnell wrote:
> From:    Rod Schnell <rodsch@telusplanet.net>
> 
> Hello Voytek
> 
> On 10-Jun-99, Voytek Laniewski wrote:
>> From: Voytek Laniewski <voytek@cyburban.com>
>> 
>> Hi!
>> I just got SAS C 6.50 (great thing that Software Hut had them; really
>> worth the price:-). I tried to compile the example.c but I got an
>> "invalid lexical token" error (#4). Did anybody get that after installing
>> SAS C (buggy piece of code right off the bat)? It happened both before
>> and after upgrading to 6.58. Also when I tried to compile the hello.c all
>> went well but I got a Guru when I tried to run it. What I did then was to
>> run the scopts and change the processor type to 68060 (as that's what I
>> have), compile it again and then it worked fine. Which option do I use if
>> I want my program to run an any Amiga?
> 
> It should tell you what line number the error is in, post the applicable
> line (or if it's not too big, the entire source) and it'd be much easier
> to help.

Here you go:

#include <stdio.h>
#include <math.h>
#include <proto/dos.h>

int main(void)
{
   int i=42;
   double d$,d;

   d=i/2;
   d$=2;
   printf("i = %d, d=%2.1f\n",i,d);
   Delay(60);
   return(0);
}

Voytek


------------------------------------------------------------------------
How has ONElist changed your life?
Share your story with us at http://www.onelist.com
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_132" " Re: example.c "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-14-99 08:48:53
Subject: @{b}Re: example.c@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 13 Voytek (Voytek Laniewski) wrote:

> From: Voytek Laniewski <voytek@cyburban.com>
> 
> Hello Rod
> 
> On 13-Jun-99, Rod Schnell wrote:
> > From:    Rod Schnell <rodsch@telusplanet.net>
> > 
> > Hello Voytek
> > 
> > On 10-Jun-99, Voytek Laniewski wrote:
> >> From: Voytek Laniewski <voytek@cyburban.com>
> >> 
> >> Hi!
> >> I just got SAS C 6.50 (great thing that Software Hut had them; really
> >> worth the price:-). I tried to compile the example.c but I got an
> >> "invalid lexical token" error (#4). Did anybody get that after installing
> >> SAS C (buggy piece of code right off the bat)? It happened both before
> >> and after upgrading to 6.58. Also when I tried to compile the hello.c all
> >> went well but I got a Guru when I tried to run it. What I did then was to
> >> run the scopts and change the processor type to 68060 (as that's what I
> >> have), compile it again and then it worked fine. Which option do I use if
> >> I want my program to run an any Amiga?
> > 
> > It should tell you what line number the error is in, post the applicable
> > line (or if it's not too big, the entire source) and it'd be much easier
> > to help.
> 
> Here you go:
> 
> #include <stdio.h>
> #include <math.h>
> #include <proto/dos.h>
> 
> int main(void)
> {
>    int i=42;
>    double d$,d;
> 
>    d=i/2;
>    d$=2;
>    printf("i = %d, d=%2.1f\n",i,d);
>    Delay(60);
>    return(0);
> }

   If the compiler complains about an invalid lexical token, it's usually
dead right about it. The reason for the complaint is commonly a user error,
unless a hardware error sneaks in which invalidates memory or storage devices,
flipping bits and thereby changing single characters in the source code. Yes,
such things happen. But in your example program, the error is in the use of
the "$" character: in `C' that character has no meaning and is considered
invalid. I don't know what you expected to happen by using that character,
but I'd be mighty surprised if it weren't responsible for the problems you had.
And no, this is a problem defined by the language itself and no change of
the target processor will solve it.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

------------------------------------------------------------------------
Congratulations to "INDIE-GRRL," our latest ONElist of the Week.  
http://www.onelist.com
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_133" " Re: example.c "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 06-14-99 09:05:38
Subject: @{b}Re: example.c@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

Hello Voytek

On 13-Jun-99, Voytek Laniewski wrote:
> From: Voytek Laniewski <voytek@cyburban.com>

> #include <stdio.h>
> #include <math.h>
> #include <proto/dos.h>
> 
> int main(void)
> {
>   int i=42;
>   double d$,d;
> 
>   d=i/2;
>   d$=2;
>   printf("i = %d, d=%2.1f\n",i,d);
>   Delay(60);
>   return(0);
> }

Replace all occurances of 'd$' with 'a' and it'll compile and run fine.
Dunno what the '$' is supposed to do, but 'd$' is not a valid variable name
in C.

  Rod


------------------------------------------------------------------------
Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_134" " Re: example.c "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 06-14-99 15:06:23
Subject: @{b}Re: example.c@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 14-Jun-99, Rod Schnell wrote:
>From:Rod Schnell <rodsch@telusplanet.net>
-snip-
>Replace all occurances of 'd$' with 'a' and it'll compile and run fine.
>Dunno what the '$' is supposed to do, but 'd$' is not a valid variable name
>in C.
>  Rod

Hi Rod,   I think I can smell a basic programmer, can you ?........

----------------------------------------------------
Colin Wenzel. Australia.   colstv@hotkey.net.au
URL:    http://www.hotkey.net.au/~colstv/      
                                               
'AMIGA' 4000T With  CS-III 68060 / 50Mhz 150Mb RAM. 
----------------------------------------------------


------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_135" " Re: example.c "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-14-99 17:07:27
Subject: @{b}Re: example.c@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hello Colin

On 14-Jun-99, Colin Wenzel wrote:
> From: Colin Wenzel <colstv@hotkey.net.au>
> 
> On 14-Jun-99, Rod Schnell wrote:
>> From:Rod Schnell <rodsch@telusplanet.net>
> -snip-
>> Replace all occurances of 'd$' with 'a' and it'll compile and run fine.
>> Dunno what the '$' is supposed to do, but 'd$' is not a valid variable
>> name in C.
>>  Rod
> 
> Hi Rod,   I think I can smell a basic programmer, can you ?........

No. Not BASIC! There was a long time ago when I used it but now I can't
stand it. As I said this file was in the Example directory of the sc: tree
and I thought as such it should've compiled without problems. But the main
point is that this file was this way right after the installation of SAS/C
and I do not know how can that be? I am curious if anybody else installed
SAS/C 6.50 and got the same result? Or is it just me?

Voytek


------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_136" " Re: example.c "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-14-99 17:27:07
Subject: @{b}Re: example.c@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hello Olaf

On 14-Jun-99, Olaf Barthel wrote:
> From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>
> 
> On Jun 13 Voytek (Voytek Laniewski) wrote:
> 
>> From: Voytek Laniewski <voytek@cyburban.com>
>> 
>> Hello Rod
>> 
>> On 13-Jun-99, Rod Schnell wrote:
>>> From:    Rod Schnell <rodsch@telusplanet.net>
>>> 
>>> Hello Voytek
>>> 
>>> On 10-Jun-99, Voytek Laniewski wrote:
>>> From: Voytek Laniewski <voytek@cyburban.com>
>>> 
>>> Hi!
>>> I just got SAS C 6.50 (great thing that Software Hut had them; really
>>> worth the price:-). I tried to compile the example.c but I got an
>>> "invalid lexical token" error (#4). Did anybody get that after
>>> installing SAS C (buggy piece of code right off the bat)? It happened
>>> both before and after upgrading to 6.58. Also when I tried to compile
>>> the hello.c all went well but I got a Guru when I tried to run it. What
>>> I did then was to run the scopts and change the processor type to 68060
>>> (as that's what I have), compile it again and then it worked fine.
>>> Which option do I use if I want my program to run an any Amiga?
>> 
>> It should tell you what line number the error is in, post the applicable
>> line (or if it's not too big, the entire source) and it'd be much easier
>> to help.
>> 
>> Here you go:
>> 
>> #include <stdio.h>
>> #include <math.h>
>> #include <proto/dos.h>
>> 
>> int main(void)
>> {
>>   int i=42;
>>   double d$,d;
>> 
>>   d=i/2;
>>   d$=2;
>>   printf("i = %d, d=%2.1f\n",i,d);
>>   Delay(60);
>>   return(0);
>> }
> 
>   If the compiler complains about an invalid lexical token, it's usually
> dead right about it. The reason for the complaint is commonly a user
> error, unless a hardware error sneaks in which invalidates memory or
> storage devices, flipping bits and thereby changing single characters in
> the source code. Yes, such things happen. But in your example program, the
> error is in the use of the "$" character: in `C' that character has no
> meaning and is considered invalid. I don't know what you expected to
> happen by using that character, but I'd be mighty surprised if it weren't
> responsible for the problems you had. And no, this is a problem defined by
> the language itself and no change of the target processor will solve it.

Guys! Please don't yell at me but can anybody here comprehend what I asked?
Maybe I didn't make myself clear so allow me to rephrase: did anybody,
after installing SAS/C 6.50, try to compile the "example.c" file which is
in the Examples directory in the sc: tree? What results did you get? As you
can see I did not write the "example.c" file. It came with the compiler.
What I want to know is if it happened only on my system or was it really
screwed up by the SAS Institute? As for the processor change I was
reffering to the "hello.c" file which also was installed by the SAS/C
Install script. This file compiles without a hitch. The problem I got was
that if I used the default settings for the compiler the resulting "hello"
program would Guru on my 060 system. Can anybody confirm that? So after
having the options set for the compiler to produce 060 code the program
"hello" worked ok but I do not know if it will run now on any other
processor. So my question is thus: how do I have the compiler produce code
that runs on any processor? Oh and I am posting here because the SAS-C list
seems to be dead. Thanx,

Voytek


------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
Deadline is June 19.  See homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_137" " Re: example.c "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-14-99 17:31:19
Subject: @{b}Re: example.c@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hello Rod

On 14-Jun-99, Rod Schnell wrote:
> From:    Rod Schnell <rodsch@telusplanet.net>
> 
> Hello Voytek
> 
> On 13-Jun-99, Voytek Laniewski wrote:
>> From: Voytek Laniewski <voytek@cyburban.com>
> 
>> #include <stdio.h>
>> #include <math.h>
>> #include <proto/dos.h>
>> 
>> int main(void)
>> {
>>   int i=42;
>>   double d$,d;
>> 
>>   d=i/2;
>>   d$=2;
>>   printf("i = %d, d=%2.1f\n",i,d);
>>   Delay(60);
>>   return(0);
>> }
> 
> Replace all occurances of 'd$' with 'a' and it'll compile and run fine.
> Dunno what the '$' is supposed to do, but 'd$' is not a valid variable
> name in C.

After looking through the SAS/C manuals I found out how this file should
read:

#include <stdio.h>
#include <math.h>
#include <proto/dos.h>

int main(void)
{
   int i=42;
   double d;

   d=i/2;
   printf("i = %d, d=%2.1f\n",i,d);
   Delay(60);
   return(0);
}

So I guess the problem is solved. But what stumped me was that SAS/C coming
from a good, reputable company would have this kind of error in its
installation. Can anybody with SAS/C 6.50 confirm that? Or is it just me?

Voytek


------------------------------------------------------------------------
Have you entered ONElist's "Grow to Give" program?
http://www.onelist.com
Deadline is June 19.  Join now to win $5000 for your charity of choice.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_138" " Re: example.c "
From: Linus McCabe <sparkle@hehe.com>
Date: 06-14-99 19:02:49
Subject: @{b}Re: example.c@{ub}

From: Linus McCabe <sparkle@hehe.com>

Hello Colin

>> Replace all occurances of 'd$' with 'a' and it'll compile and run fine.
>> Dunno what the '$' is supposed to do, but 'd$' is not a valid variable
>> name in C.
>>  Rod
> 
> Hi Rod,   I think I can smell a basic programmer, can you ?........

The funny thing is that this is an example provided with sas. The readme
file says the example is documented in vol 1, but it isnt. Not that I found
anyway. Maybe its an example of error messages or something, I dunno, I
think they should have written about it if it was.

/Linus
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Very simple, yet very complicated calculations



------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has over 165,000 e-mail communities from which to choose!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_139" " Re: example.c "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-14-99 20:03:31
Subject: @{b}Re: example.c@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hello Linus

On 14-Jun-99, Linus McCabe wrote:
> From: Linus McCabe <sparkle@hehe.com>
> 
> Hello Colin
> 
>>> Replace all occurances of 'd$' with 'a' and it'll compile and run fine.
>>> Dunno what the '$' is supposed to do, but 'd$' is not a valid variable
>>> name in C.
>>>  Rod
>> 
>> Hi Rod,   I think I can smell a basic programmer, can you ?........
> 
> The funny thing is that this is an example provided with sas. The readme
> file says the example is documented in vol 1, but it isnt. Not that I
> found anyway. Maybe its an example of error messages or something, I
> dunno, I think they should have written about it if it was.

You are right: it is an example provided with SAS/C. And eventually I found
it in the manual. But it did not have the '$' in it. And it is not
mentioned in the debugging examples either. That's what threw me off.

Voytek


------------------------------------------------------------------------
Get involved. Share your thoughts!
http://www.onelist.com
Join the ONElist Weekly Survey.  Go to homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_140" " Re: example.c "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-14-99 20:18:30
Subject: @{b}Re: example.c@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 14 Voytek (Voytek Laniewski) wrote:

> [..]
> Guys! Please don't yell at me but can anybody here comprehend what I asked?
> Maybe I didn't make myself clear so allow me to rephrase: did anybody,
> after installing SAS/C 6.50, try to compile the "example.c" file which is
> in the Examples directory in the sc: tree? What results did you get? As you
> can see I did not write the "example.c" file. It came with the compiler.

   Ah, I see your point. I don't see any way to make that particular
example program work, it's lexically wrong. Perhaps that's just the
intention: provide an example of a program that will generate a well-known
set of errors. Really, really strange. The example.c file is not identical
to the program text presented in the printed manual (page 15, User's Guide,
Volume I).

> What I want to know is if it happened only on my system or was it really
> screwed up by the SAS Institute? As for the processor change I was
> reffering to the "hello.c" file which also was installed by the SAS/C
> Install script. This file compiles without a hitch. The problem I got was
> that if I used the default settings for the compiler the resulting "hello"
> program would Guru on my 060 system. Can anybody confirm that?

   The 6.50 compiler would use code optimizations that would crash on an
68060 CPU with a particular type of 68060.library installed. If you have
the wrong 68060.library and the wrong SAS/C version (it took several
patches to make it work), your code might easily crash.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

------------------------------------------------------------------------
Got an opinion?
http://www.onelist.com
Make it count!  Sign up for the ONElist Weekly Survey now.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_141" " Re: example.c "
From: Daniel Schwill <MCDan@t-online.de>
Date: 06-14-99 22:25:57
Subject: @{b}Re: example.c@{ub}

From: MCDan@t-online.de (Daniel Schwill)

Am 14-Jun-99 schrieb Voytek Laniewski:

>From: Voytek Laniewski <voytek@cyburban.com>

>Hello Rod

>On 14-Jun-99, Rod Schnell wrote:
>> From:    Rod Schnell <rodsch@telusplanet.net>
>> 
>> Hello Voytek
>> 
>> On 13-Jun-99, Voytek Laniewski wrote:
>>> From: Voytek Laniewski <voytek@cyburban.com>
>> 
>>> #include <stdio.h>
>>> #include <math.h>
>>> #include <proto/dos.h>
>>> 
>>> int main(void)
>>> {
>>>   int i=42;
>>>   double d$,d;
>>> 
>>>   d=i/2;
>>>   d$=2;
>>>   printf("i = %d, d=%2.1f\n",i,d);
>>>   Delay(60);
>>>   return(0);
>>> }
>> 
>> Replace all occurances of 'd$' with 'a' and it'll compile and run fine.
>> Dunno what the '$' is supposed to do, but 'd$' is not a valid variable
>> name in C.

>After looking through the SAS/C manuals I found out how this file should
>read:

>#include <stdio.h>
>#include <math.h>
>#include <proto/dos.h>

>int main(void)
>{
>   int i=42;
>   double d;

>   d=i/2;
>   printf("i = %d, d=%2.1f\n",i,d);
>   Delay(60);
>   return(0);
>}

>So I guess the problem is solved. But what stumped me was that SAS/C coming
>from a good, reputable company would have this kind of error in its
>installation. Can anybody with SAS/C 6.50 confirm that? Or is it just me?

I have the 'broken' example.c in my examples directory, too.

>Voytek

Bye.

   Dan.


------------------------------------------------------------------------
How has ONElist changed your life?
Share your story with us at http://www.onelist.com
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_142" " Re: example.c "
From: "Harry J. Miktarian" <im007@jps.net>
Date: 06-15-99 20:00:25
Subject: @{b}Re: example.c@{ub}

From: "Harry J. Miktarian" <im007@jps.net>

I looked in my example source directory and found that the line 
"double d$, d;" is wrong on mine also.  Funny thing is, there is that there
is supposed to be an error on this line.
The SAS manual states that they left off the semicolon to demonstrate scmsg.
 It seems they use
a different error in the manual than in their source :)



-----------------------------------------------------------
                                     Kind Regards,

                                    Harry Miktarian




------------------------------------------------------------------------
Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_143" " Re: example.c "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-15-99 20:15:42
Subject: @{b}Re: example.c@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Jun 14, 1999 at 08:18:30PM +0100, Olaf Barthel wrote:
<snip>
>    The 6.50 compiler would use code optimizations that would crash on an
> 68060 CPU with a particular type of 68060.library installed. If you have
> the wrong 68060.library and the wrong SAS/C version (it took several
> patches to make it work), your code might easily crash.

Is this is the result of a branch prediction failure when branching
into the `middle' of an instruction?

I remember that SAS/C is very fond of compiling if...else statements
into:
    ...        ;evaluate condition
    Bcc.S    label
    ...        ;either the `if' or `else' block
    DC.W    $0C40    ;first word of CMP.W #$XXXX,D0
label    ...        ;the other block
    ...
where `the other block' is a 1-word instruction.

I do so love buggy processor support code.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Q.  Which is the greater problem in the world today, ignorance or apathy?
A.  I don't know and I couldn't care less.

------------------------------------------------------------------------
How many communities do you think join ONElist each week?
http://www.onelist.com
More than 5,000!  Create yours now!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_144" " Re: example.c: Thanx "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-16-99 00:36:55
Subject: @{b}Re: example.c: Thanx@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hello Olaf

On 14-Jun-99, Olaf Barthel wrote:
> From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>
> 
> On Jun 14 Voytek (Voytek Laniewski) wrote:
> 
>> [..]
>> Guys! Please don't yell at me but can anybody here comprehend what I
>> asked? Maybe I didn't make myself clear so allow me to rephrase: did
>> anybody, after installing SAS/C 6.50, try to compile the "example.c" file
>> which is in the Examples directory in the sc: tree? What results did you
>> get? As you can see I did not write the "example.c" file. It came with
>> the compiler.
> 
>   Ah, I see your point. I don't see any way to make that particular
> example program work, it's lexically wrong. Perhaps that's just the
> intention: provide an example of a program that will generate a well-known
> set of errors. Really, really strange. The example.c file is not identical
> to the program text presented in the printed manual (page 15, User's
> Guide, Volume I).

Yep, it's there. But according to the manual it is not supposed to have
anything funny in it. I am new to SAS/C and that confused me. But now it
has been clarified. Thanx
> 
>> What I want to know is if it happened only on my system or was it really
>> screwed up by the SAS Institute? As for the processor change I was
>> reffering to the "hello.c" file which also was installed by the SAS/C
>> Install script. This file compiles without a hitch. The problem I got was
>> that if I used the default settings for the compiler the resulting
>> "hello" program would Guru on my 060 system. Can anybody confirm that?
> 
>   The 6.50 compiler would use code optimizations that would crash on an
> 68060 CPU with a particular type of 68060.library installed. If you have
> the wrong 68060.library and the wrong SAS/C version (it took several
> patches to make it work), your code might easily crash.

Ahhh, I see. Now I have SAS/C 6.58 and the latest 68060.library and the
problem seems to be gone. Just one more of those things that are not in the
manual. Thanx again,

Voytek


------------------------------------------------------------------------
How has ONElist changed your life?
Share your story with us at http://www.onelist.com
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_145" " Re: example.c: Thanx "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-16-99 08:09:43
Subject: @{b}Re: example.c: Thanx@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 15 Voytek (Voytek Laniewski) wrote:

> [..]
> >   The 6.50 compiler would use code optimizations that would crash on an
> > 68060 CPU with a particular type of 68060.library installed. If you have
> > the wrong 68060.library and the wrong SAS/C version (it took several
> > patches to make it work), your code might easily crash.
> 
> Ahhh, I see. Now I have SAS/C 6.58 and the latest 68060.library and the
> problem seems to be gone. Just one more of those things that are not in the
> manual.

   You tell me ;)  I had been chasing that particular problem in `term' for
quite a while when I still believed it was really a bug in my `C' code. This
was difficult to reproduce, to say the least, especially while only few
Amigas had 68060 accellerators installed. This particular type of crash could
not be reliably reproduced. What happened was a "branch prediction cache
exception" which the 68060.library did not trap. In order to trigger this
exception, code had to foul up the branch prediction cache, which was just
what a loop optimization in the SAS/C-generated code did. When this was
finally discovered, I learned an important lesson: if you can't explain why
a bug manifests itself in software, blame the hardware. Hardware bugs can
trigger the most bizarre bugs in software which, from the software point of
view, are absolutely inexplicable.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

------------------------------------------------------------------------
Make your voice heard!
http://www.onelist.com
Sign up for the ONElist Weekly Survey.  Go to homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_146" " FindHit that works with SAS/C++ 7? "
From: Ray Akey <rakey@cnetbbs.net>
Date: 06-12-99 06:37:17
Subject: @{b}FindHit that works with SAS/C++ 7?@{ub}

&Z    jGw%!4(4(*'V42dQ/Z-8%h~^Ywrgj!jn08%bZFX{JiayDKwrr{ 
@ENDNODE
@NODE "Mail_147" " Finding the device that a volume is in "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-04-99 01:12:05
Subject: @{b}Finding the device that a volume is in@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

If I have a lock on a file (in my case it's actually the root
directory), how do I find out which device (if any) the file's volume
is currently in?  I can find the volume node, no problem.  I can find
the handler's process.  I can't see how to find the device node.

Ben.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
In a hierarchy, every employee tends to rise to his level of incompetence.

------------------------------------------------------------------------
Did you know each week we feature a ONElist story?
http://www.onelist.com
How has ONElist changed your life?  Please share your story.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_148" " Re: Finding the device that a volume is in "
From: jack york <jyork@voyager.net>
Date: 06-04-99 15:37:40
Subject: @{b}Re: Finding the device that a volume is in@{ub}

Hello Ben

On 03-Jun-99, Ben Hutchings wrote:
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> If I have a lock on a file (in my case it's actually the root
> directory), how do I find out which device (if any) the file's volume
> is currently in?  I can find the volume node, no problem.  I can find
> the handler's process.  I can't see how to find the device node.


I don't know if the attached code is what you are looking for.  Hope it
helps.

Jack
===========================================================2: GetVolume.c
[1mContent-Type:[0m plain text   [1mSize:[0m 1223 bytes
-----------------------------------------------------------
/* GetVolume.c     -- Written  02/13/87 by Chuck McManis feel free to use it
 * 
 * This simple Program can be used to get the Volume name for a given file. 
 * Works on any device, even the RAM: device.
 *
 * Note: The BADDR macro is in the dos.h file
 */

#include <exec/types.h>
#include <libraries/dos.h>
#include <libraries/dosextens.h>
#include <stdio.h>

void main()

{
  char    VolumeName[40], FileName[80], *MyVolume;
  struct FileLock    *MyLock;


  printf("Enter a file name :");
  gets(FileName);

  /* Simultaneous get a lock and convert BPTR to a C pointer */
  MyLock = (struct FileLock *)BADDR(Lock(FileName,ACCESS_READ));
  if (MyLock == NULL) {
    printf("File could not be found!\n");
    exit(20); /* Die appropriately on failure */
    }
  /* This next statement chases the BCPL pointers thru a FileLock and    *
   * DeviceList structures                         */
  MyVolume = (char *)
       BADDR(((struct DeviceList *)BADDR(MyLock->fl_Volume))->dl_Name);
  /* Lattice V3.10 function to copy a string and Null terminate it */
  stccpy(VolumeName,MyVolume+1,MyVolume[0]+1);
  printf("That file resides on Volume '%s' \n",VolumeName);
  UnLock(((long)MyLock) >> 2);  /* You must UnLock or the GURU visits */
  exit(0);
}


@ENDNODE
@NODE "Mail_149" " Re: Finding the device that a volume is in "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-05-99 03:19:53
Subject: @{b}Re: Finding the device that a volume is in@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Jun 04, 1999 at 09:37:40AM -0500, jack york wrote:
> Hello Ben
> 
> On 03-Jun-99, Ben Hutchings wrote:
> > From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> > 
> > If I have a lock on a file (in my case it's actually the root
> > directory), how do I find out which device (if any) the file's volume
> > is currently in?  I can find the volume node, no problem.  I can find
> > the handler's process.  I can't see how to find the device node.
> 
> 
> I don't know if the attached code is what you are looking for.  Hope it
> helps.
<snip>

I'm afraid not.  That only finds the volume node, which I said I could
already do.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
In a hierarchy, every employee tends to rise to his level of incompetence.

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 160,000 e-mail communities from which to chose!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_150" " Re: Finding the device that a volume is in "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-06-99 16:36:47
Subject: @{b}Re: Finding the device that a volume is in@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 5 Ben (Ben Hutchings) wrote:

> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> On Fri, Jun 04, 1999 at 09:37:40AM -0500, jack york wrote:
> > Hello Ben
> > 
> > On 03-Jun-99, Ben Hutchings wrote:
> > > From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> > > 
> > > If I have a lock on a file (in my case it's actually the root
> > > directory), how do I find out which device (if any) the file's volume
> > > is currently in?  I can find the volume node, no problem.  I can find
> > > the handler's process.  I can't see how to find the device node.
> > 
> > 
> > I don't know if the attached code is what you are looking for.  Hope it
> > helps.
> <snip>
> 
> I'm afraid not.  That only finds the volume node, which I said I could
> already do.

   I don't have a self-contained code fragment handy at the moment, but
in order to find the volume associated with a device, all you need to do
is compare the dol_Task pointers. That is, first define the volume you are
going to deal with and keep a copy of its dol_Task pointer, then scan
the list of DOS devices (DLT_DEVICE) for an entry that has the same address
in its dol_Task member. This will be exactly the device the volume belongs
to.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Have you entered ONElist's "Grow to Give" program?
http://www.onelist.com
Deadline is June 19.  Join now to win $5000 for your charity of choice.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_151" " Re: Finding the device that a volume is in "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-06-99 23:02:18
Subject: @{b}Re: Finding the device that a volume is in@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 5 Ben (Ben Hutchings) wrote:

> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> On Fri, Jun 04, 1999 at 09:37:40AM -0500, jack york wrote:
> > Hello Ben
> > 
> > On 03-Jun-99, Ben Hutchings wrote:
> > > From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> > > 
> > > If I have a lock on a file (in my case it's actually the root
> > > directory), how do I find out which device (if any) the file's volume
> > > is currently in?  I can find the volume node, no problem.  I can find
> > > the handler's process.  I can't see how to find the device node.
> > 
> > 
> > I don't know if the attached code is what you are looking for.  Hope it
> > helps.
> <snip>
> 
> I'm afraid not.  That only finds the volume node, which I said I could
> already do.

   I don't have a self-contained code fragment handy at the moment, but
in order to find the volume associated with a device, all you need to do
is compare the dol_Task pointers. That is, first define the volume you are
going to deal with and keep a copy of its dol_Task pointer, then scan
the list of DOS devices (DLT_DEVICE) for an entry that has the same address
in its dol_Task member. This will be exactly the device the volume belongs
to.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
Have you entered ONElist's "Grow to Give" program?
http://www.onelist.com
Deadline is June 19.  Join now to win $5000 for your charity of choice.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_152" " Gamesmith GDS "
From: John Jans <jjans@telusplanet.net>
Date: 06-02-99 05:05:00
Subject: @{b}Gamesmith GDS@{ub}

From:    "John Jans" <jjans@telusplanet.net>

    Hello , I'm just trying out this new group. I'm a newby to C, esp on the
amiga. I have an old copy of Gamesmith Development System. Anyone heard of
it, or still may use it?

    I'd like to hear from those who do, especially anyone who compiles with
Dice.
JJ



------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has nearly 160,000 e-mail communities from which to chose!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_153" " GA_RelRight "
From: sooozes_guy@hotmail.com
Date: 06-07-99 23:16:06
Subject: @{b}GA_RelRight@{ub}

From: sooozes_guy@hotmail.com

Hi,

I am having a problem with BOOPSI.  What I want to do is to align a gadget from the right side of the window, I have set up a TagItem array with GA_Left, GA_Top etc.. I have set the GA_Left to a nagative number, however I can not get the gadget to display aligned from the right window using GA_RelRight.  It will display fine from the left side, but not the right, or even the bottom when I use GA_RelBottom.

Is there something I am missing?  I am attaching the gadget list to the window using the WA_Gadgets tag.

Douglas
  

------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
Deadline is June 19.  See homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_154" " Re: GA_RelRight "
From: Daniel Schwill <MCDan@t-online.de>
Date: 06-08-99 18:55:03
Subject: @{b}Re: GA_RelRight@{ub}

From: MCDan@t-online.de (Daniel Schwill)

Am 07-Jun-99 schrieb sooozes_guy@hotmail.com:

>From: sooozes_guy@hotmail.com

>Hi,

>I am having a problem with BOOPSI.  What I want to do is to align a gadget
>from the right side of the window, I have set up a TagItem array with
GA_Left,
>GA_Top etc.. I have set the GA_Left to a nagative number, however I can not
>get the gadget to display aligned from the right window using GA_RelRight. 
It
>will display fine from the left side, but not the right, or even the bottom
>when I use GA_RelBottom.

>Is there something I am missing?  I am attaching the gadget list to the
window
>using the WA_Gadgets tag.

You have to set the position with GA_RelRight. Intuition sets GFLG_RELRIGHT
and uses the value of GA_RelRight for LeftEdge.

>Douglas

Bye.

   Dan.


------------------------------------------------------------------------
Congratulations to "INDIE-GRRL," our latest ONElist of the Week.  
http://www.onelist.com
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_155" " Getting a list of devices.. "
From: Kevin Bewley <kevin.bewley@camr.org.uk>
Date: 06-22-99 16:14:54
Subject: @{b}Getting a list of devices..@{ub}

From: "Kevin Bewley" <kevin.bewley@camr.org.uk>

Hi,
   I'm writing a program in C and I want to have a list view in my 
window that displays the devices.

eg. DF0: DF1: WB: DH1: PC0: etc.

   Currently my program just has an Exec list in the listview of the 
names I have hard-coded in myself. What I'd like to do is get this 
list of names dynamically. I know it can be done but I have a horrid 
feeling it has lots to do with BCPL pointers and so on which I klnow 
very little about. Can anyone give me a hand? Or mail me source-
code where they have done something similar.

Thanks in advance for any help,
Kevin

--------
A1200 Kick 3.0 '060/50MHz + SCSI 50Mb RAM 
1.3Gb Hitachi HD 2x SCSI CD-ROM

--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_156" " Re: Getting a list of devices.. "
From: David McMinn <D.Mcminn@eee.rgu.ac.uk>
Date: 06-22-99 16:21:31
Subject: @{b}Re: Getting a list of devices..@{ub}

From: "David McMinn" <D.Mcminn@eee.rgu.ac.uk>


>    Currently my program just has an Exec list in the listview of the 
> names I have hard-coded in myself. What I'd like to do is get this 
> list of names dynamically. I know it can be done but I have a horrid 
> feeling it has lots to do with BCPL pointers and so on which I klnow 
> very little about. Can anyone give me a hand? Or mail me source-
> code where they have done something similar.

The source code for Split has this code in it, although the source is a bit 
messy. Its on Aminet somewhere, possibly dev/c. Or maybe in the main archive, 
although I can't remember what drawer that's in (util/???).

As for BCPL pointers, they are just pointers to something on a 4 byte boundary. 
To convert from a BCPL pointer to a regular pointer, you just multiply it by 4.

BCPL strings are the same, but they store the length of the string in the first 
byte, so the string starts at BCPL * 4 + 1.


-----------------------------------------------------------
|) /\ \/ ][ |)   |\/| © |\/| ][ |\| |\|
 dmcminn@house-of-mojo.freeserve.co.uk
  http://members.xoom.com/David_McMinn
             ICQ=16827694
We are born naked, wet, and hungry....Then things get worse.


--------------------------- ONElist Sponsor ----------------------------

Books, music, videos, gifts, e-cards, auctions-find them at AMAZON.COM.
Browse Earth's Biggest Selection!  Enjoy everyday savings of up to 50%!
<a href="http://clickme.onelist.com/ad/amazon1">Click Here</a>

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_157" " Re: Getting a list of devices.. "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 06-22-99 17:05:21
Subject: @{b}Re: Getting a list of devices..@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 23-Jun-99, Kevin Bewley wrote:
>From: "Kevin Bewley" <kevin.bewley@camr.org.uk>

>Hi,
>   I'm writing a program in C and I want to have a list view in my 
>window that displays the devices.

>eg. DF0: DF1: WB: DH1: PC0: etc.

>   Currently my program just has an Exec list in the listview of the 
>names I have hard-coded in myself. What I'd like to do is get this 
>list of names dynamically. I know it can be done but I have a horrid 
>feeling it has lots to do with BCPL pointers and so on which I klnow 
>very little about. Can anyone give me a hand? Or mail me source-
>code where they have done something similar.
>Thanks in advance for any help,
>Kevin

BCPL pointers are just byte pointers divided by 4.     (or  >>2)
The old BCPL stuff used to count memory in longs, not bytes. 

BSTR's  (BCPL strings)  are similar except that after you multiply 
the pointer *4  (or <<2)  to get the byte address, 
the first byte is the length of the string.
BSTR's  therefore cannot exceed 255 characters long.

----------------------------------------------------
Colin Wenzel. Australia.   colstv@hotkey.net.au
URL:    http://www.hotkey.net.au/~colstv/      
                                               
'AMIGA' 4000T With  CS-III 68060 / 50Mhz 150Mb RAM. 
----------------------------------------------------


--------------------------- ONElist Sponsor ----------------------------

Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_158" " Re: Getting a list of devices.. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-24-99 22:13:18
Subject: @{b}Re: Getting a list of devices..@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Tue, Jun 22, 1999 at 04:14:54PM +0100, Kevin Bewley wrote:
> From: "Kevin Bewley" <kevin.bewley@camr.org.uk>
> 
> Hi,
>    I'm writing a program in C and I want to have a list view in my 
> window that displays the devices.
> 
> eg. DF0: DF1: WB: DH1: PC0: etc.
> 
>    Currently my program just has an Exec list in the listview of the 
> names I have hard-coded in myself. What I'd like to do is get this 
> list of names dynamically. I know it can be done but I have a horrid 
> feeling it has lots to do with BCPL pointers and so on which I klnow 
> very little about. Can anyone give me a hand? Or mail me source-
> code where they have done something similar.

First, you need to decide which sorts of `devices' you want.  Do
you want to include volumes, or just devices, or just disk devices,
or just devices with disks mounted?

The basic form you should use is:

    struct DosList * pdl;
    pdl = LockDosList( LDF_DEVICES | LDF_READ );
    while( pdl = NextDosEntry( pdl, LDF_DEVICES | LDF_READ )
    {
        /* do what you want - the name is a BSTR in pdl->dol_Name */
    }
    UnLockDosList( LDF_DEVICES | LDF_READ );

You may want to change LDF_DEVICES to LDF_VOLUMES or
LDF_VOLUMES|LDF_DEVICES.

A reasonable way to test whether a device is a disk device is to an
ACTION_DISK_INFO packet to it:

    if( pdl->dol_Task
        && DoPkt1( pdl->dol_Task, ACTION_DISK_INFO, BADDR(pdinf) ) )
    {
        /* Then it probably is a disk device.  Compare
           pdinf->id_DiskType with ID_NO_DISK_IN_DRIVE and
           ID_UNREADABLE_DISK to find out whether there's a
           usable disk present. */
    }

There might be a better way to test for a disk device, but I think
this is exactly the test programs like the `Info' command use.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
A free society is one where it is safe to be unpopular. - Adlai Stevenson

--------------------------- ONElist Sponsor ----------------------------

Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_159" " Ghost Image Queery "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 06-03-99 14:22:02
Subject: @{b}Ghost Image Queery@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>


I have an interesting problem that I would like to bounce around here
& hope someone may be able to offer a suggestion....

I have a need to display a  'ghost' logo on screen over the top of 
a Scala MM400 presentation.

By a 'ghost' logo,  I refer to the opaque logo that tv stations put over 
the top of their programming, (usually in one corner of the screen)
to identify the channel.

As Scala does not use 'standard'  routines to display their animations
& stuff, I believe that I may be in for some trouble.

I was wondering if anyone here has had a  need to do something similar.

I considered  doing a SetFunction() & hooking into a refresh 
routine & redrawing the logo  each time, directly over the bitmap,
or even doing something in a vertical blanking interrupt...

Any suggestions..

----------------------------------------------------
Colin Wenzel. Australia.   colstv@hotkey.net.au
URL:    http://www.hotkey.net.au/~colstv/      
                                               
'AMIGA' 4000T With  CS-III 68060 / 50Mhz 150Mb RAM. 
----------------------------------------------------


------------------------------------------------------------------------
"Congratulations to 'Voice-Diary,' our latest ONElist of the Week. 
http://www.onelist.com 
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_160" " Re: Ghost Image Queery "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-03-99 22:55:53
Subject: @{b}Re: Ghost Image Queery@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

[amiga-c] Ghost Image Queery interested me.  Here's some more to think about...

> By a 'ghost' logo,  I refer to the opaque logo that tv stations put over 
> the top of their programming, (usually in one corner of the screen)
> to identify the channel.

They are known as a DOG - digital on-screen graphic IIRC.


> As Scala does not use 'standard'  routines to display their animations
> & stuff, I believe that I may be in for some trouble.
> 
> I was wondering if anyone here has had a  need to do something similar.

I never used Scala.


> I considered  doing a SetFunction() & hooking into a refresh 
> routine & redrawing the logo  each time, directly over the bitmap,
> or even doing something in a vertical blanking interrupt...

Hmmm... dunno.  As a more simple idea - but maybe expensive how about
another machine outputing just the DOG and then genlocked on top of
the Scala output??? :) Expensive I know!

Dinky do,



Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 165,000 e-mail communities at ONElist!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_161" " GT_SetGadgetAttrs() Bugged? "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-26-99 23:59:34
Subject: @{b}GT_SetGadgetAttrs() Bugged?@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>


    Hi All,
        Does anyone know is GT_SetGadgetAttrs() bugged under V39 or is it my
inept coding. Every time I use it I get unpredictable Cyberguard hits from
within the gadtools.library. Every use I`ve made of it in my current piece
reports them at some time but not everytime. No harm seems to come of it and
the code works as intended. If Cyberguard isn`t running I know nothing about
it.
    
-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
We've just added a "NO ATTACHMENTS" option.  See homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_162" " Re: GT_SetGadgetAttrs() Bugged? "
From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
Date: 06-27-99 14:07:36
Subject: @{b}Re: GT_SetGadgetAttrs() Bugged?@{ub}

From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

Hello Tim

On 26-Jun-99, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> 
>    Hi All,
>        Does anyone know is GT_SetGadgetAttrs() bugged under V39 or is it my
> inept coding. Every time I use it I get unpredictable Cyberguard hits from
> within the gadtools.library. Every use I`ve made of it in my current piece
> reports them at some time but not everytime. No harm seems to come of it and
> the code works as intended. If Cyberguard isn`t running I know nothing about
> it.

Bear in mind that any tag values must be of type long! So with

GT_TAG, variable

variable must be a long. (IIRC - it may be ULONG or something. Check the
autodocs)
    
Regards
-----------------------------------------------------------
Daithi O'Cuinn
docuinn@cluke.demon.co.uk


--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
Check out the new "DEFAULT MODERATED STATUS" option.  See homepage.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_163" " Highlighting selection in gadtools listview "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-24-99 01:53:34
Subject: @{b}Highlighting selection in gadtools listview@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

Many listviews I see highlight the currently-selected entry, rather
than showing the text of the entry underneath.  I can't see how this
is done.

Do I have to use a hook for drawing the entries, or is there another
way that I haven't spotted?

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
I saw Elvis.  He sat between Bigfoot and me in the UFO.

--------------------------- ONElist Sponsor ----------------------------

Books, music, videos, gifts, e-cards, auctions-find them at AMAZON.COM.
Browse Earth's Biggest Selection!  Enjoy everyday savings of up to 50%!
<a href=" http://clickme.onelist.com/ad/amazon1 ">Click Here</a>

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_164" " Re: Highlighting selection in gadtools listview "
From: Andrija Antonijevic <TheAntony2@bigfoot.com>
Date: 06-24-99 07:41:07
Subject: @{b}Re: Highlighting selection in gadtools listview@{ub}

From: Andrija Antonijevic <TheAntony2@bigfoot.com>

History books say that Ben Hutchings spoke these words on 24-Jun-99 AD.

>From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

>Many listviews I see highlight the currently-selected entry, rather
>than showing the text of the entry underneath.  I can't see how this
>is done.

>Do I have to use a hook for drawing the entries, or is there another
>way that I haven't spotted?

OK, hoping that I didn't misunderstood you, here's a quote from
gadtools.doc:

GTLV_ShowSelected (struct Gadget *) - NULL to have the currently
    selected item displayed beneath the listview under V37 or with
    a highlight bar in V39. If not NULL, this is a pointer to
    an already-created GadTools STRING_KIND gadget to have an
    editable display of the currently selected item. If the tag is
    not present, the currently selected item will not be displayed.
    (V36)

Have you tried to GTLV_ShowSelected, NULL? In case you have v39 and
have supplied NULL to this tag, it would be rather interesting :)

-----------------------------------------------------------

     ///  /_\  _ _| |_ ___ _ _ _  _   http://www.bigfoot.com/~TheAntony
__  ///  / _ \| ' \  _/ _ \ ' \ || |   Amiga Translators' Organization
\\\///  /_/ \_\_||_\__\___/_||_\_, |        (*Serbian department*)
 \XX/  TheAntony@bigfoot.com   |__/              Team *AMIGA*

Your mouse has moved. WindowsNT must be restarted for the change to take effect.


--------------------------- ONElist Sponsor ----------------------------

ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_165" " Re: Highlighting selection in gadtools listview "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-26-99 02:14:00
Subject: @{b}Re: Highlighting selection in gadtools listview@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Jun 24, 1999 at 08:41:07AM +0200, Andrija Antonijevic wrote:
<snip>
> >Do I have to use a hook for drawing the entries, or is there another
> >way that I haven't spotted?
> 
> OK, hoping that I didn't misunderstood you, here's a quote from
> gadtools.doc:
> 
> GTLV_ShowSelected (struct Gadget *) - NULL to have the currently
>     selected item displayed beneath the listview under V37 or with
>     a highlight bar in V39.
<snip>

Aha!  I started by reading the RKRM description (which is for V37),
and I didn't read the autodoc description thoroughly.  I didn't think
that the highlighting would be just a different implementation of the
old feature.  Thanks a lot.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Always try to do things in chronological order;
it's less confusing that way.

--------------------------- ONElist Sponsor ----------------------------

Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_166" " IDCMP_MOUSEBUTTONS and Mungwall "
From: Felix Schwarz <felix@innovative-web.de>
Date: 06-28-99 19:30:31
Subject: @{b}IDCMP_MOUSEBUTTONS and Mungwall@{ub}

From: Felix Schwarz <felix@innovative-web.de>

Hello!

I have realised some "popup"-functionality via opening a window and then waiting
for IDCMP_MOUSEBUTTONS-event .. however, there does not seem to be and
IDCMP_MOUSEBUTTONS-event, if Mungwall is active. I could already notice this
in several different programs. Is there any explanation for that behaviour ?

Yours sincerly,
  Felix Schwarz

-----------------------------------------------------------
Developer at Innovative

Innovative
c/o Felix Schwarz
Am Gründla 3
D-91074 Herzogenaurach
Germany

EMail: felix@innovative-web.de
WWW:   http://innovative.in-tec.de/ (MOVING SOON!)
Phone: +(0)049 (0)9132/3400



--------------------------- ONElist Sponsor ----------------------------

What do fashion and football have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_167" " ImageManager.library proposal "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 06-30-99 16:15:31
Subject: @{b}ImageManager.library proposal@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

Hi there,

I'd like to create an ImageManager.library which tries to do what datatypes
doesn't.  The full proposal is available at:

   http://www.diku.dk/students/duff/ImageManager.html

Feedback is more than welcome!

Regards Allan
-----------------------------------------------------------
   Email: Duff@DIKU.DK
     URL: http://www.DIKU.dk/students/duff/


--------------------------- ONElist Sponsor ----------------------------

Looking to expand your world?
http://www.onelist.com
ONElist has 180,000 e-mail communities from which to choose!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_168" " Re: Library pointers "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-26-99 17:19:08
Subject: @{b}Re: Library pointers@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Gabriele Svelto wrote this on 26-Jun-99 at 18:02:35
 Hi Gabriele 

->    struct GfxBase *GfxBase;
-> 
-> int main( void )
-> {
->    GfxBase = (struct GfxBase *) OpenLibrary("graphics.library", 39);
->    if (GfxBase == NULL)
->    etc...
->    
->    CloseLibrary((struct Library *) GfxBase);
-> }
-> 
-> Otherwise I have tried declaring GfxBase as a struct Library * and it
-> worked fine, what is the better / safer / system "friendlier" way?

  The sys-friendly way is how you`ve done it here but I think it only really
matters if you intend to access fields from the struct GfxBase like ActiView
etc. Someone will correct me if I`m wrong. I`d stick with this method anyway.

    
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_169" " Library pointers "
From: Gabriele Svelto <jlpicard@tiscalinet.it>
Date: 06-26-99 18:02:35
Subject: @{b}Library pointers@{ub}

From: Gabriele Svelto <jlpicard@tiscalinet.it>

 Hi everybody,
well, I'm quite a begginer with amiga C and I have a question about how to
declare a library pointer in the correct way, for example if I declare
GfxBase this way:

    struct GfxBase *GfxBase;
...

after I've got to make castings in the OpenLibrary() and CloseLibrary()
calls, like that:

    struct GfxBase *GfxBase;

int main( void )
{
    GfxBase = (struct GfxBase *) OpenLibrary("graphics.library", 39);
    if (GfxBase == NULL)
    etc...
    
    CloseLibrary((struct Library *) GfxBase);
}

Otherwise I have tried declaring GfxBase as a struct Library * and it worked
fine, what is the better / safer / system "friendlier" way?


--------------------------- ONElist Sponsor ----------------------------

Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_170" " Re: Library pointers "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-26-99 18:11:04
Subject: @{b}Re: Library pointers@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sat, Jun 26, 1999 at 06:02:35PM +0100, Gabriele Svelto wrote:
> From: Gabriele Svelto <jlpicard@tiscalinet.it>
> 
>  Hi everybody,
> well, I'm quite a begginer with amiga C and I have a question about how to
> declare a library pointer in the correct way, for example if I declare
> GfxBase this way:
> 
>     struct GfxBase *GfxBase;
> ...
> 
> after I've got to make castings in the OpenLibrary() and CloseLibrary()
> calls, like that:
<snip>
> Otherwise I have tried declaring GfxBase as a struct Library * and it worked
> fine, what is the better / safer / system "friendlier" way?

This is a language issue - nothing to do with `system-friendliness'.
If you need to read the data in the GfxBase structure, then you should
define GfxBase as a pointer to struct GfxBase.  Otherwise, it's
probably best to define it as a pointer to struct Library.  The code
that uses this pointer to call library functions is not dependent on
the pointer type.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Man invented language to satisfy his deep need to complain. - Lily Tomlin

--------------------------- ONElist Sponsor ----------------------------

Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_171" " Re: Library pointers "
From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>
Date: 06-27-99 00:23:24
Subject: @{b}Re: Library pointers@{ub}

From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>

On 26-Jun-99  Gabriele Svelto did write:
> From: Gabriele Svelto <jlpicard@tiscalinet.it>
> 
> Hi everybody,
> well, I'm quite a begginer with amiga C and I have a question about how to
> declare a library pointer in the correct way, for example if I declare
> GfxBase this way:
> 
>    struct GfxBase *GfxBase;
> ...
> 
> after I've got to make castings in the OpenLibrary() and CloseLibrary()
> calls, like that:
> 
>    struct GfxBase *GfxBase;
> 
> int main( void )
> {
>    GfxBase = (struct GfxBase *) OpenLibrary("graphics.library", 39);
>    if (GfxBase == NULL)
>    etc...
>    
>    CloseLibrary((struct Library *) GfxBase);
> }
> 
> Otherwise I have tried declaring GfxBase as a struct Library * and it worked
> fine, what is the better / safer / system "friendlier" way?
> 
The prototype of OpenLibrary() states that the call returns a pointer to a
Library structure, therefore it is more logical to use Library *GfxBase.  That
is what I use and have never had any problems with it.


--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_172" " Re: Library pointers "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 06-28-99 00:43:48
Subject: @{b}Re: Library pointers@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 26-Jun-99, Gabriele Svelto wrote:

>    CloseLibrary((struct Library *) GfxBase);
> [...]
> Otherwise I have tried declaring GfxBase as a struct Library * and it worked
> fine, what is the better / safer / system "friendlier" way?

Personally I'd always go for the exact type (i.e. GfxBase rather than Library)
because that enables some extra typechecking, which may help detect bugs -
atleast those places where typecasting can be avoided. And it can actually be
avoided for many cases, e.g. the code above could instead be written as:

   CloseLibrary(&GfxBase->LibNode);

This is possible for most system structures, for example when you reply to an
IntuiMsg, just do ReplyMsg(&imsg->ExecMessage);

Union constructions can also help avoid typecasts, for example:

   union
   {
      struct IORequest *IOReq;
      struct IOClipReq *ClipReq;
   };

   ...

   if(IOReq = CreateIORequest(ClipPort, sizeof(IOClipReq)))
   {
      if(OpenDevice("clipboard.device", 0, IOReq, 0) == 0)
      {
         ClipReq->io_ClipID    = 0;
         ClipReq->io_Offset    = 20;
         ClipReq->io_Command   = CMD_WRITE;

         ...
      }
      DeleteIORequest(IOReq);
   }

Regards Allan
-----------------------------------------------------------
   Email: Duff@DIKU.DK
     URL: http://www.DIKU.dk/students/duff/
<sb>
Whenever you find that you are on the side of the majority, it is time to
reform.
-- Mark Twain


--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
We've just added a "NO ATTACHMENTS" option.  See homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_173" " Re: Library pointers "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-28-99 14:50:11
Subject: @{b}Re: Library pointers@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Allan Odgaard wrote this on 28-Jun-99 at 00:43:48
 Hi Allan 
-> From: Allan Odgaard <Duff@DIKU.DK>
-> 
-> On 26-Jun-99, Gabriele Svelto wrote:

->   CloseLibrary(&GfxBase->LibNode);
-> 
-> This is possible for most system structures, for example when you reply to
-> an IntuiMsg, just do ReplyMsg(&imsg->ExecMessage);
-> 
-> Union constructions can also help avoid typecasts, for example:

    Bear in mind that crap compilers will produce inefficient code from this,
loading an address register with the struct address then doing an address
register indirect LEA or whatever with an index of #0. One extra instuction.
Not really important as I think even DICE will optimise this out.

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



--------------------------- ONElist Sponsor ----------------------------

Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_174" " Re: Library pointers "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 06-28-99 22:39:42
Subject: @{b}Re: Library pointers@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 28-Jun-99, Tim Hanson wrote:

[...]
>    Bear in mind that crap compilers will produce inefficient code from this,

I surely doubt that. According to the test by Amiga Format, atleast what I was
told about it, StormC was among those with the worst output, and I know that
it isn't *that* bad.

Also, as a newbie (which I believe the original letter was from) you don't want
to think about using a more complex and/or less concise notation, just to save
a few cycles. This is rarely important for normal programs, and in the end, it
isn't what makes the difference, good algorithms are! :-)

Regards Allan
-----------------------------------------------------------
   Email: Duff@DIKU.DK
     URL: http://www.DIKU.dk/students/duff/


--------------------------- ONElist Sponsor ----------------------------

What do fashion and football have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_175" " Re: Library pointers "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-29-99 02:42:31
Subject: @{b}Re: Library pointers@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Jun 28, 1999 at 11:39:42PM +0200, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 28-Jun-99, Tim Hanson wrote:
> 
> [...]
> >    Bear in mind that crap compilers will produce inefficient code from this,
> 
> I surely doubt that. According to the test by Amiga Format, atleast
> what I was told about it, StormC was among those with the worst
> output, and I know that it isn't *that* bad.

Eliminating additions of zero is so trivial, it's even included in
undergraduate courses on compilers. ;-)

> Also, as a newbie (which I believe the original letter was from) you
> don't want to think about using a more complex and/or less concise
> notation, just to save a few cycles.

Yes, that sounds right.  It helps to have an idea of what a `typical'
machine will end up doing, assuming a decent optimising compiler.  If
you want to count cycles yourself, use assembler to make sure!

> This is rarely important for normal programs, and in the end, it
> isn't what makes the difference, good algorithms are! :-)

Which is what so many assembly-language bigots forget.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
friends: People who know you well, but like you anyway.

--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_176" " Re: Library pointers "
From: Linus McCabe <sparkle@hehe.com>
Date: 06-29-99 09:30:27
Subject: @{b}Re: Library pointers@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 28-Jun-99, Allan Odgaard wrote:

> Also, as a newbie (which I believe the original letter was from) you don't
> want to think about using a more complex and/or less concise notation,
> just to save a few cycles. This is rarely important for normal programs,
> and in the end, it isn't what makes the difference, good algorithms are!

besides, i doubt anyone puts opening and closing of libraries in timecrusial
code

/linus

> 
> Regards Allan
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

With Gates, Windows and Walls there is no freedom



--------------------------- ONElist Sponsor ----------------------------

With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_177" " Re: Library pointers "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-30-99 01:34:21
Subject: @{b}Re: Library pointers@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Allan Odgaard wrote this on 28-Jun-99 at 22:39:42
 Hi Allan 
-> From: Allan Odgaard <Duff@DIKU.DK>
-> 
-> On 28-Jun-99, Tim Hanson wrote:
-> 
-> [...]
->>   Bear in mind that crap compilers will produce inefficient code from
->> this,
-> 
-> I surely doubt that. According to the test by Amiga Format, atleast what I
-> was told about it, StormC was among those with the worst output, and I know
-> that it isn't *that* bad.

As I said I doubt there`s a compiler still in use that wouldn`t actually
optimise this out. I find it hard to believe that Storm makes worse code than
DICE but even dice optimises this. (or so it says in the docs, I`ve never
checked.)

->This is rarely important for normal programs, and in
-> the end, it isn't what makes the difference, good algorithms are! :-)

100% agreed. This was definitely only a matter of 'good form'. The two
different methods will produce the same code in practically all cases anyway.
I prefer the casting method as it seems to me to be telling the compiler to
produce the code I want but I think this is a matter of personal taste.
Probly about as important as where you put your squigly brackets and how you
indent your code.

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_178" " linked list "
From: Bob Lanham <bobl@jaxproductions.com>
Date: 06-12-99 21:03:20
Subject: @{b}linked list@{ub}

From: Bob Lanham <bobl@jaxproductions.com>

Can the following be done in C?  I need to add items to a list, like a
chain, but I don't know how many items will be found in advance.  There
also may be more than one list.

Here's some C++ code I found, but I want to use C
//----------------------------------------------
//-------from header file-----------------------
typedef struct PointNode
{
    int x,y;
    struct PointNode* next;
}

typedef struct PointList
{
    int count;
    PointNode* list;
    struct PointList* next;
}

//-----------now some of the C++ code---------------
// create new list containing first item
PointList* ptl = new PointList;
ptl->next=0;
ptl->count=1;
ptl->list=new PointNode;
ptl->list->x=xcoord;
ptl->list->y=ycoord;
ptl->list->next=0;

PointNode* current = ptl->list; //I guess this is a temporary holding
place.

//Now when a new item is found we add it to the list
ptl->count++;
current->next=new PointNode;
current->next->x=newx;
current->next->y=newy;
current->next->next=0;
current=current->next;

//-----------------------------------------

How is this done in C?
Thanks!
Bob L.


------------------------------------------------------------------------
How many communities do you think join ONElist each week?
http://www.onelist.com
More than 5,000!  Create yours now!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_179" " Re: linked list "
From: Steven Solie <ssolie@home.com>
Date: 06-12-99 21:58:40
Subject: @{b}Re: linked list@{ub}

From: Steven Solie <ssolie@home.com>

On 12-Jun-99, Bob Lanham wrote:
> Can the following be done in C? I need to add items to a list, like a
> chain, but I don't know how many items will be found in advance. There
> also may be more than one list.

The AmigaOS has a standard linked list implementation as explained in
the RKM: Libraries, 3rd. Ed., Chapter 23, Exec Lists and Queues.

The AddHead(), AddTail(), Remove(), etc. autodocs also explain a lot.

Here is a very quick and incomplete example:

struct Coords {
 struct Node node;  /* embedded Exec node -- must be first */
 int x, y;          /* your data */
};

void main()
{
 struct List points;
 Coords* item;

 NewList(&points);

* *item = (struct Coords*)AllocVec(sizeof(struct Coords), MEMF_ANY));
 item->x = 4;
 item->y = 2;
 AddHead(&points, (struct Node*)item);

 /* and so on */
} 

There are also MinList and MinNode available but they do not allow
you to use Enqueue(), etc.
-----------------------------------------------------------
Steven Solie, Software Evolution
ssolie@home.com, http://members.home.net/ssolie
Phone: 403-912-1402, Fax: 403-912-1403, Team AMIGA


------------------------------------------------------------------------
Looking for your kindred spirit?
http://www.onelist.com
Go to ONElist: where kindred spirits connect and stay connected.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_180" " Re: linked list "
From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>
Date: 06-13-99 00:19:43
Subject: @{b}Re: linked list@{ub}

From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>

On 12-Jun-99  did write:
> From: Bob Lanham <bobl@jaxproductions.com>
> 
> Can the following be done in C?  I need to add items to a list, like a
> chain, but I don't know how many items will be found in advance.  There
> also may be more than one list.
> 
Unless you're using DICE then you have no reason to not to want to use the C++
code!!!


------------------------------------------------------------------------
How has ONElist changed your life?
Share your story with us at http://www.onelist.com
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_181" " Re: linked list "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-13-99 04:54:54
Subject: @{b}Re: linked list@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sat, Jun 12, 1999 at 04:03:20PM -0400, Bob Lanham wrote:
> From: Bob Lanham <bobl@jaxproductions.com>
> 
> Can the following be done in C?  I need to add items to a list, like a
> chain, but I don't know how many items will be found in advance.  There
> also may be more than one list.
<snip>

Are you asking how to do dynamic memory allocation in C, like `new'
does in C++?  The Standard C library calls are malloc or calloc.
For Amiga-specific code there are AllocMem, AllocVec, AllocPooled
and there *should* be an AllocVecPooled but I don't thinkt here is.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://nowhere.at.the.moment
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Q.  Which is the greater problem in the world today, ignorance or apathy?
A.  I don't know and I couldn't care less.

------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_182" " Re: linked list "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 06-14-99 00:39:21
Subject: @{b}Re: linked list@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

Hello Ben

On 12-Jun-99, Ben Hutchings wrote:
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> For Amiga-specific code there are AllocMem, AllocVec, AllocPooled
> and there *should* be an AllocVecPooled but I don't thinkt here is.

Simple enough... The following code uses a global pool, but can easily
be modified to take another arg specifying the pool.

APTR __inline AllocPoolVec( ULONG size)
{
    ULONG *ptr;

    /* Allocate the memory */

    if ( ptr = AllocPooled( GblPool, size + sizeof(ULONG)) )
    {
        /* Store allocation size. */

        *ptr = size + sizeof( ULONG );

        /* Adjust pointer */

        ptr++;
    }

    return((APTR)ptr );
}

void __inline FreePoolVec( APTR mem )
{
    ULONG *ptr = ( ULONG * )mem;

    /* Retrieve the original allocation */

    ptr--;

    /* Deallocate */

    FreePooled( GblPool, ptr, *ptr );
}



------------------------------------------------------------------------
Looking for your kindred spirit?
http://www.onelist.com
Go to ONElist: where kindred spirits connect and stay connected.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_183" " Re: linked list "
From: Bob Lanham <bobl@jaxproductions.com>
Date: 06-14-99 13:31:20
Subject: @{b}Re: linked list@{ub}

From: Bob Lanham <bobl@jaxproductions.com>

>
> Message: 2
>    Date: Sun, 13 Jun 1999 04:54:54 +0100
>    From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> Subject: Re: linked list
>
> Are you asking how to do dynamic memory allocation in C, like `new'
> does in C++?  The Standard C library calls are malloc or calloc.
> For Amiga-specific code there are AllocMem, AllocVec, AllocPooled
> and there *should* be an AllocVecPooled but I don't thinkt here is.

Well, I've been using AllocVec for dynamic memory allocation for a while.  The "trick" to it
was to use a pointer to some temporary space for the current node.  Then using current->next
you shift things over ... very confusing stuff for the unschooled, but it seems to be working
now!


------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_184" " Loading a text file into a textfield "
From: Nick Cook <ncook@idt.net>
Date: 06-17-99 17:41:41
Subject: @{b}Loading a text file into a textfield@{ub}

From: Nick Cook <ncook@idt.net>

This semi-new C programmer needs some keen minds. Here's the scoop:

My application uses a textfield. I want to import a plain ole' ASCII into
it. The file may run from 1 to 8 lines, each line separated by a newline
character.

Currently, I read the file into a variable. That variable is used in a
SetGadgetAttr command for the textfield. Here's the prob:

- If I use fread (yes, I know it is for binary files, but...), it reads
the file, but there is "garbage" at the end of the text (or empty boxes if
I set the textfield to reject non-printable characters).

- If I use fgets, only the first line appears in the textfield. If I use a
"while" loop, checking for EOF, all the lines are read, but they overprint
each other. In other words, each line flashes in the textfield; in other
words, the newline is ignored. The same thing happens using fgetc.

- I don't know if I could use fscans, since the number of arguments would
change. 

I'll bet I'm missing something obvious, huh?

Thanks!

- Nick
ncook@idt.net




------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_185" " Re: Loading a text file into a textfield "
From: Fredrik Söderberg <mcdrill@hem.passagen.se>
Date: 06-18-99 09:35:56
Subject: @{b}Re: Loading a text file into a textfield@{ub}

From: Fredrik =?iso-8859-1?Q?S=F6derberg?= <mcdrill@hem.passagen.se>

On 17-Jun-99, Nick Cook wrote:
> This semi-new C programmer needs some keen minds. Here's the scoop:

> My application uses a textfield. I want to import a plain ole' ASCII into
> it. The file may run from 1 to 8 lines, each line separated by a newline
> character.

> Currently, I read the file into a variable. That variable is used in a
> SetGadgetAttr command for the textfield. Here's the prob:

> - If I use fread (yes, I know it is for binary files, but...), it reads
> the file, but there is "garbage" at the end of the text (or empty boxes if
> I set the textfield to reject non-printable characters).

This sounds pretty much like you don't add a \0 (string end) to your
"string".
Try just to something like this:
char *text;
text = malloc(filesize + 1);
text = fread(file);
text[filesize]=0;

(you will need to get the filesize and use fread() correctly ofcourse).
The garbage should disappear. 
-----------------------------------------------------------
      \            Fredrik "McDrill" Söderberg            /
       \mcdrill@hem.passagen.se | hem.passagen.se/mcdrill/
"Life sucks, you can't live with it and you can't live without it"


------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_186" " Re: Loading a text file into a textfield "
From: Nick Cook <ncook@idt.net>
Date: 06-18-99 15:54:11
Subject: @{b}Re: Loading a text file into a textfield@{ub}

From: Nick Cook <ncook@idt.net>

On Fri, 18 Jun 1999, Fredrik [iso-8859-1] Söderberg wrote:
> This sounds pretty much like you don't add a \0 (string end) to your
> "string".
> Try just to something like this:
> char *text;
> text = malloc(filesize + 1);
> text = fread(file);
> text[filesize]=0;
> 
> (you will need to get the filesize and use fread() correctly ofcourse).
> The garbage should disappear.

THanks, Fredrik! I'll give it a try this weekend.         

- Nick -
ncook@idt.net


------------------------------------------------------------------------
Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_187" " Make util "
From: W1bBle <layabouts@the-giant-sofa.demon.co.uk>
Date: 06-23-99 21:23:27
Subject: @{b}Make util@{ub}

From: W1bBle <layabouts@the-giant-sofa.demon.co.uk>

Hi,

I've just started to use vbcc and after realising that you must specify all
the .c files you want to link on the command line, I realised that if I want
to do anything serious with this then I'm going to need some sort of make
tool. Any ideas on this?

Thanks

W1bBle

-----------------------------------------------------------
--------------------------------------------
  Giles Burdett                     __
   Member of Team AMIGA            ///
    IRC nick = W1bBle             ///
     aMozilla Beta Tester    __  ///
                             \\\///
  A1200T 200MHz PPC OS 3.1    \XX/
--------------------------------------------


--------------------------- ONElist Sponsor ----------------------------

How has ONElist changed your life?
Share your story with us at http://www.onelist.com

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_188" " Re: Make util "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 06-23-99 23:10:50
Subject: @{b}Re: Make util@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Wed, 23 Jun 1999, W1bBle wrote:

> I've just started to use vbcc and after realising that you must specify all
> the .c files you want to link on the command line,

You don't necessarily have to specify them all on the command line.

- vc supports wildcards, so depending on your directory structure
  you may be able to do something like vc src/#?.c

- You can make a copy of the config file you're using and add the files
  you need (and perhaps additional options) to this file. Then you can
  use this file with vc +<my_config>

- There are some GUIs available which let you create a project for vbcc
  and offer a GUI for changing options, adding files, compiling etc.
  (e.g. vpm which is included in recent vbcc distributions).

> I realised that if I want
> to do anything serious with this then I'm going to need some sort of make
> tool. Any ideas on this?

There are several decent ports of GNU make available for the Amiga. They
work well with vbcc.

Volker


--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_189" " Re: Make util "
From: James S Perrin <j.perrin@mcc.ac.uk>
Date: 06-24-99 15:00:04
Subject: @{b}Re: Make util@{ub}

From: James S Perrin <j.perrin@mcc.ac.uk>

Volker Barthelmann wrote:

> There are several decent ports of GNU make available for the Amiga. They
> work well with vbcc.

Rather than getting the GG version there is one compiled with SAS/C on the
aminet
dev/c/make-3.75-bin.lha  and hence doesn't require ixemul.library and also
isn't so stack hungry.

There is also a project manager for vbcc called dev/c/PMM.lha but its rather
large archive and I have no idea what it is like.

Regards
James
-----------------------------------------------------------
-----------------------------------------------------------------------------
James S. Perrin,                     | email: j.perrin@mcc.ac.uk
Manchester Visualization Centre,     | http://www.man.ac.uk/MVC/staff/perrin/
Manchester Computing, The University,| tel: +44 161 275 6945
Manchester, England. M13 9PL.        | fax: +44 161 275 6800/6040
-----------------------------------------------------------------------------
"The test of intellect is the refusal to belabor the obvious" - Alfred Bester
-----------------------------------------------------------------------------

--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
We've just added a "NO ATTACHMENTS" option.  See homepage for details.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_190" " Re: Make util "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-25-99 00:57:42
Subject: @{b}Re: Make util@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Re: [amiga-c] Make util interested me.  Here's some more to think about...

> From: James S Perrin <j.perrin@mcc.ac.uk>
> 
> Volker Barthelmann wrote:
> 
> > There are several decent ports of GNU make available for the Amiga. They
> > work well with vbcc.
> 
> Rather than getting the GG version there is one compiled with SAS/C on the
> aminet
> dev/c/make-3.75-bin.lha  and hence doesn't require ixemul.library and also
> isn't so stack hungry.
> 
> There is also a project manager for vbcc called dev/c/PMM.lha but its rather
> large archive and I have no idea what it is like.

A nice util called PManger may also do the trick.  However I don't
think a config is available for VBCC so you'll have to study the
others and knock one up yourself.

Dinky do,


Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#########------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

--------------------------- ONElist Sponsor ----------------------------

With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_191" " Re: Make util "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 06-25-99 01:37:17
Subject: @{b}Re: Make util@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 24-Jun-99, James S Perrin wrote:

>> There are several decent ports of GNU make available for the Amiga. They
> Rather than getting the GG version there is one compiled with SAS/C on the
> aminet dev/c/make-3.75-bin.lha [...]

So the person who lacked a make-util for GG used SAS/C? Isn't it ironic... :-)


--------------------------- ONElist Sponsor ----------------------------

Congratulations to "Make_A_Child_Smile," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_192" " Max Size of a Pathname "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 06-23-99 21:19:13
Subject: @{b}Max Size of a Pathname@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

Hi,

is there a maximum Size a Pathname can have?

I need this to declare an Array which keeps a Filename including Path.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

But what's the speed of Dark?


--------------------------- ONElist Sponsor ----------------------------

Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_193" " Re: Max Size of a Pathname "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 06-24-99 09:32:46
Subject: @{b}Re: Max Size of a Pathname@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

Hello Christian

On 23-Jun-99, Christian Hattemer wrote:
> From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>
> 
> Hi,
> 
> is there a maximum Size a Pathname can have?

Dunno for sure, it's not actually defined anywhere, but a lot of code limits
pathnames to 128 chars... FILENAME_MAX  64 is defined, but that's just the
filename, not the full path.

  Rod


--------------------------- ONElist Sponsor ----------------------------

Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of 175,000 e-mail communities at ONElist!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_194" " Re: Max Size of a Pathname "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 06-24-99 19:33:10
Subject: @{b}Re: Max Size of a Pathname@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 23-Jun-99, Christian Hattemer wrote:

> is there a maximum Size a Pathname can have?

Not in theory.

> I need this to declare an Array which keeps a Filename including Path.

hmm... how much code does it take to make the size variable? :-)

Regards Allan
-----------------------------------------------------------
   Email: Duff@DIKU.DK
     URL: http://www.DIKU.dk/students/duff/
<sb>
Reality is for people who lack imagination.


--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
Check out the new "DEFAULT MODERATED STATUS" option.  See homepage.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_195" " Re: Max Size of a Pathname "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 06-25-99 00:44:10
Subject: @{b}Re: Max Size of a Pathname@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 24-Jun-99 Allan Odgaard wrote:

>> I need this to declare an Array which keeps a Filename including Path.

> hmm... how much code does it take to make the size variable? :-)

I also considered that, but I think I'll use the way PSI does it.
It uses a 512 Bytes Buffer and checks not to overrun it.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Tanken kommt Sie erheblich billiger, wenn Sie sich einen
erheblich kleineren Tank einbauen lassen.


--------------------------- ONElist Sponsor ----------------------------

Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_196" " Re: Max Size of a Pathname "
From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>
Date: 06-26-99 00:45:52
Subject: @{b}Re: Max Size of a Pathname@{ub}

From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>

On 24-Jun-99  did write:
> From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>
> 
> On 24-Jun-99 Allan Odgaard wrote:
> 
>>> I need this to declare an Array which keeps a Filename including Path.
> 
>> hmm... how much code does it take to make the size variable? :-)
> 
> I also considered that, but I think I'll use the way PSI does it.
> It uses a 512 Bytes Buffer and checks not to overrun it.
> 
If you use C++ there is a simple way to create an array without a fixed size:

char *filename=NULL;
int size=0;
...
// get size from somewhere, store it in "size"
...

filename=new char[size];
...
delete filename[];


filename is now a pointer to the base of the character array, the line above
allocates size bytes of sequential memory (indicated by the '[' and ']'
operators), what this means in practice is that you can use filename just like a
normal array:

filename[1]='A';

This means all arrays do not have to declared with a fixed size at compile-time,
you must de-allocate it with the delete operater before filename goes out of
scope, in older version of C++ you had to specify the size in the square
brackets.

Andrew Markwell



--------------------------- ONElist Sponsor ----------------------------

Books, music, videos, gifts, e-cards, auctions-find them at AMAZON.COM.
Browse Earth's Biggest Selection!  Enjoy everyday savings of up to 50%!
<a href=" http://clickme.onelist.com/ad/amazon1 ">Click Here</a>

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_197" " Re: Max Size of a Pathname "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-26-99 01:45:35
Subject: @{b}Re: Max Size of a Pathname@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Andrew Markwell wrote this on 26-Jun-99 at 00:45:52
 Hi Andrew 

-> If you use C++ there is a simple way to create an array without a fixed
-> size:
-> 
-> char *filename=NULL;
-> int size=0;
-> ...
-> // get size from somewhere, store it in "size"
-> ...
-> 
-> filename=new char[size];
-> ...
-> delete filename[];


    How does this differ from :
        fileName=AllocVec(size,MEMF_ANY);  ?

    Does it check to see if the memory is available? I know nothing about C++
so can you explain it like your talking to a 12 year old.

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



--------------------------- ONElist Sponsor ----------------------------

How many communities do you think join ONElist each week?
http://www.onelist.com
More than 5,000!  Create yours now!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_198" " Re: Max Size of a Pathname "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-26-99 02:06:15
Subject: @{b}Re: Max Size of a Pathname@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Jun 24, 1999 at 01:32:46AM -0700, Rod Schnell wrote:
> From:    Rod Schnell <rodsch@telusplanet.net>
> 
> Hello Christian
> 
> On 23-Jun-99, Christian Hattemer wrote:
> > From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>
> > 
> > Hi,
> > 
> > is there a maximum Size a Pathname can have?
> 
> Dunno for sure, it's not actually defined anywhere, but a lot of code limits
> pathnames to 128 chars...

AmigaDOS is limited to 255 characters (plus null terminator) in
various places due to the BCPL string format.  Therefore absolute
path names longer than 255 characters are not really supported.

> FILENAME_MAX 64 is defined, but that's just the filename, not the
> full path.

Uh, where?  The maximum component length is 30 characters, but that's
not specified in any header AFAIK.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Always try to do things in chronological order;
it's less confusing that way.

--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
Check out the new "DEFAULT MODERATED STATUS" option.  See homepage.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_199" " Re: Max Size of a Pathname "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-26-99 02:08:37
Subject: @{b}Re: Max Size of a Pathname@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sat, Jun 26, 1999 at 01:45:35AM +0100, Tim Hanson wrote:
<snip>
>     How does this differ from :
>         fileName=AllocVec(size,MEMF_ANY);  ?

For one thing, it's type-safe.  For another, it's likely to be faster
because it uses a private heap.

>     Does it check to see if the memory is available? I know nothing about C++
> so can you explain it like your talking to a 12 year old.

`new' should throw an exception (type bad_alloc or std::bad_alloc) if
it fails.  Current Amiga C++ compilers either don't support exceptions
or disable them by default, though.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Always try to do things in chronological order;
it's less confusing that way.

--------------------------- ONElist Sponsor ----------------------------

How has ONElist changed your life?
Share your story with us at http://www.onelist.com

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_200" " Re: Max Size of a Pathname "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 06-26-99 08:05:44
Subject: @{b}Re: Max Size of a Pathname@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

Hello Ben

On 25-Jun-99, Ben Hutchings wrote:
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> On Thu, Jun 24, 1999 at 01:32:46AM -0700, Rod Schnell wrote:
>>  From:    Rod Schnell <rodsch@telusplanet.net>
>>  
>>  Hello Christian
>>  
>>  On 23-Jun-99, Christian Hattemer wrote:
>> > From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>
>> > 
>> > Hi,
>> > 
>> > is there a maximum Size a Pathname can have?
>>  
>>  Dunno for sure, it's not actually defined anywhere, but a lot of code
>>  limits pathnames to 128 chars...
> 
> AmigaDOS is limited to 255 characters (plus null terminator) in
> various places due to the BCPL string format.  Therefore absolute
> path names longer than 255 characters are not really supported.

I'm not saying 128 is correct, just that a lot of code (pd stuff) uses
that value...

>> FILENAME_MAX 64 is defined, but that's just the filename, not the
>> full path.
> 
> Uh, where?  The maximum component length is 30 characters, but that's
> not specified in any header AFAIK.

stdio.h

#define FILENAME_MAX  64        /* maximum filename length */

  Rod


--------------------------- ONElist Sponsor ----------------------------

Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_201" " Re: Max Size of a Pathname "
From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>
Date: 06-26-99 17:35:43
Subject: @{b}Re: Max Size of a Pathname@{ub}

From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>

On 26-Jun-99  did write:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Andrew Markwell wrote this on 26-Jun-99 at 00:45:52
> Hi Andrew 
> 
> -> If you use C++ there is a simple way to create an array without a fixed
> -> size:
> -> 
> -> char *filename=NULL;
> -> int size=0;
> -> ...
> -> // get size from somewhere, store it in "size"
> -> ...
> -> 
> -> filename=new char[size];
> -> ...
> -> delete filename[];
> 
> 
>    How does this differ from :
>        fileName=AllocVec(size,MEMF_ANY);  ?
> 
>    Does it check to see if the memory is available? I know nothing about C++
> so can you explain it like your talking to a 12 year old.
> 
There is no difference in result, they both return a pointer to memory.  The C++
new operator is portable, meaning you can use it across operating systems, but
it does not allow you to allocate a specific type of memory.  If the memory
isn't available it will just return NULL.




--------------------------- ONElist Sponsor ----------------------------

How many communities do you think join ONElist each week?
http://www.onelist.com
More than 5,000!  Create yours now!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_202" " Re: Max Size of a Pathname "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-26-99 18:07:20
Subject: @{b}Re: Max Size of a Pathname@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sat, Jun 26, 1999 at 12:05:44AM -0700, Rod Schnell wrote:
> From:    Rod Schnell <rodsch@telusplanet.net>
> 
> Hello Ben
> 
> On 25-Jun-99, Ben Hutchings wrote:
> > From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> > 
> > On Thu, Jun 24, 1999 at 01:32:46AM -0700, Rod Schnell wrote:
<snip>
> >> FILENAME_MAX 64 is defined, but that's just the filename, not the
> >> full path.
> > 
> > Uh, where?  The maximum component length is 30 characters, but that's
> > not specified in any header AFAIK.
> 
> stdio.h
> 
> #define FILENAME_MAX  64        /* maximum filename length */

I don't know where that figure comes from, but that has nothing to do
with any OS limitations.  I wouldn't trust a C library to tell me much
about the OS. ;-)

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Man invented language to satisfy his deep need to complain. - Lily Tomlin

--------------------------- ONElist Sponsor ----------------------------

What do fashion and football have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_203" " Messages from multiple windows. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-14-99 15:51:37
Subject: @{b}Messages from multiple windows.@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>


    Hi All,

        What`s the best method for Waiting and Getting mesages from a number
of windows when windows are opening and closing all the time? I`ve used an
array of struct MsgPort pointers that each window->UserPort has a seperate
entry in.
When the window opens the code fills it`s entry in, then sets it to NULL when
closing. The waiting bit looks like this:
    waitMask=0;
    for(i=0;i<6;i++)
        {
         if(msgPortPtr[i])
            waitMask |= 1L<<msgPortPtr->UserPort.mp_SigBit;
        }
    Wait(waitMask);

    I then loop again to find the message with GT_GetIMessage obviously
checking again if the window is open first.

    It seems to work ok but is hella inelegant. I was just looking at the
ModifyIDCMP autodoc and it mentions setting up a window with your own message
port. Would it be possible to setup all windows with the same IDCMP port?

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_204" " Re: Messages from multiple windows. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-15-99 01:47:13
Subject: @{b}Re: Messages from multiple windows.@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Jun 14, 1999 at 03:51:37PM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> 
>     Hi All,
> 
>         What`s the best method for Waiting and Getting mesages from a number
> of windows when windows are opening and closing all the time? I`ve used an
> array of struct MsgPort pointers that each window->UserPort has a seperate
> entry in.
<snip>
>     It seems to work ok but is hella inelegant. I was just looking at the
> ModifyIDCMP autodoc and it mentions setting up a window with your own message
> port. Would it be possible to setup all windows with the same IDCMP port?

Yes.  This is the Right Way to do things.

If you haven't already seen how you're supposed to do this, search for
the text `CloseWindowSafely'.  This is the name of a function which
tidies up a window and its messages correctly if you share a message
port between windows.  For some reason this was never added to
Intuition and you're supposed to copy the source into your own
program.

Ben.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Klipstein's 4th Law of Prototyping and Production:
                                    A fail-safe circuit will destroy others.

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of 170,000 e-mail communities at ONElist!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_205" " Re: Messages from multiple windows. "
From: Richard Drummond <richard.drummond@futurenet.co.uk>
Date: 06-15-99 11:03:29
Subject: @{b}Re: Messages from multiple windows.@{ub}

From: "Richard Drummond" <richard.drummond@futurenet.co.uk>

Hello Tim

On 14-Jun-99, you wrote:

>    It seems to work ok but is hella inelegant. I was just looking at the
> ModifyIDCMP autodoc and it mentions setting up a window with your own
> message port. Would it be possible to setup all windows with the same
> IDCMP port?
> 


To open a window using a shared message port, make sure when you open it
that you specify no IDCMP flags. Intuition will not therefore create its
own port for the window. Next, set the window->Userport pointer of the
window to point to your shared port. Then call ModifyIDCMP with the flags
that you wish to hear about. You are now ready to receive events.

Before closing a window, you must first clear the IDCMP flags setting with
ModifyIDCMP and set the Userport pointer back to NULL. This is so that
intuition will not try to close your shared message port. You must also
ensure that the window has no messages pending. There's plenty of example
code to do this floating about. AFAICR there is a function in the
reqtools.library which will do the job, too: rtCloseWindowSafely. 


Cheers,
Richard

-----------------------------------------------------------
Richard Drummond
Staff Writer, Amiga Format

mailto: richard.drummond@futurenet.co.uk
pgp   : http://www.drummond.u-net.com/download/richards_key.asc
phone : +44 (0)1225 442244 ext 2417


------------------------------------------------------------------------
Congratulations to "PAFind," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_206" " More Warpos VBCC troubles "
From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
Date: 06-20-99 16:23:09
Subject: @{b}More Warpos VBCC troubles@{ub}

From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

Hello,

Whenever I try to compile the following program with warpos 

#include<stdio.h>
#include<proto/exec.h>
#include<proto/dos.h>

int main(void){
    printf("Dos Version %d...", ((struct Library*)DOSBase)->lib_Version);
    return 0;
}

with the line

vc +warpos dos.c -o dos

And run it, it claims I have dos version 23!!!
If I compile with 68k, it gives the expected 39. Anyone have any clues what
gives?

Thanks,
-----------------------------------------------------------
Daithi O'Cuinn
docuinn@cluke.demon.co.uk


------------------------------------------------------------------------
Make your voice heard!
http://www.onelist.com
Sign up for the ONElist Weekly Survey.  Go to homepage for details.
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_207" " Re: More Warpos VBCC troubles "
From: Daniel Schwill <MCDan@t-online.de>
Date: 06-20-99 18:41:00
Subject: @{b}Re: More Warpos VBCC troubles@{ub}

From: MCDan@t-online.de (Daniel Schwill)

Am 20-Jun-99 schrieb Daithi O'Cuinn:

>From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

>Hello,

>Whenever I try to compile the following program with warpos 

>#include<stdio.h>
>#include<proto/exec.h>
>#include<proto/dos.h>

>int main(void){
>    printf("Dos Version %d...", ((struct Library*)DOSBase)->lib_Version);
>    return 0;
>}

>with the line

>vc +warpos dos.c -o dos

>And run it, it claims I have dos version 23!!!
>If I compile with 68k, it gives the expected 39. Anyone have any clues what
>gives?

link with: vc +warpos -amiga-align dos.c -o dos

>Thanks,
>Daithi O'Cuinn

Bye.

   Dan.


------------------------------------------------------------------------
Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_208" " Re: More Warpos VBCC troubles "
From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
Date: 06-26-99 17:08:41
Subject: @{b}Re: More Warpos VBCC troubles@{ub}

From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

Hello Daniel

On 20-Jun-99, Daniel Schwill wrote:

>> And run it, it claims I have dos version 23!!!
>> If I compile with 68k, it gives the expected 39. Anyone have any clues what
>> gives?
> 
> link with: vc +warpos -amiga-align dos.c -o dos

Ah, indeed this was it, thanks. 
I do read the docs, honestly, it just that I thought that I already had the
amiga-align option in my warpos config. ;)

Regards
-----------------------------------------------------------
Daithi O'Cuinn
docuinn@cluke.demon.co.uk


--------------------------- ONElist Sponsor ----------------------------

With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_209" " Re: Motorola manuals "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 06-01-99 09:36:23
Subject: @{b}Re: Motorola manuals@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>



> From: MCDan@t-online.de (Daniel Schwill)
> 
> Hello!
> 
> Sorry for this off topic question, but how long does
> the delivery of manuals from motorola to germany take?

Delivering to Sweden took approx. 2 weeks, so you should
expect something similar. (It's worth the wait :)

-----------------------------------------------------------
// Jesper Svennevid


------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 150,000 e-mail communities at ONElist!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_210" " mp3 datatype "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-03-99 22:21:04
Subject: @{b}mp3 datatype@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Anybody written a full datatype before?  I was thinking it would be
easy (maybe) to write one to interface with mpega.library to play mp3s
from multiview!  - or any other datatype program!!


I saw a jpeg datatype on Aminet that uses the jpeg.library - so it
should be possible.  Anybody gonna do it?

Dinky do,


Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
With more than 18 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is THE place where the world talks!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_211" " Re: mp3 datatype "
From: Stephen Williams <sw@nysa.u-net.com>
Date: 06-04-99 19:05:07
Subject: @{b}Re: mp3 datatype@{ub}

From: Stephen Williams <sw@nysa.u-net.com>

Mike Carter <mike.carter@bigfoot.com> wrote:
> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> Anybody written a full datatype before?  I was thinking it would be
> easy (maybe) to write one to interface with mpega.library to play mp3s
> from multiview!  - or any other datatype program!!

The problem with MP3s is that they're fragging huge when decompressed,
and datatypes can't stream (AFAIK).  I think your datatype would have
to store the entire decompressed sample in RAM.  Find for Amiga
workstations with 128Mb of silicon, I suppose :-)

-Stephen



------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
Deadline is June 19.  See homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_212" " Re: mp3 datatype "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-05-99 17:14:21
Subject: @{b}Re: mp3 datatype@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Re: [amiga-c] mp3 datatype interested me.  Here's some more to think about...

> From: Stephen Williams <sw@nysa.u-net.com>
> 
> Mike Carter <mike.carter@bigfoot.com> wrote:
> > From: "Mike Carter" <mike.carter@bigfoot.com>
> > 
> > Anybody written a full datatype before?  I was thinking it would be
> > easy (maybe) to write one to interface with mpega.library to play mp3s
> > from multiview!  - or any other datatype program!!
> 
> The problem with MP3s is that they're fragging huge when decompressed,
> and datatypes can't stream (AFAIK).  I think your datatype would have
> to store the entire decompressed sample in RAM.  Find for Amiga
> workstations with 128Mb of silicon, I suppose :-)

No I think you missed my point.  It would simply use mpega.library
(68k and PPC) and decode a bit at a time.  Mpega.library then sends a
chunk of 16-bit sample tothe program.  You then chuck this out in the
direct of AHI.

I think I'm right.

Dinky do,


Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Congratulations to "INDIE-GRRL," our latest ONElist of the Week.  
http://www.onelist.com
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_213" " Re: mp3 datatype "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-06-99 16:46:35
Subject: @{b}Re: mp3 datatype@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 04 Stephen (Stephen Williams) wrote:

> From: Stephen Williams <sw@nysa.u-net.com>
> 
> Mike Carter <mike.carter@bigfoot.com> wrote:
> > From: "Mike Carter" <mike.carter@bigfoot.com>
> > 
> > Anybody written a full datatype before?  I was thinking it would be
> > easy (maybe) to write one to interface with mpega.library to play mp3s
> > from multiview!  - or any other datatype program!!
> 
> The problem with MP3s is that they're fragging huge when decompressed,
> and datatypes can't stream (AFAIK).  I think your datatype would have
> to store the entire decompressed sample in RAM.

   You could write a special mp3.datatype that would overload the
subclass' DTM_TRIGGER method and continue to feed the superclass with new
sample data as necessary. With sound.datatype V39/V40 this is close to
impossible due to its numerous implementation defects. Writing such a
hypothetical subclass should be possible with an updated sound.datatype :)

------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_214" " Re: mp3 datatype "
From: Andrija Antonijevic <TheAntony2@bigfoot.com>
Date: 06-07-99 01:10:21
Subject: @{b}Re: mp3 datatype@{ub}

From: Andrija Antonijevic <TheAntony2@bigfoot.com>

History books say that Stephen Williams spoke these words on 04-Jun-99 AD.

>From: Stephen Williams <sw@nysa.u-net.com>

>Mike Carter <mike.carter@bigfoot.com> wrote:

>> Anybody written a full datatype before?  I was thinking it would be
>> easy (maybe) to write one to interface with mpega.library to play mp3s
>> from multiview!  - or any other datatype program!!

>The problem with MP3s is that they're fragging huge when decompressed,
>and datatypes can't stream (AFAIK).  I think your datatype would have
>to store the entire decompressed sample in RAM.  Find for Amiga
>workstations with 128Mb of silicon, I suppose :-)

15.Ram Disk:> strings SYS:Classes/DataTypes/mpegaudio.datatype | grep mpega
[...]
mpega.library
[...]

It should be:

mpegadt203.lha     util/dtype 255K  31+MPEG audio datatype V2.3

-----------------------------------------------------------

     ///  /_\  _ _| |_ ___ _ _ _  _   http://www.bigfoot.com/~TheAntony
__  ///  / _ \| ' \  _/ _ \ ' \ || |   Amiga Translators' Organization
\\\///  /_/ \_\_||_\__\___/_||_\_, |        (*Serbian department*)
 \XX/  TheAntony@bigfoot.com   |__/              Team *AMIGA*

Refugees, smugglers, businessmen, diplomats...


------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_215" " Re: mp3 datatype "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-07-99 03:01:57
Subject: @{b}Re: mp3 datatype@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Re: [amiga-c] mp3 datatype interested me.  Here's some more to think about...

>    You could write a special mp3.datatype that would overload the
> subclass' DTM_TRIGGER method and continue to feed the superclass with new
> sample data as necessary. With sound.datatype V39/V40 this is close to
> impossible due to its numerous implementation defects. Writing such a
> hypothetical subclass should be possible with an updated sound.datatype :)

There alreeady is a new sound.datatype update isn't there?  v45 or
something on Aminet...  I'm using some new one which is working fine!

Dinky do,

MIke C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 165,000 e-mail communities at ONElist!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_216" " Re: mp3 datatype "
From: Stephen Williams <sw@nysa.u-net.com>
Date: 06-09-99 22:12:09
Subject: @{b}Re: mp3 datatype@{ub}

From: Stephen Williams <sw@nysa.u-net.com>

Andrija Antonijevic <TheAntony2@bigfoot.com> wrote:
>> The problem with MP3s is that they're fragging huge when decompressed,
>> and datatypes can't stream (AFAIK).  I think your datatype would have
>> to store the entire decompressed sample in RAM.
> 
> It should be:
> 
> mpegadt203.lha     util/dtype 255K  31+MPEG audio datatype V2.3

D'oh!  More proof that I don't know what I'm talking about ;-)

-Stephen (hiding)



------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
Deadline is June 19.  See homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_217" " Re: mp3 datatype "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-10-99 08:19:52
Subject: @{b}Re: mp3 datatype@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 09 Stephen (Stephen Williams) wrote:

> From: Stephen Williams <sw@nysa.u-net.com>
> 
> Andrija Antonijevic <TheAntony2@bigfoot.com> wrote:
> >> The problem with MP3s is that they're fragging huge when decompressed,
> >> and datatypes can't stream (AFAIK).  I think your datatype would have
> >> to store the entire decompressed sample in RAM.
> > 
> > It should be:
> > 
> > mpegadt203.lha     util/dtype 255K  31+MPEG audio datatype V2.3
> 
> D'oh!  More proof that I don't know what I'm talking about ;-)

   Actually, this particular mp3.datatype will decompress the entire
stream into memory.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 165,000 e-mail communities at ONElist!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_218" " Re: MUI balooey. "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-01-99 23:26:35
Subject: @{b}Re: MUI balooey.@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Re: [amiga-c] MUI balooey. interested me.  Here's some more to think about...

> From: Linus McCabe <sparkle@hehe.com>
> 
> On 24-May-99, Mike Carter wrote:
> 
> > I'm getting to like the way MUI apps are structured but it is
> > difficult to find out how to do some simple things.  I have all the
> 
> The mui mailinglist is a good place to be :)

Everytime I try to join I never get a reply.  I'm using the address as
featured on SASG MUI page.  Nothing comes back - no bad address, no
welcome message - nothing. :(

This must be the third time I've tried to join the MUI list, which is
why I end up asking the questions on this list.

Dinky do,



Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
How has ONElist changed your life?
http://www.onelist.com
Share your story with us at http://www.onelist.com
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_219" " MUI GUI examples "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-15-99 01:40:37
Subject: @{b}MUI GUI examples@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Where is the best place to get example MUi source code?  I'm trying to
code a string gadget with a pop-up listview but am a little stuck and
keep crashing my machine.  Does anybody have source code with this
feature in it somewhere?  If so I'd really apprecaite it if you would
share the GUI creation bit with me :)

Regards,

Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_220" " Re: MUI GUI examples "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 06-20-99 17:16:21
Subject: @{b}Re: MUI GUI examples@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 15-Jun-99 Mike Carter wrote:

> Where is the best place to get example MUi source code?  I'm trying to
> code a string gadget with a pop-up listview but am a little stuck and
> keep crashing my machine.  Does anybody have source code with this
> feature in it somewhere?  If so I'd really apprecaite it if you would
> share the GUI creation bit with me :)

I used Popup Buttons in the Mastermind game, it shows a Group in the Popup,
but a List shouldn't be much difference.

Here's the List of Sources, everything is available on Aminet, also look at
TUMULT for some more:

comm/mail/ML-Support_Src.lha
game/think/MUIMastermind.lha (old style, but may still be useful)
game/think/MUIMineSrc.lha    (great game, get MUIMine.lha also)
dev/mui/OOPExample.lha
comm/www/OpenURL20.lha                                                

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Computer-Rubrik in der BILD-Zeitung (Experte H.Illgmoser): "Achten Sie beim
PC-Kauf auf eine große Festplatte, da Sie, wenn die Platte einmal zu klein
werden sollte, gleich einen neuen PC kaufen müssen." Wahres Zitat. BILD.


------------------------------------------------------------------------
Got an opinion?
http://www.onelist.com
Make it count!  Sign up for the ONElist Weekly Survey now.
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_221" " Re: MUI mailing list "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-14-99 01:03:41
Subject: @{b}Re: MUI mailing list@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Re: [amiga-c] MUI mailing list (was: [amiga-c] MUI string notify) interested me.  Here's some more to think about...

> From: "Mike Carter" <mike.carter@bigfoot.com>
> 
> [amiga-c] MUI mailing list (was: [amiga-c] MUI string notify) interested me.  Here's some more to think about...
> 
> > >Okay I still have not received anything from MUI mailing list about
> > >being joined so I'm givin' up again.  I want to get my program done
> > >and can't be bothered waiting around forever.
> > 
> > Send a message to: mui-request@Star.Informatik.RWTH-Aachen.de
> > with the word SUBSCRIBE in the subject.
> 
> Okay I've tried again and wait to see what happens.  The address
> doesn't look familiar so maybe I somehow got a different address?!

Still nothing!! I never get a response from this address!  Could some
other nice peep try and see if they can subscribe to the above MUI
mailing list please?  I've tried for months now and still never a
response - not even a delivery failure!

Regards,



Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
Congratulations to "PAFind," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_222" " MUI mailing list "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-19-99 13:45:50
Subject: @{b}MUI mailing list@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

A short while back somebody told me how to get onto the MUI mailing
list.  Well my ISP mail server has been buggered but I have finally
got a response saying:

Reason: Have been trying to send to sunsite.informatik.rwth-aachen.de for 04:00 hours.  Will
continue to try and send for 6 days 20:00 hours.

The address appears to be incorrect?  I used:

 <mui-request@sunsite.informatik.rwth-aachen.de>

But this is wrong?  So can somebdoy who is also on the MUI list please
correct whatever mistake there is?

Regards,


Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#########------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
How many communities do you think join ONElist each week?
http://www.onelist.com
More than 5,000!  Create yours now!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_223" " Re: MUI mailing list "
From: Linus McCabe <sparkle@hehe.com>
Date: 06-21-99 07:48:58
Subject: @{b}Re: MUI mailing list@{ub}

From: Linus McCabe <sparkle@hehe.com>


> <mui-request@sunsite.informatik.rwth-aachen.de>

i used 

mui-request@Star.Informatik.RWTH-Aachen.DE

maybe they've changed or omething

> But this is wrong?  So can somebdoy who is also on the MUI list please
> correct whatever mistake there is?
> 
> Regards,
> 

/linus

> 
> Mike C.
> 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Now you better stop, and rebuild all your ruins, cause peace and trust can
win the day despite of all your losings



------------------------------------------------------------------------
Congratulations to "PAFind," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_224" " MUI mailing list (was: [amiga-c] MUI string notify) "
From: Daniel Schwill <MCDan@t-online.de>
Date: 06-03-99 12:02:47
Subject: @{b}MUI mailing list (was: [amiga-c] MUI string notify)@{ub}

From: MCDan@t-online.de (Daniel Schwill)

Am 02-Jun-99 schrieb Mike Carter:

>From: "Mike Carter" <mike.carter@bigfoot.com>

>Hi all,

>Okay I still have not received anything from MUI mailing list about
>being joined so I'm givin' up again.  I want to get my program done
>and can't be bothered waiting around forever.

Send a message to: mui-request@Star.Informatik.RWTH-Aachen.de
with the word SUBSCRIBE in the subject.

>Dinky do,

>Mike C.

Bye.

   Dan.


------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of nearly 160,000 e-mail communities at ONElist!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_225" " Re: MUI mailing list (was: [amiga-c] MUI string notify) "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-03-99 22:46:50
Subject: @{b}Re: MUI mailing list (was: [amiga-c] MUI string notify)@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

[amiga-c] MUI mailing list (was: [amiga-c] MUI string notify) interested me.  Here's some more to think about...

> >Okay I still have not received anything from MUI mailing list about
> >being joined so I'm givin' up again.  I want to get my program done
> >and can't be bothered waiting around forever.
> 
> Send a message to: mui-request@Star.Informatik.RWTH-Aachen.de
> with the word SUBSCRIBE in the subject.

Okay I've tried again and wait to see what happens.  The address
doesn't look familiar so maybe I somehow got a different address?!

Thanks,


Mike.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_226" " MUI string notify "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-02-99 20:16:00
Subject: @{b}MUI string notify@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Hi all,

Okay I still have not received anything from MUI mailing list about
being joined so I'm givin' up again.  I want to get my program done
and can't be bothered waiting around forever.

Hope fully someone here can explain what to do as I'm stuck. 
Basically I want the user to be able to press RETURN in a string
gadget and a MUIM_Application_ReturnID is returned.  I've managed to
do this fine for button gadgets using the following line:

DoMethod(BT_Okay, MUIM_Notify, MUIA_Pressed, FALSE, App_p, 2,
         MUIM_Application_ReturnID, RID_EXECUTE);

However I am unsure of what attributes to use for a string gadget.
Help, pointers or the actual line of code *much* appreciated!

Dinky do,



Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
How has ONElist changed your life?
http://www.onelist.com
Share your story with us at http://www.onelist.com
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_227" " Re: MUI string notify "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 06-03-99 09:58:05
Subject: @{b}Re: MUI string notify@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 02-Jun-99 Mike Carter wrote:

> Okay I still have not received anything from MUI mailing list about
> being joined so I'm givin' up again.  I want to get my program done
> and can't be bothered waiting around forever.

Looks like you did something wrong, the List is working here.

> Basically I want the user to be able to press RETURN in a string
> gadget and a MUIM_Application_ReturnID is returned.  I've managed to

Simply setup a Notify on MUIA_String_Acknowledge.


BTW: If you want to do something like in the example use
MUIA_String_AdvanceOnCR below.

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Expanding an Amiga is plug and play.
Expanding a PC is plug and pray.


------------------------------------------------------------------------
"Congratulations to 'Voice-Diary,' our latest ONElist of the Week. 
http://www.onelist.com 
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_228" " Re: MUI string notify "
From: Mike Carter <mike.carter@bigfoot.com>
Date: 06-14-99 02:20:35
Subject: @{b}Re: MUI string notify@{ub}

From: "Mike Carter" <mike.carter@bigfoot.com>

Re: [amiga-c] MUI string notify interested me.  Here's some more to think about...

> > Basically I want the user to be able to press RETURN in a string
> > gadget and a MUIM_Application_ReturnID is returned.  I've managed to
> 
> Simply setup a Notify on MUIA_String_Acknowledge.

Done that but it only highlights the 'okay' button and doesn't
actually select it.  i.e. push it for me to activeate the other notify
I have set-up on the 'okay' button.  Or should i just by-pass the
'okay' button notify?

> 
> BTW: If you want to do something like in the example use
> MUIA_String_AdvanceOnCR below.

Example?  What example??  And where in the autodocs is all this
covered as I can't find it :(

Regards,

Mike C.

-----------------------------------------------------------
-------------------------------------------------------------
PROJECT STATUS...
Key To Driving Theory [#####################] done!
Scalos add-ons suite  [#######--------------] usable now
<unamed> mp3 player   [####-----------------] skins & gadgets
-------------------------------------------------------------
JOIN UP TODAY -> http://www.onelist.com/subscribe.cgi/amiga-c

------------------------------------------------------------------------
How has ONElist changed your life?
Share your story with us at http://www.onelist.com
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_229" " Re: MUI string notify "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 06-20-99 17:26:18
Subject: @{b}Re: MUI string notify@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 14-Jun-99 Mike Carter wrote:

>>> Basically I want the user to be able to press RETURN in a string
>>> gadget and a MUIM_Application_ReturnID is returned.  I've managed to
>> 
>> Simply setup a Notify on MUIA_String_Acknowledge.

> Done that but it only highlights the 'okay' button and doesn't
> actually select it.  i.e. push it for me to activeate the other notify
> I have set-up on the 'okay' button.  Or should i just by-pass the
> 'okay' button notify?

Try this:

DoMethod(StrObj, MUIM_Notify, MUIA_String_Acknowledge, MUIV_EveryTime,
         AppObj, 2, MUIM_Application_ReturnID, ID_STR_ACK);

It should give you the ReturnID to you when you press Enter in the String.

>> BTW: If you want to do something like in the example use
>> MUIA_String_AdvanceOnCR below.

> Example?  What example??  And where in the autodocs is all this

In the example which is given at MUIA_String_Acknowledge in the AutoDoc.

> covered as I can't find it :(

It is there, just look...

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

Wer reitet so spät durch Nacht und Gewitter?
Der Harald Juhnke, der holt noch 'nen Liter.


------------------------------------------------------------------------
Congratulations to "PAFind," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_230" " MUIBuilder & vbcc... "
From: "Andrzej J. Debicki" <denbi@softsystem.pl>
Date: 06-28-99 09:18:48
Subject: @{b}MUIBuilder & vbcc...@{ub}

From: "Andrzej J. Debicki" <denbi@softsystem.pl>

Hello everybody,

I'm quite new here. I'm trying to learn how to write porgrams on my
Amiga. I have choosen C (vbcc) and I want to use MUI (MUIBuilder).
And there is first problem I meet on my "way to the top" ;-).

I have a piece of code (generated by me ;-) and MUIBuilder with new
GenCodeC):

/* fileGUI.c */
...
  static struct Hook ChDirRHook;
  InstallHook(&ChDirRHook, ChDirR, ObjectApp);
...
  DoMethod(ObjectApp->lstDirsR,
           MUIM_Notify, MUIA_Listview_DoubleClick, TRUE,
           ObjectApp->App,
           2,
           MUIM_CallHook, &ChDirRHook);
...

/* fileExtern.h */
APTR ChDirR( struct Hook *hook, APTR obj, APTR msg );

/* fileHook.c */
APTR ChDirR( struct Hook *hook, APTR obj, APTR msg )
{
  struct FileInfoBlock *fibTmp;
  char *tmp;

  get(((struct ObjApp*)obj)->lstDirsR, MUIA_Dirlist_Directory,
        &tmp); /* (1) */
  printf(">%s<\n", tmp);

  DoMethod(((struct ObjApp*)obj)->lstDirsR, MUIM_List_GetEntry,
             MUIV_List_GetEntry_Active, &fibTmp);
  if(fibTmp->fib_DirEntryType > 0)
  {
    /* when I select directory fibTmp->fib_FileName is empty :-( */
    get(((struct ObjApp*)obj)->lstDirsR, MUIA_Dirlist_Directory,
             &tmp); /* (2) */
  }
  return 0;
}

(1) - tmp is empty
(2) - here tmp is sometimes empty, sometimes have junk

Second question. Should I allocate memory for strings like tmp? (in
examples like here, when string is returned by some object). And what
about fibTmp?

Third question. What object is given by "obj" variable Application or
lstDirsR?

And one thing. im linking module with InstallHook() as stated in gude
for GenCodeC so I think I don't need hook parameters as registers (if I
understanded correctly the guide)

Sorry if my english don't satisfy you all. I'm still learning both Amiga
C and english languages ;-)

--
Best regards,
Andrzej J. Debicki
denbi@softsystem.pl
http://friko3.onet.pl/rz/denbi
------------------------------------------
A1200T 060-50/603e-240, BVision, 34 MB RAM



--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_231" " Re: MUIBuilder & vbcc... "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 06-28-99 14:42:26
Subject: @{b}Re: MUIBuilder & vbcc...@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello Andrzej,

On 28-Jun-99 wrote Andrzej J. Debicki (denbi@softsystem.pl):
> From: "Andrzej J. Debicki" <denbi@softsystem.pl>
> 
> Hello everybody,
> 
> I'm quite new here. I'm trying to learn how to write porgrams on my
> Amiga. I have choosen C (vbcc) and I want to use MUI (MUIBuilder).
> And there is first problem I meet on my "way to the top" ;-).
> 
> I have a piece of code (generated by me ;-) and MUIBuilder with new
> GenCodeC):
>
> [SNIP] 
> 
> (1) - tmp is empty
> (2) - here tmp is sometimes empty, sometimes have junk
> 
> Second question. Should I allocate memory for strings like tmp? (in
> examples like here, when string is returned by some object). And what
> about fibTmp?

As long as it doesn't crash you don't need to allocate memory for tmp.
AFAIK this is done at initialization.
You must use AllocDosObject() before using fibTmp, afaik.

> 
> Third question. What object is given by "obj" variable Application or
> lstDirsR?

App, change App to lstDirsR to get this object.

> 
> And one thing. im linking module with InstallHook() as stated in gude
> for GenCodeC so I think I don't need hook parameters as registers (if I
> understanded correctly the guide)

Dunno surely about this, if it works, okay, if not, put register parameters.

> 
> Sorry if my english don't satisfy you all. I'm still learning both Amiga
> C and english languages ;-)

Cu,
-----------------------------------------------------------
Yves Grabowsky
*ICQ:* 18762984
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!


--------------------------- ONElist Sponsor ----------------------------

Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_232" " Multithreaded server "
From: Felix Schwarz <felix@innovative-web.de>
Date: 06-29-99 16:14:04
Subject: @{b}Multithreaded server@{ub}

From: Felix Schwarz <felix@innovative-web.de>

Hello!

I`m currently on rewriting the video-server of BlackIRC. Somehow
this simple example code doesn`t work without crashing even before
serving one request.

-- CUT --

/* Multithreaded server
   ©1999 by Felix Schwarz
*/

#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <sys/types.h>
#include <netinet/in.h>
#include <sys/socket.h>
#include <arpa/inet.h>
#include <netdb.h>
#include <proto/socket.h>
#include <proto/dos.h>
#include <exec/libraries.h>
#include <proto/exec.h>
#include <exec/memory.h>

#include <dos/var.h>
#include <proto/dos.h>

#define VCWIDTH  160
#define VCHEIGHT 120

struct Library *SocketBase=NULL;
int s;

/* Thread functions */
#define MAX_THREADS 100
long thread_cnt=0;

struct fx_threads
{
        BOOL        runs;
        int         sock;
        struct Task *task;
};

struct fx_threads threads[MAX_THREADS];

void fxp_initthreads()
{
        long i;

        thread_cnt=0;

        for (i=0;i<MAX_THREADS;i++)
        {
                threads[i].task=NULL;
        }
}

void fxp_createthread(STRPTR name, long priority, APTR func, ULONG stacksize)
{
        long id=-1;
        long i;

        for (i=0;i<MAX_THREADS;i++)
        {
                if (!threads[i].task)
                {
                        id=i;
                }
        }

        if (id!=-1)
        {
                if (threads[id].task=CreateTask(name, priority, func, stacksize));
                {
                        thread_cnt++;
                }
        }
}

void fxp_threadover (long id)
{
        if (threads[id].runs)
        {
                thread_cnt--;
                //DeleteTask(threads[id].task);
        }
}

void fxp_waitforallthreads ()
{
        if (thread_cnt)
        {
                do
                {
                        Delay(10);
                }while (thread_cnt>0);
        }
}

/* Socket functions */
void exitall(int ex)
{
        CloseSocket(s);
        CloseLibrary(SocketBase);
        exit(ex);
}

int onexit(void (*)(void))
{
        exitall(30);
}

void ad_thread (void)
{
        struct sockaddr_in clientaddr;
        long addrsize=sizeof(clientaddr);
        int rlen, client;
        char buf[1024];

        if ((client=accept(s,(struct sockaddr *)&clientaddr,&addrsize))<0)
        {
                thread_cnt--;
                exit(0);
        }

        /* Connection established - now wait for input */
        printf("Connection from %s port %d\n",
                inet_ntoa(clientaddr.sin_addr),
                ntohs(clientaddr.sin_port));

        Delay (200);

        /*while
        (
                (rlen = recv(client, buf, sizeof buf, 0)) < 0
        );*/

        CloseSocket(client);
        thread_cnt--;
}

int main(int argc, char **argv)
{
        struct sockaddr_in clientaddr;
        struct sockaddr_in local;
        long addrsize=sizeof(clientaddr);
        int on=1;
        int port;

        printf("Non working multithreaded server V0.001ß ©1999 by Felix Schwarz\n");
        fxp_initthreads();

        if (!(SocketBase=OpenLibrary((char *)"bsdsocket.library",2L)))
        {
                printf("NO TCP/IP-STACK ACTIVE!\n");
                exit(0);
        }

        port=8080;

        if ((s=socket(AF_INET,SOCK_STREAM,IPPROTO_TCP)) <0)
        {
                CloseLibrary(SocketBase);
                exit(10);
        }

        if (setsockopt(s,SOL_SOCKET,SO_REUSEADDR,&on,(int)sizeof(on))<0)
        {
                close(s);
                CloseLibrary(SocketBase);
                exit(10);
        }

        if (getsockname(s,(struct sockaddr *)&local,&addrsize)<0) {
                close(s);
                CloseLibrary(SocketBase);
                exit(10);
        }

        local.sin_port=htons(port);

        if (bind(s,(struct sockaddr *)&local,sizeof local)<0)
        {
                close(s);
                CloseLibrary(SocketBase);
                exit(10);
        }

        printf("Waiting for requests ..\n");

        do
        {
                if (listen(s,1)<0)
                {
                        close(s);
                        exitall(1);
                }

                fxp_createthread("Frequent Traveller", 0, ad_thread, 8192);

        }while(CheckSignal(SIGBREAKF_CTRL_C)==0);

        CloseSocket(s);
        CloseLibrary(SocketBase);
        exit(11);
}
-- CUT --

Hope anyone can help me with this.

PLEASE WRITE TO bs168@fen.baynet.de, if you want to contact
me directly. felix@innovative-web.de might not work for some days
due to reconnection of the domain to another server.

CU,
   Felix

-----------------------------------------------------------
Developer at Innovative

Innovative
c/o Felix Schwarz
Am Gründla 3
D-91074 Herzogenaurach
Germany

EMail: felix@innovative-web.de
WWW:   http://innovative.in-tec.de/ (MOVING SOON!)
Phone: +(0)049 (0)9132/3400



--------------------------- ONElist Sponsor ----------------------------

With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_233" " Re: Multithreaded server "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 06-30-99 12:44:17
Subject: @{b}Re: Multithreaded server@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

>         do
>         {
>                 if (listen(s,1)<0)
>                 {
>                         close(s);
>                         exitall(1);
>                 }
> 
>                 fxp_createthread("Frequent Traveller", 0, 
> ad_thread, 8192);
> 
>         }while(CheckSignal(SIGBREAKF_CTRL_C)==0);

I think this is the root of the problem(atleast it looks rather
suspicious :). listen() should only be called _ONCE_ for a
incoming socket, as it's only for setting up the listening
itself. You should place the accept()-call there instead, as it's
the proper call to put there(as it blocks until you get a
connection if you haven't enabled non-blocking i/o) ... (And I
don't know how much amitcp/miami/whatever you are developing
under appreciates to get 100 accept() calls for the same
socket, as this is what happens)

-----------------------------------------------------------
// Jesper Svennevid : jesper@fxrealm.com
   Software Developer At FXRealm Studios : http://www.fxrealm.com/


--------------------------- ONElist Sponsor ----------------------------

How has ONElist changed your life?
Share your story with us at http://www.onelist.com

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_234" " My computer`s gone mad. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-12-99 19:39:50
Subject: @{b}My computer`s gone mad.@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>


    Nasty buggy program I`ve written here. First it wouldn`t run from WB. I
fixed that. Now it won`t run from KCON. It`s alright from any other shell but
I like KingCon and this is getting on my nerves. When it runs from KCON the
menus won`t work and all my chip ram disappears. On closer inspection most of
it is still there but has been so fragmented that avail says the largest
block is 16Bytes. That`s if I`m lucky. If I`m unlucky Avail cause alert
0x0100000C (Sanity check on memory failed) and says largest block is 64000000
odd bytes. Not bad for a 32Meg machine. Added wierdness is that I don`t
actually allocate any chip ram. All AllocVec()s are with MEMF_ANY and all
bitmaps with AllocBitMap(). 
    I`m assuming this is a freeing-memory-I-don`t-own mistake that`s somehow
been missed by the OS when it happens but I can`t find it.

    Any ideas?

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Give back to your community through "Grow to Give."
http://www.onelist.com
Deadline is June 19.  See homepage for details.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_235" " Re: My computer`s gone mad. "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 06-12-99 20:55:14
Subject: @{b}Re: My computer`s gone mad.@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello Tim,

On 12-Jun-99 wrote Tim Hanson (msinister@connectfree.co.uk):
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> 
>    Nasty buggy program I`ve written here. First it wouldn`t run from WB.
> I fixed that. Now it won`t run from KCON. It`s alright from any other
> shell but I like KingCon and this is getting on my nerves. When it runs
> from KCON the menus won`t work and all my chip ram disappears. On closer
> inspection most of it is still there but has been so fragmented that avail
> says the largest block is 16Bytes. That`s if I`m lucky. If I`m unlucky
> Avail cause alert 0x0100000C (Sanity check on memory failed) and says
> largest block is 64000000 odd bytes. Not bad for a 32Meg machine. Added
> wierdness is that I don`t actually allocate any chip ram. All AllocVec()s
> are with MEMF_ANY and all bitmaps with AllocBitMap().
>    I`m assuming this is a freeing-memory-I-don`t-own mistake that`s
> somehow been missed by the OS when it happens but I can`t find it.
> 
>    Any ideas?

I suggest you post the code so that we can all try your program.

Cu, 
-----------------------------------------------------------
Yves Grabowsky
*ICQ:* 18762984
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!


------------------------------------------------------------------------
Looking for your kindred spirit?
http://www.onelist.com
Go to ONElist: where kindred spirits connect and stay connected.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_236" " Re: My computer`s gone mad. "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 06-13-99 07:46:52
Subject: @{b}Re: My computer`s gone mad.@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 13-Jun-99, Tim Hanson wrote:
>From: Tim Hanson <msinister@connectfree.co.uk>
>    Nasty buggy program I`ve written here. First it wouldn`t run from WB. I
>fixed that. Now it won`t run from KCON. It`s alright from any other shell but
>I like KingCon and this is getting on my nerves. When it runs from KCON the
>menus won`t work and all my chip ram disappears. On closer inspection most of
>it is still there but has been so fragmented that avail says the largest
>block is 16Bytes. That`s if I`m lucky. If I`m unlucky Avail cause alert
>0x0100000C (Sanity check on memory failed) and says largest block is 64000000
>odd bytes. Not bad for a 32Meg machine. Added wierdness is that I don`t
>actually allocate any chip ram. All AllocVec()s are with MEMF_ANY and all
>bitmaps with AllocBitMap(). 
>    I`m assuming this is a freeing-memory-I-don`t-own mistake that`s somehow
>been missed by the OS when it happens but I can`t find it.

>    Any ideas ?

YES - You have a horrid bug !!!
          
You are failing to see the bug because you are too 
distracted by, or interested in the "special effects"...

How about sending the source so we can see it...   

You might find another eye will spot the nasty
bugger for you straight away.....

----------------------------------------------------
Colin Wenzel. Australia.   colstv@hotkey.net.au
URL:    http://www.hotkey.net.au/~colstv/      
                                               
'AMIGA' 4000T With  CS-III 68060 / 50Mhz 150Mb RAM. 
----------------------------------------------------


------------------------------------------------------------------------
Congratulations to "INDIE-GRRL," our latest ONElist of the Week.  
http://www.onelist.com
Visit our homepage and share with us how ONElist is changing YOUR life!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_237" " Re: My computer`s gone mad. "
From: Linus McCabe <sparkle@hehe.com>
Date: 06-13-99 07:58:10
Subject: @{b}Re: My computer`s gone mad.@{ub}

From: Linus McCabe <sparkle@hehe.com>

On 12-Jun-99, Tim Hanson wrote:

>    I`m assuming this is a freeing-memory-I-don`t-own mistake that`s
> somehow been missed by the OS when it happens but I can`t find it.

did you have a go with mungwall running?

/Linus
 
>    Any ideas?
> 
-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

There will always be unexplored Pink Floyd lyrics



------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 165,000 e-mail communities at ONElist!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_238" " Re: My computer`s gone mad. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-13-99 19:41:07
Subject: @{b}Re: My computer`s gone mad.@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Colin Wenzel wrote this on 13-Jun-99 at 07:46:52
 Hi Colin 

     

-> 
-> YES - You have a horrid bug !!!

Your not wrong there mate.
       
-> You are failing to see the bug because you are too 
-> distracted by, or interested in the "special effects"...

?

-> How about sending the source so we can see it...   

    The source file are a bit big. The initialisation jumps around a lot of
different routines. I couldn`t expect anyone to trawl through it.

-> You might find another eye will spot the nasty
-> bugger for you straight away.....

Cheers for the offer though. I`m confident, now I`ve got CyberGuard and
MungWall running, that I`ll find the little sod. I`m prepared to bet that
somewhere my code says: if(blah); blah; instead of if(blah) blah; or something
equally stupid.

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
How has ONElist changed your life?
Share your story with us at http://www.onelist.com
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_239" " Re: My computer`s gone mad. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-13-99 19:45:07
Subject: @{b}Re: My computer`s gone mad.@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Yves Grabowsky wrote this on 12-Jun-99 at 20:55:14
 Hi Yves 

-> I suggest you post the code so that we can all try your program.


    I got a friend to check it and it crashes in the same place on his very
different system so it`s not some wierd incompatability or my HW being
broken, which I`d thought might be the case. While I was testing the whole
system was unstable. Even after a reset. Jesus, what am I doing to this poor
computer?
    On with the bug hunt>>>>>>>>

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 165,000 e-mail communities at ONElist!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_240" " Re: My computer`s gone mad. "
From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>
Date: 06-14-99 00:14:23
Subject: @{b}Re: My computer`s gone mad.@{ub}

From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>

On 13-Jun-99  did write:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Colin Wenzel wrote this on 13-Jun-99 at 07:46:52
> Hi Colin 
> 
>     
> 
> -> 
> -> YES - You have a horrid bug !!!
> 
> Your not wrong there mate.
>       
> -> You are failing to see the bug because you are too 
> -> distracted by, or interested in the "special effects"...
> 
> ?
> 
> -> How about sending the source so we can see it...   
> 
>    The source file are a bit big. The initialisation jumps around a lot of
> different routines. I couldn`t expect anyone to trawl through it.
> 
> -> You might find another eye will spot the nasty
> -> bugger for you straight away.....
> 
> Cheers for the offer though. I`m confident, now I`ve got CyberGuard and
> MungWall running, that I`ll find the little sod. I`m prepared to bet that
> somewhere my code says: if(blah); blah; instead of if(blah) blah; or something
> equally stupid.
> 
I my experience the best way to find a bug is with a dot matrix printer, a hell
of a lot of paper and even more time ;)

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of over 165,000 e-mail communities at ONElist!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_241" " Re: My computer`s gone mad. "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 06-14-99 05:44:32
Subject: @{b}Re: My computer`s gone mad.@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 14-Jun-99, Tim Hanson wrote:
-snip-
>Cheers for the offer though. I`m confident, now I`ve got CyberGuard and
>MungWall running, that I`ll find the little sod. I`m prepared to bet that
>somewhere my code says: if(blah); blah; instead of if(blah) blah; or
>something equally stupid.
>-- 
That should kick up some dust...!!
  
-> You are failing to see the bug because you are too 
-> distracted by, or interested in the "special effects"...
?

The effects of chip mem exploding or your hard drive cracking in half 
is totally incidental,  once you have corrupted the system's memory list
then all hell is going to break out, nothing is logical anymore.

So looking at "special effects"  is rather pointless,  all they tell you
is that your system is screwed....

Have fun.....


PS:  You might like to check that you have NULL'ed  your memory & file
pointers immediately after you close / freed them,  
so your cleanup() sees if they have already been cleared/freed before..

----------------------------------------------------
Colin Wenzel. Australia.   colstv@hotkey.net.au
URL:    http://www.hotkey.net.au/~colstv/      
                                               
'AMIGA' 4000T With  CS-III 68060 / 50Mhz 150Mb RAM. 
----------------------------------------------------


------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has over 165,000 e-mail communities from which to choose!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_242" " Re: My computer`s gone mad. "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 06-14-99 14:33:02
Subject: @{b}Re: My computer`s gone mad.@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello Tim,

On 13-Jun-99 wrote Tim Hanson (msinister@connectfree.co.uk):
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Yves Grabowsky wrote this on 12-Jun-99 at 20:55:14
> Hi Yves 
> 
> -> I suggest you post the code so that we can all try your program.
> 
> 
>    I got a friend to check it and it crashes in the same place on his
> very different system so it`s not some wierd incompatability or my HW
> being broken, which I`d thought might be the case. While I was testing the
> whole system was unstable. Even after a reset. Jesus, what am I doing to
> this poor computer?

Did you check all memory allocations and deallocations? (I had such a
problem, because I confused two variable names) 
Perhaps you should completly rewrite your code...

Cu,
-----------------------------------------------------------
Yves Grabowsky
*ICQ:* 18762984
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!


------------------------------------------------------------------------
How has ONElist changed your life?
Share your story with us at http://www.onelist.com
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_243" " Off topic but funny "
From: ROBERT MEYERS <meyersrl@songs.sce.com>
Date: 06-23-99 08:20:45
Subject: @{b}Off topic but funny@{ub}

From: "ROBERT MEYERS"<meyersrl@songs.sce.com>

This is off topic, but I thought you all might find 
this amusing.


12) "Specifications are for the weak and timid!"

11) "This machine is a piece of GAGH! I need dual
    Pentium processors if I am to do battle with 
    this code!"

10) "You cannot really appreciate Dilbert unless 
    you've read it in the original Klingon."

9) "Indentation?! - I will show you how to indent 
   when I indent your skull!"

8) "What is this talk of 'release'? Klingons do not 
   make software 'releases'. Our software 'escapes' 
   leaving a bloody trail of designers and quality 
   assurance people in it's wake."

7) "Klingon function calls do not have 'parameters' 
   - they have 'arguments' - and they ALWAYS WIN 
   THEM."

6) "Debugging? Klingons do not debug. Our software 
   does not coddle the weak."

5) "I have challenged the entire quality assurance 
   team to a Bat-Leth contest. They will not 
   concern us again."

4) "A TRUE Klingon Warrior does not comment his 
   code!"

3) "By filing this bug report you have challenged 
   the honor of my family. Prepare to die!"

2) "You question the worthiness of my code? I 
   should kill you where you stand!"

1) "Our users will know fear and cower before our 
   software! Ship it! Ship it and let them flee 
   like the dogs they are!"


--------------------------- ONElist Sponsor ----------------------------

Books, music, videos, gifts, e-cards, auctions-find them at AMAZON.COM.
Browse Earth's Biggest Selection!  Enjoy everyday savings of up to 50%!
<a href=" http://clickme.onelist.com/ad/amazon1 ">Click Here</a>

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_244" " Off topic: RAM "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 06-30-99 15:16:56
Subject: @{b}Off topic: RAM@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

Is it possible to use EDO for a Blizzard 1240-40 TERC ?


--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_245" " oh, no.. more global variable probs "
From: Linus McCabe <sparkle@hehe.com>
Date: 06-06-99 11:05:45
Subject: @{b}oh, no.. more global variable probs@{ub}

From: Linus McCabe <sparkle@hehe.com>


Hello

In a library I'm developing I need to install a patch to get notified when
intution is about to close a screen. 
Currently, all I do in the patch is calling the original function, but not
even his want to work. But later on I also need to access my librarys
global varibles, which I don't really know how ot achieve.
If I use __saveds, sas will get the data pointer with lea linkerDB(a6),a4,
but since this is a patch of intuition, a6 will contain pointer to
intuitionbase, not my library.. How then do I get my pointer!?!?

Here is my current code, anyone have a clue why it's not working?

prototypes:
__asm BOOL (*OldCloseScreen)(register __a0 struct Screen *,register __a6
struct IntuitionBase*);
__asm BOOL IP_CloseScreen ( register __a0 struct Screen *r_scr, register
__a6 struct IntuitionBase*);

patching: (in libinit)

Forbid();
OldCloseScreen = (VOID(*))SetFunction((struct Library *)IntuitionBase,
LVO_CloseScreen, (ULONG(*)())IP_CloseScreen);
Permit();

I also have the removal in libcleanup, and if i load and expunge the
library, the patch is removed, so I guess there is nothing wrong there..

the patch:

__asm BOOL IP_CloseScreen ( register __a0 struct Screen *r_scr, register
__a6 struct IntuitionBase* IntuitionBase)
{

//    KPrintF("Closing screen %lx\n", r_scr);
    return(OldCloseScreen(r_scr, IntuitionBase));
//return(0);
}

it crashes.. if I remove the call to oldclosescreen and just return 0, it
seem to work; that is.. the screen obviously dont get closed, but the
programs just think there is still a window open and waits or give a req.

the code is compiled with sas's libcode, btw.. 

/Linus





-----------------------------------------------------------
Linus McCabe * Sparkle@hehe.com              
             * Sparkle, #Amiga, DalNet
             * http://come.to/Sparkle    

Not until the last tree is gone, the last river is poisoned
and the last fish have died will you understand that you can't eat money



------------------------------------------------------------------------
Got an opinion?
http://www.onelist.com
Make it count!  Sign up for the ONElist Weekly Survey now.
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_246" " Re: oh, no.. more global variable probs "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-06-99 16:33:48
Subject: @{b}Re: oh, no.. more global variable probs@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 06 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> Hello
> 
> In a library I'm developing I need to install a patch to get notified when
> intution is about to close a screen. 
> Currently, all I do in the patch is calling the original function, but not
> even his want to work. But later on I also need to access my librarys
> global varibles, which I don't really know how ot achieve.
> If I use __saveds, sas will get the data pointer with lea linkerDB(a6),a4,
> but since this is a patch of intuition, a6 will contain pointer to
> intuitionbase, not my library.. How then do I get my pointer!?!?

   The answer is "simple": don't compile with the LIBCODE option and
write the library initialization, open, close, expunge and cleanup
code all on your own.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
With more than 18 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is THE place where the world talks!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_247" " Re: oh, no.. more global variable probs "
From: Jarno van der Linden <jarno@kcbbs.gen.nz>
Date: 06-06-99 23:42:10
Subject: @{b}Re: oh, no.. more global variable probs@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 06 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> Hello
> 
> In a library I'm developing I need to install a patch to get notified when
> intution is about to close a screen. 
> Currently, all I do in the patch is calling the original function, but not
> even his want to work. But later on I also need to access my librarys
> global varibles, which I don't really know how ot achieve.
> If I use __saveds, sas will get the data pointer with lea linkerDB(a6),a4,
> but since this is a patch of intuition, a6 will contain pointer to
> intuitionbase, not my library.. How then do I get my pointer!?!?

   The answer is "simple": don't compile with the LIBCODE option and
write the library initialization, open, close, expunge and cleanup
code all on your own.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
With more than 18 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is THE place where the world talks!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_248" " Re: oh, no.. more global variable probs "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-07-99 08:01:12
Subject: @{b}Re: oh, no.. more global variable probs@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 06 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> Hello
> 
> In a library I'm developing I need to install a patch to get notified when
> intution is about to close a screen. 
> Currently, all I do in the patch is calling the original function, but not
> even his want to work. But later on I also need to access my librarys
> global varibles, which I don't really know how ot achieve.
> If I use __saveds, sas will get the data pointer with lea linkerDB(a6),a4,
> but since this is a patch of intuition, a6 will contain pointer to
> intuitionbase, not my library.. How then do I get my pointer!?!?

   The answer is "simple": don't compile with the LIBCODE option and
write the library initialization, open, close, expunge and cleanup
code all on your own.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
With more than 18 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is THE place where the world talks!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_249" " Re: oh, no.. more global variable probs "
From: Linus McCabe <sparkle@hehe.com>
Date: 06-07-99 13:03:23
Subject: @{b}Re: oh, no.. more global variable probs@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 06 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> Hello
> 
> In a library I'm developing I need to install a patch to get notified when
> intution is about to close a screen. 
> Currently, all I do in the patch is calling the original function, but not
> even his want to work. But later on I also need to access my librarys
> global varibles, which I don't really know how ot achieve.
> If I use __saveds, sas will get the data pointer with lea linkerDB(a6),a4,
> but since this is a patch of intuition, a6 will contain pointer to
> intuitionbase, not my library.. How then do I get my pointer!?!?

   The answer is "simple": don't compile with the LIBCODE option and
write the library initialization, open, close, expunge and cleanup
code all on your own.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
With more than 18 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is THE place where the world talks!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_250" " Re: oh, no.. more global variable probs "
From: Daniel Schwill <MCDan@t-online.de>
Date: 06-07-99 21:01:31
Subject: @{b}Re: oh, no.. more global variable probs@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 06 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> Hello
> 
> In a library I'm developing I need to install a patch to get notified when
> intution is about to close a screen. 
> Currently, all I do in the patch is calling the original function, but not
> even his want to work. But later on I also need to access my librarys
> global varibles, which I don't really know how ot achieve.
> If I use __saveds, sas will get the data pointer with lea linkerDB(a6),a4,
> but since this is a patch of intuition, a6 will contain pointer to
> intuitionbase, not my library.. How then do I get my pointer!?!?

   The answer is "simple": don't compile with the LIBCODE option and
write the library initialization, open, close, expunge and cleanup
code all on your own.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
With more than 18 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is THE place where the world talks!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_251" " Re: oh, no.. more global variable probs "
From: Linus McCabe <sparkle@hehe.com>
Date: 06-09-99 10:56:20
Subject: @{b}Re: oh, no.. more global variable probs@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 06 Linus (Linus McCabe) wrote:

> From: Linus McCabe <sparkle@hehe.com>
> 
> 
> Hello
> 
> In a library I'm developing I need to install a patch to get notified when
> intution is about to close a screen. 
> Currently, all I do in the patch is calling the original function, but not
> even his want to work. But later on I also need to access my librarys
> global varibles, which I don't really know how ot achieve.
> If I use __saveds, sas will get the data pointer with lea linkerDB(a6),a4,
> but since this is a patch of intuition, a6 will contain pointer to
> intuitionbase, not my library.. How then do I get my pointer!?!?

   The answer is "simple": don't compile with the LIBCODE option and
write the library initialization, open, close, expunge and cleanup
code all on your own.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de

------------------------------------------------------------------------
With more than 18 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is THE place where the world talks!
------------------------------------------------------------------------
-> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_252" " Passing arrays to and from a function.. "
From: Kevin Bewley <kevin.bewley@camr.org.uk>
Date: 06-17-99 10:26:55
Subject: @{b}Passing arrays to and from a function..@{ub}

From: "Kevin Bewley" <kevin.bewley@camr.org.uk>

Help,
   I want to write a program that will take numeric input into two 
arrays (5 elements each). Pass those two to a function called 
addarrays(), which with add each equivalent member of the arrays 
together and put the output into a third array:

ArrayOutput[1] = Array1[1] + Array2[1]

I then want this funcion to return that array to the main loop which 
will print it all out. I can get a function to take two arrays as 
arguements but I don't have any idea how to make a function return 
an array.

addarrays(int array1[], int array2[]) //handles the passing of the 
arrays TO the function but how can I get a function back?

Thanks,
Kevin
-----BEGIN GEEK CODE BLOCK-----
Version: 3.1
GS d++ s: a-- C++(++++) OU++ P! L- E- W-- 
N++ O-- ?K w--- O- M-- !V PS+ 
-----END GEEK CODE BLOCK-----

------------------------------------------------------------------------
Last chance to earn $5000 for your charity of choice!
http://www.onelist.com
Deadline for "GROW TO GIVE" is June 19.  See homepage for details.
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_253" " Re: Passing arrays to and from a function.. "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 06-17-99 11:58:52
Subject: @{b}Re: Passing arrays to and from a function..@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>


> From: "Kevin Bewley" <kevin.bewley@camr.org.uk>
> 
> Help,
>    I want to write a program that will take numeric input into two 
> arrays (5 elements each). Pass those two to a function called 
> addarrays(), which with add each equivalent member of the arrays 
> together and put the output into a third array:
> 
> ArrayOutput[1] = Array1[1] + Array2[1]
> 
> I then want this funcion to return that array to the main loop which 
> will print it all out. I can get a function to take two arrays as 
> arguements but I don't have any idea how to make a function return 
> an array.
> 
> addarrays(int array1[], int array2[]) //handles the passing of the 
> arrays TO the function but how can I get a function back?

For returning an array, you have two choices:

1. If you don't feel like being dynamic today, you can pass in the
   third array as an argument:

void addarrays(int array1[], int array2[], int result[])
{
    int i = 0;

    for(i=0;i<5;i++)
        result[i] = array1[i]+array2[i];
}

2. OR, if you feel like dealing with pointers and dynamically
   allocating the array inside the function, you could do like
   this:

int* addarrays(int array1[],int array2[])
{
   int* result = NULL;

   /* allocate memory to store result in */

   if(NULL != (result=(int*)malloc(5*sizeof(int))))
   {
      int i = 0;
      for(i=0;i<5;i++)
         result[i] = array1[i]+array2[i];
   }
   return result; /* will return NULL if allocation failed */
}

There, I hope this helps.

-----------------------------------------------------------
// Jesper Svennevid

------------------------------------------------------------------------
Get involved. Share your thoughts!
http://www.onelist.com
Join the ONElist Weekly Survey.  Go to homepage for details.
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_254" " AW: [amiga-c] Passing arrays to and from a function.. "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 06-17-99 12:17:08
Subject: @{b}AW: [amiga-c] Passing arrays to and from a function..@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>



> ArrayOutput[1] = Array1[1] + Array2[1]
> 
> I then want this funcion to return that array to the main loop which 
> will print it all out. I can get a function to take two arrays as 
> arguements but I don't have any idea how to make a function return 
> an array.
> 
> addarrays(int array1[], int array2[]) //handles the passing of the 
> arrays TO the function but how can I get a function back?
> 
    [Fritsch Alexander]  
    I think to return an array directly is not possible due to the way C
handels pointers and arrays. The best way is IMHO to work always with
pointers. You could give a pointer to the result-array as a third parameter
to the function or you function allocates the needed spaces with malloc and
returns the pointer to this memoryblock.

    If you really want to be static you could "hide" your arrays in
structures. Your program could look like this:


    #include <stdio.h>

    typedef struct {
    int Array[5];
    }Array_type;


    Array_type AddArray(Array_type Array1, Array_type Array2)
    {
     Array_type ResultArray;
     int i;
     for(i=0;i<5;i++)
     {
      ResultArray.Array[i]=Array1.Array[i]+Array2.Array[i];
     }
     return ResultArray;
    }


    int main(void)
    {
     Array_type A1={{1,2,3,4,5}};
     Array_type A2={{6,7,8,9,10}};
     Array_type Result;
     int i;

     Result=AddArray(A1,A2);

     for(i=0;i<5;i++)
     {
      printf("Result[%d]=%d\n",i,Result.Array[i]);
     }
     return 0;
    }


    Kind regards Alexander Fritsch 

------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has 170,000 e-mail communities from which to choose!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_255" " Re: Passing arrays to and from a function.. "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 06-17-99 12:27:41
Subject: @{b}Re: Passing arrays to and from a function..@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>

>     #include <stdio.h>
> 
>     typedef struct {
>     int Array[5];
>     }Array_type;
> 
> 
>     Array_type AddArray(Array_type Array1, Array_type Array2)
>     {
>      Array_type ResultArray;
>      int i;
>      for(i=0;i<5;i++)
>      {
>       ResultArray.Array[i]=Array1.Array[i]+Array2.Array[i];
>      }
>      return ResultArray;
>     }

Now THAT wouldn't work, unless you declare ResultArray static,
as otherwise it's put on stack and then you can just forget
those values when you exit the function.

-----------------------------------------------------------
// Jesper Svennevid


------------------------------------------------------------------------
Congratulations to "PAFind," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_256" " AW: [amiga-c] Passing arrays to and from a function.. "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 06-17-99 12:36:03
Subject: @{b}AW: [amiga-c] Passing arrays to and from a function..@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

     >     typedef struct {
     >     int Array[5];
     >     }Array_type;
     > 

> > 
> >     Array_type AddArray(Array_type Array1, Array_type Array2)
> >     {
> >      Array_type ResultArray;
> >      int i;
> >      for(i=0;i<5;i++)
> >      {
> >       ResultArray.Array[i]=Array1.Array[i]+Array2.Array[i];
> >      }
> >      return ResultArray;
> >     }
> 
> Now THAT wouldn't work, unless you declare ResultArray static,
> as otherwise it's put on stack and then you can just forget
> those values when you exit the function.
> 
> -- 
> // Jesper Svennevid
> 
    That works as I dont return a pointer to a local variable, I return
the variable itself. Its the same as

    int test(void)
    {
     int a=5;
     return a;
    }

    Alexander Fristch 

------------------------------------------------------------------------
Make your voice heard!
http://www.onelist.com
Sign up for the ONElist Weekly Survey.  Go to homepage for details.
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_257" " Re: AW: [amiga-c] Passing arrays to and from a function.. "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 06-17-99 12:42:52
Subject: @{b}Re: AW: [amiga-c] Passing arrays to and from a function..@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>



>     That works as I dont return a pointer to a local variable, I return
> the variable itself. Its the same as
> 
>     int test(void)
>     {
>      int a=5;
>      return a;
>     }

Doh, true, I had a minor blackout there, sorry :D

-----------------------------------------------------------
// Jesper Svennevid


------------------------------------------------------------------------
What do lizards and rock music have in common?
http://www.onelist.com
They both have communities at ONElist.  Find yours today!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_258" " Re: Passing arrays to and from a function.. "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 06-17-99 13:07:08
Subject: @{b}Re: Passing arrays to and from a function..@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

Hello Kevin

On 17-Jun-99, Kevin Bewley wrote:
> From: "Kevin Bewley" <kevin.bewley@camr.org.uk>
> 
> Help,
>   I want to write a program that will take numeric input into two 
> arrays (5 elements each). Pass those two to a function called 
> addarrays(), which with add each equivalent member of the arrays 
> together and put the output into a third array:
> 
> ArrayOutput[1] = Array1[1] + Array2[1]
> 
> I then want this funcion to return that array to the main loop which 
> will print it all out. I can get a function to take two arrays as 
> arguements but I don't have any idea how to make a function return 
> an array.
> 
> addarrays(int array1[], int array2[]) //handles the passing of the 
> arrays TO the function but how can I get a function back?

It's best to use pointers, both to pass the original arrays and to return the
array with the results. As for the results, you could either allocate it
within the function and return a pointer to it, or allocate outside the
function and pass it in as a 3rd argument.

int array1[9];
int array2[9];

APTR addarray(int **array1, int **array2)
{
    APTR array;

    array = allocvec(...);
    add em up...
    return(array)
}

or

int array1[9];
int array2[9];
int arrayadd[9];

void addarray(int **array1, int **array2, int **arrayadd)
{
    add em up...
}


------------------------------------------------------------------------
Congratulations to "PAFind," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_259" " Re: Passing arrays to and from a function.. "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-17-99 20:41:29
Subject: @{b}Re: Passing arrays to and from a function..@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Fritsch Alexander wrote this on 17-Jun-99 at 12:36:03
 Hi Fritsch 

->> 
->     That works as I dont return a pointer to a local variable, I return
-> the variable itself. Its the same as
-> 
->     int test(void)
->     {
->      int a=5;
->      return a;
->     }
-> 
->     Alexander Fristch 


    I was going to ask the same question but I see it now. However... How does
the actual compiled code work here? Does it copy the whole struct from the
stack to elsewhere or just not colapse the stack frame?
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



--------------------------- ONElist Sponsor ----------------------------

Looking to expand your world?
http://www.onelist.com
ONElist has 175,000 e-mail communities from which to choose!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_260" " Re: AW: [amiga-c] Passing arrays to and from a function.. "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 06-18-99 23:30:22
Subject: @{b}Re: AW: [amiga-c] Passing arrays to and from a function..@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

I recall some difficulties about returning a complete array in ANSI C.
It's perfectly possible in C++ however. Howabout this sollution:
//Arrayprogram.cxx

#include <iostream.h>

class ArrayX
 {
 private:
 int  Array[5];
 
 public:
 ArrayX()
  {
  int i;
  for (i=0;i<5;i++) Array[i]=0;
  }
 ArrayX(int a1, int a2, int a3, int a4, int a5)
  {
  Array[0]=a1;
  Array[1]=a2;
  Array[2]=a3;
  Array[3]=a4;
  Array[4]=a5;
  }
 ~ArrayX(){}
 ArrayX operator+ (ArrayX &ax)
  {
  int i;
  for (i=0; i<5; i++)Array[i]+=ax.Array[i];
  return ArrayX(Array[0],Array[1],Array[2],Array[3],Array[4]);
  }
 ArrayX& operator= (ArrayX &ax)
  {
  int i;
  for (i=0; i<5; i++)Array[i]=ax.Array[i];
  return *this;
  }
 friend ostream& operator<<(ostream &os, ArrayX &ax)
  {
  int i;
  for (i=0; i<5; i++)os<<"Result["<<i<<"]="<<ax.Array[i]<<endl;
  return os;
  }
 };

void main()
 {
 ArrayX a1(1,2,3,4,5);
 ArrayX a2(6,7,8,9,10);
 ArrayX result;
 
 result = a1+a2;
 cout<<result;
 }

On 17-Jun-99, Fritsch Alexander claimed:
>From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>



>> ArrayOutput[1] = Array1[1] + Array2[1]
>> 
>> I then want this funcion to return that array to the main loop which 
>> will print it all out. I can get a function to take two arrays as 
>> arguements but I don't have any idea how to make a function return 
>> an array.
>> 
>> addarrays(int array1[], int array2[]) //handles the passing of the 
>> arrays TO the function but how can I get a function back?
>> 
>[Fritsch Alexander]  
>I think to return an array directly is not possible due to the way C
>handels pointers and arrays. The best way is IMHO to work always with
>pointers. You could give a pointer to the result-array as a third parameter
>to the function or you function allocates the needed spaces with malloc and
>returns the pointer to this memoryblock.

>If you really want to be static you could "hide" your arrays in
>structures. Your program could look like this:


>#include <stdio.h>

>typedef struct {
>int Array[5];
>}Array_type;


>Array_type AddArray(Array_type Array1, Array_type Array2)
>{
> Array_type ResultArray;
> int i;
> for(i=0;i<5;i++)
> {
>  ResultArray.Array[i]=Array1.Array[i]+Array2.Array[i];
> }
> return ResultArray;
>}


>int main(void)
>{
> Array_type A1={{1,2,3,4,5}};
> Array_type A2={{6,7,8,9,10}};
> Array_type Result;
> int i;

> Result=AddArray(A1,A2);

> for(i=0;i<5;i++)
> {
>  printf("Result[%d]=%d\n",i,Result.Array[i]);
> }
> return 0;
>}


------------------------------------------------------------------------
Looking to expand your world?
http://www.onelist.com
ONElist has 170,000 e-mail communities from which to choose!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_261" " Re: Passing arrays to and from a function.. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-20-99 19:41:40
Subject: @{b}Re: Passing arrays to and from a function..@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Jun 17, 1999 at 05:07:08AM -0700, Rod Schnell wrote:
<snip>
> It's best to use pointers, both to pass the original arrays and to return the
> array with the results.

You have misunderstood the relationship between C pointers and arrays.
Go straight to your manual.  Do not pass go.  Do not collect 200
currency units.

In C there is no such thing as an array argument or an array return
value.  You are allowed to use [] as an alternative to * in the
argument types in function prototypes and definitions.  (See
<URL:http://cm.bell-labs.com/cm/cs/who/dmr/chist.html> for an
explanation of this and many other curious features of C.)  The value
of an array variable used as an argument of a function call is a
constant pointer to its first element, just as in any other
expression.

<snip>
> APTR addarray(int **array1, int **array2)

This should be:
    int * addarray(int *array1, int *array2)

<snip>
> void addarray(int **array1, int **array2, int **arrayadd)
<snip>

This should be:
    void addarray(int *array1, int *array2, int **arrayadd)

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
friends: People who know you well, but like you anyway.

------------------------------------------------------------------------
Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of 170,000 e-mail communities at ONElist!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_262" " Re: AW: [amiga-c] Passing arrays to and from a function.. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-20-99 19:45:05
Subject: @{b}Re: AW: [amiga-c] Passing arrays to and from a function..@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Jun 18, 1999 at 11:30:22PM +0100, Steffen wrote:
> From: Steffen <steffen.mars@stenloese.mail.telia.com>
> 
> I recall some difficulties about returning a complete array in ANSI C.

You mean `impossibility'.

> It's perfectly possible in C++ however. Howabout this sollution:
<snip>

Yes, that looks like a typical C++ sledgehammer.

The std::vector template class should be able to do all this for you
in C++.  If you don't have it, get a real compiler. ;-)

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
friends: People who know you well, but like you anyway.

------------------------------------------------------------------------
ONElist:  where real people with real interests get connected.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_263" " Re: Passing arrays to and from a function.. "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 06-21-99 05:09:31
Subject: @{b}Re: Passing arrays to and from a function..@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

Hello Ben

On 20-Jun-99, Ben Hutchings wrote:
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> On Thu, Jun 17, 1999 at 05:07:08AM -0700, Rod Schnell wrote:
> <snip>
>>  It's best to use pointers, both to pass the original arrays and to return
>>  the array with the results.
> 
> You have misunderstood the relationship between C pointers and arrays.

Actually I understand just fine, but maybe I could have stated it a bit
more clearly, "use pointers -to- the arrays...".

> <snip>
>> APTR addarray(int **array1, int **array2)
> 
> This should be:
>    int * addarray(int *array1, int *array2)

That is correct, I'll accept blame for a typo there.

  Rod


------------------------------------------------------------------------
Congratulations to "PAFind," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_264" " Re: AW: [amiga-c] Passing arrays to and from a function.. "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 06-21-99 05:22:57
Subject: @{b}Re: AW: [amiga-c] Passing arrays to and from a function..@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

On 20-Jun-99, Ben Hutchings claimed:
>From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

>On Fri, Jun 18, 1999 at 11:30:22PM +0100, Steffen wrote:
>> From: Steffen <steffen.mars@stenloese.mail.telia.com>
>> 
>> I recall some difficulties about returning a complete array in ANSI C.

>You mean `impossibility'.
I was only 99% certain.

>> It's perfectly possible in C++ however. Howabout this sollution:
><snip>

>Yes, that looks like a typical C++ sledgehammer.
I especially liked the main(), compared to a C solution.

>The std::vector template class should be able to do all this for you
>in C++.  If you don't have it, get a real compiler. ;-)

Not to be mistaken for 'get a life' ?
I use SAS, which doesn't support templates, as you might have guessed.
I've considdered GNU, but it seemed a major project just to install.
What do you use, and what other features do templates provide ?


------------------------------------------------------------------------
With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!
------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_265" " Re: AW: [amiga-c] Passing arrays to and from a function.. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-22-99 01:40:50
Subject: @{b}Re: AW: [amiga-c] Passing arrays to and from a function..@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Mon, Jun 21, 1999 at 05:22:57AM +0100, Steffen wrote:
> From: Steffen <steffen.mars@stenloese.mail.telia.com>
> 
> On 20-Jun-99, Ben Hutchings claimed:
> >From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> >On Fri, Jun 18, 1999 at 11:30:22PM +0100, Steffen wrote:
> >> From: Steffen <steffen.mars@stenloese.mail.telia.com>
> >> 
> >> I recall some difficulties about returning a complete array in ANSI C.
> 
> >You mean `impossibility'.
> I was only 99% certain.

Perhaps I should put more smilies in.

> >> It's perfectly possible in C++ however. Howabout this sollution:
> ><snip>
> 
> >Yes, that looks like a typical C++ sledgehammer.
> I especially liked the main(), compared to a C solution.

Sure, but you came up with something comprehensive which may not
really have been needed.  This is one of the reasons that C++ has
a reputation for bloat - it's *easy* to be too general.

> >The std::vector template class should be able to do all this for you
> >in C++.  If you don't have it, get a real compiler. ;-)
> 
> Not to be mistaken for 'get a life' ?
> I use SAS, which doesn't support templates, as you might have guessed.
> I've considdered GNU, but it seemed a major project just to install.
> What do you use, and what other features do templates provide ?

I use egcs.  Templates let you do `generic programming', where the
same source code can work with just about any type of data and yet is
type-safe (i.e. doesn't require error-prone casts).  This sort of
programming is normally restricted to functional programming
languages, where it generally incurs a high run-time overhead.

In ANSI C++, you could write this:

    #include <vector>

    using std::vector;

    template<typename T>
    void addvector( const vector<T> & a, const vector<T> & b,
                    vector<T> & sum )
    {
        sum.resize(a.size());
        vector<T>::const_iterator a_it = a.begin(), b_it = b.begin(),
        vector<T>::iterator sum_it = sum.begin();
        while( sum_it != sum.end() )
            *sum_it++ = *a_it++ + *b_it++;
    }

    int main()
    {
        vector<int> via(10), vib(10), visum;
        // fill via and vib
        addvector( via, vib, visum );

        vector<float> vfa(8), vfb(8), vfsum;
        // fill vfa and vfb
        addvector( vfa, vfb, vfsum );
    }

You wouldn't do that, though, because there's another template class
for one-dimensional arrays, called valarray, which has operator member
functions for addition etc.  That's what I should have said instead of
std::vector.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
We get into the habit of living before acquiring the habit of thinking.
                                                              - Albert Camus

--------------------------- ONElist Sponsor ----------------------------

Find people who care about what you care about.
http://www.onelist.com
At ONElist:  your connection to community.

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_266" " Re: Passing arrays to and from a function.. "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 06-24-99 04:19:40
Subject: @{b}Re: Passing arrays to and from a function..@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

On 22-Jun-99, Ben Hutchings claimed:
>From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

>On Mon, Jun 21, 1999 at 05:22:57AM +0100, Steffen wrote:
>> From: Steffen <steffen.mars@stenloese.mail.telia.com>
>> 
>> On 20-Jun-99, Ben Hutchings claimed:
>> >From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
>> 
>> >On Fri, Jun 18, 1999 at 11:30:22PM +0100, Steffen wrote:
>> >> From: Steffen <steffen.mars@stenloese.mail.telia.com>
>> >> 
>> >> I recall some difficulties about returning a complete array in ANSI C.
>> 
>> >You mean `impossibility'.
>> I was only 99% certain.

>Perhaps I should put more smilies in.
What is a smilie ?

>> >> It's perfectly possible in C++ however. Howabout this sollution:
>> ><snip>
>> 
>> >Yes, that looks like a typical C++ sledgehammer.
>> I especially liked the main(), compared to a C solution.

>Sure, but you came up with something comprehensive which may not
>really have been needed.  This is one of the reasons that C++ has
>a reputation for bloat - it's *easy* to be too general.
Well, the source looked awful when i put it in the mail, i must
confess. But with the correct indentation (not of the skull), its very
simple, allthough big.
Once the class is written, writing the program becomes much easier,
including all the other programs that want to use the same kind of
structure.
I think that using the aproach:
a3 = a1+a2;
Is far less comprehensive than the likely:
AddArrays(&a1,&a2,&a3);

I must then keep remembering, wich argument number is used for the
result. A bug will be more likely with this.
Offcourse, it depends on what type of program you need. Sometimes less
is better.

>I use egcs.  Templates let you do `generic programming', where....
Digesting :)


--------------------------- ONElist Sponsor ----------------------------

Books, music, videos, gifts, e-cards, auctions-find them at AMAZON.COM.
Browse Earth's Biggest Selection!  Enjoy everyday savings of up to 50%!
<a href=" http://clickme.onelist.com/ad/amazon1 ">Click Here</a>

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_267" " AW: [amiga-c] Passing arrays to and from a function.. "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 06-24-99 07:41:51
Subject: @{b}AW: [amiga-c] Passing arrays to and from a function..@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>


> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Fritsch Alexander wrote this on 17-Jun-99 at 12:36:03
>  Hi Fritsch 
> 
> ->> 
> ->     That works as I dont return a pointer to a local variable, I return
> -> the variable itself. Its the same as
> -> 
> ->     int test(void)
> ->     {
> ->      int a=5;
> ->      return a;
> ->     }
> -> 
> ->     Alexander Fristch 
> 
> 
>     I was going to ask the same question but I see it now. However... How
> does
> the actual compiled code work here? Does it copy the whole struct from the
> stack to elsewhere or just not colapse the stack frame?
>       
> Tim Hanson,
> 
    It should copy the struct from the stack to your destination
variable.

    Kind regards Alexander Fritsch

--------------------------- ONElist Sponsor ----------------------------

Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!

------------------------------------------------------------------------
  -> Spread the URL: http://www.onelist.com/subscribe.cgi/amiga-c <- 
@ENDNODE
@NODE "Mail_268" " Re: Passing arrays to and from a function.. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-25-99 00:58:33
Subject: @{b}Re: Passing arrays to and from a function..@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Jun 17, 1999 at 08:41:29PM +0100, Tim Hanson wrote:
> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Fritsch Alexander wrote this on 17-Jun-99 at 12:36:03
>  Hi Fritsch 
> 
> ->> 
> ->     That works as I dont return a pointer to a local variable, I return
> -> the variable itself. Its the same as
> -> 
> ->     int test(void)
> ->     {
> ->      int a=5;
> ->      return a;
> ->     }
> -> 
> ->     Alexander Fristch 
> 
> 
>     I was going to ask the same question but I see it now. However... How does
> the actual compiled code work here? Does it copy the whole struct from the
> stack to elsewhere or just not colapse the stack frame?

I think that the caller provides stack space for the called function
to write the returned structure into.  You shouldn't need to worry
about this unless you want to interface with assembly-language code.
At least, I assume so.  Is there a binary standard for passing C
structures on 68K, such that one can pass them between code compiled
with different compilers?

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
A free society is one where it is safe to be unpopular. - Adlai Stevenson

--------------------------- ONElist Sponsor ----------------------------

Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_269" " Re: Passing arrays to and from a function.. "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-26-99 02:11:05
Subject: @{b}Re: Passing arrays to and from a function..@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Jun 24, 1999 at 04:19:40AM +0100, Steffen wrote:
> From: Steffen <steffen.mars@stenloese.mail.telia.com>
> 
> On 22-Jun-99, Ben Hutchings claimed:
<snip>
> >Perhaps I should put more smilies in.
> What is a smilie ?

Smilies is the plural of smiley, and a smiley is something like this: :-)

<snip>
> Once the class is written, writing the program becomes much easier,
> including all the other programs that want to use the same kind of
> structure.
> I think that using the aproach:
> a3 = a1+a2;
> Is far less comprehensive than the likely:
> AddArrays(&a1,&a2,&a3);

Yes, agreed.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Always try to do things in chronological order;
it's less confusing that way.

--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
We've just added a "NO ATTACHMENTS" option.  See homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_270" " Please completely ignore this message testing new mailer "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-01-99 00:29:39
Subject: @{b}Please completely ignore this message testing new mailer@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>


    Just got YAM2.7 cos everyone said I should. Seems ok but does it work.
Theres no mail comming this way so I thought I`d generate some sorry to all.

-----------------------------------------------------------

Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
http://www.sinister67.freeserve.co.uk



------------------------------------------------------------------------
ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!
------------------------------------------------------------------------
* Don't forget to tell your 'C' coding buddies to join up!! *
@ENDNODE
@NODE "Mail_271" " Q: Debugging "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-25-99 20:17:30
Subject: @{b}Q: Debugging@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hi
Can anybody recommend a debugging setup? I have an 060 so I use MungFriend
with Cyberguard. Also there are such programs as MungWall, PoolWatch, and
others. I actually use Wipeout. But I am not sure if it matters in what
order they are started. Which programs should I use? Any suggestions are
welcome.

Voytek

PS. Speaking of which the C:Mount command generates Enforcer (CyberGuard?)
hits. Especially with AsimCDFS. Can anybody confirm that?


--------------------------- ONElist Sponsor ----------------------------

Find people who care about what you care about.
http://www.onelist.com
At ONElist:  your connection to community.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_272" " Re: Q: Debugging "
From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>
Date: 06-26-99 00:47:36
Subject: @{b}Re: Q: Debugging@{ub}

From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>

On 25-Jun-99  did write:
> From: Voytek Laniewski <voytek@cyburban.com>
> 
> Hi
> Can anybody recommend a debugging setup? I have an 060 so I use MungFriend
> with Cyberguard. Also there are such programs as MungWall, PoolWatch, and
> others. I actually use Wipeout. But I am not sure if it matters in what
> order they are started. Which programs should I use? Any suggestions are
> welcome.

In my experience nothing beats a printout and a spare few hours ;)


--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_273" " Re: Q: Debugging "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-26-99 01:55:27
Subject: @{b}Re: Q: Debugging@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Voytek Laniewski wrote this on 25-Jun-99 at 20:17:30
 Hi Voytek 
 
-> Hi
-> Can anybody recommend a debugging setup? I have an 060 so I use MungFriend

    I`m sure everybody has an opinion on this. I like mungwall and have just
got Cyberguard to replace enforcer. I use newsushi to send output to a
kingconsole. This means I loose any output if it crashes but I like the
instant feed back. Segtracker and Findhit are sort of useful but sometimes
point me in the wrong direction entirely.
 Another cool little tool is codewatcher. It`s on aminet. It watches for
un-freed mem, libs devices etc. at exit. I`d also recommend using lots of
printf()s and a source level debugger.


      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



--------------------------- ONElist Sponsor ----------------------------

Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_274" " Re: Q: Debugging "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 06-26-99 02:28:19
Subject: @{b}Re: Q: Debugging@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Fri, Jun 25, 1999 at 03:17:30PM -0400, Voytek Laniewski wrote:
<snip>
> PS. Speaking of which the C:Mount command generates Enforcer (CyberGuard?)
> hits. Especially with AsimCDFS. Can anybody confirm that?

It's probably a file-system bug rather than the fault of Mount, but
without access to source code it's difficult to place blame.

-----------------------------------------------------------
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Always try to do things in chronological order;
it's less confusing that way.

--------------------------- ONElist Sponsor ----------------------------

Having difficulty getting "in synch" with list members? 
http://www.onelist.com
Try ONElist's Shared Calendar to organize events, meetings and more!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_275" " Re: Q: Debugging "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-26-99 09:10:56
Subject: @{b}Re: Q: Debugging@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 25 Voytek (Voytek Laniewski) wrote:

> From: Voytek Laniewski <voytek@cyburban.com>
> 
> Hi
> Can anybody recommend a debugging setup? I have an 060 so I use MungFriend
> with Cyberguard. Also there are such programs as MungWall, PoolWatch, and
> others. I actually use Wipeout. But I am not sure if it matters in what
> order they are started.

   It does matter. MungWall and PoolWatch complement one another, whereas
Wipeout is attempt to roll all memory monitoring and debugging code into
a single program (actually, this was just part of the motivation to write
such a tool; I never quite understood MungWall's output format and found
its lack of proper SegTracker support more than just unhelpful).

> Which programs should I use? Any suggestions are
> welcome.

   I use the following four tools: CyberGuard (Enforcer on an '040),
BlowUp, Wipeout and Sashimi.

> Voytek
> 
> PS. Speaking of which the C:Mount command generates Enforcer (CyberGuard?)
> hits. Especially with AsimCDFS. Can anybody confirm that?

   That could be a bug in the Mount utility. It doesn't expect an
icon's do_ToolTypes pointer to be NULL.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

--------------------------- ONElist Sponsor ----------------------------

Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_276" " Re: Q: Debugging "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-26-99 09:11:58
Subject: @{b}Re: Q: Debugging@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 26 Tim (Tim Hanson) wrote:

> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Voytek Laniewski wrote this on 25-Jun-99 at 20:17:30
>  Hi Voytek 
>  
> -> Hi
> -> Can anybody recommend a debugging setup? I have an 060 so I use MungFriend
> 
>     I`m sure everybody has an opinion on this. I like mungwall and have just
> got Cyberguard to replace enforcer. I use newsushi to send output to a
> kingconsole. This means I loose any output if it crashes [..]

   Try the new Sashimi. It stores the captured data in such a way as
to allow it to survive a crash.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

--------------------------- ONElist Sponsor ----------------------------

With more than 20 million e-mails exchanged daily...
http://www.onelist.com
...ONElist is home to the liveliest discussions on the Internet!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_277" " Re: Q: Debugging "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 06-26-99 22:48:00
Subject: @{b}Re: Q: Debugging@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

Hello Olaf

On 26-Jun-99, Olaf Barthel wrote:
> 
>   I use the following four tools: CyberGuard (Enforcer on an '040),
> BlowUp, Wipeout and Sashimi.
> 

Just tried Wipeout and Sashimi, found Wipeout behaved strangely and was far
more cpu hungry than mungwall (040 here). Sashimi, on the other hand I rather
liked, I'll keep using it.

Cybergaurd, I tried a long time ago and stayed with Enforcer. I'd like to
check out the latest version, but it doesn't seem to be on aminet. Any idea
where it can be found?

BlowUp, I've never heard of, what is it?

  Rod


--------------------------- ONElist Sponsor ----------------------------

Looking for a new hobby?  Want to make a new friend? 
http://www.onelist.com
Come join one of 175,000 e-mail communities at ONElist!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_278" " Re: Q: Debugging "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 06-26-99 23:04:16
Subject: @{b}Re: Q: Debugging@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

On 26-Jun-99, I wrote:
> 
> BlowUp, I've never heard of, what is it?
> 

Ok, found Blowup, seems it's similar to AlertPatch. Any comments on how the
two compare? Is one better than the other and if so, why?

  Rod


--------------------------- ONElist Sponsor ----------------------------

Looking to expand your world?
http://www.onelist.com
ONElist has 175,000 e-mail communities from which to choose!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_279" " Re: Q: Debugging "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-27-99 09:58:19
Subject: @{b}Re: Q: Debugging@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 26 Rod (Rod Schnell) wrote:

> From:    Rod Schnell <rodsch@telusplanet.net>
> 
> Hello Olaf
> 
> On 26-Jun-99, Olaf Barthel wrote:
> > 
> >   I use the following four tools: CyberGuard (Enforcer on an '040),
> > BlowUp, Wipeout and Sashimi.
> > 
> 
> Just tried Wipeout and Sashimi, found Wipeout behaved strangely and was far
> more cpu hungry than mungwall (040 here).

   Depends upon what options you enable. Don't use the CONSISTENCECHECK
option unless you're absolutely sure you need it.

> Sashimi, on the other hand I rather
> liked, I'll keep using it.
> 
> Cybergaurd, I tried a long time ago and stayed with Enforcer. I'd like to
> check out the latest version, but it doesn't seem to be on aminet. Any idea
> where it can be found?
> 
> BlowUp, I've never heard of, what is it?

   It traps processor exceptions, similar to how the "tnt" tool works.
Just like the other tools I have been working on, its debugging output
has been greatly enhanced and made more consistent.

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

--------------------------- ONElist Sponsor ----------------------------

Find people who care about what you care about.
http://www.onelist.com
At ONElist:  your connection to community.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_280" " Re: Q: Debugging "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 06-27-99 10:01:12
Subject: @{b}Re: Q: Debugging@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Jun 26 Rod (Rod Schnell) wrote:

> From:    Rod Schnell <rodsch@telusplanet.net>
> 
> On 26-Jun-99, I wrote:
> > 
> > BlowUp, I've never heard of, what is it?
> > 
> 
> Ok, found Blowup, seems it's similar to AlertPatch.

   Not really. Processor exceptions can end in an Alert, but they
need not even get there. That's where Blowup can help as its output
can be captured by Sashimi, which in turn can survive a system
crash. Now try that with AlertPatch...

-----------------------------------------------------------
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_281" " Re: Q: Debugging "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 06-27-99 21:28:12
Subject: @{b}Re: Q: Debugging@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

Hello Olaf

On 27-Jun-99, Olaf Barthel wrote:
> From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>
> 
> On Jun 26 Rod (Rod Schnell) wrote:
> 
>> From:    Rod Schnell <rodsch@telusplanet.net>
>> 
>> On 26-Jun-99, I wrote:
>>> 
>>> BlowUp, I've never heard of, what is it?
>>> 
>> 
>> Ok, found Blowup, seems it's similar to AlertPatch.
> 
>   Not really. Processor exceptions can end in an Alert, but they
> need not even get there. That's where Blowup can help as its output
> can be captured by Sashimi, which in turn can survive a system
> crash. Now try that with AlertPatch...

If I remember right, Alertpatch catches most exceptions, not just the ones
that trigger alerts.

Debug output surviving a system crash isn't a big concern for me, but
suspending programs that are about to crash is very usefull.

I have since installed Blowup, since you wrote a couple other debuggers I'm
using, I figure blowup might work better with them. Now I'll just have to
wait till next time I make a boneheaded mistake, or grab a buggy program off
aminet, to see how well it works. :)

  Rod


--------------------------- ONElist Sponsor ----------------------------

Congratulations to "Make_A_Child_Smile," our latest ONElist of the Week.
http://www.onelist.com
How is ONElist changing YOUR life?  Visit our homepage and let us know!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_282" " Re: Q: Debugging "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 06-27-99 21:33:53
Subject: @{b}Re: Q: Debugging@{ub}

From:    Rod Schnell <rodsch@telusplanet.net>

Hello Olaf

On 27-Jun-99, Olaf Barthel wrote:
>> 
>> Just tried Wipeout and Sashimi, found Wipeout behaved strangely and was far
>> more cpu hungry than mungwall (040 here).
> 
>   Depends upon what options you enable. Don't use the CONSISTENCECHECK
> option unless you're absolutely sure you need it.

I didn't use CONSISTENCECHECK,  just NOBANNER and left the rest default.

  Rod


--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
We've just added a "NO ATTACHMENTS" option.  See homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_283" " Re: Q: Debugging "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-27-99 23:52:55
Subject: @{b}Re: Q: Debugging@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Rod Schnell wrote this on 27-Jun-99 at 21:28:12
 Hi Rod 
-> Now I'll just have to
-> wait till next time I make a boneheaded mistake, 

    If your coding is anything like mine that should be a very short wait. My
miggy spends half it`s life rebooting.

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_284" " Re: Q: Debugging "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-28-99 02:00:42
Subject: @{b}Re: Q: Debugging@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hello Andrew

On 25-Jun-99, Andrew Markwell wrote:
> From: Andrew Markwell <andrewmarkwell@ukonline.co.uk>
> 
> On 25-Jun-99  did write:
>> From: Voytek Laniewski <voytek@cyburban.com>
>> 
>> Hi
>> Can anybody recommend a debugging setup? I have an 060 so I use
>> MungFriend with Cyberguard. Also there are such programs as MungWall,
>> PoolWatch, and others. I actually use Wipeout. But I am not sure if it
>> matters in what order they are started. Which programs should I use? Any
>> suggestions are welcome.
> 
> In my experience nothing beats a printout and a spare few hours ;)

LOL; thanx

Voytek


--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
We've just added a "NO ATTACHMENTS" option.  See homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_285" " Re: Q: Debugging "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-28-99 02:20:14
Subject: @{b}Re: Q: Debugging@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hello Ben

On 25-Jun-99, Ben Hutchings wrote:
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> On Fri, Jun 25, 1999 at 03:17:30PM -0400, Voytek Laniewski wrote:
> <snip>
>> PS. Speaking of which the C:Mount command generates Enforcer
>> (CyberGuard?) hits. Especially with AsimCDFS. Can anybody confirm that?
> 
> It's probably a file-system bug rather than the fault of Mount, but
> without access to source code it's difficult to place blame.

It seems to be. Mount does not do it with other devices. Will have to see
what Asimware have to say about this one.

Voytek


--------------------------- ONElist Sponsor ----------------------------

Attention ONElist list owners.
http://www.onelist.com
Check out the new "DEFAULT MODERATED STATUS" option.  See homepage.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_286" " Re: Q: Debugging "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-28-99 02:45:03
Subject: @{b}Re: Q: Debugging@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hello Olaf

On 26-Jun-99, Olaf Barthel wrote:
> From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>
> 
> On Jun 25 Voytek (Voytek Laniewski) wrote:
> 
>> From: Voytek Laniewski <voytek@cyburban.com>
>> 
>> Hi
>> Can anybody recommend a debugging setup? I have an 060 so I use
>> MungFriend with Cyberguard. Also there are such programs as MungWall,
>> PoolWatch, and others. I actually use Wipeout. But I am not sure if it
>> matters in what order they are started.
> 
>   It does matter. MungWall and PoolWatch complement one another, whereas
> Wipeout is attempt to roll all memory monitoring and debugging code into
> a single program (actually, this was just part of the motivation to write
> such a tool; I never quite understood MungWall's output format and found
> its lack of proper SegTracker support more than just unhelpful).

Thanx for the program. I like it.

>> Which programs should I use? Any suggestions are
>> welcome.
> 
>   I use the following four tools: CyberGuard (Enforcer on an '040),
> BlowUp, Wipeout and Sashimi.

I will have to try that BlowUp thing :-)

>> 
>> PS. Speaking of which the C:Mount command generates Enforcer
>> (CyberGuard?) hits. Especially with AsimCDFS. Can anybody confirm that?
> 
>   That could be a bug in the Mount utility. It doesn't expect an
> icon's do_ToolTypes pointer to be NULL.

Hmmm... Weird thing: I do not get any hits from Mount anymore but
asimcdfs.device still does it so it looks like mount is ok especially
because no hits are generated with any other device I try to mount. Will
have to ask Asimware.

Voytek


--------------------------- ONElist Sponsor ----------------------------

Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_287" " Re: Q: Debugging "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-28-99 02:45:58
Subject: @{b}Re: Q: Debugging@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hello Olaf

On 26-Jun-99, Olaf Barthel wrote:
> From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>
> 
> On Jun 26 Tim (Tim Hanson) wrote:
> 
>> From: Tim Hanson <msinister@connectfree.co.uk>
>> 
>> Voytek Laniewski wrote this on 25-Jun-99 at 20:17:30
>> Hi Voytek 
>> 
>> -> Hi
>> -> Can anybody recommend a debugging setup? I have an 060 so I use
>> MungFriend
>> 
>>    I`m sure everybody has an opinion on this. I like mungwall and have
>> just got Cyberguard to replace enforcer. I use newsushi to send output to
>> a kingconsole. This means I loose any output if it crashes [..]
> 
>   Try the new Sashimi. It stores the captured data in such a way as
> to allow it to survive a crash.

How does it compare with MungFriend?

Voytek


--------------------------- ONElist Sponsor ----------------------------

ONElist members are using Shared Files in great ways!
http://www.onelist.com
Are you?  If not, see our homepage for details.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_288" " Re: Q: Debugging "
From: Voytek Laniewski <voytek@cyburban.com>
Date: 06-28-99 02:50:40
Subject: @{b}Re: Q: Debugging@{ub}

From: Voytek Laniewski <voytek@cyburban.com>

Hello Rod

On 26-Jun-99, Rod Schnell wrote:
> From:    Rod Schnell <rodsch@telusplanet.net>
> 
> Hello Olaf
> 
> On 26-Jun-99, Olaf Barthel wrote:
>> 
>>   I use the following four tools: CyberGuard (Enforcer on an '040),
>> BlowUp, Wipeout and Sashimi.
>> 
> 
> Just tried Wipeout and Sashimi, found Wipeout behaved strangely and was
> far more cpu hungry than mungwall (040 here). Sashimi, on the other hand I
> rather liked, I'll keep using it.
> 
> Cybergaurd, I tried a long time ago and stayed with Enforcer. I'd like to
> check out the latest version, but it doesn't seem to be on aminet. Any
> idea where it can be found?
> 
> BlowUp, I've never heard of, what is it?

Never heard of BlowUp myself until recently but I suspect it should be on
Aminet. As for Cyberguard try http://www.phase5.de. Should be in their
Amiga support section. Look in the ppc or 68060 section. It usually is in
the 68060 library archive along with some other tools.

Voytek


--------------------------- ONElist Sponsor ----------------------------

Who is the most visited e-mail list community Web Service?
http://www.onelist.com
ONElist.com - where more than 20 million e-mails are exchanged each day!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_289" " Re: Q: Debugging "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 06-28-99 10:57:30
Subject: @{b}Re: Q: Debugging@{ub}

From: "Jesper Svennevid" <jesper@fxrealm.com>



> From: Tim Hanson <msinister@connectfree.co.uk>
> 
>  Another cool little tool is codewatcher. It`s on aminet. It watches for
> un-freed mem, libs devices etc. at exit. I`d also recommend using lots of
> printf()s and a source level debugger.

It's just too bad that it doesn't work that well on newer computers, it
worked just fine when I had a 030, but locks up entirely on my 040. I
suspect some cache-problems. :)

-----------------------------------------------------------
// Jesper Svennevid : jesper@fxrealm.com
   Software Developer At FXRealm Studios : http://www.fxrealm.com/



--------------------------- ONElist Sponsor ----------------------------

Looking to expand your world?
http://www.onelist.com
ONElist has 175,000 e-mail communities from which to choose!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_290" " Re: Q: Debugging "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 06-28-99 14:21:01
Subject: @{b}Re: Q: Debugging@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 26-Jun-99, Olaf Barthel wrote:

> [...] Wipeout is attempt to roll all memory monitoring
> and debugging code into a single program [...]

I had weird problems with MUI, when I used Wipeout. I found it to be strongly
related to MUI's dataspace class - but when I asked Stuntz he told me this:

   MUI indeed crashes with wipeout on certain occasions. But then, also my 
   SAS-C crashes when wipeout is running, so I don't really know if it's a 
   MUI problem.

So I was wondering if you have any comments about this? Could Wipeout be
incompatible with bug-free programs, or is it out of the question? Does
Wipeout e.g. require some asumption to hold, which the OS doesn't check, which
thus results only in a crash when Wipeout is installed?

Regards Allan
-----------------------------------------------------------
   Email: Duff@DIKU.DK
     URL: http://www.DIKU.dk/students/duff/


--------------------------- ONElist Sponsor ----------------------------

Campaign 2000 is here!
http://www.onelist.com
Discuss your thoughts; get informed at ONElist.  See our homepage.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_291" " Re: Q: Debugging "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 06-28-99 14:59:15
Subject: @{b}Re: Q: Debugging@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Jesper Svennevid wrote this on 28-Jun-99 at 10:57:30
 Hi Jesper 
-> From: "Jesper Svennevid" <jesper@fxrealm.com>

->>  Another cool little tool is codewatcher. 

-> It's just too bad that it doesn't work that well on newer computers, it
-> worked just fine when I had a 030, but locks up entirely on my 040. I
-> suspect some cache-problems. :)    

Wierd it works fine here (040). It`s Enforcer I can`t get to work. I have to
use Cyberguard even though Enforcer is supposed to work on 040.

-----------------------------------------------------------
      
Tim Hanson,
in the Basement,London.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk



--------------------------- ONElist Sponsor ----------------------------

ONElist:  the best source for group communications.
http://www.onelist.com
Join a new list today!

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_292" " Re: Q: Debugging "
From: Christian Hattemer <Chris@heaven.riednet.wh.tu-darmstadt.de>
Date: 06-28-99 16:20:25
Subject: @{b}Re: Q: Debugging@{ub}

From: Christian Hattemer <Chris@mail.riednet.wh.tu-darmstadt.de>

On 28-Jun-99 Tim Hanson wrote:

> Wierd it works fine here (040). It`s Enforcer I can`t get to work. I have
> to use Cyberguard even though Enforcer is supposed to work on 040.

There are some strange things with Enforcer and Cyberguard...

Enforcer is said to fail on P5 Boards when useing the P5 68040/60 Libs.
However Enforcer works fine here (CS MK II 040/40), but I couldn't get
Cyberguard to work...

Bye, Chris

-----------------------------------------------------------
            __
           ///
      __  ///  Amiga 4000T 040/40      Team *AMIGA*
      \\\///
       \XX/    http://www.riednet.wh.tu-darmstadt.de/~chris/

How many Windows PC owners does it take to change a lightbulb?
Just one, as long as you explain it's Plug'n'Play, they get
confused if it doesn't come with a driver disk...


--------------------------- ONElist Sponsor ----------------------------

Where do some of the Internet's largest email lists reside?
http://www.onelist.com
At ONElist - the most scalable and reliable service on the Internet.

------------------------------------------------------------------------
     -> Spread the URL: http://www.onelist.com/s