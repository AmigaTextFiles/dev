# ---------------------------
# SAS-C Makefile for MoreReqs
# ---------------------------

FLAGS		=	STRINGMERGE NOSTACKCHECK NOSTANDARDIO\
					DATA=NEAR NOVERSION LIBCODE SMALLCODE\
					SMALLDATA UTILLIB NOLINK NOMODIFIED\
					OPTIMIZE OPTSCHED

all: pragmas morereq.o lib copy

pragmas:
	fd2pragma MoreReq.fd SAS MoreReq_pragmas.h 

morereq.o: morereq.c
	copy morereq:/proto/MoreReq_protos.h	include:clib
	copy MoreReq_pragmas.h	include:pragmas
	copy morereq:/include/MoreReq.h	include:libraries
	sc nolink $(FLAGS) morereq.c
	revco MoreReq REV

lib: morereq.o 
      slink with <<
LIBFD morereq.fd 
to morereq.library 
FROM lib:libent.o lib:libinit.o morereq.o 
lib lib:sc.lib 
noicons 
SD 
#libversion 0 librevision 0
<
      slink from morereq.library to libs:morereq.library ND noicons

copy:
	copy libs:morereq.library rec:/libs

test:
	sc link test.c
	move test /Test
