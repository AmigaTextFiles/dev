TABLE OF CONTENTS

MoreReq.lib/mrAllocRequestA
MoreReq.lib/mrCloseWindowSafely
MoreReq.lib/mrCreateGadgetA
MoreReq.lib/mrFreeGadget
MoreReq.lib/mrFreeRequest
MoreReq.lib/mrLockWindow
MoreReq.lib/mrMatchVanillaKeyA
MoreReq.lib/mrRequestA
MoreReq.lib/mrUnlockWindow

MoreReq.lib/mrAllocRequestA                      MoreReq.lib/mrAllocRequestA

  NAME
    mrAllocRequestA -- allocate a MoreReq requester.
    mrAllocRequest  -- varargs stub for mrAllocRequest().

  SYNOPSIS
    requester = mrAllocRequestA(reqType, tagList);

    APTR mrAllocRequestA(ULONG,struct TagItem *);

    requester = mrAllocRequest(reqType, firstTag, ...);

    APTR mrAllocRequest(ULONG,Tag, ...);

  FUNCTION
    Allocates a MoreReq data structure of the specified type.

  INPUTS
    type -  type of  requester  to  allocate.  Currently  defined  types are:
            MR_ListviewRequest.
    tags -  pointer to an optional tag list  specifying how to initialize the
            data structure returned by  this  function. See the documentation
            for mrRequest() for an explanation  of  how  to use the currently
            defined tags.

  RESULT
    requester - an initialized requester data structure,  or NULL on failure.
                The data  structure  returned  corresponds  to  the requested
                type:

                MR_ListviewRequest -> (struct ListviewRequester *)

  WARNING
    All listview requester data  structures  are  READ-ONLY  and  can only be
    modified by using tags!

  SEE ALSO
    mrRequest(), mrFreeRequest()

MoreReq.lib/mrCloseWindowSafely              MoreReq.lib/mrCloseWindowSafely

  NAME
    mrCloseWindowSafely()

    mrCloseWindowSafely(window);

    void mrCloseWindowSafely(struct Window *);

  DESCRIPTION
    Closes a window which shares its IDCMP port with another window.  All the
    pending messages (concerning this window) on the port will be removed and
    the window will be closed.

  INPUTS
    window - pointer to the window to be closed.

  NOTE
    Only call mrCloseWindowSafely() for windows  with  a _SHARED_ IDCMP port.

    Do NOT call it for windows with  an IDCMP port created by Intuition: Your
    application will soon crash as it runs out of signal bits.

MoreReq.lib/mrCreateGadgetA                      MoreReq.lib/mrCreateGadgetA

  NAME
    mrCreateGadgetA -- allocate and initialize a MoreReq gadget.
    mrCreateGadget  -- varargs stub for mrCreateGadgetA().

  SYNOPSIS
    gad = mrCreateGadgetA(kind, previous, newgad, mrgad, dri, tagList)

    struct Gadget *mrCreateGadgetA( ULONG,
                                    struct Gadget *,
                                    struct NewGadget *,
                                    APTR,
                                    struct DrawInfo *,
                                    struct TagItem *);

    gad = mrCreateGadget(kind, previous, newgad, mrgad, dri, firstTag, ...)

    struct Gadget *mrCreateGadgetA( ULONG,
                                    struct Gadget *,
                                    struct NewGadget *,
                                    APTR,
                                    struct DrawInfo *,
                                    Tag, ...);

  FUNCTION
    mrCreateGadgetA() allocates and initializes a new gadget of the specified
    kind, and attaches it  to  the  previous  gadget.   The gadget is created
    based on the supplied kind, NewGadget structure, and tags.

  INPUTS
    kind      - kind of gadget is to be  created,  one of the XXX_KIND values
                defined in MoreReq.h
    previous  - pointer to the previous gadget that  this new gadget is to be
                attached to. This function will fail if this value is NULL
    newgad    - a  filled  in  NewGadget  structure  describing  the  desired
                gadget's height and position.
    mrgad     - pointer to the type of gadget you want to create.
    dri       - pointer to a fully initialized drawinfo structure.
    tagList   - pointer to an array of  tags  providing optional extra param-
                eters, or NULL

  RESULT
    gad - pointer to the new gadget, or  NULL  if the allocation failed or if
          previous was NULL.

  SEE ALSO
    gadtools.library/CreateGadget()

MoreReq.lib/mrFreeGadget                           MoreReq.lib/mrFreeGadget

  NAME
    mrFreeGadget -- free a MoreReq gadget

  SYNOPSIS
    mrFreeGadget(mrgadget)

    void mrFreeGadget(APTR);

  FUNCTION
    Frees a MoreReq gadget  allocated  with  mrCreateGadgetA()  This function
    will return safely with no action if it receives a NULL parameter.

  INPUTS
    mrgadget - pointer to gadget created with mrCreateGadgetA().

  SEE ALSO
    mrCreateGadgetA()

MoreReq.lib/mrFreeRequest                          MoreReq.lib/mrFreeRequest

  NAME
    mrFreeRequest -- frees resources allocated by mrAllocRequest.

  SYNOPSIS
    mrFreeRequest(requester);

    void mrFreeRequest(APTR);

  FUNCTION
    mrFreeRequest() frees any system resources allocated by mrAllocRequest().
    Once a requester has been  freed,  it  can  no  longer be used with other
    calls to mrRequest().

  INPUTS
    requester - requester obtained from  mrAllocRequest(),  or  NULL in which
                case this function does nothing.

  SEE ALSO
    mrAllocRequest()

MoreReq.lib/mrLockWindow                           MoreReq.lib/mrLockWindow

  NAME
    mrLockWindow()

    lock = mrLockWindow (window);

    APTR mrLockWindow (struct Window *);

  DESCRIPTION
    Lock a window so it  will  no  longer  accept  any  user input.  The only
    functions left to the  user  are  depth  arrangement and window dragging.
    Gadgets in the window will not  be  selectable  and the window can not be
    resized.

  INPUTS
    window - pointer to the window to be locked.

  RESULT
    lock -  a pointer to a  (private)  window  lock.   You  must pass this to
            mrUnlockWindow() to unlock the window again.

  SEE ALSO
    MR_SleepWindow tag for mrRequest()

MoreReq.lib/mrMatchVanillaKeyA               MoreReq.lib/mrMatchVanillaKeyA

  NAME
    mrMatchVanillaKeyA -- match vanilla key pressed
    mrMatchVanillaKey  -- varargs stub for mrMatchVanillaKeyA

    result = mrMatchVanillaKeyA(key, array);

    UWORD mrMatchVanillaKeyA(int,char **);

    result = mrMatchVanillaKey(key, text1, ...);

    UWORD mrMatchVanillaKey(int, char *, ...);

  DESCRIPTION
    Find which text contains the given key.

    example of a localized match:

    case IDCMP_VANILLAKEY:
      switch(mrMatchVanillaKey((int)imsg->Code, GetString(&li, MSG_OK),
                                                GetString(&li, MSG_CANCEL),
                                                NULL))
      {
        case 1:
          /* O in _OK was pressed */
          break;
        case 2:
          /* C in _Cancel was pressed */
          break;
      }
      break;

  INPUTS
    key     - key to  match.   Usually  set  to  (int)IntuiMessage->Code when
              receiving an IDCMP_VANILLAKEY.
    array   - NULL-terminated array of texts in  which  to search for the key
              that is pressed.

  RESULT
    result  - a number from 1 (match in first  text)  to n (match in the last
              text).

MoreReq.lib/mrRequestA                                MoreReq.lib/mrRequestA

  NAME
    mrRequestA -- get input from user using a MoreReq requester.
    mrRequest  -- varargs stub for mrRequestA().

  SYNOPSIS
    result = mrRequestA(requester, tagList);

    UWORD mrRequestA(APTR, struct TagItem *);

    result = mrRequest(requester, firstTag, ...);

    UWORD mrRequest(APTR, Tag, ...);

  FUNCTION
    Prompts the user for input, based  on  the specific type of requester and
    modifying tags. The actions  and  results  are  specific  to  the type of
    requester, but in general  the  action  is  to  open  a requesting window
    prompting the user for a  specific  input.   If  the  user cancels or the
    system aborts the request, 0  is returned. If  any  other  button  is se-
    lected, that number will  be  returned.   Otherwise  the requester's data
    structure reflects the  user input.

    Note that tag values stay in effect  for  each use of the requester until
    they are cleared or modified by passing the same tag with a new value.

  INPUTS
    requester - requester structure allocated  with  mrAllocRequest.  If this
                parameter is NULL, this function will always return 0.
    tags      - pointer to an optional tag list  which may be used to control
                features of the requester.

  TAGS
    Tags for use with all requester types:

    MR_Window             - (struct Window *) Parent  window of requester. If
                            no MR_Screen tag is  specified, the window struc-
                            ture is used to determine on which screen to open
                            the requesting window.  Default  is public screen
                            (NULL).
    MR_Screen             - (struct Screen *)  Screen  on  which  to open the
                            requester.  This tag is not necessary if you have
                            included the MR_Window tag.
    MR_PrivateIDCMP       - (BOOL) When set to  TRUE,  this  tells MoreReq to
                            allocate a  new  IDCMP  port  for  the requesting
                            window.  If set  to  FALSE,  and  if MR_Window is
                            provided,  the  requesting   window   will  share
                            MR_Window's IDCMP port.
    MR_IntuiMsgFunc       - (void *) A function  to  call whenever an unknown
                            Intuition message  arrives  at  the  message port
                            being used by  the  requesting  window.   If this
                            function returns  0,  the  requester  in question

                            will  be  closed.    The  function  receives  the
                            following parameters:
                            A0 - (struct Hook *)
                            A1 - (struct IntuiMessage *)
                            A2 - (APTR)
    MR_SleepWindow        - (BOOL) When set to TRUE,  this tag will cause the
                            window specified  by  MR_Window  to  be  "put  to
                            sleep". That is, a busy pointer will be displayed
                            in the  parent  window,  and  no  gadget  or menu
                            activity will be allowed. This is done by opening
                            an invisible Intuition  Requester  in  the parent
                            window.  Uses  system  sleep-pointer  under WB3.0
                            and higher and  a  custom  pointer under previous
                            releases.
    MR_TextAttr           - (struct TextAttr  *)  Font  to  be  used  for the
                            requesting window's gadgets. If  this  tag is not
                            provided or its value  is  NULL, the default font
                            of the  screen  on  which  the  requesting window
                            opens will be used.  This font must already be in
                            memory  as  MoreReq  calls   OpenFont()  and  not
                            OpenDiskFont().  Default is screen's font.
    MR_TitleText          - (UBYTE *) Title to use for the requesting window.
                            Default is "MoreReq <version>.
    MR_InitialLeftEdge    - (WORD) Suggested left edge of requester.
    MR_InitialTopEdge     - (WORD) Suggested top edge of requester.
    MR_InitialWidth       - (WORD) Suggested width of requester.
    MR_InitialHeight      - (WORD) Suggested height of requester.
    MR_IntialPercentH     - (WORD) Suggested  width  of  requester  given  in
                            percentage of  screen's  width  (100  being  full
                            width).
    MR_InitialPercentV    - (WORD) Suggested  height  of  requester  given in
                            percentage of  screen's  height  (100  being full
                            height).
    MR_InitialCentreH     - (BOOL)  If  TRUE,  then  the  requester  will  be
                            horizontally centred on  the  screen.  Default is
                            FALSE.
    MR_IntialCentreV      - (BOOL)  If  TRUE,  then  the  requester  will  be
                            vertically centred  on  the  screen.   Default is
                            FALSE.
    MR_Gadgets            - (UBYTE *) String  of  several  possible responses
                            separated by  a  |.   For  example  "Yes|No",  or
                            "OK|Edit|Cancel".  The responses  should be typed
                            in  the  same  order  as   they  will  appear  on
                            screen, from left to right.  There is no limit to
                            the number of responses  other  than the width of
                            the screen the  requester  will  appear  on.  Any
                            underlined characters in  the  string will become
                            keyboard equivalents  for  the  gadgets.   If the
                            string passed is "_OK|Canc_el" the requester will
                            use 'O' as an equivalent to the OK-gadget and 'E'
                            as an equivalent to the Cancel-gadget. Default is
                            no gadgets.
    MR_SameGadgetWidth    - (BOOL) All response buttons will have same width.
                            Default is FALSE.
    MR_SizeGadget         - (BOOL) If TRUE  the  requester  will be sizeable.
                            Default is FALSE.
    MR_CloseGadget        - (BOOL)  If  TRUE,  the   requester  will  have  a
                            closegadget in the window  border.  Pressing this
                            gadget is equivalent to cancelling the requester.
                            Default is FALSE.
    MR_SimpleRefresh      - (BOOL) If TRUE, then the requester window will be
                            of simple refresh type.   Default is FALSE (smart
                            refresh).
    MR_UserData           - (APTR) A 32-bit value  that  is  simply copied in
                            the mr_UserData field of the requester structure.

    Tags for use with MR_ListviewRequest type:

    MRLV_Labels           - (struct List  *)  List  of  nodes  whose  ln_Name
                            fields are to be displayed in the listview.
    MRLV_Selected         - (UWORD)  Ordinal  number  of  currently  selected

                            item,  or  ~0  to   have  no  current  selection.
                            Defaults is 0.
    MRLV_ReadOnly         - (BOOL) If TRUE, then  the  listview is read-only.
                            Default is FALSE.
    MRLV_DropDown         - (BOOL) If TRUE, the requester will have no border
                            and all gadgets will have no space between them.
   RESULT
    result -  0 if the user cancelled the requester or if something prevented
              the requester from opening.  If  other  than  0,  values in the
              requester structure will  be  set  depending  on the particular
              type of requester.

  WARNING
    All listview requester data  structures  are  READ-ONLY  and  can only be
    modified by using tags!

  SEE ALSO
    mrAllocRequest(), mrFreeRequest()

MoreReq.lib/mrUnlockWindow                       MoreReq.lib/mrUnlockWindow

  NAME
    mrUnlockWindow()

    mrUnlockWindow(window, lock);

    void mrUnlockWindow(struct Window *, APTR);

  DESCRIPTION
    Unlock a window previously locked  with  mrLockWindow().  The window will
    once again accept user  input  and  will  get  its original mouse pointer
    back.

  INPUTS
    window  - pointer to the window to be unlocked.
    lock    - the lock pointer returned by mrLockWindow().

  SEE ALSO
    mrLockWindow(), MR_SleepWindow tag for mrRequest()
