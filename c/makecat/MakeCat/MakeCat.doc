
                 Dokumentation zu MakeCat Version 38.22
               ==========================================

           geschrieben von Alexander Kochann und Oliver Reiff
                              (9.11.1992)

-------------------------------------------------------------------------------
-------------------------------------------------------------------------------

Gleich vorweg:
 Auch wir sind nicht (ganz) perfekt !
 Sollten
  - irgendwelche Fehler auftreten,
  - Sie irgenwelche Fragen haben,
  - Sie uns Ihre Meinung zu MakeCat sagen wollen
  - oder sogar Verbesserungsvorschläge haben,
 melden Sie sich bitte einfach bei uns:
 
 PALADIN SOFTWARE
 c/o Alexander Kochann
 Jakob-Bernhard-Straße 8
 D-W-6903 Dilsberg
 Germany
 
 Tel.: 06223 / 74630
 Fax : 06221 / 166071

 Wir freuen uns über jeden Vorschlag oder gefundenen Fehler.

 Außerdem danken wir:
  - Kai Bolay für seine Idee und Unterstützung der Oberon-Funktion.

-------------------------------------------------------------------------------
-------------------------------------------------------------------------------

Leider ist der erste Fehler bereits passiert:

Das Installationsskript der PD Disk 11/92 hatte falsche Pfadangeben.

Der Artikel "Man spricht Deutsch" des AMIGA-Magazins Ausgabe 11/92,
in dem das Programm MakeCat beschrieben wird, bezieht sich auf eine
ältere Version von MakeCat. Die Anweisung "DATE" wurde aus 
Kompatibilitätsgründen zum MaxonASM in "CATDATE" umbenannt.
Ein weiterer Fehler betrifft die aufgeführten CT-Files. Der '\' am Ende
einer Zeile bedeutet nämlich NUR bei der Definition von Zeichenketten,
daß die nächste Zeile die Fortsetzung derselben aufzufassen ist. Es gilt
NICHT bei der Definition der Version, des Headers usw.
Ein weiterer Fehler ist, daß beim Umwandeln des abgedruckten Quellcodes in
Kataloge maximal zwei Kataloge angelegt werden und NICHT wie angegeben
deren drei.
Eine Defaultversion wird auch nicht mehr gesetzt.
Die Sprachkennung US wird nicht mehr akzeptiert.
Und der letzte inhaltliche Fehler: Die Adressen der Strings aus den
Katalogen bekommen Sie selbstverständlich NICHT mit GetLocaleStr(),
sondern mit GetCatalogStr().
Last but not least wurde noch vergessen das Assign 'LD:' zu erklären.
Es steht - schlicht und ergreifend - für 'LocaleData'.

-------------------------------------------------------------------------------
-------------------------------------------------------------------------------

Außerdem besteht die Möglichkeit bei uns als "Language-Developer"
mitzuwirken. Dazu übersetzen Sie am besten einen oder mehrere
Kataloge in eine Sprache, die MakeCat noch nicht unterstützt und
schicken uns diesen zu. Wenn Sie darüberhinaus auch an einer
längeren Zusammenarbeit interessiert sind, schicken wir Ihnen
kurz vor der Veröffentlichung eines Updates eine Kopie, von der 
Sie wiederum eine Übersetzung anfertigen. So machen Sie MakeCat
auch denen zugänglich, die Ihre Sprache sprechen und bekommen
zwar kein Geld, aber immer die neueste Version von MakeCat. 

-------------------------------------------------------------------------------
-------------------------------------------------------------------------------

Auf die folgenden Sätze hätten wir gerne verzichtet:
Leider steigt die Gewalt und der Ausländerhass in Deutschland immer
mehr an. Nachdem am 8.11. sogar der Bundespräsident mit Eiern und
Steinen beworfen wurde, konnten wir die 2 Sätze im Versions-Fenster
nicht weglassen:       "Gegen Gewalt und Rassismus !"
                 "Für Verständigung zwischen den Völkern !"
Gerade MakeCat ist ein Programm, das durch die vielen verschiedenen
Völker und Sprachen einen Sinn bekommt. 

-------------------------------------------------------------------------------
-------------------------------------------------------------------------------

Zu MakeCat gehören folgende Dateien:
           MakeCat               - am besten ins Tools-Verzeichnis
           MakeCat.info          - natürlich zu MakeCat
           MakeCat.catalog       - die deutsche Katalogdatei gehört in
                                   LOCALE:Catalogs/deutsch; entsprechendes
                                   gilt für die übrigen Kataloge. 
                                   ( wer weitere Kataloge erstellt, möchte sie
                                     uns bitte zuschicken s.o.)
           MakeCat.doc           - zum einmaligen Lesen oder sonstwohin
           MakeCat.doc.info      - ein Icon zum Starten von WatchIt
           MakeCat.cd            - Hier stehen alle orginalen Texte, da in den
                                   Katalogen nur manche übersetzt sind. Am
                                   besten nach LD:
           paladin.library       - natürlich nach LIBS:
           paladin.catalog       - siehe MakeCat.catalog, jedoch in allen
                                   Sprachen, so gut wir sie eben übersetzen
                                   konnten.... (Verbesserung und Fehler s.o.)
           Paladin.doc           - Deutsche Dokumentation zur Paladin-Library
           Paladin.doc.info      - ein Icon zum Starten von WatchIt
           Paladin_lib.fd        - FD-File zur Paladin-Library, nach FD:

           Diese Dateien können Sie auch automatisch mit MakeCat_Install
           auf Ihre Festplatte installieren. Dazu benötigen Sie das Programm
           'Installer' von der Diskette 'Install2.1' oder 'Install3.0' im
           'C:'-Verzeichnis Ihrer Festplatte (Diskette...)

           Außerdem benötigt MakeCat OS2.1/3.0 (asl- und locale.library)
           und die paladin.library 38.109 !
	
-------------------------------------------------------------------------------
-------------------------------------------------------------------------------

Hier zeigen wir Ihnen, wie sie die MakeCat-Kataloge leicht verändern
und für andere Sprache anpassen können:

- Stellen Sie in MakeCat ein:
  "Ausgabe    C-Source    Ram:MakeCat.c"
  "Eingabe       CD       MakeCat.cd"
  "Eingabe    Katalog     sprache/MakeCat.catalog"

- Starten Sie die Konvertierung.

- In der Datei "Ram:MakeCat.c" stehen nun die Orginal-Texte und die
  Übersetzungen aus dem Katalog. Sie können jetzt in Ruhe Ergänzungen
  und Veränderungen vornehmen.

- Stellen Sie wieder in MakeCat ein ( vergessen sie nicht die gewünschte
  Sprache ebenfalls anzugeben, die Option 'Kataloge freigeben' einzustellen
  und den MakeCat.catalog ins richtige Verzeichnis zu schreiben ):
  "Eingabe    C-Source    Ram:MakeCat.c"
  "Ausgabe    Katalog     sprache/MakeCat.catalog"

- Starten Sie die Konvertierung.

Nun steht der neue Katalog mit Ihren Veränderungen zur Verfügung.
Wenn sie somit einen vollständig Katalog für eine Sprache erzeugt
haben, schicken Sie ihn uns bitte zu (s.o)

                               WICHTIG !

Damit Kataloge nach Änderungen vom System angenommen werden, muss man
entweder den Befehl 'avail flush' eingeben oder in MakeCat die Option
'Kataloge freigeben' aktiviert haben. Dabei dürfen die alten Kataloge
von keinem Progamm mehr benutzt werden !

-------------------------------------------------------------------------------
-------------------------------------------------------------------------------

MakeCat wurde als Ersatz für das CLI-Programm "CatComp" geschrieben,
das sich auf der Developers2.1-Diskette befindet. Es dient vor allem
dazu, die für das Locale-System so wichtigen Katalogdateien zu 
erzeugen. Neben dem Katalog-Format kennt MakeCat aber noch 7 andere
Formate, die sowohl gelesen als auch geschrieben werden können.

Die Bedienung von MakeCat ist durch die Benutzeroberfläche recht
einfach. Wählen Sie Ihre Ein- und Ausgabedatei(en) und anschließend
"Konvertieren". Die Namen der Dateien können Sie in den StringGadgets
ändern oder mit Hilfe eines FileRequesters, der nach einem Klick auf
die mittlere Gadgetspalte erscheint.

Wenn Sie als CT-Datei Demo_D.ct angeben, wird MakeCat auch auf andere
CT-Dateien gleichen Namens, wie Demo_DK.ct, zurückzugreifen, wenn Sie
in der obersten Gadgetleiste mit den Sprachkürzeln andere Sprachen 
aktivieren. Ebenso verfährt MakeCat beim Zugriff auf die Kataloge.

Alle Einstellungen können mit Hilfe des Einstellungs-Menus gespeichert
werden. Wählen Sie dazu die jeweiligen Punkte an. Auf diese Weise teilen
sie MakeCat mit, welche Einstellungen gespeichert werden sollen und
welche nicht. Wenn sie 'Einstellungen setzen' aktivieren, so merkt sich
der Amiga Ihre Einstellungen beim Programmende. Er speichert sie aber
nicht ab !
Besonders wichtig kann die Einstellung 'Kataloge freigeben' werden.
Wenn Sie Kataloge anlegen, und diese Option aktiviert haben, so
werden alle Daten im Speicher, die nicht benutzt werden, freigegeben.
Also, z.B. unbenutze Kataloge oder Libraries (das gleiche passiert bei
'avail flush'). Dies ist beim Programmieren sehr nützlich, da sich
die Texte im Programm (und somit die Kataloge) schnell mal ändern können.
Wenn der alte Katalog nicht mehr benutzt wird, wird er beim Anlegen des
neuen automatisch aus dem Speicher entfernt.

-------------------------------------------------------------------------------
-------------------------------------------------------------------------------

Doch nun zu den Formaten im einzelnen:

  ASS-Source:   ein Assemblerquelltext oder der Localeteil davon

           Gedacht für Programmierer, die mit dem Macro LocLea und der
           Routine GetString arbeiten.
	Diese Routine benutzt Nullbytes als Endkennung von Strings !
	In Katalogdateien dürfen aber auch Nullbytes in Strings vor-
	kommen, deshalb kann es zu Kompatibilitätsproblemen kommen,
	wenn Sie Kataloge in Assembler und wieder zurück übersetzen!
	Benutzen Sie lieber den C-Source zum "Editieren" von Kata-
	logen. Ein weiteres Problem stellen die Punkte in Labelnamen
	dar, die CatComp in CD- und CT-Dateien NICHT akzeptiert !
	Verwenden Sie also keine Punkte, wenn Sie außer Katalogen
	auch noch CD- oder CT-Dateien erstellen wollen.

           Zwischen den Labels LOCALE_START und LOCALE_END könne wie 
           in Assembler üblich Zeichenketten definiert werden:
              Bsp:   Name       dc.b        'Hallo Ihr',10,"xxx",$45,0

           Außerdem können in Kommentarzeilen oder Macros die Über-
           setzungen definiert werden, die im assemblierten Programm
           NICHT auftauchen !!!
              Bsp:             D 'Das ist deutsch !',10
              	       * D 'Und das auch',0
                             * F "C'est français",0

           Außerdem können ebenso in Kommentarzeilen oder Macros
           folgende Anweisungen erteilt werden:
                   CATALOG   name    - setzt den Namen des Katalogs
                   VERSION   xx.xx   - setzt die Versionsnummer des Katalogs
                   CATDATE   x.x.x   - setzt das Erstellungsdatum
                   LEN       min,max - setzt minimale und maximale Länge
                                       der Übersetzungstexte
                   LEN       max     - setzt NUR die maximale Länge !

           Benutzt man Macros (wegen der Übersicht!), so sollten sie wie
           folgt definiert werden:
             Beispiel für die deutsche Übersetzung:
                        D      macro
                               endm
                                 
           Wichtig ist, daß alle Strings mit einem Nullbyte enden müssen
           und keine anderen Anweisungen zwischen den Labeln stehen.



  C-Source:    ein C-Quelltext oder der Locale-Teil davon

           Zwischen den Zeilen
           '#define LOCALE_START' und
           '#define LOCALE_END' können die LocText-Strukturen definiert
           werden.
              Bsp:    struct LocText text1={1,"String 1"};

           Außerdem können in Kommentarfeldern Übersetzungen definiert werden,
           die im kompilierten Programm NICHT auftauchen !!!
              Bsp:  /*
                              D  "Das ist deutsch !"
                              F  "C'est français"
                          */

           Mehrzeilige Übersetzungen können so angegeben werden:
                         /*
                              D     "Zeile 1 und /"
                                    "Zeile 2"
                         */

           Außerdem können ebenso in Kommentarfeldern folgende Anweisungen
           erteilt werden:
                    CATALOG  name    - setzt den Namen des Katalogs
                    VERSION  xx.xx   - setzt die Versionsnummer des Katalogs
                    CATDATE  x.x.x   - setzt das Erstellungsdatum
                    LEN      min,max - setzt minimale und maximale Länge
                                       der Überetzungstexte
                    LEN      max     - setzt NUR die maximale Länge !



  ASM:   ein Assemblerinclude

           Gedacht für Assembler-Programmierer, die mit AppStrings arbeiten.

           Diese Datei sollte eigentlich nur geschrieben werden.
           In ihr wird die AppString-Struktur definiert, sowie die Nummern
           und Originaltexte.
           Nähere Informationen siehe Doc-File zu CatComp !



  C:     ein C-Include

           Gedacht für C-Programmierer, die mit AppStrings arbeiten.

           Diese Datei sollte eigentlich nur geschrieben werden.
           In ihr wird die AppString-Struktur definiert, sowie die Nummern
           und Originaltexte.
           Nähere Informationen siehe Doc-File zu CatComp !



  OBERON:    ein Oberon-Include

           Gedacht für Oberon-Programmierer, die mit AppStrings arbeiten.

           Nähere Informationen dazu folgen noch. Bei Fragen wenden sie
           sich bitte an:
                              Kai Bolay    Tel.:  07152 / 24127



  CD:    eine 'Catalog Description'-Datei
             
           Sie enthält die Nummern, Kennungen und Originaltexte, sowie die
           Längenbegrenzungen für die Übersetzungen.

             Bsp:         Text1_STR (22/7/80)
                          Hallo Leute, ein deutscher String !

           Das Beispiel weist dem String Nr. 22 die Kennung Text1_STR und den
           Text in der zweiten Zeile zu. Die minimale Länge der Übersetzungen
           sollte 7, die maximale Länge 80 betragen.

           Mit '#header name' kann man den Namen eines zu erzeugenden Includes
           festlegen.
           Kommentarzeilen beginnen mit ';'.
           Sonderzeichen siehe Tabelle 1.
           Nähere Informationen siehe Doc-File zu CatComp !




  CT:    eine 'Catalog Translation'-Datei

           Sie enthält die Übersetzungen in einer bestimmten Sprache.

               Bsp:     Text1_STR
                        C'est français !

           Der sog. Header enthät außerdem weitere Informationen:

               ## version $VER: name.catalog ver.rev (10.09.92)
               ## codeset 0
               ## language français

           Kommentarzeilen beginnen mit ';'.
           Sonderzeichen siehe Tabelle 1.
           Sie sollte im Verzeichnis 'LD:' (zu assignen!) aufbewahrt
           werden. An den eigentlichen Namen sollte ein Sprachkürzel
           (siehe Tabelle 2) und '.ct' angehägt werden.
               Bsp:        LD:demo_D.ct
           Nähere Informationen siehe Doc-File zu CatComp !




  Katalog: eine Katalog-Datei

           Sie ist eine IFF-Datei, die nicht per Hand geändert werden
           sollte.
           Das fertige Programm benötigt sie zum Öffnen mit OpenCatalogA().
           Dabei werden sie im Verzeichnis LOCALE:Catalogs/<sprache>,
           bzw. einem Unterverzeichnis gesucht !

-------------------------------------------------------------------------------
-------------------------------------------------------------------------------

Tabelle 1: Sonderzeichen in CD- und CT-Dateien

    \a     fügt ASCII-7 (BEEP) ein
    \b     fügt ASCII-8 (BACKSPACE) ein
    \c     fügt ASCII-155 (CSI) ein
    \e     fügt ASCII-27 (ESC) ein
    \f     fügt ASCII-12 (Formfeed) ein
    \n     fügt ASCII-10 (Linefeed) ein
    \r     fügt ASCII-13 (Return) ein
    \t     fügt ASCII-9 (Tabulator) ein
    \v     fügt ASCII-11 (Vertikaler Tabulator) ein
    \xNN   fügt ASCII-NN ein, wobei NN eine Hexadezimalzahl ist
    \NNN   fügt ASCII-NNN ein, wobei NNN eine Oktalzahl ist
    \\a 	fügt '\a' ein (gilt auch für \\b, \\c, \\d ...)
    \      am Zeilenende führt dazu, daß die nächste Zeile als
           Fortsetzung dieser Zeile aufgefaßt wird

-------------------------------------------------------------------------------
-------------------------------------------------------------------------------

Tabelle 2 : Alle Sprachkürzel 

    D      deutsch
    DK     dänisch
    E      spanisch
    F      französisch
    GB     englisch
    I      italienisch
    N      norwegisch
    NL     holländisch
    P      portugiesisch
    S      schwedisch

