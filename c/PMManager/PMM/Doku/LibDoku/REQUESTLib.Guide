@DATABASE REQUESTLib.Guide
@$VER: 1.1
@(C) 1999 by Michaela Prüß
@AUTHOR Michaela Prüß

@REMARK Created with Guided by Linus McCabe


@node Main "Main"
         @{U}@{B}Table of Contents@{UU}@{UB}

         @{" Copyright, legal stuff " link Copyright}
         @{" Support, Bugs, Updates " link Support

         @{" Included functions     " link Function}
            @{" Simple requester    " link Func1}
               @{" Intern: set text " link Intern}
            @{" File/Vol. requester " link Func2}

         @{" History                " link History}

         @{" Included demo programs " link Demos}
@ENDNODE

@node Copyright "Copyright"
@TOC Main
@NEXT Support
@PREV Main
@WORDWRAP
@SMARTWRAP
     @{U}@{B}Copyrights, legal stuff@{UU}@{UB}

The REQUESTLib is Copyright 1999 by Michaela Prüß, Berlin

This version is freeware.

All copyright's reserved by Michaela Pruess.
You have only permission for non-commercial use of this lib.
The Aminet has permission to publish this file on all
Aminet-sites, Aminet-mirror's and Aminet-CD's.

This software is provided as-is, without warranty of any kind,
either expressed or implied. In no event will the authoress be
liable for direct, indirect, incidental or consequential damages
or data loss resulting from the use or application of this software.
The entire risk as to the results and performance of this software
is assumed by the user. Furthermore, the contents of the archive
cannot be altered in any way, although the archive itself can be
transmitted electronically via BBS systems or the Internet.

@{B}REQUESTLib.Lib@{UB} uses @{I}reqtools.library@{UI} and this @{I}reqtools.library@{UI} is
Copyright © Nico François and Magnus Holmgren.
Please see the reqtools documentation for details.

@{B}REQUESTLib.Lib@{UB} uses @{I}ReqTools.Lib@{UI}, a stubs link lib, to calling
functions from the library.

@{U}NOTE:@{UU} The archive of @{B}REQUESTLib.lib@{UB} contains parts from the
development of @{I}reqtools.library@{UI}, e.g. the documentation and
the includefiles. All you need to use @{B}REQUESTLib.Lib@{UB} with vbcc
will be find here. The original archive of @{I}reqtools@{UI} is much bigger.
Look there, if you need anything to support every other compiler.

This @{U}Guide@{UU} is created with @{I}Guided@{UI} by @{B}Linus McCabe@{UB}.
@ENDNODE

@node Support "Support"
@TOC Main
@NEXT Function
@PREV Copyright
@WORDWRAP
@SMARTWRAP
@{U}Support:@{UU}

Michaela Prüß
Berlin


@{I}eMail:@{UI}

Michaela@Flagranti.net



@{I}Supportsite at internet (actual version and other projects):@{UI}

http://www.flagranti.net/amiga
@ENDNODE

@node Function "Function"
@TOC Main
@NEXT Func1
@PREV Support
@WORDWRAP
@SMARTWRAP
@{U}@{B}RequestLib@{UU}@{UB}

Interface between programs and @{I}reqtools.library@{UI}.

If you want to use the @{I}reqtools.library@{UI} multiple times in your program,
you better work directly with the library. Direct use is faster and
you can do more things.

If you don't know, how to use the @{I}reqtools.library@{UI}, handle with 'tags'
or, thats the reason for this lib, you will quickly display one or two
requesters, this lib do a lot of work for you.
Every function open the library, allocate all needed things, init and
setup reqtools, display the request and after them, cleaning up.
You only have to call the functions. All other things will be done
for you.

I often has the same problem: I want to display a requester in one of my
programs but, the many things to do are too much work for the result.
So I created this lib. Add @{U}REQUESTLib.Lib@{UU} and @{U}ReqTools.Lib@{UU} to the link
command line as user libs, start the request. That's it!
And if the program needed not longer requester functions, nothing MUST be
done, linking unused lib's will automaticly exclude the lib. You can change
the linker command, but you must.
If you cut the functioncall from your program you must not look for unused
var's, include's or any else.

If you want to call @{I}reqtools.library@{UI} direct you can do it. In this case
the vbcc link command do not need the @{B}REQUESTLib.Lib@{UB}. The stubs lib is
@{B}ReqTools.Lib@{UB}, included in this archive.
@ENDNODE

@node Func1 "rtEZReq"
@KEYWORDS rtEZRequest, simple request
@TOC Main
@NEXT Intern
@PREV Function
@WORDWRAP
@SMARTWRAP
Show a simple requester by using rtEZRequest from @{I}reqtools.library@{UI}.


int rtEZReq( char *titel, char *body, char *buttontext, int defreturn,
             BOOL centertext, BOOL noreturnkey, int position,
             int topoffset, int leftoffset, char *pubscreen );


@{B}function:@{UB} rtEZReq

@{B}args    :@{UB} char *TITLE       - Title text requester
          char *BODY        - Body text requester
          char *BUTTONTEXT  - Button text requester
                              default is "Ok|Cancel"
                              undertag supported, e.g. "_Yes|_No"
          int   DEFRETURN   - Default returnvalue if RETURN key pressed
          BOOL  CENTERTEXT  - TRUE centers body text
          BOOL  NORETURNKEY - TRUE set RETURN key off
          int   POSITION    - Position of requester
                              Values are:
                              0 = Open at Pointer
                              1 = Open at center screen (default)
                              2 = Open at top left screen
                              3 = Open at center window
                              4 = Open at top left window
          int   TOPOFFSET   - Offset position relative to above
          int   LEFTOFFSET  - Offset position relative to above
          char *PUBSCREEN   - Public screen name

@{B}returns :@{UB} -1 if unable to allocate request structure
          -2 if reqtools.library not found, not opened or a to old version
           0 or higher (number of buttom) if the button is pressed 
@ENDNODE

@node Func2 "rtFileReq"
@KEYWORDS rtFileRequest, file volume requester
@TOC Main
@NEXT History
@PREV Intern
@WORDWRAP
@SMARTWRAP
Show a file or volume requester by using rtFileRequest from @{I}reqtool.library@{UI}.


int rtFileReq( char *title, char *drawer, char *set_file, char *pattern,
               BOOL nobuf, BOOL mu_sel, BOOL sel_dirs, BOOL save,
               BOOL nofiles, BOOL patgad, int height, char *oktext,
               BOOL volreq, BOOL noass, BOOL nodisks, BOOL all,
               BOOL empty, int position, int top, int left, char *to_file,
               char *pubscreen );

@{B}function:@{UB} rtFileReq

@{B}args    :@{UB} char *TITLE       - Title text requester
          char *DRAWER      - Start requester in this drawer
          char *FILE        - Defaultfilename in requester
          char *PATTERN     - Defaultvalue for patterngadget
          BOOL  NOBUFFER    - No buffer to remember dirs
          BOOL  MULTISELECT - More than one file can be selected
          BOOL  SELECTDIRS  - Allow selecting of directorys

          BOOL  SAVE        - Disable double-clicking (use for critical
                              functions like delete)
          BOOL  NOFILES     - Select only directory(s)
          BOOL  PATGAD      - Enable pattern gadget to the requester
          int   HEIGHT      - Height of file requester window
          char *OKTEXT      - Replacement text for "OK" gadget, max 6 chars
          BOOL  VOLREQ      - Turn the file requester into a volume/assign
                              disk requester
          BOOL  NOASSIGNS   - Do not include assigns, show only real devices
          BOOL  NODISKS     - Do not include devices, just show the assigns
          BOOL  ALLDISKS    - Show ALL devices, including invalids
          BOOL  ALLOWEMPTY  - Accepted empty filename for return
          int   POSITION    - Position of requester
                              Values are:
                              0 = Open at Pointer
                              1 = Open at center screen (default)
                              2 = Open at top left screen
                              3 = Open at center window
                              4 = Open at top left window
          int   TOPOFFSET   - Offset position relative to above
          int   LEFTOFFSET  - Offset position relative to above
          char *to_file     - Name of a file for the result(s)
          char *PUBSCREEN   - Public screen name

@{B}returns :@{UB} -1 if unable to open outputfile
          -2 if unable to allocate request structure
          -3 if reqtools.library not found, not opened or a to old version
           0 if the user selected nothing
           1 user select anything, selection is printed to stdout or given
             filename.
             multiple targets are seperated by a blank, if a target contain
             blanks it is written as "target with blanks".

@{B}ToDo:@{UB}
Direct access to the result(s)
@ENDNODE

@node Intern "InternalFunctions"
@KEYWORDS adjust text
@TOC Main
@NEXT Func2
@PREV Func1
@WORDWRAP
@SMARTWRAP
Internal function to set the text for rtEZReq in middle
of the requester window


BOOL set_text( char *dest, char *src );


@{B}function:@{UB} set_text

@{B}args    :@{UB} char *DESTINATION - String in requester format
          char *SOURCE      - String to set up for requester

@{B}returns :@{UB} TRUE  if work done
          FALSE if src pointer is NULL
@ENDNODE

@node History "History"
@TOC Main
@NEXT Demos
@PREV Func2
@WORDWRAP
@SMARTWRAP
     @{U}@{B}History for REQUESTLib.Lib@{UU}@{UB}

05.04.1999: Second demoprogram finished.
            Little changes in the first program.

02.04.1999: Begin this documentation for external use.
            Write simple demo programs for calling reqtools from
            CLI.

01.04.1999: Function rtFileReq added.

29.03.1999: A small testprogram @{I}TestREQUESTLIB@{UI} for the Lib created.

28.03.1999: Function rtEZReq completed.
            Function set_text added (called by rtEZReq).

27.03.1999: My tool VersCheck need a simple request. The last
            time I've used @{I}reqtools.library@{UI} was long, long ago.
            After I wrote the requester function I created the
            @{B}REQUESTLib@{UB} and put the function to the lib for easy
            access if needed next time. The @{B}REQUESTLib.Lib@{UB} was
            born.
@ENDNODE

@node Demos "Demo programs"
@TOC Main
@PREV History
@WORDWRAP
@SMARTWRAP
     @{U}@{B}My demo and test programs for REQUESTLib.Lib@{UU}@{UB}


@{U}TestREQUESTLIB:@{UU}

Testing differnt functions from @{I}REQUESTLib@{UI}. Need no arguments.
Source is included in this archive. Will be used for testing a new
compilation and I hope, is useable as little help for using the
REQUESTlib.lib functions.



@{U}RTSimpleReq:@{UU}   

Make rtEZReq useable from CLI. Can be used as an alternative to the
c:RequestChoice program. Usage:

TITLE/A,TEXT/A,BUTTON/A,RETURNVAL/N,TOPOFFSET/N,LEFTOFFSET/N,
POINTERPOS/K,CENTERSCREEN/K,TOPLEFTSCREEN/K,CENTERWINDOW/K,
TOPLEFTWINDOW/K,CENTERTEXT=CENTER/K,NORETURN=NORET/K,PUBSCREEN/A

TITLE <text>        = Titletext displayed on the requester
TEXT <text>         = Bodytext displayed on the requester
CENTER              = Center the bodytext in requester window
BUTTON <text>       = Button text(s), default is "_Yes|_No"
RETURNVAL <num>     = Returnvalue if RETURN pressed
NORETURN            = Pressing RETURN disabled
PUBSCREEN <name>    = Request display on pubscreen <name>

      Position for displaying the requester:
POINTERPOS          = at position of mouse pointer
CENTERSCREEN        = at center of the screen
TOPLEFTSCREEN       = at top, left corner of the screen
CENTERWINDOW        = at center of the window
TOPLEFTWINDOW       = at top, left corner of the window
TOPOFFSET <pos>     = Offset relative from top position, set above
LEFTOFFSET <pos>    = Offset relative from left position, set above

HELP                = Show this help
VERSION             = Program version, copyright, buildinfo



@{U}RTFileReq:@{UU}

Make rtFileReq useable from CLI. Can be used as  an alternative to
c:RequestFile. Usage:

TITLE/A,DRAWER/A,FILE/A,PATTERNS=PAT/A,NOBUFFERS=NOBUF/S,
MULTISELECT=MULTI/S,SELECTDIRS=DIRS/S,SAVE/S,NOFILES=NOFIL/S,
TOPOFFSET/N,LEFTOFFSET/N,POINTERPOS/K,CENTERSCREEN/K,
TOPLEFTSCREEN/K,CENTERWINDOW/K,TOPLEFTWINDOW/K,
PATTERNGADGET=PATGAD/S,HEIGHT/N,OKBUTTON=OK/A,VOLREQ/S,
NOASSIGN=NOASS/S,NODISKS=NODSK/S,ALLDISKS=ALL/S,
ALLOWEMPTY=EMPTY/S,RESULTFILE=TO/A,PUPSCREEN=PUB/A

TITLE <text>        = titletext displayed on the requester
DRAWER <dir>        = init on this drawer
FILE <file>         = presetting filename
PATTERNS <pat>      = preset patterngadget
NOBUFFERS           = working without dir buffers
MULTISELECT         = enables multiple file selections
SELECTDIRS          = enables to select directorys
SAVE                = disable double klick if critical
NOFILES             = select only directorys
PATTERNGADGET       = enable pattern gadget
HEIGHT <height>     = Height of file requester window
OKBUTTON <text>     = Replacement text for "OK" gadget, max 6 chars
VOLREQ              = Turn the requester into a volume/assign request
NOASSIGNS           = do not include assigns, only devices
NODISKS             = do not include devices, only assigns
ALLDISKS            = show ALL devices, including invalids
ALLOWEMPTY          = accepted empty filename for return
RESULTFILE <file>   = file to store the selected filenames
PUBSCREEN <name>    = Request display on pubscreen <name>

      Position for displaying the requester:
POINTERPOS          = at position of mouse pointer
CENTERSCREEN        = at center of the screen
TOPLEFTSCREEN       = at top, left corner of the screen
CENTERWINDOW        = at center of the window
TOPLEFTWINDOW       = at top, left corner of the window
TOPOFFSET <pos>     = Offset relative from top position, set above
LEFTOFFSET <pos>    = Offset relative from left position, set above

HELP                = Show this help
VERSION             = Program version, copyright, buildinfo


@ENDNODE

