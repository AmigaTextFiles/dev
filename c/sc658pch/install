.bra [
.ket ]

echo ""
echo "This script will apply the 6.58 patch for the"
echo "SAS/C Development System. This patch will read"
echo "from the original 6.50 system disks, but you "
echo "should have 6.57 installed on your system since"
echo "this patch does not update all of the files that"
echo "6.55, 6.56, and 6.57 did."
echo ""
echo "Check the read.me file for a list of fixed bugs."
echo ""
ask "Continue with patch?"

if warn

if exists sc:c/sc
echo Patching SC
decompress SASC_6.50_Disk_1:Compiler/c_files t: sc
spatch -osc:c/sc -psc.pch t:sc
delete t:sc quiet
endif

if exists sc:c/se
echo Patching SE
decompress SASC_6.50_Disk_1:Compiler/c_files t: se
spatch -osc:c/se -pse.pch t:se
delete t:se quiet
endif

if exists sc:c/smake
echo Patching SMAKE
decompress SASC_6.50_Disk_1:Compiler/c_files t: smake
spatch -osc:c/smake -psmake.pch t:smake
delete t:smake quiet
endif

if exists sc:c/slink
echo Patching slink
decompress SASC_6.50_Disk_1:Compiler/c_files t: slink
spatch -osc:c/slink -pslink.pch t:slink
delete t:slink quiet
endif

if exists sc:libs/sc2.library
echo Patching SC2.LIBRARY
decompress SASC_6.50_Disk_1:Compiler/libs_files t: sc2.library
spatch -osc:libs/sc2.library -psc2.pch t:sc2.library
delete t:sc2.library quiet
endif

if exists sc:libs/sc1.library
echo Patching SC1.LIBRARY
decompress SASC_6.50_Disk_1:Compiler/libs_files t: sc1.library
spatch -osc:libs/sc1.library -psc1.pch t:sc1.library
delete t:sc1.library quiet
endif

if exists sc:libs/scdebug.library
echo Patching SCDEBUG.LIBRARY
decompress SASC_6.50_Disk_1:Compiler/libs_files t: scdebug.library
spatch -osc:libs/scdebug.library -pscdebug.pch t:scdebug.library
delete t:scdebug.library quiet
endif

if exists sc:libs/scgo.library
echo Patching SCGO.LIBRARY
decompress SASC_6.50_Disk_3:optimizers/libs_files t: scgo.library
spatch -osc:libs/scgo.library -pscgo.pch t:scgo.library
delete t:scgo.library quiet
endif

if exists sc:libs/scpeep.library
echo Patching SCPEEP.LIBRARY
decompress SASC_6.50_Disk_3:optimizers/libs_files t: scpeep.library
spatch -osc:libs/scpeep.library -pscpeep.pch t:scpeep.library
delete t:scpeep.library quiet
endif

if exists sc:c/asm
echo Patching ASM
decompress SASC_6.50_Disk_3:Assembler/c_files t: asm
spatch -osc:c/asm -pasm.pch t:asm
delete t:asm quiet
endif

if exists sc:libs/sccxx.library
echo Patching SCCXX.LIBRARY
decompress SASC_6.50_Disk_3:C_PLUS_PLUS/libs_files t: sccxx.library
spatch -osc:libs/sccxx.library -psccxx.pch t:sccxx.library
delete t:sccxx.library quiet
endif

if exists sc:c/cpr
echo Patching CPR
decompress SASC_6.50_Disk_4:Debugger/c_files t: cpr
spatch -osc:c/cpr -pcpr.pch t:cpr
delete t:cpr quiet
endif

if exists sc:libs/schi.library
echo Patching SCHI.LIBRARY
decompress SASC_6.50_Disk_4:Debugger/libs_files t: schi.library
spatch -osc:libs/schi.library -pschi.pch t:schi.library
delete t:schi.library quiet
endif


if exists sc:c/gst
echo Patching GST
decompress SASC_6.50_Disk_5:Extra_Utilities/c_files t: gst
spatch -osc:c/gst -pgst.pch t:gst
delete t:gst quiet
endif

if exists sc:lib/sc.lib
echo Replacing functions in SC.LIB
oml sc:lib/sc.lib r _iob.osc
endif


if exists sc:lib/scs.lib
echo Replacing functions in SCS.LIB
oml sc:lib/scs.lib r _iob.oscs
endif

if exists sc:lib/scnb.lib
echo Replacing functions in SCNB.LIB
oml sc:lib/scnb.lib r _iob.oscnb
endif

if exists sc:lib/scsnb.lib
echo Replacing functions in SCSNB.LIB
oml sc:lib/scsnb.lib r _iob.oscsnb
endif

if exists sc:lib/scm.lib
echo Replacing functions in SCM.LIB
oml sc:lib/scm.lib r _cxvfd.oscm
endif

if exists sc:lib/scms.lib
echo Replacing functions in SCMS.LIB
oml sc:lib/scms.lib r _cxvfd.oscms
endif

if exists sc:lib/scmnb.lib
echo Replacing functions in SCMNB.LIB
oml sc:lib/scmnb.lib r _cxvfd.oscmnb
endif

if exists sc:lib/scmsnb.lib
echo Replacing functions in SCMSNB.LIB
oml sc:lib/scmsnb.lib r _cxvfd.oscmsnb
endif

if exists sc:lib/scmieee.lib
echo Replacing functions in SCMIEEE.LIB
oml sc:lib/scmieee.lib r _cxvfd.oscmieee
endif

if exists sc:lib/scm881.lib
echo Replacing functions in SCM881.LIB
oml sc:lib/scm881.lib r _cxvfd.oscm881
endif

if exists sc:lib/scmffp.lib
echo Replacing functions in SCMFFP.LIB
oml sc:lib/scmffp.lib r _cxvffpd.oscmffp
endif

echo "Adding new math library (scm881nb.lib)"
copy scm881nb.lib sc:lib
echo "Adding new math library (scm040.lib)"
copy scm040.lib sc:lib

if exists sc:source/_iob.c
echo "Replacing _iob.c"
copy _iob.c sc:source/_iob.c
endif

echo "Installing read.me file for 6.58"
copy read.me sc:read.me.6.58
copy read.me.info sc:read.me.6.58.info


endif
