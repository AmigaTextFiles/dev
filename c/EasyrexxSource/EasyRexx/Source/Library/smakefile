# ---------------------------
# SAS-C Makefile for EasyRexx
# ---------------------------

PROGRAM		=Designer

LIBRARY = easyrexx.library
OBJ			= EasyRexx.o

all: pragmas copy EasyRexx.o lib move

pragmas:
	fd2pragma xx:/includes/C/fd/easyrexx_lib.fd SAS xx:/includes/C/pragmas/EasyRexx_pragmas.h 

EasyRexx.o: EasyRexx.c
	sc $*
	revco EasyRexx COMPILATION
	rx rexx:newrev EasyRexx_rev.h 

lib: EasyRexx.o 
	slink WITH <<
	LIBFD xx:/includes/C/fd/easyrexx_lib.fd 
	to easyrexx.library 
	FROM lib:libent.o lib:libinit.o EasyRexx.o lib lib:amiga.lib
	noicons 
	SD SC
	WITH LibWith
<
	slink from easyrexx.library to libs:easyrexx.library ND noicons

copy:
	copy xx:/includes/C/clib/EasyRexx_protos.h	include:clib
	copy xx:/includes/C/pragmas/EasyRexx_pragmas.h	include:pragmas
	copy xx:/includes/C/libraries/EasyRexx.h	include:libraries

move:
	copy libs:easyrexx.library xx:/
