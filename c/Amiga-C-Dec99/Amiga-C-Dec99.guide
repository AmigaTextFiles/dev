@database Amiga_C_List.guide
@width 70

@node "Introduction" "Introduction"
@wordwrap

                         Amiga-C Mailing List Guide
                         ==========================

This guide is intended as an easy reference to the Amiga C mailing list.

It contains messages posted to the Amiga C mailing list during the month shown on the main page.

To subscribe to the Amiga C mailing list, search for amiga-c at Onelist.

http://www.onelist.com

This AmigaGuide was created using GuideMaker.rexx © Roger Light 1999
@endnode

@node "Main" "Amiga C Mailing List Guide"
                    @{b}Amiga C Mailing List Guide
                    ==========================@{ub}

                          Dec 1999

@{" Introduction " link Introduction } Introduction to the guide.

@{" Search " SYSTEM "RUN <>NIL: Searchguide FINAME"} Search this file (requres SearchGuide)

 ------------------------------------------------------------------- 

@{" Optimizing (Was: Re: Getting desperate!) " Link "Mail_0"}      Nuno Trancoso
@{" Re: SuperBitMap Window " Link "Mail_1"}      Bob Lanham
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_2"}      Allan Odgaard
@{" Re: Optimizing (was : Re: getting desperate!) " Link "Mail_3"}      Allan Odgaard
@{" Re: creating makefiles " Link "Mail_4"}      Michal Bartczak
@{" Re: creating makefiles " Link "Mail_5"}      Micha!?
@{" Re: Little maths problem " Link "Mail_6"}      Jonathan
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_7"}      Nuno Trancoso
@{" Re: Optimizing (was : Re: getting desperate!) " Link "Mail_8"}      Nuno Trancoso
@{" Re: Little maths problem " Link "Mail_9"}      Ben Hutchings
@{" Re: Little maths problem " Link "Mail_10"}      Jonathan
@{" Re: creating makefiles " Link "Mail_11"}      Stephen Illingworth
@{" Re: Optimizing (was : Re: getting desperate!) " Link "Mail_12"}      Allan Odgaard
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_13"}      Allan Odgaard
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_14"}      Volker Barthelmann
@{" Re: Little maths problem " Link "Mail_15"}      Volker Barthelmann
@{" Re: What's up with VBCC's getc()? " Link "Mail_16"}      Volker Barthelmann
@{" Re: creating makefiles " Link "Mail_17"}      Micha³ Bartczak
@{" Re: Re: creating makefiles " Link "Mail_18"}      Radoslav Hodnicak
@{" Re: Re: creating makefiles " Link "Mail_19"}      Michal Bartczak
@{" Re: creating makefiles " Link "Mail_20"}      Micha!?
@{" Compiler Problems " Link "Mail_21"}      Bablos
@{" Re: Re: Compiler Problems " Link "Mail_22"}      Bablos
@{" Re: Re: creating makefiles " Link "Mail_23"}      Jonathan
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_24"}      Nuno Trancoso
@{" Antwort: Re: creating makefiles " Link "Mail_25"}      Raimund.Dold@bgt.de
@{" PRINTER DRIVERS " Link "Mail_26"}      Michal Bartczak
@{" Re: PRINTER DRIVERS " Link "Mail_27"}      Olaf Barthel
@{" Re: Little maths problem " Link "Mail_28"}      Ben Hutchings
@{" Re: PRINTER DRIVERS " Link "Mail_29"}      Micha³ Bartczak
@{" cps counter " Link "Mail_30"}      Yves Grabowsky
@{" Re: PPC Compilation Problems " Link "Mail_31"}      Adrien HEMERY
@{" Re: cps counter " Link "Mail_32"}      Yves Grabowsky
@{" PPC Compilation Problems " Link "Mail_33"}      Bablos
@{" Re: cps counter " Link "Mail_34"}      Rod Schnell
@{" Re: cps counter " Link "Mail_35"}      Colin Wenzel
@{" Re: cps counter " Link "Mail_36"}      Rod Schnell
@{" (no subject) " Link "Mail_37"}      Tim Hanson
@{" OT: CDTV expert needed " Link "Mail_38"}      Jonas Hulten
@{" Re: WriteRGBPixel (was: no subject) " Link "Mail_39"}      Martin McKenzie
@{" Re: cps counter " Link "Mail_40"}      Micha³ Bartczak
@{" Re: WriteRGBPixel (was:  no subject) " Link "Mail_41"}      Micha³ Bartczak
@{" SasC probs " Link "Mail_42"}      Adrien HEMERY
@{" Re: (no subject) " Link "Mail_43"}      Stefan Schulze
@{" A little maths problem " Link "Mail_44"}      "Alastair M. Robinson"
@{" Process/Task confusion " Link "Mail_45"}      Martyn Capewell
@{" Re: Process/Task confusion " Link "Mail_46"}      David Arbuthnot
@{" Re: Process/Task confusion " Link "Mail_47"}      Ben Hutchings
@{" Internet code " Link "Mail_48"}      Steven Dobbs
@{" Samples and Mods artists, searching for...... " Link "Mail_49"}      Emanuele Cesaroni
@{" Re: Process/Task confusion " Link "Mail_50"}      Emanuele Cesaroni
@{" Re: Re: PRINTER DRIVERS " Link "Mail_51"}      "Andrzej J. Debicki"
@{" Re: Process/Task confusion " Link "Mail_52"}      Allan Odgaard
@{" RE: PPC Compilation Problems " Link "Mail_53"}      Jesper Svennevid
@{" String <-> List(view) connections " Link "Mail_54"}      David Arbuthnot
@{" Re: String <-> List(view) connections " Link "Mail_55"}      Allan Odgaard
@{" Problem compiling this source... (VBCC) " Link "Mail_56"}      Allan Odgaard
@{" Re: String <-> List(view) connections " Link "Mail_57"}      David Arbuthnot
@{" Re: PRINTER DRIVERS " Link "Mail_58"}      Dirk Harlaar
@{" Re: PRINTER DRIVERS " Link "Mail_59"}      Micha³ Bartczak
@{" Re: Re: PRINTER DRIVERS " Link "Mail_60"}      "Andrzej J. Debicki"
@{" Re: Problem compiling this source... (VBCC) " Link "Mail_61"}      Tim Corringham
@{" Re: Internet code " Link "Mail_62"}      Roger Light
@{" Re: Process/Task confusion " Link "Mail_63"}      Andrew Bell
@{" Reading keypresses " Link "Mail_64"}      Donald W Millican
@{" Re: A little apology " Link "Mail_65"}      Volker Barthelmann
@{" Re: Problem compiling this source... (VBCC) " Link "Mail_66"}      Volker Barthelmann
@{" Re: Problem compiling this source... (VBCC) " Link "Mail_67"}      Allan Odgaard
@{" Re: Reading keypresses " Link "Mail_68"}      Laura Vance
@{" Re: Reading keypresses " Link "Mail_69"}      Allan Odgaard
@{" Re: Reading keypresses " Link "Mail_70"}      Rod Schnell
@{" Amigaamp plugins " Link "Mail_71"}      Martyn Capewell
@{" Re: Reading keypresses " Link "Mail_72"}      Jonas Hulten
@{" Re: Re: Problem compiling this source... (VBCC) " Link "Mail_73"}      Volker Barthelmann
@{" FRead()/FWrite() " Link "Mail_74"}      David Arbuthnot
@{" Re: FRead()/FWrite() " Link "Mail_75"}      Nicholas Clarke
@{" Re: FRead()/FWrite() " Link "Mail_76"}      Oliver Roberts
@{" Code for startup.o " Link "Mail_77"}      Allan Odgaard
@{" Some questions " Link "Mail_78"}      Adrien HEMERY
@{" Re: Some questions " Link "Mail_79"}      Duane McDonnell
@{" Multithreading + gfx cards " Link "Mail_80"}      "Alastair M. Robinson"
@{" Re: Multithreading + gfx cards " Link "Mail_81"}      Colin Wenzel
@{" Re: Some questions " Link "Mail_82"}      Adrien HEMERY
@{" bsdsocket help needed " Link "Mail_83"}      David McMinn
@{" Re: Re: Some questions " Link "Mail_84"}      Duane McDonnell
@{" Overflow " Link "Mail_85"}      Lee Atkins
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_86"}      Steffen
@{" Re: Overflow " Link "Mail_87"}      Steven Dobbs
@{" Re: Re: Overflow " Link "Mail_88"}      "James S. Adelman"
@{" Re: Code for startup.o " Link "Mail_89"}      Volker Barthelmann
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_90"}      Jonas Hulten
@{" Re: Re: Overflow " Link "Mail_91"}      Volker Barthelmann
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_92"}      Rod Schnell
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_93"}      Allan Odgaard
@{" Re: Multithreading + gfx cards " Link "Mail_94"}      Allan Odgaard
@{" bsdsocket help again " Link "Mail_95"}      David McMinn
@{" Re: Multithreading + gfx cards " Link "Mail_96"}      Colin Wenzel
@{" Assigns and Layers " Link "Mail_97"}      Martyn Capewell
@{" Re: Multithreading + gfx cards " Link "Mail_98"}      Ilkka Lehtoranta
@{" Re: Re: Multithreading + gfx cards " Link "Mail_99"}      Nicholas Clarke
@{" Re: Re: Multithreading + gfx cards " Link "Mail_100"}      David McMinn
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_101"}      Steffen
@{" Re: Re: Multithreading + gfx cards " Link "Mail_102"}      Duane McDonnell
@{" Re: Re: Multithreading + gfx cards " Link "Mail_103"}      Duane McDonnell
@{" Re: Multithreading + gfx cards " Link "Mail_104"}      Allan Odgaard
@{" Can't do OpenLibrary ... " Link "Mail_105"}      Fabrice ROUSSELOT
@{" Re: Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_106"}      Pieter Ennes
@{" Re: Assigns and Layers " Link "Mail_107"}      Andrew Bell
@{" Re: Multithreading + gfx cards " Link "Mail_108"}      Rod Schnell
@{" Re: Multithreading + gfx cards " Link "Mail_109"}      Rod Schnell
@{" RE: Assigns and Layers " Link "Mail_110"}      Jesper Svennevid
@{" Re: Assigns and Layers " Link "Mail_111"}      Allan Odgaard
@{" Re: Multithreading + gfx cards " Link "Mail_112"}      Colin Wenzel
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_113"}      Steffen
@{" Compiling for PPC " Link "Mail_114"}      Kim Sindalsen
@{" Re: Re: Assigns and Layers " Link "Mail_115"}      Olaf Barthel
@{" Re: Re: Multithreading + gfx cards " Link "Mail_116"}      Duane McDonnell
@{" ASM->C " Link "Mail_117"}      Roger Light
@{" SUPERBITMAP window and cgfx " Link "Mail_118"}      Adrien HEMERY
@{" picture.datatype " Link "Mail_119"}      Rod Schnell
@{" Re: Assigns and Layers " Link "Mail_120"}      Martyn Capewell
@{" lowlevel.library and 060 " Link "Mail_121"}      Tim Hanson
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_122"}      Allan Odgaard
@{" Antwort: Compiling for PPC " Link "Mail_123"}      Raimund.Dold@bgt.de
@{" Re: lowlevel.library and 060 " Link "Mail_124"}      Stefan Schulze
@{" Re: Optimizing (Was: Re: Getting desperate!) " Link "Mail_125"}      Steffen
@{" Get CurrentDir Name " Link "Mail_126"}      Steffen
@{" Re: Get CurrentDir Name " Link "Mail_127"}      Duane McDonnell
@{" Stupid operator precedence... " Link "Mail_128"}      Allan Odgaard
@{" Re: Stupid operator precedence... " Link "Mail_129"}      Colin Wenzel
@{" Re: Stupid operator precedence... " Link "Mail_130"}      Allan Odgaard
@{" printer errors " Link "Mail_131"}      Jack York
@{" SUPERBITMAP window " Link "Mail_132"}      Adrien HEMERY
@{" Re: Re: Stupid operator precedence... " Link "Mail_133"}      Volker Barthelmann
@{" Re: SUPERBITMAP window " Link "Mail_134"}      Duane McDonnell
@{" Version String, CPU detection " Link "Mail_135"}      Fritsch Alexander
@{" Re: Version String, CPU detection " Link "Mail_136"}      Colin Wenzel
@{" Re: Version String, CPU detection " Link "Mail_137"}      Joar Sivertsen
@{" Re: printer errors " Link "Mail_138"}      David Arbuthnot
@{" Lha @ lzx c developer stuff " Link "Mail_139"}      Charles Barr
@{" Re: Version String, CPU detection " Link "Mail_140"}      Allan Odgaard
@{" Re: Stupid operator precedence... " Link "Mail_141"}      Allan Odgaard
@{" Re: Version String, CPU detection " Link "Mail_142"}      Tim Corringham
@{" Re: Re: Version String, CPU detection " Link "Mail_143"}      Tim Corringham
@{" Re: Re: Version String, CPU detection " Link "Mail_144"}      Duane McDonnell
@{" Re: printer errors " Link "Mail_145"}      Jack York
@{" Re: Re: Version String, CPU detection " Link "Mail_146"}      Duane McDonnell
@{" Re: SUPERBITMAP window " Link "Mail_147"}      Adrien HEMERY
@{" Re: SUPERBITMAP window " Link "Mail_148"}      Tim Hanson
@{" Counting bits in a long... revisited " Link "Mail_149"}      "Alastair M. Robinson"
@{" Re: Version String, CPU detection " Link "Mail_150"}      Andrew Bell
@{" Re: Version String, CPU detection " Link "Mail_151"}      Allan Odgaard
@{" Re: Re: Version String, CPU detection " Link "Mail_152"}      Duane McDonnell
@{" Re: Re: SUPERBITMAP window " Link "Mail_153"}      Duane McDonnell
@{" Re: Lha @ lzx c developer stuff " Link "Mail_154"}      troy silvey
@{" Re: Lha @ lzx c developer stuff " Link "Mail_155"}      David Arbuthnot
@{" AW: Re: Version String, CPU detection " Link "Mail_156"}      Fritsch Alexander
@{" Re: Version String, CPU detection " Link "Mail_157"}      Olaf Barthel
@{" Re: Re: Version String, CPU detection " Link "Mail_158"}      Olaf Barthel
@{" ARexx Programming " Link "Mail_159"}      DenJS
@{" Re: Lha @ lzx c developer stuff " Link "Mail_160"}      Jonathan Adamczewski
@{" Re: ARexx Programming " Link "Mail_161"}      Duane McDonnell
@{" Re: Version String, CPU detection " Link "Mail_162"}      Allan Odgaard
@{" SE version 6.58 Bug? " Link "Mail_163"}      meyersfamily
@{" AW: Re: Version String, CPU detection " Link "Mail_164"}      Duane McDonnell
@{" Re: AW: Re: Version String, CPU detection " Link "Mail_165"}      Olaf Barthel
@{" GCC Problems " Link "Mail_166"}      Bablos
@{" Re: SE version 6.58 Bug? " Link "Mail_167"}      Bob Lanham
@{" event handling problem " Link "Mail_168"}      Bob Lanham
@{" Re: SE version 6.58 Bug? " Link "Mail_169"}      meyersfamily
@{" Re: Re: Assigns and Layers " Link "Mail_170"}      Olaf Barthel
@{" Re: event handling problem " Link "Mail_171"}      Steffen
@{" off-topic, Amiga " Link "Mail_172"}      Steffen
@{" ixemul.library problems " Link "Mail_173"}      Jeff Pierce
@{" Re: event handling problem " Link "Mail_174"}      Bob Lanham
@{" Re: ixemul.library problems " Link "Mail_175"}      David Arbuthnot
@{" RE: Re: ixemul.library problems " Link "Mail_176"}      Jeff Pierce
@{" Style guide - Page Up/Down " Link "Mail_177"}      "Alastair M. Robinson"
@{" Version String again... " Link "Mail_178"}      amiga-c@onelist.com
@{" Setting up GCC " Link "Mail_179"}      Charles Barr
@{" Re: ixemul.library problems " Link "Mail_180"}      Malek Bengougam
@{" RE: ixemul.library problems " Link "Mail_181"}      Jeff Pierce
@{" Re: ixemul.library problems " Link "Mail_182"}      David Arbuthnot
@{" RE: ixemul.library problems " Link "Mail_183"}      Jeff Pierce
@{" RE: Setting up GCC " Link "Mail_184"}      Jeff Pierce
@{" RE: Re: ixemul.library problems " Link "Mail_185"}      Jeff Pierce
@{" Re: Re: ixemul.library problems " Link "Mail_186"}      Malek Bengougam
@{" Re: Setting up GCC " Link "Mail_187"}      Allan Odgaard
@{" Setting up gcc for PPC " Link "Mail_188"}      Daithi O'Cuinn
@{" Re: Setting up GCC " Link "Mail_189"}      Nuno Trancoso
@{" CyberGraphx and GCC " Link "Mail_190"}      Daithi O'Cuinn
@{" RE: Re: Setting up GCC " Link "Mail_191"}      Jeff Pierce
@{" Re: GCC & Cybergraphics " Link "Mail_192"}      Malek Bengougam
@{" Re: GCC & Cybergraphics " Link "Mail_193"}      Daithi O'Cuinn
@{" Re: Setting up GCC " Link "Mail_194"}      Allan Odgaard
@{" Re: Re: GCC & Cybergraphics " Link "Mail_195"}      Malek Bengougam
@{" Re: GCC & Cybergraphics " Link "Mail_196"}      Daithi O'Cuinn
@{" Re: Re: event handling problem " Link "Mail_197"}      Ben Hutchings
@{" Re: event handling problem " Link "Mail_198"}      Steffen
@{" Re: Version String, CPU detection " Link "Mail_199"}      Steffen
@{" Where in the World is AppIcon? " Link "Mail_200"}      BlackMael
@{" Re: Version String again... " Link "Mail_201"}      Yves Grabowsky
@{" Re: Style guide - Page Up/Down " Link "Mail_202"}      Allan Odgaard
@{" Re: Re: Version String again... " Link "Mail_203"}      Oliver Roberts
@{" Re: Version String again... " Link "Mail_204"}      Andrew Bell
@{" Check your sources for Y2K bugs! " Link "Mail_205"}      Andrew Bell
@{" AW: Re: Version String, CPU detection " Link "Mail_206"}      Duane McDonnell
@ENDNODE
@NODE "Mail_0" " Optimizing (Was: Re: Getting desperate!) "
From: Nuno Trancoso <ng13577a@netc.pt>
Date: 12-01-99 00:27:15
Subject: @{b}Optimizing (Was: Re: Getting desperate!)@{ub}

From: Nuno Trancoso <ng13577a@netc.pt>

Hya Volker

> expect the output to appear without calling fflush) - replace printf(...) 
> by fprintf(stdout,...) and you should notice the difference.

I would, if my knowledge of C allowed it :(( 
 
> For programs which do real calculations I doubt that BlitzBasic can

So what is my program doing? Pretending it does calcs??? Maybe CA1D
is not interresting to you but it is to some ppl. It's much more interresting
than CA2D, better know as LIFE.

> compete with a decent optimizing C compiler. While I have never used it,
> I'd guess that if you looked at the section on optimizing in vbcc you
> would find BlitzBasic does practically none of these optimizations.

Correction, it does not do ANY optimization :( That's why i quit using
it, besides that it is processor/machine dependant.

In the Test exec's i compiled i got the following results for 999 cycles:

StormC standard libraries : ~40 seconds
VBCC ( -O3 -cpu=68040 - maxoptpasses=1000 ) : ~70 seconds
BlitzBasic2 : ~110 seconds

This doesn't mean that VBCC is in the midlle. If, as you say, you waste
time flushing buffers on every printf() call, i would like to know the results
for the modification you suggest. Anyone willing to do them, since i do not
know how to?

p.s. If i compile with +ppc, it get even slower. Is that because of context
switches between 68K/PPC from doing calcs on PPC and writing to console
using 68K?
 
Cya L8r,

DarkShadow
aka Nuno Trancoso
-- 
Infinity takes it's time.

@ENDNODE
@NODE "Mail_1" " Re: SuperBitMap Window "
From: Bob Lanham <bobl@jaxproductions.com>
Date: 12-01-99 01:43:37
Subject: @{b}Re: SuperBitMap Window@{ub}

From: Bob Lanham <bobl@jaxproductions.com>


> 
> Why do you want to use a SuperBitMapWindow?
> 

I have a borderless backdrop window, and I just need to load in a
picture from disk to be the background for a game.  It seemed like an
easy way to accomplish it.


> > In the following code, what have I done wrong?
> 
> You free the datatype object, and expect the bitmap pointer to remain valid.
> But this is not how it works.
> 

Thanks for the tip.  By moving the DisposeDTObject() to after the
creation of the window, it's working now.


> Furthermore you use DoDTMethod() which is only for datatypes attached to a
> gadgetlist. Use DoMethod() instead.  Though there should be no reason to call
> ProcLayout, when you don't want the bitmap remapped (but you probably do,
> don't you?)
> 

I admit I don't totally understand DoDTMethod and ProcLayout.  Docs for
Datatypes are hard to come by.  But at least the program working now! 
It's in hicolor, so I don't need to remap it.

Bob

@ENDNODE
@NODE "Mail_2" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-01-99 05:41:25
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 01-Dec-99, Nuno Trancoso wrote:

> This doesn't mean that VBCC is in the midlle. If, as you say, you waste time
> flushing buffers on every printf() call, i would like to know the results for
> the modification you suggest. Anyone willing to do them, since i do not know
> how to?

Changing printf(...) to fprintf(stdout, ...) and running 999 cycles took:

   VBCC:   5.96 seconds
   StormC: 8.66 seconds

Redirecting output to 'NIL:' gave this:

   VBCC:   0.38 seconds
   StormC: 1.52 seconds

I feel tempted to rewrite HTMLview and the image decoder modules to plain C ;-)

> p.s. If i compile with +ppc, it get even slower. Is that because of context
> switches [...]

I'd think so...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
System Error #12: Windows not found: (C)heer (P)arty (D)ance

@ENDNODE
@NODE "Mail_3" " Re: Optimizing (was : Re: getting desperate!) "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-01-99 05:45:18
Subject: @{b}Re: Optimizing (was : Re: getting desperate!)@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 30-Nov-99, Nuno Trancoso wrote:

> [...] so i guess that 060 code (more specific and optimized for the target 
> processor) should be faster than 68000 heneric code.

Well, atleast a 68020 compared with a 68060 executable isn't much different,
and mostly you can't feel it either, so people who distribute 020, 030, 040 &
060 versions of their programs are only wasting bandwidth... ;-)

> Most of the time i don't clear the array, because usually i set it up with
> values shortly after program start. So, it really doesn't mind if the values
> are random or if the memspace is cleared, most of the time.

It was just an example of when the linker lib is used. It's also used for
rand(), which you use in your program, so here you would probably also get a
speedup by using StormAmiga.lib in favor of Storm.lib (assuming that the
algorithm used is the same) - but only if you call it a lot...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Diz Microsoft spelcheker is 100% bug fri.

@ENDNODE
@NODE "Mail_4" " Re: creating makefiles "
From: Michal Bartczak <mikerro@ihh.pi.com.pl>
Date: 12-01-99 11:21:39
Subject: @{b}Re: creating makefiles@{ub}

From: Michal Bartczak <mikerro@ihh.pi.com.pl>


> Is there a tool for creating makefiles? I'm sure there is one,
> but what's the name?
> 
> Regards,

Yes, for example MKMK from SasC.

... but most of people  (like me) prefer to build makefiles alone, because they
can do some more heavy wizardry than only compile changed files.

Michal

@ENDNODE
@NODE "Mail_5" " Re: creating makefiles "
From: Micha!? <Schulze_Michael@t-online.de>
Date: 12-01-99 12:59:03
Subject: @{b}Re: creating makefiles@{ub}

From: Schulze_Michael@t-online.de (Micha!?)

Hello, Michal

>> Is there a tool for creating makefiles? I'm sure there is one,
>> but what's the name?
>> 
>> Regards,
> 
> Yes, for example MKMK from SasC.
> 
> ... but most of people (like me) prefer to build makefiles alone, because
> they can do some more heavy wizardry than only compile changed files.

And where can I get information how to build my makefiles alone ? And please 
tell me about that 'heavy wizardry'. Maybe in private mail...but I think
there are other people on this list who want to know that, too...

Regards,

    Micha

-- 
  
    "The quiet ones are the ones who change the universe.
     The loud ones only take the credit."

    Londo Mollari, "BABYLON 5: In The Beginning"

@ENDNODE
@NODE "Mail_6" " Re: Little maths problem "
From: Jonathan <jadamcze@utas.edu.au>
Date: 12-01-99 23:02:08
Subject: @{b}Re: Little maths problem@{ub}

From: "Jonathan" <jadamcze@utas.edu.au>



| From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
| You might also want to experiment with the gamma function (as found in
your
| favourite image processing program):
|
| f=exp(gamma*(log(f)-log(500000.0)));
|
| If gamma is set to 1.0, you'll get a linear transfer.  Set it lower than
1.0
| to bias in the direction you want, and higher than 1.0 to bias in the
other
| direction.
|

How does gamma work?  (never seen it before)

Jonathan.

@ENDNODE
@NODE "Mail_7" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Nuno Trancoso <ng13577a@netc.pt>
Date: 12-01-99 23:11:18
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Nuno Trancoso <ng13577a@netc.pt>

Hya Allan

> Changing printf(...) to fprintf(stdout, ...) and running 999 cycles took:

Can you send the source to me ? I could do with an example :))

> I feel tempted to rewrite HTMLview and the image decoder modules to plain C
> ;-)

A guy once told me that C++ makes code bigger and slower. Anyone cares to
comment on that?

Cya L8r,

DarkShadow
aka Nuno Trancoso
-- 
Infinity takes it's time.

@ENDNODE
@NODE "Mail_8" " Re: Optimizing (was : Re: getting desperate!) "
From: Nuno Trancoso <ng13577a@netc.pt>
Date: 12-01-99 23:21:53
Subject: @{b}Re: Optimizing (was : Re: getting desperate!)@{ub}

From: Nuno Trancoso <ng13577a@netc.pt>

Hya Allan

> Well, atleast a 68020 compared with a 68060 executable isn't much different,

If you use the FPU you can bet that the code is different. If it wasn't
i wouldn't have bought Oxypatcher. When working with TurboReal
(compiled for 020 and 881) it gives you a 2x/3x speedup because
of switching the emulated instructions with native 040/060 code.
Lightwave also get a nice speedup as does Imagine and Pixel3D.

Oh, and look at Dark Forces for the Mac. It is supposed to be 040/PPC
code but when Oxy is running it gives a whole lot of hits on instructions
wich have to be emulated.

> speedup by using StormAmiga.lib in favor of Storm.lib (assuming that the
> algorithm used is the same) - but only if you call it a lot...

As long as it is faster and also gives random values it's fine by me :))

Cya L8r,

DarkShadow
aka Nuno Trancoso
-- 
Infinity takes it's time.

@ENDNODE
@NODE "Mail_9" " Re: Little maths problem "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 12-01-99 23:49:55
Subject: @{b}Re: Little maths problem@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Dec 02, 1999 at 09:02:08AM +1100, Jonathan wrote:
> From: "Jonathan" <jadamcze@utas.edu.au>
> 
> 
> 
> | From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
> | You might also want to experiment with the gamma function (as found in
> | your favourite image processing program):
> |
> | f=exp(gamma*(log(f)-log(500000.0)));
> |
> | If gamma is set to 1.0, you'll get a linear transfer.  Set it lower than
> | 1.0 to bias in the direction you want, and higher than 1.0 to bias in the
> | other direction.
> |
> 
> How does gamma work?  (never seen it before)

gamma is the usual letter representing this `non-linearity' value in a
response curve.  gamma values are normally quoted for optical input or
output devices, or for some processing/filtering of optical signals.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
If you seem to know what you are doing, you'll be given more to do.

@ENDNODE
@NODE "Mail_10" " Re: Little maths problem "
From: Jonathan <jadamcze@utas.edu.au>
Date: 12-01-99 23:50:41
Subject: @{b}Re: Little maths problem@{ub}

From: "Jonathan" <jadamcze@utas.edu.au>


----- Original Message -----
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
To: <amiga-c@onelist.com>
Sent: Thursday, December 02, 1999 9:49 AM
Subject: Re: [amiga-c] Little maths problem


| From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
|
| On Thu, Dec 02, 1999 at 09:02:08AM +1100, Jonathan wrote:
| > From: "Jonathan" <jadamcze@utas.edu.au>
| >
| >
| >
| > | From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
| > | You might also want to experiment with the gamma function (as found in
| > | your favourite image processing program):
| > |
| > | f=exp(gamma*(log(f)-log(500000.0)));
| > |
| > | If gamma is set to 1.0, you'll get a linear transfer.  Set it lower
than
| > | 1.0 to bias in the direction you want, and higher than 1.0 to bias in
the
| > | other direction.
| > |
| >
| > How does gamma work?  (never seen it before)
|
| gamma is the usual letter representing this `non-linearity' value in a
| response curve.  gamma values are normally quoted for optical input or
| output devices, or for some processing/filtering of optical signals.

Yep, know all about it ie Quake ;)

So, what is the actual function?

@ENDNODE
@NODE "Mail_11" " Re: creating makefiles "
From: Stephen Illingworth <stevei@firewall.co.uk>
Date: 12-01-99 23:51:23
Subject: @{b}Re: creating makefiles@{ub}

From: Stephen Illingworth <stevei@firewall.co.uk>

>
> And where can I get information how to build my makefiles alone ? And
> please tell me about that 'heavy wizardry'. Maybe in private mail...but I
> think there are other people on this list who want to know that, too...
>

I'm afraid I can't divulge any secrets about makefiles as I haven't got any
:-)  The  only  advice I can give is to study existing makefiles and try to
understand  how they work, as this is how I learnt.  What I tend to do now,
is run a make-makefile program and edit it where necessary.

One thing to remember however, is not to trust your makefile too much.  For
example,  if  you  find  some  strange  "happenings" in a program you would
otherwise  expect to work correctly, don't neglect the possibility that the
makefile hasn't compiled an important source file.  I must stress that this
is unlikely to be a problem with the make utility and more likely a problem
with  how  you've  defined  the makefile rules - this has happened to me on
more than one occasion ;-(

Respect, Steve

@ENDNODE
@NODE "Mail_12" " Re: Optimizing (was : Re: getting desperate!) "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-02-99 03:08:14
Subject: @{b}Re: Optimizing (was : Re: getting desperate!)@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 01-Dec-99, Nuno Trancoso wrote:

> [...] it gives you a 2x/3x speedup because of switching the
> emulated instructions with native 040/060 code. [...]

I'm told that StormC do generate emulated instructions, even when switching to
040/060, which was my point, i.e. that compiling your code for 68020 or 68060
gives you two programs with an execution time that isn't noticeable different.
Of course you'll be able to find some examples where it doesn't hold, and you
can enable fpu-support for the 060 executable, if the program uses floats, but
these are special cases.  I see far to many archives on Aminet which is 4
times the size, due to executables for the entire range of motorola CPU's,
even though the program doesn't really do any speed critical stuff, nor does
the compiler make any fundamental differences in the various executables...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Wndows is f.ne for bckground comu.ication.

@ENDNODE
@NODE "Mail_13" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-02-99 03:13:53
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 01-Dec-99, Nuno Trancoso wrote:

>> Changing printf(...) to fprintf(stdout, ...) and running 999 cycles took:
> Can you send the source to me ? I could do with an example :))

Search for "printf(" and replace it globally with "fprintf(stdout, ". That's
all I did!

> A guy once told me that C++ makes code bigger and slower. Anyone cares to
> comment on that?

Naturally a highlevel language cannot make the translated code better than that
of a lowlevel langauge. But with a highlevel language it's easier for the
programmer to sculpture his program, fine-tune algorithms, and indeed focus on
algorithms rather than implementation details.  If you don't exploit this
new level of abstraction, then you probably shouldn't use the language, as a
more lowlevel language is likely to offer the same, but generate better code. 
But this is certainly not the direction the computer industry is headed.

FYI HTMLview.mcc is written in C++ and makes heavy use of C++ features, but I
still haven't come across a faster 'program' with the same capabilities. So
in the end, it's not really your programming environment that counts, but how
you use it!  Atleast this is my experience - but a person who just wants to
perform some simple task, like multiplying matrices, may not agree with me...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
If God had intended Man to program,
we'd have been born with serial I/O ports.

@ENDNODE
@NODE "Mail_14" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 12-02-99 03:18:31
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Wed, 1 Dec 1999, Nuno Trancoso wrote:

> > expect the output to appear without calling fflush) - replace printf(...) 
> > by fprintf(stdout,...) and you should notice the difference.
> 
> I would, if my knowledge of C allowed it :(( 

Just replace printf(" ") by fprintf(stdout," "), printf("X") by
fprintf(stdout,"X") and so on.

> > For programs which do real calculations I doubt that BlitzBasic can
> 
> So what is my program doing? Pretending it does calcs???

Most of the time it's writing to the console.

> Maybe CA1D
> is not interresting to you but it is to some ppl. It's much more interresting
> than CA2D, better know as LIFE.

My comment wasn't intended to address the quality or importance of your
program, just the amount of time it spends with calculations compared to
IO etc. For every character you're displaying, only a few dozens of
machine instructions are spent in your calculations. However, putting the
character into a file-stream, sending it to dos, through the 
console-handler and put the pixels on the screen using intuition, layers,
whatever is much more time-consuming.

Therefore, whether the code for your calculations is twice as fast doesn't
make a difference because virtually all the time is spend in IO.

That's all I wanted to say here. Sorry, if this was misunderstandable.

> p.s. If i compile with +ppc, it get even slower. Is that because of context
> switches between 68K/PPC from doing calcs on PPC and writing to console
> using 68K?

Yes.

Volker

@ENDNODE
@NODE "Mail_15" " Re: Little maths problem "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 12-02-99 03:27:51
Subject: @{b}Re: Little maths problem@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



[I don't have the original message any more, so please tell me if I'm
misunderstanding the problem.]

On Sun, 28 Nov 1999, Alastair M. Robinson wrote:

> > I have a value stored in a FLOAT that lies in the range 0-500000.
> <snip>
> > FLOAT f;  f=somevalue;
> > f=500000-f;  f*=f; f=(500000*500000)-f;  f/=(500000*500000);
> 
> I *love* maths problems, so imagine my disappointment when I found out that
> yours is actually a compiler problem!
> 
> > Am i barking up the wrong tree.
> 
> No, your reasoning is fine.  All you need to do is write 500000.0 instead of
> 500000, otherwise the compiler gets the floats and ints mixed up.
> (At least, VBCC did when I tried your code!)

Er..this is not a compiler problem and vbcc is not mixing anything up.
It's the way how C works. The type a subexpression is evaluated depends
only on the operands of this subexpression, not on any operands in
different subexpressions.

Volker

@ENDNODE
@NODE "Mail_16" " Re: What's up with VBCC's getc()? "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 12-02-99 03:45:53
Subject: @{b}Re: What's up with VBCC's getc()?@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Sun, 28 Nov 1999, Alastair M. Robinson wrote:

> I can follow all but the sizeof(((file))==(FILE*)0) bit. 
> Anyone know what this is supposed to do?

It's supposed to improve ANSI/ISO C compliance. :-)

While C allows library-functions to be implemented as macros, they must
not behave differently from functions. A function expecting a FILE * can
also be passed a void *. Therefore the getc-macro has to cast its argument
to FILE * to access the internal data.

On the other hand if a function expecting a FILE * is passed e.g. an int *
then the compiler is required to emit a diagnostic. In the macro, however,
the explicit cast to FILE * now suppresses this diagnostic. Therefore the
sizeof-expression is inserted. It does not generate code but enforces
correct type-checking.

Unfortunately vbcc now sees that there is an expression whose result is
not used and emits a warning (which can be turned off). Maybe I'll add
a way to suppress individual warnings for single expressions sometimes.

Volker

@ENDNODE
@NODE "Mail_17" " Re: creating makefiles "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 12-02-99 07:29:01
Subject: @{b}Re: creating makefiles@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>

> I'm afraid I can't divulge any secrets about makefiles as I haven't got
> any :-) The only advice I can give is to study existing makefiles and try
> to understand how they work, as this is how I learnt. What I tend to do
> now, is run a make-makefile program and edit it where necessary.
Or read a guide about make :)) 

Regards
-- 
Mikerek

@ENDNODE
@NODE "Mail_18" " Re: Re: creating makefiles "
From: Radoslav Hodnicak <rh@c0re.hysteria.sk>
Date: 12-02-99 09:49:04
Subject: @{b}Re: Re: creating makefiles@{ub}

From: Radoslav Hodnicak <rh@c0re.hysteria.sk>

On Wed, 1 Dec 1999, Micha!? wrote:

> And where can I get information how to build my makefiles alone ? And please 
> tell me about that 'heavy wizardry'. Maybe in private mail...but I think
> there are other people on this list who want to know that, too...

just download the gnu-make from aminet (/dev/c/make_bin.lha - this is
clean amiga port, not one of this "I need ixemul" shits), there is 400+ KB
guide full of useful informations.

regards, radoslav

@ENDNODE
@NODE "Mail_19" " Re: Re: creating makefiles "
From: Michal Bartczak <mikerro@ihh.pi.com.pl>
Date: 12-02-99 11:42:02
Subject: @{b}Re: Re: creating makefiles@{ub}

From: Michal Bartczak <mikerro@ihh.pi.com.pl>

On Thu, 02 Dec 1999, you wrote:
> From: Radoslav Hodnicak <rh@c0re.hysteria.sk>
> 
> On Wed, 1 Dec 1999, Micha!? wrote:
> 
> > And where can I get information how to build my makefiles alone ? And please 
> > tell me about that 'heavy wizardry'. Maybe in private mail...but I think
> > there are other people on this list who want to know that, too...
> 
> just download the gnu-make from aminet (/dev/c/make_bin.lha - this is
> clean amiga port, not one of this "I need ixemul" shits), there is 400+ KB
> guide full of useful informations.
> 
> regards, radoslav

This is the version of Make I included in my vbcc distrib, including guide :P

Michal

@ENDNODE
@NODE "Mail_20" " Re: creating makefiles "
From: Micha!? <Schulze_Michael@t-online.de>
Date: 12-02-99 13:13:22
Subject: @{b}Re: creating makefiles@{ub}

From: Schulze_Michael@t-online.de (Micha!?)

Hello, Stephen

> I'm afraid I can't divulge any secrets about makefiles as I haven't got any
> :-)  The  only  advice I can give is to study existing makefiles and try to
> understand  how they work, as this is how I learnt.  What I tend to do now,
> is run a make-makefile program and edit it where necessary.

One problem I've discovered is, when I edit a makefile with GoldED, 'make'
gives an error 'missing separator'. If I use emacs , it works fine. But 
when I load this makefile to GoldED and save it unchanged, it becomes bigger 
(in bytes) and 'make' brings that error :/
I guess the ' ' (I don't have the english word ATM, I mean that 'characters'
you do with the space-bar...;) are responsible.

Regards,

    Micha

-- 
  
    "The quiet ones are the ones who change the universe.
     The loud ones only take the credit."

    Londo Mollari, "BABYLON 5: In The Beginning"

@ENDNODE
@NODE "Mail_21" " Compiler Problems "
From: Bablos <bablos@cableinet.co.uk>
Date: 12-02-99 17:22:21
Subject: @{b}Compiler Problems@{ub}

From: Bablos <bablos@cableinet.co.uk>

Hi There...

I'm currently using SAS/C, and I'm trying to compile a source file, but
I get the following error;

Error: Code section too large to put STRINGS in the code section
sc failed returncode 20

I can't find any reference to this error in the docs, and so I don't
know how to get around this.

Can anyone help?


Bablos.

@ENDNODE
@NODE "Mail_22" " Re: Re: Compiler Problems "
From: Bablos <bablos@cableinet.co.uk>
Date: 12-02-99 19:51:28
Subject: @{b}Re: Re: Compiler Problems@{ub}

From: Bablos <bablos@cableinet.co.uk>

On 30-Nov-99, Rod Schnell spewed forth the following...
>From: Rod Schnell <rodsch@telusplanet.net>

>Using SCOPTIONS/Code options, set the STRSECT option to something other
>than
>default. For more information, place the pointer over this option and
press
>'Help'.

That's not the real problem - the REAL BIIIIG problem is that a 274K
source file is generating a 12.5Mb object file, hence the above error.
I haven't a clue why, as gcc/egcs compile a 127K object.

Help!


Bablos.

@ENDNODE
@NODE "Mail_23" " Re: Re: creating makefiles "
From: Jonathan <jadamcze@utas.edu.au>
Date: 12-02-99 23:30:25
Subject: @{b}Re: Re: creating makefiles@{ub}

From: "Jonathan" <jadamcze@utas.edu.au>

| From: Schulze_Michael@t-online.de (Micha!?)
|
| Hello, Stephen
|
| > I'm afraid I can't divulge any secrets about makefiles as I haven't got
any
| > :-)  The  only  advice I can give is to study existing makefiles and try
to
| > understand  how they work, as this is how I learnt.  What I tend to do
now,
| > is run a make-makefile program and edit it where necessary.
|
| One problem I've discovered is, when I edit a makefile with GoldED, 'make'
| gives an error 'missing separator'. If I use emacs , it works fine. But
| when I load this makefile to GoldED and save it unchanged, it becomes
bigger
| (in bytes) and 'make' brings that error :/
| I guess the ' ' (I don't have the english word ATM, I mean that
'characters'
| you do with the space-bar...;) are responsible.
|
| Regards,
|
|     Micha

It has to do with GoldED swapping tabs and spaces (not sure which way)

Best to use emacs (obviously)

Jonathan.

@ENDNODE
@NODE "Mail_24" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Nuno Trancoso <ng13577a@netc.pt>
Date: 12-03-99 00:15:23
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Nuno Trancoso <ng13577a@netc.pt>

Hya Volker

> Most of the time it's writing to the console.

Point taken :)))))

> Therefore, whether the code for your calculations is twice as fast doesn't
> make a difference because virtually all the time is spend in IO.

CONCA1D was made just for the fun of it. The real program is (was)
CA1D. And in CA1D the matrix is not 80x2, it's 1600x1200. So,
in the real program speed matters a lot because the matrix is 12000x
bigger.

> That's all I wanted to say here. Sorry, if this was misunderstandable.

I got your point, no ofence taken :))))

Cya L8r,

DarkShadow
aka Nuno Trancoso
-- 
Infinity takes it's time.

@ENDNODE
@NODE "Mail_25" " Antwort: Re: creating makefiles "
From: Raimund.Dold@bgt.de
Date: 12-03-99 08:06:03
Subject: @{b}Antwort: Re: creating makefiles@{ub}

From: Raimund.Dold@bgt.de


The problem with makefiles is that they use tabs as separators. Up to
GoldEd 6 the editor did not save tabs, it converted them to spaces while
writing, basically destroying the makefile. The current versions do not
have any problems with makefiles.

Raimund






Schulze_Michael@t-online.de (Micha!?) on 02.12.99 11:13:22

Bitte antworten an amiga-c@onelist.com

An:   amiga-c@onelist.com
Kopie:
Thema:    [amiga-c] Re: creating makefiles


From: Schulze_Michael@t-online.de (Micha!?)

Hello, Stephen

> I'm afraid I can't divulge any secrets about makefiles as I haven't got
any
> :-)  The  only  advice I can give is to study existing makefiles and try
to
> understand  how they work, as this is how I learnt.  What I tend to do
now,
> is run a make-makefile program and edit it where necessary.

One problem I've discovered is, when I edit a makefile with GoldED, 'make'
gives an error 'missing separator'. If I use emacs , it works fine. But
when I load this makefile to GoldED and save it unchanged, it becomes
bigger
(in bytes) and 'make' brings that error :/
I guess the ' ' (I don't have the english word ATM, I mean that
'characters'
you do with the space-bar...;) are responsible.

Regards,

    Micha

--

    "The quiet ones are the ones who change the universe.
     The loud ones only take the credit."

    Londo Mollari, "BABYLON 5: In The Beginning"

@ENDNODE
@NODE "Mail_26" " PRINTER DRIVERS "
From: Michal Bartczak <mikerro@ihh.pi.com.pl>
Date: 12-03-99 12:56:39
Subject: @{b}PRINTER DRIVERS@{ub}

From: Michal Bartczak <mikerro@ihh.pi.com.pl>

Is there anyone who is experienced enough to help me with making os 3.5 [24
bit!] printer driver? I'm happy owner of canon bjc serier printer (4300), and
just discovered that there is no drivers for amee available that could support
all of it's features (like DMT for example). Of course, commercial canon studio
does this, but I want to do freeware driver. 

I've got (by sniffing into wires...) complete enough command set to use it with
bjc family. Now I'm able to print any image using my routines. With all
features like drop modulation technology and so on.

I'm planning to get bjc 6000 and to make drivers for it too, even if I'm able
to make such driver without even having a printer. 

what I need is a 'base' example printer driver for os 3.5

Michal

@ENDNODE
@NODE "Mail_27" " Re: PRINTER DRIVERS "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 12-03-99 18:48:55
Subject: @{b}Re: PRINTER DRIVERS@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Dec 3 Michal (Michal Bartczak) wrote:

> From: Michal Bartczak <mikerro@ihh.pi.com.pl>
> 
> Is there anyone who is experienced enough to help me with making os 3.5 [24
> bit!] printer driver? I'm happy owner of canon bjc serier printer (4300), and
> just discovered that there is no drivers for amee available that could support
> all of it's features (like DMT for example). Of course, commercial canon studio
> does this, but I want to do freeware driver. 
> 
> I've got (by sniffing into wires...) complete enough command set to use it with
> bjc family. Now I'm able to print any image using my routines. With all
> features like drop modulation technology and so on.
> 
> I'm planning to get bjc 6000 and to make drivers for it too, even if I'm able
> to make such driver without even having a printer. 
> 
> what I need is a 'base' example printer driver for os 3.5

   You'll find one on the Amiga Developer CD 2.1. The example was written for
the HP DeskJet CMYK printer family, but that shouldn't discourage you. Additional
information on developing printer drivers can be found in the "RKM Devices"
documentation which is also included on the CD (including additional example
printer driver source codes).

-- 
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

@ENDNODE
@NODE "Mail_28" " Re: Little maths problem "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 12-04-99 00:26:25
Subject: @{b}Re: Little maths problem@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Thu, Dec 02, 1999 at 09:50:41AM +1100, Jonathan wrote:
> From: "Jonathan" <jadamcze@utas.edu.au>
> 
> 
> ----- Original Message -----
> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> To: <amiga-c@onelist.com>
> Sent: Thursday, December 02, 1999 9:49 AM
> Subject: Re: [amiga-c] Little maths problem
> 
> 
> | From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> |
> | On Thu, Dec 02, 1999 at 09:02:08AM +1100, Jonathan wrote:
> | > From: "Jonathan" <jadamcze@utas.edu.au>
> | >
> | >
> | >
> | > | From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
> | > | You might also want to experiment with the gamma function (as found in
> | > | your favourite image processing program):
> | > |
> | > | f=exp(gamma*(log(f)-log(500000.0)));
> | > |
> | > | If gamma is set to 1.0, you'll get a linear transfer.  Set it lower
> | > | than 1.0 to bias in the direction you want, and higher than 1.0 to
> | > | bias in the other direction.
> | > |
> | >
> | > How does gamma work?  (never seen it before)
> |
> | gamma is the usual letter representing this `non-linearity' value in a
> | response curve.  gamma values are normally quoted for optical input or
> | output devices, or for some processing/filtering of optical signals.
> 
> Yep, know all about it ie Quake ;)
> 
> So, what is the actual function?

Something like:
                          gamma
    output = c + f . input

where c is a constant bias and f is a scale factor.  There are
probably conventional letters for these that I've forgotten.

Ben.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
All the simple programs have been written, and all the good names taken.

@ENDNODE
@NODE "Mail_29" " Re: PRINTER DRIVERS "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 12-04-99 10:33:47
Subject: @{b}Re: PRINTER DRIVERS@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>

>> [printer driver for os 3.5]
 
>   You'll find one on the Amiga Developer CD 2.1. The example was written
> for the HP DeskJet CMYK printer family, but that shouldn't discourage you.
> Additional information on developing printer drivers can be found in the
> "RKM Devices" documentation which is also included on the CD (including
> additional example printer driver source codes).
That's nice, but is there anyone who can sell it to me? 

Regards
-- 
Mikerek

@ENDNODE
@NODE "Mail_30" " cps counter "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 12-04-99 11:17:32
Subject: @{b}cps counter@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hi,
I'm trying to calculate the cps of a transfer with the following code:

--------CUT HERE-----------
long n, temp, cps;
time_t start, current;

start = time(&start);

do
   {
    n = Sock_Recv(dtc, buf, LEN_RECVBUF);
    temp += n;
     if (n>0)
        Write(outfile, buf, n);

     current = time(&current);     // cps calculation
     current -= start;
     cps = temp/current;
     } while(n);       // receive loop

(temp holds the bytes received)
-----------CUT HERE-------------

Everytime I execute this code it crashes, without the cps calculation it
runs perfectly. Whats wrong with this?

Cu,
-- 
Yves Grabowsky
*ICQ:* 18762984
<tsb>*AmiURLRequester 2.0 out now! Go and get it!*
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!

@ENDNODE
@NODE "Mail_31" " Re: PPC Compilation Problems "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 12-04-99 11:57:50
Subject: @{b}Re: PPC Compilation Problems@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hello Bablos

On 04-déc-99, you wrote:

> From: Bablos <bablos@cableinet.co.uk>
> 
> Hi There...
> 
> I'm currently trying to compile a game on PPC, and it's failing when it
> gets to the Amiga specific code with the following;
> 
> main-ami.c:1377: invalid register name `d0' for register variable
> main-ami.c:1377: invalid register name `a6' for register variable
> main-ami.c:1377: invalid register name `a0' for register variable
> main-ami.c:1377: unknown register name `fp1' in `asm'
> main-ami.c:1377: unknown register name `fp0' in `asm'
> main-ami.c:1377: unknown register name `a1' in `asm'
> main-ami.c:1377: unknown register name `a0' in `asm'
> main-ami.c:1377: unknown register name `d1' in `asm'
> main-ami.c:1377: unknown register name `d0' in `asm'

humm.. a0, a1, a2, ..., d0, d1, d2 ... are special registers for the 680x0
series.... I dont think PPC accept it !

regards

@ENDNODE
@NODE "Mail_32" " Re: cps counter "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 12-04-99 12:00:01
Subject: @{b}Re: cps counter@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello Rod,

On 04-Dez-99 wrote Rod Schnell (rodsch@telusplanet.net):
> From: Rod Schnell <rodsch@telusplanet.net>
> 
> Hello Yves
> 
> On 04-Dec-99, Yves Grabowsky wrote:
>> From: YvesGrabowsky@t-online.de (Yves Grabowsky)
>> 
>> Hi,
>> I'm trying to calculate the cps of a transfer with the following code:
>> 
>> --------CUT HERE-----------
>> long n, temp, cps;
>> time_t start, current;
>> 
>> start = time(&start);
>> 
>> do
>>   {
>>    n = Sock_Recv(dtc, buf, LEN_RECVBUF);
>>    temp += n;
>>     if (n>0)
>>        Write(outfile, buf, n);
>> 
>>     current = time(&current);     // cps calculation
>>     current -= start;
>>     cps = temp/current;
>>     } while(n);       // receive loop
>> 
>> (temp holds the bytes received)
>> -----------CUT HERE-------------
>> 
>> Everytime I execute this code it crashes, without the cps calculation it
>> runs perfectly. Whats wrong with this?
>> 
> 
> Divide by zero error maybe? time() returns the current time in seconds, it
> likely takes less than a second between start and current.
> 

Maybe thats right, but then an exception would occur, wouldn't it?
And how can I solve this? Using GetSysTime()?


> Regards  Rod

Cu,
-- 
Yves Grabowsky
*ICQ:* 18762984
<tsb>*AmiURLRequester 2.0 out now! Go and get it!*
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!

@ENDNODE
@NODE "Mail_33" " PPC Compilation Problems "
From: Bablos <bablos@cableinet.co.uk>
Date: 12-04-99 12:47:28
Subject: @{b}PPC Compilation Problems@{ub}

From: Bablos <bablos@cableinet.co.uk>

Hi There...

I'm currently trying to compile a game on PPC, and it's failing when it
gets to the Amiga specific code with the following;

main-ami.c:1377: invalid register name `d0' for register variable
main-ami.c:1377: invalid register name `a6' for register variable
main-ami.c:1377: invalid register name `a0' for register variable
main-ami.c:1377: unknown register name `fp1' in `asm'
main-ami.c:1377: unknown register name `fp0' in `asm'
main-ami.c:1377: unknown register name `a1' in `asm'
main-ami.c:1377: unknown register name `a0' in `asm'
main-ami.c:1377: unknown register name `d1' in `asm'
main-ami.c:1377: unknown register name `d0' in `asm'

It does this for a lot of the code in main-ami.c.

I'm using gcc-amigaos-ppc as my CC setting in the makefile.  I've tried
with WarpOS egcs, but that crashes with a particular file earlier on.

Does anyone know what I have to alter?  It compiles fine under 68k.


Bablos.

@ENDNODE
@NODE "Mail_34" " Re: cps counter "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 12-04-99 12:47:31
Subject: @{b}Re: cps counter@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello Yves

On 04-Dec-99, Yves Grabowsky wrote:
> From: YvesGrabowsky@t-online.de (Yves Grabowsky)
> 
> Hi,
> I'm trying to calculate the cps of a transfer with the following code:
> 
> --------CUT HERE-----------
> long n, temp, cps;
> time_t start, current;
> 
> start = time(&start);
> 
> do
>   {
>    n = Sock_Recv(dtc, buf, LEN_RECVBUF);
>    temp += n;
>     if (n>0)
>        Write(outfile, buf, n);
> 
>     current = time(&current);     // cps calculation
>     current -= start;
>     cps = temp/current;
>     } while(n);       // receive loop
> 
> (temp holds the bytes received)
> -----------CUT HERE-------------
> 
> Everytime I execute this code it crashes, without the cps calculation it
> runs perfectly. Whats wrong with this?
> 

Divide by zero error maybe? time() returns the current time in seconds, it
likely takes less than a second between start and current.

Regards  Rod

@ENDNODE
@NODE "Mail_35" " Re: cps counter "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 12-04-99 15:21:24
Subject: @{b}Re: cps counter@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

> From: YvesGrabowsky@t-online.de (Yves Grabowsky)
> Hi,
> I'm trying to calculate the cps of a transfer with the following
> code:
> 
> --------CUT HERE-----------
> long n, temp, cps;
> time_t start, current;
> 
> start = time(&start);
// firstly,  (&start)  is filled by time(),  so equating the return 
// value is pointless...    a NULL may be passed to:   time(NULL)
// if you dont want it to fill in the result...    
// or you can:     (void)time(&start);
// whatever you prefer...
> 
> do
>  {
>   n = Sock_Recv(dtc, buf, LEN_RECVBUF);
//  I have no info on this function....

>   temp += n;
//  temp is not initialized.....

>    if (n>0)
>       Write(outfile, buf, n);
//  is the filehandle valid..... ??
//  is  buf[] initialized ok & is it big enough..... ?
> 
>    current = time(&current);     // cps calculation
//  same thing here as:    time(&start).......................

>    current -= start;
>    cps = temp / current;
// divide by zero error here if current == 0 .......

//  use:       cps = 0L;
//                if(current)
//                     cps = temp / current;

>    } while(n);       // receive loop
> 
> (temp holds the bytes received)
> -----------CUT HERE-------------
> 
> Everytime I execute this code it crashes, without the cps
> calculation it runs perfectly. Whats wrong with this?
> 
-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_36" " Re: cps counter "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 12-04-99 18:46:15
Subject: @{b}Re: cps counter@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello Yves

On 04-Dec-99, Yves Grabowsky wrote:
> From: YvesGrabowsky@t-online.de (Yves Grabowsky)
> 
>>> Everytime I execute this code it crashes, without the cps calculation it
>>> runs perfectly. Whats wrong with this?
>>> 
>> 
>> Divide by zero error maybe? time() returns the current time in seconds, it
>> likely takes less than a second between start and current.
>> 
> 
> Maybe thats right, but then an exception would occur, wouldn't it?
> And how can I solve this? Using GetSysTime()?
> 

Simplest way to find out if that is the problem would be to comment out the
line with the division, recompile and see if it still crashes. In that case, a
simple fix would be...

if(current > start)
{
 current -= start;
 cps = temp/current;
}
else cps = temp;

Personally, I'd use timer device and calculate the cps rate every second
or so rather than after every call to recv... Especially if the rate is being
displayed in a GUI.

Regards Rod

@ENDNODE
@NODE "Mail_37" " (no subject) "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 12-04-99 22:19:34
Subject: @{b}(no subject)@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,

I don`t suppose anyone has a replacement for WriteRGBPixel() (from cyberGFX) I
could compile for WarpOS. It would be a big favour and save me a lot of
p***ing around.

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_38" " OT: CDTV expert needed "
From: Jonas Hulten <bjonte@hem2.passagen.se>
Date: 12-04-99 23:34:12
Subject: @{b}OT: CDTV expert needed@{ub}

From: Jonas Hulten <bjonte@hem2.passagen.se>

Sorry for this off topic message. Please reply to me and not to the list.

I bought a second hand CDTV. I could play CDs with it but the 'Amiga' didn't
start, the reset stopped at the white screen and no more. Actually I *once*
got to the CD animation but after a reset I was back to where I started.

I tried to locate the problem by swapping components with my A500. I swapped
one of the CDTV's 8520 with the A500's but with no luck and now the CDTV
gets into a neverending reset loop when I turn it on. Arrrgh! I want it
back, what can be broken now? I'm quite happy if I just can use it as a CD
player again. 
Please help me.

Can the CDTV keyboard be used directly in an A4000 if I use the A4000
keyboard cord and connect it inside the CDTV keyboard? It is the same type
of connector but do I have to shuffle some lines?

/Jonas

-- 
0 "MEAT IS MURDER  " GRRRL
48   "JETPAC"           PRG
20   "JELLY MONSTERS"   PRG
32   "µBEE"             REL
42   "VECTREX"          REL
604  "A4000"            L?<
64 BLOCKS FREE.

@ENDNODE
@NODE "Mail_39" " Re: WriteRGBPixel (was: no subject) "
From: Martin McKenzie <marty@cadtech.demon.co.uk>
Date: 12-05-99 00:29:54
Subject: @{b}Re: WriteRGBPixel (was: no subject)@{ub}

From: Martin McKenzie <marty@cadtech.demon.co.uk>

Hello Tim,

On 04-Dec-99, Tim Hanson wrote:
> I don`t suppose anyone has a replacement for WriteRGBPixel() (from
> cyberGFX) I could compile for WarpOS. It would be a big favour and save me
> a lot of p***ing around.

The RTGMaster library might help you out here; IIRC, there is a WarpOS
version available, so this might(*) allow your PPC program to write to the
screen without worying about 68k<->PPC switches.

(*) = It depends on what type of software you are creating. You could also
setup a 68k task and send messages to it from the PPC side.

-- 
Cheerio,
Martin McKenzie
Imagine support: http://www.cadtech.demon.co.uk/

@ENDNODE
@NODE "Mail_40" " Re: cps counter "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 12-05-99 08:13:56
Subject: @{b}Re: cps counter@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>

> From: YvesGrabowsky@t-online.de (Yves Grabowsky)
> 
> Hi,
> I'm trying to calculate the cps of a transfer with the following code:
> 
> --------CUT HERE-----------
> long n, temp, cps;
> time_t start, current;
> 
> start = time(&start);
> 
> do
>   {
>    n = Sock_Recv(dtc, buf, LEN_RECVBUF);
>    temp += n;
>     if (n>0)
>        Write(outfile, buf, n);
> 
>     current = time(&current);     // cps calculation
>     current -= start;
>     cps = temp/current;
>     } while(n);       // receive loop
> 
> (temp holds the bytes received)
> -----------CUT HERE-------------
> 
> Everytime I execute this code it crashes, without the cps calculation it
> runs perfectly. Whats wrong with this?
Easy: time returns SECONDS, so if your sock_recv gets less than a a second,
you are dividing temp by zero - which usually causes exception ;). Try to
get more accurate timers.

-- 
Mikerek

@ENDNODE
@NODE "Mail_41" " Re: WriteRGBPixel (was:  no subject) "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 12-05-99 08:21:44
Subject: @{b}Re: WriteRGBPixel (was:  no subject)@{ub}

On 04-Gru-99, you wrote:

> From: Tim Hanson <msinister@connectfree.co.uk>
> 
> Hi All,
> 
> I don`t suppose anyone has a replacement for WriteRGBPixel() (from
> cyberGFX) I could compile for WarpOS. It would be a big favour and save me
> a lot of p***ing around.
o_O... why you need replacement for WarpOS? Simply make link lib with run68k
call to WriteRGBPixel...  For warpup vbcc linker lib is included (it is
short, so please dont kill me ;)

If you are using warpos, everything you need is to do:

extern struct Library *CyberGfxBase;

This lib opens cybergraphics library (and closes) automagically, when
linked:

vc +name_of_your_warpos_vbcc_config -o test blah.c -lcybergraphx

and you can use in code WriteRGBPixel directly...  why writting
replacements? For speed? For speed is either direct cybergraphics acces or
(LEAVE A POSSIBILITY FOR USER!) WritePixelArray.

Regards
-- 
Mikerek
@ENDNODE
@NODE "Mail_42" " SasC probs "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 12-05-99 10:57:36
Subject: @{b}SasC probs@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

hi,

why did sasC (6.57) send me this message ?

Undefined symbols        First Referenced
__CXAMEMCPY              File 'Main.o'
Enter a DEFINE value for __CXAMEMCPY (default ___stub): 

if i remove this line, everything compiles well !

"
    struct Gadget gadget=
    {
        NULL,            // Suivant
        0,0,            // Position de depart
        9,9,            // Largeur & hauteur
        GADGHNONE,    // Complement d'image
        RELVERIFY,    // On attends de relacher
        BOOLGADGET,    // Type de gadget
        NULL,            // Ni bordure ni image
        NULL,            //    SelectRender
        NULL,            // Pas de texte
        NULL,            //    MutualExclude
        NULL,            //    SpecialInfo
        0,                // Numero du gadget
        NULL            // UserData
    };
"

regards

@ENDNODE
@NODE "Mail_43" " Re: (no subject) "
From: Stefan Schulze <stefan@dreamworlds.de>
Date: 12-05-99 16:00:41
Subject: @{b}Re: (no subject)@{ub}

From: Stefan Schulze <stefan@dreamworlds.de>

Hi Tim, 

> I don`t suppose anyone has a replacement for WriteRGBPixel() (from cyberGFX)
> I could compile for WarpOS. It would be a big favour and save me a lot of
> p***ing around.

Try out the RtgMaster library. It's optimized for speed, supports also Hi- and
TrueColor modes and it comes with a PPC native version included. 

Bye, Stefan.
-- 
"The dream has led me - And i will follow into the glowing fire." (Lacrimosa)
Dreamworlds Development - www.dreamworlds.de

XFire I/II, YATAG, VoxelRace, Between The Lines

@ENDNODE
@NODE "Mail_44" " A little maths problem "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 12-05-99 19:07:28
Subject: @{b}A little maths problem@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi Jonathan,

>>> f=exp(gamma*(log(f)-log(500000.0)));
<snip>
> So what's the actual function?

The function is y=x^gamma
where x and y are between 0.0 and 1.0, and gamma is typically between 0.5
and 2.0.
(I've used ^ here to mean `raised to the power', which in C is normally
done with the pow() function, since the ^ operator is used for exclusive-or
instead.)

In Tim's original problem his domain was 0<x<500000, and since other
people had already suggested using logs, I did the power using logs
instead of pow():

   y  =  (x/500000.0) ^ gamma
log(y)  =  log ((x/500000.0) ^ gamma)
log(y)  =  gamma * log(x/500000.0)
log(y)  =  gamma * (log(x) - log(500000.0))
y  =  exp(gamma * (log(x) - log(500000.0)))

y = pow(x/500000.0,gamma);
is probably an easier and quicker way of achieving the same thing.

All the best,
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

It's called "Windows" because it's such a pane to use.

@ENDNODE
@NODE "Mail_45" " Process/Task confusion "
From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
Date: 12-06-99 00:45:52
Subject: @{b}Process/Task confusion@{ub}

From: Martyn Capewell <mmc28@hermes.cam.ac.uk>

Hello,

I'm confused about the capabilities of tasks and processes. For example, is
it true I can't use dos library functions, or anything that may invoke one
of those functions from a task?

If I start a program from Workbench (rather than a shell), is it running as
a task or a process? And if it is running as a task, how do I use dos
functions from it?

Finally, what does AllocDosObject() do? The autodocs don't seem to help.

Thanks,
-- 
- Martyn Capewell
    {   Compsci, University of Cambridge   }
    { http://members.xoom.com/legerdemain0 }

@ENDNODE
@NODE "Mail_46" " Re: Process/Task confusion "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 12-06-99 01:49:33
Subject: @{b}Re: Process/Task confusion@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello, Martyn


On 05-Dec-99, you wrote about Process/Task confusion:

> From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
> 
> Hello,
> 
> I'm confused about the capabilities of tasks and processes. For example,
> is it true I can't use dos library functions, or anything that may invoke
> one of those functions from a task?

Yes it is true. A dos process is a superset of an exec task therefore
you cannot call dos functions from a task (unless otherwise stated in the 
autodocs) because a task does not have the context of a dos process. It is
mainly dos IO functions that cannot be called (and since dos = disk
operating
system that rules out most dos functions) because an exec task does not know
about files `n' stuff like that (someone correct me if i'm wrong here). If
you look at the structure of a dos process you will see it has fields for
Current input (pr_CIS), current output (pr_COS), current dir (pr_CurrentDir)
etc... but an exec task only knows about exec/intuition/graphics/etc...
because
dos handles file/directories/filesystems/etc...

> 
> If I start a program from Workbench (rather than a shell), is it running
> as a task or a process? And if it is running as a task, how do I use dos
> functions from it?
>

Any executable program you create is a process. Exceptions are libraries,
devices, which are tasks. If you want to use dos functions from a librart or
device here's how I would do it (someone please tell me if there's an easier
way)

first you have to remember that you are a library/device therefore you are a
task
so you cant call any dos io functions. you have to create a new dos process
using CreateProc() (if you program needs to be pre-v36 compatible) or
CreateNewProcTags() (for 2.0+ (i think))  these functions are safe to call
from a library/device (although there are some warnings about dos & devices)
then the function you pass to Create(New)Proc() is run as a process an in
this function you should set up a message port so you can communicate with
you library then all you have to do is send a message to you Sub-Process
telling it what to do. (That was a rather brief explanation but you should 
(hopefully) get the picture)
 
> Finally, what does AllocDosObject() do? The autodocs don't seem to help.

Well a good (I think) exaple of AllocDosObject() is for allocating a
struct FileInfoBlock because fileinfoblocks MUST (read the adocs) be
longword aligned and AllocDosObject() will make sure it is (check out 
dos/dos.h at the bottom for the DOS_XXXXXXX tags

> 
> Thanks,
Kind Regards

Dave `Trebor' Arbuthnot

@ENDNODE
@NODE "Mail_47" " Re: Process/Task confusion "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 12-06-99 01:50:20
Subject: @{b}Re: Process/Task confusion@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, Dec 05, 1999 at 11:45:52PM +0000, Martyn Capewell wrote:
> From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
> 
> Hello,
> 
> I'm confused about the capabilities of tasks and processes. For example, is
> it true I can't use dos library functions, or anything that may invoke one
> of those functions from a task?

A process is just a task with some extra state information used by DOS
(such as current directory).  All dos.library functions require this
extra state unless their documentation states otherwise.

> If I start a program from Workbench (rather than a shell), is it running as
> a task or a process? And if it is running as a task, how do I use dos
> functions from it?

It's running as a process.

> Finally, what does AllocDosObject() do? The autodocs don't seem to help.

It allocates and initialises one of several kinds of structures used
by DOS.  (So it's sort of like a `new' operator for those structures.)

Ben.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
Experience is directly proportional to the value of equipment destroyed.
                                                         - Carolyn Scheppner

@ENDNODE
@NODE "Mail_48" " Internet code "
From: Steven Dobbs <steven.dobbs@cableinet.co.uk>
Date: 12-06-99 04:59:54
Subject: @{b}Internet code@{ub}

From: Steven Dobbs <steven.dobbs@cableinet.co.uk>

Hello anybody,
    I've spent some time looking aminet, but was wonering if there was any
really simple UPD or even TCP stuff available for c.

I see on the AF cd that there is some nice UPD stuff there, is there
anything else like it for c suitable for multiplayer internet games?


Regards
-- 
Steven Dobbs

@ENDNODE
@NODE "Mail_49" " Samples and Mods artists, searching for...... "
From: Emanuele Cesaroni <emacesa@tin.it>
Date: 12-06-99 07:27:38
Subject: @{b}Samples and Mods artists, searching for......@{ub}

From: Emanuele Cesaroni <emacesa@tin.it>


Hi coders.

I am searching musicians for my game in progress, a Puzzle Bobble clone,
named PuzzleBOBS.

For more infos, contact me at "emacesa@tin.it" .

Thank you very much.
Bye.

Emanuele.

@ENDNODE
@NODE "Mail_50" " Re: Process/Task confusion "
From: Emanuele Cesaroni <emacesa@tin.it>
Date: 12-06-99 07:47:51
Subject: @{b}Re: Process/Task confusion@{ub}

From: Emanuele Cesaroni <emacesa@tin.it>

Hello Martyn

On 05-Dic-99, you wrote:

> From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
> 
> Hello,
> 
> I'm confused about the capabilities of tasks and processes. For example,
is
> it true I can't use dos library functions, or anything that may invoke one
> of those functions from a task?

Yes, you can call dos.library functions from your program when starts,
because
it is a process.
Instead you can not call dos.library from a subtask (a child) created by
your main task, by CreateTask(), because it is an exec task.

> 
> If I start a program from Workbench (rather than a shell), is it running
as
> a task or a process? And if it is running as a task, how do I use dos
> functions from it?

It is a process, and yes, you can call dos.library functions.

> 
> Finally, what does AllocDosObject() do? The autodocs don't seem to help.

Sorry, i don't know.

> > Thanks,
Regards

Bye.
Emanuele.

@ENDNODE
@NODE "Mail_51" " Re: Re: PRINTER DRIVERS "
From: "Andrzej J. Debicki" <denbi@softsystem.pl>
Date: 12-06-99 08:18:59
Subject: @{b}Re: Re: PRINTER DRIVERS@{ub}

From: "Andrzej J. Debicki" <denbi@softsystem.pl>

Hello Micha³,

Saturday, Saturday, December 04, 1999, you wrote:
>>[...about Amiga Developer CD 2.1...]
> That's nice, but is there anyone who can sell it to me?

Sure. Ask Schatztruhe, Haage&Partner...

-- 
Andrzej J. Debicki
denbi@softsystem.pl
http://republika.pl/denbi
------------------------------------------------------
Amiga 1200T 603e/060, BVision, 34 MB RAM & AmigaOS 3.5

@ENDNODE
@NODE "Mail_52" " Re: Process/Task confusion "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-06-99 09:33:15
Subject: @{b}Re: Process/Task confusion@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 06-Dec-99, David Arbuthnot wrote:

> [...] If you want to use dos functions from a librart or
> device here's how I would do it (someone please tell me if there's an easier
> way)

A library is just a set of functions, which is executed in the using programs
context, so it's most likely executed as a process.  I'd just use normal DOS
functions, and maybe make a note about it in the autodoc, if it isn't obvious,
and there's a chance my library will be called by a task... (which isn't very
likely - on my system the only tasks running are lowlevel device drivers)

One exception though is input.device - this is a task, so you mustn't do any
DOS i/o when called by input.device, this (as unlogical as it may seem)
includes using the clipboard.device (as I recently learned) even though it
will in most situations...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Did you ever notice how fast Windows runs? Neither did I...

@ENDNODE
@NODE "Mail_53" " RE: PPC Compilation Problems "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 12-06-99 12:29:29
Subject: @{b}RE: PPC Compilation Problems@{ub}

From: Jesper Svennevid <jesper@fxrealm.com>

> From: Bablos <bablos@cableinet.co.uk>
> 
> Hi There...
> 
> I'm currently trying to compile a game on PPC, and it's 
> failing when it
> gets to the Amiga specific code with the following;
> 
> main-ami.c:1377: invalid register name `d0' for register variable
> main-ami.c:1377: invalid register name `a6' for register variable
> main-ami.c:1377: invalid register name `a0' for register variable
> main-ami.c:1377: unknown register name `fp1' in `asm'
> main-ami.c:1377: unknown register name `fp0' in `asm'
> main-ami.c:1377: unknown register name `a1' in `asm'
> main-ami.c:1377: unknown register name `a0' in `asm'
> main-ami.c:1377: unknown register name `d1' in `asm'
> main-ami.c:1377: unknown register name `d0' in `asm'
> 
> It does this for a lot of the code in main-ami.c.
> 
> I'm using gcc-amigaos-ppc as my CC setting in the makefile.  
> I've tried
> with WarpOS egcs, but that crashes with a particular file earlier on.
> 
> Does anyone know what I have to alter?  It compiles fine under 68k.

You need to generate the needed inlines from the CGFX fd-file, using
the fd2inline from the ppc-dev package, which will generate proper
lines with the --powerup switch (these macros work under warpos too,
with the proper macros.h). The inline-file for 68k-cgfx won't work as
it contains 68k-specific assembler routines.

If you use the macros.h from paladins homepage, be aware that it is
built from an older ppc-dev, and contains the alloca()-bug, which
will cause a stack overflow after calling a few 68k-functions. You
should rewrite this into one that declares the argument-buffer as
a local variable instead.

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_54" " String <-> List(view) connections "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 12-06-99 15:19:47
Subject: @{b}String <-> List(view) connections@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello,
    I have a small problem. How do I get a listview to react on a string
    i.e I want to do the following things:
    
    update a column in the listview as the user types
    get the listview to search for a string as the user types and highlight
    the first matching entry.
    
    From what I read on this list I'm guessing it's got to be a subclass
    of string.mui/list.mui (this is not a problem though as all my programs
    are written using subclasses)

Kind regards

Dave `Trebor' Arbuthnot

@ENDNODE
@NODE "Mail_55" " Re: String <-> List(view) connections "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-06-99 23:11:57
Subject: @{b}Re: String <-> List(view) connections@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 06-Dec-99, David Arbuthnot wrote:

>    update a column in the listview as the user types
>    get the listview to search for a string as the user types and highlight
>    the first matching entry.

Sounds like you could just setup a notify on MUIA_String_Contents to call a
hook/method which does one of the above.

Regards Allan

P.S. There exists a MUI @ OneList.
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
VHS is the most used video system... also the WORST!
PC is the most used computer system... also the WORST!

@ENDNODE
@NODE "Mail_56" " Problem compiling this source... (VBCC) "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-07-99 00:01:33
Subject: @{b}Problem compiling this source... (VBCC)@{ub}

Hi there,

In an attempt to compile 'szip' for Amiga then I get the following error, with
the attached source:

error 28 in line 306 of "rangecod.c": redeclaration of var <__inline> with new
storage-class
>void __inline M_decode_update(freq sy_f,freq lt_f,freq tot_f)

(using "vc -+ rangecod.c")

I have absolutely no idea of what it means, but if I remove 'Inline' then it
works. Can anybody help me out?

Btw: If I use the "-O3" option for the entire source, then I get this error:
----------------------------------------------------------------------------
error 158 in line 139 of "qsmodel.c": internal error 0 in line 380 of file
Rest:vbcc/machines/m68k/machine.c !!
aborting...
unexpected end of file
1 error found!
----------------------------------------------------------------------------
I think it's a bug of VBCC. Using -O=127 works, but -O=511 doesn't, though
-O=128 also works - so I haven't really been able to pint-point the
optimisation pass that cause the problem.  I'm unfortunately not allowed to
spread any parts of the source, except the attached rangecod.#?, but if you
(Volker) have no clue of what's going on, then I could talk to the author
about it.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Quoting one is plagiarism. Quoting many is research.
@ENDNODE
@NODE "Mail_57" " Re: String <-> List(view) connections "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 12-07-99 03:35:43
Subject: @{b}Re: String <-> List(view) connections@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello, Allan


On 06-Dec-99, you wrote about [amiga-c] Re: String <-> List(view)
connections:

> From: Allan Odgaard <Duff@DIKU.DK> 
> 
> P.S. There exists a MUI @ OneList.

Yeah sorry about this I put amiga-c instead of MUI (godknows how I made a
typo as big as that) 

Kind Regards

Dave `Trebor' Arbuthnot

@ENDNODE
@NODE "Mail_58" " Re: PRINTER DRIVERS "
From: Dirk Harlaar <D.Harlaar@ping.de>
Date: 12-07-99 09:11:35
Subject: @{b}Re: PRINTER DRIVERS@{ub}

From: Dirk Harlaar <D.Harlaar@ping.de>

Hello Micha³

On 07-dec-99, you wrote:

> Checked. And found as a new, because few weeks ago I checked - it wasn't
> there ;) Ok. One question - is poland in europe? According to H&P - no:

They must have not paid attention that much at school? What you could do is
have a German order it for you, stick the money in an envelope (in between
a card, so that the post won't see it), and snail mail this to any German
willing to help you. He could then order it from H&P and mail it for the
price paid plus normal postage.

Other than that, let me know where you live in Poland. I have some friends
who are from Poland, and still go there often. If they (their family)
happen to live anyplace near you, they could just drop it off at your
place?

> in
> europe is:
> (Austria, Switzerland, Denmark, Spain, France, GB, Greece, Italy, Ireland,
> Portugal, Sweden, Finland, Belgium, Netherlands, Luxembourg)

I'm not sure about shipping, but I would imagine shipping costs to Poland
wouldn't be more than shipping costs to Greece? I'll contact H&P about
this.

> Is there ANY cheaper distributor?

You could check BlitterSoft in the UK, maybe they charge in a more sensible
way for overseas shipping? One final thought: Ask Computer City in
Rotterdam, the Netherlands. I don't have their address at hand, but could
search for it if you want me to. They distribute all kinds of H&P stuff,
and have fair prices/shipping conditions. Also, it would be good if you
would just contact sales@haage-partner.com with a complaint about Polandd
being moved out of Europe, explaining that you want to buy from them, but
that you don't want to pay more for shipping than the average European. I
know that some countries have very high taxes when you ship something to
it, that's why they are not included in the standard European list (it
costs more to ship there, because of customs), but I do not know if Poland
is one of those countries. 

Dirk

@ENDNODE
@NODE "Mail_59" " Re: PRINTER DRIVERS "
From: Micha³ Bartczak <mikerro@ihh.pi.com.pl>
Date: 12-07-99 09:26:15
Subject: @{b}Re: PRINTER DRIVERS@{ub}

From: =?iso-8859-2?Q?Micha=B3?= Bartczak <mikerro@ihh.pi.com.pl>

On 06-Gru-99, you wrote:

> From: "Andrzej J. Debicki" <denbi@softsystem.pl>
> 
> Hello Micha³,
> 
> Saturday, Saturday, December 04, 1999, you wrote:
>>> [...about Amiga Developer CD 2.1...]
>> That's nice, but is there anyone who can sell it to me?
> 
> Sure. Ask Schatztruhe, Haage&Partner...

Checked. And found as a new, because few weeks ago I checked - it wasn't
there ;) Ok. One question - is poland in europe? According to H&P - no: in
europe is:
(Austria, Switzerland, Denmark, Spain, France, GB, Greece, Italy, Ireland,
Portugal, Sweden, Finland, Belgium, Netherlands, Luxembourg)

So I don't know if I should pay 20 or 30 dm (30dm! shipping cost - more than
for dev. CD!)

Is there ANY cheaper distributor?

Regards
-- 
Mikerek

@ENDNODE
@NODE "Mail_60" " Re: Re: PRINTER DRIVERS "
From: "Andrzej J. Debicki" <denbi@softsystem.pl>
Date: 12-07-99 10:01:05
Subject: @{b}Re: Re: PRINTER DRIVERS@{ub}

From: "Andrzej J. Debicki" <denbi@softsystem.pl>

Hello Micha³,

Tuesday, Tuesday, December 07, 1999, you wrote:
> Checked. And found as a new, because few weeks ago I checked - it wasn't
> there ;) Ok. One question - is poland in europe? According to H&P - no: in
> europe is:
> (Austria, Switzerland, Denmark, Spain, France, GB, Greece, Italy, Ireland,
> Portugal, Sweden, Finland, Belgium, Netherlands, Luxembourg)

> So I don't know if I should pay 20 or 30 dm (30dm! shipping cost - more than
> for dev. CD!)

Poland is in Europe :-). H&P charged my AmigaOS 3.5 for 20 DM. And
Schatztruhe gets 12 DM for shipping. I ordered DevCD2.1 in
Schatztruhe 3 days ago and now I'm waitnig... and waiting...
and... :-)))

-- 
Andrzej J. Debicki
denbi@softsystem.pl
http://republika.pl/denbi
------------------------------------------------------
Amiga 1200T 603e/060, BVision, 34 MB RAM & AmigaOS 3.5

@ENDNODE
@NODE "Mail_61" " Re: Problem compiling this source... (VBCC) "
From: Tim Corringham <tim@ramjam.u-net.com>
Date: 12-07-99 10:46:17
Subject: @{b}Re: Problem compiling this source... (VBCC)@{ub}

From: tim@ramjam.u-net.com (Tim Corringham)

Hi Allan


> Hi there,
>
> In an attempt to compile 'szip' for Amiga then I get the following error, with
> the attached source:
>
> error 28 in line 306 of "rangecod.c": redeclaration of var <__inline> with new
> storage-class
> >void __inline M_decode_update(freq sy_f,freq lt_f,freq tot_f)
>
> (using "vc -+ rangecod.c")
>
> I have absolutely no idea of what it means, but if I remove 'Inline' then it
> works. Can anybody help me out?

__inline is a compiler directive that isn't recognised by VBCC, so it
assumes it is a variable identifier.

removing it is OK, or alternatively adding

#define __inline

to equate it to the empty string will do the job, and if __inline appears
in many places means less change to the source code.

  Tim

--
======================================================================
Tim Corringham                            e-mail: tim@ramjam.u-net.com
Ramjam Consultants Ltd                       tel:  +44 (0)118 946 5940
Reading, England                             fax:  +44 (0)118 946 5941

@ENDNODE
@NODE "Mail_62" " Re: Internet code "
From: Roger Light <rogerlight@mindless.com>
Date: 12-07-99 14:17:11
Subject: @{b}Re: Internet code@{ub}

From: Roger Light <rogerlight@mindless.com>

Steven Dobbs wrote:

> I've spent some time looking aminet, but was wonering if there was any
> really simple UPD or even TCP stuff available for c.
> 
> I see on the AF cd that there is some nice UPD stuff there, is there
> anything else like it for c suitable for multiplayer internet games?

I don't know what's on the AFCD, but Anton Reinauer is/has produced some
UDP functions for use with Blitz Basic. They're pretty good I'm told. If
you want to contact him about it his email address is
ants@paradise.net.nz 

Alternatively, there are some basic but useful examples of using TCP in
the archive below which is also for blitz but should be easy enough to
convert. http://www.angelfire.com/vt/ralight/images/tcpstuff.lha

Hope this helps,

Roger

@ENDNODE
@NODE "Mail_63" " Re: Process/Task confusion "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 12-07-99 15:01:51
Subject: @{b}Re: Process/Task confusion@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Martyn,

On 05-Dec-99 you wrote: [amiga-c] Process/Task confusion

> I'm confused about the capabilities of tasks and processes. For
> example, is it true I can't use dos library functions, or anything
> that may invoke one of those functions from a task?
> 
> If I start a program from Workbench (rather than a shell), is it
> running as a task or a process? And if it is running as a task, how
> do I use dos functions from it?

It's running as a process, so you can call any DOS function you wish.
Although the pr_CLI field in the process structure is NULL when
started from WB.

> Finally, what does AllocDosObject() do? The autodocs don't seem to
> help.

It's a routine that allocates and initializes a DOS structure, for
example a FileInfoBlock. Here's a quick example:

BPTR MyLock;

MyLock = Lock("ram:Example-file", SHARED_LOCK);

if (MyLock)
{
  struct FileInfoBlock *FIB;

  FIB = AllocDosObject(DOS_FIB, NULL);

  if (FIB)
  {
    if (Examine(MyLock, FIB))
    {
      // now you can access FIB->fib_Size, etc. 
    }
    FreeDosObject(DOS_FIB, FIB);
  }
  UnLock(MyLock);
}

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
Women are great! Every man should own one!!!!!

@ENDNODE
@NODE "Mail_64" " Reading keypresses "
From: Donald W Millican <DonaldWM@stonelawdrive.freeserve.co.uk>
Date: 12-08-99 19:50:48
Subject: @{b}Reading keypresses@{ub}

From: "Donald W Millican" <DonaldWM@stonelawdrive.freeserve.co.uk>

Using StormC3.0, I have written a calculator using gadtools to program
intuition and would like to be able to detect the pressing of the keys:
Return, Enter, Backspace, Del, Escape and Space.
I need to detect Return and Enter as they would be shortcuts for the equals
key. I want use Backspace for a take-back function I have yet to create. For
the other keys I just want to make sure that if they are pressed, that the
Calculator ignores those keypresses. At the moment, pressing any of these
keys is taken as input and the calculator adds the previously entered number
to the display.

I get the key code from the Code field of the Intuimessage I am sent by
Intuition and parse it as follows:

switch(code)
{
    case `1`:
        // Deal with a 1 being entered
        break;
    etc.

I thought I could read Space as:
    case ` `:
        printf("Space entered");
and Return / Enter as:
    case `\n`:
        printf("Return / Enter entered");

I have tried these ideas but the messages are never displayed no matter
which way I go about displaying them.

Any ideas?

@ENDNODE
@NODE "Mail_65" " Re: A little apology "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 12-08-99 21:24:46
Subject: @{b}Re: A little apology@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Sun, 6 Jun 1999, Alastair M. Robinson wrote:

> I've been bitten by this kind of thing before, and I'm sure Tim won't be the
> last person.

Yes, it's a common error and mentioned in most books/FAQs on C. It often
happens with variables rather than constants, though.

> How difficult would it be to make VBCC flag some kind of
> warning if a constant is going to overflow like this?

A bit of work but probably not terribly difficult. I'll think about adding
it.

Volker

@ENDNODE
@NODE "Mail_66" " Re: Problem compiling this source... (VBCC) "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 12-08-99 22:02:40
Subject: @{b}Re: Problem compiling this source... (VBCC)@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Tue, 7 Dec 1999, Allan Odgaard wrote:

> In an attempt to compile 'szip' for Amiga then I get the following error, with
> the attached source:
> 
> error 28 in line 306 of "rangecod.c": redeclaration of var <__inline> with new
> storage-class
> >void __inline M_decode_update(freq sy_f,freq lt_f,freq tot_f)
> 
> (using "vc -+ rangecod.c")
> 
> I have absolutely no idea of what it means, but if I remove 'Inline' then it
> works. Can anybody help me out?

Well, remove __inline. :-) It's a compiler-specific extension. vbcc will
nevertheless inline functions based on some heuristics.

> Btw: If I use the "-O3" option for the entire source, then I get this error:
> ----------------------------------------------------------------------------
> error 158 in line 139 of "qsmodel.c": internal error 0 in line 380 of file
> Rest:vbcc/machines/m68k/machine.c !!
> aborting...
> unexpected end of file
> 1 error found!
> ----------------------------------------------------------------------------

It's hard to say anything about it without a source to reproduce it. I did
modify the line that caused this error since 0.7, so this problem is
probably already fixed. But to be sure I'd need the source.

Volker

@ENDNODE
@NODE "Mail_67" " Re: Problem compiling this source... (VBCC) "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-09-99 01:44:45
Subject: @{b}Re: Problem compiling this source... (VBCC)@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 08-Dec-99, Volker Barthelmann wrote:

>> Btw: If I use the "-O3" option for the entire source, then I get this error:
> It's hard to say anything about it without a source to reproduce it. I did
> modify the line that caused this error since 0.7, so this problem is
> probably already fixed. But to be sure I'd need the source.

My suggestion would be that you send the modified module - if it still fails,
then I try to persuade the author to grant you a copy of the source.

Btw: I can compile it both with O=8063 (~128) & O=8159 (~32) so it seems to be
the combination of these, even though O=160 (128+32) also works...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Your mouse has moved. WinNT must be restarted for the change to take effect.

@ENDNODE
@NODE "Mail_68" " Re: Reading keypresses "
From: Laura Vance <vancel@amiga.nols.com>
Date: 12-09-99 01:55:17
Subject: @{b}Re: Reading keypresses@{ub}

From: Laura Vance <vancel@amiga.nols.com>

Hello Donald

I'm sure that I'm not the first one to answer this, but in the case
statements, you can use the ascii codes or the rawkey codes, depending on
which you are using in your window.  For example, you detect the CR (Carriage
Return) by checking for code 13, if I remember correctly, the ESC character
is code 27.  I don't have the chart right here in front of me, but they are
very handy when you are trying to do just such functions.

later,

Laura



On 08-Dec-99, Donald W Millican wrote:
> From: "Donald W Millican" <DonaldWM@stonelawdrive.freeserve.co.uk>
> 
> Using StormC3.0, I have written a calculator using gadtools to program
> intuition and would like to be able to detect the pressing of the keys:
> Return, Enter, Backspace, Del, Escape and Space.
> I need to detect Return and Enter as they would be shortcuts for the equals
> key. I want use Backspace for a take-back function I have yet to create. For
> the other keys I just want to make sure that if they are pressed, that the
> Calculator ignores those keypresses. At the moment, pressing any of these
> keys is taken as input and the calculator adds the previously entered number
> to the display.
> 
> I get the key code from the Code field of the Intuimessage I am sent by
> Intuition and parse it as follows:
> 
> switch(code)
> {
>    case `1`:
>        // Deal with a 1 being entered
>        break;
>    etc.
> 
> I thought I could read Space as:
>    case ` `:
>        printf("Space entered");
> and Return / Enter as:
>    case `\n`:
>        printf("Return / Enter entered");
> 
> I have tried these ideas but the messages are never displayed no matter
> which way I go about displaying them.
> 
> Any ideas?
> 
> >     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 
Regards
-- 
     \|/
    (o o)
--ooO(_)Ooo--
  Peekaboo!

@ENDNODE
@NODE "Mail_69" " Re: Reading keypresses "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-09-99 02:01:48
Subject: @{b}Re: Reading keypresses@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 08-Dec-99, Donald W Millican wrote:

> I thought I could read Space as:
>    case ` `:
>        printf("Space entered");
> and Return / Enter as:
>    case `\n`:
>        printf("Return / Enter entered");

I think return is sent as '\r' (13, 0x0C) - I don't know why your space check
should fail...

You probably want to add something like this for testing:

   default:
      printf("Key: 0x%02x, qual: 0x%08lx\n", imsg->Code, imsg->Qualifier);
   break;

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Diz Microsoft spelcheker is 100% bug fri.

@ENDNODE
@NODE "Mail_70" " Re: Reading keypresses "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 12-09-99 03:49:13
Subject: @{b}Re: Reading keypresses@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello Donald

On 08-Dec-99, Donald W Millican wrote:
> 
> I get the key code from the Code field of the Intuimessage I am sent by
> Intuition and parse it as follows:
> 
> switch(code)
> {
>    case `1`:
>        // Deal with a 1 being entered
>        break;
>    etc.
> 
> I thought I could read Space as:
>    case ` `:
>        printf("Space entered");
> and Return / Enter as:
>    case `\n`:
>        printf("Return / Enter entered");
> 
> I have tried these ideas but the messages are never displayed no matter
> which way I go about displaying them.
> 
> Any ideas?
> 

Are you reading IDCMP_VANILLAKEY? If I recall correctly, non printable keys
such as return won't show up with IDCMP_VANILLAKEY, use IDCMP_RAWKEY instead. 
I may be wrong about this though.

Your space case should work regardless. Try using printf("Space entered\n");,
'\n' ensures it will print immediately without needing to flush output.

Regards Rod

@ENDNODE
@NODE "Mail_71" " Amigaamp plugins "
From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
Date: 12-09-99 20:13:40
Subject: @{b}Amigaamp plugins@{ub}

From: Martyn Capewell <mmc28@hermes.cam.ac.uk>

Hello,

I've recently been writing some AmigaAmp plugins, but I have problems with
them if I compile for PowerUP. 68k versions are fine. After a while, the
plugin will just lock up, shortly followed by AmigaAmp itself locking up.
I'm using VBCC, btw.

For those unfamiliar with the mechanism AmigaAmp uses for plugins:

    1. PluginMsg structure is allocated, which contains pointers to the data
       I require.
    2. A signal is allocated for AmigaAmp to alert plugin when new msg is
       available.
    3. Signal received.
    4. Message is received and the data it points to is manipulated by the
       PPC. The data is read, processed, and written into memory allocated
       by the plugin.
    5. Processed data displayed on screen using guigfx.library.
    6. Goto 3.

The PluginMsg structure has been allocated with PPCAllocVec(), and the
processed data memory is allocated with PPCAllocMem(). I'm not sure how
AmigaAmp allocates it's memory for the plugin to examine.

Does anybody have any idea what the problem is? Could it be a 68k/PPC
cache/memory synchronisation problem, caused by AmigaAmp allocating the data
memory with Alloc*(), rather than PPCAlloc*()?


Maybe there's not enough detail here, but hopefully someone may have a clue
as to what I'm doing wrong. A copy of the source is available if anybody
wants a peek. Just email me.

Thanks in advance.
-- 
- Martyn Capewell
    {   Compsci, University of Cambridge   }
    { http://members.xoom.com/legerdemain0 }

@ENDNODE
@NODE "Mail_72" " Re: Reading keypresses "
From: Jonas Hulten <bjonte@hem2.passagen.se>
Date: 12-09-99 22:36:38
Subject: @{b}Re: Reading keypresses@{ub}

From: Jonas Hulten <bjonte@hem2.passagen.se>

Den 08-Dec-99, skrev Donald W Millican:

> From: "Donald W Millican" <DonaldWM@stonelawdrive.freeserve.co.uk>

> switch(code)
> {
>    case `1`:
>        // Deal with a 1 being entered
>        break;
>    etc.

> I thought I could read Space as:
>    case ` `:
>        printf("Space entered");
> and Return / Enter as:
>    case `\n`:
>        printf("Return / Enter entered");

> I have tried these ideas but the messages are never displayed no matter
> which way I go about displaying them.

> Any ideas?

Are you really using ` ` instead of ' '? Try with 0x31 and 0x20 instead of
`1` and ` `.

/Jonas

-- 
0 "MEAT IS MURDER  " GRRRL
48   "JETPAC"           PRG
20   "JELLY MONSTERS"   PRG
32   "µBEE"             REL
42   "VECTREX"          REL
604  "A4000"            L?<
64 BLOCKS FREE.

@ENDNODE
@NODE "Mail_73" " Re: Re: Problem compiling this source... (VBCC) "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 12-10-99 02:40:54
Subject: @{b}Re: Re: Problem compiling this source... (VBCC)@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Thu, 9 Dec 1999, Allan Odgaard wrote:

> My suggestion would be that you send the modified module - if it still fails,
> then I try to persuade the author to grant you a copy of the source.

My current snapshot has many fundamental changes and is currently not in a
distributable state. If I'm about to produce a new release and don't
forget it, I'll send you something to test it.

In the meantime I suggest you compile the module causing the problems with
-O2 or -O1.

Volker

@ENDNODE
@NODE "Mail_74" " FRead()/FWrite() "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 12-10-99 15:23:56
Subject: @{b}FRead()/FWrite()@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello,

I'm writing a copy routine and I would like to use FRead()/FWrite()
however this is not possible as they don't return the number of
bytes read but the number of blocks. The core of my routine looks
like this:

<SNIP>

while(br = Read(fileSrc,dataBuffer,nibblesize))
{
    Write(fileDst,dataBuffer,br);
}

<SNIP>

the above fragment of my routine works like a dream but using FRead/FWrite
does not (I need to use buffered calls as the rest of my program is using
buffered calls and you have to flush the buffer between Read/FRead &
Write/FWrite calls. My routine does a nibble copy (In future I'm hoping to
add some sort of verification process to test the data while the file is
being copied) by reading an amount of bytes and the writing them.

I did try the following:

<SNIP>

while(br = FRead(fileSrc,dataBuffer,nibblesize,1))
{
    FWrite(fileDst,dataBuffer,br*nibblesize,1);
}

<SNIP>

but this won't work because if fread does not read a full block I have
no easy way to find out how many bytes FRead actually read (unless I counted
the buffer i store the data in, but this provides the problem of what 
character to use as meaning that there is no more data, i.e I can't test
for 0x00 as the file being copied could be a binary file that contains
0x00's)

I can't seem to find a way around this problem. 

Regards

Dave `Trebor' Arbuthnot

@ENDNODE
@NODE "Mail_75" " Re: FRead()/FWrite() "
From: Nicholas Clarke <nclarke@diku.dk>
Date: 12-10-99 17:16:08
Subject: @{b}Re: FRead()/FWrite()@{ub}

From: Nicholas Clarke <nclarke@diku.dk>

On Fri, 10 Dec 1999, David Arbuthnot wrote:

> From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
> 
> Hello,
> 
> but this won't work because if fread does not read a full block I have
> no easy way to find out how many bytes FRead actually read (unless I counted
> the buffer i store the data in, but this provides the problem of what 
> character to use as meaning that there is no more data, i.e I can't test
> for 0x00 as the file being copied could be a binary file that contains
> 0x00's)
> 
> I can't seem to find a way around this problem. 

You could use the filesize and loop through all the full blocks and use a
seperate read for the last possibly incomplete block of data.

Even better you could use the seek function to determine how much was
read. A seek() should not add any overhead and would also handle the event
that the filehandler reads random amounts of data, though unlikely except 
in case of EOF.

/ngc

@ENDNODE
@NODE "Mail_76" " Re: FRead()/FWrite() "
From: Oliver Roberts <oliver.roberts@iname.com>
Date: 12-10-99 20:27:17
Subject: @{b}Re: FRead()/FWrite()@{ub}

From: "Oliver Roberts" <oliver.roberts@iname.com>

On 10-Dec-99 14:23:56 GMT, David Arbuthnot wrote:

> I'm writing a copy routine and I would like to use FRead()/FWrite()
> however this is not possible as they don't return the number of
> bytes read but the number of blocks. The core of my routine looks
>
> while(br = FRead(fileSrc,dataBuffer,nibblesize,1))
> {
>     FWrite(fileDst,dataBuffer,br*nibblesize,1);
> }
>
> <SNIP>

Why not just use a blocksize of 1?  Like this:

while(br = FRead(fileSrc,dataBuffer,1,nibblesize))
{
    FWrite(fileDst,dataBuffer,1,br);
}

-- 
 *Oliver Roberts*  -  Norwich, UK  -  Software Developer & Web Designer
 /oliver.roberts@iname.com/  |  /oliver@amigaf1.freeserve.co.uk/
 http://www.nanunanu.org/~oliver/  -  ICQ: 34640231
-- 
 F1GP-Ed Web Site  ==>  http://www.nanunanu.org/~oliver/F1GP-Ed/
<tsb>

@ENDNODE
@NODE "Mail_77" " Code for startup.o "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-11-99 07:55:07
Subject: @{b}Code for startup.o@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

Hi there,

Where can I find the source for 'vbccm68k:lib/startup.o'? It doesn't seem to be
included in any of the two vbcc source archives.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Win95: "We made it safe to turn off your computer"

@ENDNODE
@NODE "Mail_78" " Some questions "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 12-11-99 11:19:09
Subject: @{b}Some questions@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hi

I want to open a View display, but i ABSOLUTLY need that the user cant swap
back with any others screens. I dont know how to process a such thing, cause
i want (if possible) to keep the multitask on...

What i want to do is to _setup a double buffered 'screen'_ (not necessary an 
Intuition one) and _catch all events that happens (mouse and keyboard)._ To
give you an example, i want to display a screen like in demo. You cant
switch back to the system with LAMIGA+M (for example). The demo needs to know
that the user wants to quit to end the program.


regards

@ENDNODE
@NODE "Mail_79" " Re: Some questions "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-11-99 20:03:32
Subject: @{b}Re: Some questions@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>

You need to set up a high priority input handler and perform event
filtering if your View is active. Check the RKMs for information
about writing input handlers.

If you don't want to use graphics.library functions (Views) you
can do it the way many of the modern demos do and take control
of the native display hardware but leave the rest of the system
running. This way you can still call dos.library functions and
so on (of course you give your task high priority too).

You should also consider a normal Intuition screen. IDCMP doesn't
really involve that much extra overhead if you're not interested
in mouse movement events and you can have RTG support if need be.
The SA_Exclusive tag can be used for taking control of the full
screen real estate and to prevent screen dragging. It isn't nice
filtering events under these circumstances but I really can't see
the point in preventing the user from screen cycling (in fact,
some demo coders go to great lengths to ensure that their display
hardware takeover code is still capable of allowing screen cycling,
but you get this for free with system screens).

If you need example event filtering code or display hardware
takeover code let me know (they're in asm though, this sort
of stuff usually is).



>From: Adrien HEMERY <iliak_@club-internet.fr>

>Hi

>I want to open a View display, but i ABSOLUTLY need that the user cant swap
>back with any others screens. I dont know how to process a such thing, cause
>i want (if possible) to keep the multitask on...

>What i want to do is to _setup a double buffered 'screen'_ (not necessary an 
>Intuition one) and _catch all events that happens (mouse and keyboard)._ To
>give you an example, i want to display a screen like in demo. You cant
>switch back to the system with LAMIGA+M (for example). The demo needs to know
>that the user wants to quit to end the program.

@ENDNODE
@NODE "Mail_80" " Multithreading + gfx cards "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 12-11-99 20:55:03
Subject: @{b}Multithreading + gfx cards@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi everyone,

I'm still working towards adding multithreading to a project of mine.
My program can have an unlimited number of windows open on its custom
screen.  A single IDCMP port is created by the main task, and injected into
the window structure after it's created.

My question is this:  Is it legal or safe to have the window opened by a
sub-task, but closed later by the main task, or vice-versa?

The possible sequences of events are as follows:

1 - Main task spawns subtask.  Subtask loads an image, and if successful,
opens a window.  Subtask exits.  Window is closed later by the main task.

2 - Main task opens window, then spawns subtask.  Subtask loads an image
and closes window if unsuccessful.  Subtask exits.  Window is closed by main
task.

3 -  Main task opens window, then spawns subtask.  Subtask loads an image
and if unsuccessful, signals main task, which closes window.

Method 1 is the easiest to retro-fit to my program, but is it safe?

In the meantime, would anyone be prepared to test my program on a graphics
card?

So far I've written display code for AGA 2-8 plane, 6 & 8 plane HAM, LUT
CyberGfx and 24-bit CyberGfx, but I don't have a graphics card, so can't
test the CGFX code!

Send me a private mail if you'd be willing to try it out for me, and don't
mind receiving a 100k lzx archive by email.

All the best,
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

The Light at the End of the Tunnel Could be a flame thrower.

@ENDNODE
@NODE "Mail_81" " Re: Multithreading + gfx cards "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 12-12-99 03:38:41
Subject: @{b}Re: Multithreading + gfx cards@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 12-Dec-99, Alastair M. Robinson wrote:
> My question is this: Is it legal or safe to have the window opened by
> a sub-task, but closed later by the main task, or vice-versa?

No....

I had trouble just with "Text"  functions writing to the maintask's
rastport.   It crashed randomly,  at the finish, I simply used
my sub task to fill a buffer with the ascii then Signal() the main 
task to render it...

Closing windows etc....   and I suspect a lot of Gfx & Intu functions
depend on task information to track resourses.

If the task  /changes /  in mid-stream,  havoc breaks out.....
I have no documentary evidence to prove my theory,  
only lots of experience with doing things a  /different /  way. 

I would strongly suggest at *ALL TIMES*  use the same task
to de-allocate & free resources, that originally allocated them.

A suggestion:   Just use a shared variable as a pointer to
an  inter-task message,  or just a flag or a pair of flags,
of somesort if you want.

Use this to tell the main task what to do, from the subtask. 

( do not forget to call  geta4()  from your subtask as soon
   as it starts,  before attempting  to access global data.  )   

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

> 
> The possible sequences of events are as follows:
> 
> 1 - Main task spawns subtask. Subtask loads an image, and if
> successful, opens a window. Subtask exits. Window is closed later by
> the main task.
> 
> 2 - Main task opens window, then spawns subtask. Subtask loads an
> image and closes window if unsuccessful. Subtask exits. Window is
> closed by main task.
> 
> 3 - Main task opens window, then spawns subtask. Subtask loads an
> image and if unsuccessful, signals main task, which closes window.
> 
> Method 1 is the easiest to retro-fit to my program, but is it safe?
> 
> In the meantime, would anyone be prepared to test my program on a
> graphics card?
> 
> So far I've written display code for AGA 2-8 plane, 6 & 8 plane HAM,
> LUT CyberGfx and 24-bit CyberGfx, but I don't have a graphics card,
> so can't test the CGFX code!
> 
> Send me a private mail if you'd be willing to try it out for me, and
> don't mind receiving a 100k lzx archive by email.
> 
> All the best,
Regards
-- 

@ENDNODE
@NODE "Mail_82" " Re: Some questions "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 12-12-99 10:03:24
Subject: @{b}Re: Some questions@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

Hello Duane

> You should also consider a normal Intuition screen. IDCMP doesn't
> really involve that much extra overhead if you're not interested
> in mouse movement events and you can have RTG support if need be.
> The SA_Exclusive tag can be used for taking control of the full
> screen real estate and to prevent screen dragging. 

Yes, but i cant get idcmp events only by windows. Screens cant !!

>It isn't nice
> filtering events under these circumstances but I really can't see
> the point in preventing the user from screen cycling (in fact,
> some demo coders go to great lengths to ensure that their display
> hardware takeover code is still capable of allowing screen cycling,
> but you get this for free with system screens).
> 
> If you need example event filtering code or display hardware
> takeover code let me know (they're in asm though, this sort
> of stuff usually is).

Ok, what i'll do is to setup a CGFX screen (640x480x8) ans open a
backdrop | borderless window. I'll catch every IDCMP events.

Now i got an other prob. I want to double buffer this window. How can i do
it in CGFX ??? I mean, all docs i have deals with double buffer in planar.
Is it a different way to handle it with a CGFX screen ?

If some1 have some example, i'll be glad to have some...
 

Regards

@ENDNODE
@NODE "Mail_83" " bsdsocket help needed "
From: David McMinn <dave@satanicdreams.com>
Date: 12-12-99 12:55:54
Subject: @{b}bsdsocket help needed@{ub}

Hello

I'm faffing around with the bsdsocket.library and am currently trying to connect
to a server asynchronously. I've read the docs and checked out the examples, but
my connection never seems to take place (or I never recieve the event telling me
this). Has anyone got any example code for
this? Failing that, could people take a look at the attached code and tell me
where I've gone wrong.

Thanks.

-- 
[) /\ \/ ][ [)   |\/| © |\/| ][ |\| |\|   |   dave@satanicdreams.com
   http://members.xoom.com/David_McMinn   |   ICQ = 16827694
IRS: We've got what it takes to take what you've got.

@ENDNODE
@NODE "Mail_84" " Re: Re: Some questions "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-12-99 14:02:01
Subject: @{b}Re: Re: Some questions@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>


>> You should also consider a normal Intuition screen. IDCMP doesn't
>> really involve that much extra overhead if you're not interested
>> in mouse movement events and you can have RTG support if need be.
>> The SA_Exclusive tag can be used for taking control of the full
>> screen real estate and to prevent screen dragging. 

>Yes, but i cant get idcmp events only by windows. Screens cant !!

Well, of course not. I figured you'd know what I meant (you have to
assume some knowledge when replying to messages, otherwise you end
up re-writing the RKMs each time ;)

>>It isn't nice
>> filtering events under these circumstances but I really can't see
>> the point in preventing the user from screen cycling (in fact,
>> some demo coders go to great lengths to ensure that their display
>> hardware takeover code is still capable of allowing screen cycling,
>> but you get this for free with system screens).
>> 
>> If you need example event filtering code or display hardware
>> takeover code let me know (they're in asm though, this sort
>> of stuff usually is).

>Ok, what i'll do is to setup a CGFX screen (640x480x8) ans open a
>backdrop | borderless window. I'll catch every IDCMP events.

Okay, so I gather you've changed your requirement for preventing
the user from screen cycling? That's a Good Thing :)

>Now i got an other prob. I want to double buffer this window. How can i do
>it in CGFX ??? I mean, all docs i have deals with double buffer in planar.
>Is it a different way to handle it with a CGFX screen ?

Not really, I think most people just use ScrollVPort(). Maybe CGFX
supports ChangeVPBitMap() now, you'll have to check the SDK.

@ENDNODE
@NODE "Mail_85" " Overflow "
From: Lee Atkins <lee@loonyjuicesoftware.freeserve.co.uk>
Date: 12-12-99 15:05:49
Subject: @{b}Overflow@{ub}

From: Lee Atkins <lee@loonyjuicesoftware.freeserve.co.uk>

Hello,

Heres a question about C in general.

Say I have some code :-

unsigned char T1, T2, T3;

....

if( ( T1 + ( (T2-T3)*11/4 ) ) > 205)
{
  do whatever
}

Am I right in thinking that the fact that T1,T2 and T3 are unsigned chars
doesnt matter if say T3 is bigger than T2.  
What size of storage will the compiler use to calculate the expression to compare
to 205?  Will there be any problems with the expression over/under flowing?

Hope that makes sense.

Lee.

@ENDNODE
@NODE "Mail_86" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 12-12-99 17:20:43
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

On 02-Dec-99, Nuno Trancoso wrote:


> A guy once told me that C++ makes code bigger and slower. Anyone cares to
> comment on that?
> 
> Cya L8r,
> 
> DarkShadow
> aka Nuno Trancoso

Absolutely! The purpose of C++, i think, has never been speed, and for some purposes, probably 'most', speed is irrelevant.

It seems that C++ causes a lot of structure copying, where you usually would work the structures directly via pointers in C. Speed vs. stability....

@ENDNODE
@NODE "Mail_87" " Re: Overflow "
From: Steven Dobbs <steven.dobbs@cableinet.co.uk>
Date: 12-12-99 17:35:14
Subject: @{b}Re: Overflow@{ub}

From: Steven Dobbs <steven.dobbs@cableinet.co.uk>

Hello Lee


> if( ( T1 + ( (T2-T3)*11/4 ) ) > 205)
> {
>  do whatever
> }

> Am I right in thinking that the fact that T1,T2 and T3 are unsigned chars
> doesnt matter if say T3 is bigger than T2. What size of storage will the
> compiler use to calculate the expression to compare to 205? Will there be
> any problems with the expression over/under flowing?

>From a course I did in c, I was told by the lecturer that in those sorts of
circumstances, c will take the type on the left and apply that. so I
_think_ its like this:

float f; unsigned char c;

(f*c) returns a float, but (c*f) will return an unsighned char. To force the
latter to return a float, you do this, (float)c*f 

in the same way, f*c can be made to return an unsigned char with (unsighned
char)f*c

in your equation

T1 + ( (T2-T3)*11/4 ) ) > 205)

11 and 4 are considered integers so will probably return for 11/4 the value
2. if you want fractional values for 11/4, perhaps this will work 11.0/4.0
or definately 

T1 + ( (T2-T3)*(float)11/4 ) ) > 205)

I hope thats correct and that it helps.

Regards
-- 
Steven Dobbs

@ENDNODE
@NODE "Mail_88" " Re: Re: Overflow "
From: "James S. Adelman" <j.adelman@ukonline.co.uk>
Date: 12-12-99 22:41:02
Subject: @{b}Re: Re: Overflow@{ub}

From: "James S. Adelman" <j.adelman@ukonline.co.uk>

Steven Dobbs wrote on Sun, 12 Dec 1999 17:35:14 +0100 in »PRIV.amiga-c:

> From: Steven Dobbs <steven.dobbs@cableinet.co.uk>
> 
> Hello Lee
> 
> 
> > if( ( T1 + ( (T2-T3)*11/4 ) ) > 205)
> > {
> >  do whatever
> > }
> 
> > Am I right in thinking that the fact that T1,T2 and T3 are unsigned chars
> > doesnt matter if say T3 is bigger than T2. What size of storage will the
> > compiler use to calculate the expression to compare to 205? Will there be
> > any problems with the expression over/under flowing?
> 
> From a course I did in c, I was told by the lecturer that in those sorts of
> circumstances, c will take the type on the left and apply that. so I
> _think_ its like this:
> 
> float f; unsigned char c;
> 
> (f*c) returns a float, but (c*f) will return an unsighned char. To force the
> latter to return a float, you do this, (float)c*f 
> 
> in the same way, f*c can be made to return an unsigned char with (unsighned
> char)f*c
> 
> in your equation
> 
> T1 + ( (T2-T3)*11/4 ) ) > 205)
> 
> 11 and 4 are considered integers so will probably return for 11/4 the value
> 2. if you want fractional values for 11/4, perhaps this will work 11.0/4.0
> or definately 
> 
No, it should multiply by 11, and then divide by 4, then add T1, then
compare the char representation of 205.  If the values that T1, T2 and
T3 take are restricted, it may be the case that the error introduced
can be ignored (if the values 205-206 are not possible for the
whole expression, just use 11L to avoid overflow) or resolved using
byte arithmetic.

> T1 + ( (T2-T3)*(float)11/4 ) ) > 205)
> 
Better anyway to use 2.75 in place of (float)11/4, but even better is 

if (
(
(4*T1)
+(11*(T2-T3))
-820
)
>0
)
{...

(multiplied both sides by 4, and subtracted the resultant 820.)

Far more efficient, since you are using only integers, and 820 is per se long.
But the 2.75 version is probably more readable.

> I hope thats correct and that it helps.
> 
> Regards
> -- 
> Steven Dobbs
> 
> >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 

-- 
James Samuel Adelman
Liverpool
--
#sci.psychology.psychotherapy on DAL.net 
use server viking.dal.net or webbernet.dal.net
This IRC channel is open to anyone with an interest in psychology.

@ENDNODE
@NODE "Mail_89" " Re: Code for startup.o "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 12-12-99 23:07:32
Subject: @{b}Re: Code for startup.o@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Sat, 11 Dec 1999, Allan Odgaard wrote:

> Where can I find the source for 'vbccm68k:lib/startup.o'? It doesn't seem to be
> included in any of the two vbcc source archives.

It's a slightly modified version of the startup-code from the nduk40.
IIRC only object-code may be distributed without restrictions.

Volker

@ENDNODE
@NODE "Mail_90" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Jonas Hulten <bjonte@hem2.passagen.se>
Date: 12-13-99 00:12:56
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Jonas Hulten <bjonte@hem2.passagen.se>

Den 12-Dec-99, skrev Steffen:

> From: Steffen <steffen.mars@stenloese.mail.telia.com>

>> A guy once told me that C++ makes code bigger and slower. Anyone cares to
>> comment on that?

> Absolutely! The purpose of C++, i think, has never been speed, and for
> some purposes, probably 'most', speed is irrelevant.

> It seems that C++ causes a lot of structure copying, where you usually
> would work the structures directly via pointers in C. Speed vs.
> stability....

I don't think C++ in itself causes more structure copying than C, it's just
that you can use it or misuse it as you can use or misuse C. Structure
copying can be avoided in C++ as it can in C in most cases.

I don't think that the object oriented nature of C++ makes it slower, it
just makes programs easier to write. You can do the same in C it just takes
more code to do it. The first C++ compilers compiled to C first, so it is
mostly some added nice syntax.

/Jonas

-- 
0 "MEAT IS MURDER  " GRRRL
48   "JETPAC"           PRG
20   "JELLY MONSTERS"   PRG
32   "µBEE"             REL
42   "VECTREX"          REL
604  "A4000"            L?<
64 BLOCKS FREE.

@ENDNODE
@NODE "Mail_91" " Re: Re: Overflow "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 12-13-99 02:07:00
Subject: @{b}Re: Re: Overflow@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Sun, 12 Dec 1999, Steven Dobbs wrote:

> Hello Lee
> 
> 
> > if( ( T1 + ( (T2-T3)*11/4 ) ) > 205)
> > {
> >  do whatever
> > }
> 
> > Am I right in thinking that the fact that T1,T2 and T3 are unsigned chars
> > doesnt matter if say T3 is bigger than T2. What size of storage will the
> > compiler use to calculate the expression to compare to 205?

The expression will be computed as int.

> >From a course I did in c, I was told by the lecturer that in those sorts of
> circumstances, c will take the type on the left and apply that. so I
> _think_ its like this:
> 
> float f; unsigned char c;
> 
> (f*c) returns a float, but (c*f) will return an unsighned char.

*shudder*! Of course not. The type a subexpression is computed with 
depends on the type of its operands, not left or right.

First, short types ([unsigned] char/short) are promoted to signed int (if
the entire value range of the type fits into a signed int) or unsigned int
(otherwise). On the Amiga always signed int will be chosen.

After both operands have been promoted, the type with the bigger value
range is chosen to compute the expression. If none of the types is a
subset of the other one, the unsigned attribute will be preserved.

This is done for each subexpression according to associativity, e.g. in

short s;int i;long l;
s*i*l

s will be promoted to int and s*i computed as int. Then the result will be
promoted to long and multiplied with l.

In l*i*s all subexpressions would be computed as longs but that is due to
associativity (l*i is computed first).

> in your equation
> 
> T1 + ( (T2-T3)*11/4 ) ) > 205)
> 
> 11 and 4 are considered integers so will probably return for 11/4 the value
> 2.

No. Unless parentheses are used the associativity is left-to-right for the
typical arithmetic operators. Therefore (T2-T3) will first be multiplied
by 11 and then divided by 4. A compiler must not rearrange this unless it
can ensure that the result will be the same (which is clearly not the case
here).

Volker

@ENDNODE
@NODE "Mail_92" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 12-13-99 11:03:58
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello Jonas

On 12-Dec-99, Jonas Hulten wrote:
> From: Jonas Hulten <bjonte@hem2.passagen.se>
> 
> I don't think that the object oriented nature of C++ makes it slower, it
> just makes programs easier to write. You can do the same in C it just takes
> more code to do it. The first C++ compilers compiled to C first, so it is
> mostly some added nice syntax.
> 

Actually, C++ does make for much larger, slower programs in many (imho,
probably most) cases. C++ classes are generic "black boxes" with code to do
all kinds of things that you may not need, use, or want in your application.

Regards Rod

@ENDNODE
@NODE "Mail_93" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-13-99 13:07:55
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 13-Dec-99, Rod Schnell wrote:

> Actually, C++ does make for much larger, slower programs in many (imho,
> probably most) cases.

People do that, it has little to do with the language!

> C++ classes are generic "black boxes" with code to do
> all kinds of things

If you refer to things such as STL then this will often give better performance
than letting the programmer implement all the trivial stuff, as most STL
implementations are based on the best available algorithms, in contrary to
most programs.

> that you may not need, use, or want in your application.

I'm sure the optimizer will eliminate all dead code ;-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Press any key to continue or any other key to quit...

@ENDNODE
@NODE "Mail_94" " Re: Multithreading + gfx cards "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-13-99 13:14:34
Subject: @{b}Re: Multithreading + gfx cards@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 12-Dec-99, Colin Wenzel wrote:

> I had trouble just with "Text"  functions writing to the maintask's
> rastport.   It crashed randomly,  at the finish, I simply used
> my sub task to fill a buffer with the ascii then Signal() the main 
> task to render it...

This sounds weird.  Few OS structures contain e.g. a message port, and is
therefor bound to a certain task - but everybody can render to a rastport, so
I'm quite sure something else was wrong with your program.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
If you think nobody cares if you're alive, try missing a couple of car
payments.
-- Earl Wilson

@ENDNODE
@NODE "Mail_95" " bsdsocket help again "
From: David McMinn <dave@satanicdreams.com>
Date: 12-13-99 13:23:42
Subject: @{b}bsdsocket help again@{ub}

From: "David McMinn" <dave@satanicdreams.com>

Anyone look at that source I sent? I found a couple of errors, but it 
still seems to not connect. If anyone can help, mail me for the 
source I'm trying to get working (its only a coupe of k).

Thanks in advance.

-- 
|) /\ \/ ][ |)   |\/| © |\/| ][ |\| |\|   |   dave@satanicdreams.com
   http://members.xoom.com/David_McMinn   |   ICQ=16827694
Yeah Chewie's got a hair problem. What the brother gonna do? He's a wookie.
 - Samuel L. Jackson, Jedi

@ENDNODE
@NODE "Mail_96" " Re: Multithreading + gfx cards "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 12-13-99 14:44:11
Subject: @{b}Re: Multithreading + gfx cards@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 13-Dec-99, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> On 12-Dec-99, Colin Wenzel wrote:
>> I had trouble just with "Text"  functions writing to the maintask's
>> rastport.   It crashed randomly,  at the finish, I simply used
>> my sub task to fill a buffer with the ascii then Signal() the main 
>> task to render it...
> 
> This sounds weird. Few OS structures contain e.g. a message port, and
> is therefor bound to a certain task - but everybody can render to a
> rastport, so I'm quite sure something else was wrong with your
> program.

Actually there is nothing wrong with the program,
no wierd stuff happening,  no enforcer hits,  no nothing !!

It appears in this particular example that I had a sort-of
colliding Rastport problem,  (to coin a phrase)
The main task (which opened the screen & window)
CreatProc()'ed  the sub-task,
which (via A4)  had reference to the main tasks data segment,
the main task was writing to the Rastport at regular intervals
& when a special event occured,  the sub-task would render
Text() at a different location to the same rastport.

It appeared that if the 2 occured simultaneously,  
or at least, a task switch occured during a Text(),
a crash would happen.  
This happened rarely, but it did happen consistently.

So all I did,  was allocate an 80 byte static buffer,  
set up the Text() routine used only by the main task.

Then, all I did was (subtask) copy the text to the shared buffer 
& then Signal() the main task,  which was in Wait()  to render it....
When it rendered it, immediately after, it just did a (*buffer)=0  to 
terminate the buffer to prevent it being rendered again on any 
subsequent messages or signals.

Not a single problem after that,  so if anyone has a reasonable
explanation as to why this would occur, I would be pleased
to hear any *intelligent*  suggestions why. 
 
-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_97" " Assigns and Layers "
From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
Date: 12-13-99 16:46:23
Subject: @{b}Assigns and Layers@{ub}

From: Martyn Capewell <mmc28@hermes.cam.ac.uk>

Hello,

How can I find out if an assign exists? I've tried

    if(!(flock = Lock(<assign>,ACCESS_READ)))
    {
        // fail
    }

But this results in a requester popping up wanting me to insert the "assign"
into a drive, which if I cancel, results in a crash.

On an unrelated note, how do I make a window in which the background shows
through? I've tried installing a back fill hook, using
InstallLayerHook(rp->Layer,LAYERS_NOBACKFILL); but that doesn't seem to be
all I have to do.

Thanks,
-- 
- Martyn Capewell
    {   Compsci, University of Cambridge   }
    { http://members.xoom.com/legerdemain0 }

@ENDNODE
@NODE "Mail_98" " Re: Multithreading + gfx cards "
From: Ilkka Lehtoranta <iti@solutions.fi>
Date: 12-13-99 17:45:22
Subject: @{b}Re: Multithreading + gfx cards@{ub}

From: Ilkka Lehtoranta <iti@solutions.fi>

Hello Allan

On 13-Jou-99, you wrote:

AO>> I had trouble just with "Text"  functions writing to the maintask's
AO>> rastport.   It crashed randomly,  at the finish, I simply used
AO>> my sub task to fill a buffer with the ascii then Signal() the main 
AO>> task to render it...
AO> 
AO> This sounds weird. Few OS structures contain e.g. a message port, and is
AO> therefor bound to a certain task - but everybody can render to a
AO> rastport, so I'm quite sure something else was wrong with your program.

AFAIR you have to duplicate a rastport if you are renderining to the
rastport
from other processes... Although I couldn't verify this from autodocs or
RKM I recall this is mentioned somewhere in RKM (???)...

@ENDNODE
@NODE "Mail_99" " Re: Re: Multithreading + gfx cards "
From: Nicholas Clarke <nclarke@diku.dk>
Date: 12-13-99 18:13:35
Subject: @{b}Re: Re: Multithreading + gfx cards@{ub}

From: Nicholas Clarke <nclarke@diku.dk>

On Mon, 13 Dec 1999, Ilkka Lehtoranta wrote:

> From: Ilkka Lehtoranta <iti@solutions.fi>
> AO>> I had trouble just with "Text"  functions writing to the maintask's
> AO>> rastport.   It crashed randomly,  at the finish, I simply used
> AO>> my sub task to fill a buffer with the ascii then Signal() the main 
> AO>> task to render it...
> AO> 
> AO> This sounds weird. Few OS structures contain e.g. a message port, and is
> AO> therefor bound to a certain task - but everybody can render to a
> AO> rastport, so I'm quite sure something else was wrong with your program.
> 
> AFAIR you have to duplicate a rastport if you are renderining to the
> rastport
> from other processes... Although I couldn't verify this from autodocs or
> RKM I recall this is mentioned somewhere in RKM (???)...

Never ever use the same rastport to render from different processes. I
found out the hard way years ago that this is a really bad idea.

/ngc

@ENDNODE
@NODE "Mail_100" " Re: Re: Multithreading + gfx cards "
From: David McMinn <dave@satanicdreams.com>
Date: 12-13-99 19:12:45
Subject: @{b}Re: Re: Multithreading + gfx cards@{ub}

From: "David McMinn" <dave@satanicdreams.com>

Hi Colin

> It appeared that if the 2 occured simultaneously,  
> or at least, a task switch occured during a Text(),
> a crash would happen.  
> This happened rarely, but it did happen consistently.

Perhaps due to Text calling OwnBlitter. Although surely the one that 
got there first would finish on the next task switch and then your 
subtask would get it after that.


-- 
|) /\ \/ ][ |)   |\/| © |\/| ][ |\| |\|   |   dave@satanicdreams.com
   http://members.xoom.com/David_McMinn   |   ICQ=16827694
You cannot really appreciate Dilbert unless you've read
it in the original Klingon.

@ENDNODE
@NODE "Mail_101" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 12-13-99 20:09:59
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

On 13-Dec-99, Jonas Hulten wrote:

> From: Jonas Hulten <bjonte@hem2.passagen.se>
> 
> Den 12-Dec-99, skrev Steffen:
> 
>> From: Steffen <steffen.mars@stenloese.mail.telia.com>
> 
>>> A guy once told me that C++ makes code bigger and slower. Anyone cares to
>>> comment on that?
> 
>> Absolutely! The purpose of C++, i think, has never been speed, and for
>> some purposes, probably 'most', speed is irrelevant.
> 
>> It seems that C++ causes a lot of structure copying, where you usually
>> would work the structures directly via pointers in C. Speed vs.
>> stability....
> 
> I don't think C++ in itself causes more structure copying than C, it's just
> that you can use it or misuse it as you can use or misuse C. Structure
> copying can be avoided in C++ as it can in C in most cases.
> 
> I don't think that the object oriented nature of C++ makes it slower, it
> just makes programs easier to write. You can do the same in C it just takes
> more code to do it. The first C++ compilers compiled to C first, so it is
> mostly some added nice syntax.

Example:

struct dummy{};

// The C way

Function(&dummy);

// The 'normal' or should i say 'recommended' C++ way

Function(dummy);

/*
Wich will cause Function() to receive a copy of dummy, not the actual structure. AFAIK. Ofcourse you may use the 'C' method in C++, but it's safer to work with a copy of the object instead of the object itself. I think it's a 'datahiding' thing so that you can make structures 'read-only' where aplicable.
*/

@ENDNODE
@NODE "Mail_102" " Re: Re: Multithreading + gfx cards "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-13-99 21:41:47
Subject: @{b}Re: Re: Multithreading + gfx cards@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>


>It appears in this particular example that I had a sort-of
>colliding Rastport problem,  (to coin a phrase)
>The main task (which opened the screen & window)
>CreatProc()'ed  the sub-task,
>which (via A4)  had reference to the main tasks data segment,
>the main task was writing to the Rastport at regular intervals
>& when a special event occured,  the sub-task would render
>Text() at a different location to the same rastport.

>It appeared that if the 2 occured simultaneously,  
>or at least, a task switch occured during a Text(),
>a crash would happen.  
>This happened rarely, but it did happen consistently.

Unless the RastPort has a Layer, it's not semaphore protected.
Without semaphore protection there's a veritable smorgasbord
of candidates lining up to ruin your day.

[snip]

>Not a single problem after that,  so if anyone has a reasonable
>explanation as to why this would occur, I would be pleased
>to hear any *intelligent*  suggestions why. 

Also be weary of any graphics.library patches you may have
installed, they may not be quite as robust as ROM code when
it comes to arbitration. Rendering from a single thread is
the safest and easiest option as you've discovered, but with
some gymnastics you can do it from multiple threads.

Cheers,

@ENDNODE
@NODE "Mail_103" " Re: Re: Multithreading + gfx cards "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-14-99 02:54:03
Subject: @{b}Re: Re: Multithreading + gfx cards@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>

>From: Nicholas Clarke <nclarke@diku.dk>

>On Mon, 13 Dec 1999, Ilkka Lehtoranta wrote:

>> From: Ilkka Lehtoranta <iti@solutions.fi>
>> AO>> I had trouble just with "Text"  functions writing to the maintask's
>> AO>> rastport.   It crashed randomly,  at the finish, I simply used
>> AO>> my sub task to fill a buffer with the ascii then Signal() the main 
>> AO>> task to render it...
>> AO> 
>> AO> This sounds weird. Few OS structures contain e.g. a message port, and
is
>> AO> therefor bound to a certain task - but everybody can render to a
>> AO> rastport, so I'm quite sure something else was wrong with your program.
>> 
>> AFAIR you have to duplicate a rastport if you are renderining to the
>> rastport
>> from other processes... Although I couldn't verify this from autodocs or
>> RKM I recall this is mentioned somewhere in RKM (???)...

>Never ever use the same rastport to render from different processes. I
>found out the hard way years ago that this is a really bad idea.

It's quite safe to do this for layered RastPorts. That's how Intuition
plonks menus, requesters and gadget image transitions etc. onto RastPorts
even though other tasks may have allocated/initialized them. Rendering
functions should do a LockLayerRom() if the RastPort has a Layer
associated with it. The lock effectively sets up semaphore protection
making multi-threaded rendering quite safe.

Non-layered RastPorts are the ones that cause all the grief, these are
better confined to single threaded accesses although you can certainly
make them safe for multi-threaded use if you really need to. You
probably don't though, it's a misconception that the more threads
you can have hurtling data at a RastPort the faster the update,
they actually have to wait for the previous guy to finish.

@ENDNODE
@NODE "Mail_104" " Re: Multithreading + gfx cards "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-14-99 08:22:29
Subject: @{b}Re: Multithreading + gfx cards@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 13-Dec-99, Colin Wenzel wrote:

>>> I had trouble just with "Text"  functions writing to the maintask's
>>> rastport. [...]
>> This sounds weird. Few OS structures contain e.g. a message port [...]
> Actually there is nothing wrong with the program,
> no wierd stuff happening,  no enforcer hits,  no nothing !!

Well, if you have two tasks accessing the same rastport without synchronization
then I'd argue there is something wrong, as only layer-structures are
protected against this, not rastports.  Simply add a semaphore or clone the
rastport for your subtask, and I'm sure all your problems will go away.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
I've never forgot my 1st Windows installation. But I'm still trying...

@ENDNODE
@NODE "Mail_105" " Can't do OpenLibrary ... "
From: Fabrice ROUSSELOT <faro@ocare.com>
Date: 12-14-99 10:56:42
Subject: @{b}Can't do OpenLibrary ...@{ub}

From: Fabrice ROUSSELOT <faro@ocare.com>

Hi,

In a new process, done with CreateNewProcTags, I can't open a library
(normally, I should be able to do that) and here is the error I get :



SAS/C_SMAKE 6.58 (27.12.96)
Copyright (c) 1988-1995 SAS Institute, Inc.
        sc libcode 3c503.c
        slink with temp_smk.tmp
Slink - Version 6.58
Copyright (c) 1988-1995 SAS Institute, Inc. All Rights Reserved.

Undefined Symbols       First Referenced
-----------------       ----------------
__XCEXIT                File 'lib:sc.lib'
Enter a DEFINE value for __XCEXIT (default ___stub):



When I open the library, it displays me this message, and when I change
this line in a comment line, there is no error during the compilation.

I think that it comes from my SAS configuration file (SCOPTIONS) but I
don't know wich flag it is.
Could you help me please ?

TIA
Fabrice.

@ENDNODE
@NODE "Mail_106" " Re: Re: Optimizing (Was: Re: Getting desperate!) "
From: Pieter Ennes <ennesp@wins.uva.nl>
Date: 12-14-99 15:00:56
Subject: @{b}Re: Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Pieter Ennes <ennesp@wins.uva.nl>

Hi amiga-c,

On Mon, 13 Dec 1999, Steffen wrote:

> From: Steffen <steffen.mars@stenloese.mail.telia.com>
> 
> On 13-Dec-99, Jonas Hulten wrote:
> 
> >>> A guy once told me that C++ makes code bigger and slower. Anyone cares to
> >>> comment on that?
> > 
> >> Absolutely! The purpose of C++, i think, has never been speed, and for
> >> some purposes, probably 'most', speed is irrelevant.
> > 
> >> It seems that C++ causes a lot of structure copying, where you usually
> >> would work the structures directly via pointers in C. Speed vs.
> >> stability....
> > 
> > I don't think C++ in itself causes more structure copying than C, it's just
> > that you can use it or misuse it as you can use or misuse C. Structure
> > copying can be avoided in C++ as it can in C in most cases.
> > 
> > I don't think that the object oriented nature of C++ makes it slower, it
> > just makes programs easier to write. You can do the same in C it just takes
> > more code to do it. The first C++ compilers compiled to C first, so it is
> > mostly some added nice syntax.
> 
> Example:
> 
> struct dummy{};
> 
> // The C way
> 
> Function(&dummy);
> 
> // The 'normal' or should i say 'recommended' C++ way
> 
> Function(dummy);

You think? In C++ you can also declare your function as:

void Function(dummy &dum);  // Prototype

In this case a 'reference' to dummy gets passed and you get something that
looks like a normal structure (with all advantages), but technically is a
pointer. You address it with a '.', not '->'.

> /*
> Wich will cause Function() to receive a copy of dummy, not the actual structure. AFAIK. Ofcourse you may use the 'C' method in C++, but it's safer to work with a copy of the object instead of the object itself. I think it's a 'datahiding' thing so that you can make structures 'read-only' where aplicable.
> */

Using such a reference, you are able to 'const' anything you like...

Regards, Pieter.

@ENDNODE
@NODE "Mail_107" " Re: Assigns and Layers "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 12-14-99 19:45:15
Subject: @{b}Re: Assigns and Layers@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Martyn,

On 13-Dec-99 you wrote: [amiga-c] Assigns and Layers

> But this results in a requester popping up wanting me to insert the
> "assign" into a drive, which if I cancel, results in a crash.

I'm not sure what might be causing your crash, but to get rid of the
requester you could change your process window pointer to -1, this
tells DOS not to open error requesters related to your process, for
example:

BPTR MyLock;
struct Process *Proc = (struct Process *) FindTask(NULL);
APTR OldWinPtr = Proc->pr_WindowPtr;
Proc->pr_WindowPtr = (APTR) -1;

MyLock = Lock("<<Assign Name>>", SHARED_LOCK);

if (MyLock)
{
    /* Assign does exist */

    UnLock(MyLock);
}
else
{
    /* Assign does not exist */
}

/* Always replace the old WindowPtr! */

Proc->pr_WindowPtr = OldWinPtr;

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
Verbing weirds language - Calvin

@ENDNODE
@NODE "Mail_108" " Re: Multithreading + gfx cards "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 12-14-99 20:04:14
Subject: @{b}Re: Multithreading + gfx cards@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello Ilkka

On 13-Dec-99, Ilkka Lehtoranta wrote:
> From: Ilkka Lehtoranta <iti@solutions.fi>
> 
> Hello Allan
> 
> On 13-Jou-99, you wrote:
> 
>>> I had trouble just with "Text"  functions writing to the maintask's
>>> rastport.   It crashed randomly,  at the finish, I simply used
>>> my sub task to fill a buffer with the ascii then Signal() the main 
>>> task to render it...
>> 
>> This sounds weird. Few OS structures contain e.g. a message port, and is
>> therefor bound to a certain task - but everybody can render to a
>> rastport, so I'm quite sure something else was wrong with your program.
> 
> AFAIR you have to duplicate a rastport if you are renderining to the
> rastport
> from other processes... Although I couldn't verify this from autodocs or
> RKM I recall this is mentioned somewhere in RKM (???)...
> 

Sounds like ObtainGIRPort() docs regarding gadgets...

    struct RastPort *ObtainGIRPort( struct GadgetInfo * );

    FUNCTION
    Sets up a RastPort for use (only) by custom gadget hook routines.
    This function must be called EACH time a hook routine needing
    to perform gadget rendering is called, and must be accompanied
    by a corresponding call to ReleaseGIRPort().

    Note that if a hook function passes you a RastPort pointer,
    e.g., GM_RENDER, you needn't call ObtainGIRPort() in that case.

Regards Rod

@ENDNODE
@NODE "Mail_109" " Re: Multithreading + gfx cards "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 12-14-99 20:13:14
Subject: @{b}Re: Multithreading + gfx cards@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello Colin

On 13-Dec-99, Colin Wenzel wrote:
> From: Colin Wenzel <colstv@hotkey.net.au>
> 
> Not a single problem after that,  so if anyone has a reasonable
> explanation as to why this would occur, I would be pleased
> to hear any *intelligent*  suggestions why. 
> 

I ran into a similar problem once, which I fixed by moving the code into a
gadget rendering hook. I assume the reason this was so, is that the rport,
which was a gadget rport, needed to run on the gadget's context. Gadget
render hooks do run on gadget context while the code that didn't work right
ran on application context.

Regards Rod

@ENDNODE
@NODE "Mail_110" " RE: Assigns and Layers "
From: Jesper Svennevid <jesper@fxrealm.com>
Date: 12-14-99 21:11:04
Subject: @{b}RE: Assigns and Layers@{ub}

From: Jesper Svennevid <jesper@fxrealm.com>

> How can I find out if an assign exists? I've tried
> 
>     if(!(flock = Lock(<assign>,ACCESS_READ)))
>     {
>         // fail
>     }
> 
> But this results in a requester popping up wanting me to 
> insert the "assign"
> into a drive, which if I cancel, results in a crash.
> 
> On an unrelated note, how do I make a window in which the 
> background shows
> through? I've tried installing a back fill hook, using
> InstallLayerHook(rp->Layer,LAYERS_NOBACKFILL); but that 
> doesn't seem to be
> all I have to do.

You could prevent all requesters from appearing, but
you might want to have all other requesters enabled, so
I recommend you have a look at the doslists in
dos.library. They allow you to search for named volumes
and assigns, without popping a requester if the name
is not found.

-- 
// Jesper Svennevid : jesper@fxrealm.com

@ENDNODE
@NODE "Mail_111" " Re: Assigns and Layers "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-14-99 21:42:07
Subject: @{b}Re: Assigns and Layers@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 13-Dec-99, Martyn Capewell wrote:

> On an unrelated note, how do I make a window in which the background shows
> through?

Specify "WA_BackFill, LAYERS_NOBACKFILL" while creating the window, it'll be
too late to fix it afterwards.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
I think that God in creating man somewhat overestimated his ability.
-- Oscar Wilde

@ENDNODE
@NODE "Mail_112" " Re: Multithreading + gfx cards "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 12-15-99 02:14:35
Subject: @{b}Re: Multithreading + gfx cards@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 15-Dec-99, Rod Schnell wrote:
> Hello Colin
> On 13-Dec-99, Colin Wenzel wrote:
>> Not a single problem after that,  so if anyone has a reasonable
>> explanation as to why this would occur, I would be pleased
>> to hear any *intelligent*  suggestions why. 
> 
> I ran into a similar problem once, which I fixed by moving the code
> into a gadget rendering hook. I assume the reason this was so, is
> that the rport, which was a gadget rport, needed to run on the
> gadget's context. Gadget render hooks do run on gadget context while
> the code that didn't work right ran on application context.
> Regards Rod

Aha !!!,  now we're getting somewhere,  I forgot to mention that I have
about 20 bool gadgets hanging off that same window too....

It never occurred to me to mention it before....

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_113" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 12-15-99 08:34:02
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

On 14-Dec-99, Pieter Ennes wrote:

> From: Pieter Ennes <ennesp@wins.uva.nl>
> 
> Hi amiga-c,
> 
> On Mon, 13 Dec 1999, Steffen wrote:
> 
>> From: Steffen <steffen.mars@stenloese.mail.telia.com>
>> 
>> On 13-Dec-99, Jonas Hulten wrote:
>> 
>>>>> A guy once told me that C++ makes code bigger and slower. Anyone cares to
>>>>> comment on that?
>>> 
>>>> Absolutely! The purpose of C++, i think, has never been speed, and for
>>>> some purposes, probably 'most', speed is irrelevant.
>>> 
>>>> It seems that C++ causes a lot of structure copying, where you usually
>>>> would work the structures directly via pointers in C. Speed vs.
>>>> stability....
>>> 
>>> I don't think C++ in itself causes more structure copying than C, it's just
>>> that you can use it or misuse it as you can use or misuse C. Structure
>>> copying can be avoided in C++ as it can in C in most cases.
>>> 
>>> I don't think that the object oriented nature of C++ makes it slower, it
>>> just makes programs easier to write. You can do the same in C it just takes
>>> more code to do it. The first C++ compilers compiled to C first, so it is
>>> mostly some added nice syntax.
>> 
>> Example:
>> 
>> struct dummy{};
>> 
>> // The C way
>> 
>> Function(&dummy);
>> 
>> // The 'normal' or should i say 'recommended' C++ way
>> 
>> Function(dummy);
> 
> You think? In C++ you can also declare your function as:

Try reading the words 'normal' and 'recommended' again.

> void Function(dummy &dum);  // Prototype

Yes, i know. That's why i didn't write it was the *only* way to do it. If you're absolutely sure you know what you're doing, you can use that aproach, but it is still safer to work with structures that are read-only, wich is what i see is one of the points of C++, to make the programs more stable (and easier to write, especially with big progs).

> In this case a 'reference' to dummy gets passed and you get something that
> looks like a normal structure (with all advantages), but technically is a
> pointer. You address it with a '.', not '->'.

Have i claimed otherwise ?

>> /*
>> Wich will cause Function() to receive a copy of dummy, not the actual structure. AFAIK. Ofcourse you may use the 'C' method in C++, but it's safer to work with a copy of the object instead of the object itself. I think it's a 'datahiding' thing so that you can make structures 'read-only' where aplicable.
>> */
> 
> Using such a reference, you are able to 'const' anything you like...

What has constants got to do with it ?

@ENDNODE
@NODE "Mail_114" " Compiling for PPC "
From: Kim Sindalsen <sindalsen@yahoo.dk>
Date: 12-15-99 09:42:11
Subject: @{b}Compiling for PPC@{ub}

From: =?iso-8859-1?q?Kim=20Sindalsen?= <sindalsen@yahoo.dk>

Hi,

I've got a working GeekGadgets (GCC) installation
(managed to compile the Apache-server at least), and
would like what's needed before I can compile for the
PPC-cpu ???

Kim Sindalsen
______________________________________________________
Do You Yahoo!?
Få en gratis @yahoo.dk-adresse på http://mail.yahoo.dk

@ENDNODE
@NODE "Mail_115" " Re: Re: Assigns and Layers "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 12-15-99 10:23:25
Subject: @{b}Re: Re: Assigns and Layers@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Dec 14 Allan (Allan Odgaard) wrote:

> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 13-Dec-99, Martyn Capewell wrote:
> 
> > On an unrelated note, how do I make a window in which the background shows
> > through?
> 
> Specify "WA_BackFill, LAYERS_NOBACKFILL" while creating the window, it'll be
> too late to fix it afterwards.

   Take care. Due to a bug in layers.library V39 the layer created can still
be erased when it appears. It helps to make the layer created of the simple
refresh type.

-- 
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

@ENDNODE
@NODE "Mail_116" " Re: Re: Multithreading + gfx cards "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-15-99 10:33:12
Subject: @{b}Re: Re: Multithreading + gfx cards@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>

>From: Colin Wenzel <colstv@hotkey.net.au>

>On 15-Dec-99, Rod Schnell wrote:
>> Hello Colin
>> On 13-Dec-99, Colin Wenzel wrote:
>>> Not a single problem after that,  so if anyone has a reasonable
>>> explanation as to why this would occur, I would be pleased
>>> to hear any *intelligent*  suggestions why. 
>> 
>> I ran into a similar problem once, which I fixed by moving the code
>> into a gadget rendering hook. I assume the reason this was so, is
>> that the rport, which was a gadget rport, needed to run on the
>> gadget's context. Gadget render hooks do run on gadget context while
>> the code that didn't work right ran on application context.
>> Regards Rod

>Aha !!!,  now we're getting somewhere,  I forgot to mention that I have
>about 20 bool gadgets hanging off that same window too....

>It never occurred to me to mention it before....

Just so that you don't miss the forest for the trees, go back and read
Allan's and my replies regarding Layers. Your description of not being
able to call Text() on a RastPort created by another task clearly points
towards a Layer problem. That was the fault you described, if you
recall.

@ENDNODE
@NODE "Mail_117" " ASM->C "
From: Roger Light <rogerlight@mindless.com>
Date: 12-15-99 15:09:10
Subject: @{b}ASM->C@{ub}

From: Roger Light <rogerlight@mindless.com>

Hi all,

I've been looking at the ProNET package source a bit to try and figure
out how it all works. Now a lot of the source is in ASM, which isn't my
flavour of choice. Not that I've got anything against it, it's just not
something that I've particularly used much. So I want to convert the
source to C so that I can understand better what is being done. My
question is this - is anybody willing to convert some or all of one of
the source code files or else give me some pointers on how to convert
it. The file I'm looking at is ~350 lines long I think......

Cheers,

Roger

@ENDNODE
@NODE "Mail_118" " SUPERBITMAP window and cgfx "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 12-15-99 17:48:39
Subject: @{b}SUPERBITMAP window and cgfx@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

hi

How can i setup a SUPERBITMAP window (640x(480*3)x8) in a CyberGraphix
screen (640x480) ?? (i mean how to setup bitmap and so on...)


regards

@ENDNODE
@NODE "Mail_119" " picture.datatype "
From: Rod Schnell <rodsch@telusplanet.net>
Date: 12-15-99 20:00:57
Subject: @{b}picture.datatype@{ub}

From: Rod Schnell <rodsch@telusplanet.net>

Hello,

  I have an array of struct ColorRegister and block of planar data that uses
those colors. The data was loaded from a file, but is not a bitmap, nor is
it aligned. I want to create a properly aligned bitmap from the 2 data
blocks and then remap that bitmap to use pubscreen colors. Seems like
picture.datatype could do the job, but after reading it's autodocs, I'm a bit
confused about how to use it. ;)

Suggestions or examples anyone? 

I'm open to trying any solutions, not just datatypes ones.

Regards Rod

@ENDNODE
@NODE "Mail_120" " Re: Assigns and Layers "
From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
Date: 12-15-99 20:11:55
Subject: @{b}Re: Assigns and Layers@{ub}

From: Martyn Capewell <mmc28@hermes.cam.ac.uk>

Hello Olaf

On 15-Dec-99, you wrote:

> From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>
> 
> On Dec 14 Allan (Allan Odgaard) wrote:
> 
>> From: Allan Odgaard <Duff@DIKU.DK>
>> 
>> On 13-Dec-99, Martyn Capewell wrote:
>> 
>> On an unrelated note, how do I make a window in which the background
>> shows through?
>> 
>> Specify "WA_BackFill, LAYERS_NOBACKFILL" while creating the window, it'll
>> be too late to fix it afterwards.
> 
>   Take care. Due to a bug in layers.library V39 the layer created can
> still be erased when it appears. It helps to make the layer created of the
> simple refresh type.

And v40 too. I couldn't get Allan's suggestion to work, and then I came
across your mail, made the window simple, and it worked. Thanks.

Now, how do I update the transparent image if I move the window?
 
Regards
-- 
- Martyn Capewell
    {   Compsci, University of Cambridge   }
    { http://members.xoom.com/legerdemain0 }

@ENDNODE
@NODE "Mail_121" " lowlevel.library and 060 "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 12-15-99 23:03:52
Subject: @{b}lowlevel.library and 060@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi All,

Somewhile ago someone mentioned that lowlevel.library ReadJoyPort() has timing
problems on 060 based systems. 
I`ve just sent a copy of my current project (which runs under WarpUp) to a
friend with an 060 system and he reports a PPC exception. After some fiddling
I removed the joypad reading code and it worked. 

Can anyone confirm or deny this problem? 
Does anyone have some joypad reading code either in C or PPC assembler?



-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_122" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-16-99 02:52:47
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 15-Dec-99, Steffen wrote:

[ calling with a pointer vs. an instance ]
> Yes, i know. That's why i didn't write it was the *only* way to do it. If
> you're absolutely sure you know what you're doing, you can use that aproach,

hmm... you should also know what you're doing, when calling with a copy of the
object. Since all member functions that change instance data variables, will
have no permanent effect.

> but it is still safer to work with structures that are read-only, wich is
> what i see is one of the points of C++ [...]

Well, you could declare the read-only instance data as 'protected' and provide
member functions which would return the variables. This will give you the same
advantage, perhaps even better, as you'd get a compiler warning, when trying
to overwrite the data (in contrary to your 'recommended' solution) - and you
won't suffer from any cpu and/or code overhead.

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Diz Microsoft spelcheker is 100% bug fri.

@ENDNODE
@NODE "Mail_123" " Antwort: Compiling for PPC "
From: Raimund.Dold@bgt.de
Date: 12-16-99 07:59:59
Subject: @{b}Antwort: Compiling for PPC@{ub}

From: Raimund.Dold@bgt.de


Hi,

you need a m68k->ppc cross compiler and a ppc link library. Probably, you
have to build the cross compiler on your own. Try configuring gcc ( the
last one I tried was egcs 1.1.2) configure --target=ppc-amigaos
--prefix=/gg. You can find cc1 executables on the net at paladins(sorry, I
do not have a url at the moment, mail me to raimund@swol.de, I have it at
home) home page including a libnix ppc lib.  I prefer the ixemulppc lib
from Holger Jakob, follow the link at H&P PPC world.

Raimund






Kim Sindalsen <sindalsen@yahoo.dk> on 15.12.99 07:42:11

Bitte antworten an amiga-c@onelist.com

An:   amiga-c@onelist.com
Kopie:
Thema:    [amiga-c] Compiling for PPC


From: =?iso-8859-1?q?Kim=20Sindalsen?= <sindalsen@yahoo.dk>
@ENDNODE
@NODE "Mail_124" " Re: lowlevel.library and 060 "
From: Stefan Schulze <stefan@dreamworlds.de>
Date: 12-16-99 21:50:16
Subject: @{b}Re: lowlevel.library and 060@{ub}

From: Stefan Schulze <stefan@dreamworlds.de>

Hi Tim, 

Du warst am 15-Dez-99 an Deinem Rechner und schriebst über [amiga-c]
lowlevel.library and 060:

> From: Tim Hanson <msinister@connectfree.co.uk>

> Hi All,

> Somewhile ago someone mentioned that lowlevel.library ReadJoyPort() has
> timing problems on 060 based systems. I`ve just sent a copy of my current
> project (which runs under WarpUp) to a friend with an 060 system and he
> reports a PPC exception. After some fiddling I removed the joypad reading
> code and it worked.

> Can anyone confirm or deny this problem? 
> Does anyone have some joypad reading code either in C or PPC assembler?

Never had any problems on any cpu. I did already used the lowlevel.lib on 030,
040, 060, 603e, 604e.  

Bye, Stefan.
-- 
"The dream has led me - And i will follow into the glowing fire." (Lacrimosa)
Dreamworlds Development - www.dreamworlds.de

XFire I/II, YATAG, VoxelRace, Between The Lines

@ENDNODE
@NODE "Mail_125" " Re: Optimizing (Was: Re: Getting desperate!) "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 12-17-99 12:40:28
Subject: @{b}Re: Optimizing (Was: Re: Getting desperate!)@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

On 16-Dec-99, Allan Odgaard wrote:

> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 15-Dec-99, Steffen wrote:
> 
>> but it is still safer to work with structures that are read-only, wich is
>> what i see is one of the points of C++ [...]
> 
> Well, you could declare the read-only instance data as 'protected' and provide
> member functions which would return the variables. This will give you the same
> advantage, perhaps even better, as you'd get a compiler warning, when trying
> to overwrite the data (in contrary to your 'recommended' solution) - and you
> won't suffer from any cpu and/or code overhead.

Or 'private' ; but there is another risk involved when using pointers, as you might risk having a pointer to a structure that has been discarded. But its all an entirely different matter, when you write software that other people are using (such as texteditor.mcc :)), at wich point, it's appreciated that cpu-overhead is a thing that is taken into account. But i must confess, the classes i'm writing uses pointers extensively ;-) It CAN be risky-buisness though.

Let me allso point out that i think it is sad that C++ has a relatively bad reputation, just because old C programmers uses a C aproach, instead of using the advantages of ++, such as the object-oriented nature. I don't see C++ as a superior language, but it has its justification just like any other language, just for different purposes.

@ENDNODE
@NODE "Mail_126" " Get CurrentDir Name "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 12-19-99 10:27:23
Subject: @{b}Get CurrentDir Name@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

SHORT:
I need to get the name (ASCII) of my CurrentDir. I tried GetCurrentDirName(), but it seems it just returns what has been set via SetCurrentDirName() (it's taken from the CLI structure), so when i CD ( CurrentDir() ) it has no effect ( it still returns the dir i started the program from).

I CD to argv, so that if argv is just an assign, i get the actual path. Just like when i type ' CD S: ' from dos, calling ' CD ' will then tell me that im at ' Main:S ' (for instance).

Thank you...

@ENDNODE
@NODE "Mail_127" " Re: Get CurrentDir Name "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-19-99 20:25:26
Subject: @{b}Re: Get CurrentDir Name@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>

>From: Steffen <steffen.mars@stenloese.mail.telia.com>

>SHORT:
>I need to get the name (ASCII) of my CurrentDir. I tried GetCurrentDirName(),
>but it seems it just returns what has been set via SetCurrentDirName() (it's
>taken from the CLI structure), so when i CD ( CurrentDir() ) it has no effect
>( it still returns the dir i started the program from).

>I CD to argv, so that if argv is just an assign, i get the actual path. Just
>like when i type ' CD S: ' from dos, calling ' CD ' will then tell me that im
>at ' Main:S ' (for instance).

Try locking the current dir, ie, Lock("", ACCESS_READ), then call
NameFromLock() to expand the name, then call UnLock().

@ENDNODE
@NODE "Mail_128" " Stupid operator precedence... "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-20-99 07:54:33
Subject: @{b}Stupid operator precedence...@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

Hi there,

It has always nagged me that == and != take precedence over &, ^ and |. Surely
one never wants to perform bit-operations on a boolean result (except maybe ^,
as there are no logical exclusive or, another thing that frustrates me...) but
I thought my life would probably be better if someone was able to give me a
good reason to why this decision was made?  Thanks in advance...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Did you ever notice how fast Windows runs? Neither did I...

@ENDNODE
@NODE "Mail_129" " Re: Stupid operator precedence... "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 12-20-99 10:26:52
Subject: @{b}Re: Stupid operator precedence...@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 20-Dec-99, Allan Odgaard wrote:
> From: Allan Odgaard <Duff@DIKU.DK>
> Hi there,
> 
> It has always nagged me that == and != take precedence over &, ^ and
> |. Surely one never wants to perform bit-operations on a boolean
> result (except maybe ^, as there are no logical exclusive or, another
> thing that frustrates me...) but I thought my life would probably be
> better if someone was able to give me a good reason to why this
> decision was made? Thanks in advance...
> 
> Regards Allan

It was probably easier to write the compiler that way..  (:/

It shouldn't pose a problem if you parenthisize your 
equations sufficiently,  it also makes it more readable,
your intensions are better understood too...

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_130" " Re: Stupid operator precedence... "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-20-99 12:32:17
Subject: @{b}Re: Stupid operator precedence...@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 20-Dec-99, Colin Wenzel wrote:

> It shouldn't pose a problem if you parenthisize your 
> equations sufficiently,  it also makes it more readable,
> your intensions are better understood too...

That explanation did not make my life any better... ;-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Diz Microsoft spelcheker is 100% bug fri.

@ENDNODE
@NODE "Mail_131" " printer errors "
From: Jack York <jyork@voyager.net>
Date: 12-21-99 16:05:07
Subject: @{b}printer errors@{ub}

From: Jack York <jyork@voyager.net>

Hello,

How do I check if the printer has an error like out of paper
when it is connected to an alternate port (hypercom board)?
I was using the PRD_QUERRY command as explained in the RKM and
it worked fine.  But from what I can tell it only checks
the parallel port.  When the printer is hooked up to the
hypercom port I get several errors reported even though the
printer is ready.

Jack

@ENDNODE
@NODE "Mail_132" " SUPERBITMAP window "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 12-21-99 18:43:40
Subject: @{b}SUPERBITMAP window@{ub}

From: Adrien HEMERY <iliak_@club-internet.fr>

hi

i open a superbitmap window and i give a pointer to a bitmap (opened with
InitBitMap()). The screen is a 640x480 one. So the window's bitmap is
640x960 (480x2) as i want to do double buffer. All is ok.
But i want to swap of position between (0,0) and (0,480) to simulate the
double buffer. My question is HOW ????
How can i move inside the bitmap ?
I heard about ScrollVPort(), but i dont ee why.....

regards

@ENDNODE
@NODE "Mail_133" " Re: Re: Stupid operator precedence... "
From: Volker Barthelmann <volker@vb.franken.de>
Date: 12-21-99 23:54:01
Subject: @{b}Re: Re: Stupid operator precedence...@{ub}

From: Volker Barthelmann <volker@vb.franken.de>



On Mon, 20 Dec 1999, Allan Odgaard wrote:

> > It shouldn't pose a problem if you parenthisize your 
> > equations sufficiently,  it also makes it more readable,
> > your intensions are better understood too...
> 
> That explanation did not make my life any better... ;-)

It's for historical reasons. IIRC BCPL or at least a very early version of
C didn't have the logical and/or (&&/||) but only the bitwise. Therefore
you had to write something like if(a==b&b==c) which was the reason for the
precedence.

At least that's how I recall it at the moment. There should be an article
of Dennis Ritchie somewhere on the net. I don't know the URL offhand but
if you can't find it I can look it up.

Hope that makes your life better. :-)

Volker

@ENDNODE
@NODE "Mail_134" " Re: SUPERBITMAP window "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-22-99 03:07:53
Subject: @{b}Re: SUPERBITMAP window@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>

InitBitMap() isn't enough to set up a BitMap. Are you filling in
the plane pointers array manually?  Are you seeing valid data on
the screen when you try to address it?

ScrollVPort() will indeed do as you describe. As for the how part,
all is revealed in the AutoDocs. How RTG patches implement this
is private, but from an OCS/ECS/AGA point of view all this function
does is recalculate the bitplane pointers and write them back into
the BPLx copper registers in the ViewPort's copperlist ready for
the next frame so you get very cheap double buffering
(graphics.library doesn't need to call MergeCop() just to do
buffering, hence it's a pretty cheap call).

ChangeVPBitMap() is another alternative which allows you to implement
buffering by swapping BitMaps (rather than scrolling a large BitMap
like ScrollVPort() does). This one is somewhat more complicated to
use than ScrollVPort() but does have the advantage that you can
implement correct triple buffering of a ViewPort or Intuition
screen (very useful for "out of frame" rendering like 3D games).
Many people, myself included, have reported weird results with
the syncing method employed. It could be caused by some problem
with the function or just plain ol' lack of documentation. In any
case, you can ditch the graphics.library syncing and replace it
with your own which is what I do when triple buffering in AGA
screens (so there's no Signal()'ing when buffering, just simple
counter comparison - I can explain the method if you're interested).
Unfortunately, I don't think ChangeVPBitMap() is patched by CGFX
(I'm pretty sure the function's complexity is the reason why...)
so you'll need to confine yourself to ScrollVPort() if you
want RTG support.

That's about as much information as I can give you without knowing
the specific problem you're encountering.

>i open a superbitmap window and i give a pointer to a bitmap (opened with
>InitBitMap()). The screen is a 640x480 one. So the window's bitmap is
>640x960 (480x2) as i want to do double buffer. All is ok.
>But i want to swap of position between (0,0) and (0,480) to simulate the
>double buffer. My question is HOW ????
>How can i move inside the bitmap ?
>I heard about ScrollVPort(), but i dont ee why.....

@ENDNODE
@NODE "Mail_135" " Version String, CPU detection "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 12-22-99 09:59:41
Subject: @{b}Version String, CPU detection@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

Hello,
could someone tell me how the format of a version string has to be?
I found an example somewhere on Developer Disk 1.2 and used the following
line in my c-program:

char versiontag[] = "\0$VER: af_mksstv 0.1 (19.12.1999)";

The name of the program is af_mksstv, the version should be 0.1 and the date
of the source is Dec 19th 1999. When I type 

version af_mksstv FULL

I see 

af_mksstv 0.1 (15.07.94)

So whats wrong here?



Then I want to compile my program for 68020 CPU as a 68000 with 7Mhz is too
slow. But the program must not crash on an 68000-Amiga. How should I check
this with SAS-C? I want to output an error-message if the CPU type is to
low. 


Kind regards Alexander Fritsch

@ENDNODE
@NODE "Mail_136" " Re: Version String, CPU detection "
From: Colin Wenzel <colstv@hotkey.net.au>
Date: 12-22-99 10:19:57
Subject: @{b}Re: Version String, CPU detection@{ub}

From: Colin Wenzel <colstv@hotkey.net.au>

On 22-Dec-99, Fritsch Alexander wrote:
> From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
> Hello,
> could someone tell me how the format of a version string has to be? I
> found an example somewhere on Developer Disk 1.2 and used the
> following line in my c-program:
> 
> char versiontag[] = "\0$VER: af_mksstv 0.1 (19.12.1999)";
> The name of the program is af_mksstv, the version should be 0.1 and
> the date of the source is Dec 19th 1999. When I type
> 
> version af_mksstv FULL
> I see 
> af_mksstv 0.1 (15.07.94)
> So whats wrong here?


Use the international format, month in letters,
because the americans do most things 
differently to the rest of us......

char verstion[]="$VER:   progfilename 1.0 (19.Dec.1999)";

-------------------------------------
Colin Wenzel. Australia.

EMAIL:  mailto:colstv@hotkey.net.au
URL:       http://www.hotkey.net.au/~colstv/
ICQ:       17608330
MADE WITH 'AMIGA' 4000T With O.S 3.1
---------------------------------------

@ENDNODE
@NODE "Mail_137" " Re: Version String, CPU detection "
From: Joar Sivertsen <jsiv@start.no>
Date: 12-22-99 10:30:05
Subject: @{b}Re: Version String, CPU detection@{ub}

From: Joar Sivertsen <jsiv@start.no>

On 22-Des-99, Fritsch Alexander wrote:

> Hello,
> could someone tell me how the format of a version string has to be?
> I found an example somewhere on Developer Disk 1.2 and used the following
> line in my c-program:
> 
> char versiontag[] = "\0$VER: af_mksstv 0.1 (19.12.1999)";
> 
> The name of the program is af_mksstv, the version should be 0.1 and the
> date of the source is Dec 19th 1999. When I type
> 
> version af_mksstv FULL
> 
> I see 
> 
> af_mksstv 0.1 (15.07.94)
> 
> So whats wrong here?

You might want to try 
char versiontag[] = "\0$VER: af_mksstv 0.1 "__AMIGADATE__;

This will automatically set the date string to the current
date (at build-time).

@ENDNODE
@NODE "Mail_138" " Re: printer errors "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 12-22-99 11:59:16
Subject: @{b}Re: printer errors@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello Jack

On 21-Dec-99, you wrote:

» From: Jack York <jyork@voyager.net>
» 
» Hello,
» 
» How do I check if the printer has an error like out of paper
» when it is connected to an alternate port (hypercom board)?
» I was using the PRD_QUERRY command as explained in the RKM and
» it worked fine.  But from what I can tell it only checks
» the parallel port.  When the printer is hooked up to the
» hypercom port I get several errors reported even though the
» printer is ready.
» 
» Jack

Don't these boards usually come with a small patch to redirect data to the
board instead of the standard port???. If so you don't need to worry about
the board. (I could be wrong though)
 
Kind Regards

Dave `Trebor' Arbuthnot

@ENDNODE
@NODE "Mail_139" " Lha @ lzx c developer stuff "
From: Charles Barr <charlie@amigaforever.free-online.co.uk>
Date: 12-22-99 12:49:04
Subject: @{b}Lha @ lzx c developer stuff@{ub}

From: Charles Barr <charlie@amigaforever.free-online.co.uk>

Hello,
     Does anyone know where to get  developers guides to the lha and 
lzx archive formats, for using them in C.

Kind regards
-- 
<sb>
          Charles Barr
   Emerald Amiga Users
<sb>
   URL:  http://www.emerald.org.uk/wordpad/
<sb>

Software suppliers are trying to make their software packages more
'user-friendly'.... Their best approach, so far, has been to take all
the old brochures, and stamp the words, 'user-friendly' on the cover.
-- Bill Gates

@ENDNODE
@NODE "Mail_140" " Re: Version String, CPU detection "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-22-99 12:57:30
Subject: @{b}Re: Version String, CPU detection@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 22-Dec-99, Fritsch Alexander wrote:

> could someone tell me how the format of a version string has to be?

I can't quote the style guide, since I don't have it. But I'm quite sure it
says: "$VER: PROGRAM VERSION (DD.MM.YY) COMMENT"

Where MM is the month given as a number. The comment is optional and is often
used for the programmers name and/or copyright, e.g.

   "$VER: PieceMaker 2.3 (07.09.99) © 1998-99 Allan Odgaard"

> char versiontag[] = "\0$VER: af_mksstv 0.1 (19.12.1999)";

I'm not sure why you want the '\0' character first. Some compilers (e.g.
StormC) compares all strings in the program to eliminate doublets. And having
more than one string starting with '\0', will make it think they are
identical...

> [...] af_mksstv 0.1 (15.07.94)
> So whats wrong here?

Probably the four digits for the year.

> Then I want to compile my program for 68020 CPU as a 68000 with 7Mhz is too
> slow. But the program must not crash on an 68000-Amiga. How should I check
> this with SAS-C? I want to output an error-message if the CPU type is to
> low. 

You can probably do the check (if(SysBase->AttnFlags & AFF_68020)) in main()
and only call the real program if the processor is correct. And then compile
the source with your main-function as 68000 code - I don't know if SAS/C
offers a better way, the idea place is of course the startup-code...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Error: Keyboard not found! Press F1 to resume.

@ENDNODE
@NODE "Mail_141" " Re: Stupid operator precedence... "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-22-99 13:10:15
Subject: @{b}Re: Stupid operator precedence...@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 21-Dec-99, Volker Barthelmann wrote:

> [...] There should be an article of Dennis Ritchie somewhere on the net.

I found one (the C history) http://cm.bell-labs.com/cm/cs/who/dmr/chist.html

> Hope that makes your life better. :-)

It did, thanks a lot :-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
DOS Tip #17: Add DEVICE=FNGRCROS.SYS to CONFIG.SYS

@ENDNODE
@NODE "Mail_142" " Re: Version String, CPU detection "
From: Tim Corringham <tim@ramjam.u-net.com>
Date: 12-22-99 14:12:24
Subject: @{b}Re: Version String, CPU detection@{ub}

From: tim@ramjam.u-net.com (Tim Corringham)

Hi Fritsch

> I found an example somewhere on Developer Disk 1.2 and used the following
> line in my c-program:
>
> char versiontag[] = "\0$VER: af_mksstv 0.1 (19.12.1999)";
>
> The name of the program is af_mksstv, the version should be 0.1 and the date
> of the source is Dec 19th 1999. When I type
>
> version af_mksstv FULL
>
> I see
>
> af_mksstv 0.1 (15.07.94)
>
> So whats wrong here?
>
The date in the $VERS string should be (dd.mm.yy)

The output of the version command is then adjusted according to the
locale preferences set up by the user. For year 2000, use 100 as the
year etc.

  Tim

@ENDNODE
@NODE "Mail_143" " Re: Re: Version String, CPU detection "
From: Tim Corringham <tim@ramjam.u-net.com>
Date: 12-22-99 14:12:26
Subject: @{b}Re: Re: Version String, CPU detection@{ub}

From: tim@ramjam.u-net.com (Tim Corringham)

Hi Colin

> Use the international format, month in letters,
> because the americans do most things
> differently to the rest of us......
>
> char verstion[]="$VER:   progfilename 1.0 (19.Dec.1999)";

No, it's much better if you do it the way the version command expects, then
the date is presented according to the current locale settings. American
user will see the date in American format, UK users will see it in UK
format, etc.

  Tim

@ENDNODE
@NODE "Mail_144" " Re: Re: Version String, CPU detection "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-22-99 15:27:37
Subject: @{b}Re: Re: Version String, CPU detection@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>

>From: Allan Odgaard <Duff@DIKU.DK>

>On 22-Dec-99, Fritsch Alexander wrote:

>> could someone tell me how the format of a version string has to be?

>I can't quote the style guide, since I don't have it. But I'm quite sure it
>says: "$VER: PROGRAM VERSION (DD.MM.YY) COMMENT"

>Where MM is the month given as a number. The comment is optional and is often
>used for the programmers name and/or copyright, e.g.

>   "$VER: PieceMaker 2.3 (07.09.99) © 1998-99 Allan Odgaard"

I'm pretty sure the day and month should have any leading 0's stripped
and the string should also be LF terminated. It's also worth pointing
out that the program name should be one word, so use underscores
instead of spaces if need be.

@ENDNODE
@NODE "Mail_145" " Re: printer errors "
From: Jack York <jyork@voyager.net>
Date: 12-22-99 15:39:00
Subject: @{b}Re: printer errors@{ub}

From: Jack York <jyork@voyager.net>

Hello David

On 22-Dec-99, David Arbuthnot wrote:
> From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
> 
> Hello Jack
> 
> On 21-Dec-99, you wrote:
> 
> » From: Jack York <jyork@voyager.net>
> » 
> » Hello,
> » 
> » How do I check if the printer has an error like out of paper
> » when it is connected to an alternate port (hypercom board)?
> » I was using the PRD_QUERRY command as explained in the RKM and
> » it worked fine.  But from what I can tell it only checks
> » the parallel port.  When the printer is hooked up to the
> » hypercom port I get several errors reported even though the
> » printer is ready.
> » 
> » Jack
> 
> Don't these boards usually come with a small patch to redirect data to the
> board instead of the standard port???. If so you don't need to worry about
> the board. (I could be wrong though)
> 

If there is a patch it didn't come separately, maybe it is built in
the driver.  But my program fails if I try to check the status of the 
printer so apparently there isn't a patch.
 
Jack

@ENDNODE
@NODE "Mail_146" " Re: Re: Version String, CPU detection "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-22-99 15:41:40
Subject: @{b}Re: Re: Version String, CPU detection@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>

>From: Colin Wenzel <colstv@hotkey.net.au>

>On 22-Dec-99, Fritsch Alexander wrote:
>> From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
>> Hello,
>> could someone tell me how the format of a version string has to be? I
>> found an example somewhere on Developer Disk 1.2 and used the
>> following line in my c-program:
>> 
>> char versiontag[] = "\0$VER: af_mksstv 0.1 (19.12.1999)";
>> The name of the program is af_mksstv, the version should be 0.1 and
>> the date of the source is Dec 19th 1999. When I type
>> 
>> version af_mksstv FULL
>> I see 
>> af_mksstv 0.1 (15.07.94)
>> So whats wrong here?


>Use the international format, month in letters,
>because the americans do most things 
>differently to the rest of us......

>char verstion[]="$VER:   progfilename 1.0 (19.Dec.1999)";

You can't just do what you feel like if it doesn't conform to your
liking. It needs to be numerical so that it can be parsed correctly,
not written in your local language.

@ENDNODE
@NODE "Mail_147" " Re: SUPERBITMAP window "
From: Adrien HEMERY <iliak_@club-internet.fr>
Date: 12-22-99 20:28:51
Subject: @{b}Re: SUPERBITMAP window@{ub}

Hello Duane


> InitBitMap() isn't enough to set up a BitMap. Are you filling in
> the plane pointers array manually?  Are you seeing valid data on
> the screen when you try to address it?

i enclosed the code i use (sorry, i'm french, but if you are stuck, i'll
translate). What i want to do is to setup a double buffer display inside a
window (to catch IDCMP events) which is under CyberGraphx V4.

> 
> ScrollVPort() will indeed do as you describe. As for the how part,
> all is revealed in the AutoDocs. How RTG patches implement this
> is private, but from an OCS/ECS/AGA point of view all this function
> does is recalculate the bitplane pointers and write them back into
> the BPLx copper registers in the ViewPort's copperlist ready for
> the next frame so you get very cheap double buffering
> (graphics.library doesn't need to call MergeCop() just to do
> buffering, hence it's a pretty cheap call).
> 


Regards
@ENDNODE
@NODE "Mail_148" " Re: SUPERBITMAP window "
From: Tim Hanson <msinister@connectfree.co.uk>
Date: 12-22-99 20:52:57
Subject: @{b}Re: SUPERBITMAP window@{ub}

From: Tim Hanson <msinister@connectfree.co.uk>

Hi Adrien 
Adrien HEMERY wrote this on 21-Dec-99 at 18:43:40

> i open a superbitmap window and i give a pointer to a bitmap (opened with
> InitBitMap()). The screen is a 640x480 one. So the window's bitmap is
> 640x960 (480x2) as i want to do double buffer. All is ok.
> But i want to swap of position between (0,0) and (0,480) to simulate the
> double buffer. My question is HOW ????
> How can i move inside the bitmap ?
> I heard about ScrollVPort(), but i dont ee why.....

Don`t open a superbitmap window to do this. Open a double height screen and
open a window on it then draw to the screen instead you can then use
ScrollVPort() on the screens ViewPort.
This may not be what you want. If you need a window smaller than the whole
viewing area. You need 2 bitmaps IIRC. I`ve never tried this so praps someone
else will fill you in.

BTW best use AllocBitMap() for future compatibility. It`s v39+ but is anyone
writing for OS2 anymore?

-- 
      
Tim Hanson,
by the River,Canterbury, Kent.
Amiga A1200T,`040/25,603e/160,32MB Fast,BVisionPPC,
170MB IDE HD,ZIP SCSI,RENO x2CD SCSI,Pace 56K
Don`t waste  your time by visiting
http://www.sinister67.freeserve.co.uk

@ENDNODE
@NODE "Mail_149" " Counting bits in a long... revisited "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 12-22-99 22:00:12
Subject: @{b}Counting bits in a long... revisited@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi All,

I read in the Aminet digests that someone was asking (ages and ages ago)
for a way of counting the number of bits in a longword.  I came across
a really elegant way to do this in a fortune-cookie file (!), and it's *so*
cute I just had to share it with everyone!

int BitsInLong(unsigned long l)
{
  l=((l>>1) & 0x55555555) + (l & 0x55555555);
  l=((l>>2) & 0x33333333) + (l & 0x33333333);
  l=((l>>4) & 0x0f0f0f0f) + (l & 0x0f0f0f0f);
  l=((l>>8) & 0x00ff00ff) + (l & 0x00ff00ff);
  return(((l>>16) & 0x0000ffff) + (l & 0x0000ffff));
}

Happy Christmas everyone!
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

Daddy, what does "FORMATTING DRIVE C:....." mean ?

@ENDNODE
@NODE "Mail_150" " Re: Version String, CPU detection "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 12-22-99 22:23:01
Subject: @{b}Re: Version String, CPU detection@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Fritsch,

On 22-Dec-99 you wrote: [amiga-c] Version String, CPU detection

> From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
> 
> Hello,
> could someone tell me how the format of a version string has to be?

If you have the NDK 3.1 read the text file "v38_v39_os_changes" it
gives you some guidelines on the format. The NDK 3.1 is available on
the Amiga Developer CD.

I've included a snippet of the text below:

----------------------------------------------

There has been some confusion about what the format of version strings
are. The exact format is detailled in the Amiga User Interface Style
Guide
on page 110.  The format is:

    $VER: <name> <version>.<revision> (dd.mm.yy)

The string starts with $VER: followed by a space, followed by <name>.
<name> is the name of the program.  <name> can NOT contain any spaces.
You can use underscores to achieve a similar effect. 

After <name> comes a single space, followed by <version>.  <version>
is
the major version number for the program.  There should be no leading
zeros. 

After <version> comes a single space, followed by <revision>. 
<revision>
is the minor version number for the program.  There should be no
leading
zeros. 

Following the revision number comes a space, and then the date.  The
date
is specified in numeric form only, with no leading zeros on any of the
components.  First comes the day of the month, then the month, then
the
two digits year.  In the future, a four digit year format will also be
supported, but not yet. 

Embedding a version string in the exact format described above will
let
the C/Version command find the version string.  In the future, there
will
be a system call to enable applications, and other system tools, to
obtain
the version information from files easily. 

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
"The Black Hand keeps the mages *very* happy..." -- Sidieu

@ENDNODE
@NODE "Mail_151" " Re: Version String, CPU detection "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-22-99 23:56:45
Subject: @{b}Re: Version String, CPU detection@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 22-Dec-99, Duane McDonnell wrote:

>>   "$VER: PieceMaker 2.3 (07.09.99) © 1998-99 Allan Odgaard"
> I'm pretty sure the day and month should have any leading 0's stripped
> and the string should also be LF terminated. It's also worth pointing

I asked a friend to check the style guide, and none of this is mentioned.

> out that the program name should be one word, so use underscores
> instead of spaces if need be.

How about simply using a non-breaking-space? (alt-space, code 160, 0xA0) Or
maybe collapse the spaces, if the nbsp is too 'weird' ;-)

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Did you ever notice how fast Windows runs? Neither did I...

@ENDNODE
@NODE "Mail_152" " Re: Re: Version String, CPU detection "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-23-99 03:33:51
Subject: @{b}Re: Re: Version String, CPU detection@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>

>From: Allan Odgaard <Duff@DIKU.DK>

>On 22-Dec-99, Duane McDonnell wrote:

>>>   "$VER: PieceMaker 2.3 (07.09.99) © 1998-99 Allan Odgaard"
>> I'm pretty sure the day and month should have any leading 0's stripped
>> and the string should also be LF terminated. It's also worth pointing

>I asked a friend to check the style guide, and none of this is mentioned.

Check that snippet Andrew just posted (hmm, I knew I read it
*somewhere* :-). If you look at the include files you'll notice
leading 0's are always stripped too.

>> out that the program name should be one word, so use underscores
>> instead of spaces if need be.

>How about simply using a non-breaking-space? (alt-space, code 160, 0xA0) Or
>maybe collapse the spaces, if the nbsp is too 'weird' ;-)

Or always give your programs one word names ;-)  The alt-space
is a good tip though, thanks for that.

@ENDNODE
@NODE "Mail_153" " Re: Re: SUPERBITMAP window "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-23-99 03:42:44
Subject: @{b}Re: Re: SUPERBITMAP window@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>

I've got your code to use the ScrollVPort() buffering method,
you'll have to check if it works on CyberGraphX though since
I don't have it installed. I've posted the code to your private
e-mail to keep the traffic down a bit.

>i enclosed the code i use (sorry, i'm french, but if you are stuck, i'll
>translate). What i want to do is to setup a double buffer display inside a
>window (to catch IDCMP events) which is under CyberGraphx V4.

@ENDNODE
@NODE "Mail_154" " Re: Lha @ lzx c developer stuff "
From: troy silvey <tbsilvey@juno.com>
Date: 12-23-99 10:07:23
Subject: @{b}Re: Lha @ lzx c developer stuff@{ub}

From: troy silvey <tbsilvey@juno.com>

>Hello,
>     Does anyone know where to get  developers guides to the lha and 
>lzx archive formats, for using them in C.

I don't know the best resources, but I was working with this once.
I downloaded the source and document files for unix Lharc in C by
the author Mr. Y. Tagawa. It has been a while and I cannot recall the
site, but with some searching it shouldn't be too hard to locate.
Lots code and short on docs, but it may be some help. I was told
this was the program amiga lha was based on.

troy



___________________________________________________________________
Why pay more to get Web access?
Try Juno for FREE -- then it's just $9.95/month if you act NOW!
Get your free software today: http://dl.www.juno.com/dynoget/tagj.

@ENDNODE
@NODE "Mail_155" " Re: Lha @ lzx c developer stuff "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 12-23-99 13:24:36
Subject: @{b}Re: Lha @ lzx c developer stuff@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello troy

On 23-Dec-99, you wrote:

» From: troy silvey <tbsilvey@juno.com>
» 
»> Hello,
»>     Does anyone know where to get  developers guides to the lha and 
»> lzx archive formats, for using them in C.
» 
» I don't know the best resources, but I was working with this once.
» I downloaded the source and document files for unix Lharc in C by
» the author Mr. Y. Tagawa. It has been a while and I cannot recall the
» site, but with some searching it shouldn't be too hard to locate.
» Lots code and short on docs, but it may be some help. I was told
» this was the program amiga lha was based on.

I did a search and here is the URL:
http://hpux.ced.tudelft.nl/ftp/hpux/Misc/lha-1.00/
 I'm going to keep searching If i find anymore I'll mail you.
Kind Regards

Dave `Trebor' Arbuthnot

@ENDNODE
@NODE "Mail_156" " AW: Re: Version String, CPU detection "
From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
Date: 12-23-99 15:07:55
Subject: @{b}AW: Re: Version String, CPU detection@{ub}

From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

Thanks to all for the replies.
I will of course use the format from the style guide.

According to my tests and your suggestions my fault was the 4-digit-year.
(19.12.1999). If I use only (19.12.99) all works fine. But what should I do
next year? Should I use 00? Do we have a Y2K-problem here? (I think of
discriminating newer versions from older)

Mery Christmas and a happy new year!
Alexander

@ENDNODE
@NODE "Mail_157" " Re: Version String, CPU detection "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 12-23-99 15:36:30
Subject: @{b}Re: Version String, CPU detection@{ub}

On Dec 22 Fritsch (Fritsch Alexander) wrote:

> From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
> 
> Hello,
> could someone tell me how the format of a version string has to be?
> I found an example somewhere on Developer Disk 1.2 and used the following
> line in my c-program:
> 
> char versiontag[] = "\0$VER: af_mksstv 0.1 (19.12.1999)";
> 
> The name of the program is af_mksstv, the version should be 0.1 and the date
> of the source is Dec 19th 1999. When I type 
> 
> version af_mksstv FULL
> 
> I see 
> 
> af_mksstv 0.1 (15.07.94)
> 
> So whats wrong here?

   You must be using an old "Version" command, i.e. a version of that
command older than V44 (as shipped with the AmigaOS 3.5 update). The
older versions did not handle the Y2K issue gracefully, let alone
accept year numbers beyond the range 78..99. What you're seeing in the
output is the result of the "Version" command adding 1900+1999 and
trying to make sense of the result. The result of course is subject
to a numeric overflow. I haven't checked the math, but the result
speaks for itself: it's absolutely wrong.
   How can this problem be avoided? For this week, use two digits for
the year number. Starting with next week, you'll invariably have to
use four digit year numbers. You can't use "00" to represent "2000"
since the old "Version" command will then add 1900+0 and produce
equally invalid results as with 1900+2000.

-- 
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

@ENDNODE
@NODE "Mail_158" " Re: Re: Version String, CPU detection "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 12-23-99 15:36:59
Subject: @{b}Re: Re: Version String, CPU detection@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Dec 22 Colin (Colin Wenzel) wrote:

> From: Colin Wenzel <colstv@hotkey.net.au>
> 
> On 22-Dec-99, Fritsch Alexander wrote:
> > From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
> > Hello,
> > could someone tell me how the format of a version string has to be? I
> > found an example somewhere on Developer Disk 1.2 and used the
> > following line in my c-program:
> > 
> > char versiontag[] = "\0$VER: af_mksstv 0.1 (19.12.1999)";
> > The name of the program is af_mksstv, the version should be 0.1 and
> > the date of the source is Dec 19th 1999. When I type
> > 
> > version af_mksstv FULL
> > I see 
> > af_mksstv 0.1 (15.07.94)
> > So whats wrong here?
> 
> 
> Use the international format, month in letters,
> because the americans do most things 
> differently to the rest of us......
> 
> char verstion[]="$VER:   progfilename 1.0 (19.Dec.1999)";

   Ouch. Bad practice. This won't solve the problem, and the "Version"
command cannot properly parse this format either.

-- 
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

@ENDNODE
@NODE "Mail_159" " ARexx Programming "
From: DenJS <denjs@mail.ru>
Date: 12-23-99 22:00:26
Subject: @{b}ARexx Programming@{ub}

From: DenJS <denjs@mail.ru>

Hello,

Please Help me with programming arexx communication programm in C.
All what i need is send a rexx message (command) 'MM_Version' and get reply from programm for
this command, in my case a reply looks like 'VERSION: 1.0; RELEASE 10.0' (two
different deciminal string)
In simple arexx script i can do it very easy, like this:

/* Rexx Proggy */

Address 'MAILMANAGER'

MM_Version buf

echo buf.VERSION
echo buf.RELEASE

And now i need same result in my C programm. Please help me. I make some... but
i have no idea how to continue my work... i can't find any usefull documentation
about rexx programming on C.

#include <proto/exec.h>
#include <proto/dos.h>
#include <proto/rexxsyslib.h>
#include <string.h>


void main(void)
{
  struct MsgPort *MyPort;
  struct MsgPort *MyPutPort;

  Forbid();

  if (MyPutPort = FindPort("MAILMANAGER"))
    {
      Permit();

      Printf("Port found!\n");

      if (MyPort = CreatePort(NULL,0))
        {
          struct RexxMsg *MyMsg;

          Printf("Port created!\n");

          if (MyMsg = CreateRexxMsg(MyPort, NULL, "MAILMANAGER"))
            {
              UBYTE  Command[] = {"MM_Version",NULL};
              UBYTE  *MyArgString;

              Printf("Rexx message created!\n");

              if (MyArgString = CreateArgstring(Command, strlen(Command)))
                {
                  struct RexxMsg *MyReplyRexxMsg;
                  
                  Printf("Arg string created!\n");

                  MyMsg->rm_Action  = RXCOMM;
                  MyMsg->rm_Args[0] = (STRPTR)MyArgString;
                  
                  PutMsg(MyPutPort, &MyMsg->rm_Node);

                  WaitPort(MyPort);

                  if (MyReplyRexxMsg = (struct RexxMsg *)GetMsg(MyPort))
                    {
                      Printf("Got reply message!\n");

                      if (IsRexxMsg(MyReplyRexxMsg))
                        Printf("Rexx Msg!\n");
                      else
                        Printf("Not a Rexx Msg!\n");

                      Printf("Buffer: %s\n", MyReplyRexxMsg->rm_Args[0]);
                      Printf("Buffer: %s\n", MyReplyRexxMsg->rm_Args[1]);
                      Printf("Buffer: %s\n", MyReplyRexxMsg->rm_Args[2]);
// rm_Args always contain my command or trash, nobody change it :(
                    }

                                    DeleteArgstring(MyArgString);
                }
                else
                  Printf("Can't create arg string!\n");

              DeleteRexxMsg(MyMsg);
            }
            else
              Printf("Can't create RexxMsg!\n");

          DeletePort(MyPort);
        }
        else
          Printf("Can't creates ports!\n");
    }
    else
    {
      Permit();
      Printf("Can't find port!\n");
    }
}


How can i get a result from MAILMANAGER port? :)

Kind regards
-- 

Success is like a fart - only your own smells nice.
-- James P. Hogan


  DSS *FingerTip* = 3F7B F842 A848 1C4F 43F5  6542 92BD 1356 D1AB 8136
                  9CB1 820C F9F4 1B2E D8C1  D316 8209 D71C DFE2 CD61 

@ENDNODE
@NODE "Mail_160" " Re: Lha @ lzx c developer stuff "
From: Jonathan Adamczewski <jadamcze@utas.edu.au>
Date: 12-23-99 23:34:08
Subject: @{b}Re: Lha @ lzx c developer stuff@{ub}

From: "Jonathan Adamczewski" <jadamcze@utas.edu.au>

No developers guides as such, but source code for lha could come from
ftp://ftp.ninemoons.com/geekgadgets/amiga/m68k/snapshots/current/src/ and in
there is lha-x.x-src.tgz (x.x being version number that I don't know right
now) and unlzx sources for unix are on aminet (search for unlzx)

Jonathan.

| From: troy silvey <tbsilvey@juno.com>
|
| >Hello,
| >     Does anyone know where to get  developers guides to the lha and
| >lzx archive formats, for using them in C.
|
| I don't know the best resources, but I was working with this once.
| I downloaded the source and document files for unix Lharc in C by
| the author Mr. Y. Tagawa. It has been a while and I cannot recall the
| site, but with some searching it shouldn't be too hard to locate.
| Lots code and short on docs, but it may be some help. I was told
| this was the program amiga lha was based on.
|
| troy

@ENDNODE
@NODE "Mail_161" " Re: ARexx Programming "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-23-99 23:55:27
Subject: @{b}Re: ARexx Programming@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>

Oops, excuse the date.  My last crash was particularly nasty and
took the clock with it :-)

>Date: Thu, 03 Sep 1992 03:17:29 +0930
>From: Duane McDonnell <dmcdonnell@primus.com.au>

>>Please Help me with programming arexx communication programm in C.
>>All what i need is send a rexx message (command) 'MM_Version' and get reply
>>from programm for
>>this command, in my case a reply looks like 'VERSION: 1.0; RELEASE 10.0'
(two
>>different deciminal string)
>>In simple arexx script i can do it very easy, like this:

>[snip]

>>And now i need same result in my C programm. Please help me. I make some...
>>but
>>i have no idea how to continue my work... i can't find any usefull
>>documentation
>>about rexx programming on C.

>[snip]

>>                  MyMsg->rm_Action  = RXCOMM;

>Here's the problem. You need to request a result by OR'ing RXFF_RESULT
>with RXCOMM.  The AutoDocs are indeed rather vague about this.

@ENDNODE
@NODE "Mail_162" " Re: Version String, CPU detection "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-24-99 04:54:29
Subject: @{b}Re: Version String, CPU detection@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 23-Dec-99, Duane McDonnell wrote:

> Check that snippet Andrew just posted [...]

I did see it arrive after my own post. Either the NDK gives a more thorough
description, or my friend overlooked something in the style guide, but I
really doubt that...  It's rather problematic as the date-macro I use does
give leading zeros, so there's nothing I can do to get rid of mine...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Success is like a fart - only your own smells nice.
-- James P. Hogan

@ENDNODE
@NODE "Mail_163" " SE version 6.58 Bug? "
From: meyersfamily <meyersfamily@home.com>
Date: 12-24-99 06:23:53
Subject: @{b}SE version 6.58 Bug?@{ub}

Anyone else noticed that SAS/C editor SE version 6.58 is broke regarding
configuration settings?  It's so obvious a problem I suspect it's been
mentioned already.  I have gone back to using SE version 6.57, works just
fine.

Bob Meyers


@ENDNODE
@NODE "Mail_164" " AW: Re: Version String, CPU detection "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-24-99 07:54:13
Subject: @{b}AW: Re: Version String, CPU detection@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>

Please excuse my date woes people ;-)

I sent a message earlier this morning after a crash and that got
dated 1992 due to my RTC bombing out, and now it's 2000 since I'm
trying to Y2K fix a commercial accounting application which is
going to fall over in a big fat heap next week (yes folks, some
commercial Amiga apps aren't going to work at all..)

Now I'm going to triple check my time setting before hitting the
"Send" button. Here I go...

Merry XMas to all, and a happy Y2K :-)


>From: Duane McDonnell <dmcdonnell@primus.com.au>

>>From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

>>Thanks to all for the replies.
>>I will of course use the format from the style guide.

>>According to my tests and your suggestions my fault was the 4-digit-year.
>>(19.12.1999). If I use only (19.12.99) all works fine. But what should I do
>>next year?

>Olaf says to use 2000, which strictly speaking breaks the published
>specification (Olaf: perhaps Version should be changed to re-interpret
>00 - 45 as being 2000 - 2045 and uploaded to Aminet?)

>> Should I use 00? Do we have a Y2K-problem here? (I think of
>>discriminating newer versions from older)

>I have no idea :-)

>A warning to SAS/C users: __AMIGADATE__ shouldn't be used either.
>It strips leading 0's in the year too, so 2000 is output as 0,
>for example, (1.1.0).  This is with 6.58, perhaps the updates
>have resolved this (and if so, how?)

@ENDNODE
@NODE "Mail_165" " Re: AW: Re: Version String, CPU detection "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 12-24-99 09:35:32
Subject: @{b}Re: AW: Re: Version String, CPU detection@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Dec 23 Fritsch (Fritsch Alexander) wrote:

> From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
> 
> Thanks to all for the replies.
> I will of course use the format from the style guide.
> 
> According to my tests and your suggestions my fault was the 4-digit-year.
> (19.12.1999). If I use only (19.12.99) all works fine. But what should I do
> next year? Should I use 00? Do we have a Y2K-problem here? (I think of
> discriminating newer versions from older)

   Yes, there is a Y2K problem with the "Version" command. As I wrote, it
adds 1900+<year number> to calculate the actual year number. Thus, "00" would
be just as wrong as "2000", see?

-- 
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

@ENDNODE
@NODE "Mail_166" " GCC Problems "
From: Bablos <bablos@cableinet.co.uk>
Date: 12-24-99 12:44:08
Subject: @{b}GCC Problems@{ub}

From: Bablos <bablos@cableinet.co.uk>

Hi There...

My compiler's spitting out all sorts of messages, and I don't know why!

I've recently installed the WarpOS version of EGCS to try and play
around with some things, but to no avail.  Something tells me that this
is the likely culprit.

The project I'm trying to compile is using GCC 2.95.1, and I suddenly
get the following error;

cpp: Invalid option `-undef'

Strange.  So, I changed the definition to that of EGCS (68k), and got
the following;

/t/ccpKMiKJ.s: Assembler messages:
/t/ccpKMiKJ.s:4: Error: Unknown pseudo-op:  `.section'
/t/ccpKMiKJ.s:90: Error: Unknown pseudo-op:  `.section'
/t/ccpKMiKJ.s:95: Error: Unknown operator -- statement `blr' ignored
/t/ccpKMiKJ.s:102: Error: Unknown operator -- statement `li 3,0' ignored
/t/ccpKMiKJ.s:103: Error: Unknown operator -- statement `blr' ignored
/t/ccpKMiKJ.s:110: Error: Unknown operator -- statement `li 3,1' ignored
/t/ccpKMiKJ.s:111: Error: Unknown operator -- statement `blr' ignored

And so on, and so forth.

So, what am I doing wrong?  This was compiling just fine before I
tried the WarpOS EGCS, so have I moved/overwritten something?  Hope
someone out there can help.


Bablos.

@ENDNODE
@NODE "Mail_167" " Re: SE version 6.58 Bug? "
From: Bob Lanham <bobl@jaxproductions.com>
Date: 12-24-99 16:43:59
Subject: @{b}Re: SE version 6.58 Bug?@{ub}

From: Bob Lanham <bobl@jaxproductions.com>


> Anyone else noticed that SAS/C editor SE version 6.58 is broke regarding
> configuration settings?

I've used it to change the text colors, and had no problems.  What
problem did it give you?

@ENDNODE
@NODE "Mail_168" " event handling problem "
From: Bob Lanham <bobl@jaxproductions.com>
Date: 12-24-99 17:49:08
Subject: @{b}event handling problem@{ub}

From: Bob Lanham <bobl@jaxproductions.com>

I am trying to use a menu item to open another window, and the new
window needs to start handling IDCMP messages.  However the close gadget
on the new window causes the program to freeze.  Can anyone help me fix
this code?  Here's the event portion of it.  Thanks!

/*****************************************************************/
win2open=false; // global flag

void process_events(void) /* Find out which window had event. */
{
    ULONG signals;
    BOOL done=FALSE;

    while(!done)
    {
        if (win2open==TRUE) // both windows are open
        {
                signals = Wait( (1L << window1->UserPort->mp_SigBit) |
                                (1L << window2->UserPort->mp_SigBit));
                if (signals & (1L << window1->UserPort->mp_SigBit))
                    done = handleIDCMP(window1);
                if (signals & (1L << window2->UserPort->mp_SigBit))
                    done = handleIDCMP(window2);
        }

        else if (win2open==FALSE)  // just window1 open
        {
                signals = Wait( (1L << window1->UserPort->mp_SigBit));
                if (signals & (1L << window1->UserPort->mp_SigBit))
                    done = handleIDCMP(window1);
        }
    }
}


BOOL handleIDCMP(struct Window *win)
{
struct IntuiMessage *message;
ULONG mclass;
USHORT code;
UWORD menuNumber;
UWORD menuNum;
UWORD itemNum;
UWORD subNum;
struct MenuItem *item;
BOOL done=FALSE;

while (NULL != (message = (struct IntuiMessage *)GetMsg(win->UserPort)))
    {
    mclass = message->Class;
    code   = message->Code;
    ReplyMsg((struct Message *)message);

    switch (mclass)
        {
        case IDCMP_CLOSEWINDOW:
                ClearMenuStrip(win);
                CloseWindow(win);
                win2open=FALSE;
            break;

        case IDCMP_MENUPICK:
            menuNumber=code;
            while ((menuNumber != MENUNULL)&&(!done))
                {
                item = ItemAddress(strip, menuNumber);
                menuNum = MENUNUM(menuNumber);
                itemNum = ITEMNUM(menuNumber);
                subNum = SUBNUM(menuNumber);
                    
                if ((menuNum==0) && (itemNum==0)) /* open window2 */
                    {
                    if (win2open==TRUE) /* first close window2 if open
*/
                        {
                        ClearMenuStrip(window2);
                        CloseWindow(window2);
                        }
                    openwin();
                    win2open=TRUE;
                    }

                else if ((menuNum==0) && (itemNum==1)) /* quit */
                    done = TRUE;

                menuNumber = item->NextSelect;
                }
            break;
        }
    }
return(done);
}
/****************************************************************/

@ENDNODE
@NODE "Mail_169" " Re: SE version 6.58 Bug? "
From: meyersfamily <meyersfamily@home.com>
Date: 12-24-99 20:41:45
Subject: @{b}Re: SE version 6.58 Bug?@{ub}

From: meyersfamily <meyersfamily@home.com>

Well I get a lock up whenever I've tried to save any changes to se.dat,
and yes I rechecked my paths etc... I even reinstalled the whole SAS/C
system and all patches up to 6.58

I noticed (purely by accident) that my Diskmaster 2 was using the 6.57
version that I had copied into C:. It successfully saved it's configuration
settings with no problems.

-----------Reply Seperator---------
> From: Bob Lanham <bobl@jaxproductions.com>
> 
> 
>> Anyone else noticed that SAS/C editor SE version 6.58 is broke regarding
>> configuration settings?
> 
> I've used it to change the text colors, and had no problems.  What
> problem did it give you?
> 

-- 
Experience is directly proportional to the value of equipment destroyed.
-- Carolyn Scheppner

@ENDNODE
@NODE "Mail_170" " Re: Re: Assigns and Layers "
From: Olaf Barthel <olsen-amigac@sourcery.han.de>
Date: 12-24-99 23:00:47
Subject: @{b}Re: Re: Assigns and Layers@{ub}

From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>

On Dec 15 Martyn (Martyn Capewell) wrote:

> From: Martyn Capewell <mmc28@hermes.cam.ac.uk>
> 
> Hello Olaf
> 
> On 15-Dec-99, you wrote:
> 
> > From: "Olaf Barthel" <olsen-amigac@sourcery.han.de>
> > 
> > On Dec 14 Allan (Allan Odgaard) wrote:
> > 
> >> From: Allan Odgaard <Duff@DIKU.DK>
> >> 
> >> On 13-Dec-99, Martyn Capewell wrote:
> >> 
> >> On an unrelated note, how do I make a window in which the background
> >> shows through?
> >> 
> >> Specify "WA_BackFill, LAYERS_NOBACKFILL" while creating the window, it'll
> >> be too late to fix it afterwards.
> > 
> >   Take care. Due to a bug in layers.library V39 the layer created can
> > still be erased when it appears. It helps to make the layer created of the
> > simple refresh type.
> 
> And v40 too. I couldn't get Allan's suggestion to work, and then I came
> across your mail, made the window simple, and it worked. Thanks.
> 
> Now, how do I update the transparent image if I move the window?

   You don't, and that's the problem. The windows covered by your
window aren't necessarily all of the smart refresh type. When they
are uncovered, they will take their time to refresh, and even if
they are updated, you'll find that only those parts are redrawn
that are not currently covered by other windows. Those parts that
are covered more or less "don't exist" at this time. And therefore
you can't copy their contents to your transparent window.

-- 
Home: Olaf Barthel, Brabeckstrasse 35, D-30559 Hannover
 Net: olsen@sourcery.han.de (Home), olsen@logicalline.com (Work)

@ENDNODE
@NODE "Mail_171" " Re: event handling problem "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 12-25-99 12:50:39
Subject: @{b}Re: event handling problem@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

On 24-Dec-99, Bob Lanham wrote:

> From: Bob Lanham <bobl@jaxproductions.com>
> 
> I am trying to use a menu item to open another window, and the new
> window needs to start handling IDCMP messages.  However the close gadget
> on the new window causes the program to freeze.  Can anyone help me fix
> this code?  Here's the event portion of it.  Thanks!
> 
> /*****************************************************************/
> win2open=false; // global flag
> 
> void process_events(void) /* Find out which window had event. */
> {
>    ULONG signals;
>    BOOL done=FALSE;
> 
>    while(!done)
>    {
>        if (win2open==TRUE) // both windows are open
>        {
>                signals = Wait( (1L << window1->UserPort->mp_SigBit) |
>                                (1L << window2->UserPort->mp_SigBit));
>                if (signals & (1L << window1->UserPort->mp_SigBit))
>                    done = handleIDCMP(window1);
>                if (signals & (1L << window2->UserPort->mp_SigBit))
>                    done = handleIDCMP(window2);
>        }
> 
>        else if (win2open==FALSE)  // just window1 open
>        {
>                signals = Wait( (1L << window1->UserPort->mp_SigBit));
>                if (signals & (1L << window1->UserPort->mp_SigBit))
>                    done = handleIDCMP(window1);
>        }
>    }
> }
> 
> 
> BOOL handleIDCMP(struct Window *win)
> {
> struct IntuiMessage *message;
> ULONG mclass;
> USHORT code;
> UWORD menuNumber;
> UWORD menuNum;
> UWORD itemNum;
> UWORD subNum;
> struct MenuItem *item;
> BOOL done=FALSE;
> 
> while (NULL != (message = (struct IntuiMessage *)GetMsg(win->UserPort)))

Howabout :
while (!(message = (struct IntuiMessage *)GetMsg(win->UserPort)))

>    {
>    mclass = message->Class;
>    code   = message->Code;
>    ReplyMsg((struct Message *)message);
> 
>    switch (mclass)
>        {
>        case IDCMP_CLOSEWINDOW:
>                ClearMenuStrip(win);
>                CloseWindow(win);
>                win2open=FALSE;
>            break;

After this break, you restart the cycle, getting a message from the window you just closed (this is not advisable ;-)
Perhaps inserting a:

while (message=(struct IntuiMessage *)GetMsg(win->UserPort)) ReplyMsg((struct Message *)message);

Before CloseWindow() (to answer all messages), then return (instead of break;)

> 
>        case IDCMP_MENUPICK:
>            menuNumber=code;
>            while ((menuNumber != MENUNULL)&&(!done))
>                {
>                item = ItemAddress(strip, menuNumber);
>                menuNum = MENUNUM(menuNumber);
>                itemNum = ITEMNUM(menuNumber);
>                subNum = SUBNUM(menuNumber);
>                    
>                if ((menuNum==0) && (itemNum==0)) /* open window2 */
>                    {
>                    if (win2open==TRUE) /* first close window2 if open
> */
>                        {
>                        ClearMenuStrip(window2);
>                        CloseWindow(window2);
>                        }
>                    openwin();
>                    win2open=TRUE;
>                    }
> 
>                else if ((menuNum==0) && (itemNum==1)) /* quit */
>                    done = TRUE;
> 
>                menuNumber = item->NextSelect;
>                }
>            break;
>        }
>    }
> return(done);
> }
> /****************************************************************/
> 
> >     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 
Regards

@ENDNODE
@NODE "Mail_172" " off-topic, Amiga "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 12-25-99 13:10:35
Subject: @{b}off-topic, Amiga@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

Anyone knows what's happening to the Amiga ? Last thing i heard, the machine has been discontinued as Amiga Inc. will make software for linux.

Is it still 'getaway2000' that owns Amiga Inc. ?

I'm hoping some of you programmers might have some insider-information (feel free to mail me privately).

@ENDNODE
@NODE "Mail_173" " ixemul.library problems "
From: Jeff Pierce <jeffanim5@loop.com>
Date: 12-26-99 22:51:52
Subject: @{b}ixemul.library problems@{ub}

From: Jeff Pierce <jeffanim5@loop.com>

Hello,
     I am a newbie to C programming and was wondering if anyone could explain to
me what is happening when executing an "Amiga-C" program.  I copied a C example
from the "Rom Kernal Manual: Libraries and Devices" called Mouse Example in
Gameport, Chapter 11 and saved it as "mousetest.c".  I then compiled using the
the Geek Gadgets "gcc" with the following command line:

	> gcc -o mousey mousetest.c

All seemed to compile correctly as no error msgs. were issued.  When I executed
"mousey" I received the following error from the ixemul.library:

	"Obsolete ixemul.library syscall number used.
	Relink program with current ixemul crt0.o and libc.a."

I also tried compiling with:

	> gcc -noixemul libnix -o mousey mousetest.c

and got,

	"gcc: libnix: no such file or directory"

with no outfile generated.

I've also tried some "Unix" example C programs from another C programming book 
(pointers, eval loops, bell test).  All compiled and executed properly.  I am
currently using OS3.5 on my A3000.  Any assistance would be greatly appreciated.

Thanks,
Jeff

@ENDNODE
@NODE "Mail_174" " Re: event handling problem "
From: Bob Lanham <bobl@jaxproductions.com>
Date: 12-27-99 04:31:19
Subject: @{b}Re: event handling problem@{ub}

From: Bob Lanham <bobl@jaxproductions.com>

> 
> After this break, you restart the cycle, getting a message from the window you just closed (this is not advisable ;-)
> Perhaps inserting a:
> 
> while (message=(struct IntuiMessage *)GetMsg(win->UserPort)) ReplyMsg((struct Message *)message);
> 
> Before CloseWindow() (to answer all messages), then return (instead of break;)
> 

Steffen,

Thanks for the tip regarding break/return.  It gave me the idea of
replying to any and all messages at the top, before going into the
switch block, and only dealing with a single possible message.  It
works!

    message = (struct IntuiMessage *)GetMsg(win->UserPort);
    mclass = message->Class;
    code   = message->Code;

    // reply to all messages
    while (NULL != (message = (struct IntuiMessage
*)GetMsg(win->UserPort)))
        ReplyMsg((struct Message *)message);

    switch (mclass)
        {
        case IDCMP_CLOSEWINDOW:
                ClearMenuStrip(window2);
                CloseWindow(window2);
                window2=NULL;
                win2open=FALSE;
            break;
        case etc...
        case etc...
        }
return(done);

@ENDNODE
@NODE "Mail_175" " Re: ixemul.library problems "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 12-27-99 06:14:28
Subject: @{b}Re: ixemul.library problems@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello Jeff

On 26-Dec-99, you wrote:

» From: Jeff Pierce <jeffanim5@loop.com>
» 
» I also tried compiling with:
» 
»> gcc -noixemul libnix -o mousey mousetest.c
» 
» and got,
» 
»     "gcc: libnix: no such file or directory"
» 
» with no outfile generated.
» 
» Thanks,
» Jeff

My guess is that you don't have libnix installed (although last time I used
GCC it did come with libnix). Oh as an after thought try this

gcc -noixemul -o mousey mousetest.c -lamiga

The above should work (Last time I used GCC when specifying -noixemul it
used
libnix instead) but the following should work too

gcc -noixemul -o mousey mousetest.c -lnix -lamiga

Also it seems you are not linking with libamiga.a which is almost always
needed

(I think these options are right, but it depends on what version
of GCC you are using)

Kind Regards

Dave `Trebor' Arbuthnot

@ENDNODE
@NODE "Mail_176" " RE: Re: ixemul.library problems "
From: Jeff Pierce <jeffanim5@loop.com>
Date: 12-27-99 08:59:58
Subject: @{b}RE: Re: ixemul.library problems@{ub}

From: Jeff Pierce <jeffanim5@loop.com>

Hi David,
     Thank you for the reply.  I went ahead and tried the first option you suggested
and got the following:

/ade/lib/libnix/libstubs.a(__initlibraries.o)(.text+0x36): undefined reference to 
`__openliberror'
collect2: ld returned 1 exit status

The second option yielded the same results.  I'm wondering if perhaps not updating
the ixemul includes and ixemul environment variables may have something to do with 
the results.  I only updated the ixemul libraries (ixemul.library, ixemul.trace,
ixnet.library) from the ninemoons ftp site:

ftp://ftp.ninemoons.com/pub/geekgadgets/amiga/m68k/snapshots/990529/bin/
ixemul-48.0-bin.tgz

What should I try to do next?

Thanks,
Jeff

On Mon, Dec 27, 1999, at 05:14 AM, David Arbuthnot wrote:

> From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
> 
> Hello Jeff
> 
> On 26-Dec-99, you wrote:
> 
> » From: Jeff Pierce <jeffanim5@loop.com>
> » 
> » I also tried compiling with:
> » 
> »> gcc -noixemul libnix -o mousey mousetest.c
> » 
> » and got,
> » 
> »     "gcc: libnix: no such file or directory"
> » 
> » with no outfile generated.
> » 
> » Thanks,
> » Jeff
> 
> My guess is that you don't have libnix installed (although last time I used
> GCC it did come with libnix). Oh as an after thought try this
> 
> gcc -noixemul -o mousey mousetest.c -lamiga
> 
> The above should work (Last time I used GCC when specifying -noixemul it
> used
> libnix instead) but the following should work too
> 
> gcc -noixemul -o mousey mousetest.c -lnix -lamiga
> 
> Also it seems you are not linking with libamiga.a which is almost always
> needed
> 
> (I think these options are right, but it depends on what version
> of GCC you are using)
> 
> Kind Regards
> 
> Dave `Trebor' Arbuthnot
> 
> >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 

@ENDNODE
@NODE "Mail_177" " Style guide - Page Up/Down "
From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>
Date: 12-27-99 13:28:49
Subject: @{b}Style guide - Page Up/Down@{ub}

From: "Alastair M. Robinson" <blackfive@fakenhamweb.co.uk>

Hi Everyone,

Glad to see I wasn't the only one programming on Christmas day!

Can someone tell me what the Style Guide has to say on the subject of
Page Up / Page Down keystrokes?

I've just written a little hack to provide better wheelmouse support
(on Christmas Day and Boxing Day - what a party animal!)
It works with just about any program which uses either standard
scrollbars or responds to cursor up/down keystrokes.  Multiview seems
to use shift-up/down to scroll a complete page at a time, but YAM's
viewer seems to use alt-up/down.

Can someone tell me which is `correct'?

All the best,
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

640K ought to be enough for anybody. -- Bill Gates, 1981

@ENDNODE
@NODE "Mail_178" " Version String again... "
From: amiga-c@onelist.com
Date: 12-27-99 13:38:03
Subject: @{b}Version String again...@{ub}

From: amiga-c@onelist.com

Hi Guys,

>   Yes, there is a Y2K problem with the "Version" command. As I wrote, it
> adds 1900+<year number> to calculate the actual year number. Thus, "00" would
> be just as wrong as "2000", see?

So version prints a garbage date if <year> is set to either 00 or 2000.
Someone has already pointed out that setting the year to 100 works as a
temporary fix.  (Version seems to parse the date correctly, and at least the
day and month values match what they are in the version string!)

Would someone like to comment the likelihood of this method working with
future versions of version?

All the best,
-- 
Alastair M. Robinson, email:blackfive@fakenhamweb.co.uk
Amiga 4000/030, 18Meg RAM, 4.3Gig HD, Mustek ScanExpress 6000SP
C, Assembler (68k + PIC16C84), PostScript, ARexx, AMOSPro(!), AmigaDOS

A closed mouth gathers no feet.

@ENDNODE
@NODE "Mail_179" " Setting up GCC "
From: Charles Barr <charlie@amigaforever.free-online.co.uk>
Date: 12-27-99 14:48:59
Subject: @{b}Setting up GCC@{ub}

From: Charles Barr <charlie@amigaforever.free-online.co.uk>

Hello,
     Is there any detailed guides on the internet on setting up
gcc. or would anyone be willing to help me do it.

I would be gratefule for any help.

Kind regards
-- 
<sb>
          Charles Barr
   Emerald Amiga Users
<sb>
   URL:  http://www.emerald.org.uk/wordpad/
<sb>

I like pigs. Dogs look up to us. Cats look down on us. Pigs treat
us as equals.
-- Winston Churchill

@ENDNODE
@NODE "Mail_180" " Re: ixemul.library problems "
From: Malek Bengougam <malek_b@hotmail.com>
Date: 12-27-99 15:00:28
Subject: @{b}Re: ixemul.library problems@{ub}

From: "Malek Bengougam" <malek_b@hotmail.com>




>From: Jeff Pierce <jeffanim5@loop.com>
>Hello,

Hi,

[...]
>I then compiled using the
>the Geek Gadgets "gcc" with the following command line:
>	> gcc -o mousey mousetest.c
>
>	"Obsolete ixemul.library syscall number used.
>	Relink program with current ixemul crt0.o and libc.a."

You didn't have the latest ixemul (47.6 or 48.0) or some files are 
missing...

>I also tried compiling with:
>	> gcc -noixemul libnix -o mousey mousetest.c
>and got,
>	"gcc: libnix: no such file or directory"

Here GCC thinks that "libnix" is a linkable file ;)
You should remove "libnix" to make it work :)

Don't forget to install the libnix package...
Another thing that maybe useful (described in libnix.guide):
When compiling programs with call to std mathlib (cos(), sin() etc..)
you should add -lm to the commandline because libnix patches all Math.h 
functions.

>I am
>currently using OS3.5 on my A3000.  Any assistance would be greatly 
>appreciated.

no problem, just post to this list ;)

>Thanks,
>Jeff

bye

---
Etonnant non ?
Malek "Season/Virtualize"

@ENDNODE
@NODE "Mail_181" " RE: ixemul.library problems "
From: Jeff Pierce <jeffanim5@loop.com>
Date: 12-27-99 16:07:42
Subject: @{b}RE: ixemul.library problems@{ub}

From: Jeff Pierce <jeffanim5@loop.com>

Hi Malek,
   I'll go ahead and just install the entire update from the ninemoons ftp site and 
once done, will try out the "mousey" program with the -lm option.  I'll let everyone 
know the results when completed.

Thanks so much Malek,

Jeff

On Mon, Dec 27, 1999, at 02:00 PM, Malek Bengougam wrote:

> From: "Malek Bengougam" <malek_b@hotmail.com>
> 
> 
> 
> 
> >From: Jeff Pierce <jeffanim5@loop.com>
> >Hello,
> 
> Hi,
> 
> [...]
> >I then compiled using the
> >the Geek Gadgets "gcc" with the following command line:
> >   > gcc -o mousey mousetest.c
> >
> >   "Obsolete ixemul.library syscall number used.
> >   Relink program with current ixemul crt0.o and libc.a."
> 
> You didn't have the latest ixemul (47.6 or 48.0) or some files are 
> missing...
> 
> >I also tried compiling with:
> >   > gcc -noixemul libnix -o mousey mousetest.c
> >and got,
> >   "gcc: libnix: no such file or directory"
> 
> Here GCC thinks that "libnix" is a linkable file ;)
> You should remove "libnix" to make it work :)
> 
> Don't forget to install the libnix package...
> Another thing that maybe useful (described in libnix.guide):
> When compiling programs with call to std mathlib (cos(), sin() etc..)
> you should add -lm to the commandline because libnix patches all Math.h 
> functions.
> 
> >I am
> >currently using OS3.5 on my A3000.  Any assistance would be greatly 
> >appreciated.
> 
> no problem, just post to this list ;)
> 
> >Thanks,
> >Jeff
> 
> bye
> 
> ---
> Etonnant non ?
> Malek "Season/Virtualize"
> 
> >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 

@ENDNODE
@NODE "Mail_182" " Re: ixemul.library problems "
From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
Date: 12-27-99 19:23:16
Subject: @{b}Re: ixemul.library problems@{ub}

From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>

Hello Jeff

On 27-Dec-99, you wrote:

» From: Jeff Pierce <jeffanim5@loop.com>
» 
» Hi David,
»     Thank you for the reply. I went ahead and tried the first option you
» suggested and got the following:
» 
» /ade/lib/libnix/libstubs.a(__initlibraries.o)(.text+0x36): undefined
» reference to `__openliberror'
» collect2: ld returned 1 exit status
» 
» The second option yielded the same results. I'm wondering if perhaps not
» updating the ixemul includes and ixemul environment variables may have
» something to do with the results. I only updated the ixemul libraries
» (ixemul.library, ixemul.trace, ixnet.library) from the ninemoons ftp site:
» 
» ftp://ftp.ninemoons.com/pub/geekgadgets/amiga/m68k/snapshots/990529/bin/
» ixemul-48.0-bin.tgz
» 
» What should I try to do next?
» 
» Thanks,
» Jeff
» 

Well unless you are trying to port UNIX code you don't need to use ixemul
libraries
as they just make compilation of UNIX code easier (I think). The above error
seems
to be saying that the autoinit code of libnix (in initlibraries.o) is
referencing
a function called __openliberror() which does not exist. Unfortunatly it's
been
a few months sine I used GCC and I don't know if what i'm writing is correct
so
I cannot help you any further however I'm sure someone else will be able to
help you

Kind Regards

Dave `Trebor' Arbuthnot

@ENDNODE
@NODE "Mail_183" " RE: ixemul.library problems "
From: Jeff Pierce <jeffanim5@loop.com>
Date: 12-28-99 05:37:33
Subject: @{b}RE: ixemul.library problems@{ub}

From: Jeff Pierce <jeffanim5@loop.com>

Hi Malek,
     Success!!!! : )  I read further into the geek gadgets documentation where
they talk about doing cross platform development on the Amiga and indicated you
needed the fd2inline, libamiga, libnix, ixemul-environment and ixemul-includes
files.  So I went ahead and downloaded these .tgz files from the ftp://ninemoons.
com site and extracted using tar -xvpzf, then updated the appropriate directories
on my hard disk partition "GGDisk".  Recompiled with:
	 gcc -noixemul -o mousey mousetest.c

No strange messages occured, a good sign. :), then executed "mousey".  Voila, 
the correct output window with message prompts appeared and I proceeded with
the test, taking the mouse out of the left port and plugging into the right,
clicking and movement.  All went as designed in the C program.

As you said, when the -noixemul option is applied the compiler then uses libnix
for the appropriate Amiga patches.  Thanks for your assistance Malek.  Now the
next chapter is understanding the how & why :).

Jeff

"Long live Amiga, the computer of the century and beyond"

On Mon, Dec 27, 1999, at 02:00 PM, Malek Bengougam wrote:

> From: "Malek Bengougam" <malek_b@hotmail.com>
> 
> 
> 
> 
> >From: Jeff Pierce <jeffanim5@loop.com>
> >Hello,
> 
> Hi,
> 
> [...]
> >I then compiled using the
> >the Geek Gadgets "gcc" with the following command line:
> >   > gcc -o mousey mousetest.c
> >
> >   "Obsolete ixemul.library syscall number used.
> >   Relink program with current ixemul crt0.o and libc.a."
> 
> You didn't have the latest ixemul (47.6 or 48.0) or some files are 
> missing...
> 
> >I also tried compiling with:
> >   > gcc -noixemul libnix -o mousey mousetest.c
> >and got,
> >   "gcc: libnix: no such file or directory"
> 
> Here GCC thinks that "libnix" is a linkable file ;)
> You should remove "libnix" to make it work :)
> 
> Don't forget to install the libnix package...
> Another thing that maybe useful (described in libnix.guide):
> When compiling programs with call to std mathlib (cos(), sin() etc..)
> you should add -lm to the commandline because libnix patches all Math.h 
> functions.
> 
> >I am
> >currently using OS3.5 on my A3000.  Any assistance would be greatly 
> >appreciated.
> 
> no problem, just post to this list ;)
> 
> >Thanks,
> >Jeff
> 
> bye
> 
> ---
> Etonnant non ?
> Malek "Season/Virtualize"
> 
> >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 

@ENDNODE
@NODE "Mail_184" " RE: Setting up GCC "
From: Jeff Pierce <jeffanim5@loop.com>
Date: 12-28-99 07:30:36
Subject: @{b}RE: Setting up GCC@{ub}

Hi Charles,
     I've got the entire install instructions attached for you in amiga.guide format
taken from the Geek Gadgets CD v2.  The guide can also be obtained from the 
geek gadgets website:  http://www.ninemoons.com/GG/.  I would recommend the
easiest path is purchasing the CD (for the beginner) and then let the install
program take care of the set up.  The gcc archive at the ninemoons ftp site is rather
ubiquitous in it's components and would most likely intimidate the newcomer,
that's why I bought the CD :D.  

I'm assuming you're setting up gcc from files you downloaded from the ftp site.
The best way to extract the files is to use the "tar" utility found on aminet.

Be sure all files are in the partition you created for gcc (about 300MB).
On the cli, CD to the partition you created for gcc and enter "tar -xvpzf 'filename'" 
which will create the files and directories.

After that the installation instructions should see you through the completion of
the setup.  One important note:  As far as I know right now, the ninemoons ftp.
site does not have the necessary amiga libraries & includes that you need to run
amiga specific programs.  You must obtain those from the CD.  You should however be
able to write, compile and run most any Unix C program out there.  I tried some
examples from a C programming book and they compiled and executed just fine.

Hope this helps as I am a newcomer to C programming.

Jeff
     

On Mon, Dec 27, 1999, at 01:48 PM, Charles Barr wrote:

> From: Charles Barr <charlie@amigaforever.free-online.co.uk>
> 
> Hello,
>      Is there any detailed guides on the internet on setting up
> gcc. or would anyone be willing to help me do it.
> 
> I would be gratefule for any help.
> 
> Kind regards
> -- 
> <sb>
>           Charles Barr
>    Emerald Amiga Users
> <sb>
>    URL:  http://www.emerald.org.uk/wordpad/
> <sb>
> 
> I like pigs. Dogs look up to us. Cats look down on us. Pigs treat
> us as equals.
> -- Winston Churchill
> 
> >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
@ENDNODE
@NODE "Mail_185" " RE: Re: ixemul.library problems "
From: Jeff Pierce <jeffanim5@loop.com>
Date: 12-28-99 07:32:34
Subject: @{b}RE: Re: ixemul.library problems@{ub}

From: Jeff Pierce <jeffanim5@loop.com>

Hi David,
     Thanks for your help.  I plowed over the geek gadgets documentation and found
the answer.  I didn't update all the necessary files.  Now the program executes
and runs properly, no more error msgs.  See my post.

Kind Regards,
Jeff

On Mon, Dec 27, 1999, at 06:23 PM, David Arbuthnot wrote:

> From: David Arbuthnot <Trebor@Digital.Prestel.co.uk>
> 
> Hello Jeff
> 
> On 27-Dec-99, you wrote:
> 
> » From: Jeff Pierce <jeffanim5@loop.com>
> » 
> » Hi David,
> »     Thank you for the reply. I went ahead and tried the first option you
> » suggested and got the following:
> » 
> » /ade/lib/libnix/libstubs.a(__initlibraries.o)(.text+0x36): undefined
> » reference to `__openliberror'
> » collect2: ld returned 1 exit status
> » 
> » The second option yielded the same results. I'm wondering if perhaps not
> » updating the ixemul includes and ixemul environment variables may have
> » something to do with the results. I only updated the ixemul libraries
> » (ixemul.library, ixemul.trace, ixnet.library) from the ninemoons ftp
> site:
> » 
> » ftp://ftp.ninemoons.com/pub/geekgadgets/amiga/m68k/snapshots/990529/bin/
> » ixemul-48.0-bin.tgz
> » 
> » What should I try to do next?
> » 
> » Thanks,
> » Jeff
> » 
> 
> Well unless you are trying to port UNIX code you don't need to use ixemul
> libraries
> as they just make compilation of UNIX code easier (I think). The above
> error
> seems
> to be saying that the autoinit code of libnix (in initlibraries.o) is
> referencing
> a function called __openliberror() which does not exist. Unfortunatly it's
> been
> a few months sine I used GCC and I don't know if what i'm writing is
> correct
> so
> I cannot help you any further however I'm sure someone else will be able to
> help you
> 
> Kind Regards
> 
> Dave `Trebor' Arbuthnot
> 
> >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 

@ENDNODE
@NODE "Mail_186" " Re: Re: ixemul.library problems "
From: Malek Bengougam <malek_b@hotmail.com>
Date: 12-28-99 10:04:03
Subject: @{b}Re: Re: ixemul.library problems@{ub}

From: "Malek Bengougam" <malek_b@hotmail.com>

Hi,

>Well unless you are trying to port UNIX code you don't need to use ixemul
>libraries
>as they just make compilation of UNIX code easier (I think).

Depending on the version, GCC requires or not ixemul.library
I think that all version above 2.6.x need ixemul.
Nevertheless, when you compile programs without the -noixemul option, they 
will require ixemul.library to run !!
GCC always links with ixemul if the -noixemul option hasn't been passed.

bye.

---
Etonnant non ?
Malek 'Season/Virtualize'

@ENDNODE
@NODE "Mail_187" " Re: Setting up GCC "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-28-99 11:25:37
Subject: @{b}Re: Setting up GCC@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 28-Dec-99, Jeff Pierce wrote:

> Hi Charles,
>     I've got the entire install instructions attached for you [...]

Argh! Maybe we should ban that user or disallow attachments, cause this is too
much! Atleast you could have compressed the file... :-(

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Error: Keyboard not found! Press F1 to resume.

@ENDNODE
@NODE "Mail_188" " Setting up gcc for PPC "
From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
Date: 12-28-99 14:51:55
Subject: @{b}Setting up gcc for PPC@{ub}

From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

Hello all,

I've managed to set up gcc to compile programs for the 68k (including OS
calls). What steps do I need to go through to be able to compile PPC
programs? (Preferably Warpup, though I'll settle for PowerUp as an
intermediary step)


Thanks,
-- 
Daithi O'Cuinn
docuinn@cluke.demon.co.uk

@ENDNODE
@NODE "Mail_189" " Re: Setting up GCC "
From: Nuno Trancoso <ng13577a@netc.pt>
Date: 12-28-99 17:52:47
Subject: @{b}Re: Setting up GCC@{ub}

From: Nuno Trancoso <ng13577a@netc.pt>

Hya Allan

> Argh! Maybe we should ban that user or disallow attachments, cause this is too
> much! Atleast you could have compressed the file... :-(

Ban is not necessary. Comon sense is. You're right. The compressed file with
LZX would take 1/3 it's size. But it would be even better if he had written the
attachment contents on the msg subject. I already have GEEK GADGETS (1&2)
but i downloaded the msg because i didn't knew what was in it.

Maybe in further attachments ppl could consider to LZX/LHA the files and
write a description on the msg subject. If they do so, we can reject unwanted
stuff when we start the download from the server (at least with YAM, but i guess
other mailers do that too)

My 2cents worth of opinion :))

Cya L8r,

DarkShadow
aka Nuno Trancoso
-- 
Infinity takes it's time.

@ENDNODE
@NODE "Mail_190" " CyberGraphx and GCC "
From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
Date: 12-28-99 18:16:18
Subject: @{b}CyberGraphx and GCC@{ub}

From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

Hello,

I'm trying to install CybergraphX with GCC. I've copied over the includes
found on the CGFX4 CD, but when trying to compile the supplied example, I get

Compiling & Linking Window... 
gcc Window.c -s -O2 -noixemul -o Window
In file included from Window.c:17:
/GNUINCLUDE/inline/cybergraphics.h:14: libraries/cybergraphics.h: No such file
or directory

Where should I get this libraries/cybergraphics.h? It doesn't seem to be on
the CD.

Thanks,
-- 
Daithi O'Cuinn
docuinn@cluke.demon.co.uk

@ENDNODE
@NODE "Mail_191" " RE: Re: Setting up GCC "
From: Jeff Pierce <jeffanim5@loop.com>
Date: 12-29-99 05:42:52
Subject: @{b}RE: Re: Setting up GCC@{ub}

From: Jeff Pierce <jeffanim5@loop.com>

My humble apologies to all in the Amiga development community.
     Yes, I should have used .lha or .zip to compress the attachment.  Both
utilities are available on my system.  Should have thought of that beforehand.

Kind Regards,
Jeff

On Tue, Dec 28, 1999, at 11:25 AM, Allan Odgaard wrote:

> From: Allan Odgaard <Duff@DIKU.DK>
> 
> On 28-Dec-99, Jeff Pierce wrote:
> 
> > Hi Charles,
> >     I've got the entire install instructions attached for you [...]
> 
> Argh! Maybe we should ban that user or disallow attachments, cause this is
> too
> much! Atleast you could have compressed the file... :-(
> 
> Regards Allan
> -- 
>      URL: http://www.DIKU.dk/students/duff/
> <sb>
> Error: Keyboard not found! Press F1 to resume.
> 
> >      -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 

@ENDNODE
@NODE "Mail_192" " Re: GCC & Cybergraphics "
From: Malek Bengougam <malek_b@hotmail.com>
Date: 12-29-99 10:33:45
Subject: @{b}Re: GCC & Cybergraphics@{ub}

From: "Malek Bengougam" <malek_b@hotmail.com>

hi,

Accidentally I deleted a mail concerning compiling cgfx programs with 
GCC...as I remember what was the pbl, here is my answer:
What is missing is the cybergraphics.h inline file. You need to generate it 
by yourself using fd2inline which you feed with cybergraphics.fd (on the 
cgx4 CD)...
For EGCS PowerUp/WarpUp you should use the fd2inline from the PPCdev 
package..then typing fd2inline -powerup (or -ppc, I don't remember exactly 
..)

et voila ;)

---
Etonnant non ?
Malek 'Season/Virtualize'

@ENDNODE
@NODE "Mail_193" " Re: GCC & Cybergraphics "
From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
Date: 12-29-99 13:16:45
Subject: @{b}Re: GCC & Cybergraphics@{ub}

From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

Hello Malek

On 29-Dec-99, Malek Bengougam wrote:
> From: "Malek Bengougam" <malek_b@hotmail.com>
> 
> hi,
> 
> Accidentally I deleted a mail concerning compiling cgfx programs with 
> GCC...as I remember what was the pbl, here is my answer:
> What is missing is the cybergraphics.h inline file. You need to generate it 
> by yourself using fd2inline which you feed with cybergraphics.fd (on the 
> cgx4 CD)...

I was thinking this, but the error was

/GNUINCLUDE/inline/cybergraphics.h:14: libraries/cybergraphics.h: No such file

So I do already have an inline file, it is the libraries file I lack, whatever
this is...

Regards
-- 
Daithi O'Cuinn
docuinn@cluke.demon.co.uk

@ENDNODE
@NODE "Mail_194" " Re: Setting up GCC "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-29-99 13:18:36
Subject: @{b}Re: Setting up GCC@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 28-Dec-99, Nuno Trancoso wrote:

> [...] Maybe in further attachments ppl could consider to LZX/LHA the files
> and write a description on the msg subject. If they do so, we can reject
> unwanted stuff when we start the download from the server [...]

Not everybody have this option (including me) which is why attachments are
generally disallowed in mailinglists and other public forums, unless they
don't exceed a few kilobytes...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Don't worry about people stealing your ideas. If your ideas are any good,
you'll have to ram them down people's throats.
-- Howard Aiken

@ENDNODE
@NODE "Mail_195" " Re: Re: GCC & Cybergraphics "
From: Malek Bengougam <malek_b@hotmail.com>
Date: 12-29-99 13:57:35
Subject: @{b}Re: Re: GCC & Cybergraphics@{ub}

From: "Malek Bengougam" <malek_b@hotmail.com>




>From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
>Reply-To: amiga-c@onelist.com

>I was thinking this, but the error was
>/GNUINCLUDE/inline/cybergraphics.h:14: libraries/cybergraphics.h: No such 
>file

ah yes ;) Just copy your cybergraphics.h file (the one in cgx4 CD) to the 
"libraries" directory...I remember having had this trouble too, and it's how 
I solved it ;)

>So I do already have an inline file, it is the libraries file I lack, 
>whatever
>this is...

just try and tell me ;)

bye
---
Etonnant non ?
Malek 'Season/Virtualize'

@ENDNODE
@NODE "Mail_196" " Re: GCC & Cybergraphics "
From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
Date: 12-29-99 19:18:14
Subject: @{b}Re: GCC & Cybergraphics@{ub}

From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>

Hello Malek

On 29-Dec-99, Malek Bengougam wrote:
> From: "Malek Bengougam" <malek_b@hotmail.com>
> 
> 
> 
> 
>> From: Daithi O'Cuinn <docuinn@cluke.demon.co.uk>
>> Reply-To: amiga-c@onelist.com
> 
>> I was thinking this, but the error was
>> /GNUINCLUDE/inline/cybergraphics.h:14: libraries/cybergraphics.h: No such 
>> file
> 
> ah yes ;) Just copy your cybergraphics.h file (the one in cgx4 CD) to the
> "libraries" directory...I remember having had this trouble too, and it's how
> I solved it ;)

Oh yes, it seems to work now... how odd!

Thanks!

Regards
-- 
Daithi O'Cuinn
docuinn@cluke.demon.co.uk

@ENDNODE
@NODE "Mail_197" " Re: Re: event handling problem "
From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
Date: 12-29-99 19:21:48
Subject: @{b}Re: Re: event handling problem@{ub}

From: Ben Hutchings <womble@zzumbouk.demon.co.uk>

On Sun, Dec 26, 1999 at 10:31:19PM -0500, Bob Lanham wrote:
<snip> 
> Thanks for the tip regarding break/return.  It gave me the idea of
> replying to any and all messages at the top, before going into the
> switch block, and only dealing with a single possible message.  It
> works!
> 
>     message = (struct IntuiMessage *)GetMsg(win->UserPort);
>     mclass = message->Class;
>     code   = message->Code;
> 
>     // reply to all messages
>     while (NULL != (message = (struct IntuiMessage
> *)GetMsg(win->UserPort)))
>         ReplyMsg((struct Message *)message);
<snip>

But this code throws away all the other messages.  You don't want to
do that.

-- 
Ben Hutchings - womble@zzumbouk.demon.co.uk, http://www.zzumbouk.demon.co.uk
Team *AMIGA* | Jay Miner Society | Linux - the choice of a GNU generation
friends: People who know you well, but like you anyway.

@ENDNODE
@NODE "Mail_198" " Re: event handling problem "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 12-30-99 03:47:11
Subject: @{b}Re: event handling problem@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

On 29-Dec-99, Ben Hutchings wrote:

> From: Ben Hutchings <womble@zzumbouk.demon.co.uk>
> 
> On Sun, Dec 26, 1999 at 10:31:19PM -0500, Bob Lanham wrote:
> <snip> 
>> Thanks for the tip regarding break/return.  It gave me the idea of
>> replying to any and all messages at the top, before going into the
>> switch block, and only dealing with a single possible message.  It
>> works!
>> 
>>     message = (struct IntuiMessage *)GetMsg(win->UserPort);
>>     mclass = message->Class;
>>     code   = message->Code;
>> 
>>     // reply to all messages
>>     while (NULL != (message = (struct IntuiMessage
>> *)GetMsg(win->UserPort)))
>>         ReplyMsg((struct Message *)message);
> <snip>
> 
> But this code throws away all the other messages.  You don't want to
> do that.

Agreed... Not unless we have received a IDCMP_CLOSEWINDOW, at wich point we would like to reply all messages, before we close our window. The above example will unable us to que signals, wich is NOT a bonus. Just reply the messages BEFORE you close the window, and you'll be fine.

@ENDNODE
@NODE "Mail_199" " Re: Version String, CPU detection "
From: Steffen <steffen.mars@stenloese.mail.telia.com>
Date: 12-30-99 04:00:09
Subject: @{b}Re: Version String, CPU detection@{ub}

From: Steffen <steffen.mars@stenloese.mail.telia.com>

Hello Fritsch

No Y2k probs with version, but there is a Y2113 prob ;->

On 23-Dec-99, Fritsch Alexander claimed:
> From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>
> 
> Thanks to all for the replies.
> I will of course use the format from the style guide.
> 
> According to my tests and your suggestions my fault was the 4-digit-year.
> (19.12.1999). If I use only (19.12.99) all works fine. But what should I do
> next year? Should I use 00? Do we have a Y2K-problem here? (I think of
> discriminating newer versions from older)
> 
> Mery Christmas and a happy new year!
> Alexander
> 
> >     -> Spread the URL: http://www.onelist.com/subscribe/amiga-c <- 
> 
Regards

@ENDNODE
@NODE "Mail_200" " Where in the World is AppIcon? "
From: BlackMael <harrism@ihug.co.nz>
Date: 12-30-99 15:07:07
Subject: @{b}Where in the World is AppIcon?@{ub}

From: BlackMael <harrism@ihug.co.nz>

Greetings and Salutations.

Say you've added a nice wee AppIcon to your application.
How does the application know the current position of its AppIcon?


Yours, etc etc.
   _Martin_

-- 
I have made this letter longer than usual because I lack the time to
make it shorter.
-- Blaise Pascal
-- 
<sb>*BlackMael*
<sb>UIN 12938250
<sb>Team *AMIGA*

@ENDNODE
@NODE "Mail_201" " Re: Version String again... "
From: Yves Grabowsky <YvesGrabowsky@t-online.de>
Date: 12-30-99 19:41:31
Subject: @{b}Re: Version String again...@{ub}

From: YvesGrabowsky@t-online.de (Yves Grabowsky)

Hello amiga-c@onelist.com,

On 27-Dez-99 you wrote the following about [amiga-c] Version String again...:
> From: amiga-c@onelist.com
> 
> Hi Guys,
> 
>>  Yes, there is a Y2K problem with the "Version" command. As I wrote, it
>> adds 1900+<year number> to calculate the actual year number. Thus, "00" would
>> be just as wrong as "2000", see?
> 
> So version prints a garbage date if <year> is set to either 00 or 2000.
> Someone has already pointed out that setting the year to 100 works as a
> temporary fix.  (Version seems to parse the date correctly, and at least the
> day and month values match what they are in the version string!)
> 
> Would someone like to comment the likelihood of this method working with
> future versions of version?

I just tried OS3.5 version with "00" and "2000" and it works perfectly. Maybe a
bug in OS3.1 and down?

> 
> All the best,

Cu,
-- 
Yves Grabowsky
*ICQ:* 18762984
<tsb>*AminetFileRequester 1.0 out now! Get it!*
<tsb>Author of AminetFTPMail, AminetGetFTP, AmiURLRequester and SeekHTTP
<sb>*http://members.tripod.com/~rexxmaster/*
<sb>*http://www.iceman.nu/rexxmaster/*
<tsb>AMIGA rulez!

@ENDNODE
@NODE "Mail_202" " Re: Style guide - Page Up/Down "
From: Allan Odgaard <Duff@DIKU.DK>
Date: 12-30-99 22:31:43
Subject: @{b}Re: Style guide - Page Up/Down@{ub}

From: Allan Odgaard <Duff@DIKU.DK>

On 27-Dec-99, Alastair M. Robinson wrote:

> It works with just about any program which uses either standard
> scrollbars or responds to cursor up/down keystrokes.  Multiview seems
> to use shift-up/down to scroll a complete page at a time, but YAM's
> viewer seems to use alt-up/down.

YAM's viewer has configurable keys, which is definitely the best solution!
The styleguide does define shift for page movement and alt for 'semantic
units', though YAM defaults to alt for page movement as shift is used for
marking, and the styleguide doesn't really offer any ways to do that, which is
why I didn't follow it that closely when I had to select default keys...

Regards Allan
-- 
     URL: http://www.DIKU.dk/students/duff/
<sb>
Press any key to continue or any other key to quit...

@ENDNODE
@NODE "Mail_203" " Re: Re: Version String again... "
From: Oliver Roberts <oliver.roberts@iname.com>
Date: 12-31-99 00:19:13
Subject: @{b}Re: Re: Version String again...@{ub}

From: "Oliver Roberts" <oliver.roberts@iname.com>

On 30-Dec-99 18:41:31 GMT, Yves Grabowsky wrote:

> On 27-Dez-99 you wrote the following about [amiga-c] Version String
> again...:
>> From: amiga-c@onelist.com
>> 
>>>  Yes, there is a Y2K problem with the "Version" command. As I wrote, it
>>> adds 1900+<year number> to calculate the actual year number. Thus, "00"
>>> would be just as wrong as "2000", see?
>> 
>> So version prints a garbage date if <year> is set to either 00 or 2000.
>> Someone has already pointed out that setting the year to 100 works as a
>> temporary fix.  (Version seems to parse the date correctly, and at least
>> the day and month values match what they are in the version string!)
>> 
>> Would someone like to comment the likelihood of this method working with
>> future versions of version?

> I just tried OS3.5 version with "00" and "2000" and it works perfectly.
> Maybe a bug in OS3.1 and down?

Yes, the Version command in OS3.0 and OS3.1 shows a gibberish date using
those years (and indeed 1999 also).  As you say, it works just fine with
the OS3.5 version.

Funnily enough, the version command in OS 2.1 (or earlier) works too,
because it doesn't bother interpreting the date and just prints it out
"as is".

-- 
 *Oliver Roberts*  -  Norwich, UK  -  Software Developer & Web Designer
 /oliver.roberts@iname.com/  |  /oliver@amigaf1.freeserve.co.uk/
 http://www.nanunanu.org/~oliver/  -  ICQ: 34640231
-- 
 Upgrade your Pace 56 Solo  ==>  http://www.nanunanu.org/~oliver/soloup/
<tsb>

@ENDNODE
@NODE "Mail_204" " Re: Version String again... "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 12-31-99 10:56:40
Subject: @{b}Re: Version String again...@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi Oliver,

On 30-Dec-99 you wrote: Re: [amiga-c] Re: Version String again...

>> I just tried OS3.5 version with "00" and "2000" and it works
>> perfectly. Maybe a bug in OS3.1 and down?
> 
> Yes, the Version command in OS3.0 and OS3.1 shows a gibberish date
> using those years (and indeed 1999 also). As you say, it works just
> fine with the OS3.5 version.

Speaking of which, I've been doing some last minute Y2K checks myself
and have noticed that Hisoft C++ (v4.1) is at fault with Y2K. The
actual problem is associated with the C compiler symbols __DATE__ and
__DATE2__ which allow you to insert the current date into a string.

If I set my clock to 01-Jan-99 Hisoft works fine and produces:

 __DATE__ = "Jan 01 1999"
__DATE2__ = "01.01.99"

but if I set my clock forward to 01-Jan-00 Hisoft gives me this:

 __DATE__ = "Jan 01 19:0"
__DATE2__ = "01.01.:0" 

I find this really annoying because I have lots of sources with
these symbols in it and I only bought this compiler less than 6 months
ago. I don't think Hisoft C++ is being updated anymore, my version
was last modified in 1997. :-/


I wonder how many programs on Aminet are going to fail with Y2K, I'd
say there'd be a lot, especially the older ones.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
I am Norm of Borg. Bar tabs are futile, beer will be assimilated.

@ENDNODE
@NODE "Mail_205" " Check your sources for Y2K bugs! "
From: Andrew Bell <andrew.ab2000@bigfoot.com>
Date: 12-31-99 14:03:01
Subject: @{b}Check your sources for Y2K bugs!@{ub}

From: Andrew Bell <andrew.ab2000@bigfoot.com>

Hi all,

I've been doing some checks with Hisoft C++ (which is based on the
Maxon C++ compiler) and have noticed that the Maxon ANSI link lib is
not Y2K compliant. The function at fault is strftime() (and possibly
a few others too).

If you have the Hisoft C++/Maxon C++ compilers and run the following
code (make sure your clock is set to the year 2000), you'll see that
the year digits are always wrong.

----------------------------------

#include <stdio.h>
#include <time.h>

int main( void )
{
    unsigned char buf[256];
    time_t now = time(NULL);
    struct tm *tmnow = localtime(&now);
    
    if (strftime(buf, 256,
        "Y = '%Y' (complete year, including the century)\n"
        "y = '%y' (year without the century)\n"
        "x = '%x' (shorthand date)\n"
        "c = '%c' (shorthand date and time)\n" , tmnow) == 0)

        printf("Call to strftime() failed!\n")
    else
        printf(buf);

    return 0;
}

-------------------------

The results are the same every time I run this code. The only solution
I can see is to avoid linking in strftime() and use some alternative
date routines or fix/patch your lib. So if you're using Hisoft
C++/Maxon C++, check your sources and spread the word!

Since link libs are static, this means that any Maxon compiled
programs out there that use strftime() will fail when constructing
their year strings. The extent and seriousness of the failures will
be unknown until the programs are tested in the year 2000.

Regards, Andrew Bell.
-- 

+----------------------------------------+ 
email: mailto:andrew.ab2000@bigfoot.com or
       mailto:andrew@ab2000.prestel.co.uk
web:   http://www2.prestel.co.uk/ab2000
+----------------------------------------+
Bring the whole family...but leave the kids at home.

@ENDNODE
@NODE "Mail_206" " AW: Re: Version String, CPU detection "
From: Duane McDonnell <dmcdonnell@primus.com.au>
Date: 12-01-00 08:34:23
Subject: @{b}AW: Re: Version String, CPU detection@{ub}

From: Duane McDonnell <dmcdonnell@primus.com.au>

>From: Fritsch Alexander <Alexander.Fritsch@icn.siemens.de>

>Thanks to all for the replies.
>I will of course use the format from the style guide.

>According to my tests and your suggestions my fault was the 4-digit-year.
>(19.12.1999). If I use only (19.12.99) all works fine. But what should I do
>next year?

Olaf says to use 2000, which strictly speaking breaks the published
specification (Olaf: perhaps Version should be changed to re-interpret
00 - 45 as being 2000 - 2045 and uploaded to Aminet?)

> Should I use 00? Do we have a Y2K-problem here? (I think of
>discriminating newer versions from older)

I have no idea :-)

A warning to SAS/C users: __AMIGADATE__ shouldn't be used either.
It strips leading 0's in the year too, so 2000 is output as 0,
for example, (1.1.0).  This is with 6.58, perhaps the updates
have resolved this (and if so, how?)

@ENDNODE
