# SMakefile for C2CWEB

# Compiler

CC=sc:c/sc
LINK=sc:c/sc link

# CWEB

CTANGLE=tex:bin/ctangle
CWEAVE=tex:bin/cweave

# TEX
#
# Use the bin directory if you do not use BigTeX
#
#TEX=tex:bin/virtex
TEX=tex:bigbin/virtex

all: c2cweb

c2cweb: c2cweb.o getopt.o alloca.o
   $(LINK) c2cweb.o getopt.o alloca.o to=c2cweb

# must be performed twice to get Index and Contents in the dvi
documentation: c2cweb.tex
   $(TEX) c2cweb.tex
   $(TEX) c2cweb.tex

c2cweb.tex: c2cweb.w
   $(CWEAVE) c2cweb.w

c2cweb.c: c2cweb.w
   $(CTANGLE) c2cweb.w

c2cweb.o: c2cweb.c getopt.h
   $(CC) c2cweb.c

getopt.o: getopt.c getopt.h
   $(CC) getopt.c

alloca.o: alloca.c
   $(CC) alloca.c
