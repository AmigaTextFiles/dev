##
## Smakefle
## ========
## Makefile for apputil link library.  Requires SAS/SMAKE.
##
## Copyright (C) 1999-2000 Håkan L. Younes (lorens@hem.passagen.se)
##

.o.lib:
	oml $(OMLFLAGS) $@ r $?


CDEFINES = def=__USE_SYSBASE
CDEBUGFLAGS = #debug=sf
COPTFLAGS = opt optsched utillib
CFLAGS = $(CDEFINES) $(CDEBUGFLAGS) $(COPTFLAGS) strict ansi nochkabort\
 noicons nover nostkchk nostkext params=b strmer

OMLFLAGS = -b -n
OBJS = buttonclass.o gadgets.o localize.o menus.o readargs.o requesters.o\
 settings.o windows.o strings.o

LIBDEST = :lib
INCLUDEDEST = :include


all: apputil.lib

apputil.lib: $(OBJS)

buttonclass.o: buttonclass.c
gadgets.o:     gadgets.c
localize.o:    localize.c
menus.o:       menus.c
readargs.o:    readargs.c
requesters.o:  requesters.c
settings.o:    settings.c
windows.o:     windows.c
strings.o:     strings.c

install:
	copy apputil.lib $(LIBDEST)
	copy apputil.h $(INCLUDEDEST)

clean:
	-delete \#?.o \#?.lib \#?.lha
