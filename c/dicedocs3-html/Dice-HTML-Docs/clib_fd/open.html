<html>
<head>
  <title>open command</title>
  <meta name="Generator" content="GuideML V1.6">
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body>
<a href="main.html">CONTENTS</a> | <a href="dice_index/main.html">INDEX</a> | <a href="mkdir.html">PREV</a> | <a href="read.html">NEXT</a>
<hr>
<pre>

 <b>open</b>

 NAME
  open  - open a file

 SYNOPSIS
  #include &#060;fcntl.h&#062;

  int fd = open(name, modes);
  char *name;
  int modes;

 FUNCTION
  Open a file of the specified name using the specified modes.  The
  modes combinations yield different results as described below:

  O_RDONLY    open file for reading only
  O_WRONLY    open file for writing only
  O_RDWR      open file for reading and writing
  O_NDELAY    open file non-blocking (not implemented)
  O_APPEND    open file for writing only and force all writes to
              append to the file regardless of the current seek position.
  O_CREAT     create the file if it DOES NOT exist
  O_TRUNC     truncate the file if it DOES exist
  O_EXCL      used only with O_CREAT, if the file already exists the
              open will fail

  O_BINARY    open file for binary reading and writing, vs text.  This
          flag is ignored by DICE since there is no difference on
          the Amiga.  However, on IBM systems CR-LF must be
          converted to an LF when reading text files.

  open returns a descriptor (&#062;= 0) or error (&#060; 0) on failure.

 NOTE
  refer to the file_descriptor manual page for general information

  Unlike file pointers and file handles, the file descriptor is
  checked for validity and will simply return an error if illegal.

 EXAMPLE
  #include &#060;fcntl.h&#062;
  #include &#060;assert.h&#062;

  main()
  {
      int fd;

      fd = open(&quot;T:xx&quot;, O_WRONLY|O_CREAT|O_TRUNC);
      assert(fd &#062;= 0);
      close(fd);

      fd = open(&quot;T:xx&quot;, O_CREAT|O_EXCL|O_TRUNC|O_WRONLY);
      assert(fd &#060; 0);     /*  should fail, file already exists */
      remove(&quot;T:xx&quot;);

      fd = open(&quot;T:xx&quot;, O_CREAT|O_TRUNC|O_WRONLY);
      assert(fd &#062;= 0);    /*  should work     */
      write(fd, &quot;FuBarn&quot;, 6);
      close(fd);

      fd = open(&quot;T:xx&quot;, O_APPEND|O_WRONLY);
      assert(fd &#062;= 0);
      write(fd, &quot;BxBarn&quot;, 6);
      close(fd);

      return(0);
  }

  1&#062; sampleprg
  1&#062; type t:xx
  FuBar
  BxBar
  1&#062;

 INPUTS
  char *name;     filename to open
  long modes;     modes to open the file with

 RESULTS
  int fd;         A file descriptor if &#062;= 0, an error if &#060; 0.


</pre>
</body>
</html>
