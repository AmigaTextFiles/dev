<html>
<head>
  <title>fdtolib Commands</title>
  <meta name="Generator" content="GuideML V1.6">
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body>
<a href="main.html">CONTENTS</a> | <a href="dice_index/main.html">INDEX</a> | <a href="expand.html">PREV</a> | <a href="fdtopragma.html">NEXT</a>
<hr>
<pre>


 FUNCTION
 Create Link Libraries from .FD files

 SYNOPSIS
 FDTOLIB files/wildcard.fd [-h hdrfile] -o libname [-mr] [-mD]

 DESCRIPTION
 FDTOLIB will create an amiga standard link library out of specified
 .FD files (for example, you can generate most of amiga.lib by using
 the .FD files on your 1.3 Extras disk).  .FD files are a standard
 format file that describe the function names and offsets of shared
 Amiga (Exec) libraries.  See section for a description of the format.
 fdtolib creates the interface stubs and the AutoInit code used by
 DICE to automatically open and close the library.

 Basically, FDTOLIB will generate one of four types of libraries:

  Option  : Library Type
  ========+=========================================================
  default : small-data model
  --------+---------------------------------------------------------
  -mD     : large-data model
  --------+---------------------------------------------------------
  -mr     : small-data model + DICE registered parameters entry pts
  --------+---------------------------------------------------------
  -mr -mD : large-data model + DICE registered parameters entry pts
  --------+---------------------------------------------------------

 If -mr is used suitable prototypes must be specified with the -h
 option. In this case, FDTOLIB will run DCC with a special option to
 have it generate a register-specification file for it to match up
 again the .FD files.

 FDTOLIB then proceeds to scan the .FD files, creating temporary
 assembly files in T: and assembling them with DAS, then appending
 them to

 the output library and deleting the scratch files.  This step occurs
 for each function in each .FD files.

 (For faster operation, you will want to make DAS resident for the
 duration)

 If -mr was specified, FDTOLIB only generates library entries for
 those routines for which a prototype exists.  At the end of the run
 FDTOLIB will report any routines which existed in the .FD files but
 did not have a prototype.

 files/wildcard.fd specifies one or more files and/or AmigaDOS
 wildcarding that represents the .FD files that are to be processed
 into a library

 -h hdrfile
     hdrfile is a .H files that #include's all prototypes associated
     with the .FD files.  It is only used if the -mr option is
     specified

 -o libname
     specify output library name

    -mr  specify that a REGISTERED call interface library is to be
     generated (for DICE -m[r,R,RR] options), else generates a normal
     stack-args interface library.

    -mD  specify large-data model, else small-data model

 -I include-dir
     passed to DCC

 -p prefix  Set prefix (currently only for standard generation, doesn't work
     with -mr).  The default is a single underscore _.

  -prof  Generate profiling code for the tags.  This will cause all
     library calls to be profiled when the program that links with
     this library is run.

 -auto library
     Generate auto-init code for library after the tags.  library is
     the name of the shared library.  For example, -auto fubar.library

 -AUTO library
     Generate ONLY auto-init code for library (do not generate tags)

 SEE ALSO
 fdtopraga for a description of .fd file format.


</pre>
</body>
</html>
