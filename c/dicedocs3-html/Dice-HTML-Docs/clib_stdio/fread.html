<html>
<head>
  <title>fread command</title>
  <meta name="Generator" content="GuideML V1.6">
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body>
<a href="main.html">CONTENTS</a> | <a href="dice_index/main.html">INDEX</a> | <a href="fputs.html">PREV</a> | <a href="freopen.html">NEXT</a>
<hr>
<pre>

 fread

 NAME
  fread - read data from a file pointer

 SYNOPSIS
  #include &#060;stdio.h&#062;

  size_t robjs = fread(buf, objsize, nobjs, fp);
  void *buf;
  size_t objsize;
  size_t nobjs;
  FILE *fp;

 FUNCTION
  fread() reads an arbitrary number of objects from a file pointer
  into the specified buffer and returns the actual number of objects
  read.

  If the return value robjs is not equal to nobjs then fread() was
  unable to read the requested number of objects due to either a
  read error or EOF condition.  If the file is already completely
  exhausted fread() simply returns 0.

  Having two size arguments, an object size and number of objects,
  simplifies the reading of structure arrays off disk.

 NOTE
  To use fread to read an arbitrary number of bytes one normally
  uses the form:  r = fread(buf, 1, n, fp); ... i.e. n objects
  of size 1.

  fread() will attempt to read objsize * nobjs bytes into the
  specified buffer.

 EXAMPLE
  /*
   *  NOTE:   run fwrite() example before running this example
   *      to create the dummy file.
   */

  #include &#060;stdio.h&#062;

  #define NOBJS   10

  typedef struct {
      short   a, b, c, d;
  } MyObj;

  main()
  {
      FILE *fp;
      static MyObj Obj[NOBJS];

      if (fp = fopen(&quot;T:fwrite_tmp&quot;, &quot;rb&quot;)) {
      short n;
      while ((n = fread(Obj, sizeof(MyObj), NOBJS, fp)) &#062; 0) {
          short i;
          for (i = 0; i &#060; n; ++i) {
          printf(&quot;a = %-5d b = %-5d c = %-5d d = %-5dn&quot;,
              Obj[i].a, Obj[i].b, Obj[i].c, Obj[i].d
          );
          }
      }
      fclose(fp);
      } else {
      puts(&quot;Unable to open T:fwrite_tmp, run fwrite example first&quot;);
      exit(1);
      }
      return(0);
  }

 INPUTS
  void *buf;          buffer to load data into
  size_t objsize;     size of one object
  size_t nobjs;       number of objects to read
  FILE *fp;           file pointer to read objects from

 RESULTS
  size_t robjs;       number of objects actually read or 0 if EOF or ERROR.

 SEE ALSO
  fwrite, fopen, fclose, fseek, ftell, rewind


</pre>
</body>
</html>
