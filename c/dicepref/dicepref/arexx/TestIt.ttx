/*
 * ARexx-Script zur Steuerung des DICE aus TTX
 */

OPTIONS RESULTS

SetStatusBar "Working..."

/*
 * Filenamen des aktuelles Windows
 */

GetFilePath
fullname = RESULT

/*
 * Erzeugen einer temporären Script-Datei
 */

laenge = Index(fullname,".c")
IF laenge = 0 THEN DO
  SetStatusBar "Kein C-Source! Breche ab..."
  EXIT
END; ELSE DO
  ADDRESS COMMAND
  confenster = '"CON:0/400/703/111/Test des Executables/CLOSE/SCREENTURBOTEXT"'

  name = LEFT(fullname,laenge-1)

  CALL OPEN OUT,"t:AREXXTEMP",WRITE
  CALL WRITELN OUT, 'stack 20000'
  CALL WRITELN OUT, name
  CALL CLOSE OUT

/*
 * Aufruf einer Shell mit der Script-Datei
 */

  'NEWSHELL' ConFenster "t:ARexxTemp"
END;
EXIT
