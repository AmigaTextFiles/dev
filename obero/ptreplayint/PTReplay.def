DEFINITION PTReplay;

IMPORT
  E := Exec;

CONST
  ptReplayName = "ptreplay.library";

TYPE
  ModulePtr = UNTRACED POINTER TO Module;
  Module = STRUCT 
    modName : E.LSTRPTR;
  END;

TYPE
  SampleName = ARRAY 22 OF CHAR;
  SamplePtr = UNTRACED POINTER TO Sample;
  Sample = STRUCT 
    name : SampleName;
    length : E.UWORD;
    fineTune : E.UBYTE;
    volume : E.UBYTE;
    repeat : E.UWORD;
    repLen : E.UWORD;
  END;

VAR
  base : E.LibraryPtr;

PROCEDURE LoadModule(name: ARRAY OF CHAR): ModulePtr;
PROCEDURE UnloadModule(module: ModulePtr);
PROCEDURE Play(module: ModulePtr): LONGINT;
PROCEDURE Stop(module: ModulePtr): LONGINT;
PROCEDURE Pause(module: ModulePtr): LONGINT;
PROCEDURE Resume(module: ModulePtr): LONGINT;
PROCEDURE Fade(module: ModulePtr; speed: E.UBYTE);
PROCEDURE SetVolume(module: ModulePtr; speed: E.UBYTE);
PROCEDURE SongPos(module: ModulePtr): E.UBYTE;
PROCEDURE SongLen(module: ModulePtr): E.UBYTE;
PROCEDURE SongPattern(module: ModulePtr; position: E.UWORD): E.UBYTE;
PROCEDURE PatternPos(module: ModulePtr): E.UBYTE;
PROCEDURE PatternData(module: ModulePtr; pattern, row: E.UBYTE): E.APTR;
PROCEDURE InstallBits(module: ModulePtr; restart, nextPattern, nextRow, fade: E.UBYTE);
PROCEDURE SetupMod(moduleFile: E.APTR): ModulePtr;
PROCEDURE FreeMod(module: ModulePtr);
PROCEDURE StartFade(module: ModulePtr; speed: E.UBYTE);
PROCEDURE OnChannel(module: ModulePtr; channels: LONGSET);
PROCEDURE OffChannel(module: ModulePtr; channels: LONGSET);
PROCEDURE SetPos(module: ModulePtr; position: E.UBYTE);
PROCEDURE SetPri(priority: E.BYTE);
PROCEDURE GetPri(): E.BYTE;
PROCEDURE GetChannel(): E.UBYTE;
PROCEDURE GetSample(module: ModulePtr; number: E.UBYTE): SamplePtr;

END PTReplay.

