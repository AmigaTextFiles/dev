TABLE OF CONTENTS

GTLayout/--about--
GTLayout/--background--
GTLayout/--history--
GTLayout/--interface--
GTLayout/--about--                                         GTLayout/--about--

    $RCSfile: GTLayout.mod $
   $Revision: 1.1 $
       $Date: 1995/09/06 02:15:26 $
     $Author: phf $

 Description: AmigaOberon interface to gtlayout.library V20.1 which
              is Copyright © 1993-1995 by Olaf `Olsen' Barthel.

   Copyright: Copyright (c) 1995 by Peter Fröhlich [phf].
              All rights reserved.

     License: This  file  is  freely distributable as long as no
              money  is  made by distributing it.  If you modify
              it   please  let  me  know.   You  may  distribute
              modified versions as long as my original copyright
              is  respected  and  your modifications are clearly
              marked as such.  You may use it in any application
              you develop; it's royalty-free.

      e-mail: p.froehlich@amc.cube.net

     $Source: Users:Homes/phf/Programming/Development/GTLayout/REPOSITORY/GTL
ayout.mod $

GTLayout/--background--                               GTLayout/--background--

   PURPOSE

	AmigaOberon interface to gtlayout.library V20.1 which
       is Copyright © 1993-1995 by Olaf `Olsen' Barthel.

   NOTES

	Remember to check "base # NIL" before making any calls
	to the library. Also remember to check for the proper
	version using "GTLayout.base.lib.version >= needed".

	Some parts of the original gtlayout.h file have not yet
	been incorporated here, either because they were marked
	as obsolete or because I just couldn't make out what
	they do. Obsolete functions have been included in the
	library interface to remind me that there are functions
	at these offsets, but they can't be called.

   SEE ALSO

	gtlayout.doc

   REFERENCES

	Aminet: comm/term/term43#?

GTLayout/--history--                                     GTLayout/--history--

 $Log: GTLayout.mod $
 Revision 1.1  1995/09/06  02:15:26  phf
 Initial revision


GTLayout/--interface--                                 GTLayout/--interface--

DEFINITION GTLayout;

IMPORT
  E := Exec,
  I := Intuition,
  U := Utility,
  GT := GadTools,
  G := Graphics;

CONST
  gtLayoutName = "gtlayout.library";

CONST
  placeLeft = 0;
  placeRight = 1;
  placeAbove = 2;
  placeIn = 3;
  placeBelow = 4;

CONST
  alignTextLeft = 0;
  alignTextCentered = 1;
  alignTextRight = 2;
  alignTextPad = 3;

CONST
  tdbtBackward = 0;
  tdbtForward = 1;
  tdbtPrevious = 2;
  tdbtNext = 3;
  tdbtStop = 4;
  tdbtPause = 5;
  tdbtRecord = 6;
  tdbtRewind = 7;
  tdbtEject = 8;
  tdbtPlay = 9;
  tdbtLast = 10;

TYPE
  DispFunc = PROCEDURE(value: INTEGER; gadget: I.GadgetPtr): LONGINT;

CONST
  alignRight = 0;
  alignLeft = 1;
  alignTop = 2;
  alignBottom = 3;
  alignExtraRight = 4;
  alignExtraLeft = 5;
  alignExtraTop = 6;
  alignExtraBottom = 7;

CONST
  laChars = U.user + 2;
  laLabelPlace = U.user + 3;
  laExtraSpace = U.user + 4;
  laNoKey = U.user + 30;
  laHighLabel = U.user + 31;
  laLabelText = U.user + 37;
  laLabelID = U.user + 38;
  laID = U.user + 39;
  laType = U.user + 40;
  laPageSelector = U.user + 79;
  laLabelChars = U.user + 107;

CONST
  storeByte = U.user + 63;
  laByte = U.user + 63;
  storeUByte = U.user + 64;
  laUByte = U.user + 64;
  storeWord = U.user + 65;
  laWord = U.user + 65;
  storeBool = U.user + 65;
  laBool = U.user + 65;
  storeUWord = U.user + 66;
  laUWord = U.user + 66;
  storeLong = U.user + 67;
  laLong = U.user + 67;
  storeULong = U.user + 68;
  laULong = U.user + 68;
  storeStrPtr = U.user + 69;
  laStrPtr = U.user + 69;
  storeFraction = U.user + 68;
  laFraction = U.user + 68;

CONST
  laLeft = U.user + 16;
  laTop = U.user + 17;
  laWidth = U.user + 18;
  laHeight = U.user + 19;
  laLabelLeft = U.user + 114;
  laLabelTop = U.user + 115;

CONST
  latxPicker = U.user + 5;
  latxUsePicker = U.user + 5;
  latxLockSize = U.user + 106;

CONST
  lagrSpread = U.user + 6;
  lagrSameSize = U.user + 8;
  lagrLastAttributes = U.user + 46;
  lagrActivePage = U.user + 58;
  lagrFrame = U.user + 104;
  lagrIndentX = U.user + 130;
  lagrIndentY = U.user + 134;

CONST
  lafrInnerWidth = U.user + 9;
  lafrInnerHeight = U.user + 10;
  lafrDrawBox = U.user + 11;
  lafrRefreshHook = U.user + 117;

CONST
  labxLabels = U.user + 12;
  labxLines = U.user + 13;
  labxRows = U.user + 1;
  labxIndex = U.user + 14;
  labxText = U.user + 15;
  labxAlignText = U.user + 27;
  labxDrawBox = U.user + 11;
  labxFirstLabel = U.user + 44;
  labxLastLabel = U.user + 45;
  labxReserveSpace = U.user + 72;
  labxLabelTable = U.user + 98;

CONST
  lafcMaxChars = U.user + 20;
  lafcNumber = U.user + 21;
  lafcLastGadget = U.user + 28;
  lafcMin = U.user + 23;
  lafcMax = U.user + 24;
  lafcHistoryLines = U.user + 59;
  lafcHistoryHook = U.user + 80;

CONST
  laslFullCheck = U.user + 22;

CONST
  lalvExtraLabels = U.user + 26;
  lalvLabels = U.user + 33;
  lalvCursorKey = U.user + 35;
  lalvLines = U.user + 1;
  lalvLink = U.user + 7;
  lalvFirstLabel = U.user + 44;
  lalvLastLabel = U.user + 45;
  lalvMaxGrowX = U.user + 77;
  lalvMaxGrowY = U.user + 78;
  lalvLabelTable = U.user + 98;
  lalvLockSize = U.user + 106;
  lalvResizeX = U.user + 109;
  lalvResizeY = U.user + 110;
  lalvMinChars = U.user + 111;
  lalvMinLines = U.user + 112;
  lalvFlushLabelLeft = U.user + 113;
  lalvTextAttr = U.user + 138;

CONST
  lainLastGadget = U.user + 28;
  lainMin = U.user + 23;
  lainMax = U.user + 24;
  lainUseIncrementers = U.user + 57;
  lainIncrementers = U.user + 57;
  lainHistoryLines = U.user + 59;
  lainHistoryHook = U.user + 80;
  lainIncrementerHook = U.user + 85;

CONST
  lastLastGadget = U.user + 28;
  lastLink = U.user + 7;
  lastPicker = U.user + 5;
  lastUsePicker = U.user + 5;
  lastHistoryLines = U.user + 59;
  lastHistoryHook = U.user + 80;
  lastCursorPosition = U.user + 105;

CONST
  lapwString = GT.stString;
  lapwLastGadget = U.user + 28;
  lapwHistoryLines = U.user + 59;
  lapwHistoryHook = U.user + 80;

CONST
  lapaSmallPalette = U.user + 32;
  lapaLines = labxRows;
  lapaUsePicker = U.user + 137;
  lapaPicker = U.user + 137;

CONST
  labtReturnKey = U.user + 34;
  labtEscKey = U.user + 56;
  labtExtraFat = U.user + 29;
  labtLines = U.user + 140;
  labtFirstLine = U.user + 44;
  labtLastLine = U.user + 45;

CONST
  lagaPercent = U.user + 36;
  lagaInfoLength = U.user + 70;
  lagaInfoText = U.user + 71;
  lagaNoTicks = U.user + 143;
  lagaDiscrete = U.user + 144;
  lagaTenth = U.user + 144;

CONST
  lacyFirstLabel = U.user + 44;
  lacyLastLabel = U.user + 45;
  lacyLabelTable = U.user + 98;
  lacyAutoPageID = U.user + 103;
  lacyTabKey = U.user + 118;

CONST
  lavlMin = GT.slMin;
  lavlMax = GT.slMax;
  lavlLevel = GT.slLevel;
  lavlLevelFormat = GT.slLevelFormat;
  lavlLevelPlace = GT.slLevelPlace;
  lavlDispFunc = GT.slDispFunc;
  lavlFullCheck = laslFullCheck;

CONST
  lamxFirstLabel = U.user + 44;
  lamxLastLabel = U.user + 45;
  lamxLabelTable = U.user + 98;
  lamxTabKey = U.user + 118;

CONST
  lascThin = U.user + 62;

CONST
  laxbFullSize = U.user + 50;

CONST
  latdButtonType = U.user + 86;
  latdToggle = U.user + 87;
  latdPressed = U.user + 88;
  latdSmaller = U.user + 89;
  latdTick = U.user + 139;

CONST
  lamxAutoPageID = U.user + 103;

CONST
  laboTagCurrent = U.user + 119;
  laboTagTextAttr = U.user + 120;
  laboTagDrawInfo = U.user + 121;
  laboTagLink = U.user + 129;
  laboTagScreen = U.user + 132;
  laboLink = lalvLink;
  laboClassInstance = U.user + 122;
  laboClassName = U.user + 123;
  laboClassLibraryName = U.user + 124;
  laboExactWidth = U.user + 127;
  laboExactHeight = U.user + 128;
  laboRelFontHeight = U.user + 131;
  laboObject = U.user + 133;
  laboFullWidth = U.user + 135;
  laboFullHeight = U.user + 136;
  laboActivateHook = U.user + 141;

CONST
  lawnMenu = U.user + 25;
  lawnUserPort = U.user + 47;
  lawnLeft = U.user + 48;
  lawnTop = U.user + 49;
  lawnZoom = U.user + 50;
  lawnMaxPen = U.user + 52;
  lawnBelowMouse = U.user + 53;
  lawnMoveToWindow = U.user + 54;
  lawnAutoRefresh = U.user + 55;
  lawnHelpHook = U.user + 73;
  lawnParent = U.user + 81;
  lawnBlockParent = U.user + 82;
  lawnSmartZoom = U.user + 91;
  lawnTitle = U.user + 92;
  lawnTitleText = U.user + 92;
  lawnBounds = U.user + 93;
  lawnExtraWidth = U.user + 94;
  lawnExtraHeight = U.user + 95;
  lawnIDCMP = U.user + 96;
  lawnAlignWindow = U.user + 97;
  lawnTitleID = U.user + 99;
  lawnFlushLeft = U.user + 14000;
  lawnFlushTop = U.user + 14001;
  lawnShow = U.user + 14002;
  lawnMenuTemplate = U.user + 14003;
  lawnMenuTags = U.user + 14004;

CONST
  lamnFirstLabel = labxFirstLabel;
  lamnLastLabel = labxLastLabel;
  lamnLabelTable = U.user + 98;
  lamnTitleText = (U.user + 17000);
  lamnTitleID = (U.user + 17001);
  lamnItemText = (U.user + 17002);
  lamnItemID = (U.user + 17003);
  lamnSubText = (U.user + 17004);
  lamnSubID = (U.user + 17005);
  lamnKeyText = (U.user + 17006);
  lamnKeyID = (U.user + 17007);
  lamnCommandText = (U.user + 17008);
  lamnCommandID = (U.user + 17009);
  lamnMutualExclude = (U.user + 17010);
  lamnUserData = (U.user + 17011);
  lamnDisabled = (U.user + 17012);
  lamnCheckIt = (U.user + 17013);
  lamnChecked = (U.user + 17014);
  lamnToggle = (U.user + 17015);
  lamnCode = (U.user + 17016);
  lamnQualifier = (U.user + 17017);
  lamnChar = (U.user + 17018);
  lamnID = (U.user + 17019);
  lamnAmigaGlyph = (U.user + 17020);
  lamnCheckmarkGlyph = (U.user + 17021);
  lamnError = (U.user + 17022);
  lamnScreen = (U.user + 17023);
  lamnTextAttr = (U.user + 17024);
  lamnLayoutHandle = (U.user + 17025);
  lamnHandle = (U.user + 17025);
  lamnExtraSpace = (U.user + 17026);

CONST
  lhFont = U.user + 41;
  lhAutoActivate = U.user + 42;
  lhLocaleHook = U.user + 4;
  lhCloningPermitted = U.user + 61;
  lhEditHook = U.user + 74;
  lhExactClone = U.user + 75;
  lhMenuGlyphs = U.user + 76;
  lhParent = U.user + 83;
  lhBlockParent = U.user + 84;
  lhSimpleClone = U.user + 90;
  lhExitFlush = U.user + 108;
  lhUserData = U.user + 116;
  lhRawKeyFilter = U.user + 142;

CONST
  LASTTAG = U.user + 144;

CONST
  nilLink = -2;

TYPE
  LayoutHandlePtr = UNTRACED POINTER TO LayoutHandle;
  LayoutHandle = STRUCT 
    screen : I.ScreenPtr;
    drawInfo : I.DrawInfoPtr;
    window : I.WindowPtr;
    visualInfo : E.APTR;
    amigaGlyph : I.ImagePtr;
    checkGlyph : I.ImagePtr;
    userData : E.APTR;
    menu : I.MenuPtr;
  END;

CONST
  historyHookDiscardOldest = 0;

TYPE
  RefreshMsgPtr = UNTRACED POINTER TO RefreshMsg;
  RefreshMsg = STRUCT 
  END;

CONST
  incrementerMsgDecrement = -1;
  incrementerMsgInitial = 0;
  incrementerMsgIncrement = 1;

TYPE
  HelpMsgPtr = UNTRACED POINTER TO HelpMsg;
  HelpMsg = STRUCT 
    handle : LayoutHandle;
    objectID : LONGINT;
  END;

CONST
  horizontalKind = 45;
  verticalKind = 46;
  endKind = 47;
  frameKind = 48;
  boxKind = 49;
  fractionKind = 50;
  xbarKind = 51;
  ybarKind = 52;
  passwordKind = 53;
  gaugeKind = 54;
  tapedeckKind = 55;
  levelKind = 56;
  boopsiKind = 57;

TYPE
  FIXED = LONGINT;

CONST
  fixedUnity = 10000;

PROCEDURE ToFixed(l, r: LONGINT): FIXED;
PROCEDURE FixedLeft(f: FIXED): LONGINT;
PROCEDURE FixedRight(f: FIXED): LONGINT;
VAR
  base : E.LibraryPtr;

PROCEDURE LevelWidth(handle: LayoutHandlePtr; levelFormat: E.LSTRPTR; dispFun
c: DispFunc; min: LONGINT; max: LONGINT; VAR maxWidth: LONGINT; VAR maxLen: L
ONGINT; fullCheck: BOOLEAN);
PROCEDURE DeleteHandle(handle: LayoutHandlePtr);
PROCEDURE CreateHandle(screen: I.ScreenPtr; font: G.TextAttrPtr): LayoutHandl
ePtr;
PROCEDURE CreateHandleTagList(screen: I.ScreenPtr; tagList: ARRAY OF U.TagIte
m): LayoutHandlePtr;
PROCEDURE CreateHandleTags(screen: I.ScreenPtr; tags..: U.Tag): LayoutHandleP
tr;
PROCEDURE Rebuild();
PROCEDURE HandleInput(handle: LayoutHandlePtr; msgQualifier: LONGINT; VAR msg
Class: LONGINT; VAR msgCode: INTEGER; VAR msgGadget: I.GadgetPtr);
PROCEDURE BeginRefresh(handle: LayoutHandlePtr);
PROCEDURE EndRefresh(handle: LayoutHandlePtr; complete: BOOLEAN);
PROCEDURE GetAttributesA(handle: LayoutHandlePtr; id: LONGINT; tagList: ARRAY
 OF U.TagItem): LONGINT;
PROCEDURE GetAttributes(handle: LayoutHandlePtr; id: LONGINT; tags..: U.Tag):
 LONGINT;
PROCEDURE SetAttributesA(handle: LayoutHandlePtr; id: LONGINT; tagList: ARRAY
 OF U.TagItem);
PROCEDURE SetAttributes(handle: LayoutHandlePtr; id: LONGINT; tags..: U.Tag);

PROCEDURE AddA();
PROCEDURE Add();
PROCEDURE NewA(handle: LayoutHandlePtr; tagList: ARRAY OF U.TagItem);
PROCEDURE New(handle: LayoutHandlePtr; tags..: U.Tag);
PROCEDURE EndGroup(handle: LayoutHandlePtr);
PROCEDURE LayoutA();
PROCEDURE Layout();
PROCEDURE LayoutMenusA(handle: LayoutHandlePtr; menuTemplate: GT.NewMenuPtr; 
tagList: ARRAY OF U.TagItem): I.MenuPtr;
PROCEDURE LayoutMenus(handle: LayoutHandlePtr; menuTemplate: GT.NewMenuPtr; t
ags..: U.Tag): I.MenuPtr;
PROCEDURE Fixed2String(fixed: FIXED; buffer: E.LSTRPTR);
PROCEDURE String2Fixed(buffer: E.LSTRPTR): FIXED;
PROCEDURE FixedMult(fixed: FIXED; factor: LONGINT): LONGINT;
PROCEDURE LabelWidth(handle: LayoutHandlePtr; label: E.LSTRPTR): LONGINT;
PROCEDURE LabelChars(handle: LayoutHandlePtr; label: E.LSTRPTR): LONGINT;
PROCEDURE LockWindow(window: I.WindowPtr);
PROCEDURE UnlockWindow(window: I.WindowPtr);
PROCEDURE DeleteWindowLock(window: I.WindowPtr);
PROCEDURE ShowWindow(handle: LayoutHandlePtr; activate: BOOLEAN);
PROCEDURE Activate(handle: LayoutHandlePtr; id: LONGINT);
PROCEDURE PressButton(handle: LayoutHandlePtr; id: LONGINT);
PROCEDURE GetCode(msgQualifier: LONGINT; VAR msgClass: LONGINT; VAR msgCode: 
INTEGER; VAR msgGadget: I.GadgetPtr): INTEGER;
PROCEDURE GetIMsg(handle: LayoutHandlePtr): I.IntuiMessagePtr;
PROCEDURE ReplyIMsg(msg: I.IntuiMessagePtr);
PROCEDURE BuildA(handle: LayoutHandlePtr; tagList: ARRAY OF U.TagItem): I.Win
dowPtr;
PROCEDURE Build(handle: LayoutHandlePtr; tags..: U.Tag): I.WindowPtr;
PROCEDURE RebuildTagList(handle: LayoutHandlePtr; clear: BOOLEAN; tagList: AR
RAY OF U.TagItem): BOOLEAN;
PROCEDURE RebuildTags(handle: LayoutHandlePtr; clear: BOOLEAN; tags..: U.Tag)
: BOOLEAN;
PROCEDURE UpdateStrings(handle: LayoutHandlePtr);
PROCEDURE DisposeMenu(menu: I.MenuPtr);
PROCEDURE NewMenuTemplate(screen: I.ScreenPtr; textAttr: G.TextAttrPtr; amiga
Glyph: I.ImagePtr; checkGlyph: I.ImagePtr; VAR error: LONGINT; menuTemplate: 
GT.NewMenuPtr): I.MenuPtr;
PROCEDURE NewMenuTagList(tagList: ARRAY OF U.TagItem): I.MenuPtr;
PROCEDURE NewMenuTags(tags..: U.Tag): I.MenuPtr;
PROCEDURE MenuControlTagList(window: I.WindowPtr; intuitionMenu: I.MenuPtr; t
agList: ARRAY OF U.TagItem);
PROCEDURE MenuControlTags(window: I.WindowPtr; intuitionMenu: I.MenuPtr; tags
..: U.Tag);
PROCEDURE GetMenuItem(menu: I.MenuPtr; id: LONGINT): I.MenuItemPtr;
PROCEDURE FindMenuCommand(menu: I.MenuPtr; msgCode: INTEGER; msgQualifier: IN
TEGER; msgGadget: I.GadgetPtr): I.MenuItemPtr;
PROCEDURE NewLevelWidth(handle: LayoutHandlePtr; levelFormat: E.LSTRPTR; disp
Func: DispFunc; min: LONGINT; max: LONGINT; VAR maxWidth: LONGINT; VAR maxLen
: LONGINT; fullCheck: BOOLEAN);
PROCEDURE GetString(handle: LayoutHandlePtr; code: LONGINT; VAR string: ARRAY
 OF CHAR);

END GTLayout.

