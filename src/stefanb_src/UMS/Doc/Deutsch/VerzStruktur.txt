                                                              26-Mar-1995

   Schema für Dateinamen, Verzeichnisse und Archive für UMS Programme


  I. Einführung

Das UMS Projekt ist das Werk vieler einzelner Programmierer.  Leider  ist
dadurch ein gewisser Wildwuchs bei  den  Dateinamen,  Verzeichnissen  und
Archiven entstanden. Dieser Text sollte als Richtschnur für alle  dienen,
die ein Paket für ein  UMS  Programm  zusammenstellen  wollen.  Das  Ziel
sollte es sein, dem gesamten UMS Projekt ein  einheitliches  Aussehen  zu
geben. Die Benutzer werden es uns hoffentlich danken :-)


  II. Verzeichnisstruktur und Dateinamen

Alle Programme, die mit UMS zusammenhängen, werden in  einem  Verzeichnis
zusammengefaßt werden, das den Namen "UMS" trägt. Durch eine einheitliche
Verzeichnisstruktur  wird  sichergestellt,  daß  jedes   Programm   einen
eindeutigen Platz erhält.  Die  Namen  der  einzelnen  Unterverzeichnisse
sollten den Namen "UMS" NICHT mehr enthalten.

Die Dokumentation darf nur in dem Verzeichnis "UMS/Doc" abgelegt  werden.
In  diesen  Verzeichnissen  befinden  sich  Unterverzeichnisse  für   die
einzelnen Sprachen. Aus der Endung des Dateinamens geht eindeutig hervor,
in welchem Format die Dokumentation vorliegt:

   .dvi    - DVI
   .guide  - AmigaGuide
   .tex    - TeX oder Texinfo
   .txt    - ASCII

Beispiel:

   UMS/Doc/english/IntuiNews.guide
   UMS/Doc/deutsch/IntuiNews.dvi

Alle Programme und  AmigaDOS  Skriptdateien  werden  in  dem  Verzeichnis
"UMS/Bin" abgelegt. Dies vereinfacht die Einbindung der Programme für den
Benutzer, da er nur "Path UMS/Bin  Add"  oder  "Assign  C:  UMS/Bin  Add"
ausführen muß.

Verzeichnis "UMS":

   UMS/Bin        - UMS Programme und AmigaDOS Skriptdateien
   UMS/Developer  - Informationen für Programmierer
   UMS/Devs       - Devices
   UMS/Doc        - Dokumentation für UMS Programme
   UMS/Install    - Skriptdateien für Installer
   UMS/L          - Alle Dateien, die in L: liegen sollen
   UMS/Libs       - Libraries
   UMS/Locale     - Catalogs, gleiche Verzeichnisstruktur wie in LOCALE:
   UMS/Networks   - Netzspezifische Im/Exporter
   UMS/Reader     - Message Reader
   UMS/Rexx       - UMS ARexx-Skriptdateien
   UMS/S          - Ergänzungen für S:User-Startup
   UMS/Tools      - Alles, was nicht unter Networks/Reader fällt

Die Verzeichnisse Networks, Reader und Tools enthalten  die  eigentlichen
Programmpakete für UMS. Jedes Programm wird in einem eigenen  Verzeichnis
abgelegt.

Beispiel:

   UMS/Networks/FTN
   UMS/Networks/Maus
   UMS/Networks/QWK
   UMS/Networks/RFC
   UMS/Networks/Zer

Die  Programmpakete  enthalten   einheitliche   Verzeichnisse   für   die
verschiedenen Dateitypen:

   src  - Sourcecode

Beispiel:

   UMS/Networks/RFC/src/uucpexporter/DMakefile

Sollte  der  Sourcecode  zu  einem  Programm  vorliegen,  dann  kann  der
Programmierer in seinen Makefiles die  Verzeichnisstruktur  von  UMS  mit
relativen Pfaden berücksichtigen, z.B. INCDIR =  ////Developer/c/include.
Dadurch wird das Übersetzen für den Benutzer ohne viel Aufwand möglich.

Verzeichnis "Developer":

   UMS/Developer/c                    - Unterverzeichnis für C
   UMS/Developer/c/dlib               - Link-Libraries für DICE
   UMS/Developer/c/dlib/ums           - Source zu den DICE Link-Libraries
   UMS/Developer/c/examples/ums       - Beispiele in C
   UMS/Developer/c/include/clib       - Funktionsprototypen
   UMS/Developer/c/include/libraries  - Include-Dateien
   UMS/Developer/c/include/pragmas    - Deklarationen für Inline Calls
   UMS/Developer/c/include/proto      - Proto Dateien
   UMS/Developer/c/slib               - Link-Libraries für SAS/C
   UMS/Developer/c/slib/ums           - Source zu den SAS/C Link-Libraries
   UMS/Developer/doc/deutsch          - Dokumentation in Deutsch
   UMS/Developer/doc/english          - Dokumentation in Englisch
   UMS/Developer/fd                   - FD Dateien
   UMS/Developer/m2                   - Unterverzeichnis für Modula-2
   UMS/Developer/m2/examples          - Beispiele in Modula-2
   UMS/Developer/oberon               - Unterverzeichnis für Oberon
   UMS/Developer/oberon/examples      - Beispiele in Oberon


  III. Archive von einzelnen Programmen

Archive sollten die gleiche Verzeichnisstruktur  aufweisen  wie  das  UMS
Verzeichnis. Das erleichtert dem Benutzer das Entpacken, da alle  Dateien
automatisch an  der  richtigen  Stelle  im  Verzeichnisbaum  landen.  Die
Archive sollten keine Dateien enthalten,  die  zu  anderen  UMS  Archiven
gehören.

Beispiel:

   1> lha vq UMSRFC1_0.lha
   UMS/Bin/ums2uucp
   UMS/Bin/uuxqt
   ...
   UMS/Doc/english/umsrfc.dvi
   UMS/Doc/english/umsrfc.guide
   UMS/Doc/english/umsrfc.txt
   ...
   UMS/Libs/umsrfc.library
   ...
   UMS/Networks/RFC/src/nntpserver/DMakefile
   ...

Der Name  eines  Archivs  sollte  mit  "UMS"  beginnen.  Nur  wenn  keine
Verwechslungsgefahr mit anderen  Programmen  besteht,  dann  darf  dieser
Prefix weggelassen werden. Der  Name  sollte  immer  die  Versionsnummer,
Revisionsnummer und Patchlevel (Kleinbuchstabe) des Programmes enthalten.
Diese sollten an den Namen des Packets in der folgenden Form

   <Version>_<Revision><Patchlevel>

angehängt werden. Als letztes Element  folgt  dann  die  Endung  für  das
Format des Archivs.

Beispiel:

   UMS12_1.lha
   UMSRFC1_0.lha
   IntuiNews2_0a.lha
   UMSConf3_0.lha


  IV. Das Archiv "UMSDirStruct1_0.lha"

Um die Arbeit für Programmautoren zu vereinfachen, gibt es ein Archiv, in
dem schon  alle  Standardverzeichnisse  und  die  benötigten  Piktogramme
enthalten sind. Der Autor braucht dieses  Archiv  nur  zu  entpacken  und
seine  Dateien  in  den  entsprechenden  Verzeichnissen  abzulegen.  Dann
entfernt er  überflüssige  Piktogramme  und  archiviert  das  Verzeichnis
(Dabei werden leere Verzeichnisse meistens automatisch nicht mit  in  das
Archiv übernommen).


  V. Autor

Dieser Text wurde von Stefan Becker geschrieben, einige Vorschläge  kamen
von anderen Entwicklern von UMS Programmen. Weitere Vorschläge bitte  per
elektronischer Post an:

    stefanb@yello.ping.de
