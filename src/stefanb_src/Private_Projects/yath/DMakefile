# Debugging
DEBUG=-DDEBUG
#DEBUG=

FLAGS=$(DEBUG) -Hyath.m=yath.h -ms -mRR -proto
CFLAGS=-pr $(FLAGS)

all: yatape-handler yathmonitor remdev

yatape-handler: yath.o beginio.o
         dcc $(FLAGS) -o %(left) yath.o -l0 -lc -lamiga beginio.o

yath.o: yath.c yath.m
         dcc $(FLAGS) -o %(left) -c yath.c

yath.m: yath.h
         -Delete yath.m

# @BeginIO still missing in amigasr.lib
beginio.o: beginio.a
         a68k -o%(left) %(right)

yathmonitor: yathmonitor.c yath.m
         dcc $(CFLAGS) -o %(left) yathmonitor.c

remdev: remdev.c
         dcc $(CFLAGS) -o %(left) %(right)
