#
# DMakefile  V3.1
#
# Makefile for ToolManager 3.1 (WBStartup)
#
# Copyright (C) 1990-98 Stefan Becker
#
# This source code is for educational purposes only. You may study it
# and copy ideas or algorithms from it for your own projects. It is
# not allowed to use any of the source codes (in full or in parts)
# in other programs. Especially it is not allowed to create variants
# of ToolManager or ToolManager-like programs from this source code.
#
TMPDIR = T:
PRE    = $(TMPDIR)tmwbstartup.m
FLAGS  = -3.1 -mi -mRR -ms
IDIRS  = -I//Developer/C/include
#CFLAGS = $(FLAGS) -DDEBUG=0 -d1 $(IDIRS) -proto -H$(PRE)=toolmanager.h -c
CFLAGS = $(FLAGS) $(IDIRS) -proto -H$(PRE)=toolmanager.h -c
#LFLAGS = $(FLAGS) -d1
LFLAGS = $(FLAGS)
#LIBS   = -l0 -ldebug -lc -lamiga31 -lamiga31s
LIBS   = -l0

CSRCS  = toolmanager.c debug.c
COBJS  = $(CSRCS:"*.c":"$(TMPDIR)wbstartup*.o")
DOBJ   = $(COBJS:"*debug.o")

DEST   = //WBStartup/ToolManager

all      : $(DEST)

$(DEST)  : $(COBJS)
         dcc $(LFLAGS) -o %(left) %(right) $(LIBS)

$(COBJS) : $(CSRCS)
         dcc $(CFLAGS) -o %(left) %(right)

$(COBJS) : $(PRE)

$(DOBJ)  : /global_debug.c

$(PRE)   : toolmanager.h /global.h DMakefile
         -Delete %(left) QUIET

clean    :
         -Delete $(PRE) $(COBJS) QUIET
