#
# DMakefile  V2.1
#
# Makefile for ToolManager 2.1 (Preferences program)
#
# (c) 1990-93 Stefan Becker
#
PRE    = t:symbolsconf.m
FLAGS  = -3.0 -mi -mRR -ms -r
IDIRS  = -I//Programmers/include -I///network/include
#CFLAGS = $(FLAGS) -DDEBUG $(IDIRS) -proto -H$(PRE)=ToolManagerConf.h -c
CFLAGS = $(FLAGS) $(IDIRS) -proto -H$(PRE)=ToolManagerConf.h -c
#LFLAGS = $(FLAGS) -L///network -s
LFLAGS = $(FLAGS) -L///network
LIBS   = -ldebug -lnetwork -lamiga30s

CSRCS = main.c locale.c gadget.c mainwindow.c execwindow.c imagewindow.c \
        soundwindow.c menuwindow.c iconwindow.c dockwindow.c docklistwindow.c \
        accesswindow.c selectwindow.c movewindow.c aslreqs.c listreq.c \
        window.c button.c config.c data.c
COBJS = $(CSRCS:"*.c":"T:*.o")
OBJS  = $(COBJS)

DEST = //Prefs/ToolManager

all : $(DEST)

$(DEST) : $(OBJS)
         dcc $(LFLAGS) -o %(left) $(OBJS) $(LIBS)

$(COBJS) : $(CSRCS)
         dcc $(CFLAGS) -o %(left) %(right)

$(COBJS) : $(PRE)

$(PRE) : ToolManagerConf.h ToolManagerPrefs.h \
         //Programmers/include/libraries/toolmanager.h /locale/toolmanager.h \
         DMakefile
         -Delete %(left) QUIET

clean :
         -Delete $(PRE) $(OBJS) QUIET
