.key Node/A
.bra {
.ket }
;
; Import AmigaUUCPs UUNEWS: data base to UMS
;
; Be sure to set uucp.keepdupes to "N", because this script does
; not look out for hard-linked crosspostings in the news database!
;
Echo Importing your old UUNEWS: news database into UMS as user 'uucp.{Node}'.
Resident /bin/uuxqt
Resident C:Copy
Resident C:Join

;
; Create the UUCP command file
;
; {Node} should be the name of your primary host
;
Echo >T:cmd{$$} U news {Node}
Echo >>T:cmd{$$} F D
Echo >>T:cmd{$$} C rnews

;
; Each article is converted to a RNEWS file
; and then imported with UMS UUCPs uuxqt
;
; Be sure that T: points to a directory
; with enough space for the script file!
;
Echo Scanning UUNEWS: for news articles...
List UUNEWS: Files All Pat #[0-9] LFormat "Echo *>T:temp{$$} #! rnews %l*NJoin T:temp{$$} %f%n to UUSPOOL:D*NCopy T:cmd{$$} UUSPOOL:X.1*Nuuxqt" To T:script{$$}

;
; Do the hard work now...
;
Echo Importing news articles into UMS...
Execute T:script{$$}

; Cleanup
Delete T:script{$$} T:temp{$$} T:cmd{$$} Quiet
Resident uuxqt Remove
Resident Copy Remove
Resident Join Remove
Echo Finished.
