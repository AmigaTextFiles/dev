#
# DMakefile for Amiga UUCP link library
#
TMPDIR = t:umsuucp/auucplib
CFLAGS = -3.1 -mRR -mi -proto -ms -r -c -Iinclude

SRCS = config.c lockfile.c log.c namemunge.c seq.c seqname.c
OBJS = $(SRCS:"*.c":"$(TMPDIR)/*.o")

all : auucpsr.lib

auucpsr.lib : $(OBJS) owndevunit.lib
         join %(right) to %(left)

$(OBJS) : $(SRCS)
         dcc $(CFLAGS) -o %(left) %(right)

$(OBJS) : DMakefile

owndevunit.lib : include/OwnDevUnit.fd
         fdtolib %(right) -h include/OwnDevUnit.h -o %(left) -mr \
                 -IDINCLUDE:amiga31

owndevunit.lib : DMakefile

$(TMPDIR) : $(TMPDIR)
         -makedir %(left)

clean :
         -delete $(TMPDIR) all quiet force
