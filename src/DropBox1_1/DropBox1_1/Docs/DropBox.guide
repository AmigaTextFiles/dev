@database DropBox.guide
@node Main "DropBox Documentation"
                       DropBox by Steve Anichini
                         A Meef()Ware product
                             2.04+ Only!

	@{ " Copyright " link CRight }
	@{ " Introduction " link Intro }
	@{ " History " link History }
	@{ " Installation " link Install }
	@{ " Using DropBox " link Using }
	@{ " Configuring DropBox " link Configure }
	@{ " DropBox ToolTypes " link ToolTypes }
	@{ " DropBox Database " link Database }
	@{ " DropBox Gadgets " link Gadgets }
	@{ " DropBox Menus " link Menus }
	@{ " Closing " link Close }
@endnode

@node CRight

The author cannot be held liable for the suitability or accuracy of this
manual and/or the program it describes. Any damage directly or
indirectly caused by the use or misuse of this manual and/or the program
it describes is the sole responsibility of the user him or her self.

All documentation and program materials included in this archive are
Copyright 1993 Steve Anichini. All rights reserved.

This program is SHAREWARE. This means you have a 30 day trial period
in which to discover if DropBox is the right tool for you! If you want
to continue using DropBox, you should send $15 to the author for a
registered copy. Only by paying your shareware fee can you garauntee
software in the future!!!

DropBox is freely distributable as long as the following conditions are
met:

    1) The original archive is intact, unmodified, and in its original
    form.
    2) The distribution is non-commercial.
    or
    3) You have written permission from the author of the program to break
	 conditions (1) or (2).

    Fred Fish has permission to distribute this program in his collection
of PD and Shareware programs.

@endnode

@node Intro

Why DropBox?

    As a frequenter of ftp sites and bulletin board systems, I always have
a lot of archives that need to be de-lha'd, de-arc'd, or whatever. I've
always found it inconvenient to enter the shell and manually extract the
files from these archives. So I said to myself "Wouldn't it be great if I
had a program that did this junk for me?"

    That program is DropBox. But DropBox isn't limited to archivers. Since
its database is flexible,there is no reason you can't add iff-file viewers,
doc file viewers, or the like.

    DropBox is also a commodity, so you may use the Commodities Broker to
control it.

@endnode

@node History

Version/Date    |   Fix/Feature/Bug/Etc
--------------------------------------------------------------------------

 1.0 (6/20/93)      -First released to aminet.

 1.01 (6/23/93)     -Somehow I had forgotten to implement the underscore
                    gadget shortcuts. This is now fixed.

 1.02 (6/26/93)     -Blank string entries in a DropBox prefs file had
                    caused the loader to crash. Fixed this.

                    -It seems ICON_Y has no effect unless ICON_X is
                    present. I think this is a problem with AddAppIcon().

                    -Using Commodities to kill DropBox would cause the
                    message window to be orphaned. Now fixed.

                    -DropBox now detatches itself from the CLI.

                    -DropBox accepts a new tooltype TASK_PRI. This value
                    set's DropBox's task priority. Default is 0.

 1.1                -DropBox accepts a new tooltype APPMENU. This tells
                    DropBox whether or not to create a AppMenuItem.
                    Suggested by Lee Derringer.

                    -DropBox has a new pref file format. Don't worry, it
                    can read the old one, too (but not save it).

                    -DropBox supports two new commands in the command
                    template, [SOURCEDIR] and [SOURCEFILE].

                    -Up and Down buttons moved into Edit menu.

                    -When the DropBox message window was closed, I would
                    try to clean up a message port that didn't exist. This
                    is fixed. Bug found by Mike Hall and Franz Schwarz.

                    -DropBox now allows for more than one pattern per
                    DropItem. New editor.

                    -DropBox has an option Create to create a directory
                    in the destination and use that as the destination.

                    -DropBox has a menu option whether or not to save
                    icons for the created directories.

                    -DropBox no longer uses the Message window to notify
                    the user of errors. It never needed to.

                    -The DropBox window was cleaned up and redesigned.

                    -The Input and Output checkboxes were merged into one
                    box called I/O. I justify this because there is no real
                    reason to have input without output and vice versa.

                    -There was a nasty bug that would cause DropBox to fail
                    under certain conditions when a command was executed
                    from within DropBox. Fixed.

                    -Now when DropBox finds multiple DropItems for a given
                    file, it checks the state of a new option (in the
                    options menu) Use Select Window. If this is set, DropBox
                    will put up a window containing a listview of the
                    applicable DropItems, and allow the user to choose the
                    one which will process the file. Otherwise, DropBox
                    chooses the first DropItem it finds.

                    -The I/O Window can now be sized and positioned. These
                    attributes are saved in the prefs file.

                    -The Verify Commands option, when enabled, causes
                    DropBox to parse the command template after the user
                    enters it (if he or she hits return or tab). If it
                    is invalid, a warning will pop up.

                    -The entire parsing process was rewritten, and is now
                    more stable.

                    -Various minor bugs were fixed
@endnode

@node Install

    Installing DropBox is a breeze. Just "drop" (bad pun) it in your
WBStartup directory, or wherever if you don't want it to be automatically
loaded. You might want to copy the file DropBox.prefs to ENVARC:. It has a
starter database, which you may or may not have to change a few parameters.

@endnode

@node Using

    First, I will introduce a term - the DropItem. A DropItem is an entry
in the user database which contains the following information:
    
    1) The name of the DropItem (or filetype) i.e. IFF ILBM
    2) The command associated with this DropItem. i.e. Display
    3) The template of the command
    4) The filename patterns which signify a file to be of this DropItem.

    With that term defined, DropBox is very easy to understand. All it
does is maintain a database of DropItems. This is a database that YOU 
configure (see @{"Configure" link Configure}).

    After you have started DropBox and configured your database, all you
need to do is drag the file you wish to be processed onto the AppIcon. 
DropBox will automatically search its database for the proper DropItem,
and execute that DropItem's command on your file. If it does not find a
DropItem, it will ask you if you wish to create a new one.

@endnode

@node Configure

    DropBox relies on two things for configuration: @{"ToolTypes" link ToolTypes} and the
translation @{"Database" link Database}.

@endnode

@node ToolTypes

    DropBox accepts these tooltypes:

CX_POPUP:
    YES will cause the options window to open on startup. NO will
prevent this.

    Default: NO

CX_PRI:
    The Commodities Priority of DropBox.

    Default: 0

HOTKEY:
    The hotkey to call up the options window.

    Default: "control esc"

PREFS:
    The path and filename of the prefs file to load at startup.

    Default: "ENVARC:DropBox.prefs"

ICON_X:
    The x position for the DropBox AppIcon.

ICON_Y:
    The y position for the DropBox AppIcon.

    If ICON_X or ICON_Y is not present, the workbench will automatically
set the x or y value respectively.

TASK_PRI:
    The task priority of DropBox.

    Default: 0.

APPMENU:
    This tells DropBox whether or not to create an AppMenuItem.

    Default: Yes

@endnode

@node DataBase
	 To configure your translation database, you must call up the options
window. Do this by either:

    1) Double clicking the AppIcon.
    2) Selecting the AppMenuItem.
    3) Sending it a "Show" command from the Commodities Broker.
    4) Pressing the HotKey.

    There are two things to concern yourself with on the options window:

        @{" Gadgets " link Gadgets} @{" Menus " link Menus}

@endnode

@node Gadgets

    Most of your configuration will be done through the gadgets.

DropItem Database Listview:
    Here you will find the list of DropItems currently in your database.
The string gadget is the name of the currently selected DropItem.
Underneath the database is a row of gadgets for manipulating the items in
the listview.

Add:
    This gadget adds a new translator at the bottom of the list. The new
item will be the selected item.

Del:
    This gadget will delete the currently selected translator.

Ins:
    This gadget will insert a new transltor before the currently selected
item.The new item will become the selected item.

Sort:
    This gadget will sort the list alphabetically.

Destination:
    This string gadget holds the destination of the output file created by
the translator. It should be a directory. The getfile gadget next to it
will allow you to browse and find the directory.

Command:
    This string gadget holds the command to use in the translation. For a
Lha file, you would use the command Lha. The getfile gadget next to it will
allow you to browse and find the command.

Template:
    This string tells DropBox how to use the destination, source file name
(the dropped file), and the command. DropBox uses a simple psuedo-language.
[COM] is used for the command file, [SOURCE] for the dropped file name,
[DEST] for the destination. [SOURCEDEST] is for the directory of the
source file. [SOURCEFILE] is for the name of the source file.
Any other text will be copied as is.

Pattern Listview:
    This listview contains the AmigaDOS patterns that DropBox uses to
find out if a file "belongs" to a DropItem. The gadgets underneath the
listview perform the same functions as those underneath the DropItem
listview.

I/O:
    If this is checked, DropBox will open a CON: window to display the
program's input and output.

Create:
    If this is checked, DropBox will create directory with the same name
as the file minus the extension and use this in the [DEST] parameter in
the template.

@endnode

@node Menus

Project Menu

New:
    This menu option will erase the current configuration.

Open:
    This menu option will load a new preferences file.

Save:
    This menu option will save the current configuration in a file. If no
preferences file was found at startup, the first time you Save will be like
as Save as.

Save As:
    This menu option allows you to save the current configuration under a
new filename.

About:
    This menu option displays an about requester with some info about me.

    NOTE: In the unregistered evaluation version, the about window pops
up the first time the DropBox window is opened after startup.

Hide:
    This option closes the options window. NOTE: Closing the options window
via the close gadget does NOT quit DropBox.

Quit:
    This option quits DropBox.

Edit Menu

Cut:
    This option deletes the currently selected item, and saves it to be
pasted.

Copy:
    This option copyies the currently selected item, and saves it to be
pasted.

Paste:

    This option pastes the saved item onto the currently selected item.

Bubble Up:
    This menu item takes the currently selected item in ANY listview and
moves it up one notch. I don't know if this is very useful now, since
DropBox can put a Select Window up if more than one DropItem applies.
Since this was originally put in the program to control the order of
searching for DropItems, it might not be needed.

Bubble Down:
    Same as Bubble Up but moves the currently selected item in ANY
listview down one notch.

Options Menu

NOTE: These options are GLOBAL, meaning they affect ALL DropItems, not
just the currently selected one.

Create Icons:
    If this is checked, whenever DropBox encounters a DropItem that has
it's Create box checked, it will not only create a directory, but it will
create an Icon for this directory. This can be used to force the WB to
update when new files are created (i.e. a lha file is de-archived).

Use Select Window:
    This item, when checked, tells DropBox to put up a window if more than
one applicable DropItem is found for a dropped file. This window will
contain a listview of the applicable DropItems. Select the DropItem you
want to use and click OK to continue.

Verify Commands:
    When this menu item is checked, DropBox will run the parsing algorithm
on the command template when it is entered (after RETURN or TAB are pressed
when inside the Template string gadget.) If the template is incomplete, or
an error is present, DropBox will warn the user.

I/O Window Size:
    This menu item puts up a replica of the I/O window that can be moved
and sized. Put the window in the position you want, and then press the
close gadget.

@endnode

@node Close

    DropBox is 2.04+ only!!! Just wanted to remind you.

    DropBox was compiled with SAS/C 5.1b. I used GadToolsBox 2.0c to
create the gui code (a great program!).I also used ILBM2Image to
convert the funky Meef()Ware logo from an iff file to C source.

Thanks to:

    Anthony Li for his example of handling underscore gadget
shortcuts.

    Everyone who sent in bug reports, suggestions, or anything else!
    (Yes, I do read them!)

About Meef()Ware:

    This silly name is something me and a bunch of other future
cs-students thought up while attending the Illinois Mathematics
and Science Academy. Meef is a substitue for foo. So next time you
think about naming a file blah.foo, name it blah.meef.

To Joe, Steve, and the rest of the Masters of Time And Space: Meef()!

If you have any questions, comments, bug reports, compliments, money,
pizza, or beer send them to:

   Steve Anichini
   380 Grandview Ct.
   Algonquin, IL 60102

   or better yet, use email:
   internet - sa3e@andrew.cmu.edu
              zucchini@imsa.edu

Carnegie Mellon CS rocks!
@endnode


		

