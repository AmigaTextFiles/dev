@database MRQ.LIBRARY
@width 72
@node main "mrq.library (Disk)"

     Spis wedîug "offset'ów"                   Struktury

@{"_LVOClearR              ( -30)" link mrq.ClearR}
@{"_LVOMisterQInit         ( -36)" link mrq.MisterQInit}       @{"MisterQBase struct" link MisterQBase}
@{"_LVOMisterQCleanUp      ( -42)" link mrq.MisterQCleanUp}       @{"MScreen struct" link MScreenS}
@{"_LVOMRequest            ( -48)" link mrq.MRequest}
@{"_LVOMLoadFile           ( -54)" link mrq.MLoadFile}
@{"_LVOMFreeFile           ( -60)" link mrq.MFreeFile}
@{"_LVOMSaveFile           ( -66)" link mrq.MSaveFile}
@{"_LVOCopyBytes           ( -72)" link mrq.CopyBytes}
@{"_LVOMCloseScreen        ( -78)" link mrq.MCloseScreen}
@{"_LVOMOpenScreen         ( -84)" link mrq.MOpenScreen}
@{"_LVOC2P                 ( -90)" link mrq.C2P}
@{"_LVOAslFILERequest      ( -96)" link mrq.AslFILERequest}
@{"_LVOAslFreeFILERequest  (-102)" link mrq.AslFreeFILERequest}
@{"_LVODecConvert          (-108)" link mrq.DecConvert}
@{"_LVOHexConvert          (-114)" link mrq.HexConvert}
@{"_LVORomanConvert        (-120)" link mrq.RomanConvert}
@{"_LVORnd                 (-126)" link mrq.Rnd}
@{"_LVOWyswTXT             (-132)" link mrq.WyswTXT}
@{"_LVOGetMessage          (-138)" link mrq.GetMessage}
@{"_LVOP2C                 (-144)" link mrq.P2C}
@{"_LVOSearchW             (-150)" link mrq.SearchW}
@{"_LVOGetDynamicMessage   (-156)" link mrq.GetDynamicMessage}
@{"_LVODoubleBuffer        (-162)" link mrq.DoubleBuffer}
@{"_LVOGetFPS              (-168)" link mrq.GetFPS}



@{"Opisy bîëdów, staîych, itp. " link openlib}


Uwagi: Biblioteka rezerwuje na swój uûytek rejestr A5 procesora, naleûy pamiëtaê o
       tym aby go nie 'zaômieciê'.

       Biblioteka do poprawnego dziaîania wymaga minimum OS3.0, niewielkiej iloôci
       pamiëci fast (mniej niû 64kb na struktury), i procesora minimum 68020.

       Caîa biblioteka zostaîa napisana w asemblerze m68k, i w zasadzie pod
       ten jëzyk zostaîa stworzona. Jednak myôlë ûe nic nie stoi na przeszkodzie
       aby móc uûywaê jej w innych jëzykach programowania dostëpnych na Amidze,
       jedyna kwestia to stworzenie odpowiednich inkludów systemowych.

       Oryginalna procedura C2P dla AGA jest autorstwa Scouta.
       Mam nadziejë ûe autor nie ma nic przeciwko uûyciu jej w tej bibliotece.
       Jeôli jednak ma - niech skontaktuje sië ze mnâ <misterq@canpol.pl>.

       Biblioteka ta jest w peîni FreeWare, co oznacza ûe moûe byê wykorzystywana
       gdziekolwiek (oprócz UAE), przez kogokolwiek (oprócz pecetowców). Jedyny
       warunek to umieszczenie informacji w produkcie wykorzystujâcym jâ o autorach
       procedur.

       Archiwum LHA zawiera: aktualnie dostëpne inkludy do tejûe biblioteki, samâ
       bibliotekë, przykîadowy program pokazujâcy sposób jej uûycia, kod úródîowy
       tego programu, oraz OPCJONALNIE kod úródîowy biblioteki + niezbëdne inkludy.

        Tekstura "Edify" wykorzystana w przykîadzie jest przeróbkâ obrazka
        o tej samej nazwie Lazura.

        Autor biblioteki, pomysî - Marcin 'MisterQ' Kielesiïski  <misterq@canpol.pl>
        Pomoc:                     Wojciech 'Wodnik' Brzostek
                                   Marcin 'Sajko' Nowak          <sajko@viper.pl>
                                   Damian 'Dami' Piotrowski      <dami@canpol.pl>
                                   Marcin 'Igor' Wieczorek       <mwieczor@us.edu.pl>
                                   Patryk 'PatPPC' Dâbrowski     <patppc@polbox.com>

Specjalne podziëkowania naleûâ sië Damiemu - bez Twoich inkludów delikatnie rzecz
biorâc trafiîby mnie szlag :D

@endnode
@node mrq.ClearR "_LVOClearR  (-30)"

Format:
        ClearR()

Opis:

        Czyszczenie wszystkich rejestrów (oprócz a6, i a7 :) )

Wyjôcie - brak

Uwagi: Autor - Marcin 'MisterQ' Kielesiïski

@endnode
@node mrq.MisterQInit "_LVOMisterQInit  (-36)"

Format:
                   d0,d1
        MisterQInit()

Opis: Funkcja alokuje pamiëê podrëcznâ dla biblioteki, otwiera
      kilka bibliotek systemowych (dos.intuition,asl,graphics,gadtools oraz
      biblioteke reqtools i umieszcza ich bazy w strukturze @{"MisterQBase" link MisterQBase}.
      Oprócz tego funkcja wykrywa rodzaj koôci graficznych uûytych w
      Amidze, i wynik (AGA_DISPLAY lub CGX_DISPLAY) umieszcza w polu
      ChunkyMode struktury @{"MisterQBase" link MisterQBase}.
      Funkcja alokuje równieû pamiëê na tablice dla funkcji konwertujâcych
      licby na ciâgi znaków ASCII.

Wejscie - brak
Wyjôcie - d0 - adres bazowy struktury @{"MisterQBase" link MisterQBase}
          d1 - która z otwieranych bibliotek sië nie otwarîa,
               lub 0 gdy wszystkie daîo sië otworzyê. @{"Opis" link openlib}
          wynik z d1 zapisywany jest równieû w polu LibraryError struktury @{"MisterQBase" link MisterQBase},
          o ile zostaîa przydzielona na niâ pamiëê.

Uwagi: Autor: Marcin 'MisterQ' Kielesiïski

@endnode
@node mrq.MisterQCleanUp "_LVOMisterQCleanUp  (-42)"

Format:
        a0            d0
        MisterQCleanUp()

Opis:
        Funkcja zwalnia pamiëê uûytâ na strukturë @{"MisterQBase" link MisterQBase},
        i zamyka biblioteki otwarte przez @{"MisterQInit()" link mrq.MisterQInit},
        oraz dealokuje tablice uûywane przez funkcje konwertujâce liczby na ciâgi ASCII.

Wejôcie - a0 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
Wyjôcie - d0 = 0 gdy wszystko w porzâdku

Uwagi: Autor: Marcin 'MisterQ' Kielesiïski

@endnode
@node MisterQBase "Struktura MisterQBase"

(de)alokacjâ tej struktury, adresów tablic, i innych potrzebnych danych zajmujâ sië funkcje
@{"MisterQInit()" link mrq.MisterQInit} oraz @{"MisterQCleanUp()" link mrq.MisterQCleanUp}

APTR dosbase        ;
APTR graphicsbase   ;
APTR intuitionbase  ; adresy bazowe otwartych bibliotek
APTR reqtoolsbase   ;
APTR aslbase        ;
APTR cyberbase      ;
LONG _szer          ; szerokoôê wyôwietlanej grafiki przez C2P       ;
LONG _wys           ; wysokoôê wyôwietlanej grafiki przez C2P        ;pola wypeînia procedura
LONG _chmaxx        ; offset wzglëdem lewej krawëdzi rastra dla C2P  ;@{"DoubleBuffer()" link mrq.DoubleBuffer}
LONG _chmaxy        ; offset wzglëdem górnej krawëdzi rastra dla C2P ;
WORD ChunkyMode     ; tryb pracy C2P w zaleûnoôêi od koôci GFX (AGA_DISPLAY,CGX_DISPLAY)
LONG s_RastPort     ; rastport ekranu otwartego za pomocâ @{"MOpenScreen()" link mrq.MOpenScreen}
LONG WB_Base        ; adres struktury Screen ekranu WB. Pole wypeînia procedura @{"MOpenScreen()" link mrq.MOpenScreen}
LONG WB_ViewPort    ; adres struktury ViewPort ekranu WB. Pole wypeînia procedura @{"MOpenScreen()" link mrq.MOpenScreen}
LONG s_ScreenBase   ; adres struktury Screen ostatnio otwartego ekranu. Pole wypeînia procedura @{"MOpenScreen()" link mrq.MOpenScreen}
LONG _bitplan0      ;
LONG _bitplan1      ;
LONG _bitplan2      ; wskaúniki na bitplany otwartego ekranu.
LONG _bitplan3      ; Pola wypeînia procedura @{"MOpenScreen()" link mrq.MOpenScreen}
LONG _bitplan4      ;
LONG _bitplan5      ;
LONG _bitplan6      ;
LONG _bitplan7      ;
LONG LibraryError   ; która z otwieranych bibliotek przez @{"MisterQInit()" link mrq.MisterQInit} sië nie otwarîa. @{"Opis" link openlib}
LONG BestModeTags   ; !private!   Pole wypeînia procedura @{"MOpenScreen()" link mrq.MOpenScreen}
LONG ScreenTags     ; !private! (Tagi otwieranego ekranu)  Pole wypeînia procedura @{"MOpenScreen()" link mrq.MOpenScreen}
LONG BitMapSTR      ; adres struktury Bitmap ostatnio otwartego ekranu. Pole wypeînia procedura @{"MOpenScreen()" link mrq.MOpenScreen}
LONG FileRequest    ; adres struktury FileRequest ostatnio otwartego requestera do wyboru plików
LONG _FileName      ; adres îaïcucha tekstowego - nazwy pliku
LONG _DirName       ; adres îaïcucha tekstowego - nazwy katalogu
LONG _Path          ; adres îaïcucha tekstowego - peînej ôcieûki dostëpu wraz z plikiem
LONG _FileSize      ; dîugoôê ostatnio wczytanego pliku
APTR _FileAddr      ; adres ostatnio wczytanego pliku
APTR tabdec1        ; adres ciâgu ASCII liczby dziesiëtnej z zerami - zakres +/- 2 miliardy
APTR tabdec2        ; adres ciâgu ASCII liczby dziesiëtnej bez pierwszych zer, zakres ten sam
APTR tabhex1        ; adres ciâgu ASCII liczby szesnastkowej.
APTR tabroman1      ; adres ciâgu ASCII liczby rzymskiej.
WORD _kolor0        ; kolor 0 tekstu patrz funkcja @{"WyswTXT" link mrq.WyswTXT}
WORD _kolor1        ; kolor 1 tekstu patrz funkcja @{"WyswTXT" link mrq.WyswTXT}
LONG s_WinBase      ; adres struktury Window otwartego okna na ostatnio otwartym screenie - patrz @{"MOpenScreen()" link mrq.MOpenScreen}
LONG gadbase        ; adres bazowy biblioteki gadtools
APTR Screen_Tags    ; opcjonalnie adres Tagów dla nowo otwieranego ekranu - patrz @{"MOpenScreen()" link mrq.MOpenScreen}
WORD Precc          ; wîâczenie 'precyzyjnej (do 1 pixela) procedury C2P
APTR WindowTags     ; !Private!  (wskaúnik na tymczasowâ strukturë window)
APTR ScrSTR         ; !Private!  (wskaúnik na tymczasowâ strukturë Screen)
APTR buff1          ; !Private!  (wskaúnik na osiem bajtów dla C2P)

@endnode
@node openlib "Opisy bîëdów, staîych systemowych "

LONG DOSLIB_ERROR   = $00000001
LONG GFXLIB_ERROR   = $00000010
LONG REQLIB_ERROR   = $00000100
LONG INTLIB_ERROR   = $00001000
LONG ASLLIB_ERROR   = $00010000
LONG CYBERLIB_ERROR = $00100000
LONG GADLIB_ERROR   = $01000000
LONG ALL_OK         = $ffffffff

WORD AGA_DISPLAY    = $f000
WORD CGX_DISPLAY    = $ff00

@endnode

@node MScreenS

Strukturë inicjalizuje i alokuje funkcja @{"MOpenScreen()" link mrq.MOpenScreen}


APTR s_Win_Base      ;adres struktury window otwartego okna backdrop
APTR s_ScreenBase    ;adres struktury screen otwartego ekranu
APTR s_RastPort      ;adres rastportu otwartego ekranu
APTR s_BitMap_STR    ;adres struktury bitmap otwartego ekranu
APTR s_BestModeTags  ;!private! (wskaúnik na tagi dla BestModeIDA() )
APTR s_ScreenTags    ;!private! (wskaúnik na tagi dla OpenScreenTagList() )
LONG s_bitplan0      ;adresy bitplanów
LONG s_bitplan1
LONG s_bitplan2
LONG s_bitplan3
LONG s_bitplan4
LONG s_bitplan5
LONG s_bitplan6
LONG s_bitplan7
LONG s_ModeID        ;tryb otwartego ekranu
APTR s_UserPort      ;userport okna backdrop na ekranie
APTR s_ViewPort      ;ViewPort otwartego ekranu
APTR s_RasInfo       ;RasInfo otwartego ekranu
LONG s_Height        ;wysokoôê otwartego ekranu
LONG s_Width         ;szerokoôê otwartego ekranu
LONG s_OffSet        ;odstëp pomiëdzy dwoma ekranami (w trybie double buffer)
APTR s_WindowTags    ;!private! (wskaúnik na tagi dla OpenWindowTagList() )

@endnode

@node mrq.MLoadFile "_LVOMLoadFile  (-54)"

Format:
        a0,a5,d0      d0,d1
          MLoadFile()

Opis:
        Funkcja Alokuje pamiëê o podanych atrybutach i îaduje tam plik.

Wejôcie - a0 = Wskaúnik na nazwë pliku, zakoïczonâ zerem
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
          d0 = atrybuty pamiëci (np. MEMF_FAST) kompatybilne z AllocMem()
Wyjôcie - d0 = adres wczytanego pliku, lub 0 gdy bîâd.
          d1 = dlugosc wczytanego pliku (lub 0 gdy bîâd.

Uwagi: Funkcja nie utrzymuje lock'a na pliku dîuûej niû to konieczne.
       wynik z d0,d1 równieû zapisany w strukturze @{"MisterQBase" link MisterQBase} w polu
       _FileAddr oraz _FileSize.

Autor: Marcin 'MisterQ' Kielesiïski

@endnode
@node mrq.MFreeFile "_LVOMFreeFile  (-60)"

Format:
        a0,a5      d0
          MFreeFile()

Opis:
        Funkcja Zwraca pamiëê zaalokowanâ wczeôniej przez @{"MLoadFile()" link mrq.MLoadFile}

Wejôcie - a0 = Adres zaalokowanej pamiëci zwróconej przez @{"MLoadFile()" link mrq.MLoadFile}
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
Wyjôcie - d0 <> 0 - gdy wszystko ok.

Uwagi: Autor: Marcin 'MisterQ' Kielesiïski

@endnode
@node mrq.MSaveFile "_LVOMSaveFile  (-66)"

Format:
        a0,a1,a5,d0      d0
            MSaveFile()

Opis:
        Funkcja Zgrywa podany obszar pamieci do pliku.

Wejôcie - a0 = Wskaúnik na nazwë pliku (ôcieûka dostëpu), zakoïczonâ zerem
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
          a1 = adres skâd w pamiëci zapisywaê dane
          d0 = dîugoôê pamiëci do zapisania
Wyjôcie - d0 = dîugoôê zapisanej pamiëci, lub 0 gdy bîâd.

Uwagi: Autor: Marcin 'MisterQ' Kielesiïski

@endnode

@node mrq.CopyBytes "_LVOCopyBytes  (-72)"

Format:
        a0,a1,d1
          CopyBytes()

Opis:
        Funkcja kopiuje pamiëê z adresu wskazywanego przez rejestr a0,
        pod adres wskazywany przez rejestr a1. d1 jest 32 bitowym
        licznikiem

Wejôcie - a0 = Adres danych úrodîowych
          a1 = Adres danych docelowych
          d1 = dîugoôê skopiowanej pamiëci
Wyjôcie - brak

Uwagi: Autor: Marcin 'MisterQ' Kielesiïski

@endnode

@node mrq.MCloseScreen "_LVOMCloseScreen  (-78)"

Format:
        a5,a0          d0
         MCloseScreen()

Opis:
        Próba zamkniëcia ekranu i okna backdrop otworzonego wczeôniej przez
        @{"MOpenScreen()" link mrq.MOpenScreen}, i dealokacja pamiëci wykorzystanej na
        struktury.

Wejôcie - a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
          a0 = Adres struktury @{"MScreen struct" link MScreenS} zwrócony uprzednio przez @{"MOpenScreen()" link mrq.MOpenScreen}.
Wyjôcie - d0 = #$01, gdy ekran zamkniëto

Uwagi: Autor: Marcin 'MisterQ' Kielesiïski

@endnode

@node mrq.MOpenScreen "_LVOMOpenScreen  (-84)"

Format:
      a5,d0,d1,d2,a0     d0
             MOpenScreen()

Opis:
        Otwarcie ekranu 8 bitowego typu Custom o podanym
        trybie i wymiarach, ewentualnie tryb obliczany jest na podstawie
        trybu graficznego w jakim otwarty jest ekran Workbencha.
        W przypadku nie wykrycia CGX otwierany jest ekran na koôciach
        AGA.
        Funkcja wypeînia teû pola _bitplanx, s_RastPort i BitMap_STR
        w strukturze @{"MisterQBase" link MisterQBase}. Jednak te dane sâ
        TYMCZASOWE, i sâ waûne TYLKO do momentu otwarcia nastëpnego ekranu.
        Funkcja zwraca wskaúnik na strukturë @{"MScreen struct" link MScreenS}, i z niej naleûy
        ewentualnie pobraê interesujâce nas dane ekranu (rastport, itp).
        Oprócz ekranu, funkcja otwiera równieû okno typu backdrop, które
        ma ustawione nastëpujâce flagi IDCMP:
        IDCMP_MOUSEBUTTONS,IDCMP_MENUPICK,IDCMP_MOUSEMOVE,IDCMP_RAWKEY,
        IDCMP_CLOSEWINDOW.

Wejôcie - a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
          d0 = szerokoôê ekranu
          d1 = wysokoôê ekranu
          d2 = tryb graficzny + monitor (np. PAL_MONITOR_ID+HIRESLACE_KEY),
               0 - wtedy wykonywane jest BestModeIDA() na podstawie
               trybu ekranu WB i podanych wymiarów.
          a0 = paleta dla ekranu w formacie LoadRGB32(), lub 0

Wyjôcie - d0 = wskaúnik na strukturë @{"MScreen struct" link MScreenS}

Uwagi dla CGX:
        Naleûy staraê sië podawaê wymiary ekranów które istniejâ w
        systemie - bardzo czësto sië zdarza ûe uûytkownik nie wyedytowaî
        sobie rozdzielczoôci np. 640/512, i otwarty ekran przez tâ
        procedurë moûe znacznie odbiegaê wymiarami od zamierzonych.
        Standardowo przez CGX (podczas instalacji pakietu) ustalane sâ
        tryby 320x240, 640x480, 800x600.

        Funkcja zwraca wîasnâ strukturë Screen w rejestrze d0, niekompatybilnâ
        ze strukturâ Intuition/Screen! Adres struktury Intuition/Screen otwartego
        ekranu zwracany jest wewnâtrz struktury @{"MScreen struct" link MScreenS}.

Autor: Marcin 'MisterQ' Kielesiïski

@endnode

@node mrq.C2P "_LVOC2P  (-90)"

Format:
        a5,a0,a1,d0,d1,d2,d3     d0
                            C2P()

Opis:
          Wyrzucenie danych graficznych w formacie Chunky_LUT8 na ekran
          AGA lub CGX, w zaleûnoôci od tego które koôci graficzne
          zostanâ wykryte przez funkcjë @{"MisterQInit()" link mrq.MisterQInit}

Wejôcie - a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
          a0 = Adres bufora grafiki Chunky - stâd dane sâ przepisywane
               na ekran.
          d0 = Szerokoôê grafiki do wyôwietlenia
          d1 = Wysokoôê grafiki do wyôwietlenia
          d2 = offset wzglëdem lewej krawëdzi rastra
          d3 = offset wzglëdem górnej krawëdzi rastra
(opcjonalnie)
          a1 = adres bufora dla bitplanów, gdy flaga Precc w strukturze @{"MisterQBase" link MisterQBase}
               jest <> od 0

Wyjôcie - d0 = -1 gdy bîâd

Uwagi:    Procedura wymaga otwarcia uprzednio ekranu za pomocâ @{"MOpenScreen()" link mrq.MOpenScreen},
          która wypeînia pola s_RastPort i BitMapSTR w strukturze @{"MisterQBase" link MisterQBase}.
          Jednak wypeîniajâc te pola samodzielnie, bez otwierania ekranu
          za pomocâ @{"MOpenScreen()" link mrq.MOpenScreen}, moûna wymusiê jej dziaîanie na kaûdym
          ekranie/oknie.

          Moûna równieû narzuciê dany tryb dziaîania tej procedurze, wypeîniajâc
          odpowiednio pole ChunkyMode w strukturze @{"MisterQBase" link MisterQBase}
          (AGA_DISPLAY lub CGX_DISPLAY).
          Procedura C2P z wîâczana flagâ Precc nie naleûy do najszybszych, gdyû byîa pisana
          pod kâtem dokîadnoôci (dane traktowane sâ z dokîadnoôciâ do jednego piksela).


Autorzy: C2P dla AGA - Scout
         C2P dla Opcji Precc - Marcin 'MisterQ' Kielesiïski
         Obsîuga CGX - Marcin 'MisterQ' Kielesiïski

@endnode

@node mrq.MRequest "_LVOMRequest  (-48)"

Format:
        a1,a5
          MRequest()

Opis:
        Funkcja tworzy requester na defaultowym ekranie publicznym z
        gadûetem typu 'OK'.

Wejôcie - a1 = Wskaúnik na tekst requestera zakoïczonâ zerem
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
Wyjôcie - brak

Uwagi:  Wymaga reqtools.library

Autor: Marcin 'MisterQ' Kielesiïski

@endnode

@node mrq.AslFILERequest "_LVOAslFILERequest  (-96)"

Format:
        a0               d0
          AslFILERequest()

Opis:
        Funkcja wywoîuje requester do wyboru plików z asl.library,
        po czym podaje wskaúnik na nazwë pliku zakoïczonâ zerem.


Wejôcie - a0 = Tekst który bëdzie wyôwietlony na górnej belce okna
               wyboru plików, lub 0 - tedy bëdzie wyôwietlony tekst
               defaultowy.
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
Wyjôcie - d0 = Adres îaïcucha tekstowego - nazwy pliku wraz z peînâ
               ôcieûkâ dostëpu, zakoïczonâ zerem lub 0 gdy bîâd

Uwagi: Autor: Marcin 'MisterQ' Kielesiïski


@endnode

@node mrq.AslFreeFILERequest "_LVOAslFreeFILERequest  (-102)"

Format:
        a0
          AslFreeFILERequest()

Opis:
        Funkcja zwalnia pamiëê uûytâ przez funkcjë @{"AslFILERequest()" link mrq.AslFILERequest}
        na îaïcuch tekstowy - nazwë pliku, wraz ze ôcieûkâ dostëpu.

Wejôcie - a0 = Wskaúnik na tekst requestera zakoïczonâ zerem
Wyjôcie - brak

Uwagi: Autor: Marcin 'MisterQ' Kielesiïski

@endnode

@node mrq.DecConvert "_LVODecConvert  (-108)"

Format:
        d0,a5
           DecConvert()

Opis:
        Funkcja konwertuje 32 bitowâ liczbë na liczbë dziesiëtnâ w formie
        ciâgu znaków ASCII. Adresy buforów wyjôciowych zapisane sâ w strukturze @{"MisterQBase" link MisterQBase}.

Wejôcie - d0 - liczba do przekonwertowania
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
Wyjôcie - zapisanie wyniku do dwóch tablic - tabdec1 i tabdec2. Zobacz w @{"MisterQBase" link MisterQBase}.

Uwagi: Autor: Wojciech 'Wodnik' Brzostek

@endnode

@node mrq.HexConvert "_LVOHexConvert  (-112)"

Format:
        d0,a5
           HexConvert()

Opis:
        Funkcja konwertuje 32 bitowâ liczbë na liczbë szesnastkowâ w formie
        ciâgu znaków ASCII. Adres buforu wyjôciowego zapisany jest w strukturze @{"MisterQBase" link MisterQBase}.

Wejôcie - d0 - liczba do przekonwertowania
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
Wyjôcie - zapisanie wyniku do tablicy tabhex1. Zobacz w @{"MisterQBase" link MisterQBase}.

Uwagi: Autor: Marcin 'MisterQ' Kielesiïski

@endnode

@node mrq.RomanConvert "_LVORomanConvert  (-120)"

Format:
        d0,a5
           RomanConvert()

Opis:
        Funkcja konwertuje 32 bitowâ liczbë na liczbë Rzymskâ (wg. algorytmu Sledge Hammer)
        w formie ciâgu znaków ASCII. Adres buforu wyjôciowego zapisany jest w strukturze @{"MisterQBase" link MisterQBase}.

Wejôcie - d0 - liczba do przekonwertowania
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
Wyjôcie - zapisanie wyniku do tablicy tabroman1. Zobacz w @{"MisterQBase" link MisterQBase}.


@endnode

@node mrq.Rnd "_LVORnd  (-126)"

Format:
        d0,a5
           Rnd()

Opis:
        Funkcja generuje 16 bitowâ liczbë losowâ, z zakresu podanej liczby
        do rejestru d0.

Wejôcie - d0 - zakres wejôciowy
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}
Wyjôcie - d0 - liczba losowa.

Uwagi: Autor: Wojciech 'Wodnik' Brzostek

@endnode

@node mrq.WyswTXT "_LVOWyswTXT  (-132)"

Format:
        d0,d1,a0,a5
                    WyswTXT()

Opis:
        Funkcja wyôwietla îaïcuch ASCII defaultowâ czcionkâ systemowâ na podstawie
        rastportu zapisanego w strukturze @{"MisterQBase" link MisterQBase}, pole s_RastPort.


Wejôcie - d0 - wspóîrzëdna X tekstu
          d1 - wspóîrzëdna Y tekstu
          a0 - wskaúnik na îaïcuch ASCII do wyôwietlenia
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}


Wyjôcie - brak

Uwagi:  Moûna wymusiê dziaîanie tej procedury na dowolnym ekranie, lub oknie
        smodzielnie wypeîniajâc pole s_RastPort w strukturze @{"MisterQBase" link MisterQBase} przed
        jej wywoîaniem.
        Pola _kolor0 oraz _kolor1 w strukturze @{"MisterQBase" link MisterQBase} okreôlajâ kolor
        wyôwietlanego tekstu.

Autor: Marcin 'MisterQ' Kielesiïski

@endnode

@node mrq.GetMessage "_LVOGetMessage  (-138)"

Format:
        a0,a5        d0
          GetMessage()

Opis:
        Funkcja odczytuje zdarzenia z dowolnego okna intuition.
        Jest kompatybilna z bibliotekâ gadtools. Funkcja kopiuje
        strukturë Message, i wykonuje równieû ReplyMessage()

Wejôcie - a0 - adres UserPortu okna
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}


Wyjôcie - struktura IntuiMessage

Uwagi:   Autor: Marcin 'MisterQ' Kielesiïski

@endnode

@node mrq.P2C "_LVOP2C  (-144)"

Format:
        a0,a1,d0,d1,a5   d0
                     P2C()

Opis:
        Konwersja grafiki typu planar do formatu chunky


Wejôcie - a0 - adres úródîowej grafiki w formacie planar (AGA)
          a1 - adres docelowego buforu na grafikë typu chunky
          d0 - szerokoôê konwertowanej grafiki
          d1 - wysokoôê konwertowanej grafiki
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}


Wyjôcie - d0 - -1, gdy bîâd

Uwagi:   Procedura nie naleûy do najszybszych, gdyû byîa pisana pod kâtem dokîadnoôci
         (dane traktowane sâ z dokîadnoôciâ do jednego piksela).

Autor: Marcin 'MisterQ' Kielesiïski

@endnode

@node mrq.SearchW "_LVOSearchW  (-150)"

Format:
        a0,d0,a1,d1       d0
                  SearchW()

Opis:
        Funkcja szuka podanego ciâgu znaków ASCII w podanym buforze


Wejôcie - a0 - adres bufora wejôciowego (przeszukiwany tekst)
          d0 - dîugoôê bufora wejôciowego
          a1 - adres szukanego tekstu
          d1 - dîugoôê szukanego teksti

Wyjôcie - d0 - adres szukanego tekstu w buforze, lub 0 gdy bîâd

Uwagi:  Autor: Wojciech 'Wodnik' Brzostek

@endnode

@node mrq.GetDynamicMessage "_LVOGetDynamicMessage  (-156)"

Format:
        a0,a5                d0
          GetDynamicMessage()

Opis:
        Funkcja odczytuje zdarzenia z dowolnego okna intuition.
        Nie zatrzymuje kontekstu - czyli moûe byê uûyta w pëtli.
        Jest kompatybilna z bibliotekâ gadtools. Funkcja kopiuje
        strukturë Message, i wykonuje równieû ReplyMessage()

Wejôcie - a0 - adres UserPortu okna
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}


Wyjôcie - struktura IntuiMessage

Uwagi:   Autor: Marcin 'MisterQ' Kielesiïski

@endnode

@node mrq.DoubleBuffer "_LVODoubleBuffer  (-162)"

Format:
     a0,a5,d0,d1,d2,d3
               DoubleBuffer()

Opis:   Funkcja oczekuje na odôwieûenie rastra (WaitTof() ), po czym wykonuje
        doublebuffering. Dziëki niej procedura C2P rysuje na aktualnie niewyôwietlanym
        ekranie. Procedurë naleûy wywoîywaê zaraz przed wywoîaniem procedury
        C2P, gdyû modyfikuje ona na swój uûytek rejestry wykorzystywane przez C2P
        Naleûy to robiê np. w ten sposób:

        move.l  #320,d0
        move.l  #256,d1
        move.l  #0,d2
        move.l  #0,d3
        move.l  MScreenSctruct,a0
        jsr     _LVODoubleBuffer(a6)
        lea     ChunkyBuffer,a0
        jsr     _LVOC2P(a6)


Wejôcie - a0 - struktura @{"MScreen struct" link MScreenS} ekranu, na którym
               chcemy uzyskaê doublebuffering
          d0 - d3 - patrz procedura @{"C2P" link mrq.C2P}
          a5 = Adres bazowy struktury @{"MisterQBase" link MisterQBase}

Wyjôcie - modyfikacja rejestrów dla C2P, oraz zapis tych rejestrów w strukturze
          @{"MisterQBase" link MisterQBase} - pola _szer, _wys, _chmaxx, _chmaxy


Uwagi:   Autor: Marcin 'MisterQ' Kielesiïski

@endnode
@node mrq.GetFPS "_LVOGetFPS  (-168)"

Format:
                    d0
            GetFPS()

Opis: Funkcja podaje iloôê tzw. fps (frames per second) dla danej
      procedury, wykonywanej w pëtli, najczëôciej razem z WaitTOF().
      Funkcja przydatna jest wtedy, gdy chcemy sië zorientowaê jak
      szybka, (bâdú wolna) jest nasza procedura.


Wejôcie - brak
Wyjôcie - d0 - liczba, okreôlajâca iloôê FPS, którâ moûna przekonwertowaê
               za pomocâ @{"DecConvert" link mrq.DecConvert} na format ASCII, a nastëpnie
               za pomocâ @{"WyswTXT" link mrq.WyswTXT} wyôwietliê na defaultowym w danej chwili
               oknie/ekranie dla biblioteki.

Uwagi:   Autor: Marcin 'MisterQ' Kielesiïski
         pomoc: Patryk "PatPPC' Dâbrowski
@endnode
