<html>
<head>
  <title>../../../common/include/common.h</title>
</head>
<body bgcolor="#ffffff" text="#000000">
<pre>
<font color="#444444">/*
 *---------------------------------------------------------------------
 * Original Author: Jamie Krueger
 * Creation Date  : 9/25/2003
 *---------------------------------------------------------------------
 * Copyright (c) 2005 BITbyBIT Software Group, All Rights Reserved.
 *
 * This software is the confidential and proprietary information of
 * BITbyBIT Software Group (Confidential Information).  You shall not
 * disclose such Confidential Information and shall use it only in
 * accordance with the terms of the license agreement you entered into
 * with BITbyBIT Software Group.
 *
 * BITbyBIT SOFTWARE GROUP MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE
 * SUITABILITY OF THE SOFTWARE, EITHER EXPRESS OR IMPLIED, INCLUDING
 * FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT. 
 * BITbyBIT Software Group LLC SHALL NOT BE LIABLE FOR ANY DAMAGES SUFFERED BY
 * LICENSEE AS A RESULT OF USING, MODIFYING OR DISTRIBUTING THIS
 * SOFTWARE OR ITS DERIVATIVES.
 *---------------------------------------------------------------------
 *
 * Project: All
 *
 * Description: OS Independent Definitions and Functions (common.h)
 *
 * $VER: common.h 1.0.0.0
 * 
 */</font>

<font color="0000ff"><strong>#ifndef __COMMON_H__ </strong></font>
<font color="0000ff"><strong>#define __COMMON_H__ </strong></font>
 
<font color="0000ff"><strong>#include <font color="#008000">&lt;os_main.h&gt;</font> </strong></font>
<font color="0000ff"><strong>#include <font color="#008000">&lt;avd_ver.h&gt;</font></strong></font>
<font color="0000ff"><strong>#include <font color="#008000">&lt;avd_types.h&gt;</font> </strong></font>
<font color="0000ff"><strong>#include <font color="#008000">&lt;debug.h&gt;</font></strong></font>
 
<font color="0000ff"><strong>#define APP_NAME    PRODUCT_NAME</strong></font>
<font color="0000ff"><strong>#define APP_VERSION PRODUCT_VER</strong></font>
 
<font color="#444444">/* Default values of command line options */</font> 
<font color="0000ff"><strong>#define MAX_PATH_SIZE 256 </strong></font>
<font color="0000ff"><strong>#define ADDRMAXLEN    256</strong></font>
<font color="0000ff"><strong>#define PASSWDMAXLEN  256</strong></font>
 
<font color="#444444">/* Project's Common App Errors */</font> 
<strong>typedef</strong> <strong>enum</strong> <font color="#2040a0">AppErrorCodes</font> 
<font color="4444FF"><strong>{</strong></font> 
    <font color="#2040a0">AVDERR_NOERROR</font>,
    <font color="#2040a0">AVDERR_INITAPPFAILED</font>,
    <font color="#2040a0">AVDERR_INITARGSFAILED</font>,
    <font color="#2040a0">AVDERR_ARGREQUIRED</font>,
    <font color="#2040a0">AVDERR_RESOURCENOTFOUND</font>,
    <font color="#2040a0">AVDERR_INITFAILED</font>,
    <font color="#2040a0">AVDERR_ALREADYRUNNING</font>,
    <font color="#2040a0">AVDERR_HELPREQUEST</font>,
    <font color="#2040a0">AVDERR_VERSIONREQUEST</font>,
    <font color="#2040a0">AVDERR_NOCONFIGFILE</font>
<font color="4444FF"><strong>}</strong></font> <font color="#2040a0">AVD_ERRORCODE</font><font color="4444FF">;</font>

<font color="#444444">/* Project Specific App Structure */</font>
<strong>typedef</strong> <strong>struct</strong> <font color="#2040a0">App</font>
<font color="4444FF"><strong>{</strong></font>
    <font color="#2040a0">AVD_BOOL</font> <font color="#2040a0">bHelpRequest</font><font color="4444FF">;</font>
    <font color="#2040a0">AVD_BOOL</font> <font color="#2040a0">bVersionRequest</font><font color="4444FF">;</font>
    <font color="#2040a0">AVD_BOOL</font> <font color="#2040a0">bQuiet</font><font color="4444FF">;</font>
    <font color="#2040a0">AVD_BOOL</font> <font color="#2040a0">bVerbose</font><font color="4444FF">;</font>
    <font color="#2040a0">AVD_BOOL</font> <font color="#2040a0">bRunning</font><font color="4444FF">;</font>
<font color="4444FF"><strong>}</strong></font> <font color="#2040a0">APP</font><font color="4444FF">;</font>

<font color="#444444">/* Standardized AVD Application Structure */</font>
<strong>typedef</strong> <strong>struct</strong> <font color="#2040a0">AVDApp</font>
<font color="4444FF"><strong>{</strong></font>
    <font color="#2040a0">AVD_ERRORCODE</font> <font color="#2040a0">nErrorCode</font><font color="4444FF">;</font>
    <strong>char</strong> <font color="4444FF">*</font>       <font color="#2040a0">sAppName</font><font color="4444FF">;</font>
    <strong>char</strong> <font color="4444FF">*</font>       <font color="#2040a0">sVersion</font><font color="4444FF">;</font>
    <font color="#2040a0">APP</font>          <font color="#2040a0">oApp</font><font color="4444FF">;</font>     <font color="#444444">/* OS Independent extension -Defined Above &lt;common.h&gt; */</font>
    <font color="#2040a0">OSAPP</font>        <font color="#2040a0">oOSApp</font><font color="4444FF">;</font>   <font color="#444444">/* OS Dependent extension   -Defined in &lt;os_main.h&gt;   */</font>
<font color="4444FF"><strong>}</strong></font> <font color="#2040a0">AVDAPP</font><font color="4444FF">;</font>

<font color="#444444">/* Defines for the AVD_ReturnArg() function */</font>
<strong>enum</strong> <font color="#2040a0">ArgMatchLabel</font>
<font color="4444FF"><strong>{</strong></font>
    <font color="#2040a0">ARG_EXCLUDESLABEL</font>, <font color="#444444">/* Return argument that excludes the specified sLabel */</font>
    <font color="#2040a0">ARG_MATCHESLABEL</font>   <font color="#444444">/* Return argument with matching sLabel               */</font>
<font color="4444FF"><strong>}</strong></font><font color="4444FF">;</font>

<strong>enum</strong> <font color="#2040a0">ArgMatchCase</font>
<font color="4444FF"><strong>{</strong></font>
    <font color="#2040a0">ARG_IGNORECASE</font>,    <font color="#444444">/* Return argument which matches sLabel (Case is ignored)        */</font>
    <font color="#2040a0">ARG_MATCHCASE</font>      <font color="#444444">/* Return argument which exactly matches sLabel (considers Case) */</font>
<font color="4444FF"><strong>}</strong></font><font color="4444FF">;</font>

<font color="0000ff"><strong>#ifdef __cplusplus</strong></font>
<strong>extern</strong> <font color="#008000">&quot;C&quot;</font> <font color="4444FF"><strong>{</strong></font>
<font color="0000ff"><strong>#endif</strong></font>
<font color="#444444">/*
 * Define Project's OS Independent Prototypes
 */</font>
<font color="#2040a0">AVD_ERRORCODE</font> <font color="#2040a0">AVD_DisposeApp</font><font color="4444FF">(</font> <font color="#2040a0">AVDAPP</font> <font color="4444FF">*</font><font color="#2040a0">pApp</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<font color="#2040a0">AVDAPP</font> <font color="4444FF">*</font>      <font color="#2040a0">AVD_InitApp</font><font color="4444FF">(</font> <strong>void</strong> <font color="4444FF">)</font><font color="4444FF">;</font>
<font color="#2040a0">AVD_ERRORCODE</font> <font color="#2040a0">AVD_InitArgs</font><font color="4444FF">(</font> <font color="#2040a0">AVDAPP</font> <font color="4444FF">*</font><font color="#2040a0">pApp</font>, <strong>int</strong> <font color="#2040a0">argc</font>, <strong>char</strong> <font color="4444FF">*</font><font color="#2040a0">argv</font><font color="4444FF">[</font><font color="4444FF">]</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<font color="#2040a0">AVD_ERRORCODE</font> <font color="#2040a0">AVD_Main</font><font color="4444FF">(</font> <font color="#2040a0">AVDAPP</font> <font color="4444FF">*</font><font color="#2040a0">pApp</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<strong>char</strong> <font color="4444FF">*</font>        <font color="#2040a0">AVD_ReturnArg</font><font color="4444FF">(</font> <strong>char</strong> <font color="4444FF">*</font><font color="#2040a0">sLabel</font>, <strong>enum</strong> <font color="#2040a0">ArgMatchLabel</font> <font color="#2040a0">nMatch</font>, <strong>enum</strong> <font color="#2040a0">ArgMatchCase</font> <font color="#2040a0">nCase</font>, <strong>int</strong> <font color="#2040a0">nStartingArg</font>, <strong>int</strong> <font color="4444FF">*</font><font color="#2040a0">pnArgFoundAt</font>, <strong>int</strong> <font color="#2040a0">argc</font>, <strong>char</strong> <font color="4444FF">*</font><font color="#2040a0">argv</font><font color="4444FF">[</font><font color="4444FF">]</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<strong>void</strong>          <font color="#2040a0">AVD_Usage</font><font color="4444FF">(</font> <font color="#2040a0">AVDAPP</font> <font color="4444FF">*</font><font color="#2040a0">pApp</font>, <strong>char</strong> <font color="4444FF">*</font><font color="#2040a0">sComment</font> <font color="4444FF">)</font><font color="4444FF">;</font>

<font color="#444444">/* Case-Independent string matching, similar to strstr but ignoring case */</font>
<font color="0000ff"><strong>#ifndef HAVE_STRCASESTR</strong></font>
<strong>char</strong> <font color="4444FF">*</font> <font color="#2040a0">strcasestr</font><font color="4444FF">(</font> <strong>char</strong> <font color="4444FF">*</font><font color="#2040a0">haystack</font>, <strong>char</strong> <font color="4444FF">*</font><font color="#2040a0">needle</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<font color="0000ff"><strong>#endif</strong></font>

<font color="#444444">/*
 * Define Project's OS Dependent Prototypes
 */</font>
<font color="#2040a0">AVD_ERRORCODE</font> <font color="#2040a0">os_DisposeOSApp</font><font color="4444FF">(</font> <font color="#2040a0">OSAPP</font> <font color="4444FF">*</font><font color="#2040a0">pOSApp</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<font color="#2040a0">AVD_ERRORCODE</font> <font color="#2040a0">os_Init</font><font color="4444FF">(</font> <font color="#2040a0">OSAPP</font> <font color="4444FF">*</font><font color="#2040a0">pOSApp</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<font color="#2040a0">AVD_ERRORCODE</font> <font color="#2040a0">os_InitArgs</font><font color="4444FF">(</font> <font color="#2040a0">OSAPP</font> <font color="4444FF">*</font><font color="#2040a0">pApp</font>, <strong>int</strong> <font color="#2040a0">argc</font>, <strong>char</strong> <font color="4444FF">*</font><font color="#2040a0">argv</font><font color="4444FF">[</font><font color="4444FF">]</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<font color="#2040a0">AVD_ERRORCODE</font> <font color="#2040a0">os_InitOSApp</font><font color="4444FF">(</font> <font color="#2040a0">OSAPP</font> <font color="4444FF">*</font><font color="#2040a0">pOSApp</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<font color="#2040a0">AVD_ERRORCODE</font> <font color="#2040a0">os_OutputString</font><font color="4444FF">(</font> <font color="#2040a0">AVDAPP</font> <font color="4444FF">*</font><font color="#2040a0">pApp</font>, <strong>char</strong> <font color="4444FF">*</font><font color="#2040a0">sOutputString</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<font color="#2040a0">AVD_ERRORCODE</font> <font color="#2040a0">os_ReadConfig</font><font color="4444FF">(</font> <font color="#2040a0">APP</font> <font color="4444FF">*</font><font color="#2040a0">pApp</font>, <font color="#2040a0">OSAPP</font> <font color="4444FF">*</font><font color="#2040a0">pOSApp</font>, <strong>char</strong> <font color="4444FF">*</font><font color="#2040a0">sFilename</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<strong>char</strong> <font color="4444FF">*</font>        <font color="#2040a0">os_ReturnErrorMsg</font><font color="4444FF">(</font> <strong>char</strong> <font color="4444FF">*</font><font color="#2040a0">sErrorString</font>, <strong>int</strong> <font color="#2040a0">nErrorStringMaxLen</font>, <font color="#2040a0">AVD_ERRORCODE</font> <font color="#2040a0">ErrorMsgCode</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<font color="#2040a0">AVD_ERRORCODE</font> <font color="#2040a0">os_SaveConfig</font><font color="4444FF">(</font> <font color="#2040a0">APP</font> <font color="4444FF">*</font><font color="#2040a0">pApp</font>, <font color="#2040a0">OSAPP</font> <font color="4444FF">*</font><font color="#2040a0">pOSApp</font>, <strong>char</strong> <font color="4444FF">*</font><font color="#2040a0">sFilename</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<strong>void</strong>          <font color="#2040a0">os_Usage</font><font color="4444FF">(</font> <font color="#2040a0">AVDAPP</font> <font color="4444FF">*</font><font color="#2040a0">pApp</font> <font color="4444FF">)</font><font color="4444FF">;</font>
<font color="0000ff"><strong>#ifdef __cplusplus</strong></font>
<font color="4444FF"><strong>}</strong></font>
<font color="0000ff"><strong>#endif</strong></font>

<font color="0000ff"><strong>#endif<font color="#444444"> /* End of __COMMON_H__ */</font></strong></font>
</pre>
<hr>
syntax highlighted by <a href="http://www.palfrader.org/code2html">Code2HTML</a>, v. 0.9.1
</body>
</html>
