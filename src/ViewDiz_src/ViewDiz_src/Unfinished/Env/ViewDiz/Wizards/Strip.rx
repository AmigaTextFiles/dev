/*
 Stripper/Wordwrapper by NVW & ML
*/
parse arg file
nl='0a'x;s=""
tabu='`!"#$%&()*+-/:;<=>?@[\]^_{|}~¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿Ð×Þ÷'
open(fh,file)
s=space(translate(compress(readch(fh,65535),tabu),' ',nl),1)
close(fh)
m=44;b=1
if length(s)>m then do n=1 by 1 for words(s)
 if wordindex(s,n)+wordlength(s,n)-b>=m then do
  if n=1 then leave
  b=wordindex(s,n-1)
  s=insert('0a'x,s,b-1)
 end
end
open(fh,file,'w')
 writech(fh,strip(s,'b',nl))
close(fh)
