.key FILE/A,CMD,DESC
.def desc=file_id.diz
.bra {
.ket }
failat 21
if {cmd} eq "read"
 which >nil: dmsdescript
 if not warn
  dmsdescript x "{desc}" "{file}" >nil:
 else
  dms >nil: viewdiz "{file}" save "{desc}" notext nopause
 endif
endif
if {cmd} eq "write"
 dmsdescript d "{file}" >nil:
 dmsdescript a "{desc}" "{file}" >nil:
endif
if {cmd} eq "delete"
 dmsdescript d "{file}" >nil:
endif
if {cmd} eq "execute"
 execute env:viewdiz/modules/.getdrive
 run >nil: dms write "{file}" to $drive notext nopause noverify >con:
endif
if {cmd} eq "info"
 setenv viewdiz/.minf "*"{file}*"" rwxd 9 _UnDMS (#?.dms) DiskMasher
endif
;$VER: ViewDIZ-DMS.module 1.3 (1.9.98) Mikael Lund