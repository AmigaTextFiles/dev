.key FILE/A,CMD,DESC
.def desc="t:file_id.diz"
.bra {
.ket }
if {cmd} eq "READ"
 rx "open(n,'{FILE}');diz=readln(n);close(n);if upper(left(diz,6))='SHORT:' then do;open(n,'{DESC}','w');writeln(n,strip(delstr(diz,1,6)));close(n);end"
endif
If {cmd} eq "WRITE"
 resident C:List force
 set main `List "{file}" lformat "%f%m"`
 set dest `List "$Main(#?.lha|#?.jpg|#?.dms)" lformat "%f%n"`
 if exists "$dest"
  filenote >nil: "$dest" "`type "{DESC}"`" quiet
 endif
 unset dest
 unset main
 resident List remove
Endif
if {cmd} eq "INFO"
 setenv viewdiz/.minf "*"{file}*"" rw 0 "" (#?.readme) "Aminet Readme"
endif
;$VER: ViewDIZ-Readme.module 1.1 (1.9.98) Mikael Lund
