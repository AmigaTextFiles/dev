; Make the SlowBoot distribution
; (to get out from the commands, remove all "QUIET", ">NIL:" and "q" flags)

failat 21

; cleanup
delete >NIL: T:#?SlowBoot#? T:#?sb#? T:#?.DIZ ALL QUIET

; Make temp dirs in T:
makedir T:SlowBoot
makedir T:SlowBootSrc

; copy files
Copy SlowBoot #?.guide#? SlowBoot.readme #?bootdisk#? TO T:SlowBoot QUIET
makedir >NIL: T:SlowBoot/data
Copy Data/#? TO T:SlowBoot/data QUIET
Copy #?.(c|h|i|rev) makedist smakefile scoptions #?Src.readme TO T:SlowBootSrc QUIET
Copy /SlowBoot.info #?.readme #?.DIZ TO T: QUIET
Copy /SlowBoot.info TO T:SlowBootSrc.info

Umentiler T:SlowBoot/SlowBoot.guide QUIET
Umentiler T:SlowBoot/Make_BootDisk QUIET
Umentiler T:SlowBoot/SlowBoot.readme QUIET
Umentiler T:SlowBoot.readme QUIET
Umentiler T:FILE_ID.DIZ QUIET
Umentiler T:SlowBootSrc/SlowBootSrc.readme QUIET
Umentiler T:SlowBootSrc.readme QUIET
Umentiler T:srcFILE_ID.DIZ QUIET

; aminet archives
lha -arxZq a T:SlowBoot.lha T:SlowBoot/#? T:SlowBoot.info S:Contact T:FILE_ID.DIZ
pcd T:
lha2lzx SlowBoot.lha SlowBoot.lzx
pcd
delete T:FILE_ID.DIZ QUIET
Rename T:srcFILE_ID.DIZ T:FILE_ID.DIZ QUIET
lha -arxZq a T:SlowBootSrc.lha T:SlowBootSrc/#? T:SlowBootSrc.info T:FILE_ID.DIZ
pcd T:
lha2lzx SlowBootSrc.lha SlowBootSrc.lzx
pcd

; cleanup
delete T:SlowBoot T:SlowBoot.info T:SlowBootSrc T:SlowBootSrc.info T:#?.diz ALL QUIET

