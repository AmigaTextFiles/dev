;$VER: Wangi_install 1.0
;$AUTHOR: Lee Kindness

(set prefdest
	(askdir
		(prompt 'Where will WangiPad preferences be copied to?')
		(help 'This is where you want the WangiPad preference program to be located. It should normally be in your prefs directory\n\n'@askdir-help)
		(default 'SYS:Prefs')
	)
)

(copylib
	(prompt 'Copying WangiPad preference program');
	(help @copyfiles-help)
	(source 'WangiPrefs')
	(dest prefdest)
	(infos)
	(noposition)
	(confirm)
)


(set name
	(askdir
		(prompt 'Where will WangiPad be copied to?')
		(help 'This is where you want the WangiPad program to be located. It should normally be in your WBStartup directory\n\n'@askdir-help)
		(default 'SYS:WBStartup')
	)
)

(set @default-dest name)

(copylib
	(prompt 'Copying WangiPad');
	(help @copyfiles-help)
	(source 'WangiPad')
	(dest name)
	(infos)
	(noposition)
	(confirm)
)

(copylib
	(prompt 'Copying WBStart-Handler (©Stefan Becker)');
	(help @copyfiles-help)
	(source 'WBStart-Handler')
	(dest 'L:')
	(confirm)
)



(If	(= (Exists "Wangi.Prefs" (noreq)) 0) 
	(
		(set name2
			(askdir
				(prompt 'Where will the sample preferences be copied to?')
				(help @askdir-help)
				(default 'S:')
			)
		)

		(copyfiles
			(help @copyfiles-help)
			(source 'Wangi.Prefs')
			(dest name2)
		)
	)
	(Set name2 "S:")
)

(Tooltype
	(dest (Tackon @default-dest "WangiPad"))
	(settooltype "DONOTWAIT" "")
	(settooltype "FROM" (Tackon name2 "Wangi.Prefs"))
	(settooltype "PREF" (Tackon prefdest "WangiPrefs"))
)


(transcript '\nWangiPad installed to '@default-dest'\n')

(exit 'I hope you find WangiPad useful.\n    LSK _\\\\//')

	




