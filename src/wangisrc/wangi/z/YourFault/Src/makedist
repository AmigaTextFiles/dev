; Make the YourFault distribution
; (to get out from the commands, remove all "QUIET", ">NIL:" and "q" flags)

failat 21

; cleanup
delete >NIL: #?.o /#?.lnk QUIET
delete T:#?You#?Fault#? ALL QUIET

; cd to main distribution dir
cd /

; Make temp dir in T:
makedir T:YourFault

; copy files
copy BBS TO T:YourFault.txt QUIET DATES
copy BBS.info TO T:YourFault.txt.info QUIET DATES
copy /YourFault.info YourFault.readme TO T: QUIET DATES
copy deferrors.readme TO T:YourFaultStr.readme QUIET DATES
copy src/Source.readme TO T:YourFaultSrc.readme QUIET DATES
copy #?YourFault#? #?Strings#? #?.ANIM GetDefErrors deferrors.english #?.TXT TO T:YourFault QUIET DATES

; Change the version and date in files
Assign dfew: ""
cd T:YourFault
Umentiler Install_YourFault QUIET
Umentiler YourFault.Guide QUIET
Umentiler YourFault.readme QUIET
Umentiler /YourFault.readme QUIET
Umentiler /YourFault.txt QUIET
Umentiler /YourFaultSrc.readme QUIET
cd dfew:
Assign dfew: REMOVE

; aminet archives
lha -arxZq a T:YourFaultSrc.lha Src
lha -arxZq a T:YourFault.lha T:YourFault T:YourFault.info
lha -arxZq a T:YourFaultStr.lha deferrors.#? DefErrors.readme#?

; BBS archives (no compression then all into 1 archive)
lha -arxzq a T:BBSYourFaultSrc.lha Src
lha -arxzq a T:BBSYourFault.lha T:YourFault T:YourFault.info
lha -arxzq a T:BBSYourFaultStr.lha deferrors.#? DefErrors.readme#?
lha -arxZq a T:YOUFAULT.LHA T:BBSYourFault#?.lha T:YourFault.txt#?
pcd T:
lha2lzx YOUFAULT.LHA YOUFAULT.LZX
pcd

; cleanup
delete T:YourFault.txt#? T:YourFault T:YourFault.info T:BBS#?.lha ALL QUIET

; cd back to src
cd src
