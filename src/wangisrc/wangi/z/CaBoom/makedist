; Make the CaBoom distribution
; (to get out from the commands, remove all "QUIET", ">NIL:" and "q" flags)
;
failat 21
;
; cleanup
delete >NIL: #?.o #?.lnk QUIET
delete >NIL: T:CaBoom#? ALL QUIET
;
;
; Make temp dir in T:
makedir T:CaBoom
;
; copy files
Copy #? ALL TO T:CaBoom QUIET
Copy /CaBoom.info CaBoom.readme TO T: QUIET
Copy src.readme TO T:CaBoomSrc.readme QUIET
;
; Change the version and date in files
Version CaBoom >ENV:CBVER
Assign edfew: ""
cd ENV:
splat -o "CaBoom " "" "CBVER"
cd T:CaBoom
splat -o "<<VERSION>>" "$CBVER" "CaBoom.Guide CaBoom.readme /CaBoom.readme /CaBoomSrc.readme"
cd edfew:
Assign edfew: REMOVE
;
; aminet archives
lha -arxZq a T:CaBoom.lha t:CaBoom/CaBoom~(#?.c) T:CaBoom/Wangi.txt t:CaBoom.info S:Contact
lha -arxZq a T:CaBoomSrc.lha t:CaBoom/(#?.c|#?.h|makedist|smakefile|SCOPTIONS) T:CaBoom.info S:Contact
;
;lzx >NIL: -a -x -Y a T:CaBoom.LZX T:CaBoom/#? T:CaBoom.info
;
; cleanup
delete T:CaBoom T:CaBoom.info ALL QUIET
;
