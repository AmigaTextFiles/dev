#
# SAS/C Makefile for chunker
#
#

LINKER = SC LINK
LINKOPS = NOCHECKABORT

all: /dechunk /chunker /dechunk13 /chunker13

chunker.o: chunker.c chunker.h machine.h

dechunk.o: dechunk.c dechunk.h machine.h

bfn.o: bfn.c bfn.h machine.h

machine.o: machine.c machine.h


chunker13.o: chunker.c chunker.h machine.h
	SC chunker.c objectname chunker13.o define AMIGA_1_3=1 NOLINK

dechunk13.o: dechunk.c dechunk.h machine.h
	SC dechunk.c objectname dechunk13.o define AMIGA_1_3=1 NOLINK

bfn13.o: bfn.c bfn.h machine.h
	SC bfn.c objectname bfn13.o define AMIGA_1_3=1 NOLINK

machine13.o: machine.c machine.h
	SC machine.c objectname machine13.o define AMIGA_1_3=1 NOLINK

/chunker: chunker.o bfn.o machine.o
	$(LINKER) $(LINKOPS) chunker.o bfn.o machine.o TO $@
	protect /chunker p add

/dechunk: dechunk.o bfn.o machine.o
	$(LINKER) $(LINKOPS) dechunk.o bfn.o machine.o TO $@
	protect /dechunk p add

/chunker13: chunker13.o bfn13.o machine13.o
	$(LINKER) $(LINKOPS) chunker13.o bfn13.o machine13.o TO $@

/dechunk13: dechunk13.o bfn13.o machine13.o
	$(LINKER) $(LINKOPS) dechunk13.o bfn13.o machine13.o TO $@

clean:
	-delete \#?.o /\#?.lnk
