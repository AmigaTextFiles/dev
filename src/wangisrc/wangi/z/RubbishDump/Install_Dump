;$VER: RubbishDump_install 1.0
;$AUTHOR: Lee Kindness


(copylib
	(prompt 'Copying Rubbish Dump to WBStartup');
	(help @copyfiles-help)
	(source 'RubbishDump')
	(dest 'SYS:WBStartup')
	(infos)
	(noposition)
	(confirm)
)

(copylib
	(prompt 'Copying Upd to C:');
	(help @copyfiles-help)
	(source 'Upd/Upd')
	(dest 'C:')
	(confirm)
)

(makedir 'SYS:Prefs/Sounds'
	(infos)
)

(makedir 'Devs:Icons'
	(infos)
)

(copyfiles
	(source 'Icons')
	(dest (askdir
		(prompt 'Select a drawer for the icons')
		(help @askdir-help)
		(default 'Devs:Icons')
	))
	(pattern '#?.info')
	(help @copyfiles-help)
	(prompt 'Copying icons to Devs:Icons/')
	(confirm)
)

(copyfiles
	(source 'Sounds')
	(dest 'SYS:Prefs/Sounds')
	(pattern '#?.8SVX')
	(help @copyfiles-help)
	(prompt 'Copying sound samples to SYS:Prefs/Sounds/')
	(confirm)
)

(if (= (exists 'S:Upd.ids') 0)
	(Copyfiles
		(source 'Upd/Upd.ids')
		(dest 'S:')
	)
)

(run 'Echo >RAM:Cookie "LSK"')

(if (= (exists 'S:RDumpCookie') 0)
	(
		(Copyfiles
			(source 'RAM:cookie')
			(dest 'S:')
			(newname 'RDumpCookie')
		)
		(run 'Type Trash.ids >>S:Upd.ids')
	)
)


(startup 'RubbishDump'
	(prompt 'Adding lines to user-startup')
	(help @startup-help)
	(command ';Remove following if you launch Upd or RexxMast elsewhere\n'
	         'SYS:System/RexxMast >NIL:\n'
	         'Run >NIL: <NIL: C:Upd')
)

(set @default-dest '')

(transcript '\nRubbish Dump installed\n')

(exit 'A reboot is required before RubbishDump can be used.\n I hope you find Rubbish Dump useful.\n    LSK _\\\\//')

	




