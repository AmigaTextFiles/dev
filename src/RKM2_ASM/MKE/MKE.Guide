@database "MKE"
@wordwrap
@master ":MKE.guide"
@$VER: MKE.guide 1.01 (29.12.2000)
@author "John White"
@(c) "John White, 2000"
@Remark AmigaGuide database for MKE.
@Index MKEIndex

@node main "MKE V1.01 Guide"

 @{" Introduction " Link "Introduction"}

 @{" The G.U.I " Link "GUI"}

 @{" Common CLASS Values " Link "Class"}

 @{" Common QUALIFIER Values " Link "Qualifier"}

 @{" Common CODE Values " Link "Code"}

 @{" Getting Started " Link "Starting"}

 @{" WB ToolTypes " Link "ToolTypes"}    @{" CLI Arguments " Link "Arguments"}

 @{" Very Important Information " Link "Notes"}

 @{" Contacting The Author " Link "Help"}

 @{" Update Information " Link "Update"}
@endnode

@node Introduction "Introduction"
@{fg text}
 Missing Key Emulator (MKE) is a (Shareware £2.50) program that allows you
 to send KEY messages to other programs, via the Amiga Message Port system,
 allowing you to emulator the press of a (broken) keyboard key for example.
 MKE is aimed at the beginner aswell as the programmer. So if you have any
 broken key/s on your A1200 then read on.

 MKE's G.U.I/Menu has been created with the basic emulations in mind. Such
 as: the F Keys, Esc, Del, Help and the Cursor Keys. But it also allows you
 to create your own emulations. So, for example, if a program is using the
 ESC key as the quit/exit option but your Mouse and ESC key are not working
 you could send that program either an IDCMP_CLOSEWINDOW message or an ESC
 key emulation to close that program's Window. Even if your mouse is working
 there are cases where the mouse is of no help. For example. Some programs
 do not provide cursor-up and cursor-down gadgets. They expect you to use
 the keyboard cursor-up and cursor-down keys instead. This is okay if these
 keys are working!!

 MKE has been tested on QED (Text Editor), CED (Text Editor), Amiga E
 programs, Devpac (assembly) compiled programs and various Public Domain
 utilities.

 With regards to the MKE `MISSINGKEYS' port it has been tested thoroughly.
 I tested it whilst Arexx's port was running with QED. I purposely fed
 programs with illegal messages and in all cases MKE did not crash or lock
 up. The programs you use might crash or lock up though if you feed them
 a wrong message. You will know if MKE has crashed or locked up because if
 you run another MKE its `MISSINGKEYS' port and window will not open, as
 the crashed/locked up `MISSINGKEYS' port will steel the MISSINGKEYS port
 name (you can only have one `MISSINGKEYS' port name). Do not send messages
 to the MISSINGKEYS port.

 This program was written because the original keyboard of my second-hand
 A1200 had a damaged Membrane, which meant some keys did not work. I managed
 to get a replacement Keyboard for £25 (most shops do not want to sell the
 Membrane on its own). I was told that one reason for damage to a Membrane
 is because of the way a 3.5 Harddrive is fitted into an A1200. I.e. The
 Membrane has to be stretched/placed over the Harddrive more than a 2.5
 Harddrive. Although in my case, I think the previous owner must of had a
 difficult time of it as the end of the membrane was too damaged. Anyway. I
 thought perhaps there are more Amigas out there with missing keys? - Hence
 MKE.
@{fg shine}
 Warning@{fg text}

 Because I cannot trap every Error, I will not take any responsibility for
 the Loss or Damage of any Data, etc caused by any of the programs/files on
 this MKE disk.

 I will not take any responsibility for any Damage of Hardware or Software,
 etc caused by any of the programs/files on this MKE disk.
@endnode

@node Starting "Getting Started"

@{fg shine} From CLI@{fg text}

 Put MKE anywhere you please. In your C drawer, Tools drawer or where ever.
 Start a CLI Process (I.e. use CLI, Shell or Workbench's `Execute' menu)
 and type the pathname for MKE (I.e. DF1:Tools/MKE, MKE, etc) and then
 press ENTER. This will run MKE. Alternatively. Type the pathname for MKE
 followed by one or more CLI Arguments and then press ENTER.

 @{" CLI Arguments " Link "Arguments"}

@{fg shine} From Workbench@{fg text}

 Make sure there is a TOOL Icon on MKE and then double-click on MKE. This
 will run MKE, which will then read the TOOL Icon for MKE ToolTypes. If it
 finds any it will set the appropriate values inside MKE.

 @{" ToolTypes    " Link "ToolTypes"}

 Once MKE is up and running select the Window Options->Get Window menu and
 then click on the window you want to use with MKE. You should see the title
 of your chosen window appear on the title-bar of the MKE window (if your
 chosen window has a title). If your chosen window does not have a title
 simply count off your G.W Pause rate. Once you are satisfied that your
 chosen window has registered with MKE click on the MKE window. From now on
 you will control your missing keys, for your chosen window, by staying on
 the MKE window. You can still operate your chosen window program as normal
 (by clicking on it first), but obviously when you need to emulate a missing
 key you will need to click on and use the MKE window.
@endnode

@node Arguments "CLI Arguments"

@{fg fill} Below is a list of MKE CLI Keywords with their Arguments. MKE will not
 interpret an argument if its keyword is missing. I.e. You cannot just type
 the argument ON: without typing the keyword LSHIFT for example as other
 keywords might use an ON: argument. Thus, MKE would have an hard time
 differentiating everything.

 Keywords and Arguments must be in UPPERCASE as MKE does not convert any
 lowercase text into uppercase text. This is because I did not want to bog
 MKE down with translate-to-uppercase code.@{fg text}

 The Keywords and Arguments are for the G.U.I configuration.

     KEYCLASS RAWKEY

              VANILLA

              MOUSE

              MENU


 KEYQUALCYCLE PREFIX

              PF+RPT

              PF+NP

              PF+RPT+NP

              +QUAL

              QUALIFIER


 KEYCODECYCLE LEFT

              MIDDLE

              RIGHT

              L+R

              L+M

              M+R

              L+M+R

              CODE


       LAMIGA OFF

              ON


       RAMIGA OFF

              ON


       LSHIFT OFF

              ON


       RSHIFT OFF

              ON


         LALT OFF

              ON


         RALT OFF

              ON


      CONTROL OFF

              ON


       LMOUSE UP

              DOWN


       MMOUSE UP

              DOWN


       RMOUSE UP

              DOWN
@endnode

@node ToolTypes "WorkBench ToolTypes"

@{fg fill} Below is a list of MKE WB ToolTypes with their Arguments. MKE will not
 interpret an argument if its tooltype is missing. I.e. You cannot just use
 the argument ON: without using the tooltype LSHIFT for example as other
 tooltypes might use an ON: argument. Thus, MKE would have an hard time
 differentiating everything.

 Tooltypes and Arguments must be in UPPERCASE as MKE does not convert any
 lowercase text into uppercase text. This is because I did not want to bog
 MKE down with translate-to-uppercase code.@{fg text}

 The Tooltypes and Arguments are for the G.U.I configuration.

     KEYCLASS=RAWKEY

             =VANILLA

             =MOUSE

             =MENU


 KEYQUALCYCLE=PREFIX

             =PF+RPT

             =PF+NP

             =PF+RPT+NP

             =+QUAL

             =QUALIFIER


 KEYCODECYCLE=LEFT

             =MIDDLE

             =RIGHT

             =L+R

             =L+M

             =M+R

             =L+M+R

             =CODE


       LAMIGA=OFF

             =ON


       RAMIGA=OFF

             =ON


       LSHIFT=OFF

             =ON


       RSHIFT=OFF

             =ON


         LALT=OFF

             =ON


         RALT=OFF

             =ON


      CONTROL=OFF

             =ON


       LMOUSE=UP

             =DOWN


       MMOUSE=UP

             =DOWN


       RMOUSE=UP

             =DOWN
@endnode

@node GUI "The G.U.I"

 Below I will put the Technical explaination in blue (colour 3) and the
 Non-Technical explaination in black (colour 1). If you are a User only
 (not a Programmer for example) please read the technical information
 anyway, to get a better understanding of MKE.

                                  Key CLASS
                                 -----------

 CLASS is the class (type) of message to send. Below are the four common
 classes, which relate to Keys (Keyboard Keys, Mouse Keys and Menu Keys).
 Hence the title Key CLASS.
@{fg shine}
  RAWKEY  @{fg fill} This puts IDCMP_RAWKEY into the im_Class field of the message.@{fg text}
           Basically. This means you want to emulate a Brown coloured key
           like F2, Esc, Ctrl, etc.@{fg shine}

 VANILLA  @{fg fill} This puts IDCMP_VANILLAKEY into the im_Class field of the
           message.@{fg text}
           Basically. This means you want to emulate a VANILLA coloured key
           like A, B, 1, 2, etc.@{fg shine}

   MOUSE  @{fg fill} This puts IDCMP_MOUSEBUTTONS into the im_Class field of the
           message.@{fg text}
           Basically. This means you want to emulate one, or more, of the
           Mouse Buttons.@{fg shine}

    MENU  @{fg fill} This puts IDCMP_MENUPICK into the im_Class field of the
           message.@{fg text}
           Basically. This means you want to emulate selecting the Menu.

 If you want to use different classes (not necessarily Key classes) you will
 have to use the CLASS String. If the CLASS String is 0 one of the above
 classes will be used. But, if the CLASS String is not 0 the above classes
 are ignored and only the CLASS String value will be used. The CLASS String
 value has a range of -2147483647 to 2147483647.

 @{" Common CLASS Values " Link "Class"}

                            Key (Rawkey) QUALIFIER
                           ------------------------

 QUALIFIER usually relates to those (brown) keys that modify a key emulation
 such as Left-Amiga, Left-Shift, Ctrl, etc. I say usually because key
 qualifiers are not the only qualifiers available. Below are the common
 qualifiers.
@{fg shine}
  L.Amiga  @{fg fill} This puts IEQUALIFIER_LCOMMAND into the im_Qualifier field of
            the message.@{fg text}
            Basically. This means you want to emulate the Left-Amiga key.
@{fg shine}
  R.Amiga  @{fg fill} This puts IEQUALIFIER_RCOMMAND into the im_Qualifier field of
            the message.@{fg text}
            Basically. This means you want to emulate the Right-Amiga key.
@{fg shine}
  L.Shift  @{fg fill} This puts IEQUALIFIER_LSHIFT into the im_Qualifier field of
            the message.@{fg text}
            Basically. This means you want to emulate the Left-Shift key.
@{fg shine}
  R.Shift  @{fg fill} This puts IEQUALIFIER_RSHIFT into the im_Qualifier field of
            the message.@{fg text}
            Basically. This means you want to emulate the Right-Shift key.
@{fg shine}
    L.Alt  @{fg fill} This puts IEQUALIFIER_LALT into the im_Qualifier field of
            the message.@{fg text}
            Basically. This means you want to emulate the Left-Alt key.
@{fg shine}
    R.Alt  @{fg fill} This puts IEQUALIFIER_RALT into the im_Qualifier field of
            the message.@{fg text}
            Basically. This means you want to emulate the Right-Alt key.
@{fg shine}
     Ctrl  @{fg fill} This puts IEQUALIFIER_CONTROL into the im_Qualifier field of
            the message.@{fg text}
            Basically. This means you want to emulate the Ctrl key.
@{fg shine}
   Prefix  @{fg fill} This puts IECODE_UP_PREFIX into the im_Qualifier field of the
            message.@{fg text}
            Without this prefix you cannot do that much!
@{fg shine}
   PF+Rpt  @{fg fill} This puts IECODE_UP_PREFIX and IEQUALIFIER_REPEAT into the
            im_Qualifier field of the message.@{fg text}
            The IEQUALIFIER_REPEAT means you want to emulate holding down
            (repeating) a key for more than one second. If you do not use
            IEQUALIFIER_REPEAT the IEQUALIFIER_PREFIX on its own will
            emulate pressing a key down once, for about one second only.
@{fg shine}
    PF+NP  @{fg fill} This puts IECODE_UP_PREFIX and IEQUALIFIER_NUMERICPAD into the
            im_Qualifier field of the message.@{fg text}
            The IEQUALIFIER_NUMERICPAD means you want to emulate a Numeric
            KeyPad key.
@{fg shine}
PF+Rpt+NP  @{fg fill} This puts IECODE_UP_PREFIX, IEQUALIFIER_REPEAT and
            IEQUALIFIER_NUMERICPAD into the im_Qualifier field of the
            message.@{fg text}
@{fg shine}
   + QUAL  @{fg text} This means you want to combine any of the above Qualifiers with
            the QUALIFIER String value.
@{fg shine}
QUALIFIER  @{fg text} This means you want to use the QUALIFIER String value only.

 To use/combine other qualifier values you use the QUALIFIER String.
 The QUALIFIER String value has a range of -32767 to 65535.

 @{" Common QUALIFIER Values " Link "Qualifier"}

                                    Key (Mouse) CODE
                                   ------------------
@{fg shine}
   L.Down  @{fg fill} This puts SELECTDOWN (which is IECODE_LBUTTON) into the
            im_Qualifier field of the message.@{fg text}
            Basically. This means you want to emulate clicking the
            Left Mouse Button.
@{fg shine}
     L.Up  @{fg fill} This puts SELECTUP (which is IECODE_LBUTTON+IECODE_UP_PREFIX)
            into the im_Qualifier field of the message.@{fg text}
            Basically. This means you want to emulate releasing the
            Left Mouse Button.
@{fg shine}
   M.Down  @{fg fill} This puts MIDDLEDOWN (which is IECODE_MBUTTON) into the
            im_Qualifier field of the message.@{fg text}
            Basically. This means you want to emulate clicking the
            Middle Mouse Button.
@{fg shine}
     M.Up  @{fg fill} This puts MIDDLEUP (which is IECODE_MBUTTON+IECODE_UP_PREFIX)
            into the im_Qualifier field of the message.@{fg text}
            Basically. This means you want to emulate releasing the
            Middle Mouse Button.
@{fg shine}
   R.Down  @{fg fill} This puts MENUDOWN (which is IECODE_RBUTTON) into the
            im_Qualifier field of the message.@{fg text}
            Basically. This means you want to emulate clicking the
            Right Mouse Button.
@{fg shine}
     R.Up  @{fg fill} This puts MENUUP (which is IECODE_RBUTTON+IECODE_UP_PREFIX)
            into the im_Qualifier field of the message.@{fg text}
            Basically. This means you want to emulate releasing the
            Right Mouse Button.

 The above mouse key codes were programmed to make life easier. If you want
 to use different message codes (not necessarily Mouse Key codes) you will
 have to use the CODE String. If the CODE String is not 0 the above mouse
 key codes are ignored and only the CODE String value will be used.
 The CODE String value has a range of -32767 to 65535.

 @{" Common CODE Values " Link "Code"}

                                    Menus
                                   -------
@{fg shine}
      RAW KEYS  @{fg text} This menu emulates the common brown (raw) keys. There is no
                 need to use the Send Message menu item, in Misc Options, as
                 these raw key emulations automatically send the message.
@{fg shine}
   CURSOR KEYS  @{fg text} This menu emulates the cursor keys. There is no need to use
                 the Send Message menu item, in Misc Options, as these
                 cursor key emulations automatically send the message.
@{fg shine}
WINDOW OPTIONS   Send Message@{fg text} This sends a message (emulation) to the window
                 you clicked on. see `Get Window' below.
@{fg shine}
                 Grab A Window (G.A.W)@{fg text} This tries to find a window's port.
                 G.A.W first pauses MKE, for the number of seconds specified
                 in G.A.W Pause (below). This pause should give you enough
                 time to click on a window you want a message (emulation)
                 sent to. MKE then tries to find that window's Port. If MKE
                 is successful that window's port can then be sent messages
                 (emulations). But if MKE is unsuccessful then messages can
                 not be sent.

                 * Once you have a success you don't need to keep grabbing
                   that window. Only grab a window if you need to use a new
                   window or if you have just loaded MKE.
@{fg shine}
                 G.A.W Pause@{fg text} The G.A.W String allows you to enter a pause
                 rate between 100 and 900. If you enter an invalid number
                 the G.A.W String will default to 200.
@{fg shine}
                 Signal A Task@{fg text} This allows you to send a signal to a task
                 (program). This is good for closing tasks like Blanker and
                 for sending tasks the Ctrl-C siganl (bit 12). The Signal
                 Bits string allows you to enter an Hex number to represent
                 one or more bits. For example. To set bit 12 you would put
                 the value 00001000 (4096). You woulld NOT put the value
                 000000C0 (12). Task_Name is the name of the task (program)
                 that you wish to signal. Send will try and send the signal.
@{fg shine}
                 Edit Window@{fg text} See `Edit Window' below.
@{fg shine}
 MOUSE OPTIONS   Mouse In JoyPort@{fg text} This allows you to toggle select wether to
                 have the Mouse use the Mouse Port or the Joystick Port.
                 A Tick means the mouse will use the Joystick Port. This is
                 good if your mouse port is broken.
@{fg shine}
                 Set KEY-Press Time@{fg text} This allows you to set the time it
                 actually takes for a key press to register. The Seconds are
                 measured in 50th's of a second. So 1 is roughly One Second.
                 The Micro Seconds are measured in units of 500000, which
                 equals ½ second. So 12000 is 0.12 of a second.
@{fg shine}
                 Set KEY-Repeat Time@{fg text} This allows you to set the time that
                 occurs before a key press is allowed to repeat. The Seconds
                 are measured in 50th's of a second. So 1 is roughly One
                 Second. The Micro Seconds are measured in units of 500000,
                 which equals ½ second. So 12000 is 0.12 of a second.


                                 Edit Window
                                -------------
@{fg shine}
          SIZE@{fg text}   Alters the size of a window, using the W/Max W and H/Max H
                 gadget values.
@{fg shine}
          MOVE@{fg text}   Moves a window, using the X/Min X and Y/Min Y gadget values
@{fg shine}
         CLOSE@{fg text}   Attempts to close a window.

                 If a window does not have a Close Window gadget be careful
                 when using the CLOSE gadget. If you click on CLOSE with the
                 left mouse button an IDCMP_CLOSEWINDOW message is sent to
                 your window. If you click on CLOSE with the right mouse
                 button intuition's CloseWindow() function is sent to your
                 window. CloseWindow() is good if your window does not have
                 a Close Window gadget on it, but be warned, CloseWindow()
                 may lock up or crash other windows connected to your
                 window. With QED for example. If you have only one QED
                 window open it will close with no problems. But if you have
                 more than one QED window open and decide to close one of
                 the windows the other windows will get locked and thus stop
                 QED from operating. In this case you would have to load
                 another QED. Your best bet would be to emulate pressing
                 Right-Amiga Q.

 The X/Min X, Y/Min Y, W/Max W and H/Max H number gadgets have a range of
 -800 to 800. With MOVE positive values move your window right and down.
 With SIZE negative values shrink your window and positive values enlarge
 your window. The number you enter is adding/subtracting from your window's
 size/position. For example. If your window is 320 x 100  a W/Max W of 10
 will add 10 to your window's width (now 330 x 100). Another click on SIZE
 will make your window's width 340 x 100.

@{fg shine}
    SET LIMITS@{fg text}   Sets new limits (sizes) for your window, using the X/Min X,
                 Y/Min Y, W/Max W and H/Max H gadget values. If a window has
                 set up its WA_MinWidth, etc (which you would not know) you
                 can re-set its WA_MinWidth, etc values. Normally a window
                 that can be sized will have its WA_MinWidth, etc set up.
                 Other windows do not usually bother setting up their
                 WA_MinWidth, etc. Programmers should set these up, even if
                 their window does not have/need a sizing gadget, to stop
                 programs like MKE from manipulating their windows. If I
                 update MKE I might insert some kind of Window Information
                 window.
@{fg shine}
    SET IDCMP@{fg text}   Allows you to modify a window's IDCMP. The IDCMP
                (I.D Compare) is what a window monitors. For example. If a
                window has IDCMP_GADGETDOWN and IDCMP_CLOSEWINDOW it means
                that window is waiting for you to click on a gadget or to
                close the window via its close window gadget.

                The IDCMP String value has a range of -2147483647 to
                2147483647.
@endnode

@node Class "Common CLASS Values"

 Below are the common Classes that most windows will/might use. These are
 classes that you send to a window, as opposed to classes that Intuition/WB
 might send to a window. There are other classes but most of them are for
 Programmers. If you are entering more than one class value into MKE then
 simply add the values together and enter the total into MKE.

     IDCMP          Value                 Description

  MOUSEBUTTONS	      8          A Mouse Button has been pressed.
  GADGETDOWN	      32         A Gadget has been pressed.
  GADGETUP	      64         A Gadget has been released.
  MENUPICK	      256        A Menu has been selected.
  CLOSEWINDOW	      512        The window's Close Gadget has been clicked.
  RAWKEY	      1024       A Raw (Brown) Key has been pressed.
  NEWPREFS	      16384      The Preferences have been changed.
  DISKINSERTED	      32768      A Disk has been inserted.
  DISKREMOVED	      65535      A Disk has been removed.
  ACTIVEWINDOW	      262144     The window has been activated (clicked on).
  INACTIVEWINDOW      524288     The window has been deactivated.
  VANILLAKEY	      2097152    A Vanilla key has been pressed.
@endnode

@node Qualifier "Common QUALIFIER Values"

 Below are the common Qualifiers that most windows will/might use. These are
 qualifiers that you send to a window, as opposed to qualifiers that
 Intuition/WB might send to a window. There are other qualifiers but most of
 them are for Programmers. If you are entering more than one qualifier value
 into MKE then simply add the values together and enter the total into MKE.

    IEQUALIFIER       Value                  Description

       LSHIFT		1            Left-Shift has been pressed.
       RSHIFT		2            Right-Shift has been pressed.
       CAPSLOCK		4            CapsLock has been pressed.
       CONTROL		8            Ctrl has been pressed.
       LALT		16           Left-Alt has been pressed.
       RALT		32           Right-Alt has been pressed.
       LCOMMAND		64           Left-Amiga has been pressed.
       RCOMMAND		128          Right-Amiga has been pressed.
       NUMERICPAD	256          A Numeric KeyPad key has been pressed.
       REPEAT		512          You have repeatedly pressed a key.

 IECODE_UP_PREFIX       32768        The prefix for Qualifiers. Use this in
                                     the Qualifier part of the message.
@endnode

@node Code "Common CODE Values"

 Below are the common Codes that most windows will/might use. These are
 codes that you send to a window, as opposed to codes that Intuition/WB
 might send to a window. There are other codes but most of them are for
 Programmers. If you are entering more than one code value into MKE then
 simply add the values together and enter the total into MKE.

    IECODE          Value                  Description

  _UP_PREFIX        32768       The prefix for Qualifiers. Use this in the
                                Qualifier part of the message.

  _ASCII_DEL         127        The delete key.

  _LBUTTON           104        Left Mouse Button. Also needs _UP_PREFIX.

  _MBUTTON           106        Middle Mouse Button. Also needs _UP_PREFIX.

  _RBUTTON           105        Right Mouse Button. Also needs _UP_PREFIX.

  _NOBUTTON          255        No Mouse Button pressed.
@endnode

@node Notes "Important Information"

 Below I will put the Technical explaination in blue (colour 3) and the
 Non-Technical explaination in black (colour 1). If you are a User only
 (not a Programmer for example) please read the technical information
 anyway, to get a better understanding of MKE.

@{fg text}
 * The CLASS, QUALIFIER and CODE Strings will default to 0 if you do not
   enter a valid number for that string.@{fg fill}

 * A window's Port has to be an Intuition Port that waits for Intuition
   messages and not an Arexx Port, Custom Port, etc. Most window ports are
   Intuition Ports anyway, so you should not need to worry too much about
   the type of window you click on. Arexx and Custom ports are different to
   Intuition Ports usually because they use their own data, etc and not the
   common Intuition Message data.@{fg text}

 * The Hex number in the Signal A Task window will default any non-hex
   characters to 0, with char 48 (`0') inserted into the string.

 * I have not been able to test MKE on an A600, because I no longer have an
   A600, so for now MKE is A1200 only.
@endnode

@node Help "Contacting The Author"

@{fg shine} If you have any Queries, Comments, etc please do not hesitate to contact
 me:@{fg text}

 John White
 91 Comber House
 Comber Grove
 Camberwell
 London
 SE5 0LL
 ENGLAND

 Telephone  -  International Code: 44
                      London Code: 020
                     Phone Number: 77018546
@endnode

@node Update "Update Information"
@{fg shine}
 * Do NOT use MKE V1.00 as it has bugs inside it, which have been removed
   in this 1.01 version of MKE.
@endnode
