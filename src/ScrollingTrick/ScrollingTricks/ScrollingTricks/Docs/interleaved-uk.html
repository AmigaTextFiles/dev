<html>
<head>
 <title>Normal Bitmaps - Interleaved Bitmaps</title>
</head>
<body bgcolor>

For a normal bitmap the memory layout is like this: first there's the complete plane 1,
then the complete plane 2, etc. The advantage is, that the single planes do not
necessarily need to stay in memory one after the other. The big disadvantage is
that blit operations need to be done plane by plane (except if blitsize height
equals bitmap height). For 16 colors you would for example require 4 blit
operations, because the blitter is designed for one plane only - it only has
line moduli. If you blit into a visible bitmap which has a rather big depth (number
of planes) and/or the blit area is relatively big you will also get very
'nice' flicker effects.<p>

Luckily thanks to the bitplane and Blitter line moduli you can have
bitmaps with a much better memory layout. Instead of having all the 0-bits
grouped together in one plane and al the 1-bits grouped together in another
plane, etc. we can interleave the planes line by line. In this case the bitmap
of course needs to be one big memory area. A 16 color bitmap in this interleaved
format will look like this in memory: first there's plane 1 line 1, then plane 2
line 1, then plane 3 line 1, then plane 4 line 1, then plane 1 line 2, then plane 2
line 2, etc. The big advantage of this bitmap layout is that from the Blitter's
point of view it can be seen as being one big plane: for example if you have
a small filled rectangle in the middle of the bitmap then all it's pixel data
stays vertically one after the other in memory (which would not be the case
for a normal bitmap). Therefore one blit operation is enough; the blit-size
height will be multiplied with the number of planes. The nice side effect:
much less or nearly no flickering when blitting into visible bitmaps. Anyway
there's also a small disadvantage that the interleaved bitmaps have. For a
mask blit (e.g. a BOB = Sprite 'simulated' with Blitter) you'll need a mask
with the same number of planes as the source/destination, if you want to
do everything in one blit operation only. But you can also blit plane by
plane into a interleaved bitmap. If you do so one plane for the mask will
be enough again.<p>

<center>
 <img src="images/interleaved.gif" width=534 height=372 border=2>
</center>

</body>
</html>
