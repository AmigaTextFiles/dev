<html>
<head>
 <title>Normale Bitmaps - Interleaved Bitmaps</title>
</head>
<body>

Eine normale Bitmap sieht im Speicher so aus, daß zuerst das komplette erste
Plane, dann das komplette zweite Plane usw. steht. Dies hat den Vorteil, daß
jedes Plane in einem anderen Speicherbereich sein kann, die Bitplanes also
nicht unbedingt aufeinanderfolgend im Speicher abgelegt sein müssen. Der
große Nachteil ist, daß Blit-Operationen für jedes Plane separat gestartet
werden müssen (außer wenn die Blit-Höhe gleich der Bitmap Höhe ist und die
Bitplanes schön hintereinander im Speicher liegen). Bei 16 Farben braucht
man also 4 Blit Operationen, weil der Blitter nur für ein Plane ausgelegt ist
- er hat nur Zeilen Moduli. Blittet man in eine sichtbare Bitmap, die eine
große Tiefe (Anzahl Planes) hat und/oder wenn der Blit-Bereich recht groß ist,
dann kommt es außerdem zu unschönen Flacker-Effekten.<p>

Dank der Bitplane Zeilen Moduli und der Blitter Zeilen Moduli kann man aber
eine Bitmap auch so anlegen, daß die einzelnen Planes nicht hintereinander
im Speicher stehen, sondern zeilenweise verschachtelt = interleaved. In diesem
Fall muß die Bitmap natürlich ein einzelner großer Speicherbereich sein. Die
Bitmap (Annahme: 4 Planes) sieht dann so aus, daß zuerst Plane 1 erste Zeile,
dann Plane 2 erste Zeile, dann Plane 3 erste Zeile, dann Plane 4 erste Zeile,
dann Plane 1 zweite Zeile, dann Plane 2 zweite Zeile, usw. im Speicher stehen.
Der große Vorteil dieses Bitmap Layouts besteht darin, daß es aus Sicht des
Blitters auch als ein einziges überlanges Plane angesehen werden kann: zum
Beispiel befinden sich alle Pixel-Daten eines in der Bitmap zentrierten,
kleineren gefüllten Rechtecks vertikal (zeilenweise) gesehen schön hintereinander
im Speicher. Deshalb kommt man mit einem Blit-Vorgang aus; die Blit-Höhe wird
mit der Tiefe (Anzahl Planes) multipliziert. Der angenehme Nebeneffekt, Flacker-
Effekt in sichtbaren Bitmaps treten kaum auf. Einen kleinen Nachteil hat aber
auch das interleaved Format. Bei einem Mask-Blit (z. B. ein BOB = mit Blitter
simuliertes Sprite) muß die Maske anstatt nur eines Planes, gleich viele Planes
wie Quelle/Ziel haben, sofern man mit einem Blit-Aufruf auskommen will. Es ist
aber ohne weiteres möglich in eine interleaved Bitmap auch planeweise zu blitten,
also wie bei einer normalen Bitmap. Dann genügt wieder ein Plane für die Maske
einer Mask-Blit-Operation.<p>
<center>
 <img src="images/interleaved.gif" width=534 height=372 border=2>
</center>

</body>
</html>
